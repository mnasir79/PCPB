!function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?$e(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.5/"+(e?e+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent($e(o[r]));return new t(s)}}function n(e){if(null==e||L(e))return!1;if(Gr(e)||w(e)||Rr&&e instanceof Rr)return!0;var t="length"in Object(e)&&e.length;return x(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,i){var o,a;if(e)if(C(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(i,e[o],o,e);else if(Gr(e)||n(e)){var s="object"!=typeof e;for(o=0,a=e.length;a>o;o++)(s||o in e)&&t.call(i,e[o],o,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else if(b(e))for(o in e)t.call(i,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e);else for(o in e)Mr.call(e,o)&&t.call(i,e[o],o,e);return e}function i(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function o(e){return function(t,n){e(n,t)}}function a(){return++qr}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;o>i;++i){var a=t[i];if(y(a)||C(a))for(var u=Object.keys(a),c=0,h=u.length;h>c;c++){var p=u[c],d=a[p];n&&y(d)?E(d)?e[p]=new Date(d.valueOf()):S(d)?e[p]=new RegExp(d):d.nodeName?e[p]=d.cloneNode(!0):R(d)?e[p]=d.clone():(y(e[p])||(e[p]=Gr(d)?[]:{}),l(e[p],[d],!0)):e[p]=d}}return s(e,r),e}function u(e){return l(e,Pr.call(arguments,1),!1)}function c(e){return l(e,Pr.call(arguments,1),!0)}function h(e){return parseInt(e,10)}function p(e,t){return u(Object.create(e),t)}function d(){}function f(e){return e}function g(e){return function(){return e}}function m(e){return C(e.toString)&&e.toString!==Br}function v(e){return"undefined"==typeof e}function $(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function b(e){return null!==e&&"object"==typeof e&&!Ur(e)}function w(e){return"string"==typeof e}function x(e){return"number"==typeof e}function E(e){return"[object Date]"===Br.call(e)}function C(e){return"function"==typeof e}function S(e){return"[object RegExp]"===Br.call(e)}function L(e){return e&&e.window===e}function A(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"[object File]"===Br.call(e)}function M(e){return"[object FormData]"===Br.call(e)}function k(e){return"[object Blob]"===Br.call(e)}function I(e){return"boolean"==typeof e}function N(e){return e&&C(e.then)}function D(e){return e&&x(e.length)&&zr.test(Br.call(e))}function O(e){return"[object ArrayBuffer]"===Br.call(e)}function R(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function j(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function F(e){return kr(e.nodeName||e[0]&&e[0].nodeName)}function P(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function _(e,t){function n(e,t){var n,r=t.$$hashKey;if(Gr(e))for(var o=0,a=e.length;a>o;o++)t.push(i(e[o]));else if(b(e))for(n in e)t[n]=i(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));else for(n in e)Mr.call(e,n)&&(t[n]=i(e[n]));return s(t,r),t}function i(e){if(!y(e))return e;var t=a.indexOf(e);if(-1!==t)return l[t];if(L(e)||A(e))throw Hr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=o(e);return void 0===i&&(i=Gr(e)?[]:Object.create(Ur(e)),r=!0),a.push(e),l.push(i),r?n(e,i):i}function o(e){switch(Br.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(i(e.buffer));case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}return C(e.cloneNode)?e.cloneNode(!0):void 0}var a=[],l=[];if(t){if(D(t)||O(t))throw Hr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Hr("cpi","Can't copy! Source and destination are identical.");return Gr(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),l.push(t),n(e,t)}return i(e)}function V(e,t){if(Gr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function B(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!Gr(e)){if(E(e))return E(t)?B(e.getTime(),t.getTime()):!1;if(S(e))return S(t)?e.toString()==t.toString():!1;if(A(e)||A(t)||L(e)||L(t)||Gr(t)||E(t)||S(t))return!1;i=ge();for(r in e)if("$"!==r.charAt(0)&&!C(e[r])){if(!B(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&$(t[r])&&!C(t[r]))return!1;return!0}if(!Gr(t))return!1;if((n=e.length)==t.length){for(r=0;n>r;r++)if(!B(e[r],t[r]))return!1;return!0}}return!1}function U(e,t,n){return e.concat(Pr.call(t,n))}function H(e,t){return Pr.call(e,t||0)}function W(e,t){var n=arguments.length>2?H(arguments,2):[];return!C(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,U(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:L(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":A(n)&&(r="$SCOPE"),r}function G(e,t){return v(e)?void 0:(x(t)||(t=t?2:null),JSON.stringify(e,q,t))}function z(e){return w(e)?JSON.parse(e):e}function K(e,t){e=e.replace(Qr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function X(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function J(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=K(t,r);return X(e,n*(i-r))}function Y(e){e=Rr(e).clone();try{e.empty()}catch(t){}var n=Rr("<div>").append(e).html();try{return e[0].nodeType===ii?kr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+kr(t)})}catch(t){return kr(n)}}function Q(e){try{return decodeURIComponent(e)}catch(t){}}function Z(e){var t={};return r((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=Q(r),$(r)&&(i=$(i)?Q(i):!0,Mr.call(t,r)?Gr(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function ee(e){var t=[];return r(e,function(e,n){Gr(e)?r(e,function(e){t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}):t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}),t.length?t.join("&"):""}function te(e){return ne(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ne(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function re(e,t){var n,r,i=Zr.length;for(r=0;i>r;++r)if(n=Zr[r]+t,w(n=e.getAttribute(n)))return n;return null}function ie(e,t){var n,i,o={};r(Zr,function(t){var r=t+"app";!n&&e.hasAttribute&&e.hasAttribute(r)&&(n=e,i=e.getAttribute(r))}),r(Zr,function(t){var r,o=t+"app";!n&&(r=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(o.strictDi=null!==re(n,"strict-di"),t(n,i?[i]:[],o))}function oe(t,n,i){y(i)||(i={});var o={strictDi:!1};i=u(o,i);var a=function(){if(t=Rr(t),t.injector()){var r=t[0]===e.document?"document":Y(t);throw Hr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=nt(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?a():(e.name=e.name.replace(l,""),Wr.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),a()},void(C(Wr.resumeDeferredBootstrap)&&Wr.resumeDeferredBootstrap()))}function ae(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function se(e){var t=Wr.element(e).injector();if(!t)throw Hr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function le(e,t){return t=t||"_",e.replace(ei,function(e,n){return(n?t:"")+e.toLowerCase()})}function ue(){var t;if(!ti){var n=Yr();jr=v(n)?e.jQuery:n?e[n]:void 0,jr&&jr.fn.on?(Rr=jr,u(jr.fn,{scope:Ei.scope,isolateScope:Ei.isolateScope,controller:Ei.controller,injector:Ei.injector,inheritedData:Ei.inheritedData}),t=jr.cleanData,jr.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)n=jr._data(r,"events"),n&&n.$destroy&&jr(r).triggerHandler("$destroy");t(e)}):Rr=Me,Wr.element=Rr,ti=!0}}function ce(e,t,n){if(!e)throw Hr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function he(e,t,n){return n&&Gr(e)&&(e=e[e.length-1]),ce(C(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function pe(e,t){if("hasOwnProperty"===e)throw Hr("badname","hasOwnProperty is not a valid {0} name",t)}function de(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&C(e)?W(o,e):e}function fe(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Rr(Pr.call(e,0,i))),t.push(n));return t||e}function ge(){return Object.create(null)}function me(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),c}}function n(e,n){return function(r,o){return o&&C(o)&&(o.$$moduleName=t),i.push([e,n,arguments]),c}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var i=[],s=[],l=[],u=e("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c})}})}function ve(e){var t=[];return JSON.stringify(e,function(e,n){if(n=q(e,n),y(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function $e(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?ve(e):e}function ye(n){u(n,{bootstrap:oe,copy:_,extend:u,merge:c,equals:B,element:Rr,forEach:r,injector:nt,noop:d,bind:W,toJson:G,fromJson:z,identity:f,isUndefined:v,isDefined:$,isString:w,isFunction:C,isObject:y,isNumber:x,isElement:R,isArray:Gr,version:li,isDate:E,lowercase:kr,uppercase:Ir,callbacks:{counter:0},getTestability:se,$$minErr:t,$$csp:Jr,reloadWithDebugInfo:ae}),(Fr=me(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:En}),e.provider("$compile",dt).directive({a:Io,input:Jo,textarea:Jo,form:jo,script:qa,select:Ka,style:Ja,option:Xa,ngBind:Zo,ngBindHtml:ta,ngBindTemplate:ea,ngClass:ra,ngClassEven:oa,ngClassOdd:ia,ngCloak:aa,ngController:sa,ngForm:Fo,ngHide:Pa,ngIf:ca,ngInclude:ha,ngInit:da,ngNonBindable:Ma,ngPluralize:Da,ngRepeat:Oa,ngShow:Fa,ngStyle:_a,ngSwitch:Va,ngSwitchWhen:Ba,ngSwitchDefault:Ua,ngOptions:Na,ngTransclude:Wa,ngModel:La,ngList:fa,ngChange:na,pattern:Qa,ngPattern:Qa,required:Ya,ngRequired:Ya,minlength:es,ngMinlength:es,maxlength:Za,ngMaxlength:Za,ngValue:Qo,ngModelOptions:Ta}).directive({ngInclude:pa}).directive(No).directive(la),e.provider({$anchorScroll:rt,$animate:_i,$animateCss:Ui,$$animateJs:Fi,$$animateQueue:Pi,$$AnimateRunner:Bi,$$animateAsyncRun:Vi,$browser:ut,$cacheFactory:ct,$controller:yt,$document:bt,$exceptionHandler:wt,$filter:Fn,$$forceReflow:Ki,$interpolate:Rt,$interval:jt,$http:It,$httpParamSerializer:Et,$httpParamSerializerJQLike:Ct,$httpBackend:Dt,$xhrFactory:Nt,$location:Jt,$log:Yt,$parse:vn,$rootScope:xn,$q:$n,$$q:yn,$sce:An,$sceDelegate:Ln,$sniffer:Tn,$templateCache:ht,$templateRequest:Mn,$$testability:kn,$timeout:In,$window:On,$$rAF:wn,$$jqLite:Je,$$HashMap:Ai,$$cookieReader:jn})}])}function be(){return++ci}function we(e){return e.replace(di,function(e,t,n,r){return r?n.toUpperCase():n}).replace(fi,"Moz$1")}function xe(e){return!$i.test(e)}function Ee(e){var t=e.nodeType;return t===ni||!t||t===ai}function Ce(e){for(var t in ui[e.ng339])return!0;return!1}function Se(e){for(var t=0,n=e.length;n>t;t++)De(e[t])}function Le(e,t){var n,i,o,a,s=t.createDocumentFragment(),l=[];if(xe(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),i=(yi.exec(e)||["",""])[1].toLowerCase(),o=wi[i]||wi._default,n.innerHTML=o[1]+e.replace(bi,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;l=U(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(l,function(e){s.appendChild(e)}),s}function Ae(t,n){n=n||e.document;var r;return(r=vi.exec(t))?[n.createElement(r[1])]:(r=Le(t,n))?r.childNodes:[]}function Te(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Me(e){if(e instanceof Me)return e;var t;if(w(e)&&(e=Kr(e),t=!0),!(this instanceof Me)){if(t&&"<"!=e.charAt(0))throw mi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Me(e)}t?_e(this,Ae(e)):_e(this,e)}function ke(e){return e.cloneNode(!0)}function Ie(e,t){if(t||De(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)De(n[r])}function Ne(e,t,n,i){if($(i))throw mi("offargs","jqLite#off() does not support the `selector` argument");var o=Oe(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var l=function(t){var r=a[t];$(n)&&P(r||[],n),$(n)&&r&&r.length>0||(pi(e,t,s),delete a[t])};r(t.split(" "),function(e){l(e),gi[e]&&l(gi[e])})}else for(t in a)"$destroy"!==t&&pi(e,t,s),delete a[t]}function De(e,t){var n=e.ng339,r=n&&ui[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Ne(e)),delete ui[n],e.ng339=void 0}}function Oe(e,t){var n=e.ng339,r=n&&ui[n];return t&&!r&&(e.ng339=n=be(),r=ui[n]={events:{},data:{},handle:void 0}),r}function Re(e,t,n){if(Ee(e)){var r=$(n),i=!r&&t&&!y(t),o=!t,a=Oe(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];u(s,t)}}}function je(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Fe(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Kr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Kr(t)+" "," ")))})}function Pe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Kr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Kr(n))}}function _e(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Ve(e,t){return Be(e,"$"+(t||"ngController")+"Controller")}function Be(e,t,n){e.nodeType==ai&&(e=e.documentElement);for(var r=Gr(t)?t:[t];e;){for(var i=0,o=r.length;o>i;i++)if($(n=Rr.data(e,r[i])))return n;e=e.parentNode||e.nodeType===si&&e.host}}function Ue(e){for(Ie(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function He(e,t){t||Ie(e);var n=e.parentNode;n&&n.removeChild(e)}function We(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Rr(n).on("load",t)}function qe(e,t){var n=Ci[t.toLowerCase()];return n&&Si[F(e)]&&n}function Ge(e){return Li[e]}function ze(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||Ke;o>1&&(i=V(i));for(var l=0;o>l;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function Ke(e,t,n){n.call(e,t)}function Xe(e,t,n){var r=t.relatedTarget;r&&(r===e||xi.call(e,r))||n.call(e,t)}function Je(){this.$get=function(){return u(Me,{hasClass:function(e,t){return e.attr&&(e=e[0]),je(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Pe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Fe(e,t)}})}}function Ye(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||a)():r+":"+e}function Qe(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Ze(e){var t=Function.prototype.toString.call(e).replace(Ni,""),n=t.match(Ti)||t.match(Mi);return n}function et(e){var t=Ze(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function tt(e,t,n){var i,o,a;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw w(n)&&n||(n=e.name||et(e)),Di("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=Ze(e),r(o[1].split(ki),function(e){e.replace(Ii,function(e,t,n){i.push(n)})})}e.$inject=i}}else Gr(e)?(a=e.length-1,he(e[a],"fn"),i=e.slice(0,a)):he(e,"fn",!0);return i}function nt(e,t){function n(e){return function(t,n){return y(t)?void r(t,o(e)):e(t,n)}}function i(e,t){if(pe(e,"service"),(C(t)||Gr(t))&&(t=E.instantiate(t)),!t.$get)throw Di("pget","Provider '{0}' must define $get factory method.",e);return x[e+m]=t}function a(e,t){return function(){var n=A.invoke(t,this);if(v(n))throw Di("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return s(e,g(t),!1)}function c(e,t){pe(e,"constant"),x[e]=t,S[e]=t}function h(e,t){var n=E.get(e+m),r=n.$get;n.$get=function(){var e=A.invoke(r,n);return A.invoke(t,null,{$delegate:e})}}function p(e){ce(v(e)||Gr(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=E.get(r[0]);i[r[1]].apply(i,r[2])}}if(!b.get(e)){b.put(e,!0);try{w(e)?(t=Fr(e),n=n.concat(p(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):C(e)?n.push(E.invoke(e)):Gr(e)?n.push(E.invoke(e)):he(e,"module")}catch(i){throw Gr(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Di("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function d(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===f)throw Di("cdep","Circular dependency found: {0}",t+" <- "+$.join(" <- "));return e[t]}try{return $.unshift(t),e[t]=f,e[t]=n(t,r)}catch(i){throw e[t]===f&&delete e[t],i}finally{$.shift()}}function i(e,n,i){for(var o=[],a=nt.$$annotate(e,t,i),s=0,l=a.length;l>s;s++){var u=a[s];if("string"!=typeof u)throw Di("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:r(u,i))}return o}function o(e){return 11>=Or?!1:"function"==typeof e&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(e))}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=i(e,n,r);return Gr(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var r=Gr(e)?e[e.length-1]:e,o=i(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:nt.$$annotate,has:function(t){return x.hasOwnProperty(t+m)||e.hasOwnProperty(t)}}}t=t===!0;var f={},m="Provider",$=[],b=new Qe([],!0),x={$provide:{provider:n(i),factory:n(s),service:n(l),value:n(u),constant:n(c),decorator:h}},E=x.$injector=d(x,function(e,t){throw Wr.isString(t)&&$.push(t),Di("unpr","Unknown provider: {0}",$.join(" <- "))}),S={},L=d(S,function(e,t){var n=E.get(e+m,t);return A.invoke(n.$get,n,void 0,e)}),A=L;x["$injector"+m]={$get:g(L)};var T=p(e);return A=L.get("$injector"),A.strictDi=t,r(T,function(e){e&&A.invoke(e)}),A}function rt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===F(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(C(e))e=e();else if(R(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else x(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=w(e)?e:n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=i(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||We(function(){r.$evalAsync(s)})}),s}]}function it(e,t){return e||t?e?t?(Gr(e)&&(e=e.join(" ")),Gr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ot(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Ri)return n}}function at(e){w(e)&&(e=e.split(" "));var t=ge();return r(e,function(e){e.length&&(t[e]=!0)}),t}function st(e){return y(e)?e:{}}function lt(e,t,n,i){function o(e){try{e.apply(null,H(arguments,1))}finally{if($--,0===$)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){C=null,l(),u()}function l(){b=S(),b=v(b)?null:b,B(b,T)&&(b=T),T=b}function u(){x===c.url()&&w===b||(x=c.url(),w=b,r(L,function(e){e(c.url(),b)}))}var c=this,h=e.location,p=e.history,f=e.setTimeout,g=e.clearTimeout,m={};c.isMock=!1;var $=0,y=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){$++},c.notifyWhenNoOutstandingRequests=function(e){0===$?e():y.push(e)};var b,w,x=h.href,E=t.find("base"),C=null,S=i.history?function(){try{return p.state}catch(e){}}:d;l(),w=b,c.url=function(t,n,r){if(v(r)&&(r=null),h!==e.location&&(h=e.location),p!==e.history&&(p=e.history),t){var o=w===r;if(x===t&&(!i.history||o))return c;var s=x&&Bt(x)===Bt(t);return x=t,w=r,!i.history||s&&o?(s&&!C||(C=t),n?h.replace(t):s?h.hash=a(t):h.href=t,h.href!==t&&(C=t)):(p[n?"replaceState":"pushState"](r,"",t),l(),w=b),c}return C||h.href.replace(/%27/g,"'")},c.state=function(){return b};var L=[],A=!1,T=null;c.onUrlChange=function(t){return A||(i.history&&Rr(e).on("popstate",s),Rr(e).on("hashchange",s),A=!0),L.push(t),t},c.$$applicationDestroyed=function(){Rr(e).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var e=E.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return $++,n=f(function(){delete m[n],o(e)},t||0),m[n]=!0,n},c.defer.cancel=function(e){return m[e]?(delete m[e],g(e),o(d),!0):!1}}function ut(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new lt(e,r,t,n)}]}function ct(){this.$get=function(){function e(e,r){function i(e){e!=p&&(d?d==e&&(d=e.n):d=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=u({},r,{id:e}),l=ge(),c=r&&r.capacity||Number.MAX_VALUE,h=ge(),p=null,d=null;return n[e]={put:function(e,t){if(!v(t)){if(c<Number.MAX_VALUE){var n=h[e]||(h[e]={key:e});i(n)}return e in l||a++,l[e]=t,a>c&&this.remove(d.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=h[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=h[e];if(!t)return;t==p&&(p=t.p),t==d&&(d=t.n),o(t.n,t.p),delete h[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=ge(),a=0,h=ge(),p=d=null},destroy:function(){l=null,s=null,h=null,delete n[e]},info:function(){return u({},s,{size:a})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function ht(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function pt(){}function dt(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=ge();return r(e,function(e,r){if(e in S)return void(o[r]=S[e]);var a=e.match(i);if(!a)throw Hi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(S[e]=o[r])}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),y(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),y(n.bindToController)){var r=e.controller,o=e.controllerAs;if(!r)throw Hi("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!$t(r,o))throw Hi("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function s(e){var t=e.charAt(0);if(!t||t!==kr(t))throw Hi("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Hi("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var l={},c="Directive",h=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,m=/(([\w\-]+)(?:\:([^;]+))?;?)/,b=j("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,E=/^(on[a-z]+|formaction)$/,S=ge();this.directive=function M(e,n){return pe(e,"directive"),w(e)?(s(e),ce(n,"directiveFactory"),l.hasOwnProperty(e)||(l[e]=[],t.factory(e+c,["$injector","$exceptionHandler",function(t,n){var i=[];return r(l[e],function(r,o){try{var a=t.invoke(r);C(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(s){n(s)}}),i}])),l[e].push(n)):r(e,o(M)),this},this.component=function(e,t){function n(e){function n(t){return C(t)||Gr(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:i,controllerAs:$t(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var i=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,C(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return $(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var L=!0;this.debugInfoEnabled=function(e){return $(e)?(L=e,this):L};var T=10;this.onChangesTtl=function(e){return arguments.length?(T=e,this):T},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,i,o,s,g,$,S,M,k){function N(){try{if(!--ye)throw me=void 0,Hi("infchng","{0} $onChanges() iterations reached. Aborting!\n",T);$.$apply(function(){for(var e=0,t=me.length;t>e;++e)me[e]();me=void 0})}finally{ye++}}function D(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function O(e,t,n){$e.innerHTML="<span "+t+">";var r=$e.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function R(e,t){try{e.addClass(t)}catch(n){}}function j(t,n,r,i,o){t instanceof Rr||(t=Rr(t));for(var a=/\S+/,s=0,l=t.length;l>s;s++){var u=t[s];u.nodeType===ii&&u.nodeValue.match(a)&&Te(u,t[s]=e.document.createElement("span"))}var c=V(t,n,t,r,i,o);j.$$addScopeClass(t);var h=null;return function(e,n,r){ce(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,s=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),h||(h=_(s));var l;if(l="html"!==h?Rr(ae(h,Rr("<div>").append(t).html())):n?Ei.clone.call(t):t,a)for(var u in a)l.data("$"+u+"Controller",a[u].instance);return j.$$addScopeInfo(l,e),n&&n(l,e),c&&c(e,l,l,i),l}}function _(e){var t=e&&e[0];return t&&"foreignobject"!==F(t)&&Br.call(t).match(/SVG/)?"svg":"html"}function V(e,t,n,r,i,o){function a(e,n,r,i){var o,a,s,l,u,c,h,p,g;if(d){var m=n.length;for(g=new Array(m),u=0;u<f.length;u+=3)h=f[u],g[h]=n[h]}else g=n;for(u=0,c=f.length;c>u;)s=g[f[u++]],o=f[u++],a=f[u++],o?(o.scope?(l=e.$new(),j.$$addScopeInfo(Rr(s),l)):l=e,p=o.transcludeOnThisElement?U(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?U(e,t):null,o(a,l,s,r,p)):a&&a(e,s.childNodes,void 0,i)}for(var s,l,u,c,h,p,d,f=[],g=0;g<e.length;g++)s=new D,l=W(e[g],[],s,0===g?r:void 0,i),u=l.length?K(l,e[g],s,t,n,null,[],[],o):null,u&&u.scope&&j.$$addScopeClass(s.$$element),h=u&&u.terminal||!(c=e[g].childNodes)||!c.length?null:V(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||h)&&(f.push(g,u,h),p=!0,d=d||u),o=null;return p?a:null}function U(e,t,n){function r(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=ge();for(var o in t.$$slots)t.$$slots[o]?i[o]=U(e,t.$$slots[o],n):i[o]=null;return r}function W(e,t,n,r,i){var o,a,s=e.nodeType,l=n.$attr;switch(s){case ni:Z(t,gt(F(e)),"E",r,i);for(var u,c,p,d,f,g,v=e.attributes,$=0,b=v&&v.length;b>$;$++){var x=!1,E=!1;u=v[$],c=u.name,f=Kr(u.value),d=gt(c),(g=Ce.test(d))&&(c=c.replace(qi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var C=d.match(Se);C&&ee(C[1])&&(x=c,E=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),p=gt(c.toLowerCase()),l[p]=c,!g&&n.hasOwnProperty(p)||(n[p]=f,qe(e,p)&&(n[p]=!0)),ue(e,t,f,p,g),Z(t,p,"A",r,i,x,E)}if(a=e.className,y(a)&&(a=a.animVal),w(a)&&""!==a)for(;o=m.exec(a);)p=gt(o[2]),Z(t,p,"C",r,i)&&(n[p]=Kr(o[3])),a=a.substr(o.index+o[0].length);break;case ii:if(11===Or)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===ii;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);oe(t,e.nodeValue);break;case oi:try{o=h.exec(e.nodeValue),o&&(p=gt(o[1]),Z(t,p,"M",r,i)&&(n[p]=Kr(o[2])))}catch(S){}}return t.sort(re),t}function q(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Hi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==ni&&(e.hasAttribute(t)&&i++,
e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Rr(r)}function G(e,t,n){return function(r,i,o,a,s){return i=q(i[0],t,n),e(r,i,o,a,s)}}function z(e,t,n,r,i,o){var a;return e?j(t,n,r,i,o):function(){return a||(a=j(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function K(e,t,n,o,a,s,l,c,h){function p(e,t,n,r){e&&(n&&(e=G(e,n,r)),e.require=f.require,e.directiveName=g,(S===f||f.$$isolateScope)&&(e=pe(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=G(t,n,r)),t.require=f.require,t.directiveName=g,(S===f||f.$$isolateScope)&&(t=pe(t,{isolateScope:!0})),c.push(t))}function d(e,i,o,a,s){function h(e,t,n,r){var i;if(A(e)||(r=n,n=t,t=e,e=void 0),I&&(i=$),n||(n=I?w.parent():w),!r)return s(e,t,i,n,P);var o=s.$$slots[r];if(o)return o(e,t,i,n,P);if(v(o))throw Hi("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,Y(w))}var p,d,f,g,m,$,b,w,T,M;t===o?(T=n,w=n.$$element):(w=Rr(o),T=new D(w,n)),m=i,S?g=i.$new(!0):x&&(m=i.$parent),s&&(b=h,b.$$boundTransclude=s,b.isSlotFilled=function(e){return!!s.$$slots[e]}),E&&($=J(w,T,b,E,g,i,S)),S&&(j.$$addScopeInfo(w,g,!0,!(L&&(L===S||L===S.$$originalDirective))),j.$$addScopeClass(w,!0),g.$$isolateBindings=S.$$isolateBindings,M=fe(i,T,g,g.$$isolateBindings,S),M.removeWatches&&g.$on("$destroy",M.removeWatches));for(var k in $){var N=E[k],O=$[k],R=N.$$bindings.bindToController;O.identifier&&R?O.bindingInfo=fe(m,T,O.instance,R,N):O.bindingInfo={};var F=O();F!==O.instance&&(O.instance=F,w.data("$"+N.name+"Controller",F),O.bindingInfo.removeWatches&&O.bindingInfo.removeWatches(),O.bindingInfo=fe(m,T,O.instance,R,N))}for(r(E,function(e,t){var n=e.require;e.bindToController&&!Gr(n)&&y(n)&&u($[t].instance,X(t,n,w,$))}),r($,function(e){var t=e.instance;C(t.$onChanges)&&t.$onChanges(e.bindingInfo.initialChanges),C(t.$onInit)&&t.$onInit(),C(t.$onDestroy)&&m.$on("$destroy",function(){t.$onDestroy()})}),p=0,d=l.length;d>p;p++)f=l[p],de(f,f.isolateScope?g:i,w,T,f.require&&X(f.directiveName,f.require,w,$),b);var P=i;for(S&&(S.template||null===S.templateUrl)&&(P=g),e&&e(P,o.childNodes,void 0,s),p=c.length-1;p>=0;p--)f=c[p],de(f,f.isolateScope?g:i,w,T,f.require&&X(f.directiveName,f.require,w,$),b);r($,function(e){var t=e.instance;C(t.$postLink)&&t.$postLink()})}h=h||{};for(var f,g,m,$,b,w=-Number.MAX_VALUE,x=h.newScopeDirective,E=h.controllerDirectives,S=h.newIsolateScopeDirective,L=h.templateDirective,T=h.nonTlbTranscludeDirective,M=!1,k=!1,I=h.hasElementTranscludeDirective,N=n.$$element=Rr(t),O=s,R=o,P=!1,_=!1,V=0,B=e.length;B>V;V++){f=e[V];var U=f.$$start,K=f.$$end;if(U&&(N=q(t,U,K)),m=void 0,w>f.priority)break;if((b=f.scope)&&(f.templateUrl||(y(b)?(ie("new/isolated scope",S||x,f,N),S=f):ie("new/isolated scope",S,f,N)),x=x||f),g=f.name,!P&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(var Z,ee=V+1;Z=e[ee++];)if(Z.transclude&&!Z.$$tlb||Z.replace&&(Z.templateUrl||Z.template)){_=!0;break}P=!0}if(!f.templateUrl&&f.controller&&(b=f.controller,E=E||ge(),ie("'"+g+"' controller",E[g],f,N),E[g]=f),b=f.transclude)if(M=!0,f.$$tlb||(ie("transclusion",T,f,N),T=f),"element"==b)I=!0,w=f.priority,m=N,N=n.$$element=Rr(j.$$createComment(g,n[g])),t=N[0],he(a,H(m),t),m[0].$$parentNode=m[0].parentNode,R=z(_,m,o,w,O&&O.name,{nonTlbTranscludeDirective:T});else{var re=ge();if(m=Rr(ke(t)).contents(),y(b)){m=[];var oe=ge(),se=ge();r(b,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,oe[e]=t,re[t]=null,se[t]=n}),r(N.contents(),function(e){var t=oe[gt(F(e))];t?(se[t]=!0,re[t]=re[t]||[],re[t].push(e)):m.push(e)}),r(se,function(e,t){if(!e)throw Hi("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var le in re)re[le]&&(re[le]=z(_,re[le],o))}N.empty(),R=z(_,m,o,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),R.$$slots=re}if(f.template)if(k=!0,ie("template",L,f,N),L=f,b=C(f.template)?f.template(N,n):f.template,b=Ee(b),f.replace){if(O=f,m=xe(b)?[]:vt(ae(f.templateNamespace,Kr(b))),t=m[0],1!=m.length||t.nodeType!==ni)throw Hi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");he(a,N,t);var ue={$attr:{}},ce=W(t,[],ue),me=e.splice(V+1,e.length-(V+1));(S||x)&&Q(ce,S,x),e=e.concat(ce).concat(me),te(n,ue),B=e.length}else N.html(b);if(f.templateUrl)k=!0,ie("template",L,f,N),L=f,f.replace&&(O=f),d=ne(e.splice(V,e.length-V),N,n,a,M&&R,l,c,{controllerDirectives:E,newScopeDirective:x!==f&&x,newIsolateScopeDirective:S,templateDirective:L,nonTlbTranscludeDirective:T}),B=e.length;else if(f.compile)try{$=f.compile(N,n,R),C($)?p(null,$,U,K):$&&p($.pre,$.post,U,K)}catch(ve){i(ve,Y(N))}f.terminal&&(d.terminal=!0,w=Math.max(w,f.priority))}return d.scope=x&&x.scope===!0,d.transcludeOnThisElement=M,d.templateOnThisElement=k,d.transclude=R,h.hasElementTranscludeDirective=I,d}function X(e,t,n,i){var o;if(w(t)){var a=t.match(x),s=t.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(o=i&&i[s],o=o&&o.instance),!o){var c="$"+s+"Controller";o=l?n.inheritedData(c):n.data(c)}if(!o&&!u)throw Hi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(Gr(t)){o=[];for(var h=0,p=t.length;p>h;h++)o[h]=X(e,t[h],n,i)}else y(t)&&(o={},r(t,function(t,r){o[r]=X(e,t,n,i)}));return o||null}function J(e,t,n,r,i,o,a){var s=ge();for(var l in r){var u=r[l],c={$scope:u===a||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},h=u.controller;"@"==h&&(h=t[u.name]);var p=g(h,c,!0,u.controllerAs);s[u.name]=p,e.data("$"+u.name+"Controller",p.instance)}return s}function Q(e,t,n){for(var r=0,i=e.length;i>r;r++)e[r]=p(e[r],{$$isolateScope:t,$$newScope:n})}function Z(e,n,r,o,s,u,h){if(n===s)return null;var d=null;if(l.hasOwnProperty(n))for(var f,g=t.get(n+c),m=0,$=g.length;$>m;m++)try{if(f=g[m],(v(o)||o>f.priority)&&-1!=f.restrict.indexOf(r)){if(u&&(f=p(f,{$$start:u,$$end:h})),!f.$$bindings){var b=f.$$bindings=a(f,f.name);y(b.isolateScope)&&(f.$$isolateBindings=b.isolateScope)}e.push(f),d=f}}catch(w){i(w)}return d}function ee(e){if(l.hasOwnProperty(e))for(var n,r=t.get(e+c),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function te(e,t){var n=t.$attr,i=e.$attr,o=e.$$element;r(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),r(t,function(t,r){"class"==r?(R(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==r?(o.attr("style",o.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==r.charAt(0)||e.hasOwnProperty(r)||(e[r]=t,i[r]=n[r])})}function ne(e,t,n,i,a,s,l,u){var c,h,d=[],f=t[0],g=e.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=C(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,$=g.templateNamespace;return t.empty(),o(v).then(function(o){var p,b,w,x;if(o=Ee(o),g.replace){if(w=xe(o)?[]:vt(ae($,Kr(o))),p=w[0],1!=w.length||p.nodeType!==ni)throw Hi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);b={$attr:{}},he(i,t,p);var E=W(p,[],b);y(g.scope)&&Q(E,!0),e=E.concat(e),te(n,b)}else p=f,t.html(o);for(e.unshift(m),c=K(e,p,n,a,t,g,s,l,u),r(i,function(e,n){e==p&&(i[n]=t[0])}),h=V(t[0].childNodes,a);d.length;){var C=d.shift(),S=d.shift(),L=d.shift(),A=d.shift(),T=t[0];if(!C.$$destroyed){if(S!==f){var M=S.className;u.hasElementTranscludeDirective&&g.replace||(T=ke(p)),he(L,Rr(S),T),R(Rr(T),M)}x=c.transcludeOnThisElement?U(C,c.transclude,A):A,c(h,C,T,i,x)}}d=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(d?d.push(t,n,r,o):(c.transcludeOnThisElement&&(o=U(t,c.transclude,i)),c(h,t,n,r,o)))}}function re(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ie(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Hi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,Y(r))}function oe(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&j.$$addBindingClass(t),function(e,t){var i=t.parent();n||j.$$addBindingClass(i),j.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function ae(t,n){switch(t=kr(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function se(e,t){if("srcdoc"==t)return S.HTML;var n=F(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?S.RESOURCE_URL:void 0}function ue(e,t,r,i,o){var a=se(e,i);o=b[i]||o;var s=n(r,!0,a,o);if(s){if("multiple"===i&&"select"===F(e))throw Hi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Y(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers=ge());if(E.test(i))throw Hi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==r&&(s=c&&n(c,!0,a,o),r=c),s&&(l[i]=s(e),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function he(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var u=i,c=u+s-1,h=t.length;h>u;u++,c++)h>c?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var p=e.document.createDocumentFragment();for(i=0;s>i;i++)p.appendChild(n[i]);for(Rr.hasData(a)&&(Rr.data(r,Rr.data(a)),Rr(a).off("$destroy")),Rr.cleanData(p.querySelectorAll("*")),i=1;s>i;i++)delete n[i];n[0]=r,n.length=1}function pe(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function de(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,Y(n))}}function fe(e,t,i,o,a){function l(t,n,r){C(i.$onChanges)&&n!==r&&(me||(e.$$postDigest(N),me=[]),c||(c={},me.push(u)),c[t]&&(r=c[t].previousValue),c[t]=new ft(r,n))}function u(){i.$onChanges(c),c=void 0}var c,h=[],p={};return r(o,function(r,o){var u,c,f,g,m,v=r.attrName,$=r.optional,y=r.mode;switch(y){case"@":$||Mr.call(t,v)||(i[o]=t[v]=void 0),t.$observe(v,function(e){if(w(e)||I(e)){var t=i[o];l(o,e,t),i[o]=e}}),t.$$observers[v].$$scope=e,u=t[v],w(u)?i[o]=n(u)(e):I(u)&&(i[o]=u),p[o]=new ft(Wi,i[o]);break;case"=":if(!Mr.call(t,v)){if($)break;t[v]=void 0}if($&&!t[v])break;c=s(t[v]),g=c.literal?B:function(e,t){return e===t||e!==e&&t!==t},f=c.assign||function(){throw u=i[o]=c(e),Hi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},u=i[o]=c(e);var b=function(t){return g(t,i[o])||(g(t,u)?f(e,t=i[o]):i[o]=t),u=t};b.$stateful=!0,m=r.collection?e.$watchCollection(t[v],b):e.$watch(s(t[v],b),null,c.literal),h.push(m);break;case"<":if(!Mr.call(t,v)){if($)break;t[v]=void 0}if($&&!t[v])break;c=s(t[v]),i[o]=c(e),p[o]=new ft(Wi,i[o]),m=e.$watch(c,function(e,t){e===t&&(t=i[o]),l(o,e,t),i[o]=e},c.literal),h.push(m);break;case"&":if(c=t.hasOwnProperty(v)?s(t[v]):d,c===d&&$)break;i[o]=function(t){return c(e,t)}}}),{initialChanges:p,removeWatches:h.length&&function(){for(var e=0,t=h.length;t>e;++e)h[e]()}}}var me,ve=/^\w/,$e=e.document.createElement("div"),ye=T;D.prototype={$normalize:gt,$addClass:function(e){e&&e.length>0&&M.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&M.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=mt(e,t);n&&n.length&&M.addClass(this.$$element,n);var r=mt(t,e);r&&r.length&&M.removeClass(this.$$element,r)},$set:function(e,t,n,o){var a,s=this.$$element[0],l=qe(s,e),u=Ge(e),c=e;if(l?(this.$$element.prop(e,t),o=l):u&&(this[u]=t,c=u),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=le(e,"-"))),a=F(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=k(t,"src"===e);else if("img"===a&&"srcset"===e){for(var h="",p=Kr(t),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(p)?d:/(,)/,g=p.split(f),m=Math.floor(g.length/2),$=0;m>$;$++){var y=2*$;h+=k(Kr(g[y]),!0),h+=" "+Kr(g[y+1])}var b=Kr(g[2*$]).split(/\s/);h+=k(Kr(b[0]),!0),2===b.length&&(h+=" "+Kr(b[1])),this[e]=t=h}n!==!1&&(null===t||v(t)?this.$$element.removeAttr(o):ve.test(o)?this.$$element.attr(o,t):O(this.$$element[0],o,t));var w=this.$$observers;w&&r(w[c],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ge()),i=r[e]||(r[e]=[]);return i.push(t),$.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){P(i,t)}}};var be=n.startSymbol(),we=n.endSymbol(),Ee="{{"==be&&"}}"==we?f:function(e){return e.replace(/\{\{/g,be).replace(/}}/g,we)},Ce=/^ngAttr[A-Z]/,Se=/^(.+)Start$/;return j.$$addBindingInfo=L?function(e,t){var n=e.data("$binding")||[];Gr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:d,j.$$addBindingClass=L?function(e){R(e,"ng-binding")}:d,j.$$addScopeInfo=L?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:d,j.$$addScopeClass=L?function(e,t){R(e,t?"ng-isolate-scope":"ng-scope")}:d,j.$$createComment=function(t,n){var r="";return L&&(r=" "+(t||"")+": "+(n||"")+" "),e.document.createComment(r)},j}]}function ft(e,t){this.previousValue=e,this.currentValue=t}function gt(e){return we(e.replace(qi,""))}function mt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function vt(e){e=Rr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===oi&&_r.call(e,t,1)}return e}function $t(e,t){if(t&&w(t))return t;if(w(e)){var n=zi.exec(e);if(n)return n[3]}}function yt(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){pe(t,"controller"),y(t)?u(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(e,n,r,i){if(!e||!y(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);e.$scope[n]=r}return function(t,a,s,l){var c,h,p,d;if(s=s===!0,l&&w(l)&&(d=l),w(t)){if(h=t.match(zi),!h)throw Gi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);p=h[1],d=d||h[3],t=e.hasOwnProperty(p)?e[p]:de(a.$scope,p,!0)||(n?de(i,p,!0):void 0),he(t,p,!0)}if(s){var f=(Gr(t)?t[t.length-1]:t).prototype;c=Object.create(f||null),d&&o(a,d,c,p||t.name);var g;return g=u(function(){var e=r.invoke(t,c,a,p);return e!==c&&(y(e)||C(e))&&(c=e,d&&o(a,d,c,p||t.name)),c},{instance:c,identifier:d})}return c=r.instantiate(t,a,p),d&&o(a,d,c,p||t.name),c}}]}function bt(){this.$get=["$window",function(e){return Rr(e.document)}]}function wt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function xt(e){return y(e)?E(e)?e.toISOString():G(e):e}function Et(){this.$get=function(){return function(e){if(!e)return"";var t=[];return i(e,function(e,n){null===e||v(e)||(Gr(e)?r(e,function(e){t.push(ne(n)+"="+ne(xt(e)))}):t.push(ne(n)+"="+ne(xt(e))))}),t.join("&")}}}function Ct(){this.$get=function(){return function(e){function t(e,o,a){null===e||v(e)||(Gr(e)?r(e,function(e,n){t(e,o+"["+(y(e)?n:"")+"]")}):y(e)&&!E(e)?i(e,function(e,n){t(e,o+(a?"":"[")+n+(a?"":"]"))}):n.push(ne(o)+"="+ne(xt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function St(e,t){if(w(e)){var n=e.replace(Zi,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Xi)||Lt(n))&&(e=z(n))}}return e}function Lt(e){var t=e.match(Yi);return t&&Qi[t[0]].test(e)}function At(e){function t(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}var n,i=ge();return w(e)?r(e.split("\n"),function(e){n=e.indexOf(":"),t(kr(Kr(e.substr(0,n))),Kr(e.substr(n+1)))}):y(e)&&r(e,function(e,n){t(kr(n),Kr(e))}),i}function Tt(e){var t;return function(n){if(t||(t=At(e)),n){var r=t[kr(n)];return void 0===r&&(r=null),r}return t}}function Mt(e,t,n,i){return C(i)?i(e,t,n):(r(i,function(r){e=r(e,t,n)}),e)}function kt(e){return e>=200&&300>e}function It(){var e=this.defaults={transformResponse:[St],transformRequest:[function(e){return!y(e)||T(e)||k(e)||M(e)?e:G(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:V(Ji),put:V(Ji),patch:V(Ji)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return $(e)?(n=!!e,this):n};var i=!0;this.useLegacyPromiseExtensions=function(e){return $(e)?(i=!!e,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,c,h,p){function d(n){function o(e){var t=u({},e);return t.data=Mt(e.data,e.headers,e.status,l.transformResponse),kt(e.status)?t:h.reject(t)}function a(e,t){var n,i={};return r(e,function(e,r){C(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function s(t){var n,r,i,o=e.headers,s=u({},t.headers);o=u({},o.common,o[kr(t.method)]);e:for(n in o){r=kr(n);for(i in s)if(kr(i)===r)continue e;s[n]=o[n]}return a(s,V(t))}if(!y(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!w(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var l=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);l.headers=s(n),l.method=Ir(l.method),l.paramSerializer=w(l.paramSerializer)?p.get(l.paramSerializer):l.paramSerializer;var c=function(t){var n=t.headers,i=Mt(t.data,Tt(n),void 0,t.transformRequest);return v(i)&&r(n,function(e,t){"content-type"===kr(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,i).then(o,o)},d=[c,void 0],f=h.when(l);for(r(E,function(e){(e.request||e.requestError)&&d.unshift(e.request,e.requestError),(e.response||e.responseError)&&d.push(e.response,e.responseError)});d.length;){var g=d.shift(),$=d.shift();f=f.then(g,$)}return i?(f.success=function(e){return he(e,"fn"),f.then(function(t){e(t.data,t.status,t.headers,l)}),f},f.error=function(e){return he(e,"fn"),f.then(null,function(t){e(t.data,t.status,t.headers,l)}),f}):(f.success=to("success"),f.error=to("error")),f}function f(e){r(arguments,function(e){d[e]=function(t,n){return d(u({},n||{},{method:e,url:t}))}})}function g(e){r(arguments,function(e){d[e]=function(t,n,r){return d(u({},r||{},{method:e,url:t,data:n}))}})}function m(t,i){function o(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),t}}function l(e,t,r,i){function o(){u(t,e,r,i)}g&&(kt(e)?g.put(S,[e,t,At(r),i]):g.remove(S)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function u(e,n,r,i){n=n>=-1?n:0,(kt(n)?w.resolve:w.reject)({data:e,status:n,headers:Tt(r),config:t,statusText:i})}function p(e){u(e.data,e.status,V(e.headers()),e.statusText)}function f(){var e=d.pendingRequests.indexOf(t);-1!==e&&d.pendingRequests.splice(e,1)}var g,m,w=h.defer(),E=w.promise,C=t.headers,S=b(t.url,t.paramSerializer(t.params));if(d.pendingRequests.push(t),E.then(f,f),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(g=y(t.cache)?t.cache:y(e.cache)?e.cache:x),g&&(m=g.get(S),$(m)?N(m)?m.then(p,p):Gr(m)?u(m[1],m[0],V(m[2]),m[3]):u(m,200,{},"OK"):g.put(S,E)),v(m)){var L=Dn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;L&&(C[t.xsrfHeaderName||e.xsrfHeaderName]=L),a(t.method,S,i,l,C,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))}return E}function b(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var x=l("$http");e.paramSerializer=w(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var E=[];return r(o,function(e){E.unshift(w(e)?p.get(e):p.invoke(e))}),d.pendingRequests=[],f("get","delete","head","jsonp"),g("post","put","patch"),d.defaults=e,d}]}function Nt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Dt(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return Ot(e,r,e.defer,t.angular.callbacks,n[0])}]}function Ot(e,t,n,i,o){function a(e,t,n){var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){pi(r,"load",a),pi(r,"error",a),o.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},hi(r,"load",a),hi(r,"error",a),o.body.appendChild(r),a}return function(o,s,l,u,c,h,p,f,g,m){function y(){x&&x(),E&&E.abort()}function b(t,r,i,o,a){$(L)&&n.cancel(L),x=E=null,t(r,i,o,a),e.$$completeOutstandingRequest(d)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==kr(o)){var w="_"+(i.counter++).toString(36);i[w]=function(e){i[w].data=e,i[w].called=!0};var x=a(s.replace("JSON_CALLBACK","angular.callbacks."+w),w,function(e,t){b(u,e,i[w].data,"",t),i[w]=d})}else{var E=t(o,s);E.open(o,s,!0),r(c,function(e,t){$(e)&&E.setRequestHeader(t,e)}),E.onload=function(){var e=E.statusText||"",t="response"in E?E.response:E.responseText,n=1223===E.status?204:E.status;0===n&&(n=t?200:"file"==Nn(s).protocol?404:0),b(u,n,t,E.getAllResponseHeaders(),e)};var C=function(){b(u,-1,null,null,"")};if(E.onerror=C,E.onabort=C,r(g,function(e,t){E.addEventListener(t,e)}),r(m,function(e,t){E.upload.addEventListener(t,e)}),p&&(E.withCredentials=!0),f)try{E.responseType=f}catch(S){if("json"!==f)throw S}E.send(v(l)?null:l)}if(h>0)var L=n(y,h);else N(h)&&h.then(y)}}function Rt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(d,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=G(e)}return e}function l(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function c(o,c,d,f){function m(e){try{return e=N(e),f&&!$(e)?e:s(e)}catch(t){r(no.interr(o,t))}}if(!o.length||-1===o.indexOf(e)){var y;if(!c){var b=a(o);y=g(b),y.exp=o,y.expressions=[],y.$$watchDelegate=l}return y}f=!!f;for(var w,x,E,S=0,L=[],A=[],T=o.length,M=[],k=[];T>S;){if(-1==(w=o.indexOf(e,S))||-1==(x=o.indexOf(t,w+h))){S!==T&&M.push(a(o.substring(S)));break}S!==w&&M.push(a(o.substring(S,w))),E=o.substring(w+h,x),L.push(E),A.push(n(E,m)),S=x+p,k.push(M.length),M.push("")}if(d&&M.length>1&&no.throwNoconcat(o),!c||L.length){var I=function(e){for(var t=0,n=L.length;n>t;t++){if(f&&v(e[t]))return;M[k[t]]=e[t]}return M.join("")},N=function(e){return d?i.getTrusted(d,e):i.valueOf(e)};return u(function(e){var t=0,n=L.length,i=new Array(n);try{for(;n>t;t++)i[t]=A[t](e);return I(i)}catch(a){r(no.interr(o,a))}},{exp:o,expressions:L,$$watchDelegate:function(e,t){var n;return e.$watchGroup(A,function(r,i){var o=I(r);C(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var h=e.length,p=t.length,d=new RegExp(e.replace(/./g,o),"g"),f=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function jt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,l,u){function c(){h?o.apply(null,p):o(g)}var h=arguments.length>4,p=h?H(arguments,4):[],d=t.setInterval,f=t.clearInterval,g=0,m=$(u)&&!u,v=(m?r:n).defer(),y=v.promise;return l=$(l)?l:0,y.$$intervalId=d(function(){m?i.defer(c):e.$evalAsync(c),v.notify(g++),l>0&&g>=l&&(v.resolve(g),f(y.$$intervalId),delete a[y.$$intervalId]),m||e.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},o}]}function Ft(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=te(t[n]);return t.join("/")}function Pt(e,t){var n=Nn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=h(n.port)||io[n.protocol]||null}function _t(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Nn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=Z(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Vt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function Bt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Ut(e){return e.replace(/(#.+)|#$/,"$1")}function Ht(e){return e.substr(0,Bt(e).lastIndexOf("/")+1)}function Wt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function qt(e,t,n){this.$$html5=!0,n=n||"",Pt(e,this),this.$$parse=function(e){var n=Vt(t,e);if(!w(n))throw oo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);_t(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ee(this.$$search),n=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ft(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return $(o=Vt(e,r))?(a=o,s=$(o=Vt(n,o))?t+(Vt("/",o)||o):e+a):$(o=Vt(t,r))?s=t+o:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Gt(e,t,n){Pt(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=Vt(e,r)||Vt(t,r);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(e=r,this.replace())):(o=Vt(n,a),v(o)&&(o=a)),_t(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ft(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Bt(e)==Bt(t)?(this.$$parse(t),!0):!1}}function zt(e,t,n){this.$$html5=!0,Gt.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==Bt(r)?o=r:(a=Vt(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ft(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Kt(e){return function(){return this[e]}}function Xt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Jt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return $(t)?(e=t,this):e},this.html5Mode=function(e){return I(e)?(t.enabled=e,this):y(e)?(I(e.enabled)&&(t.enabled=e.enabled),I(e.requireBase)&&(t.requireBase=e.requireBase),I(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,h,p=r.baseHref(),d=r.url();if(t.enabled){if(!p&&t.requireBase)throw oo("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=Wt(d)+(p||"/"),c=i.history?qt:zt}else h=Bt(d),c=Gt;var f=Ht(h);u=new c(h,f,"#"+e),u.$$parseLinkUrl(d,d),u.$$state=r.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Rr(e.target);"a"!==F(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Nn(s.animVal).href),g.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(e.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Ut(u.absUrl())!=Ut(d)&&r.url(u.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){return v(Vt(f,e))?void(a.location.href=e):(n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;e=Ut(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(m=!1,l(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Ut(r.url()),t=Ut(u.absUrl()),o=r.state(),a=u.$$replace,c=e!==t||u.$$html5&&i.history&&o!==u.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function Yt(){var e=!0,t=this;this.debugEnabled=function(t){return $(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||d,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var e=[];return r(arguments,function(t){e.push(i(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Qt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw so("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Zt(e){return e+""}function en(e,t){if(e){if(e.constructor===e)throw so("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw so("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw so("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw so("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function tn(e,t){if(e){if(e.constructor===e)throw so("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===lo||e===uo||e===co)throw so("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function nn(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw so("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function rn(e,t){return"undefined"!=typeof e?e:t}function on(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function an(e,t){var n=e(t);return!n.$stateful}function sn(e,t){var n,i;switch(e.type){case go.Program:n=!0,r(e.body,function(e){sn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case go.Literal:e.constant=!0,e.toWatch=[];break;case go.UnaryExpression:sn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case go.BinaryExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case go.LogicalExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case go.ConditionalExpression:sn(e.test,t),sn(e.alternate,t),sn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case go.Identifier:e.constant=!1,e.toWatch=[e];break;case go.MemberExpression:sn(e.object,t),e.computed&&sn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case go.CallExpression:n=e.filter?an(t,e.callee.name):!1,i=[],r(e.arguments,function(e){sn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&an(t,e.callee.name)?i:[e];break;case go.AssignmentExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case go.ArrayExpression:n=!0,i=[],r(e.elements,function(e){
sn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case go.ObjectExpression:n=!0,i=[],r(e.properties,function(e){sn(e.value,t),n=n&&e.value.constant,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case go.ThisExpression:e.constant=!1,e.toWatch=[];break;case go.LocalsExpression:e.constant=!1,e.toWatch=[]}}function ln(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function un(e){return e.type===go.Identifier||e.type===go.MemberExpression}function cn(e){return 1===e.body.length&&un(e.body[0].expression)?{type:go.AssignmentExpression,left:e.body[0].expression,right:{type:go.NGValueParameter},operator:"="}:void 0}function hn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===go.Literal||e.body[0].expression.type===go.ArrayExpression||e.body[0].expression.type===go.ObjectExpression)}function pn(e){return e.constant}function dn(e,t){this.astBuilder=e,this.$filter=t}function fn(e,t){this.astBuilder=e,this.$filter=t}function gn(e){return"constructor"==e}function mn(e){return C(e.valueOf)?e.valueOf():vo.call(e)}function vn(){var e,t,n=ge(),i=ge(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(a){function s(e,t,r){var o,s,u;switch(r=r||b,typeof e){case"string":e=e.trim(),u=e;var m=r?i:n;if(o=m[u],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2));var $=r?y:v,w=new fo($),x=new mo(w,a,$);o=x.parse(e),o.constant?o.$$watchDelegate=f:s?o.$$watchDelegate=o.literal?p:h:o.inputs&&(o.$$watchDelegate=c),r&&(o=l(o)),m[u]=o}return g(o,t);case"function":return g(e,t);default:return g(d,t)}}function l(e){function t(t,n,r,i){var o=b;b=!0;try{return e(t,n,r,i)}finally{b=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function u(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=mn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function c(e,t,n,r,i){var o,a=r.inputs;if(1===a.length){var s=u;return a=a[0],e.$watch(function(e){var t=a(e);return u(t,s)||(o=r(e,void 0,void 0,[t]),s=t&&mn(t)),o},t,n,i)}for(var l=[],c=[],h=0,p=a.length;p>h;h++)l[h]=u,c[h]=null;return e.$watch(function(e){for(var t=!1,n=0,i=a.length;i>n;n++){var s=a[n](e);(t||(t=!u(s,l[n])))&&(c[n]=s,l[n]=s&&mn(s))}return t&&(o=r(e,void 0,void 0,c)),o},t,n,i)}function h(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,C(t)&&t.apply(this,arguments),$(e)&&r.$$postDigest(function(){$(o)&&i()})},n)}function p(e,t,n,i){function o(e){var t=!0;return r(e,function(e){$(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return i(e)},function(e,n,r){s=e,C(t)&&t.call(this,e,n,r),o(e)&&r.$$postDigest(function(){o(s)&&a()})},n)}function f(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function g(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==p&&n!==h,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return $(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==c?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=c,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var m=Jr().noUnsafeEval,v={csp:m,expensiveChecks:!1,literals:_(o),isIdentifierStart:C(e)&&e,isIdentifierContinue:C(t)&&t},y={csp:m,expensiveChecks:!0,literals:_(o),isIdentifierStart:C(e)&&e,isIdentifierContinue:C(t)&&t},b=!1;return s.$$runningExpensiveChecks=function(){return b},s}]}function $n(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return bn(function(t){e.$evalAsync(t)},t)}]}function yn(){this.$get=["$browser","$exceptionHandler",function(e,t){return bn(function(t){e.defer(t)},t)}]}function bn(e,n){function i(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function a(e){var t,r,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=i.length;a>o;++o){r=i[o][0],t=i[o][e.status];try{C(t)?r.resolve(t(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(s){r.reject(s),n(s)}}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){a(t)}))}function l(){this.promise=new i}function c(e){var t=new l,n=0,i=Gr(e)?[]:{};return r(e,function(e,r){n++,m(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var h=t("$q",TypeError),p=function(){var e=new l;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e};u(i.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&s(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}}),u(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,a.$$resolve(e))}function r(e){l||(l=!0,a.$$reject(e))}var i,a=this,l=!1;try{(y(e)||C(e))&&(i=e&&e.then),C(i)?(this.promise.$$state.status=-1,i.call(e,t,r,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(u){r(u),n(u)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;a>o;o++){i=r[o][0],e=r[o][3];try{i.notify(C(e)?e(t):t)}catch(s){n(s)}}})}});var d=function(e){var t=new l;return t.reject(e),t.promise},f=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},g=function(e,t,n){var r=null;try{C(n)&&(r=n())}catch(i){return f(i,!1)}return N(r)?r.then(function(){return f(e,t)},function(e){return f(e,!1)}):f(e,t)},m=function(e,t,n,r){var i=new l;return i.resolve(e),i.promise.then(t,n,r)},$=m,b=function(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!C(e))throw h("norslvr","Expected resolverFn, got '{0}'",e);var r=new l;return e(t,n),r.promise};return b.prototype=i.prototype,b.defer=p,b.reject=d,b.when=m,b.resolve=$,b.all=c,b}function wn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function xn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return t.prototype=e,t}var i=10,o=t("$rootScope"),s=null,l=null;this.digestTtl=function(e){return arguments.length&&(i=e),i},this.$get=["$exceptionHandler","$parse","$browser",function(t,u,c){function h(e){e.currentScope.$$destroyed=!0}function p(e){9===Or&&(e.$$childHead&&p(e.$$childHead),e.$$nextSibling&&p(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(e){if(S.$$phase)throw o("inprog","{0} already in progress",S.$$phase);S.$$phase=e}function m(){S.$$phase=null}function $(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function b(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function w(){}function x(){for(;T.length;)try{T.shift()()}catch(e){t(e)}l=null}function E(){null===l&&(l=c.defer(function(){S.$apply(x)}))}f.prototype={constructor:f,$new:function(t,n){var r;return n=n||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",h),r},$watch:function(e,t,n,r){var i=u(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,a=o.$$watchers,l={fn:t,last:w,get:i,exp:r||e,eq:!!n};return s=null,C(t)||(l.fn=d),a||(a=o.$$watchers=[]),a.unshift(l),$(this,1),function(){P(a,l)>=0&&$(o,-1),s=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(o,o,s)):t(o,i,s)}var i=new Array(e.length),o=new Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(o,o,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){o[0]=e,i[0]=n,t(o,e===n?o:i,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){o[t]=e,i[t]=r,l||(l=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function r(e){o=e;var t,r,i,s,l;if(!v(o)){if(y(o))if(n(o)){a!==d&&(a=d,m=a.length=0,h++),t=o.length,m!==t&&(h++,a.length=m=t);for(var u=0;t>u;u++)l=a[u],s=o[u],i=l!==l&&s!==s,i||l===s||(h++,a[u]=s)}else{a!==f&&(a=f={},m=0,h++),t=0;for(r in o)Mr.call(o,r)&&(t++,s=o[r],l=a[r],r in a?(i=l!==l&&s!==s,i||l===s||(h++,a[r]=s)):(m++,a[r]=s,h++));if(m>t){h++;for(r in a)Mr.call(o,r)||(m--,delete a[r])}}else a!==o&&(a=o,h++);return h}}function i(){if(g?(g=!1,t(o,o,l)):t(o,s,l),c)if(y(o))if(n(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var r in o)Mr.call(o,r)&&(s[r]=o[r])}else s=o}r.$stateful=!0;var o,a,s,l=this,c=t.length>1,h=0,p=u(e,r),d=[],f={},g=!0,m=0;return this.$watch(p,i)},$digest:function(){var e,n,r,a,u,h,p,d,f,v,$,y,b=i,E=this,T=[];g("$digest"),c.$$checkUrlChange(),this===S&&null!==l&&(c.defer.cancel(l),x()),s=null;do{for(d=!1,v=E;L.length;){try{y=L.shift(),y.scope.$eval(y.expression,y.locals)}catch(M){t(M)}s=null}e:do{if(h=v.$$watchers)for(p=h.length;p--;)try{if(e=h[p])if(u=e.get,(n=u(v))===(r=e.last)||(e.eq?B(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))){if(e===s){d=!1;break e}}else d=!0,s=e,e.last=e.eq?_(n,null):n,a=e.fn,a(n,r===w?n:r,v),5>b&&($=4-b,T[$]||(T[$]=[]),T[$].push({msg:C(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:r}))}catch(M){t(M)}if(!(f=v.$$watchersCount&&v.$$childHead||v!==E&&v.$$nextSibling))for(;v!==E&&!(f=v.$$nextSibling);)v=v.$parent}while(v=f);if((d||L.length)&&!b--)throw m(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",i,T)}while(d||L.length);for(m();A.length;)try{A.shift()()}catch(M){t(M)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&c.$$applicationDestroyed(),$(this,-this.$$watchersCount);for(var t in this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=d,this.$on=this.$watch=this.$watchGroup=function(){return d},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){S.$$phase||L.length||c.defer(function(){L.length&&S.$digest()}),L.push({scope:this,expression:u(e),locals:t})},$$postDigest:function(e){A.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{m()}}catch(n){t(n)}finally{try{S.$digest()}catch(n){throw t(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&T.push(t),e=u(e),E()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,b(i,1,e))}},$emit:function(e,n){var r,i,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=U([u],arguments,1);do{for(r=s.$$listeners[e]||a,u.currentScope=s,i=0,o=r.length;o>i;i++)if(r[i])try{r[i].apply(null,c)}catch(h){t(h)}else r.splice(i,1),i--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,n){var r=this,i=r,o=r,a={name:e,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return a;for(var s,l,u,c=U([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[e]||[],l=0,u=s.length;u>l;l++)if(s[l])try{s[l].apply(null,c)}catch(h){t(h)}else s.splice(l,1),l--,u--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var S=new f,L=S.$$asyncQueue=[],A=S.$$postDigestQueue=[],T=S.$$applyAsyncQueue=[];return S}]}function En(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return $(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=Nn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Cn(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw $o("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Xr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw $o("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Sn(e){var t=[];return $(e)&&r(e,function(e){t.push(Cn(e))}),t}function Ln(){this.SCE_CONTEXTS=yo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Sn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Sn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Dn(t):!!e.exec(t.href)}function i(n){var i,o,a=Nn(n.toString()),s=!1;for(i=0,o=e.length;o>i;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;o>i;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=h.hasOwnProperty(e)?h[e]:null;if(!n)throw $o("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw $o("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||v(t)||""===t)return t;var n=h.hasOwnProperty(e)?h[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===yo.RESOURCE_URL){if(i(t))return t;throw $o("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===yo.HTML)return u(t);throw $o("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw $o("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),h={};return h[yo.HTML]=o(c),h[yo.CSS]=o(c),h[yo.URL]=o(c),h[yo.JS]=o(c),h[yo.RESOURCE_URL]=o(h[yo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function An(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Or)throw $o("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=V(yo);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=f),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return r(yo,function(e,t){var n=kr(t);i[we("parse_as_"+n)]=function(t){return o(e,t)},i[we("get_trusted_"+n)]=function(t){return a(e,t)},i[we("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function Tn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=e.chrome&&e.chrome.app&&e.chrome.app.runtime,a=!o&&e.history&&e.history.pushState,s=h((/android (\d+)/.exec(kr((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),u=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,p=u.body&&u.body.style,d=!1,f=!1;if(p){for(var g in p)if(r=c.exec(g)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),d=!!("transition"in p||n+"Transition"in p),f=!!("animation"in p||n+"Animation"in p),!s||d&&f||(d=w(p.webkitTransition),f=w(p.webkitAnimation))}return{history:!(!a||4>s||l),hasEvent:function(e){if("input"===e&&11>=Or)return!1;if(v(i[e])){var t=u.createElement("div");i[e]="on"+e in t}return i[e]},csp:Jr(),vendorPrefix:n,transitions:d,animations:f,android:s}}]}function Mn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function o(a,s){function l(e){if(!s)throw bo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return r.reject(e)}o.totalPendingRequests++,w(a)&&t.get(a)||(a=i.getTrustedResourceUrl(a));var c=n.defaults&&n.defaults.transformResponse;return Gr(c)?c=c.filter(function(e){return e!==St}):c===St&&(c=null),n.get(a,u({cache:t,transformResponse:c},e))["finally"](function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},l)}return o.totalPendingRequests=0,o}]}function kn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),o=[];return r(i,function(e){var i=Wr.element(e).data("$binding");i&&r(i,function(r){if(n){var i=new RegExp("(^|\\s)"+Xr(t)+"(\\s|\\||$)");i.test(r)&&o.push(e)}else-1!=r.indexOf(t)&&o.push(e)})}),o},i.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function In(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){C(o)||(l=s,s=o,o=d);var u,c=H(arguments,3),h=$(l)&&!l,p=(h?r:n).defer(),f=p.promise;return u=t.defer(function(){try{p.resolve(o.apply(null,c))}catch(t){p.reject(t),i(t)}finally{delete a[f.$$timeoutId]}h||e.$apply()},s),f.$$timeoutId=u,a[u]=p,f}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function Nn(e){var t=e;return Or&&(wo.setAttribute("href",t),t=wo.href),wo.setAttribute("href",t),{href:wo.href,protocol:wo.protocol?wo.protocol.replace(/:$/,""):"",host:wo.host,search:wo.search?wo.search.replace(/^\?/,""):"",hash:wo.hash?wo.hash.replace(/^#/,""):"",hostname:wo.hostname,port:wo.port,pathname:"/"===wo.pathname.charAt(0)?wo.pathname:"/"+wo.pathname}}function Dn(e){var t=w(e)?Nn(e):e;return t.protocol===xo.protocol&&t.host===xo.host}function On(){this.$get=g(e)}function Rn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,l,u=n.cookie||"";if(u!==i)for(i=u,e=i.split("; "),r={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(l=t(o.substring(0,s)),v(r[l])&&(r[l]=t(o.substring(s+1))));return r}}function jn(){this.$get=Rn}function Fn(e){function t(i,o){if(y(i)){var a={};return r(i,function(e,n){a[n]=t(n,e)}),a}return e.factory(i+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Un),t("date",rr),t("filter",Pn),t("json",ir),t("limitTo",or),t("lowercase",Mo),t("number",Hn),t("orderBy",ar),t("uppercase",ko)}function Pn(){return function(e,r,i){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}var o,a,s=Bn(r);switch(s){case"function":o=r;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=_n(r,i,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function _n(e,t,n){var r,i=y(e)&&"$"in e;return t===!0?t=B:C(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:y(t)||y(e)&&!m(e)?!1:(e=kr(""+e),t=kr(""+t),-1!==e.indexOf(t))}),r=function(r){return i&&!y(r)?Vn(r,e.$,t,!1):Vn(r,e,t,n)}}function Vn(e,t,n,r,i){var o=Bn(e),a=Bn(t);if("string"===a&&"!"===t.charAt(0))return!Vn(e,t.substring(1),n,r);if(Gr(e))return e.some(function(e){return Vn(e,t,n,r)});switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Vn(e[s],t,n,!0))return!0;return i?!1:Vn(e,t,n,!1)}if("object"===a){for(s in t){var l=t[s];if(!C(l)&&!v(l)){var u="$"===s,c=u?e:e[s];if(!Vn(c,l,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Bn(e){return null===e?"null":typeof e}function Un(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Gn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Hn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Gn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Wn(e){var t,n,r,i,o,a=0;for((n=e.indexOf(Co))>-1&&(e=e.replace(Co,"")),(r=e.search(/e/i))>0?(0>n&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):0>n&&(n=e.length),r=0;e.charAt(r)==So;r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==So;)o--;for(n-=r,t=[],i=0;o>=r;r++,i++)t[i]=+e.charAt(r)}return n>Eo&&(t=t.splice(0,Eo-1),a=n-1,n=1),{d:t,e:a,i:n}}function qn(e,t,n,r){var i=e.d,o=i.length-e.i;t=v(t)?Math.min(Math.max(n,o),r):+t;var a=t+e.i,s=i[a];if(a>0){i.splice(Math.max(e.i,a));for(var l=a;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var u=1;a>u;u++)i[u]=0}if(s>=5)if(0>a-1){for(var c=0;c>a;c--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var h=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);h&&(i.unshift(h),e.i++)}function Gn(e,t,n,r,i){if(!w(e)&&!x(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="∞";else{o=Wn(l),qn(o,i,t.minFrac,t.maxFrac);var c=o.d,h=o.i,p=o.e,d=[];for(s=c.reduce(function(e,t){return e&&!t},!0);0>h;)c.unshift(0),h++;h>0?d=c.splice(h):(d=c,c=[0]);var f=[];for(c.length>=t.lgSize&&f.unshift(c.splice(-t.lgSize).join(""));c.length>t.gSize;)f.unshift(c.splice(-t.gSize).join(""));c.length&&f.unshift(c.join("")),u=f.join(n),d.length&&(u+=r+d.join("")),p&&(u+="e+"+p)}return 0>e&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function zn(e,t,n,r){var i="";for((0>e||r&&0>=e)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=So+e;return n&&(e=e.substr(e.length-t)),i+e}function Kn(e,t,n,r,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),zn(a,t,r,i)}}function Xn(e,t,n){return function(r,i){var o=r["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=Ir(a+e);return i[s][o]}}function Jn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=zn(Math[r>0?"floor":"ceil"](r/60),2)+zn(Math.abs(r%60),2)}function Yn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Qn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Zn(e){return function(t){var n=Yn(t.getFullYear()),r=Qn(t),i=+r-+n,o=1+Math.round(i/6048e5);return zn(o,e)}}function er(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function tr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function nr(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function rr(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=h(t[9]+t[10]),o=h(t[9]+t[11])),a.call(r,h(t[1]),h(t[2])-1,h(t[3]));var l=h(t[4]||0)-i,u=h(t[5]||0)-o,c=h(t[6]||0),p=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,p),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var a,s,l="",u=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,w(n)&&(n=To.test(n)?h(n):t(n)),x(n)&&(n=new Date(n)),!E(n)||!isFinite(n.getTime()))return n;for(;i;)s=Ao.exec(i),s?(u=U(u,s,1),i=u.pop()):(u.push(i),i=null);var c=n.getTimezoneOffset();return o&&(c=K(o,c),n=J(n,o,!0)),r(u,function(t){a=Lo[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ir(){return function(e,t){return v(t)&&(t=2),G(e,t)}}function or(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):h(t),isNaN(t)?e:(x(e)&&(e=e.toString()),Gr(e)||w(e)?(n=!n||isNaN(n)?0:h(n),n=0>n?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function ar(e){function r(t,n){return n=n?-1:1,t.map(function(t){var r=1,i=f;if(C(t))i=t;else if(w(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var o=i();i=function(e){return e[o]}}return{get:i,descending:r*n}})}function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),i(e))?e:m(e)&&(e=e.toString(),i(e))?e:t}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=o(e,t)),{value:e,type:n}}function s(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,i,o){function l(e,t){return{value:e,predicateValues:c.map(function(n){return a(n.get(e),t)})}}function u(e,t){for(var n=0,r=0,i=c.length;i>r&&!(n=s(e.predicateValues[r],t.predicateValues[r])*c[r].descending);++r);return n}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);Gr(i)||(i=[i]),0===i.length&&(i=["+"]);var c=r(i,o);c.push({get:function(){return{}},descending:o?-1:1});var h=Array.prototype.map.call(e,l);return h.sort(u),e=h.map(function(e){return e.value})}}function sr(e){return C(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function lr(e,t){e.$name=t}function ur(e,t,n,i,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(t.name||t.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Do,a.$rollbackViewValue=function(){r(s,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){r(s,function(e){e.$commitViewValue()})},a.$addControl=function(e){pe(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],r(a.$pending,function(t,n){a.$setValidity(n,null,e)}),r(a.$error,function(t,n){a.$setValidity(n,null,e)}),r(a.$$success,function(t,n){a.$setValidity(n,null,e)}),P(s,e),e.$$parentForm=Do},Cr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(P(r,n),0===r.length&&delete e[t])},$animate:i}),a.$setDirty=function(){i.removeClass(e,va),i.addClass(e,$a),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){i.setClass(e,va,$a+" "+Oo),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,r(s,function(e){e.$setPristine()})},a.$setUntouched=function(){r(s,function(e){e.$setUntouched()})},a.$setSubmitted=function(){i.addClass(e,Oo),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function cr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function hr(e,t,n,r,i,o){pr(e,t,n,r,i,o),cr(r)}function pr(e,t,n,r,i,o){var a=kr(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Kr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),Ko[a]&&r.$$hasNativeValidators&&a===n.type&&t.on(zo,function(e){if(!l){var t=this[Tr],n=t.badInput,r=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function dr(e,t){if(E(e))return e;if(w(e)){Wo.lastIndex=0;var n=Wo.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=Yn(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return NaN}function fr(e,t){return function(n,i){var o,a;if(E(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Po.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function gr(e,t,n,r){return function(i,o,a,s,l,u,c){function h(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return $(e)&&!E(e)?n(e)||void 0:e}mr(i,o,a,s),pr(i,o,a,s,l,u);var d,f=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,d);return f&&(r=J(r,f)),r}}),s.$formatters.push(function(e){if(e&&!E(e))throw Ca("datefmt","Expected `{0}` to be a date",e);return h(e)?(d=e,d&&f&&(d=J(d,f,!0)),c("date")(e,r,f)):(d=null,"")}),$(a.min)||a.ngMin){var g;s.$validators.min=function(e){return!h(e)||v(g)||n(e)>=g},a.$observe("min",function(e){g=p(e),s.$validate()})}if($(a.max)||a.ngMax){var m;s.$validators.max=function(e){return!h(e)||v(m)||n(e)<=m},a.$observe("max",function(e){m=p(e),s.$validate()})}}}function mr(e,t,n,r){var i=t[0],o=r.$$hasNativeValidators=y(i.validity);o&&r.$parsers.push(function(e){var n=t.prop(Tr)||{};return n.badInput||n.typeMismatch?void 0:e})}function vr(e,t,n,r,i,o){if(mr(e,t,n,r),pr(e,t,n,r,i,o),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Bo.test(e)?parseFloat(e):void 0}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!x(e))throw Ca("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),$(n.min)||n.ngMin){var a;r.$validators.min=function(e){return r.$isEmpty(e)||v(a)||e>=a;
},n.$observe("min",function(e){$(e)&&!x(e)&&(e=parseFloat(e,10)),a=x(e)&&!isNaN(e)?e:void 0,r.$validate()})}if($(n.max)||n.ngMax){var s;r.$validators.max=function(e){return r.$isEmpty(e)||v(s)||s>=e},n.$observe("max",function(e){$(e)&&!x(e)&&(e=parseFloat(e,10)),s=x(e)&&!isNaN(e)?e:void 0,r.$validate()})}}function $r(e,t,n,r,i,o){pr(e,t,n,r,i,o),cr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||_o.test(n)}}function yr(e,t,n,r,i,o){pr(e,t,n,r,i,o),cr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Vo.test(n)}}function br(e,t,n,r){v(n.name)&&t.attr("name",a());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function wr(e,t,n,r,i){var o;if($(r)){if(o=e(r),!o.constant)throw Ca("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function xr(e,t,n,r,i,o,a,s){var l=wr(s,e,"ngTrueValue",n.ngTrueValue,!0),u=wr(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return B(e,l)}),r.$parsers.push(function(e){return e?l:u})}function Er(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function o(e){var t=[];return Gr(e)?(r(e,function(e){t=t.concat(o(e))}),t):w(e)?e.split(" "):y(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function u(e){var t=h(e,1);l.$addClass(t)}function c(e){var t=h(e,-1);l.$removeClass(t)}function h(e,t){var n=s.data("$classCounts")||ge(),i=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function p(e,t){var r=i(t,e),o=i(e,t);r=h(r,1),o=h(o,-1),r&&r.length&&n.addClass(s,r),o&&o.length&&n.removeClass(s,o)}function d(e){if(t===!0||a.$index%2===t){var n=o(e||[]);if(f){if(!B(e,f)){var r=o(f);p(r,n)}}else u(n)}f=Gr(e)?e.map(function(e){return V(e)}):V(e)}var f;a.$watch(l[e],d,!0),l.$observe("class",function(t){d(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var i=1&n;if(i!==(1&r)){var s=o(a.$eval(l[e]));i===t?u(s):c(s)}})}}}]}function Cr(e){function t(e,t,s){v(t)?n("$pending",e,s):r("$pending",e,s),I(t)?t?(c(a.$error,e,s),u(a.$$success,e,s)):(u(a.$error,e,s),c(a.$$success,e,s)):(c(a.$error,e,s),c(a.$$success,e,s)),a.$pending?(i(wa,!0),a.$valid=a.$invalid=void 0,o("",null)):(i(wa,!1),a.$valid=Sr(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var l;l=a.$pending&&a.$pending[e]?void 0:a.$error[e]?!1:a.$$success[e]?!0:null,o(e,l),a.$$parentForm.$setValidity(e,l,a)}function n(e,t,n){a[e]||(a[e]={}),u(a[e],t,n)}function r(e,t,n){a[e]&&c(a[e],t,n),Sr(a[e])&&(a[e]=void 0)}function i(e,t){t&&!l[e]?(h.addClass(s,e),l[e]=!0):!t&&l[e]&&(h.removeClass(s,e),l[e]=!1)}function o(e,t){e=e?"-"+le(e,"-"):"",i(ga+e,t===!0),i(ma+e,t===!1)}var a=e.ctrl,s=e.$element,l={},u=e.set,c=e.unset,h=e.$animate;l[ma]=!(l[ga]=s.hasClass(ga)),a.$setValidity=t}function Sr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Lr(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var Ar=/^\/(.+)\/([a-z]*)$/,Tr="validity",Mr=Object.prototype.hasOwnProperty,kr=function(e){return w(e)?e.toLowerCase():e},Ir=function(e){return w(e)?e.toUpperCase():e},Nr=function(e){return w(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Dr=function(e){return w(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(kr=Nr,Ir=Dr);var Or,Rr,jr,Fr,Pr=[].slice,_r=[].splice,Vr=[].push,Br=Object.prototype.toString,Ur=Object.getPrototypeOf,Hr=t("ng"),Wr=e.angular||(e.angular={}),qr=0;Or=e.document.documentMode,d.$inject=[],f.$inject=[];var Gr=Array.isArray,zr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Kr=function(e){return w(e)?e.trim():e},Xr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Jr=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!$(Jr.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Jr.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else Jr.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Jr.rules},Yr=function(){if($(Yr.name_))return Yr.name_;var t,n,r,i,o=Zr.length;for(n=0;o>n;++n)if(r=Zr[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return Yr.name_=i},Qr=/:/g,Zr=["ng-","data-ng-","ng:","x-ng-"],ei=/[A-Z]/g,ti=!1,ni=1,ri=2,ii=3,oi=8,ai=9,si=11,li={full:"1.5.5",major:1,minor:5,dot:5,codeName:"material-conspiration"};Me.expando="ng339";var ui=Me.cache={},ci=1,hi=function(e,t,n){e.addEventListener(t,n,!1)},pi=function(e,t,n){e.removeEventListener(t,n,!1)};Me._data=function(e){return this.cache[e[this.expando]]||{}};var di=/([\:\-\_]+(.))/g,fi=/^moz([A-Z])/,gi={mouseleave:"mouseout",mouseenter:"mouseover"},mi=t("jqLite"),vi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,$i=/<|&#?\w+;/,yi=/<([\w:-]+)/,bi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wi.optgroup=wi.option,wi.tbody=wi.tfoot=wi.colgroup=wi.caption=wi.thead,wi.th=wi.td;var xi=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ei=Me.prototype={ready:function(t){function n(){r||(r=!0,t())}var r=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),Me(e).on("load",n))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Rr(e>=0?this[e]:this[this.length+e])},length:0,push:Vr,sort:[].sort,splice:[].splice},Ci={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Ci[kr(e)]=e});var Si={};r("input,select,option,textarea,button,form,details".split(","),function(e){Si[e]=!0});var Li={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Re,removeData:De,hasData:Ce,cleanData:Se},function(e,t){Me[t]=e}),r({data:Re,inheritedData:Be,scope:function(e){return Rr.data(e,"$scope")||Be(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Rr.data(e,"$isolateScope")||Rr.data(e,"$isolateScopeNoTemplate")},controller:Ve,injector:function(e){return Be(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:je,css:function(e,t,n){return t=we(t),$(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==ii&&r!==ri&&r!==oi){var i=kr(t);if(Ci[i]){if(!$(n))return e[t]||(e.attributes.getNamedItem(t)||d).specified?i:void 0;n?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if($(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?void 0:o}}},prop:function(e,t,n){return $(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===ni||n===ii?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===F(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(Ie(e,!0),void(e.innerHTML=t))},empty:Ue},function(e,t){Me.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Ue&&v(2==e.length&&e!==je&&e!==Ve?t:n)){if(y(t)){for(r=0;o>r;r++)if(e===Re)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=v(a)?Math.min(o,1):o,l=0;s>l;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(r=0;o>r;r++)e(this[r],t,n);return this}}),r({removeData:De,on:function(e,t,n,r){if($(r))throw mi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ee(e)){var i=Oe(e,!0),o=i.events,a=i.handle;a||(a=i.handle=ze(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,u=function(t,r,i){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||i||hi(e,t,a)),s.push(n)};l--;)t=s[l],gi[t]?(u(gi[t],Xe),u(t,void 0,!0)):u(t)}},off:Ne,one:function(e,t,n){e=Rr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;Ie(e),r(new Me(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===ni&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===ni||n===si){t=new Me(t);for(var r=0,i=t.length;i>r;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===ni){var n=e.firstChild;r(new Me(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Te(e,Rr(t).eq(0).clone()[0])},remove:He,detach:function(e){He(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Me(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Pe,removeClass:Fe,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;v(r)&&(r=!je(e,t)),(r?Pe:Fe)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==si?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ke,triggerHandler:function(e,t,n){var i,o,a,s=t.type||t,l=Oe(e),c=l&&l.events,h=c&&c[s];h&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:d,type:s,target:e},t.type&&(i=u(i,t)),o=V(h),a=n?[i].concat(n):[i],r(o,function(t){i.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Me.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)v(i)?(i=e(this[o],t,n,r),$(i)&&(i=Rr(i))):_e(i,e(this[o],t,n,r));return $(i)?i:this},Me.prototype.bind=Me.prototype.on,Me.prototype.unbind=Me.prototype.off}),Qe.prototype={put:function(e,t){this[Ye(e,this.nextUid)]=t},get:function(e){return this[Ye(e,this.nextUid)]},remove:function(e){var t=this[e=Ye(e,this.nextUid)];return delete this[e],t}};var Ai=[function(){this.$get=[function(){return Qe}]}],Ti=/^([^\(]+?)=>/,Mi=/^[^\(]*\(\s*([^\)]*)\)/m,ki=/,/,Ii=/^\s*(_?)(\S+?)\1\s*$/,Ni=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Di=t("$injector");nt.$$annotate=tt;var Oi=t("$animate"),Ri=1,ji="ng-animate",Fi=function(){this.$get=d},Pi=function(){var e=new Qe,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(e,t,n){var i=!1;return t&&(t=w(t)?t.split(" "):Gr(t)?t:[],r(t,function(t){t&&(i=!0,e[t]=n)})),i}function a(){r(t,function(t){var n=e.get(t);if(n){var i=at(t.attr("class")),o="",a="";r(n,function(e,t){var n=!!i[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),r(t,function(e){o&&Pe(e,o),a&&Fe(e,a)}),e.remove(t)}}),t.length=0}function s(n,r,s){var l=e.get(n)||{},u=o(l,r,!0),c=o(l,s,!1);(u||c)&&(e.put(n,l),t.push(n),1===t.length&&i.$$postDigest(a))}return{enabled:d,on:d,off:d,pin:d,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},_i=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Oi("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+ji+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Oi("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ji)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=ot(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Rr(r),i=i&&Rr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",st(o))},move:function(n,r,i,o){return r=r&&Rr(r),i=i&&Rr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",st(o))},leave:function(t,n){return e.push(t,"leave",st(n),function(){t.remove()})},addClass:function(t,n,r){return r=st(r),r.addClass=it(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=st(r),r.removeClass=it(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=st(i),i.addClass=it(i.addClass,n),i.removeClass=it(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=st(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=it(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Vi=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Bi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,o){function a(e){this.setHost(e);var t=n(),r=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?r(e):t(e)},this._state=0}var s=0,l=1,u=2;return a.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},a.all=function(e,t){function n(n){o=o&&n,++i===e.length&&t(o)}var i=0,o=!0;r(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===u?e():this._doneCallbacks.push(e)},progress:d,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==u&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=u)}},a}]},Ui=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=_(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:i,end:i}}}]},Hi=t("$compile"),Wi=new pt;dt.$inject=["$provide","$$sanitizeUriProvider"],ft.prototype.isFirstChange=function(){return this.previousValue===Wi};var qi=/^((?:x|data)[\:\-_])/i,Gi=t("$controller"),zi=/^(\S+)(\s+as\s+([\w$]+))?$/,Ki=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Rr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Xi="application/json",Ji={"Content-Type":Xi+";charset=utf-8"},Yi=/^\[|^\{(?!\{)/,Qi={"[":/]$/,"{":/}$/},Zi=/^\)\]\}',?\n/,eo=t("$http"),to=function(e){return function(){throw eo("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},no=Wr.$interpolateMinErr=t("$interpolate");no.throwNoconcat=function(e){throw no("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},no.interr=function(e,t){return no("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ro=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,io={http:80,https:443,ftp:21},oo=t("$location"),ao={$$html5:!1,$$replace:!1,absUrl:Kt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=ro.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Kt("$$protocol"),host:Kt("$$host"),port:Kt("$$port"),path:Xt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||x(e))e=e.toString(),this.$$search=Z(e);else{if(!y(e))throw oo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=_(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Xt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([zt,Gt,qt],function(e){e.prototype=Object.create(ao),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==qt||!this.$$html5)throw oo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var so=t("$parse"),lo=Function.prototype.call,uo=Function.prototype.apply,co=Function.prototype.bind,ho=ge();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){ho[e]=!0});var po={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},fo=function(e){this.options=e};fo.prototype={constructor:fo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=ho[t],o=ho[n],a=ho[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&56319>=n&&r>=56320&&57343>=r?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=$(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw so("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=kr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=po[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var go=function(e,t){this.lexer=e,this.options=t};go.Program="Program",go.ExpressionStatement="ExpressionStatement",go.AssignmentExpression="AssignmentExpression",go.ConditionalExpression="ConditionalExpression",go.LogicalExpression="LogicalExpression",go.BinaryExpression="BinaryExpression",go.UnaryExpression="UnaryExpression",go.CallExpression="CallExpression",go.MemberExpression="MemberExpression",go.Identifier="Identifier",go.Literal="Literal",go.ArrayExpression="ArrayExpression",go.Property="Property",go.ObjectExpression="ObjectExpression",go.ThisExpression="ThisExpression",go.LocalsExpression="LocalsExpression",go.NGValueParameter="NGValueParameter",go.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:go.Program,body:e}},expressionStatement:function(){return{type:go.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:go.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:go.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:go.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:go.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:go.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:go.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:go.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:go.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:go.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=_(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:go.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:go.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:go.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:go.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:go.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:go.Identifier,name:e.text}},constant:function(){return{type:go.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:go.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:go.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:go.ObjectExpression,properties:t}},throwError:function(e,t){throw so("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw so("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw so("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},selfReferential:{"this":{type:go.ThisExpression},$locals:{type:go.LocalsExpression}}},dn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},sn(i,n.$filter);var o,a="";if(this.stage="assign",o=cn(i)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var l=ln(i.body);n.stage="inputs",r(l,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,Qt,en,tn,Zt,nn,rn,on,e);return this.state=this.stage=void 0,c.literal=hn(i),c.constant=pn(i),c},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,o,a){var s,l,u,c,h=this;if(i=i||d,!a&&$(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,o,!0));switch(e.type){case go.Program:r(e.body,function(t,n){h.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case go.Literal:c=this.escape(e.value),this.assign(t,c),i(c);break;case go.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),i(c);break;case go.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,c),i(c);break;case go.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),i(t);break;case go.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),i(t);break;case go.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),Qt(e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){h.if_("inputs"===h.stage||"s",function(){o&&1!==o&&h.if_(h.not(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),(h.state.expensiveChecks||gn(e.name))&&h.addEnsureSafeObject(t),i(t);break;case go.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,function(){h.if_(h.notNull(s),function(){o&&1!==o&&h.addEnsureSafeAssignContext(s),e.computed?(l=h.nextId(),h.recurse(e.property,l),h.getStringValue(l),h.addEnsureSafeMemberName(l),o&&1!==o&&h.if_(h.not(h.computedMember(s,l)),h.lazyAssign(h.computedMember(s,l),"{}")),c=h.ensureSafeObject(h.computedMember(s,l)),h.assign(t,c),n&&(n.computed=!0,n.name=l)):(Qt(e.property.name),o&&1!==o&&h.if_(h.not(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),c=h.nonComputedMember(s,e.property.name),(h.state.expensiveChecks||gn(e.property.name))&&(c=h.ensureSafeObject(c)),h.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){h.assign(t,"undefined")}),i(t)},!!o);break;case go.CallExpression:t=t||this.nextId(),e.filter?(l=h.filter(e.callee.name),u=[],r(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",h.assign(t,c),i(t)):(l=h.nextId(),s={},u=[],
h.recurse(e.callee,l,s,function(){h.if_(h.notNull(l),function(){h.addEnsureSafeFunction(l),r(e.arguments,function(e){h.recurse(e,h.nextId(),void 0,function(e){u.push(h.ensureSafeObject(e))})}),s.name?(h.state.expensiveChecks||h.addEnsureSafeObject(s.context),c=h.member(s.context,s.name,s.computed)+"("+u.join(",")+")"):c=l+"("+u.join(",")+")",c=h.ensureSafeObject(c),h.assign(t,c)},function(){h.assign(t,"undefined")}),i(t)}));break;case go.AssignmentExpression:if(l=this.nextId(),s={},!un(e.left))throw so("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(e.right,l),h.addEnsureSafeObject(h.member(s.context,s.name,s.computed)),h.addEnsureSafeAssignContext(s.context),c=h.member(s.context,s.name,s.computed)+e.operator+l,h.assign(t,c),i(t||c)})},1);break;case go.ArrayExpression:u=[],r(e.elements,function(e){h.recurse(e,h.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),i(c);break;case go.ObjectExpression:u=[],r(e.properties,function(e){h.recurse(e.value,h.nextId(),void 0,function(t){u.push(h.escape(e.key.type===go.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+u.join(",")+"}",this.assign(t,c),i(c);break;case go.ThisExpression:this.assign(t,"s"),i("s");break;case go.LocalsExpression:this.assign(t,"l"),i("l");break;case go.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw so("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},fn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,sn(i,n.$filter);var o,a;(o=cn(i))&&(a=this.recurse(o));var s,l=ln(i.body);l&&(s=[],r(l,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var u=[];r(i.body,function(e){u.push(n.recurse(e.expression))});var c=0===i.body.length?d:1===i.body.length?u[0]:function(e,t){var n;return r(u,function(r){n=r(e,t)}),n};return a&&(c.assign=function(e,t,n){return a(e,n,t)}),s&&(c.inputs=s),c.literal=hn(i),c.constant=pn(i),c},recurse:function(e,t,n){var i,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case go.Literal:return this.value(e.value,t);case go.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case go.BinaryExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case go.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case go.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case go.Identifier:return Qt(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||gn(e.name),t,n,s.expression);case go.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(Qt(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,n,s.expression):this.nonComputedMember(i,o,s.expensiveChecks,t,n,s.expression);case go.CallExpression:return a=[],r(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,r,i){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,r,i));var u=o.apply(void 0,s,i);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,r,i){var l,u=o(e,n,r,i);if(null!=u.value){en(u.context,s.expression),tn(u.value,s.expression);for(var c=[],h=0;h<a.length;++h)c.push(en(a[h](e,n,r,i),s.expression));l=en(u.value.apply(u.context,c),s.expression)}return t?{value:l}:l};case go.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,r,a){var l=i(e,n,r,a),u=o(e,n,r,a);return en(l.value,s.expression),nn(l.context),l.context[l.name]=u,t?{value:u}:u};case go.ArrayExpression:return a=[],r(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case go.ObjectExpression:return a=[],r(e.properties,function(e){a.push({key:e.key.type===go.Identifier?e.key.name:""+e.key.value,value:s.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case go.ThisExpression:return function(e){return t?{value:e}:e};case go.LocalsExpression:return function(e,n){return t?{value:n}:n};case go.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=$(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=$(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=on(s,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=($(s)?s:0)-($(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(o,a,s,l){var u=a&&e in a?a:o;r&&1!==r&&u&&!u[e]&&(u[e]={});var c=u?u[e]:void 0;return t&&en(c,i),n?{context:u,name:e,value:c}:c}},computedMember:function(e,t,n,r,i){return function(o,a,s,l){var u,c,h=e(o,a,s,l);return null!=h&&(u=t(o,a,s,l),u=Zt(u),Qt(u,i),r&&1!==r&&(nn(h),h&&!h[u]&&(h[u]={})),c=h[u],en(c,i)),n?{context:h,name:u,value:c}:c}},nonComputedMember:function(e,t,n,r,i,o){return function(a,s,l,u){var c=e(a,s,l,u);i&&1!==i&&(nn(c),c&&!c[t]&&(c[t]={}));var h=null!=c?c[t]:void 0;return(n||gn(t))&&en(h,o),r?{context:c,name:t,value:h}:h}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var mo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new go(e,n),this.astCompiler=n.csp?new fn(this.ast,t):new dn(this.ast,t)};mo.prototype={constructor:mo,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var vo=Object.prototype.valueOf,$o=t("$sce"),yo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},bo=t("$compile"),wo=e.document.createElement("a"),xo=Nn(e.location.href);Rn.$inject=["$document"],Fn.$inject=["$provide"];var Eo=22,Co=".",So="0";Un.$inject=["$locale"],Hn.$inject=["$locale"];var Lo={yyyy:Kn("FullYear",4,0,!1,!0),yy:Kn("FullYear",2,0,!0,!0),y:Kn("FullYear",1,0,!1,!0),MMMM:Xn("Month"),MMM:Xn("Month",!0),MM:Kn("Month",2,1),M:Kn("Month",1,1),LLLL:Xn("Month",!1,!0),dd:Kn("Date",2),d:Kn("Date",1),HH:Kn("Hours",2),H:Kn("Hours",1),hh:Kn("Hours",2,-12),h:Kn("Hours",1,-12),mm:Kn("Minutes",2),m:Kn("Minutes",1),ss:Kn("Seconds",2),s:Kn("Seconds",1),sss:Kn("Milliseconds",3),EEEE:Xn("Day"),EEE:Xn("Day",!0),a:er,Z:Jn,ww:Zn(2),w:Zn(1),G:tr,GG:tr,GGG:tr,GGGG:nr},Ao=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,To=/^\-?\d+$/;rr.$inject=["$locale"];var Mo=g(kr),ko=g(Ir);ar.$inject=["$parse"];var Io=g({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Br.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),No={};r(Ci,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=gt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),No[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(Li,function(e,t){No[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Ar);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=gt("ng-"+e);No[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Br.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(Or&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var Do={$addControl:d,$$renameControl:lr,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d,$setSubmitted:d},Oo="ng-submitted";ur.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ro=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||d}var i={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:ur,compile:function(n,i){n.addClass(va).addClass(ga);var o=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};hi(n[0],"submit",l),n.on("$destroy",function(){t(function(){pi(n[0],"submit",l)},0,!1)})}var c=a[1]||s.$$parentForm;c.$addControl(s);var h=o?r(s.$name):d;o&&(h(e,s),i.$observe(o,function(t){s.$name!==t&&(h(e,void 0),s.$$parentForm.$$renameControl(s,t),(h=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),h(e,void 0),u(s,Do)})}}}};return i}]},jo=Ro(),Fo=Ro(!0),Po=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,_o=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Vo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Bo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Uo=/^(\d{4,})-(\d{2})-(\d{2})$/,Ho=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Wo=/^(\d{4,})-W(\d\d)$/,qo=/^(\d{4,})-(\d\d)$/,Go=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,zo="keydown wheel mousedown",Ko=ge();r("date,datetime-local,month,time,week".split(","),function(e){Ko[e]=!0});var Xo={text:hr,date:gr("date",Uo,fr(Uo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":gr("datetimelocal",Ho,fr(Ho,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:gr("time",Go,fr(Go,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:gr("week",Wo,dr,"yyyy-Www"),month:gr("month",qo,fr(qo,["yyyy","MM"]),"yyyy-MM"),number:vr,url:$r,email:yr,radio:br,checkbox:xr,hidden:d,button:d,submit:d,reset:d,file:d},Jo=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Xo[kr(a.type)]||Xo.text)(i,o,a,s[0],t,e,n,r)}}}}],Yo=/^(true|false|\d+)$/,Qo=function(){return{restrict:"A",priority:100,compile:function(e,t){return Yo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Zo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=v(e)?"":e})}}}}],ea=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=v(e)?"":e})}}}}],ta=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],na=g({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ra=Er("",!0),ia=Er("Odd",0),oa=Er("Even",1),aa=sr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),sa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],la={},ua={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=gt("ng-"+e);la[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};ua[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var ca=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=fe(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],ha=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Wr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var h,p,d,f=0,g=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).then(function(){p=null}),p=d,d=null)};r.$watch(o,function(o){var l=function(){!$(s)||s&&!r.$eval(s)||t()},p=++f;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&p===f){var t=r.$new();u.template=e;var s=c(t,function(e){g(),n.enter(e,null,i).then(l)});h=t,d=s,h.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||p===f&&(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],pa=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return Br.call(r[0]).match(/SVG/)?(r.empty(),void t(Le(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],da=sr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),fa=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var o=t.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?Kr(o):o,l=function(e){if(!v(e)){var t=[];return e&&r(e.split(s),function(e){e&&t.push(a?Kr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return Gr(e)?e.join(o):void 0}),i.$isEmpty=function(e){return!e||!e.length}}}},ga="ng-valid",ma="ng-invalid",va="ng-pristine",$a="ng-dirty",ya="ng-untouched",ba="ng-touched",wa="ng-pending",xa="ng-empty",Ea="ng-not-empty",Ca=t("ngModel"),Sa=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,i,o,a,s,l,u,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(e),this.$$parentForm=Do;var h,p=o(n.ngModel),f=p.assign,g=p,m=f,y=null,b=this;this.$$setOptions=function(e){if(b.$options=e,e&&e.getterSetter){var t=o(n.ngModel+"()"),r=o(n.ngModel+"($$$p)");g=function(e){var n=p(e);return C(n)&&(n=t(e)),n},m=function(e,t){C(p(e))?r(e,{$$$p:t}):f(e,t)}}else if(!p.assign)throw Ca("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,Y(i))},this.$render=d,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){b.$isEmpty(e)?(a.removeClass(i,Ea),a.addClass(i,xa)):(a.removeClass(i,xa),a.addClass(i,Ea))};var w=0;Cr({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,a.removeClass(i,$a),a.addClass(i,va)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,a.removeClass(i,va),a.addClass(i,$a),b.$$parentForm.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,a.setClass(i,ya,ba)},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,a.setClass(i,ba,ya)},this.$rollbackViewValue=function(){s.cancel(y),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!x(b.$modelValue)||!isNaN(b.$modelValue)){var e=b.$$lastCommittedViewValue,t=b.$$rawModelValue,n=b.$valid,r=b.$modelValue,i=b.$options&&b.$options.allowInvalid;b.$$runValidators(t,e,function(e){i||n===e||(b.$modelValue=e?t:void 0,b.$modelValue!==r&&b.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function i(){var e=b.$$parserName||"parse";return v(h)?(s(e,null),!0):(h||(r(b.$validators,function(e,t){s(t,null)}),r(b.$asyncValidators,function(e,t){s(t,null)})),s(e,h),h)}function o(){var n=!0;return r(b.$validators,function(r,i){var o=r(e,t);n=n&&o,s(i,o)}),n?!0:(r(b.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],i=!0;r(b.$asyncValidators,function(r,o){var a=r(e,t);if(!N(a))throw Ca("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){i=!1,s(o,!1)}))}),n.length?u.all(n).then(function(){l(i)},d):l(!0)}function s(e,t){c===w&&b.$setValidity(e,t)}function l(e){c===w&&n(e)}w++;var c=w;return i()&&o()?void a():void l(!1)},this.$commitViewValue=function(){var e=b.$viewValue;s.cancel(y),(b.$$lastCommittedViewValue!==e||""===e&&b.$$hasNativeValidators)&&(b.$$updateEmptyClasses(e),b.$$lastCommittedViewValue=e,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){b.$modelValue!==o&&b.$$writeModelToScope()}var n=b.$$lastCommittedViewValue,r=n;if(h=v(r)?void 0:!0)for(var i=0;i<b.$parsers.length;i++)if(r=b.$parsers[i](r),v(r)){h=!1;break}x(b.$modelValue)&&isNaN(b.$modelValue)&&(b.$modelValue=g(e));var o=b.$modelValue,a=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=r,a&&(b.$modelValue=r,t()),b.$$runValidators(r,b.$$lastCommittedViewValue,function(e){a||(b.$modelValue=e?r:void 0,t())})},this.$$writeModelToScope=function(){m(e,b.$modelValue),r(b.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){b.$viewValue=e,b.$options&&!b.$options.updateOnDefault||b.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=b.$options;i&&$(i.debounce)&&(n=i.debounce,x(n)?r=n:x(n[t])?r=n[t]:x(n["default"])&&(r=n["default"])),s.cancel(y),r?y=s(function(){b.$commitViewValue()},r):l.$$phase?b.$commitViewValue():e.$apply(function(){b.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==b.$modelValue&&(b.$modelValue===b.$modelValue||t===t)){b.$modelValue=b.$$rawModelValue=t,h=void 0;for(var n=b.$formatters,r=n.length,i=t;r--;)i=n[r](i);b.$viewValue!==i&&(b.$$updateEmptyClasses(i),b.$viewValue=b.$$lastCommittedViewValue=i,b.$render(),b.$$runValidators(t,i,d))}return t})}],La=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Sa,priority:1,compile:function(t){return t.addClass(va).addClass(ya).addClass(ga),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Aa=/(\s+|^)default(\s+|$)/,Ta=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=_(e.$eval(t.ngModelOptions)),$(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Kr(this.$options.updateOn.replace(Aa,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ma=sr({terminal:!0,priority:1e3}),ka=t("ngOptions"),Ia=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Na=["$compile","$document","$parse",function(t,i,o){function a(e,t,r){function i(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!u&&n(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var s=e.match(Ia);if(!s)throw ka("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Y(t));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],h=s[9],p=o(s[2]?s[1]:l),d=c&&o(c),f=d||p,g=h&&o(h),m=h?function(e,t){return g(r,t)}:function(e){return Ye(e)},v=function(e,t){return m(e,E(e,t))},$=o(s[2]||s[1]),y=o(s[3]||""),b=o(s[4]||""),w=o(s[8]),x={},E=u?function(e,t){return x[u]=t,x[l]=e,x}:function(e){return x[l]=e,x};return{trackBy:h,getTrackByValue:v,getWatchables:o(w,function(e){var t=[];e=e||[];for(var n=a(e),i=n.length,o=0;i>o;o++){var l=e===n?o:n[o],u=e[l],c=E(u,l),h=m(u,c);if(t.push(h),s[2]||s[1]){var p=$(r,c);t.push(p)}if(s[4]){var d=b(r,c);t.push(d)}}return t}),getOptions:function(){for(var e=[],t={},n=w(r)||[],o=a(n),s=o.length,l=0;s>l;l++){var u=n===o?l:o[l],c=n[u],p=E(c,u),d=f(r,p),g=m(d,p),x=$(r,p),C=y(r,p),S=b(r,p),L=new i(g,d,x,C,S);e.push(L),t[g]=L}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return h?Wr.copy(e.viewValue):e.viewValue}}}}}function s(e,n,o,s){function c(e,t){var n=l.cloneNode(!1);t.appendChild(n),h(e,n)}function h(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function p(){var e=E&&f.readValue();if(E)for(var t=E.items.length-1;t>=0;t--){var r=E.items[t];He(r.group?r.element.parentNode:r.element)}E=C.getOptions();var i={};if(w&&n.prepend(d),E.items.forEach(function(e){var t;$(e.group)?(t=i[e.group],t||(t=u.cloneNode(!1),S.appendChild(t),t.label=e.group,i[e.group]=t),c(e,t)):c(e,S)}),n[0].appendChild(S),g.$render(),!g.$isEmpty(e)){var o=f.readValue(),a=C.trackBy||m;(a?B(e,o):e===o)||(g.$setViewValue(o),g.$render())}}for(var d,f=s[0],g=s[1],m=o.multiple,v=0,y=n.children(),b=y.length;b>v;v++)if(""===y[v].value){d=y.eq(v);break}var w=!!d,x=Rr(l.cloneNode(!1));x.val("?");var E,C=a(o.ngOptions,n,e),S=i[0].createDocumentFragment(),L=function(){w||n.prepend(d),n.val(""),d.prop("selected",!0),d.attr("selected",!0)},A=function(){w||d.remove()},T=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},M=function(){x.remove()};m?(g.$isEmpty=function(e){return!e||0===e.length},f.writeValue=function(e){E.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=E.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},f.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){var n=E.selectValueMap[e];n&&!n.disabled&&t.push(E.getViewValueFromOption(n))}),t},C.trackBy&&e.$watchCollection(function(){return Gr(g.$viewValue)?g.$viewValue.map(function(e){return C.getTrackByValue(e)}):void 0},function(){g.$render()})):(f.writeValue=function(e){var t=E.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(M(),A(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||w?(M(),L()):(A(),T())},f.readValue=function(){var e=E.selectValueMap[n.val()];return e&&!e.disabled?(A(),M(),E.getViewValueFromOption(e)):null},C.trackBy&&e.$watch(function(){return C.getTrackByValue(g.$viewValue)},function(){g.$render()})),w?(d.remove(),t(d)(e),d.removeClass("ng-scope")):d=Rr(l.cloneNode(!1)),n.empty(),p(),e.$watchCollection(C.getWatchables,p)}var l=e.document.createElement("option"),u=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=d},post:s}}}],Da=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,h=l.count,p=l.$attr.when&&s.attr(l.$attr.when),f=l.offset||0,g=a.$eval(p)||{},m={},$=t.startSymbol(),y=t.endSymbol(),b=$+h+"-"+f+y,w=Wr.noop;r(l,function(e,t){var n=o.exec(t);if(n){var r=(n[1]?"-":"")+kr(n[2]);g[r]=s.attr(l.$attr[t])}}),r(g,function(e,n){m[n]=t(e.replace(i,b))}),a.$watch(h,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in g||(r=e.pluralCat(r-f)),r!==c&&!(i&&x(c)&&isNaN(c))){w();var o=m[r];v(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),w=d,u()):w=a.$watch(o,u),c=r}})}}}],Oa=["$parse","$animate","$compile",function(e,i,o){var a="$$NG_REMOVED",s=t("ngRepeat"),l=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,h){var p=h.ngRepeat,d=o.$$createComment("end ngRepeat",p),f=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=f[1],m=f[2],v=f[3],$=f[4];if(f=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!f)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var y=f[3]||f[1],b=f[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var w,x,E,C,S={$id:Ye};return $?w=e($):(E=function(e,t){return Ye(t)},C=function(e){return e}),function(e,t,o,h,f){w&&(x=function(t,n,r){return b&&(S[b]=t),S[y]=n,S.$index=r,w(e,S)});var g=ge();e.$watchCollection(m,function(o){var h,m,$,w,S,L,A,T,M,k,I,N,D=t[0],O=ge();if(v&&(e[v]=o),n(o))M=o,T=x||E;else{T=x||C,M=[];for(var R in o)Mr.call(o,R)&&"$"!==R.charAt(0)&&M.push(R)}for(w=M.length,I=new Array(w),h=0;w>h;h++)if(S=o===M?h:M[h],L=o[S],A=T(S,L,h),g[A])k=g[A],delete g[A],O[A]=k,I[h]=k;else{if(O[A])throw r(I,function(e){e&&e.scope&&(g[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,A,L);I[h]={id:A,scope:void 0,clone:void 0},O[A]=!0}for(var j in g){if(k=g[j],N=fe(k.clone),i.leave(N),N[0].parentNode)for(h=0,m=N.length;m>h;h++)N[h][a]=!0;k.scope.$destroy()}for(h=0;w>h;h++)if(S=o===M?h:M[h],L=o[S],k=I[h],k.scope){$=D;do $=$.nextSibling;while($&&$[a]);u(k)!=$&&i.move(fe(k.clone),null,D),D=c(k),l(k.scope,h,y,L,b,S,w)}else f(function(e,t){k.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,i.enter(e,null,D),D=n,k.clone=e,O[k.id]=k,l(k.scope,h,y,L,b,S,w)});g=O})}}}}],Ra="ng-hide",ja="ng-hide-animate",Fa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Ra,{tempClasses:ja})})}}}],Pa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Ra,{tempClasses:ja})})}}}],_a=sr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Va=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,a){var s=o.ngSwitch||o.on,l=[],u=[],c=[],h=[],p=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var i,o;for(i=0,o=c.length;o>i;++i)e.cancel(c[i]);for(c.length=0,i=0,o=h.length;o>i;++i){var s=fe(u[i].clone);h[i].$destroy();var d=c[i]=e.leave(s);d.then(p(c,i))}u.length=0,h.length=0,(l=a.cases["!"+n]||a.cases["?"])&&r(l,function(n){n.transclude(function(r,i){h.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");
var a={clone:r};u.push(a),e.enter(r,o.parent(),o)})})})}}}],Ba=sr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Ua=sr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ha=t("ngTransclude"),Wa=sr({restrict:"EAC",link:function(e,t,n,r,i){function o(e){e.length&&(t.empty(),t.append(e))}if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!i)throw Ha("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Y(t));var a=n.ngTransclude||n.ngTranscludeSlot;i(o,null,a)}}),qa=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ga={$setViewValue:d,$render:d},za=["$element","$scope",function(t,n){var r=this,i=new Qe;r.ngModelCtrl=Ga,r.unknownOption=Rr(e.document.createElement("option")),r.renderUnknownOption=function(e){var n="? "+Ye(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},n.$on("$destroy",function(){r.renderUnknownOption=d}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(t[0].nodeType!==oi){pe(e,'"option value"'),""===e&&(r.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),r.ngModelCtrl.$render(),Lr(t)}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(r.emptyOption=void 0)):i.put(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.registerOption=function(e,t,n,i,o){if(i){var a;n.$observe("value",function(e){$(a)&&r.removeOption(a),a=e,r.addOption(e,t)})}else o?e.$watch(o,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Ka=function(){function e(e,t,n,i){var o=i[1];if(o){var a=i[0];if(a.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Qe(e);r(t.find("option"),function(e){e.selected=$(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||B(s,o.$viewValue)||(s=V(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:za,priority:1,link:{pre:e,post:t}}},Xa=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if($(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,r,i)}}}}],Ja=g({restrict:"E",terminal:!1}),Ya=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Qa=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(w(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,Y(n));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||v(o)||o.test(t)}}}}},Za=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=h(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},es=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=h(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(ue(),ye(Wr),Wr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var i=Math.pow(10,r),o=(e*i|0)%i;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var i=0|e,o=n(e,t);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),void Rr(e.document).ready(function(){ie(e.document,oe)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("chromeStorage",[]).factory("chromeStorage",function(e){var t=null;try{t=chrome.storage.local}catch(n){console.log("could not initiate chrome local storage: "+n)}var r=null,i={},o=function(n){var r=e.defer();return t.getBytesInUse(n,function(e){chrome.runtime.lasterror?(console.log("error retrieving bytes in use for keys "+n),r.reject(chrome.runtime.lasterror.message)):(console.log("retrieved bytes in use for keys "+n+": "+e),r.resolve(e))}),r.promise};return{getDebuggingTotalBytesInUse:function(){return r},getDebuggingCache:function(){return i},getDebuggingPercentUsed:function(){var e=r/t.QUOTA_BYTES;return e},getDebuggingSizeOf:function(e){return angular.toJson(i[e]).length},updateDebuggingCache:function(){var n=e.defer();t.get(null,function(e){chrome.runtime.lasterror?n.reject(chrome.runtime.lasterror.message):n.resolve(e)}),n.promise.then(function(e){i=e})},updateDebuggingTotalBytes:function(){o(null).then(function(e){console.log("total bytes in use: "+e),r=e})},clearCache:function(){t.clear(function(){chrome.runtime.lastError?console.error("error clearing local cache"+chrome.runtime.lastError):console.log("cache has been cleared")})},drop:function(e){t.remove(e,function(){chrome.runtime.lasterror&&console.error(chrome.runtime.lasterror.message)})},get:function(n){var r=e.defer();return t.get(n,function(e){var t=e[n];r.resolve(t)}),r.promise},getOrElse:function(n,r){var i=e.defer();return t.get(n,function(e){var o=e[n];void 0==o||null==o?r().then(function(e){o=e;var r={};r[n]=o,t.set(r,function(){chrome.runtime.lasterror&&console.error(chrome.runtime.lasterror.message)}),i.resolve(o)}):i.resolve(o)}),i.promise},set:function(e,n){var r={};r[e]=n,t.set(r,function(){chrome.runtime.lasterror&&console.error(chrome.runtime.lasterror.message)})},forceGet:function(n,r){var i=e.defer();return r().then(function(e){keyValue=e;var r={};r[n]=keyValue,t.set(r,function(){chrome.runtime.lasterror&&console.error(chrome.runtime.lasterror.message)}),i.resolve(keyValue)}),i.promise},getQuota:function(){return t.QUOTA_BYTES}}}),Array.prototype.push||(Array.prototype.push=function(){for(var e=0,t=arguments.length;t>e;e++)this[this.length]=arguments[e];return this.length}),Array.prototype.shift||(Array.prototype.shift=function(){if(this.length>0){for(var e=this[0],t=0,n=this.length-1;n>t;t++)this[t]=this[t+1];return this.length=this.length-1,e}}),Array.prototype.splice||(Array.prototype.splice=function(e,t){var n=this.slice(e+t),r=this.slice(e,e+t);this.length=e;for(var i=[],o=0,a=arguments.length;a>o;o++)i[o]=arguments[o];var s=i.length>2?n=i.slice(2).concat(n):n;for(o=0,a=s.length;a>o;o++)this.push(s[o]);return r});var log4javascript=function(){function isUndefined(e){return"undefined"==typeof e}function EventSupport(){}function Log4JavaScript(){}function toStr(e){return e&&e.toString?e.toString():String(e)}function getExceptionMessage(e){return e.message?e.message:e.description?e.description:toStr(e)}function getUrlFileName(e){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return e.substr(t+1)}function getExceptionStringRep(e){if(e){var t="Exception: "+getExceptionMessage(e);try{e.lineNumber&&(t+=" on line number "+e.lineNumber),e.fileName&&(t+=" in file "+getUrlFileName(e.fileName))}catch(n){logLog.warn("Unable to obtain file and line information for error")}return showStackTraces&&e.stack&&(t+=newLine+"Stack trace:"+newLine+e.stack),t}return null}function bool(e){return Boolean(e)}function trim(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function splitIntoLines(e){var t=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.split("\n")}function array_remove(e,t){for(var n=-1,r=0,i=e.length;i>r;r++)if(e[r]===t){n=r;break}return n>=0?(e.splice(n,1),!0):!1}function array_contains(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]==t)return!0;return!1}function extractBooleanFromParam(e,t){return isUndefined(e)?t:bool(e)}function extractStringFromParam(e,t){return isUndefined(e)?t:String(e)}function extractIntFromParam(e,t){if(isUndefined(e))return t;try{var n=parseInt(e,10);return isNaN(n)?t:n}catch(r){return logLog.warn("Invalid int param "+e,r),t}}function extractFunctionFromParam(e,t){return"function"==typeof e?e:t}function isError(e){return e instanceof Error}function getListenersPropertyName(e){return"__log4javascript_listeners__"+e}function addEvent(e,t,n,r,i){if(i=i?i:window,e.addEventListener)e.addEventListener(t,n,r);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var o=getListenersPropertyName(t);e[o]||(e[o]=[],e["on"+t]=function(e){e=getEvent(e,i);for(var n,r=getListenersPropertyName(t),o=this[r].concat([]);n=o.shift();)n.call(this,e)}),e[o].push(n)}}function removeEvent(e,t,n,r){if(e.removeEventListener)e.removeEventListener(t,n,r);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=getListenersPropertyName(t);e[i]&&array_remove(e[i],n)}}function getEvent(e,t){return t=t?t:window,e?e:t.event}function stopEventPropagation(e){e.stopPropagation?e.stopPropagation():"undefined"!=typeof e.cancelBubble&&(e.cancelBubble=!0),e.returnValue=!1}function handleError(e,t){logLog.error(e,t),log4javascript.dispatchEvent("error",{message:e,exception:t})}function Timer(e,t){this.name=e,this.level=isUndefined(t)?Level.INFO:t,this.start=new Date}function Logger(e){this.name=e,this.parent=null,this.children=[];var t=[],n=null,r=this.name===rootLoggerName,i=this.name===nullLoggerName,o=null,a=!1;this.addChild=function(e){this.children.push(e),e.parent=this,e.invalidateAppenderCache()};var s=!0;this.getAdditivity=function(){return s},this.setAdditivity=function(e){var t=s!=e;s=e,t&&this.invalidateAppenderCache()},this.addAppender=function(e){i?handleError("Logger.addAppender: you may not add an appender to the null logger"):e instanceof log4javascript.Appender?array_contains(t,e)||(t.push(e),e.setAddedToLogger(this),this.invalidateAppenderCache()):handleError("Logger.addAppender: appender supplied ('"+toStr(e)+"') is not a subclass of Appender")},this.removeAppender=function(e){array_remove(t,e),e.setRemovedFromLogger(this),this.invalidateAppenderCache()},this.removeAllAppenders=function(){var e=t.length;if(e>0){for(var n=0;e>n;n++)t[n].setRemovedFromLogger(this);t.length=0,this.invalidateAppenderCache()}},this.getEffectiveAppenders=function(){if(null===o||a){var e=r||!this.getAdditivity()?[]:this.parent.getEffectiveAppenders();o=e.concat(t),a=!1}return o},this.invalidateAppenderCache=function(){a=!0;for(var e=0,t=this.children.length;t>e;e++)this.children[e].invalidateAppenderCache()},this.log=function(e,t){if(enabled&&e.isGreaterOrEqual(this.getEffectiveLevel())){var n,r=t.length-1,i=t[r];t.length>1&&isError(i)&&(n=i,r--);for(var o=[],a=0;r>=a;a++)o[a]=t[a];var s=new LoggingEvent(this,new Date,e,o,n);this.callAppenders(s)}},this.callAppenders=function(e){for(var t=this.getEffectiveAppenders(),n=0,r=t.length;r>n;n++)t[n].doAppend(e)},this.setLevel=function(e){r&&null===e?handleError("Logger.setLevel: you cannot set the level of the root logger to null"):e instanceof Level?n=e:handleError("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")},this.getLevel=function(){return n},this.getEffectiveLevel=function(){for(var e=this;null!==e;e=e.parent){var t=e.getLevel();if(null!==t)return t}},this.group=function(e,t){if(enabled)for(var n=this.getEffectiveAppenders(),r=0,i=n.length;i>r;r++)n[r].group(e,t)},this.groupEnd=function(){if(enabled)for(var e=this.getEffectiveAppenders(),t=0,n=e.length;n>t;t++)e[t].groupEnd()};var l={};this.time=function(e,t){enabled&&(isUndefined(e)?handleError("Logger.time: a name for the timer must be supplied"):!t||t instanceof Level?l[e]=new Timer(e,t):handleError("Logger.time: level supplied to timer "+e+" is not an instance of log4javascript.Level"))},this.timeEnd=function(e){if(enabled)if(isUndefined(e))handleError("Logger.timeEnd: a name for the timer must be supplied");else if(l[e]){var t=l[e],n=t.getElapsedTime();this.log(t.level,["Timer "+toStr(e)+" completed in "+n+"ms"]),delete l[e]}else logLog.warn("Logger.timeEnd: no timer found with name "+e)},this.assert=function(e){if(enabled&&!e){for(var t=[],n=1,r=arguments.length;r>n;n++)t.push(arguments[n]);t=t.length>0?t:["Assertion Failure"],t.push(newLine),t.push(e),this.log(Level.ERROR,t)}},this.toString=function(){return"Logger["+this.name+"]"}}function SimpleLayout(){this.customFields=[]}function NullLayout(){this.customFields=[]}function XmlLayout(e){this.combineMessages=extractBooleanFromParam(e,!0),this.customFields=[]}function escapeNewLines(e){return e.replace(/\r\n|\r|\n/g,"\\r\\n")}function JsonLayout(e,t){this.readable=extractBooleanFromParam(e,!1),this.combineMessages=extractBooleanFromParam(t,!0),this.batchHeader=this.readable?"["+newLine:"[",this.batchFooter=this.readable?"]"+newLine:"]",this.batchSeparator=this.readable?","+newLine:",",this.setKeys(),this.colon=this.readable?": ":":",this.tab=this.readable?"	":"",this.lineBreak=this.readable?newLine:"",this.customFields=[]}function HttpPostDataLayout(){this.setKeys(),this.customFields=[],this.returnsPostData=!0}function formatObjectExpansion(e,t,n){function r(e,t,n){function o(e){for(var t=splitIntoLines(e),r=1,i=t.length;i>r;r++)t[r]=n+t[r];return t.join(newLine)}var a,s,l,u,c,h,p;if(n||(n=""),null===e)return"null";if("undefined"==typeof e)return"undefined";if("string"==typeof e)return o(e);if("object"==typeof e&&array_contains(i,e)){try{h=toStr(e)}catch(d){h="Error formatting property. Details: "+getExceptionStringRep(d)}return h+" [already expanded]"}if(e instanceof Array&&t>0){for(i.push(e),h="["+newLine,l=t-1,u=n+"  ",c=[],a=0,s=e.length;s>a;a++)try{p=r(e[a],l,u),c.push(u+p)}catch(d){c.push(u+"Error formatting array member. Details: "+getExceptionStringRep(d))}return h+=c.join(","+newLine)+newLine+n+"]"}if("[object Date]"==Object.prototype.toString.call(e))return e.toString();if("object"==typeof e&&t>0){i.push(e),h="{"+newLine,l=t-1,u=n+"  ",c=[];for(a in e)try{p=r(e[a],l,u),c.push(u+a+": "+p)}catch(d){c.push(u+a+": Error formatting property. Details: "+getExceptionStringRep(d))}return h+=c.join(","+newLine)+newLine+n+"}"}return o(toStr(e))}var i=[];return r(e,t,n)}function PatternLayout(e){e?this.pattern=e:this.pattern=PatternLayout.DEFAULT_CONVERSION_PATTERN,this.customFields=[]}function AlertAppender(){}function BrowserConsoleAppender(){}function isHttpRequestSuccessful(e){return isUndefined(e.status)||0===e.status||e.status>=200&&e.status<300||1223==e.status}function AjaxAppender(e,t){function n(e){return L?(handleError("AjaxAppender: configuration option '"+e+"' may not be set after the appender has been initialized"),!1):!0}function r(){if(h&&enabled){S=!0;var e;if(d)E.length>0?(e=E.shift(),l(o(e),r)):(S=!1,p&&a());else{for(;e=E.shift();)l(o(e));S=!1,p&&a()}}}function i(){var e=!1;if(h&&enabled){for(var t,n=c.getLayout().allowBatching()?f:1,i=[];t=x.shift();)i.push(t),x.length>=n&&(E.push(i),i=[]);i.length>0&&E.push(i),e=E.length>0,d=!1,p=!1,r()}return e}function o(e){for(var t,n=[],r="";t=e.shift();)n.push(c.getLayout().formatWithException(t));return r=1==e.length?n.join(""):c.getLayout().batchHeader+n.join(c.getLayout().batchSeparator)+c.getLayout().batchFooter,b==c.defaults.contentType&&(r=c.getLayout().returnsPostData?r:urlEncode($)+"="+urlEncode(r),r.length>0&&(r+="&"),r+="layout="+urlEncode(c.getLayout().toString())),r}function a(){window.setTimeout(r,g)}function s(){var e="AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled";handleError(e),h=!1,v&&v(e)}function l(n,r){try{var i=getXmlHttp(s);if(h){t&&withCredentialsSupported&&(i.withCredentials=!0),i.onreadystatechange=function(){if(4==i.readyState){if(isHttpRequestSuccessful(i))m&&m(i),r&&r(i);else{var t="AjaxAppender.append: XMLHttpRequest request to URL "+e+" returned status code "+i.status;handleError(t),v&&v(t)}i.onreadystatechange=emptyFunction,i=null}},i.open("POST",e,!0);try{for(var o,a=0;o=C[a++];)i.setRequestHeader(o.name,o.value);i.setRequestHeader("Content-Type",b)}catch(l){var u="AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled";return handleError(u),h=!1,void(v&&v(u))}i.send(n)}}catch(c){var p="AjaxAppender.append: error sending log message to "+e;handleError(p,c),h=!1,v&&v(p+". Details: "+getExceptionStringRep(c))}}function u(){if(L=!0,y){var e=window.onbeforeunload;window.onbeforeunload=function(){return e&&e(),i()?"Sending log messages":void 0}}p&&a()}var c=this,h=!0;e||(handleError("AjaxAppender: URL must be specified in constructor"),h=!1);var p=this.defaults.timed,d=this.defaults.waitForResponse,f=this.defaults.batchSize,g=this.defaults.timerInterval,m=this.defaults.requestSuccessCallback,v=this.defaults.failCallback,$=this.defaults.postVarName,y=this.defaults.sendAllOnUnload,b=this.defaults.contentType,w=null,x=[],E=[],C=[],S=!1,L=!1;this.getSessionId=function(){return w},this.setSessionId=function(e){w=extractStringFromParam(e,null),this.layout.setCustomField("sessionid",w)},this.setLayout=function(e){n("layout")&&(this.layout=e,null!==w&&this.setSessionId(w))},this.isTimed=function(){return p},this.setTimed=function(e){n("timed")&&(p=bool(e))},this.getTimerInterval=function(){return g},this.setTimerInterval=function(e){n("timerInterval")&&(g=extractIntFromParam(e,g))},this.isWaitForResponse=function(){return d},this.setWaitForResponse=function(e){n("waitForResponse")&&(d=bool(e))},this.getBatchSize=function(){return f},this.setBatchSize=function(e){n("batchSize")&&(f=extractIntFromParam(e,f))},this.isSendAllOnUnload=function(){return y},this.setSendAllOnUnload=function(e){n("sendAllOnUnload")&&(y=extractBooleanFromParam(e,y))},this.setRequestSuccessCallback=function(e){m=extractFunctionFromParam(e,m)},this.setFailCallback=function(e){v=extractFunctionFromParam(e,v)},this.getPostVarName=function(){return $},this.setPostVarName=function(e){n("postVarName")&&($=extractStringFromParam(e,$))},this.getHeaders=function(){return C},this.addHeader=function(e,t){"content-type"==e.toLowerCase()?b=t:C.push({name:e,value:t})},this.sendAll=r,this.sendAllRemaining=i,this.append=function(e){if(h){L||u(),x.push(e);var t=this.getLayout().allowBatching()?f:1;if(x.length>=t){for(var n,i=[];n=x.shift();)i.push(n);E.push(i),p||d&&(!d||S)||r()}}}}function setCookie(e,t,n,r){var i;if(r=r?"; path="+r:"",n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()}else i="";document.cookie=escape(e)+"="+escape(t)+i+r}function getCookie(e){for(var t=escape(e)+"=",n=document.cookie.split(";"),r=0,i=n.length;i>r;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return unescape(o.substring(t.length,o.length))}return null}function getBaseUrl(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;n>t;++t)if(-1!=e[t].src.indexOf("log4javascript")){var r=e[t].src.lastIndexOf("/");return-1==r?"":e[t].src.substr(0,r+1)}return null}function isLoaded(e){try{return bool(e.loaded)}catch(t){return!1}}function padWithSpaces(e,t){if(e.length<t){for(var n=[],r=Math.max(0,t-e.length),i=0;r>i;i++)n[i]=" ";e+=n.join("")}return e}EventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(e){if(e instanceof Array){this.eventTypes=e,this.eventListeners={};for(var t=0,n=this.eventTypes.length;n>t;t++)this.eventListeners[this.eventTypes[t]]=[]}else handleError("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+e+"'"),this.eventListeners[e].push(t)):handleError("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+e+"'"),array_remove(this.eventListeners[e],t)):handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(e,t){if(array_contains(this.eventTypes,e))for(var n=this.eventListeners[e],r=0,i=n.length;i>r;r++)n[r](this,e,t);else handleError("log4javascript.EventSupport ["+this+"]: dispatchEvent: no event called '"+e+"'")}};var applicationStartDate=new Date,uniqueId="log4javascript_"+applicationStartDate.getTime()+"_"+Math.floor(1e8*Math.random()),emptyFunction=function(){},newLine="\r\n",pageLoaded=!1;Log4JavaScript.prototype=new EventSupport,log4javascript=new Log4JavaScript,log4javascript.version="1.4.9",log4javascript.edition="log4javascript";var urlEncode="undefined"!=typeof window.encodeURIComponent?function(e){return encodeURIComponent(e)}:function(e){return escape(e).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")},urlDecode="undefined"!=typeof window.decodeURIComponent?function(e){return decodeURIComponent(e)}:function(e){return unescape(e).replace(/%2B/g,"+").replace(/%22/g,'"').replace(/%27/g,"'").replace(/%2F/g,"/").replace(/%3D/g,"=")};Function.prototype.apply||(Function.prototype.apply=function(obj,args){var methodName="__apply__";"undefined"!=typeof obj[methodName]&&(methodName+=String(Math.random()).substr(2)),obj[methodName]=this;for(var argsStrings=[],i=0,len=args.length;len>i;i++)argsStrings[i]="args["+i+"]";var script="obj."+methodName+"("+argsStrings.join(",")+")",returnValue=eval(script);return delete obj[methodName],returnValue}),Function.prototype.call||(Function.prototype.call=function(e){for(var t=[],n=1,r=arguments.length;r>n;n++)t[n-1]=arguments[n];return this.apply(e,t)});var logLog={quietMode:!1,debugMessages:[],setQuietMode:function(e){this.quietMode=bool(e)},numberOfErrors:0,alertAllErrors:!1,setAlertAllErrors:function(e){this.alertAllErrors=e},debug:function(e){this.debugMessages.push(e)},displayDebug:function(){alert(this.debugMessages.join(newLine))},warn:function(e,t){},error:function(e,t){if((1==++this.numberOfErrors||this.alertAllErrors)&&!this.quietMode){var n="log4javascript error: "+e;t&&(n+=newLine+newLine+"Original error: "+getExceptionStringRep(t)),alert(n)}}};log4javascript.logLog=logLog,log4javascript.setEventTypes(["load","error"]),log4javascript.handleError=handleError;var enabled=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);log4javascript.setEnabled=function(e){enabled=bool(e)},log4javascript.isEnabled=function(){return enabled};var useTimeStampsInMilliseconds=!0;log4javascript.setTimeStampsInMilliseconds=function(e){useTimeStampsInMilliseconds=bool(e)},log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds},log4javascript.evalInScope=function(expr){return eval(expr)};var showStackTraces=!1;log4javascript.setShowStackTraces=function(e){showStackTraces=bool(e)};var Level=function(e,t){this.level=e,this.name=t};Level.prototype={toString:function(){return this.name},equals:function(e){return this.level==e.level},isGreaterOrEqual:function(e){return this.level>=e.level}},Level.ALL=new Level(Number.MIN_VALUE,"ALL"),Level.TRACE=new Level(1e4,"TRACE"),Level.DEBUG=new Level(2e4,"DEBUG"),Level.INFO=new Level(3e4,"INFO"),Level.WARN=new Level(4e4,"WARN"),Level.ERROR=new Level(5e4,"ERROR"),Level.FATAL=new Level(6e4,"FATAL"),Level.OFF=new Level(Number.MAX_VALUE,"OFF"),log4javascript.Level=Level,Timer.prototype.getElapsedTime=function(){return(new Date).getTime()-this.start.getTime()};var anonymousLoggerName="[anonymous]",defaultLoggerName="[default]",nullLoggerName="[null]",rootLoggerName="root";Logger.prototype={trace:function(){this.log(Level.TRACE,arguments)},debug:function(){this.log(Level.DEBUG,arguments)},info:function(){this.log(Level.INFO,arguments)},warn:function(){this.log(Level.WARN,arguments)},error:function(){this.log(Level.ERROR,arguments)},fatal:function(){this.log(Level.FATAL,arguments)},isEnabledFor:function(e){return e.isGreaterOrEqual(this.getEffectiveLevel())},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE)},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG)},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO)},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN)},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR)},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL)}},Logger.prototype.trace.isEntryPoint=!0,Logger.prototype.debug.isEntryPoint=!0,Logger.prototype.info.isEntryPoint=!0,Logger.prototype.warn.isEntryPoint=!0,Logger.prototype.error.isEntryPoint=!0,Logger.prototype.fatal.isEntryPoint=!0;var loggers={},loggerNames=[],ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG,rootLogger=new Logger(rootLoggerName);rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),log4javascript.getRootLogger=function(){return rootLogger},log4javascript.getLogger=function(e){if("string"!=typeof e&&(e=anonymousLoggerName,logLog.warn("log4javascript.getLogger: non-string logger name "+toStr(e)+" supplied, returning anonymous logger")),e==rootLoggerName&&handleError("log4javascript.getLogger: root logger may not be obtained by name"),!loggers[e]){var t=new Logger(e);loggers[e]=t,loggerNames.push(e);var n,r=e.lastIndexOf(".");if(r>-1){var i=e.substring(0,r);n=log4javascript.getLogger(i)}else n=rootLogger;n.addChild(t)}return loggers[e]};var defaultLogger=null;log4javascript.getDefaultLogger=function(){if(!defaultLogger){defaultLogger=log4javascript.getLogger(defaultLoggerName);var e=new log4javascript.PopUpAppender;defaultLogger.addAppender(e)}return defaultLogger};var nullLogger=null;log4javascript.getNullLogger=function(){return nullLogger||(nullLogger=new Logger(nullLoggerName),nullLogger.setLevel(Level.OFF)),nullLogger},log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),loggers={}};var LoggingEvent=function(e,t,n,r,i){this.logger=e,this.timeStamp=t,this.timeStampInMilliseconds=t.getTime(),this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1e3),this.milliseconds=this.timeStamp.getMilliseconds(),this.level=n,this.messages=r,this.exception=i};LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):""},getCombinedMessages:function(){return 1==this.messages.length?this.messages[0]:this.messages.join(newLine)},toString:function(){return"LoggingEvent["+this.level+"]"}},log4javascript.LoggingEvent=LoggingEvent;var Layout=function(){};Layout.prototype={defaults:{loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url"},loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url",batchHeader:"",batchFooter:"",batchSeparator:"",returnsPostData:!1,overrideTimeStampsSetting:!1,useTimeStampsInMilliseconds:null,format:function(){handleError("Layout.format: layout supplied has no format() method")},ignoresThrowable:function(){handleError("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},getContentType:function(){return"text/plain"},allowBatching:function(){return!0},setTimeStampsInMilliseconds:function(e){this.overrideTimeStampsSetting=!0,this.useTimeStampsInMilliseconds=bool(e)},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds},getTimeStampValue:function(e){return this.isTimeStampsInMilliseconds()?e.timeStampInMilliseconds:e.timeStampInSeconds},getDataValues:function(e,t){var n=[[this.loggerKey,e.logger.name],[this.timeStampKey,this.getTimeStampValue(e)],[this.levelKey,e.level.name],[this.urlKey,window.location.href],[this.messageKey,t?e.getCombinedMessages():e.messages]];if(this.isTimeStampsInMilliseconds()||n.push([this.millisecondsKey,e.milliseconds]),e.exception&&n.push([this.exceptionKey,getExceptionStringRep(e.exception)]),this.hasCustomFields())for(var r=0,i=this.customFields.length;i>r;r++){var o=this.customFields[r].value;"function"==typeof o&&(o=o(this,e)),n.push([this.customFields[r].name,o])}return n},setKeys:function(e,t,n,r,i,o,a){this.loggerKey=extractStringFromParam(e,this.defaults.loggerKey),this.timeStampKey=extractStringFromParam(t,this.defaults.timeStampKey),this.levelKey=extractStringFromParam(n,this.defaults.levelKey),this.messageKey=extractStringFromParam(r,this.defaults.messageKey),this.exceptionKey=extractStringFromParam(i,this.defaults.exceptionKey),this.urlKey=extractStringFromParam(o,this.defaults.urlKey),this.millisecondsKey=extractStringFromParam(a,this.defaults.millisecondsKey)},setCustomField:function(e,t){for(var n=!1,r=0,i=this.customFields.length;i>r;r++)this.customFields[r].name===e&&(this.customFields[r].value=t,n=!0);n||this.customFields.push({name:e,value:t})},hasCustomFields:function(){return this.customFields.length>0},formatWithException:function(e){var t=this.format(e);return e.exception&&this.ignoresThrowable()&&(t+=e.getThrowableStrRep()),t},toString:function(){handleError("Layout.toString: all layouts must override this method")}},log4javascript.Layout=Layout;var Appender=function(){};Appender.prototype=new EventSupport,Appender.prototype.layout=new PatternLayout,Appender.prototype.threshold=Level.ALL,Appender.prototype.loggers=[],Appender.prototype.doAppend=function(e){enabled&&e.level.level>=this.threshold.level&&this.append(e);
},Appender.prototype.append=function(e){},Appender.prototype.setLayout=function(e){e instanceof Layout?this.layout=e:handleError("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")},Appender.prototype.getLayout=function(){return this.layout},Appender.prototype.setThreshold=function(e){e instanceof Level?this.threshold=e:handleError("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")},Appender.prototype.getThreshold=function(){return this.threshold},Appender.prototype.setAddedToLogger=function(e){this.loggers.push(e)},Appender.prototype.setRemovedFromLogger=function(e){array_remove(this.loggers,e)},Appender.prototype.group=emptyFunction,Appender.prototype.groupEnd=emptyFunction,Appender.prototype.toString=function(){handleError("Appender.toString: all appenders must override this method")},log4javascript.Appender=Appender,SimpleLayout.prototype=new Layout,SimpleLayout.prototype.format=function(e){return e.level.name+" - "+e.getCombinedMessages()},SimpleLayout.prototype.ignoresThrowable=function(){return!0},SimpleLayout.prototype.toString=function(){return"SimpleLayout"},log4javascript.SimpleLayout=SimpleLayout,NullLayout.prototype=new Layout,NullLayout.prototype.format=function(e){return e.messages},NullLayout.prototype.ignoresThrowable=function(){return!0},NullLayout.prototype.formatWithException=function(e){var t=e.messages,n=e.exception;return n?t.concat([n]):t},NullLayout.prototype.toString=function(){return"NullLayout"},log4javascript.NullLayout=NullLayout,XmlLayout.prototype=new Layout,XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages},XmlLayout.prototype.getContentType=function(){return"text/xml"},XmlLayout.prototype.escapeCdata=function(e){return e.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")},XmlLayout.prototype.format=function(e){function t(e){return e="string"==typeof e?e:toStr(e),"<log4javascript:message><![CDATA["+i.escapeCdata(e)+"]]></log4javascript:message>"}var n,r,i=this,o='<log4javascript:event logger="'+e.logger.name+'" timestamp="'+this.getTimeStampValue(e)+'"';if(this.isTimeStampsInMilliseconds()||(o+=' milliseconds="'+e.milliseconds+'"'),o+=' level="'+e.level.name+'">'+newLine,this.combineMessages)o+=t(e.getCombinedMessages());else{for(o+="<log4javascript:messages>"+newLine,n=0,r=e.messages.length;r>n;n++)o+=t(e.messages[n])+newLine;o+="</log4javascript:messages>"+newLine}if(this.hasCustomFields())for(n=0,r=this.customFields.length;r>n;n++)o+='<log4javascript:customfield name="'+this.customFields[n].name+'"><![CDATA['+this.customFields[n].value.toString()+"]]></log4javascript:customfield>"+newLine;return e.exception&&(o+="<log4javascript:exception><![CDATA["+getExceptionStringRep(e.exception)+"]]></log4javascript:exception>"+newLine),o+="</log4javascript:event>"+newLine+newLine},XmlLayout.prototype.ignoresThrowable=function(){return!1},XmlLayout.prototype.toString=function(){return"XmlLayout"},log4javascript.XmlLayout=XmlLayout,JsonLayout.prototype=new Layout,JsonLayout.prototype.isReadable=function(){return this.readable},JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages},JsonLayout.prototype.format=function(e){function t(e,n,r){var o,a=typeof e;if(e instanceof Date)o=String(e.getTime());else if(r&&e instanceof Array){o="["+i.lineBreak;for(var s=0,l=e.length;l>s;s++){var u=n+i.tab;o+=u+t(e[s],u,!1),s<e.length-1&&(o+=","),o+=i.lineBreak}o+=n+"]"}else o="number"!==a&&"boolean"!==a?'"'+escapeNewLines(toStr(e).replace(/\"/g,'\\"'))+'"':e;return o}var n,r,i=this,o=this.getDataValues(e,this.combineMessages),a="{"+this.lineBreak;for(n=0,r=o.length-1;r>=n;n++)a+=this.tab+'"'+o[n][0]+'"'+this.colon+t(o[n][1],this.tab,!0),r>n&&(a+=","),a+=this.lineBreak;return a+="}"+this.lineBreak},JsonLayout.prototype.ignoresThrowable=function(){return!1},JsonLayout.prototype.toString=function(){return"JsonLayout"},JsonLayout.prototype.getContentType=function(){return"application/json"},log4javascript.JsonLayout=JsonLayout,HttpPostDataLayout.prototype=new Layout,HttpPostDataLayout.prototype.allowBatching=function(){return!1},HttpPostDataLayout.prototype.format=function(e){for(var t=this.getDataValues(e),n=[],r=0,i=t.length;i>r;r++){var o=t[r][1]instanceof Date?String(t[r][1].getTime()):t[r][1];n.push(urlEncode(t[r][0])+"="+urlEncode(o))}return n.join("&")},HttpPostDataLayout.prototype.ignoresThrowable=function(e){return!1},HttpPostDataLayout.prototype.toString=function(){return"HttpPostDataLayout"},log4javascript.HttpPostDataLayout=HttpPostDataLayout;var SimpleDateFormat;!function(){var e=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=0,i=1,o=2,a=3,s=4,l=5,u={G:r,y:a,M:s,w:o,W:o,D:o,d:o,F:o,E:i,a:r,H:o,k:o,K:o,h:o,m:o,s:o,S:o,Z:l},c=864e5,h=7*c,p=1,d=function(e,t,n){var r=new Date(e,t,n,0,0,0);return r.setMilliseconds(0),r};Date.prototype.getDifference=function(e){return this.getTime()-e.getTime()},Date.prototype.isBefore=function(e){return this.getTime()<e.getTime()},Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())},Date.prototype.getTimeSince=function(e){return this.getUTCTime()-e.getUTCTime()},Date.prototype.getPreviousSunday=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0),t=new Date(e.getTime()-this.getDay()*c);return d(t.getFullYear(),t.getMonth(),t.getDate())},Date.prototype.getWeekInYear=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=p);var t=this.getPreviousSunday(),n=d(this.getFullYear(),0,1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/h),i=7-n.getDay(),o=r;return e>i&&o--,o},Date.prototype.getWeekInMonth=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=p);var t=this.getPreviousSunday(),n=d(this.getFullYear(),this.getMonth(),1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/h),i=7-n.getDay(),o=r;return i>=e&&o++,o},Date.prototype.getDayInYear=function(){var e=d(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(e)/c)},SimpleDateFormat=function(e){this.formatString=e},SimpleDateFormat.prototype.setMinimalDaysInFirstWeek=function(e){this.minimalDaysInFirstWeek=e},SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?p:this.minimalDaysInFirstWeek};var f=function(e,t){for(;e.length<t;)e="0"+e;return e},g=function(e,t,n){return t>=4?e:e.substr(0,Math.max(n,t))},m=function(e,t){var n=""+e;return f(n,t)};SimpleDateFormat.prototype.format=function(c){for(var h,p="",d=this.formatString;h=e.exec(d);){var v=h[1],$=h[2],y=h[3],b=h[4];if(v)p+="''"==v?"'":v.substring(1,v.length-1);else if(y);else if(b)p+=b;else if($){var w=$.charAt(0),x=$.length,E="";switch(w){case"G":E="AD";break;case"y":E=c.getFullYear();break;case"M":E=c.getMonth();break;case"w":E=c.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case"W":E=c.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case"D":E=c.getDayInYear();break;case"d":E=c.getDate();break;case"F":E=1+Math.floor((c.getDate()-1)/7);break;case"E":E=n[c.getDay()];break;case"a":E=c.getHours()>=12?"PM":"AM";break;case"H":E=c.getHours();break;case"k":E=c.getHours()||24;break;case"K":E=c.getHours()%12;break;case"h":E=c.getHours()%12||12;break;case"m":E=c.getMinutes();break;case"s":E=c.getSeconds();break;case"S":E=c.getMilliseconds();break;case"Z":E=c.getTimezoneOffset()}switch(u[w]){case r:p+=g(E,x,2);break;case i:p+=g(E,x,3);break;case o:p+=m(E,x);break;case a:if(3>=x){var C=""+E;p+=C.substr(2,2)}else p+=m(E,x);break;case s:p+=x>=3?g(t[E],x,x):m(E+1,x);break;case l:var S=E>0,L=S?"-":"+",A=Math.abs(E),T=""+Math.floor(A/60);T=f(T,2);var M=""+A%60;M=f(M,2),p+=L+T+M}}d=d.substr(h.index+h[0].length)}return p}}(),log4javascript.SimpleDateFormat=SimpleDateFormat,PatternLayout.TTCC_CONVERSION_PATTERN="%r %p %c - %m%n",PatternLayout.DEFAULT_CONVERSION_PATTERN="%m%n",PatternLayout.ISO8601_DATEFORMAT="yyyy-MM-dd HH:mm:ss,SSS",PatternLayout.DATETIME_DATEFORMAT="dd MMM yyyy HH:mm:ss,SSS",PatternLayout.ABSOLUTETIME_DATEFORMAT="HH:mm:ss,SSS",PatternLayout.prototype=new Layout,PatternLayout.prototype.format=function(e){for(var t,n=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,r="",i=this.pattern;t=n.exec(i);){var o=t[0],a=t[1],s=t[2],l=t[3],u=t[5],c=t[6];if(c)r+=""+c;else{var h="";switch(l){case"a":case"m":var p=0;u&&(p=parseInt(u,10),isNaN(p)&&(handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character '"+l+"' - should be a number"),p=0));for(var d="a"===l?e.messages[0]:e.messages,f=0,g=d.length;g>f;f++)f>0&&" "!==h.charAt(h.length-1)&&(h+=" "),h+=0===p?d[f]:formatObjectExpansion(d[f],p);break;case"c":var m=e.logger.name;if(u){var v=parseInt(u,10),$=e.logger.name.split(".");h=v>=$.length?m:$.slice($.length-v).join(".")}else h=m;break;case"d":var y=PatternLayout.ISO8601_DATEFORMAT;u&&(y=u,"ISO8601"==y?y=PatternLayout.ISO8601_DATEFORMAT:"ABSOLUTE"==y?y=PatternLayout.ABSOLUTETIME_DATEFORMAT:"DATE"==y&&(y=PatternLayout.DATETIME_DATEFORMAT)),h=new SimpleDateFormat(y).format(e.timeStamp);break;case"f":if(this.hasCustomFields()){var b=0;u&&(b=parseInt(u,10),isNaN(b)?handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character 'f' - should be a number"):0===b?handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character 'f' - must be greater than zero"):b>this.customFields.length?handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character 'f' - there aren't that many custom fields"):b-=1);var w=this.customFields[b].value;"function"==typeof w&&(w=w(this,e)),h=w}break;case"n":h=newLine;break;case"p":h=e.level.name;break;case"r":h=""+e.timeStamp.getDifference(applicationStartDate);break;case"%":h="%";break;default:h=o}var x;if(s){x=parseInt(s.substr(1),10);var E=h.length;E>x&&(h=h.substring(E-x,E))}if(a)if("-"==a.charAt(0))for(x=parseInt(a.substr(1),10);h.length<x;)h+=" ";else for(x=parseInt(a,10);h.length<x;)h=" "+h;r+=h}i=i.substr(t.index+t[0].length)}return r},PatternLayout.prototype.ignoresThrowable=function(){return!0},PatternLayout.prototype.toString=function(){return"PatternLayout"},log4javascript.PatternLayout=PatternLayout,AlertAppender.prototype=new Appender,AlertAppender.prototype.layout=new SimpleLayout,AlertAppender.prototype.append=function(e){alert(this.getLayout().formatWithException(e))},AlertAppender.prototype.toString=function(){return"AlertAppender"},log4javascript.AlertAppender=AlertAppender,BrowserConsoleAppender.prototype=new log4javascript.Appender,BrowserConsoleAppender.prototype.layout=new NullLayout,BrowserConsoleAppender.prototype.threshold=Level.DEBUG,BrowserConsoleAppender.prototype.append=function(e){var t,n=this,r=function(){var t=n.getLayout().formatWithException(e);return"string"==typeof t?[t]:t};if((t=window.console)&&t.log){var i,o=r();i=t.debug&&Level.DEBUG.isGreaterOrEqual(e.level)?"debug":t.info&&Level.INFO.equals(e.level)?"info":t.warn&&Level.WARN.equals(e.level)?"warn":t.error&&e.level.isGreaterOrEqual(Level.ERROR)?"error":"log",t[i].apply?t[i].apply(t,o):t[i](o)}else"undefined"!=typeof opera&&opera.postError&&opera.postError(r())},BrowserConsoleAppender.prototype.group=function(e){window.console&&window.console.group&&window.console.group(e)},BrowserConsoleAppender.prototype.groupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},BrowserConsoleAppender.prototype.toString=function(){return"BrowserConsoleAppender"},log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xhrFactory=function(){return new XMLHttpRequest},xmlHttpFactories=[xhrFactory,function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],withCredentialsSupported=!1,getXmlHttp=function(e){for(var t,n=null,r=0,i=xmlHttpFactories.length;i>r;r++){t=xmlHttpFactories[r];try{return n=t(),withCredentialsSupported=t==xhrFactory&&"withCredentials"in n,getXmlHttp=t,n}catch(o){}}e?e():handleError("getXmlHttp: unable to obtain XMLHttpRequest object")};AjaxAppender.prototype=new Appender,AjaxAppender.prototype.defaults={waitForResponse:!1,timed:!1,timerInterval:1e3,batchSize:1,sendAllOnUnload:!1,requestSuccessCallback:null,failCallback:null,postVarName:"data",contentType:"application/x-www-form-urlencoded"},AjaxAppender.prototype.layout=new HttpPostDataLayout,AjaxAppender.prototype.toString=function(){return"AjaxAppender"},log4javascript.AjaxAppender=AjaxAppender;var ConsoleAppender;if(function(){function e(e,t,n,r,i){this.create(!1,null,e,t,n,r,i,this.defaults.focusPopUp)}function t(e,t,n,r,i,o){this.create(!0,e,t,n,r,i,o,!1)}var n=function(){return['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"<!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work -->",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;</script>','<!--[if IE]><script type="text/javascript">isIe = true</script><![endif]-->','<!--[if lt IE 7]><script type="text/javascript">isIePre7 = true</script><![endif]-->','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}","function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}","if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}','GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}","this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}","this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}','LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}','LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}','logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}","var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}","matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}","var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}","return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}","logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}","displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}","var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}','function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}','function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}","searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}","return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+","preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}","logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}","var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}","setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}","this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}','currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}','addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}","function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}','function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}','if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}','function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}','function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}","function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}","currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}","return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-','($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}","this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}","return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}","return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}","currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]>","</script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}","</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>','<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>','<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />','<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>','<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>','<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>','<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />','<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />','<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];
},r=[];ConsoleAppender=function(){};var i=1;ConsoleAppender.prototype=new Appender,ConsoleAppender.prototype.create=function(e,t,o,a,s,l,u,c){function h(e,t){this.loggingEvent=e,this.levelName=e.level.name,this.formattedMessage=t}function p(e,t){this.name=e,this.initiallyExpanded=t}function d(){}var f=this,g=!1,m=!1,v=!1,$=!1,y=[],b=!0,w=i++;a=extractBooleanFromParam(a,this.defaults.initiallyMinimized),o=extractBooleanFromParam(o,this.defaults.lazyInit),s=extractBooleanFromParam(s,this.defaults.useDocumentWrite);var x=this.defaults.newestMessageAtTop,E=this.defaults.scrollToLatestMessage;l=l?l:this.defaults.width,u=u?u:this.defaults.height;var C=this.defaults.maxMessages,S=this.defaults.showCommandLine,L=this.defaults.commandLineObjectExpansionDepth,A=this.defaults.showHideButton,T=this.defaults.showCloseButton;this.defaults.showLogEntryDeleteButtons;this.setLayout(this.defaults.layout);var M,k,I,N,D,O=e?"InPageAppender":"PopUpAppender",R=function(e){return m?(handleError(O+": configuration option '"+e+"' may not be set after the appender has been initialized"),!1):!0},j=function(){return v&&b&&!$};this.isNewestMessageAtTop=function(){return x},this.setNewestMessageAtTop=function(e){x=bool(e),j()&&N().setNewestAtTop(x)},this.isScrollToLatestMessage=function(){return E},this.setScrollToLatestMessage=function(e){E=bool(e),j()&&N().setScrollToLatest(E)},this.getWidth=function(){return l},this.setWidth=function(e){R("width")&&(l=extractStringFromParam(e,l))},this.getHeight=function(){return u},this.setHeight=function(e){R("height")&&(u=extractStringFromParam(e,u))},this.getMaxMessages=function(){return C},this.setMaxMessages=function(e){C=extractIntFromParam(e,C),j()&&N().setMaxMessages(C)},this.isShowCommandLine=function(){return S},this.setShowCommandLine=function(e){S=bool(e),j()&&N().setShowCommandLine(S)},this.isShowHideButton=function(){return A},this.setShowHideButton=function(e){A=bool(e),j()&&N().setShowHideButton(A)},this.isShowCloseButton=function(){return T},this.setShowCloseButton=function(e){T=bool(e),j()&&N().setShowCloseButton(T)},this.getCommandLineObjectExpansionDepth=function(){return L},this.setCommandLineObjectExpansionDepth=function(e){L=extractIntFromParam(e,L)};var F=a;this.isInitiallyMinimized=function(){return a},this.setInitiallyMinimized=function(e){R("initiallyMinimized")&&(a=bool(e),F=a)},this.isUseDocumentWrite=function(){return s},this.setUseDocumentWrite=function(e){R("useDocumentWrite")&&(s=bool(e))},h.prototype.append=function(){N().log(this.levelName,this.formattedMessage)},p.prototype.append=function(){N().group(this.name,this.initiallyExpanded)},d.prototype.append=function(){N().groupEnd()};var P=function(){I(),g?$&&te&&k():M(),I()&&_()};this.append=function(e){if(b){var t=f.getLayout().formatWithException(e);y.push(new h(e,t)),P()}},this.group=function(e,t){b&&(y.push(new p(e,t)),P())},this.groupEnd=function(){b&&(y.push(new d),P())};var _=function(){for(;y.length>0;)y.shift().append();c&&N().focus()};this.setAddedToLogger=function(e){this.loggers.push(e),enabled&&!o&&M()},this.clear=function(){j()&&N().clearLog(),y.length=0},this.focus=function(){j()&&N().focus()},this.focusCommandLine=function(){j()&&N().focusCommandLine()},this.focusSearch=function(){j()&&N().focusSearch()};var V=window;this.getCommandWindow=function(){return V},this.setCommandWindow=function(e){V=e},this.executeLastCommand=function(){j()&&N().evalLastCommand()};var B=new PatternLayout("%m");this.getCommandLayout=function(){return B},this.setCommandLayout=function(e){B=e},this.evalCommandAndAppend=function(e){var t={appendResult:!0,isError:!1},n="";try{var r,i;!V.eval&&V.execScript&&V.execScript("null");var o={};for(i=0,len=U.length;i<len;i++)o[U[i][0]]=U[i][1];var a=[],s=function(e){a.push([e,V[e]])};s("appender"),V.appender=f,s("commandReturnValue"),V.commandReturnValue=t,s("commandLineFunctionsHash"),V.commandLineFunctionsHash=o;var l=function(e){s(e),V[e]=function(){return this.commandLineFunctionsHash[e](f,arguments,t)}};for(i=0,len=U.length;i<len;i++)l(U[i][0]);for(V===window&&V.execScript?(s("evalExpr"),s("result"),window.evalExpr=e,V.execScript("window.result=eval(window.evalExpr);"),r=window.result):r=V.eval(e),n=isUndefined(r)?r:formatObjectExpansion(r,L),i=0,len=a.length;i<len;i++)V[a[i][0]]=a[i][1]}catch(u){n="Error evaluating command: "+getExceptionStringRep(u),t.isError=!0}if(t.appendResult){var c=">>> "+e;isUndefined(n)||(c+=newLine+n);var h=t.isError?Level.ERROR:Level.INFO,p=new LoggingEvent(null,new Date,h,[c],null),d=this.getLayout();this.setLayout(B),this.append(p),this.setLayout(d)}};var U=r.concat([]);this.addCommandLineFunction=function(e,t){U.push([e,t])};var H="log4javascriptCommandHistory";this.storeCommandHistory=function(e){setCookie(H,e.join(","))};var W=function(e){var t=n();e.open();for(var r=0,i=t.length;i>r;r++)e.writeln(t[r]);e.close()};this.setEventTypes(["load","unload"]);var q=function(){var e=N();e.setAppender(f),e.setNewestAtTop(x),e.setScrollToLatest(E),e.setMaxMessages(C),e.setShowCommandLine(S),e.setShowHideButton(A),e.setShowCloseButton(T),e.setMainWindow(window);var t=getCookie(H);t&&(e.commandHistory=t.split(","),e.currentCommandIndex=e.commandHistory.length),f.dispatchEvent("load",{win:e})};this.unload=function(){logLog.debug("unload "+this+", caller: "+this.unload.caller),$||(logLog.debug("really doing unload "+this),$=!0,v=!1,m=!1,f.dispatchEvent("unload",{}))};var G=function(e,t,n,r){function i(){try{$&&clearInterval(o),e(N())&&(clearInterval(o),n())}catch(t){clearInterval(o),b=!1,handleError(r,t)}}var o=setInterval(i,t)},z=function(){var e=document.domain!=location.hostname;return s?"":getBaseUrl()+"console.html"+(e?"?log4javascript_domain="+escape(document.domain):"")};if(e){var K=null,X=[];this.addCssProperty=function(e,t){R("cssProperties")&&X.push([e,t])};var J,Y=!1,Q=uniqueId+"_InPageAppender_"+w;this.hide=function(){g&&m&&(j()&&N().$("command").blur(),J.style.display="none",F=!0)},this.show=function(){g&&(m?(J.style.display="block",this.setShowCommandLine(S),F=!1):Y||k(!0))},this.isVisible=function(){return!F&&!$},this.close=function(e){$||e&&!confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")||(J.parentNode.removeChild(J),this.unload())},D=function(){function e(){try{a||f.show(),q(),v=!0,_()}catch(e){b=!1,handleError(n,e)}}function t(){try{var t=function(e){return isLoaded(e)};s&&W(N().document),t(N())?e():G(t,100,e,n)}catch(r){b=!1,handleError(n,r)}}var n="InPageAppender.open: unable to create console iframe";F=!1,J=K.appendChild(document.createElement("div")),J.style.width=l,J.style.height=u,J.style.border="solid gray 1px";for(var r=0,i=X.length;i>r;r++)J.style[X[r][0]]=X[r][1];var o=s?"":" src='"+z()+"'";J.innerHTML="<iframe id='"+Q+"' name='"+Q+"' width='100%' height='100%' frameborder='0'"+o+" scrolling='no'></iframe>",$=!1;var c=function(e){try{return bool(e)&&bool(e.document)}catch(t){return!1}};c(N())?t():G(c,100,t,n),m=!0},k=function(e){if(e||!a){var n=function(){if(t)try{var e=document.getElementById(t);1==e.nodeType&&(K=e),D()}catch(n){handleError("InPageAppender.init: invalid container element '"+t+"' supplied",n)}else K=document.createElement("div"),K.style.position="fixed",K.style.left="0",K.style.right="0",K.style.bottom="0",document.body.appendChild(K),f.addCssProperty("borderWidth","1px 0 0 0"),f.addCssProperty("zIndex",1e6),D()};pageLoaded&&t&&t.appendChild?(K=t,D()):pageLoaded?n():log4javascript.addEventListener("load",n),Y=!0}},M=function(){k(),g=!0},N=function(){var e=window.frames[Q];return e?e:void 0},I=function(){return b&&!$?(m&&!v&&N()&&isLoaded(N())&&(v=!0),v):!1}}else{var Z=f.defaults.useOldPopUp,ee=f.defaults.complainAboutPopUpBlocking,te=this.defaults.reopenWhenClosed;this.isUseOldPopUp=function(){return Z},this.setUseOldPopUp=function(e){R("useOldPopUp")&&(Z=bool(e))},this.isComplainAboutPopUpBlocking=function(){return ee},this.setComplainAboutPopUpBlocking=function(e){R("complainAboutPopUpBlocking")&&(ee=bool(e))},this.isFocusPopUp=function(){return c},this.setFocusPopUp=function(e){c=bool(e)},this.isReopenWhenClosed=function(){return te},this.setReopenWhenClosed=function(e){te=bool(e)},this.close=function(){logLog.debug("close "+this);try{ne.close(),this.unload()}catch(e){}},this.hide=function(){logLog.debug("hide "+this),j()&&this.close()},this.show=function(){logLog.debug("show "+this),m||D()},this.isVisible=function(){return I()};var ne;D=function(){function e(){N().setCloseIfOpenerCloses(!Z||!s),q(),v=!0,_(),G(a,500,c,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var t="width="+l+",height="+u+",status,resizable",n="";try{var r=window.frameElement;r&&(n="_"+r.tagName+"_"+(r.name||r.id||""))}catch(i){n="_inaccessibleParentFrame"}var o="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+w+n;Z&&s||(o=o+"_"+uniqueId);var a=function(e){if($)return!0;try{return bool(e)&&e.closed}catch(t){}return!1},c=function(){$||f.unload()};try{if(ne=window.open(z(),o,t),$=!1,m=!0,ne&&ne.document)if(s&&Z&&isLoaded(ne))ne.mainPageReloaded(),e();else{s&&W(ne.document);var h=function(e){return bool(e)&&isLoaded(e)};isLoaded(ne)?e():G(h,100,e,"PopUpAppender.init: unable to create console window")}else b=!1,logLog.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),ee&&handleError("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging.")}catch(p){handleError("PopUpAppender.init: error creating pop-up",p)}},k=function(){a||D()},M=function(){k(),g=!0},N=function(){return ne},I=function(){if(b&&!isUndefined(ne)&&!$){if(ne.closed||v&&isUndefined(ne.closed))return f.unload(),logLog.debug("PopUpAppender: pop-up closed"),!1;!v&&isLoaded(ne)&&(v=!0)}return b&&v&&!$}}this.getConsoleWindow=N},ConsoleAppender.addGlobalCommandLineFunction=function(e,t){r.push([e,t])},e.prototype=new ConsoleAppender,e.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,focusPopUp:!1,lazyInit:!0,useOldPopUp:!0,complainAboutPopUpBlocking:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"600",height:"400",reopenWhenClosed:!1,maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!0,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},e.prototype.toString=function(){return"PopUpAppender"},log4javascript.PopUpAppender=e,t.prototype=new ConsoleAppender,t.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,lazyInit:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"100%",height:"220px",maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!1,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},t.prototype.toString=function(){return"InPageAppender"},log4javascript.InPageAppender=t,log4javascript.InlineAppender=t}(),function(){function e(e){var t=0;for(var n in e)t=Math.max(toStr(n).length,t);var r=[];for(n in e){var i,o="  "+padWithSpaces(toStr(n),t+2);try{i=splitIntoLines(toStr(e[n])).join(padWithSpaces(newLine,t+6))}catch(a){i="[Error obtaining property. Details: "+getExceptionMessage(a)+"]"}r.push(o+i)}return r.join(newLine)}function t(e,n,r,l,u){function c(e){return e.nodeType==i.TEXT_NODE&&/^[ \t\r\n]*$/.test(e.nodeValue)}function h(e){return e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function p(e){for(var t=e.style.cssText.split(";"),n="",r=0,i=t.length;i>r;r++){var o=t[r].split(":"),a=[];/^\s*$/.test(o[0])||a.push(trim(o[0]).toLowerCase()+":"+trim(o[1])),n=a.join(";")}return n}function d(e){if(e.prefix)return e.prefix;if(e.outerHTML){var t=new RegExp("<([^:]+):"+e.tagName+"[^>]*>","i");if(t.test(e.outerHTML))return RegExp.$1.toLowerCase()}return""}n="undefined"==typeof n?!0:!!n,"string"!=typeof r&&(r=""),l=!!l,u=!!u;var f,g="<",m=">";if(!n||e.nodeType==i.DOCUMENT_FRAGMENT_NODE){f="";for(var v=0,$=e.childNodes.length;$>v;v++)f+=t(e.childNodes[v],!0,r+s);return f}switch(e.nodeType){case i.ELEMENT_NODE:var y=e.tagName.toLowerCase();f=l?newLine+r:"",f+=g;var b=d(e),w=!!b;for(w&&(f+=b+":"),f+=y,v=0,$=e.attributes.length;$>v;v++){var x=e.attributes[v];x.specified&&null!==x.nodeValue&&"style"!==x.nodeName.toLowerCase()&&"string"==typeof x.nodeValue&&0!==x.nodeName.indexOf("_moz")&&(f+=" "+x.nodeName.toLowerCase()+'="',f+=h(x.nodeValue),f+='"')}if(e.style.cssText){var E=p(e);""!==E&&(f+=' style="'+p(e)+'"')}if(array_contains(a,y)||w&&!e.hasChildNodes())f+="/"+m;else{f+=m;for(var C=!(1===e.childNodes.length&&e.childNodes[0].nodeType===i.TEXT_NODE),S=array_contains(o,y),v=0,$=e.childNodes.length;$>v;v++)f+=t(e.childNodes[v],!0,r+s,C,S);var L=g+"/"+y+m;f+=C?newLine+r+L:L}return f;case i.TEXT_NODE:if(c(e))f="";else{if(u)f=e.nodeValue;else{for(var A=splitIntoLines(trim(e.nodeValue)),T=[],v=0,$=A.length;$>v;v++)T[v]=trim(A[v]);f=T.join(newLine+r)}l&&(f=newLine+r+f)}return f;case i.CDATA_SECTION_NODE:return"<![CDATA["+e.nodeValue+"]]>"+newLine;case i.DOCUMENT_NODE:f="";for(var v=0,$=e.childNodes.length;$>v;v++)f+=t(e.childNodes[v],!0,r);return f;default:return""}}function n(){ConsoleAppender.addGlobalCommandLineFunction("$",function(e,t,n){return document.getElementById(t[0])}),ConsoleAppender.addGlobalCommandLineFunction("dir",function(t,n,r){for(var i=[],o=0,a=n.length;a>o;o++)i[o]=e(n[o]);return i.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("dirxml",function(e,n,r){for(var i=[],o=0,a=n.length;a>o;o++){e.getCommandWindow();i[o]=t(n[o])}return i.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("cd",function(e,t,n){var r,i;return 0===t.length||""===t[0]?(r=window,i="Command line set to run in main window"):t[0].window==t[0]?(r=t[0],i="Command line set to run in frame '"+t[0].name+"'"):(r=window.frames[t[0]],r?i="Command line set to run in frame '"+t[0]+"'":(n.isError=!0,i="Frame '"+t[0]+"' does not exist",r=e.getCommandWindow())),e.setCommandWindow(r),i}),ConsoleAppender.addGlobalCommandLineFunction("clear",function(e,t,n){n.appendResult=!1,e.clear()}),ConsoleAppender.addGlobalCommandLineFunction("keys",function(e,t,n){var r=[];for(var i in t[0])r.push(i);return r}),ConsoleAppender.addGlobalCommandLineFunction("values",function(e,t,n){var r=[];for(var i in t[0])try{r.push(t[0][i])}catch(o){logLog.warn("values(): Unable to obtain value for key "+i+". Details: "+getExceptionMessage(o))}return r}),ConsoleAppender.addGlobalCommandLineFunction("expansionDepth",function(e,t,n){var r=parseInt(t[0],10);return isNaN(r)||0>r?(n.isError=!0,""+t[0]+" is not a valid expansion depth"):(e.setCommandLineObjectExpansionDepth(r),"Object expansion depth set to "+r)})}function r(){n()}var i={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o=["script","pre"],a=["br","img","hr","param","link","area","input","col","base","meta"],s="  ";r()}(),log4javascript.setDocumentReady=function(){pageLoaded=!0,log4javascript.dispatchEvent("load",{})},window.addEventListener)window.addEventListener("load",log4javascript.setDocumentReady,!1);else if(window.attachEvent)window.attachEvent("onload",log4javascript.setDocumentReady);else{var oldOnload=window.onload;"function"!=typeof window.onload?window.onload=log4javascript.setDocumentReady:window.onload=function(e){oldOnload&&oldOnload(e),log4javascript.setDocumentReady()}}return window.log4javascript=log4javascript,log4javascript}();!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.store=t()}(this,function(){function e(){try{return o in r&&r[o]}catch(e){return!1}}var t,n={},r="undefined"!=typeof window?window:global,i=r.document,o="localStorage",a="script";if(n.disabled=!1,n.version="1.3.20",n.set=function(e,t){},n.get=function(e,t){},n.has=function(e){return void 0!==n.get(e)},n.remove=function(e){},n.clear=function(){},n.transact=function(e,t,r){null==r&&(r=t,t=null),null==t&&(t={});var i=n.get(e,t);r(i),n.set(e,i)},n.getAll=function(){},n.forEach=function(){},n.serialize=function(e){return JSON.stringify(e)},n.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},e())t=r[o],n.set=function(e,r){return void 0===r?n.remove(e):(t.setItem(e,n.serialize(r)),r)},n.get=function(e,r){var i=n.deserialize(t.getItem(e));return void 0===i?r:i},n.remove=function(e){t.removeItem(e)},n.clear=function(){t.clear()},n.getAll=function(){var e={};return n.forEach(function(t,n){e[t]=n}),e},n.forEach=function(e){for(var r=0;r<t.length;r++){var i=t.key(r);e(i,n.get(i))}};else if(i&&i.documentElement.addBehavior){var s,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+a+">document.w=window</"+a+'><iframe src="/favicon.ico"></iframe>'),l.close(),s=l.w.frames[0].document,t=s.createElement("div")}catch(u){t=i.createElement("div"),s=i.body}var c=function(e){return function(){var r=Array.prototype.slice.call(arguments,0);r.unshift(t),s.appendChild(t),t.addBehavior("#default#userData"),t.load(o);var i=e.apply(n,r);return s.removeChild(t),i}},h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),p=function(e){return e.replace(/^d/,"___$&").replace(h,"___")};n.set=c(function(e,t,r){return t=p(t),void 0===r?n.remove(t):(e.setAttribute(t,n.serialize(r)),e.save(o),r)}),n.get=c(function(e,t,r){t=p(t);var i=n.deserialize(e.getAttribute(t));return void 0===i?r:i}),n.remove=c(function(e,t){t=p(t),e.removeAttribute(t),e.save(o)}),n.clear=c(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(o);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(o)}),n.getAll=function(e){var t={};return n.forEach(function(e,n){t[e]=n}),t},n.forEach=c(function(e,t){for(var r,i=e.XMLDocument.documentElement.attributes,o=0;r=i[o];++o)t(r.name,n.deserialize(e.getAttribute(r.name)))})}try{var d="__storejs__";n.set(d,d),n.get(d)!=d&&(n.disabled=!0),n.remove(d)}catch(u){n.disabled=!0}return n.enabled=!n.disabled,n});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvcG9wdXAtdmVuZG9yLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIm1pbkVyciIsIm1vZHVsZSIsIkVycm9yQ29uc3RydWN0b3IiLCJFcnJvciIsInBhcmFtUHJlZml4IiwiaSIsIlNLSVBfSU5ERVhFUyIsInRlbXBsYXRlQXJncyIsImFyZ3VtZW50cyIsImNvZGUiLCJtZXNzYWdlIiwidGVtcGxhdGUiLCJyZXBsYWNlIiwibWF0Y2giLCJpbmRleCIsInNsaWNlIiwic2hpZnRlZEluZGV4IiwibGVuZ3RoIiwidG9EZWJ1Z1N0cmluZyIsImVuY29kZVVSSUNvbXBvbmVudCIsImlzQXJyYXlMaWtlIiwib2JqIiwiaXNXaW5kb3ciLCJpc0FycmF5IiwiaXNTdHJpbmciLCJqcUxpdGUiLCJPYmplY3QiLCJpc051bWJlciIsIkFycmF5IiwiaXRlbSIsImZvckVhY2giLCJpdGVyYXRvciIsImNvbnRleHQiLCJrZXkiLCJpc0Z1bmN0aW9uIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaXNQcmltaXRpdmUiLCJpc0JsYW5rT2JqZWN0IiwiZm9yRWFjaFNvcnRlZCIsImtleXMiLCJzb3J0IiwicmV2ZXJzZVBhcmFtcyIsIml0ZXJhdG9yRm4iLCJ2YWx1ZSIsIm5leHRVaWQiLCJ1aWQiLCJzZXRIYXNoS2V5IiwiaCIsIiQkaGFzaEtleSIsImJhc2VFeHRlbmQiLCJkc3QiLCJvYmpzIiwiZGVlcCIsImlpIiwiaXNPYmplY3QiLCJqIiwiamoiLCJzcmMiLCJpc0RhdGUiLCJEYXRlIiwidmFsdWVPZiIsImlzUmVnRXhwIiwiUmVnRXhwIiwibm9kZU5hbWUiLCJjbG9uZU5vZGUiLCJpc0VsZW1lbnQiLCJjbG9uZSIsImV4dGVuZCIsIm1lcmdlIiwidG9JbnQiLCJzdHIiLCJwYXJzZUludCIsImluaGVyaXQiLCJwYXJlbnQiLCJleHRyYSIsImNyZWF0ZSIsIm5vb3AiLCJpZGVudGl0eSIsIiQiLCJ2YWx1ZUZuIiwiaGFzQ3VzdG9tVG9TdHJpbmciLCJ0b1N0cmluZyIsImlzVW5kZWZpbmVkIiwiaXNEZWZpbmVkIiwiZ2V0UHJvdG90eXBlT2YiLCJpc1Njb3BlIiwiJGV2YWxBc3luYyIsIiR3YXRjaCIsImlzRmlsZSIsImlzRm9ybURhdGEiLCJpc0Jsb2IiLCJpc0Jvb2xlYW4iLCJpc1Byb21pc2VMaWtlIiwidGhlbiIsImlzVHlwZWRBcnJheSIsIlRZUEVEX0FSUkFZX1JFR0VYUCIsInRlc3QiLCJpc0FycmF5QnVmZmVyIiwibm9kZSIsInByb3AiLCJhdHRyIiwiZmluZCIsIm1ha2VNYXAiLCJpdGVtcyIsInNwbGl0Iiwibm9kZU5hbWVfIiwiZWxlbWVudCIsImxvd2VyY2FzZSIsImFycmF5UmVtb3ZlIiwiYXJyYXkiLCJpbmRleE9mIiwic3BsaWNlIiwiY29weSIsInNvdXJjZSIsImRlc3RpbmF0aW9uIiwiY29weVJlY3Vyc2UiLCJwdXNoIiwiY29weUVsZW1lbnQiLCJzdGFja1NvdXJjZSIsInN0YWNrRGVzdCIsIm5nTWluRXJyIiwibmVlZHNSZWN1cnNlIiwiY29weVR5cGUiLCJ1bmRlZmluZWQiLCJjb25zdHJ1Y3RvciIsImJ1ZmZlciIsImNvcGllZCIsIkFycmF5QnVmZmVyIiwiYnl0ZUxlbmd0aCIsIlVpbnQ4QXJyYXkiLCJzZXQiLCJyZSIsImxhc3RJbmRleCIsInR5cGUiLCJzaGFsbG93Q29weSIsImNoYXJBdCIsImVxdWFscyIsIm8xIiwibzIiLCJrZXlTZXQiLCJ0MSIsInQyIiwiZ2V0VGltZSIsImNyZWF0ZU1hcCIsImNvbmNhdCIsImFycmF5MSIsImFycmF5MiIsInNsaWNlQXJncyIsImFyZ3MiLCJzdGFydEluZGV4IiwiYmluZCIsInNlbGYiLCJmbiIsImN1cnJ5QXJncyIsImFwcGx5IiwidG9Kc29uUmVwbGFjZXIiLCJ2YWwiLCJkb2N1bWVudCIsInRvSnNvbiIsInByZXR0eSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmcm9tSnNvbiIsImpzb24iLCJwYXJzZSIsInRpbWV6b25lVG9PZmZzZXQiLCJ0aW1lem9uZSIsImZhbGxiYWNrIiwiQUxMX0NPTE9OUyIsInJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0IiwiaXNOYU4iLCJhZGREYXRlTWludXRlcyIsImRhdGUiLCJtaW51dGVzIiwic2V0TWludXRlcyIsImdldE1pbnV0ZXMiLCJjb252ZXJ0VGltZXpvbmVUb0xvY2FsIiwicmV2ZXJzZSIsImRhdGVUaW1lem9uZU9mZnNldCIsImdldFRpbWV6b25lT2Zmc2V0IiwidGltZXpvbmVPZmZzZXQiLCJzdGFydGluZ1RhZyIsImVtcHR5IiwiZSIsImVsZW1IdG1sIiwiYXBwZW5kIiwiaHRtbCIsIm5vZGVUeXBlIiwiTk9ERV9UWVBFX1RFWFQiLCJ0cnlEZWNvZGVVUklDb21wb25lbnQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJzZUtleVZhbHVlIiwia2V5VmFsdWUiLCJzcGxpdFBvaW50Iiwic3Vic3RyaW5nIiwidG9LZXlWYWx1ZSIsInBhcnRzIiwiYXJyYXlWYWx1ZSIsImVuY29kZVVyaVF1ZXJ5Iiwiam9pbiIsImVuY29kZVVyaVNlZ21lbnQiLCJwY3RFbmNvZGVTcGFjZXMiLCJnZXROZ0F0dHJpYnV0ZSIsIm5nQXR0ciIsIm5nQXR0clByZWZpeGVzIiwiZ2V0QXR0cmlidXRlIiwiYW5ndWxhckluaXQiLCJib290c3RyYXAiLCJhcHBFbGVtZW50IiwiY29uZmlnIiwicHJlZml4IiwibmFtZSIsImhhc0F0dHJpYnV0ZSIsImNhbmRpZGF0ZSIsInF1ZXJ5U2VsZWN0b3IiLCJzdHJpY3REaSIsIm1vZHVsZXMiLCJkZWZhdWx0Q29uZmlnIiwiZG9Cb290c3RyYXAiLCJpbmplY3RvciIsInRhZyIsInVuc2hpZnQiLCIkcHJvdmlkZSIsImRlYnVnSW5mb0VuYWJsZWQiLCIkY29tcGlsZVByb3ZpZGVyIiwiY3JlYXRlSW5qZWN0b3IiLCJpbnZva2UiLCJzY29wZSIsImNvbXBpbGUiLCIkYXBwbHkiLCJkYXRhIiwiTkdfRU5BQkxFX0RFQlVHX0lORk8iLCJOR19ERUZFUl9CT09UU1RSQVAiLCJhbmd1bGFyIiwicmVzdW1lQm9vdHN0cmFwIiwiZXh0cmFNb2R1bGVzIiwicmVzdW1lRGVmZXJyZWRCb290c3RyYXAiLCJyZWxvYWRXaXRoRGVidWdJbmZvIiwibG9jYXRpb24iLCJyZWxvYWQiLCJnZXRUZXN0YWJpbGl0eSIsInJvb3RFbGVtZW50IiwiZ2V0Iiwic25ha2VfY2FzZSIsInNlcGFyYXRvciIsIlNOQUtFX0NBU0VfUkVHRVhQIiwibGV0dGVyIiwicG9zIiwidG9Mb3dlckNhc2UiLCJiaW5kSlF1ZXJ5Iiwib3JpZ2luYWxDbGVhbkRhdGEiLCJiaW5kSlF1ZXJ5RmlyZWQiLCJqcU5hbWUiLCJqcSIsImpRdWVyeSIsIm9uIiwiSlFMaXRlUHJvdG90eXBlIiwiaXNvbGF0ZVNjb3BlIiwiY29udHJvbGxlciIsImluaGVyaXRlZERhdGEiLCJjbGVhbkRhdGEiLCJlbGVtcyIsImV2ZW50cyIsImVsZW0iLCJfZGF0YSIsIiRkZXN0cm95IiwidHJpZ2dlckhhbmRsZXIiLCJKUUxpdGUiLCJhc3NlcnRBcmciLCJhcmciLCJyZWFzb24iLCJhc3NlcnRBcmdGbiIsImFjY2VwdEFycmF5QW5ub3RhdGlvbiIsImFzc2VydE5vdEhhc093blByb3BlcnR5IiwiZ2V0dGVyIiwicGF0aCIsImJpbmRGblRvU2NvcGUiLCJsYXN0SW5zdGFuY2UiLCJsZW4iLCJnZXRCbG9ja05vZGVzIiwibm9kZXMiLCJibG9ja05vZGVzIiwiZW5kTm9kZSIsIm5leHRTaWJsaW5nIiwic2V0dXBNb2R1bGVMb2FkZXIiLCJlbnN1cmUiLCJmYWN0b3J5IiwiJGluamVjdG9yTWluRXJyIiwiJCRtaW5FcnIiLCJyZXF1aXJlcyIsImNvbmZpZ0ZuIiwiaW52b2tlTGF0ZXIiLCJwcm92aWRlciIsIm1ldGhvZCIsImluc2VydE1ldGhvZCIsInF1ZXVlIiwiaW52b2tlUXVldWUiLCJtb2R1bGVJbnN0YW5jZSIsImludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSIsInJlY2lwZU5hbWUiLCJmYWN0b3J5RnVuY3Rpb24iLCIkJG1vZHVsZU5hbWUiLCJjb25maWdCbG9ja3MiLCJydW5CbG9ja3MiLCJfaW52b2tlUXVldWUiLCJfY29uZmlnQmxvY2tzIiwiX3J1bkJsb2NrcyIsInNlcnZpY2UiLCJjb25zdGFudCIsImRlY29yYXRvciIsImFuaW1hdGlvbiIsImZpbHRlciIsImRpcmVjdGl2ZSIsImNvbXBvbmVudCIsInJ1biIsImJsb2NrIiwidGhpcyIsInNlcmlhbGl6ZU9iamVjdCIsInNlZW4iLCJwdWJsaXNoRXh0ZXJuYWxBUEkiLCJ2ZXJzaW9uIiwidXBwZXJjYXNlIiwiY2FsbGJhY2tzIiwiY291bnRlciIsIiQkY3NwIiwiY3NwIiwiYW5ndWxhck1vZHVsZSIsIiQkc2FuaXRpemVVcmkiLCIkJFNhbml0aXplVXJpUHJvdmlkZXIiLCIkQ29tcGlsZVByb3ZpZGVyIiwiYSIsImh0bWxBbmNob3JEaXJlY3RpdmUiLCJpbnB1dCIsImlucHV0RGlyZWN0aXZlIiwidGV4dGFyZWEiLCJmb3JtIiwiZm9ybURpcmVjdGl2ZSIsInNjcmlwdCIsInNjcmlwdERpcmVjdGl2ZSIsInNlbGVjdCIsInNlbGVjdERpcmVjdGl2ZSIsInN0eWxlIiwic3R5bGVEaXJlY3RpdmUiLCJvcHRpb24iLCJvcHRpb25EaXJlY3RpdmUiLCJuZ0JpbmQiLCJuZ0JpbmREaXJlY3RpdmUiLCJuZ0JpbmRIdG1sIiwibmdCaW5kSHRtbERpcmVjdGl2ZSIsIm5nQmluZFRlbXBsYXRlIiwibmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUiLCJuZ0NsYXNzIiwibmdDbGFzc0RpcmVjdGl2ZSIsIm5nQ2xhc3NFdmVuIiwibmdDbGFzc0V2ZW5EaXJlY3RpdmUiLCJuZ0NsYXNzT2RkIiwibmdDbGFzc09kZERpcmVjdGl2ZSIsIm5nQ2xvYWsiLCJuZ0Nsb2FrRGlyZWN0aXZlIiwibmdDb250cm9sbGVyIiwibmdDb250cm9sbGVyRGlyZWN0aXZlIiwibmdGb3JtIiwibmdGb3JtRGlyZWN0aXZlIiwibmdIaWRlIiwibmdIaWRlRGlyZWN0aXZlIiwibmdJZiIsIm5nSWZEaXJlY3RpdmUiLCJuZ0luY2x1ZGUiLCJuZ0luY2x1ZGVEaXJlY3RpdmUiLCJuZ0luaXQiLCJuZ0luaXREaXJlY3RpdmUiLCJuZ05vbkJpbmRhYmxlIiwibmdOb25CaW5kYWJsZURpcmVjdGl2ZSIsIm5nUGx1cmFsaXplIiwibmdQbHVyYWxpemVEaXJlY3RpdmUiLCJuZ1JlcGVhdCIsIm5nUmVwZWF0RGlyZWN0aXZlIiwibmdTaG93IiwibmdTaG93RGlyZWN0aXZlIiwibmdTdHlsZSIsIm5nU3R5bGVEaXJlY3RpdmUiLCJuZ1N3aXRjaCIsIm5nU3dpdGNoRGlyZWN0aXZlIiwibmdTd2l0Y2hXaGVuIiwibmdTd2l0Y2hXaGVuRGlyZWN0aXZlIiwibmdTd2l0Y2hEZWZhdWx0IiwibmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlIiwibmdPcHRpb25zIiwibmdPcHRpb25zRGlyZWN0aXZlIiwibmdUcmFuc2NsdWRlIiwibmdUcmFuc2NsdWRlRGlyZWN0aXZlIiwibmdNb2RlbCIsIm5nTW9kZWxEaXJlY3RpdmUiLCJuZ0xpc3QiLCJuZ0xpc3REaXJlY3RpdmUiLCJuZ0NoYW5nZSIsIm5nQ2hhbmdlRGlyZWN0aXZlIiwicGF0dGVybiIsInBhdHRlcm5EaXJlY3RpdmUiLCJuZ1BhdHRlcm4iLCJyZXF1aXJlZCIsInJlcXVpcmVkRGlyZWN0aXZlIiwibmdSZXF1aXJlZCIsIm1pbmxlbmd0aCIsIm1pbmxlbmd0aERpcmVjdGl2ZSIsIm5nTWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwibWF4bGVuZ3RoRGlyZWN0aXZlIiwibmdNYXhsZW5ndGgiLCJuZ1ZhbHVlIiwibmdWYWx1ZURpcmVjdGl2ZSIsIm5nTW9kZWxPcHRpb25zIiwibmdNb2RlbE9wdGlvbnNEaXJlY3RpdmUiLCJuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSIsIm5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzIiwibmdFdmVudERpcmVjdGl2ZXMiLCIkYW5jaG9yU2Nyb2xsIiwiJEFuY2hvclNjcm9sbFByb3ZpZGVyIiwiJGFuaW1hdGUiLCIkQW5pbWF0ZVByb3ZpZGVyIiwiJGFuaW1hdGVDc3MiLCIkQ29yZUFuaW1hdGVDc3NQcm92aWRlciIsIiQkYW5pbWF0ZUpzIiwiJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIiLCIkJGFuaW1hdGVRdWV1ZSIsIiQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyIiwiJCRBbmltYXRlUnVubmVyIiwiJCRBbmltYXRlUnVubmVyRmFjdG9yeVByb3ZpZGVyIiwiJCRhbmltYXRlQXN5bmNSdW4iLCIkJEFuaW1hdGVBc3luY1J1bkZhY3RvcnlQcm92aWRlciIsIiRicm93c2VyIiwiJEJyb3dzZXJQcm92aWRlciIsIiRjYWNoZUZhY3RvcnkiLCIkQ2FjaGVGYWN0b3J5UHJvdmlkZXIiLCIkY29udHJvbGxlciIsIiRDb250cm9sbGVyUHJvdmlkZXIiLCIkZG9jdW1lbnQiLCIkRG9jdW1lbnRQcm92aWRlciIsIiRleGNlcHRpb25IYW5kbGVyIiwiJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlciIsIiRmaWx0ZXIiLCIkRmlsdGVyUHJvdmlkZXIiLCIkJGZvcmNlUmVmbG93IiwiJCRGb3JjZVJlZmxvd1Byb3ZpZGVyIiwiJGludGVycG9sYXRlIiwiJEludGVycG9sYXRlUHJvdmlkZXIiLCIkaW50ZXJ2YWwiLCIkSW50ZXJ2YWxQcm92aWRlciIsIiRodHRwIiwiJEh0dHBQcm92aWRlciIsIiRodHRwUGFyYW1TZXJpYWxpemVyIiwiJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlciIsIiRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlIiwiJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlciIsIiRodHRwQmFja2VuZCIsIiRIdHRwQmFja2VuZFByb3ZpZGVyIiwiJHhockZhY3RvcnkiLCIkeGhyRmFjdG9yeVByb3ZpZGVyIiwiJGxvY2F0aW9uIiwiJExvY2F0aW9uUHJvdmlkZXIiLCIkbG9nIiwiJExvZ1Byb3ZpZGVyIiwiJHBhcnNlIiwiJFBhcnNlUHJvdmlkZXIiLCIkcm9vdFNjb3BlIiwiJFJvb3RTY29wZVByb3ZpZGVyIiwiJHEiLCIkUVByb3ZpZGVyIiwiJCRxIiwiJCRRUHJvdmlkZXIiLCIkc2NlIiwiJFNjZVByb3ZpZGVyIiwiJHNjZURlbGVnYXRlIiwiJFNjZURlbGVnYXRlUHJvdmlkZXIiLCIkc25pZmZlciIsIiRTbmlmZmVyUHJvdmlkZXIiLCIkdGVtcGxhdGVDYWNoZSIsIiRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIiLCIkdGVtcGxhdGVSZXF1ZXN0IiwiJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyIiwiJCR0ZXN0YWJpbGl0eSIsIiQkVGVzdGFiaWxpdHlQcm92aWRlciIsIiR0aW1lb3V0IiwiJFRpbWVvdXRQcm92aWRlciIsIiR3aW5kb3ciLCIkV2luZG93UHJvdmlkZXIiLCIkJHJBRiIsIiQkUkFGUHJvdmlkZXIiLCIkJGpxTGl0ZSIsIiQkanFMaXRlUHJvdmlkZXIiLCIkJEhhc2hNYXAiLCIkJEhhc2hNYXBQcm92aWRlciIsIiQkY29va2llUmVhZGVyIiwiJCRDb29raWVSZWFkZXJQcm92aWRlciIsImpxTmV4dElkIiwianFJZCIsImNhbWVsQ2FzZSIsIlNQRUNJQUxfQ0hBUlNfUkVHRVhQIiwiXyIsIm9mZnNldCIsInRvVXBwZXJDYXNlIiwiTU9aX0hBQ0tfUkVHRVhQIiwianFMaXRlSXNUZXh0Tm9kZSIsIkhUTUxfUkVHRVhQIiwianFMaXRlQWNjZXB0c0RhdGEiLCJOT0RFX1RZUEVfRUxFTUVOVCIsIk5PREVfVFlQRV9ET0NVTUVOVCIsImpxTGl0ZUhhc0RhdGEiLCJqcUNhY2hlIiwibmczMzkiLCJqcUxpdGVDbGVhbkRhdGEiLCJqcUxpdGVSZW1vdmVEYXRhIiwianFMaXRlQnVpbGRGcmFnbWVudCIsInRtcCIsIndyYXAiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlRWxlbWVudCIsIlRBR19OQU1FX1JFR0VYUCIsImV4ZWMiLCJ3cmFwTWFwIiwiX2RlZmF1bHQiLCJpbm5lckhUTUwiLCJYSFRNTF9UQUdfUkVHRVhQIiwibGFzdENoaWxkIiwiY2hpbGROb2RlcyIsImZpcnN0Q2hpbGQiLCJ0ZXh0Q29udGVudCIsImpxTGl0ZVBhcnNlSFRNTCIsInBhcnNlZCIsIlNJTkdMRV9UQUdfUkVHRVhQIiwianFMaXRlV3JhcE5vZGUiLCJ3cmFwcGVyIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImFyZ0lzU3RyaW5nIiwidHJpbSIsImpxTGl0ZU1pbkVyciIsImpxTGl0ZUFkZE5vZGVzIiwianFMaXRlQ2xvbmUiLCJqcUxpdGVEZWFsb2MiLCJvbmx5RGVzY2VuZGFudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGVzY2VuZGFudHMiLCJsIiwianFMaXRlT2ZmIiwidW5zdXBwb3J0ZWQiLCJleHBhbmRvU3RvcmUiLCJqcUxpdGVFeHBhbmRvU3RvcmUiLCJoYW5kbGUiLCJyZW1vdmVIYW5kbGVyIiwibGlzdGVuZXJGbnMiLCJyZW1vdmVFdmVudExpc3RlbmVyRm4iLCJNT1VTRV9FVkVOVF9NQVAiLCJleHBhbmRvSWQiLCJjcmVhdGVJZk5lY2Vzc2FyeSIsImpxTGl0ZURhdGEiLCJpc1NpbXBsZVNldHRlciIsImlzU2ltcGxlR2V0dGVyIiwibWFzc0dldHRlciIsImpxTGl0ZUhhc0NsYXNzIiwic2VsZWN0b3IiLCJqcUxpdGVSZW1vdmVDbGFzcyIsImNzc0NsYXNzZXMiLCJzZXRBdHRyaWJ1dGUiLCJjc3NDbGFzcyIsImpxTGl0ZUFkZENsYXNzIiwiZXhpc3RpbmdDbGFzc2VzIiwicm9vdCIsImVsZW1lbnRzIiwianFMaXRlQ29udHJvbGxlciIsImpxTGl0ZUluaGVyaXRlZERhdGEiLCJkb2N1bWVudEVsZW1lbnQiLCJuYW1lcyIsIk5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCIsImhvc3QiLCJqcUxpdGVFbXB0eSIsInJlbW92ZUNoaWxkIiwianFMaXRlUmVtb3ZlIiwia2VlcERhdGEiLCJqcUxpdGVEb2N1bWVudExvYWRlZCIsImFjdGlvbiIsIndpbiIsInJlYWR5U3RhdGUiLCJzZXRUaW1lb3V0IiwiZ2V0Qm9vbGVhbkF0dHJOYW1lIiwiYm9vbGVhbkF0dHIiLCJCT09MRUFOX0FUVFIiLCJCT09MRUFOX0VMRU1FTlRTIiwiZ2V0QWxpYXNlZEF0dHJOYW1lIiwiQUxJQVNFRF9BVFRSIiwiY3JlYXRlRXZlbnRIYW5kbGVyIiwiZXZlbnRIYW5kbGVyIiwiZXZlbnQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJkZWZhdWx0UHJldmVudGVkIiwiZXZlbnRGbnMiLCJldmVudEZuc0xlbmd0aCIsImltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsIm9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLCJoYW5kbGVyV3JhcHBlciIsInNwZWNpYWxIYW5kbGVyV3JhcHBlciIsImRlZmF1bHRIYW5kbGVyV3JhcHBlciIsImhhbmRsZXIiLCJzcGVjaWFsTW91c2VIYW5kbGVyV3JhcHBlciIsInRhcmdldCIsInJlbGF0ZWQiLCJyZWxhdGVkVGFyZ2V0IiwianFMaXRlQ29udGFpbnMiLCIkZ2V0IiwiaGFzQ2xhc3MiLCJjbGFzc2VzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhhc2hLZXkiLCJuZXh0VWlkRm4iLCJvYmpUeXBlIiwiSGFzaE1hcCIsImlzb2xhdGVkVWlkIiwicHV0IiwiZXh0cmFjdEFyZ3MiLCJmblRleHQiLCJGdW5jdGlvbiIsInByb3RvdHlwZSIsIlNUUklQX0NPTU1FTlRTIiwiQVJST1dfQVJHIiwiRk5fQVJHUyIsImFub25GbiIsImFubm90YXRlIiwiJGluamVjdCIsImFyZ0RlY2wiLCJsYXN0IiwiRk5fQVJHX1NQTElUIiwiRk5fQVJHIiwiYWxsIiwidW5kZXJzY29yZSIsIm1vZHVsZXNUb0xvYWQiLCJzdXBwb3J0T2JqZWN0IiwiZGVsZWdhdGUiLCJwcm92aWRlcl8iLCJwcm92aWRlckluamVjdG9yIiwiaW5zdGFudGlhdGUiLCJwcm92aWRlckNhY2hlIiwicHJvdmlkZXJTdWZmaXgiLCJlbmZvcmNlUmV0dXJuVmFsdWUiLCJyZXN1bHQiLCJpbnN0YW5jZUluamVjdG9yIiwiZmFjdG9yeUZuIiwiZW5mb3JjZSIsIiRpbmplY3RvciIsImluc3RhbmNlQ2FjaGUiLCJzZXJ2aWNlTmFtZSIsImRlY29yRm4iLCJvcmlnUHJvdmlkZXIiLCJvcmlnJGdldCIsIm9yaWdJbnN0YW5jZSIsIiRkZWxlZ2F0ZSIsImxvYWRNb2R1bGVzIiwibW9kdWxlRm4iLCJydW5JbnZva2VRdWV1ZSIsImludm9rZUFyZ3MiLCJsb2FkZWRNb2R1bGVzIiwic3RhY2siLCJjcmVhdGVJbnRlcm5hbEluamVjdG9yIiwiY2FjaGUiLCJnZXRTZXJ2aWNlIiwiY2FsbGVyIiwiSU5TVEFOVElBVElORyIsImVyciIsInNoaWZ0IiwiaW5qZWN0aW9uQXJncyIsImxvY2FscyIsIiQkYW5ub3RhdGUiLCJpc0NsYXNzIiwiZnVuYyIsIm1zaWUiLCJUeXBlIiwiY3RvciIsImhhcyIsInByb3RvSW5zdGFuY2VJbmplY3RvciIsImF1dG9TY3JvbGxpbmdFbmFibGVkIiwiZGlzYWJsZUF1dG9TY3JvbGxpbmciLCJnZXRGaXJzdEFuY2hvciIsImxpc3QiLCJzb21lIiwiZ2V0WU9mZnNldCIsInNjcm9sbCIsInlPZmZzZXQiLCJnZXRDb21wdXRlZFN0eWxlIiwicG9zaXRpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib3R0b20iLCJzY3JvbGxUbyIsInNjcm9sbEludG9WaWV3IiwiZWxlbVRvcCIsInRvcCIsInNjcm9sbEJ5IiwiaGFzaCIsImVsbSIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJuZXdWYWwiLCJvbGRWYWwiLCJtZXJnZUNsYXNzZXMiLCJiIiwiZXh0cmFjdEVsZW1lbnROb2RlIiwiRUxFTUVOVF9OT0RFIiwic3BsaXRDbGFzc2VzIiwia2xhc3MiLCJwcmVwYXJlQW5pbWF0ZU9wdGlvbnMiLCJvcHRpb25zIiwiQnJvd3NlciIsImNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0Iiwib3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQiLCJvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MiLCJwb3AiLCJlcnJvciIsImdldEhhc2giLCJ1cmwiLCJzdWJzdHIiLCJjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSIsInBlbmRpbmdMb2NhdGlvbiIsImNhY2hlU3RhdGUiLCJmaXJlVXJsQ2hhbmdlIiwiY2FjaGVkU3RhdGUiLCJnZXRDdXJyZW50U3RhdGUiLCJsYXN0Q2FjaGVkU3RhdGUiLCJsYXN0QnJvd3NlclVybCIsImxhc3RIaXN0b3J5U3RhdGUiLCJ1cmxDaGFuZ2VMaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImhpc3RvcnkiLCJjbGVhclRpbWVvdXQiLCJwZW5kaW5nRGVmZXJJZHMiLCJpc01vY2siLCIkJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0IiwiJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCIsIm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMiLCJjYWxsYmFjayIsImhyZWYiLCJiYXNlRWxlbWVudCIsInN0YXRlIiwic2FtZVN0YXRlIiwic2FtZUJhc2UiLCJzdHJpcEhhc2giLCJ1cmxDaGFuZ2VJbml0Iiwib25VcmxDaGFuZ2UiLCIkJGFwcGxpY2F0aW9uRGVzdHJveWVkIiwib2ZmIiwiJCRjaGVja1VybENoYW5nZSIsImJhc2VIcmVmIiwiZGVmZXIiLCJkZWxheSIsInRpbWVvdXRJZCIsImNhbmNlbCIsImRlZmVySWQiLCJjYWNoZUZhY3RvcnkiLCJjYWNoZUlkIiwicmVmcmVzaCIsImVudHJ5IiwiZnJlc2hFbmQiLCJzdGFsZUVuZCIsIm4iLCJsaW5rIiwicCIsIm5leHRFbnRyeSIsInByZXZFbnRyeSIsImNhY2hlcyIsInNpemUiLCJzdGF0cyIsImlkIiwiY2FwYWNpdHkiLCJOdW1iZXIiLCJNQVhfVkFMVUUiLCJscnVIYXNoIiwibHJ1RW50cnkiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJkZXN0cm95IiwiaW5mbyIsIlVOSU5JVElBTElaRURfVkFMVUUiLCIkJHNhbml0aXplVXJpUHJvdmlkZXIiLCJwYXJzZUlzb2xhdGVCaW5kaW5ncyIsImRpcmVjdGl2ZU5hbWUiLCJpc0NvbnRyb2xsZXIiLCJMT0NBTF9SRUdFWFAiLCJiaW5kaW5ncyIsImRlZmluaXRpb24iLCJzY29wZU5hbWUiLCJiaW5kaW5nQ2FjaGUiLCIkY29tcGlsZU1pbkVyciIsIm1vZGUiLCJjb2xsZWN0aW9uIiwib3B0aW9uYWwiLCJhdHRyTmFtZSIsInBhcnNlRGlyZWN0aXZlQmluZGluZ3MiLCJiaW5kVG9Db250cm9sbGVyIiwiY29udHJvbGxlckFzIiwiaWRlbnRpZmllckZvckNvbnRyb2xsZXIiLCJhc3NlcnRWYWxpZERpcmVjdGl2ZU5hbWUiLCJoYXNEaXJlY3RpdmVzIiwiU3VmZml4IiwiQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQIiwiQ0xBU1NfRElSRUNUSVZFX1JFR0VYUCIsIkFMTF9PUl9OT1RISU5HX0FUVFJTIiwiUkVRVUlSRV9QUkVGSVhfUkVHRVhQIiwiRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUCIsInJlZ2lzdGVyRGlyZWN0aXZlIiwiZGlyZWN0aXZlRmFjdG9yeSIsImRpcmVjdGl2ZXMiLCJwcmlvcml0eSIsInJlcXVpcmUiLCJyZXN0cmljdCIsIm1ha2VJbmplY3RhYmxlIiwidEVsZW1lbnQiLCJ0QXR0cnMiLCIkZWxlbWVudCIsIiRhdHRycyIsInRlbXBsYXRlVXJsIiwiZGRvIiwidHJhbnNjbHVkZSIsImFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0IiwicmVnZXhwIiwiaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0IiwiZW5hYmxlZCIsIlRUTCIsIm9uQ2hhbmdlc1R0bCIsImZsdXNoT25DaGFuZ2VzUXVldWUiLCJvbkNoYW5nZXNRdWV1ZSIsIkF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzVG9Db3B5IiwiJGF0dHIiLCIkJGVsZW1lbnQiLCJzZXRTcGVjaWFsQXR0ciIsInNwZWNpYWxBdHRySG9sZGVyIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZSIsInJlbW92ZU5hbWVkSXRlbSIsInNldE5hbWVkSXRlbSIsInNhZmVBZGRDbGFzcyIsImNsYXNzTmFtZSIsIiRjb21waWxlTm9kZXMiLCJ0cmFuc2NsdWRlRm4iLCJtYXhQcmlvcml0eSIsImlnbm9yZURpcmVjdGl2ZSIsInByZXZpb3VzQ29tcGlsZUNvbnRleHQiLCJOT1RfRU1QVFkiLCJkb21Ob2RlIiwibm9kZVZhbHVlIiwiY29tcG9zaXRlTGlua0ZuIiwiY29tcGlsZU5vZGVzIiwiJCRhZGRTY29wZUNsYXNzIiwibmFtZXNwYWNlIiwiY2xvbmVDb25uZWN0Rm4iLCJuZWVkc05ld1Njb3BlIiwiJHBhcmVudCIsIiRuZXciLCJwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiIsInRyYW5zY2x1ZGVDb250cm9sbGVycyIsImZ1dHVyZVBhcmVudEVsZW1lbnQiLCIkJGJvdW5kVHJhbnNjbHVkZSIsImRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMiLCIkbGlua05vZGUiLCJ3cmFwVGVtcGxhdGUiLCJjb250cm9sbGVyTmFtZSIsImluc3RhbmNlIiwiJCRhZGRTY29wZUluZm8iLCJwYXJlbnRFbGVtZW50Iiwibm9kZUxpc3QiLCIkcm9vdEVsZW1lbnQiLCJub2RlTGlua0ZuIiwiY2hpbGRMaW5rRm4iLCJjaGlsZFNjb3BlIiwiaWR4IiwiY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiIsInN0YWJsZU5vZGVMaXN0Iiwibm9kZUxpbmtGbkZvdW5kIiwibm9kZUxpc3RMZW5ndGgiLCJsaW5rRm5zIiwidHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQiLCJjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbiIsInRlbXBsYXRlT25UaGlzRWxlbWVudCIsImF0dHJzIiwibGlua0ZuRm91bmQiLCJjb2xsZWN0RGlyZWN0aXZlcyIsImFwcGx5RGlyZWN0aXZlc1RvTm9kZSIsInRlcm1pbmFsIiwicHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbiIsImJvdW5kVHJhbnNjbHVkZUZuIiwidHJhbnNjbHVkZWRTY29wZSIsImNsb25lRm4iLCJjb250cm9sbGVycyIsImNvbnRhaW5pbmdTY29wZSIsIiQkdHJhbnNjbHVkZWQiLCJib3VuZFNsb3RzIiwiJCRzbG90cyIsInNsb3ROYW1lIiwiYXR0cnNNYXAiLCJhZGREaXJlY3RpdmUiLCJkaXJlY3RpdmVOb3JtYWxpemUiLCJuTmFtZSIsIm5nQXR0ck5hbWUiLCJpc05nQXR0ciIsIm5BdHRycyIsImF0dHJTdGFydE5hbWUiLCJhdHRyRW5kTmFtZSIsIk5HX0FUVFJfQklORElORyIsIlBSRUZJWF9SRUdFWFAiLCJtdWx0aUVsZW1lbnRNYXRjaCIsIk1VTFRJX0VMRU1FTlRfRElSX1JFIiwiZGlyZWN0aXZlSXNNdWx0aUVsZW1lbnQiLCJhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUiLCJhbmltVmFsIiwiYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlIiwiTk9ERV9UWVBFX0NPTU1FTlQiLCJieVByaW9yaXR5IiwiZ3JvdXBTY2FuIiwiYXR0clN0YXJ0IiwiYXR0ckVuZCIsImRlcHRoIiwiZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIiLCJsaW5rRm4iLCJjb21waWxhdGlvbkdlbmVyYXRvciIsImVhZ2VyIiwiY29tcGlsZWQiLCJjb21waWxlTm9kZSIsInRlbXBsYXRlQXR0cnMiLCJqcUNvbGxlY3Rpb24iLCJvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUiLCJwcmVMaW5rRm5zIiwicG9zdExpbmtGbnMiLCJhZGRMaW5rRm5zIiwicHJlIiwicG9zdCIsIm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSIsIiQkaXNvbGF0ZVNjb3BlIiwiY2xvbmVBbmRBbm5vdGF0ZUZuIiwibGlua05vZGUiLCJjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZSIsImNsb25lQXR0YWNoRm4iLCJoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSIsImVsZW1lbnRDb250cm9sbGVycyIsInNjb3BlVG9DaGlsZCIsInNsb3RUcmFuc2NsdWRlRm4iLCJjb250cm9sbGVyU2NvcGUiLCJzY29wZUJpbmRpbmdJbmZvIiwibmV3U2NvcGVEaXJlY3RpdmUiLCJpc1Nsb3RGaWxsZWQiLCJjb250cm9sbGVyRGlyZWN0aXZlcyIsInNldHVwQ29udHJvbGxlcnMiLCJ0ZW1wbGF0ZURpcmVjdGl2ZSIsIiQkb3JpZ2luYWxEaXJlY3RpdmUiLCIkJGlzb2xhdGVCaW5kaW5ncyIsImluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyIsInJlbW92ZVdhdGNoZXMiLCIkb24iLCJjb250cm9sbGVyRGlyZWN0aXZlIiwiJCRiaW5kaW5ncyIsImlkZW50aWZpZXIiLCJiaW5kaW5nSW5mbyIsImNvbnRyb2xsZXJSZXN1bHQiLCJnZXRDb250cm9sbGVycyIsImNvbnRyb2xsZXJJbnN0YW5jZSIsIiRvbkNoYW5nZXMiLCJpbml0aWFsQ2hhbmdlcyIsIiRvbkluaXQiLCIkb25EZXN0cm95IiwiaW52b2tlTGlua0ZuIiwiJHBvc3RMaW5rIiwiJHRlbXBsYXRlIiwiZGlyZWN0aXZlVmFsdWUiLCJ0ZXJtaW5hbFByaW9yaXR5Iiwibm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSIsImhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUiLCJoYXNUZW1wbGF0ZSIsIiRjb21waWxlTm9kZSIsInJlcGxhY2VEaXJlY3RpdmUiLCJjaGlsZFRyYW5zY2x1ZGVGbiIsImRpZFNjYW5Gb3JNdWx0aXBsZVRyYW5zY2x1c2lvbiIsIm1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IiLCIkJHN0YXJ0IiwiJCRlbmQiLCJhc3NlcnROb0R1cGxpY2F0ZSIsIiQkdGxiIiwiY2FuZGlkYXRlRGlyZWN0aXZlIiwic2Nhbm5pbmdJbmRleCIsIiQkY3JlYXRlQ29tbWVudCIsInJlcGxhY2VXaXRoIiwiJCRwYXJlbnROb2RlIiwic2xvdHMiLCJjb250ZW50cyIsInNsb3RNYXAiLCJmaWxsZWRTbG90cyIsImVsZW1lbnRTZWxlY3RvciIsImZpbGxlZCIsIiQkbmV3U2NvcGUiLCJkZW5vcm1hbGl6ZVRlbXBsYXRlIiwicmVtb3ZlQ29tbWVudHMiLCJ0ZW1wbGF0ZU5hbWVzcGFjZSIsIm5ld1RlbXBsYXRlQXR0cnMiLCJ0ZW1wbGF0ZURpcmVjdGl2ZXMiLCJ1bnByb2Nlc3NlZERpcmVjdGl2ZXMiLCJtYXJrRGlyZWN0aXZlU2NvcGUiLCJtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyIsImNvbXBpbGVUZW1wbGF0ZVVybCIsIk1hdGgiLCJtYXgiLCJpbmhlcml0VHlwZSIsImRhdGFOYW1lIiwicHJvcGVydHkiLCJjb250cm9sbGVyS2V5IiwiJHNjb3BlIiwiJHRyYW5zY2x1ZGUiLCJuZXdTY29wZSIsInREaXJlY3RpdmVzIiwic3RhcnRBdHRyTmFtZSIsImVuZEF0dHJOYW1lIiwibXVsdGlFbGVtZW50Iiwic3JjQXR0ciIsImRzdEF0dHIiLCIkc2V0IiwiYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4iLCJhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4iLCJsaW5rUXVldWUiLCJiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlIiwib3JpZ0FzeW5jRGlyZWN0aXZlIiwiZGVyaXZlZFN5bmNEaXJlY3RpdmUiLCJjb250ZW50IiwidGVtcFRlbXBsYXRlQXR0cnMiLCJiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlIiwibGlua1Jvb3RFbGVtZW50IiwiJCRkZXN0cm95ZWQiLCJvbGRDbGFzc2VzIiwiaWdub3JlQ2hpbGRMaW5rRm4iLCJkaWZmIiwid2hhdCIsInByZXZpb3VzRGlyZWN0aXZlIiwid3JhcE1vZHVsZU5hbWVJZkRlZmluZWQiLCJtb2R1bGVOYW1lIiwidGV4dCIsImludGVycG9sYXRlRm4iLCJ0ZW1wbGF0ZU5vZGUiLCJ0ZW1wbGF0ZU5vZGVQYXJlbnQiLCJoYXNDb21waWxlUGFyZW50IiwiJCRhZGRCaW5kaW5nQ2xhc3MiLCIkJGFkZEJpbmRpbmdJbmZvIiwiZXhwcmVzc2lvbnMiLCJnZXRUcnVzdGVkQ29udGV4dCIsImF0dHJOb3JtYWxpemVkTmFtZSIsIkhUTUwiLCJSRVNPVVJDRV9VUkwiLCJhbGxPck5vdGhpbmciLCJ0cnVzdGVkQ29udGV4dCIsIiQkb2JzZXJ2ZXJzIiwibmV3VmFsdWUiLCIkJGludGVyIiwiJCRzY29wZSIsIm9sZFZhbHVlIiwiJHVwZGF0ZUNsYXNzIiwiZWxlbWVudHNUb1JlbW92ZSIsIm5ld05vZGUiLCJmaXJzdEVsZW1lbnRUb1JlbW92ZSIsInJlbW92ZUNvdW50IiwiajIiLCJoYXNEYXRhIiwiYW5ub3RhdGlvbiIsInJlY29yZENoYW5nZXMiLCJjdXJyZW50VmFsdWUiLCJwcmV2aW91c1ZhbHVlIiwiJCRwb3N0RGlnZXN0IiwiY2hhbmdlcyIsInRyaWdnZXJPbkNoYW5nZXNIb29rIiwiU2ltcGxlQ2hhbmdlIiwicmVtb3ZlV2F0Y2hDb2xsZWN0aW9uIiwibGFzdFZhbHVlIiwicGFyZW50R2V0IiwicGFyZW50U2V0IiwiY29tcGFyZSIsInJlbW92ZVdhdGNoIiwiJG9ic2VydmUiLCJfVU5JTklUSUFMSVpFRF9WQUxVRSIsImxpdGVyYWwiLCJhc3NpZ24iLCJwYXJlbnRWYWx1ZVdhdGNoIiwicGFyZW50VmFsdWUiLCIkc3RhdGVmdWwiLCIkd2F0Y2hDb2xsZWN0aW9uIiwiU0lNUExFX0FUVFJfTkFNRSIsIiRub3JtYWxpemUiLCIkYWRkQ2xhc3MiLCJjbGFzc1ZhbCIsIiRyZW1vdmVDbGFzcyIsIm5ld0NsYXNzZXMiLCJ0b0FkZCIsInRva2VuRGlmZmVyZW5jZSIsInRvUmVtb3ZlIiwid3JpdGVBdHRyIiwiYm9vbGVhbktleSIsImFsaWFzZWRLZXkiLCJvYnNlcnZlciIsInRyaW1tZWRTcmNzZXQiLCJzcmNQYXR0ZXJuIiwicmF3VXJpcyIsIm5iclVyaXNXaXRoMnBhcnRzIiwiZmxvb3IiLCJpbm5lcklkeCIsImxhc3RUdXBsZSIsInJlbW92ZUF0dHIiLCJsaXN0ZW5lcnMiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsImJpbmRpbmciLCJpc29sYXRlZCIsIm5vVGVtcGxhdGUiLCJjb21tZW50IiwiY3JlYXRlQ29tbWVudCIsInByZXZpb3VzIiwiY3VycmVudCIsInN0cjEiLCJzdHIyIiwidmFsdWVzIiwidG9rZW5zMSIsInRva2VuczIiLCJvdXRlciIsInRva2VuIiwianFOb2RlcyIsImlkZW50IiwiQ05UUkxfUkVHIiwiZ2xvYmFscyIsInJlZ2lzdGVyIiwiYWxsb3dHbG9iYWxzIiwiYWRkSWRlbnRpZmllciIsImV4cHJlc3Npb24iLCJsYXRlciIsIiRjb250cm9sbGVyTWluRXJyIiwiY29udHJvbGxlclByb3RvdHlwZSIsImV4Y2VwdGlvbiIsImNhdXNlIiwic2VyaWFsaXplVmFsdWUiLCJ2IiwidG9JU09TdHJpbmciLCJwYXJhbXMiLCJzZXJpYWxpemUiLCJ0b1NlcmlhbGl6ZSIsInRvcExldmVsIiwiZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybSIsImhlYWRlcnMiLCJ0ZW1wRGF0YSIsIkpTT05fUFJPVEVDVElPTl9QUkVGSVgiLCJjb250ZW50VHlwZSIsIkFQUExJQ0FUSU9OX0pTT04iLCJpc0pzb25MaWtlIiwianNvblN0YXJ0IiwiSlNPTl9TVEFSVCIsIkpTT05fRU5EUyIsInBhcnNlSGVhZGVycyIsImZpbGxJblBhcnNlZCIsImxpbmUiLCJoZWFkZXJWYWwiLCJoZWFkZXJLZXkiLCJoZWFkZXJzR2V0dGVyIiwiaGVhZGVyc09iaiIsInRyYW5zZm9ybURhdGEiLCJzdGF0dXMiLCJmbnMiLCJpc1N1Y2Nlc3MiLCJkZWZhdWx0cyIsInRyYW5zZm9ybVJlc3BvbnNlIiwidHJhbnNmb3JtUmVxdWVzdCIsImQiLCJjb21tb24iLCJBY2NlcHQiLCJDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiIsInBhdGNoIiwieHNyZkNvb2tpZU5hbWUiLCJ4c3JmSGVhZGVyTmFtZSIsInBhcmFtU2VyaWFsaXplciIsInVzZUFwcGx5QXN5bmMiLCJ1c2VMZWdhY3lQcm9taXNlIiwidXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnMiLCJpbnRlcmNlcHRvckZhY3RvcmllcyIsImludGVyY2VwdG9ycyIsInJlcXVlc3RDb25maWciLCJyZXNwb25zZSIsInJlc3AiLCJyZWplY3QiLCJleGVjdXRlSGVhZGVyRm5zIiwiaGVhZGVyQ29udGVudCIsInByb2Nlc3NlZEhlYWRlcnMiLCJoZWFkZXJGbiIsImhlYWRlciIsIm1lcmdlSGVhZGVycyIsImRlZkhlYWRlck5hbWUiLCJsb3dlcmNhc2VEZWZIZWFkZXJOYW1lIiwicmVxSGVhZGVyTmFtZSIsImRlZkhlYWRlcnMiLCJyZXFIZWFkZXJzIiwiZGVmYXVsdEhlYWRlcnNJdGVyYXRpb24iLCJzZXJ2ZXJSZXF1ZXN0IiwicmVxRGF0YSIsIndpdGhDcmVkZW50aWFscyIsInNlbmRSZXEiLCJjaGFpbiIsInByb21pc2UiLCJ3aGVuIiwicmV2ZXJzZWRJbnRlcmNlcHRvcnMiLCJpbnRlcmNlcHRvciIsInJlcXVlc3QiLCJyZXF1ZXN0RXJyb3IiLCJyZXNwb25zZUVycm9yIiwidGhlbkZuIiwicmVqZWN0Rm4iLCJzdWNjZXNzIiwiJGh0dHBNaW5FcnJMZWdhY3lGbiIsImNyZWF0ZVNob3J0TWV0aG9kcyIsImNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhIiwiY3JlYXRlQXBwbHlIYW5kbGVycyIsImV2ZW50SGFuZGxlcnMiLCJhcHBseUhhbmRsZXJzIiwiY2FsbEV2ZW50SGFuZGxlciIsIiRhcHBseUFzeW5jIiwiJCRwaGFzZSIsImRvbmUiLCJoZWFkZXJzU3RyaW5nIiwic3RhdHVzVGV4dCIsInJlc29sdmVIdHRwUHJvbWlzZSIsInJlc29sdmVQcm9taXNlIiwiZGVmZXJyZWQiLCJyZXNvbHZlIiwicmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0IiwicmVtb3ZlUGVuZGluZ1JlcSIsInBlbmRpbmdSZXF1ZXN0cyIsImNhY2hlZFJlc3AiLCJidWlsZFVybCIsImRlZmF1bHRDYWNoZSIsInhzcmZWYWx1ZSIsInVybElzU2FtZU9yaWdpbiIsInRpbWVvdXQiLCJyZXNwb25zZVR5cGUiLCJ1cGxvYWRFdmVudEhhbmRsZXJzIiwic2VyaWFsaXplZFBhcmFtcyIsImludGVyY2VwdG9yRmFjdG9yeSIsIlhNTEh0dHBSZXF1ZXN0IiwiY3JlYXRlSHR0cEJhY2tlbmQiLCJjcmVhdGVYaHIiLCIkYnJvd3NlckRlZmVyIiwicmF3RG9jdW1lbnQiLCJqc29ucFJlcSIsImNhbGxiYWNrSWQiLCJhc3luYyIsImJvZHkiLCJjYWxsZWQiLCJhZGRFdmVudExpc3RlbmVyRm4iLCJ0aW1lb3V0UmVxdWVzdCIsImpzb25wRG9uZSIsInhociIsImFib3J0IiwiY29tcGxldGVSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbmxvYWQiLCJyZXNwb25zZVRleHQiLCJ1cmxSZXNvbHZlIiwicHJvdG9jb2wiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJvbmVycm9yIiwib25hYm9ydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1cGxvYWQiLCJzZW5kIiwiZXNjYXBlIiwiY2giLCJ1bmVzY2FwZVRleHQiLCJlc2NhcGVkU3RhcnRSZWdleHAiLCJlc2NhcGVkRW5kUmVnZXhwIiwiY29uc3RhbnRXYXRjaERlbGVnYXRlIiwib2JqZWN0RXF1YWxpdHkiLCJjb25zdGFudEludGVycCIsInVud2F0Y2giLCJtdXN0SGF2ZUV4cHJlc3Npb24iLCJwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yIiwiZ2V0VmFsdWUiLCIkaW50ZXJwb2xhdGVNaW5FcnIiLCJpbnRlcnIiLCJ1bmVzY2FwZWRUZXh0IiwiZXhwIiwiJCR3YXRjaERlbGVnYXRlIiwiZW5kSW5kZXgiLCJwYXJzZUZucyIsInRleHRMZW5ndGgiLCJleHByZXNzaW9uUG9zaXRpb25zIiwic3RhcnRTeW1ib2xMZW5ndGgiLCJlbmRTeW1ib2xMZW5ndGgiLCJ0aHJvd05vY29uY2F0IiwiY29tcHV0ZSIsImdldFRydXN0ZWQiLCIkd2F0Y2hHcm91cCIsIm9sZFZhbHVlcyIsImN1cnJWYWx1ZSIsImludGVydmFsIiwiY291bnQiLCJpbnZva2VBcHBseSIsImhhc1BhcmFtcyIsIml0ZXJhdGlvbiIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInNraXBBcHBseSIsIiQkaW50ZXJ2YWxJZCIsIm5vdGlmeSIsImludGVydmFscyIsImVuY29kZVBhdGgiLCJzZWdtZW50cyIsInBhcnNlQWJzb2x1dGVVcmwiLCJhYnNvbHV0ZVVybCIsImxvY2F0aW9uT2JqIiwicGFyc2VkVXJsIiwiJCRwcm90b2NvbCIsIiQkaG9zdCIsImhvc3RuYW1lIiwiJCRwb3J0IiwicG9ydCIsIkRFRkFVTFRfUE9SVFMiLCJwYXJzZUFwcFVybCIsInJlbGF0aXZlVXJsIiwicHJlZml4ZWQiLCIkJHBhdGgiLCJwYXRobmFtZSIsIiQkc2VhcmNoIiwic2VhcmNoIiwiJCRoYXNoIiwiYmVnaW5zV2l0aCIsImJlZ2luIiwid2hvbGUiLCJ0cmltRW1wdHlIYXNoIiwic3RyaXBGaWxlIiwibGFzdEluZGV4T2YiLCJzZXJ2ZXJCYXNlIiwiTG9jYXRpb25IdG1sNVVybCIsImFwcEJhc2UiLCJhcHBCYXNlTm9GaWxlIiwiYmFzZVByZWZpeCIsIiQkaHRtbDUiLCIkJHBhcnNlIiwicGF0aFVybCIsIiRsb2NhdGlvbk1pbkVyciIsIiQkY29tcG9zZSIsIiQkdXJsIiwiJCRhYnNVcmwiLCIkJHBhcnNlTGlua1VybCIsInJlbEhyZWYiLCJhcHBVcmwiLCJwcmV2QXBwVXJsIiwicmV3cml0dGVuVXJsIiwiTG9jYXRpb25IYXNoYmFuZ1VybCIsImhhc2hQcmVmaXgiLCJyZW1vdmVXaW5kb3dzRHJpdmVOYW1lIiwiYmFzZSIsImZpcnN0UGF0aFNlZ21lbnRNYXRjaCIsIndpbmRvd3NGaWxlUGF0aEV4cCIsIndpdGhvdXRIYXNoVXJsIiwid2l0aG91dEJhc2VVcmwiLCJMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCIsImxvY2F0aW9uR2V0dGVyIiwibG9jYXRpb25HZXR0ZXJTZXR0ZXIiLCJwcmVwcm9jZXNzIiwiaHRtbDVNb2RlIiwicmVxdWlyZUJhc2UiLCJyZXdyaXRlTGlua3MiLCJzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrIiwib2xkVXJsIiwib2xkU3RhdGUiLCIkJHN0YXRlIiwiYWZ0ZXJMb2NhdGlvbkNoYW5nZSIsIiRicm9hZGNhc3QiLCJhYnNVcmwiLCJMb2NhdGlvbk1vZGUiLCJpbml0aWFsVXJsIiwiSUdOT1JFX1VSSV9SRUdFWFAiLCJjdHJsS2V5IiwibWV0YUtleSIsInNoaWZ0S2V5Iiwid2hpY2giLCJidXR0b24iLCJhYnNIcmVmIiwicHJldmVudERlZmF1bHQiLCJpbml0aWFsaXppbmciLCJuZXdVcmwiLCJuZXdTdGF0ZSIsIiRkaWdlc3QiLCJjdXJyZW50UmVwbGFjZSIsIiQkcmVwbGFjZSIsInVybE9yU3RhdGVDaGFuZ2VkIiwiZGVidWciLCJkZWJ1Z0VuYWJsZWQiLCJmbGFnIiwiZm9ybWF0RXJyb3IiLCJzb3VyY2VVUkwiLCJjb25zb2xlTG9nIiwiY29uc29sZSIsImxvZ0ZuIiwibG9nIiwiaGFzQXBwbHkiLCJhcmcxIiwiYXJnMiIsIndhcm4iLCJlbnN1cmVTYWZlTWVtYmVyTmFtZSIsImZ1bGxFeHByZXNzaW9uIiwiJHBhcnNlTWluRXJyIiwiZ2V0U3RyaW5nVmFsdWUiLCJlbnN1cmVTYWZlT2JqZWN0IiwiY2hpbGRyZW4iLCJlbnN1cmVTYWZlRnVuY3Rpb24iLCJDQUxMIiwiQVBQTFkiLCJCSU5EIiwiZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQiLCJpZkRlZmluZWQiLCJwbHVzRm4iLCJyIiwiaXNTdGF0ZWxlc3MiLCJmaWx0ZXJOYW1lIiwiZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyIsImFzdCIsImFsbENvbnN0YW50cyIsImFyZ3NUb1dhdGNoIiwiQVNUIiwiUHJvZ3JhbSIsImV4cHIiLCJMaXRlcmFsIiwidG9XYXRjaCIsIlVuYXJ5RXhwcmVzc2lvbiIsImFyZ3VtZW50IiwiQmluYXJ5RXhwcmVzc2lvbiIsImxlZnQiLCJyaWdodCIsIkxvZ2ljYWxFeHByZXNzaW9uIiwiQ29uZGl0aW9uYWxFeHByZXNzaW9uIiwiYWx0ZXJuYXRlIiwiY29uc2VxdWVudCIsIklkZW50aWZpZXIiLCJNZW1iZXJFeHByZXNzaW9uIiwib2JqZWN0IiwiY29tcHV0ZWQiLCJDYWxsRXhwcmVzc2lvbiIsImNhbGxlZSIsIkFzc2lnbm1lbnRFeHByZXNzaW9uIiwiQXJyYXlFeHByZXNzaW9uIiwiT2JqZWN0RXhwcmVzc2lvbiIsInByb3BlcnRpZXMiLCJUaGlzRXhwcmVzc2lvbiIsIkxvY2Fsc0V4cHJlc3Npb24iLCJnZXRJbnB1dHMiLCJsYXN0RXhwcmVzc2lvbiIsImlzQXNzaWduYWJsZSIsImFzc2lnbmFibGVBU1QiLCJOR1ZhbHVlUGFyYW1ldGVyIiwib3BlcmF0b3IiLCJpc0xpdGVyYWwiLCJpc0NvbnN0YW50IiwiQVNUQ29tcGlsZXIiLCJhc3RCdWlsZGVyIiwiQVNUSW50ZXJwcmV0ZXIiLCJpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZSIsImdldFZhbHVlT2YiLCJvYmplY3RWYWx1ZU9mIiwiaWRlbnRTdGFydCIsImlkZW50Q29udGludWUiLCJjYWNoZURlZmF1bHQiLCJjYWNoZUV4cGVuc2l2ZSIsImxpdGVyYWxzIiwidHJ1ZSIsImZhbHNlIiwibnVsbCIsImFkZExpdGVyYWwiLCJsaXRlcmFsTmFtZSIsImxpdGVyYWxWYWx1ZSIsInNldElkZW50aWZpZXJGbnMiLCJpZGVudGlmaWVyU3RhcnQiLCJpZGVudGlmaWVyQ29udGludWUiLCJpbnRlcmNlcHRvckZuIiwiZXhwZW5zaXZlQ2hlY2tzIiwicGFyc2VkRXhwcmVzc2lvbiIsIm9uZVRpbWUiLCJjYWNoZUtleSIsInJ1bm5pbmdDaGVja3NFbmFibGVkIiwicGFyc2VPcHRpb25zIiwiJHBhcnNlT3B0aW9uc0V4cGVuc2l2ZSIsIiRwYXJzZU9wdGlvbnMiLCJsZXhlciIsIkxleGVyIiwicGFyc2VyIiwiUGFyc2VyIiwib25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlIiwib25lVGltZVdhdGNoRGVsZWdhdGUiLCJpbnB1dHMiLCJpbnB1dHNXYXRjaERlbGVnYXRlIiwiZXhwZW5zaXZlQ2hlY2tzSW50ZXJjZXB0b3IiLCJhZGRJbnRlcmNlcHRvciIsImV4cGVuc2l2ZUNoZWNrRm4iLCJleHBlbnNpdmVDaGVja09sZFZhbHVlIiwiZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayIsIm9sZFZhbHVlT2ZWYWx1ZSIsInByZXR0eVByaW50RXhwcmVzc2lvbiIsImxhc3RSZXN1bHQiLCJpbnB1dEV4cHJlc3Npb25zIiwib2xkSW5wdXRWYWx1ZU9mIiwibmV3SW5wdXRWYWx1ZSIsIm9sZElucHV0VmFsdWVPZlZhbHVlcyIsIm9sZElucHV0VmFsdWVzIiwiY2hhbmdlZCIsIm9sZCIsImlzQWxsRGVmaW5lZCIsImFsbERlZmluZWQiLCJ3YXRjaERlbGVnYXRlIiwidXNlSW5wdXRzIiwicmVndWxhcldhdGNoIiwibm9VbnNhZmVFdmFsIiwiaXNJZGVudGlmaWVyU3RhcnQiLCJpc0lkZW50aWZpZXJDb250aW51ZSIsIiQkcnVubmluZ0V4cGVuc2l2ZUNoZWNrcyIsInFGYWN0b3J5IiwibmV4dFRpY2siLCJleGNlcHRpb25IYW5kbGVyIiwiUHJvbWlzZSIsInNpbXBsZUJpbmQiLCJwcm9jZXNzUXVldWUiLCJwZW5kaW5nIiwicHJvY2Vzc1NjaGVkdWxlZCIsInNjaGVkdWxlUHJvY2Vzc1F1ZXVlIiwiRGVmZXJyZWQiLCJwcm9taXNlcyIsInJlc3VsdHMiLCIkcU1pbkVyciIsIlR5cGVFcnJvciIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsInByb2dyZXNzQmFjayIsImNhdGNoIiwiZmluYWxseSIsImhhbmRsZUNhbGxiYWNrIiwiJCRyZWplY3QiLCIkJHJlc29sdmUiLCJ0aGF0IiwicmVqZWN0UHJvbWlzZSIsInByb2dyZXNzIiwibWFrZVByb21pc2UiLCJyZXNvbHZlZCIsImlzUmVzb2x2ZWQiLCJjYWxsYmFja091dHB1dCIsImVycmJhY2siLCIkUSIsInJlc29sdmVyIiwicmVzb2x2ZUZuIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJhZlN1cHBvcnRlZCIsInJhZiIsInRpbWVyIiwic3VwcG9ydGVkIiwiY3JlYXRlQ2hpbGRTY29wZUNsYXNzIiwiQ2hpbGRTY29wZSIsIiQkd2F0Y2hlcnMiLCIkJG5leHRTaWJsaW5nIiwiJCRjaGlsZEhlYWQiLCIkJGNoaWxkVGFpbCIsIiQkbGlzdGVuZXJzIiwiJCRsaXN0ZW5lckNvdW50IiwiJCR3YXRjaGVyc0NvdW50IiwiJGlkIiwiJCRDaGlsZFNjb3BlIiwiJHJvb3RTY29wZU1pbkVyciIsImxhc3REaXJ0eVdhdGNoIiwiYXBwbHlBc3luY0lkIiwiZGlnZXN0VHRsIiwiZGVzdHJveUNoaWxkU2NvcGUiLCIkZXZlbnQiLCJjdXJyZW50U2NvcGUiLCJjbGVhblVwU2NvcGUiLCIkJHByZXZTaWJsaW5nIiwiJHJvb3QiLCJTY29wZSIsImJlZ2luUGhhc2UiLCJwaGFzZSIsImNsZWFyUGhhc2UiLCJpbmNyZW1lbnRXYXRjaGVyc0NvdW50IiwiZGVjcmVtZW50TGlzdGVuZXJDb3VudCIsImluaXRXYXRjaFZhbCIsImZsdXNoQXBwbHlBc3luYyIsImFwcGx5QXN5bmNRdWV1ZSIsInNjaGVkdWxlQXBwbHlBc3luYyIsImlzb2xhdGUiLCJjaGlsZCIsIndhdGNoRXhwIiwid2F0Y2hlciIsImVxIiwid2F0Y2hFeHByZXNzaW9ucyIsIndhdGNoR3JvdXBBY3Rpb24iLCJjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCIsImZpcnN0UnVuIiwibmV3VmFsdWVzIiwiZGVyZWdpc3RlckZucyIsInNob3VsZENhbGwiLCJ1bndhdGNoRm4iLCIkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IiLCJfdmFsdWUiLCJuZXdMZW5ndGgiLCJib3RoTmFOIiwibmV3SXRlbSIsIm9sZEl0ZW0iLCJpbnRlcm5hbEFycmF5Iiwib2xkTGVuZ3RoIiwiY2hhbmdlRGV0ZWN0ZWQiLCJpbnRlcm5hbE9iamVjdCIsIiR3YXRjaENvbGxlY3Rpb25BY3Rpb24iLCJpbml0UnVuIiwidmVyeU9sZFZhbHVlIiwidHJhY2tWZXJ5T2xkVmFsdWUiLCJjaGFuZ2VEZXRlY3RvciIsIndhdGNoIiwid2F0Y2hlcnMiLCJkaXJ0eSIsIm5leHQiLCJsb2dJZHgiLCJhc3luY1Rhc2siLCJ0dGwiLCJ3YXRjaExvZyIsImFzeW5jUXVldWUiLCIkZXZhbCIsInRyYXZlcnNlU2NvcGVzTG9vcCIsIm1zZyIsInBvc3REaWdlc3RRdWV1ZSIsImV2ZW50TmFtZSIsIiRhcHBseUFzeW5jRXhwcmVzc2lvbiIsIm5hbWVkTGlzdGVuZXJzIiwiaW5kZXhPZkxpc3RlbmVyIiwiJGVtaXQiLCJ0YXJnZXRTY29wZSIsImxpc3RlbmVyQXJncyIsIiQkYXN5bmNRdWV1ZSIsIiQkcG9zdERpZ2VzdFF1ZXVlIiwiJCRhcHBseUFzeW5jUXVldWUiLCJ1cmkiLCJpc0ltYWdlIiwibm9ybWFsaXplZFZhbCIsInJlZ2V4IiwiYWRqdXN0TWF0Y2hlciIsIm1hdGNoZXIiLCIkc2NlTWluRXJyIiwiZXNjYXBlRm9yUmVnZXhwIiwiYWRqdXN0TWF0Y2hlcnMiLCJtYXRjaGVycyIsImFkanVzdGVkTWF0Y2hlcnMiLCJTQ0VfQ09OVEVYVFMiLCJyZXNvdXJjZVVybFdoaXRlbGlzdCIsInJlc291cmNlVXJsQmxhY2tsaXN0IiwibWF0Y2hVcmwiLCJpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5IiwiYWxsb3dlZCIsImdlbmVyYXRlSG9sZGVyVHlwZSIsIkJhc2UiLCJob2xkZXJUeXBlIiwidHJ1c3RlZFZhbHVlIiwiJCR1bndyYXBUcnVzdGVkVmFsdWUiLCJ0cnVzdEFzIiwiQ29uc3RydWN0b3IiLCJieVR5cGUiLCJtYXliZVRydXN0ZWQiLCJ0cnVzdGVkVmFsdWVIb2xkZXJCYXNlIiwiaHRtbFNhbml0aXplciIsIkNTUyIsIlVSTCIsIkpTIiwic2NlIiwiaXNFbmFibGVkIiwicGFyc2VBcyIsImVudW1WYWx1ZSIsImxOYW1lIiwidmVuZG9yUHJlZml4IiwiZXZlbnRTdXBwb3J0IiwiaXNDaHJvbWVQYWNrYWdlZEFwcCIsImNocm9tZSIsImFwcCIsInJ1bnRpbWUiLCJoYXNIaXN0b3J5UHVzaFN0YXRlIiwicHVzaFN0YXRlIiwiYW5kcm9pZCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImJveGVlIiwidmVuZG9yUmVnZXgiLCJib2R5U3R5bGUiLCJ0cmFuc2l0aW9ucyIsImFuaW1hdGlvbnMiLCJ3ZWJraXRUcmFuc2l0aW9uIiwid2Via2l0QW5pbWF0aW9uIiwiaGFzRXZlbnQiLCJkaXZFbG0iLCJodHRwT3B0aW9ucyIsImhhbmRsZVJlcXVlc3RGbiIsInRwbCIsImlnbm9yZVJlcXVlc3RFcnJvciIsImhhbmRsZUVycm9yIiwiJHRlbXBsYXRlUmVxdWVzdE1pbkVyciIsInRvdGFsUGVuZGluZ1JlcXVlc3RzIiwiZ2V0VHJ1c3RlZFJlc291cmNlVXJsIiwidHJhbnNmb3JtZXIiLCJ0ZXN0YWJpbGl0eSIsImZpbmRCaW5kaW5ncyIsIm9wdF9leGFjdE1hdGNoIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIm1hdGNoZXMiLCJkYXRhQmluZGluZyIsImJpbmRpbmdOYW1lIiwiZmluZE1vZGVscyIsInByZWZpeGVzIiwiYXR0cmlidXRlRXF1YWxzIiwiZ2V0TG9jYXRpb24iLCJzZXRMb2NhdGlvbiIsIndoZW5TdGFibGUiLCJkZWZlcnJlZHMiLCIkJHRpbWVvdXRJZCIsInVybFBhcnNpbmdOb2RlIiwicmVxdWVzdFVybCIsIm9yaWdpblVybCIsIiQkQ29va2llUmVhZGVyIiwic2FmZURlY29kZVVSSUNvbXBvbmVudCIsImxhc3RDb29raWVzIiwibGFzdENvb2tpZVN0cmluZyIsImNvb2tpZUFycmF5IiwiY29va2llIiwiY3VycmVudENvb2tpZVN0cmluZyIsImZpbHRlcnMiLCJzdWZmaXgiLCJjdXJyZW5jeUZpbHRlciIsImRhdGVGaWx0ZXIiLCJmaWx0ZXJGaWx0ZXIiLCJqc29uRmlsdGVyIiwibGltaXRUb0ZpbHRlciIsImxvd2VyY2FzZUZpbHRlciIsIm51bWJlckZpbHRlciIsIm9yZGVyQnlGaWx0ZXIiLCJ1cHBlcmNhc2VGaWx0ZXIiLCJjb21wYXJhdG9yIiwicHJlZGljYXRlRm4iLCJtYXRjaEFnYWluc3RBbnlQcm9wIiwiZXhwcmVzc2lvblR5cGUiLCJnZXRUeXBlRm9yRmlsdGVyIiwiY3JlYXRlUHJlZGljYXRlRm4iLCJzaG91bGRNYXRjaFByaW1pdGl2ZXMiLCJhY3R1YWwiLCJleHBlY3RlZCIsImRlZXBDb21wYXJlIiwiZG9udE1hdGNoV2hvbGVPYmplY3QiLCJhY3R1YWxUeXBlIiwiZXhwZWN0ZWRUeXBlIiwiZXhwZWN0ZWRWYWwiLCJtYXRjaEFueVByb3BlcnR5IiwiYWN0dWFsVmFsIiwiJGxvY2FsZSIsImZvcm1hdHMiLCJOVU1CRVJfRk9STUFUUyIsImFtb3VudCIsImN1cnJlbmN5U3ltYm9sIiwiZnJhY3Rpb25TaXplIiwiQ1VSUkVOQ1lfU1lNIiwiUEFUVEVSTlMiLCJtYXhGcmFjIiwiZm9ybWF0TnVtYmVyIiwiR1JPVVBfU0VQIiwiREVDSU1BTF9TRVAiLCJudW1iZXIiLCJudW1TdHIiLCJkaWdpdHMiLCJudW1iZXJPZkludGVnZXJEaWdpdHMiLCJ6ZXJvcyIsImV4cG9uZW50IiwiWkVST19DSEFSIiwiTUFYX0RJR0lUUyIsInJvdW5kTnVtYmVyIiwicGFyc2VkTnVtYmVyIiwibWluRnJhYyIsImZyYWN0aW9uTGVuIiwibWluIiwicm91bmRBdCIsImRpZ2l0IiwiayIsImNhcnJ5IiwicmVkdWNlUmlnaHQiLCJncm91cFNlcCIsImRlY2ltYWxTZXAiLCJpc0luZmluaXR5IiwiaXNGaW5pdGUiLCJpc1plcm8iLCJhYnMiLCJmb3JtYXR0ZWRUZXh0IiwiaW50ZWdlckxlbiIsImRlY2ltYWxzIiwicmVkdWNlIiwiZ3JvdXBzIiwibGdTaXplIiwiZ1NpemUiLCJuZWdQcmUiLCJuZWdTdWYiLCJwb3NQcmUiLCJwb3NTdWYiLCJwYWROdW1iZXIiLCJudW0iLCJuZWdXcmFwIiwibmVnIiwiZGF0ZUdldHRlciIsImRhdGVTdHJHZXR0ZXIiLCJzaG9ydEZvcm0iLCJzdGFuZEFsb25lIiwicHJvcFByZWZpeCIsInRpbWVab25lR2V0dGVyIiwiem9uZSIsInBhZGRlZFpvbmUiLCJnZXRGaXJzdFRodXJzZGF5T2ZZZWFyIiwieWVhciIsImRheU9mV2Vla09uRmlyc3QiLCJnZXREYXkiLCJnZXRUaHVyc2RheVRoaXNXZWVrIiwiZGF0ZXRpbWUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsIndlZWtHZXR0ZXIiLCJmaXJzdFRodXJzIiwidGhpc1RodXJzIiwicm91bmQiLCJhbXBtR2V0dGVyIiwiZ2V0SG91cnMiLCJBTVBNUyIsImVyYUdldHRlciIsIkVSQVMiLCJsb25nRXJhR2V0dGVyIiwiRVJBTkFNRVMiLCJqc29uU3RyaW5nVG9EYXRlIiwic3RyaW5nIiwiUl9JU084NjAxX1NUUiIsInR6SG91ciIsInR6TWluIiwiZGF0ZVNldHRlciIsInNldFVUQ0Z1bGxZZWFyIiwic2V0RnVsbFllYXIiLCJ0aW1lU2V0dGVyIiwic2V0VVRDSG91cnMiLCJzZXRIb3VycyIsIm0iLCJzIiwibXMiLCJwYXJzZUZsb2F0IiwiZm9ybWF0IiwiREFURVRJTUVfRk9STUFUUyIsIk5VTUJFUl9TVFJJTkciLCJEQVRFX0ZPUk1BVFNfU1BMSVQiLCJEQVRFX0ZPUk1BVFMiLCJzcGFjaW5nIiwibGltaXQiLCJJbmZpbml0eSIsInByb2Nlc3NQcmVkaWNhdGVzIiwic29ydFByZWRpY2F0ZSIsInJldmVyc2VPcmRlciIsIm1hcCIsInByZWRpY2F0ZSIsImRlc2NlbmRpbmciLCJvYmplY3RWYWx1ZSIsImdldFByZWRpY2F0ZVZhbHVlIiwidjEiLCJ2MiIsImdldENvbXBhcmlzb25PYmplY3QiLCJwcmVkaWNhdGVWYWx1ZXMiLCJwcmVkaWNhdGVzIiwiZG9Db21wYXJpc29uIiwiY29tcGFyZVZhbHVlcyIsIm5nRGlyZWN0aXZlIiwibnVsbEZvcm1SZW5hbWVDb250cm9sIiwiY29udHJvbCIsIiRuYW1lIiwiRm9ybUNvbnRyb2xsZXIiLCJjb250cm9scyIsIiRlcnJvciIsIiQkc3VjY2VzcyIsIiRwZW5kaW5nIiwiJGRpcnR5IiwiJHByaXN0aW5lIiwiJHZhbGlkIiwiJGludmFsaWQiLCIkc3VibWl0dGVkIiwiJCRwYXJlbnRGb3JtIiwibnVsbEZvcm1DdHJsIiwiJHJvbGxiYWNrVmlld1ZhbHVlIiwiJGNvbW1pdFZpZXdWYWx1ZSIsIiRhZGRDb250cm9sIiwiJCRyZW5hbWVDb250cm9sIiwibmV3TmFtZSIsIm9sZE5hbWUiLCIkcmVtb3ZlQ29udHJvbCIsIiRzZXRWYWxpZGl0eSIsImFkZFNldFZhbGlkaXR5TWV0aG9kIiwiY3RybCIsInVuc2V0IiwiJHNldERpcnR5IiwiUFJJU1RJTkVfQ0xBU1MiLCJESVJUWV9DTEFTUyIsIiRzZXRQcmlzdGluZSIsInNldENsYXNzIiwiU1VCTUlUVEVEX0NMQVNTIiwiJHNldFVudG91Y2hlZCIsIiRzZXRTdWJtaXR0ZWQiLCJzdHJpbmdCYXNlZElucHV0VHlwZSIsIiRmb3JtYXR0ZXJzIiwiJGlzRW1wdHkiLCJ0ZXh0SW5wdXRUeXBlIiwiYmFzZUlucHV0VHlwZSIsImNvbXBvc2luZyIsImV2IiwibmdUcmltIiwiJHZpZXdWYWx1ZSIsIiQkaGFzTmF0aXZlVmFsaWRhdG9ycyIsIiRzZXRWaWV3VmFsdWUiLCJkZWZlckxpc3RlbmVyIiwib3JpZ1ZhbHVlIiwia2V5Q29kZSIsIlBBUlRJQUxfVkFMSURBVElPTl9UWVBFUyIsIlBBUlRJQUxfVkFMSURBVElPTl9FVkVOVFMiLCJ2YWxpZGl0eSIsIlZBTElESVRZX1NUQVRFX1BST1BFUlRZIiwib3JpZ0JhZElucHV0IiwiYmFkSW5wdXQiLCJvcmlnVHlwZU1pc21hdGNoIiwidHlwZU1pc21hdGNoIiwiJHJlbmRlciIsIndlZWtQYXJzZXIiLCJpc29XZWVrIiwiZXhpc3RpbmdEYXRlIiwiV0VFS19SRUdFWFAiLCJ3ZWVrIiwiaG91cnMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiYWRkRGF5cyIsImdldFNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJOYU4iLCJjcmVhdGVEYXRlUGFyc2VyIiwibWFwcGluZyIsImlzbyIsIklTT19EQVRFX1JFR0VYUCIsInl5eXkiLCJNTSIsImRkIiwiSEgiLCJtbSIsInNzIiwic3NzIiwicGFydCIsImNyZWF0ZURhdGVJbnB1dFR5cGUiLCJwYXJzZURhdGUiLCJpc1ZhbGlkRGF0ZSIsInBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUiLCJiYWRJbnB1dENoZWNrZXIiLCJwcmV2aW91c0RhdGUiLCIkb3B0aW9ucyIsIiQkcGFyc2VyTmFtZSIsIiRwYXJzZXJzIiwicGFyc2VkRGF0ZSIsIm5nTW9kZWxNaW5FcnIiLCJuZ01pbiIsIm1pblZhbCIsIiR2YWxpZGF0b3JzIiwiJHZhbGlkYXRlIiwibmdNYXgiLCJtYXhWYWwiLCJuYXRpdmVWYWxpZGF0aW9uIiwibnVtYmVySW5wdXRUeXBlIiwiTlVNQkVSX1JFR0VYUCIsInVybElucHV0VHlwZSIsIm1vZGVsVmFsdWUiLCJ2aWV3VmFsdWUiLCJVUkxfUkVHRVhQIiwiZW1haWxJbnB1dFR5cGUiLCJlbWFpbCIsIkVNQUlMX1JFR0VYUCIsInJhZGlvSW5wdXRUeXBlIiwiY2hlY2tlZCIsInBhcnNlQ29uc3RhbnRFeHByIiwicGFyc2VGbiIsImNoZWNrYm94SW5wdXRUeXBlIiwidHJ1ZVZhbHVlIiwibmdUcnVlVmFsdWUiLCJmYWxzZVZhbHVlIiwibmdGYWxzZVZhbHVlIiwiY2xhc3NEaXJlY3RpdmUiLCJhcnJheURpZmZlcmVuY2UiLCJhcnJheUNsYXNzZXMiLCJhZGRDbGFzc2VzIiwiZGlnZXN0Q2xhc3NDb3VudHMiLCJyZW1vdmVDbGFzc2VzIiwiY2xhc3NDb3VudHMiLCJjbGFzc2VzVG9VcGRhdGUiLCJ1cGRhdGVDbGFzc2VzIiwibmdDbGFzc1dhdGNoQWN0aW9uIiwiJGluZGV4Iiwib2xkJGluZGV4IiwibW9kIiwic2V0VmFsaWRpdHkiLCJ2YWxpZGF0aW9uRXJyb3JLZXkiLCJjcmVhdGVBbmRTZXQiLCJ1bnNldEFuZENsZWFudXAiLCJjYWNoZWRUb2dnbGVDbGFzcyIsIlBFTkRJTkdfQ0xBU1MiLCJ0b2dnbGVWYWxpZGF0aW9uQ3NzIiwiaXNPYmplY3RFbXB0eSIsImNvbWJpbmVkU3RhdGUiLCJzd2l0Y2hWYWx1ZSIsImNsYXNzQ2FjaGUiLCJpc1ZhbGlkIiwiVkFMSURfQ0xBU1MiLCJJTlZBTElEX0NMQVNTIiwiY2hyb21lSGFjayIsIm9wdGlvbkVsZW1lbnQiLCJzZWxlY3RlZCIsIlJFR0VYX1NUUklOR19SRUdFWFAiLCJtYW51YWxMb3dlcmNhc2UiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjaGFyQ29kZUF0IiwibWFudWFsVXBwZXJjYXNlIiwiZG9jdW1lbnRNb2RlIiwicnVsZXMiLCJuZ0NzcEVsZW1lbnQiLCJuZ0NzcEF0dHJpYnV0ZSIsIm5vSW5saW5lU3R5bGUiLCJuYW1lXyIsImVsIiwiTk9ERV9UWVBFX0FUVFJJQlVURSIsImZ1bGwiLCJtYWpvciIsIm1pbm9yIiwiZG90IiwiY29kZU5hbWUiLCJleHBhbmRvIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm1vdXNlbGVhdmUiLCJtb3VzZWVudGVyIiwidGhlYWQiLCJjb2wiLCJ0ciIsInRkIiwib3B0Z3JvdXAiLCJ0Ym9keSIsInRmb290IiwiY29sZ3JvdXAiLCJjYXB0aW9uIiwidGgiLCJOb2RlIiwiY29udGFpbnMiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsInJlYWR5IiwidHJpZ2dlciIsImZpcmVkIiwicmVtb3ZlRGF0YSIsInJlbW92ZUF0dHJpYnV0ZSIsImNzcyIsImxvd2VyY2FzZWROYW1lIiwiZ2V0TmFtZWRJdGVtIiwic3BlY2lmaWVkIiwicmV0IiwiZ2V0VGV4dCIsIiRkdiIsIm11bHRpcGxlIiwibm9kZUNvdW50IiwidHlwZXMiLCJhZGRIYW5kbGVyIiwibm9FdmVudExpc3RlbmVyIiwib25lIiwib25GbiIsInJlcGxhY2VOb2RlIiwiaW5zZXJ0QmVmb3JlIiwiY29udGVudERvY3VtZW50IiwicHJlcGVuZCIsIndyYXBOb2RlIiwiZGV0YWNoIiwiYWZ0ZXIiLCJuZXdFbGVtZW50IiwidG9nZ2xlQ2xhc3MiLCJjb25kaXRpb24iLCJjbGFzc0NvbmRpdGlvbiIsIm5leHRFbGVtZW50U2libGluZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZXh0cmFQYXJhbWV0ZXJzIiwiZHVtbXlFdmVudCIsImV2ZW50Rm5zQ29weSIsImhhbmRsZXJBcmdzIiwiYXJnMyIsInVuYmluZCIsIiRhbmltYXRlTWluRXJyIiwiTkdfQU5JTUFURV9DTEFTU05BTUUiLCJwb3N0RGlnZXN0RWxlbWVudHMiLCJ1cGRhdGVEYXRhIiwiaGFuZGxlQ1NTQ2xhc3NDaGFuZ2VzIiwiZXhpc3RpbmciLCJhZGRSZW1vdmVDbGFzc2VzUG9zdERpZ2VzdCIsImFkZCIsImNsYXNzZXNBZGRlZCIsImNsYXNzZXNSZW1vdmVkIiwicGluIiwiZG9tT3BlcmF0aW9uIiwiZnJvbSIsInRvIiwicnVubmVyIiwiY29tcGxldGUiLCIkJHJlZ2lzdGVyZWRBbmltYXRpb25zIiwiY2xhc3NOYW1lRmlsdGVyIiwiJCRjbGFzc05hbWVGaWx0ZXIiLCJyZXNlcnZlZFJlZ2V4IiwiZG9tSW5zZXJ0IiwiYWZ0ZXJFbGVtZW50IiwiYWZ0ZXJOb2RlIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImVuZCIsImVudGVyIiwibW92ZSIsImxlYXZlIiwiYWRkY2xhc3MiLCJhbmltYXRlIiwidGVtcENsYXNzZXMiLCJ3YWl0Rm9yVGljayIsIndhaXRRdWV1ZSIsInBhc3NlZCIsIkFuaW1hdGVSdW5uZXIiLCJzZXRIb3N0IiwicmFmVGljayIsInRpbWVvdXRUaWNrIiwiX2RvbmVDYWxsYmFja3MiLCJfdGljayIsImRvYyIsImhpZGRlbiIsIl9zdGF0ZSIsIklOSVRJQUxfU1RBVEUiLCJET05FX1BFTkRJTkdfU1RBVEUiLCJET05FX0NPTVBMRVRFX1NUQVRFIiwicnVubmVycyIsIm9uUHJvZ3Jlc3MiLCJnZXRQcm9taXNlIiwicmVzb2x2ZUhhbmRsZXIiLCJyZWplY3RIYW5kbGVyIiwicGF1c2UiLCJyZXN1bWUiLCJfcmVzb2x2ZSIsImluaXRpYWxPcHRpb25zIiwiYXBwbHlBbmltYXRpb25Db250ZW50cyIsImNsb3NlZCIsIiQkcHJlcGFyZWQiLCJjbGVhbnVwU3R5bGVzIiwic3RhcnQiLCJpc0ZpcnN0Q2hhbmdlIiwib2Zmc2V0V2lkdGgiLCJDb250ZW50LVR5cGUiLCJbIiwieyIsIiRodHRwTWluRXJyIiwiUEFUSF9NQVRDSCIsImh0dHAiLCJodHRwcyIsImZ0cCIsImxvY2F0aW9uUHJvdG90eXBlIiwicGFyYW1WYWx1ZSIsIkxvY2F0aW9uIiwiT1BFUkFUT1JTIiwiRVNDQVBFIiwiZiIsInQiLCInIiwiXCIiLCJsZXgiLCJ0b2tlbnMiLCJyZWFkU3RyaW5nIiwicGVlayIsInJlYWROdW1iZXIiLCJwZWVrTXVsdGljaGFyIiwicmVhZElkZW50IiwiaXMiLCJpc1doaXRlc3BhY2UiLCJjaDIiLCJjaDMiLCJvcDEiLCJvcDIiLCJvcDMiLCJ0aHJvd0Vycm9yIiwiY2hhcnMiLCJjb2RlUG9pbnRBdCIsImlzVmFsaWRJZGVudGlmaWVyU3RhcnQiLCJpc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlIiwiY3AiLCJjcDEiLCJjcDIiLCJpc0V4cE9wZXJhdG9yIiwiY29sU3RyIiwicGVla0NoIiwicXVvdGUiLCJyYXdTdHJpbmciLCJoZXgiLCJyZXAiLCJFeHByZXNzaW9uU3RhdGVtZW50IiwiUHJvcGVydHkiLCJwcm9ncmFtIiwiZXhwcmVzc2lvblN0YXRlbWVudCIsImV4cGVjdCIsImZpbHRlckNoYWluIiwiYXNzaWdubWVudCIsInRlcm5hcnkiLCJsb2dpY2FsT1IiLCJjb25zdW1lIiwibG9naWNhbEFORCIsImVxdWFsaXR5IiwicmVsYXRpb25hbCIsImFkZGl0aXZlIiwibXVsdGlwbGljYXRpdmUiLCJ1bmFyeSIsInByaW1hcnkiLCJhcnJheURlY2xhcmF0aW9uIiwic2VsZlJlZmVyZW50aWFsIiwicGFyc2VBcmd1bWVudHMiLCJiYXNlRXhwcmVzc2lvbiIsInBlZWtUb2tlbiIsImtpbmQiLCJlMSIsImUyIiwiZTMiLCJlNCIsInBlZWtBaGVhZCIsIiRsb2NhbHMiLCJuZXh0SWQiLCJ2YXJzIiwib3duIiwiYXNzaWduYWJsZSIsInN0YWdlIiwiY29tcHV0aW5nIiwicmVjdXJzZSIsInJldHVybl8iLCJnZW5lcmF0ZUZ1bmN0aW9uIiwiZm5LZXkiLCJpbnRvSWQiLCJ3YXRjaElkIiwiZm5TdHJpbmciLCJVU0UiLCJTVFJJQ1QiLCJmaWx0ZXJQcmVmaXgiLCJ3YXRjaEZucyIsInZhcnNQcmVmaXgiLCJzZWN0aW9uIiwibmFtZUlkIiwicmVjdXJzaW9uRm4iLCJza2lwV2F0Y2hJZENoZWNrIiwiaWZfIiwibGF6eUFzc2lnbiIsImNvbXB1dGVkTWVtYmVyIiwibGF6eVJlY3Vyc2UiLCJwbHVzIiwibm90IiwiZ2V0SGFzT3duUHJvcGVydHkiLCJub25Db21wdXRlZE1lbWJlciIsImFkZEVuc3VyZVNhZmVPYmplY3QiLCJub3ROdWxsIiwiYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQiLCJhZGRFbnN1cmVTYWZlTWVtYmVyTmFtZSIsImFkZEVuc3VyZVNhZmVGdW5jdGlvbiIsIm1lbWJlciIsImRlZmF1bHRWYWx1ZSIsIlNBRkVfSURFTlRJRklFUiIsIlVOU0FGRV9DSEFSQUNURVJTIiwic3RyaW5nRXNjYXBlRm4iLCJzdHJpbmdFc2NhcGVSZWdleCIsImMiLCJza2lwIiwiaW5pdCIsInJocyIsImxocyIsInVuYXJ5KyIsInVuYXJ5LSIsInVuYXJ5ISIsImJpbmFyeSsiLCJiaW5hcnktIiwiYmluYXJ5KiIsImJpbmFyeS8iLCJiaW5hcnklIiwiYmluYXJ5PT09IiwiYmluYXJ5IT09IiwiYmluYXJ5PT0iLCJiaW5hcnkhPSIsImJpbmFyeTwiLCJiaW5hcnk+IiwiYmluYXJ5PD0iLCJiaW5hcnk+PSIsImJpbmFyeSYmIiwiYmluYXJ5fHwiLCJ0ZXJuYXJ5PzoiLCJhc3RDb21waWxlciIsInl5IiwieSIsIk1NTU0iLCJNTU0iLCJNIiwiTExMTCIsIkgiLCJoaCIsIkVFRUUiLCJFRUUiLCJaIiwid3ciLCJ3IiwiRyIsIkdHIiwiR0dHIiwiR0dHRyIsInhsaW5rSHJlZiIsInByb3BOYW1lIiwiZGVmYXVsdExpbmtGbiIsIm5vcm1hbGl6ZWQiLCJodG1sQXR0ciIsImZvcm1EaXJlY3RpdmVGYWN0b3J5IiwiaXNOZ0Zvcm0iLCJnZXRTZXR0ZXIiLCJmb3JtRWxlbWVudCIsIm5hbWVBdHRyIiwiY3RybHMiLCJoYW5kbGVGb3JtU3VibWlzc2lvbiIsInBhcmVudEZvcm1DdHJsIiwic2V0dGVyIiwiREFURV9SRUdFWFAiLCJEQVRFVElNRUxPQ0FMX1JFR0VYUCIsIk1PTlRIX1JFR0VYUCIsIlRJTUVfUkVHRVhQIiwiaW5wdXRUeXBlIiwiZGF0ZXRpbWUtbG9jYWwiLCJ0aW1lIiwibW9udGgiLCJyYWRpbyIsImNoZWNrYm94Iiwic3VibWl0IiwicmVzZXQiLCJmaWxlIiwiQ09OU1RBTlRfVkFMVUVfUkVHRVhQIiwidHBsQXR0ciIsIiRjb21waWxlIiwidGVtcGxhdGVFbGVtZW50IiwibmdCaW5kSHRtbEdldHRlciIsIm5nQmluZEh0bWxXYXRjaCIsImdldFRydXN0ZWRIdG1sIiwiJHZpZXdDaGFuZ2VMaXN0ZW5lcnMiLCJmb3JjZUFzeW5jRXZlbnRzIiwiYmx1ciIsImZvY3VzIiwicHJldmlvdXNFbGVtZW50cyIsInNyY0V4cCIsIm9ubG9hZEV4cCIsImF1dG9TY3JvbGxFeHAiLCJhdXRvc2Nyb2xsIiwicHJldmlvdXNFbGVtZW50IiwiY3VycmVudEVsZW1lbnQiLCJjaGFuZ2VDb3VudGVyIiwiY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCIsImFmdGVyQW5pbWF0aW9uIiwidGhpc0NoYW5nZUlkIiwidHJpbVZhbHVlcyIsIlVOVE9VQ0hFRF9DTEFTUyIsIlRPVUNIRURfQ0xBU1MiLCJFTVBUWV9DTEFTUyIsIk5PVF9FTVBUWV9DTEFTUyIsIk5nTW9kZWxDb250cm9sbGVyIiwiJG1vZGVsVmFsdWUiLCIkJHJhd01vZGVsVmFsdWUiLCIkYXN5bmNWYWxpZGF0b3JzIiwiJHVudG91Y2hlZCIsIiR0b3VjaGVkIiwicGFyc2VyVmFsaWQiLCJwYXJzZWROZ01vZGVsIiwicGFyc2VkTmdNb2RlbEFzc2lnbiIsIm5nTW9kZWxHZXQiLCJuZ01vZGVsU2V0IiwicGVuZGluZ0RlYm91bmNlIiwiJCRzZXRPcHRpb25zIiwiZ2V0dGVyU2V0dGVyIiwiaW52b2tlTW9kZWxHZXR0ZXIiLCJpbnZva2VNb2RlbFNldHRlciIsIiQkJHAiLCIkJHVwZGF0ZUVtcHR5Q2xhc3NlcyIsImN1cnJlbnRWYWxpZGF0aW9uUnVuSWQiLCIkc2V0VG91Y2hlZCIsIiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSIsInByZXZWYWxpZCIsInByZXZNb2RlbFZhbHVlIiwiYWxsb3dJbnZhbGlkIiwiJCRydW5WYWxpZGF0b3JzIiwiYWxsVmFsaWQiLCIkJHdyaXRlTW9kZWxUb1Njb3BlIiwiZG9uZUNhbGxiYWNrIiwicHJvY2Vzc1BhcnNlRXJyb3JzIiwiZXJyb3JLZXkiLCJwcm9jZXNzU3luY1ZhbGlkYXRvcnMiLCJzeW5jVmFsaWRhdG9yc1ZhbGlkIiwidmFsaWRhdG9yIiwicHJvY2Vzc0FzeW5jVmFsaWRhdG9ycyIsInZhbGlkYXRvclByb21pc2VzIiwidmFsaWRhdGlvbkRvbmUiLCJsb2NhbFZhbGlkYXRpb25SdW5JZCIsIiQkcGFyc2VBbmRWYWxpZGF0ZSIsIndyaXRlVG9Nb2RlbElmTmVlZGVkIiwidXBkYXRlT25EZWZhdWx0IiwiJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCIsImRlYm91bmNlIiwiZGVib3VuY2VEZWxheSIsImZvcm1hdHRlcnMiLCJtb2RlbEN0cmwiLCJmb3JtQ3RybCIsInVwZGF0ZU9uIiwiREVGQVVMVF9SRUdFWFAiLCJuZ09wdGlvbnNNaW5FcnIiLCJOR19PUFRJT05TX1JFR0VYUCIsInBhcnNlT3B0aW9uc0V4cHJlc3Npb24iLCJvcHRpb25zRXhwIiwic2VsZWN0RWxlbWVudCIsIk9wdGlvbiIsInNlbGVjdFZhbHVlIiwibGFiZWwiLCJncm91cCIsImRpc2FibGVkIiwiZ2V0T3B0aW9uVmFsdWVzS2V5cyIsIm9wdGlvblZhbHVlcyIsIm9wdGlvblZhbHVlc0tleXMiLCJrZXlOYW1lIiwiaXRlbUtleSIsInZhbHVlTmFtZSIsInNlbGVjdEFzIiwidHJhY2tCeSIsInNlbGVjdEFzRm4iLCJ2aWV3VmFsdWVGbiIsInRyYWNrQnlGbiIsImdldFRyYWNrQnlWYWx1ZUZuIiwiZ2V0VHJhY2tCeVZhbHVlIiwiZ2V0TG9jYWxzIiwiZGlzcGxheUZuIiwiZ3JvdXBCeUZuIiwiZGlzYWJsZVdoZW5GbiIsInZhbHVlc0ZuIiwiZ2V0V2F0Y2hhYmxlcyIsIndhdGNoZWRBcnJheSIsIm9wdGlvblZhbHVlc0xlbmd0aCIsImRpc2FibGVXaGVuIiwiZ2V0T3B0aW9ucyIsIm9wdGlvbkl0ZW1zIiwic2VsZWN0VmFsdWVNYXAiLCJvcHRpb25JdGVtIiwiZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZSIsImdldFZpZXdWYWx1ZUZyb21PcHRpb24iLCJuZ09wdGlvbnNQb3N0TGluayIsImFkZE9wdGlvbkVsZW1lbnQiLCJvcHRpb25UZW1wbGF0ZSIsInVwZGF0ZU9wdGlvbkVsZW1lbnQiLCJ1cGRhdGVPcHRpb25zIiwic2VsZWN0Q3RybCIsInJlYWRWYWx1ZSIsImdyb3VwRWxlbWVudE1hcCIsInByb3ZpZGVkRW1wdHlPcHRpb24iLCJlbXB0eU9wdGlvbiIsImdyb3VwRWxlbWVudCIsIm9wdEdyb3VwVGVtcGxhdGUiLCJsaXN0RnJhZ21lbnQiLCJuZ01vZGVsQ3RybCIsIm5leHRWYWx1ZSIsImlzTm90UHJpbWl0aXZlIiwidW5rbm93bk9wdGlvbiIsInJlbmRlckVtcHR5T3B0aW9uIiwicmVtb3ZlRW1wdHlPcHRpb24iLCJyZW5kZXJVbmtub3duT3B0aW9uIiwicmVtb3ZlVW5rbm93bk9wdGlvbiIsIndyaXRlVmFsdWUiLCJzZWxlY3RlZFZhbHVlcyIsInNlbGVjdGlvbnMiLCJzZWxlY3RlZE9wdGlvbiIsInJlZ2lzdGVyT3B0aW9uIiwiQlJBQ0UiLCJJU19XSEVOIiwidXBkYXRlRWxlbWVudFRleHQiLCJuZXdUZXh0IiwibGFzdENvdW50IiwibnVtYmVyRXhwIiwid2hlbkV4cCIsIndoZW5zIiwid2hlbnNFeHBGbnMiLCJicmFjZVJlcGxhY2VtZW50Iiwid2F0Y2hSZW1vdmVyIiwiYXR0cmlidXRlTmFtZSIsInRtcE1hdGNoIiwid2hlbktleSIsImNvdW50SXNOYU4iLCJwbHVyYWxDYXQiLCJ3aGVuRXhwRm4iLCJOR19SRU1PVkVEIiwibmdSZXBlYXRNaW5FcnIiLCJ1cGRhdGVTY29wZSIsInZhbHVlSWRlbnRpZmllciIsImtleUlkZW50aWZpZXIiLCJhcnJheUxlbmd0aCIsIiRmaXJzdCIsIiRsYXN0IiwiJG1pZGRsZSIsIiRvZGQiLCIkZXZlbiIsImdldEJsb2NrU3RhcnQiLCJnZXRCbG9ja0VuZCIsIm5nUmVwZWF0RW5kQ29tbWVudCIsImFsaWFzQXMiLCJ0cmFja0J5RXhwIiwidHJhY2tCeUV4cEdldHRlciIsInRyYWNrQnlJZEV4cEZuIiwidHJhY2tCeUlkQXJyYXlGbiIsInRyYWNrQnlJZE9iakZuIiwiaGFzaEZuTG9jYWxzIiwibGFzdEJsb2NrTWFwIiwibmV4dE5vZGUiLCJjb2xsZWN0aW9uTGVuZ3RoIiwidHJhY2tCeUlkIiwidHJhY2tCeUlkRm4iLCJjb2xsZWN0aW9uS2V5cyIsIm5leHRCbG9ja09yZGVyIiwicHJldmlvdXNOb2RlIiwibmV4dEJsb2NrTWFwIiwiYmxvY2tLZXkiLCJOR19ISURFX0NMQVNTIiwiTkdfSElERV9JTl9QUk9HUkVTU19DTEFTUyIsIm5ld1N0eWxlcyIsIm9sZFN0eWxlcyIsImNhc2VzIiwibmdTd2l0Y2hDb250cm9sbGVyIiwid2F0Y2hFeHByIiwic2VsZWN0ZWRUcmFuc2NsdWRlcyIsInNlbGVjdGVkRWxlbWVudHMiLCJwcmV2aW91c0xlYXZlQW5pbWF0aW9ucyIsInNlbGVjdGVkU2NvcGVzIiwic3BsaWNlRmFjdG9yeSIsInNlbGVjdGVkVHJhbnNjbHVkZSIsImNhc2VFbGVtZW50Iiwic2VsZWN0ZWRTY29wZSIsImFuY2hvciIsIm5nVHJhbnNjbHVkZU1pbkVyciIsIm5nVHJhbnNjbHVkZUNsb25lQXR0YWNoRm4iLCJuZ1RyYW5zY2x1ZGVTbG90Iiwibm9vcE5nTW9kZWxDb250cm9sbGVyIiwiU2VsZWN0Q29udHJvbGxlciIsIm9wdGlvbnNNYXAiLCJ1bmtub3duVmFsIiwiaGFzT3B0aW9uIiwiYWRkT3B0aW9uIiwicmVtb3ZlT3B0aW9uIiwib3B0aW9uU2NvcGUiLCJvcHRpb25BdHRycyIsImludGVycG9sYXRlVmFsdWVGbiIsImludGVycG9sYXRlVGV4dEZuIiwic2VsZWN0UHJlTGluayIsImxhc3RWaWV3IiwibGFzdFZpZXdSZWYiLCJzZWxlY3RQb3N0TGluayIsInNlbGVjdEN0cmxOYW1lIiwicGF0dGVybkV4cCIsImludFZhbCIsImdldERlY2ltYWxzIiwiZ2V0VkYiLCJvcHRfcHJlY2lzaW9uIiwicG93IiwiUExVUkFMX0NBVEVHT1JZIiwiWkVSTyIsIk9ORSIsIlRXTyIsIkZFVyIsIk1BTlkiLCJPVEhFUiIsIkRBWSIsIkZJUlNUREFZT0ZXRUVLIiwiTU9OVEgiLCJTSE9SVERBWSIsIlNIT1JUTU9OVEgiLCJTVEFOREFMT05FTU9OVEgiLCJXRUVLRU5EUkFOR0UiLCJmdWxsRGF0ZSIsImxvbmdEYXRlIiwibWVkaXVtIiwibWVkaXVtRGF0ZSIsIm1lZGl1bVRpbWUiLCJzaG9ydCIsInNob3J0RGF0ZSIsInNob3J0VGltZSIsIm1pbkludCIsImxvY2FsZUlEIiwidmYiLCJoZWFkIiwiYXJlYSIsInN0b3JhZ2UiLCJsb2NhbCIsInRvdGFsQnl0ZXMiLCJnZXRCeXRlc0luVXNlIiwiYnl0ZXNJblVzZSIsImxhc3RlcnJvciIsImdldERlYnVnZ2luZ1RvdGFsQnl0ZXNJblVzZSIsImdldERlYnVnZ2luZ0NhY2hlIiwiZ2V0RGVidWdnaW5nUGVyY2VudFVzZWQiLCJwZXJjZW50IiwiUVVPVEFfQllURVMiLCJnZXREZWJ1Z2dpbmdTaXplT2YiLCJ1cGRhdGVEZWJ1Z2dpbmdDYWNoZSIsInVwZGF0ZURlYnVnZ2luZ1RvdGFsQnl0ZXMiLCJjbGVhckNhY2hlIiwiY2xlYXIiLCJsYXN0RXJyb3IiLCJkcm9wIiwiZ2V0T3JFbHNlIiwic2F2ZU9iamVjdCIsImZvcmNlR2V0IiwiZ2V0UXVvdGEiLCJmaXJzdEl0ZW0iLCJkZWxldGVDb3VudCIsIml0ZW1zQWZ0ZXJEZWxldGVkIiwiaXRlbXNEZWxldGVkIiwiYXJndW1lbnRzQXJyYXkiLCJpdGVtc1RvQXBwZW5kIiwibG9nNGphdmFzY3JpcHQiLCJFdmVudFN1cHBvcnQiLCJMb2c0SmF2YVNjcmlwdCIsInRvU3RyIiwiZ2V0RXhjZXB0aW9uTWVzc2FnZSIsImV4IiwiZGVzY3JpcHRpb24iLCJnZXRVcmxGaWxlTmFtZSIsImxhc3RTbGFzaEluZGV4IiwiZ2V0RXhjZXB0aW9uU3RyaW5nUmVwIiwiZXhTdHIiLCJsaW5lTnVtYmVyIiwiZmlsZU5hbWUiLCJsb2NhbEV4IiwibG9nTG9nIiwic2hvd1N0YWNrVHJhY2VzIiwibmV3TGluZSIsImJvb2wiLCJCb29sZWFuIiwic3BsaXRJbnRvTGluZXMiLCJ0ZXh0MiIsImFycmF5X3JlbW92ZSIsImFyciIsImFycmF5X2NvbnRhaW5zIiwiZXh0cmFjdEJvb2xlYW5Gcm9tUGFyYW0iLCJwYXJhbSIsImV4dHJhY3RTdHJpbmdGcm9tUGFyYW0iLCJleHRyYWN0SW50RnJvbVBhcmFtIiwiZXh0cmFjdEZ1bmN0aW9uRnJvbVBhcmFtIiwiaXNFcnJvciIsImdldExpc3RlbmVyc1Byb3BlcnR5TmFtZSIsImFkZEV2ZW50IiwidXNlQ2FwdHVyZSIsImF0dGFjaEV2ZW50IiwicHJvcGVydHlOYW1lIiwiZXZ0IiwiZ2V0RXZlbnQiLCJjdXJyZW50TGlzdGVuZXIiLCJsaXN0ZW5lcnNQcm9wZXJ0eU5hbWUiLCJyZW1vdmVFdmVudCIsImRldGFjaEV2ZW50Iiwic3RvcEV2ZW50UHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJyZXR1cm5WYWx1ZSIsImRpc3BhdGNoRXZlbnQiLCJUaW1lciIsImxldmVsIiwiTGV2ZWwiLCJJTkZPIiwiTG9nZ2VyIiwiYXBwZW5kZXJzIiwibG9nZ2VyTGV2ZWwiLCJpc1Jvb3QiLCJyb290TG9nZ2VyTmFtZSIsImlzTnVsbCIsIm51bGxMb2dnZXJOYW1lIiwiYXBwZW5kZXJDYWNoZSIsImFwcGVuZGVyQ2FjaGVJbnZhbGlkYXRlZCIsImFkZENoaWxkIiwiY2hpbGRMb2dnZXIiLCJpbnZhbGlkYXRlQXBwZW5kZXJDYWNoZSIsImdldEFkZGl0aXZpdHkiLCJzZXRBZGRpdGl2aXR5IiwiYWRkaXRpdml0eSIsInZhbHVlQ2hhbmdlZCIsImFkZEFwcGVuZGVyIiwiYXBwZW5kZXIiLCJBcHBlbmRlciIsInNldEFkZGVkVG9Mb2dnZXIiLCJyZW1vdmVBcHBlbmRlciIsInNldFJlbW92ZWRGcm9tTG9nZ2VyIiwicmVtb3ZlQWxsQXBwZW5kZXJzIiwiYXBwZW5kZXJDb3VudCIsImdldEVmZmVjdGl2ZUFwcGVuZGVycyIsInBhcmVudEVmZmVjdGl2ZUFwcGVuZGVycyIsImlzR3JlYXRlck9yRXF1YWwiLCJnZXRFZmZlY3RpdmVMZXZlbCIsImZpbmFsUGFyYW1JbmRleCIsImxhc3RQYXJhbSIsIm1lc3NhZ2VzIiwibG9nZ2luZ0V2ZW50IiwiTG9nZ2luZ0V2ZW50IiwiY2FsbEFwcGVuZGVycyIsImVmZmVjdGl2ZUFwcGVuZGVycyIsImRvQXBwZW5kIiwic2V0TGV2ZWwiLCJnZXRMZXZlbCIsImxvZ2dlciIsImluaXRpYWxseUV4cGFuZGVkIiwiZ3JvdXBFbmQiLCJ0aW1lcnMiLCJ0aW1lRW5kIiwiZ2V0RWxhcHNlZFRpbWUiLCJhc3NlcnQiLCJFUlJPUiIsIlNpbXBsZUxheW91dCIsImN1c3RvbUZpZWxkcyIsIk51bGxMYXlvdXQiLCJYbWxMYXlvdXQiLCJjb21iaW5lTWVzc2FnZXMiLCJlc2NhcGVOZXdMaW5lcyIsIkpzb25MYXlvdXQiLCJyZWFkYWJsZSIsImJhdGNoSGVhZGVyIiwiYmF0Y2hGb290ZXIiLCJiYXRjaFNlcGFyYXRvciIsInNldEtleXMiLCJjb2xvbiIsInRhYiIsImxpbmVCcmVhayIsIkh0dHBQb3N0RGF0YUxheW91dCIsInJldHVybnNQb3N0RGF0YSIsImZvcm1hdE9iamVjdEV4cGFuc2lvbiIsImluZGVudGF0aW9uIiwiZG9Gb3JtYXQiLCJmb3JtYXRTdHJpbmciLCJsaW5lcyIsImpMZW4iLCJjaGlsZERlcHRoIiwiY2hpbGRJbmRlbnRhdGlvbiIsImNoaWxkTGluZXMiLCJleHBhbnNpb24iLCJjaGlsZEV4cGFuc2lvbiIsIm9iamVjdHNFeHBhbmRlZCIsIlBhdHRlcm5MYXlvdXQiLCJERUZBVUxUX0NPTlZFUlNJT05fUEFUVEVSTiIsIkFsZXJ0QXBwZW5kZXIiLCJCcm93c2VyQ29uc29sZUFwcGVuZGVyIiwiaXNIdHRwUmVxdWVzdFN1Y2Nlc3NmdWwiLCJ4bWxIdHRwIiwiQWpheEFwcGVuZGVyIiwiY2hlY2tDYW5Db25maWd1cmUiLCJjb25maWdPcHRpb25OYW1lIiwiaW5pdGlhbGl6ZWQiLCJzZW5kQWxsIiwiaXNTdXBwb3J0ZWQiLCJzZW5kaW5nIiwiY3VycmVudFJlcXVlc3RCYXRjaCIsIndhaXRGb3JSZXNwb25zZSIsInF1ZXVlZFJlcXVlc3RzIiwic2VuZFJlcXVlc3QiLCJwcmVwYXJlUG9zdERhdGEiLCJ0aW1lZCIsInNjaGVkdWxlU2VuZGluZyIsInNlbmRBbGxSZW1haW5pbmciLCJzZW5kaW5nQW55dGhpbmciLCJjdXJyZW50TG9nZ2luZ0V2ZW50IiwiYWN0dWFsQmF0Y2hTaXplIiwiZ2V0TGF5b3V0IiwiYWxsb3dCYXRjaGluZyIsImJhdGNoU2l6ZSIsImJhdGNoZWRMb2dnaW5nRXZlbnRzIiwicXVldWVkTG9nZ2luZ0V2ZW50cyIsImZvcm1hdHRlZE1lc3NhZ2VzIiwicG9zdERhdGEiLCJmb3JtYXRXaXRoRXhjZXB0aW9uIiwidXJsRW5jb2RlIiwicG9zdFZhck5hbWUiLCJ0aW1lckludGVydmFsIiwieG1sSHR0cEVycm9ySGFuZGxlciIsImZhaWxDYWxsYmFjayIsInN1Y2Nlc3NDYWxsYmFjayIsImdldFhtbEh0dHAiLCJ3aXRoQ3JlZGVudGlhbHNTdXBwb3J0ZWQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZXF1ZXN0U3VjY2Vzc0NhbGxiYWNrIiwiZW1wdHlGdW5jdGlvbiIsImhlYWRlckV4IiwiZXJyTXNnIiwic2VuZEFsbE9uVW5sb2FkIiwib2xkQmVmb3JlVW5sb2FkIiwib25iZWZvcmV1bmxvYWQiLCJzZXNzaW9uSWQiLCJnZXRTZXNzaW9uSWQiLCJzZXRTZXNzaW9uSWQiLCJzZXNzaW9uSWRQYXJhbSIsImxheW91dCIsInNldEN1c3RvbUZpZWxkIiwic2V0TGF5b3V0IiwibGF5b3V0UGFyYW0iLCJpc1RpbWVkIiwic2V0VGltZWQiLCJ0aW1lZFBhcmFtIiwiZ2V0VGltZXJJbnRlcnZhbCIsInNldFRpbWVySW50ZXJ2YWwiLCJ0aW1lckludGVydmFsUGFyYW0iLCJpc1dhaXRGb3JSZXNwb25zZSIsInNldFdhaXRGb3JSZXNwb25zZSIsIndhaXRGb3JSZXNwb25zZVBhcmFtIiwiZ2V0QmF0Y2hTaXplIiwic2V0QmF0Y2hTaXplIiwiYmF0Y2hTaXplUGFyYW0iLCJpc1NlbmRBbGxPblVubG9hZCIsInNldFNlbmRBbGxPblVubG9hZCIsInNlbmRBbGxPblVubG9hZFBhcmFtIiwic2V0UmVxdWVzdFN1Y2Nlc3NDYWxsYmFjayIsInJlcXVlc3RTdWNjZXNzQ2FsbGJhY2tQYXJhbSIsInNldEZhaWxDYWxsYmFjayIsImZhaWxDYWxsYmFja1BhcmFtIiwiZ2V0UG9zdFZhck5hbWUiLCJzZXRQb3N0VmFyTmFtZSIsInBvc3RWYXJOYW1lUGFyYW0iLCJnZXRIZWFkZXJzIiwiYWRkSGVhZGVyIiwic2V0Q29va2llIiwiZGF5cyIsImV4cGlyZXMiLCJzZXRUaW1lIiwidG9HTVRTdHJpbmciLCJnZXRDb29raWUiLCJuYW1lRXF1YWxzIiwiY2EiLCJ1bmVzY2FwZSIsImdldEJhc2VVcmwiLCJzY3JpcHRzIiwibGFzdFNsYXNoIiwiaXNMb2FkZWQiLCJsb2FkZWQiLCJwYWRXaXRoU3BhY2VzIiwic3BhY2VzIiwibnVtYmVyT2ZTcGFjZXMiLCJldmVudFR5cGVzIiwiZXZlbnRMaXN0ZW5lcnMiLCJzZXRFdmVudFR5cGVzIiwiZXZlbnRUeXBlc1BhcmFtIiwiZXZlbnRUeXBlIiwiZXZlbnRBcmdzIiwiYXBwbGljYXRpb25TdGFydERhdGUiLCJ1bmlxdWVJZCIsInJhbmRvbSIsInBhZ2VMb2FkZWQiLCJlZGl0aW9uIiwidXJsRGVjb2RlIiwibWV0aG9kTmFtZSIsImFyZ3NTdHJpbmdzIiwiZXZhbCIsInF1aWV0TW9kZSIsImRlYnVnTWVzc2FnZXMiLCJzZXRRdWlldE1vZGUiLCJudW1iZXJPZkVycm9ycyIsImFsZXJ0QWxsRXJyb3JzIiwic2V0QWxlcnRBbGxFcnJvcnMiLCJkaXNwbGF5RGVidWciLCJhbGVydCIsImFsZXJ0TWVzc2FnZSIsImxvZzRqYXZhc2NyaXB0X2Rpc2FibGVkIiwic2V0RW5hYmxlZCIsImVuYWJsZSIsInVzZVRpbWVTdGFtcHNJbk1pbGxpc2Vjb25kcyIsInNldFRpbWVTdGFtcHNJbk1pbGxpc2Vjb25kcyIsInRpbWVTdGFtcHNJbk1pbGxpc2Vjb25kcyIsImlzVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzIiwiZXZhbEluU2NvcGUiLCJzZXRTaG93U3RhY2tUcmFjZXMiLCJzaG93IiwiQUxMIiwiTUlOX1ZBTFVFIiwiVFJBQ0UiLCJERUJVRyIsIldBUk4iLCJGQVRBTCIsIk9GRiIsImFub255bW91c0xvZ2dlck5hbWUiLCJkZWZhdWx0TG9nZ2VyTmFtZSIsInRyYWNlIiwiZmF0YWwiLCJpc0VuYWJsZWRGb3IiLCJpc1RyYWNlRW5hYmxlZCIsImlzRGVidWdFbmFibGVkIiwiaXNJbmZvRW5hYmxlZCIsImlzV2FybkVuYWJsZWQiLCJpc0Vycm9yRW5hYmxlZCIsImlzRmF0YWxFbmFibGVkIiwiaXNFbnRyeVBvaW50IiwibG9nZ2VycyIsImxvZ2dlck5hbWVzIiwiUk9PVF9MT0dHRVJfREVGQVVMVF9MRVZFTCIsInJvb3RMb2dnZXIiLCJnZXRSb290TG9nZ2VyIiwiZ2V0TG9nZ2VyIiwibG9nZ2VyTmFtZSIsInBhcmVudExvZ2dlciIsImxhc3REb3RJbmRleCIsInBhcmVudExvZ2dlck5hbWUiLCJkZWZhdWx0TG9nZ2VyIiwiZ2V0RGVmYXVsdExvZ2dlciIsIlBvcFVwQXBwZW5kZXIiLCJudWxsTG9nZ2VyIiwiZ2V0TnVsbExvZ2dlciIsInJlc2V0Q29uZmlndXJhdGlvbiIsInRpbWVTdGFtcCIsInRpbWVTdGFtcEluTWlsbGlzZWNvbmRzIiwidGltZVN0YW1wSW5TZWNvbmRzIiwiZ2V0VGhyb3dhYmxlU3RyUmVwIiwiZ2V0Q29tYmluZWRNZXNzYWdlcyIsIkxheW91dCIsImxvZ2dlcktleSIsInRpbWVTdGFtcEtleSIsIm1pbGxpc2Vjb25kc0tleSIsImxldmVsS2V5IiwibWVzc2FnZUtleSIsImV4Y2VwdGlvbktleSIsInVybEtleSIsIm92ZXJyaWRlVGltZVN0YW1wc1NldHRpbmciLCJpZ25vcmVzVGhyb3dhYmxlIiwiZ2V0Q29udGVudFR5cGUiLCJnZXRUaW1lU3RhbXBWYWx1ZSIsImdldERhdGFWYWx1ZXMiLCJkYXRhVmFsdWVzIiwiaGFzQ3VzdG9tRmllbGRzIiwiZmllbGRVcGRhdGVkIiwiZm9ybWF0dGVkIiwidGhyZXNob2xkIiwic2V0VGhyZXNob2xkIiwiZ2V0VGhyZXNob2xkIiwiaXNDb21iaW5lZE1lc3NhZ2VzIiwiZXNjYXBlQ2RhdGEiLCJmb3JtYXRNZXNzYWdlIiwiaXNSZWFkYWJsZSIsImZvcm1hdFZhbHVlIiwiZXhwYW5kIiwiZm9ybWF0dGVkVmFsdWUiLCJ2YWxUeXBlIiwiY2hpbGRQcmVmaXgiLCJxdWVyeUJpdHMiLCJTaW1wbGVEYXRlRm9ybWF0IiwibW9udGhOYW1lcyIsImRheU5hbWVzIiwiVEVYVDIiLCJURVhUMyIsIk5VTUJFUiIsIllFQVIiLCJUSU1FWk9ORSIsIlciLCJEIiwiRiIsIkUiLCJLIiwiUyIsIk9ORV9EQVkiLCJPTkVfV0VFSyIsIkRFRkFVTFRfTUlOSU1BTF9EQVlTX0lOX0ZJUlNUX1dFRUsiLCJuZXdEYXRlQXRNaWRuaWdodCIsImRheSIsInNldE1pbGxpc2Vjb25kcyIsImdldERpZmZlcmVuY2UiLCJpc0JlZm9yZSIsImdldFVUQ1RpbWUiLCJVVEMiLCJnZXRUaW1lU2luY2UiLCJnZXRQcmV2aW91c1N1bmRheSIsIm1pZGRheSIsInByZXZpb3VzU3VuZGF5IiwiZ2V0V2Vla0luWWVhciIsIm1pbmltYWxEYXlzSW5GaXJzdFdlZWsiLCJzdGFydE9mWWVhciIsIm51bWJlck9mU3VuZGF5cyIsIm51bWJlck9mRGF5c0luRmlyc3RXZWVrIiwid2Vla0luWWVhciIsImdldFdlZWtJbk1vbnRoIiwic3RhcnRPZk1vbnRoIiwid2Vla0luTW9udGgiLCJnZXREYXlJblllYXIiLCJzZXRNaW5pbWFsRGF5c0luRmlyc3RXZWVrIiwiZ2V0TWluaW1hbERheXNJbkZpcnN0V2VlayIsInBhZFdpdGhaZXJvZXMiLCJmb3JtYXRUZXh0IiwibnVtYmVyT2ZMZXR0ZXJzIiwibWluTGVuZ3RoIiwiZGF0YVN0cmluZyIsImZvcm1hdHRlZFN0cmluZyIsInNlYXJjaFN0cmluZyIsInF1b3RlZFN0cmluZyIsInBhdHRlcm5MZXR0ZXJzIiwib3RoZXJMZXR0ZXJzIiwib3RoZXJDaGFyYWN0ZXJzIiwicGF0dGVybkxldHRlciIsInJhd0RhdGEiLCJpc1Bvc2l0aXZlIiwiYWJzRGF0YSIsIlRUQ0NfQ09OVkVSU0lPTl9QQVRURVJOIiwiSVNPODYwMV9EQVRFRk9STUFUIiwiREFURVRJTUVfREFURUZPUk1BVCIsIkFCU09MVVRFVElNRV9EQVRFRk9STUFUIiwibWF0Y2hlZFN0cmluZyIsInBhZGRpbmciLCJ0cnVuY2F0aW9uIiwiY29udmVyc2lvbkNoYXJhY3RlciIsInNwZWNpZmllciIsInJlcGxhY2VtZW50IiwicHJlY2lzaW9uIiwibG9nZ2VyTmFtZUJpdHMiLCJkYXRlRm9ybWF0IiwiZmllbGRJbmRleCIsInN0ckxlbiIsImdldEZvcm1hdHRlZE1lc3NhZ2UiLCJmb3JtYXR0ZWRNZXNzYWdlIiwiY29uc29sZU1ldGhvZE5hbWUiLCJvcGVyYSIsInBvc3RFcnJvciIsInhockZhY3RvcnkiLCJ4bWxIdHRwRmFjdG9yaWVzIiwiQWN0aXZlWE9iamVjdCIsImVycm9ySGFuZGxlciIsIkNvbnNvbGVBcHBlbmRlciIsImxhenlJbml0IiwiaW5pdGlhbGx5TWluaW1pemVkIiwidXNlRG9jdW1lbnRXcml0ZSIsIndpZHRoIiwiaGVpZ2h0IiwiZm9jdXNQb3BVcCIsIkluUGFnZUFwcGVuZGVyIiwiY29udGFpbmVyIiwiZ2V0Q29uc29sZUh0bWxMaW5lcyIsImRlZmF1bHRDb21tYW5kTGluZUZ1bmN0aW9ucyIsImNvbnNvbGVBcHBlbmRlcklkQ291bnRlciIsImluUGFnZSIsImZvY3VzQ29uc29sZVdpbmRvdyIsIlF1ZXVlZExvZ2dpbmdFdmVudCIsImxldmVsTmFtZSIsIlF1ZXVlZEdyb3VwIiwiUXVldWVkR3JvdXBFbmQiLCJjb25zb2xlV2luZG93Q3JlYXRlZCIsImNvbnNvbGVXaW5kb3dMb2FkZWQiLCJjb25zb2xlQ2xvc2VkIiwiY29uc29sZUFwcGVuZGVySWQiLCJuZXdlc3RNZXNzYWdlQXRUb3AiLCJzY3JvbGxUb0xhdGVzdE1lc3NhZ2UiLCJtYXhNZXNzYWdlcyIsInNob3dDb21tYW5kTGluZSIsImNvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGgiLCJzaG93SGlkZUJ1dHRvbiIsInNob3dDbG9zZUJ1dHRvbiIsInNob3dMb2dFbnRyeURlbGV0ZUJ1dHRvbnMiLCJjcmVhdGVXaW5kb3ciLCJzYWZlVG9BcHBlbmQiLCJnZXRDb25zb2xlV2luZG93IiwiYXBwZW5kZXJOYW1lIiwiY29uc29sZVdpbmRvd0V4aXN0cyIsImlzTmV3ZXN0TWVzc2FnZUF0VG9wIiwic2V0TmV3ZXN0TWVzc2FnZUF0VG9wIiwibmV3ZXN0TWVzc2FnZUF0VG9wUGFyYW0iLCJzZXROZXdlc3RBdFRvcCIsImlzU2Nyb2xsVG9MYXRlc3RNZXNzYWdlIiwic2V0U2Nyb2xsVG9MYXRlc3RNZXNzYWdlIiwic2Nyb2xsVG9MYXRlc3RNZXNzYWdlUGFyYW0iLCJzZXRTY3JvbGxUb0xhdGVzdCIsImdldFdpZHRoIiwic2V0V2lkdGgiLCJ3aWR0aFBhcmFtIiwiZ2V0SGVpZ2h0Iiwic2V0SGVpZ2h0IiwiaGVpZ2h0UGFyYW0iLCJnZXRNYXhNZXNzYWdlcyIsInNldE1heE1lc3NhZ2VzIiwibWF4TWVzc2FnZXNQYXJhbSIsImlzU2hvd0NvbW1hbmRMaW5lIiwic2V0U2hvd0NvbW1hbmRMaW5lIiwic2hvd0NvbW1hbmRMaW5lUGFyYW0iLCJpc1Nob3dIaWRlQnV0dG9uIiwic2V0U2hvd0hpZGVCdXR0b24iLCJzaG93SGlkZUJ1dHRvblBhcmFtIiwiaXNTaG93Q2xvc2VCdXR0b24iLCJzZXRTaG93Q2xvc2VCdXR0b24iLCJzaG93Q2xvc2VCdXR0b25QYXJhbSIsImdldENvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGgiLCJzZXRDb21tYW5kTGluZU9iamVjdEV4cGFuc2lvbkRlcHRoIiwiY29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aFBhcmFtIiwibWluaW1pemVkIiwiaXNJbml0aWFsbHlNaW5pbWl6ZWQiLCJzZXRJbml0aWFsbHlNaW5pbWl6ZWQiLCJpbml0aWFsbHlNaW5pbWl6ZWRQYXJhbSIsImlzVXNlRG9jdW1lbnRXcml0ZSIsInNldFVzZURvY3VtZW50V3JpdGUiLCJ1c2VEb2N1bWVudFdyaXRlUGFyYW0iLCJjaGVja0FuZEFwcGVuZCIsInJlb3BlbldoZW5DbG9zZWQiLCJhcHBlbmRRdWV1ZWRMb2dnaW5nRXZlbnRzIiwiY2xlYXJMb2ciLCJmb2N1c0NvbW1hbmRMaW5lIiwiZm9jdXNTZWFyY2giLCJjb21tYW5kV2luZG93IiwiZ2V0Q29tbWFuZFdpbmRvdyIsInNldENvbW1hbmRXaW5kb3ciLCJjb21tYW5kV2luZG93UGFyYW0iLCJleGVjdXRlTGFzdENvbW1hbmQiLCJldmFsTGFzdENvbW1hbmQiLCJjb21tYW5kTGF5b3V0IiwiZ2V0Q29tbWFuZExheW91dCIsInNldENvbW1hbmRMYXlvdXQiLCJjb21tYW5kTGF5b3V0UGFyYW0iLCJldmFsQ29tbWFuZEFuZEFwcGVuZCIsImNvbW1hbmRSZXR1cm5WYWx1ZSIsImFwcGVuZFJlc3VsdCIsImNvbW1hbmRPdXRwdXQiLCJleGVjU2NyaXB0IiwiY29tbWFuZExpbmVGdW5jdGlvbnNIYXNoIiwiY29tbWFuZExpbmVGdW5jdGlvbnMiLCJvYmplY3RzVG9SZXN0b3JlIiwiYWRkT2JqZWN0VG9SZXN0b3JlIiwiYWRkRnVuY3Rpb25Ub1dpbmRvdyIsImV2YWxFeHByIiwibWFpbkxheW91dCIsImFkZENvbW1hbmRMaW5lRnVuY3Rpb24iLCJmdW5jdGlvbk5hbWUiLCJjb21tYW5kTGluZUZ1bmN0aW9uIiwiY29tbWFuZEhpc3RvcnlDb29raWVOYW1lIiwic3RvcmVDb21tYW5kSGlzdG9yeSIsImNvbW1hbmRIaXN0b3J5Iiwid3JpdGVIdG1sIiwid3JpdGVsbiIsImNsb3NlIiwiY29uc29sZVdpbmRvd0xvYWRIYW5kbGVyIiwic2V0QXBwZW5kZXIiLCJzZXRNYWluV2luZG93Iiwic3RvcmVkVmFsdWUiLCJjdXJyZW50Q29tbWFuZEluZGV4IiwidW5sb2FkIiwicG9sbENvbnNvbGVXaW5kb3ciLCJ3aW5kb3dUZXN0IiwiZXJyb3JNZXNzYWdlIiwiZG9Qb2xsIiwicG9sbCIsImdldENvbnNvbGVVcmwiLCJkb2N1bWVudERvbWFpblNldCIsImRvbWFpbiIsImNvbnRhaW5lckVsZW1lbnQiLCJjc3NQcm9wZXJ0aWVzIiwiYWRkQ3NzUHJvcGVydHkiLCJpZnJhbWVDb250YWluZXJEaXYiLCJ3aW5kb3dDcmVhdGlvblN0YXJ0ZWQiLCJpZnJhbWVJZCIsImhpZGUiLCJkaXNwbGF5IiwiaXNWaXNpYmxlIiwiZnJvbUJ1dHRvbiIsImNvbmZpcm0iLCJmaW5hbEluaXQiLCJpbml0RXJyb3JNZXNzYWdlIiwid3JpdGVUb0RvY3VtZW50IiwiYm9yZGVyIiwiaWZyYW1lU3JjIiwiaWZyYW1lRG9jdW1lbnRFeGlzdHNUZXN0IiwicGFnZUxvYWRIYW5kbGVyIiwiaWZyYW1lIiwiZnJhbWVzIiwidXNlT2xkUG9wVXAiLCJjb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZyIsImlzVXNlT2xkUG9wVXAiLCJzZXRVc2VPbGRQb3BVcCIsInVzZU9sZFBvcFVwUGFyYW0iLCJpc0NvbXBsYWluQWJvdXRQb3BVcEJsb2NraW5nIiwic2V0Q29tcGxhaW5BYm91dFBvcFVwQmxvY2tpbmciLCJjb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZ1BhcmFtIiwiaXNGb2N1c1BvcFVwIiwic2V0Rm9jdXNQb3BVcCIsImZvY3VzUG9wVXBQYXJhbSIsImlzUmVvcGVuV2hlbkNsb3NlZCIsInNldFJlb3BlbldoZW5DbG9zZWQiLCJyZW9wZW5XaGVuQ2xvc2VkUGFyYW0iLCJwb3BVcCIsInNldENsb3NlSWZPcGVuZXJDbG9zZXMiLCJjaGVja1BvcFVwQ2xvc2VkIiwicG9wVXBDbG9zZWRDYWxsYmFjayIsIndpbmRvd1Byb3BlcnRpZXMiLCJmcmFtZUluZm8iLCJmcmFtZUVsIiwiZnJhbWVFbGVtZW50IiwidGFnTmFtZSIsIndpbmRvd05hbWUiLCJtYWluUGFnZVJlbG9hZGVkIiwicG9wVXBMb2FkZWRUZXN0IiwiYWRkR2xvYmFsQ29tbWFuZExpbmVGdW5jdGlvbiIsIklubGluZUFwcGVuZGVyIiwiZGlyIiwibWF4TGVuIiwicHJvcExpc3QiLCJwcm9wVmFsIiwicHJvcE5hbWVTdHIiLCJnZXRYaHRtbCIsInJvb3ROb2RlIiwiaW5jbHVkZVJvb3ROb2RlIiwic3RhcnROZXdMaW5lIiwicHJlZm9ybWF0dGVkIiwibm9kZVR5cGVzIiwiVEVYVF9OT0RFIiwiZml4QXR0cmlidXRlVmFsdWUiLCJhdHRyVmFsdWUiLCJnZXRTdHlsZUF0dHJpYnV0ZVZhbHVlIiwic3R5bGVQYWlycyIsImNzc1RleHQiLCJzdHlsZVZhbHVlIiwibmFtZVZhbHVlQml0cyIsInByb3BzIiwiZ2V0TmFtZXNwYWNlIiwib3V0ZXJIVE1MIiwiJDEiLCJ4aHRtbCIsImx0IiwiZ3QiLCJET0NVTUVOVF9GUkFHTUVOVF9OT0RFIiwiaW5kZW50YXRpb25Vbml0IiwiaGFzUHJlZml4IiwiY3VycmVudEF0dHIiLCJlbXB0eUVsZW1lbnRzIiwiaGFzQ2hpbGROb2RlcyIsImNoaWxkU3RhcnROZXdMaW5lIiwiY2hpbGRQcmVmb3JtYXR0ZWQiLCJwcmVGb3JtYXR0ZWRFbGVtZW50cyIsImVuZFRhZyIsInRyaW1tZWRMaW5lcyIsIkNEQVRBX1NFQ1RJT05fTk9ERSIsIkRPQ1VNRU5UX05PREUiLCJjcmVhdGVDb21tYW5kTGluZUZ1bmN0aW9ucyIsImV4cGFuc2lvbkRlcHRoIiwiQVRUUklCVVRFX05PREUiLCJFTlRJVFlfUkVGRVJFTkNFX05PREUiLCJFTlRJVFlfTk9ERSIsIlBST0NFU1NJTkdfSU5TVFJVQ1RJT05fTk9ERSIsIkNPTU1FTlRfTk9ERSIsIkRPQ1VNRU5UX1RZUEVfTk9ERSIsIk5PVEFUSU9OX05PREUiLCJzZXREb2N1bWVudFJlYWR5Iiwib2xkT25sb2FkIiwiZGVmaW5lIiwiYW1kIiwiZXhwb3J0cyIsInN0b3JlIiwiaXNMb2NhbFN0b3JhZ2VOYW1lU3VwcG9ydGVkIiwibG9jYWxTdG9yYWdlTmFtZSIsImdsb2JhbCIsInNjcmlwdFRhZyIsImRlZmF1bHRWYWwiLCJ0cmFuc2FjdCIsInRyYW5zYWN0aW9uRm4iLCJnZXRBbGwiLCJkZXNlcmlhbGl6ZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwicmVtb3ZlSXRlbSIsImFkZEJlaGF2aW9yIiwic3RvcmFnZU93bmVyIiwic3RvcmFnZUNvbnRhaW5lciIsIndyaXRlIiwid2l0aElFU3RvcmFnZSIsInN0b3JlRnVuY3Rpb24iLCJsb2FkIiwiZm9yYmlkZGVuQ2hhcnNSZWdleCIsImllS2V5Rml4Iiwic2F2ZSIsIlhNTERvY3VtZW50IiwidGVzdEtleSJdLCJtYXBwaW5ncyI6IkNBS0EsU0FBVUEsR0FBUyxZQWdDbkIsU0FBU0MsR0FBT0MsRUFBUUMsR0FFdEIsTUFEQUEsR0FBbUJBLEdBQW9CQyxNQUNoQyxXQUNMLEdBTUVDLEdBQWFDLEVBTlhDLEVBQWUsRUFFZkMsRUFBZUMsVUFDakJDLEVBQU9GLEVBQWEsR0FDcEJHLEVBQVUsS0FBT1QsRUFBU0EsRUFBUyxJQUFNLElBQU1RLEVBQU8sS0FDdERFLEVBQVdKLEVBQWEsRUFpQjFCLEtBZEFHLEdBQVdDLEVBQVNDLFFBQVEsV0FBWSxTQUFTQyxHQUMvQyxHQUFJQyxJQUFTRCxFQUFNRSxNQUFNLEVBQUcsSUFDMUJDLEVBQWVGLEVBQVFSLENBRXpCLE9BQUlVLEdBQWVULEVBQWFVLE9BQ3ZCQyxHQUFjWCxFQUFhUyxJQUc3QkgsSUFHVEgsR0FBVyx3Q0FDUlQsRUFBU0EsRUFBUyxJQUFNLElBQU1RLEVBRTVCSixFQUFJQyxFQUFjRixFQUFjLElBQUtDLEVBQUlFLEVBQWFVLE9BQVFaLElBQUtELEVBQWMsSUFDcEZNLEdBQVdOLEVBQWMsS0FBT0MsRUFBSUMsR0FBZ0IsSUFDbERhLG1CQUFtQkQsR0FBY1gsRUFBYUYsSUFHbEQsT0FBTyxJQUFJSCxHQUFpQlEsSUFzTGhDLFFBQVNVLEdBQVlDLEdBR25CLEdBQVcsTUFBUEEsR0FB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QUFLcEIsS0FFZEYsRUFBTVEsT0FBUyxTQUFTdnBCLEdBQ3ZCLEdBQUluaEIsS0FJSixPQUhBa3FDLEdBQU1qcUcsUUFBUSxTQUFTRyxFQUFLNEgsR0FDM0JnNEQsRUFBSTUvRCxHQUFPNEgsSUFFTGc0RCxHQUVSa3FDLEVBQU1qcUcsUUFBVWtyRyxFQUFjLFNBQVNocUIsRUFBU3gwRCxHQUUvQyxJQUFLLEdBQVNub0IsR0FEVm91QixFQUFhdXVELEVBQVFzcUIsWUFBWXZwRixnQkFBZ0IwUSxXQUM1Q3AwQixFQUFFLEVBQVNnRyxFQUFLb3VCLEVBQVdwMEIsS0FBTUEsRUFDekNtdUIsRUFBU25vQixFQUFLK0csS0FBTTIrRixFQUFNUyxZQUFZeHBCLEVBQVFsMkUsYUFBYXpHLEVBQUsrRyxVQUtuRSxJQUNDLEdBQUltZ0csR0FBVSxhQUNkeEIsR0FBTTVqRyxJQUFJb2xHLEVBQVNBLEdBQ2Z4QixFQUFNNThGLElBQUlvK0YsSUFBWUEsSUFBV3hCLEVBQU0xekIsVUFBVyxHQUN0RDB6QixFQUFNajdFLE9BQU95OEUsR0FDWixNQUFNL2hHLEdBQ1B1Z0csRUFBTTF6QixVQUFXLEVBSWxCLE1BRkEwekIsR0FBTWo0RSxTQUFXaTRFLEVBQU0xekIsU0FFaEIwekIiLCJmaWxlIjoic2NyaXB0cy9wb3B1cC12ZW5kb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQGxpY2Vuc2UgQW5ndWxhckpTIHYxLjUuNVxyXG4gKiAoYykgMjAxMC0yMDE2IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xyXG4gKiBMaWNlbnNlOiBNSVRcclxuICovXHJcbihmdW5jdGlvbih3aW5kb3cpIHsndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFRoaXMgb2JqZWN0IHByb3ZpZGVzIGEgdXRpbGl0eSBmb3IgcHJvZHVjaW5nIHJpY2ggRXJyb3IgbWVzc2FnZXMgd2l0aGluXHJcbiAqIEFuZ3VsYXIuIEl0IGNhbiBiZSBjYWxsZWQgYXMgZm9sbG93czpcclxuICpcclxuICogdmFyIGV4YW1wbGVNaW5FcnIgPSBtaW5FcnIoJ2V4YW1wbGUnKTtcclxuICogdGhyb3cgZXhhbXBsZU1pbkVycignb25lJywgJ1RoaXMgezB9IGlzIHsxfScsIGZvbywgYmFyKTtcclxuICpcclxuICogVGhlIGFib3ZlIGNyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgbWluRXJyIGluIHRoZSBleGFtcGxlIG5hbWVzcGFjZS4gVGhlXHJcbiAqIHJlc3VsdGluZyBlcnJvciB3aWxsIGhhdmUgYSBuYW1lc3BhY2VkIGVycm9yIGNvZGUgb2YgZXhhbXBsZS5vbmUuICBUaGVcclxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgcmVwbGFjZSB7MH0gd2l0aCB0aGUgdmFsdWUgb2YgZm9vLCBhbmQgezF9IHdpdGggdGhlXHJcbiAqIHZhbHVlIG9mIGJhci4gVGhlIG9iamVjdCBpcyBub3QgcmVzdHJpY3RlZCBpbiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBpdCBjYW5cclxuICogdGFrZS5cclxuICpcclxuICogSWYgZmV3ZXIgYXJndW1lbnRzIGFyZSBzcGVjaWZpZWQgdGhhbiBuZWNlc3NhcnkgZm9yIGludGVycG9sYXRpb24sIHRoZSBleHRyYVxyXG4gKiBpbnRlcnBvbGF0aW9uIG1hcmtlcnMgd2lsbCBiZSBwcmVzZXJ2ZWQgaW4gdGhlIGZpbmFsIHN0cmluZy5cclxuICpcclxuICogU2luY2UgZGF0YSB3aWxsIGJlIHBhcnNlZCBzdGF0aWNhbGx5IGR1cmluZyBhIGJ1aWxkIHN0ZXAsIHNvbWUgcmVzdHJpY3Rpb25zXHJcbiAqIGFyZSBhcHBsaWVkIHdpdGggcmVzcGVjdCB0byBob3cgbWluRXJyIGluc3RhbmNlcyBhcmUgY3JlYXRlZCBhbmQgY2FsbGVkLlxyXG4gKiBJbnN0YW5jZXMgc2hvdWxkIGhhdmUgbmFtZXMgb2YgdGhlIGZvcm0gbmFtZXNwYWNlTWluRXJyIGZvciBhIG1pbkVyciBjcmVhdGVkXHJcbiAqIHVzaW5nIG1pbkVycignbmFtZXNwYWNlJykgLiBFcnJvciBjb2RlcywgbmFtZXNwYWNlcyBhbmQgdGVtcGxhdGUgc3RyaW5nc1xyXG4gKiBzaG91bGQgYWxsIGJlIHN0YXRpYyBzdHJpbmdzLCBub3QgdmFyaWFibGVzIG9yIGdlbmVyYWwgZXhwcmVzc2lvbnMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGUgVGhlIG5hbWVzcGFjZSB0byB1c2UgZm9yIHRoZSBuZXcgbWluRXJyIGluc3RhbmNlLlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBFcnJvckNvbnN0cnVjdG9yIEN1c3RvbSBlcnJvciBjb25zdHJ1Y3RvciB0byBiZSBpbnN0YW50aWF0ZWQgd2hlbiByZXR1cm5pbmdcclxuICogICBlcnJvciBmcm9tIHJldHVybmVkIGZ1bmN0aW9uLCBmb3IgY2FzZXMgd2hlbiBhIHBhcnRpY3VsYXIgdHlwZSBvZiBlcnJvciBpcyB1c2VmdWwuXHJcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihjb2RlOnN0cmluZywgdGVtcGxhdGU6c3RyaW5nLCAuLi50ZW1wbGF0ZUFyZ3MpOiBFcnJvcn0gbWluRXJyIGluc3RhbmNlXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbWluRXJyKG1vZHVsZSwgRXJyb3JDb25zdHJ1Y3Rvcikge1xyXG4gIEVycm9yQ29uc3RydWN0b3IgPSBFcnJvckNvbnN0cnVjdG9yIHx8IEVycm9yO1xyXG4gIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBTS0lQX0lOREVYRVMgPSAyO1xyXG5cclxuICAgIHZhciB0ZW1wbGF0ZUFyZ3MgPSBhcmd1bWVudHMsXHJcbiAgICAgIGNvZGUgPSB0ZW1wbGF0ZUFyZ3NbMF0sXHJcbiAgICAgIG1lc3NhZ2UgPSAnWycgKyAobW9kdWxlID8gbW9kdWxlICsgJzonIDogJycpICsgY29kZSArICddICcsXHJcbiAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGVBcmdzWzFdLFxyXG4gICAgICBwYXJhbVByZWZpeCwgaTtcclxuXHJcbiAgICBtZXNzYWdlICs9IHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcZCtcXH0vZywgZnVuY3Rpb24obWF0Y2gpIHtcclxuICAgICAgdmFyIGluZGV4ID0gK21hdGNoLnNsaWNlKDEsIC0xKSxcclxuICAgICAgICBzaGlmdGVkSW5kZXggPSBpbmRleCArIFNLSVBfSU5ERVhFUztcclxuXHJcbiAgICAgIGlmIChzaGlmdGVkSW5kZXggPCB0ZW1wbGF0ZUFyZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvRGVidWdTdHJpbmcodGVtcGxhdGVBcmdzW3NoaWZ0ZWRJbmRleF0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbWF0Y2g7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtZXNzYWdlICs9ICdcXG5odHRwOi8vZXJyb3JzLmFuZ3VsYXJqcy5vcmcvMS41LjUvJyArXHJcbiAgICAgIChtb2R1bGUgPyBtb2R1bGUgKyAnLycgOiAnJykgKyBjb2RlO1xyXG5cclxuICAgIGZvciAoaSA9IFNLSVBfSU5ERVhFUywgcGFyYW1QcmVmaXggPSAnPyc7IGkgPCB0ZW1wbGF0ZUFyZ3MubGVuZ3RoOyBpKyssIHBhcmFtUHJlZml4ID0gJyYnKSB7XHJcbiAgICAgIG1lc3NhZ2UgKz0gcGFyYW1QcmVmaXggKyAncCcgKyAoaSAtIFNLSVBfSU5ERVhFUykgKyAnPScgK1xyXG4gICAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh0b0RlYnVnU3RyaW5nKHRlbXBsYXRlQXJnc1tpXSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgRXJyb3JDb25zdHJ1Y3RvcihtZXNzYWdlKTtcclxuICB9O1xyXG59XHJcblxyXG4vKiBXZSBuZWVkIHRvIHRlbGwganNoaW50IHdoYXQgdmFyaWFibGVzIGFyZSBiZWluZyBleHBvcnRlZCAqL1xyXG4vKiBnbG9iYWwgYW5ndWxhcjogdHJ1ZSxcclxuICBtc2llOiB0cnVlLFxyXG4gIGpxTGl0ZTogdHJ1ZSxcclxuICBqUXVlcnk6IHRydWUsXHJcbiAgc2xpY2U6IHRydWUsXHJcbiAgc3BsaWNlOiB0cnVlLFxyXG4gIHB1c2g6IHRydWUsXHJcbiAgdG9TdHJpbmc6IHRydWUsXHJcbiAgbmdNaW5FcnI6IHRydWUsXHJcbiAgYW5ndWxhck1vZHVsZTogdHJ1ZSxcclxuICB1aWQ6IHRydWUsXHJcbiAgUkVHRVhfU1RSSU5HX1JFR0VYUDogdHJ1ZSxcclxuICBWQUxJRElUWV9TVEFURV9QUk9QRVJUWTogdHJ1ZSxcclxuXHJcbiAgbG93ZXJjYXNlOiB0cnVlLFxyXG4gIHVwcGVyY2FzZTogdHJ1ZSxcclxuICBtYW51YWxMb3dlcmNhc2U6IHRydWUsXHJcbiAgbWFudWFsVXBwZXJjYXNlOiB0cnVlLFxyXG4gIG5vZGVOYW1lXzogdHJ1ZSxcclxuICBpc0FycmF5TGlrZTogdHJ1ZSxcclxuICBmb3JFYWNoOiB0cnVlLFxyXG4gIGZvckVhY2hTb3J0ZWQ6IHRydWUsXHJcbiAgcmV2ZXJzZVBhcmFtczogdHJ1ZSxcclxuICBuZXh0VWlkOiB0cnVlLFxyXG4gIHNldEhhc2hLZXk6IHRydWUsXHJcbiAgZXh0ZW5kOiB0cnVlLFxyXG4gIHRvSW50OiB0cnVlLFxyXG4gIGluaGVyaXQ6IHRydWUsXHJcbiAgbWVyZ2U6IHRydWUsXHJcbiAgbm9vcDogdHJ1ZSxcclxuICBpZGVudGl0eTogdHJ1ZSxcclxuICB2YWx1ZUZuOiB0cnVlLFxyXG4gIGlzVW5kZWZpbmVkOiB0cnVlLFxyXG4gIGlzRGVmaW5lZDogdHJ1ZSxcclxuICBpc09iamVjdDogdHJ1ZSxcclxuICBpc0JsYW5rT2JqZWN0OiB0cnVlLFxyXG4gIGlzU3RyaW5nOiB0cnVlLFxyXG4gIGlzTnVtYmVyOiB0cnVlLFxyXG4gIGlzRGF0ZTogdHJ1ZSxcclxuICBpc0FycmF5OiB0cnVlLFxyXG4gIGlzRnVuY3Rpb246IHRydWUsXHJcbiAgaXNSZWdFeHA6IHRydWUsXHJcbiAgaXNXaW5kb3c6IHRydWUsXHJcbiAgaXNTY29wZTogdHJ1ZSxcclxuICBpc0ZpbGU6IHRydWUsXHJcbiAgaXNGb3JtRGF0YTogdHJ1ZSxcclxuICBpc0Jsb2I6IHRydWUsXHJcbiAgaXNCb29sZWFuOiB0cnVlLFxyXG4gIGlzUHJvbWlzZUxpa2U6IHRydWUsXHJcbiAgdHJpbTogdHJ1ZSxcclxuICBlc2NhcGVGb3JSZWdleHA6IHRydWUsXHJcbiAgaXNFbGVtZW50OiB0cnVlLFxyXG4gIG1ha2VNYXA6IHRydWUsXHJcbiAgaW5jbHVkZXM6IHRydWUsXHJcbiAgYXJyYXlSZW1vdmU6IHRydWUsXHJcbiAgY29weTogdHJ1ZSxcclxuICBzaGFsbG93Q29weTogdHJ1ZSxcclxuICBlcXVhbHM6IHRydWUsXHJcbiAgY3NwOiB0cnVlLFxyXG4gIGpxOiB0cnVlLFxyXG4gIGNvbmNhdDogdHJ1ZSxcclxuICBzbGljZUFyZ3M6IHRydWUsXHJcbiAgYmluZDogdHJ1ZSxcclxuICB0b0pzb25SZXBsYWNlcjogdHJ1ZSxcclxuICB0b0pzb246IHRydWUsXHJcbiAgZnJvbUpzb246IHRydWUsXHJcbiAgY29udmVydFRpbWV6b25lVG9Mb2NhbDogdHJ1ZSxcclxuICB0aW1lem9uZVRvT2Zmc2V0OiB0cnVlLFxyXG4gIHN0YXJ0aW5nVGFnOiB0cnVlLFxyXG4gIHRyeURlY29kZVVSSUNvbXBvbmVudDogdHJ1ZSxcclxuICBwYXJzZUtleVZhbHVlOiB0cnVlLFxyXG4gIHRvS2V5VmFsdWU6IHRydWUsXHJcbiAgZW5jb2RlVXJpU2VnbWVudDogdHJ1ZSxcclxuICBlbmNvZGVVcmlRdWVyeTogdHJ1ZSxcclxuICBhbmd1bGFySW5pdDogdHJ1ZSxcclxuICBib290c3RyYXA6IHRydWUsXHJcbiAgZ2V0VGVzdGFiaWxpdHk6IHRydWUsXHJcbiAgc25ha2VfY2FzZTogdHJ1ZSxcclxuICBiaW5kSlF1ZXJ5OiB0cnVlLFxyXG4gIGFzc2VydEFyZzogdHJ1ZSxcclxuICBhc3NlcnRBcmdGbjogdHJ1ZSxcclxuICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eTogdHJ1ZSxcclxuICBnZXR0ZXI6IHRydWUsXHJcbiAgZ2V0QmxvY2tOb2RlczogdHJ1ZSxcclxuICBoYXNPd25Qcm9wZXJ0eTogdHJ1ZSxcclxuICBjcmVhdGVNYXA6IHRydWUsXHJcblxyXG4gIE5PREVfVFlQRV9FTEVNRU5UOiB0cnVlLFxyXG4gIE5PREVfVFlQRV9BVFRSSUJVVEU6IHRydWUsXHJcbiAgTk9ERV9UWVBFX1RFWFQ6IHRydWUsXHJcbiAgTk9ERV9UWVBFX0NPTU1FTlQ6IHRydWUsXHJcbiAgTk9ERV9UWVBFX0RPQ1VNRU5UOiB0cnVlLFxyXG4gIE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVDogdHJ1ZSxcclxuKi9cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtb2R1bGVcclxuICogQG5hbWUgbmdcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAaW5zdGFsbGF0aW9uXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiAjIG5nIChjb3JlIG1vZHVsZSlcclxuICogVGhlIG5nIG1vZHVsZSBpcyBsb2FkZWQgYnkgZGVmYXVsdCB3aGVuIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbiBpcyBzdGFydGVkLiBUaGUgbW9kdWxlIGl0c2VsZlxyXG4gKiBjb250YWlucyB0aGUgZXNzZW50aWFsIGNvbXBvbmVudHMgZm9yIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbiB0byBmdW5jdGlvbi4gVGhlIHRhYmxlIGJlbG93XHJcbiAqIGxpc3RzIGEgaGlnaCBsZXZlbCBicmVha2Rvd24gb2YgZWFjaCBvZiB0aGUgc2VydmljZXMvZmFjdG9yaWVzLCBmaWx0ZXJzLCBkaXJlY3RpdmVzIGFuZCB0ZXN0aW5nXHJcbiAqIGNvbXBvbmVudHMgYXZhaWxhYmxlIHdpdGhpbiB0aGlzIGNvcmUgbW9kdWxlLlxyXG4gKlxyXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nXCI+PC9kaXY+XHJcbiAqL1xyXG5cclxudmFyIFJFR0VYX1NUUklOR19SRUdFWFAgPSAvXlxcLyguKylcXC8oW2Etel0qKSQvO1xyXG5cclxuLy8gVGhlIG5hbWUgb2YgYSBmb3JtIGNvbnRyb2wncyBWYWxpZGl0eVN0YXRlIHByb3BlcnR5LlxyXG4vLyBUaGlzIGlzIHVzZWQgc28gdGhhdCBpdCdzIHBvc3NpYmxlIGZvciBpbnRlcm5hbCB0ZXN0cyB0byBjcmVhdGUgbW9jayBWYWxpZGl0eVN0YXRlcy5cclxudmFyIFZBTElESVRZX1NUQVRFX1BST1BFUlRZID0gJ3ZhbGlkaXR5JztcclxuXHJcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XHJcblxyXG52YXIgbG93ZXJjYXNlID0gZnVuY3Rpb24oc3RyaW5nKSB7cmV0dXJuIGlzU3RyaW5nKHN0cmluZykgPyBzdHJpbmcudG9Mb3dlckNhc2UoKSA6IHN0cmluZzt9O1xyXG52YXIgdXBwZXJjYXNlID0gZnVuY3Rpb24oc3RyaW5nKSB7cmV0dXJuIGlzU3RyaW5nKHN0cmluZykgPyBzdHJpbmcudG9VcHBlckNhc2UoKSA6IHN0cmluZzt9O1xyXG5cclxuXHJcbnZhciBtYW51YWxMb3dlcmNhc2UgPSBmdW5jdGlvbihzKSB7XHJcbiAgLyoganNoaW50IGJpdHdpc2U6IGZhbHNlICovXHJcbiAgcmV0dXJuIGlzU3RyaW5nKHMpXHJcbiAgICAgID8gcy5yZXBsYWNlKC9bQS1aXS9nLCBmdW5jdGlvbihjaCkge3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoLmNoYXJDb2RlQXQoMCkgfCAzMik7fSlcclxuICAgICAgOiBzO1xyXG59O1xyXG52YXIgbWFudWFsVXBwZXJjYXNlID0gZnVuY3Rpb24ocykge1xyXG4gIC8qIGpzaGludCBiaXR3aXNlOiBmYWxzZSAqL1xyXG4gIHJldHVybiBpc1N0cmluZyhzKVxyXG4gICAgICA/IHMucmVwbGFjZSgvW2Etel0vZywgZnVuY3Rpb24oY2gpIHtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaC5jaGFyQ29kZUF0KDApICYgfjMyKTt9KVxyXG4gICAgICA6IHM7XHJcbn07XHJcblxyXG5cclxuLy8gU3RyaW5nI3RvTG93ZXJDYXNlIGFuZCBTdHJpbmcjdG9VcHBlckNhc2UgZG9uJ3QgcHJvZHVjZSBjb3JyZWN0IHJlc3VsdHMgaW4gYnJvd3NlcnMgd2l0aCBUdXJraXNoXHJcbi8vIGxvY2FsZSwgZm9yIHRoaXMgcmVhc29uIHdlIG5lZWQgdG8gZGV0ZWN0IHRoaXMgY2FzZSBhbmQgcmVkZWZpbmUgbG93ZXJjYXNlL3VwcGVyY2FzZSBtZXRob2RzXHJcbi8vIHdpdGggY29ycmVjdCBidXQgc2xvd2VyIGFsdGVybmF0aXZlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzExMzg3XHJcbmlmICgnaScgIT09ICdJJy50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgbG93ZXJjYXNlID0gbWFudWFsTG93ZXJjYXNlO1xyXG4gIHVwcGVyY2FzZSA9IG1hbnVhbFVwcGVyY2FzZTtcclxufVxyXG5cclxuXHJcbnZhclxyXG4gICAgbXNpZSwgICAgICAgICAgICAgLy8gaG9sZHMgbWFqb3IgdmVyc2lvbiBudW1iZXIgZm9yIElFLCBvciBOYU4gaWYgVUEgaXMgbm90IElFLlxyXG4gICAganFMaXRlLCAgICAgICAgICAgLy8gZGVsYXkgYmluZGluZyBzaW5jZSBqUXVlcnkgY291bGQgYmUgbG9hZGVkIGFmdGVyIHVzLlxyXG4gICAgalF1ZXJ5LCAgICAgICAgICAgLy8gZGVsYXkgYmluZGluZ1xyXG4gICAgc2xpY2UgICAgICAgICAgICAgPSBbXS5zbGljZSxcclxuICAgIHNwbGljZSAgICAgICAgICAgID0gW10uc3BsaWNlLFxyXG4gICAgcHVzaCAgICAgICAgICAgICAgPSBbXS5wdXNoLFxyXG4gICAgdG9TdHJpbmcgICAgICAgICAgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFxyXG4gICAgZ2V0UHJvdG90eXBlT2YgICAgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXHJcbiAgICBuZ01pbkVyciAgICAgICAgICA9IG1pbkVycignbmcnKSxcclxuXHJcbiAgICAvKiogQG5hbWUgYW5ndWxhciAqL1xyXG4gICAgYW5ndWxhciAgICAgICAgICAgPSB3aW5kb3cuYW5ndWxhciB8fCAod2luZG93LmFuZ3VsYXIgPSB7fSksXHJcbiAgICBhbmd1bGFyTW9kdWxlLFxyXG4gICAgdWlkICAgICAgICAgICAgICAgPSAwO1xyXG5cclxuLyoqXHJcbiAqIGRvY3VtZW50TW9kZSBpcyBhbiBJRS1vbmx5IHByb3BlcnR5XHJcbiAqIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9jYzE5Njk4OCh2PXZzLjg1KS5hc3B4XHJcbiAqL1xyXG5tc2llID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50TW9kZTtcclxuXHJcblxyXG4vKipcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmpcclxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGBvYmpgIGlzIGFuIGFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0IChOb2RlTGlzdCwgQXJndW1lbnRzLFxyXG4gKiAgICAgICAgICAgICAgICAgICBTdHJpbmcgLi4uKVxyXG4gKi9cclxuZnVuY3Rpb24gaXNBcnJheUxpa2Uob2JqKSB7XHJcblxyXG4gIC8vIGBudWxsYCwgYHVuZGVmaW5lZGAgYW5kIGB3aW5kb3dgIGFyZSBub3QgYXJyYXktbGlrZVxyXG4gIGlmIChvYmogPT0gbnVsbCB8fCBpc1dpbmRvdyhvYmopKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gIC8vIGFycmF5cywgc3RyaW5ncyBhbmQgalF1ZXJ5L2pxTGl0ZSBvYmplY3RzIGFyZSBhcnJheSBsaWtlXHJcbiAgLy8gKiBqcUxpdGUgaXMgZWl0aGVyIHRoZSBqUXVlcnkgb3IganFMaXRlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXHJcbiAgLy8gKiB3ZSBoYXZlIHRvIGNoZWNrIHRoZSBleGlzdGVuY2Ugb2YganFMaXRlIGZpcnN0IGFzIHRoaXMgbWV0aG9kIGlzIGNhbGxlZFxyXG4gIC8vICAgdmlhIHRoZSBmb3JFYWNoIG1ldGhvZCB3aGVuIGNvbnN0cnVjdGluZyB0aGUganFMaXRlIG9iamVjdCBpbiB0aGUgZmlyc3QgcGxhY2VcclxuICBpZiAoaXNBcnJheShvYmopIHx8IGlzU3RyaW5nKG9iaikgfHwgKGpxTGl0ZSAmJiBvYmogaW5zdGFuY2VvZiBqcUxpdGUpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgLy8gU3VwcG9ydDogaU9TIDguMiAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXHJcbiAgLy8gXCJsZW5ndGhcIiBpbiBvYmogdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMTE1MDgpXHJcbiAgdmFyIGxlbmd0aCA9IFwibGVuZ3RoXCIgaW4gT2JqZWN0KG9iaikgJiYgb2JqLmxlbmd0aDtcclxuXHJcbiAgLy8gTm9kZUxpc3Qgb2JqZWN0cyAod2l0aCBgaXRlbWAgbWV0aG9kKSBhbmRcclxuICAvLyBvdGhlciBvYmplY3RzIHdpdGggc3VpdGFibGUgbGVuZ3RoIGNoYXJhY3RlcmlzdGljcyBhcmUgYXJyYXktbGlrZVxyXG4gIHJldHVybiBpc051bWJlcihsZW5ndGgpICYmXHJcbiAgICAobGVuZ3RoID49IDAgJiYgKChsZW5ndGggLSAxKSBpbiBvYmogfHwgb2JqIGluc3RhbmNlb2YgQXJyYXkpIHx8IHR5cGVvZiBvYmouaXRlbSA9PSAnZnVuY3Rpb24nKTtcclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5mb3JFYWNoXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEludm9rZXMgdGhlIGBpdGVyYXRvcmAgZnVuY3Rpb24gb25jZSBmb3IgZWFjaCBpdGVtIGluIGBvYmpgIGNvbGxlY3Rpb24sIHdoaWNoIGNhbiBiZSBlaXRoZXIgYW5cclxuICogb2JqZWN0IG9yIGFuIGFycmF5LiBUaGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggYGl0ZXJhdG9yKHZhbHVlLCBrZXksIG9iailgLCB3aGVyZSBgdmFsdWVgXHJcbiAqIGlzIHRoZSB2YWx1ZSBvZiBhbiBvYmplY3QgcHJvcGVydHkgb3IgYW4gYXJyYXkgZWxlbWVudCwgYGtleWAgaXMgdGhlIG9iamVjdCBwcm9wZXJ0eSBrZXkgb3JcclxuICogYXJyYXkgZWxlbWVudCBpbmRleCBhbmQgb2JqIGlzIHRoZSBgb2JqYCBpdHNlbGYuIFNwZWNpZnlpbmcgYSBgY29udGV4dGAgZm9yIHRoZSBmdW5jdGlvbiBpcyBvcHRpb25hbC5cclxuICpcclxuICogSXQgaXMgd29ydGggbm90aW5nIHRoYXQgYC5mb3JFYWNoYCBkb2VzIG5vdCBpdGVyYXRlIG92ZXIgaW5oZXJpdGVkIHByb3BlcnRpZXMgYmVjYXVzZSBpdCBmaWx0ZXJzXHJcbiAqIHVzaW5nIHRoZSBgaGFzT3duUHJvcGVydHlgIG1ldGhvZC5cclxuICpcclxuICogVW5saWtlIEVTMjYyJ3NcclxuICogW0FycmF5LnByb3RvdHlwZS5mb3JFYWNoXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtMTUuNC40LjE4KSxcclxuICogcHJvdmlkaW5nICd1bmRlZmluZWQnIG9yICdudWxsJyB2YWx1ZXMgZm9yIGBvYmpgIHdpbGwgbm90IHRocm93IGEgVHlwZUVycm9yLCBidXQgcmF0aGVyIGp1c3RcclxuICogcmV0dXJuIHRoZSB2YWx1ZSBwcm92aWRlZC5cclxuICpcclxuICAgYGBganNcclxuICAgICB2YXIgdmFsdWVzID0ge25hbWU6ICdtaXNrbycsIGdlbmRlcjogJ21hbGUnfTtcclxuICAgICB2YXIgbG9nID0gW107XHJcbiAgICAgYW5ndWxhci5mb3JFYWNoKHZhbHVlcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgdGhpcy5wdXNoKGtleSArICc6ICcgKyB2YWx1ZSk7XHJcbiAgICAgfSwgbG9nKTtcclxuICAgICBleHBlY3QobG9nKS50b0VxdWFsKFsnbmFtZTogbWlza28nLCAnZ2VuZGVyOiBtYWxlJ10pO1xyXG4gICBgYGBcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvciBJdGVyYXRvciBmdW5jdGlvbi5cclxuICogQHBhcmFtIHtPYmplY3Q9fSBjb250ZXh0IE9iamVjdCB0byBiZWNvbWUgY29udGV4dCAoYHRoaXNgKSBmb3IgdGhlIGl0ZXJhdG9yIGZ1bmN0aW9uLlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fEFycmF5fSBSZWZlcmVuY2UgdG8gYG9iamAuXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gZm9yRWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XHJcbiAgdmFyIGtleSwgbGVuZ3RoO1xyXG4gIGlmIChvYmopIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikpIHtcclxuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgLy8gTmVlZCB0byBjaGVjayBpZiBoYXNPd25Qcm9wZXJ0eSBleGlzdHMsXHJcbiAgICAgICAgLy8gYXMgb24gSUU4IHRoZSByZXN1bHQgb2YgcXVlcnlTZWxlY3RvckFsbCBpcyBhbiBvYmplY3Qgd2l0aG91dCBhIGhhc093blByb3BlcnR5IGZ1bmN0aW9uXHJcbiAgICAgICAgaWYgKGtleSAhPSAncHJvdG90eXBlJyAmJiBrZXkgIT0gJ2xlbmd0aCcgJiYga2V5ICE9ICduYW1lJyAmJiAoIW9iai5oYXNPd25Qcm9wZXJ0eSB8fCBvYmouaGFzT3duUHJvcGVydHkoa2V5KSkpIHtcclxuICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmopIHx8IGlzQXJyYXlMaWtlKG9iaikpIHtcclxuICAgICAgdmFyIGlzUHJpbWl0aXZlID0gdHlwZW9mIG9iaiAhPT0gJ29iamVjdCc7XHJcbiAgICAgIGZvciAoa2V5ID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsga2V5IDwgbGVuZ3RoOyBrZXkrKykge1xyXG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSB8fCBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKG9iai5mb3JFYWNoICYmIG9iai5mb3JFYWNoICE9PSBmb3JFYWNoKSB7XHJcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQsIG9iaik7XHJcbiAgICB9IGVsc2UgaWYgKGlzQmxhbmtPYmplY3Qob2JqKSkge1xyXG4gICAgICAvLyBjcmVhdGVNYXAoKSBmYXN0IHBhdGggLS0tIFNhZmUgdG8gYXZvaWQgaGFzT3duUHJvcGVydHkgY2hlY2sgYmVjYXVzZSBwcm90b3R5cGUgY2hhaW4gaXMgZW1wdHlcclxuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmouaGFzT3duUHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgLy8gU2xvdyBwYXRoIGZvciBvYmplY3RzIGluaGVyaXRpbmcgT2JqZWN0LnByb3RvdHlwZSwgaGFzT3duUHJvcGVydHkgY2hlY2sgbmVlZGVkXHJcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gU2xvdyBwYXRoIGZvciBvYmplY3RzIHdoaWNoIGRvIG5vdCBoYXZlIGEgbWV0aG9kIGBoYXNPd25Qcm9wZXJ0eWBcclxuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvckVhY2hTb3J0ZWQob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xyXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKS5zb3J0KCk7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXlzW2ldXSwga2V5c1tpXSk7XHJcbiAgfVxyXG4gIHJldHVybiBrZXlzO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIHdoZW4gdXNpbmcgZm9yRWFjaCB0aGUgcGFyYW1zIGFyZSB2YWx1ZSwga2V5LCBidXQgaXQgaXMgb2Z0ZW4gdXNlZnVsIHRvIGhhdmUga2V5LCB2YWx1ZS5cclxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsICopfSBpdGVyYXRvckZuXHJcbiAqIEByZXR1cm5zIHtmdW5jdGlvbigqLCBzdHJpbmcpfVxyXG4gKi9cclxuZnVuY3Rpb24gcmV2ZXJzZVBhcmFtcyhpdGVyYXRvckZuKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtpdGVyYXRvckZuKGtleSwgdmFsdWUpO307XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIGNvbnNpc3RlbnQgd2F5IG9mIGNyZWF0aW5nIHVuaXF1ZSBJRHMgaW4gYW5ndWxhci5cclxuICpcclxuICogVXNpbmcgc2ltcGxlIG51bWJlcnMgYWxsb3dzIHVzIHRvIGdlbmVyYXRlIDI4LjYgbWlsbGlvbiB1bmlxdWUgaWRzIHBlciBzZWNvbmQgZm9yIDEwIHllYXJzIGJlZm9yZVxyXG4gKiB3ZSBoaXQgbnVtYmVyIHByZWNpc2lvbiBpc3N1ZXMgaW4gSmF2YVNjcmlwdC5cclxuICpcclxuICogTWF0aC5wb3coMiw1MykgLyA2MCAvIDYwIC8gMjQgLyAzNjUgLyAxMCA9IDI4LjZNXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFuIHVuaXF1ZSBhbHBoYS1udW1lcmljIHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gbmV4dFVpZCgpIHtcclxuICByZXR1cm4gKyt1aWQ7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogU2V0IG9yIGNsZWFyIHRoZSBoYXNoa2V5IGZvciBhbiBvYmplY3QuXHJcbiAqIEBwYXJhbSBvYmogb2JqZWN0XHJcbiAqIEBwYXJhbSBoIHRoZSBoYXNoa2V5ICghdHJ1dGh5IHRvIGRlbGV0ZSB0aGUgaGFzaGtleSlcclxuICovXHJcbmZ1bmN0aW9uIHNldEhhc2hLZXkob2JqLCBoKSB7XHJcbiAgaWYgKGgpIHtcclxuICAgIG9iai4kJGhhc2hLZXkgPSBoO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBkZWxldGUgb2JqLiQkaGFzaEtleTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBiYXNlRXh0ZW5kKGRzdCwgb2JqcywgZGVlcCkge1xyXG4gIHZhciBoID0gZHN0LiQkaGFzaEtleTtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gb2Jqcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XHJcbiAgICB2YXIgb2JqID0gb2Jqc1tpXTtcclxuICAgIGlmICghaXNPYmplY3Qob2JqKSAmJiAhaXNGdW5jdGlvbihvYmopKSBjb250aW51ZTtcclxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcclxuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGtleXMubGVuZ3RoOyBqIDwgamo7IGorKykge1xyXG4gICAgICB2YXIga2V5ID0ga2V5c1tqXTtcclxuICAgICAgdmFyIHNyYyA9IG9ialtrZXldO1xyXG5cclxuICAgICAgaWYgKGRlZXAgJiYgaXNPYmplY3Qoc3JjKSkge1xyXG4gICAgICAgIGlmIChpc0RhdGUoc3JjKSkge1xyXG4gICAgICAgICAgZHN0W2tleV0gPSBuZXcgRGF0ZShzcmMudmFsdWVPZigpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzUmVnRXhwKHNyYykpIHtcclxuICAgICAgICAgIGRzdFtrZXldID0gbmV3IFJlZ0V4cChzcmMpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc3JjLm5vZGVOYW1lKSB7XHJcbiAgICAgICAgICBkc3Rba2V5XSA9IHNyYy5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0VsZW1lbnQoc3JjKSkge1xyXG4gICAgICAgICAgZHN0W2tleV0gPSBzcmMuY2xvbmUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKCFpc09iamVjdChkc3Rba2V5XSkpIGRzdFtrZXldID0gaXNBcnJheShzcmMpID8gW10gOiB7fTtcclxuICAgICAgICAgIGJhc2VFeHRlbmQoZHN0W2tleV0sIFtzcmNdLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZHN0W2tleV0gPSBzcmM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEhhc2hLZXkoZHN0LCBoKTtcclxuICByZXR1cm4gZHN0O1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuZXh0ZW5kXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEV4dGVuZHMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBgZHN0YCBieSBjb3B5aW5nIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZnJvbSB0aGUgYHNyY2Agb2JqZWN0KHMpXHJcbiAqIHRvIGBkc3RgLiBZb3UgY2FuIHNwZWNpZnkgbXVsdGlwbGUgYHNyY2Agb2JqZWN0cy4gSWYgeW91IHdhbnQgdG8gcHJlc2VydmUgb3JpZ2luYWwgb2JqZWN0cywgeW91IGNhbiBkbyBzb1xyXG4gKiBieSBwYXNzaW5nIGFuIGVtcHR5IG9iamVjdCBhcyB0aGUgdGFyZ2V0OiBgdmFyIG9iamVjdCA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBvYmplY3QxLCBvYmplY3QyKWAuXHJcbiAqXHJcbiAqICoqTm90ZToqKiBLZWVwIGluIG1pbmQgdGhhdCBgYW5ndWxhci5leHRlbmRgIGRvZXMgbm90IHN1cHBvcnQgcmVjdXJzaXZlIG1lcmdlIChkZWVwIGNvcHkpLiBVc2VcclxuICoge0BsaW5rIGFuZ3VsYXIubWVyZ2V9IGZvciB0aGlzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gZHN0IERlc3RpbmF0aW9uIG9iamVjdC5cclxuICogQHBhcmFtIHsuLi5PYmplY3R9IHNyYyBTb3VyY2Ugb2JqZWN0KHMpLlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZWZlcmVuY2UgdG8gYGRzdGAuXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRlbmQoZHN0KSB7XHJcbiAgcmV0dXJuIGJhc2VFeHRlbmQoZHN0LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIGZhbHNlKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4qIEBuZ2RvYyBmdW5jdGlvblxyXG4qIEBuYW1lIGFuZ3VsYXIubWVyZ2VcclxuKiBAbW9kdWxlIG5nXHJcbiogQGtpbmQgZnVuY3Rpb25cclxuKlxyXG4qIEBkZXNjcmlwdGlvblxyXG4qIERlZXBseSBleHRlbmRzIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgYGRzdGAgYnkgY29weWluZyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGZyb20gdGhlIGBzcmNgIG9iamVjdChzKVxyXG4qIHRvIGBkc3RgLiBZb3UgY2FuIHNwZWNpZnkgbXVsdGlwbGUgYHNyY2Agb2JqZWN0cy4gSWYgeW91IHdhbnQgdG8gcHJlc2VydmUgb3JpZ2luYWwgb2JqZWN0cywgeW91IGNhbiBkbyBzb1xyXG4qIGJ5IHBhc3NpbmcgYW4gZW1wdHkgb2JqZWN0IGFzIHRoZSB0YXJnZXQ6IGB2YXIgb2JqZWN0ID0gYW5ndWxhci5tZXJnZSh7fSwgb2JqZWN0MSwgb2JqZWN0MilgLlxyXG4qXHJcbiogVW5saWtlIHtAbGluayBhbmd1bGFyLmV4dGVuZCBleHRlbmQoKX0sIGBtZXJnZSgpYCByZWN1cnNpdmVseSBkZXNjZW5kcyBpbnRvIG9iamVjdCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxyXG4qIG9iamVjdHMsIHBlcmZvcm1pbmcgYSBkZWVwIGNvcHkuXHJcbipcclxuKiBAcGFyYW0ge09iamVjdH0gZHN0IERlc3RpbmF0aW9uIG9iamVjdC5cclxuKiBAcGFyYW0gey4uLk9iamVjdH0gc3JjIFNvdXJjZSBvYmplY3QocykuXHJcbiogQHJldHVybnMge09iamVjdH0gUmVmZXJlbmNlIHRvIGBkc3RgLlxyXG4qL1xyXG5mdW5jdGlvbiBtZXJnZShkc3QpIHtcclxuICByZXR1cm4gYmFzZUV4dGVuZChkc3QsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgdHJ1ZSk7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdG9JbnQoc3RyKSB7XHJcbiAgcmV0dXJuIHBhcnNlSW50KHN0ciwgMTApO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaW5oZXJpdChwYXJlbnQsIGV4dHJhKSB7XHJcbiAgcmV0dXJuIGV4dGVuZChPYmplY3QuY3JlYXRlKHBhcmVudCksIGV4dHJhKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLm5vb3BcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIG5vIG9wZXJhdGlvbnMuIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY29kZSBpbiB0aGVcclxuICogZnVuY3Rpb25hbCBzdHlsZS5cclxuICAgYGBganNcclxuICAgICBmdW5jdGlvbiBmb28oY2FsbGJhY2spIHtcclxuICAgICAgIHZhciByZXN1bHQgPSBjYWxjdWxhdGVSZXN1bHQoKTtcclxuICAgICAgIChjYWxsYmFjayB8fCBhbmd1bGFyLm5vb3ApKHJlc3VsdCk7XHJcbiAgICAgfVxyXG4gICBgYGBcclxuICovXHJcbmZ1bmN0aW9uIG5vb3AoKSB7fVxyXG5ub29wLiRpbmplY3QgPSBbXTtcclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuaWRlbnRpdHlcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgaXRzIGZpcnN0IGFyZ3VtZW50LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY29kZSBpbiB0aGVcclxuICogZnVuY3Rpb25hbCBzdHlsZS5cclxuICpcclxuICAgYGBganNcclxuICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1lcih0cmFuc2Zvcm1hdGlvbkZuLCB2YWx1ZSkge1xyXG4gICAgICAgcmV0dXJuICh0cmFuc2Zvcm1hdGlvbkZuIHx8IGFuZ3VsYXIuaWRlbnRpdHkpKHZhbHVlKTtcclxuICAgICB9O1xyXG4gICBgYGBcclxuICAqIEBwYXJhbSB7Kn0gdmFsdWUgdG8gYmUgcmV0dXJuZWQuXHJcbiAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHBhc3NlZCBpbi5cclxuICovXHJcbmZ1bmN0aW9uIGlkZW50aXR5KCQpIHtyZXR1cm4gJDt9XHJcbmlkZW50aXR5LiRpbmplY3QgPSBbXTtcclxuXHJcblxyXG5mdW5jdGlvbiB2YWx1ZUZuKHZhbHVlKSB7cmV0dXJuIGZ1bmN0aW9uIHZhbHVlUmVmKCkge3JldHVybiB2YWx1ZTt9O31cclxuXHJcbmZ1bmN0aW9uIGhhc0N1c3RvbVRvU3RyaW5nKG9iaikge1xyXG4gIHJldHVybiBpc0Z1bmN0aW9uKG9iai50b1N0cmluZykgJiYgb2JqLnRvU3RyaW5nICE9PSB0b1N0cmluZztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc1VuZGVmaW5lZFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIHVuZGVmaW5lZC5cclxuICpcclxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgdW5kZWZpbmVkLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJzt9XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmlzRGVmaW5lZFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGRlZmluZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGRlZmluZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJzt9XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmlzT2JqZWN0XHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYW4gYE9iamVjdGAuIFVubGlrZSBgdHlwZW9mYCBpbiBKYXZhU2NyaXB0LCBgbnVsbGBzIGFyZSBub3RcclxuICogY29uc2lkZXJlZCB0byBiZSBvYmplY3RzLiBOb3RlIHRoYXQgSmF2YVNjcmlwdCBhcnJheXMgYXJlIG9iamVjdHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBPYmplY3RgIGJ1dCBub3QgYG51bGxgLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcclxuICAvLyBodHRwOi8vanNwZXJmLmNvbS9pc29iamVjdDRcclxuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhIG51bGwgcHJvdG90eXBlXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYW4gYE9iamVjdGAgd2l0aCBhIG51bGwgcHJvdG90eXBlXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0JsYW5rT2JqZWN0KHZhbHVlKSB7XHJcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIWdldFByb3RvdHlwZU9mKHZhbHVlKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc1N0cmluZ1xyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgYFN0cmluZ2AuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYFN0cmluZ2AuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO31cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuaXNOdW1iZXJcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBOdW1iZXJgLlxyXG4gKlxyXG4gKiBUaGlzIGluY2x1ZGVzIHRoZSBcInNwZWNpYWxcIiBudW1iZXJzIGBOYU5gLCBgK0luZmluaXR5YCBhbmQgYC1JbmZpbml0eWAuXHJcbiAqXHJcbiAqIElmIHlvdSB3aXNoIHRvIGV4Y2x1ZGUgdGhlc2UgdGhlbiB5b3UgY2FuIHVzZSB0aGUgbmF0aXZlXHJcbiAqIFtgaXNGaW5pdGUnXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9pc0Zpbml0ZSlcclxuICogbWV0aG9kLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBOdW1iZXJgLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJzt9XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmlzRGF0ZVxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXRlcm1pbmVzIGlmIGEgdmFsdWUgaXMgYSBkYXRlLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBEYXRlYC5cclxuICovXHJcbmZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmlzQXJyYXlcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhbiBgQXJyYXlgLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgQXJyYXlgLlxyXG4gKi9cclxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmlzRnVuY3Rpb25cclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBGdW5jdGlvbmAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYEZ1bmN0aW9uYC5cclxuICovXHJcbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO31cclxuXHJcblxyXG4vKipcclxuICogRGV0ZXJtaW5lcyBpZiBhIHZhbHVlIGlzIGEgcmVndWxhciBleHByZXNzaW9uIG9iamVjdC5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgUmVnRXhwYC5cclxuICovXHJcbmZ1bmN0aW9uIGlzUmVnRXhwKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBSZWdFeHBdJztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgYG9iamAgaXMgYSB3aW5kb3cgb2JqZWN0LlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iaiBPYmplY3QgdG8gY2hlY2tcclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYG9iamAgaXMgYSB3aW5kb3cgb2JqLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNXaW5kb3cob2JqKSB7XHJcbiAgcmV0dXJuIG9iaiAmJiBvYmoud2luZG93ID09PSBvYmo7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBpc1Njb3BlKG9iaikge1xyXG4gIHJldHVybiBvYmogJiYgb2JqLiRldmFsQXN5bmMgJiYgb2JqLiR3YXRjaDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGlzRmlsZShvYmopIHtcclxuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGaWxlXSc7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKG9iaikge1xyXG4gIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEZvcm1EYXRhXSc7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBpc0Jsb2Iob2JqKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNQcm9taXNlTGlrZShvYmopIHtcclxuICByZXR1cm4gb2JqICYmIGlzRnVuY3Rpb24ob2JqLnRoZW4pO1xyXG59XHJcblxyXG5cclxudmFyIFRZUEVEX0FSUkFZX1JFR0VYUCA9IC9eXFxbb2JqZWN0ICg/OlVpbnQ4fFVpbnQ4Q2xhbXBlZHxVaW50MTZ8VWludDMyfEludDh8SW50MTZ8SW50MzJ8RmxvYXQzMnxGbG9hdDY0KUFycmF5XFxdJC87XHJcbmZ1bmN0aW9uIGlzVHlwZWRBcnJheSh2YWx1ZSkge1xyXG4gIHJldHVybiB2YWx1ZSAmJiBpc051bWJlcih2YWx1ZS5sZW5ndGgpICYmIFRZUEVEX0FSUkFZX1JFR0VYUC50ZXN0KHRvU3RyaW5nLmNhbGwodmFsdWUpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcihvYmopIHtcclxuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xyXG59XHJcblxyXG5cclxudmFyIHRyaW0gPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyB2YWx1ZS50cmltKCkgOiB2YWx1ZTtcclxufTtcclxuXHJcbi8vIENvcGllZCBmcm9tOlxyXG4vLyBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2xvY2FsX2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmUxMDIxXHJcbi8vIFByZXJlcTogcyBpcyBhIHN0cmluZy5cclxudmFyIGVzY2FwZUZvclJlZ2V4cCA9IGZ1bmN0aW9uKHMpIHtcclxuICByZXR1cm4gcy5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZywgJ1xcXFwkMScpLlxyXG4gICAgICAgICAgIHJlcGxhY2UoL1xceDA4L2csICdcXFxceDA4Jyk7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmlzRWxlbWVudFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgRE9NIGVsZW1lbnQgKG9yIHdyYXBwZWQgalF1ZXJ5IGVsZW1lbnQpLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50IChvciB3cmFwcGVkIGpRdWVyeSBlbGVtZW50KS5cclxuICovXHJcbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XHJcbiAgcmV0dXJuICEhKG5vZGUgJiZcclxuICAgIChub2RlLm5vZGVOYW1lICAvLyB3ZSBhcmUgYSBkaXJlY3QgZWxlbWVudFxyXG4gICAgfHwgKG5vZGUucHJvcCAmJiBub2RlLmF0dHIgJiYgbm9kZS5maW5kKSkpOyAgLy8gd2UgaGF2ZSBhbiBvbiBhbmQgZmluZCBtZXRob2QgcGFydCBvZiBqUXVlcnkgQVBJXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0gc3RyICdrZXkxLGtleTIsLi4uJ1xyXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBpbiB0aGUgZm9ybSBvZiB7a2V5MTp0cnVlLCBrZXkyOnRydWUsIC4uLn1cclxuICovXHJcbmZ1bmN0aW9uIG1ha2VNYXAoc3RyKSB7XHJcbiAgdmFyIG9iaiA9IHt9LCBpdGVtcyA9IHN0ci5zcGxpdCgnLCcpLCBpO1xyXG4gIGZvciAoaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgb2JqW2l0ZW1zW2ldXSA9IHRydWU7XHJcbiAgfVxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBub2RlTmFtZV8oZWxlbWVudCkge1xyXG4gIHJldHVybiBsb3dlcmNhc2UoZWxlbWVudC5ub2RlTmFtZSB8fCAoZWxlbWVudFswXSAmJiBlbGVtZW50WzBdLm5vZGVOYW1lKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluY2x1ZGVzKGFycmF5LCBvYmopIHtcclxuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhcnJheSwgb2JqKSAhPSAtMTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksIHZhbHVlKSB7XHJcbiAgdmFyIGluZGV4ID0gYXJyYXkuaW5kZXhPZih2YWx1ZSk7XHJcbiAgaWYgKGluZGV4ID49IDApIHtcclxuICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgfVxyXG4gIHJldHVybiBpbmRleDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmNvcHlcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ3JlYXRlcyBhIGRlZXAgY29weSBvZiBgc291cmNlYCwgd2hpY2ggc2hvdWxkIGJlIGFuIG9iamVjdCBvciBhbiBhcnJheS5cclxuICpcclxuICogKiBJZiBubyBkZXN0aW5hdGlvbiBpcyBzdXBwbGllZCwgYSBjb3B5IG9mIHRoZSBvYmplY3Qgb3IgYXJyYXkgaXMgY3JlYXRlZC5cclxuICogKiBJZiBhIGRlc3RpbmF0aW9uIGlzIHByb3ZpZGVkLCBhbGwgb2YgaXRzIGVsZW1lbnRzIChmb3IgYXJyYXlzKSBvciBwcm9wZXJ0aWVzIChmb3Igb2JqZWN0cylcclxuICogICBhcmUgZGVsZXRlZCBhbmQgdGhlbiBhbGwgZWxlbWVudHMvcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2UgYXJlIGNvcGllZCB0byBpdC5cclxuICogKiBJZiBgc291cmNlYCBpcyBub3QgYW4gb2JqZWN0IG9yIGFycmF5IChpbmMuIGBudWxsYCBhbmQgYHVuZGVmaW5lZGApLCBgc291cmNlYCBpcyByZXR1cm5lZC5cclxuICogKiBJZiBgc291cmNlYCBpcyBpZGVudGljYWwgdG8gJ2Rlc3RpbmF0aW9uJyBhbiBleGNlcHRpb24gd2lsbCBiZSB0aHJvd24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gc291cmNlIFRoZSBzb3VyY2UgdGhhdCB3aWxsIGJlIHVzZWQgdG8gbWFrZSBhIGNvcHkuXHJcbiAqICAgICAgICAgICAgICAgICAgIENhbiBiZSBhbnkgdHlwZSwgaW5jbHVkaW5nIHByaW1pdGl2ZXMsIGBudWxsYCwgYW5kIGB1bmRlZmluZWRgLlxyXG4gKiBAcGFyYW0geyhPYmplY3R8QXJyYXkpPX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gaW50byB3aGljaCB0aGUgc291cmNlIGlzIGNvcGllZC4gSWZcclxuICogICAgIHByb3ZpZGVkLCBtdXN0IGJlIG9mIHRoZSBzYW1lIHR5cGUgYXMgYHNvdXJjZWAuXHJcbiAqIEByZXR1cm5zIHsqfSBUaGUgY29weSBvciB1cGRhdGVkIGBkZXN0aW5hdGlvbmAsIGlmIGBkZXN0aW5hdGlvbmAgd2FzIHNwZWNpZmllZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuIDxleGFtcGxlIG1vZHVsZT1cImNvcHlFeGFtcGxlXCI+XHJcbiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuIDxmb3JtIG5vdmFsaWRhdGUgY2xhc3M9XCJzaW1wbGUtZm9ybVwiPlxyXG4gTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIiAvPjxiciAvPlxyXG4gRS1tYWlsOiA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmctbW9kZWw9XCJ1c2VyLmVtYWlsXCIgLz48YnIgLz5cclxuIEdlbmRlcjogPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwidXNlci5nZW5kZXJcIiB2YWx1ZT1cIm1hbGVcIiAvPm1hbGVcclxuIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cInVzZXIuZ2VuZGVyXCIgdmFsdWU9XCJmZW1hbGVcIiAvPmZlbWFsZTxiciAvPlxyXG4gPGJ1dHRvbiBuZy1jbGljaz1cInJlc2V0KClcIj5SRVNFVDwvYnV0dG9uPlxyXG4gPGJ1dHRvbiBuZy1jbGljaz1cInVwZGF0ZSh1c2VyKVwiPlNBVkU8L2J1dHRvbj5cclxuIDwvZm9ybT5cclxuIDxwcmU+Zm9ybSA9IHt7dXNlciB8IGpzb259fTwvcHJlPlxyXG4gPHByZT5tYXN0ZXIgPSB7e21hc3RlciB8IGpzb259fTwvcHJlPlxyXG4gPC9kaXY+XHJcblxyXG4gPHNjcmlwdD5cclxuICBhbmd1bGFyLm1vZHVsZSgnY29weUV4YW1wbGUnLCBbXSlcclxuICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICRzY29wZS5tYXN0ZXI9IHt9O1xyXG5cclxuICAgICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuICAgICAgICAvLyBFeGFtcGxlIHdpdGggMSBhcmd1bWVudFxyXG4gICAgICAgICRzY29wZS5tYXN0ZXI9IGFuZ3VsYXIuY29weSh1c2VyKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIEV4YW1wbGUgd2l0aCAyIGFyZ3VtZW50c1xyXG4gICAgICAgIGFuZ3VsYXIuY29weSgkc2NvcGUubWFzdGVyLCAkc2NvcGUudXNlcik7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAkc2NvcGUucmVzZXQoKTtcclxuICAgIH1dKTtcclxuIDwvc2NyaXB0PlxyXG4gPC9maWxlPlxyXG4gPC9leGFtcGxlPlxyXG4gKi9cclxuZnVuY3Rpb24gY29weShzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XHJcbiAgdmFyIHN0YWNrU291cmNlID0gW107XHJcbiAgdmFyIHN0YWNrRGVzdCA9IFtdO1xyXG5cclxuICBpZiAoZGVzdGluYXRpb24pIHtcclxuICAgIGlmIChpc1R5cGVkQXJyYXkoZGVzdGluYXRpb24pIHx8IGlzQXJyYXlCdWZmZXIoZGVzdGluYXRpb24pKSB7XHJcbiAgICAgIHRocm93IG5nTWluRXJyKCdjcHRhJywgXCJDYW4ndCBjb3B5ISBUeXBlZEFycmF5IGRlc3RpbmF0aW9uIGNhbm5vdCBiZSBtdXRhdGVkLlwiKTtcclxuICAgIH1cclxuICAgIGlmIChzb3VyY2UgPT09IGRlc3RpbmF0aW9uKSB7XHJcbiAgICAgIHRocm93IG5nTWluRXJyKCdjcGknLCBcIkNhbid0IGNvcHkhIFNvdXJjZSBhbmQgZGVzdGluYXRpb24gYXJlIGlkZW50aWNhbC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW1wdHkgdGhlIGRlc3RpbmF0aW9uIG9iamVjdFxyXG4gICAgaWYgKGlzQXJyYXkoZGVzdGluYXRpb24pKSB7XHJcbiAgICAgIGRlc3RpbmF0aW9uLmxlbmd0aCA9IDA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3JFYWNoKGRlc3RpbmF0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgaWYgKGtleSAhPT0gJyQkaGFzaEtleScpIHtcclxuICAgICAgICAgIGRlbGV0ZSBkZXN0aW5hdGlvbltrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpO1xyXG4gICAgc3RhY2tEZXN0LnB1c2goZGVzdGluYXRpb24pO1xyXG4gICAgcmV0dXJuIGNvcHlSZWN1cnNlKHNvdXJjZSwgZGVzdGluYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNvcHlFbGVtZW50KHNvdXJjZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvcHlSZWN1cnNlKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcclxuICAgIHZhciBoID0gZGVzdGluYXRpb24uJCRoYXNoS2V5O1xyXG4gICAgdmFyIGtleTtcclxuICAgIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc291cmNlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICBkZXN0aW5hdGlvbi5wdXNoKGNvcHlFbGVtZW50KHNvdXJjZVtpXSkpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGlzQmxhbmtPYmplY3Qoc291cmNlKSkge1xyXG4gICAgICAvLyBjcmVhdGVNYXAoKSBmYXN0IHBhdGggLS0tIFNhZmUgdG8gYXZvaWQgaGFzT3duUHJvcGVydHkgY2hlY2sgYmVjYXVzZSBwcm90b3R5cGUgY2hhaW4gaXMgZW1wdHlcclxuICAgICAgZm9yIChrZXkgaW4gc291cmNlKSB7XHJcbiAgICAgICAgZGVzdGluYXRpb25ba2V5XSA9IGNvcHlFbGVtZW50KHNvdXJjZVtrZXldKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChzb3VyY2UgJiYgdHlwZW9mIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAvLyBTbG93IHBhdGgsIHdoaWNoIG11c3QgcmVseSBvbiBoYXNPd25Qcm9wZXJ0eVxyXG4gICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcclxuICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjb3B5RWxlbWVudChzb3VyY2Vba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBTbG93ZXN0IHBhdGggLS0tIGhhc093blByb3BlcnR5IGNhbid0IGJlIGNhbGxlZCBhcyBhIG1ldGhvZFxyXG4gICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcclxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcclxuICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjb3B5RWxlbWVudChzb3VyY2Vba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRIYXNoS2V5KGRlc3RpbmF0aW9uLCBoKTtcclxuICAgIHJldHVybiBkZXN0aW5hdGlvbjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvcHlFbGVtZW50KHNvdXJjZSkge1xyXG4gICAgLy8gU2ltcGxlIHZhbHVlc1xyXG4gICAgaWYgKCFpc09iamVjdChzb3VyY2UpKSB7XHJcbiAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWxyZWFkeSBjb3BpZWQgdmFsdWVzXHJcbiAgICB2YXIgaW5kZXggPSBzdGFja1NvdXJjZS5pbmRleE9mKHNvdXJjZSk7XHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgIHJldHVybiBzdGFja0Rlc3RbaW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1dpbmRvdyhzb3VyY2UpIHx8IGlzU2NvcGUoc291cmNlKSkge1xyXG4gICAgICB0aHJvdyBuZ01pbkVycignY3B3cycsXHJcbiAgICAgICAgXCJDYW4ndCBjb3B5ISBNYWtpbmcgY29waWVzIG9mIFdpbmRvdyBvciBTY29wZSBpbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG5lZWRzUmVjdXJzZSA9IGZhbHNlO1xyXG4gICAgdmFyIGRlc3RpbmF0aW9uID0gY29weVR5cGUoc291cmNlKTtcclxuXHJcbiAgICBpZiAoZGVzdGluYXRpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBkZXN0aW5hdGlvbiA9IGlzQXJyYXkoc291cmNlKSA/IFtdIDogT2JqZWN0LmNyZWF0ZShnZXRQcm90b3R5cGVPZihzb3VyY2UpKTtcclxuICAgICAgbmVlZHNSZWN1cnNlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFja1NvdXJjZS5wdXNoKHNvdXJjZSk7XHJcbiAgICBzdGFja0Rlc3QucHVzaChkZXN0aW5hdGlvbik7XHJcblxyXG4gICAgcmV0dXJuIG5lZWRzUmVjdXJzZVxyXG4gICAgICA/IGNvcHlSZWN1cnNlKHNvdXJjZSwgZGVzdGluYXRpb24pXHJcbiAgICAgIDogZGVzdGluYXRpb247XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb3B5VHlwZShzb3VyY2UpIHtcclxuICAgIHN3aXRjaCAodG9TdHJpbmcuY2FsbChzb3VyY2UpKSB7XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgSW50OEFycmF5XSc6XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgSW50MTZBcnJheV0nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IEludDMyQXJyYXldJzpcclxuICAgICAgY2FzZSAnW29iamVjdCBGbG9hdDMyQXJyYXldJzpcclxuICAgICAgY2FzZSAnW29iamVjdCBGbG9hdDY0QXJyYXldJzpcclxuICAgICAgY2FzZSAnW29iamVjdCBVaW50OEFycmF5XSc6XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJzpcclxuICAgICAgY2FzZSAnW29iamVjdCBVaW50MTZBcnJheV0nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IFVpbnQzMkFycmF5XSc6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBzb3VyY2UuY29uc3RydWN0b3IoY29weUVsZW1lbnQoc291cmNlLmJ1ZmZlcikpO1xyXG5cclxuICAgICAgY2FzZSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nOlxyXG4gICAgICAgIC8vU3VwcG9ydDogSUUxMFxyXG4gICAgICAgIGlmICghc291cmNlLnNsaWNlKSB7XHJcbiAgICAgICAgICB2YXIgY29waWVkID0gbmV3IEFycmF5QnVmZmVyKHNvdXJjZS5ieXRlTGVuZ3RoKTtcclxuICAgICAgICAgIG5ldyBVaW50OEFycmF5KGNvcGllZCkuc2V0KG5ldyBVaW50OEFycmF5KHNvdXJjZSkpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvcGllZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgwKTtcclxuXHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcclxuICAgICAgICByZXR1cm4gbmV3IHNvdXJjZS5jb25zdHJ1Y3Rvcihzb3VyY2UudmFsdWVPZigpKTtcclxuXHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XHJcbiAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cChzb3VyY2Uuc291cmNlLCBzb3VyY2UudG9TdHJpbmcoKS5tYXRjaCgvW15cXC9dKiQvKVswXSk7XHJcbiAgICAgICAgcmUubGFzdEluZGV4ID0gc291cmNlLmxhc3RJbmRleDtcclxuICAgICAgICByZXR1cm4gcmU7XHJcblxyXG4gICAgICBjYXNlICdbb2JqZWN0IEJsb2JdJzpcclxuICAgICAgICByZXR1cm4gbmV3IHNvdXJjZS5jb25zdHJ1Y3Rvcihbc291cmNlXSwge3R5cGU6IHNvdXJjZS50eXBlfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzRnVuY3Rpb24oc291cmNlLmNsb25lTm9kZSkpIHtcclxuICAgICAgcmV0dXJuIHNvdXJjZS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIHNoYWxsb3cgY29weSBvZiBhbiBvYmplY3QsIGFuIGFycmF5IG9yIGEgcHJpbWl0aXZlLlxyXG4gKlxyXG4gKiBBc3N1bWVzIHRoYXQgdGhlcmUgYXJlIG5vIHByb3RvIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaGFsbG93Q29weShzcmMsIGRzdCkge1xyXG4gIGlmIChpc0FycmF5KHNyYykpIHtcclxuICAgIGRzdCA9IGRzdCB8fCBbXTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzcmMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICBkc3RbaV0gPSBzcmNbaV07XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChpc09iamVjdChzcmMpKSB7XHJcbiAgICBkc3QgPSBkc3QgfHwge307XHJcblxyXG4gICAgZm9yICh2YXIga2V5IGluIHNyYykge1xyXG4gICAgICBpZiAoIShrZXkuY2hhckF0KDApID09PSAnJCcgJiYga2V5LmNoYXJBdCgxKSA9PT0gJyQnKSkge1xyXG4gICAgICAgIGRzdFtrZXldID0gc3JjW2tleV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBkc3QgfHwgc3JjO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmVxdWFsc1xyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBvYmplY3RzIG9yIHR3byB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQuIFN1cHBvcnRzIHZhbHVlIHR5cGVzLCByZWd1bGFyXHJcbiAqIGV4cHJlc3Npb25zLCBhcnJheXMgYW5kIG9iamVjdHMuXHJcbiAqXHJcbiAqIFR3byBvYmplY3RzIG9yIHZhbHVlcyBhcmUgY29uc2lkZXJlZCBlcXVpdmFsZW50IGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XHJcbiAqXHJcbiAqICogQm90aCBvYmplY3RzIG9yIHZhbHVlcyBwYXNzIGA9PT1gIGNvbXBhcmlzb24uXHJcbiAqICogQm90aCBvYmplY3RzIG9yIHZhbHVlcyBhcmUgb2YgdGhlIHNhbWUgdHlwZSBhbmQgYWxsIG9mIHRoZWlyIHByb3BlcnRpZXMgYXJlIGVxdWFsIGJ5XHJcbiAqICAgY29tcGFyaW5nIHRoZW0gd2l0aCBgYW5ndWxhci5lcXVhbHNgLlxyXG4gKiAqIEJvdGggdmFsdWVzIGFyZSBOYU4uIChJbiBKYXZhU2NyaXB0LCBOYU4gPT0gTmFOID0+IGZhbHNlLiBCdXQgd2UgY29uc2lkZXIgdHdvIE5hTiBhcyBlcXVhbClcclxuICogKiBCb3RoIHZhbHVlcyByZXByZXNlbnQgdGhlIHNhbWUgcmVndWxhciBleHByZXNzaW9uIChJbiBKYXZhU2NyaXB0LFxyXG4gKiAgIC9hYmMvID09IC9hYmMvID0+IGZhbHNlLiBCdXQgd2UgY29uc2lkZXIgdHdvIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYXMgZXF1YWwgd2hlbiB0aGVpciB0ZXh0dWFsXHJcbiAqICAgcmVwcmVzZW50YXRpb24gbWF0Y2hlcykuXHJcbiAqXHJcbiAqIER1cmluZyBhIHByb3BlcnR5IGNvbXBhcmlzb24sIHByb3BlcnRpZXMgb2YgYGZ1bmN0aW9uYCB0eXBlIGFuZCBwcm9wZXJ0aWVzIHdpdGggbmFtZXNcclxuICogdGhhdCBiZWdpbiB3aXRoIGAkYCBhcmUgaWdub3JlZC5cclxuICpcclxuICogU2NvcGUgYW5kIERPTVdpbmRvdyBvYmplY3RzIGFyZSBiZWluZyBjb21wYXJlZCBvbmx5IGJ5IGlkZW50aWZ5IChgPT09YCkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gbzEgT2JqZWN0IG9yIHZhbHVlIHRvIGNvbXBhcmUuXHJcbiAqIEBwYXJhbSB7Kn0gbzIgT2JqZWN0IG9yIHZhbHVlIHRvIGNvbXBhcmUuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGFyZ3VtZW50cyBhcmUgZXF1YWwuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImVxdWFsc0V4YW1wbGVcIiBuYW1lPVwiZXF1YWxzRXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgPGZvcm0gbm92YWxpZGF0ZT5cclxuICAgICAgICAgIDxoMz5Vc2VyIDE8L2gzPlxyXG4gICAgICAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyMS5uYW1lXCI+XHJcbiAgICAgICAgICBBZ2U6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJ1c2VyMS5hZ2VcIj5cclxuXHJcbiAgICAgICAgICA8aDM+VXNlciAyPC9oMz5cclxuICAgICAgICAgIE5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlcjIubmFtZVwiPlxyXG4gICAgICAgICAgQWdlOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwidXNlcjIuYWdlXCI+XHJcblxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGJyLz5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIkNvbXBhcmVcIiBuZy1jbGljaz1cImNvbXBhcmUoKVwiPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBVc2VyIDE6IDxwcmU+e3t1c2VyMSB8IGpzb259fTwvcHJlPlxyXG4gICAgICAgICAgVXNlciAyOiA8cHJlPnt7dXNlcjIgfCBqc29ufX08L3ByZT5cclxuICAgICAgICAgIEVxdWFsOiA8cHJlPnt7cmVzdWx0fX08L3ByZT5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdlcXVhbHNFeGFtcGxlJywgW10pLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICRzY29wZS51c2VyMSA9IHt9O1xyXG4gICAgICAgICAgJHNjb3BlLnVzZXIyID0ge307XHJcbiAgICAgICAgICAkc2NvcGUucmVzdWx0O1xyXG4gICAgICAgICAgJHNjb3BlLmNvbXBhcmUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnJlc3VsdCA9IGFuZ3VsYXIuZXF1YWxzKCRzY29wZS51c2VyMSwgJHNjb3BlLnVzZXIyKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgPC9maWxlPlxyXG4gIDwvZXhhbXBsZT5cclxuICovXHJcbmZ1bmN0aW9uIGVxdWFscyhvMSwgbzIpIHtcclxuICBpZiAobzEgPT09IG8yKSByZXR1cm4gdHJ1ZTtcclxuICBpZiAobzEgPT09IG51bGwgfHwgbzIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcclxuICBpZiAobzEgIT09IG8xICYmIG8yICE9PSBvMikgcmV0dXJuIHRydWU7IC8vIE5hTiA9PT0gTmFOXHJcbiAgdmFyIHQxID0gdHlwZW9mIG8xLCB0MiA9IHR5cGVvZiBvMiwgbGVuZ3RoLCBrZXksIGtleVNldDtcclxuICBpZiAodDEgPT0gdDIgJiYgdDEgPT0gJ29iamVjdCcpIHtcclxuICAgIGlmIChpc0FycmF5KG8xKSkge1xyXG4gICAgICBpZiAoIWlzQXJyYXkobzIpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmICgobGVuZ3RoID0gbzEubGVuZ3RoKSA9PSBvMi5sZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGtleSA9IDA7IGtleSA8IGxlbmd0aDsga2V5KyspIHtcclxuICAgICAgICAgIGlmICghZXF1YWxzKG8xW2tleV0sIG8yW2tleV0pKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShvMSkpIHtcclxuICAgICAgaWYgKCFpc0RhdGUobzIpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIHJldHVybiBlcXVhbHMobzEuZ2V0VGltZSgpLCBvMi5nZXRUaW1lKCkpO1xyXG4gICAgfSBlbHNlIGlmIChpc1JlZ0V4cChvMSkpIHtcclxuICAgICAgaWYgKCFpc1JlZ0V4cChvMikpIHJldHVybiBmYWxzZTtcclxuICAgICAgcmV0dXJuIG8xLnRvU3RyaW5nKCkgPT0gbzIudG9TdHJpbmcoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChpc1Njb3BlKG8xKSB8fCBpc1Njb3BlKG8yKSB8fCBpc1dpbmRvdyhvMSkgfHwgaXNXaW5kb3cobzIpIHx8XHJcbiAgICAgICAgaXNBcnJheShvMikgfHwgaXNEYXRlKG8yKSB8fCBpc1JlZ0V4cChvMikpIHJldHVybiBmYWxzZTtcclxuICAgICAga2V5U2V0ID0gY3JlYXRlTWFwKCk7XHJcbiAgICAgIGZvciAoa2V5IGluIG8xKSB7XHJcbiAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICckJyB8fCBpc0Z1bmN0aW9uKG8xW2tleV0pKSBjb250aW51ZTtcclxuICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGtleVNldFtrZXldID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBmb3IgKGtleSBpbiBvMikge1xyXG4gICAgICAgIGlmICghKGtleSBpbiBrZXlTZXQpICYmXHJcbiAgICAgICAgICAgIGtleS5jaGFyQXQoMCkgIT09ICckJyAmJlxyXG4gICAgICAgICAgICBpc0RlZmluZWQobzJba2V5XSkgJiZcclxuICAgICAgICAgICAgIWlzRnVuY3Rpb24obzJba2V5XSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG52YXIgY3NwID0gZnVuY3Rpb24oKSB7XHJcbiAgaWYgKCFpc0RlZmluZWQoY3NwLnJ1bGVzKSkge1xyXG5cclxuXHJcbiAgICB2YXIgbmdDc3BFbGVtZW50ID0gKHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmctY3NwXScpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5nLWNzcF0nKSk7XHJcblxyXG4gICAgaWYgKG5nQ3NwRWxlbWVudCkge1xyXG4gICAgICB2YXIgbmdDc3BBdHRyaWJ1dGUgPSBuZ0NzcEVsZW1lbnQuZ2V0QXR0cmlidXRlKCduZy1jc3AnKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIG5nQ3NwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmctY3NwJyk7XHJcbiAgICAgIGNzcC5ydWxlcyA9IHtcclxuICAgICAgICBub1Vuc2FmZUV2YWw6ICFuZ0NzcEF0dHJpYnV0ZSB8fCAobmdDc3BBdHRyaWJ1dGUuaW5kZXhPZignbm8tdW5zYWZlLWV2YWwnKSAhPT0gLTEpLFxyXG4gICAgICAgIG5vSW5saW5lU3R5bGU6ICFuZ0NzcEF0dHJpYnV0ZSB8fCAobmdDc3BBdHRyaWJ1dGUuaW5kZXhPZignbm8taW5saW5lLXN0eWxlJykgIT09IC0xKVxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3NwLnJ1bGVzID0ge1xyXG4gICAgICAgIG5vVW5zYWZlRXZhbDogbm9VbnNhZmVFdmFsKCksXHJcbiAgICAgICAgbm9JbmxpbmVTdHlsZTogZmFsc2VcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBjc3AucnVsZXM7XHJcblxyXG4gIGZ1bmN0aW9uIG5vVW5zYWZlRXZhbCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8qIGpzaGludCAtVzAzMSwgLVcwNTQgKi9cclxuICAgICAgbmV3IEZ1bmN0aW9uKCcnKTtcclxuICAgICAgLyoganNoaW50ICtXMDMxLCArVzA1NCAqL1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQG5hbWUgbmdKcVxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0pxIHRoZSBuYW1lIG9mIHRoZSBsaWJyYXJ5IGF2YWlsYWJsZSB1bmRlciBgd2luZG93YFxyXG4gKiB0byBiZSB1c2VkIGZvciBhbmd1bGFyLmVsZW1lbnRcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFVzZSB0aGlzIGRpcmVjdGl2ZSB0byBmb3JjZSB0aGUgYW5ndWxhci5lbGVtZW50IGxpYnJhcnkuICBUaGlzIHNob3VsZCBiZVxyXG4gKiB1c2VkIHRvIGZvcmNlIGVpdGhlciBqcUxpdGUgYnkgbGVhdmluZyBuZy1qcSBibGFuayBvciBzZXR0aW5nIHRoZSBuYW1lIG9mXHJcbiAqIHRoZSBqcXVlcnkgdmFyaWFibGUgdW5kZXIgd2luZG93IChlZy4galF1ZXJ5KS5cclxuICpcclxuICogU2luY2UgYW5ndWxhciBsb29rcyBmb3IgdGhpcyBkaXJlY3RpdmUgd2hlbiBpdCBpcyBsb2FkZWQgKGRvZXNuJ3Qgd2FpdCBmb3IgdGhlXHJcbiAqIERPTUNvbnRlbnRMb2FkZWQgZXZlbnQpLCBpdCBtdXN0IGJlIHBsYWNlZCBvbiBhbiBlbGVtZW50IHRoYXQgY29tZXMgYmVmb3JlIHRoZSBzY3JpcHRcclxuICogd2hpY2ggbG9hZHMgYW5ndWxhci4gQWxzbywgb25seSB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYG5nLWpxYCB3aWxsIGJlIHVzZWQgYW5kIGFsbFxyXG4gKiBvdGhlcnMgaWdub3JlZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byBmb3JjZSBqcUxpdGUgdXNpbmcgdGhlIGBuZ0pxYCBkaXJlY3RpdmUgdG8gdGhlIGBodG1sYCB0YWcuXHJcbiBgYGBodG1sXHJcbiA8IWRvY3R5cGUgaHRtbD5cclxuIDxodG1sIG5nLWFwcCBuZy1qcT5cclxuIC4uLlxyXG4gLi4uXHJcbiA8L2h0bWw+XHJcbiBgYGBcclxuICogQGV4YW1wbGVcclxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYSBqUXVlcnkgYmFzZWQgbGlicmFyeSBvZiBhIGRpZmZlcmVudCBuYW1lLlxyXG4gKiBUaGUgbGlicmFyeSBuYW1lIG11c3QgYmUgYXZhaWxhYmxlIGF0IHRoZSB0b3AgbW9zdCAnd2luZG93Jy5cclxuIGBgYGh0bWxcclxuIDwhZG9jdHlwZSBodG1sPlxyXG4gPGh0bWwgbmctYXBwIG5nLWpxPVwialF1ZXJ5TGliXCI+XHJcbiAuLi5cclxuIC4uLlxyXG4gPC9odG1sPlxyXG4gYGBgXHJcbiAqL1xyXG52YXIganEgPSBmdW5jdGlvbigpIHtcclxuICBpZiAoaXNEZWZpbmVkKGpxLm5hbWVfKSkgcmV0dXJuIGpxLm5hbWVfO1xyXG4gIHZhciBlbDtcclxuICB2YXIgaSwgaWkgPSBuZ0F0dHJQcmVmaXhlcy5sZW5ndGgsIHByZWZpeCwgbmFtZTtcclxuICBmb3IgKGkgPSAwOyBpIDwgaWk7ICsraSkge1xyXG4gICAgcHJlZml4ID0gbmdBdHRyUHJlZml4ZXNbaV07XHJcbiAgICBpZiAoZWwgPSB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignWycgKyBwcmVmaXgucmVwbGFjZSgnOicsICdcXFxcOicpICsgJ2pxXScpKSB7XHJcbiAgICAgIG5hbWUgPSBlbC5nZXRBdHRyaWJ1dGUocHJlZml4ICsgJ2pxJyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChqcS5uYW1lXyA9IG5hbWUpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gY29uY2F0KGFycmF5MSwgYXJyYXkyLCBpbmRleCkge1xyXG4gIHJldHVybiBhcnJheTEuY29uY2F0KHNsaWNlLmNhbGwoYXJyYXkyLCBpbmRleCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzbGljZUFyZ3MoYXJncywgc3RhcnRJbmRleCkge1xyXG4gIHJldHVybiBzbGljZS5jYWxsKGFyZ3MsIHN0YXJ0SW5kZXggfHwgMCk7XHJcbn1cclxuXHJcblxyXG4vKiBqc2hpbnQgLVcxMDEgKi9cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmJpbmRcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbGxzIGZ1bmN0aW9uIGBmbmAgYm91bmQgdG8gYHNlbGZgIChgc2VsZmAgYmVjb21lcyB0aGUgYHRoaXNgIGZvclxyXG4gKiBgZm5gKS4gWW91IGNhbiBzdXBwbHkgb3B0aW9uYWwgYGFyZ3NgIHRoYXQgYXJlIHByZWJvdW5kIHRvIHRoZSBmdW5jdGlvbi4gVGhpcyBmZWF0dXJlIGlzIGFsc29cclxuICoga25vd24gYXMgW3BhcnRpYWwgYXBwbGljYXRpb25dKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGFydGlhbF9hcHBsaWNhdGlvbiksIGFzXHJcbiAqIGRpc3Rpbmd1aXNoZWQgZnJvbSBbZnVuY3Rpb24gY3VycnlpbmddKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3VycnlpbmcjQ29udHJhc3Rfd2l0aF9wYXJ0aWFsX2Z1bmN0aW9uX2FwcGxpY2F0aW9uKS5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHNlbGYgQ29udGV4dCB3aGljaCBgZm5gIHNob3VsZCBiZSBldmFsdWF0ZWQgaW4uXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gRnVuY3Rpb24gdG8gYmUgYm91bmQuXHJcbiAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBhcmd1bWVudHMgdG8gYmUgcHJlYm91bmQgdG8gdGhlIGBmbmAgZnVuY3Rpb24gY2FsbC5cclxuICogQHJldHVybnMge2Z1bmN0aW9uKCl9IEZ1bmN0aW9uIHRoYXQgd3JhcHMgdGhlIGBmbmAgd2l0aCBhbGwgdGhlIHNwZWNpZmllZCBiaW5kaW5ncy5cclxuICovXHJcbi8qIGpzaGludCArVzEwMSAqL1xyXG5mdW5jdGlvbiBiaW5kKHNlbGYsIGZuKSB7XHJcbiAgdmFyIGN1cnJ5QXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gc2xpY2VBcmdzKGFyZ3VtZW50cywgMikgOiBbXTtcclxuICBpZiAoaXNGdW5jdGlvbihmbikgJiYgIShmbiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcclxuICAgIHJldHVybiBjdXJyeUFyZ3MubGVuZ3RoXHJcbiAgICAgID8gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxyXG4gICAgICAgICAgICA/IGZuLmFwcGx5KHNlbGYsIGNvbmNhdChjdXJyeUFyZ3MsIGFyZ3VtZW50cywgMCkpXHJcbiAgICAgICAgICAgIDogZm4uYXBwbHkoc2VsZiwgY3VycnlBcmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgIDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxyXG4gICAgICAgICAgICA/IGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cylcclxuICAgICAgICAgICAgOiBmbi5jYWxsKHNlbGYpO1xyXG4gICAgICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIGluIElFLCBuYXRpdmUgbWV0aG9kcyBhcmUgbm90IGZ1bmN0aW9ucyBzbyB0aGV5IGNhbm5vdCBiZSBib3VuZCAobm90ZTogdGhleSBkb24ndCBuZWVkIHRvIGJlKVxyXG4gICAgcmV0dXJuIGZuO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHRvSnNvblJlcGxhY2VyKGtleSwgdmFsdWUpIHtcclxuICB2YXIgdmFsID0gdmFsdWU7XHJcblxyXG4gIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBrZXkuY2hhckF0KDApID09PSAnJCcgJiYga2V5LmNoYXJBdCgxKSA9PT0gJyQnKSB7XHJcbiAgICB2YWwgPSB1bmRlZmluZWQ7XHJcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyh2YWx1ZSkpIHtcclxuICAgIHZhbCA9ICckV0lORE9XJztcclxuICB9IGVsc2UgaWYgKHZhbHVlICYmICB3aW5kb3cuZG9jdW1lbnQgPT09IHZhbHVlKSB7XHJcbiAgICB2YWwgPSAnJERPQ1VNRU5UJztcclxuICB9IGVsc2UgaWYgKGlzU2NvcGUodmFsdWUpKSB7XHJcbiAgICB2YWwgPSAnJFNDT1BFJztcclxuICB9XHJcblxyXG4gIHJldHVybiB2YWw7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIudG9Kc29uXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNlcmlhbGl6ZXMgaW5wdXQgaW50byBhIEpTT04tZm9ybWF0dGVkIHN0cmluZy4gUHJvcGVydGllcyB3aXRoIGxlYWRpbmcgJCQgY2hhcmFjdGVycyB3aWxsIGJlXHJcbiAqIHN0cmlwcGVkIHNpbmNlIGFuZ3VsYXIgdXNlcyB0aGlzIG5vdGF0aW9uIGludGVybmFsbHkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fERhdGV8c3RyaW5nfG51bWJlcn0gb2JqIElucHV0IHRvIGJlIHNlcmlhbGl6ZWQgaW50byBKU09OLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW58bnVtYmVyfSBbcHJldHR5PTJdIElmIHNldCB0byB0cnVlLCB0aGUgSlNPTiBvdXRwdXQgd2lsbCBjb250YWluIG5ld2xpbmVzIGFuZCB3aGl0ZXNwYWNlLlxyXG4gKiAgICBJZiBzZXQgdG8gYW4gaW50ZWdlciwgdGhlIEpTT04gb3V0cHV0IHdpbGwgY29udGFpbiB0aGF0IG1hbnkgc3BhY2VzIHBlciBpbmRlbnRhdGlvbi5cclxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IEpTT04taWZpZWQgc3RyaW5nIHJlcHJlc2VudGluZyBgb2JqYC5cclxuICovXHJcbmZ1bmN0aW9uIHRvSnNvbihvYmosIHByZXR0eSkge1xyXG4gIGlmIChpc1VuZGVmaW5lZChvYmopKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIGlmICghaXNOdW1iZXIocHJldHR5KSkge1xyXG4gICAgcHJldHR5ID0gcHJldHR5ID8gMiA6IG51bGw7XHJcbiAgfVxyXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIHRvSnNvblJlcGxhY2VyLCBwcmV0dHkpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmZyb21Kc29uXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERlc2VyaWFsaXplcyBhIEpTT04gc3RyaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30ganNvbiBKU09OIHN0cmluZyB0byBkZXNlcmlhbGl6ZS5cclxuICogQHJldHVybnMge09iamVjdHxBcnJheXxzdHJpbmd8bnVtYmVyfSBEZXNlcmlhbGl6ZWQgSlNPTiBzdHJpbmcuXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tSnNvbihqc29uKSB7XHJcbiAgcmV0dXJuIGlzU3RyaW5nKGpzb24pXHJcbiAgICAgID8gSlNPTi5wYXJzZShqc29uKVxyXG4gICAgICA6IGpzb247XHJcbn1cclxuXHJcblxyXG52YXIgQUxMX0NPTE9OUyA9IC86L2c7XHJcbmZ1bmN0aW9uIHRpbWV6b25lVG9PZmZzZXQodGltZXpvbmUsIGZhbGxiYWNrKSB7XHJcbiAgLy8gSUUvRWRnZSBkbyBub3QgXCJ1bmRlcnN0YW5kXCIgY29sb24gKGA6YCkgaW4gdGltZXpvbmVcclxuICB0aW1lem9uZSA9IHRpbWV6b25lLnJlcGxhY2UoQUxMX0NPTE9OUywgJycpO1xyXG4gIHZhciByZXF1ZXN0ZWRUaW1lem9uZU9mZnNldCA9IERhdGUucGFyc2UoJ0phbiAwMSwgMTk3MCAwMDowMDowMCAnICsgdGltZXpvbmUpIC8gNjAwMDA7XHJcbiAgcmV0dXJuIGlzTmFOKHJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0KSA/IGZhbGxiYWNrIDogcmVxdWVzdGVkVGltZXpvbmVPZmZzZXQ7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBhZGREYXRlTWludXRlcyhkYXRlLCBtaW51dGVzKSB7XHJcbiAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcclxuICBkYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgKyBtaW51dGVzKTtcclxuICByZXR1cm4gZGF0ZTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNvbnZlcnRUaW1lem9uZVRvTG9jYWwoZGF0ZSwgdGltZXpvbmUsIHJldmVyc2UpIHtcclxuICByZXZlcnNlID0gcmV2ZXJzZSA/IC0xIDogMTtcclxuICB2YXIgZGF0ZVRpbWV6b25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xyXG4gIHZhciB0aW1lem9uZU9mZnNldCA9IHRpbWV6b25lVG9PZmZzZXQodGltZXpvbmUsIGRhdGVUaW1lem9uZU9mZnNldCk7XHJcbiAgcmV0dXJuIGFkZERhdGVNaW51dGVzKGRhdGUsIHJldmVyc2UgKiAodGltZXpvbmVPZmZzZXQgLSBkYXRlVGltZXpvbmVPZmZzZXQpKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGVsZW1lbnQuXHJcbiAqL1xyXG5mdW5jdGlvbiBzdGFydGluZ1RhZyhlbGVtZW50KSB7XHJcbiAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KS5jbG9uZSgpO1xyXG4gIHRyeSB7XHJcbiAgICAvLyB0dXJucyBvdXQgSUUgZG9lcyBub3QgbGV0IHlvdSBzZXQgLmh0bWwoKSBvbiBlbGVtZW50cyB3aGljaFxyXG4gICAgLy8gYXJlIG5vdCBhbGxvd2VkIHRvIGhhdmUgY2hpbGRyZW4uIFNvIHdlIGp1c3QgaWdub3JlIGl0LlxyXG4gICAgZWxlbWVudC5lbXB0eSgpO1xyXG4gIH0gY2F0Y2ggKGUpIHt9XHJcbiAgdmFyIGVsZW1IdG1sID0ganFMaXRlKCc8ZGl2PicpLmFwcGVuZChlbGVtZW50KS5odG1sKCk7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBlbGVtZW50WzBdLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCA/IGxvd2VyY2FzZShlbGVtSHRtbCkgOlxyXG4gICAgICAgIGVsZW1IdG1sLlxyXG4gICAgICAgICAgbWF0Y2goL14oPFtePl0rPikvKVsxXS5cclxuICAgICAgICAgIHJlcGxhY2UoL148KFtcXHdcXC1dKykvLCBmdW5jdGlvbihtYXRjaCwgbm9kZU5hbWUpIHtyZXR1cm4gJzwnICsgbG93ZXJjYXNlKG5vZGVOYW1lKTt9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gbG93ZXJjYXNlKGVsZW1IdG1sKTtcclxuICB9XHJcblxyXG59XHJcblxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLyoqXHJcbiAqIFRyaWVzIHRvIGRlY29kZSB0aGUgVVJJIGNvbXBvbmVudCB3aXRob3V0IHRocm93aW5nIGFuIGV4Y2VwdGlvbi5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHN0ciB2YWx1ZSBwb3RlbnRpYWwgVVJJIGNvbXBvbmVudCB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBjYW4gYmUgZGVjb2RlZFxyXG4gKiB3aXRoIHRoZSBkZWNvZGVVUklDb21wb25lbnQgZnVuY3Rpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiB0cnlEZWNvZGVVUklDb21wb25lbnQodmFsdWUpIHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgLy8gSWdub3JlIGFueSBpbnZhbGlkIHVyaSBjb21wb25lbnRcclxuICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogUGFyc2VzIGFuIGVzY2FwZWQgdXJsIHF1ZXJ5IHN0cmluZyBpbnRvIGtleS12YWx1ZSBwYWlycy5cclxuICogQHJldHVybnMge09iamVjdC48c3RyaW5nLGJvb2xlYW58QXJyYXk+fVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VLZXlWYWx1ZSgvKipzdHJpbmcqL2tleVZhbHVlKSB7XHJcbiAgdmFyIG9iaiA9IHt9O1xyXG4gIGZvckVhY2goKGtleVZhbHVlIHx8IFwiXCIpLnNwbGl0KCcmJyksIGZ1bmN0aW9uKGtleVZhbHVlKSB7XHJcbiAgICB2YXIgc3BsaXRQb2ludCwga2V5LCB2YWw7XHJcbiAgICBpZiAoa2V5VmFsdWUpIHtcclxuICAgICAga2V5ID0ga2V5VmFsdWUgPSBrZXlWYWx1ZS5yZXBsYWNlKC9cXCsvZywnJTIwJyk7XHJcbiAgICAgIHNwbGl0UG9pbnQgPSBrZXlWYWx1ZS5pbmRleE9mKCc9Jyk7XHJcbiAgICAgIGlmIChzcGxpdFBvaW50ICE9PSAtMSkge1xyXG4gICAgICAgIGtleSA9IGtleVZhbHVlLnN1YnN0cmluZygwLCBzcGxpdFBvaW50KTtcclxuICAgICAgICB2YWwgPSBrZXlWYWx1ZS5zdWJzdHJpbmcoc3BsaXRQb2ludCArIDEpO1xyXG4gICAgICB9XHJcbiAgICAgIGtleSA9IHRyeURlY29kZVVSSUNvbXBvbmVudChrZXkpO1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKGtleSkpIHtcclxuICAgICAgICB2YWwgPSBpc0RlZmluZWQodmFsKSA/IHRyeURlY29kZVVSSUNvbXBvbmVudCh2YWwpIDogdHJ1ZTtcclxuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgICBvYmpba2V5XSA9IHZhbDtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tleV0pKSB7XHJcbiAgICAgICAgICBvYmpba2V5XS5wdXNoKHZhbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9ialtrZXldID0gW29ialtrZXldLHZhbF07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9LZXlWYWx1ZShvYmopIHtcclxuICB2YXIgcGFydHMgPSBbXTtcclxuICBmb3JFYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKGFycmF5VmFsdWUpIHtcclxuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwgdHJ1ZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgKGFycmF5VmFsdWUgPT09IHRydWUgPyAnJyA6ICc9JyArIGVuY29kZVVyaVF1ZXJ5KGFycmF5VmFsdWUsIHRydWUpKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5LCB0cnVlKSArXHJcbiAgICAgICAgICAgICAgICh2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogJz0nICsgZW5jb2RlVXJpUXVlcnkodmFsdWUsIHRydWUpKSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHBhcnRzLmxlbmd0aCA/IHBhcnRzLmpvaW4oJyYnKSA6ICcnO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFdlIG5lZWQgb3VyIGN1c3RvbSBtZXRob2QgYmVjYXVzZSBlbmNvZGVVUklDb21wb25lbnQgaXMgdG9vIGFnZ3Jlc3NpdmUgYW5kIGRvZXNuJ3QgZm9sbG93XHJcbiAqIGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODYudHh0IHdpdGggcmVnYXJkcyB0byB0aGUgY2hhcmFjdGVyIHNldCAocGNoYXIpIGFsbG93ZWQgaW4gcGF0aFxyXG4gKiBzZWdtZW50czpcclxuICogICAgc2VnbWVudCAgICAgICA9ICpwY2hhclxyXG4gKiAgICBwY2hhciAgICAgICAgID0gdW5yZXNlcnZlZCAvIHBjdC1lbmNvZGVkIC8gc3ViLWRlbGltcyAvIFwiOlwiIC8gXCJAXCJcclxuICogICAgcGN0LWVuY29kZWQgICA9IFwiJVwiIEhFWERJRyBIRVhESUdcclxuICogICAgdW5yZXNlcnZlZCAgICA9IEFMUEhBIC8gRElHSVQgLyBcIi1cIiAvIFwiLlwiIC8gXCJfXCIgLyBcIn5cIlxyXG4gKiAgICBzdWItZGVsaW1zICAgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiXHJcbiAqICAgICAgICAgICAgICAgICAgICAgLyBcIipcIiAvIFwiK1wiIC8gXCIsXCIgLyBcIjtcIiAvIFwiPVwiXHJcbiAqL1xyXG5mdW5jdGlvbiBlbmNvZGVVcmlTZWdtZW50KHZhbCkge1xyXG4gIHJldHVybiBlbmNvZGVVcmlRdWVyeSh2YWwsIHRydWUpLlxyXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTI2L2dpLCAnJicpLlxyXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTNEL2dpLCAnPScpLlxyXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTJCL2dpLCAnKycpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFRoaXMgbWV0aG9kIGlzIGludGVuZGVkIGZvciBlbmNvZGluZyAqa2V5KiBvciAqdmFsdWUqIHBhcnRzIG9mIHF1ZXJ5IGNvbXBvbmVudC4gV2UgbmVlZCBhIGN1c3RvbVxyXG4gKiBtZXRob2QgYmVjYXVzZSBlbmNvZGVVUklDb21wb25lbnQgaXMgdG9vIGFnZ3Jlc3NpdmUgYW5kIGVuY29kZXMgc3R1ZmYgdGhhdCBkb2Vzbid0IGhhdmUgdG8gYmVcclxuICogZW5jb2RlZCBwZXIgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NjpcclxuICogICAgcXVlcnkgICAgICAgPSAqKCBwY2hhciAvIFwiL1wiIC8gXCI/XCIgKVxyXG4gKiAgICBwY2hhciAgICAgICAgID0gdW5yZXNlcnZlZCAvIHBjdC1lbmNvZGVkIC8gc3ViLWRlbGltcyAvIFwiOlwiIC8gXCJAXCJcclxuICogICAgdW5yZXNlcnZlZCAgICA9IEFMUEhBIC8gRElHSVQgLyBcIi1cIiAvIFwiLlwiIC8gXCJfXCIgLyBcIn5cIlxyXG4gKiAgICBwY3QtZW5jb2RlZCAgID0gXCIlXCIgSEVYRElHIEhFWERJR1xyXG4gKiAgICBzdWItZGVsaW1zICAgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiXHJcbiAqICAgICAgICAgICAgICAgICAgICAgLyBcIipcIiAvIFwiK1wiIC8gXCIsXCIgLyBcIjtcIiAvIFwiPVwiXHJcbiAqL1xyXG5mdW5jdGlvbiBlbmNvZGVVcmlRdWVyeSh2YWwsIHBjdEVuY29kZVNwYWNlcykge1xyXG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxyXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxyXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTNCL2dpLCAnOycpLlxyXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTIwL2csIChwY3RFbmNvZGVTcGFjZXMgPyAnJTIwJyA6ICcrJykpO1xyXG59XHJcblxyXG52YXIgbmdBdHRyUHJlZml4ZXMgPSBbJ25nLScsICdkYXRhLW5nLScsICduZzonLCAneC1uZy0nXTtcclxuXHJcbmZ1bmN0aW9uIGdldE5nQXR0cmlidXRlKGVsZW1lbnQsIG5nQXR0cikge1xyXG4gIHZhciBhdHRyLCBpLCBpaSA9IG5nQXR0clByZWZpeGVzLmxlbmd0aDtcclxuICBmb3IgKGkgPSAwOyBpIDwgaWk7ICsraSkge1xyXG4gICAgYXR0ciA9IG5nQXR0clByZWZpeGVzW2ldICsgbmdBdHRyO1xyXG4gICAgaWYgKGlzU3RyaW5nKGF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyKSkpIHtcclxuICAgICAgcmV0dXJuIGF0dHI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0FwcFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2FuZ3VsYXIuTW9kdWxlfSBuZ0FwcCBhbiBvcHRpb25hbCBhcHBsaWNhdGlvblxyXG4gKiAgIHtAbGluayBhbmd1bGFyLm1vZHVsZSBtb2R1bGV9IG5hbWUgdG8gbG9hZC5cclxuICogQHBhcmFtIHtib29sZWFuPX0gbmdTdHJpY3REaSBpZiB0aGlzIGF0dHJpYnV0ZSBpcyBwcmVzZW50IG9uIHRoZSBhcHAgZWxlbWVudCwgdGhlIGluamVjdG9yIHdpbGwgYmVcclxuICogICBjcmVhdGVkIGluIFwic3RyaWN0LWRpXCIgbW9kZS4gVGhpcyBtZWFucyB0aGF0IHRoZSBhcHBsaWNhdGlvbiB3aWxsIGZhaWwgdG8gaW52b2tlIGZ1bmN0aW9ucyB3aGljaFxyXG4gKiAgIGRvIG5vdCB1c2UgZXhwbGljaXQgZnVuY3Rpb24gYW5ub3RhdGlvbiAoYW5kIGFyZSB0aHVzIHVuc3VpdGFibGUgZm9yIG1pbmlmaWNhdGlvbiksIGFzIGRlc2NyaWJlZFxyXG4gKiAgIGluIHtAbGluayBndWlkZS9kaSB0aGUgRGVwZW5kZW5jeSBJbmplY3Rpb24gZ3VpZGV9LCBhbmQgdXNlZnVsIGRlYnVnZ2luZyBpbmZvIHdpbGwgYXNzaXN0IGluXHJcbiAqICAgdHJhY2tpbmcgZG93biB0aGUgcm9vdCBvZiB0aGVzZSBidWdzLlxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogVXNlIHRoaXMgZGlyZWN0aXZlIHRvICoqYXV0by1ib290c3RyYXAqKiBhbiBBbmd1bGFySlMgYXBwbGljYXRpb24uIFRoZSBgbmdBcHBgIGRpcmVjdGl2ZVxyXG4gKiBkZXNpZ25hdGVzIHRoZSAqKnJvb3QgZWxlbWVudCoqIG9mIHRoZSBhcHBsaWNhdGlvbiBhbmQgaXMgdHlwaWNhbGx5IHBsYWNlZCBuZWFyIHRoZSByb290IGVsZW1lbnRcclxuICogb2YgdGhlIHBhZ2UgLSBlLmcuIG9uIHRoZSBgPGJvZHk+YCBvciBgPGh0bWw+YCB0YWdzLlxyXG4gKlxyXG4gKiBUaGVyZSBhcmUgYSBmZXcgdGhpbmdzIHRvIGtlZXAgaW4gbWluZCB3aGVuIHVzaW5nIGBuZ0FwcGA6XHJcbiAqIC0gb25seSBvbmUgQW5ndWxhckpTIGFwcGxpY2F0aW9uIGNhbiBiZSBhdXRvLWJvb3RzdHJhcHBlZCBwZXIgSFRNTCBkb2N1bWVudC4gVGhlIGZpcnN0IGBuZ0FwcGBcclxuICogICBmb3VuZCBpbiB0aGUgZG9jdW1lbnQgd2lsbCBiZSB1c2VkIHRvIGRlZmluZSB0aGUgcm9vdCBlbGVtZW50IHRvIGF1dG8tYm9vdHN0cmFwIGFzIGFuXHJcbiAqICAgYXBwbGljYXRpb24uIFRvIHJ1biBtdWx0aXBsZSBhcHBsaWNhdGlvbnMgaW4gYW4gSFRNTCBkb2N1bWVudCB5b3UgbXVzdCBtYW51YWxseSBib290c3RyYXAgdGhlbSB1c2luZ1xyXG4gKiAgIHtAbGluayBhbmd1bGFyLmJvb3RzdHJhcH0gaW5zdGVhZC5cclxuICogLSBBbmd1bGFySlMgYXBwbGljYXRpb25zIGNhbm5vdCBiZSBuZXN0ZWQgd2l0aGluIGVhY2ggb3RoZXIuXHJcbiAqIC0gRG8gbm90IHVzZSBhIGRpcmVjdGl2ZSB0aGF0IHVzZXMge0BsaW5rIG5nLiRjb21waWxlI3RyYW5zY2x1c2lvbiB0cmFuc2NsdXNpb259IG9uIHRoZSBzYW1lIGVsZW1lbnQgYXMgYG5nQXBwYC5cclxuICogICBUaGlzIGluY2x1ZGVzIGRpcmVjdGl2ZXMgc3VjaCBhcyB7QGxpbmsgbmcubmdJZiBgbmdJZmB9LCB7QGxpbmsgbmcubmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSBhbmRcclxuICogICB7QGxpbmsgbmdSb3V0ZS5uZ1ZpZXcgYG5nVmlld2B9LlxyXG4gKiAgIERvaW5nIHRoaXMgbWlzcGxhY2VzIHRoZSBhcHAge0BsaW5rIG5nLiRyb290RWxlbWVudCBgJHJvb3RFbGVtZW50YH0gYW5kIHRoZSBhcHAncyB7QGxpbmsgYXV0by4kaW5qZWN0b3IgaW5qZWN0b3J9LFxyXG4gKiAgIGNhdXNpbmcgYW5pbWF0aW9ucyB0byBzdG9wIHdvcmtpbmcgYW5kIG1ha2luZyB0aGUgaW5qZWN0b3IgaW5hY2Nlc3NpYmxlIGZyb20gb3V0c2lkZSB0aGUgYXBwLlxyXG4gKlxyXG4gKiBZb3UgY2FuIHNwZWNpZnkgYW4gKipBbmd1bGFySlMgbW9kdWxlKiogdG8gYmUgdXNlZCBhcyB0aGUgcm9vdCBtb2R1bGUgZm9yIHRoZSBhcHBsaWNhdGlvbi4gIFRoaXNcclxuICogbW9kdWxlIHdpbGwgYmUgbG9hZGVkIGludG8gdGhlIHtAbGluayBhdXRvLiRpbmplY3Rvcn0gd2hlbiB0aGUgYXBwbGljYXRpb24gaXMgYm9vdHN0cmFwcGVkLiBJdFxyXG4gKiBzaG91bGQgY29udGFpbiB0aGUgYXBwbGljYXRpb24gY29kZSBuZWVkZWQgb3IgaGF2ZSBkZXBlbmRlbmNpZXMgb24gb3RoZXIgbW9kdWxlcyB0aGF0IHdpbGxcclxuICogY29udGFpbiB0aGUgY29kZS4gU2VlIHtAbGluayBhbmd1bGFyLm1vZHVsZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAqXHJcbiAqIEluIHRoZSBleGFtcGxlIGJlbG93IGlmIHRoZSBgbmdBcHBgIGRpcmVjdGl2ZSB3ZXJlIG5vdCBwbGFjZWQgb24gdGhlIGBodG1sYCBlbGVtZW50IHRoZW4gdGhlXHJcbiAqIGRvY3VtZW50IHdvdWxkIG5vdCBiZSBjb21waWxlZCwgdGhlIGBBcHBDb250cm9sbGVyYCB3b3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGFuZCB0aGUgYHt7IGErYiB9fWBcclxuICogd291bGQgbm90IGJlIHJlc29sdmVkIHRvIGAzYC5cclxuICpcclxuICogYG5nQXBwYCBpcyB0aGUgZWFzaWVzdCwgYW5kIG1vc3QgY29tbW9uIHdheSB0byBib290c3RyYXAgYW4gYXBwbGljYXRpb24uXHJcbiAqXHJcbiA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FwcERlbW9cIj5cclxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgPGRpdiBuZy1jb250cm9sbGVyPVwibmdBcHBEZW1vQ29udHJvbGxlclwiPlxyXG4gICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cclxuICAgPC9kaXY+XHJcbiAgIDwvZmlsZT5cclxuICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICBhbmd1bGFyLm1vZHVsZSgnbmdBcHBEZW1vJywgW10pLmNvbnRyb2xsZXIoJ25nQXBwRGVtb0NvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAkc2NvcGUuYSA9IDE7XHJcbiAgICAgJHNjb3BlLmIgPSAyO1xyXG4gICB9KTtcclxuICAgPC9maWxlPlxyXG4gPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBVc2luZyBgbmdTdHJpY3REaWAsIHlvdSB3b3VsZCBzZWUgc29tZXRoaW5nIGxpa2UgdGhpczpcclxuICpcclxuIDxleGFtcGxlIG5nLWFwcC1pbmNsdWRlZD1cInRydWVcIj5cclxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgPGRpdiBuZy1hcHA9XCJuZ0FwcFN0cmljdERlbW9cIiBuZy1zdHJpY3QtZGk+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHb29kQ29udHJvbGxlcjFcIj5cclxuICAgICAgICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XHJcblxyXG4gICAgICAgICAgIDxwPlRoaXMgcmVuZGVycyBiZWNhdXNlIHRoZSBjb250cm9sbGVyIGRvZXMgbm90IGZhaWwgdG9cclxuICAgICAgICAgICAgICBpbnN0YW50aWF0ZSwgYnkgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBzdHlsZSAoc2VlXHJcbiAgICAgICAgICAgICAgc2NyaXB0LmpzIGZvciBkZXRhaWxzKVxyXG4gICAgICAgICAgIDwvcD5cclxuICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkdvb2RDb250cm9sbGVyMlwiPlxyXG4gICAgICAgICAgIE5hbWU6IDxpbnB1dCBuZy1tb2RlbD1cIm5hbWVcIj48YnIgLz5cclxuICAgICAgICAgICBIZWxsbywge3tuYW1lfX0hXHJcblxyXG4gICAgICAgICAgIDxwPlRoaXMgcmVuZGVycyBiZWNhdXNlIHRoZSBjb250cm9sbGVyIGRvZXMgbm90IGZhaWwgdG9cclxuICAgICAgICAgICAgICBpbnN0YW50aWF0ZSwgYnkgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBzdHlsZVxyXG4gICAgICAgICAgICAgIChzZWUgc2NyaXB0LmpzIGZvciBkZXRhaWxzKVxyXG4gICAgICAgICAgIDwvcD5cclxuICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkJhZENvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XHJcblxyXG4gICAgICAgICAgIDxwPlRoZSBjb250cm9sbGVyIGNvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQsIGR1ZSB0byByZWx5aW5nXHJcbiAgICAgICAgICAgICAgb24gYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb25zICh3aGljaCBhcmUgZGlzYWJsZWQgaW5cclxuICAgICAgICAgICAgICBzdHJpY3QgbW9kZSkuIEFzIHN1Y2gsIHRoZSBjb250ZW50IG9mIHRoaXMgc2VjdGlvbiBpcyBub3RcclxuICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWQsIGFuZCB0aGVyZSBzaG91bGQgYmUgYW4gZXJyb3IgaW4geW91ciB3ZWIgY29uc29sZS5cclxuICAgICAgICAgICA8L3A+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgPC9kaXY+XHJcbiAgIDwvZmlsZT5cclxuICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICBhbmd1bGFyLm1vZHVsZSgnbmdBcHBTdHJpY3REZW1vJywgW10pXHJcbiAgICAgLy8gQmFkQ29udHJvbGxlciB3aWxsIGZhaWwgdG8gaW5zdGFudGlhdGUsIGR1ZSB0byByZWx5aW5nIG9uIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9uLFxyXG4gICAgIC8vIHJhdGhlciB0aGFuIGFuIGV4cGxpY2l0IGFubm90YXRpb25cclxuICAgICAuY29udHJvbGxlcignQmFkQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgJHNjb3BlLmEgPSAxO1xyXG4gICAgICAgJHNjb3BlLmIgPSAyO1xyXG4gICAgIH0pXHJcbiAgICAgLy8gVW5saWtlIEJhZENvbnRyb2xsZXIsIEdvb2RDb250cm9sbGVyMSBhbmQgR29vZENvbnRyb2xsZXIyIHdpbGwgbm90IGZhaWwgdG8gYmUgaW5zdGFudGlhdGVkLFxyXG4gICAgIC8vIGR1ZSB0byB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9ucyB1c2luZyB0aGUgYXJyYXkgc3R5bGUgYW5kICRpbmplY3QgcHJvcGVydHksIHJlc3BlY3RpdmVseS5cclxuICAgICAuY29udHJvbGxlcignR29vZENvbnRyb2xsZXIxJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICRzY29wZS5hID0gMTtcclxuICAgICAgICRzY29wZS5iID0gMjtcclxuICAgICB9XSlcclxuICAgICAuY29udHJvbGxlcignR29vZENvbnRyb2xsZXIyJywgR29vZENvbnRyb2xsZXIyKTtcclxuICAgICBmdW5jdGlvbiBHb29kQ29udHJvbGxlcjIoJHNjb3BlKSB7XHJcbiAgICAgICAkc2NvcGUubmFtZSA9IFwiV29ybGRcIjtcclxuICAgICB9XHJcbiAgICAgR29vZENvbnRyb2xsZXIyLiRpbmplY3QgPSBbJyRzY29wZSddO1xyXG4gICA8L2ZpbGU+XHJcbiAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgZGl2W25nLWNvbnRyb2xsZXJdIHtcclxuICAgICAgIG1hcmdpbi1ib3R0b206IDFlbTtcclxuICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgYm9yZGVyOiAxcHggc29saWQ7XHJcbiAgICAgICBwYWRkaW5nOiAuNWVtO1xyXG4gICB9XHJcbiAgIGRpdltuZy1jb250cm9sbGVyXj1Hb29kXSB7XHJcbiAgICAgICBib3JkZXItY29sb3I6ICNkNmU5YzY7XHJcbiAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGZmMGQ4O1xyXG4gICAgICAgY29sb3I6ICMzYzc2M2Q7XHJcbiAgIH1cclxuICAgZGl2W25nLWNvbnRyb2xsZXJePUJhZF0ge1xyXG4gICAgICAgYm9yZGVyLWNvbG9yOiAjZWJjY2QxO1xyXG4gICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZGVkZTtcclxuICAgICAgIGNvbG9yOiAjYTk0NDQyO1xyXG4gICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgfVxyXG4gICA8L2ZpbGU+XHJcbiA8L2V4YW1wbGU+XHJcbiAqL1xyXG5mdW5jdGlvbiBhbmd1bGFySW5pdChlbGVtZW50LCBib290c3RyYXApIHtcclxuICB2YXIgYXBwRWxlbWVudCxcclxuICAgICAgbW9kdWxlLFxyXG4gICAgICBjb25maWcgPSB7fTtcclxuXHJcbiAgLy8gVGhlIGVsZW1lbnQgYGVsZW1lbnRgIGhhcyBwcmlvcml0eSBvdmVyIGFueSBvdGhlciBlbGVtZW50XHJcbiAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24ocHJlZml4KSB7XHJcbiAgICB2YXIgbmFtZSA9IHByZWZpeCArICdhcHAnO1xyXG5cclxuICAgIGlmICghYXBwRWxlbWVudCAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShuYW1lKSkge1xyXG4gICAgICBhcHBFbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgbW9kdWxlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24ocHJlZml4KSB7XHJcbiAgICB2YXIgbmFtZSA9IHByZWZpeCArICdhcHAnO1xyXG4gICAgdmFyIGNhbmRpZGF0ZTtcclxuXHJcbiAgICBpZiAoIWFwcEVsZW1lbnQgJiYgKGNhbmRpZGF0ZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignWycgKyBuYW1lLnJlcGxhY2UoJzonLCAnXFxcXDonKSArICddJykpKSB7XHJcbiAgICAgIGFwcEVsZW1lbnQgPSBjYW5kaWRhdGU7XHJcbiAgICAgIG1vZHVsZSA9IGNhbmRpZGF0ZS5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgaWYgKGFwcEVsZW1lbnQpIHtcclxuICAgIGNvbmZpZy5zdHJpY3REaSA9IGdldE5nQXR0cmlidXRlKGFwcEVsZW1lbnQsIFwic3RyaWN0LWRpXCIpICE9PSBudWxsO1xyXG4gICAgYm9vdHN0cmFwKGFwcEVsZW1lbnQsIG1vZHVsZSA/IFttb2R1bGVdIDogW10sIGNvbmZpZyk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuYm9vdHN0cmFwXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIG1hbnVhbGx5IHN0YXJ0IHVwIGFuZ3VsYXIgYXBwbGljYXRpb24uXHJcbiAqXHJcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIHtAbGluayBndWlkZS9ib290c3RyYXAgQm9vdHN0cmFwIGd1aWRlfS5cclxuICpcclxuICogQW5ndWxhciB3aWxsIGRldGVjdCBpZiBpdCBoYXMgYmVlbiBsb2FkZWQgaW50byB0aGUgYnJvd3NlciBtb3JlIHRoYW4gb25jZSBhbmQgb25seSBhbGxvdyB0aGVcclxuICogZmlyc3QgbG9hZGVkIHNjcmlwdCB0byBiZSBib290c3RyYXBwZWQgYW5kIHdpbGwgcmVwb3J0IGEgd2FybmluZyB0byB0aGUgYnJvd3NlciBjb25zb2xlIGZvclxyXG4gKiBlYWNoIG9mIHRoZSBzdWJzZXF1ZW50IHNjcmlwdHMuIFRoaXMgcHJldmVudHMgc3RyYW5nZSByZXN1bHRzIGluIGFwcGxpY2F0aW9ucywgd2hlcmUgb3RoZXJ3aXNlXHJcbiAqIG11bHRpcGxlIGluc3RhbmNlcyBvZiBBbmd1bGFyIHRyeSB0byB3b3JrIG9uIHRoZSBET00uXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZToqKiBQcm90cmFjdG9yIGJhc2VkIGVuZC10by1lbmQgdGVzdHMgY2Fubm90IHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGJvb3RzdHJhcCBtYW51YWxseS5cclxuICogVGhleSBtdXN0IHVzZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQXBwIG5nQXBwfS5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZToqKiBEbyBub3QgYm9vdHN0cmFwIHRoZSBhcHAgb24gYW4gZWxlbWVudCB3aXRoIGEgZGlyZWN0aXZlIHRoYXQgdXNlcyB7QGxpbmsgbmcuJGNvbXBpbGUjdHJhbnNjbHVzaW9uIHRyYW5zY2x1c2lvbn0sXHJcbiAqIHN1Y2ggYXMge0BsaW5rIG5nLm5nSWYgYG5nSWZgfSwge0BsaW5rIG5nLm5nSW5jbHVkZSBgbmdJbmNsdWRlYH0gYW5kIHtAbGluayBuZ1JvdXRlLm5nVmlldyBgbmdWaWV3YH0uXHJcbiAqIERvaW5nIHRoaXMgbWlzcGxhY2VzIHRoZSBhcHAge0BsaW5rIG5nLiRyb290RWxlbWVudCBgJHJvb3RFbGVtZW50YH0gYW5kIHRoZSBhcHAncyB7QGxpbmsgYXV0by4kaW5qZWN0b3IgaW5qZWN0b3J9LFxyXG4gKiBjYXVzaW5nIGFuaW1hdGlvbnMgdG8gc3RvcCB3b3JraW5nIGFuZCBtYWtpbmcgdGhlIGluamVjdG9yIGluYWNjZXNzaWJsZSBmcm9tIG91dHNpZGUgdGhlIGFwcC5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIGBgYGh0bWxcclxuICogPCFkb2N0eXBlIGh0bWw+XHJcbiAqIDxodG1sPlxyXG4gKiA8Ym9keT5cclxuICogPGRpdiBuZy1jb250cm9sbGVyPVwiV2VsY29tZUNvbnRyb2xsZXJcIj5cclxuICogICB7e2dyZWV0aW5nfX1cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIDxzY3JpcHQgc3JjPVwiYW5ndWxhci5qc1wiPjwvc2NyaXB0PlxyXG4gKiA8c2NyaXB0PlxyXG4gKiAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnZGVtbycsIFtdKVxyXG4gKiAgIC5jb250cm9sbGVyKCdXZWxjb21lQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gKiAgICAgICAkc2NvcGUuZ3JlZXRpbmcgPSAnV2VsY29tZSEnO1xyXG4gKiAgIH0pO1xyXG4gKiAgIGFuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LCBbJ2RlbW8nXSk7XHJcbiAqIDwvc2NyaXB0PlxyXG4gKiA8L2JvZHk+XHJcbiAqIDwvaHRtbD5cclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCBET00gZWxlbWVudCB3aGljaCBpcyB0aGUgcm9vdCBvZiBhbmd1bGFyIGFwcGxpY2F0aW9uLlxyXG4gKiBAcGFyYW0ge0FycmF5PFN0cmluZ3xGdW5jdGlvbnxBcnJheT49fSBtb2R1bGVzIGFuIGFycmF5IG9mIG1vZHVsZXMgdG8gbG9hZCBpbnRvIHRoZSBhcHBsaWNhdGlvbi5cclxuICogICAgIEVhY2ggaXRlbSBpbiB0aGUgYXJyYXkgc2hvdWxkIGJlIHRoZSBuYW1lIG9mIGEgcHJlZGVmaW5lZCBtb2R1bGUgb3IgYSAoREkgYW5ub3RhdGVkKVxyXG4gKiAgICAgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgYnkgdGhlIGluamVjdG9yIGFzIGEgYGNvbmZpZ2AgYmxvY2suXHJcbiAqICAgICBTZWU6IHtAbGluayBhbmd1bGFyLm1vZHVsZSBtb2R1bGVzfVxyXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBhbiBvYmplY3QgZm9yIGRlZmluaW5nIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGFwcGxpY2F0aW9uLiBUaGVcclxuICogICAgIGZvbGxvd2luZyBrZXlzIGFyZSBzdXBwb3J0ZWQ6XHJcbiAqXHJcbiAqICogYHN0cmljdERpYCAtIGRpc2FibGUgYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb24gZm9yIHRoZSBhcHBsaWNhdGlvbi4gVGhpcyBpcyBtZWFudCB0b1xyXG4gKiAgIGFzc2lzdCBpbiBmaW5kaW5nIGJ1Z3Mgd2hpY2ggYnJlYWsgbWluaWZpZWQgY29kZS4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cclxuICpcclxuICogQHJldHVybnMge2F1dG8uJGluamVjdG9yfSBSZXR1cm5zIHRoZSBuZXdseSBjcmVhdGVkIGluamVjdG9yIGZvciB0aGlzIGFwcC5cclxuICovXHJcbmZ1bmN0aW9uIGJvb3RzdHJhcChlbGVtZW50LCBtb2R1bGVzLCBjb25maWcpIHtcclxuICBpZiAoIWlzT2JqZWN0KGNvbmZpZykpIGNvbmZpZyA9IHt9O1xyXG4gIHZhciBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgc3RyaWN0RGk6IGZhbHNlXHJcbiAgfTtcclxuICBjb25maWcgPSBleHRlbmQoZGVmYXVsdENvbmZpZywgY29uZmlnKTtcclxuICB2YXIgZG9Cb290c3RyYXAgPSBmdW5jdGlvbigpIHtcclxuICAgIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCk7XHJcblxyXG4gICAgaWYgKGVsZW1lbnQuaW5qZWN0b3IoKSkge1xyXG4gICAgICB2YXIgdGFnID0gKGVsZW1lbnRbMF0gPT09IHdpbmRvdy5kb2N1bWVudCkgPyAnZG9jdW1lbnQnIDogc3RhcnRpbmdUYWcoZWxlbWVudCk7XHJcbiAgICAgIC8vRW5jb2RlIGFuZ2xlIGJyYWNrZXRzIHRvIHByZXZlbnQgaW5wdXQgZnJvbSBiZWluZyBzYW5pdGl6ZWQgdG8gZW1wdHkgc3RyaW5nICM4NjgzXHJcbiAgICAgIHRocm93IG5nTWluRXJyKFxyXG4gICAgICAgICAgJ2J0c3RycGQnLFxyXG4gICAgICAgICAgXCJBcHAgYWxyZWFkeSBib290c3RyYXBwZWQgd2l0aCB0aGlzIGVsZW1lbnQgJ3swfSdcIixcclxuICAgICAgICAgIHRhZy5yZXBsYWNlKC88LywnJmx0OycpLnJlcGxhY2UoLz4vLCcmZ3Q7JykpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZXMgPSBtb2R1bGVzIHx8IFtdO1xyXG4gICAgbW9kdWxlcy51bnNoaWZ0KFsnJHByb3ZpZGUnLCBmdW5jdGlvbigkcHJvdmlkZSkge1xyXG4gICAgICAkcHJvdmlkZS52YWx1ZSgnJHJvb3RFbGVtZW50JywgZWxlbWVudCk7XHJcbiAgICB9XSk7XHJcblxyXG4gICAgaWYgKGNvbmZpZy5kZWJ1Z0luZm9FbmFibGVkKSB7XHJcbiAgICAgIC8vIFB1c2hpbmcgc28gdGhhdCB0aGlzIG92ZXJyaWRlcyBgZGVidWdJbmZvRW5hYmxlZGAgc2V0dGluZyBkZWZpbmVkIGluIHVzZXIncyBgbW9kdWxlc2AuXHJcbiAgICAgIG1vZHVsZXMucHVzaChbJyRjb21waWxlUHJvdmlkZXInLCBmdW5jdGlvbigkY29tcGlsZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKHRydWUpO1xyXG4gICAgICB9XSk7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlcy51bnNoaWZ0KCduZycpO1xyXG4gICAgdmFyIGluamVjdG9yID0gY3JlYXRlSW5qZWN0b3IobW9kdWxlcywgY29uZmlnLnN0cmljdERpKTtcclxuICAgIGluamVjdG9yLmludm9rZShbJyRyb290U2NvcGUnLCAnJHJvb3RFbGVtZW50JywgJyRjb21waWxlJywgJyRpbmplY3RvcicsXHJcbiAgICAgICBmdW5jdGlvbiBib290c3RyYXBBcHBseShzY29wZSwgZWxlbWVudCwgY29tcGlsZSwgaW5qZWN0b3IpIHtcclxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmRhdGEoJyRpbmplY3RvcicsIGluamVjdG9yKTtcclxuICAgICAgICAgIGNvbXBpbGUoZWxlbWVudCkoc2NvcGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XVxyXG4gICAgKTtcclxuICAgIHJldHVybiBpbmplY3RvcjtcclxuICB9O1xyXG5cclxuICB2YXIgTkdfRU5BQkxFX0RFQlVHX0lORk8gPSAvXk5HX0VOQUJMRV9ERUJVR19JTkZPIS87XHJcbiAgdmFyIE5HX0RFRkVSX0JPT1RTVFJBUCA9IC9eTkdfREVGRVJfQk9PVFNUUkFQIS87XHJcblxyXG4gIGlmICh3aW5kb3cgJiYgTkdfRU5BQkxFX0RFQlVHX0lORk8udGVzdCh3aW5kb3cubmFtZSkpIHtcclxuICAgIGNvbmZpZy5kZWJ1Z0luZm9FbmFibGVkID0gdHJ1ZTtcclxuICAgIHdpbmRvdy5uYW1lID0gd2luZG93Lm5hbWUucmVwbGFjZShOR19FTkFCTEVfREVCVUdfSU5GTywgJycpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHdpbmRvdyAmJiAhTkdfREVGRVJfQk9PVFNUUkFQLnRlc3Qod2luZG93Lm5hbWUpKSB7XHJcbiAgICByZXR1cm4gZG9Cb290c3RyYXAoKTtcclxuICB9XHJcblxyXG4gIHdpbmRvdy5uYW1lID0gd2luZG93Lm5hbWUucmVwbGFjZShOR19ERUZFUl9CT09UU1RSQVAsICcnKTtcclxuICBhbmd1bGFyLnJlc3VtZUJvb3RzdHJhcCA9IGZ1bmN0aW9uKGV4dHJhTW9kdWxlcykge1xyXG4gICAgZm9yRWFjaChleHRyYU1vZHVsZXMsIGZ1bmN0aW9uKG1vZHVsZSkge1xyXG4gICAgICBtb2R1bGVzLnB1c2gobW9kdWxlKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRvQm9vdHN0cmFwKCk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKGlzRnVuY3Rpb24oYW5ndWxhci5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCkpIHtcclxuICAgIGFuZ3VsYXIucmVzdW1lRGVmZXJyZWRCb290c3RyYXAoKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5yZWxvYWRXaXRoRGVidWdJbmZvXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIHJlbG9hZCB0aGUgY3VycmVudCBhcHBsaWNhdGlvbiB3aXRoIGRlYnVnIGluZm9ybWF0aW9uIHR1cm5lZCBvbi5cclxuICogVGhpcyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYSBjYWxsIHRvIGAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQoZmFsc2UpYC5cclxuICpcclxuICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RlYnVnSW5mb0VuYWJsZWR9IGZvciBtb3JlLlxyXG4gKi9cclxuZnVuY3Rpb24gcmVsb2FkV2l0aERlYnVnSW5mbygpIHtcclxuICB3aW5kb3cubmFtZSA9ICdOR19FTkFCTEVfREVCVUdfSU5GTyEnICsgd2luZG93Lm5hbWU7XHJcbiAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG59XHJcblxyXG4vKipcclxuICogQG5hbWUgYW5ndWxhci5nZXRUZXN0YWJpbGl0eVxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBHZXQgdGhlIHRlc3RhYmlsaXR5IHNlcnZpY2UgZm9yIHRoZSBpbnN0YW5jZSBvZiBBbmd1bGFyIG9uIHRoZSBnaXZlblxyXG4gKiBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgYW5ndWxhciBhcHBsaWNhdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIGdldFRlc3RhYmlsaXR5KHJvb3RFbGVtZW50KSB7XHJcbiAgdmFyIGluamVjdG9yID0gYW5ndWxhci5lbGVtZW50KHJvb3RFbGVtZW50KS5pbmplY3RvcigpO1xyXG4gIGlmICghaW5qZWN0b3IpIHtcclxuICAgIHRocm93IG5nTWluRXJyKCd0ZXN0JyxcclxuICAgICAgJ25vIGluamVjdG9yIGZvdW5kIGZvciBlbGVtZW50IGFyZ3VtZW50IHRvIGdldFRlc3RhYmlsaXR5Jyk7XHJcbiAgfVxyXG4gIHJldHVybiBpbmplY3Rvci5nZXQoJyQkdGVzdGFiaWxpdHknKTtcclxufVxyXG5cclxudmFyIFNOQUtFX0NBU0VfUkVHRVhQID0gL1tBLVpdL2c7XHJcbmZ1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSwgc2VwYXJhdG9yKSB7XHJcbiAgc2VwYXJhdG9yID0gc2VwYXJhdG9yIHx8ICdfJztcclxuICByZXR1cm4gbmFtZS5yZXBsYWNlKFNOQUtFX0NBU0VfUkVHRVhQLCBmdW5jdGlvbihsZXR0ZXIsIHBvcykge1xyXG4gICAgcmV0dXJuIChwb3MgPyBzZXBhcmF0b3IgOiAnJykgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKTtcclxuICB9KTtcclxufVxyXG5cclxudmFyIGJpbmRKUXVlcnlGaXJlZCA9IGZhbHNlO1xyXG5mdW5jdGlvbiBiaW5kSlF1ZXJ5KCkge1xyXG4gIHZhciBvcmlnaW5hbENsZWFuRGF0YTtcclxuXHJcbiAgaWYgKGJpbmRKUXVlcnlGaXJlZCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8gYmluZCB0byBqUXVlcnkgaWYgcHJlc2VudDtcclxuICB2YXIganFOYW1lID0ganEoKTtcclxuICBqUXVlcnkgPSBpc1VuZGVmaW5lZChqcU5hbWUpID8gd2luZG93LmpRdWVyeSA6ICAgLy8gdXNlIGpRdWVyeSAoaWYgcHJlc2VudClcclxuICAgICAgICAgICAhanFOYW1lICAgICAgICAgICAgID8gdW5kZWZpbmVkICAgICA6ICAgLy8gdXNlIGpxTGl0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dbanFOYW1lXTsgICAvLyB1c2UgalF1ZXJ5IHNwZWNpZmllZCBieSBgbmdKcWBcclxuXHJcbiAgLy8gVXNlIGpRdWVyeSBpZiBpdCBleGlzdHMgd2l0aCBwcm9wZXIgZnVuY3Rpb25hbGl0eSwgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gdXMuXHJcbiAgLy8gQW5ndWxhciAxLjIrIHJlcXVpcmVzIGpRdWVyeSAxLjcrIGZvciBvbigpL29mZigpIHN1cHBvcnQuXHJcbiAgLy8gQW5ndWxhciAxLjMrIHRlY2huaWNhbGx5IHJlcXVpcmVzIGF0IGxlYXN0IGpRdWVyeSAyLjErIGJ1dCBpdCBtYXkgd29yayB3aXRoIG9sZGVyXHJcbiAgLy8gdmVyc2lvbnMuIEl0IHdpbGwgbm90IHdvcmsgZm9yIHN1cmUgd2l0aCBqUXVlcnkgPDEuNywgdGhvdWdoLlxyXG4gIGlmIChqUXVlcnkgJiYgalF1ZXJ5LmZuLm9uKSB7XHJcbiAgICBqcUxpdGUgPSBqUXVlcnk7XHJcbiAgICBleHRlbmQoalF1ZXJ5LmZuLCB7XHJcbiAgICAgIHNjb3BlOiBKUUxpdGVQcm90b3R5cGUuc2NvcGUsXHJcbiAgICAgIGlzb2xhdGVTY29wZTogSlFMaXRlUHJvdG90eXBlLmlzb2xhdGVTY29wZSxcclxuICAgICAgY29udHJvbGxlcjogSlFMaXRlUHJvdG90eXBlLmNvbnRyb2xsZXIsXHJcbiAgICAgIGluamVjdG9yOiBKUUxpdGVQcm90b3R5cGUuaW5qZWN0b3IsXHJcbiAgICAgIGluaGVyaXRlZERhdGE6IEpRTGl0ZVByb3RvdHlwZS5pbmhlcml0ZWREYXRhXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBbGwgbm9kZXMgcmVtb3ZlZCBmcm9tIHRoZSBET00gdmlhIHZhcmlvdXMgalF1ZXJ5IEFQSXMgbGlrZSAucmVtb3ZlKClcclxuICAgIC8vIGFyZSBwYXNzZWQgdGhyb3VnaCBqUXVlcnkuY2xlYW5EYXRhLiBNb25rZXktcGF0Y2ggdGhpcyBtZXRob2QgdG8gZmlyZVxyXG4gICAgLy8gdGhlICRkZXN0cm95IGV2ZW50IG9uIGFsbCByZW1vdmVkIG5vZGVzLlxyXG4gICAgb3JpZ2luYWxDbGVhbkRhdGEgPSBqUXVlcnkuY2xlYW5EYXRhO1xyXG4gICAgalF1ZXJ5LmNsZWFuRGF0YSA9IGZ1bmN0aW9uKGVsZW1zKSB7XHJcbiAgICAgIHZhciBldmVudHM7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBlbGVtOyAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKyspIHtcclxuICAgICAgICBldmVudHMgPSBqUXVlcnkuX2RhdGEoZWxlbSwgXCJldmVudHNcIik7XHJcbiAgICAgICAgaWYgKGV2ZW50cyAmJiBldmVudHMuJGRlc3Ryb3kpIHtcclxuICAgICAgICAgIGpRdWVyeShlbGVtKS50cmlnZ2VySGFuZGxlcignJGRlc3Ryb3knKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgb3JpZ2luYWxDbGVhbkRhdGEoZWxlbXMpO1xyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAganFMaXRlID0gSlFMaXRlO1xyXG4gIH1cclxuXHJcbiAgYW5ndWxhci5lbGVtZW50ID0ganFMaXRlO1xyXG5cclxuICAvLyBQcmV2ZW50IGRvdWJsZS1wcm94eWluZy5cclxuICBiaW5kSlF1ZXJ5RmlyZWQgPSB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogdGhyb3cgZXJyb3IgaWYgdGhlIGFyZ3VtZW50IGlzIGZhbHN5LlxyXG4gKi9cclxuZnVuY3Rpb24gYXNzZXJ0QXJnKGFyZywgbmFtZSwgcmVhc29uKSB7XHJcbiAgaWYgKCFhcmcpIHtcclxuICAgIHRocm93IG5nTWluRXJyKCdhcmVxJywgXCJBcmd1bWVudCAnezB9JyBpcyB7MX1cIiwgKG5hbWUgfHwgJz8nKSwgKHJlYXNvbiB8fCBcInJlcXVpcmVkXCIpKTtcclxuICB9XHJcbiAgcmV0dXJuIGFyZztcclxufVxyXG5cclxuZnVuY3Rpb24gYXNzZXJ0QXJnRm4oYXJnLCBuYW1lLCBhY2NlcHRBcnJheUFubm90YXRpb24pIHtcclxuICBpZiAoYWNjZXB0QXJyYXlBbm5vdGF0aW9uICYmIGlzQXJyYXkoYXJnKSkge1xyXG4gICAgICBhcmcgPSBhcmdbYXJnLmxlbmd0aCAtIDFdO1xyXG4gIH1cclxuXHJcbiAgYXNzZXJ0QXJnKGlzRnVuY3Rpb24oYXJnKSwgbmFtZSwgJ25vdCBhIGZ1bmN0aW9uLCBnb3QgJyArXHJcbiAgICAgIChhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgPyBhcmcuY29uc3RydWN0b3IubmFtZSB8fCAnT2JqZWN0JyA6IHR5cGVvZiBhcmcpKTtcclxuICByZXR1cm4gYXJnO1xyXG59XHJcblxyXG4vKipcclxuICogdGhyb3cgZXJyb3IgaWYgdGhlIG5hbWUgZ2l2ZW4gaXMgaGFzT3duUHJvcGVydHlcclxuICogQHBhcmFtICB7U3RyaW5nfSBuYW1lICAgIHRoZSBuYW1lIHRvIHRlc3RcclxuICogQHBhcmFtICB7U3RyaW5nfSBjb250ZXh0IHRoZSBjb250ZXh0IGluIHdoaWNoIHRoZSBuYW1lIGlzIHVzZWQsIHN1Y2ggYXMgbW9kdWxlIG9yIGRpcmVjdGl2ZVxyXG4gKi9cclxuZnVuY3Rpb24gYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgY29udGV4dCkge1xyXG4gIGlmIChuYW1lID09PSAnaGFzT3duUHJvcGVydHknKSB7XHJcbiAgICB0aHJvdyBuZ01pbkVycignYmFkbmFtZScsIFwiaGFzT3duUHJvcGVydHkgaXMgbm90IGEgdmFsaWQgezB9IG5hbWVcIiwgY29udGV4dCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJuIHRoZSB2YWx1ZSBhY2Nlc3NpYmxlIGZyb20gdGhlIG9iamVjdCBieSBwYXRoLiBBbnkgdW5kZWZpbmVkIHRyYXZlcnNhbHMgYXJlIGlnbm9yZWRcclxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBzdGFydGluZyBvYmplY3RcclxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGggcGF0aCB0byB0cmF2ZXJzZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtiaW5kRm5Ub1Njb3BlPXRydWVdXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHZhbHVlIGFzIGFjY2Vzc2libGUgYnkgcGF0aFxyXG4gKi9cclxuLy9UT0RPKG1pc2tvKTogdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZW1vdmVkXHJcbmZ1bmN0aW9uIGdldHRlcihvYmosIHBhdGgsIGJpbmRGblRvU2NvcGUpIHtcclxuICBpZiAoIXBhdGgpIHJldHVybiBvYmo7XHJcbiAgdmFyIGtleXMgPSBwYXRoLnNwbGl0KCcuJyk7XHJcbiAgdmFyIGtleTtcclxuICB2YXIgbGFzdEluc3RhbmNlID0gb2JqO1xyXG4gIHZhciBsZW4gPSBrZXlzLmxlbmd0aDtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAga2V5ID0ga2V5c1tpXTtcclxuICAgIGlmIChvYmopIHtcclxuICAgICAgb2JqID0gKGxhc3RJbnN0YW5jZSA9IG9iailba2V5XTtcclxuICAgIH1cclxuICB9XHJcbiAgaWYgKCFiaW5kRm5Ub1Njb3BlICYmIGlzRnVuY3Rpb24ob2JqKSkge1xyXG4gICAgcmV0dXJuIGJpbmQobGFzdEluc3RhbmNlLCBvYmopO1xyXG4gIH1cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJuIHRoZSBET00gc2libGluZ3MgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3Qgbm9kZSBpbiB0aGUgZ2l2ZW4gYXJyYXkuXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IGxpa2Ugb2JqZWN0XHJcbiAqIEByZXR1cm5zIHtBcnJheX0gdGhlIGlucHV0dGVkIG9iamVjdCBvciBhIGpxTGl0ZSBjb2xsZWN0aW9uIGNvbnRhaW5pbmcgdGhlIG5vZGVzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRCbG9ja05vZGVzKG5vZGVzKSB7XHJcbiAgLy8gVE9ETyhwZXJmKTogdXBkYXRlIGBub2Rlc2AgaW5zdGVhZCBvZiBjcmVhdGluZyBhIG5ldyBvYmplY3Q/XHJcbiAgdmFyIG5vZGUgPSBub2Rlc1swXTtcclxuICB2YXIgZW5kTm9kZSA9IG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdO1xyXG4gIHZhciBibG9ja05vZGVzO1xyXG5cclxuICBmb3IgKHZhciBpID0gMTsgbm9kZSAhPT0gZW5kTm9kZSAmJiAobm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpOyBpKyspIHtcclxuICAgIGlmIChibG9ja05vZGVzIHx8IG5vZGVzW2ldICE9PSBub2RlKSB7XHJcbiAgICAgIGlmICghYmxvY2tOb2Rlcykge1xyXG4gICAgICAgIGJsb2NrTm9kZXMgPSBqcUxpdGUoc2xpY2UuY2FsbChub2RlcywgMCwgaSkpO1xyXG4gICAgICB9XHJcbiAgICAgIGJsb2NrTm9kZXMucHVzaChub2RlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBibG9ja05vZGVzIHx8IG5vZGVzO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgb2JqZWN0IHdpdGhvdXQgYSBwcm90b3R5cGUuIFRoaXMgb2JqZWN0IGlzIHVzZWZ1bCBmb3IgbG9va3VwIHdpdGhvdXQgaGF2aW5nIHRvXHJcbiAqIGd1YXJkIGFnYWluc3QgcHJvdG90eXBpY2FsbHkgaW5oZXJpdGVkIHByb3BlcnRpZXMgdmlhIGhhc093blByb3BlcnR5LlxyXG4gKlxyXG4gKiBSZWxhdGVkIG1pY3JvLWJlbmNobWFya3M6XHJcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vb2JqZWN0LWNyZWF0ZTJcclxuICogLSBodHRwOi8vanNwZXJmLmNvbS9wcm90by1tYXAtbG9va3VwLzJcclxuICogLSBodHRwOi8vanNwZXJmLmNvbS9mb3ItaW4tdnMtb2JqZWN0LWtleXMyXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVNYXAoKSB7XHJcbiAgcmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbn1cclxuXHJcbnZhciBOT0RFX1RZUEVfRUxFTUVOVCA9IDE7XHJcbnZhciBOT0RFX1RZUEVfQVRUUklCVVRFID0gMjtcclxudmFyIE5PREVfVFlQRV9URVhUID0gMztcclxudmFyIE5PREVfVFlQRV9DT01NRU5UID0gODtcclxudmFyIE5PREVfVFlQRV9ET0NVTUVOVCA9IDk7XHJcbnZhciBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQgPSAxMTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgdHlwZVxyXG4gKiBAbmFtZSBhbmd1bGFyLk1vZHVsZVxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGNvbmZpZ3VyaW5nIGFuZ3VsYXIge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9LlxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdykge1xyXG5cclxuICB2YXIgJGluamVjdG9yTWluRXJyID0gbWluRXJyKCckaW5qZWN0b3InKTtcclxuICB2YXIgbmdNaW5FcnIgPSBtaW5FcnIoJ25nJyk7XHJcblxyXG4gIGZ1bmN0aW9uIGVuc3VyZShvYmosIG5hbWUsIGZhY3RvcnkpIHtcclxuICAgIHJldHVybiBvYmpbbmFtZV0gfHwgKG9ialtuYW1lXSA9IGZhY3RvcnkoKSk7XHJcbiAgfVxyXG5cclxuICB2YXIgYW5ndWxhciA9IGVuc3VyZSh3aW5kb3csICdhbmd1bGFyJywgT2JqZWN0KTtcclxuXHJcbiAgLy8gV2UgbmVlZCB0byBleHBvc2UgYGFuZ3VsYXIuJCRtaW5FcnJgIHRvIG1vZHVsZXMgc3VjaCBhcyBgbmdSZXNvdXJjZWAgdGhhdCByZWZlcmVuY2UgaXQgZHVyaW5nIGJvb3RzdHJhcFxyXG4gIGFuZ3VsYXIuJCRtaW5FcnIgPSBhbmd1bGFyLiQkbWluRXJyIHx8IG1pbkVycjtcclxuXHJcbiAgcmV0dXJuIGVuc3VyZShhbmd1bGFyLCAnbW9kdWxlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAvKiogQHR5cGUge09iamVjdC48c3RyaW5nLCBhbmd1bGFyLk1vZHVsZT59ICovXHJcbiAgICB2YXIgbW9kdWxlcyA9IHt9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICAgKiBAbmFtZSBhbmd1bGFyLm1vZHVsZVxyXG4gICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGBhbmd1bGFyLm1vZHVsZWAgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyXHJcbiAgICAgKiBtb2R1bGVzLlxyXG4gICAgICogQWxsIG1vZHVsZXMgKGFuZ3VsYXIgY29yZSBvciAzcmQgcGFydHkpIHRoYXQgc2hvdWxkIGJlIGF2YWlsYWJsZSB0byBhbiBhcHBsaWNhdGlvbiBtdXN0IGJlXHJcbiAgICAgKiByZWdpc3RlcmVkIHVzaW5nIHRoaXMgbWVjaGFuaXNtLlxyXG4gICAgICpcclxuICAgICAqIFBhc3Npbmcgb25lIGFyZ3VtZW50IHJldHJpZXZlcyBhbiBleGlzdGluZyB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9LFxyXG4gICAgICogd2hlcmVhcyBwYXNzaW5nIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQgY3JlYXRlcyBhIG5ldyB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9XHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqICMgTW9kdWxlXHJcbiAgICAgKlxyXG4gICAgICogQSBtb2R1bGUgaXMgYSBjb2xsZWN0aW9uIG9mIHNlcnZpY2VzLCBkaXJlY3RpdmVzLCBjb250cm9sbGVycywgZmlsdGVycywgYW5kIGNvbmZpZ3VyYXRpb24gaW5mb3JtYXRpb24uXHJcbiAgICAgKiBgYW5ndWxhci5tb2R1bGVgIGlzIHVzZWQgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZVxyXG4gICAgICogdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ215TW9kdWxlJywgW10pO1xyXG4gICAgICpcclxuICAgICAqIC8vIHJlZ2lzdGVyIGEgbmV3IHNlcnZpY2VcclxuICAgICAqIG15TW9kdWxlLnZhbHVlKCdhcHBOYW1lJywgJ015Q29vbEFwcCcpO1xyXG4gICAgICpcclxuICAgICAqIC8vIGNvbmZpZ3VyZSBleGlzdGluZyBzZXJ2aWNlcyBpbnNpZGUgaW5pdGlhbGl6YXRpb24gYmxvY2tzLlxyXG4gICAgICogbXlNb2R1bGUuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkbG9jYXRpb25Qcm92aWRlcikge1xyXG4gICAgICogICAvLyBDb25maWd1cmUgZXhpc3RpbmcgcHJvdmlkZXJzXHJcbiAgICAgKiAgICRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJyEnKTtcclxuICAgICAqIH1dKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFRoZW4geW91IGNhbiBjcmVhdGUgYW4gaW5qZWN0b3IgYW5kIGxvYWQgeW91ciBtb2R1bGVzIGxpa2UgdGhpczpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogdmFyIGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcihbJ25nJywgJ215TW9kdWxlJ10pXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBIb3dldmVyIGl0J3MgbW9yZSBsaWtlbHkgdGhhdCB5b3UnbGwganVzdCB1c2VcclxuICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdBcHAgbmdBcHB9IG9yXHJcbiAgICAgKiB7QGxpbmsgYW5ndWxhci5ib290c3RyYXB9IHRvIHNpbXBsaWZ5IHRoaXMgcHJvY2VzcyBmb3IgeW91LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7IXN0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbW9kdWxlIHRvIGNyZWF0ZSBvciByZXRyaWV2ZS5cclxuICAgICAqIEBwYXJhbSB7IUFycmF5LjxzdHJpbmc+PX0gcmVxdWlyZXMgSWYgc3BlY2lmaWVkIHRoZW4gbmV3IG1vZHVsZSBpcyBiZWluZyBjcmVhdGVkLiBJZlxyXG4gICAgICogICAgICAgIHVuc3BlY2lmaWVkIHRoZW4gdGhlIG1vZHVsZSBpcyBiZWluZyByZXRyaWV2ZWQgZm9yIGZ1cnRoZXIgY29uZmlndXJhdGlvbi5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBjb25maWdGbiBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGUgbW9kdWxlLiBTYW1lIGFzXHJcbiAgICAgKiAgICAgICAge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZyBNb2R1bGUjY29uZmlnKCl9LlxyXG4gICAgICogQHJldHVybnMge2FuZ3VsYXIuTW9kdWxlfSBuZXcgbW9kdWxlIHdpdGggdGhlIHtAbGluayBhbmd1bGFyLk1vZHVsZX0gYXBpLlxyXG4gICAgICovXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gbW9kdWxlKG5hbWUsIHJlcXVpcmVzLCBjb25maWdGbikge1xyXG4gICAgICB2YXIgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkgPSBmdW5jdGlvbihuYW1lLCBjb250ZXh0KSB7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdoYXNPd25Qcm9wZXJ0eScpIHtcclxuICAgICAgICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgJ2hhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lJywgY29udGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ21vZHVsZScpO1xyXG4gICAgICBpZiAocmVxdWlyZXMgJiYgbW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgIG1vZHVsZXNbbmFtZV0gPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBlbnN1cmUobW9kdWxlcywgbmFtZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCFyZXF1aXJlcykge1xyXG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdub21vZCcsIFwiTW9kdWxlICd7MH0nIGlzIG5vdCBhdmFpbGFibGUhIFlvdSBlaXRoZXIgbWlzc3BlbGxlZCBcIiArXHJcbiAgICAgICAgICAgICBcInRoZSBtb2R1bGUgbmFtZSBvciBmb3Jnb3QgdG8gbG9hZCBpdC4gSWYgcmVnaXN0ZXJpbmcgYSBtb2R1bGUgZW5zdXJlIHRoYXQgeW91IFwiICtcclxuICAgICAgICAgICAgIFwic3BlY2lmeSB0aGUgZGVwZW5kZW5jaWVzIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXCIsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEFycmF5LjwqPj59ICovXHJcbiAgICAgICAgdmFyIGludm9rZVF1ZXVlID0gW107XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxGdW5jdGlvbj59ICovXHJcbiAgICAgICAgdmFyIGNvbmZpZ0Jsb2NrcyA9IFtdO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqL1xyXG4gICAgICAgIHZhciBydW5CbG9ja3MgPSBbXTtcclxuXHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IGludm9rZUxhdGVyKCckaW5qZWN0b3InLCAnaW52b2tlJywgJ3B1c2gnLCBjb25maWdCbG9ja3MpO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge2FuZ3VsYXIuTW9kdWxlfSAqL1xyXG4gICAgICAgIHZhciBtb2R1bGVJbnN0YW5jZSA9IHtcclxuICAgICAgICAgIC8vIFByaXZhdGUgc3RhdGVcclxuICAgICAgICAgIF9pbnZva2VRdWV1ZTogaW52b2tlUXVldWUsXHJcbiAgICAgICAgICBfY29uZmlnQmxvY2tzOiBjb25maWdCbG9ja3MsXHJcbiAgICAgICAgICBfcnVuQmxvY2tzOiBydW5CbG9ja3MsXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3JlcXVpcmVzXHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBIb2xkcyB0aGUgbGlzdCBvZiBtb2R1bGVzIHdoaWNoIHRoZSBpbmplY3RvciB3aWxsIGxvYWQgYmVmb3JlIHRoZSBjdXJyZW50IG1vZHVsZSBpc1xyXG4gICAgICAgICAgICogbG9hZGVkLlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICByZXF1aXJlczogcmVxdWlyZXMsXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI25hbWVcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIE5hbWUgb2YgdGhlIG1vZHVsZS5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgbmFtZTogbmFtZSxcclxuXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNwcm92aWRlclxyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlclR5cGUgQ29uc3RydWN0aW9uIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlXHJcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5cclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBwcm92aWRlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckcHJvdmlkZScsICdwcm92aWRlcicpLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZmFjdG9yeVxyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlckZ1bmN0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2UuXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5ICRwcm92aWRlLmZhY3RvcnkoKX0uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGZhY3Rvcnk6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAnZmFjdG9yeScpLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjc2VydmljZVxyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnN0YW50aWF0ZWQuXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlICRwcm92aWRlLnNlcnZpY2UoKX0uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIHNlcnZpY2U6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAnc2VydmljZScpLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjdmFsdWVcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxyXG4gICAgICAgICAgICogQHBhcmFtIHsqfSBvYmplY3QgU2VydmljZSBpbnN0YW5jZSBvYmplY3QuXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSAkcHJvdmlkZS52YWx1ZSgpfS5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgdmFsdWU6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICd2YWx1ZScpLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uc3RhbnRcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGNvbnN0YW50IG5hbWVcclxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IENvbnN0YW50IHZhbHVlLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBCZWNhdXNlIHRoZSBjb25zdGFudHMgYXJlIGZpeGVkLCB0aGV5IGdldCBhcHBsaWVkIGJlZm9yZSBvdGhlciBwcm92aWRlIG1ldGhvZHMuXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjY29uc3RhbnQgJHByb3ZpZGUuY29uc3RhbnQoKX0uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGNvbnN0YW50OiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAnY29uc3RhbnQnLCAndW5zaGlmdCcpLFxyXG5cclxuICAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2RlY29yYXRvclxyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gZGVjb3JhdGUuXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkZWNvckZuIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmVcclxuICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFudGlhdGVkIGFuZCBzaG91bGQgcmV0dXJuIHRoZSBkZWNvcmF0ZWQgc2VydmljZSBpbnN0YW5jZS5cclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2RlY29yYXRvciAkcHJvdmlkZS5kZWNvcmF0b3IoKX0uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGRlY29yYXRvcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckcHJvdmlkZScsICdkZWNvcmF0b3InKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2FuaW1hdGlvblxyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgYW5pbWF0aW9uIG5hbWVcclxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFuaW1hdGlvbkZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGFuXHJcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5cclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqICoqTk9URSoqOiBhbmltYXRpb25zIHRha2UgZWZmZWN0IG9ubHkgaWYgdGhlICoqbmdBbmltYXRlKiogbW9kdWxlIGlzIGxvYWRlZC5cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogRGVmaW5lcyBhbiBhbmltYXRpb24gaG9vayB0aGF0IGNhbiBiZSBsYXRlciB1c2VkIHdpdGhcclxuICAgICAgICAgICAqIHtAbGluayAkYW5pbWF0ZSAkYW5pbWF0ZX0gc2VydmljZSBhbmQgZGlyZWN0aXZlcyB0aGF0IHVzZSB0aGlzIHNlcnZpY2UuXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogYGBganNcclxuICAgICAgICAgICAqIG1vZHVsZS5hbmltYXRpb24oJy5hbmltYXRpb24tbmFtZScsIGZ1bmN0aW9uKCRpbmplY3QxLCAkaW5qZWN0Mikge1xyXG4gICAgICAgICAgICogICByZXR1cm4ge1xyXG4gICAgICAgICAgICogICAgIGV2ZW50TmFtZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUpIHtcclxuICAgICAgICAgICAqICAgICAgIC8vY29kZSB0byBydW4gdGhlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICogICAgICAgLy9vbmNlIGNvbXBsZXRlLCB0aGVuIHJ1biBkb25lKClcclxuICAgICAgICAgICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBjYW5jZWxsYXRpb25GdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgKiAgICAgICAgIC8vY29kZSB0byBjYW5jZWwgdGhlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICogICAgICAgfVxyXG4gICAgICAgICAgICogICAgIH1cclxuICAgICAgICAgICAqICAgfVxyXG4gICAgICAgICAgICogfSlcclxuICAgICAgICAgICAqIGBgYFxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGFuaW1hdGVQcm92aWRlciNyZWdpc3RlciAkYW5pbWF0ZVByb3ZpZGVyLnJlZ2lzdGVyKCl9IGFuZFxyXG4gICAgICAgICAgICoge0BsaW5rIG5nQW5pbWF0ZSBuZ0FuaW1hdGUgbW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgYW5pbWF0aW9uOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRhbmltYXRlUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZpbHRlclxyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRmlsdGVyIG5hbWUgLSB0aGlzIG11c3QgYmUgYSB2YWxpZCBhbmd1bGFyIGV4cHJlc3Npb24gaWRlbnRpZmllclxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmlsdGVyRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgZmlsdGVyLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRmaWx0ZXJQcm92aWRlciNyZWdpc3RlciAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAgICAgICAqICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXHJcbiAgICAgICAgICAgKiBOYW1lcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycywgc3VjaCBhcyBoeXBoZW5zIGFuZCBkb3RzLCBhcmUgbm90IGFsbG93ZWQuIElmIHlvdSB3aXNoIHRvIG5hbWVzcGFjZVxyXG4gICAgICAgICAgICogeW91ciBmaWx0ZXJzLCB0aGVuIHlvdSBjYW4gdXNlIGNhcGl0YWxpemF0aW9uIChgbXlhcHBTdWJzZWN0aW9uRmlsdGVyeGApIG9yIHVuZGVyc2NvcmVzXHJcbiAgICAgICAgICAgKiAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxyXG4gICAgICAgICAgICogPC9kaXY+XHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGZpbHRlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckZmlsdGVyUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbnRyb2xsZXJcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlXHJcbiAgICAgICAgICAgKiAgICBrZXlzIGFyZSB0aGUgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBjb25zdHJ1Y3RvcnMuXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXIgJGNvbnRyb2xsZXJQcm92aWRlci5yZWdpc3RlcigpfS5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgY29udHJvbGxlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29udHJvbGxlclByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNkaXJlY3RpdmVcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBEaXJlY3RpdmUgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBkaXJlY3RpdmVzIHdoZXJlIHRoZVxyXG4gICAgICAgICAgICogICAga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmFjdG9yaWVzLlxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZGlyZWN0aXZlRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2ZcclxuICAgICAgICAgICAqIGRpcmVjdGl2ZXMuXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgJGNvbXBpbGVQcm92aWRlci5kaXJlY3RpdmUoKX0uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGRpcmVjdGl2ZTogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29tcGlsZVByb3ZpZGVyJywgJ2RpcmVjdGl2ZScpLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29tcG9uZW50XHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgaW4gY2FtZWwtY2FzZSAoaS5lLiBteUNvbXAgd2hpY2ggd2lsbCBtYXRjaCBhcyBteS1jb21wKVxyXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0IChhIHNpbXBsaWZpZWRcclxuICAgICAgICAgICAqICAgIHtAbGluayBuZy4kY29tcGlsZSNkaXJlY3RpdmUtZGVmaW5pdGlvbi1vYmplY3QgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0fSlcclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNjb21wb25lbnQgJGNvbXBpbGVQcm92aWRlci5jb21wb25lbnQoKX0uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGNvbXBvbmVudDogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29tcGlsZVByb3ZpZGVyJywgJ2NvbXBvbmVudCcpLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uZmlnXHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25maWdGbiBFeGVjdXRlIHRoaXMgZnVuY3Rpb24gb24gbW9kdWxlIGxvYWQuIFVzZWZ1bCBmb3Igc2VydmljZVxyXG4gICAgICAgICAgICogICAgY29uZmlndXJhdGlvbi5cclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggbmVlZHMgdG8gYmUgcGVyZm9ybWVkIG9uIG1vZHVsZSBsb2FkaW5nLlxyXG4gICAgICAgICAgICogRm9yIG1vcmUgYWJvdXQgaG93IHRvIGNvbmZpZ3VyZSBzZXJ2aWNlcywgc2VlXHJcbiAgICAgICAgICAgKiB7QGxpbmsgcHJvdmlkZXJzI3Byb3ZpZGVyLXJlY2lwZSBQcm92aWRlciBSZWNpcGV9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBjb25maWc6IGNvbmZpZyxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3J1blxyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW5pdGlhbGl6YXRpb25GbiBFeGVjdXRlIHRoaXMgZnVuY3Rpb24gYWZ0ZXIgaW5qZWN0b3IgY3JlYXRpb24uXHJcbiAgICAgICAgICAgKiAgICBVc2VmdWwgZm9yIGFwcGxpY2F0aW9uIGluaXRpYWxpemF0aW9uLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVnaXN0ZXIgd29yayB3aGljaCBzaG91bGQgYmUgcGVyZm9ybWVkIHdoZW4gdGhlIGluamVjdG9yIGlzIGRvbmVcclxuICAgICAgICAgICAqIGxvYWRpbmcgYWxsIG1vZHVsZXMuXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIHJ1bjogZnVuY3Rpb24oYmxvY2spIHtcclxuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoY29uZmlnRm4pIHtcclxuICAgICAgICAgIGNvbmZpZyhjb25maWdGbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm92aWRlclxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZz19IGluc2VydE1ldGhvZFxyXG4gICAgICAgICAqIEByZXR1cm5zIHthbmd1bGFyLk1vZHVsZX1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBpbnZva2VMYXRlcihwcm92aWRlciwgbWV0aG9kLCBpbnNlcnRNZXRob2QsIHF1ZXVlKSB7XHJcbiAgICAgICAgICBpZiAoIXF1ZXVlKSBxdWV1ZSA9IGludm9rZVF1ZXVlO1xyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBxdWV1ZVtpbnNlcnRNZXRob2QgfHwgJ3B1c2gnXShbcHJvdmlkZXIsIG1ldGhvZCwgYXJndW1lbnRzXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVJbnN0YW5jZTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvdmlkZXJcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXHJcbiAgICAgICAgICogQHJldHVybnMge2FuZ3VsYXIuTW9kdWxlfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZShwcm92aWRlciwgbWV0aG9kKSB7XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24ocmVjaXBlTmFtZSwgZmFjdG9yeUZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChmYWN0b3J5RnVuY3Rpb24gJiYgaXNGdW5jdGlvbihmYWN0b3J5RnVuY3Rpb24pKSBmYWN0b3J5RnVuY3Rpb24uJCRtb2R1bGVOYW1lID0gbmFtZTtcclxuICAgICAgICAgICAgaW52b2tlUXVldWUucHVzaChbcHJvdmlkZXIsIG1ldGhvZCwgYXJndW1lbnRzXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVJbnN0YW5jZTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG4vKiBnbG9iYWw6IHRvRGVidWdTdHJpbmc6IHRydWUgKi9cclxuXHJcbmZ1bmN0aW9uIHNlcmlhbGl6ZU9iamVjdChvYmopIHtcclxuICB2YXIgc2VlbiA9IFtdO1xyXG5cclxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCBmdW5jdGlvbihrZXksIHZhbCkge1xyXG4gICAgdmFsID0gdG9Kc29uUmVwbGFjZXIoa2V5LCB2YWwpO1xyXG4gICAgaWYgKGlzT2JqZWN0KHZhbCkpIHtcclxuXHJcbiAgICAgIGlmIChzZWVuLmluZGV4T2YodmFsKSA+PSAwKSByZXR1cm4gJy4uLic7XHJcblxyXG4gICAgICBzZWVuLnB1c2godmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvRGVidWdTdHJpbmcob2JqKSB7XHJcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcclxuICAgIHJldHVybiBvYmoudG9TdHJpbmcoKS5yZXBsYWNlKC8gXFx7W1xcc1xcU10qJC8sICcnKTtcclxuICB9IGVsc2UgaWYgKGlzVW5kZWZpbmVkKG9iaikpIHtcclxuICAgIHJldHVybiAndW5kZWZpbmVkJztcclxuICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogIT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gc2VyaWFsaXplT2JqZWN0KG9iaik7XHJcbiAgfVxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbi8qIGdsb2JhbCBhbmd1bGFyTW9kdWxlOiB0cnVlLFxyXG4gIHZlcnNpb246IHRydWUsXHJcblxyXG4gICRDb21waWxlUHJvdmlkZXIsXHJcblxyXG4gIGh0bWxBbmNob3JEaXJlY3RpdmUsXHJcbiAgaW5wdXREaXJlY3RpdmUsXHJcbiAgaW5wdXREaXJlY3RpdmUsXHJcbiAgZm9ybURpcmVjdGl2ZSxcclxuICBzY3JpcHREaXJlY3RpdmUsXHJcbiAgc2VsZWN0RGlyZWN0aXZlLFxyXG4gIHN0eWxlRGlyZWN0aXZlLFxyXG4gIG9wdGlvbkRpcmVjdGl2ZSxcclxuICBuZ0JpbmREaXJlY3RpdmUsXHJcbiAgbmdCaW5kSHRtbERpcmVjdGl2ZSxcclxuICBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSxcclxuICBuZ0NsYXNzRGlyZWN0aXZlLFxyXG4gIG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxyXG4gIG5nQ2xhc3NPZGREaXJlY3RpdmUsXHJcbiAgbmdDbG9ha0RpcmVjdGl2ZSxcclxuICBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUsXHJcbiAgbmdGb3JtRGlyZWN0aXZlLFxyXG4gIG5nSGlkZURpcmVjdGl2ZSxcclxuICBuZ0lmRGlyZWN0aXZlLFxyXG4gIG5nSW5jbHVkZURpcmVjdGl2ZSxcclxuICBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSxcclxuICBuZ0luaXREaXJlY3RpdmUsXHJcbiAgbmdOb25CaW5kYWJsZURpcmVjdGl2ZSxcclxuICBuZ1BsdXJhbGl6ZURpcmVjdGl2ZSxcclxuICBuZ1JlcGVhdERpcmVjdGl2ZSxcclxuICBuZ1Nob3dEaXJlY3RpdmUsXHJcbiAgbmdTdHlsZURpcmVjdGl2ZSxcclxuICBuZ1N3aXRjaERpcmVjdGl2ZSxcclxuICBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUsXHJcbiAgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxyXG4gIG5nT3B0aW9uc0RpcmVjdGl2ZSxcclxuICBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUsXHJcbiAgbmdNb2RlbERpcmVjdGl2ZSxcclxuICBuZ0xpc3REaXJlY3RpdmUsXHJcbiAgbmdDaGFuZ2VEaXJlY3RpdmUsXHJcbiAgcGF0dGVybkRpcmVjdGl2ZSxcclxuICBwYXR0ZXJuRGlyZWN0aXZlLFxyXG4gIHJlcXVpcmVkRGlyZWN0aXZlLFxyXG4gIHJlcXVpcmVkRGlyZWN0aXZlLFxyXG4gIG1pbmxlbmd0aERpcmVjdGl2ZSxcclxuICBtaW5sZW5ndGhEaXJlY3RpdmUsXHJcbiAgbWF4bGVuZ3RoRGlyZWN0aXZlLFxyXG4gIG1heGxlbmd0aERpcmVjdGl2ZSxcclxuICBuZ1ZhbHVlRGlyZWN0aXZlLFxyXG4gIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlLFxyXG4gIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzLFxyXG4gIG5nRXZlbnREaXJlY3RpdmVzLFxyXG5cclxuICAkQW5jaG9yU2Nyb2xsUHJvdmlkZXIsXHJcbiAgJEFuaW1hdGVQcm92aWRlcixcclxuICAkQ29yZUFuaW1hdGVDc3NQcm92aWRlcixcclxuICAkJENvcmVBbmltYXRlSnNQcm92aWRlcixcclxuICAkJENvcmVBbmltYXRlUXVldWVQcm92aWRlcixcclxuICAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5UHJvdmlkZXIsXHJcbiAgJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIsXHJcbiAgJEJyb3dzZXJQcm92aWRlcixcclxuICAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXHJcbiAgJENvbnRyb2xsZXJQcm92aWRlcixcclxuICAkRGF0ZVByb3ZpZGVyLFxyXG4gICREb2N1bWVudFByb3ZpZGVyLFxyXG4gICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIsXHJcbiAgJEZpbHRlclByb3ZpZGVyLFxyXG4gICQkRm9yY2VSZWZsb3dQcm92aWRlcixcclxuICAkSW50ZXJwb2xhdGVQcm92aWRlcixcclxuICAkSW50ZXJ2YWxQcm92aWRlcixcclxuICAkJEhhc2hNYXBQcm92aWRlcixcclxuICAkSHR0cFByb3ZpZGVyLFxyXG4gICRIdHRwUGFyYW1TZXJpYWxpemVyUHJvdmlkZXIsXHJcbiAgJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlcixcclxuICAkSHR0cEJhY2tlbmRQcm92aWRlcixcclxuICAkeGhyRmFjdG9yeVByb3ZpZGVyLFxyXG4gICRMb2NhdGlvblByb3ZpZGVyLFxyXG4gICRMb2dQcm92aWRlcixcclxuICAkUGFyc2VQcm92aWRlcixcclxuICAkUm9vdFNjb3BlUHJvdmlkZXIsXHJcbiAgJFFQcm92aWRlcixcclxuICAkJFFQcm92aWRlcixcclxuICAkJFNhbml0aXplVXJpUHJvdmlkZXIsXHJcbiAgJFNjZVByb3ZpZGVyLFxyXG4gICRTY2VEZWxlZ2F0ZVByb3ZpZGVyLFxyXG4gICRTbmlmZmVyUHJvdmlkZXIsXHJcbiAgJFRlbXBsYXRlQ2FjaGVQcm92aWRlcixcclxuICAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIsXHJcbiAgJCRUZXN0YWJpbGl0eVByb3ZpZGVyLFxyXG4gICRUaW1lb3V0UHJvdmlkZXIsXHJcbiAgJCRSQUZQcm92aWRlcixcclxuICAkV2luZG93UHJvdmlkZXIsXHJcbiAgJCRqcUxpdGVQcm92aWRlcixcclxuICAkJENvb2tpZVJlYWRlclByb3ZpZGVyXHJcbiovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBvYmplY3RcclxuICogQG5hbWUgYW5ndWxhci52ZXJzaW9uXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IEFuZ3VsYXJKUyB2ZXJzaW9uLlxyXG4gKlxyXG4gKiBUaGlzIG9iamVjdCBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gKlxyXG4gKiAtIGBmdWxsYCDigJMgYHtzdHJpbmd9YCDigJMgRnVsbCB2ZXJzaW9uIHN0cmluZywgc3VjaCBhcyBcIjAuOS4xOFwiLlxyXG4gKiAtIGBtYWpvcmAg4oCTIGB7bnVtYmVyfWAg4oCTIE1ham9yIHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiMFwiLlxyXG4gKiAtIGBtaW5vcmAg4oCTIGB7bnVtYmVyfWAg4oCTIE1pbm9yIHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiOVwiLlxyXG4gKiAtIGBkb3RgIOKAkyBge251bWJlcn1gIOKAkyBEb3QgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIxOFwiLlxyXG4gKiAtIGBjb2RlTmFtZWAg4oCTIGB7c3RyaW5nfWAg4oCTIENvZGUgbmFtZSBvZiB0aGUgcmVsZWFzZSwgc3VjaCBhcyBcImppZ2dsaW5nLWFybWZhdFwiLlxyXG4gKi9cclxudmFyIHZlcnNpb24gPSB7XHJcbiAgZnVsbDogJzEuNS41JywgICAgLy8gYWxsIG9mIHRoZXNlIHBsYWNlaG9sZGVyIHN0cmluZ3Mgd2lsbCBiZSByZXBsYWNlZCBieSBncnVudCdzXHJcbiAgbWFqb3I6IDEsICAgIC8vIHBhY2thZ2UgdGFza1xyXG4gIG1pbm9yOiA1LFxyXG4gIGRvdDogNSxcclxuICBjb2RlTmFtZTogJ21hdGVyaWFsLWNvbnNwaXJhdGlvbidcclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiBwdWJsaXNoRXh0ZXJuYWxBUEkoYW5ndWxhcikge1xyXG4gIGV4dGVuZChhbmd1bGFyLCB7XHJcbiAgICAnYm9vdHN0cmFwJzogYm9vdHN0cmFwLFxyXG4gICAgJ2NvcHknOiBjb3B5LFxyXG4gICAgJ2V4dGVuZCc6IGV4dGVuZCxcclxuICAgICdtZXJnZSc6IG1lcmdlLFxyXG4gICAgJ2VxdWFscyc6IGVxdWFscyxcclxuICAgICdlbGVtZW50JzoganFMaXRlLFxyXG4gICAgJ2ZvckVhY2gnOiBmb3JFYWNoLFxyXG4gICAgJ2luamVjdG9yJzogY3JlYXRlSW5qZWN0b3IsXHJcbiAgICAnbm9vcCc6IG5vb3AsXHJcbiAgICAnYmluZCc6IGJpbmQsXHJcbiAgICAndG9Kc29uJzogdG9Kc29uLFxyXG4gICAgJ2Zyb21Kc29uJzogZnJvbUpzb24sXHJcbiAgICAnaWRlbnRpdHknOiBpZGVudGl0eSxcclxuICAgICdpc1VuZGVmaW5lZCc6IGlzVW5kZWZpbmVkLFxyXG4gICAgJ2lzRGVmaW5lZCc6IGlzRGVmaW5lZCxcclxuICAgICdpc1N0cmluZyc6IGlzU3RyaW5nLFxyXG4gICAgJ2lzRnVuY3Rpb24nOiBpc0Z1bmN0aW9uLFxyXG4gICAgJ2lzT2JqZWN0JzogaXNPYmplY3QsXHJcbiAgICAnaXNOdW1iZXInOiBpc051bWJlcixcclxuICAgICdpc0VsZW1lbnQnOiBpc0VsZW1lbnQsXHJcbiAgICAnaXNBcnJheSc6IGlzQXJyYXksXHJcbiAgICAndmVyc2lvbic6IHZlcnNpb24sXHJcbiAgICAnaXNEYXRlJzogaXNEYXRlLFxyXG4gICAgJ2xvd2VyY2FzZSc6IGxvd2VyY2FzZSxcclxuICAgICd1cHBlcmNhc2UnOiB1cHBlcmNhc2UsXHJcbiAgICAnY2FsbGJhY2tzJzoge2NvdW50ZXI6IDB9LFxyXG4gICAgJ2dldFRlc3RhYmlsaXR5JzogZ2V0VGVzdGFiaWxpdHksXHJcbiAgICAnJCRtaW5FcnInOiBtaW5FcnIsXHJcbiAgICAnJCRjc3AnOiBjc3AsXHJcbiAgICAncmVsb2FkV2l0aERlYnVnSW5mbyc6IHJlbG9hZFdpdGhEZWJ1Z0luZm9cclxuICB9KTtcclxuXHJcbiAgYW5ndWxhck1vZHVsZSA9IHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdyk7XHJcblxyXG4gIGFuZ3VsYXJNb2R1bGUoJ25nJywgWyduZ0xvY2FsZSddLCBbJyRwcm92aWRlJyxcclxuICAgIGZ1bmN0aW9uIG5nTW9kdWxlKCRwcm92aWRlKSB7XHJcbiAgICAgIC8vICQkc2FuaXRpemVVcmlQcm92aWRlciBuZWVkcyB0byBiZSBiZWZvcmUgJGNvbXBpbGVQcm92aWRlciBhcyBpdCBpcyB1c2VkIGJ5IGl0LlxyXG4gICAgICAkcHJvdmlkZS5wcm92aWRlcih7XHJcbiAgICAgICAgJCRzYW5pdGl6ZVVyaTogJCRTYW5pdGl6ZVVyaVByb3ZpZGVyXHJcbiAgICAgIH0pO1xyXG4gICAgICAkcHJvdmlkZS5wcm92aWRlcignJGNvbXBpbGUnLCAkQ29tcGlsZVByb3ZpZGVyKS5cclxuICAgICAgICBkaXJlY3RpdmUoe1xyXG4gICAgICAgICAgICBhOiBodG1sQW5jaG9yRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBpbnB1dDogaW5wdXREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIHRleHRhcmVhOiBpbnB1dERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgZm9ybTogZm9ybURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgc2NyaXB0OiBzY3JpcHREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIHNlbGVjdDogc2VsZWN0RGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBzdHlsZTogc3R5bGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG9wdGlvbjogb3B0aW9uRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0JpbmQ6IG5nQmluZERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdCaW5kSHRtbDogbmdCaW5kSHRtbERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdCaW5kVGVtcGxhdGU6IG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0NsYXNzOiBuZ0NsYXNzRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0NsYXNzRXZlbjogbmdDbGFzc0V2ZW5EaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nQ2xhc3NPZGQ6IG5nQ2xhc3NPZGREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nQ2xvYWs6IG5nQ2xvYWtEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nQ29udHJvbGxlcjogbmdDb250cm9sbGVyRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0Zvcm06IG5nRm9ybURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdIaWRlOiBuZ0hpZGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nSWY6IG5nSWZEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nSW5jbHVkZTogbmdJbmNsdWRlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0luaXQ6IG5nSW5pdERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdOb25CaW5kYWJsZTogbmdOb25CaW5kYWJsZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdQbHVyYWxpemU6IG5nUGx1cmFsaXplRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ1JlcGVhdDogbmdSZXBlYXREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nU2hvdzogbmdTaG93RGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ1N0eWxlOiBuZ1N0eWxlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ1N3aXRjaDogbmdTd2l0Y2hEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nU3dpdGNoV2hlbjogbmdTd2l0Y2hXaGVuRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ1N3aXRjaERlZmF1bHQ6IG5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdPcHRpb25zOiBuZ09wdGlvbnNEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nVHJhbnNjbHVkZTogbmdUcmFuc2NsdWRlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ01vZGVsOiBuZ01vZGVsRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0xpc3Q6IG5nTGlzdERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdDaGFuZ2U6IG5nQ2hhbmdlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBwYXR0ZXJuOiBwYXR0ZXJuRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ1BhdHRlcm46IHBhdHRlcm5EaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdSZXF1aXJlZDogcmVxdWlyZWREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG1pbmxlbmd0aDogbWlubGVuZ3RoRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ01pbmxlbmd0aDogbWlubGVuZ3RoRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBtYXhsZW5ndGg6IG1heGxlbmd0aERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdNYXhsZW5ndGg6IG1heGxlbmd0aERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdWYWx1ZTogbmdWYWx1ZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdNb2RlbE9wdGlvbnM6IG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlXHJcbiAgICAgICAgfSkuXHJcbiAgICAgICAgZGlyZWN0aXZlKHtcclxuICAgICAgICAgIG5nSW5jbHVkZTogbmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmVcclxuICAgICAgICB9KS5cclxuICAgICAgICBkaXJlY3RpdmUobmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMpLlxyXG4gICAgICAgIGRpcmVjdGl2ZShuZ0V2ZW50RGlyZWN0aXZlcyk7XHJcbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKHtcclxuICAgICAgICAkYW5jaG9yU2Nyb2xsOiAkQW5jaG9yU2Nyb2xsUHJvdmlkZXIsXHJcbiAgICAgICAgJGFuaW1hdGU6ICRBbmltYXRlUHJvdmlkZXIsXHJcbiAgICAgICAgJGFuaW1hdGVDc3M6ICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyLFxyXG4gICAgICAgICQkYW5pbWF0ZUpzOiAkJENvcmVBbmltYXRlSnNQcm92aWRlcixcclxuICAgICAgICAkJGFuaW1hdGVRdWV1ZTogJCRDb3JlQW5pbWF0ZVF1ZXVlUHJvdmlkZXIsXHJcbiAgICAgICAgJCRBbmltYXRlUnVubmVyOiAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5UHJvdmlkZXIsXHJcbiAgICAgICAgJCRhbmltYXRlQXN5bmNSdW46ICQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeVByb3ZpZGVyLFxyXG4gICAgICAgICRicm93c2VyOiAkQnJvd3NlclByb3ZpZGVyLFxyXG4gICAgICAgICRjYWNoZUZhY3Rvcnk6ICRDYWNoZUZhY3RvcnlQcm92aWRlcixcclxuICAgICAgICAkY29udHJvbGxlcjogJENvbnRyb2xsZXJQcm92aWRlcixcclxuICAgICAgICAkZG9jdW1lbnQ6ICREb2N1bWVudFByb3ZpZGVyLFxyXG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyOiAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLFxyXG4gICAgICAgICRmaWx0ZXI6ICRGaWx0ZXJQcm92aWRlcixcclxuICAgICAgICAkJGZvcmNlUmVmbG93OiAkJEZvcmNlUmVmbG93UHJvdmlkZXIsXHJcbiAgICAgICAgJGludGVycG9sYXRlOiAkSW50ZXJwb2xhdGVQcm92aWRlcixcclxuICAgICAgICAkaW50ZXJ2YWw6ICRJbnRlcnZhbFByb3ZpZGVyLFxyXG4gICAgICAgICRodHRwOiAkSHR0cFByb3ZpZGVyLFxyXG4gICAgICAgICRodHRwUGFyYW1TZXJpYWxpemVyOiAkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyLFxyXG4gICAgICAgICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlOiAkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyLFxyXG4gICAgICAgICRodHRwQmFja2VuZDogJEh0dHBCYWNrZW5kUHJvdmlkZXIsXHJcbiAgICAgICAgJHhockZhY3Rvcnk6ICR4aHJGYWN0b3J5UHJvdmlkZXIsXHJcbiAgICAgICAgJGxvY2F0aW9uOiAkTG9jYXRpb25Qcm92aWRlcixcclxuICAgICAgICAkbG9nOiAkTG9nUHJvdmlkZXIsXHJcbiAgICAgICAgJHBhcnNlOiAkUGFyc2VQcm92aWRlcixcclxuICAgICAgICAkcm9vdFNjb3BlOiAkUm9vdFNjb3BlUHJvdmlkZXIsXHJcbiAgICAgICAgJHE6ICRRUHJvdmlkZXIsXHJcbiAgICAgICAgJCRxOiAkJFFQcm92aWRlcixcclxuICAgICAgICAkc2NlOiAkU2NlUHJvdmlkZXIsXHJcbiAgICAgICAgJHNjZURlbGVnYXRlOiAkU2NlRGVsZWdhdGVQcm92aWRlcixcclxuICAgICAgICAkc25pZmZlcjogJFNuaWZmZXJQcm92aWRlcixcclxuICAgICAgICAkdGVtcGxhdGVDYWNoZTogJFRlbXBsYXRlQ2FjaGVQcm92aWRlcixcclxuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0OiAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIsXHJcbiAgICAgICAgJCR0ZXN0YWJpbGl0eTogJCRUZXN0YWJpbGl0eVByb3ZpZGVyLFxyXG4gICAgICAgICR0aW1lb3V0OiAkVGltZW91dFByb3ZpZGVyLFxyXG4gICAgICAgICR3aW5kb3c6ICRXaW5kb3dQcm92aWRlcixcclxuICAgICAgICAkJHJBRjogJCRSQUZQcm92aWRlcixcclxuICAgICAgICAkJGpxTGl0ZTogJCRqcUxpdGVQcm92aWRlcixcclxuICAgICAgICAkJEhhc2hNYXA6ICQkSGFzaE1hcFByb3ZpZGVyLFxyXG4gICAgICAgICQkY29va2llUmVhZGVyOiAkJENvb2tpZVJlYWRlclByb3ZpZGVyXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIF0pO1xyXG59XHJcblxyXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXHJcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcclxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxyXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXHJcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcclxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxyXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xyXG5cclxuLyogZ2xvYmFsIEpRTGl0ZVByb3RvdHlwZTogdHJ1ZSxcclxuICBhZGRFdmVudExpc3RlbmVyRm46IHRydWUsXHJcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuOiB0cnVlLFxyXG4gIEJPT0xFQU5fQVRUUjogdHJ1ZSxcclxuICBBTElBU0VEX0FUVFI6IHRydWUsXHJcbiovXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vSlFMaXRlXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5lbGVtZW50XHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFdyYXBzIGEgcmF3IERPTSBlbGVtZW50IG9yIEhUTUwgc3RyaW5nIGFzIGEgW2pRdWVyeV0oaHR0cDovL2pxdWVyeS5jb20pIGVsZW1lbnQuXHJcbiAqXHJcbiAqIElmIGpRdWVyeSBpcyBhdmFpbGFibGUsIGBhbmd1bGFyLmVsZW1lbnRgIGlzIGFuIGFsaWFzIGZvciB0aGVcclxuICogW2pRdWVyeV0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS8pIGZ1bmN0aW9uLiBJZiBqUXVlcnkgaXMgbm90IGF2YWlsYWJsZSwgYGFuZ3VsYXIuZWxlbWVudGBcclxuICogZGVsZWdhdGVzIHRvIEFuZ3VsYXIncyBidWlsdC1pbiBzdWJzZXQgb2YgalF1ZXJ5LCBjYWxsZWQgXCJqUXVlcnkgbGl0ZVwiIG9yICoqanFMaXRlKiouXHJcbiAqXHJcbiAqIGpxTGl0ZSBpcyBhIHRpbnksIEFQSS1jb21wYXRpYmxlIHN1YnNldCBvZiBqUXVlcnkgdGhhdCBhbGxvd3NcclxuICogQW5ndWxhciB0byBtYW5pcHVsYXRlIHRoZSBET00gaW4gYSBjcm9zcy1icm93c2VyIGNvbXBhdGlibGUgd2F5LiBqcUxpdGUgaW1wbGVtZW50cyBvbmx5IHRoZSBtb3N0XHJcbiAqIGNvbW1vbmx5IG5lZWRlZCBmdW5jdGlvbmFsaXR5IHdpdGggdGhlIGdvYWwgb2YgaGF2aW5nIGEgdmVyeSBzbWFsbCBmb290cHJpbnQuXHJcbiAqXHJcbiAqIFRvIHVzZSBgalF1ZXJ5YCwgc2ltcGx5IGVuc3VyZSBpdCBpcyBsb2FkZWQgYmVmb3JlIHRoZSBgYW5ndWxhci5qc2AgZmlsZS4gWW91IGNhbiBhbHNvIHVzZSB0aGVcclxuICoge0BsaW5rIG5nSnEgYG5nSnFgfSBkaXJlY3RpdmUgdG8gc3BlY2lmeSB0aGF0IGpxbGl0ZSBzaG91bGQgYmUgdXNlZCBvdmVyIGpRdWVyeSwgb3IgdG8gdXNlIGFcclxuICogc3BlY2lmaWMgdmVyc2lvbiBvZiBqUXVlcnkgaWYgbXVsdGlwbGUgdmVyc2lvbnMgZXhpc3Qgb24gdGhlIHBhZ2UuXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+KipOb3RlOioqIEFsbCBlbGVtZW50IHJlZmVyZW5jZXMgaW4gQW5ndWxhciBhcmUgYWx3YXlzIHdyYXBwZWQgd2l0aCBqUXVlcnkgb3JcclxuICoganFMaXRlIChzdWNoIGFzIHRoZSBlbGVtZW50IGFyZ3VtZW50IGluIGEgZGlyZWN0aXZlJ3MgY29tcGlsZSAvIGxpbmsgZnVuY3Rpb24pLiBUaGV5IGFyZSBuZXZlciByYXcgRE9NIHJlZmVyZW5jZXMuPC9kaXY+XHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+KipOb3RlOioqIEtlZXAgaW4gbWluZCB0aGF0IHRoaXMgZnVuY3Rpb24gd2lsbCBub3QgZmluZCBlbGVtZW50c1xyXG4gKiBieSB0YWcgbmFtZSAvIENTUyBzZWxlY3Rvci4gRm9yIGxvb2t1cHMgYnkgdGFnIG5hbWUsIHRyeSBpbnN0ZWFkIGBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmZpbmQoLi4uKWBcclxuICogb3IgYCRkb2N1bWVudC5maW5kKClgLCBvciB1c2UgdGhlIHN0YW5kYXJkIERPTSBBUElzLCBlLmcuIGBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKClgLjwvZGl2PlxyXG4gKlxyXG4gKiAjIyBBbmd1bGFyJ3MganFMaXRlXHJcbiAqIGpxTGl0ZSBwcm92aWRlcyBvbmx5IHRoZSBmb2xsb3dpbmcgalF1ZXJ5IG1ldGhvZHM6XHJcbiAqXHJcbiAqIC0gW2BhZGRDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FkZENsYXNzLylcclxuICogLSBbYGFmdGVyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYWZ0ZXIvKVxyXG4gKiAtIFtgYXBwZW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYXBwZW5kLylcclxuICogLSBbYGF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hdHRyLykgLSBEb2VzIG5vdCBzdXBwb3J0IGZ1bmN0aW9ucyBhcyBwYXJhbWV0ZXJzXHJcbiAqIC0gW2BiaW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYmluZC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzLCBzZWxlY3RvcnMgb3IgZXZlbnREYXRhXHJcbiAqIC0gW2BjaGlsZHJlbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2NoaWxkcmVuLykgLSBEb2VzIG5vdCBzdXBwb3J0IHNlbGVjdG9yc1xyXG4gKiAtIFtgY2xvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jbG9uZS8pXHJcbiAqIC0gW2Bjb250ZW50cygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2NvbnRlbnRzLylcclxuICogLSBbYGNzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2Nzcy8pIC0gT25seSByZXRyaWV2ZXMgaW5saW5lLXN0eWxlcywgZG9lcyBub3QgY2FsbCBgZ2V0Q29tcHV0ZWRTdHlsZSgpYC5cclxuICogICBBcyBhIHNldHRlciwgZG9lcyBub3QgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ3Mgb3IgYXBwZW5kICdweCcsIGFuZCBhbHNvIGRvZXMgbm90IGhhdmUgYXV0b21hdGljIHByb3BlcnR5IHByZWZpeGluZy5cclxuICogLSBbYGRhdGEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9kYXRhLylcclxuICogLSBbYGRldGFjaCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RldGFjaC8pXHJcbiAqIC0gW2BlbXB0eSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2VtcHR5LylcclxuICogLSBbYGVxKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZXEvKVxyXG4gKiAtIFtgZmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2ZpbmQvKSAtIExpbWl0ZWQgdG8gbG9va3VwcyBieSB0YWcgbmFtZVxyXG4gKiAtIFtgaGFzQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9oYXNDbGFzcy8pXHJcbiAqIC0gW2BodG1sKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vaHRtbC8pXHJcbiAqIC0gW2BuZXh0KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vbmV4dC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcclxuICogLSBbYG9uKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb24vKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50RGF0YVxyXG4gKiAtIFtgb2ZmKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb2ZmLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudCBvYmplY3QgYXMgcGFyYW1ldGVyXHJcbiAqIC0gW2BvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vbmUvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBzZWxlY3RvcnNcclxuICogLSBbYHBhcmVudCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3BhcmVudC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcclxuICogLSBbYHByZXBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wcmVwZW5kLylcclxuICogLSBbYHByb3AoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wcm9wLylcclxuICogLSBbYHJlYWR5KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVhZHkvKVxyXG4gKiAtIFtgcmVtb3ZlKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlLylcclxuICogLSBbYHJlbW92ZUF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVBdHRyLylcclxuICogLSBbYHJlbW92ZUNsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlQ2xhc3MvKVxyXG4gKiAtIFtgcmVtb3ZlRGF0YSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZURhdGEvKVxyXG4gKiAtIFtgcmVwbGFjZVdpdGgoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZXBsYWNlV2l0aC8pXHJcbiAqIC0gW2B0ZXh0KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdGV4dC8pXHJcbiAqIC0gW2B0b2dnbGVDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RvZ2dsZUNsYXNzLylcclxuICogLSBbYHRyaWdnZXJIYW5kbGVyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdHJpZ2dlckhhbmRsZXIvKSAtIFBhc3NlcyBhIGR1bW15IGV2ZW50IG9iamVjdCB0byBoYW5kbGVycy5cclxuICogLSBbYHVuYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3VuYmluZC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzIG9yIGV2ZW50IG9iamVjdCBhcyBwYXJhbWV0ZXJcclxuICogLSBbYHZhbCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3ZhbC8pXHJcbiAqIC0gW2B3cmFwKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vd3JhcC8pXHJcbiAqXHJcbiAqICMjIGpRdWVyeS9qcUxpdGUgRXh0cmFzXHJcbiAqIEFuZ3VsYXIgYWxzbyBwcm92aWRlcyB0aGUgZm9sbG93aW5nIGFkZGl0aW9uYWwgbWV0aG9kcyBhbmQgZXZlbnRzIHRvIGJvdGggalF1ZXJ5IGFuZCBqcUxpdGU6XHJcbiAqXHJcbiAqICMjIyBFdmVudHNcclxuICogLSBgJGRlc3Ryb3lgIC0gQW5ndWxhckpTIGludGVyY2VwdHMgYWxsIGpxTGl0ZS9qUXVlcnkncyBET00gZGVzdHJ1Y3Rpb24gYXBpcyBhbmQgZmlyZXMgdGhpcyBldmVudFxyXG4gKiAgICBvbiBhbGwgRE9NIG5vZGVzIGJlaW5nIHJlbW92ZWQuICBUaGlzIGNhbiBiZSB1c2VkIHRvIGNsZWFuIHVwIGFueSAzcmQgcGFydHkgYmluZGluZ3MgdG8gdGhlIERPTVxyXG4gKiAgICBlbGVtZW50IGJlZm9yZSBpdCBpcyByZW1vdmVkLlxyXG4gKlxyXG4gKiAjIyMgTWV0aG9kc1xyXG4gKiAtIGBjb250cm9sbGVyKG5hbWUpYCAtIHJldHJpZXZlcyB0aGUgY29udHJvbGxlciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuIEJ5IGRlZmF1bHRcclxuICogICByZXRyaWV2ZXMgY29udHJvbGxlciBhc3NvY2lhdGVkIHdpdGggdGhlIGBuZ0NvbnRyb2xsZXJgIGRpcmVjdGl2ZS4gSWYgYG5hbWVgIGlzIHByb3ZpZGVkIGFzXHJcbiAqICAgY2FtZWxDYXNlIGRpcmVjdGl2ZSBuYW1lLCB0aGVuIHRoZSBjb250cm9sbGVyIGZvciB0aGlzIGRpcmVjdGl2ZSB3aWxsIGJlIHJldHJpZXZlZCAoZS5nLlxyXG4gKiAgIGAnbmdNb2RlbCdgKS5cclxuICogLSBgaW5qZWN0b3IoKWAgLSByZXRyaWV2ZXMgdGhlIGluamVjdG9yIG9mIHRoZSBjdXJyZW50IGVsZW1lbnQgb3IgaXRzIHBhcmVudC5cclxuICogLSBgc2NvcGUoKWAgLSByZXRyaWV2ZXMgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfSBvZiB0aGUgY3VycmVudFxyXG4gKiAgIGVsZW1lbnQgb3IgaXRzIHBhcmVudC4gUmVxdWlyZXMge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGVidWcgRGF0YX0gdG9cclxuICogICBiZSBlbmFibGVkLlxyXG4gKiAtIGBpc29sYXRlU2NvcGUoKWAgLSByZXRyaWV2ZXMgYW4gaXNvbGF0ZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0gaWYgb25lIGlzIGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZVxyXG4gKiAgIGN1cnJlbnQgZWxlbWVudC4gVGhpcyBnZXR0ZXIgc2hvdWxkIGJlIHVzZWQgb25seSBvbiBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYSBkaXJlY3RpdmUgd2hpY2ggc3RhcnRzIGEgbmV3IGlzb2xhdGVcclxuICogICBzY29wZS4gQ2FsbGluZyBgc2NvcGUoKWAgb24gdGhpcyBlbGVtZW50IGFsd2F5cyByZXR1cm5zIHRoZSBvcmlnaW5hbCBub24taXNvbGF0ZSBzY29wZS5cclxuICogICBSZXF1aXJlcyB7QGxpbmsgZ3VpZGUvcHJvZHVjdGlvbiNkaXNhYmxpbmctZGVidWctZGF0YSBEZWJ1ZyBEYXRhfSB0byBiZSBlbmFibGVkLlxyXG4gKiAtIGBpbmhlcml0ZWREYXRhKClgIC0gc2FtZSBhcyBgZGF0YSgpYCwgYnV0IHdhbGtzIHVwIHRoZSBET00gdW50aWwgYSB2YWx1ZSBpcyBmb3VuZCBvciB0aGUgdG9wXHJcbiAqICAgcGFyZW50IGVsZW1lbnQgaXMgcmVhY2hlZC5cclxuICpcclxuICogQGtub3duSXNzdWUgWW91IGNhbm5vdCBzcHkgb24gYGFuZ3VsYXIuZWxlbWVudGAgaWYgeW91IGFyZSB1c2luZyBKYXNtaW5lIHZlcnNpb24gMS54LiBTZWVcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTQyNTEgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgSFRNTCBzdHJpbmcgb3IgRE9NRWxlbWVudCB0byBiZSB3cmFwcGVkIGludG8galF1ZXJ5LlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBqUXVlcnkgb2JqZWN0LlxyXG4gKi9cclxuXHJcbkpRTGl0ZS5leHBhbmRvID0gJ25nMzM5JztcclxuXHJcbnZhciBqcUNhY2hlID0gSlFMaXRlLmNhY2hlID0ge30sXHJcbiAgICBqcUlkID0gMSxcclxuICAgIGFkZEV2ZW50TGlzdGVuZXJGbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7XHJcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpO1xyXG4gICAgfSxcclxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7XHJcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpO1xyXG4gICAgfTtcclxuXHJcbi8qXHJcbiAqICEhISBUaGlzIGlzIGFuIHVuZG9jdW1lbnRlZCBcInByaXZhdGVcIiBmdW5jdGlvbiAhISFcclxuICovXHJcbkpRTGl0ZS5fZGF0YSA9IGZ1bmN0aW9uKG5vZGUpIHtcclxuICAvL2pRdWVyeSBhbHdheXMgcmV0dXJucyBhbiBvYmplY3Qgb24gY2FjaGUgbWlzc1xyXG4gIHJldHVybiB0aGlzLmNhY2hlW25vZGVbdGhpcy5leHBhbmRvXV0gfHwge307XHJcbn07XHJcblxyXG5mdW5jdGlvbiBqcU5leHRJZCgpIHsgcmV0dXJuICsranFJZDsgfVxyXG5cclxuXHJcbnZhciBTUEVDSUFMX0NIQVJTX1JFR0VYUCA9IC8oW1xcOlxcLVxcX10rKC4pKS9nO1xyXG52YXIgTU9aX0hBQ0tfUkVHRVhQID0gL15tb3ooW0EtWl0pLztcclxudmFyIE1PVVNFX0VWRU5UX01BUD0geyBtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsIG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCJ9O1xyXG52YXIganFMaXRlTWluRXJyID0gbWluRXJyKCdqcUxpdGUnKTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBzbmFrZV9jYXNlIHRvIGNhbWVsQ2FzZS5cclxuICogQWxzbyB0aGVyZSBpcyBzcGVjaWFsIGNhc2UgZm9yIE1veiBwcmVmaXggc3RhcnRpbmcgd2l0aCB1cHBlciBjYXNlIGxldHRlci5cclxuICogQHBhcmFtIG5hbWUgTmFtZSB0byBub3JtYWxpemVcclxuICovXHJcbmZ1bmN0aW9uIGNhbWVsQ2FzZShuYW1lKSB7XHJcbiAgcmV0dXJuIG5hbWUuXHJcbiAgICByZXBsYWNlKFNQRUNJQUxfQ0hBUlNfUkVHRVhQLCBmdW5jdGlvbihfLCBzZXBhcmF0b3IsIGxldHRlciwgb2Zmc2V0KSB7XHJcbiAgICAgIHJldHVybiBvZmZzZXQgPyBsZXR0ZXIudG9VcHBlckNhc2UoKSA6IGxldHRlcjtcclxuICAgIH0pLlxyXG4gICAgcmVwbGFjZShNT1pfSEFDS19SRUdFWFAsICdNb3okMScpO1xyXG59XHJcblxyXG52YXIgU0lOR0xFX1RBR19SRUdFWFAgPSAvXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC87XHJcbnZhciBIVE1MX1JFR0VYUCA9IC88fCYjP1xcdys7LztcclxudmFyIFRBR19OQU1FX1JFR0VYUCA9IC88KFtcXHc6LV0rKS87XHJcbnZhciBYSFRNTF9UQUdfUkVHRVhQID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzotXSspW14+XSopXFwvPi9naTtcclxuXHJcbnZhciB3cmFwTWFwID0ge1xyXG4gICdvcHRpb24nOiBbMSwgJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsICc8L3NlbGVjdD4nXSxcclxuXHJcbiAgJ3RoZWFkJzogWzEsICc8dGFibGU+JywgJzwvdGFibGU+J10sXHJcbiAgJ2NvbCc6IFsyLCAnPHRhYmxlPjxjb2xncm91cD4nLCAnPC9jb2xncm91cD48L3RhYmxlPiddLFxyXG4gICd0cic6IFsyLCAnPHRhYmxlPjx0Ym9keT4nLCAnPC90Ym9keT48L3RhYmxlPiddLFxyXG4gICd0ZCc6IFszLCAnPHRhYmxlPjx0Ym9keT48dHI+JywgJzwvdHI+PC90Ym9keT48L3RhYmxlPiddLFxyXG4gICdfZGVmYXVsdCc6IFswLCBcIlwiLCBcIlwiXVxyXG59O1xyXG5cclxud3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uO1xyXG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xyXG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcclxuXHJcblxyXG5mdW5jdGlvbiBqcUxpdGVJc1RleHROb2RlKGh0bWwpIHtcclxuICByZXR1cm4gIUhUTUxfUkVHRVhQLnRlc3QoaHRtbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZUFjY2VwdHNEYXRhKG5vZGUpIHtcclxuICAvLyBUaGUgd2luZG93IG9iamVjdCBjYW4gYWNjZXB0IGRhdGEgYnV0IGhhcyBubyBub2RlVHlwZVxyXG4gIC8vIE90aGVyd2lzZSB3ZSBhcmUgb25seSBpbnRlcmVzdGVkIGluIGVsZW1lbnRzICgxKSBhbmQgZG9jdW1lbnRzICg5KVxyXG4gIHZhciBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XHJcbiAgcmV0dXJuIG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCB8fCAhbm9kZVR5cGUgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVDtcclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlSGFzRGF0YShub2RlKSB7XHJcbiAgZm9yICh2YXIga2V5IGluIGpxQ2FjaGVbbm9kZS5uZzMzOV0pIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZUNsZWFuRGF0YShub2Rlcykge1xyXG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IG5vZGVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgIGpxTGl0ZVJlbW92ZURhdGEobm9kZXNbaV0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlQnVpbGRGcmFnbWVudChodG1sLCBjb250ZXh0KSB7XHJcbiAgdmFyIHRtcCwgdGFnLCB3cmFwLFxyXG4gICAgICBmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxyXG4gICAgICBub2RlcyA9IFtdLCBpO1xyXG5cclxuICBpZiAoanFMaXRlSXNUZXh0Tm9kZShodG1sKSkge1xyXG4gICAgLy8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXHJcbiAgICBub2Rlcy5wdXNoKGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoaHRtbCkpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcclxuICAgIHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZChjb250ZXh0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xyXG4gICAgdGFnID0gKFRBR19OQU1FX1JFR0VYUC5leGVjKGh0bWwpIHx8IFtcIlwiLCBcIlwiXSlbMV0udG9Mb3dlckNhc2UoKTtcclxuICAgIHdyYXAgPSB3cmFwTWFwW3RhZ10gfHwgd3JhcE1hcC5fZGVmYXVsdDtcclxuICAgIHRtcC5pbm5lckhUTUwgPSB3cmFwWzFdICsgaHRtbC5yZXBsYWNlKFhIVE1MX1RBR19SRUdFWFAsIFwiPCQxPjwvJDI+XCIpICsgd3JhcFsyXTtcclxuXHJcbiAgICAvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcclxuICAgIGkgPSB3cmFwWzBdO1xyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICB0bXAgPSB0bXAubGFzdENoaWxkO1xyXG4gICAgfVxyXG5cclxuICAgIG5vZGVzID0gY29uY2F0KG5vZGVzLCB0bXAuY2hpbGROb2Rlcyk7XHJcblxyXG4gICAgdG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcclxuICAgIHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XHJcbiAgZnJhZ21lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIGZyYWdtZW50LmlubmVySFRNTCA9IFwiXCI7IC8vIENsZWFyIGlubmVyIEhUTUxcclxuICBmb3JFYWNoKG5vZGVzLCBmdW5jdGlvbihub2RlKSB7XHJcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChub2RlKTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGZyYWdtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVQYXJzZUhUTUwoaHRtbCwgY29udGV4dCkge1xyXG4gIGNvbnRleHQgPSBjb250ZXh0IHx8IHdpbmRvdy5kb2N1bWVudDtcclxuICB2YXIgcGFyc2VkO1xyXG5cclxuICBpZiAoKHBhcnNlZCA9IFNJTkdMRV9UQUdfUkVHRVhQLmV4ZWMoaHRtbCkpKSB7XHJcbiAgICByZXR1cm4gW2NvbnRleHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXTtcclxuICB9XHJcblxyXG4gIGlmICgocGFyc2VkID0ganFMaXRlQnVpbGRGcmFnbWVudChodG1sLCBjb250ZXh0KSkpIHtcclxuICAgIHJldHVybiBwYXJzZWQuY2hpbGROb2RlcztcclxuICB9XHJcblxyXG4gIHJldHVybiBbXTtcclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlV3JhcE5vZGUobm9kZSwgd3JhcHBlcikge1xyXG4gIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XHJcblxyXG4gIGlmIChwYXJlbnQpIHtcclxuICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQod3JhcHBlciwgbm9kZSk7XHJcbiAgfVxyXG5cclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKG5vZGUpO1xyXG59XHJcblxyXG5cclxuLy8gSUU5LTExIGhhcyBubyBtZXRob2QgXCJjb250YWluc1wiIGluIFNWRyBlbGVtZW50IGFuZCBpbiBOb2RlLnByb3RvdHlwZS4gQnVnICMxMDI1OS5cclxudmFyIGpxTGl0ZUNvbnRhaW5zID0gd2luZG93Lk5vZGUucHJvdG90eXBlLmNvbnRhaW5zIHx8IGZ1bmN0aW9uKGFyZykge1xyXG4gIC8vIGpzaGludCBiaXR3aXNlOiBmYWxzZVxyXG4gIHJldHVybiAhISh0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGFyZykgJiAxNik7XHJcbiAgLy8ganNoaW50IGJpdHdpc2U6IHRydWVcclxufTtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5mdW5jdGlvbiBKUUxpdGUoZWxlbWVudCkge1xyXG4gIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSlFMaXRlKSB7XHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxuICB9XHJcblxyXG4gIHZhciBhcmdJc1N0cmluZztcclxuXHJcbiAgaWYgKGlzU3RyaW5nKGVsZW1lbnQpKSB7XHJcbiAgICBlbGVtZW50ID0gdHJpbShlbGVtZW50KTtcclxuICAgIGFyZ0lzU3RyaW5nID0gdHJ1ZTtcclxuICB9XHJcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEpRTGl0ZSkpIHtcclxuICAgIGlmIChhcmdJc1N0cmluZyAmJiBlbGVtZW50LmNoYXJBdCgwKSAhPSAnPCcpIHtcclxuICAgICAgdGhyb3cganFMaXRlTWluRXJyKCdub3NlbCcsICdMb29raW5nIHVwIGVsZW1lbnRzIHZpYSBzZWxlY3RvcnMgaXMgbm90IHN1cHBvcnRlZCBieSBqcUxpdGUhIFNlZTogaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvYW5ndWxhci5lbGVtZW50Jyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IEpRTGl0ZShlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGlmIChhcmdJc1N0cmluZykge1xyXG4gICAganFMaXRlQWRkTm9kZXModGhpcywganFMaXRlUGFyc2VIVE1MKGVsZW1lbnQpKTtcclxuICB9IGVsc2Uge1xyXG4gICAganFMaXRlQWRkTm9kZXModGhpcywgZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVDbG9uZShlbGVtZW50KSB7XHJcbiAgcmV0dXJuIGVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVEZWFsb2MoZWxlbWVudCwgb25seURlc2NlbmRhbnRzKSB7XHJcbiAgaWYgKCFvbmx5RGVzY2VuZGFudHMpIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCk7XHJcblxyXG4gIGlmIChlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpIHtcclxuICAgIHZhciBkZXNjZW5kYW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpO1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBkZXNjZW5kYW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAganFMaXRlUmVtb3ZlRGF0YShkZXNjZW5kYW50c1tpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVPZmYoZWxlbWVudCwgdHlwZSwgZm4sIHVuc3VwcG9ydGVkKSB7XHJcbiAgaWYgKGlzRGVmaW5lZCh1bnN1cHBvcnRlZCkpIHRocm93IGpxTGl0ZU1pbkVycignb2ZmYXJncycsICdqcUxpdGUjb2ZmKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYHNlbGVjdG9yYCBhcmd1bWVudCcpO1xyXG5cclxuICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpO1xyXG4gIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmV2ZW50cztcclxuICB2YXIgaGFuZGxlID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5oYW5kbGU7XHJcblxyXG4gIGlmICghaGFuZGxlKSByZXR1cm47IC8vbm8gbGlzdGVuZXJzIHJlZ2lzdGVyZWRcclxuXHJcbiAgaWYgKCF0eXBlKSB7XHJcbiAgICBmb3IgKHR5cGUgaW4gZXZlbnRzKSB7XHJcbiAgICAgIGlmICh0eXBlICE9PSAnJGRlc3Ryb3knKSB7XHJcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsIHR5cGUsIGhhbmRsZSk7XHJcbiAgICAgIH1cclxuICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG5cclxuICAgIHZhciByZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgICB2YXIgbGlzdGVuZXJGbnMgPSBldmVudHNbdHlwZV07XHJcbiAgICAgIGlmIChpc0RlZmluZWQoZm4pKSB7XHJcbiAgICAgICAgYXJyYXlSZW1vdmUobGlzdGVuZXJGbnMgfHwgW10sIGZuKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIShpc0RlZmluZWQoZm4pICYmIGxpc3RlbmVyRm5zICYmIGxpc3RlbmVyRm5zLmxlbmd0aCA+IDApKSB7XHJcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsIHR5cGUsIGhhbmRsZSk7XHJcbiAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmb3JFYWNoKHR5cGUuc3BsaXQoJyAnKSwgZnVuY3Rpb24odHlwZSkge1xyXG4gICAgICByZW1vdmVIYW5kbGVyKHR5cGUpO1xyXG4gICAgICBpZiAoTU9VU0VfRVZFTlRfTUFQW3R5cGVdKSB7XHJcbiAgICAgICAgcmVtb3ZlSGFuZGxlcihNT1VTRV9FVkVOVF9NQVBbdHlwZV0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCwgbmFtZSkge1xyXG4gIHZhciBleHBhbmRvSWQgPSBlbGVtZW50Lm5nMzM5O1xyXG4gIHZhciBleHBhbmRvU3RvcmUgPSBleHBhbmRvSWQgJiYganFDYWNoZVtleHBhbmRvSWRdO1xyXG5cclxuICBpZiAoZXhwYW5kb1N0b3JlKSB7XHJcbiAgICBpZiAobmFtZSkge1xyXG4gICAgICBkZWxldGUgZXhwYW5kb1N0b3JlLmRhdGFbbmFtZV07XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXhwYW5kb1N0b3JlLmhhbmRsZSkge1xyXG4gICAgICBpZiAoZXhwYW5kb1N0b3JlLmV2ZW50cy4kZGVzdHJveSkge1xyXG4gICAgICAgIGV4cGFuZG9TdG9yZS5oYW5kbGUoe30sICckZGVzdHJveScpO1xyXG4gICAgICB9XHJcbiAgICAgIGpxTGl0ZU9mZihlbGVtZW50KTtcclxuICAgIH1cclxuICAgIGRlbGV0ZSBqcUNhY2hlW2V4cGFuZG9JZF07XHJcbiAgICBlbGVtZW50Lm5nMzM5ID0gdW5kZWZpbmVkOyAvLyBkb24ndCBkZWxldGUgRE9NIGV4cGFuZG9zLiBJRSBhbmQgQ2hyb21lIGRvbid0IGxpa2UgaXRcclxuICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgY3JlYXRlSWZOZWNlc3NhcnkpIHtcclxuICB2YXIgZXhwYW5kb0lkID0gZWxlbWVudC5uZzMzOSxcclxuICAgICAgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcclxuXHJcbiAgaWYgKGNyZWF0ZUlmTmVjZXNzYXJ5ICYmICFleHBhbmRvU3RvcmUpIHtcclxuICAgIGVsZW1lbnQubmczMzkgPSBleHBhbmRvSWQgPSBqcU5leHRJZCgpO1xyXG4gICAgZXhwYW5kb1N0b3JlID0ganFDYWNoZVtleHBhbmRvSWRdID0ge2V2ZW50czoge30sIGRhdGE6IHt9LCBoYW5kbGU6IHVuZGVmaW5lZH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXhwYW5kb1N0b3JlO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24ganFMaXRlRGF0YShlbGVtZW50LCBrZXksIHZhbHVlKSB7XHJcbiAgaWYgKGpxTGl0ZUFjY2VwdHNEYXRhKGVsZW1lbnQpKSB7XHJcblxyXG4gICAgdmFyIGlzU2ltcGxlU2V0dGVyID0gaXNEZWZpbmVkKHZhbHVlKTtcclxuICAgIHZhciBpc1NpbXBsZUdldHRlciA9ICFpc1NpbXBsZVNldHRlciAmJiBrZXkgJiYgIWlzT2JqZWN0KGtleSk7XHJcbiAgICB2YXIgbWFzc0dldHRlciA9ICFrZXk7XHJcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsICFpc1NpbXBsZUdldHRlcik7XHJcbiAgICB2YXIgZGF0YSA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZGF0YTtcclxuXHJcbiAgICBpZiAoaXNTaW1wbGVTZXR0ZXIpIHsgLy8gZGF0YSgna2V5JywgdmFsdWUpXHJcbiAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKG1hc3NHZXR0ZXIpIHsgIC8vIGRhdGEoKVxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChpc1NpbXBsZUdldHRlcikgeyAvLyBkYXRhKCdrZXknKVxyXG4gICAgICAgICAgLy8gZG9uJ3QgZm9yY2UgY3JlYXRpb24gb2YgZXhwYW5kb1N0b3JlIGlmIGl0IGRvZXNuJ3QgZXhpc3QgeWV0XHJcbiAgICAgICAgICByZXR1cm4gZGF0YSAmJiBkYXRhW2tleV07XHJcbiAgICAgICAgfSBlbHNlIHsgLy8gbWFzcy1zZXR0ZXI6IGRhdGEoe2tleTE6IHZhbDEsIGtleTI6IHZhbDJ9KVxyXG4gICAgICAgICAgZXh0ZW5kKGRhdGEsIGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVIYXNDbGFzcyhlbGVtZW50LCBzZWxlY3Rvcikge1xyXG4gIGlmICghZWxlbWVudC5nZXRBdHRyaWJ1dGUpIHJldHVybiBmYWxzZTtcclxuICByZXR1cm4gKChcIiBcIiArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyBcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpLlxyXG4gICAgICBpbmRleE9mKFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIikgPiAtMSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZUNsYXNzKGVsZW1lbnQsIGNzc0NsYXNzZXMpIHtcclxuICBpZiAoY3NzQ2xhc3NlcyAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSkge1xyXG4gICAgZm9yRWFjaChjc3NDbGFzc2VzLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGNzc0NsYXNzKSB7XHJcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHRyaW0oXHJcbiAgICAgICAgICAoXCIgXCIgKyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgXCIgXCIpXHJcbiAgICAgICAgICAucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpXHJcbiAgICAgICAgICAucmVwbGFjZShcIiBcIiArIHRyaW0oY3NzQ2xhc3MpICsgXCIgXCIsIFwiIFwiKSlcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlQWRkQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3Nlcykge1xyXG4gIGlmIChjc3NDbGFzc2VzICYmIGVsZW1lbnQuc2V0QXR0cmlidXRlKSB7XHJcbiAgICB2YXIgZXhpc3RpbmdDbGFzc2VzID0gKCcgJyArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAnICcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpO1xyXG5cclxuICAgIGZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgnICcpLCBmdW5jdGlvbihjc3NDbGFzcykge1xyXG4gICAgICBjc3NDbGFzcyA9IHRyaW0oY3NzQ2xhc3MpO1xyXG4gICAgICBpZiAoZXhpc3RpbmdDbGFzc2VzLmluZGV4T2YoJyAnICsgY3NzQ2xhc3MgKyAnICcpID09PSAtMSkge1xyXG4gICAgICAgIGV4aXN0aW5nQ2xhc3NlcyArPSBjc3NDbGFzcyArICcgJztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdHJpbShleGlzdGluZ0NsYXNzZXMpKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBqcUxpdGVBZGROb2Rlcyhyb290LCBlbGVtZW50cykge1xyXG4gIC8vIFRISVMgQ09ERSBJUyBWRVJZIEhPVC4gRG9uJ3QgbWFrZSBjaGFuZ2VzIHdpdGhvdXQgYmVuY2htYXJraW5nLlxyXG5cclxuICBpZiAoZWxlbWVudHMpIHtcclxuXHJcbiAgICAvLyBpZiBhIE5vZGUgKHRoZSBtb3N0IGNvbW1vbiBjYXNlKVxyXG4gICAgaWYgKGVsZW1lbnRzLm5vZGVUeXBlKSB7XHJcbiAgICAgIHJvb3Rbcm9vdC5sZW5ndGgrK10gPSBlbGVtZW50cztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XHJcblxyXG4gICAgICAvLyBpZiBhbiBBcnJheSBvciBOb2RlTGlzdCBhbmQgbm90IGEgV2luZG93XHJcbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJyAmJiBlbGVtZW50cy53aW5kb3cgIT09IGVsZW1lbnRzKSB7XHJcbiAgICAgICAgaWYgKGxlbmd0aCkge1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHNbaV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJvb3Rbcm9vdC5sZW5ndGgrK10gPSBlbGVtZW50cztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZUNvbnRyb2xsZXIoZWxlbWVudCwgbmFtZSkge1xyXG4gIHJldHVybiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsICckJyArIChuYW1lIHx8ICduZ0NvbnRyb2xsZXInKSArICdDb250cm9sbGVyJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcclxuICAvLyBpZiBlbGVtZW50IGlzIHRoZSBkb2N1bWVudCBvYmplY3Qgd29yayB3aXRoIHRoZSBodG1sIGVsZW1lbnQgaW5zdGVhZFxyXG4gIC8vIHRoaXMgbWFrZXMgJChkb2N1bWVudCkuc2NvcGUoKSBwb3NzaWJsZVxyXG4gIGlmIChlbGVtZW50Lm5vZGVUeXBlID09IE5PREVfVFlQRV9ET0NVTUVOVCkge1xyXG4gICAgZWxlbWVudCA9IGVsZW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gIH1cclxuICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gbmFtZSA6IFtuYW1lXTtcclxuXHJcbiAgd2hpbGUgKGVsZW1lbnQpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSA9IGpxTGl0ZS5kYXRhKGVsZW1lbnQsIG5hbWVzW2ldKSkpIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBkZWFsaW5nIHdpdGggYSBkb2N1bWVudCBmcmFnbWVudCBub2RlIHdpdGggYSBob3N0IGVsZW1lbnQsIGFuZCBubyBwYXJlbnQsIHVzZSB0aGUgaG9zdFxyXG4gICAgLy8gZWxlbWVudCBhcyB0aGUgcGFyZW50LiBUaGlzIGVuYWJsZXMgZGlyZWN0aXZlcyB3aXRoaW4gYSBTaGFkb3cgRE9NIG9yIHBvbHlmaWxsZWQgU2hhZG93IERPTVxyXG4gICAgLy8gdG8gbG9va3VwIHBhcmVudCBjb250cm9sbGVycy5cclxuICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgfHwgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCAmJiBlbGVtZW50Lmhvc3QpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlRW1wdHkoZWxlbWVudCkge1xyXG4gIGpxTGl0ZURlYWxvYyhlbGVtZW50LCB0cnVlKTtcclxuICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XHJcbiAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVSZW1vdmUoZWxlbWVudCwga2VlcERhdGEpIHtcclxuICBpZiAoIWtlZXBEYXRhKSBqcUxpdGVEZWFsb2MoZWxlbWVudCk7XHJcbiAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBqcUxpdGVEb2N1bWVudExvYWRlZChhY3Rpb24sIHdpbikge1xyXG4gIHdpbiA9IHdpbiB8fCB3aW5kb3c7XHJcbiAgaWYgKHdpbi5kb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAvLyBGb3JjZSB0aGUgYWN0aW9uIHRvIGJlIHJ1biBhc3luYyBmb3IgY29uc2lzdGVudCBiZWhhdmlvclxyXG4gICAgLy8gZnJvbSB0aGUgYWN0aW9uJ3MgcG9pbnQgb2Ygdmlld1xyXG4gICAgLy8gaS5lLiBpdCB3aWxsIGRlZmluaXRlbHkgbm90IGJlIGluIGEgJGFwcGx5XHJcbiAgICB3aW4uc2V0VGltZW91dChhY3Rpb24pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBObyBuZWVkIHRvIHVuYmluZCB0aGlzIGhhbmRsZXIgYXMgbG9hZCBpcyBvbmx5IGV2ZXIgY2FsbGVkIG9uY2VcclxuICAgIGpxTGl0ZSh3aW4pLm9uKCdsb2FkJywgYWN0aW9uKTtcclxuICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBGdW5jdGlvbnMgd2hpY2ggYXJlIGRlY2xhcmVkIGRpcmVjdGx5LlxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxudmFyIEpRTGl0ZVByb3RvdHlwZSA9IEpRTGl0ZS5wcm90b3R5cGUgPSB7XHJcbiAgcmVhZHk6IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICB2YXIgZmlyZWQgPSBmYWxzZTtcclxuXHJcbiAgICBmdW5jdGlvbiB0cmlnZ2VyKCkge1xyXG4gICAgICBpZiAoZmlyZWQpIHJldHVybjtcclxuICAgICAgZmlyZWQgPSB0cnVlO1xyXG4gICAgICBmbigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIGlmIGRvY3VtZW50IGlzIGFscmVhZHkgbG9hZGVkXHJcbiAgICBpZiAod2luZG93LmRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcclxuICAgICAgd2luZG93LnNldFRpbWVvdXQodHJpZ2dlcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm9uKCdET01Db250ZW50TG9hZGVkJywgdHJpZ2dlcik7IC8vIHdvcmtzIGZvciBtb2Rlcm4gYnJvd3NlcnMgYW5kIElFOVxyXG4gICAgICAvLyB3ZSBjYW4gbm90IHVzZSBqcUxpdGUgc2luY2Ugd2UgYXJlIG5vdCBkb25lIGxvYWRpbmcgYW5kIGpRdWVyeSBjb3VsZCBiZSBsb2FkZWQgbGF0ZXIuXHJcbiAgICAgIC8vIGpzaGludCAtVzA2NFxyXG4gICAgICBKUUxpdGUod2luZG93KS5vbignbG9hZCcsIHRyaWdnZXIpOyAvLyBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkIGZvciBvdGhlcnNcclxuICAgICAgLy8ganNoaW50ICtXMDY0XHJcbiAgICB9XHJcbiAgfSxcclxuICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdmFsdWUgPSBbXTtcclxuICAgIGZvckVhY2godGhpcywgZnVuY3Rpb24oZSkgeyB2YWx1ZS5wdXNoKCcnICsgZSk7fSk7XHJcbiAgICByZXR1cm4gJ1snICsgdmFsdWUuam9pbignLCAnKSArICddJztcclxuICB9LFxyXG5cclxuICBlcTogZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgcmV0dXJuIChpbmRleCA+PSAwKSA/IGpxTGl0ZSh0aGlzW2luZGV4XSkgOiBqcUxpdGUodGhpc1t0aGlzLmxlbmd0aCArIGluZGV4XSk7XHJcbiAgfSxcclxuXHJcbiAgbGVuZ3RoOiAwLFxyXG4gIHB1c2g6IHB1c2gsXHJcbiAgc29ydDogW10uc29ydCxcclxuICBzcGxpY2U6IFtdLnNwbGljZVxyXG59O1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vIEZ1bmN0aW9ucyBpdGVyYXRpbmcgZ2V0dGVyL3NldHRlcnMuXHJcbi8vIHRoZXNlIGZ1bmN0aW9ucyByZXR1cm4gc2VsZiBvbiBzZXR0ZXIgYW5kXHJcbi8vIHZhbHVlIG9uIGdldC5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbnZhciBCT09MRUFOX0FUVFIgPSB7fTtcclxuZm9yRWFjaCgnbXVsdGlwbGUsc2VsZWN0ZWQsY2hlY2tlZCxkaXNhYmxlZCxyZWFkT25seSxyZXF1aXJlZCxvcGVuJy5zcGxpdCgnLCcpLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gIEJPT0xFQU5fQVRUUltsb3dlcmNhc2UodmFsdWUpXSA9IHZhbHVlO1xyXG59KTtcclxudmFyIEJPT0xFQU5fRUxFTUVOVFMgPSB7fTtcclxuZm9yRWFjaCgnaW5wdXQsc2VsZWN0LG9wdGlvbix0ZXh0YXJlYSxidXR0b24sZm9ybSxkZXRhaWxzJy5zcGxpdCgnLCcpLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gIEJPT0xFQU5fRUxFTUVOVFNbdmFsdWVdID0gdHJ1ZTtcclxufSk7XHJcbnZhciBBTElBU0VEX0FUVFIgPSB7XHJcbiAgJ25nTWlubGVuZ3RoJzogJ21pbmxlbmd0aCcsXHJcbiAgJ25nTWF4bGVuZ3RoJzogJ21heGxlbmd0aCcsXHJcbiAgJ25nTWluJzogJ21pbicsXHJcbiAgJ25nTWF4JzogJ21heCcsXHJcbiAgJ25nUGF0dGVybic6ICdwYXR0ZXJuJ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2V0Qm9vbGVhbkF0dHJOYW1lKGVsZW1lbnQsIG5hbWUpIHtcclxuICAvLyBjaGVjayBkb20gbGFzdCBzaW5jZSB3ZSB3aWxsIG1vc3QgbGlrZWx5IGZhaWwgb24gbmFtZVxyXG4gIHZhciBib29sZWFuQXR0ciA9IEJPT0xFQU5fQVRUUltuYW1lLnRvTG93ZXJDYXNlKCldO1xyXG5cclxuICAvLyBib29sZWFuQXR0ciBpcyBoZXJlIHR3aWNlIHRvIG1pbmltaXplIERPTSBhY2Nlc3NcclxuICByZXR1cm4gYm9vbGVhbkF0dHIgJiYgQk9PTEVBTl9FTEVNRU5UU1tub2RlTmFtZV8oZWxlbWVudCldICYmIGJvb2xlYW5BdHRyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbGlhc2VkQXR0ck5hbWUobmFtZSkge1xyXG4gIHJldHVybiBBTElBU0VEX0FUVFJbbmFtZV07XHJcbn1cclxuXHJcbmZvckVhY2goe1xyXG4gIGRhdGE6IGpxTGl0ZURhdGEsXHJcbiAgcmVtb3ZlRGF0YToganFMaXRlUmVtb3ZlRGF0YSxcclxuICBoYXNEYXRhOiBqcUxpdGVIYXNEYXRhLFxyXG4gIGNsZWFuRGF0YToganFMaXRlQ2xlYW5EYXRhXHJcbn0sIGZ1bmN0aW9uKGZuLCBuYW1lKSB7XHJcbiAgSlFMaXRlW25hbWVdID0gZm47XHJcbn0pO1xyXG5cclxuZm9yRWFjaCh7XHJcbiAgZGF0YToganFMaXRlRGF0YSxcclxuICBpbmhlcml0ZWREYXRhOiBqcUxpdGVJbmhlcml0ZWREYXRhLFxyXG5cclxuICBzY29wZTogZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgLy8gQ2FuJ3QgdXNlIGpxTGl0ZURhdGEgaGVyZSBkaXJlY3RseSBzbyB3ZSBzdGF5IGNvbXBhdGlibGUgd2l0aCBqUXVlcnkhXHJcbiAgICByZXR1cm4ganFMaXRlLmRhdGEoZWxlbWVudCwgJyRzY29wZScpIHx8IGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQsIFsnJGlzb2xhdGVTY29wZScsICckc2NvcGUnXSk7XHJcbiAgfSxcclxuXHJcbiAgaXNvbGF0ZVNjb3BlOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAvLyBDYW4ndCB1c2UganFMaXRlRGF0YSBoZXJlIGRpcmVjdGx5IHNvIHdlIHN0YXkgY29tcGF0aWJsZSB3aXRoIGpRdWVyeSFcclxuICAgIHJldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCAnJGlzb2xhdGVTY29wZScpIHx8IGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZScpO1xyXG4gIH0sXHJcblxyXG4gIGNvbnRyb2xsZXI6IGpxTGl0ZUNvbnRyb2xsZXIsXHJcblxyXG4gIGluamVjdG9yOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICByZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCAnJGluamVjdG9yJyk7XHJcbiAgfSxcclxuXHJcbiAgcmVtb3ZlQXR0cjogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSkge1xyXG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XHJcbiAgfSxcclxuXHJcbiAgaGFzQ2xhc3M6IGpxTGl0ZUhhc0NsYXNzLFxyXG5cclxuICBjc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XHJcbiAgICBuYW1lID0gY2FtZWxDYXNlKG5hbWUpO1xyXG5cclxuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgIGVsZW1lbnQuc3R5bGVbbmFtZV0gPSB2YWx1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50LnN0eWxlW25hbWVdO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGF0dHI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XHJcbiAgICB2YXIgbm9kZVR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xyXG4gICAgaWYgKG5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0FUVFJJQlVURSB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGxvd2VyY2FzZWROYW1lID0gbG93ZXJjYXNlKG5hbWUpO1xyXG4gICAgaWYgKEJPT0xFQU5fQVRUUltsb3dlcmNhc2VkTmFtZV0pIHtcclxuICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICBpZiAoISF2YWx1ZSkge1xyXG4gICAgICAgICAgZWxlbWVudFtuYW1lXSA9IHRydWU7XHJcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCBsb3dlcmNhc2VkTmFtZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW1lbnRbbmFtZV0gPSBmYWxzZTtcclxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGxvd2VyY2FzZWROYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIChlbGVtZW50W25hbWVdIHx8XHJcbiAgICAgICAgICAgICAgICAgKGVsZW1lbnQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0obmFtZSkgfHwgbm9vcCkuc3BlY2lmaWVkKVxyXG4gICAgICAgICAgICAgICA/IGxvd2VyY2FzZWROYW1lXHJcbiAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xyXG4gICAgfSBlbHNlIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSkge1xyXG4gICAgICAvLyB0aGUgZXh0cmEgYXJndW1lbnQgXCIyXCIgaXMgdG8gZ2V0IHRoZSByaWdodCB0aGluZyBmb3IgYS5ocmVmIGluIElFLCBzZWUgalF1ZXJ5IGNvZGVcclxuICAgICAgLy8gc29tZSBlbGVtZW50cyAoZS5nLiBEb2N1bWVudCkgZG9uJ3QgaGF2ZSBnZXQgYXR0cmlidXRlLCBzbyByZXR1cm4gdW5kZWZpbmVkXHJcbiAgICAgIHZhciByZXQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lLCAyKTtcclxuICAgICAgLy8gbm9ybWFsaXplIG5vbi1leGlzdGluZyBhdHRyaWJ1dGVzIHRvIHVuZGVmaW5lZCAoYXMgalF1ZXJ5KVxyXG4gICAgICByZXR1cm4gcmV0ID09PSBudWxsID8gdW5kZWZpbmVkIDogcmV0O1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHByb3A6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XHJcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICBlbGVtZW50W25hbWVdID0gdmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZWxlbWVudFtuYW1lXTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICB0ZXh0OiAoZnVuY3Rpb24oKSB7XHJcbiAgICBnZXRUZXh0LiRkdiA9ICcnO1xyXG4gICAgcmV0dXJuIGdldFRleHQ7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0VGV4dChlbGVtZW50LCB2YWx1ZSkge1xyXG4gICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcclxuICAgICAgICByZXR1cm4gKG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQpID8gZWxlbWVudC50ZXh0Q29udGVudCA6ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB2YWx1ZTtcclxuICAgIH1cclxuICB9KSgpLFxyXG5cclxuICB2YWw6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgIGlmIChlbGVtZW50Lm11bHRpcGxlICYmIG5vZGVOYW1lXyhlbGVtZW50KSA9PT0gJ3NlbGVjdCcpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yRWFjaChlbGVtZW50Lm9wdGlvbnMsIGZ1bmN0aW9uKG9wdGlvbikge1xyXG4gICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChvcHRpb24udmFsdWUgfHwgb3B0aW9uLnRleHQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQubGVuZ3RoID09PSAwID8gbnVsbCA6IHJlc3VsdDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZWxlbWVudC52YWx1ZTtcclxuICAgIH1cclxuICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZTtcclxuICB9LFxyXG5cclxuICBodG1sOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkge1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICByZXR1cm4gZWxlbWVudC5pbm5lckhUTUw7XHJcbiAgICB9XHJcbiAgICBqcUxpdGVEZWFsb2MoZWxlbWVudCwgdHJ1ZSk7XHJcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xyXG4gIH0sXHJcblxyXG4gIGVtcHR5OiBqcUxpdGVFbXB0eVxyXG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xyXG4gIC8qKlxyXG4gICAqIFByb3BlcnRpZXM6IHdyaXRlcyByZXR1cm4gc2VsZWN0aW9uLCByZWFkcyByZXR1cm4gZmlyc3QgdmFsdWVcclxuICAgKi9cclxuICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oYXJnMSwgYXJnMikge1xyXG4gICAgdmFyIGksIGtleTtcclxuICAgIHZhciBub2RlQ291bnQgPSB0aGlzLmxlbmd0aDtcclxuXHJcbiAgICAvLyBqcUxpdGVIYXNDbGFzcyBoYXMgb25seSB0d28gYXJndW1lbnRzLCBidXQgaXMgYSBnZXR0ZXItb25seSBmbiwgc28gd2UgbmVlZCB0byBzcGVjaWFsLWNhc2UgaXRcclxuICAgIC8vIGluIGEgd2F5IHRoYXQgc3Vydml2ZXMgbWluaWZpY2F0aW9uLlxyXG4gICAgLy8ganFMaXRlRW1wdHkgdGFrZXMgbm8gYXJndW1lbnRzIGJ1dCBpcyBhIHNldHRlci5cclxuICAgIGlmIChmbiAhPT0ganFMaXRlRW1wdHkgJiZcclxuICAgICAgICAoaXNVbmRlZmluZWQoKGZuLmxlbmd0aCA9PSAyICYmIChmbiAhPT0ganFMaXRlSGFzQ2xhc3MgJiYgZm4gIT09IGpxTGl0ZUNvbnRyb2xsZXIpKSA/IGFyZzEgOiBhcmcyKSkpIHtcclxuICAgICAgaWYgKGlzT2JqZWN0KGFyZzEpKSB7XHJcblxyXG4gICAgICAgIC8vIHdlIGFyZSBhIHdyaXRlLCBidXQgdGhlIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSB0aGUga2V5L3ZhbHVlc1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGZuID09PSBqcUxpdGVEYXRhKSB7XHJcbiAgICAgICAgICAgIC8vIGRhdGEoKSB0YWtlcyB0aGUgd2hvbGUgb2JqZWN0IGluIGpRdWVyeVxyXG4gICAgICAgICAgICBmbih0aGlzW2ldLCBhcmcxKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAoa2V5IGluIGFyZzEpIHtcclxuICAgICAgICAgICAgICBmbih0aGlzW2ldLCBrZXksIGFyZzFba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmV0dXJuIHNlbGYgZm9yIGNoYWluaW5nXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gd2UgYXJlIGEgcmVhZCwgc28gcmVhZCB0aGUgZmlyc3QgY2hpbGQuXHJcbiAgICAgICAgLy8gVE9ETzogZG8gd2Ugc3RpbGwgbmVlZCB0aGlzP1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZuLiRkdjtcclxuICAgICAgICAvLyBPbmx5IGlmIHdlIGhhdmUgJGR2IGRvIHdlIGl0ZXJhdGUgb3ZlciBhbGwsIG90aGVyd2lzZSBpdCBpcyBqdXN0IHRoZSBmaXJzdCBlbGVtZW50LlxyXG4gICAgICAgIHZhciBqaiA9IChpc1VuZGVmaW5lZCh2YWx1ZSkpID8gTWF0aC5taW4obm9kZUNvdW50LCAxKSA6IG5vZGVDb3VudDtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGpqOyBqKyspIHtcclxuICAgICAgICAgIHZhciBub2RlVmFsdWUgPSBmbih0aGlzW2pdLCBhcmcxLCBhcmcyKTtcclxuICAgICAgICAgIHZhbHVlID0gdmFsdWUgPyB2YWx1ZSArIG5vZGVWYWx1ZSA6IG5vZGVWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgc28gYXBwbHkgdG8gYWxsIGNoaWxkcmVuXHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlQ291bnQ7IGkrKykge1xyXG4gICAgICAgIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIHJldHVybiBzZWxmIGZvciBjaGFpbmluZ1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudHMpIHtcclxuICB2YXIgZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQsIHR5cGUpIHtcclxuICAgIC8vIGpRdWVyeSBzcGVjaWZpYyBhcGlcclxuICAgIGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGV2ZW50Rm5zID0gZXZlbnRzW3R5cGUgfHwgZXZlbnQudHlwZV07XHJcbiAgICB2YXIgZXZlbnRGbnNMZW5ndGggPSBldmVudEZucyA/IGV2ZW50Rm5zLmxlbmd0aCA6IDA7XHJcblxyXG4gICAgaWYgKCFldmVudEZuc0xlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgIGlmIChpc1VuZGVmaW5lZChldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpKSB7XHJcbiAgICAgIHZhciBvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtcclxuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xyXG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pIHtcclxuICAgICAgICAgIG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLmNhbGwoZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID09PSB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTb21lIGV2ZW50cyBoYXZlIHNwZWNpYWwgaGFuZGxlcnMgdGhhdCB3cmFwIHRoZSByZWFsIGhhbmRsZXJcclxuICAgIHZhciBoYW5kbGVyV3JhcHBlciA9IGV2ZW50Rm5zLnNwZWNpYWxIYW5kbGVyV3JhcHBlciB8fCBkZWZhdWx0SGFuZGxlcldyYXBwZXI7XHJcblxyXG4gICAgLy8gQ29weSBldmVudCBoYW5kbGVycyBpbiBjYXNlIGV2ZW50IGhhbmRsZXJzIGFycmF5IGlzIG1vZGlmaWVkIGR1cmluZyBleGVjdXRpb24uXHJcbiAgICBpZiAoKGV2ZW50Rm5zTGVuZ3RoID4gMSkpIHtcclxuICAgICAgZXZlbnRGbnMgPSBzaGFsbG93Q29weShldmVudEZucyk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudEZuc0xlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICghZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xyXG4gICAgICAgIGhhbmRsZXJXcmFwcGVyKGVsZW1lbnQsIGV2ZW50LCBldmVudEZuc1tpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjayBmb3IgYW5ndWxhck1vY2tzL2NsZWFyRGF0YUNhY2hlIHRoYXQgbWFrZXMgaXQgcG9zc2libGUgdG8gZGVyZWdpc3RlciBhbGxcclxuICAvLyAgICAgICBldmVudHMgb24gYGVsZW1lbnRgXHJcbiAgZXZlbnRIYW5kbGVyLmVsZW0gPSBlbGVtZW50O1xyXG4gIHJldHVybiBldmVudEhhbmRsZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlZmF1bHRIYW5kbGVyV3JhcHBlcihlbGVtZW50LCBldmVudCwgaGFuZGxlcikge1xyXG4gIGhhbmRsZXIuY2FsbChlbGVtZW50LCBldmVudCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNwZWNpYWxNb3VzZUhhbmRsZXJXcmFwcGVyKHRhcmdldCwgZXZlbnQsIGhhbmRsZXIpIHtcclxuICAvLyBSZWZlciB0byBqUXVlcnkncyBpbXBsZW1lbnRhdGlvbiBvZiBtb3VzZWVudGVyICYgbW91c2VsZWF2ZVxyXG4gIC8vIFJlYWQgYWJvdXQgbW91c2VlbnRlciBhbmQgbW91c2VsZWF2ZTpcclxuICAvLyBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19tb3VzZS5odG1sI2xpbms4XHJcbiAgdmFyIHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0O1xyXG4gIC8vIEZvciBtb3VzZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cclxuICAvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xyXG4gIGlmICghcmVsYXRlZCB8fCAocmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqcUxpdGVDb250YWlucy5jYWxsKHRhcmdldCwgcmVsYXRlZCkpKSB7XHJcbiAgICBoYW5kbGVyLmNhbGwodGFyZ2V0LCBldmVudCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gRnVuY3Rpb25zIGl0ZXJhdGluZyB0cmF2ZXJzYWwuXHJcbi8vIFRoZXNlIGZ1bmN0aW9ucyBjaGFpbiByZXN1bHRzIGludG8gYSBzaW5nbGVcclxuLy8gc2VsZWN0b3IuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5mb3JFYWNoKHtcclxuICByZW1vdmVEYXRhOiBqcUxpdGVSZW1vdmVEYXRhLFxyXG5cclxuICBvbjogZnVuY3Rpb24ganFMaXRlT24oZWxlbWVudCwgdHlwZSwgZm4sIHVuc3VwcG9ydGVkKSB7XHJcbiAgICBpZiAoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSkgdGhyb3cganFMaXRlTWluRXJyKCdvbmFyZ3MnLCAnanFMaXRlI29uKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYHNlbGVjdG9yYCBvciBgZXZlbnREYXRhYCBwYXJhbWV0ZXJzJyk7XHJcblxyXG4gICAgLy8gRG8gbm90IGFkZCBldmVudCBoYW5kbGVycyB0byBub24tZWxlbWVudHMgYmVjYXVzZSB0aGV5IHdpbGwgbm90IGJlIGNsZWFuZWQgdXAuXHJcbiAgICBpZiAoIWpxTGl0ZUFjY2VwdHNEYXRhKGVsZW1lbnQpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsIHRydWUpO1xyXG4gICAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZS5ldmVudHM7XHJcbiAgICB2YXIgaGFuZGxlID0gZXhwYW5kb1N0b3JlLmhhbmRsZTtcclxuXHJcbiAgICBpZiAoIWhhbmRsZSkge1xyXG4gICAgICBoYW5kbGUgPSBleHBhbmRvU3RvcmUuaGFuZGxlID0gY3JlYXRlRXZlbnRIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaHR0cDovL2pzcGVyZi5jb20vc3RyaW5nLWluZGV4b2YtdnMtc3BsaXRcclxuICAgIHZhciB0eXBlcyA9IHR5cGUuaW5kZXhPZignICcpID49IDAgPyB0eXBlLnNwbGl0KCcgJykgOiBbdHlwZV07XHJcbiAgICB2YXIgaSA9IHR5cGVzLmxlbmd0aDtcclxuXHJcbiAgICB2YXIgYWRkSGFuZGxlciA9IGZ1bmN0aW9uKHR5cGUsIHNwZWNpYWxIYW5kbGVyV3JhcHBlciwgbm9FdmVudExpc3RlbmVyKSB7XHJcbiAgICAgIHZhciBldmVudEZucyA9IGV2ZW50c1t0eXBlXTtcclxuXHJcbiAgICAgIGlmICghZXZlbnRGbnMpIHtcclxuICAgICAgICBldmVudEZucyA9IGV2ZW50c1t0eXBlXSA9IFtdO1xyXG4gICAgICAgIGV2ZW50Rm5zLnNwZWNpYWxIYW5kbGVyV3JhcHBlciA9IHNwZWNpYWxIYW5kbGVyV3JhcHBlcjtcclxuICAgICAgICBpZiAodHlwZSAhPT0gJyRkZXN0cm95JyAmJiAhbm9FdmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgICBhZGRFdmVudExpc3RlbmVyRm4oZWxlbWVudCwgdHlwZSwgaGFuZGxlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGV2ZW50Rm5zLnB1c2goZm4pO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgIHR5cGUgPSB0eXBlc1tpXTtcclxuICAgICAgaWYgKE1PVVNFX0VWRU5UX01BUFt0eXBlXSkge1xyXG4gICAgICAgIGFkZEhhbmRsZXIoTU9VU0VfRVZFTlRfTUFQW3R5cGVdLCBzcGVjaWFsTW91c2VIYW5kbGVyV3JhcHBlcik7XHJcbiAgICAgICAgYWRkSGFuZGxlcih0eXBlLCB1bmRlZmluZWQsIHRydWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFkZEhhbmRsZXIodHlwZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICBvZmY6IGpxTGl0ZU9mZixcclxuXHJcbiAgb25lOiBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikge1xyXG4gICAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KTtcclxuXHJcbiAgICAvL2FkZCB0aGUgbGlzdGVuZXIgdHdpY2Ugc28gdGhhdCB3aGVuIGl0IGlzIGNhbGxlZFxyXG4gICAgLy95b3UgY2FuIHJlbW92ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gYW5kIHN0aWxsIGJlXHJcbiAgICAvL2FibGUgdG8gY2FsbCBlbGVtZW50Lm9mZihldiwgZm4pIG5vcm1hbGx5XHJcbiAgICBlbGVtZW50Lm9uKHR5cGUsIGZ1bmN0aW9uIG9uRm4oKSB7XHJcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIGZuKTtcclxuICAgICAgZWxlbWVudC5vZmYodHlwZSwgb25Gbik7XHJcbiAgICB9KTtcclxuICAgIGVsZW1lbnQub24odHlwZSwgZm4pO1xyXG4gIH0sXHJcblxyXG4gIHJlcGxhY2VXaXRoOiBmdW5jdGlvbihlbGVtZW50LCByZXBsYWNlTm9kZSkge1xyXG4gICAgdmFyIGluZGV4LCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgICBqcUxpdGVEZWFsb2MoZWxlbWVudCk7XHJcbiAgICBmb3JFYWNoKG5ldyBKUUxpdGUocmVwbGFjZU5vZGUpLCBmdW5jdGlvbihub2RlKSB7XHJcbiAgICAgIGlmIChpbmRleCkge1xyXG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgaW5kZXgubmV4dFNpYmxpbmcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobm9kZSwgZWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgICAgaW5kZXggPSBub2RlO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuXHJcbiAgY2hpbGRyZW46IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIHZhciBjaGlsZHJlbiA9IFtdO1xyXG4gICAgZm9yRWFjaChlbGVtZW50LmNoaWxkTm9kZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XHJcbiAgICAgICAgY2hpbGRyZW4ucHVzaChlbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gY2hpbGRyZW47XHJcbiAgfSxcclxuXHJcbiAgY29udGVudHM6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIHJldHVybiBlbGVtZW50LmNvbnRlbnREb2N1bWVudCB8fCBlbGVtZW50LmNoaWxkTm9kZXMgfHwgW107XHJcbiAgfSxcclxuXHJcbiAgYXBwZW5kOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7XHJcbiAgICB2YXIgbm9kZVR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xyXG4gICAgaWYgKG5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCAmJiBub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UKSByZXR1cm47XHJcblxyXG4gICAgbm9kZSA9IG5ldyBKUUxpdGUobm9kZSk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbm9kZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHByZXBlbmQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHtcclxuICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xyXG4gICAgICB2YXIgaW5kZXggPSBlbGVtZW50LmZpcnN0Q2hpbGQ7XHJcbiAgICAgIGZvckVhY2gobmV3IEpRTGl0ZShub2RlKSwgZnVuY3Rpb24oY2hpbGQpIHtcclxuICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZShjaGlsZCwgaW5kZXgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICB3cmFwOiBmdW5jdGlvbihlbGVtZW50LCB3cmFwTm9kZSkge1xyXG4gICAganFMaXRlV3JhcE5vZGUoZWxlbWVudCwganFMaXRlKHdyYXBOb2RlKS5lcSgwKS5jbG9uZSgpWzBdKTtcclxuICB9LFxyXG5cclxuICByZW1vdmU6IGpxTGl0ZVJlbW92ZSxcclxuXHJcbiAgZGV0YWNoOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBqcUxpdGVSZW1vdmUoZWxlbWVudCwgdHJ1ZSk7XHJcbiAgfSxcclxuXHJcbiAgYWZ0ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5ld0VsZW1lbnQpIHtcclxuICAgIHZhciBpbmRleCA9IGVsZW1lbnQsIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgIG5ld0VsZW1lbnQgPSBuZXcgSlFMaXRlKG5ld0VsZW1lbnQpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5ld0VsZW1lbnQubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICB2YXIgbm9kZSA9IG5ld0VsZW1lbnRbaV07XHJcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgaW5kZXgubmV4dFNpYmxpbmcpO1xyXG4gICAgICBpbmRleCA9IG5vZGU7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgYWRkQ2xhc3M6IGpxTGl0ZUFkZENsYXNzLFxyXG4gIHJlbW92ZUNsYXNzOiBqcUxpdGVSZW1vdmVDbGFzcyxcclxuXHJcbiAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yLCBjb25kaXRpb24pIHtcclxuICAgIGlmIChzZWxlY3Rvcikge1xyXG4gICAgICBmb3JFYWNoKHNlbGVjdG9yLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIHZhciBjbGFzc0NvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY2xhc3NDb25kaXRpb24pKSB7XHJcbiAgICAgICAgICBjbGFzc0NvbmRpdGlvbiA9ICFqcUxpdGVIYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAoY2xhc3NDb25kaXRpb24gPyBqcUxpdGVBZGRDbGFzcyA6IGpxTGl0ZVJlbW92ZUNsYXNzKShlbGVtZW50LCBjbGFzc05hbWUpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBwYXJlbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgICByZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UID8gcGFyZW50IDogbnVsbDtcclxuICB9LFxyXG5cclxuICBuZXh0OiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICByZXR1cm4gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgfSxcclxuXHJcbiAgZmluZDogZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IpIHtcclxuICAgIGlmIChlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBjbG9uZToganFMaXRlQ2xvbmUsXHJcblxyXG4gIHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbihlbGVtZW50LCBldmVudCwgZXh0cmFQYXJhbWV0ZXJzKSB7XHJcblxyXG4gICAgdmFyIGR1bW15RXZlbnQsIGV2ZW50Rm5zQ29weSwgaGFuZGxlckFyZ3M7XHJcbiAgICB2YXIgZXZlbnROYW1lID0gZXZlbnQudHlwZSB8fCBldmVudDtcclxuICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCk7XHJcbiAgICB2YXIgZXZlbnRzID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5ldmVudHM7XHJcbiAgICB2YXIgZXZlbnRGbnMgPSBldmVudHMgJiYgZXZlbnRzW2V2ZW50TmFtZV07XHJcblxyXG4gICAgaWYgKGV2ZW50Rm5zKSB7XHJcbiAgICAgIC8vIENyZWF0ZSBhIGR1bW15IGV2ZW50IHRvIHBhc3MgdG8gdGhlIGhhbmRsZXJzXHJcbiAgICAgIGR1bW15RXZlbnQgPSB7XHJcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9LFxyXG4gICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHRydWU7IH0sXHJcbiAgICAgICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHsgdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlOyB9LFxyXG4gICAgICAgIGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID09PSB0cnVlOyB9LFxyXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogbm9vcCxcclxuICAgICAgICB0eXBlOiBldmVudE5hbWUsXHJcbiAgICAgICAgdGFyZ2V0OiBlbGVtZW50XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBJZiBhIGN1c3RvbSBldmVudCB3YXMgcHJvdmlkZWQgdGhlbiBleHRlbmQgb3VyIGR1bW15IGV2ZW50IHdpdGggaXRcclxuICAgICAgaWYgKGV2ZW50LnR5cGUpIHtcclxuICAgICAgICBkdW1teUV2ZW50ID0gZXh0ZW5kKGR1bW15RXZlbnQsIGV2ZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29weSBldmVudCBoYW5kbGVycyBpbiBjYXNlIGV2ZW50IGhhbmRsZXJzIGFycmF5IGlzIG1vZGlmaWVkIGR1cmluZyBleGVjdXRpb24uXHJcbiAgICAgIGV2ZW50Rm5zQ29weSA9IHNoYWxsb3dDb3B5KGV2ZW50Rm5zKTtcclxuICAgICAgaGFuZGxlckFyZ3MgPSBleHRyYVBhcmFtZXRlcnMgPyBbZHVtbXlFdmVudF0uY29uY2F0KGV4dHJhUGFyYW1ldGVycykgOiBbZHVtbXlFdmVudF07XHJcblxyXG4gICAgICBmb3JFYWNoKGV2ZW50Rm5zQ29weSwgZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICBpZiAoIWR1bW15RXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xyXG4gICAgICAgICAgZm4uYXBwbHkoZWxlbWVudCwgaGFuZGxlckFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xyXG4gIC8qKlxyXG4gICAqIGNoYWluaW5nIGZ1bmN0aW9uc1xyXG4gICAqL1xyXG4gIEpRTGl0ZS5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbihhcmcxLCBhcmcyLCBhcmczKSB7XHJcbiAgICB2YXIgdmFsdWU7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICB2YWx1ZSA9IGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpO1xyXG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgICAvLyBhbnkgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIHZhbHVlIG5lZWRzIHRvIGJlIHdyYXBwZWRcclxuICAgICAgICAgIHZhbHVlID0ganFMaXRlKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAganFMaXRlQWRkTm9kZXModmFsdWUsIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLy8gYmluZCBsZWdhY3kgYmluZC91bmJpbmQgdG8gb24vb2ZmXHJcbiAgSlFMaXRlLnByb3RvdHlwZS5iaW5kID0gSlFMaXRlLnByb3RvdHlwZS5vbjtcclxuICBKUUxpdGUucHJvdG90eXBlLnVuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub2ZmO1xyXG59KTtcclxuXHJcblxyXG4vLyBQcm92aWRlciBmb3IgcHJpdmF0ZSAkJGpxTGl0ZSBzZXJ2aWNlXHJcbmZ1bmN0aW9uICQkanFMaXRlUHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gJCRqcUxpdGUoKSB7XHJcbiAgICByZXR1cm4gZXh0ZW5kKEpRTGl0ZSwge1xyXG4gICAgICBoYXNDbGFzczogZnVuY3Rpb24obm9kZSwgY2xhc3Nlcykge1xyXG4gICAgICAgIGlmIChub2RlLmF0dHIpIG5vZGUgPSBub2RlWzBdO1xyXG4gICAgICAgIHJldHVybiBqcUxpdGVIYXNDbGFzcyhub2RlLCBjbGFzc2VzKTtcclxuICAgICAgfSxcclxuICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKG5vZGUsIGNsYXNzZXMpIHtcclxuICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcclxuICAgICAgICByZXR1cm4ganFMaXRlQWRkQ2xhc3Mobm9kZSwgY2xhc3Nlcyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihub2RlLCBjbGFzc2VzKSB7XHJcbiAgICAgICAgaWYgKG5vZGUuYXR0cikgbm9kZSA9IG5vZGVbMF07XHJcbiAgICAgICAgcmV0dXJuIGpxTGl0ZVJlbW92ZUNsYXNzKG5vZGUsIGNsYXNzZXMpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQ29tcHV0ZXMgYSBoYXNoIG9mIGFuICdvYmonLlxyXG4gKiBIYXNoIG9mIGE6XHJcbiAqICBzdHJpbmcgaXMgc3RyaW5nXHJcbiAqICBudW1iZXIgaXMgbnVtYmVyIGFzIHN0cmluZ1xyXG4gKiAgb2JqZWN0IGlzIGVpdGhlciByZXN1bHQgb2YgY2FsbGluZyAkJGhhc2hLZXkgZnVuY3Rpb24gb24gdGhlIG9iamVjdCBvciB1bmlxdWVseSBnZW5lcmF0ZWQgaWQsXHJcbiAqICAgICAgICAgdGhhdCBpcyBhbHNvIGFzc2lnbmVkIHRvIHRoZSAkJGhhc2hLZXkgcHJvcGVydHkgb2YgdGhlIG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIG9ialxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBoYXNoIHN0cmluZyBzdWNoIHRoYXQgdGhlIHNhbWUgaW5wdXQgd2lsbCBoYXZlIHRoZSBzYW1lIGhhc2ggc3RyaW5nLlxyXG4gKiAgICAgICAgIFRoZSByZXN1bHRpbmcgc3RyaW5nIGtleSBpcyBpbiAndHlwZTpoYXNoS2V5JyBmb3JtYXQuXHJcbiAqL1xyXG5mdW5jdGlvbiBoYXNoS2V5KG9iaiwgbmV4dFVpZEZuKSB7XHJcbiAgdmFyIGtleSA9IG9iaiAmJiBvYmouJCRoYXNoS2V5O1xyXG5cclxuICBpZiAoa2V5KSB7XHJcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBrZXkgPSBvYmouJCRoYXNoS2V5KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ga2V5O1xyXG4gIH1cclxuXHJcbiAgdmFyIG9ialR5cGUgPSB0eXBlb2Ygb2JqO1xyXG4gIGlmIChvYmpUeXBlID09ICdmdW5jdGlvbicgfHwgKG9ialR5cGUgPT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsKSkge1xyXG4gICAga2V5ID0gb2JqLiQkaGFzaEtleSA9IG9ialR5cGUgKyAnOicgKyAobmV4dFVpZEZuIHx8IG5leHRVaWQpKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGtleSA9IG9ialR5cGUgKyAnOicgKyBvYmo7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ga2V5O1xyXG59XHJcblxyXG4vKipcclxuICogSGFzaE1hcCB3aGljaCBjYW4gdXNlIG9iamVjdHMgYXMga2V5c1xyXG4gKi9cclxuZnVuY3Rpb24gSGFzaE1hcChhcnJheSwgaXNvbGF0ZWRVaWQpIHtcclxuICBpZiAoaXNvbGF0ZWRVaWQpIHtcclxuICAgIHZhciB1aWQgPSAwO1xyXG4gICAgdGhpcy5uZXh0VWlkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiArK3VpZDtcclxuICAgIH07XHJcbiAgfVxyXG4gIGZvckVhY2goYXJyYXksIHRoaXMucHV0LCB0aGlzKTtcclxufVxyXG5IYXNoTWFwLnByb3RvdHlwZSA9IHtcclxuICAvKipcclxuICAgKiBTdG9yZSBrZXkgdmFsdWUgcGFpclxyXG4gICAqIEBwYXJhbSBrZXkga2V5IHRvIHN0b3JlIGNhbiBiZSBhbnkgdHlwZVxyXG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSB0byBzdG9yZSBjYW4gYmUgYW55IHR5cGVcclxuICAgKi9cclxuICBwdXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgIHRoaXNbaGFzaEtleShrZXksIHRoaXMubmV4dFVpZCldID0gdmFsdWU7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIGtleVxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHRoZSB2YWx1ZSBmb3IgdGhlIGtleVxyXG4gICAqL1xyXG4gIGdldDogZnVuY3Rpb24oa2V5KSB7XHJcbiAgICByZXR1cm4gdGhpc1toYXNoS2V5KGtleSwgdGhpcy5uZXh0VWlkKV07XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIHRoZSBrZXkvdmFsdWUgcGFpclxyXG4gICAqIEBwYXJhbSBrZXlcclxuICAgKi9cclxuICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xyXG4gICAgdmFyIHZhbHVlID0gdGhpc1trZXkgPSBoYXNoS2V5KGtleSwgdGhpcy5uZXh0VWlkKV07XHJcbiAgICBkZWxldGUgdGhpc1trZXldO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxufTtcclxuXHJcbnZhciAkJEhhc2hNYXBQcm92aWRlciA9IFtmdW5jdGlvbigpIHtcclxuICB0aGlzLiRnZXQgPSBbZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gSGFzaE1hcDtcclxuICB9XTtcclxufV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQG5hbWUgYW5ndWxhci5pbmplY3RvclxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ3JlYXRlcyBhbiBpbmplY3RvciBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBmb3IgcmV0cmlldmluZyBzZXJ2aWNlcyBhcyB3ZWxsIGFzIGZvclxyXG4gKiBkZXBlbmRlbmN5IGluamVjdGlvbiAoc2VlIHtAbGluayBndWlkZS9kaSBkZXBlbmRlbmN5IGluamVjdGlvbn0pLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBtb2R1bGVzIEEgbGlzdCBvZiBtb2R1bGUgZnVuY3Rpb25zIG9yIHRoZWlyIGFsaWFzZXMuIFNlZVxyXG4gKiAgICAge0BsaW5rIGFuZ3VsYXIubW9kdWxlfS4gVGhlIGBuZ2AgbW9kdWxlIG11c3QgYmUgZXhwbGljaXRseSBhZGRlZC5cclxuICogQHBhcmFtIHtib29sZWFuPX0gW3N0cmljdERpPWZhbHNlXSBXaGV0aGVyIHRoZSBpbmplY3RvciBzaG91bGQgYmUgaW4gc3RyaWN0IG1vZGUsIHdoaWNoXHJcbiAqICAgICBkaXNhbGxvd3MgYXJndW1lbnQgbmFtZSBhbm5vdGF0aW9uIGluZmVyZW5jZS5cclxuICogQHJldHVybnMge2luamVjdG9yfSBJbmplY3RvciBvYmplY3QuIFNlZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogVHlwaWNhbCB1c2FnZVxyXG4gKiBgYGBqc1xyXG4gKiAgIC8vIGNyZWF0ZSBhbiBpbmplY3RvclxyXG4gKiAgIHZhciAkaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKFsnbmcnXSk7XHJcbiAqXHJcbiAqICAgLy8gdXNlIHRoZSBpbmplY3RvciB0byBraWNrIG9mZiB5b3VyIGFwcGxpY2F0aW9uXHJcbiAqICAgLy8gdXNlIHRoZSB0eXBlIGluZmVyZW5jZSB0byBhdXRvIGluamVjdCBhcmd1bWVudHMsIG9yIHVzZSBpbXBsaWNpdCBpbmplY3Rpb25cclxuICogICAkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRyb290U2NvcGUsICRjb21waWxlLCAkZG9jdW1lbnQpIHtcclxuICogICAgICRjb21waWxlKCRkb2N1bWVudCkoJHJvb3RTY29wZSk7XHJcbiAqICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcclxuICogICB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFNvbWV0aW1lcyB5b3Ugd2FudCB0byBnZXQgYWNjZXNzIHRvIHRoZSBpbmplY3RvciBvZiBhIGN1cnJlbnRseSBydW5uaW5nIEFuZ3VsYXIgYXBwXHJcbiAqIGZyb20gb3V0c2lkZSBBbmd1bGFyLiBQZXJoYXBzLCB5b3Ugd2FudCB0byBpbmplY3QgYW5kIGNvbXBpbGUgc29tZSBtYXJrdXAgYWZ0ZXIgdGhlXHJcbiAqIGFwcGxpY2F0aW9uIGhhcyBiZWVuIGJvb3RzdHJhcHBlZC4gWW91IGNhbiBkbyB0aGlzIHVzaW5nIHRoZSBleHRyYSBgaW5qZWN0b3IoKWAgYWRkZWRcclxuICogdG8gSlF1ZXJ5L2pxTGl0ZSBlbGVtZW50cy4gU2VlIHtAbGluayBhbmd1bGFyLmVsZW1lbnR9LlxyXG4gKlxyXG4gKiAqVGhpcyBpcyBmYWlybHkgcmFyZSBidXQgY291bGQgYmUgdGhlIGNhc2UgaWYgYSB0aGlyZCBwYXJ0eSBsaWJyYXJ5IGlzIGluamVjdGluZyB0aGVcclxuICogbWFya3VwLipcclxuICpcclxuICogSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlIGEgbmV3IGJsb2NrIG9mIEhUTUwgY29udGFpbmluZyBhIGBuZy1jb250cm9sbGVyYFxyXG4gKiBkaXJlY3RpdmUgaXMgYWRkZWQgdG8gdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQgYm9keSBieSBKUXVlcnkuIFdlIHRoZW4gY29tcGlsZSBhbmQgbGlua1xyXG4gKiBpdCBpbnRvIHRoZSBjdXJyZW50IEFuZ3VsYXJKUyBzY29wZS5cclxuICpcclxuICogYGBganNcclxuICogdmFyICRkaXYgPSAkKCc8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNeUN0cmxcIj57e2NvbnRlbnQubGFiZWx9fTwvZGl2PicpO1xyXG4gKiAkKGRvY3VtZW50LmJvZHkpLmFwcGVuZCgkZGl2KTtcclxuICpcclxuICogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5pbmplY3RvcigpLmludm9rZShmdW5jdGlvbigkY29tcGlsZSkge1xyXG4gKiAgIHZhciBzY29wZSA9IGFuZ3VsYXIuZWxlbWVudCgkZGl2KS5zY29wZSgpO1xyXG4gKiAgICRjb21waWxlKCRkaXYpKHNjb3BlKTtcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIG1vZHVsZVxyXG4gKiBAbmFtZSBhdXRvXHJcbiAqIEBpbnN0YWxsYXRpb25cclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIEltcGxpY2l0IG1vZHVsZSB3aGljaCBnZXRzIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gZWFjaCB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cclxuICovXHJcblxyXG52YXIgQVJST1dfQVJHID0gL14oW15cXChdKz8pPT4vO1xyXG52YXIgRk5fQVJHUyA9IC9eW15cXChdKlxcKFxccyooW15cXCldKilcXCkvbTtcclxudmFyIEZOX0FSR19TUExJVCA9IC8sLztcclxudmFyIEZOX0FSRyA9IC9eXFxzKihfPykoXFxTKz8pXFwxXFxzKiQvO1xyXG52YXIgU1RSSVBfQ09NTUVOVFMgPSAvKChcXC9cXC8uKiQpfChcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKSkvbWc7XHJcbnZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpO1xyXG5cclxuZnVuY3Rpb24gZXh0cmFjdEFyZ3MoZm4pIHtcclxuICB2YXIgZm5UZXh0ID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZm4pLnJlcGxhY2UoU1RSSVBfQ09NTUVOVFMsICcnKSxcclxuICAgICAgYXJncyA9IGZuVGV4dC5tYXRjaChBUlJPV19BUkcpIHx8IGZuVGV4dC5tYXRjaChGTl9BUkdTKTtcclxuICByZXR1cm4gYXJncztcclxufVxyXG5cclxuZnVuY3Rpb24gYW5vbkZuKGZuKSB7XHJcbiAgLy8gRm9yIGFub255bW91cyBmdW5jdGlvbnMsIHNob3dpbmcgYXQgdGhlIHZlcnkgbGVhc3QgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBjYW4gaGVscCBpblxyXG4gIC8vIGRlYnVnZ2luZy5cclxuICB2YXIgYXJncyA9IGV4dHJhY3RBcmdzKGZuKTtcclxuICBpZiAoYXJncykge1xyXG4gICAgcmV0dXJuICdmdW5jdGlvbignICsgKGFyZ3NbMV0gfHwgJycpLnJlcGxhY2UoL1tcXHNcXHJcXG5dKy8sICcgJykgKyAnKSc7XHJcbiAgfVxyXG4gIHJldHVybiAnZm4nO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhbm5vdGF0ZShmbiwgc3RyaWN0RGksIG5hbWUpIHtcclxuICB2YXIgJGluamVjdCxcclxuICAgICAgYXJnRGVjbCxcclxuICAgICAgbGFzdDtcclxuXHJcbiAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgaWYgKCEoJGluamVjdCA9IGZuLiRpbmplY3QpKSB7XHJcbiAgICAgICRpbmplY3QgPSBbXTtcclxuICAgICAgaWYgKGZuLmxlbmd0aCkge1xyXG4gICAgICAgIGlmIChzdHJpY3REaSkge1xyXG4gICAgICAgICAgaWYgKCFpc1N0cmluZyhuYW1lKSB8fCAhbmFtZSkge1xyXG4gICAgICAgICAgICBuYW1lID0gZm4ubmFtZSB8fCBhbm9uRm4oZm4pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdzdHJpY3RkaScsXHJcbiAgICAgICAgICAgICd7MH0gaXMgbm90IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gYW5kIGNhbm5vdCBiZSBpbnZva2VkIGluIHN0cmljdCBtb2RlJywgbmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFyZ0RlY2wgPSBleHRyYWN0QXJncyhmbik7XHJcbiAgICAgICAgZm9yRWFjaChhcmdEZWNsWzFdLnNwbGl0KEZOX0FSR19TUExJVCksIGZ1bmN0aW9uKGFyZykge1xyXG4gICAgICAgICAgYXJnLnJlcGxhY2UoRk5fQVJHLCBmdW5jdGlvbihhbGwsIHVuZGVyc2NvcmUsIG5hbWUpIHtcclxuICAgICAgICAgICAgJGluamVjdC5wdXNoKG5hbWUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgZm4uJGluamVjdCA9ICRpbmplY3Q7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChpc0FycmF5KGZuKSkge1xyXG4gICAgbGFzdCA9IGZuLmxlbmd0aCAtIDE7XHJcbiAgICBhc3NlcnRBcmdGbihmbltsYXN0XSwgJ2ZuJyk7XHJcbiAgICAkaW5qZWN0ID0gZm4uc2xpY2UoMCwgbGFzdCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFzc2VydEFyZ0ZuKGZuLCAnZm4nLCB0cnVlKTtcclxuICB9XHJcbiAgcmV0dXJuICRpbmplY3Q7XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRpbmplY3RvclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogYCRpbmplY3RvcmAgaXMgdXNlZCB0byByZXRyaWV2ZSBvYmplY3QgaW5zdGFuY2VzIGFzIGRlZmluZWQgYnlcclxuICoge0BsaW5rIGF1dG8uJHByb3ZpZGUgcHJvdmlkZXJ9LCBpbnN0YW50aWF0ZSB0eXBlcywgaW52b2tlIG1ldGhvZHMsXHJcbiAqIGFuZCBsb2FkIG1vZHVsZXMuXHJcbiAqXHJcbiAqIFRoZSBmb2xsb3dpbmcgYWx3YXlzIGhvbGRzIHRydWU6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgdmFyICRpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoKTtcclxuICogICBleHBlY3QoJGluamVjdG9yLmdldCgnJGluamVjdG9yJykpLnRvQmUoJGluamVjdG9yKTtcclxuICogICBleHBlY3QoJGluamVjdG9yLmludm9rZShmdW5jdGlvbigkaW5qZWN0b3IpIHtcclxuICogICAgIHJldHVybiAkaW5qZWN0b3I7XHJcbiAqICAgfSkpLnRvQmUoJGluamVjdG9yKTtcclxuICogYGBgXHJcbiAqXHJcbiAqICMgSW5qZWN0aW9uIEZ1bmN0aW9uIEFubm90YXRpb25cclxuICpcclxuICogSmF2YVNjcmlwdCBkb2VzIG5vdCBoYXZlIGFubm90YXRpb25zLCBhbmQgYW5ub3RhdGlvbnMgYXJlIG5lZWRlZCBmb3IgZGVwZW5kZW5jeSBpbmplY3Rpb24uIFRoZVxyXG4gKiBmb2xsb3dpbmcgYXJlIGFsbCB2YWxpZCB3YXlzIG9mIGFubm90YXRpbmcgZnVuY3Rpb24gd2l0aCBpbmplY3Rpb24gYXJndW1lbnRzIGFuZCBhcmUgZXF1aXZhbGVudC5cclxuICpcclxuICogYGBganNcclxuICogICAvLyBpbmZlcnJlZCAob25seSB3b3JrcyBpZiBjb2RlIG5vdCBtaW5pZmllZC9vYmZ1c2NhdGVkKVxyXG4gKiAgICRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oc2VydmljZUEpe30pO1xyXG4gKlxyXG4gKiAgIC8vIGFubm90YXRlZFxyXG4gKiAgIGZ1bmN0aW9uIGV4cGxpY2l0KHNlcnZpY2VBKSB7fTtcclxuICogICBleHBsaWNpdC4kaW5qZWN0ID0gWydzZXJ2aWNlQSddO1xyXG4gKiAgICRpbmplY3Rvci5pbnZva2UoZXhwbGljaXQpO1xyXG4gKlxyXG4gKiAgIC8vIGlubGluZVxyXG4gKiAgICRpbmplY3Rvci5pbnZva2UoWydzZXJ2aWNlQScsIGZ1bmN0aW9uKHNlcnZpY2VBKXt9XSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIyBJbmZlcmVuY2VcclxuICpcclxuICogSW4gSmF2YVNjcmlwdCBjYWxsaW5nIGB0b1N0cmluZygpYCBvbiBhIGZ1bmN0aW9uIHJldHVybnMgdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24uIFRoZSBkZWZpbml0aW9uXHJcbiAqIGNhbiB0aGVuIGJlIHBhcnNlZCBhbmQgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50cyBjYW4gYmUgZXh0cmFjdGVkLiBUaGlzIG1ldGhvZCBvZiBkaXNjb3ZlcmluZ1xyXG4gKiBhbm5vdGF0aW9ucyBpcyBkaXNhbGxvd2VkIHdoZW4gdGhlIGluamVjdG9yIGlzIGluIHN0cmljdCBtb2RlLlxyXG4gKiAqTk9URToqIFRoaXMgZG9lcyBub3Qgd29yayB3aXRoIG1pbmlmaWNhdGlvbiwgYW5kIG9iZnVzY2F0aW9uIHRvb2xzIHNpbmNlIHRoZXNlIHRvb2xzIGNoYW5nZSB0aGVcclxuICogYXJndW1lbnQgbmFtZXMuXHJcbiAqXHJcbiAqICMjIGAkaW5qZWN0YCBBbm5vdGF0aW9uXHJcbiAqIEJ5IGFkZGluZyBhbiBgJGluamVjdGAgcHJvcGVydHkgb250byBhIGZ1bmN0aW9uIHRoZSBpbmplY3Rpb24gcGFyYW1ldGVycyBjYW4gYmUgc3BlY2lmaWVkLlxyXG4gKlxyXG4gKiAjIyBJbmxpbmVcclxuICogQXMgYW4gYXJyYXkgb2YgaW5qZWN0aW9uIG5hbWVzLCB3aGVyZSB0aGUgbGFzdCBpdGVtIGluIHRoZSBhcnJheSBpcyB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIG1ldGhvZFxyXG4gKiBAbmFtZSAkaW5qZWN0b3IjZ2V0XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBSZXR1cm4gYW4gaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZSB0byByZXRyaWV2ZS5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBjYWxsZXIgQW4gb3B0aW9uYWwgc3RyaW5nIHRvIHByb3ZpZGUgdGhlIG9yaWdpbiBvZiB0aGUgZnVuY3Rpb24gY2FsbCBmb3IgZXJyb3IgbWVzc2FnZXMuXHJcbiAqIEByZXR1cm4geyp9IFRoZSBpbnN0YW5jZS5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIG1ldGhvZFxyXG4gKiBAbmFtZSAkaW5qZWN0b3IjaW52b2tlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBJbnZva2UgdGhlIG1ldGhvZCBhbmQgc3VwcGx5IHRoZSBtZXRob2QgYXJndW1lbnRzIGZyb20gdGhlIGAkaW5qZWN0b3JgLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBmbiBUaGUgaW5qZWN0YWJsZSBmdW5jdGlvbiB0byBpbnZva2UuIEZ1bmN0aW9uIHBhcmFtZXRlcnMgYXJlXHJcbiAqICAgaW5qZWN0ZWQgYWNjb3JkaW5nIHRvIHRoZSB7QGxpbmsgZ3VpZGUvZGkgJGluamVjdCBBbm5vdGF0aW9ufSBydWxlcy5cclxuICogQHBhcmFtIHtPYmplY3Q9fSBzZWxmIFRoZSBgdGhpc2AgZm9yIHRoZSBpbnZva2VkIG1ldGhvZC5cclxuICogQHBhcmFtIHtPYmplY3Q9fSBsb2NhbHMgT3B0aW9uYWwgb2JqZWN0LiBJZiBwcmVzZXQgdGhlbiBhbnkgYXJndW1lbnQgbmFtZXMgYXJlIHJlYWQgZnJvbSB0aGlzXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCBmaXJzdCwgYmVmb3JlIHRoZSBgJGluamVjdG9yYCBpcyBjb25zdWx0ZWQuXHJcbiAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgcmV0dXJuZWQgYnkgdGhlIGludm9rZWQgYGZuYCBmdW5jdGlvbi5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIG1ldGhvZFxyXG4gKiBAbmFtZSAkaW5qZWN0b3IjaGFzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcXVlcnkgaWYgdGhlIHBhcnRpY3VsYXIgc2VydmljZSBleGlzdHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gcXVlcnkuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgaW5qZWN0b3IgaGFzIGdpdmVuIHNlcnZpY2UuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJGluamVjdG9yI2luc3RhbnRpYXRlXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgSlMgdHlwZS4gVGhlIG1ldGhvZCB0YWtlcyBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLCBpbnZva2VzIHRoZSBuZXdcclxuICogb3BlcmF0b3IsIGFuZCBzdXBwbGllcyBhbGwgb2YgdGhlIGFyZ3VtZW50cyB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24gYXMgc3BlY2lmaWVkIGJ5IHRoZVxyXG4gKiBjb25zdHJ1Y3RvciBhbm5vdGF0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBUeXBlIEFubm90YXRlZCBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cclxuICogQHBhcmFtIHtPYmplY3Q9fSBsb2NhbHMgT3B0aW9uYWwgb2JqZWN0LiBJZiBwcmVzZXQgdGhlbiBhbnkgYXJndW1lbnQgbmFtZXMgYXJlIHJlYWQgZnJvbSB0aGlzXHJcbiAqIG9iamVjdCBmaXJzdCwgYmVmb3JlIHRoZSBgJGluamVjdG9yYCBpcyBjb25zdWx0ZWQuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IG5ldyBpbnN0YW5jZSBvZiBgVHlwZWAuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJGluamVjdG9yI2Fubm90YXRlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIHNlcnZpY2UgbmFtZXMgd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIHJlcXVlc3RpbmcgZm9yIGluamVjdGlvbi4gVGhpcyBBUEkgaXNcclxuICogdXNlZCBieSB0aGUgaW5qZWN0b3IgdG8gZGV0ZXJtaW5lIHdoaWNoIHNlcnZpY2VzIG5lZWQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgZnVuY3Rpb24gd2hlbiB0aGVcclxuICogZnVuY3Rpb24gaXMgaW52b2tlZC4gVGhlcmUgYXJlIHRocmVlIHdheXMgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGNhbiBiZSBhbm5vdGF0ZWQgd2l0aCB0aGUgbmVlZGVkXHJcbiAqIGRlcGVuZGVuY2llcy5cclxuICpcclxuICogIyBBcmd1bWVudCBuYW1lc1xyXG4gKlxyXG4gKiBUaGUgc2ltcGxlc3QgZm9ybSBpcyB0byBleHRyYWN0IHRoZSBkZXBlbmRlbmNpZXMgZnJvbSB0aGUgYXJndW1lbnRzIG9mIHRoZSBmdW5jdGlvbi4gVGhpcyBpcyBkb25lXHJcbiAqIGJ5IGNvbnZlcnRpbmcgdGhlIGZ1bmN0aW9uIGludG8gYSBzdHJpbmcgdXNpbmcgYHRvU3RyaW5nKClgIG1ldGhvZCBhbmQgZXh0cmFjdGluZyB0aGUgYXJndW1lbnRcclxuICogbmFtZXMuXHJcbiAqIGBgYGpzXHJcbiAqICAgLy8gR2l2ZW5cclxuICogICBmdW5jdGlvbiBNeUNvbnRyb2xsZXIoJHNjb3BlLCAkcm91dGUpIHtcclxuICogICAgIC8vIC4uLlxyXG4gKiAgIH1cclxuICpcclxuICogICAvLyBUaGVuXHJcbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKE15Q29udHJvbGxlcikpLnRvRXF1YWwoWyckc2NvcGUnLCAnJHJvdXRlJ10pO1xyXG4gKiBgYGBcclxuICpcclxuICogWW91IGNhbiBkaXNhbGxvdyB0aGlzIG1ldGhvZCBieSB1c2luZyBzdHJpY3QgaW5qZWN0aW9uIG1vZGUuXHJcbiAqXHJcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgd2l0aCBjb2RlIG1pbmlmaWNhdGlvbiAvIG9iZnVzY2F0aW9uLiBGb3IgdGhpcyByZWFzb24gdGhlIGZvbGxvd2luZ1xyXG4gKiBhbm5vdGF0aW9uIHN0cmF0ZWdpZXMgYXJlIHN1cHBvcnRlZC5cclxuICpcclxuICogIyBUaGUgYCRpbmplY3RgIHByb3BlcnR5XHJcbiAqXHJcbiAqIElmIGEgZnVuY3Rpb24gaGFzIGFuIGAkaW5qZWN0YCBwcm9wZXJ0eSBhbmQgaXRzIHZhbHVlIGlzIGFuIGFycmF5IG9mIHN0cmluZ3MsIHRoZW4gdGhlIHN0cmluZ3NcclxuICogcmVwcmVzZW50IG5hbWVzIG9mIHNlcnZpY2VzIHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZ1bmN0aW9uLlxyXG4gKiBgYGBqc1xyXG4gKiAgIC8vIEdpdmVuXHJcbiAqICAgdmFyIE15Q29udHJvbGxlciA9IGZ1bmN0aW9uKG9iZnVzY2F0ZWRTY29wZSwgb2JmdXNjYXRlZFJvdXRlKSB7XHJcbiAqICAgICAvLyAuLi5cclxuICogICB9XHJcbiAqICAgLy8gRGVmaW5lIGZ1bmN0aW9uIGRlcGVuZGVuY2llc1xyXG4gKiAgIE15Q29udHJvbGxlclsnJGluamVjdCddID0gWyckc2NvcGUnLCAnJHJvdXRlJ107XHJcbiAqXHJcbiAqICAgLy8gVGhlblxyXG4gKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShNeUNvbnRyb2xsZXIpKS50b0VxdWFsKFsnJHNjb3BlJywgJyRyb3V0ZSddKTtcclxuICogYGBgXHJcbiAqXHJcbiAqICMgVGhlIGFycmF5IG5vdGF0aW9uXHJcbiAqXHJcbiAqIEl0IGlzIG9mdGVuIGRlc2lyYWJsZSB0byBpbmxpbmUgSW5qZWN0ZWQgZnVuY3Rpb25zIGFuZCB0aGF0J3Mgd2hlbiBzZXR0aW5nIHRoZSBgJGluamVjdGAgcHJvcGVydHlcclxuICogaXMgdmVyeSBpbmNvbnZlbmllbnQuIEluIHRoZXNlIHNpdHVhdGlvbnMgdXNpbmcgdGhlIGFycmF5IG5vdGF0aW9uIHRvIHNwZWNpZnkgdGhlIGRlcGVuZGVuY2llcyBpblxyXG4gKiBhIHdheSB0aGF0IHN1cnZpdmVzIG1pbmlmaWNhdGlvbiBpcyBhIGJldHRlciBjaG9pY2U6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgLy8gV2Ugd2lzaCB0byB3cml0ZSB0aGlzIChub3QgbWluaWZpY2F0aW9uIC8gb2JmdXNjYXRpb24gc2FmZSlcclxuICogICBpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJGNvbXBpbGUsICRyb290U2NvcGUpIHtcclxuICogICAgIC8vIC4uLlxyXG4gKiAgIH0pO1xyXG4gKlxyXG4gKiAgIC8vIFdlIGFyZSBmb3JjZWQgdG8gd3JpdGUgYnJlYWsgaW5saW5pbmdcclxuICogICB2YXIgdG1wRm4gPSBmdW5jdGlvbihvYmZ1c2NhdGVkQ29tcGlsZSwgb2JmdXNjYXRlZFJvb3RTY29wZSkge1xyXG4gKiAgICAgLy8gLi4uXHJcbiAqICAgfTtcclxuICogICB0bXBGbi4kaW5qZWN0ID0gWyckY29tcGlsZScsICckcm9vdFNjb3BlJ107XHJcbiAqICAgaW5qZWN0b3IuaW52b2tlKHRtcEZuKTtcclxuICpcclxuICogICAvLyBUbyBiZXR0ZXIgc3VwcG9ydCBpbmxpbmUgZnVuY3Rpb24gdGhlIGlubGluZSBhbm5vdGF0aW9uIGlzIHN1cHBvcnRlZFxyXG4gKiAgIGluamVjdG9yLmludm9rZShbJyRjb21waWxlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbihvYmZDb21waWxlLCBvYmZSb290U2NvcGUpIHtcclxuICogICAgIC8vIC4uLlxyXG4gKiAgIH1dKTtcclxuICpcclxuICogICAvLyBUaGVyZWZvcmVcclxuICogICBleHBlY3QoaW5qZWN0b3IuYW5ub3RhdGUoXHJcbiAqICAgICAgWyckY29tcGlsZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24ob2JmdXNfJGNvbXBpbGUsIG9iZnVzXyRyb290U2NvcGUpIHt9XSlcclxuICogICAgKS50b0VxdWFsKFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGZuIEZ1bmN0aW9uIGZvciB3aGljaCBkZXBlbmRlbnQgc2VydmljZSBuYW1lcyBuZWVkIHRvXHJcbiAqIGJlIHJldHJpZXZlZCBhcyBkZXNjcmliZWQgYWJvdmUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtzdHJpY3REaT1mYWxzZV0gRGlzYWxsb3cgYXJndW1lbnQgbmFtZSBhbm5vdGF0aW9uIGluZmVyZW5jZS5cclxuICpcclxuICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fSBUaGUgbmFtZXMgb2YgdGhlIHNlcnZpY2VzIHdoaWNoIHRoZSBmdW5jdGlvbiByZXF1aXJlcy5cclxuICovXHJcblxyXG5cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHByb3ZpZGVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFRoZSB7QGxpbmsgYXV0by4kcHJvdmlkZSAkcHJvdmlkZX0gc2VydmljZSBoYXMgYSBudW1iZXIgb2YgbWV0aG9kcyBmb3IgcmVnaXN0ZXJpbmcgY29tcG9uZW50c1xyXG4gKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gTWFueSBvZiB0aGVzZSBmdW5jdGlvbnMgYXJlIGFsc28gZXhwb3NlZCBvblxyXG4gKiB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9LlxyXG4gKlxyXG4gKiBBbiBBbmd1bGFyICoqc2VydmljZSoqIGlzIGEgc2luZ2xldG9uIG9iamVjdCBjcmVhdGVkIGJ5IGEgKipzZXJ2aWNlIGZhY3RvcnkqKi4gIFRoZXNlICoqc2VydmljZVxyXG4gKiBmYWN0b3JpZXMqKiBhcmUgZnVuY3Rpb25zIHdoaWNoLCBpbiB0dXJuLCBhcmUgY3JlYXRlZCBieSBhICoqc2VydmljZSBwcm92aWRlcioqLlxyXG4gKiBUaGUgKipzZXJ2aWNlIHByb3ZpZGVycyoqIGFyZSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMuIFdoZW4gaW5zdGFudGlhdGVkIHRoZXkgbXVzdCBjb250YWluIGFcclxuICogcHJvcGVydHkgY2FsbGVkIGAkZ2V0YCwgd2hpY2ggaG9sZHMgdGhlICoqc2VydmljZSBmYWN0b3J5KiogZnVuY3Rpb24uXHJcbiAqXHJcbiAqIFdoZW4geW91IHJlcXVlc3QgYSBzZXJ2aWNlLCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0gaXMgcmVzcG9uc2libGUgZm9yIGZpbmRpbmcgdGhlXHJcbiAqIGNvcnJlY3QgKipzZXJ2aWNlIHByb3ZpZGVyKiosIGluc3RhbnRpYXRpbmcgaXQgYW5kIHRoZW4gY2FsbGluZyBpdHMgYCRnZXRgICoqc2VydmljZSBmYWN0b3J5KipcclxuICogZnVuY3Rpb24gdG8gZ2V0IHRoZSBpbnN0YW5jZSBvZiB0aGUgKipzZXJ2aWNlKiouXHJcbiAqXHJcbiAqIE9mdGVuIHNlcnZpY2VzIGhhdmUgbm8gY29uZmlndXJhdGlvbiBvcHRpb25zIGFuZCB0aGVyZSBpcyBubyBuZWVkIHRvIGFkZCBtZXRob2RzIHRvIHRoZSBzZXJ2aWNlXHJcbiAqIHByb3ZpZGVyLiAgVGhlIHByb3ZpZGVyIHdpbGwgYmUgbm8gbW9yZSB0aGFuIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gd2l0aCBhIGAkZ2V0YCBwcm9wZXJ0eS4gRm9yXHJcbiAqIHRoZXNlIGNhc2VzIHRoZSB7QGxpbmsgYXV0by4kcHJvdmlkZSAkcHJvdmlkZX0gc2VydmljZSBoYXMgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyB0byByZWdpc3RlclxyXG4gKiBzZXJ2aWNlcyB3aXRob3V0IHNwZWNpZnlpbmcgYSBwcm92aWRlci5cclxuICpcclxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNwcm92aWRlciBwcm92aWRlcihwcm92aWRlcil9IC0gcmVnaXN0ZXJzIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogd2l0aCB0aGVcclxuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9XHJcbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjY29uc3RhbnQgY29uc3RhbnQob2JqKX0gLSByZWdpc3RlcnMgYSB2YWx1ZS9vYmplY3QgdGhhdCBjYW4gYmUgYWNjZXNzZWQgYnlcclxuICogICAgIHByb3ZpZGVycyBhbmQgc2VydmljZXMuXHJcbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWUob2JqKX0gLSByZWdpc3RlcnMgYSB2YWx1ZS9vYmplY3QgdGhhdCBjYW4gb25seSBiZSBhY2Nlc3NlZCBieVxyXG4gKiAgICAgc2VydmljZXMsIG5vdCBwcm92aWRlcnMuXHJcbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSBmYWN0b3J5KGZuKX0gLSByZWdpc3RlcnMgYSBzZXJ2aWNlICoqZmFjdG9yeSBmdW5jdGlvbioqLCBgZm5gLFxyXG4gKiAgICAgdGhhdCB3aWxsIGJlIHdyYXBwZWQgaW4gYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiBvYmplY3QsIHdob3NlIGAkZ2V0YCBwcm9wZXJ0eSB3aWxsIGNvbnRhaW4gdGhlXHJcbiAqICAgICBnaXZlbiBmYWN0b3J5IGZ1bmN0aW9uLlxyXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2Ugc2VydmljZShjbGFzcyl9IC0gcmVnaXN0ZXJzIGEgKipjb25zdHJ1Y3RvciBmdW5jdGlvbioqLCBgY2xhc3NgXHJcbiAqICAgICB0aGF0IHdpbGwgYmUgd3JhcHBlZCBpbiBhICoqc2VydmljZSBwcm92aWRlcioqIG9iamVjdCwgd2hvc2UgYCRnZXRgIHByb3BlcnR5IHdpbGwgaW5zdGFudGlhdGVcclxuICogICAgICBhIG5ldyBvYmplY3QgdXNpbmcgdGhlIGdpdmVuIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBTZWUgdGhlIGluZGl2aWR1YWwgbWV0aG9kcyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJHByb3ZpZGUjcHJvdmlkZXJcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFJlZ2lzdGVyIGEgKipwcm92aWRlciBmdW5jdGlvbioqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBQcm92aWRlciBmdW5jdGlvbnNcclxuICogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucywgd2hvc2UgaW5zdGFuY2VzIGFyZSByZXNwb25zaWJsZSBmb3IgXCJwcm92aWRpbmdcIiBhIGZhY3RvcnkgZm9yIGFcclxuICogc2VydmljZS5cclxuICpcclxuICogU2VydmljZSBwcm92aWRlciBuYW1lcyBzdGFydCB3aXRoIHRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRoZXkgcHJvdmlkZSBmb2xsb3dlZCBieSBgUHJvdmlkZXJgLlxyXG4gKiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2UgaGFzIGEgcHJvdmlkZXIgY2FsbGVkXHJcbiAqIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfS5cclxuICpcclxuICogU2VydmljZSBwcm92aWRlciBvYmplY3RzIGNhbiBoYXZlIGFkZGl0aW9uYWwgbWV0aG9kcyB3aGljaCBhbGxvdyBjb25maWd1cmF0aW9uIG9mIHRoZSBwcm92aWRlclxyXG4gKiBhbmQgaXRzIHNlcnZpY2UuIEltcG9ydGFudGx5LCB5b3UgY2FuIGNvbmZpZ3VyZSB3aGF0IGtpbmQgb2Ygc2VydmljZSBpcyBjcmVhdGVkIGJ5IHRoZSBgJGdldGBcclxuICogbWV0aG9kLCBvciBob3cgdGhhdCBzZXJ2aWNlIHdpbGwgYWN0LiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfSBoYXMgYVxyXG4gKiBtZXRob2Qge0BsaW5rIG5nLiRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWQgZGVidWdFbmFibGVkfVxyXG4gKiB3aGljaCBsZXRzIHlvdSBzcGVjaWZ5IHdoZXRoZXIgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2Ugd2lsbCBsb2cgZGVidWcgbWVzc2FnZXMgdG8gdGhlXHJcbiAqIGNvbnNvbGUgb3Igbm90LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuIE5PVEU6IHRoZSBwcm92aWRlciB3aWxsIGJlIGF2YWlsYWJsZSB1bmRlciBgbmFtZSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdQcm92aWRlcidgIGtleS5cclxuICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKCkpfSBwcm92aWRlciBJZiB0aGUgcHJvdmlkZXIgaXM6XHJcbiAqXHJcbiAqICAgLSBgT2JqZWN0YDogdGhlbiBpdCBzaG91bGQgaGF2ZSBhIGAkZ2V0YCBtZXRob2QuIFRoZSBgJGdldGAgbWV0aG9kIHdpbGwgYmUgaW52b2tlZCB1c2luZ1xyXG4gKiAgICAge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSAkaW5qZWN0b3IuaW52b2tlKCl9IHdoZW4gYW4gaW5zdGFuY2UgbmVlZHMgdG8gYmUgY3JlYXRlZC5cclxuICogICAtIGBDb25zdHJ1Y3RvcmA6IGEgbmV3IGluc3RhbmNlIG9mIHRoZSBwcm92aWRlciB3aWxsIGJlIGNyZWF0ZWQgdXNpbmdcclxuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnN0YW50aWF0ZSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoKX0sIHRoZW4gdHJlYXRlZCBhcyBgb2JqZWN0YC5cclxuICpcclxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxyXG5cclxuICogQGV4YW1wbGVcclxuICpcclxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBjcmVhdGUgYSBzaW1wbGUgZXZlbnQgdHJhY2tpbmcgc2VydmljZSBhbmQgcmVnaXN0ZXIgaXQgdXNpbmdcclxuICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjcHJvdmlkZXIgJHByb3ZpZGUucHJvdmlkZXIoKX0uXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAvLyBEZWZpbmUgdGhlIGV2ZW50VHJhY2tlciBwcm92aWRlclxyXG4gKiAgZnVuY3Rpb24gRXZlbnRUcmFja2VyUHJvdmlkZXIoKSB7XHJcbiAqICAgIHZhciB0cmFja2luZ1VybCA9ICcvdHJhY2snO1xyXG4gKlxyXG4gKiAgICAvLyBBIHByb3ZpZGVyIG1ldGhvZCBmb3IgY29uZmlndXJpbmcgd2hlcmUgdGhlIHRyYWNrZWQgZXZlbnRzIHNob3VsZCBiZWVuIHNhdmVkXHJcbiAqICAgIHRoaXMuc2V0VHJhY2tpbmdVcmwgPSBmdW5jdGlvbih1cmwpIHtcclxuICogICAgICB0cmFja2luZ1VybCA9IHVybDtcclxuICogICAgfTtcclxuICpcclxuICogICAgLy8gVGhlIHNlcnZpY2UgZmFjdG9yeSBmdW5jdGlvblxyXG4gKiAgICB0aGlzLiRnZXQgPSBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcclxuICogICAgICB2YXIgdHJhY2tlZEV2ZW50cyA9IHt9O1xyXG4gKiAgICAgIHJldHVybiB7XHJcbiAqICAgICAgICAvLyBDYWxsIHRoaXMgdG8gdHJhY2sgYW4gZXZlbnRcclxuICogICAgICAgIGV2ZW50OiBmdW5jdGlvbihldmVudCkge1xyXG4gKiAgICAgICAgICB2YXIgY291bnQgPSB0cmFja2VkRXZlbnRzW2V2ZW50XSB8fCAwO1xyXG4gKiAgICAgICAgICBjb3VudCArPSAxO1xyXG4gKiAgICAgICAgICB0cmFja2VkRXZlbnRzW2V2ZW50XSA9IGNvdW50O1xyXG4gKiAgICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAqICAgICAgICB9LFxyXG4gKiAgICAgICAgLy8gQ2FsbCB0aGlzIHRvIHNhdmUgdGhlIHRyYWNrZWQgZXZlbnRzIHRvIHRoZSB0cmFja2luZ1VybFxyXG4gKiAgICAgICAgc2F2ZTogZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgICAgICRodHRwLnBvc3QodHJhY2tpbmdVcmwsIHRyYWNrZWRFdmVudHMpO1xyXG4gKiAgICAgICAgfVxyXG4gKiAgICAgIH07XHJcbiAqICAgIH1dO1xyXG4gKiAgfVxyXG4gKlxyXG4gKiAgZGVzY3JpYmUoJ2V2ZW50VHJhY2tlcicsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICB2YXIgcG9zdFNweTtcclxuICpcclxuICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oJHByb3ZpZGUpIHtcclxuICogICAgICAvLyBSZWdpc3RlciB0aGUgZXZlbnRUcmFja2VyIHByb3ZpZGVyXHJcbiAqICAgICAgJHByb3ZpZGUucHJvdmlkZXIoJ2V2ZW50VHJhY2tlcicsIEV2ZW50VHJhY2tlclByb3ZpZGVyKTtcclxuICogICAgfSkpO1xyXG4gKlxyXG4gKiAgICBiZWZvcmVFYWNoKG1vZHVsZShmdW5jdGlvbihldmVudFRyYWNrZXJQcm92aWRlcikge1xyXG4gKiAgICAgIC8vIENvbmZpZ3VyZSBldmVudFRyYWNrZXIgcHJvdmlkZXJcclxuICogICAgICBldmVudFRyYWNrZXJQcm92aWRlci5zZXRUcmFja2luZ1VybCgnL2N1c3RvbS10cmFjaycpO1xyXG4gKiAgICB9KSk7XHJcbiAqXHJcbiAqICAgIGl0KCd0cmFja3MgZXZlbnRzJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlcikge1xyXG4gKiAgICAgIGV4cGVjdChldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJykpLnRvRXF1YWwoMSk7XHJcbiAqICAgICAgZXhwZWN0KGV2ZW50VHJhY2tlci5ldmVudCgnbG9naW4nKSkudG9FcXVhbCgyKTtcclxuICogICAgfSkpO1xyXG4gKlxyXG4gKiAgICBpdCgnc2F2ZXMgdG8gdGhlIHRyYWNraW5nIHVybCcsIGluamVjdChmdW5jdGlvbihldmVudFRyYWNrZXIsICRodHRwKSB7XHJcbiAqICAgICAgcG9zdFNweSA9IHNweU9uKCRodHRwLCAncG9zdCcpO1xyXG4gKiAgICAgIGV2ZW50VHJhY2tlci5ldmVudCgnbG9naW4nKTtcclxuICogICAgICBldmVudFRyYWNrZXIuc2F2ZSgpO1xyXG4gKiAgICAgIGV4cGVjdChwb3N0U3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1swXSkubm90LnRvRXF1YWwoJy90cmFjaycpO1xyXG4gKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLnRvRXF1YWwoJy9jdXN0b20tdHJhY2snKTtcclxuICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzFdKS50b0VxdWFsKHsgJ2xvZ2luJzogMSB9KTtcclxuICogICAgfSkpO1xyXG4gKiAgfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRwcm92aWRlI2ZhY3RvcnlcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFJlZ2lzdGVyIGEgKipzZXJ2aWNlIGZhY3RvcnkqKiwgd2hpY2ggd2lsbCBiZSBjYWxsZWQgdG8gcmV0dXJuIHRoZSBzZXJ2aWNlIGluc3RhbmNlLlxyXG4gKiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzIHByb3ZpZGVyIGNvbnNpc3RzIG9mIG9ubHkgYSBgJGdldGAgcHJvcGVydHksXHJcbiAqIHdoaWNoIGlzIHRoZSBnaXZlbiBzZXJ2aWNlIGZhY3RvcnkgZnVuY3Rpb24uXHJcbiAqIFlvdSBzaG91bGQgdXNlIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgJHByb3ZpZGUuZmFjdG9yeShnZXRGbil9IGlmIHlvdSBkbyBub3QgbmVlZCB0b1xyXG4gKiBjb25maWd1cmUgeW91ciBzZXJ2aWNlIGluIGEgcHJvdmlkZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cclxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gJGdldEZuIFRoZSBpbmplY3RhYmxlICRnZXRGbiBmb3IgdGhlIGluc3RhbmNlIGNyZWF0aW9uLlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICBJbnRlcm5hbGx5IHRoaXMgaXMgYSBzaG9ydCBoYW5kIGZvciBgJHByb3ZpZGUucHJvdmlkZXIobmFtZSwgeyRnZXQ6ICRnZXRGbn0pYC5cclxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlXHJcbiAqIGBgYGpzXHJcbiAqICAgJHByb3ZpZGUuZmFjdG9yeSgncGluZycsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xyXG4gKiAgICAgcmV0dXJuIGZ1bmN0aW9uIHBpbmcoKSB7XHJcbiAqICAgICAgIHJldHVybiAkaHR0cC5zZW5kKCcvcGluZycpO1xyXG4gKiAgICAgfTtcclxuICogICB9XSk7XHJcbiAqIGBgYFxyXG4gKiBZb3Ugd291bGQgdGhlbiBpbmplY3QgYW5kIHVzZSB0aGlzIHNlcnZpY2UgbGlrZSB0aGlzOlxyXG4gKiBgYGBqc1xyXG4gKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHtcclxuICogICAgIHBpbmcoKTtcclxuICogICB9XSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIG1ldGhvZFxyXG4gKiBAbmFtZSAkcHJvdmlkZSNzZXJ2aWNlXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBSZWdpc3RlciBhICoqc2VydmljZSBjb25zdHJ1Y3RvcioqLCB3aGljaCB3aWxsIGJlIGludm9rZWQgd2l0aCBgbmV3YCB0byBjcmVhdGUgdGhlIHNlcnZpY2VcclxuICogaW5zdGFuY2UuXHJcbiAqIFRoaXMgaXMgc2hvcnQgZm9yIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB3aGVyZSBpdHMgcHJvdmlkZXIncyBgJGdldGAgcHJvcGVydHkgaXMgYSBmYWN0b3J5XHJcbiAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBpbnN0YW5jZSBpbnN0YW50aWF0ZWQgYnkgdGhlIGluamVjdG9yIGZyb20gdGhlIHNlcnZpY2UgY29uc3RydWN0b3JcclxuICogZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEludGVybmFsbHkgaXQgbG9va3MgYSBiaXQgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGBcclxuICoge1xyXG4gKiAgICRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgcmV0dXJuICRpbmplY3Rvci5pbnN0YW50aWF0ZShjb25zdHJ1Y3Rvcik7XHJcbiAqICAgfVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKlxyXG4gKiBZb3Ugc2hvdWxkIHVzZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlICRwcm92aWRlLnNlcnZpY2UoY2xhc3MpfSBpZiB5b3UgZGVmaW5lIHlvdXIgc2VydmljZVxyXG4gKiBhcyBhIHR5cGUvY2xhc3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cclxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gY29uc3RydWN0b3IgQW4gaW5qZWN0YWJsZSBjbGFzcyAoY29uc3RydWN0b3IgZnVuY3Rpb24pXHJcbiAqICAgICB0aGF0IHdpbGwgYmUgaW5zdGFudGlhdGVkLlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiByZWdpc3RlcmluZyBhIHNlcnZpY2UgdXNpbmdcclxuICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0uXHJcbiAqIGBgYGpzXHJcbiAqICAgdmFyIFBpbmcgPSBmdW5jdGlvbigkaHR0cCkge1xyXG4gKiAgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xyXG4gKiAgIH07XHJcbiAqXHJcbiAqICAgUGluZy4kaW5qZWN0ID0gWyckaHR0cCddO1xyXG4gKlxyXG4gKiAgIFBpbmcucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbigpIHtcclxuICogICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgnL3BpbmcnKTtcclxuICogICB9O1xyXG4gKiAgICRwcm92aWRlLnNlcnZpY2UoJ3BpbmcnLCBQaW5nKTtcclxuICogYGBgXHJcbiAqIFlvdSB3b3VsZCB0aGVuIGluamVjdCBhbmQgdXNlIHRoaXMgc2VydmljZSBsaWtlIHRoaXM6XHJcbiAqIGBgYGpzXHJcbiAqICAgc29tZU1vZHVsZS5jb250cm9sbGVyKCdDdHJsJywgWydwaW5nJywgZnVuY3Rpb24ocGluZykge1xyXG4gKiAgICAgcGluZy5zZW5kKCk7XHJcbiAqICAgfV0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJHByb3ZpZGUjdmFsdWVcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFJlZ2lzdGVyIGEgKip2YWx1ZSBzZXJ2aWNlKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIHN1Y2ggYXMgYSBzdHJpbmcsIGFcclxuICogbnVtYmVyLCBhbiBhcnJheSwgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24uIFRoaXMgaXMgc2hvcnQgZm9yIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB3aGVyZSBpdHNcclxuICogcHJvdmlkZXIncyBgJGdldGAgcHJvcGVydHkgaXMgYSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgdGFrZXMgbm8gYXJndW1lbnRzIGFuZCByZXR1cm5zIHRoZSAqKnZhbHVlXHJcbiAqIHNlcnZpY2UqKi4gVGhhdCBhbHNvIG1lYW5zIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBpbmplY3Qgb3RoZXIgc2VydmljZXMgaW50byBhIHZhbHVlIHNlcnZpY2UuXHJcbiAqXHJcbiAqIFZhbHVlIHNlcnZpY2VzIGFyZSBzaW1pbGFyIHRvIGNvbnN0YW50IHNlcnZpY2VzLCBleGNlcHQgdGhhdCB0aGV5IGNhbm5vdCBiZSBpbmplY3RlZCBpbnRvIGFcclxuICogbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYnV0IHRoZXkgY2FuIGJlIG92ZXJyaWRkZW4gYnlcclxuICogYW4gQW5ndWxhciB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yfS5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZS5cclxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBIZXJlIGFyZSBzb21lIGV4YW1wbGVzIG9mIGNyZWF0aW5nIHZhbHVlIHNlcnZpY2VzLlxyXG4gKiBgYGBqc1xyXG4gKiAgICRwcm92aWRlLnZhbHVlKCdBRE1JTl9VU0VSJywgJ2FkbWluJyk7XHJcbiAqXHJcbiAqICAgJHByb3ZpZGUudmFsdWUoJ1JvbGVMb29rdXAnLCB7IGFkbWluOiAwLCB3cml0ZXI6IDEsIHJlYWRlcjogMiB9KTtcclxuICpcclxuICogICAkcHJvdmlkZS52YWx1ZSgnaGFsZk9mJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICogICAgIHJldHVybiB2YWx1ZSAvIDI7XHJcbiAqICAgfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIG1ldGhvZFxyXG4gKiBAbmFtZSAkcHJvdmlkZSNjb25zdGFudFxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogUmVnaXN0ZXIgYSAqKmNvbnN0YW50IHNlcnZpY2UqKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSwgc3VjaCBhcyBhIHN0cmluZyxcclxuICogYSBudW1iZXIsIGFuIGFycmF5LCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbi4gTGlrZSB0aGUge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWV9LCBpdCBpcyBub3RcclxuICogcG9zc2libGUgdG8gaW5qZWN0IG90aGVyIHNlcnZpY2VzIGludG8gYSBjb25zdGFudC5cclxuICpcclxuICogQnV0IHVubGlrZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSB2YWx1ZX0sIGEgY29uc3RhbnQgY2FuIGJlXHJcbiAqIGluamVjdGVkIGludG8gYSBtb2R1bGUgY29uZmlndXJhdGlvbiBmdW5jdGlvbiAoc2VlIHtAbGluayBhbmd1bGFyLk1vZHVsZSNjb25maWd9KSBhbmQgaXQgY2Fubm90XHJcbiAqIGJlIG92ZXJyaWRkZW4gYnkgYW4gQW5ndWxhciB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yfS5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGNvbnN0YW50LlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBjb25zdGFudCB2YWx1ZS5cclxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBpbnN0YW5jZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBIZXJlIGEgc29tZSBleGFtcGxlcyBvZiBjcmVhdGluZyBjb25zdGFudHM6XHJcbiAqIGBgYGpzXHJcbiAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ1NIQVJEX0hFSUdIVCcsIDMwNik7XHJcbiAqXHJcbiAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ01ZX0NPTE9VUlMnLCBbJ3JlZCcsICdibHVlJywgJ2dyZXknXSk7XHJcbiAqXHJcbiAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ2RvdWJsZScsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAqICAgICByZXR1cm4gdmFsdWUgKiAyO1xyXG4gKiAgIH0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJHByb3ZpZGUjZGVjb3JhdG9yXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBSZWdpc3RlciBhICoqc2VydmljZSBkZWNvcmF0b3IqKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gQSBzZXJ2aWNlIGRlY29yYXRvclxyXG4gKiBpbnRlcmNlcHRzIHRoZSBjcmVhdGlvbiBvZiBhIHNlcnZpY2UsIGFsbG93aW5nIGl0IHRvIG92ZXJyaWRlIG9yIG1vZGlmeSB0aGUgYmVoYXZpb3Igb2YgdGhlXHJcbiAqIHNlcnZpY2UuIFRoZSBvYmplY3QgcmV0dXJuZWQgYnkgdGhlIGRlY29yYXRvciBtYXkgYmUgdGhlIG9yaWdpbmFsIHNlcnZpY2UsIG9yIGEgbmV3IHNlcnZpY2VcclxuICogb2JqZWN0IHdoaWNoIHJlcGxhY2VzIG9yIHdyYXBzIGFuZCBkZWxlZ2F0ZXMgdG8gdGhlIG9yaWdpbmFsIHNlcnZpY2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIGRlY29yYXRlLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBkZWNvcmF0b3IgVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgc2VydmljZSBuZWVkcyB0byBiZVxyXG4gKiAgICBpbnN0YW50aWF0ZWQgYW5kIHNob3VsZCByZXR1cm4gdGhlIGRlY29yYXRlZCBzZXJ2aWNlIGluc3RhbmNlLiBUaGUgZnVuY3Rpb24gaXMgY2FsbGVkIHVzaW5nXHJcbiAqICAgIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdG9yLmludm9rZX0gbWV0aG9kIGFuZCBpcyB0aGVyZWZvcmUgZnVsbHkgaW5qZWN0YWJsZS5cclxuICogICAgTG9jYWwgaW5qZWN0aW9uIGFyZ3VtZW50czpcclxuICpcclxuICogICAgKiBgJGRlbGVnYXRlYCAtIFRoZSBvcmlnaW5hbCBzZXJ2aWNlIGluc3RhbmNlLCB3aGljaCBjYW4gYmUgbW9ua2V5IHBhdGNoZWQsIGNvbmZpZ3VyZWQsXHJcbiAqICAgICAgZGVjb3JhdGVkIG9yIGRlbGVnYXRlZCB0by5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogSGVyZSB3ZSBkZWNvcmF0ZSB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSB0byBjb252ZXJ0IHdhcm5pbmdzIHRvIGVycm9ycyBieSBpbnRlcmNlcHRpbmdcclxuICogY2FsbHMgdG8ge0BsaW5rIG5nLiRsb2cjZXJyb3IgJGxvZy53YXJuKCl9LlxyXG4gKiBgYGBqc1xyXG4gKiAgICRwcm92aWRlLmRlY29yYXRvcignJGxvZycsIFsnJGRlbGVnYXRlJywgZnVuY3Rpb24oJGRlbGVnYXRlKSB7XHJcbiAqICAgICAkZGVsZWdhdGUud2FybiA9ICRkZWxlZ2F0ZS5lcnJvcjtcclxuICogICAgIHJldHVybiAkZGVsZWdhdGU7XHJcbiAqICAgfV0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IobW9kdWxlc1RvTG9hZCwgc3RyaWN0RGkpIHtcclxuICBzdHJpY3REaSA9IChzdHJpY3REaSA9PT0gdHJ1ZSk7XHJcbiAgdmFyIElOU1RBTlRJQVRJTkcgPSB7fSxcclxuICAgICAgcHJvdmlkZXJTdWZmaXggPSAnUHJvdmlkZXInLFxyXG4gICAgICBwYXRoID0gW10sXHJcbiAgICAgIGxvYWRlZE1vZHVsZXMgPSBuZXcgSGFzaE1hcChbXSwgdHJ1ZSksXHJcbiAgICAgIHByb3ZpZGVyQ2FjaGUgPSB7XHJcbiAgICAgICAgJHByb3ZpZGU6IHtcclxuICAgICAgICAgICAgcHJvdmlkZXI6IHN1cHBvcnRPYmplY3QocHJvdmlkZXIpLFxyXG4gICAgICAgICAgICBmYWN0b3J5OiBzdXBwb3J0T2JqZWN0KGZhY3RvcnkpLFxyXG4gICAgICAgICAgICBzZXJ2aWNlOiBzdXBwb3J0T2JqZWN0KHNlcnZpY2UpLFxyXG4gICAgICAgICAgICB2YWx1ZTogc3VwcG9ydE9iamVjdCh2YWx1ZSksXHJcbiAgICAgICAgICAgIGNvbnN0YW50OiBzdXBwb3J0T2JqZWN0KGNvbnN0YW50KSxcclxuICAgICAgICAgICAgZGVjb3JhdG9yOiBkZWNvcmF0b3JcclxuICAgICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgcHJvdmlkZXJJbmplY3RvciA9IChwcm92aWRlckNhY2hlLiRpbmplY3RvciA9XHJcbiAgICAgICAgICBjcmVhdGVJbnRlcm5hbEluamVjdG9yKHByb3ZpZGVyQ2FjaGUsIGZ1bmN0aW9uKHNlcnZpY2VOYW1lLCBjYWxsZXIpIHtcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoY2FsbGVyKSkge1xyXG4gICAgICAgICAgICAgIHBhdGgucHVzaChjYWxsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5wcicsIFwiVW5rbm93biBwcm92aWRlcjogezB9XCIsIHBhdGguam9pbignIDwtICcpKTtcclxuICAgICAgICAgIH0pKSxcclxuICAgICAgaW5zdGFuY2VDYWNoZSA9IHt9LFxyXG4gICAgICBwcm90b0luc3RhbmNlSW5qZWN0b3IgPVxyXG4gICAgICAgICAgY3JlYXRlSW50ZXJuYWxJbmplY3RvcihpbnN0YW5jZUNhY2hlLCBmdW5jdGlvbihzZXJ2aWNlTmFtZSwgY2FsbGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lICsgcHJvdmlkZXJTdWZmaXgsIGNhbGxlcik7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUluamVjdG9yLmludm9rZShcclxuICAgICAgICAgICAgICAgIHByb3ZpZGVyLiRnZXQsIHByb3ZpZGVyLCB1bmRlZmluZWQsIHNlcnZpY2VOYW1lKTtcclxuICAgICAgICAgIH0pLFxyXG4gICAgICBpbnN0YW5jZUluamVjdG9yID0gcHJvdG9JbnN0YW5jZUluamVjdG9yO1xyXG5cclxuICBwcm92aWRlckNhY2hlWyckaW5qZWN0b3InICsgcHJvdmlkZXJTdWZmaXhdID0geyAkZ2V0OiB2YWx1ZUZuKHByb3RvSW5zdGFuY2VJbmplY3RvcikgfTtcclxuICB2YXIgcnVuQmxvY2tzID0gbG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCk7XHJcbiAgaW5zdGFuY2VJbmplY3RvciA9IHByb3RvSW5zdGFuY2VJbmplY3Rvci5nZXQoJyRpbmplY3RvcicpO1xyXG4gIGluc3RhbmNlSW5qZWN0b3Iuc3RyaWN0RGkgPSBzdHJpY3REaTtcclxuICBmb3JFYWNoKHJ1bkJsb2NrcywgZnVuY3Rpb24oZm4pIHsgaWYgKGZuKSBpbnN0YW5jZUluamVjdG9yLmludm9rZShmbik7IH0pO1xyXG5cclxuICByZXR1cm4gaW5zdGFuY2VJbmplY3RvcjtcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8gJHByb3ZpZGVyXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gIGZ1bmN0aW9uIHN1cHBvcnRPYmplY3QoZGVsZWdhdGUpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgIGlmIChpc09iamVjdChrZXkpKSB7XHJcbiAgICAgICAgZm9yRWFjaChrZXksIHJldmVyc2VQYXJhbXMoZGVsZWdhdGUpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZGVsZWdhdGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwcm92aWRlcihuYW1lLCBwcm92aWRlcl8pIHtcclxuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdzZXJ2aWNlJyk7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihwcm92aWRlcl8pIHx8IGlzQXJyYXkocHJvdmlkZXJfKSkge1xyXG4gICAgICBwcm92aWRlcl8gPSBwcm92aWRlckluamVjdG9yLmluc3RhbnRpYXRlKHByb3ZpZGVyXyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIXByb3ZpZGVyXy4kZ2V0KSB7XHJcbiAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigncGdldCcsIFwiUHJvdmlkZXIgJ3swfScgbXVzdCBkZWZpbmUgJGdldCBmYWN0b3J5IG1ldGhvZC5cIiwgbmFtZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJvdmlkZXJDYWNoZVtuYW1lICsgcHJvdmlkZXJTdWZmaXhdID0gcHJvdmlkZXJfO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZW5mb3JjZVJldHVyblZhbHVlKG5hbWUsIGZhY3RvcnkpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBlbmZvcmNlZFJldHVyblZhbHVlKCkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZmFjdG9yeSwgdGhpcyk7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChyZXN1bHQpKSB7XHJcbiAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCd1bmRlZicsIFwiUHJvdmlkZXIgJ3swfScgbXVzdCByZXR1cm4gYSB2YWx1ZSBmcm9tICRnZXQgZmFjdG9yeSBtZXRob2QuXCIsIG5hbWUpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZmFjdG9yeShuYW1lLCBmYWN0b3J5Rm4sIGVuZm9yY2UpIHtcclxuICAgIHJldHVybiBwcm92aWRlcihuYW1lLCB7XHJcbiAgICAgICRnZXQ6IGVuZm9yY2UgIT09IGZhbHNlID8gZW5mb3JjZVJldHVyblZhbHVlKG5hbWUsIGZhY3RvcnlGbikgOiBmYWN0b3J5Rm5cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2VydmljZShuYW1lLCBjb25zdHJ1Y3Rvcikge1xyXG4gICAgcmV0dXJuIGZhY3RvcnkobmFtZSwgWyckaW5qZWN0b3InLCBmdW5jdGlvbigkaW5qZWN0b3IpIHtcclxuICAgICAgcmV0dXJuICRpbmplY3Rvci5pbnN0YW50aWF0ZShjb25zdHJ1Y3Rvcik7XHJcbiAgICB9XSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB2YWx1ZShuYW1lLCB2YWwpIHsgcmV0dXJuIGZhY3RvcnkobmFtZSwgdmFsdWVGbih2YWwpLCBmYWxzZSk7IH1cclxuXHJcbiAgZnVuY3Rpb24gY29uc3RhbnQobmFtZSwgdmFsdWUpIHtcclxuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdjb25zdGFudCcpO1xyXG4gICAgcHJvdmlkZXJDYWNoZVtuYW1lXSA9IHZhbHVlO1xyXG4gICAgaW5zdGFuY2VDYWNoZVtuYW1lXSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZGVjb3JhdG9yKHNlcnZpY2VOYW1lLCBkZWNvckZuKSB7XHJcbiAgICB2YXIgb3JpZ1Byb3ZpZGVyID0gcHJvdmlkZXJJbmplY3Rvci5nZXQoc2VydmljZU5hbWUgKyBwcm92aWRlclN1ZmZpeCksXHJcbiAgICAgICAgb3JpZyRnZXQgPSBvcmlnUHJvdmlkZXIuJGdldDtcclxuXHJcbiAgICBvcmlnUHJvdmlkZXIuJGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgb3JpZ0luc3RhbmNlID0gaW5zdGFuY2VJbmplY3Rvci5pbnZva2Uob3JpZyRnZXQsIG9yaWdQcm92aWRlcik7XHJcbiAgICAgIHJldHVybiBpbnN0YW5jZUluamVjdG9yLmludm9rZShkZWNvckZuLCBudWxsLCB7JGRlbGVnYXRlOiBvcmlnSW5zdGFuY2V9KTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAvLyBNb2R1bGUgTG9hZGluZ1xyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIGZ1bmN0aW9uIGxvYWRNb2R1bGVzKG1vZHVsZXNUb0xvYWQpIHtcclxuICAgIGFzc2VydEFyZyhpc1VuZGVmaW5lZChtb2R1bGVzVG9Mb2FkKSB8fCBpc0FycmF5KG1vZHVsZXNUb0xvYWQpLCAnbW9kdWxlc1RvTG9hZCcsICdub3QgYW4gYXJyYXknKTtcclxuICAgIHZhciBydW5CbG9ja3MgPSBbXSwgbW9kdWxlRm47XHJcbiAgICBmb3JFYWNoKG1vZHVsZXNUb0xvYWQsIGZ1bmN0aW9uKG1vZHVsZSkge1xyXG4gICAgICBpZiAobG9hZGVkTW9kdWxlcy5nZXQobW9kdWxlKSkgcmV0dXJuO1xyXG4gICAgICBsb2FkZWRNb2R1bGVzLnB1dChtb2R1bGUsIHRydWUpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gcnVuSW52b2tlUXVldWUocXVldWUpIHtcclxuICAgICAgICB2YXIgaSwgaWk7XHJcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBxdWV1ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIgaW52b2tlQXJncyA9IHF1ZXVlW2ldLFxyXG4gICAgICAgICAgICAgIHByb3ZpZGVyID0gcHJvdmlkZXJJbmplY3Rvci5nZXQoaW52b2tlQXJnc1swXSk7XHJcblxyXG4gICAgICAgICAgcHJvdmlkZXJbaW52b2tlQXJnc1sxXV0uYXBwbHkocHJvdmlkZXIsIGludm9rZUFyZ3NbMl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoaXNTdHJpbmcobW9kdWxlKSkge1xyXG4gICAgICAgICAgbW9kdWxlRm4gPSBhbmd1bGFyTW9kdWxlKG1vZHVsZSk7XHJcbiAgICAgICAgICBydW5CbG9ja3MgPSBydW5CbG9ja3MuY29uY2F0KGxvYWRNb2R1bGVzKG1vZHVsZUZuLnJlcXVpcmVzKSkuY29uY2F0KG1vZHVsZUZuLl9ydW5CbG9ja3MpO1xyXG4gICAgICAgICAgcnVuSW52b2tlUXVldWUobW9kdWxlRm4uX2ludm9rZVF1ZXVlKTtcclxuICAgICAgICAgIHJ1bkludm9rZVF1ZXVlKG1vZHVsZUZuLl9jb25maWdCbG9ja3MpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihtb2R1bGUpKSB7XHJcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShtb2R1bGUpKSB7XHJcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhc3NlcnRBcmdGbihtb2R1bGUsICdtb2R1bGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShtb2R1bGUpKSB7XHJcbiAgICAgICAgICBtb2R1bGUgPSBtb2R1bGVbbW9kdWxlLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZS5tZXNzYWdlICYmIGUuc3RhY2sgJiYgZS5zdGFjay5pbmRleE9mKGUubWVzc2FnZSkgPT0gLTEpIHtcclxuICAgICAgICAgIC8vIFNhZmFyaSAmIEZGJ3Mgc3RhY2sgdHJhY2VzIGRvbid0IGNvbnRhaW4gZXJyb3IubWVzc2FnZSBjb250ZW50XHJcbiAgICAgICAgICAvLyB1bmxpa2UgdGhvc2Ugb2YgQ2hyb21lIGFuZCBJRVxyXG4gICAgICAgICAgLy8gU28gaWYgc3RhY2sgZG9lc24ndCBjb250YWluIG1lc3NhZ2UsIHdlIGNyZWF0ZSBhIG5ldyBzdHJpbmcgdGhhdCBjb250YWlucyBib3RoLlxyXG4gICAgICAgICAgLy8gU2luY2UgZXJyb3Iuc3RhY2sgaXMgcmVhZC1vbmx5IGluIFNhZmFyaSwgSSdtIG92ZXJyaWRpbmcgZSBhbmQgbm90IGUuc3RhY2sgaGVyZS5cclxuICAgICAgICAgIC8qIGpzaGludCAtVzAyMiAqL1xyXG4gICAgICAgICAgZSA9IGUubWVzc2FnZSArICdcXG4nICsgZS5zdGFjaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdtb2R1bGVycicsIFwiRmFpbGVkIHRvIGluc3RhbnRpYXRlIG1vZHVsZSB7MH0gZHVlIHRvOlxcbnsxfVwiLFxyXG4gICAgICAgICAgICAgICAgICBtb2R1bGUsIGUuc3RhY2sgfHwgZS5tZXNzYWdlIHx8IGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBydW5CbG9ja3M7XHJcbiAgfVxyXG5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAvLyBpbnRlcm5hbCBJbmplY3RvclxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVJbnRlcm5hbEluamVjdG9yKGNhY2hlLCBmYWN0b3J5KSB7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0U2VydmljZShzZXJ2aWNlTmFtZSwgY2FsbGVyKSB7XHJcbiAgICAgIGlmIChjYWNoZS5oYXNPd25Qcm9wZXJ0eShzZXJ2aWNlTmFtZSkpIHtcclxuICAgICAgICBpZiAoY2FjaGVbc2VydmljZU5hbWVdID09PSBJTlNUQU5USUFUSU5HKSB7XHJcbiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ2NkZXAnLCAnQ2lyY3VsYXIgZGVwZW5kZW5jeSBmb3VuZDogezB9JyxcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZSArICcgPC0gJyArIHBhdGguam9pbignIDwtICcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlW3NlcnZpY2VOYW1lXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgcGF0aC51bnNoaWZ0KHNlcnZpY2VOYW1lKTtcclxuICAgICAgICAgIGNhY2hlW3NlcnZpY2VOYW1lXSA9IElOU1RBTlRJQVRJTkc7XHJcbiAgICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdID0gZmFjdG9yeShzZXJ2aWNlTmFtZSwgY2FsbGVyKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGlmIChjYWNoZVtzZXJ2aWNlTmFtZV0gPT09IElOU1RBTlRJQVRJTkcpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGNhY2hlW3NlcnZpY2VOYW1lXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgcGF0aC5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBpbmplY3Rpb25BcmdzKGZuLCBsb2NhbHMsIHNlcnZpY2VOYW1lKSB7XHJcbiAgICAgIHZhciBhcmdzID0gW10sXHJcbiAgICAgICAgICAkaW5qZWN0ID0gY3JlYXRlSW5qZWN0b3IuJCRhbm5vdGF0ZShmbiwgc3RyaWN0RGksIHNlcnZpY2VOYW1lKTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSAkaW5qZWN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGtleSA9ICRpbmplY3RbaV07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ2l0a24nLFxyXG4gICAgICAgICAgICAgICAgICAnSW5jb3JyZWN0IGluamVjdGlvbiB0b2tlbiEgRXhwZWN0ZWQgc2VydmljZSBuYW1lIGFzIHN0cmluZywgZ290IHswfScsIGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFyZ3MucHVzaChsb2NhbHMgJiYgbG9jYWxzLmhhc093blByb3BlcnR5KGtleSkgPyBsb2NhbHNba2V5XSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFNlcnZpY2Uoa2V5LCBzZXJ2aWNlTmFtZSkpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBhcmdzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzQ2xhc3MoZnVuYykge1xyXG4gICAgICAvLyBJRSA5LTExIGRvIG5vdCBzdXBwb3J0IGNsYXNzZXMgYW5kIElFOSBsZWFrcyB3aXRoIHRoZSBjb2RlIGJlbG93LlxyXG4gICAgICBpZiAobXNpZSA8PSAxMSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICAvLyBXb3JrYXJvdW5kIGZvciBNUyBFZGdlLlxyXG4gICAgICAvLyBDaGVjayBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9GZWVkYmFjay9EZXRhaWxzLzIyMTE2NTNcclxuICAgICAgcmV0dXJuIHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgJiYgL14oPzpjbGFzc1xcc3xjb25zdHJ1Y3RvclxcKCkvLnRlc3QoRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZnVuYykpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGludm9rZShmbiwgc2VsZiwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xyXG4gICAgICBpZiAodHlwZW9mIGxvY2FscyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBzZXJ2aWNlTmFtZSA9IGxvY2FscztcclxuICAgICAgICBsb2NhbHMgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgYXJncyA9IGluamVjdGlvbkFyZ3MoZm4sIGxvY2Fscywgc2VydmljZU5hbWUpO1xyXG4gICAgICBpZiAoaXNBcnJheShmbikpIHtcclxuICAgICAgICBmbiA9IGZuW2ZuLmxlbmd0aCAtIDFdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWlzQ2xhc3MoZm4pKSB7XHJcbiAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vYW5ndWxhcmpzLWludm9rZS1hcHBseS12cy1zd2l0Y2hcclxuICAgICAgICAvLyAjNTM4OFxyXG4gICAgICAgIHJldHVybiBmbi5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcmdzLnVuc2hpZnQobnVsbCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoZm4sIGFyZ3MpKSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGluc3RhbnRpYXRlKFR5cGUsIGxvY2Fscywgc2VydmljZU5hbWUpIHtcclxuICAgICAgLy8gQ2hlY2sgaWYgVHlwZSBpcyBhbm5vdGF0ZWQgYW5kIHVzZSBqdXN0IHRoZSBnaXZlbiBmdW5jdGlvbiBhdCBuLTEgYXMgcGFyYW1ldGVyXHJcbiAgICAgIC8vIGUuZy4gc29tZU1vZHVsZS5mYWN0b3J5KCdncmVldGVyJywgWyckd2luZG93JywgZnVuY3Rpb24ocmVuYW1lZCR3aW5kb3cpIHt9XSk7XHJcbiAgICAgIHZhciBjdG9yID0gKGlzQXJyYXkoVHlwZSkgPyBUeXBlW1R5cGUubGVuZ3RoIC0gMV0gOiBUeXBlKTtcclxuICAgICAgdmFyIGFyZ3MgPSBpbmplY3Rpb25BcmdzKFR5cGUsIGxvY2Fscywgc2VydmljZU5hbWUpO1xyXG4gICAgICAvLyBFbXB0eSBvYmplY3QgYXQgcG9zaXRpb24gMCBpcyBpZ25vcmVkIGZvciBpbnZvY2F0aW9uIHdpdGggYG5ld2AsIGJ1dCByZXF1aXJlZC5cclxuICAgICAgYXJncy51bnNoaWZ0KG51bGwpO1xyXG4gICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjdG9yLCBhcmdzKSkoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaW52b2tlOiBpbnZva2UsXHJcbiAgICAgIGluc3RhbnRpYXRlOiBpbnN0YW50aWF0ZSxcclxuICAgICAgZ2V0OiBnZXRTZXJ2aWNlLFxyXG4gICAgICBhbm5vdGF0ZTogY3JlYXRlSW5qZWN0b3IuJCRhbm5vdGF0ZSxcclxuICAgICAgaGFzOiBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSArIHByb3ZpZGVyU3VmZml4KSB8fCBjYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbmNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUgPSBhbm5vdGF0ZTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJGFuY2hvclNjcm9sbFByb3ZpZGVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2UgYCRhbmNob3JTY3JvbGxQcm92aWRlcmAgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nIHdoZW5ldmVyXHJcbiAqIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSBjaGFuZ2VzLlxyXG4gKi9cclxuZnVuY3Rpb24gJEFuY2hvclNjcm9sbFByb3ZpZGVyKCkge1xyXG5cclxuICB2YXIgYXV0b1Njcm9sbGluZ0VuYWJsZWQgPSB0cnVlO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGFuY2hvclNjcm9sbFByb3ZpZGVyI2Rpc2FibGVBdXRvU2Nyb2xsaW5nXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBCeSBkZWZhdWx0LCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCAkYW5jaG9yU2Nyb2xsKCl9IHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3QgY2hhbmdlcyB0b1xyXG4gICAqIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSBhbmQgc2Nyb2xsIHRvIHRoZSBlbGVtZW50IG1hdGNoaW5nIHRoZSBuZXcgaGFzaC48YnIgLz5cclxuICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nLlxyXG4gICAqXHJcbiAgICogSWYgYXV0b21hdGljIHNjcm9sbGluZyBpcyBkaXNhYmxlZCwgb25lIG11c3QgZXhwbGljaXRseSBjYWxsXHJcbiAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSBpbiBvcmRlciB0byBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgcmVsYXRlZCB0byB0aGVcclxuICAgKiBjdXJyZW50IGhhc2guXHJcbiAgICovXHJcbiAgdGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgYXV0b1Njcm9sbGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqIEByZXF1aXJlcyAkd2luZG93XHJcbiAgICogQHJlcXVpcmVzICRsb2NhdGlvblxyXG4gICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBXaGVuIGNhbGxlZCwgaXQgc2Nyb2xscyB0byB0aGUgZWxlbWVudCByZWxhdGVkIHRvIHRoZSBzcGVjaWZpZWQgYGhhc2hgIG9yIChpZiBvbWl0dGVkKSB0byB0aGVcclxuICAgKiBjdXJyZW50IHZhbHVlIG9mIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSwgYWNjb3JkaW5nIHRvIHRoZSBydWxlcyBzcGVjaWZpZWRcclxuICAgKiBpbiB0aGVcclxuICAgKiBbSFRNTDUgc3BlY10oaHR0cDovL3d3dy53My5vcmcvaHRtbC93Zy9kcmFmdHMvaHRtbC9tYXN0ZXIvYnJvd3NlcnMuaHRtbCN0aGUtaW5kaWNhdGVkLXBhcnQtb2YtdGhlLWRvY3VtZW50KS5cclxuICAgKlxyXG4gICAqIEl0IGFsc28gd2F0Y2hlcyB0aGUge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGFuZCBhdXRvbWF0aWNhbGx5IHNjcm9sbHMgdG9cclxuICAgKiBtYXRjaCBhbnkgYW5jaG9yIHdoZW5ldmVyIGl0IGNoYW5nZXMuIFRoaXMgY2FuIGJlIGRpc2FibGVkIGJ5IGNhbGxpbmdcclxuICAgKiB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbFByb3ZpZGVyI2Rpc2FibGVBdXRvU2Nyb2xsaW5nICRhbmNob3JTY3JvbGxQcm92aWRlci5kaXNhYmxlQXV0b1Njcm9sbGluZygpfS5cclxuICAgKlxyXG4gICAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiB1c2UgaXRzIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsI3lPZmZzZXQgeU9mZnNldH0gcHJvcGVydHkgdG8gc3BlY2lmeSBhXHJcbiAgICogdmVydGljYWwgc2Nyb2xsLW9mZnNldCAoZWl0aGVyIGZpeGVkIG9yIGR5bmFtaWMpLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBoYXNoIFRoZSBoYXNoIHNwZWNpZnlpbmcgdGhlIGVsZW1lbnQgdG8gc2Nyb2xsIHRvLiBJZiBvbWl0dGVkLCB0aGUgdmFsdWUgb2ZcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IHdpbGwgYmUgdXNlZC5cclxuICAgKlxyXG4gICAqIEBwcm9wZXJ0eSB7KG51bWJlcnxmdW5jdGlvbnxqcUxpdGUpfSB5T2Zmc2V0XHJcbiAgICogSWYgc2V0LCBzcGVjaWZpZXMgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0LiBUaGlzIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHRoZXJlIGFyZSBmaXhlZFxyXG4gICAqIHBvc2l0aW9uZWQgZWxlbWVudHMgYXQgdGhlIHRvcCBvZiB0aGUgcGFnZSwgc3VjaCBhcyBuYXZiYXJzLCBoZWFkZXJzIGV0Yy5cclxuICAgKlxyXG4gICAqIGB5T2Zmc2V0YCBjYW4gYmUgc3BlY2lmaWVkIGluIHZhcmlvdXMgd2F5czpcclxuICAgKiAtICoqbnVtYmVyKio6IEEgZml4ZWQgbnVtYmVyIG9mIHBpeGVscyB0byBiZSB1c2VkIGFzIG9mZnNldC48YnIgLz48YnIgLz5cclxuICAgKiAtICoqZnVuY3Rpb24qKjogQSBnZXR0ZXIgZnVuY3Rpb24gY2FsbGVkIGV2ZXJ5dGltZSBgJGFuY2hvclNjcm9sbCgpYCBpcyBleGVjdXRlZC4gTXVzdCByZXR1cm5cclxuICAgKiAgIGEgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgb2Zmc2V0IChpbiBwaXhlbHMpLjxiciAvPjxiciAvPlxyXG4gICAqIC0gKipqcUxpdGUqKjogQSBqcUxpdGUvalF1ZXJ5IGVsZW1lbnQgdG8gYmUgdXNlZCBmb3Igc3BlY2lmeWluZyB0aGUgb2Zmc2V0LiBUaGUgZGlzdGFuY2UgZnJvbVxyXG4gICAqICAgdGhlIHRvcCBvZiB0aGUgcGFnZSB0byB0aGUgZWxlbWVudCdzIGJvdHRvbSB3aWxsIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPlxyXG4gICAqICAgKipOb3RlKio6IFRoZSBlbGVtZW50IHdpbGwgYmUgdGFrZW4gaW50byBhY2NvdW50IG9ubHkgYXMgbG9uZyBhcyBpdHMgYHBvc2l0aW9uYCBpcyBzZXQgdG9cclxuICAgKiAgIGBmaXhlZGAuIFRoaXMgb3B0aW9uIGlzIHVzZWZ1bCwgd2hlbiBkZWFsaW5nIHdpdGggcmVzcG9uc2l2ZSBuYXZiYXJzL2hlYWRlcnMgdGhhdCBhZGp1c3RcclxuICAgKiAgIHRoZWlyIGhlaWdodCBhbmQvb3IgcG9zaXRpb25pbmcgYWNjb3JkaW5nIHRvIHRoZSB2aWV3cG9ydCdzIHNpemUuXHJcbiAgICpcclxuICAgKiA8YnIgLz5cclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqIEluIG9yZGVyIGZvciBgeU9mZnNldGAgdG8gd29yayBwcm9wZXJseSwgc2Nyb2xsaW5nIHNob3VsZCB0YWtlIHBsYWNlIG9uIHRoZSBkb2N1bWVudCdzIHJvb3QgYW5kXHJcbiAgICogbm90IHNvbWUgY2hpbGQgZWxlbWVudC5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsRXhhbXBsZVwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPGRpdiBpZD1cInNjcm9sbEFyZWFcIiBuZy1jb250cm9sbGVyPVwiU2Nyb2xsQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgIDxhIG5nLWNsaWNrPVwiZ290b0JvdHRvbSgpXCI+R28gdG8gYm90dG9tPC9hPlxyXG4gICAgICAgICAgIDxhIGlkPVwiYm90dG9tXCI+PC9hPiBZb3UncmUgYXQgdGhlIGJvdHRvbSFcclxuICAgICAgICAgPC9kaXY+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdhbmNob3JTY3JvbGxFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ1Njcm9sbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnJGFuY2hvclNjcm9sbCcsXHJcbiAgICAgICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24sICRhbmNob3JTY3JvbGwpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmdvdG9Cb3R0b20gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGxvY2F0aW9uLmhhc2ggdG8gdGhlIGlkIG9mXHJcbiAgICAgICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgeW91IHdpc2ggdG8gc2Nyb2xsIHRvLlxyXG4gICAgICAgICAgICAgICAgICRsb2NhdGlvbi5oYXNoKCdib3R0b20nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgLy8gY2FsbCAkYW5jaG9yU2Nyb2xsKClcclxuICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7XHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgICNzY3JvbGxBcmVhIHtcclxuICAgICAgICAgICBoZWlnaHQ6IDI4MHB4O1xyXG4gICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICAjYm90dG9tIHtcclxuICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAgICBtYXJnaW4tdG9wOiAyMDAwcHg7XHJcbiAgICAgICAgIH1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKiA8aHIgLz5cclxuICAgKiBUaGUgZXhhbXBsZSBiZWxvdyBpbGx1c3RyYXRlcyB0aGUgdXNlIG9mIGEgdmVydGljYWwgc2Nyb2xsLW9mZnNldCAoc3BlY2lmaWVkIGFzIGEgZml4ZWQgdmFsdWUpLlxyXG4gICAqIFNlZSB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0ICRhbmNob3JTY3JvbGwueU9mZnNldH0gZm9yIG1vcmUgZGV0YWlscy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZVwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPGRpdiBjbGFzcz1cImZpeGVkLWhlYWRlclwiIG5nLWNvbnRyb2xsZXI9XCJoZWFkZXJDdHJsXCI+XHJcbiAgICAgICAgICAgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ290b0FuY2hvcih4KVwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cclxuICAgICAgICAgICAgIEdvIHRvIGFuY2hvciB7e3h9fVxyXG4gICAgICAgICAgIDwvYT5cclxuICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgIDxkaXYgaWQ9XCJhbmNob3J7e3h9fVwiIGNsYXNzPVwiYW5jaG9yXCIgbmctcmVwZWF0PVwieCBpbiBbMSwyLDMsNCw1XVwiPlxyXG4gICAgICAgICAgIEFuY2hvciB7e3h9fSBvZiA1XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgIC5ydW4oWyckYW5jaG9yU2Nyb2xsJywgZnVuY3Rpb24oJGFuY2hvclNjcm9sbCkge1xyXG4gICAgICAgICAgICAgJGFuY2hvclNjcm9sbC55T2Zmc2V0ID0gNTA7ICAgLy8gYWx3YXlzIHNjcm9sbCBieSA1MCBleHRyYSBwaXhlbHNcclxuICAgICAgICAgICB9XSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignaGVhZGVyQ3RybCcsIFsnJGFuY2hvclNjcm9sbCcsICckbG9jYXRpb24nLCAnJHNjb3BlJyxcclxuICAgICAgICAgICAgIGZ1bmN0aW9uICgkYW5jaG9yU2Nyb2xsLCAkbG9jYXRpb24sICRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0FuY2hvciA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICAgICB2YXIgbmV3SGFzaCA9ICdhbmNob3InICsgeDtcclxuICAgICAgICAgICAgICAgICBpZiAoJGxvY2F0aW9uLmhhc2goKSAhPT0gbmV3SGFzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgLy8gc2V0IHRoZSAkbG9jYXRpb24uaGFzaCB0byBgbmV3SGFzaGAgYW5kXHJcbiAgICAgICAgICAgICAgICAgICAvLyAkYW5jaG9yU2Nyb2xsIHdpbGwgYXV0b21hdGljYWxseSBzY3JvbGwgdG8gaXRcclxuICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5oYXNoKCdhbmNob3InICsgeCk7XHJcbiAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpIGV4cGxpY2l0bHksXHJcbiAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSAkbG9jYXRpb24uaGFzaCBoYXNuJ3QgY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICBdKTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgICAgYm9keSB7XHJcbiAgICAgICAgICAgcGFkZGluZy10b3A6IDUwcHg7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIC5hbmNob3Ige1xyXG4gICAgICAgICAgIGJvcmRlcjogMnB4IGRhc2hlZCBEYXJrT3JjaGlkO1xyXG4gICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTBweCAyMDBweCAxMHB4O1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICAuZml4ZWQtaGVhZGVyIHtcclxuICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMik7XHJcbiAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgICB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICAuZml4ZWQtaGVhZGVyID4gYSB7XHJcbiAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgIG1hcmdpbjogNXB4IDE1cHg7XHJcbiAgICAgICAgIH1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHdpbmRvdywgJGxvY2F0aW9uLCAkcm9vdFNjb3BlKSB7XHJcbiAgICB2YXIgZG9jdW1lbnQgPSAkd2luZG93LmRvY3VtZW50O1xyXG5cclxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZmlyc3QgYW5jaG9yIGZyb20gYSBOb2RlTGlzdFxyXG4gICAgLy8gKHVzaW5nIGBBcnJheSNzb21lKClgIGluc3RlYWQgb2YgYGFuZ3VsYXIjZm9yRWFjaCgpYCBzaW5jZSBpdCdzIG1vcmUgcGVyZm9ybWFudFxyXG4gICAgLy8gIGFuZCB3b3JraW5nIGluIGFsbCBzdXBwb3J0ZWQgYnJvd3NlcnMuKVxyXG4gICAgZnVuY3Rpb24gZ2V0Rmlyc3RBbmNob3IobGlzdCkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcclxuICAgICAgQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChsaXN0LCBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKG5vZGVOYW1lXyhlbGVtZW50KSA9PT0gJ2EnKSB7XHJcbiAgICAgICAgICByZXN1bHQgPSBlbGVtZW50O1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRZT2Zmc2V0KCkge1xyXG5cclxuICAgICAgdmFyIG9mZnNldCA9IHNjcm9sbC55T2Zmc2V0O1xyXG5cclxuICAgICAgaWYgKGlzRnVuY3Rpb24ob2Zmc2V0KSkge1xyXG4gICAgICAgIG9mZnNldCA9IG9mZnNldCgpO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzRWxlbWVudChvZmZzZXQpKSB7XHJcbiAgICAgICAgdmFyIGVsZW0gPSBvZmZzZXRbMF07XHJcbiAgICAgICAgdmFyIHN0eWxlID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW0pO1xyXG4gICAgICAgIGlmIChzdHlsZS5wb3NpdGlvbiAhPT0gJ2ZpeGVkJykge1xyXG4gICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKCFpc051bWJlcihvZmZzZXQpKSB7XHJcbiAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG9mZnNldDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxUbyhlbGVtKSB7XHJcbiAgICAgIGlmIChlbGVtKSB7XHJcbiAgICAgICAgZWxlbS5zY3JvbGxJbnRvVmlldygpO1xyXG5cclxuICAgICAgICB2YXIgb2Zmc2V0ID0gZ2V0WU9mZnNldCgpO1xyXG5cclxuICAgICAgICBpZiAob2Zmc2V0KSB7XHJcbiAgICAgICAgICAvLyBgb2Zmc2V0YCBpcyB0aGUgbnVtYmVyIG9mIHBpeGVscyB3ZSBzaG91bGQgc2Nyb2xsIFVQIGluIG9yZGVyIHRvIGFsaWduIGBlbGVtYCBwcm9wZXJseS5cclxuICAgICAgICAgIC8vIFRoaXMgaXMgdHJ1ZSBPTkxZIGlmIHRoZSBjYWxsIHRvIGBlbGVtLnNjcm9sbEludG9WaWV3KClgIGluaXRpYWxseSBhbGlnbnMgYGVsZW1gIGF0IHRoZVxyXG4gICAgICAgICAgLy8gdG9wIG9mIHRoZSB2aWV3cG9ydC5cclxuICAgICAgICAgIC8vXHJcbiAgICAgICAgICAvLyBJRiB0aGUgbnVtYmVyIG9mIHBpeGVscyBmcm9tIHRoZSB0b3Agb2YgYGVsZW1gIHRvIHRoZSBlbmQgb2YgdGhlIHBhZ2UncyBjb250ZW50IGlzIGxlc3NcclxuICAgICAgICAgIC8vIHRoYW4gdGhlIGhlaWdodCBvZiB0aGUgdmlld3BvcnQsIHRoZW4gYGVsZW0uc2Nyb2xsSW50b1ZpZXcoKWAgd2lsbCBhbGlnbiB0aGUgYGVsZW1gIHNvbWVcclxuICAgICAgICAgIC8vIHdheSBkb3duIHRoZSBwYWdlLlxyXG4gICAgICAgICAgLy9cclxuICAgICAgICAgIC8vIFRoaXMgaXMgb2Z0ZW4gdGhlIGNhc2UgZm9yIGVsZW1lbnRzIG5lYXIgdGhlIGJvdHRvbSBvZiB0aGUgcGFnZS5cclxuICAgICAgICAgIC8vXHJcbiAgICAgICAgICAvLyBJbiBzdWNoIGNhc2VzIHdlIGRvIG5vdCBuZWVkIHRvIHNjcm9sbCB0aGUgd2hvbGUgYG9mZnNldGAgdXAsIGp1c3QgdGhlIGRpZmZlcmVuY2UgYmV0d2VlblxyXG4gICAgICAgICAgLy8gdGhlIHRvcCBvZiB0aGUgZWxlbWVudCBhbmQgdGhlIG9mZnNldCwgd2hpY2ggaXMgZW5vdWdoIHRvIGFsaWduIHRoZSB0b3Agb2YgYGVsZW1gIGF0IHRoZVxyXG4gICAgICAgICAgLy8gZGVzaXJlZCBwb3NpdGlvbi5cclxuICAgICAgICAgIHZhciBlbGVtVG9wID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICAgICAgICAkd2luZG93LnNjcm9sbEJ5KDAsIGVsZW1Ub3AgLSBvZmZzZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2Nyb2xsKGhhc2gpIHtcclxuICAgICAgaGFzaCA9IGlzU3RyaW5nKGhhc2gpID8gaGFzaCA6ICRsb2NhdGlvbi5oYXNoKCk7XHJcbiAgICAgIHZhciBlbG07XHJcblxyXG4gICAgICAvLyBlbXB0eSBoYXNoLCBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxyXG4gICAgICBpZiAoIWhhc2gpIHNjcm9sbFRvKG51bGwpO1xyXG5cclxuICAgICAgLy8gZWxlbWVudCB3aXRoIGdpdmVuIGlkXHJcbiAgICAgIGVsc2UgaWYgKChlbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoKSkpIHNjcm9sbFRvKGVsbSk7XHJcblxyXG4gICAgICAvLyBmaXJzdCBhbmNob3Igd2l0aCBnaXZlbiBuYW1lIDotRFxyXG4gICAgICBlbHNlIGlmICgoZWxtID0gZ2V0Rmlyc3RBbmNob3IoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoaGFzaCkpKSkgc2Nyb2xsVG8oZWxtKTtcclxuXHJcbiAgICAgIC8vIG5vIGVsZW1lbnQgYW5kIGhhc2ggPT0gJ3RvcCcsIHNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSBwYWdlXHJcbiAgICAgIGVsc2UgaWYgKGhhc2ggPT09ICd0b3AnKSBzY3JvbGxUbyhudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBkb2VzIG5vdCBzY3JvbGwgd2hlbiB1c2VyIGNsaWNrcyBvbiBhbmNob3IgbGluayB0aGF0IGlzIGN1cnJlbnRseSBvblxyXG4gICAgLy8gKG5vIHVybCBjaGFuZ2UsIG5vICRsb2NhdGlvbi5oYXNoKCkgY2hhbmdlKSwgYnJvd3NlciBuYXRpdmUgZG9lcyBzY3JvbGxcclxuICAgIGlmIChhdXRvU2Nyb2xsaW5nRW5hYmxlZCkge1xyXG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiBhdXRvU2Nyb2xsV2F0Y2goKSB7cmV0dXJuICRsb2NhdGlvbi5oYXNoKCk7fSxcclxuICAgICAgICBmdW5jdGlvbiBhdXRvU2Nyb2xsV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcclxuICAgICAgICAgIC8vIHNraXAgdGhlIGluaXRpYWwgc2Nyb2xsIGlmICRsb2NhdGlvbi5oYXNoIGlzIGVtcHR5XHJcbiAgICAgICAgICBpZiAobmV3VmFsID09PSBvbGRWYWwgJiYgbmV3VmFsID09PSAnJykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgIGpxTGl0ZURvY3VtZW50TG9hZGVkKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoc2Nyb2xsKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzY3JvbGw7XHJcbiAgfV07XHJcbn1cclxuXHJcbnZhciAkYW5pbWF0ZU1pbkVyciA9IG1pbkVycignJGFuaW1hdGUnKTtcclxudmFyIEVMRU1FTlRfTk9ERSA9IDE7XHJcbnZhciBOR19BTklNQVRFX0NMQVNTTkFNRSA9ICduZy1hbmltYXRlJztcclxuXHJcbmZ1bmN0aW9uIG1lcmdlQ2xhc3NlcyhhLGIpIHtcclxuICBpZiAoIWEgJiYgIWIpIHJldHVybiAnJztcclxuICBpZiAoIWEpIHJldHVybiBiO1xyXG4gIGlmICghYikgcmV0dXJuIGE7XHJcbiAgaWYgKGlzQXJyYXkoYSkpIGEgPSBhLmpvaW4oJyAnKTtcclxuICBpZiAoaXNBcnJheShiKSkgYiA9IGIuam9pbignICcpO1xyXG4gIHJldHVybiBhICsgJyAnICsgYjtcclxufVxyXG5cclxuZnVuY3Rpb24gZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpIHtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnQubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciBlbG0gPSBlbGVtZW50W2ldO1xyXG4gICAgaWYgKGVsbS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XHJcbiAgICAgIHJldHVybiBlbG07XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzcGxpdENsYXNzZXMoY2xhc3Nlcykge1xyXG4gIGlmIChpc1N0cmluZyhjbGFzc2VzKSkge1xyXG4gICAgY2xhc3NlcyA9IGNsYXNzZXMuc3BsaXQoJyAnKTtcclxuICB9XHJcblxyXG4gIC8vIFVzZSBjcmVhdGVNYXAoKSB0byBwcmV2ZW50IGNsYXNzIGFzc3VtcHRpb25zIGludm9sdmluZyBwcm9wZXJ0eSBuYW1lcyBpblxyXG4gIC8vIE9iamVjdC5wcm90b3R5cGVcclxuICB2YXIgb2JqID0gY3JlYXRlTWFwKCk7XHJcbiAgZm9yRWFjaChjbGFzc2VzLCBmdW5jdGlvbihrbGFzcykge1xyXG4gICAgLy8gc29tZXRpbWVzIHRoZSBzcGxpdCBsZWF2ZXMgZW1wdHkgc3RyaW5nIHZhbHVlc1xyXG4gICAgLy8gaW5jYXNlIGV4dHJhIHNwYWNlcyB3ZXJlIGFwcGxpZWQgdG8gdGhlIG9wdGlvbnNcclxuICAgIGlmIChrbGFzcy5sZW5ndGgpIHtcclxuICAgICAgb2JqW2tsYXNzXSA9IHRydWU7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuLy8gaWYgYW55IG90aGVyIHR5cGUgb2Ygb3B0aW9ucyB2YWx1ZSBiZXNpZGVzIGFuIE9iamVjdCB2YWx1ZSBpc1xyXG4vLyBwYXNzZWQgaW50byB0aGUgJGFuaW1hdGUubWV0aG9kKCkgYW5pbWF0aW9uIHRoZW4gdGhpcyBoZWxwZXIgY29kZVxyXG4vLyB3aWxsIGJlIHJ1biB3aGljaCB3aWxsIGlnbm9yZSBpdC4gV2hpbGUgdGhpcyBwYXRjaCBpcyBub3QgdGhlXHJcbi8vIGdyZWF0ZXN0IHNvbHV0aW9uIHRvIHRoaXMsIGEgbG90IG9mIGV4aXN0aW5nIHBsdWdpbnMgZGVwZW5kIG9uXHJcbi8vICRhbmltYXRlIHRvIGVpdGhlciBjYWxsIHRoZSBjYWxsYmFjayAoPCAxLjIpIG9yIHJldHVybiBhIHByb21pc2VcclxuLy8gdGhhdCBjYW4gYmUgY2hhbmdlZC4gVGhpcyBoZWxwZXIgZnVuY3Rpb24gZW5zdXJlcyB0aGF0IHRoZSBvcHRpb25zXHJcbi8vIGFyZSB3aXBlZCBjbGVhbiBpbmNhc2UgYSBjYWxsYmFjayBmdW5jdGlvbiBpcyBwcm92aWRlZC5cclxuZnVuY3Rpb24gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpIHtcclxuICByZXR1cm4gaXNPYmplY3Qob3B0aW9ucylcclxuICAgICAgPyBvcHRpb25zXHJcbiAgICAgIDoge307XHJcbn1cclxuXHJcbnZhciAkJENvcmVBbmltYXRlSnNQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMuJGdldCA9IG5vb3A7XHJcbn07XHJcblxyXG4vLyB0aGlzIGlzIHByZWZpeGVkIHdpdGggQ29yZSBzaW5jZSBpdCBjb25mbGljdHMgd2l0aFxyXG4vLyB0aGUgYW5pbWF0ZVF1ZXVlUHJvdmlkZXIgZGVmaW5lZCBpbiBuZ0FuaW1hdGUvYW5pbWF0ZVF1ZXVlLmpzXHJcbnZhciAkJENvcmVBbmltYXRlUXVldWVQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBwb3N0RGlnZXN0UXVldWUgPSBuZXcgSGFzaE1hcCgpO1xyXG4gIHZhciBwb3N0RGlnZXN0RWxlbWVudHMgPSBbXTtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckJEFuaW1hdGVSdW5uZXInLCAnJHJvb3RTY29wZScsXHJcbiAgICAgICBmdW5jdGlvbigkJEFuaW1hdGVSdW5uZXIsICAgJHJvb3RTY29wZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZW5hYmxlZDogbm9vcCxcclxuICAgICAgb246IG5vb3AsXHJcbiAgICAgIG9mZjogbm9vcCxcclxuICAgICAgcGluOiBub29wLFxyXG5cclxuICAgICAgcHVzaDogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGRvbU9wZXJhdGlvbikge1xyXG4gICAgICAgIGRvbU9wZXJhdGlvbiAgICAgICAgJiYgZG9tT3BlcmF0aW9uKCk7XHJcblxyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIG9wdGlvbnMuZnJvbSAgICAgICAgJiYgZWxlbWVudC5jc3Mob3B0aW9ucy5mcm9tKTtcclxuICAgICAgICBvcHRpb25zLnRvICAgICAgICAgICYmIGVsZW1lbnQuY3NzKG9wdGlvbnMudG8pO1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5hZGRDbGFzcyB8fCBvcHRpb25zLnJlbW92ZUNsYXNzKSB7XHJcbiAgICAgICAgICBhZGRSZW1vdmVDbGFzc2VzUG9zdERpZ2VzdChlbGVtZW50LCBvcHRpb25zLmFkZENsYXNzLCBvcHRpb25zLnJlbW92ZUNsYXNzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKCk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cclxuICAgICAgICAvLyBzaW5jZSB0aGVyZSBhcmUgbm8gYW5pbWF0aW9ucyB0byBydW4gdGhlIHJ1bm5lciBuZWVkcyB0byBiZVxyXG4gICAgICAgIC8vIG5vdGlmaWVkIHRoYXQgdGhlIGFuaW1hdGlvbiBjYWxsIGlzIGNvbXBsZXRlLlxyXG4gICAgICAgIHJ1bm5lci5jb21wbGV0ZSgpO1xyXG4gICAgICAgIHJldHVybiBydW5uZXI7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZURhdGEoZGF0YSwgY2xhc3NlcywgdmFsdWUpIHtcclxuICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgaWYgKGNsYXNzZXMpIHtcclxuICAgICAgICBjbGFzc2VzID0gaXNTdHJpbmcoY2xhc3NlcykgPyBjbGFzc2VzLnNwbGl0KCcgJykgOlxyXG4gICAgICAgICAgICAgICAgICBpc0FycmF5KGNsYXNzZXMpID8gY2xhc3NlcyA6IFtdO1xyXG4gICAgICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBkYXRhW2NsYXNzTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gY2hhbmdlZDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVDU1NDbGFzc0NoYW5nZXMoKSB7XHJcbiAgICAgIGZvckVhY2gocG9zdERpZ2VzdEVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBwb3N0RGlnZXN0UXVldWUuZ2V0KGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICB2YXIgZXhpc3RpbmcgPSBzcGxpdENsYXNzZXMoZWxlbWVudC5hdHRyKCdjbGFzcycpKTtcclxuICAgICAgICAgIHZhciB0b0FkZCA9ICcnO1xyXG4gICAgICAgICAgdmFyIHRvUmVtb3ZlID0gJyc7XHJcbiAgICAgICAgICBmb3JFYWNoKGRhdGEsIGZ1bmN0aW9uKHN0YXR1cywgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBoYXNDbGFzcyA9ICEhZXhpc3RpbmdbY2xhc3NOYW1lXTtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gaGFzQ2xhc3MpIHtcclxuICAgICAgICAgICAgICBpZiAoc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICB0b0FkZCArPSAodG9BZGQubGVuZ3RoID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0b1JlbW92ZSArPSAodG9SZW1vdmUubGVuZ3RoID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgZm9yRWFjaChlbGVtZW50LCBmdW5jdGlvbihlbG0pIHtcclxuICAgICAgICAgICAgdG9BZGQgICAgJiYganFMaXRlQWRkQ2xhc3MoZWxtLCB0b0FkZCk7XHJcbiAgICAgICAgICAgIHRvUmVtb3ZlICYmIGpxTGl0ZVJlbW92ZUNsYXNzKGVsbSwgdG9SZW1vdmUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBwb3N0RGlnZXN0UXVldWUucmVtb3ZlKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHBvc3REaWdlc3RFbGVtZW50cy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRSZW1vdmVDbGFzc2VzUG9zdERpZ2VzdChlbGVtZW50LCBhZGQsIHJlbW92ZSkge1xyXG4gICAgICB2YXIgZGF0YSA9IHBvc3REaWdlc3RRdWV1ZS5nZXQoZWxlbWVudCkgfHwge307XHJcblxyXG4gICAgICB2YXIgY2xhc3Nlc0FkZGVkID0gdXBkYXRlRGF0YShkYXRhLCBhZGQsIHRydWUpO1xyXG4gICAgICB2YXIgY2xhc3Nlc1JlbW92ZWQgPSB1cGRhdGVEYXRhKGRhdGEsIHJlbW92ZSwgZmFsc2UpO1xyXG5cclxuICAgICAgaWYgKGNsYXNzZXNBZGRlZCB8fCBjbGFzc2VzUmVtb3ZlZCkge1xyXG5cclxuICAgICAgICBwb3N0RGlnZXN0UXVldWUucHV0KGVsZW1lbnQsIGRhdGEpO1xyXG4gICAgICAgIHBvc3REaWdlc3RFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICBpZiAocG9zdERpZ2VzdEVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoaGFuZGxlQ1NTQ2xhc3NDaGFuZ2VzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJGFuaW1hdGVQcm92aWRlclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiAkYW5pbWF0ZSB0aGF0IGRvZXNuJ3QgcGVyZm9ybSBhbnkgYW5pbWF0aW9ucywgaW5zdGVhZCBqdXN0XHJcbiAqIHN5bmNocm9ub3VzbHkgcGVyZm9ybXMgRE9NIHVwZGF0ZXMgYW5kIHJlc29sdmVzIHRoZSByZXR1cm5lZCBydW5uZXIgcHJvbWlzZS5cclxuICpcclxuICogSW4gb3JkZXIgdG8gZW5hYmxlIGFuaW1hdGlvbnMgdGhlIGBuZ0FuaW1hdGVgIG1vZHVsZSBoYXMgdG8gYmUgbG9hZGVkLlxyXG4gKlxyXG4gKiBUbyBzZWUgdGhlIGZ1bmN0aW9uYWwgaW1wbGVtZW50YXRpb24gY2hlY2sgb3V0IGBzcmMvbmdBbmltYXRlL2FuaW1hdGUuanNgLlxyXG4gKi9cclxudmFyICRBbmltYXRlUHJvdmlkZXIgPSBbJyRwcm92aWRlJywgZnVuY3Rpb24oJHByb3ZpZGUpIHtcclxuICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xyXG5cclxuICB0aGlzLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG5cclxuICAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXIjcmVnaXN0ZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJlZ2lzdGVycyBhIG5ldyBpbmplY3RhYmxlIGFuaW1hdGlvbiBmYWN0b3J5IGZ1bmN0aW9uLiBUaGUgZmFjdG9yeSBmdW5jdGlvbiBwcm9kdWNlcyB0aGVcclxuICAgKiBhbmltYXRpb24gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIGNhbGxiYWNrIGZ1bmN0aW9ucyBmb3IgZWFjaCBldmVudCB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlXHJcbiAgICogYW5pbWF0ZWQuXHJcbiAgICpcclxuICAgKiAgICogYGV2ZW50Rm5gOiBgZnVuY3Rpb24oZWxlbWVudCwgLi4uICwgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKWBcclxuICAgKiAgIFRoZSBlbGVtZW50IHRvIGFuaW1hdGUsIHRoZSBgZG9uZUZ1bmN0aW9uYCBhbmQgdGhlIG9wdGlvbnMgZmVkIGludG8gdGhlIGFuaW1hdGlvbi4gRGVwZW5kaW5nXHJcbiAgICogICBvbiB0aGUgdHlwZSBvZiBhbmltYXRpb24gYWRkaXRpb25hbCBhcmd1bWVudHMgd2lsbCBiZSBpbmplY3RlZCBpbnRvIHRoZSBhbmltYXRpb24gZnVuY3Rpb24uIFRoZVxyXG4gICAqICAgbGlzdCBiZWxvdyBleHBsYWlucyB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlcyBmb3IgdGhlIGRpZmZlcmVudCBhbmltYXRpb24gbWV0aG9kczpcclxuICAgKlxyXG4gICAqICAgLSBzZXRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgYWRkZWRDbGFzc2VzLCByZW1vdmVkQ2xhc3NlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxyXG4gICAqICAgLSBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgYWRkZWRDbGFzc2VzLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXHJcbiAgICogICAtIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCByZW1vdmVkQ2xhc3NlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxyXG4gICAqICAgLSBlbnRlciwgbGVhdmUsIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcclxuICAgKiAgIC0gYW5pbWF0ZTogZnVuY3Rpb24oZWxlbWVudCwgZnJvbVN0eWxlcywgdG9TdHlsZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcclxuICAgKlxyXG4gICAqICAgTWFrZSBzdXJlIHRvIHRyaWdnZXIgdGhlIGBkb25lRnVuY3Rpb25gIG9uY2UgdGhlIGFuaW1hdGlvbiBpcyBmdWxseSBjb21wbGV0ZS5cclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogICByZXR1cm4ge1xyXG4gICAqICAgICAvL2VudGVyLCBsZWF2ZSwgbW92ZSBzaWduYXR1cmVcclxuICAgKiAgICAgZXZlbnRGbiA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUsIG9wdGlvbnMpIHtcclxuICAgKiAgICAgICAvL2NvZGUgdG8gcnVuIHRoZSBhbmltYXRpb25cclxuICAgKiAgICAgICAvL29uY2UgY29tcGxldGUsIHRoZW4gcnVuIGRvbmUoKVxyXG4gICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBlbmRGdW5jdGlvbih3YXNDYW5jZWxsZWQpIHtcclxuICAgKiAgICAgICAgIC8vY29kZSB0byBjYW5jZWwgdGhlIGFuaW1hdGlvblxyXG4gICAqICAgICAgIH1cclxuICAgKiAgICAgfVxyXG4gICAqICAgfVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGFuaW1hdGlvbiAodGhpcyBpcyB3aGF0IHRoZSBjbGFzcy1iYXNlZCBDU1MgdmFsdWUgd2lsbCBiZSBjb21wYXJlZCB0bykuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmFjdG9yeSBUaGUgZmFjdG9yeSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgdG8gcmV0dXJuIHRoZSBhbmltYXRpb25cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5cclxuICAgKi9cclxuICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgZmFjdG9yeSkge1xyXG4gICAgaWYgKG5hbWUgJiYgbmFtZS5jaGFyQXQoMCkgIT09ICcuJykge1xyXG4gICAgICB0aHJvdyAkYW5pbWF0ZU1pbkVycignbm90Y3NlbCcsIFwiRXhwZWN0aW5nIGNsYXNzIHNlbGVjdG9yIHN0YXJ0aW5nIHdpdGggJy4nIGdvdCAnezB9Jy5cIiwgbmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGtleSA9IG5hbWUgKyAnLWFuaW1hdGlvbic7XHJcbiAgICBwcm92aWRlci4kJHJlZ2lzdGVyZWRBbmltYXRpb25zW25hbWUuc3Vic3RyKDEpXSA9IGtleTtcclxuICAgICRwcm92aWRlLmZhY3Rvcnkoa2V5LCBmYWN0b3J5KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGFuaW1hdGVQcm92aWRlciNjbGFzc05hbWVGaWx0ZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgYW5kL29yIHJldHVybnMgdGhlIENTUyBjbGFzcyByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyBjaGVja2VkIHdoZW4gcGVyZm9ybWluZ1xyXG4gICAqIGFuIGFuaW1hdGlvbi4gVXBvbiBib290c3RyYXAgdGhlIGNsYXNzTmFtZUZpbHRlciB2YWx1ZSBpcyBub3Qgc2V0IGF0IGFsbCBhbmQgd2lsbFxyXG4gICAqIHRoZXJlZm9yZSBlbmFibGUgJGFuaW1hdGUgdG8gYXR0ZW1wdCB0byBwZXJmb3JtIGFuIGFuaW1hdGlvbiBvbiBhbnkgZWxlbWVudCB0aGF0IGlzIHRyaWdnZXJlZC5cclxuICAgKiBXaGVuIHNldHRpbmcgdGhlIGBjbGFzc05hbWVGaWx0ZXJgIHZhbHVlLCBhbmltYXRpb25zIHdpbGwgb25seSBiZSBwZXJmb3JtZWQgb24gZWxlbWVudHNcclxuICAgKiB0aGF0IHN1Y2Nlc3NmdWxseSBtYXRjaCB0aGUgZmlsdGVyIGV4cHJlc3Npb24uIFRoaXMgaW4gdHVybiBjYW4gYm9vc3QgcGVyZm9ybWFuY2VcclxuICAgKiBmb3IgbG93LXBvd2VyZWQgZGV2aWNlcyBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9ucyBjb250YWluaW5nIGEgbG90IG9mIHN0cnVjdHVyYWwgb3BlcmF0aW9ucy5cclxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IGV4cHJlc3Npb24gVGhlIGNsYXNzTmFtZSBleHByZXNzaW9uIHdoaWNoIHdpbGwgYmUgY2hlY2tlZCBhZ2FpbnN0IGFsbCBhbmltYXRpb25zXHJcbiAgICogQHJldHVybiB7UmVnRXhwfSBUaGUgY3VycmVudCBDU1MgY2xhc3NOYW1lIGV4cHJlc3Npb24gdmFsdWUuIElmIG51bGwgdGhlbiB0aGVyZSBpcyBubyBleHByZXNzaW9uIHZhbHVlXHJcbiAgICovXHJcbiAgdGhpcy5jbGFzc05hbWVGaWx0ZXIgPSBmdW5jdGlvbihleHByZXNzaW9uKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyID0gKGV4cHJlc3Npb24gaW5zdGFuY2VvZiBSZWdFeHApID8gZXhwcmVzc2lvbiA6IG51bGw7XHJcbiAgICAgIGlmICh0aGlzLiQkY2xhc3NOYW1lRmlsdGVyKSB7XHJcbiAgICAgICAgdmFyIHJlc2VydmVkUmVnZXggPSBuZXcgUmVnRXhwKFwiKFxcXFxzK3xcXFxcLylcIiArIE5HX0FOSU1BVEVfQ0xBU1NOQU1FICsgXCIoXFxcXHMrfFxcXFwvKVwiKTtcclxuICAgICAgICBpZiAocmVzZXJ2ZWRSZWdleC50ZXN0KHRoaXMuJCRjbGFzc05hbWVGaWx0ZXIudG9TdHJpbmcoKSkpIHtcclxuICAgICAgICAgIHRocm93ICRhbmltYXRlTWluRXJyKCdub25nY2xzJywnJGFuaW1hdGVQcm92aWRlci5jbGFzc05hbWVGaWx0ZXIocmVnZXgpIHByb2hpYml0cyBhY2NlcHRpbmcgYSByZWdleCB2YWx1ZSB3aGljaCBtYXRjaGVzL2NvbnRhaW5zIHRoZSBcInswfVwiIENTUyBjbGFzcy4nLCBOR19BTklNQVRFX0NMQVNTTkFNRSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXI7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckJGFuaW1hdGVRdWV1ZScsIGZ1bmN0aW9uKCQkYW5pbWF0ZVF1ZXVlKSB7XHJcbiAgICBmdW5jdGlvbiBkb21JbnNlcnQoZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50KSB7XHJcbiAgICAgIC8vIGlmIGZvciBzb21lIHJlYXNvbiB0aGUgcHJldmlvdXMgZWxlbWVudCB3YXMgcmVtb3ZlZFxyXG4gICAgICAvLyBmcm9tIHRoZSBkb20gc29tZXRpbWUgYmVmb3JlIHRoaXMgY29kZSBydW5zIHRoZW4gbGV0J3NcclxuICAgICAgLy8ganVzdCBzdGljayB0byB1c2luZyB0aGUgcGFyZW50IGVsZW1lbnQgYXMgdGhlIGFuY2hvclxyXG4gICAgICBpZiAoYWZ0ZXJFbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGFmdGVyTm9kZSA9IGV4dHJhY3RFbGVtZW50Tm9kZShhZnRlckVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChhZnRlck5vZGUgJiYgIWFmdGVyTm9kZS5wYXJlbnROb2RlICYmICFhZnRlck5vZGUucHJldmlvdXNFbGVtZW50U2libGluZykge1xyXG4gICAgICAgICAgYWZ0ZXJFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgYWZ0ZXJFbGVtZW50ID8gYWZ0ZXJFbGVtZW50LmFmdGVyKGVsZW1lbnQpIDogcGFyZW50RWxlbWVudC5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgICAqIEBuYW1lICRhbmltYXRlXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhlICRhbmltYXRlIHNlcnZpY2UgZXhwb3NlcyBhIHNlcmllcyBvZiBET00gdXRpbGl0eSBtZXRob2RzIHRoYXQgcHJvdmlkZSBzdXBwb3J0XHJcbiAgICAgKiBmb3IgYW5pbWF0aW9uIGhvb2tzLiBUaGUgZGVmYXVsdCBiZWhhdmlvciBpcyB0aGUgYXBwbGljYXRpb24gb2YgRE9NIG9wZXJhdGlvbnMsIGhvd2V2ZXIsXHJcbiAgICAgKiB3aGVuIGFuIGFuaW1hdGlvbiBpcyBkZXRlY3RlZCAoYW5kIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQpLCAkYW5pbWF0ZSB3aWxsIGRvIHRoZSBoZWF2eSBsaWZ0aW5nXHJcbiAgICAgKiB0byBlbnN1cmUgdGhhdCBhbmltYXRpb24gcnVucyB3aXRoIHRoZSB0cmlnZ2VyZWQgRE9NIG9wZXJhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBCeSBkZWZhdWx0ICRhbmltYXRlIGRvZXNuJ3QgdHJpZ2dlciBhbnkgYW5pbWF0aW9ucy4gVGhpcyBpcyBiZWNhdXNlIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgaXNuJ3RcclxuICAgICAqIGluY2x1ZGVkIGFuZCBvbmx5IHdoZW4gaXQgaXMgYWN0aXZlIHRoZW4gdGhlIGFuaW1hdGlvbiBob29rcyB0aGF0IGAkYW5pbWF0ZWAgdHJpZ2dlcnMgd2lsbCBiZVxyXG4gICAgICogZnVuY3Rpb25hbC4gT25jZSBhY3RpdmUgdGhlbiBhbGwgc3RydWN0dXJhbCBgbmctYCBkaXJlY3RpdmVzIHdpbGwgdHJpZ2dlciBhbmltYXRpb25zIGFzIHRoZXkgcGVyZm9ybVxyXG4gICAgICogdGhlaXIgRE9NLXJlbGF0ZWQgb3BlcmF0aW9ucyAoZW50ZXIsIGxlYXZlIGFuZCBtb3ZlKS4gT3RoZXIgZGlyZWN0aXZlcyBzdWNoIGFzIGBuZ0NsYXNzYCxcclxuICAgICAqIGBuZ1Nob3dgLCBgbmdIaWRlYCBhbmQgYG5nTWVzc2FnZXNgIGFsc28gcHJvdmlkZSBzdXBwb3J0IGZvciBhbmltYXRpb25zLlxyXG4gICAgICpcclxuICAgICAqIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgdGhlYCRhbmltYXRlYCBzZXJ2aWNlIGlzIGFsd2F5cyB1c2VkIHdoZW4gZXhlY3V0aW5nIERPTS1yZWxhdGVkIHByb2NlZHVyZXMgd2l0aGluIGRpcmVjdGl2ZXMuXHJcbiAgICAgKlxyXG4gICAgICogVG8gbGVhcm4gbW9yZSBhYm91dCBlbmFibGluZyBhbmltYXRpb24gc3VwcG9ydCwgY2xpY2sgaGVyZSB0byB2aXNpdCB0aGVcclxuICAgICAqIHtAbGluayBuZ0FuaW1hdGUgbmdBbmltYXRlIG1vZHVsZSBwYWdlfS5cclxuICAgICAqL1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLy8gd2UgZG9uJ3QgY2FsbCBpdCBkaXJlY3RseSBzaW5jZSBub24tZXhpc3RhbnQgYXJndW1lbnRzIG1heVxyXG4gICAgICAvLyBiZSBpbnRlcnByZXRlZCBhcyBudWxsIHdpdGhpbiB0aGUgc3ViIGVuYWJsZWQgZnVuY3Rpb25cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI29uXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGZpcmUgd2hlbmV2ZXIgdGhlIGFuaW1hdGlvbiBldmVudCAoZW50ZXIsIGxlYXZlLCBtb3ZlLCBldGMuLi4pXHJcbiAgICAgICAqICAgIGhhcyBmaXJlZCBvbiB0aGUgZ2l2ZW4gZWxlbWVudCBvciBhbW9uZyBhbnkgb2YgaXRzIGNoaWxkcmVuLiBPbmNlIHRoZSBsaXN0ZW5lciBpcyBmaXJlZCwgdGhlIHByb3ZpZGVkIGNhbGxiYWNrXHJcbiAgICAgICAqICAgIGlzIGZpcmVkIHdpdGggdGhlIGZvbGxvd2luZyBwYXJhbXM6XHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAqICRhbmltYXRlLm9uKCdlbnRlcicsIGNvbnRhaW5lcixcclxuICAgICAgICogICAgZnVuY3Rpb24gY2FsbGJhY2soZWxlbWVudCwgcGhhc2UpIHtcclxuICAgICAgICogICAgICAvLyBjb29sIHdlIGRldGVjdGVkIGFuIGVudGVyIGFuaW1hdGlvbiB3aXRoaW4gdGhlIGNvbnRhaW5lclxyXG4gICAgICAgKiAgICB9XHJcbiAgICAgICAqICk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgdGhlIGFuaW1hdGlvbiBldmVudCB0aGF0IHdpbGwgYmUgY2FwdHVyZWQgKGUuZy4gZW50ZXIsIGxlYXZlLCBtb3ZlLCBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MsIGV0Yy4uLilcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBjb250YWluZXIgdGhlIGNvbnRhaW5lciBlbGVtZW50IHRoYXQgd2lsbCBjYXB0dXJlIGVhY2ggb2YgdGhlIGFuaW1hdGlvbiBldmVudHMgdGhhdCBhcmUgZmlyZWQgb24gaXRzZWxmXHJcbiAgICAgICAqICAgICBhcyB3ZWxsIGFzIGFtb25nIGl0cyBjaGlsZHJlblxyXG4gICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gdGhlIGxpc3RlbmVyIGlzIHRyaWdnZXJlZFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgYXJndW1lbnRzIHByZXNlbnQgaW4gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGFyZTpcclxuICAgICAgICogKiBgZWxlbWVudGAgLSBUaGUgY2FwdHVyZWQgRE9NIGVsZW1lbnQgdGhhdCB0aGUgYW5pbWF0aW9uIHdhcyBmaXJlZCBvbi5cclxuICAgICAgICogKiBgcGhhc2VgIC0gVGhlIHBoYXNlIG9mIHRoZSBhbmltYXRpb24uIFRoZSB0d28gcG9zc2libGUgcGhhc2VzIGFyZSAqKnN0YXJ0KiogKHdoZW4gdGhlIGFuaW1hdGlvbiBzdGFydHMpIGFuZCAqKmNsb3NlKiogKHdoZW4gaXQgZW5kcykuXHJcbiAgICAgICAqL1xyXG4gICAgICBvbjogJCRhbmltYXRlUXVldWUub24sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICpcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNvZmZcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICogQGRlc2NyaXB0aW9uIERlcmVnaXN0ZXJzIGFuIGV2ZW50IGxpc3RlbmVyIGJhc2VkIG9uIHRoZSBldmVudCB3aGljaCBoYXMgYmVlbiBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3ZpZGVkIGVsZW1lbnQuIFRoaXMgbWV0aG9kXHJcbiAgICAgICAqIGNhbiBiZSB1c2VkIGluIHRocmVlIGRpZmZlcmVudCB3YXlzIGRlcGVuZGluZyBvbiB0aGUgYXJndW1lbnRzOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgKiAvLyByZW1vdmUgYWxsIHRoZSBhbmltYXRpb24gZXZlbnQgbGlzdGVuZXJzIGxpc3RlbmluZyBmb3IgYGVudGVyYFxyXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJyk7XHJcbiAgICAgICAqXHJcbiAgICAgICAqIC8vIHJlbW92ZSBsaXN0ZW5lcnMgZm9yIGFsbCBhbmltYXRpb24gZXZlbnRzIGZyb20gdGhlIGNvbnRhaW5lciBlbGVtZW50XHJcbiAgICAgICAqICRhbmltYXRlLm9mZihjb250YWluZXIpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyByZW1vdmUgYWxsIHRoZSBhbmltYXRpb24gZXZlbnQgbGlzdGVuZXJzIGxpc3RlbmluZyBmb3IgYGVudGVyYCBvbiB0aGUgZ2l2ZW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuXHJcbiAgICAgICAqICRhbmltYXRlLm9mZignZW50ZXInLCBjb250YWluZXIpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIHByb3ZpZGVkIGJ5IGBjYWxsYmFja2AgdGhhdCBpcyBzZXRcclxuICAgICAgICogLy8gdG8gbGlzdGVuIGZvciBgZW50ZXJgIG9uIHRoZSBnaXZlbiBgY29udGFpbmVyYCBhcyB3ZWxsIGFzIGl0cyBjaGlsZHJlblxyXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJywgY29udGFpbmVyLCBjYWxsYmFjayk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBldmVudHxjb250YWluZXIgdGhlIGFuaW1hdGlvbiBldmVudCAoZS5nLiBlbnRlciwgbGVhdmUsIG1vdmUsXHJcbiAgICAgICAqIGFkZENsYXNzLCByZW1vdmVDbGFzcywgZXRjLi4uKSwgb3IgdGhlIGNvbnRhaW5lciBlbGVtZW50LiBJZiBpdCBpcyB0aGUgZWxlbWVudCwgYWxsIG90aGVyXHJcbiAgICAgICAqIGFyZ3VtZW50cyBhcmUgaWdub3JlZC5cclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gY29udGFpbmVyIHRoZSBjb250YWluZXIgZWxlbWVudCB0aGUgZXZlbnQgbGlzdGVuZXIgd2FzIHBsYWNlZCBvblxyXG4gICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgd2FzIHJlZ2lzdGVyZWQgYXMgdGhlIGxpc3RlbmVyXHJcbiAgICAgICAqL1xyXG4gICAgICBvZmY6ICQkYW5pbWF0ZVF1ZXVlLm9mZixcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3BpblxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQXNzb2NpYXRlcyB0aGUgcHJvdmlkZWQgZWxlbWVudCB3aXRoIGEgaG9zdCBwYXJlbnQgZWxlbWVudCB0byBhbGxvdyB0aGUgZWxlbWVudCB0byBiZSBhbmltYXRlZCBldmVuIGlmIGl0IGV4aXN0c1xyXG4gICAgICAgKiAgICBvdXRzaWRlIG9mIHRoZSBET00gc3RydWN0dXJlIG9mIHRoZSBBbmd1bGFyIGFwcGxpY2F0aW9uLiBCeSBkb2luZyBzbywgYW55IGFuaW1hdGlvbiB0cmlnZ2VyZWQgdmlhIGAkYW5pbWF0ZWAgY2FuIGJlIGlzc3VlZCBvbiB0aGVcclxuICAgICAgICogICAgZWxlbWVudCBkZXNwaXRlIGJlaW5nIG91dHNpZGUgdGhlIHJlYWxtIG9mIHRoZSBhcHBsaWNhdGlvbiBvciB3aXRoaW4gYW5vdGhlciBhcHBsaWNhdGlvbi4gU2F5IGZvciBleGFtcGxlIGlmIHRoZSBhcHBsaWNhdGlvblxyXG4gICAgICAgKiAgICB3YXMgYm9vdHN0cmFwcGVkIG9uIGFuIGVsZW1lbnQgdGhhdCBpcyBzb21ld2hlcmUgaW5zaWRlIG9mIHRoZSBgPGJvZHk+YCB0YWcsIGJ1dCB3ZSB3YW50ZWQgdG8gYWxsb3cgZm9yIGFuIGVsZW1lbnQgdG8gYmUgc2l0dWF0ZWRcclxuICAgICAgICogICAgYXMgYSBkaXJlY3QgY2hpbGQgb2YgYGRvY3VtZW50LmJvZHlgLCB0aGVuIHRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHBpbm5pbmcgdGhlIGVsZW1lbnQgdmlhIGAkYW5pbWF0ZS5waW4oZWxlbWVudClgLiBLZWVwIGluIG1pbmRcclxuICAgICAgICogICAgdGhhdCBjYWxsaW5nIGAkYW5pbWF0ZS5waW4oZWxlbWVudCwgcGFyZW50RWxlbWVudClgIHdpbGwgbm90IGFjdHVhbGx5IGluc2VydCBpbnRvIHRoZSBET00gYW55d2hlcmU7IGl0IHdpbGwganVzdCBjcmVhdGUgdGhlIGFzc29jaWF0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICBOb3RlIHRoYXQgdGhpcyBmZWF0dXJlIGlzIG9ubHkgYWN0aXZlIHdoZW4gdGhlIGBuZ0FuaW1hdGVgIG1vZHVsZSBpcyB1c2VkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGV4dGVybmFsIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHBpbm5lZFxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudEVsZW1lbnQgdGhlIGhvc3QgcGFyZW50IGVsZW1lbnQgdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXh0ZXJuYWwgZWxlbWVudFxyXG4gICAgICAgKi9cclxuICAgICAgcGluOiAkJGFuaW1hdGVRdWV1ZS5waW4sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICpcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNlbmFibGVkXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBVc2VkIHRvIGdldCBhbmQgc2V0IHdoZXRoZXIgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCBvciBub3Qgb24gdGhlIGVudGlyZSBhcHBsaWNhdGlvbiBvciBvbiBhbiBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW4uIFRoaXNcclxuICAgICAgICogZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCBpbiBmb3VyIHdheXM6XHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAqIC8vIHJldHVybnMgdHJ1ZSBvciBmYWxzZVxyXG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKCk7XHJcbiAgICAgICAqXHJcbiAgICAgICAqIC8vIGNoYW5nZXMgdGhlIGVuYWJsZWQgc3RhdGUgZm9yIGFsbCBhbmltYXRpb25zXHJcbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZmFsc2UpO1xyXG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKHRydWUpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyByZXR1cm5zIHRydWUgb3IgZmFsc2UgaWYgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCBmb3IgYW4gZWxlbWVudFxyXG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKGVsZW1lbnQpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyBjaGFuZ2VzIHRoZSBlbmFibGVkIHN0YXRlIGZvciBhbiBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW5cclxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChlbGVtZW50LCB0cnVlKTtcclxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChlbGVtZW50LCBmYWxzZSk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSBlbGVtZW50IHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSBjb25zaWRlcmVkIGZvciBjaGVja2luZy9zZXR0aW5nIHRoZSBlbmFibGVkIHN0YXRlXHJcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGVuYWJsZWQgd2hldGhlciBvciBub3QgdGhlIGFuaW1hdGlvbnMgd2lsbCBiZSBlbmFibGVkIGZvciB0aGUgZWxlbWVudFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCBhbmltYXRpb25zIGFyZSBlbmFibGVkXHJcbiAgICAgICAqL1xyXG4gICAgICBlbmFibGVkOiAkJGFuaW1hdGVRdWV1ZS5lbmFibGVkLFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjY2FuY2VsXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBDYW5jZWxzIHRoZSBwcm92aWRlZCBhbmltYXRpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7UHJvbWlzZX0gYW5pbWF0aW9uUHJvbWlzZSBUaGUgYW5pbWF0aW9uIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZCB3aGVuIGFuIGFuaW1hdGlvbiBpcyBzdGFydGVkLlxyXG4gICAgICAgKi9cclxuICAgICAgY2FuY2VsOiBmdW5jdGlvbihydW5uZXIpIHtcclxuICAgICAgICBydW5uZXIuZW5kICYmIHJ1bm5lci5lbmQoKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VudGVyXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBJbnNlcnRzIHRoZSBlbGVtZW50IGludG8gdGhlIERPTSBlaXRoZXIgYWZ0ZXIgdGhlIGBhZnRlcmAgZWxlbWVudCAoaWYgcHJvdmlkZWQpIG9yXHJcbiAgICAgICAqICAgYXMgdGhlIGZpcnN0IGNoaWxkIHdpdGhpbiB0aGUgYHBhcmVudGAgZWxlbWVudCBhbmQgdGhlbiB0cmlnZ2VycyBhbiBhbmltYXRpb24uXHJcbiAgICAgICAqICAgQSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBkdXJpbmcgdGhlIG5leHQgZGlnZXN0IG9uY2UgdGhlIGFuaW1hdGlvblxyXG4gICAgICAgKiAgIGhhcyBjb21wbGV0ZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGJlIGluc2VydGVkIGludG8gdGhlIERPTVxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudCB0aGUgcGFyZW50IGVsZW1lbnQgd2hpY2ggd2lsbCBhcHBlbmQgdGhlIGVsZW1lbnQgYXNcclxuICAgICAgICogICBhIGNoaWxkIChzbyBsb25nIGFzIHRoZSBhZnRlciBlbGVtZW50IGlzIG5vdCBwcmVzZW50KVxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IGFmdGVyIHdoaWNoIHRoZSBlbGVtZW50IHdpbGwgYmUgYXBwZW5kZWRcclxuICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucy9zdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXHJcbiAgICAgICAqL1xyXG4gICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBhZnRlciwgb3B0aW9ucykge1xyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudCAmJiBqcUxpdGUocGFyZW50KTtcclxuICAgICAgICBhZnRlciA9IGFmdGVyICYmIGpxTGl0ZShhZnRlcik7XHJcbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IGFmdGVyLnBhcmVudCgpO1xyXG4gICAgICAgIGRvbUluc2VydChlbGVtZW50LCBwYXJlbnQsIGFmdGVyKTtcclxuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnZW50ZXInLCBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucykpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjbW92ZVxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gSW5zZXJ0cyAobW92ZXMpIHRoZSBlbGVtZW50IGludG8gaXRzIG5ldyBwb3NpdGlvbiBpbiB0aGUgRE9NIGVpdGhlciBhZnRlclxyXG4gICAgICAgKiAgIHRoZSBgYWZ0ZXJgIGVsZW1lbnQgKGlmIHByb3ZpZGVkKSBvciBhcyB0aGUgZmlyc3QgY2hpbGQgd2l0aGluIHRoZSBgcGFyZW50YCBlbGVtZW50XHJcbiAgICAgICAqICAgYW5kIHRoZW4gdHJpZ2dlcnMgYW4gYW5pbWF0aW9uLiBBIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkXHJcbiAgICAgICAqICAgZHVyaW5nIHRoZSBuZXh0IGRpZ2VzdCBvbmNlIHRoZSBhbmltYXRpb24gaGFzIGNvbXBsZXRlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgYmUgbW92ZWQgaW50byB0aGUgbmV3IERPTSBwb3NpdGlvblxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudCB0aGUgcGFyZW50IGVsZW1lbnQgd2hpY2ggd2lsbCBhcHBlbmQgdGhlIGVsZW1lbnQgYXNcclxuICAgICAgICogICBhIGNoaWxkIChzbyBsb25nIGFzIHRoZSBhZnRlciBlbGVtZW50IGlzIG5vdCBwcmVzZW50KVxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IGFmdGVyIHdoaWNoIHRoZSBlbGVtZW50IHdpbGwgYmUgYXBwZW5kZWRcclxuICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucy9zdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXHJcbiAgICAgICAqL1xyXG4gICAgICBtb3ZlOiBmdW5jdGlvbihlbGVtZW50LCBwYXJlbnQsIGFmdGVyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcGFyZW50ID0gcGFyZW50ICYmIGpxTGl0ZShwYXJlbnQpO1xyXG4gICAgICAgIGFmdGVyID0gYWZ0ZXIgJiYganFMaXRlKGFmdGVyKTtcclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQgfHwgYWZ0ZXIucGFyZW50KCk7XHJcbiAgICAgICAgZG9tSW5zZXJ0KGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIpO1xyXG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdtb3ZlJywgcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2xlYXZlXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VycyBhbiBhbmltYXRpb24gYW5kIHRoZW4gcmVtb3ZlcyB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00uXHJcbiAgICAgICAqIFdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBhIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGR1cmluZyB0aGUgbmV4dFxyXG4gICAgICAgKiBkaWdlc3Qgb25jZSB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxyXG4gICAgICAgKi9cclxuICAgICAgbGVhdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnbGVhdmUnLCBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2FkZENsYXNzXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VycyBhbiBhZGRDbGFzcyBhbmltYXRpb24gc3Vycm91bmRpbmcgdGhlIGFkZGl0aW9uIG9mIHRoZSBwcm92aWRlZCBDU1MgY2xhc3MoZXMpLiBVcG9uXHJcbiAgICAgICAqICAgZXhlY3V0aW9uLCB0aGUgYWRkQ2xhc3Mgb3BlcmF0aW9uIHdpbGwgb25seSBiZSBoYW5kbGVkIGFmdGVyIHRoZSBuZXh0IGRpZ2VzdCBhbmQgaXQgd2lsbCBub3QgdHJpZ2dlciBhblxyXG4gICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGFscmVhZHkgY29udGFpbnMgdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgcmVtb3ZlZCBhdCBhIGxhdGVyIHN0ZXAuXHJcbiAgICAgICAqICAgTm90ZSB0aGF0IGNsYXNzLWJhc2VkIGFuaW1hdGlvbnMgYXJlIHRyZWF0ZWQgZGlmZmVyZW50bHkgY29tcGFyZWQgdG8gc3RydWN0dXJhbCBhbmltYXRpb25zXHJcbiAgICAgICAqICAgKGxpa2UgZW50ZXIsIG1vdmUgYW5kIGxlYXZlKSBzaW5jZSB0aGUgQ1NTIGNsYXNzZXMgbWF5IGJlIGFkZGVkL3JlbW92ZWQgYXQgZGlmZmVyZW50IHBvaW50c1xyXG4gICAgICAgKiAgIGRlcGVuZGluZyBpZiBDU1Mgb3IgSmF2YVNjcmlwdCBhbmltYXRpb25zIGFyZSB1c2VkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBjbGFzc2VzIHdpbGwgYmUgYXBwbGllZCB0b1xyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSBhZGRlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxyXG4gICAgICAgKi9cclxuICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgb3B0aW9ucykge1xyXG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgb3B0aW9ucy5hZGRDbGFzcyA9IG1lcmdlQ2xhc3NlcyhvcHRpb25zLmFkZGNsYXNzLCBjbGFzc05hbWUpO1xyXG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdhZGRDbGFzcycsIG9wdGlvbnMpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjcmVtb3ZlQ2xhc3NcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uIFRyaWdnZXJzIGEgcmVtb3ZlQ2xhc3MgYW5pbWF0aW9uIHN1cnJvdW5kaW5nIHRoZSByZW1vdmFsIG9mIHRoZSBwcm92aWRlZCBDU1MgY2xhc3MoZXMpLiBVcG9uXHJcbiAgICAgICAqICAgZXhlY3V0aW9uLCB0aGUgcmVtb3ZlQ2xhc3Mgb3BlcmF0aW9uIHdpbGwgb25seSBiZSBoYW5kbGVkIGFmdGVyIHRoZSBuZXh0IGRpZ2VzdCBhbmQgaXQgd2lsbCBub3QgdHJpZ2dlciBhblxyXG4gICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgYWRkZWQgYXQgYSBsYXRlciBzdGVwLlxyXG4gICAgICAgKiAgIE5vdGUgdGhhdCBjbGFzcy1iYXNlZCBhbmltYXRpb25zIGFyZSB0cmVhdGVkIGRpZmZlcmVudGx5IGNvbXBhcmVkIHRvIHN0cnVjdHVyYWwgYW5pbWF0aW9uc1xyXG4gICAgICAgKiAgIChsaWtlIGVudGVyLCBtb3ZlIGFuZCBsZWF2ZSkgc2luY2UgdGhlIENTUyBjbGFzc2VzIG1heSBiZSBhZGRlZC9yZW1vdmVkIGF0IGRpZmZlcmVudCBwb2ludHNcclxuICAgICAgICogICBkZXBlbmRpbmcgaWYgQ1NTIG9yIEphdmFTY3JpcHQgYW5pbWF0aW9ucyBhcmUgdXNlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHRoZSBDU1MgY2xhc3NlcyB3aWxsIGJlIGFwcGxpZWQgdG9cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxyXG4gICAgICAgKi9cclxuICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgb3B0aW9ucykge1xyXG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgb3B0aW9ucy5yZW1vdmVDbGFzcyA9IG1lcmdlQ2xhc3NlcyhvcHRpb25zLnJlbW92ZUNsYXNzLCBjbGFzc05hbWUpO1xyXG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdyZW1vdmVDbGFzcycsIG9wdGlvbnMpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjc2V0Q2xhc3NcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uIFBlcmZvcm1zIGJvdGggdGhlIGFkZGl0aW9uIGFuZCByZW1vdmFsIG9mIGEgQ1NTIGNsYXNzZXMgb24gYW4gZWxlbWVudCBhbmQgKGR1cmluZyB0aGUgcHJvY2VzcylcclxuICAgICAgICogICAgdHJpZ2dlcnMgYW4gYW5pbWF0aW9uIHN1cnJvdW5kaW5nIHRoZSBjbGFzcyBhZGRpdGlvbi9yZW1vdmFsLiBNdWNoIGxpa2UgYCRhbmltYXRlLmFkZENsYXNzYCBhbmRcclxuICAgICAgICogICAgYCRhbmltYXRlLnJlbW92ZUNsYXNzYCwgYHNldENsYXNzYCB3aWxsIG9ubHkgZXZhbHVhdGUgdGhlIGNsYXNzZXMgYmVpbmcgYWRkZWQvcmVtb3ZlZCBvbmNlIGEgZGlnZXN0IGhhc1xyXG4gICAgICAgKiAgICBwYXNzZWQuIE5vdGUgdGhhdCBjbGFzcy1iYXNlZCBhbmltYXRpb25zIGFyZSB0cmVhdGVkIGRpZmZlcmVudGx5IGNvbXBhcmVkIHRvIHN0cnVjdHVyYWwgYW5pbWF0aW9uc1xyXG4gICAgICAgKiAgICAobGlrZSBlbnRlciwgbW92ZSBhbmQgbGVhdmUpIHNpbmNlIHRoZSBDU1MgY2xhc3NlcyBtYXkgYmUgYWRkZWQvcmVtb3ZlZCBhdCBkaWZmZXJlbnQgcG9pbnRzXHJcbiAgICAgICAqICAgIGRlcGVuZGluZyBpZiBDU1Mgb3IgSmF2YVNjcmlwdCBhbmltYXRpb25zIGFyZSB1c2VkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBjbGFzc2VzIHdpbGwgYmUgYXBwbGllZCB0b1xyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWRkIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSBhZGRlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZW1vdmUgdGhlIENTUyBjbGFzcyhlcykgdGhhdCB3aWxsIGJlIHJlbW92ZWQgKG11bHRpcGxlIGNsYXNzZXMgYXJlIHNlcGFyYXRlZCB2aWEgc3BhY2VzKVxyXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcclxuICAgICAgICovXHJcbiAgICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgb3B0aW9ucykge1xyXG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgb3B0aW9ucy5hZGRDbGFzcyA9IG1lcmdlQ2xhc3NlcyhvcHRpb25zLmFkZENsYXNzLCBhZGQpO1xyXG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5yZW1vdmVDbGFzcywgcmVtb3ZlKTtcclxuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnc2V0Q2xhc3MnLCBvcHRpb25zKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2FuaW1hdGVcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uIFBlcmZvcm1zIGFuIGlubGluZSBhbmltYXRpb24gb24gdGhlIGVsZW1lbnQgd2hpY2ggYXBwbGllcyB0aGUgcHJvdmlkZWQgdG8gYW5kIGZyb20gQ1NTIHN0eWxlcyB0byB0aGUgZWxlbWVudC5cclxuICAgICAgICogSWYgYW55IGRldGVjdGVkIENTUyB0cmFuc2l0aW9uLCBrZXlmcmFtZSBvciBKYXZhU2NyaXB0IG1hdGNoZXMgdGhlIHByb3ZpZGVkIGNsYXNzTmFtZSB2YWx1ZSwgdGhlbiB0aGUgYW5pbWF0aW9uIHdpbGwgdGFrZVxyXG4gICAgICAgKiBvbiB0aGUgcHJvdmlkZWQgc3R5bGVzLiBGb3IgZXhhbXBsZSwgaWYgYSB0cmFuc2l0aW9uIGFuaW1hdGlvbiBpcyBzZXQgZm9yIHRoZSBnaXZlbiBjbGFzc05hbWVtLCB0aGVuIHRoZSBwcm92aWRlZCBgZnJvbWAgYW5kXHJcbiAgICAgICAqIGB0b2Agc3R5bGVzIHdpbGwgYmUgYXBwbGllZCBhbG9uZ3NpZGUgdGhlIGdpdmVuIHRyYW5zaXRpb24uIElmIHRoZSBDU1Mgc3R5bGUgcHJvdmlkZWQgaW4gYGZyb21gIGRvZXMgbm90IGhhdmUgYSBjb3JyZXNwb25kaW5nXHJcbiAgICAgICAqIHN0eWxlIGluIGB0b2AsIHRoZSBzdHlsZSBpbiBgZnJvbWAgaXMgYXBwbGllZCBpbW1lZGlhdGVseSwgYW5kIG5vIGFuaW1hdGlvbiBpcyBydW4uXHJcbiAgICAgICAqIElmIGEgSmF2YVNjcmlwdCBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgdGhlbiB0aGUgcHJvdmlkZWQgc3R5bGVzIHdpbGwgYmUgZ2l2ZW4gaW4gYXMgZnVuY3Rpb24gcGFyYW1ldGVycyBpbnRvIHRoZSBgYW5pbWF0ZWBcclxuICAgICAgICogbWV0aG9kIChvciBhcyBwYXJ0IG9mIHRoZSBgb3B0aW9uc2AgcGFyYW1ldGVyKTpcclxuICAgICAgICpcclxuICAgICAgICogYGBganNcclxuICAgICAgICogbmdNb2R1bGUuYW5pbWF0aW9uKCcubXktaW5saW5lLWFuaW1hdGlvbicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgKiAgIHJldHVybiB7XHJcbiAgICAgICAqICAgICBhbmltYXRlIDogZnVuY3Rpb24oZWxlbWVudCwgZnJvbSwgdG8sIGRvbmUsIG9wdGlvbnMpIHtcclxuICAgICAgICogICAgICAgLy9hbmltYXRpb25cclxuICAgICAgICogICAgICAgZG9uZSgpO1xyXG4gICAgICAgKiAgICAgfVxyXG4gICAgICAgKiAgIH1cclxuICAgICAgICogfSk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmcm9tIHRoZSBmcm9tIChzdGFydGluZykgQ1NTIHN0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCBhbmQgYWNyb3NzIHRoZSBhbmltYXRpb24uXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0byB0aGUgdG8gKGRlc3RpbmF0aW9uKSBDU1Mgc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IGFuZCBhY3Jvc3MgdGhlIGFuaW1hdGlvbi5cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBjbGFzc05hbWUgYW4gb3B0aW9uYWwgQ1NTIGNsYXNzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi4gSWZcclxuICAgICAgICogICAgdGhpcyB2YWx1ZSBpcyBsZWZ0IGFzIGVtcHR5IHRoZW4gYSBDU1MgY2xhc3Mgb2YgYG5nLWlubGluZS1hbmltYXRlYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAqICAgIChOb3RlIHRoYXQgaWYgbm8gYW5pbWF0aW9uIGlzIGRldGVjdGVkIHRoZW4gdGhpcyB2YWx1ZSB3aWxsIG5vdCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LilcclxuICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucy9zdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXHJcbiAgICAgICAqL1xyXG4gICAgICBhbmltYXRlOiBmdW5jdGlvbihlbGVtZW50LCBmcm9tLCB0bywgY2xhc3NOYW1lLCBvcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLmZyb20gPyBleHRlbmQob3B0aW9ucy5mcm9tLCBmcm9tKSA6IGZyb207XHJcbiAgICAgICAgb3B0aW9ucy50byAgID0gb3B0aW9ucy50byAgID8gZXh0ZW5kKG9wdGlvbnMudG8sIHRvKSAgICAgOiB0bztcclxuXHJcbiAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8ICduZy1pbmxpbmUtYW5pbWF0ZSc7XHJcbiAgICAgICAgb3B0aW9ucy50ZW1wQ2xhc3NlcyA9IG1lcmdlQ2xhc3NlcyhvcHRpb25zLnRlbXBDbGFzc2VzLCBjbGFzc05hbWUpO1xyXG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdhbmltYXRlJywgb3B0aW9ucyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV07XHJcbn1dO1xyXG5cclxudmFyICQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeVByb3ZpZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckJHJBRicsIGZ1bmN0aW9uKCQkckFGKSB7XHJcbiAgICB2YXIgd2FpdFF1ZXVlID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gd2FpdEZvclRpY2soZm4pIHtcclxuICAgICAgd2FpdFF1ZXVlLnB1c2goZm4pO1xyXG4gICAgICBpZiAod2FpdFF1ZXVlLmxlbmd0aCA+IDEpIHJldHVybjtcclxuICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3YWl0UXVldWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHdhaXRRdWV1ZVtpXSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3YWl0UXVldWUgPSBbXTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgcGFzc2VkID0gZmFsc2U7XHJcbiAgICAgIHdhaXRGb3JUaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHBhc3NlZCA9IHRydWU7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICBwYXNzZWQgPyBjYWxsYmFjaygpIDogd2FpdEZvclRpY2soY2FsbGJhY2spO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9XTtcclxufTtcclxuXHJcbnZhciAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5UHJvdmlkZXIgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyRxJywgJyRzbmlmZmVyJywgJyQkYW5pbWF0ZUFzeW5jUnVuJywgJyRkb2N1bWVudCcsICckdGltZW91dCcsXHJcbiAgICAgICBmdW5jdGlvbigkcSwgICAkc25pZmZlciwgICAkJGFuaW1hdGVBc3luY1J1biwgICAkZG9jdW1lbnQsICAgJHRpbWVvdXQpIHtcclxuXHJcbiAgICB2YXIgSU5JVElBTF9TVEFURSA9IDA7XHJcbiAgICB2YXIgRE9ORV9QRU5ESU5HX1NUQVRFID0gMTtcclxuICAgIHZhciBET05FX0NPTVBMRVRFX1NUQVRFID0gMjtcclxuXHJcbiAgICBBbmltYXRlUnVubmVyLmNoYWluID0gZnVuY3Rpb24oY2hhaW4sIGNhbGxiYWNrKSB7XHJcbiAgICAgIHZhciBpbmRleCA9IDA7XHJcblxyXG4gICAgICBuZXh0KCk7XHJcbiAgICAgIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSBjaGFpbi5sZW5ndGgpIHtcclxuICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2hhaW5baW5kZXhdKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICBpZiAocmVzcG9uc2UgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBBbmltYXRlUnVubmVyLmFsbCA9IGZ1bmN0aW9uKHJ1bm5lcnMsIGNhbGxiYWNrKSB7XHJcbiAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgIHZhciBzdGF0dXMgPSB0cnVlO1xyXG4gICAgICBmb3JFYWNoKHJ1bm5lcnMsIGZ1bmN0aW9uKHJ1bm5lcikge1xyXG4gICAgICAgIHJ1bm5lci5kb25lKG9uUHJvZ3Jlc3MpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIG9uUHJvZ3Jlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICBzdGF0dXMgPSBzdGF0dXMgJiYgcmVzcG9uc2U7XHJcbiAgICAgICAgaWYgKCsrY291bnQgPT09IHJ1bm5lcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICBjYWxsYmFjayhzdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBBbmltYXRlUnVubmVyKGhvc3QpIHtcclxuICAgICAgdGhpcy5zZXRIb3N0KGhvc3QpO1xyXG5cclxuICAgICAgdmFyIHJhZlRpY2sgPSAkJGFuaW1hdGVBc3luY1J1bigpO1xyXG4gICAgICB2YXIgdGltZW91dFRpY2sgPSBmdW5jdGlvbihmbikge1xyXG4gICAgICAgICR0aW1lb3V0KGZuLCAwLCBmYWxzZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLl9kb25lQ2FsbGJhY2tzID0gW107XHJcbiAgICAgIHRoaXMuX3RpY2sgPSBmdW5jdGlvbihmbikge1xyXG4gICAgICAgIHZhciBkb2MgPSAkZG9jdW1lbnRbMF07XHJcblxyXG4gICAgICAgIC8vIHRoZSBkb2N1bWVudCBtYXkgbm90IGJlIHJlYWR5IG9yIGF0dGFjaGVkXHJcbiAgICAgICAgLy8gdG8gdGhlIG1vZHVsZSBmb3Igc29tZSBpbnRlcm5hbCB0ZXN0c1xyXG4gICAgICAgIGlmIChkb2MgJiYgZG9jLmhpZGRlbikge1xyXG4gICAgICAgICAgdGltZW91dFRpY2soZm4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByYWZUaWNrKGZuKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMuX3N0YXRlID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBBbmltYXRlUnVubmVyLnByb3RvdHlwZSA9IHtcclxuICAgICAgc2V0SG9zdDogZnVuY3Rpb24oaG9zdCkge1xyXG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3QgfHwge307XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkb25lOiBmdW5jdGlvbihmbikge1xyXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gRE9ORV9DT01QTEVURV9TVEFURSkge1xyXG4gICAgICAgICAgZm4oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5fZG9uZUNhbGxiYWNrcy5wdXNoKGZuKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBwcm9ncmVzczogbm9vcCxcclxuXHJcbiAgICAgIGdldFByb21pc2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9taXNlKSB7XHJcbiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICB0aGlzLnByb21pc2UgPSAkcShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgc2VsZi5kb25lKGZ1bmN0aW9uKHN0YXR1cykge1xyXG4gICAgICAgICAgICAgIHN0YXR1cyA9PT0gZmFsc2UgPyByZWplY3QoKSA6IHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHRoZW46IGZ1bmN0aW9uKHJlc29sdmVIYW5kbGVyLCByZWplY3RIYW5kbGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpLnRoZW4ocmVzb2x2ZUhhbmRsZXIsIHJlamVjdEhhbmRsZXIpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgJ2NhdGNoJzogZnVuY3Rpb24oaGFuZGxlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKVsnY2F0Y2gnXShoYW5kbGVyKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgICdmaW5hbGx5JzogZnVuY3Rpb24oaGFuZGxlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKVsnZmluYWxseSddKGhhbmRsZXIpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgcGF1c2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhvc3QucGF1c2UpIHtcclxuICAgICAgICAgIHRoaXMuaG9zdC5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIHJlc3VtZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaG9zdC5yZXN1bWUpIHtcclxuICAgICAgICAgIHRoaXMuaG9zdC5yZXN1bWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhvc3QuZW5kKSB7XHJcbiAgICAgICAgICB0aGlzLmhvc3QuZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Jlc29sdmUodHJ1ZSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhvc3QuY2FuY2VsKSB7XHJcbiAgICAgICAgICB0aGlzLmhvc3QuY2FuY2VsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Jlc29sdmUoZmFsc2UpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGlmIChzZWxmLl9zdGF0ZSA9PT0gSU5JVElBTF9TVEFURSkge1xyXG4gICAgICAgICAgc2VsZi5fc3RhdGUgPSBET05FX1BFTkRJTkdfU1RBVEU7XHJcbiAgICAgICAgICBzZWxmLl90aWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLl9yZXNvbHZlKHJlc3BvbnNlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIF9yZXNvbHZlOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gRE9ORV9DT01QTEVURV9TVEFURSkge1xyXG4gICAgICAgICAgZm9yRWFjaCh0aGlzLl9kb25lQ2FsbGJhY2tzLCBmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgICBmbihyZXNwb25zZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHRoaXMuX2RvbmVDYWxsYmFja3MubGVuZ3RoID0gMDtcclxuICAgICAgICAgIHRoaXMuX3N0YXRlID0gRE9ORV9DT01QTEVURV9TVEFURTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIEFuaW1hdGVSdW5uZXI7XHJcbiAgfV07XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGFuaW1hdGVDc3NcclxuICogQGtpbmQgb2JqZWN0XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIGlzIHRoZSBjb3JlIHZlcnNpb24gb2YgYCRhbmltYXRlQ3NzYC4gQnkgZGVmYXVsdCwgb25seSB3aGVuIHRoZSBgbmdBbmltYXRlYCBpcyBpbmNsdWRlZCxcclxuICogdGhlbiB0aGUgYCRhbmltYXRlQ3NzYCBzZXJ2aWNlIHdpbGwgYWN0dWFsbHkgcGVyZm9ybSBhbmltYXRpb25zLlxyXG4gKlxyXG4gKiBDbGljayBoZXJlIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGVDc3MgdG8gcmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgJGFuaW1hdGVDc3N9LlxyXG4gKi9cclxudmFyICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckJHJBRicsICckcScsICckJEFuaW1hdGVSdW5uZXInLCBmdW5jdGlvbigkJHJBRiwgJHEsICQkQW5pbWF0ZVJ1bm5lcikge1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbihlbGVtZW50LCBpbml0aWFsT3B0aW9ucykge1xyXG4gICAgICAvLyBhbGwgb2YgdGhlIGFuaW1hdGlvbiBmdW5jdGlvbnMgc2hvdWxkIGNyZWF0ZVxyXG4gICAgICAvLyBhIGNvcHkgb2YgdGhlIG9wdGlvbnMgZGF0YSwgaG93ZXZlciwgaWYgYVxyXG4gICAgICAvLyBwYXJlbnQgc2VydmljZSBoYXMgYWxyZWFkeSBjcmVhdGVkIGEgY29weSB0aGVuXHJcbiAgICAgIC8vIHdlIHNob3VsZCBzdGljayB0byB1c2luZyB0aGF0XHJcbiAgICAgIHZhciBvcHRpb25zID0gaW5pdGlhbE9wdGlvbnMgfHwge307XHJcbiAgICAgIGlmICghb3B0aW9ucy4kJHByZXBhcmVkKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IGNvcHkob3B0aW9ucyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHRoZXJlIGlzIG5vIHBvaW50IGluIGFwcGx5aW5nIHRoZSBzdHlsZXMgc2luY2VcclxuICAgICAgLy8gdGhlcmUgaXMgbm8gYW5pbWF0aW9uIHRoYXQgZ29lcyBvbiBhdCBhbGwgaW5cclxuICAgICAgLy8gdGhpcyB2ZXJzaW9uIG9mICRhbmltYXRlQ3NzLlxyXG4gICAgICBpZiAob3B0aW9ucy5jbGVhbnVwU3R5bGVzKSB7XHJcbiAgICAgICAgb3B0aW9ucy5mcm9tID0gb3B0aW9ucy50byA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChvcHRpb25zLmZyb20pIHtcclxuICAgICAgICBlbGVtZW50LmNzcyhvcHRpb25zLmZyb20pO1xyXG4gICAgICAgIG9wdGlvbnMuZnJvbSA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qIGpzaGludCBuZXdjYXA6IGZhbHNlICovXHJcbiAgICAgIHZhciBjbG9zZWQsIHJ1bm5lciA9IG5ldyAkJEFuaW1hdGVSdW5uZXIoKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdGFydDogcnVuLFxyXG4gICAgICAgIGVuZDogcnVuXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBmdW5jdGlvbiBydW4oKSB7XHJcbiAgICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBhcHBseUFuaW1hdGlvbkNvbnRlbnRzKCk7XHJcbiAgICAgICAgICBpZiAoIWNsb3NlZCkge1xyXG4gICAgICAgICAgICBydW5uZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNsb3NlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gYXBwbHlBbmltYXRpb25Db250ZW50cygpIHtcclxuICAgICAgICBpZiAob3B0aW9ucy5hZGRDbGFzcykge1xyXG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhvcHRpb25zLmFkZENsYXNzKTtcclxuICAgICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy5yZW1vdmVDbGFzcykge1xyXG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhvcHRpb25zLnJlbW92ZUNsYXNzKTtcclxuICAgICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy50bykge1xyXG4gICAgICAgICAgZWxlbWVudC5jc3Mob3B0aW9ucy50byk7XHJcbiAgICAgICAgICBvcHRpb25zLnRvID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV07XHJcbn07XHJcblxyXG4vKiBnbG9iYWwgc3RyaXBIYXNoOiB0cnVlICovXHJcblxyXG4vKipcclxuICogISBUaGlzIGlzIGEgcHJpdmF0ZSB1bmRvY3VtZW50ZWQgc2VydmljZSAhXHJcbiAqXHJcbiAqIEBuYW1lICRicm93c2VyXHJcbiAqIEByZXF1aXJlcyAkbG9nXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIG9iamVjdCBoYXMgdHdvIGdvYWxzOlxyXG4gKlxyXG4gKiAtIGhpZGUgYWxsIHRoZSBnbG9iYWwgc3RhdGUgaW4gdGhlIGJyb3dzZXIgY2F1c2VkIGJ5IHRoZSB3aW5kb3cgb2JqZWN0XHJcbiAqIC0gYWJzdHJhY3QgYXdheSBhbGwgdGhlIGJyb3dzZXIgc3BlY2lmaWMgZmVhdHVyZXMgYW5kIGluY29uc2lzdGVuY2llc1xyXG4gKlxyXG4gKiBGb3IgdGVzdHMgd2UgcHJvdmlkZSB7QGxpbmsgbmdNb2NrLiRicm93c2VyIG1vY2sgaW1wbGVtZW50YXRpb259IG9mIHRoZSBgJGJyb3dzZXJgXHJcbiAqIHNlcnZpY2UsIHdoaWNoIGNhbiBiZSB1c2VkIGZvciBjb252ZW5pZW50IHRlc3Rpbmcgb2YgdGhlIGFwcGxpY2F0aW9uIHdpdGhvdXQgdGhlIGludGVyYWN0aW9uIHdpdGhcclxuICogdGhlIHJlYWwgYnJvd3NlciBhcGlzLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSB3aW5kb3cgVGhlIGdsb2JhbCB3aW5kb3cgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge29iamVjdH0gZG9jdW1lbnQgalF1ZXJ5IHdyYXBwZWQgZG9jdW1lbnQuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSAkbG9nIHdpbmRvdy5jb25zb2xlIG9yIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGludGVyZmFjZS5cclxuICogQHBhcmFtIHtvYmplY3R9ICRzbmlmZmVyICRzbmlmZmVyIHNlcnZpY2VcclxuICovXHJcbmZ1bmN0aW9uIEJyb3dzZXIod2luZG93LCBkb2N1bWVudCwgJGxvZywgJHNuaWZmZXIpIHtcclxuICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxyXG4gICAgICBoaXN0b3J5ID0gd2luZG93Lmhpc3RvcnksXHJcbiAgICAgIHNldFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCxcclxuICAgICAgY2xlYXJUaW1lb3V0ID0gd2luZG93LmNsZWFyVGltZW91dCxcclxuICAgICAgcGVuZGluZ0RlZmVySWRzID0ge307XHJcblxyXG4gIHNlbGYuaXNNb2NrID0gZmFsc2U7XHJcblxyXG4gIHZhciBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9IDA7XHJcbiAgdmFyIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcyA9IFtdO1xyXG5cclxuICAvLyBUT0RPKHZvanRhKTogcmVtb3ZlIHRoaXMgdGVtcG9yYXJ5IGFwaVxyXG4gIHNlbGYuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCA9IGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0O1xyXG4gIHNlbGYuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9IGZ1bmN0aW9uKCkgeyBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCsrOyB9O1xyXG5cclxuICAvKipcclxuICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbihzdXBwb3J0cyBjdXJyeWluZykgYW5kIGRlY3JlbWVudHMgdGhlIGBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3NgXHJcbiAgICogY291bnRlci4gSWYgdGhlIGNvdW50ZXIgcmVhY2hlcyAwLCBhbGwgdGhlIGBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3NgIGFyZSBleGVjdXRlZC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChmbikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgZm4uYXBwbHkobnVsbCwgc2xpY2VBcmdzKGFyZ3VtZW50cywgMSkpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQtLTtcclxuICAgICAgaWYgKG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID09PSAwKSB7XHJcbiAgICAgICAgd2hpbGUgKG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5sZW5ndGgpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5wb3AoKSgpO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAkbG9nLmVycm9yKGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0SGFzaCh1cmwpIHtcclxuICAgIHZhciBpbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XHJcbiAgICByZXR1cm4gaW5kZXggPT09IC0xID8gJycgOiB1cmwuc3Vic3RyKGluZGV4KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogTm90ZTogdGhpcyBtZXRob2QgaXMgdXNlZCBvbmx5IGJ5IHNjZW5hcmlvIHJ1bm5lclxyXG4gICAqIFRPRE8odm9qdGEpOiBwcmVmaXggdGhpcyBtZXRob2Qgd2l0aCAkJCA/XHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBjYWxsYmFjayBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gbm8gb3V0c3RhbmRpbmcgcmVxdWVzdFxyXG4gICAqL1xyXG4gIHNlbGYubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICBpZiAob3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPT09IDApIHtcclxuICAgICAgY2FsbGJhY2soKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIC8vIFVSTCBBUElcclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICB2YXIgY2FjaGVkU3RhdGUsIGxhc3RIaXN0b3J5U3RhdGUsXHJcbiAgICAgIGxhc3RCcm93c2VyVXJsID0gbG9jYXRpb24uaHJlZixcclxuICAgICAgYmFzZUVsZW1lbnQgPSBkb2N1bWVudC5maW5kKCdiYXNlJyksXHJcbiAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IG51bGwsXHJcbiAgICAgIGdldEN1cnJlbnRTdGF0ZSA9ICEkc25pZmZlci5oaXN0b3J5ID8gbm9vcCA6IGZ1bmN0aW9uIGdldEN1cnJlbnRTdGF0ZSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgcmV0dXJuIGhpc3Rvcnkuc3RhdGU7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgLy8gTVNJRSBjYW4gcmVwb3J0ZWRseSB0aHJvdyB3aGVuIHRoZXJlIGlzIG5vIHN0YXRlIChVTkNPTkZJUk1FRCkuXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICBjYWNoZVN0YXRlKCk7XHJcbiAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSAkYnJvd3NlciN1cmxcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEdFVFRFUjpcclxuICAgKiBXaXRob3V0IGFueSBhcmd1bWVudCwgdGhpcyBtZXRob2QganVzdCByZXR1cm5zIGN1cnJlbnQgdmFsdWUgb2YgbG9jYXRpb24uaHJlZi5cclxuICAgKlxyXG4gICAqIFNFVFRFUjpcclxuICAgKiBXaXRoIGF0IGxlYXN0IG9uZSBhcmd1bWVudCwgdGhpcyBtZXRob2Qgc2V0cyB1cmwgdG8gbmV3IHZhbHVlLlxyXG4gICAqIElmIGh0bWw1IGhpc3RvcnkgYXBpIHN1cHBvcnRlZCwgcHVzaFN0YXRlL3JlcGxhY2VTdGF0ZSBpcyB1c2VkLCBvdGhlcndpc2VcclxuICAgKiBsb2NhdGlvbi5ocmVmL2xvY2F0aW9uLnJlcGxhY2UgaXMgdXNlZC5cclxuICAgKiBSZXR1cm5zIGl0cyBvd24gaW5zdGFuY2UgdG8gYWxsb3cgY2hhaW5pbmdcclxuICAgKlxyXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSB0aGUgJGxvY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSB1c2UgdGhlXHJcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb24gc2VydmljZX0gdG8gY2hhbmdlIHVybC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgTmV3IHVybCAod2hlbiB1c2VkIGFzIHNldHRlcilcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZXBsYWNlIFNob3VsZCBuZXcgdXJsIHJlcGxhY2UgY3VycmVudCBoaXN0b3J5IHJlY29yZD9cclxuICAgKiBAcGFyYW0ge29iamVjdD19IHN0YXRlIG9iamVjdCB0byB1c2Ugd2l0aCBwdXNoU3RhdGUvcmVwbGFjZVN0YXRlXHJcbiAgICovXHJcbiAgc2VsZi51cmwgPSBmdW5jdGlvbih1cmwsIHJlcGxhY2UsIHN0YXRlKSB7XHJcbiAgICAvLyBJbiBtb2Rlcm4gYnJvd3NlcnMgYGhpc3Rvcnkuc3RhdGVgIGlzIGBudWxsYCBieSBkZWZhdWx0OyB0cmVhdGluZyBpdCBzZXBhcmF0ZWx5XHJcbiAgICAvLyBmcm9tIGB1bmRlZmluZWRgIHdvdWxkIGNhdXNlIGAkYnJvd3Nlci51cmwoJy9mb28nKWAgdG8gY2hhbmdlIGBoaXN0b3J5LnN0YXRlYFxyXG4gICAgLy8gdG8gdW5kZWZpbmVkIHZpYSBgcHVzaFN0YXRlYC4gSW5zdGVhZCwgbGV0J3MgY2hhbmdlIGB1bmRlZmluZWRgIHRvIGBudWxsYCBoZXJlLlxyXG4gICAgaWYgKGlzVW5kZWZpbmVkKHN0YXRlKSkge1xyXG4gICAgICBzdGF0ZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQW5kcm9pZCBCcm93c2VyIEJGQ2FjaGUgY2F1c2VzIGxvY2F0aW9uLCBoaXN0b3J5IHJlZmVyZW5jZSB0byBiZWNvbWUgc3RhbGUuXHJcbiAgICBpZiAobG9jYXRpb24gIT09IHdpbmRvdy5sb2NhdGlvbikgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XHJcbiAgICBpZiAoaGlzdG9yeSAhPT0gd2luZG93Lmhpc3RvcnkpIGhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcclxuXHJcbiAgICAvLyBzZXR0ZXJcclxuICAgIGlmICh1cmwpIHtcclxuICAgICAgdmFyIHNhbWVTdGF0ZSA9IGxhc3RIaXN0b3J5U3RhdGUgPT09IHN0YXRlO1xyXG5cclxuICAgICAgLy8gRG9uJ3QgY2hhbmdlIGFueXRoaW5nIGlmIHByZXZpb3VzIGFuZCBjdXJyZW50IFVSTHMgYW5kIHN0YXRlcyBtYXRjaC4gVGhpcyBhbHNvIHByZXZlbnRzXHJcbiAgICAgIC8vIElFPDEwIGZyb20gZ2V0dGluZyBpbnRvIHJlZGlyZWN0IGxvb3Agd2hlbiBpbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCBtb2RlLlxyXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9jb21taXQvZmZiMjcwMVxyXG4gICAgICBpZiAobGFzdEJyb3dzZXJVcmwgPT09IHVybCAmJiAoISRzbmlmZmVyLmhpc3RvcnkgfHwgc2FtZVN0YXRlKSkge1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBzYW1lQmFzZSA9IGxhc3RCcm93c2VyVXJsICYmIHN0cmlwSGFzaChsYXN0QnJvd3NlclVybCkgPT09IHN0cmlwSGFzaCh1cmwpO1xyXG4gICAgICBsYXN0QnJvd3NlclVybCA9IHVybDtcclxuICAgICAgbGFzdEhpc3RvcnlTdGF0ZSA9IHN0YXRlO1xyXG4gICAgICAvLyBEb24ndCB1c2UgaGlzdG9yeSBBUEkgaWYgb25seSB0aGUgaGFzaCBjaGFuZ2VkXHJcbiAgICAgIC8vIGR1ZSB0byBhIGJ1ZyBpbiBJRTEwL0lFMTEgd2hpY2ggbGVhZHNcclxuICAgICAgLy8gdG8gbm90IGZpcmluZyBhIGBoYXNoY2hhbmdlYCBub3IgYHBvcHN0YXRlYCBldmVudFxyXG4gICAgICAvLyBpbiBzb21lIGNhc2VzIChzZWUgIzkxNDMpLlxyXG4gICAgICBpZiAoJHNuaWZmZXIuaGlzdG9yeSAmJiAoIXNhbWVCYXNlIHx8ICFzYW1lU3RhdGUpKSB7XHJcbiAgICAgICAgaGlzdG9yeVtyZXBsYWNlID8gJ3JlcGxhY2VTdGF0ZScgOiAncHVzaFN0YXRlJ10oc3RhdGUsICcnLCB1cmwpO1xyXG4gICAgICAgIGNhY2hlU3RhdGUoKTtcclxuICAgICAgICAvLyBEbyB0aGUgYXNzaWdubWVudCBhZ2FpbiBzbyB0aGF0IHRob3NlIHR3byB2YXJpYWJsZXMgYXJlIHJlZmVyZW50aWFsbHkgaWRlbnRpY2FsLlxyXG4gICAgICAgIGxhc3RIaXN0b3J5U3RhdGUgPSBjYWNoZWRTdGF0ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoIXNhbWVCYXNlIHx8IHBlbmRpbmdMb2NhdGlvbikge1xyXG4gICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVwbGFjZSkge1xyXG4gICAgICAgICAgbG9jYXRpb24ucmVwbGFjZSh1cmwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXNhbWVCYXNlKSB7XHJcbiAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gZ2V0SGFzaCh1cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobG9jYXRpb24uaHJlZiAhPT0gdXJsKSB7XHJcbiAgICAgICAgICBwZW5kaW5nTG9jYXRpb24gPSB1cmw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgLy8gZ2V0dGVyXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyAtIHBlbmRpbmdMb2NhdGlvbiBpcyBuZWVkZWQgYXMgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gcmVhZCBvdXRcclxuICAgICAgLy8gICB0aGUgbmV3IGxvY2F0aW9uLmhyZWYgaWYgYSByZWxvYWQgaGFwcGVuZWQgb3IgaWYgdGhlcmUgaXMgYSBidWcgbGlrZSBpbiBpT1MgOSAoc2VlXHJcbiAgICAgIC8vICAgaHR0cHM6Ly9vcGVucmFkYXIuYXBwc3BvdC5jb20vMjIxODYxMDkpLlxyXG4gICAgICAvLyAtIHRoZSByZXBsYWNlbWVudCBpcyBhIHdvcmthcm91bmQgZm9yIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTQwNzE3MlxyXG4gICAgICByZXR1cm4gcGVuZGluZ0xvY2F0aW9uIHx8IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgvJTI3L2csXCInXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lICRicm93c2VyI3N0YXRlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIG1ldGhvZCBpcyBhIGdldHRlci5cclxuICAgKlxyXG4gICAqIFJldHVybiBoaXN0b3J5LnN0YXRlIG9yIG51bGwgaWYgaGlzdG9yeS5zdGF0ZSBpcyB1bmRlZmluZWQuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBzdGF0ZVxyXG4gICAqL1xyXG4gIHNlbGYuc3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBjYWNoZWRTdGF0ZTtcclxuICB9O1xyXG5cclxuICB2YXIgdXJsQ2hhbmdlTGlzdGVuZXJzID0gW10sXHJcbiAgICAgIHVybENoYW5nZUluaXQgPSBmYWxzZTtcclxuXHJcbiAgZnVuY3Rpb24gY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UoKSB7XHJcbiAgICBwZW5kaW5nTG9jYXRpb24gPSBudWxsO1xyXG4gICAgY2FjaGVTdGF0ZSgpO1xyXG4gICAgZmlyZVVybENoYW5nZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gVGhpcyB2YXJpYWJsZSBzaG91bGQgYmUgdXNlZCAqb25seSogaW5zaWRlIHRoZSBjYWNoZVN0YXRlIGZ1bmN0aW9uLlxyXG4gIHZhciBsYXN0Q2FjaGVkU3RhdGUgPSBudWxsO1xyXG4gIGZ1bmN0aW9uIGNhY2hlU3RhdGUoKSB7XHJcbiAgICAvLyBUaGlzIHNob3VsZCBiZSB0aGUgb25seSBwbGFjZSBpbiAkYnJvd3NlciB3aGVyZSBgaGlzdG9yeS5zdGF0ZWAgaXMgcmVhZC5cclxuICAgIGNhY2hlZFN0YXRlID0gZ2V0Q3VycmVudFN0YXRlKCk7XHJcbiAgICBjYWNoZWRTdGF0ZSA9IGlzVW5kZWZpbmVkKGNhY2hlZFN0YXRlKSA/IG51bGwgOiBjYWNoZWRTdGF0ZTtcclxuXHJcbiAgICAvLyBQcmV2ZW50IGNhbGxiYWNrcyBmbyBmaXJlIHR3aWNlIGlmIGJvdGggaGFzaGNoYW5nZSAmIHBvcHN0YXRlIHdlcmUgZmlyZWQuXHJcbiAgICBpZiAoZXF1YWxzKGNhY2hlZFN0YXRlLCBsYXN0Q2FjaGVkU3RhdGUpKSB7XHJcbiAgICAgIGNhY2hlZFN0YXRlID0gbGFzdENhY2hlZFN0YXRlO1xyXG4gICAgfVxyXG4gICAgbGFzdENhY2hlZFN0YXRlID0gY2FjaGVkU3RhdGU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBmaXJlVXJsQ2hhbmdlKCkge1xyXG4gICAgaWYgKGxhc3RCcm93c2VyVXJsID09PSBzZWxmLnVybCgpICYmIGxhc3RIaXN0b3J5U3RhdGUgPT09IGNhY2hlZFN0YXRlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsYXN0QnJvd3NlclVybCA9IHNlbGYudXJsKCk7XHJcbiAgICBsYXN0SGlzdG9yeVN0YXRlID0gY2FjaGVkU3RhdGU7XHJcbiAgICBmb3JFYWNoKHVybENoYW5nZUxpc3RlbmVycywgZnVuY3Rpb24obGlzdGVuZXIpIHtcclxuICAgICAgbGlzdGVuZXIoc2VsZi51cmwoKSwgY2FjaGVkU3RhdGUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSAkYnJvd3NlciNvblVybENoYW5nZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCwgd2hlbiB1cmwgY2hhbmdlcy5cclxuICAgKlxyXG4gICAqIEl0J3Mgb25seSBjYWxsZWQgd2hlbiB0aGUgdXJsIGlzIGNoYW5nZWQgZnJvbSBvdXRzaWRlIG9mIGFuZ3VsYXI6XHJcbiAgICogLSB1c2VyIHR5cGVzIGRpZmZlcmVudCB1cmwgaW50byBhZGRyZXNzIGJhclxyXG4gICAqIC0gdXNlciBjbGlja3Mgb24gaGlzdG9yeSAoZm9yd2FyZC9iYWNrKSBidXR0b25cclxuICAgKiAtIHVzZXIgY2xpY2tzIG9uIGEgbGlua1xyXG4gICAqXHJcbiAgICogSXQncyBub3QgY2FsbGVkIHdoZW4gdXJsIGlzIGNoYW5nZWQgYnkgJGJyb3dzZXIudXJsKCkgbWV0aG9kXHJcbiAgICpcclxuICAgKiBUaGUgbGlzdGVuZXIgZ2V0cyBjYWxsZWQgd2l0aCBuZXcgdXJsIGFzIHBhcmFtZXRlci5cclxuICAgKlxyXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSB0aGUgJGxvY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSB1c2UgdGhlXHJcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb24gc2VydmljZX0gdG8gbW9uaXRvciB1cmwgY2hhbmdlcyBpbiBhbmd1bGFyIGFwcHMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyl9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHVybCBjaGFuZ2VzLlxyXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKHN0cmluZyl9IFJldHVybnMgdGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXIgZm4gLSBoYW5keSBpZiB0aGUgZm4gaXMgYW5vbnltb3VzLlxyXG4gICAqL1xyXG4gIHNlbGYub25VcmxDaGFuZ2UgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgLy8gVE9ETyh2b2p0YSk6IHJlZmFjdG9yIHRvIHVzZSBub2RlJ3Mgc3ludGF4IGZvciBldmVudHNcclxuICAgIGlmICghdXJsQ2hhbmdlSW5pdCkge1xyXG4gICAgICAvLyBXZSBsaXN0ZW4gb24gYm90aCAoaGFzaGNoYW5nZS9wb3BzdGF0ZSkgd2hlbiBhdmFpbGFibGUsIGFzIHNvbWUgYnJvd3NlcnMgKGUuZy4gT3BlcmEpXHJcbiAgICAgIC8vIGRvbid0IGZpcmUgcG9wc3RhdGUgd2hlbiB1c2VyIGNoYW5nZSB0aGUgYWRkcmVzcyBiYXIgYW5kIGRvbid0IGZpcmUgaGFzaGNoYW5nZSB3aGVuIHVybFxyXG4gICAgICAvLyBjaGFuZ2VkIGJ5IHB1c2gvcmVwbGFjZVN0YXRlXHJcblxyXG4gICAgICAvLyBodG1sNSBoaXN0b3J5IGFwaSAtIHBvcHN0YXRlIGV2ZW50XHJcbiAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5KSBqcUxpdGUod2luZG93KS5vbigncG9wc3RhdGUnLCBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSk7XHJcbiAgICAgIC8vIGhhc2hjaGFuZ2UgZXZlbnRcclxuICAgICAganFMaXRlKHdpbmRvdykub24oJ2hhc2hjaGFuZ2UnLCBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSk7XHJcblxyXG4gICAgICB1cmxDaGFuZ2VJbml0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cmxDaGFuZ2VMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbiAgICByZXR1cm4gY2FsbGJhY2s7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBSZW1vdmUgcG9wc3RhdGUgYW5kIGhhc2hjaGFuZ2UgaGFuZGxlciBmcm9tIHdpbmRvdy5cclxuICAgKlxyXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSAkcm9vdFNjb3BlLlxyXG4gICAqL1xyXG4gIHNlbGYuJCRhcHBsaWNhdGlvbkRlc3Ryb3llZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAganFMaXRlKHdpbmRvdykub2ZmKCdoYXNoY2hhbmdlIHBvcHN0YXRlJywgY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSB1cmwgaGFzIGNoYW5nZWQgb3V0c2lkZSBvZiBBbmd1bGFyLlxyXG4gICAqIE5lZWRzIHRvIGJlIGV4cG9ydGVkIHRvIGJlIGFibGUgdG8gY2hlY2sgZm9yIGNoYW5nZXMgdGhhdCBoYXZlIGJlZW4gZG9uZSBpbiBzeW5jLFxyXG4gICAqIGFzIGhhc2hjaGFuZ2UvcG9wc3RhdGUgZXZlbnRzIGZpcmUgaW4gYXN5bmMuXHJcbiAgICovXHJcbiAgc2VsZi4kJGNoZWNrVXJsQ2hhbmdlID0gZmlyZVVybENoYW5nZTtcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAvLyBNaXNjIEFQSVxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lICRicm93c2VyI2Jhc2VIcmVmXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZXR1cm5zIGN1cnJlbnQgPGJhc2UgaHJlZj5cclxuICAgKiAoYWx3YXlzIHJlbGF0aXZlIC0gd2l0aG91dCBkb21haW4pXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY3VycmVudCBiYXNlIGhyZWZcclxuICAgKi9cclxuICBzZWxmLmJhc2VIcmVmID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgaHJlZiA9IGJhc2VFbGVtZW50LmF0dHIoJ2hyZWYnKTtcclxuICAgIHJldHVybiBocmVmID8gaHJlZi5yZXBsYWNlKC9eKGh0dHBzP1xcOik/XFwvXFwvW15cXC9dKi8sICcnKSA6ICcnO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lICRicm93c2VyI2RlZmVyXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uLCB3aG8ncyBleGVjdXRpb24gc2hvdWxkIGJlIGRlZmVycmVkLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gW2RlbGF5PTBdIG9mIG1pbGxpc2Vjb25kcyB0byBkZWZlciB0aGUgZnVuY3Rpb24gZXhlY3V0aW9uLlxyXG4gICAqIEByZXR1cm5zIHsqfSBEZWZlcklkIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSB0YXNrIHZpYSBgJGJyb3dzZXIuZGVmZXIuY2FuY2VsKClgLlxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRXhlY3V0ZXMgYSBmbiBhc3luY2hyb25vdXNseSB2aWEgYHNldFRpbWVvdXQoZm4sIGRlbGF5KWAuXHJcbiAgICpcclxuICAgKiBVbmxpa2Ugd2hlbiBjYWxsaW5nIGBzZXRUaW1lb3V0YCBkaXJlY3RseSwgaW4gdGVzdCB0aGlzIGZ1bmN0aW9uIGlzIG1vY2tlZCBhbmQgaW5zdGVhZCBvZiB1c2luZ1xyXG4gICAqIGBzZXRUaW1lb3V0YCBpbiB0ZXN0cywgdGhlIGZucyBhcmUgcXVldWVkIGluIGFuIGFycmF5LCB3aGljaCBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBmbHVzaGVkXHJcbiAgICogdmlhIGAkYnJvd3Nlci5kZWZlci5mbHVzaCgpYC5cclxuICAgKlxyXG4gICAqL1xyXG4gIHNlbGYuZGVmZXIgPSBmdW5jdGlvbihmbiwgZGVsYXkpIHtcclxuICAgIHZhciB0aW1lb3V0SWQ7XHJcbiAgICBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCsrO1xyXG4gICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgZGVsZXRlIHBlbmRpbmdEZWZlcklkc1t0aW1lb3V0SWRdO1xyXG4gICAgICBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChmbik7XHJcbiAgICB9LCBkZWxheSB8fCAwKTtcclxuICAgIHBlbmRpbmdEZWZlcklkc1t0aW1lb3V0SWRdID0gdHJ1ZTtcclxuICAgIHJldHVybiB0aW1lb3V0SWQ7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lICRicm93c2VyI2RlZmVyLmNhbmNlbFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ2FuY2VscyBhIGRlZmVycmVkIHRhc2sgaWRlbnRpZmllZCB3aXRoIGBkZWZlcklkYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gZGVmZXJJZCBUb2tlbiByZXR1cm5lZCBieSB0aGUgYCRicm93c2VyLmRlZmVyYCBmdW5jdGlvbi5cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgaGFzbid0IGV4ZWN1dGVkIHlldCBhbmQgd2FzIHN1Y2Nlc3NmdWxseVxyXG4gICAqICAgICAgICAgICAgICAgICAgICBjYW5jZWxlZC5cclxuICAgKi9cclxuICBzZWxmLmRlZmVyLmNhbmNlbCA9IGZ1bmN0aW9uKGRlZmVySWQpIHtcclxuICAgIGlmIChwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF0pIHtcclxuICAgICAgZGVsZXRlIHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXTtcclxuICAgICAgY2xlYXJUaW1lb3V0KGRlZmVySWQpO1xyXG4gICAgICBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uICRCcm93c2VyUHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2cnLCAnJHNuaWZmZXInLCAnJGRvY3VtZW50JyxcclxuICAgICAgZnVuY3Rpb24oJHdpbmRvdywgJGxvZywgJHNuaWZmZXIsICRkb2N1bWVudCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQnJvd3Nlcigkd2luZG93LCAkZG9jdW1lbnQsICRsb2csICRzbmlmZmVyKTtcclxuICAgICAgfV07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkY2FjaGVGYWN0b3J5XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBGYWN0b3J5IHRoYXQgY29uc3RydWN0cyB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0cyBhbmQgZ2l2ZXMgYWNjZXNzIHRvXHJcbiAqIHRoZW0uXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqXHJcbiAqICB2YXIgY2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdjYWNoZUlkJyk7XHJcbiAqICBleHBlY3QoJGNhY2hlRmFjdG9yeS5nZXQoJ2NhY2hlSWQnKSkudG9CZShjYWNoZSk7XHJcbiAqICBleHBlY3QoJGNhY2hlRmFjdG9yeS5nZXQoJ25vU3VjaENhY2hlSWQnKSkubm90LnRvQmVEZWZpbmVkKCk7XHJcbiAqXHJcbiAqICBjYWNoZS5wdXQoXCJrZXlcIiwgXCJ2YWx1ZVwiKTtcclxuICogIGNhY2hlLnB1dChcImFub3RoZXIga2V5XCIsIFwiYW5vdGhlciB2YWx1ZVwiKTtcclxuICpcclxuICogIC8vIFdlJ3ZlIHNwZWNpZmllZCBubyBvcHRpb25zIG9uIGNyZWF0aW9uXHJcbiAqICBleHBlY3QoY2FjaGUuaW5mbygpKS50b0VxdWFsKHtpZDogJ2NhY2hlSWQnLCBzaXplOiAyfSk7XHJcbiAqXHJcbiAqIGBgYFxyXG4gKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVJZCBOYW1lIG9yIGlkIG9mIHRoZSBuZXdseSBjcmVhdGVkIGNhY2hlLlxyXG4gKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QgdGhhdCBzcGVjaWZpZXMgdGhlIGNhY2hlIGJlaGF2aW9yLiBQcm9wZXJ0aWVzOlxyXG4gKlxyXG4gKiAgIC0gYHtudW1iZXI9fWAgYGNhcGFjaXR5YCDigJQgdHVybnMgdGhlIGNhY2hlIGludG8gTFJVIGNhY2hlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBOZXdseSBjcmVhdGVkIGNhY2hlIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc2V0IG9mIG1ldGhvZHM6XHJcbiAqXHJcbiAqIC0gYHtvYmplY3R9YCBgaW5mbygpYCDigJQgUmV0dXJucyBpZCwgc2l6ZSwgYW5kIG9wdGlvbnMgb2YgY2FjaGUuXHJcbiAqIC0gYHt7Kn19YCBgcHV0KHtzdHJpbmd9IGtleSwgeyp9IHZhbHVlKWAg4oCUIFB1dHMgYSBuZXcga2V5LXZhbHVlIHBhaXIgaW50byB0aGUgY2FjaGUgYW5kIHJldHVybnNcclxuICogICBpdC5cclxuICogLSBge3sqfX1gIGBnZXQoe3N0cmluZ30ga2V5KWAg4oCUIFJldHVybnMgY2FjaGVkIHZhbHVlIGZvciBga2V5YCBvciB1bmRlZmluZWQgZm9yIGNhY2hlIG1pc3MuXHJcbiAqIC0gYHt2b2lkfWAgYHJlbW92ZSh7c3RyaW5nfSBrZXkpYCDigJQgUmVtb3ZlcyBhIGtleS12YWx1ZSBwYWlyIGZyb20gdGhlIGNhY2hlLlxyXG4gKiAtIGB7dm9pZH1gIGByZW1vdmVBbGwoKWAg4oCUIFJlbW92ZXMgYWxsIGNhY2hlZCB2YWx1ZXMuXHJcbiAqIC0gYHt2b2lkfWAgYGRlc3Ryb3koKWAg4oCUIFJlbW92ZXMgcmVmZXJlbmNlcyB0byB0aGlzIGNhY2hlIGZyb20gJGNhY2hlRmFjdG9yeS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbW9kdWxlPVwiY2FjaGVFeGFtcGxlQXBwXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkNhY2hlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJuZXdDYWNoZUtleVwiIHBsYWNlaG9sZGVyPVwiS2V5XCI+XHJcbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5ld0NhY2hlVmFsdWVcIiBwbGFjZWhvbGRlcj1cIlZhbHVlXCI+XHJcbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJwdXQobmV3Q2FjaGVLZXksIG5ld0NhY2hlVmFsdWUpXCI+Q2FjaGU8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgIDxwIG5nLWlmPVwia2V5cy5sZW5ndGhcIj5DYWNoZWQgVmFsdWVzPC9wPlxyXG4gICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cImtleSBpbiBrZXlzXCI+XHJcbiAgICAgICAgICAgPHNwYW4gbmctYmluZD1cImtleVwiPjwvc3Bhbj5cclxuICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj5cclxuICAgICAgICAgICA8YiBuZy1iaW5kPVwiY2FjaGUuZ2V0KGtleSlcIj48L2I+XHJcbiAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgPHA+Q2FjaGUgSW5mbzwvcD5cclxuICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XCIoa2V5LCB2YWx1ZSkgaW4gY2FjaGUuaW5mbygpXCI+XHJcbiAgICAgICAgICAgPHNwYW4gbmctYmluZD1cImtleVwiPjwvc3Bhbj5cclxuICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj5cclxuICAgICAgICAgICA8YiBuZy1iaW5kPVwidmFsdWVcIj48L2I+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjYWNoZUV4YW1wbGVBcHAnLCBbXSkuXHJcbiAgICAgICAgIGNvbnRyb2xsZXIoJ0NhY2hlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkc2NvcGUsICRjYWNoZUZhY3RvcnkpIHtcclxuICAgICAgICAgICAkc2NvcGUua2V5cyA9IFtdO1xyXG4gICAgICAgICAgICRzY29wZS5jYWNoZSA9ICRjYWNoZUZhY3RvcnkoJ2NhY2hlSWQnKTtcclxuICAgICAgICAgICAkc2NvcGUucHV0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoJHNjb3BlLmNhY2hlLmdldChrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUua2V5cy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAkc2NvcGUuY2FjaGUucHV0KGtleSwgYW5ndWxhci5pc1VuZGVmaW5lZCh2YWx1ZSkgPyBudWxsIDogdmFsdWUpO1xyXG4gICAgICAgICAgIH07XHJcbiAgICAgICAgIH1dKTtcclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgcCB7XHJcbiAgICAgICAgIG1hcmdpbjogMTBweCAwIDNweDtcclxuICAgICAgIH1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbmZ1bmN0aW9uICRDYWNoZUZhY3RvcnlQcm92aWRlcigpIHtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY2FjaGVzID0ge307XHJcblxyXG4gICAgZnVuY3Rpb24gY2FjaGVGYWN0b3J5KGNhY2hlSWQsIG9wdGlvbnMpIHtcclxuICAgICAgaWYgKGNhY2hlSWQgaW4gY2FjaGVzKSB7XHJcbiAgICAgICAgdGhyb3cgbWluRXJyKCckY2FjaGVGYWN0b3J5JykoJ2lpZCcsIFwiQ2FjaGVJZCAnezB9JyBpcyBhbHJlYWR5IHRha2VuIVwiLCBjYWNoZUlkKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHNpemUgPSAwLFxyXG4gICAgICAgICAgc3RhdHMgPSBleHRlbmQoe30sIG9wdGlvbnMsIHtpZDogY2FjaGVJZH0pLFxyXG4gICAgICAgICAgZGF0YSA9IGNyZWF0ZU1hcCgpLFxyXG4gICAgICAgICAgY2FwYWNpdHkgPSAob3B0aW9ucyAmJiBvcHRpb25zLmNhcGFjaXR5KSB8fCBOdW1iZXIuTUFYX1ZBTFVFLFxyXG4gICAgICAgICAgbHJ1SGFzaCA9IGNyZWF0ZU1hcCgpLFxyXG4gICAgICAgICAgZnJlc2hFbmQgPSBudWxsLFxyXG4gICAgICAgICAgc3RhbGVFbmQgPSBudWxsO1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyB0eXBlXHJcbiAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGVcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIEEgY2FjaGUgb2JqZWN0IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIGRhdGEsIHByaW1hcmlseSB1c2VkIGJ5XHJcbiAgICAgICAqIHtAbGluayAkaHR0cCAkaHR0cH0gYW5kIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOnNjcmlwdCBzY3JpcHR9IGRpcmVjdGl2ZSB0byBjYWNoZVxyXG4gICAgICAgKiB0ZW1wbGF0ZXMgYW5kIG90aGVyIGRhdGEuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAqICBhbmd1bGFyLm1vZHVsZSgnc3VwZXJDYWNoZScpXHJcbiAgICAgICAqICAgIC5mYWN0b3J5KCdzdXBlckNhY2hlJywgWyckY2FjaGVGYWN0b3J5JywgZnVuY3Rpb24oJGNhY2hlRmFjdG9yeSkge1xyXG4gICAgICAgKiAgICAgIHJldHVybiAkY2FjaGVGYWN0b3J5KCdzdXBlci1jYWNoZScpO1xyXG4gICAgICAgKiAgICB9XSk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBFeGFtcGxlIHRlc3Q6XHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAqICBpdCgnc2hvdWxkIGJlaGF2ZSBsaWtlIGEgY2FjaGUnLCBpbmplY3QoZnVuY3Rpb24oc3VwZXJDYWNoZSkge1xyXG4gICAgICAgKiAgICBzdXBlckNhY2hlLnB1dCgna2V5JywgJ3ZhbHVlJyk7XHJcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdhbm90aGVyIGtleScsICdhbm90aGVyIHZhbHVlJyk7XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmluZm8oKSkudG9FcXVhbCh7XHJcbiAgICAgICAqICAgICAgaWQ6ICdzdXBlci1jYWNoZScsXHJcbiAgICAgICAqICAgICAgc2l6ZTogMlxyXG4gICAgICAgKiAgICB9KTtcclxuICAgICAgICpcclxuICAgICAgICogICAgc3VwZXJDYWNoZS5yZW1vdmUoJ2Fub3RoZXIga2V5Jyk7XHJcbiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmdldCgnYW5vdGhlciBrZXknKSkudG9CZVVuZGVmaW5lZCgpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICBzdXBlckNhY2hlLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgKiAgICBleHBlY3Qoc3VwZXJDYWNoZS5pbmZvKCkpLnRvRXF1YWwoe1xyXG4gICAgICAgKiAgICAgIGlkOiAnc3VwZXItY2FjaGUnLFxyXG4gICAgICAgKiAgICAgIHNpemU6IDBcclxuICAgICAgICogICAgfSk7XHJcbiAgICAgICAqICB9KSk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKi9cclxuICAgICAgcmV0dXJuIGNhY2hlc1tjYWNoZUlkXSA9IHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcHV0XHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIEluc2VydHMgYSBuYW1lZCBlbnRyeSBpbnRvIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0IHRvIGJlXHJcbiAgICAgICAgICogcmV0cmlldmVkIGxhdGVyLCBhbmQgaW5jcmVtZW50aW5nIHRoZSBzaXplIG9mIHRoZSBjYWNoZSBpZiB0aGUga2V5IHdhcyBub3QgYWxyZWFkeVxyXG4gICAgICAgICAqIHByZXNlbnQgaW4gdGhlIGNhY2hlLiBJZiBiZWhhdmluZyBsaWtlIGFuIExSVSBjYWNoZSwgaXQgd2lsbCBhbHNvIHJlbW92ZSBzdGFsZVxyXG4gICAgICAgICAqIGVudHJpZXMgZnJvbSB0aGUgc2V0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogSXQgd2lsbCBub3QgaW5zZXJ0IHVuZGVmaW5lZCB2YWx1ZXMgaW50byB0aGUgY2FjaGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgdW5kZXIgd2hpY2ggdGhlIGNhY2hlZCBkYXRhIGlzIHN0b3JlZC5cclxuICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIHRoZSB2YWx1ZSB0byBzdG9yZSBhbG9uZ3NpZGUgdGhlIGtleS4gSWYgaXQgaXMgdW5kZWZpbmVkLCB0aGUga2V5XHJcbiAgICAgICAgICogICAgd2lsbCBub3QgYmUgc3RvcmVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgc3RvcmVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xyXG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xyXG4gICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV0gfHwgKGxydUhhc2hba2V5XSA9IHtrZXk6IGtleX0pO1xyXG5cclxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCEoa2V5IGluIGRhdGEpKSBzaXplKys7XHJcbiAgICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICBpZiAoc2l6ZSA+IGNhcGFjaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHN0YWxlRW5kLmtleSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2dldFxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBSZXRyaWV2ZXMgbmFtZWQgZGF0YSBzdG9yZWQgaW4gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgb2YgdGhlIGRhdGEgdG8gYmUgcmV0cmlldmVkXHJcbiAgICAgICAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBzdG9yZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHtcclxuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFscnVFbnRyeSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcclxuICAgICAgICB9LFxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcmVtb3ZlXHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIFJlbW92ZXMgYW4gZW50cnkgZnJvbSB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSBvZiB0aGUgZW50cnkgdG8gYmUgcmVtb3ZlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICBpZiAoY2FwYWNpdHkgPCBOdW1iZXIuTUFYX1ZBTFVFKSB7XHJcbiAgICAgICAgICAgIHZhciBscnVFbnRyeSA9IGxydUhhc2hba2V5XTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbHJ1RW50cnkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmIChscnVFbnRyeSA9PSBmcmVzaEVuZCkgZnJlc2hFbmQgPSBscnVFbnRyeS5wO1xyXG4gICAgICAgICAgICBpZiAobHJ1RW50cnkgPT0gc3RhbGVFbmQpIHN0YWxlRW5kID0gbHJ1RW50cnkubjtcclxuICAgICAgICAgICAgbGluayhscnVFbnRyeS5uLGxydUVudHJ5LnApO1xyXG5cclxuICAgICAgICAgICAgZGVsZXRlIGxydUhhc2hba2V5XTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoIShrZXkgaW4gZGF0YSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICBkZWxldGUgZGF0YVtrZXldO1xyXG4gICAgICAgICAgc2l6ZS0tO1xyXG4gICAgICAgIH0sXHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNyZW1vdmVBbGxcclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICogQ2xlYXJzIHRoZSBjYWNoZSBvYmplY3Qgb2YgYW55IGVudHJpZXMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVtb3ZlQWxsOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGRhdGEgPSBjcmVhdGVNYXAoKTtcclxuICAgICAgICAgIHNpemUgPSAwO1xyXG4gICAgICAgICAgbHJ1SGFzaCA9IGNyZWF0ZU1hcCgpO1xyXG4gICAgICAgICAgZnJlc2hFbmQgPSBzdGFsZUVuZCA9IG51bGw7XHJcbiAgICAgICAgfSxcclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2Rlc3Ryb3lcclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICogRGVzdHJveXMgdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QgZW50aXJlbHksXHJcbiAgICAgICAgICogcmVtb3ZpbmcgaXQgZnJvbSB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkgJGNhY2hlRmFjdG9yeX0gc2V0LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZGF0YSA9IG51bGw7XHJcbiAgICAgICAgICBzdGF0cyA9IG51bGw7XHJcbiAgICAgICAgICBscnVIYXNoID0gbnVsbDtcclxuICAgICAgICAgIGRlbGV0ZSBjYWNoZXNbY2FjaGVJZF07XHJcbiAgICAgICAgfSxcclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2luZm9cclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICogUmV0cmlldmUgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGEgcGFydGljdWxhciB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICAgICAgICogICA8dWw+XHJcbiAgICAgICAgICogICAgIDxsaT4qKmlkKio6IHRoZSBpZCBvZiB0aGUgY2FjaGUgaW5zdGFuY2U8L2xpPlxyXG4gICAgICAgICAqICAgICA8bGk+KipzaXplKio6IHRoZSBudW1iZXIgb2YgZW50cmllcyBrZXB0IGluIHRoZSBjYWNoZSBpbnN0YW5jZTwvbGk+XHJcbiAgICAgICAgICogICAgIDxsaT4qKi4uLioqOiBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0IHdoZW4gY3JlYXRpbmcgdGhlXHJcbiAgICAgICAgICogICAgICAgY2FjaGUuPC9saT5cclxuICAgICAgICAgKiAgIDwvdWw+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaW5mbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBzdGF0cywge3NpemU6IHNpemV9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIG1ha2VzIHRoZSBgZW50cnlgIHRoZSBmcmVzaEVuZCBvZiB0aGUgTFJVIGxpbmtlZCBsaXN0XHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiByZWZyZXNoKGVudHJ5KSB7XHJcbiAgICAgICAgaWYgKGVudHJ5ICE9IGZyZXNoRW5kKSB7XHJcbiAgICAgICAgICBpZiAoIXN0YWxlRW5kKSB7XHJcbiAgICAgICAgICAgIHN0YWxlRW5kID0gZW50cnk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YWxlRW5kID09IGVudHJ5KSB7XHJcbiAgICAgICAgICAgIHN0YWxlRW5kID0gZW50cnkubjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBsaW5rKGVudHJ5Lm4sIGVudHJ5LnApO1xyXG4gICAgICAgICAgbGluayhlbnRyeSwgZnJlc2hFbmQpO1xyXG4gICAgICAgICAgZnJlc2hFbmQgPSBlbnRyeTtcclxuICAgICAgICAgIGZyZXNoRW5kLm4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBiaWRpcmVjdGlvbmFsbHkgbGlua3MgdHdvIGVudHJpZXMgb2YgdGhlIExSVSBsaW5rZWQgbGlzdFxyXG4gICAgICAgKi9cclxuICAgICAgZnVuY3Rpb24gbGluayhuZXh0RW50cnksIHByZXZFbnRyeSkge1xyXG4gICAgICAgIGlmIChuZXh0RW50cnkgIT0gcHJldkVudHJ5KSB7XHJcbiAgICAgICAgICBpZiAobmV4dEVudHJ5KSBuZXh0RW50cnkucCA9IHByZXZFbnRyeTsgLy9wIHN0YW5kcyBmb3IgcHJldmlvdXMsICdwcmV2JyBkaWRuJ3QgbWluaWZ5XHJcbiAgICAgICAgICBpZiAocHJldkVudHJ5KSBwcmV2RW50cnkubiA9IG5leHRFbnRyeTsgLy9uIHN0YW5kcyBmb3IgbmV4dCwgJ25leHQnIGRpZG4ndCBtaW5pZnlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5I2luZm9cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEdldCBpbmZvcm1hdGlvbiBhYm91dCBhbGwgdGhlIGNhY2hlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIGtleS12YWx1ZSBtYXAgb2YgYGNhY2hlSWRgIHRvIHRoZSByZXN1bHQgb2YgY2FsbGluZyBgY2FjaGUjaW5mb2BcclxuICAgKi9cclxuICAgIGNhY2hlRmFjdG9yeS5pbmZvID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBpbmZvID0ge307XHJcbiAgICAgIGZvckVhY2goY2FjaGVzLCBmdW5jdGlvbihjYWNoZSwgY2FjaGVJZCkge1xyXG4gICAgICAgIGluZm9bY2FjaGVJZF0gPSBjYWNoZS5pbmZvKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gaW5mbztcclxuICAgIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGNhY2hlRmFjdG9yeSNnZXRcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEdldCBhY2Nlc3MgdG8gYSBjYWNoZSBvYmplY3QgYnkgdGhlIGBjYWNoZUlkYCB1c2VkIHdoZW4gaXQgd2FzIGNyZWF0ZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVJZCBOYW1lIG9yIGlkIG9mIGEgY2FjaGUgdG8gYWNjZXNzLlxyXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IENhY2hlIG9iamVjdCBpZGVudGlmaWVkIGJ5IHRoZSBjYWNoZUlkIG9yIHVuZGVmaW5lZCBpZiBubyBzdWNoIGNhY2hlLlxyXG4gICAqL1xyXG4gICAgY2FjaGVGYWN0b3J5LmdldCA9IGZ1bmN0aW9uKGNhY2hlSWQpIHtcclxuICAgICAgcmV0dXJuIGNhY2hlc1tjYWNoZUlkXTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIHJldHVybiBjYWNoZUZhY3Rvcnk7XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICR0ZW1wbGF0ZUNhY2hlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgZmlyc3QgdGltZSBhIHRlbXBsYXRlIGlzIHVzZWQsIGl0IGlzIGxvYWRlZCBpbiB0aGUgdGVtcGxhdGUgY2FjaGUgZm9yIHF1aWNrIHJldHJpZXZhbC4gWW91XHJcbiAqIGNhbiBsb2FkIHRlbXBsYXRlcyBkaXJlY3RseSBpbnRvIHRoZSBjYWNoZSBpbiBhIGBzY3JpcHRgIHRhZywgb3IgYnkgY29uc3VtaW5nIHRoZVxyXG4gKiBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2UgZGlyZWN0bHkuXHJcbiAqXHJcbiAqIEFkZGluZyB2aWEgdGhlIGBzY3JpcHRgIHRhZzpcclxuICpcclxuICogYGBgaHRtbFxyXG4gKiAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cInRlbXBsYXRlSWQuaHRtbFwiPlxyXG4gKiAgICAgPHA+VGhpcyBpcyB0aGUgY29udGVudCBvZiB0aGUgdGVtcGxhdGU8L3A+XHJcbiAqICAgPC9zY3JpcHQ+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAqKk5vdGU6KiogdGhlIGBzY3JpcHRgIHRhZyBjb250YWluaW5nIHRoZSB0ZW1wbGF0ZSBkb2VzIG5vdCBuZWVkIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBgaGVhZGAgb2ZcclxuICogdGhlIGRvY3VtZW50LCBidXQgaXQgbXVzdCBiZSBhIGRlc2NlbmRlbnQgb2YgdGhlIHtAbGluayBuZy4kcm9vdEVsZW1lbnQgJHJvb3RFbGVtZW50fSAoSUUsXHJcbiAqIGVsZW1lbnQgd2l0aCBuZy1hcHAgYXR0cmlidXRlKSwgb3RoZXJ3aXNlIHRoZSB0ZW1wbGF0ZSB3aWxsIGJlIGlnbm9yZWQuXHJcbiAqXHJcbiAqIEFkZGluZyB2aWEgdGhlIGAkdGVtcGxhdGVDYWNoZWAgc2VydmljZTpcclxuICpcclxuICogYGBganNcclxuICogdmFyIG15QXBwID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJywgW10pO1xyXG4gKiBteUFwcC5ydW4oZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICogICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3RlbXBsYXRlSWQuaHRtbCcsICdUaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSB0ZW1wbGF0ZScpO1xyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFRvIHJldHJpZXZlIHRoZSB0ZW1wbGF0ZSBsYXRlciwgc2ltcGx5IHVzZSBpdCBpbiB5b3VyIEhUTUw6XHJcbiAqIGBgYGh0bWxcclxuICogPGRpdiBuZy1pbmNsdWRlPVwiICd0ZW1wbGF0ZUlkLmh0bWwnIFwiPjwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogb3IgZ2V0IGl0IHZpYSBKYXZhc2NyaXB0OlxyXG4gKiBgYGBqc1xyXG4gKiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3RlbXBsYXRlSWQuaHRtbCcpXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBTZWUge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgJGNhY2hlRmFjdG9yeX0uXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRjYWNoZUZhY3RvcnkpIHtcclxuICAgIHJldHVybiAkY2FjaGVGYWN0b3J5KCd0ZW1wbGF0ZXMnKTtcclxuICB9XTtcclxufVxyXG5cclxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxyXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXHJcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcclxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxyXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXHJcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcclxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cclxuXHJcbi8qICEgVkFSSUFCTEUvRlVOQ1RJT04gTkFNSU5HIENPTlZFTlRJT05TIFRIQVQgQVBQTFkgVE8gVEhJUyBGSUxFIVxyXG4gKlxyXG4gKiBET00tcmVsYXRlZCB2YXJpYWJsZXM6XHJcbiAqXHJcbiAqIC0gXCJub2RlXCIgLSBET00gTm9kZVxyXG4gKiAtIFwiZWxlbWVudFwiIC0gRE9NIEVsZW1lbnQgb3IgTm9kZVxyXG4gKiAtIFwiJG5vZGVcIiBvciBcIiRlbGVtZW50XCIgLSBqcUxpdGUtd3JhcHBlZCBub2RlIG9yIGVsZW1lbnRcclxuICpcclxuICpcclxuICogQ29tcGlsZXIgcmVsYXRlZCBzdHVmZjpcclxuICpcclxuICogLSBcImxpbmtGblwiIC0gbGlua2luZyBmbiBvZiBhIHNpbmdsZSBkaXJlY3RpdmVcclxuICogLSBcIm5vZGVMaW5rRm5cIiAtIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGEgcGFydGljdWxhciBub2RlXHJcbiAqIC0gXCJjaGlsZExpbmtGblwiIC0gIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGNoaWxkIG5vZGVzIG9mIGEgcGFydGljdWxhciBub2RlXHJcbiAqIC0gXCJjb21wb3NpdGVMaW5rRm5cIiAtIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGEgY29tcGlsYXRpb24gcm9vdCAobm9kZUxpc3QpXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkY29tcGlsZVxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ29tcGlsZXMgYW4gSFRNTCBzdHJpbmcgb3IgRE9NIGludG8gYSB0ZW1wbGF0ZSBhbmQgcHJvZHVjZXMgYSB0ZW1wbGF0ZSBmdW5jdGlvbiwgd2hpY2hcclxuICogY2FuIHRoZW4gYmUgdXNlZCB0byBsaW5rIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIGBzY29wZWB9IGFuZCB0aGUgdGVtcGxhdGUgdG9nZXRoZXIuXHJcbiAqXHJcbiAqIFRoZSBjb21waWxhdGlvbiBpcyBhIHByb2Nlc3Mgb2Ygd2Fsa2luZyB0aGUgRE9NIHRyZWUgYW5kIG1hdGNoaW5nIERPTSBlbGVtZW50cyB0b1xyXG4gKiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30uXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZToqKiBUaGlzIGRvY3VtZW50IGlzIGFuIGluLWRlcHRoIHJlZmVyZW5jZSBvZiBhbGwgZGlyZWN0aXZlIG9wdGlvbnMuXHJcbiAqIEZvciBhIGdlbnRsZSBpbnRyb2R1Y3Rpb24gdG8gZGlyZWN0aXZlcyB3aXRoIGV4YW1wbGVzIG9mIGNvbW1vbiB1c2UgY2FzZXMsXHJcbiAqIHNlZSB0aGUge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSBkaXJlY3RpdmUgZ3VpZGV9LlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogIyMgQ29tcHJlaGVuc2l2ZSBEaXJlY3RpdmUgQVBJXHJcbiAqXHJcbiAqIFRoZXJlIGFyZSBtYW55IGRpZmZlcmVudCBvcHRpb25zIGZvciBhIGRpcmVjdGl2ZS5cclxuICpcclxuICogVGhlIGRpZmZlcmVuY2UgcmVzaWRlcyBpbiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmYWN0b3J5IGZ1bmN0aW9uLlxyXG4gKiBZb3UgY2FuIGVpdGhlciByZXR1cm4gYSBcIkRpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdFwiIChzZWUgYmVsb3cpIHRoYXQgZGVmaW5lcyB0aGUgZGlyZWN0aXZlIHByb3BlcnRpZXMsXHJcbiAqIG9yIGp1c3QgdGhlIGBwb3N0TGlua2AgZnVuY3Rpb24gKGFsbCBvdGhlciBwcm9wZXJ0aWVzIHdpbGwgaGF2ZSB0aGUgZGVmYXVsdCB2YWx1ZXMpLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxyXG4gKiAqKkJlc3QgUHJhY3RpY2U6KiogSXQncyByZWNvbW1lbmRlZCB0byB1c2UgdGhlIFwiZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0XCIgZm9ybS5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEhlcmUncyBhbiBleGFtcGxlIGRpcmVjdGl2ZSBkZWNsYXJlZCB3aXRoIGEgRGlyZWN0aXZlIERlZmluaXRpb24gT2JqZWN0OlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIHZhciBteU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKC4uLik7XHJcbiAqXHJcbiAqICAgbXlNb2R1bGUuZGlyZWN0aXZlKCdkaXJlY3RpdmVOYW1lJywgZnVuY3Rpb24gZmFjdG9yeShpbmplY3RhYmxlcykge1xyXG4gKiAgICAgdmFyIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3QgPSB7XHJcbiAqICAgICAgIHByaW9yaXR5OiAwLFxyXG4gKiAgICAgICB0ZW1wbGF0ZTogJzxkaXY+PC9kaXY+JywgLy8gb3IgLy8gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykgeyAuLi4gfSxcclxuICogICAgICAgLy8gb3JcclxuICogICAgICAgLy8gdGVtcGxhdGVVcmw6ICdkaXJlY3RpdmUuaHRtbCcsIC8vIG9yIC8vIGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHsgLi4uIH0sXHJcbiAqICAgICAgIHRyYW5zY2x1ZGU6IGZhbHNlLFxyXG4gKiAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gKiAgICAgICB0ZW1wbGF0ZU5hbWVzcGFjZTogJ2h0bWwnLFxyXG4gKiAgICAgICBzY29wZTogZmFsc2UsXHJcbiAqICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJHRyYW5zY2x1ZGUsIG90aGVySW5qZWN0YWJsZXMpIHsgLi4uIH0sXHJcbiAqICAgICAgIGNvbnRyb2xsZXJBczogJ3N0cmluZ0lkZW50aWZpZXInLFxyXG4gKiAgICAgICBiaW5kVG9Db250cm9sbGVyOiBmYWxzZSxcclxuICogICAgICAgcmVxdWlyZTogJ3NpYmxpbmdEaXJlY3RpdmVOYW1lJywgLy8gb3IgLy8gWydecGFyZW50RGlyZWN0aXZlTmFtZScsICc/b3B0aW9uYWxEaXJlY3RpdmVOYW1lJywgJz9eb3B0aW9uYWxQYXJlbnQnXSxcclxuICogICAgICAgY29tcGlsZTogZnVuY3Rpb24gY29tcGlsZSh0RWxlbWVudCwgdEF0dHJzLCB0cmFuc2NsdWRlKSB7XHJcbiAqICAgICAgICAgcmV0dXJuIHtcclxuICogICAgICAgICAgIHByZTogZnVuY3Rpb24gcHJlTGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfSxcclxuICogICAgICAgICAgIHBvc3Q6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9XHJcbiAqICAgICAgICAgfVxyXG4gKiAgICAgICAgIC8vIG9yXHJcbiAqICAgICAgICAgLy8gcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKCAuLi4gKSB7IC4uLiB9XHJcbiAqICAgICAgIH0sXHJcbiAqICAgICAgIC8vIG9yXHJcbiAqICAgICAgIC8vIGxpbms6IHtcclxuICogICAgICAgLy8gIHByZTogZnVuY3Rpb24gcHJlTGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfSxcclxuICogICAgICAgLy8gIHBvc3Q6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9XHJcbiAqICAgICAgIC8vIH1cclxuICogICAgICAgLy8gb3JcclxuICogICAgICAgLy8gbGluazogZnVuY3Rpb24gcG9zdExpbmsoIC4uLiApIHsgLi4uIH1cclxuICogICAgIH07XHJcbiAqICAgICByZXR1cm4gZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdDtcclxuICogICB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZToqKiBBbnkgdW5zcGVjaWZpZWQgb3B0aW9ucyB3aWxsIHVzZSB0aGUgZGVmYXVsdCB2YWx1ZS4gWW91IGNhbiBzZWUgdGhlIGRlZmF1bHQgdmFsdWVzIGJlbG93LlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogVGhlcmVmb3JlIHRoZSBhYm92ZSBjYW4gYmUgc2ltcGxpZmllZCBhczpcclxuICpcclxuICogYGBganNcclxuICogICB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xyXG4gKlxyXG4gKiAgIG15TW9kdWxlLmRpcmVjdGl2ZSgnZGlyZWN0aXZlTmFtZScsIGZ1bmN0aW9uIGZhY3RvcnkoaW5qZWN0YWJsZXMpIHtcclxuICogICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0ge1xyXG4gKiAgICAgICBsaW5rOiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycykgeyAuLi4gfVxyXG4gKiAgICAgfTtcclxuICogICAgIHJldHVybiBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0O1xyXG4gKiAgICAgLy8gb3JcclxuICogICAgIC8vIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycykgeyAuLi4gfVxyXG4gKiAgIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICpcclxuICpcclxuICogIyMjIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdFxyXG4gKlxyXG4gKiBUaGUgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0IHByb3ZpZGVzIGluc3RydWN0aW9ucyB0byB0aGUge0BsaW5rIG5nLiRjb21waWxlXHJcbiAqIGNvbXBpbGVyfS4gVGhlIGF0dHJpYnV0ZXMgYXJlOlxyXG4gKlxyXG4gKiAjIyMjIGBtdWx0aUVsZW1lbnRgXHJcbiAqIFdoZW4gdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZSwgdGhlIEhUTUwgY29tcGlsZXIgd2lsbCBjb2xsZWN0IERPTSBub2RlcyBiZXR3ZWVuXHJcbiAqIG5vZGVzIHdpdGggdGhlIGF0dHJpYnV0ZXMgYGRpcmVjdGl2ZS1uYW1lLXN0YXJ0YCBhbmQgYGRpcmVjdGl2ZS1uYW1lLWVuZGAsIGFuZCBncm91cCB0aGVtXHJcbiAqIHRvZ2V0aGVyIGFzIHRoZSBkaXJlY3RpdmUgZWxlbWVudHMuIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgdGhpcyBmZWF0dXJlIGJlIHVzZWQgb24gZGlyZWN0aXZlc1xyXG4gKiB3aGljaCBhcmUgbm90IHN0cmljdGx5IGJlaGF2aW9yYWwgKHN1Y2ggYXMge0BsaW5rIG5nQ2xpY2t9KSwgYW5kIHdoaWNoXHJcbiAqIGRvIG5vdCBtYW5pcHVsYXRlIG9yIHJlcGxhY2UgY2hpbGQgbm9kZXMgKHN1Y2ggYXMge0BsaW5rIG5nSW5jbHVkZX0pLlxyXG4gKlxyXG4gKiAjIyMjIGBwcmlvcml0eWBcclxuICogV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgZGlyZWN0aXZlcyBkZWZpbmVkIG9uIGEgc2luZ2xlIERPTSBlbGVtZW50LCBzb21ldGltZXMgaXRcclxuICogaXMgbmVjZXNzYXJ5IHRvIHNwZWNpZnkgdGhlIG9yZGVyIGluIHdoaWNoIHRoZSBkaXJlY3RpdmVzIGFyZSBhcHBsaWVkLiBUaGUgYHByaW9yaXR5YCBpcyB1c2VkXHJcbiAqIHRvIHNvcnQgdGhlIGRpcmVjdGl2ZXMgYmVmb3JlIHRoZWlyIGBjb21waWxlYCBmdW5jdGlvbnMgZ2V0IGNhbGxlZC4gUHJpb3JpdHkgaXMgZGVmaW5lZCBhcyBhXHJcbiAqIG51bWJlci4gRGlyZWN0aXZlcyB3aXRoIGdyZWF0ZXIgbnVtZXJpY2FsIGBwcmlvcml0eWAgYXJlIGNvbXBpbGVkIGZpcnN0LiBQcmUtbGluayBmdW5jdGlvbnNcclxuICogYXJlIGFsc28gcnVuIGluIHByaW9yaXR5IG9yZGVyLCBidXQgcG9zdC1saW5rIGZ1bmN0aW9ucyBhcmUgcnVuIGluIHJldmVyc2Ugb3JkZXIuIFRoZSBvcmRlclxyXG4gKiBvZiBkaXJlY3RpdmVzIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkgaXMgdW5kZWZpbmVkLiBUaGUgZGVmYXVsdCBwcmlvcml0eSBpcyBgMGAuXHJcbiAqXHJcbiAqICMjIyMgYHRlcm1pbmFsYFxyXG4gKiBJZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBjdXJyZW50IGBwcmlvcml0eWAgd2lsbCBiZSB0aGUgbGFzdCBzZXQgb2YgZGlyZWN0aXZlc1xyXG4gKiB3aGljaCB3aWxsIGV4ZWN1dGUgKGFueSBkaXJlY3RpdmVzIGF0IHRoZSBjdXJyZW50IHByaW9yaXR5IHdpbGwgc3RpbGwgZXhlY3V0ZVxyXG4gKiBhcyB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uIG9uIHNhbWUgYHByaW9yaXR5YCBpcyB1bmRlZmluZWQpLiBOb3RlIHRoYXQgZXhwcmVzc2lvbnNcclxuICogYW5kIG90aGVyIGRpcmVjdGl2ZXMgdXNlZCBpbiB0aGUgZGlyZWN0aXZlJ3MgdGVtcGxhdGUgd2lsbCBhbHNvIGJlIGV4Y2x1ZGVkIGZyb20gZXhlY3V0aW9uLlxyXG4gKlxyXG4gKiAjIyMjIGBzY29wZWBcclxuICogVGhlIHNjb3BlIHByb3BlcnR5IGNhbiBiZSBgdHJ1ZWAsIGFuIG9iamVjdCBvciBhIGZhbHN5IHZhbHVlOlxyXG4gKlxyXG4gKiAqICoqZmFsc3k6KiogTm8gc2NvcGUgd2lsbCBiZSBjcmVhdGVkIGZvciB0aGUgZGlyZWN0aXZlLiBUaGUgZGlyZWN0aXZlIHdpbGwgdXNlIGl0cyBwYXJlbnQncyBzY29wZS5cclxuICpcclxuICogKiAqKmB0cnVlYDoqKiBBIG5ldyBjaGlsZCBzY29wZSB0aGF0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRzIGZyb20gaXRzIHBhcmVudCB3aWxsIGJlIGNyZWF0ZWQgZm9yXHJcbiAqIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LiBJZiBtdWx0aXBsZSBkaXJlY3RpdmVzIG9uIHRoZSBzYW1lIGVsZW1lbnQgcmVxdWVzdCBhIG5ldyBzY29wZSxcclxuICogb25seSBvbmUgbmV3IHNjb3BlIGlzIGNyZWF0ZWQuIFRoZSBuZXcgc2NvcGUgcnVsZSBkb2VzIG5vdCBhcHBseSBmb3IgdGhlIHJvb3Qgb2YgdGhlIHRlbXBsYXRlXHJcbiAqIHNpbmNlIHRoZSByb290IG9mIHRoZSB0ZW1wbGF0ZSBhbHdheXMgZ2V0cyBhIG5ldyBzY29wZS5cclxuICpcclxuICogKiAqKmB7Li4ufWAgKGFuIG9iamVjdCBoYXNoKToqKiBBIG5ldyBcImlzb2xhdGVcIiBzY29wZSBpcyBjcmVhdGVkIGZvciB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC4gVGhlXHJcbiAqICdpc29sYXRlJyBzY29wZSBkaWZmZXJzIGZyb20gbm9ybWFsIHNjb3BlIGluIHRoYXQgaXQgZG9lcyBub3QgcHJvdG90eXBpY2FsbHkgaW5oZXJpdCBmcm9tIGl0cyBwYXJlbnRcclxuICogc2NvcGUuIFRoaXMgaXMgdXNlZnVsIHdoZW4gY3JlYXRpbmcgcmV1c2FibGUgY29tcG9uZW50cywgd2hpY2ggc2hvdWxkIG5vdCBhY2NpZGVudGFsbHkgcmVhZCBvciBtb2RpZnlcclxuICogZGF0YSBpbiB0aGUgcGFyZW50IHNjb3BlLlxyXG4gKlxyXG4gKiBUaGUgJ2lzb2xhdGUnIHNjb3BlIG9iamVjdCBoYXNoIGRlZmluZXMgYSBzZXQgb2YgbG9jYWwgc2NvcGUgcHJvcGVydGllcyBkZXJpdmVkIGZyb20gYXR0cmlidXRlcyBvbiB0aGVcclxuICogZGlyZWN0aXZlJ3MgZWxlbWVudC4gVGhlc2UgbG9jYWwgcHJvcGVydGllcyBhcmUgdXNlZnVsIGZvciBhbGlhc2luZyB2YWx1ZXMgZm9yIHRlbXBsYXRlcy4gVGhlIGtleXMgaW5cclxuICogdGhlIG9iamVjdCBoYXNoIG1hcCB0byB0aGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgb24gdGhlIGlzb2xhdGUgc2NvcGU7IHRoZSB2YWx1ZXMgZGVmaW5lIGhvdyB0aGUgcHJvcGVydHlcclxuICogaXMgYm91bmQgdG8gdGhlIHBhcmVudCBzY29wZSwgdmlhIG1hdGNoaW5nIGF0dHJpYnV0ZXMgb24gdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQ6XHJcbiAqXHJcbiAqICogYEBgIG9yIGBAYXR0cmAgLSBiaW5kIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgdG8gdGhlIHZhbHVlIG9mIERPTSBhdHRyaWJ1dGUuIFRoZSByZXN1bHQgaXNcclxuICogICBhbHdheXMgYSBzdHJpbmcgc2luY2UgRE9NIGF0dHJpYnV0ZXMgYXJlIHN0cmluZ3MuIElmIG5vIGBhdHRyYCBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZVxyXG4gKiAgIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIGxvY2FsIG5hbWUuIEdpdmVuIGA8bXktY29tcG9uZW50XHJcbiAqICAgbXktYXR0cj1cImhlbGxvIHt7bmFtZX19XCI+YCBhbmQgdGhlIGlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbiBgc2NvcGU6IHsgbG9jYWxOYW1lOidAbXlBdHRyJyB9YCxcclxuICogICB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUgcHJvcGVydHkgYGxvY2FsTmFtZWAgd2lsbCByZWZsZWN0IHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgYGhlbGxvXHJcbiAqICAge3tuYW1lfX1gLiBBcyB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBjaGFuZ2VzIHNvIHdpbGwgdGhlIGBsb2NhbE5hbWVgIHByb3BlcnR5IG9uIHRoZSBkaXJlY3RpdmUnc1xyXG4gKiAgIHNjb3BlLiBUaGUgYG5hbWVgIGlzIHJlYWQgZnJvbSB0aGUgcGFyZW50IHNjb3BlIChub3QgdGhlIGRpcmVjdGl2ZSdzIHNjb3BlKS5cclxuICpcclxuICogKiBgPWAgb3IgYD1hdHRyYCAtIHNldCB1cCBhIGJpZGlyZWN0aW9uYWwgYmluZGluZyBiZXR3ZWVuIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgYW5kIGFuIGV4cHJlc3Npb25cclxuICogICBwYXNzZWQgdmlhIHRoZSBhdHRyaWJ1dGUgYGF0dHJgLiBUaGUgZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQgaW4gdGhlIGNvbnRleHQgb2YgdGhlIHBhcmVudCBzY29wZS5cclxuICogICBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgbG9jYWxcclxuICogICBuYW1lLiBHaXZlbiBgPG15LWNvbXBvbmVudCBteS1hdHRyPVwicGFyZW50TW9kZWxcIj5gIGFuZCB0aGUgaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uIGBzY29wZToge1xyXG4gKiAgIGxvY2FsTW9kZWw6ICc9bXlBdHRyJyB9YCwgdGhlIHByb3BlcnR5IGBsb2NhbE1vZGVsYCBvbiB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUgd2lsbCByZWZsZWN0IHRoZVxyXG4gKiAgIHZhbHVlIG9mIGBwYXJlbnRNb2RlbGAgb24gdGhlIHBhcmVudCBzY29wZS4gQ2hhbmdlcyB0byBgcGFyZW50TW9kZWxgIHdpbGwgYmUgcmVmbGVjdGVkIGluXHJcbiAqICAgYGxvY2FsTW9kZWxgIGFuZCB2aWNlIHZlcnNhLiBPcHRpb25hbCBhdHRyaWJ1dGVzIHNob3VsZCBiZSBtYXJrZWQgYXMgc3VjaCB3aXRoIGEgcXVlc3Rpb24gbWFyazpcclxuICogICBgPT9gIG9yIGA9P2F0dHJgLiBJZiB0aGUgYmluZGluZyBleHByZXNzaW9uIGlzIG5vbi1hc3NpZ25hYmxlLCBvciBpZiB0aGUgYXR0cmlidXRlIGlzbid0XHJcbiAqICAgb3B0aW9uYWwgYW5kIGRvZXNuJ3QgZXhpc3QsIGFuIGV4Y2VwdGlvbiAoe0BsaW5rIGVycm9yLyRjb21waWxlL25vbmFzc2lnbiBgJGNvbXBpbGU6bm9uYXNzaWduYH0pXHJcbiAqICAgd2lsbCBiZSB0aHJvd24gdXBvbiBkaXNjb3ZlcmluZyBjaGFuZ2VzIHRvIHRoZSBsb2NhbCB2YWx1ZSwgc2luY2UgaXQgd2lsbCBiZSBpbXBvc3NpYmxlIHRvIHN5bmNcclxuICogICB0aGVtIGJhY2sgdG8gdGhlIHBhcmVudCBzY29wZS4gQnkgZGVmYXVsdCwgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCBgJHdhdGNoYH1cclxuICogICBtZXRob2QgaXMgdXNlZCBmb3IgdHJhY2tpbmcgY2hhbmdlcywgYW5kIHRoZSBlcXVhbGl0eSBjaGVjayBpcyBiYXNlZCBvbiBvYmplY3QgaWRlbnRpdHkuXHJcbiAqICAgSG93ZXZlciwgaWYgYW4gb2JqZWN0IGxpdGVyYWwgb3IgYW4gYXJyYXkgbGl0ZXJhbCBpcyBwYXNzZWQgYXMgdGhlIGJpbmRpbmcgZXhwcmVzc2lvbiwgdGhlXHJcbiAqICAgZXF1YWxpdHkgY2hlY2sgaXMgZG9uZSBieSB2YWx1ZSAodXNpbmcgdGhlIHtAbGluayBhbmd1bGFyLmVxdWFsc30gZnVuY3Rpb24pLiBJdCdzIGFsc28gcG9zc2libGVcclxuICogICB0byB3YXRjaCB0aGUgZXZhbHVhdGVkIHZhbHVlIHNoYWxsb3dseSB3aXRoIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaENvbGxlY3Rpb25cclxuICogICBgJHdhdGNoQ29sbGVjdGlvbmB9OiB1c2UgYD0qYCBvciBgPSphdHRyYCAoYD0qP2Agb3IgYD0qP2F0dHJgIGlmIHRoZSBhdHRyaWJ1dGUgaXMgb3B0aW9uYWwpLlxyXG4gKlxyXG4gICogKiBgPGAgb3IgYDxhdHRyYCAtIHNldCB1cCBhIG9uZS13YXkgKG9uZS1kaXJlY3Rpb25hbCkgYmluZGluZyBiZXR3ZWVuIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgYW5kIGFuXHJcbiAqICAgZXhwcmVzc2lvbiBwYXNzZWQgdmlhIHRoZSBhdHRyaWJ1dGUgYGF0dHJgLiBUaGUgZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQgaW4gdGhlIGNvbnRleHQgb2YgdGhlXHJcbiAqICAgcGFyZW50IHNjb3BlLiBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGVcclxuICogICBsb2NhbCBuYW1lLiBZb3UgY2FuIGFsc28gbWFrZSB0aGUgYmluZGluZyBvcHRpb25hbCBieSBhZGRpbmcgYD9gOiBgPD9gIG9yIGA8P2F0dHJgLlxyXG4gKlxyXG4gKiAgIEZvciBleGFtcGxlLCBnaXZlbiBgPG15LWNvbXBvbmVudCBteS1hdHRyPVwicGFyZW50TW9kZWxcIj5gIGFuZCBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvZlxyXG4gKiAgIGBzY29wZTogeyBsb2NhbE1vZGVsOic8bXlBdHRyJyB9YCwgdGhlbiB0aGUgaXNvbGF0ZWQgc2NvcGUgcHJvcGVydHkgYGxvY2FsTW9kZWxgIHdpbGwgcmVmbGVjdCB0aGVcclxuICogICB2YWx1ZSBvZiBgcGFyZW50TW9kZWxgIG9uIHRoZSBwYXJlbnQgc2NvcGUuIEFueSBjaGFuZ2VzIHRvIGBwYXJlbnRNb2RlbGAgd2lsbCBiZSByZWZsZWN0ZWRcclxuICogICBpbiBgbG9jYWxNb2RlbGAsIGJ1dCBjaGFuZ2VzIGluIGBsb2NhbE1vZGVsYCB3aWxsIG5vdCByZWZsZWN0IGluIGBwYXJlbnRNb2RlbGAuIFRoZXJlIGFyZSBob3dldmVyXHJcbiAqICAgdHdvIGNhdmVhdHM6XHJcbiAqICAgICAxLiBvbmUtd2F5IGJpbmRpbmcgZG9lcyBub3QgY29weSB0aGUgdmFsdWUgZnJvbSB0aGUgcGFyZW50IHRvIHRoZSBpc29sYXRlIHNjb3BlLCBpdCBzaW1wbHlcclxuICogICAgIHNldHMgdGhlIHNhbWUgdmFsdWUuIFRoYXQgbWVhbnMgaWYgeW91ciBib3VuZCB2YWx1ZSBpcyBhbiBvYmplY3QsIGNoYW5nZXMgdG8gaXRzIHByb3BlcnRpZXNcclxuICogICAgIGluIHRoZSBpc29sYXRlZCBzY29wZSB3aWxsIGJlIHJlZmxlY3RlZCBpbiB0aGUgcGFyZW50IHNjb3BlIChiZWNhdXNlIGJvdGggcmVmZXJlbmNlIHRoZSBzYW1lIG9iamVjdCkuXHJcbiAqICAgICAyLiBvbmUtd2F5IGJpbmRpbmcgd2F0Y2hlcyBjaGFuZ2VzIHRvIHRoZSAqKmlkZW50aXR5Kiogb2YgdGhlIHBhcmVudCB2YWx1ZS4gVGhhdCBtZWFucyB0aGVcclxuICogICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCBgJHdhdGNoYH0gb24gdGhlIHBhcmVudCB2YWx1ZSBvbmx5IGZpcmVzIGlmIHRoZSByZWZlcmVuY2VcclxuICogICAgIHRvIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZC4gSW4gbW9zdCBjYXNlcywgdGhpcyBzaG91bGQgbm90IGJlIG9mIGNvbmNlcm4sIGJ1dCBjYW4gYmUgaW1wb3J0YW50XHJcbiAqICAgICB0byBrbm93IGlmIHlvdSBvbmUtd2F5IGJpbmQgdG8gYW4gb2JqZWN0LCBhbmQgdGhlbiByZXBsYWNlIHRoYXQgb2JqZWN0IGluIHRoZSBpc29sYXRlZCBzY29wZS5cclxuICogICAgIElmIHlvdSBub3cgY2hhbmdlIGEgcHJvcGVydHkgb2YgdGhlIG9iamVjdCBpbiB5b3VyIHBhcmVudCBzY29wZSwgdGhlIGNoYW5nZSB3aWxsIG5vdCBiZVxyXG4gKiAgICAgcHJvcGFnYXRlZCB0byB0aGUgaXNvbGF0ZWQgc2NvcGUsIGJlY2F1c2UgdGhlIGlkZW50aXR5IG9mIHRoZSBvYmplY3Qgb24gdGhlIHBhcmVudCBzY29wZVxyXG4gKiAgICAgaGFzIG5vdCBjaGFuZ2VkLiBJbnN0ZWFkIHlvdSBtdXN0IGFzc2lnbiBhIG5ldyBvYmplY3QuXHJcbiAqXHJcbiAqICAgT25lLXdheSBiaW5kaW5nIGlzIHVzZWZ1bCBpZiB5b3UgZG8gbm90IHBsYW4gdG8gcHJvcGFnYXRlIGNoYW5nZXMgdG8geW91ciBpc29sYXRlZCBzY29wZSBiaW5kaW5nc1xyXG4gKiAgIGJhY2sgdG8gdGhlIHBhcmVudC4gSG93ZXZlciwgaXQgZG9lcyBub3QgbWFrZSB0aGlzIGNvbXBsZXRlbHkgaW1wb3NzaWJsZS5cclxuICpcclxuICogKiBgJmAgb3IgYCZhdHRyYCAtIHByb3ZpZGVzIGEgd2F5IHRvIGV4ZWN1dGUgYW4gZXhwcmVzc2lvbiBpbiB0aGUgY29udGV4dCBvZiB0aGUgcGFyZW50IHNjb3BlLiBJZlxyXG4gKiAgIG5vIGBhdHRyYCBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbCBuYW1lLlxyXG4gKiAgIEdpdmVuIGA8bXktY29tcG9uZW50IG15LWF0dHI9XCJjb3VudCA9IGNvdW50ICsgdmFsdWVcIj5gIGFuZCB0aGUgaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uIGBzY29wZToge1xyXG4gKiAgIGxvY2FsRm46JyZteUF0dHInIH1gLCB0aGUgaXNvbGF0ZSBzY29wZSBwcm9wZXJ0eSBgbG9jYWxGbmAgd2lsbCBwb2ludCB0byBhIGZ1bmN0aW9uIHdyYXBwZXIgZm9yXHJcbiAqICAgdGhlIGBjb3VudCA9IGNvdW50ICsgdmFsdWVgIGV4cHJlc3Npb24uIE9mdGVuIGl0J3MgZGVzaXJhYmxlIHRvIHBhc3MgZGF0YSBmcm9tIHRoZSBpc29sYXRlZCBzY29wZVxyXG4gKiAgIHZpYSBhbiBleHByZXNzaW9uIHRvIHRoZSBwYXJlbnQgc2NvcGUuIFRoaXMgY2FuIGJlIGRvbmUgYnkgcGFzc2luZyBhIG1hcCBvZiBsb2NhbCB2YXJpYWJsZSBuYW1lc1xyXG4gKiAgIGFuZCB2YWx1ZXMgaW50byB0aGUgZXhwcmVzc2lvbiB3cmFwcGVyIGZuLiBGb3IgZXhhbXBsZSwgaWYgdGhlIGV4cHJlc3Npb24gaXMgYGluY3JlbWVudChhbW91bnQpYFxyXG4gKiAgIHRoZW4gd2UgY2FuIHNwZWNpZnkgdGhlIGFtb3VudCB2YWx1ZSBieSBjYWxsaW5nIHRoZSBgbG9jYWxGbmAgYXMgYGxvY2FsRm4oe2Ftb3VudDogMjJ9KWAuXHJcbiAqXHJcbiAqIEluIGdlbmVyYWwgaXQncyBwb3NzaWJsZSB0byBhcHBseSBtb3JlIHRoYW4gb25lIGRpcmVjdGl2ZSB0byBvbmUgZWxlbWVudCwgYnV0IHRoZXJlIG1pZ2h0IGJlIGxpbWl0YXRpb25zXHJcbiAqIGRlcGVuZGluZyBvbiB0aGUgdHlwZSBvZiBzY29wZSByZXF1aXJlZCBieSB0aGUgZGlyZWN0aXZlcy4gVGhlIGZvbGxvd2luZyBwb2ludHMgd2lsbCBoZWxwIGV4cGxhaW4gdGhlc2UgbGltaXRhdGlvbnMuXHJcbiAqIEZvciBzaW1wbGljaXR5IG9ubHkgdHdvIGRpcmVjdGl2ZXMgYXJlIHRha2VuIGludG8gYWNjb3VudCwgYnV0IGl0IGlzIGFsc28gYXBwbGljYWJsZSBmb3Igc2V2ZXJhbCBkaXJlY3RpdmVzOlxyXG4gKlxyXG4gKiAqICoqbm8gc2NvcGUqKiArICoqbm8gc2NvcGUqKiA9PiBUd28gZGlyZWN0aXZlcyB3aGljaCBkb24ndCByZXF1aXJlIHRoZWlyIG93biBzY29wZSB3aWxsIHVzZSB0aGVpciBwYXJlbnQncyBzY29wZVxyXG4gKiAqICoqY2hpbGQgc2NvcGUqKiArICoqbm8gc2NvcGUqKiA9PiAgQm90aCBkaXJlY3RpdmVzIHdpbGwgc2hhcmUgb25lIHNpbmdsZSBjaGlsZCBzY29wZVxyXG4gKiAqICoqY2hpbGQgc2NvcGUqKiArICoqY2hpbGQgc2NvcGUqKiA9PiAgQm90aCBkaXJlY3RpdmVzIHdpbGwgc2hhcmUgb25lIHNpbmdsZSBjaGlsZCBzY29wZVxyXG4gKiAqICoqaXNvbGF0ZWQgc2NvcGUqKiArICoqbm8gc2NvcGUqKiA9PiAgVGhlIGlzb2xhdGVkIGRpcmVjdGl2ZSB3aWxsIHVzZSBpdCdzIG93biBjcmVhdGVkIGlzb2xhdGVkIHNjb3BlLiBUaGUgb3RoZXIgZGlyZWN0aXZlIHdpbGwgdXNlXHJcbiAqIGl0cyBwYXJlbnQncyBzY29wZVxyXG4gKiAqICoqaXNvbGF0ZWQgc2NvcGUqKiArICoqY2hpbGQgc2NvcGUqKiA9PiAgKipXb24ndCB3b3JrISoqIE9ubHkgb25lIHNjb3BlIGNhbiBiZSByZWxhdGVkIHRvIG9uZSBlbGVtZW50LiBUaGVyZWZvcmUgdGhlc2UgZGlyZWN0aXZlcyBjYW5ub3RcclxuICogYmUgYXBwbGllZCB0byB0aGUgc2FtZSBlbGVtZW50LlxyXG4gKiAqICoqaXNvbGF0ZWQgc2NvcGUqKiArICoqaXNvbGF0ZWQgc2NvcGUqKiAgPT4gICoqV29uJ3Qgd29yayEqKiBPbmx5IG9uZSBzY29wZSBjYW4gYmUgcmVsYXRlZCB0byBvbmUgZWxlbWVudC4gVGhlcmVmb3JlIHRoZXNlIGRpcmVjdGl2ZXNcclxuICogY2Fubm90IGJlIGFwcGxpZWQgdG8gdGhlIHNhbWUgZWxlbWVudC5cclxuICpcclxuICpcclxuICogIyMjIyBgYmluZFRvQ29udHJvbGxlcmBcclxuICogVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIHRvIGJpbmQgc2NvcGUgcHJvcGVydGllcyBkaXJlY3RseSB0byB0aGUgY29udHJvbGxlci4gSXQgY2FuIGJlIGVpdGhlclxyXG4gKiBgdHJ1ZWAgb3IgYW4gb2JqZWN0IGhhc2ggd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgdGhlIGBzY29wZWAgcHJvcGVydHkuIEFkZGl0aW9uYWxseSwgYSBjb250cm9sbGVyXHJcbiAqIGFsaWFzIG11c3QgYmUgc2V0LCBlaXRoZXIgYnkgdXNpbmcgYGNvbnRyb2xsZXJBczogJ215QWxpYXMnYCBvciBieSBzcGVjaWZ5aW5nIHRoZSBhbGlhcyBpbiB0aGUgY29udHJvbGxlclxyXG4gKiBkZWZpbml0aW9uOiBgY29udHJvbGxlcjogJ215Q3RybCBhcyBteUFsaWFzJ2AuXHJcbiAqXHJcbiAqIFdoZW4gYW4gaXNvbGF0ZSBzY29wZSBpcyB1c2VkIGZvciBhIGRpcmVjdGl2ZSAoc2VlIGFib3ZlKSwgYGJpbmRUb0NvbnRyb2xsZXI6IHRydWVgIHdpbGxcclxuICogYWxsb3cgYSBjb21wb25lbnQgdG8gaGF2ZSBpdHMgcHJvcGVydGllcyBib3VuZCB0byB0aGUgY29udHJvbGxlciwgcmF0aGVyIHRoYW4gdG8gc2NvcGUuXHJcbiAqXHJcbiAqIEFmdGVyIHRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCwgdGhlIGluaXRpYWwgdmFsdWVzIG9mIHRoZSBpc29sYXRlIHNjb3BlIGJpbmRpbmdzIHdpbGwgYmUgYm91bmQgdG8gdGhlIGNvbnRyb2xsZXJcclxuICogcHJvcGVydGllcy4gWW91IGNhbiBhY2Nlc3MgdGhlc2UgYmluZGluZ3Mgb25jZSB0aGV5IGhhdmUgYmVlbiBpbml0aWFsaXplZCBieSBwcm92aWRpbmcgYSBjb250cm9sbGVyIG1ldGhvZCBjYWxsZWRcclxuICogYCRvbkluaXRgLCB3aGljaCBpcyBjYWxsZWQgYWZ0ZXIgYWxsIHRoZSBjb250cm9sbGVycyBvbiBhbiBlbGVtZW50IGhhdmUgYmVlbiBjb25zdHJ1Y3RlZCBhbmQgaGFkIHRoZWlyIGJpbmRpbmdzXHJcbiAqIGluaXRpYWxpemVkLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKkRlcHJlY2F0aW9uIHdhcm5pbmc6KiogYWx0aG91Z2ggYmluZGluZ3MgZm9yIG5vbi1FUzYgY2xhc3MgY29udHJvbGxlcnMgYXJlIGN1cnJlbnRseVxyXG4gKiBib3VuZCB0byBgdGhpc2AgYmVmb3JlIHRoZSBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGlzIGNhbGxlZCwgdGhpcyB1c2UgaXMgbm93IGRlcHJlY2F0ZWQuIFBsZWFzZSBwbGFjZSBpbml0aWFsaXphdGlvblxyXG4gKiBjb2RlIHRoYXQgcmVsaWVzIHVwb24gYmluZGluZ3MgaW5zaWRlIGEgYCRvbkluaXRgIG1ldGhvZCBvbiB0aGUgY29udHJvbGxlciwgaW5zdGVhZC5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gc2V0IGBiaW5kVG9Db250cm9sbGVyYCB0byBhbiBvYmplY3QgaGFzaCB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyB0aGUgYHNjb3BlYCBwcm9wZXJ0eS5cclxuICogVGhpcyB3aWxsIHNldCB1cCB0aGUgc2NvcGUgYmluZGluZ3MgdG8gdGhlIGNvbnRyb2xsZXIgZGlyZWN0bHkuIE5vdGUgdGhhdCBgc2NvcGVgIGNhbiBzdGlsbCBiZSB1c2VkXHJcbiAqIHRvIGRlZmluZSB3aGljaCBraW5kIG9mIHNjb3BlIGlzIGNyZWF0ZWQuIEJ5IGRlZmF1bHQsIG5vIHNjb3BlIGlzIGNyZWF0ZWQuIFVzZSBgc2NvcGU6IHt9YCB0byBjcmVhdGUgYW4gaXNvbGF0ZVxyXG4gKiBzY29wZSAodXNlZnVsIGZvciBjb21wb25lbnQgZGlyZWN0aXZlcykuXHJcbiAqXHJcbiAqIElmIGJvdGggYGJpbmRUb0NvbnRyb2xsZXJgIGFuZCBgc2NvcGVgIGFyZSBkZWZpbmVkIGFuZCBoYXZlIG9iamVjdCBoYXNoZXMsIGBiaW5kVG9Db250cm9sbGVyYCBvdmVycmlkZXMgYHNjb3BlYC5cclxuICpcclxuICpcclxuICogIyMjIyBgY29udHJvbGxlcmBcclxuICogQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gVGhlIGNvbnRyb2xsZXIgaXMgaW5zdGFudGlhdGVkIGJlZm9yZSB0aGVcclxuICogcHJlLWxpbmtpbmcgcGhhc2UgYW5kIGNhbiBiZSBhY2Nlc3NlZCBieSBvdGhlciBkaXJlY3RpdmVzIChzZWVcclxuICogYHJlcXVpcmVgIGF0dHJpYnV0ZSkuIFRoaXMgYWxsb3dzIHRoZSBkaXJlY3RpdmVzIHRvIGNvbW11bmljYXRlIHdpdGggZWFjaCBvdGhlciBhbmQgYXVnbWVudFxyXG4gKiBlYWNoIG90aGVyJ3MgYmVoYXZpb3IuIFRoZSBjb250cm9sbGVyIGlzIGluamVjdGFibGUgKGFuZCBzdXBwb3J0cyBicmFja2V0IG5vdGF0aW9uKSB3aXRoIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxyXG4gKlxyXG4gKiAqIGAkc2NvcGVgIC0gQ3VycmVudCBzY29wZSBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRcclxuICogKiBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50XHJcbiAqICogYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxyXG4gKiAqIGAkdHJhbnNjbHVkZWAgLSBBIHRyYW5zY2x1ZGUgbGlua2luZyBmdW5jdGlvbiBwcmUtYm91bmQgdG8gdGhlIGNvcnJlY3QgdHJhbnNjbHVzaW9uIHNjb3BlOlxyXG4gKiAgIGBmdW5jdGlvbihbc2NvcGVdLCBjbG9uZUxpbmtpbmdGbiwgZnV0dXJlUGFyZW50RWxlbWVudCwgc2xvdE5hbWUpYDpcclxuICogICAgKiBgc2NvcGVgOiAob3B0aW9uYWwpIG92ZXJyaWRlIHRoZSBzY29wZS5cclxuICogICAgKiBgY2xvbmVMaW5raW5nRm5gOiAob3B0aW9uYWwpIGFyZ3VtZW50IHRvIGNyZWF0ZSBjbG9uZXMgb2YgdGhlIG9yaWdpbmFsIHRyYW5zY2x1ZGVkIGNvbnRlbnQuXHJcbiAqICAgICogYGZ1dHVyZVBhcmVudEVsZW1lbnRgIChvcHRpb25hbCk6XHJcbiAqICAgICAgICAqIGRlZmluZXMgdGhlIHBhcmVudCB0byB3aGljaCB0aGUgYGNsb25lTGlua2luZ0ZuYCB3aWxsIGFkZCB0aGUgY2xvbmVkIGVsZW1lbnRzLlxyXG4gKiAgICAgICAgKiBkZWZhdWx0OiBgJGVsZW1lbnQucGFyZW50KClgIHJlc3AuIGAkZWxlbWVudGAgZm9yIGB0cmFuc2NsdWRlOidlbGVtZW50J2AgcmVzcC4gYHRyYW5zY2x1ZGU6dHJ1ZWAuXHJcbiAqICAgICAgICAqIG9ubHkgbmVlZGVkIGZvciB0cmFuc2NsdWRlcyB0aGF0IGFyZSBhbGxvd2VkIHRvIGNvbnRhaW4gbm9uIGh0bWwgZWxlbWVudHMgKGUuZy4gU1ZHIGVsZW1lbnRzKVxyXG4gKiAgICAgICAgICBhbmQgd2hlbiB0aGUgYGNsb25lTGlua2luRm5gIGlzIHBhc3NlZCxcclxuICogICAgICAgICAgYXMgdGhvc2UgZWxlbWVudHMgbmVlZCB0byBjcmVhdGVkIGFuZCBjbG9uZWQgaW4gYSBzcGVjaWFsIHdheSB3aGVuIHRoZXkgYXJlIGRlZmluZWQgb3V0c2lkZSB0aGVpclxyXG4gKiAgICAgICAgICB1c3VhbCBjb250YWluZXJzIChlLmcuIGxpa2UgYDxzdmc+YCkuXHJcbiAqICAgICAgICAqIFNlZSBhbHNvIHRoZSBgZGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlYCBwcm9wZXJ0eS5cclxuICogICAgKiBgc2xvdE5hbWVgOiAob3B0aW9uYWwpIHRoZSBuYW1lIG9mIHRoZSBzbG90IHRvIHRyYW5zY2x1ZGUuIElmIGZhbHN5IChlLmcuIGBudWxsYCwgYHVuZGVmaW5lZGAgb3IgYCcnYClcclxuICogICAgICB0aGVuIHRoZSBkZWZhdWx0IHRyYW5zbHVzaW9uIGlzIHByb3ZpZGVkLlxyXG4gKiAgICBUaGUgYCR0cmFuc2NsdWRlYCBmdW5jdGlvbiBhbHNvIGhhcyBhIG1ldGhvZCBvbiBpdCwgYCR0cmFuc2NsdWRlLmlzU2xvdEZpbGxlZChzbG90TmFtZSlgLCB3aGljaCByZXR1cm5zXHJcbiAqICAgIGB0cnVlYCBpZiB0aGUgc3BlY2lmaWVkIHNsb3QgY29udGFpbnMgY29udGVudCAoaS5lLiBvbmUgb3IgbW9yZSBET00gbm9kZXMpLlxyXG4gKlxyXG4gKiBUaGUgY29udHJvbGxlciBjYW4gcHJvdmlkZSB0aGUgZm9sbG93aW5nIG1ldGhvZHMgdGhhdCBhY3QgYXMgbGlmZS1jeWNsZSBob29rczpcclxuICogKiBgJG9uSW5pdCgpYCAtIENhbGxlZCBvbiBlYWNoIGNvbnRyb2xsZXIgYWZ0ZXIgYWxsIHRoZSBjb250cm9sbGVycyBvbiBhbiBlbGVtZW50IGhhdmUgYmVlbiBjb25zdHJ1Y3RlZCBhbmRcclxuICogICBoYWQgdGhlaXIgYmluZGluZ3MgaW5pdGlhbGl6ZWQgKGFuZCBiZWZvcmUgdGhlIHByZSAmYW1wOyBwb3N0IGxpbmtpbmcgZnVuY3Rpb25zIGZvciB0aGUgZGlyZWN0aXZlcyBvblxyXG4gKiAgIHRoaXMgZWxlbWVudCkuIFRoaXMgaXMgYSBnb29kIHBsYWNlIHRvIHB1dCBpbml0aWFsaXphdGlvbiBjb2RlIGZvciB5b3VyIGNvbnRyb2xsZXIuXHJcbiAqICogYCRvbkNoYW5nZXMoY2hhbmdlc09iailgIC0gQ2FsbGVkIHdoZW5ldmVyIG9uZS13YXkgKGA8YCkgb3IgaW50ZXJwb2xhdGlvbiAoYEBgKSBiaW5kaW5ncyBhcmUgdXBkYXRlZC4gVGhlXHJcbiAqICAgYGNoYW5nZXNPYmpgIGlzIGEgaGFzaCB3aG9zZSBrZXlzIGFyZSB0aGUgbmFtZXMgb2YgdGhlIGJvdW5kIHByb3BlcnRpZXMgdGhhdCBoYXZlIGNoYW5nZWQsIGFuZCB0aGUgdmFsdWVzIGFyZSBhblxyXG4gKiAgIG9iamVjdCBvZiB0aGUgZm9ybSBgeyBjdXJyZW50VmFsdWUsIHByZXZpb3VzVmFsdWUsIGlzRmlyc3RDaGFuZ2UoKSB9YC4gVXNlIHRoaXMgaG9vayB0byB0cmlnZ2VyIHVwZGF0ZXMgd2l0aGluIGFcclxuICogICBjb21wb25lbnQgc3VjaCBhcyBjbG9uaW5nIHRoZSBib3VuZCB2YWx1ZSB0byBwcmV2ZW50IGFjY2lkZW50YWwgbXV0YXRpb24gb2YgdGhlIG91dGVyIHZhbHVlLlxyXG4gKiAqIGAkb25EZXN0cm95KClgIC0gQ2FsbGVkIG9uIGEgY29udHJvbGxlciB3aGVuIGl0cyBjb250YWluaW5nIHNjb3BlIGlzIGRlc3Ryb3llZC4gVXNlIHRoaXMgaG9vayBmb3IgcmVsZWFzaW5nXHJcbiAqICAgZXh0ZXJuYWwgcmVzb3VyY2VzLCB3YXRjaGVzIGFuZCBldmVudCBoYW5kbGVycy4gTm90ZSB0aGF0IGNvbXBvbmVudHMgaGF2ZSB0aGVpciBgJG9uRGVzdHJveSgpYCBob29rcyBjYWxsZWQgaW5cclxuICogICB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYCRzY29wZS4kYnJvYWRjYXN0YCBldmVudHMgYXJlIHRyaWdnZXJlZCwgd2hpY2ggaXMgdG9wIGRvd24uIFRoaXMgbWVhbnMgdGhhdCBwYXJlbnRcclxuICogICBjb21wb25lbnRzIHdpbGwgaGF2ZSB0aGVpciBgJG9uRGVzdHJveSgpYCBob29rIGNhbGxlZCBiZWZvcmUgY2hpbGQgY29tcG9uZW50cy5cclxuICogKiBgJHBvc3RMaW5rKClgIC0gQ2FsbGVkIGFmdGVyIHRoaXMgY29udHJvbGxlcidzIGVsZW1lbnQgYW5kIGl0cyBjaGlsZHJlbiBoYXZlIGJlZW4gbGlua2VkLiBTaW1pbGFyIHRvIHRoZSBwb3N0LWxpbmtcclxuICogICBmdW5jdGlvbiB0aGlzIGhvb2sgY2FuIGJlIHVzZWQgdG8gc2V0IHVwIERPTSBldmVudCBoYW5kbGVycyBhbmQgZG8gZGlyZWN0IERPTSBtYW5pcHVsYXRpb24uXHJcbiAqICAgTm90ZSB0aGF0IGNoaWxkIGVsZW1lbnRzIHRoYXQgY29udGFpbiBgdGVtcGxhdGVVcmxgIGRpcmVjdGl2ZXMgd2lsbCBub3QgaGF2ZSBiZWVuIGNvbXBpbGVkIGFuZCBsaW5rZWQgc2luY2VcclxuICogICB0aGV5IGFyZSB3YWl0aW5nIGZvciB0aGVpciB0ZW1wbGF0ZSB0byBsb2FkIGFzeW5jaHJvbm91c2x5IGFuZCB0aGVpciBvd24gY29tcGlsYXRpb24gYW5kIGxpbmtpbmcgaGFzIGJlZW5cclxuICogICBzdXNwZW5kZWQgdW50aWwgdGhhdCBvY2N1cnMuXHJcbiAqXHJcbiAqXHJcbiAqICMjIyMgYHJlcXVpcmVgXHJcbiAqIFJlcXVpcmUgYW5vdGhlciBkaXJlY3RpdmUgYW5kIGluamVjdCBpdHMgY29udHJvbGxlciBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGVcclxuICogYHJlcXVpcmVgIHByb3BlcnR5IGNhbiBiZSBhIHN0cmluZywgYW4gYXJyYXkgb3IgYW4gb2JqZWN0OlxyXG4gKiAqIGEgKipzdHJpbmcqKiBjb250YWluaW5nIHRoZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gcGFzcyB0byB0aGUgbGlua2luZyBmdW5jdGlvblxyXG4gKiAqIGFuICoqYXJyYXkqKiBjb250YWluaW5nIHRoZSBuYW1lcyBvZiBkaXJlY3RpdmVzIHRvIHBhc3MgdG8gdGhlIGxpbmtpbmcgZnVuY3Rpb24uIFRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGhlXHJcbiAqIGxpbmtpbmcgZnVuY3Rpb24gd2lsbCBiZSBhbiBhcnJheSBvZiBjb250cm9sbGVycyBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgbmFtZXMgaW4gdGhlIGByZXF1aXJlYCBwcm9wZXJ0eVxyXG4gKiAqIGFuICoqb2JqZWN0Kiogd2hvc2UgcHJvcGVydHkgdmFsdWVzIGFyZSB0aGUgbmFtZXMgb2YgdGhlIGRpcmVjdGl2ZXMgdG8gcGFzcyB0byB0aGUgbGlua2luZyBmdW5jdGlvbi4gVGhlIGFyZ3VtZW50XHJcbiAqIHBhc3NlZCB0byB0aGUgbGlua2luZyBmdW5jdGlvbiB3aWxsIGFsc28gYmUgYW4gb2JqZWN0IHdpdGggbWF0Y2hpbmcga2V5cywgd2hvc2UgdmFsdWVzIHdpbGwgaG9sZCB0aGUgY29ycmVzcG9uZGluZ1xyXG4gKiBjb250cm9sbGVycy5cclxuICpcclxuICogSWYgdGhlIGByZXF1aXJlYCBwcm9wZXJ0eSBpcyBhbiBvYmplY3QgYW5kIGBiaW5kVG9Db250cm9sbGVyYCBpcyB0cnV0aHksIHRoZW4gdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXJzIGFyZVxyXG4gKiBib3VuZCB0byB0aGUgY29udHJvbGxlciB1c2luZyB0aGUga2V5cyBvZiB0aGUgYHJlcXVpcmVgIHByb3BlcnR5LiBUaGlzIGJpbmRpbmcgb2NjdXJzIGFmdGVyIGFsbCB0aGUgY29udHJvbGxlcnNcclxuICogaGF2ZSBiZWVuIGNvbnN0cnVjdGVkIGJ1dCBiZWZvcmUgYCRvbkluaXRgIGlzIGNhbGxlZC5cclxuICogU2VlIHRoZSB7QGxpbmsgJGNvbXBpbGVQcm92aWRlciNjb21wb25lbnR9IGhlbHBlciBmb3IgYW4gZXhhbXBsZSBvZiBob3cgdGhpcyBjYW4gYmUgdXNlZC5cclxuICpcclxuICogSWYgbm8gc3VjaCByZXF1aXJlZCBkaXJlY3RpdmUocykgY2FuIGJlIGZvdW5kLCBvciBpZiB0aGUgZGlyZWN0aXZlIGRvZXMgbm90IGhhdmUgYSBjb250cm9sbGVyLCB0aGVuIGFuIGVycm9yIGlzXHJcbiAqIHJhaXNlZCAodW5sZXNzIG5vIGxpbmsgZnVuY3Rpb24gaXMgc3BlY2lmaWVkIGFuZCB0aGUgcmVxdWlyZWQgY29udHJvbGxlcnMgYXJlIG5vdCBiZWluZyBib3VuZCB0byB0aGUgZGlyZWN0aXZlXHJcbiAqIGNvbnRyb2xsZXIsIGluIHdoaWNoIGNhc2UgZXJyb3IgY2hlY2tpbmcgaXMgc2tpcHBlZCkuIFRoZSBuYW1lIGNhbiBiZSBwcmVmaXhlZCB3aXRoOlxyXG4gKlxyXG4gKiAqIChubyBwcmVmaXgpIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9uIHRoZSBjdXJyZW50IGVsZW1lbnQuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cclxuICogKiBgP2AgLSBBdHRlbXB0IHRvIGxvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBvciBwYXNzIGBudWxsYCB0byB0aGUgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC5cclxuICogKiBgXmAgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50IGFuZCBpdHMgcGFyZW50cy4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLlxyXG4gKiAqIGBeXmAgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cy4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLlxyXG4gKiAqIGA/XmAgLSBBdHRlbXB0IHRvIGxvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQgYW5kIGl0cyBwYXJlbnRzIG9yIHBhc3NcclxuICogICBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXHJcbiAqICogYD9eXmAgLSBBdHRlbXB0IHRvIGxvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQncyBwYXJlbnRzLCBvciBwYXNzXHJcbiAqICAgYG51bGxgIHRvIHRoZSBgbGlua2AgZm4gaWYgbm90IGZvdW5kLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIGBjb250cm9sbGVyQXNgXHJcbiAqIElkZW50aWZpZXIgbmFtZSBmb3IgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnRyb2xsZXIgaW4gdGhlIGRpcmVjdGl2ZSdzIHNjb3BlLlxyXG4gKiBUaGlzIGFsbG93cyB0aGUgY29udHJvbGxlciB0byBiZSByZWZlcmVuY2VkIGZyb20gdGhlIGRpcmVjdGl2ZSB0ZW1wbGF0ZS4gVGhpcyBpcyBlc3BlY2lhbGx5XHJcbiAqIHVzZWZ1bCB3aGVuIGEgZGlyZWN0aXZlIGlzIHVzZWQgYXMgY29tcG9uZW50LCBpLmUuIHdpdGggYW4gYGlzb2xhdGVgIHNjb3BlLiBJdCdzIGFsc28gcG9zc2libGVcclxuICogdG8gdXNlIGl0IGluIGEgZGlyZWN0aXZlIHdpdGhvdXQgYW4gYGlzb2xhdGVgIC8gYG5ld2Agc2NvcGUsIGJ1dCB5b3UgbmVlZCB0byBiZSBhd2FyZSB0aGF0IHRoZVxyXG4gKiBgY29udHJvbGxlckFzYCByZWZlcmVuY2UgbWlnaHQgb3ZlcndyaXRlIGEgcHJvcGVydHkgdGhhdCBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgcGFyZW50IHNjb3BlLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIGByZXN0cmljdGBcclxuICogU3RyaW5nIG9mIHN1YnNldCBvZiBgRUFDTWAgd2hpY2ggcmVzdHJpY3RzIHRoZSBkaXJlY3RpdmUgdG8gYSBzcGVjaWZpYyBkaXJlY3RpdmVcclxuICogZGVjbGFyYXRpb24gc3R5bGUuIElmIG9taXR0ZWQsIHRoZSBkZWZhdWx0cyAoZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXMpIGFyZSB1c2VkLlxyXG4gKlxyXG4gKiAqIGBFYCAtIEVsZW1lbnQgbmFtZSAoZGVmYXVsdCk6IGA8bXktZGlyZWN0aXZlPjwvbXktZGlyZWN0aXZlPmBcclxuICogKiBgQWAgLSBBdHRyaWJ1dGUgKGRlZmF1bHQpOiBgPGRpdiBteS1kaXJlY3RpdmU9XCJleHBcIj48L2Rpdj5gXHJcbiAqICogYENgIC0gQ2xhc3M6IGA8ZGl2IGNsYXNzPVwibXktZGlyZWN0aXZlOiBleHA7XCI+PC9kaXY+YFxyXG4gKiAqIGBNYCAtIENvbW1lbnQ6IGA8IS0tIGRpcmVjdGl2ZTogbXktZGlyZWN0aXZlIGV4cCAtLT5gXHJcbiAqXHJcbiAqXHJcbiAqICMjIyMgYHRlbXBsYXRlTmFtZXNwYWNlYFxyXG4gKiBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkb2N1bWVudCB0eXBlIHVzZWQgYnkgdGhlIG1hcmt1cCBpbiB0aGUgdGVtcGxhdGUuXHJcbiAqIEFuZ3VsYXJKUyBuZWVkcyB0aGlzIGluZm9ybWF0aW9uIGFzIHRob3NlIGVsZW1lbnRzIG5lZWQgdG8gYmUgY3JlYXRlZCBhbmQgY2xvbmVkXHJcbiAqIGluIGEgc3BlY2lhbCB3YXkgd2hlbiB0aGV5IGFyZSBkZWZpbmVkIG91dHNpZGUgdGhlaXIgdXN1YWwgY29udGFpbmVycyBsaWtlIGA8c3ZnPmAgYW5kIGA8bWF0aD5gLlxyXG4gKlxyXG4gKiAqIGBodG1sYCAtIEFsbCByb290IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSBhcmUgSFRNTC4gUm9vdCBub2RlcyBtYXkgYWxzbyBiZVxyXG4gKiAgIHRvcC1sZXZlbCBlbGVtZW50cyBzdWNoIGFzIGA8c3ZnPmAgb3IgYDxtYXRoPmAuXHJcbiAqICogYHN2Z2AgLSBUaGUgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIFNWRyBlbGVtZW50cyAoZXhjbHVkaW5nIGA8bWF0aD5gKS5cclxuICogKiBgbWF0aGAgLSBUaGUgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIE1hdGhNTCBlbGVtZW50cyAoZXhjbHVkaW5nIGA8c3ZnPmApLlxyXG4gKlxyXG4gKiBJZiBubyBgdGVtcGxhdGVOYW1lc3BhY2VgIGlzIHNwZWNpZmllZCwgdGhlbiB0aGUgbmFtZXNwYWNlIGlzIGNvbnNpZGVyZWQgdG8gYmUgYGh0bWxgLlxyXG4gKlxyXG4gKiAjIyMjIGB0ZW1wbGF0ZWBcclxuICogSFRNTCBtYXJrdXAgdGhhdCBtYXk6XHJcbiAqICogUmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgKGRlZmF1bHQpLlxyXG4gKiAqIFJlcGxhY2UgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgaXRzZWxmIChpZiBgcmVwbGFjZWAgaXMgdHJ1ZSAtIERFUFJFQ0FURUQpLlxyXG4gKiAqIFdyYXAgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IChpZiBgdHJhbnNjbHVkZWAgaXMgdHJ1ZSkuXHJcbiAqXHJcbiAqIFZhbHVlIG1heSBiZTpcclxuICpcclxuICogKiBBIHN0cmluZy4gRm9yIGV4YW1wbGUgYDxkaXYgcmVkLW9uLWhvdmVyPnt7ZGVsZXRlX3N0cn19PC9kaXY+YC5cclxuICogKiBBIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHR3byBhcmd1bWVudHMgYHRFbGVtZW50YCBhbmQgYHRBdHRyc2AgKGRlc2NyaWJlZCBpbiB0aGUgYGNvbXBpbGVgXHJcbiAqICAgZnVuY3Rpb24gYXBpIGJlbG93KSBhbmQgcmV0dXJucyBhIHN0cmluZyB2YWx1ZS5cclxuICpcclxuICpcclxuICogIyMjIyBgdGVtcGxhdGVVcmxgXHJcbiAqIFRoaXMgaXMgc2ltaWxhciB0byBgdGVtcGxhdGVgIGJ1dCB0aGUgdGVtcGxhdGUgaXMgbG9hZGVkIGZyb20gdGhlIHNwZWNpZmllZCBVUkwsIGFzeW5jaHJvbm91c2x5LlxyXG4gKlxyXG4gKiBCZWNhdXNlIHRlbXBsYXRlIGxvYWRpbmcgaXMgYXN5bmNocm9ub3VzIHRoZSBjb21waWxlciB3aWxsIHN1c3BlbmQgY29tcGlsYXRpb24gb2YgZGlyZWN0aXZlcyBvbiB0aGF0IGVsZW1lbnRcclxuICogZm9yIGxhdGVyIHdoZW4gdGhlIHRlbXBsYXRlIGhhcyBiZWVuIHJlc29sdmVkLiAgSW4gdGhlIG1lYW50aW1lIGl0IHdpbGwgY29udGludWUgdG8gY29tcGlsZSBhbmQgbGlua1xyXG4gKiBzaWJsaW5nIGFuZCBwYXJlbnQgZWxlbWVudHMgYXMgdGhvdWdoIHRoaXMgZWxlbWVudCBoYWQgbm90IGNvbnRhaW5lZCBhbnkgZGlyZWN0aXZlcy5cclxuICpcclxuICogVGhlIGNvbXBpbGVyIGRvZXMgbm90IHN1c3BlbmQgdGhlIGVudGlyZSBjb21waWxhdGlvbiB0byB3YWl0IGZvciB0ZW1wbGF0ZXMgdG8gYmUgbG9hZGVkIGJlY2F1c2UgdGhpc1xyXG4gKiB3b3VsZCByZXN1bHQgaW4gdGhlIHdob2xlIGFwcCBcInN0YWxsaW5nXCIgdW50aWwgYWxsIHRlbXBsYXRlcyBhcmUgbG9hZGVkIGFzeW5jaHJvbm91c2x5IC0gZXZlbiBpbiB0aGVcclxuICogY2FzZSB3aGVuIG9ubHkgb25lIGRlZXBseSBuZXN0ZWQgZGlyZWN0aXZlIGhhcyBgdGVtcGxhdGVVcmxgLlxyXG4gKlxyXG4gKiBUZW1wbGF0ZSBsb2FkaW5nIGlzIGFzeW5jaHJvbm91cyBldmVuIGlmIHRoZSB0ZW1wbGF0ZSBoYXMgYmVlbiBwcmVsb2FkZWQgaW50byB0aGUge0BsaW5rICR0ZW1wbGF0ZUNhY2hlfVxyXG4gKlxyXG4gKiBZb3UgY2FuIHNwZWNpZnkgYHRlbXBsYXRlVXJsYCBhcyBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIFVSTCBvciBhcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHR3b1xyXG4gKiBhcmd1bWVudHMgYHRFbGVtZW50YCBhbmQgYHRBdHRyc2AgKGRlc2NyaWJlZCBpbiB0aGUgYGNvbXBpbGVgIGZ1bmN0aW9uIGFwaSBiZWxvdykgYW5kIHJldHVybnNcclxuICogYSBzdHJpbmcgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSB1cmwuICBJbiBlaXRoZXIgY2FzZSwgdGhlIHRlbXBsYXRlIFVSTCBpcyBwYXNzZWQgdGhyb3VnaCB7QGxpbmtcclxuICogJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmwgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9LlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIGByZXBsYWNlYCAoWypERVBSRUNBVEVEKiFdLCB3aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciByZWxlYXNlIC0gaS5lLiB2Mi4wKVxyXG4gKiBzcGVjaWZ5IHdoYXQgdGhlIHRlbXBsYXRlIHNob3VsZCByZXBsYWNlLiBEZWZhdWx0cyB0byBgZmFsc2VgLlxyXG4gKlxyXG4gKiAqIGB0cnVlYCAtIHRoZSB0ZW1wbGF0ZSB3aWxsIHJlcGxhY2UgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXHJcbiAqICogYGZhbHNlYCAtIHRoZSB0ZW1wbGF0ZSB3aWxsIHJlcGxhY2UgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LlxyXG4gKlxyXG4gKiBUaGUgcmVwbGFjZW1lbnQgcHJvY2VzcyBtaWdyYXRlcyBhbGwgb2YgdGhlIGF0dHJpYnV0ZXMgLyBjbGFzc2VzIGZyb20gdGhlIG9sZCBlbGVtZW50IHRvIHRoZSBuZXdcclxuICogb25lLiBTZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUjdGVtcGxhdGUtZXhwYW5kaW5nLWRpcmVjdGl2ZVxyXG4gKiBEaXJlY3RpdmVzIEd1aWRlfSBmb3IgYW4gZXhhbXBsZS5cclxuICpcclxuICogVGhlcmUgYXJlIHZlcnkgZmV3IHNjZW5hcmlvcyB3aGVyZSBlbGVtZW50IHJlcGxhY2VtZW50IGlzIHJlcXVpcmVkIGZvciB0aGUgYXBwbGljYXRpb24gZnVuY3Rpb24sXHJcbiAqIHRoZSBtYWluIG9uZSBiZWluZyByZXVzYWJsZSBjdXN0b20gY29tcG9uZW50cyB0aGF0IGFyZSB1c2VkIHdpdGhpbiBTVkcgY29udGV4dHNcclxuICogKGJlY2F1c2UgU1ZHIGRvZXNuJ3Qgd29yayB3aXRoIGN1c3RvbSBlbGVtZW50cyBpbiB0aGUgRE9NIHRyZWUpLlxyXG4gKlxyXG4gKiAjIyMjIGB0cmFuc2NsdWRlYFxyXG4gKiBFeHRyYWN0IHRoZSBjb250ZW50cyBvZiB0aGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGFwcGVhcnMgYW5kIG1ha2UgaXQgYXZhaWxhYmxlIHRvIHRoZSBkaXJlY3RpdmUuXHJcbiAqIFRoZSBjb250ZW50cyBhcmUgY29tcGlsZWQgYW5kIHByb3ZpZGVkIHRvIHRoZSBkaXJlY3RpdmUgYXMgYSAqKnRyYW5zY2x1c2lvbiBmdW5jdGlvbioqLiBTZWUgdGhlXHJcbiAqIHtAbGluayAkY29tcGlsZSN0cmFuc2NsdXNpb24gVHJhbnNjbHVzaW9ufSBzZWN0aW9uIGJlbG93LlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIGBjb21waWxlYFxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkgeyAuLi4gfVxyXG4gKiBgYGBcclxuICpcclxuICogVGhlIGNvbXBpbGUgZnVuY3Rpb24gZGVhbHMgd2l0aCB0cmFuc2Zvcm1pbmcgdGhlIHRlbXBsYXRlIERPTS4gU2luY2UgbW9zdCBkaXJlY3RpdmVzIGRvIG5vdCBkb1xyXG4gKiB0ZW1wbGF0ZSB0cmFuc2Zvcm1hdGlvbiwgaXQgaXMgbm90IHVzZWQgb2Z0ZW4uIFRoZSBjb21waWxlIGZ1bmN0aW9uIHRha2VzIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxyXG4gKlxyXG4gKiAgICogYHRFbGVtZW50YCAtIHRlbXBsYXRlIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGhhcyBiZWVuIGRlY2xhcmVkLiBJdCBpc1xyXG4gKiAgICAgc2FmZSB0byBkbyB0ZW1wbGF0ZSB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgZWxlbWVudCBhbmQgY2hpbGQgZWxlbWVudHMgb25seS5cclxuICpcclxuICogICAqIGB0QXR0cnNgIC0gdGVtcGxhdGUgYXR0cmlidXRlcyAtIE5vcm1hbGl6ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzIGRlY2xhcmVkIG9uIHRoaXMgZWxlbWVudCBzaGFyZWRcclxuICogICAgIGJldHdlZW4gYWxsIGRpcmVjdGl2ZSBjb21waWxlIGZ1bmN0aW9ucy5cclxuICpcclxuICogICAqIGB0cmFuc2NsdWRlYCAtICBbKkRFUFJFQ0FURUQqIV0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb246IGBmdW5jdGlvbihzY29wZSwgY2xvbmVMaW5raW5nRm4pYFxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogVGhlIHRlbXBsYXRlIGluc3RhbmNlIGFuZCB0aGUgbGluayBpbnN0YW5jZSBtYXkgYmUgZGlmZmVyZW50IG9iamVjdHMgaWYgdGhlIHRlbXBsYXRlIGhhc1xyXG4gKiBiZWVuIGNsb25lZC4gRm9yIHRoaXMgcmVhc29uIGl0IGlzICoqbm90Kiogc2FmZSB0byBkbyBhbnl0aGluZyBvdGhlciB0aGFuIERPTSB0cmFuc2Zvcm1hdGlvbnMgdGhhdFxyXG4gKiBhcHBseSB0byBhbGwgY2xvbmVkIERPTSBub2RlcyB3aXRoaW4gdGhlIGNvbXBpbGUgZnVuY3Rpb24uIFNwZWNpZmljYWxseSwgRE9NIGxpc3RlbmVyIHJlZ2lzdHJhdGlvblxyXG4gKiBzaG91bGQgYmUgZG9uZSBpbiBhIGxpbmtpbmcgZnVuY3Rpb24gcmF0aGVyIHRoYW4gaW4gYSBjb21waWxlIGZ1bmN0aW9uLlxyXG4gKiA8L2Rpdj5cclxuXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZToqKiBUaGUgY29tcGlsZSBmdW5jdGlvbiBjYW5ub3QgaGFuZGxlIGRpcmVjdGl2ZXMgdGhhdCByZWN1cnNpdmVseSB1c2UgdGhlbXNlbHZlcyBpbiB0aGVpclxyXG4gKiBvd24gdGVtcGxhdGVzIG9yIGNvbXBpbGUgZnVuY3Rpb25zLiBDb21waWxpbmcgdGhlc2UgZGlyZWN0aXZlcyByZXN1bHRzIGluIGFuIGluZmluaXRlIGxvb3AgYW5kXHJcbiAqIHN0YWNrIG92ZXJmbG93IGVycm9ycy5cclxuICpcclxuICogVGhpcyBjYW4gYmUgYXZvaWRlZCBieSBtYW51YWxseSB1c2luZyAkY29tcGlsZSBpbiB0aGUgcG9zdExpbmsgZnVuY3Rpb24gdG8gaW1wZXJhdGl2ZWx5IGNvbXBpbGVcclxuICogYSBkaXJlY3RpdmUncyB0ZW1wbGF0ZSBpbnN0ZWFkIG9mIHJlbHlpbmcgb24gYXV0b21hdGljIHRlbXBsYXRlIGNvbXBpbGF0aW9uIHZpYSBgdGVtcGxhdGVgIG9yXHJcbiAqIGB0ZW1wbGF0ZVVybGAgZGVjbGFyYXRpb24gb3IgbWFudWFsIGNvbXBpbGF0aW9uIGluc2lkZSB0aGUgY29tcGlsZSBmdW5jdGlvbi5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cclxuICogKipOb3RlOioqIFRoZSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgYXMgaXRcclxuICogICBlLmcuIGRvZXMgbm90IGtub3cgYWJvdXQgdGhlIHJpZ2h0IG91dGVyIHNjb3BlLiBQbGVhc2UgdXNlIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRoYXQgaXMgcGFzc2VkXHJcbiAqICAgdG8gdGhlIGxpbmsgZnVuY3Rpb24gaW5zdGVhZC5cclxuICogPC9kaXY+XHJcblxyXG4gKiBBIGNvbXBpbGUgZnVuY3Rpb24gY2FuIGhhdmUgYSByZXR1cm4gdmFsdWUgd2hpY2ggY2FuIGJlIGVpdGhlciBhIGZ1bmN0aW9uIG9yIGFuIG9iamVjdC5cclxuICpcclxuICogKiByZXR1cm5pbmcgYSAocG9zdC1saW5rKSBmdW5jdGlvbiAtIGlzIGVxdWl2YWxlbnQgdG8gcmVnaXN0ZXJpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gdmlhIHRoZVxyXG4gKiAgIGBsaW5rYCBwcm9wZXJ0eSBvZiB0aGUgY29uZmlnIG9iamVjdCB3aGVuIHRoZSBjb21waWxlIGZ1bmN0aW9uIGlzIGVtcHR5LlxyXG4gKlxyXG4gKiAqIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBmdW5jdGlvbihzKSByZWdpc3RlcmVkIHZpYSBgcHJlYCBhbmQgYHBvc3RgIHByb3BlcnRpZXMgLSBhbGxvd3MgeW91IHRvXHJcbiAqICAgY29udHJvbCB3aGVuIGEgbGlua2luZyBmdW5jdGlvbiBzaG91bGQgYmUgY2FsbGVkIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZS4gU2VlIGluZm8gYWJvdXRcclxuICogICBwcmUtbGlua2luZyBhbmQgcG9zdC1saW5raW5nIGZ1bmN0aW9ucyBiZWxvdy5cclxuICpcclxuICpcclxuICogIyMjIyBgbGlua2BcclxuICogVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIG9ubHkgaWYgdGhlIGBjb21waWxlYCBwcm9wZXJ0eSBpcyBub3QgZGVmaW5lZC5cclxuICpcclxuICogYGBganNcclxuICogICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyLCB0cmFuc2NsdWRlRm4pIHsgLi4uIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBsaW5rIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciByZWdpc3RlcmluZyBET00gbGlzdGVuZXJzIGFzIHdlbGwgYXMgdXBkYXRpbmcgdGhlIERPTS4gSXQgaXNcclxuICogZXhlY3V0ZWQgYWZ0ZXIgdGhlIHRlbXBsYXRlIGhhcyBiZWVuIGNsb25lZC4gVGhpcyBpcyB3aGVyZSBtb3N0IG9mIHRoZSBkaXJlY3RpdmUgbG9naWMgd2lsbCBiZVxyXG4gKiBwdXQuXHJcbiAqXHJcbiAqICAgKiBgc2NvcGVgIC0ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgU2NvcGV9IC0gVGhlIHNjb3BlIHRvIGJlIHVzZWQgYnkgdGhlXHJcbiAqICAgICBkaXJlY3RpdmUgZm9yIHJlZ2lzdGVyaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVzfS5cclxuICpcclxuICogICAqIGBpRWxlbWVudGAgLSBpbnN0YW5jZSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBpcyB0byBiZSB1c2VkLiBJdCBpcyBzYWZlIHRvXHJcbiAqICAgICBtYW5pcHVsYXRlIHRoZSBjaGlsZHJlbiBvZiB0aGUgZWxlbWVudCBvbmx5IGluIGBwb3N0TGlua2AgZnVuY3Rpb24gc2luY2UgdGhlIGNoaWxkcmVuIGhhdmVcclxuICogICAgIGFscmVhZHkgYmVlbiBsaW5rZWQuXHJcbiAqXHJcbiAqICAgKiBgaUF0dHJzYCAtIGluc3RhbmNlIGF0dHJpYnV0ZXMgLSBOb3JtYWxpemVkIGxpc3Qgb2YgYXR0cmlidXRlcyBkZWNsYXJlZCBvbiB0aGlzIGVsZW1lbnQgc2hhcmVkXHJcbiAqICAgICBiZXR3ZWVuIGFsbCBkaXJlY3RpdmUgbGlua2luZyBmdW5jdGlvbnMuXHJcbiAqXHJcbiAqICAgKiBgY29udHJvbGxlcmAgLSB0aGUgZGlyZWN0aXZlJ3MgcmVxdWlyZWQgY29udHJvbGxlciBpbnN0YW5jZShzKSAtIEluc3RhbmNlcyBhcmUgc2hhcmVkXHJcbiAqICAgICBhbW9uZyBhbGwgZGlyZWN0aXZlcywgd2hpY2ggYWxsb3dzIHRoZSBkaXJlY3RpdmVzIHRvIHVzZSB0aGUgY29udHJvbGxlcnMgYXMgYSBjb21tdW5pY2F0aW9uXHJcbiAqICAgICBjaGFubmVsLiBUaGUgZXhhY3QgdmFsdWUgZGVwZW5kcyBvbiB0aGUgZGlyZWN0aXZlJ3MgYHJlcXVpcmVgIHByb3BlcnR5OlxyXG4gKiAgICAgICAqIG5vIGNvbnRyb2xsZXIocykgcmVxdWlyZWQ6IHRoZSBkaXJlY3RpdmUncyBvd24gY29udHJvbGxlciwgb3IgYHVuZGVmaW5lZGAgaWYgaXQgZG9lc24ndCBoYXZlIG9uZVxyXG4gKiAgICAgICAqIGBzdHJpbmdgOiB0aGUgY29udHJvbGxlciBpbnN0YW5jZVxyXG4gKiAgICAgICAqIGBhcnJheWA6IGFycmF5IG9mIGNvbnRyb2xsZXIgaW5zdGFuY2VzXHJcbiAqXHJcbiAqICAgICBJZiBhIHJlcXVpcmVkIGNvbnRyb2xsZXIgY2Fubm90IGJlIGZvdW5kLCBhbmQgaXQgaXMgb3B0aW9uYWwsIHRoZSBpbnN0YW5jZSBpcyBgbnVsbGAsXHJcbiAqICAgICBvdGhlcndpc2UgdGhlIHtAbGluayBlcnJvcjokY29tcGlsZTpjdHJlcSBNaXNzaW5nIFJlcXVpcmVkIENvbnRyb2xsZXJ9IGVycm9yIGlzIHRocm93bi5cclxuICpcclxuICogICAgIE5vdGUgdGhhdCB5b3UgY2FuIGFsc28gcmVxdWlyZSB0aGUgZGlyZWN0aXZlJ3Mgb3duIGNvbnRyb2xsZXIgLSBpdCB3aWxsIGJlIG1hZGUgYXZhaWxhYmxlIGxpa2VcclxuICogICAgIGFueSBvdGhlciBjb250cm9sbGVyLlxyXG4gKlxyXG4gKiAgICogYHRyYW5zY2x1ZGVGbmAgLSBBIHRyYW5zY2x1ZGUgbGlua2luZyBmdW5jdGlvbiBwcmUtYm91bmQgdG8gdGhlIGNvcnJlY3QgdHJhbnNjbHVzaW9uIHNjb3BlLlxyXG4gKiAgICAgVGhpcyBpcyB0aGUgc2FtZSBhcyB0aGUgYCR0cmFuc2NsdWRlYFxyXG4gKiAgICAgcGFyYW1ldGVyIG9mIGRpcmVjdGl2ZSBjb250cm9sbGVycywgc2VlIHRoZXJlIGZvciBkZXRhaWxzLlxyXG4gKiAgICAgYGZ1bmN0aW9uKFtzY29wZV0sIGNsb25lTGlua2luZ0ZuLCBmdXR1cmVQYXJlbnRFbGVtZW50KWAuXHJcbiAqXHJcbiAqICMjIyMgUHJlLWxpbmtpbmcgZnVuY3Rpb25cclxuICpcclxuICogRXhlY3V0ZWQgYmVmb3JlIHRoZSBjaGlsZCBlbGVtZW50cyBhcmUgbGlua2VkLiBOb3Qgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gc2luY2UgdGhlXHJcbiAqIGNvbXBpbGVyIGxpbmtpbmcgZnVuY3Rpb24gd2lsbCBmYWlsIHRvIGxvY2F0ZSB0aGUgY29ycmVjdCBlbGVtZW50cyBmb3IgbGlua2luZy5cclxuICpcclxuICogIyMjIyBQb3N0LWxpbmtpbmcgZnVuY3Rpb25cclxuICpcclxuICogRXhlY3V0ZWQgYWZ0ZXIgdGhlIGNoaWxkIGVsZW1lbnRzIGFyZSBsaW5rZWQuXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCBjaGlsZCBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYHRlbXBsYXRlVXJsYCBkaXJlY3RpdmVzIHdpbGwgbm90IGhhdmUgYmVlbiBjb21waWxlZFxyXG4gKiBhbmQgbGlua2VkIHNpbmNlIHRoZXkgYXJlIHdhaXRpbmcgZm9yIHRoZWlyIHRlbXBsYXRlIHRvIGxvYWQgYXN5bmNocm9ub3VzbHkgYW5kIHRoZWlyIG93blxyXG4gKiBjb21waWxhdGlvbiBhbmQgbGlua2luZyBoYXMgYmVlbiBzdXNwZW5kZWQgdW50aWwgdGhhdCBvY2N1cnMuXHJcbiAqXHJcbiAqIEl0IGlzIHNhZmUgdG8gZG8gRE9NIHRyYW5zZm9ybWF0aW9uIGluIHRoZSBwb3N0LWxpbmtpbmcgZnVuY3Rpb24gb24gZWxlbWVudHMgdGhhdCBhcmUgbm90IHdhaXRpbmdcclxuICogZm9yIHRoZWlyIGFzeW5jIHRlbXBsYXRlcyB0byBiZSByZXNvbHZlZC5cclxuICpcclxuICpcclxuICogIyMjIFRyYW5zY2x1c2lvblxyXG4gKlxyXG4gKiBUcmFuc2NsdXNpb24gaXMgdGhlIHByb2Nlc3Mgb2YgZXh0cmFjdGluZyBhIGNvbGxlY3Rpb24gb2YgRE9NIGVsZW1lbnRzIGZyb20gb25lIHBhcnQgb2YgdGhlIERPTSBhbmRcclxuICogY29weWluZyB0aGVtIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgRE9NLCB3aGlsZSBtYWludGFpbmluZyB0aGVpciBjb25uZWN0aW9uIHRvIHRoZSBvcmlnaW5hbCBBbmd1bGFySlNcclxuICogc2NvcGUgZnJvbSB3aGVyZSB0aGV5IHdlcmUgdGFrZW4uXHJcbiAqXHJcbiAqIFRyYW5zY2x1c2lvbiBpcyB1c2VkIChvZnRlbiB3aXRoIHtAbGluayBuZ1RyYW5zY2x1ZGV9KSB0byBpbnNlcnQgdGhlXHJcbiAqIG9yaWdpbmFsIGNvbnRlbnRzIG9mIGEgZGlyZWN0aXZlJ3MgZWxlbWVudCBpbnRvIGEgc3BlY2lmaWVkIHBsYWNlIGluIHRoZSB0ZW1wbGF0ZSBvZiB0aGUgZGlyZWN0aXZlLlxyXG4gKiBUaGUgYmVuZWZpdCBvZiB0cmFuc2NsdXNpb24sIG92ZXIgc2ltcGx5IG1vdmluZyB0aGUgRE9NIGVsZW1lbnRzIG1hbnVhbGx5LCBpcyB0aGF0IHRoZSB0cmFuc2NsdWRlZFxyXG4gKiBjb250ZW50IGhhcyBhY2Nlc3MgdG8gdGhlIHByb3BlcnRpZXMgb24gdGhlIHNjb3BlIGZyb20gd2hpY2ggaXQgd2FzIHRha2VuLCBldmVuIGlmIHRoZSBkaXJlY3RpdmVcclxuICogaGFzIGlzb2xhdGVkIHNjb3BlLlxyXG4gKiBTZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUjY3JlYXRpbmctYS1kaXJlY3RpdmUtdGhhdC13cmFwcy1vdGhlci1lbGVtZW50cyBEaXJlY3RpdmVzIEd1aWRlfS5cclxuICpcclxuICogVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgdGhlIHdpZGdldCB0byBoYXZlIHByaXZhdGUgc3RhdGUgZm9yIGl0cyB0ZW1wbGF0ZSwgd2hpbGUgdGhlIHRyYW5zY2x1ZGVkXHJcbiAqIGNvbnRlbnQgaGFzIGFjY2VzcyB0byBpdHMgb3JpZ2luYXRpbmcgc2NvcGUuXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZToqKiBXaGVuIHRlc3RpbmcgYW4gZWxlbWVudCB0cmFuc2NsdWRlIGRpcmVjdGl2ZSB5b3UgbXVzdCBub3QgcGxhY2UgdGhlIGRpcmVjdGl2ZSBhdCB0aGUgcm9vdCBvZiB0aGVcclxuICogRE9NIGZyYWdtZW50IHRoYXQgaXMgYmVpbmcgY29tcGlsZWQuIFNlZSB7QGxpbmsgZ3VpZGUvdW5pdC10ZXN0aW5nI3Rlc3RpbmctdHJhbnNjbHVzaW9uLWRpcmVjdGl2ZXNcclxuICogVGVzdGluZyBUcmFuc2NsdXNpb24gRGlyZWN0aXZlc30uXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBUaGVyZSBhcmUgdGhyZWUga2luZHMgb2YgdHJhbnNjbHVzaW9uIGRlcGVuZGluZyB1cG9uIHdoZXRoZXIgeW91IHdhbnQgdG8gdHJhbnNjbHVkZSBqdXN0IHRoZSBjb250ZW50cyBvZiB0aGVcclxuICogZGlyZWN0aXZlJ3MgZWxlbWVudCwgdGhlIGVudGlyZSBlbGVtZW50IG9yIG11bHRpcGxlIHBhcnRzIG9mIHRoZSBlbGVtZW50IGNvbnRlbnRzOlxyXG4gKlxyXG4gKiAqIGB0cnVlYCAtIHRyYW5zY2x1ZGUgdGhlIGNvbnRlbnQgKGkuZS4gdGhlIGNoaWxkIG5vZGVzKSBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC5cclxuICogKiBgJ2VsZW1lbnQnYCAtIHRyYW5zY2x1ZGUgdGhlIHdob2xlIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGluY2x1ZGluZyBhbnkgZGlyZWN0aXZlcyBvbiB0aGlzXHJcbiAqICAgZWxlbWVudCB0aGF0IGRlZmluZWQgYXQgYSBsb3dlciBwcmlvcml0eSB0aGFuIHRoaXMgZGlyZWN0aXZlLiBXaGVuIHVzZWQsIHRoZSBgdGVtcGxhdGVgXHJcbiAqICAgcHJvcGVydHkgaXMgaWdub3JlZC5cclxuICogKiAqKmB7Li4ufWAgKGFuIG9iamVjdCBoYXNoKToqKiAtIG1hcCBlbGVtZW50cyBvZiB0aGUgY29udGVudCBvbnRvIHRyYW5zY2x1c2lvbiBcInNsb3RzXCIgaW4gdGhlIHRlbXBsYXRlLlxyXG4gKlxyXG4gKiAqKk11bHQtc2xvdCB0cmFuc2NsdXNpb24qKiBpcyBkZWNsYXJlZCBieSBwcm92aWRpbmcgYW4gb2JqZWN0IGZvciB0aGUgYHRyYW5zY2x1ZGVgIHByb3BlcnR5LlxyXG4gKlxyXG4gKiBUaGlzIG9iamVjdCBpcyBhIG1hcCB3aGVyZSB0aGUga2V5cyBhcmUgdGhlIG5hbWUgb2YgdGhlIHNsb3QgdG8gZmlsbCBhbmQgdGhlIHZhbHVlIGlzIGFuIGVsZW1lbnQgc2VsZWN0b3JcclxuICogdXNlZCB0byBtYXRjaCB0aGUgSFRNTCB0byB0aGUgc2xvdC4gVGhlIGVsZW1lbnQgc2VsZWN0b3Igc2hvdWxkIGJlIGluIG5vcm1hbGl6ZWQgZm9ybSAoZS5nLiBgbXlFbGVtZW50YClcclxuICogYW5kIHdpbGwgbWF0Y2ggdGhlIHN0YW5kYXJkIGVsZW1lbnQgdmFyaWFudHMgKGUuZy4gYG15LWVsZW1lbnRgLCBgbXk6ZWxlbWVudGAsIGBkYXRhLW15LWVsZW1lbnRgLCBldGMpLlxyXG4gKlxyXG4gKiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbiBjaGVjayBvdXQgdGhlIGd1aWRlIG9uIHtAbGluayBndWlkZS9kaXJlY3RpdmUjbWF0Y2hpbmctZGlyZWN0aXZlcyBNYXRjaGluZyBEaXJlY3RpdmVzfVxyXG4gKlxyXG4gKiBJZiB0aGUgZWxlbWVudCBzZWxlY3RvciBpcyBwcmVmaXhlZCB3aXRoIGEgYD9gIHRoZW4gdGhhdCBzbG90IGlzIG9wdGlvbmFsLlxyXG4gKlxyXG4gKiBGb3IgZXhhbXBsZSwgdGhlIHRyYW5zY2x1ZGUgb2JqZWN0IGB7IHNsb3RBOiAnP215Q3VzdG9tRWxlbWVudCcgfWAgbWFwcyBgPG15LWN1c3RvbS1lbGVtZW50PmAgZWxlbWVudHMgdG9cclxuICogdGhlIGBzbG90QWAgc2xvdCwgd2hpY2ggY2FuIGJlIGFjY2Vzc2VkIHZpYSB0aGUgYCR0cmFuc2NsdWRlYCBmdW5jdGlvbiBvciB2aWEgdGhlIHtAbGluayBuZ1RyYW5zY2x1ZGV9IGRpcmVjdGl2ZS5cclxuICpcclxuICogU2xvdHMgdGhhdCBhcmUgbm90IG1hcmtlZCBhcyBvcHRpb25hbCAoYD9gKSB3aWxsIHRyaWdnZXIgYSBjb21waWxlIHRpbWUgZXJyb3IgaWYgdGhlcmUgYXJlIG5vIG1hdGNoaW5nIGVsZW1lbnRzXHJcbiAqIGluIHRoZSB0cmFuc2NsdWRlIGNvbnRlbnQuIElmIHlvdSB3aXNoIHRvIGtub3cgaWYgYW4gb3B0aW9uYWwgc2xvdCB3YXMgZmlsbGVkIHdpdGggY29udGVudCwgdGhlbiB5b3UgY2FuIGNhbGxcclxuICogYCR0cmFuc2NsdWRlLmlzU2xvdEZpbGxlZChzbG90TmFtZSlgIG9uIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHBhc3NlZCB0byB0aGUgZGlyZWN0aXZlJ3MgbGluayBmdW5jdGlvbiBhbmRcclxuICogaW5qZWN0YWJsZSBpbnRvIHRoZSBkaXJlY3RpdmUncyBjb250cm9sbGVyLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBGdW5jdGlvbnNcclxuICpcclxuICogV2hlbiBhIGRpcmVjdGl2ZSByZXF1ZXN0cyB0cmFuc2NsdXNpb24sIHRoZSBjb21waWxlciBleHRyYWN0cyBpdHMgY29udGVudHMgYW5kIHByb3ZpZGVzIGEgKip0cmFuc2NsdXNpb25cclxuICogZnVuY3Rpb24qKiB0byB0aGUgZGlyZWN0aXZlJ3MgYGxpbmtgIGZ1bmN0aW9uIGFuZCBgY29udHJvbGxlcmAuIFRoaXMgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIGlzIGEgc3BlY2lhbFxyXG4gKiAqKmxpbmtpbmcgZnVuY3Rpb24qKiB0aGF0IHdpbGwgcmV0dXJuIHRoZSBjb21waWxlZCBjb250ZW50cyBsaW5rZWQgdG8gYSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gKiBJZiB5b3UgYXJlIGp1c3QgdXNpbmcge0BsaW5rIG5nVHJhbnNjbHVkZX0gdGhlbiB5b3UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGZ1bmN0aW9uLCBzaW5jZVxyXG4gKiBuZ1RyYW5zY2x1ZGUgd2lsbCBkZWFsIHdpdGggaXQgZm9yIHVzLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogSWYgeW91IHdhbnQgdG8gbWFudWFsbHkgY29udHJvbCB0aGUgaW5zZXJ0aW9uIGFuZCByZW1vdmFsIG9mIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGluIHlvdXIgZGlyZWN0aXZlXHJcbiAqIHRoZW4geW91IG11c3QgdXNlIHRoaXMgdHJhbnNjbHVkZSBmdW5jdGlvbi4gV2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1ZGUgZnVuY3Rpb24gaXQgcmV0dXJucyBhIGEganFMaXRlL0pRdWVyeVxyXG4gKiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgY29tcGlsZWQgRE9NLCB3aGljaCBpcyBsaW5rZWQgdG8gdGhlIGNvcnJlY3QgdHJhbnNjbHVzaW9uIHNjb3BlLlxyXG4gKlxyXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIHlvdSBjYW4gcGFzcyBpbiBhICoqY2xvbmUgYXR0YWNoIGZ1bmN0aW9uKiouIFRoaXMgZnVuY3Rpb24gYWNjZXB0c1xyXG4gKiB0d28gcGFyYW1ldGVycywgYGZ1bmN0aW9uKGNsb25lLCBzY29wZSkgeyAuLi4gfWAsIHdoZXJlIHRoZSBgY2xvbmVgIGlzIGEgZnJlc2ggY29tcGlsZWQgY29weSBvZiB5b3VyIHRyYW5zY2x1ZGVkXHJcbiAqIGNvbnRlbnQgYW5kIHRoZSBgc2NvcGVgIGlzIHRoZSBuZXdseSBjcmVhdGVkIHRyYW5zY2x1c2lvbiBzY29wZSwgdG8gd2hpY2ggdGhlIGNsb25lIGlzIGJvdW5kLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gKiAqKkJlc3QgUHJhY3RpY2UqKjogQWx3YXlzIHByb3ZpZGUgYSBgY2xvbmVGbmAgKGNsb25lIGF0dGFjaCBmdW5jdGlvbikgd2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1ZGUgZnVuY3Rpb25cclxuICogc2luY2UgeW91IHRoZW4gZ2V0IGEgZnJlc2ggY2xvbmUgb2YgdGhlIG9yaWdpbmFsIERPTSBhbmQgYWxzbyBoYXZlIGFjY2VzcyB0byB0aGUgbmV3IHRyYW5zY2x1c2lvbiBzY29wZS5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEl0IGlzIG5vcm1hbCBwcmFjdGljZSB0byBhdHRhY2ggeW91ciB0cmFuc2NsdWRlZCBjb250ZW50IChgY2xvbmVgKSB0byB0aGUgRE9NIGluc2lkZSB5b3VyICoqY2xvbmVcclxuICogYXR0YWNoIGZ1bmN0aW9uKio6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciB0cmFuc2NsdWRlZENvbnRlbnQsIHRyYW5zY2x1c2lvblNjb3BlO1xyXG4gKlxyXG4gKiAkdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSwgc2NvcGUpIHtcclxuICogICBlbGVtZW50LmFwcGVuZChjbG9uZSk7XHJcbiAqICAgdHJhbnNjbHVkZWRDb250ZW50ID0gY2xvbmU7XHJcbiAqICAgdHJhbnNjbHVzaW9uU2NvcGUgPSBzY29wZTtcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBMYXRlciwgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGZyb20geW91ciBET00gdGhlbiB5b3Ugc2hvdWxkIGFsc28gZGVzdHJveSB0aGVcclxuICogYXNzb2NpYXRlZCB0cmFuc2NsdXNpb24gc2NvcGU6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHRyYW5zY2x1ZGVkQ29udGVudC5yZW1vdmUoKTtcclxuICogdHJhbnNjbHVzaW9uU2NvcGUuJGRlc3Ryb3koKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAqICoqQmVzdCBQcmFjdGljZSoqOiBpZiB5b3UgaW50ZW5kIHRvIGFkZCBhbmQgcmVtb3ZlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgbWFudWFsbHkgaW4geW91ciBkaXJlY3RpdmVcclxuICogKGJ5IGNhbGxpbmcgdGhlIHRyYW5zY2x1ZGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBET00gYW5kIGNhbGxpbmcgYGVsZW1lbnQucmVtb3ZlKClgIHRvIHJlbW92ZSBpdCksXHJcbiAqIHRoZW4geW91IGFyZSBhbHNvIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nIGAkZGVzdHJveWAgb24gdGhlIHRyYW5zY2x1c2lvbiBzY29wZS5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIFRoZSBidWlsdC1pbiBET00gbWFuaXB1bGF0aW9uIGRpcmVjdGl2ZXMsIHN1Y2ggYXMge0BsaW5rIG5nSWZ9LCB7QGxpbmsgbmdTd2l0Y2h9IGFuZCB7QGxpbmsgbmdSZXBlYXR9XHJcbiAqIGF1dG9tYXRpY2FsbHkgZGVzdHJveSB0aGVpciB0cmFuc2NsdWRlZCBjbG9uZXMgYXMgbmVjZXNzYXJ5IHNvIHlvdSBkbyBub3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGlmXHJcbiAqIHlvdSBhcmUgc2ltcGx5IHVzaW5nIHtAbGluayBuZ1RyYW5zY2x1ZGV9IHRvIGluamVjdCB0aGUgdHJhbnNjbHVzaW9uIGludG8geW91ciBkaXJlY3RpdmUuXHJcbiAqXHJcbiAqXHJcbiAqICMjIyMgVHJhbnNjbHVzaW9uIFNjb3Blc1xyXG4gKlxyXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiBpdCByZXR1cm5zIGEgRE9NIGZyYWdtZW50IHRoYXQgaXMgcHJlLWJvdW5kIHRvIGEgKip0cmFuc2NsdXNpb25cclxuICogc2NvcGUqKi4gVGhpcyBzY29wZSBpcyBzcGVjaWFsLCBpbiB0aGF0IGl0IGlzIGEgY2hpbGQgb2YgdGhlIGRpcmVjdGl2ZSdzIHNjb3BlIChhbmQgc28gZ2V0cyBkZXN0cm95ZWRcclxuICogd2hlbiB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUgZ2V0cyBkZXN0cm95ZWQpIGJ1dCBpdCBpbmhlcml0cyB0aGUgcHJvcGVydGllcyBvZiB0aGUgc2NvcGUgZnJvbSB3aGljaCBpdFxyXG4gKiB3YXMgdGFrZW4uXHJcbiAqXHJcbiAqIEZvciBleGFtcGxlIGNvbnNpZGVyIGEgZGlyZWN0aXZlIHRoYXQgdXNlcyB0cmFuc2NsdXNpb24gYW5kIGlzb2xhdGVkIHNjb3BlLiBUaGUgRE9NIGhpZXJhcmNoeSBtaWdodCBsb29rXHJcbiAqIGxpa2UgdGhpczpcclxuICpcclxuICogYGBgaHRtbFxyXG4gKiA8ZGl2IG5nLWFwcD5cclxuICogICA8ZGl2IGlzb2xhdGU+XHJcbiAqICAgICA8ZGl2IHRyYW5zY2x1c2lvbj5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZGl2PlxyXG4gKiA8L2Rpdj5cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBgJHBhcmVudGAgc2NvcGUgaGllcmFyY2h5IHdpbGwgbG9vayBsaWtlIHRoaXM6XHJcbiAqXHJcbiAgIGBgYFxyXG4gICAtICRyb290U2NvcGVcclxuICAgICAtIGlzb2xhdGVcclxuICAgICAgIC0gdHJhbnNjbHVzaW9uXHJcbiAgIGBgYFxyXG4gKlxyXG4gKiBidXQgdGhlIHNjb3BlcyB3aWxsIGluaGVyaXQgcHJvdG90eXBpY2FsbHkgZnJvbSBkaWZmZXJlbnQgc2NvcGVzIHRvIHRoZWlyIGAkcGFyZW50YC5cclxuICpcclxuICAgYGBgXHJcbiAgIC0gJHJvb3RTY29wZVxyXG4gICAgIC0gdHJhbnNjbHVzaW9uXHJcbiAgIC0gaXNvbGF0ZVxyXG4gICBgYGBcclxuICpcclxuICpcclxuICogIyMjIEF0dHJpYnV0ZXNcclxuICpcclxuICogVGhlIHtAbGluayBuZy4kY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyBBdHRyaWJ1dGVzfSBvYmplY3QgLSBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIgaW4gdGhlXHJcbiAqIGBsaW5rKClgIG9yIGBjb21waWxlKClgIGZ1bmN0aW9ucy4gSXQgaGFzIGEgdmFyaWV0eSBvZiB1c2VzLlxyXG4gKlxyXG4gKiAqICpBY2Nlc3Npbmcgbm9ybWFsaXplZCBhdHRyaWJ1dGUgbmFtZXM6KiBEaXJlY3RpdmVzIGxpa2UgJ25nQmluZCcgY2FuIGJlIGV4cHJlc3NlZCBpbiBtYW55IHdheXM6XHJcbiAqICAgJ25nOmJpbmQnLCBgZGF0YS1uZy1iaW5kYCwgb3IgJ3gtbmctYmluZCcuIFRoZSBhdHRyaWJ1dGVzIG9iamVjdCBhbGxvd3MgZm9yIG5vcm1hbGl6ZWQgYWNjZXNzXHJcbiAqICAgdG8gdGhlIGF0dHJpYnV0ZXMuXHJcbiAqXHJcbiAqICogKkRpcmVjdGl2ZSBpbnRlci1jb21tdW5pY2F0aW9uOiogQWxsIGRpcmVjdGl2ZXMgc2hhcmUgdGhlIHNhbWUgaW5zdGFuY2Ugb2YgdGhlIGF0dHJpYnV0ZXNcclxuICogICBvYmplY3Qgd2hpY2ggYWxsb3dzIHRoZSBkaXJlY3RpdmVzIHRvIHVzZSB0aGUgYXR0cmlidXRlcyBvYmplY3QgYXMgaW50ZXIgZGlyZWN0aXZlXHJcbiAqICAgY29tbXVuaWNhdGlvbi5cclxuICpcclxuICogKiAqU3VwcG9ydHMgaW50ZXJwb2xhdGlvbjoqIEludGVycG9sYXRpb24gYXR0cmlidXRlcyBhcmUgYXNzaWduZWQgdG8gdGhlIGF0dHJpYnV0ZSBvYmplY3RcclxuICogICBhbGxvd2luZyBvdGhlciBkaXJlY3RpdmVzIHRvIHJlYWQgdGhlIGludGVycG9sYXRlZCB2YWx1ZS5cclxuICpcclxuICogKiAqT2JzZXJ2aW5nIGludGVycG9sYXRlZCBhdHRyaWJ1dGVzOiogVXNlIGAkb2JzZXJ2ZWAgdG8gb2JzZXJ2ZSB0aGUgdmFsdWUgY2hhbmdlcyBvZiBhdHRyaWJ1dGVzXHJcbiAqICAgdGhhdCBjb250YWluIGludGVycG9sYXRpb24gKGUuZy4gYHNyYz1cInt7YmFyfX1cImApLiBOb3Qgb25seSBpcyB0aGlzIHZlcnkgZWZmaWNpZW50IGJ1dCBpdCdzIGFsc29cclxuICogICB0aGUgb25seSB3YXkgdG8gZWFzaWx5IGdldCB0aGUgYWN0dWFsIHZhbHVlIGJlY2F1c2UgZHVyaW5nIHRoZSBsaW5raW5nIHBoYXNlIHRoZSBpbnRlcnBvbGF0aW9uXHJcbiAqICAgaGFzbid0IGJlZW4gZXZhbHVhdGVkIHlldCBhbmQgc28gdGhlIHZhbHVlIGlzIGF0IHRoaXMgdGltZSBzZXQgdG8gYHVuZGVmaW5lZGAuXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGZ1bmN0aW9uIGxpbmtpbmdGbihzY29wZSwgZWxtLCBhdHRycywgY3RybCkge1xyXG4gKiAgIC8vIGdldCB0aGUgYXR0cmlidXRlIHZhbHVlXHJcbiAqICAgY29uc29sZS5sb2coYXR0cnMubmdNb2RlbCk7XHJcbiAqXHJcbiAqICAgLy8gY2hhbmdlIHRoZSBhdHRyaWJ1dGVcclxuICogICBhdHRycy4kc2V0KCduZ01vZGVsJywgJ25ldyB2YWx1ZScpO1xyXG4gKlxyXG4gKiAgIC8vIG9ic2VydmUgY2hhbmdlcyB0byBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlXHJcbiAqICAgYXR0cnMuJG9ic2VydmUoJ25nTW9kZWwnLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gKiAgICAgY29uc29sZS5sb2coJ25nTW9kZWwgaGFzIGNoYW5nZWQgdmFsdWUgdG8gJyArIHZhbHVlKTtcclxuICogICB9KTtcclxuICogfVxyXG4gKiBgYGBcclxuICpcclxuICogIyMgRXhhbXBsZVxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGUqKjogVHlwaWNhbGx5IGRpcmVjdGl2ZXMgYXJlIHJlZ2lzdGVyZWQgd2l0aCBgbW9kdWxlLmRpcmVjdGl2ZWAuIFRoZSBleGFtcGxlIGJlbG93IGlzXHJcbiAqIHRvIGlsbHVzdHJhdGUgaG93IGAkY29tcGlsZWAgd29ya3MuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gPGV4YW1wbGUgbW9kdWxlPVwiY29tcGlsZUV4YW1wbGVcIj5cclxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgIDxzY3JpcHQ+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdjb21waWxlRXhhbXBsZScsIFtdLCBmdW5jdGlvbigkY29tcGlsZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgLy8gY29uZmlndXJlIG5ldyAnY29tcGlsZScgZGlyZWN0aXZlIGJ5IHBhc3NpbmcgYSBkaXJlY3RpdmVcclxuICAgICAgICAvLyBmYWN0b3J5IGZ1bmN0aW9uLiBUaGUgZmFjdG9yeSBmdW5jdGlvbiBpbmplY3RzIHRoZSAnJGNvbXBpbGUnXHJcbiAgICAgICAgJGNvbXBpbGVQcm92aWRlci5kaXJlY3RpdmUoJ2NvbXBpbGUnLCBmdW5jdGlvbigkY29tcGlsZSkge1xyXG4gICAgICAgICAgLy8gZGlyZWN0aXZlIGZhY3RvcnkgY3JlYXRlcyBhIGxpbmsgZnVuY3Rpb25cclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKFxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAgLy8gd2F0Y2ggdGhlICdjb21waWxlJyBleHByZXNzaW9uIGZvciBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuJGV2YWwoYXR0cnMuY29tcGlsZSk7XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgJ2NvbXBpbGUnIGV4cHJlc3Npb24gY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgLy8gYXNzaWduIGl0IGludG8gdGhlIGN1cnJlbnQgRE9NXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGUgdGhlIG5ldyBET00gYW5kIGxpbmsgaXQgdG8gdGhlIGN1cnJlbnRcclxuICAgICAgICAgICAgICAgIC8vIHNjb3BlLlxyXG4gICAgICAgICAgICAgICAgLy8gTk9URTogd2Ugb25seSBjb21waWxlIC5jaGlsZE5vZGVzIHNvIHRoYXRcclxuICAgICAgICAgICAgICAgIC8vIHdlIGRvbid0IGdldCBpbnRvIGluZmluaXRlIGxvb3AgY29tcGlsaW5nIG91cnNlbHZlc1xyXG4gICAgICAgICAgICAgICAgJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSlcclxuICAgICAgLmNvbnRyb2xsZXIoJ0dyZWV0ZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAkc2NvcGUubmFtZSA9ICdBbmd1bGFyJztcclxuICAgICAgICAkc2NvcGUuaHRtbCA9ICdIZWxsbyB7e25hbWV9fSc7XHJcbiAgICAgIH1dKTtcclxuICAgIDwvc2NyaXB0PlxyXG4gICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR3JlZXRlckNvbnRyb2xsZXJcIj5cclxuICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmFtZVwiPiA8YnIvPlxyXG4gICAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJodG1sXCI+PC90ZXh0YXJlYT4gPGJyLz5cclxuICAgICAgPGRpdiBjb21waWxlPVwiaHRtbFwiPjwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgIDwvZmlsZT5cclxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgIGl0KCdzaG91bGQgYXV0byBjb21waWxlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICB2YXIgdGV4dGFyZWEgPSAkKCd0ZXh0YXJlYScpO1xyXG4gICAgICAgdmFyIG91dHB1dCA9ICQoJ2Rpdltjb21waWxlXScpO1xyXG4gICAgICAgLy8gVGhlIGluaXRpYWwgc3RhdGUgcmVhZHMgJ0hlbGxvIEFuZ3VsYXInLlxyXG4gICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQmUoJ0hlbGxvIEFuZ3VsYXInKTtcclxuICAgICAgIHRleHRhcmVhLmNsZWFyKCk7XHJcbiAgICAgICB0ZXh0YXJlYS5zZW5kS2V5cygne3tuYW1lfX0hJyk7XHJcbiAgICAgICBleHBlY3Qob3V0cHV0LmdldFRleHQoKSkudG9CZSgnQW5ndWxhciEnKTtcclxuICAgICB9KTtcclxuICAgPC9maWxlPlxyXG4gPC9leGFtcGxlPlxyXG5cclxuICpcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd8RE9NRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IG9yIEhUTUwgc3RyaW5nIHRvIGNvbXBpbGUgaW50byBhIHRlbXBsYXRlIGZ1bmN0aW9uLlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZSBmdW5jdGlvbiBhdmFpbGFibGUgdG8gZGlyZWN0aXZlcyAtIERFUFJFQ0FURUQuXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cclxuICogKipOb3RlOioqIFBhc3NpbmcgYSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdG8gdGhlICRjb21waWxlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIGFzIGl0XHJcbiAqICAgZS5nLiB3aWxsIG5vdCB1c2UgdGhlIHJpZ2h0IG91dGVyIHNjb3BlLiBQbGVhc2UgcGFzcyB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiBhcyBhXHJcbiAqICAgYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCB0byB0aGUgbGluayBmdW5jdGlvbiBpbnN0ZWFkLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ9IG1heFByaW9yaXR5IG9ubHkgYXBwbHkgZGlyZWN0aXZlcyBsb3dlciB0aGFuIGdpdmVuIHByaW9yaXR5IChPbmx5IGVmZmVjdHMgdGhlXHJcbiAqICAgICAgICAgICAgICAgICByb290IGVsZW1lbnQocyksIG5vdCB0aGVpciBjaGlsZHJlbilcclxuICogQHJldHVybnMge2Z1bmN0aW9uKHNjb3BlLCBjbG9uZUF0dGFjaEZuPSwgb3B0aW9ucz0pfSBhIGxpbmsgZnVuY3Rpb24gd2hpY2ggaXMgdXNlZCB0byBiaW5kIHRlbXBsYXRlXHJcbiAqIChhIERPTSBlbGVtZW50L3RyZWUpIHRvIGEgc2NvcGUuIFdoZXJlOlxyXG4gKlxyXG4gKiAgKiBgc2NvcGVgIC0gQSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBTY29wZX0gdG8gYmluZCB0by5cclxuICogICogYGNsb25lQXR0YWNoRm5gIC0gSWYgYGNsb25lQXR0YWNoRm5gIGlzIHByb3ZpZGVkLCB0aGVuIHRoZSBsaW5rIGZ1bmN0aW9uIHdpbGwgY2xvbmUgdGhlXHJcbiAqICBgdGVtcGxhdGVgIGFuZCBjYWxsIHRoZSBgY2xvbmVBdHRhY2hGbmAgZnVuY3Rpb24gYWxsb3dpbmcgdGhlIGNhbGxlciB0byBhdHRhY2ggdGhlXHJcbiAqICBjbG9uZWQgZWxlbWVudHMgdG8gdGhlIERPTSBkb2N1bWVudCBhdCB0aGUgYXBwcm9wcmlhdGUgcGxhY2UuIFRoZSBgY2xvbmVBdHRhY2hGbmAgaXNcclxuICogIGNhbGxlZCBhczogPGJyLz4gYGNsb25lQXR0YWNoRm4oY2xvbmVkRWxlbWVudCwgc2NvcGUpYCB3aGVyZTpcclxuICpcclxuICogICAgICAqIGBjbG9uZWRFbGVtZW50YCAtIGlzIGEgY2xvbmUgb2YgdGhlIG9yaWdpbmFsIGBlbGVtZW50YCBwYXNzZWQgaW50byB0aGUgY29tcGlsZXIuXHJcbiAqICAgICAgKiBgc2NvcGVgIC0gaXMgdGhlIGN1cnJlbnQgc2NvcGUgd2l0aCB3aGljaCB0aGUgbGlua2luZyBmdW5jdGlvbiBpcyB3b3JraW5nIHdpdGguXHJcbiAqXHJcbiAqICAqIGBvcHRpb25zYCAtIEFuIG9wdGlvbmFsIG9iamVjdCBoYXNoIHdpdGggbGlua2luZyBvcHRpb25zLiBJZiBgb3B0aW9uc2AgaXMgcHJvdmlkZWQsIHRoZW4gdGhlIGZvbGxvd2luZ1xyXG4gKiAga2V5cyBtYXkgYmUgdXNlZCB0byBjb250cm9sIGxpbmtpbmcgYmVoYXZpb3I6XHJcbiAqXHJcbiAqICAgICAgKiBgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm5gIC0gdGhlIHRyYW5zY2x1ZGUgZnVuY3Rpb24gbWFkZSBhdmFpbGFibGUgdG9cclxuICogICAgICAgIGRpcmVjdGl2ZXM7IGlmIGdpdmVuLCBpdCB3aWxsIGJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBsaW5rIGZ1bmN0aW9ucyBvZlxyXG4gKiAgICAgICAgZGlyZWN0aXZlcyBmb3VuZCBpbiBgZWxlbWVudGAgZHVyaW5nIGNvbXBpbGF0aW9uLlxyXG4gKiAgICAgICogYHRyYW5zY2x1ZGVDb250cm9sbGVyc2AgLSBhbiBvYmplY3QgaGFzaCB3aXRoIGtleXMgdGhhdCBtYXAgY29udHJvbGxlciBuYW1lc1xyXG4gKiAgICAgICAgdG8gYSBoYXNoIHdpdGggdGhlIGtleSBgaW5zdGFuY2VgLCB3aGljaCBtYXBzIHRvIHRoZSBjb250cm9sbGVyIGluc3RhbmNlO1xyXG4gKiAgICAgICAgaWYgZ2l2ZW4sIGl0IHdpbGwgbWFrZSB0aGUgY29udHJvbGxlcnMgYXZhaWxhYmxlIHRvIGRpcmVjdGl2ZXMgb24gdGhlIGNvbXBpbGVOb2RlOlxyXG4gKiAgICAgICAgYGBgXHJcbiAqICAgICAgICB7XHJcbiAqICAgICAgICAgIHBhcmVudDoge1xyXG4gKiAgICAgICAgICAgIGluc3RhbmNlOiBwYXJlbnRDb250cm9sbGVySW5zdGFuY2VcclxuICogICAgICAgICAgfVxyXG4gKiAgICAgICAgfVxyXG4gKiAgICAgICAgYGBgXHJcbiAqICAgICAgKiBgZnV0dXJlUGFyZW50RWxlbWVudGAgLSBkZWZpbmVzIHRoZSBwYXJlbnQgdG8gd2hpY2ggdGhlIGBjbG9uZUF0dGFjaEZuYCB3aWxsIGFkZFxyXG4gKiAgICAgICAgdGhlIGNsb25lZCBlbGVtZW50czsgb25seSBuZWVkZWQgZm9yIHRyYW5zY2x1ZGVzIHRoYXQgYXJlIGFsbG93ZWQgdG8gY29udGFpbiBub24gaHRtbFxyXG4gKiAgICAgICAgZWxlbWVudHMgKGUuZy4gU1ZHIGVsZW1lbnRzKS4gU2VlIGFsc28gdGhlIGRpcmVjdGl2ZS5jb250cm9sbGVyIHByb3BlcnR5LlxyXG4gKlxyXG4gKiBDYWxsaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHJldHVybnMgdGhlIGVsZW1lbnQgb2YgdGhlIHRlbXBsYXRlLiBJdCBpcyBlaXRoZXIgdGhlIG9yaWdpbmFsXHJcbiAqIGVsZW1lbnQgcGFzc2VkIGluLCBvciB0aGUgY2xvbmUgb2YgdGhlIGVsZW1lbnQgaWYgdGhlIGBjbG9uZUF0dGFjaEZuYCBpcyBwcm92aWRlZC5cclxuICpcclxuICogQWZ0ZXIgbGlua2luZyB0aGUgdmlldyBpcyBub3QgdXBkYXRlZCB1bnRpbCBhZnRlciBhIGNhbGwgdG8gJGRpZ2VzdCB3aGljaCB0eXBpY2FsbHkgaXMgZG9uZSBieVxyXG4gKiBBbmd1bGFyIGF1dG9tYXRpY2FsbHkuXHJcbiAqXHJcbiAqIElmIHlvdSBuZWVkIGFjY2VzcyB0byB0aGUgYm91bmQgdmlldywgdGhlcmUgYXJlIHR3byB3YXlzIHRvIGRvIGl0OlxyXG4gKlxyXG4gKiAtIElmIHlvdSBhcmUgbm90IGFza2luZyB0aGUgbGlua2luZyBmdW5jdGlvbiB0byBjbG9uZSB0aGUgdGVtcGxhdGUsIGNyZWF0ZSB0aGUgRE9NIGVsZW1lbnQocylcclxuICogICBiZWZvcmUgeW91IHNlbmQgdGhlbSB0byB0aGUgY29tcGlsZXIgYW5kIGtlZXAgdGhpcyByZWZlcmVuY2UgYXJvdW5kLlxyXG4gKiAgIGBgYGpzXHJcbiAqICAgICB2YXIgZWxlbWVudCA9ICRjb21waWxlKCc8cD57e3RvdGFsfX08L3A+Jykoc2NvcGUpO1xyXG4gKiAgIGBgYFxyXG4gKlxyXG4gKiAtIGlmIG9uIHRoZSBvdGhlciBoYW5kLCB5b3UgbmVlZCB0aGUgZWxlbWVudCB0byBiZSBjbG9uZWQsIHRoZSB2aWV3IHJlZmVyZW5jZSBmcm9tIHRoZSBvcmlnaW5hbFxyXG4gKiAgIGV4YW1wbGUgd291bGQgbm90IHBvaW50IHRvIHRoZSBjbG9uZSwgYnV0IHJhdGhlciB0byB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgdGhhdCB3YXMgY2xvbmVkLiBJblxyXG4gKiAgIHRoaXMgY2FzZSwgeW91IGNhbiBhY2Nlc3MgdGhlIGNsb25lIHZpYSB0aGUgY2xvbmVBdHRhY2hGbjpcclxuICogICBgYGBqc1xyXG4gKiAgICAgdmFyIHRlbXBsYXRlRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgnPHA+e3t0b3RhbH19PC9wPicpLFxyXG4gKiAgICAgICAgIHNjb3BlID0gLi4uLjtcclxuICpcclxuICogICAgIHZhciBjbG9uZWRFbGVtZW50ID0gJGNvbXBpbGUodGVtcGxhdGVFbGVtZW50KShzY29wZSwgZnVuY3Rpb24oY2xvbmVkRWxlbWVudCwgc2NvcGUpIHtcclxuICogICAgICAgLy9hdHRhY2ggdGhlIGNsb25lIHRvIERPTSBkb2N1bWVudCBhdCB0aGUgcmlnaHQgcGxhY2VcclxuICogICAgIH0pO1xyXG4gKlxyXG4gKiAgICAgLy9ub3cgd2UgaGF2ZSByZWZlcmVuY2UgdG8gdGhlIGNsb25lZCBET00gdmlhIGBjbG9uZWRFbGVtZW50YFxyXG4gKiAgIGBgYFxyXG4gKlxyXG4gKlxyXG4gKiBGb3IgaW5mb3JtYXRpb24gb24gaG93IHRoZSBjb21waWxlciB3b3Jrcywgc2VlIHRoZVxyXG4gKiB7QGxpbmsgZ3VpZGUvY29tcGlsZXIgQW5ndWxhciBIVE1MIENvbXBpbGVyfSBzZWN0aW9uIG9mIHRoZSBEZXZlbG9wZXIgR3VpZGUuXHJcbiAqL1xyXG5cclxudmFyICRjb21waWxlTWluRXJyID0gbWluRXJyKCckY29tcGlsZScpO1xyXG5cclxuZnVuY3Rpb24gVU5JTklUSUFMSVpFRF9WQUxVRSgpIHt9XHJcbnZhciBfVU5JTklUSUFMSVpFRF9WQUxVRSA9IG5ldyBVTklOSVRJQUxJWkVEX1ZBTFVFKCk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3ZpZGVyXHJcbiAqIEBuYW1lICRjb21waWxlUHJvdmlkZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqL1xyXG4kQ29tcGlsZVByb3ZpZGVyLiRpbmplY3QgPSBbJyRwcm92aWRlJywgJyQkc2FuaXRpemVVcmlQcm92aWRlciddO1xyXG5mdW5jdGlvbiAkQ29tcGlsZVByb3ZpZGVyKCRwcm92aWRlLCAkJHNhbml0aXplVXJpUHJvdmlkZXIpIHtcclxuICB2YXIgaGFzRGlyZWN0aXZlcyA9IHt9LFxyXG4gICAgICBTdWZmaXggPSAnRGlyZWN0aXZlJyxcclxuICAgICAgQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQID0gL15cXHMqZGlyZWN0aXZlXFw6XFxzKihbXFx3XFwtXSspXFxzKyguKikkLyxcclxuICAgICAgQ0xBU1NfRElSRUNUSVZFX1JFR0VYUCA9IC8oKFtcXHdcXC1dKykoPzpcXDooW147XSspKT87PykvLFxyXG4gICAgICBBTExfT1JfTk9USElOR19BVFRSUyA9IG1ha2VNYXAoJ25nU3JjLG5nU3Jjc2V0LHNyYyxzcmNzZXQnKSxcclxuICAgICAgUkVRVUlSRV9QUkVGSVhfUkVHRVhQID0gL14oPzooXFxeXFxePyk/KFxcPyk/KFxcXlxcXj8pPyk/LztcclxuXHJcbiAgLy8gUmVmOiBodHRwOi8vZGV2ZWxvcGVycy53aGF0d2cub3JnL3dlYmFwcGFwaXMuaHRtbCNldmVudC1oYW5kbGVyLWlkbC1hdHRyaWJ1dGVzXHJcbiAgLy8gVGhlIGFzc3VtcHRpb24gaXMgdGhhdCBmdXR1cmUgRE9NIGV2ZW50IGF0dHJpYnV0ZSBuYW1lcyB3aWxsIGJlZ2luIHdpdGhcclxuICAvLyAnb24nIGFuZCBiZSBjb21wb3NlZCBvZiBvbmx5IEVuZ2xpc2ggbGV0dGVycy5cclxuICB2YXIgRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUCA9IC9eKG9uW2Etel0rfGZvcm1hY3Rpb24pJC87XHJcbiAgdmFyIGJpbmRpbmdDYWNoZSA9IGNyZWF0ZU1hcCgpO1xyXG5cclxuICBmdW5jdGlvbiBwYXJzZUlzb2xhdGVCaW5kaW5ncyhzY29wZSwgZGlyZWN0aXZlTmFtZSwgaXNDb250cm9sbGVyKSB7XHJcbiAgICB2YXIgTE9DQUxfUkVHRVhQID0gL15cXHMqKFtAJjxdfD0oXFwqPykpKFxcPz8pXFxzKihcXHcqKVxccyokLztcclxuXHJcbiAgICB2YXIgYmluZGluZ3MgPSBjcmVhdGVNYXAoKTtcclxuXHJcbiAgICBmb3JFYWNoKHNjb3BlLCBmdW5jdGlvbihkZWZpbml0aW9uLCBzY29wZU5hbWUpIHtcclxuICAgICAgaWYgKGRlZmluaXRpb24gaW4gYmluZGluZ0NhY2hlKSB7XHJcbiAgICAgICAgYmluZGluZ3Nbc2NvcGVOYW1lXSA9IGJpbmRpbmdDYWNoZVtkZWZpbml0aW9uXTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdmFyIG1hdGNoID0gZGVmaW5pdGlvbi5tYXRjaChMT0NBTF9SRUdFWFApO1xyXG5cclxuICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdpc2NwJyxcclxuICAgICAgICAgICAgXCJJbnZhbGlkIHszfSBmb3IgZGlyZWN0aXZlICd7MH0nLlwiICtcclxuICAgICAgICAgICAgXCIgRGVmaW5pdGlvbjogey4uLiB7MX06ICd7Mn0nIC4uLn1cIixcclxuICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgc2NvcGVOYW1lLCBkZWZpbml0aW9uLFxyXG4gICAgICAgICAgICAoaXNDb250cm9sbGVyID8gXCJjb250cm9sbGVyIGJpbmRpbmdzIGRlZmluaXRpb25cIiA6XHJcbiAgICAgICAgICAgIFwiaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uXCIpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYmluZGluZ3Nbc2NvcGVOYW1lXSA9IHtcclxuICAgICAgICBtb2RlOiBtYXRjaFsxXVswXSxcclxuICAgICAgICBjb2xsZWN0aW9uOiBtYXRjaFsyXSA9PT0gJyonLFxyXG4gICAgICAgIG9wdGlvbmFsOiBtYXRjaFszXSA9PT0gJz8nLFxyXG4gICAgICAgIGF0dHJOYW1lOiBtYXRjaFs0XSB8fCBzY29wZU5hbWVcclxuICAgICAgfTtcclxuICAgICAgaWYgKG1hdGNoWzRdKSB7XHJcbiAgICAgICAgYmluZGluZ0NhY2hlW2RlZmluaXRpb25dID0gYmluZGluZ3Nbc2NvcGVOYW1lXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGJpbmRpbmdzO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcGFyc2VEaXJlY3RpdmVCaW5kaW5ncyhkaXJlY3RpdmUsIGRpcmVjdGl2ZU5hbWUpIHtcclxuICAgIHZhciBiaW5kaW5ncyA9IHtcclxuICAgICAgaXNvbGF0ZVNjb3BlOiBudWxsLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiBudWxsXHJcbiAgICB9O1xyXG4gICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZS5zY29wZSkpIHtcclxuICAgICAgaWYgKGRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyID09PSB0cnVlKSB7XHJcbiAgICAgICAgYmluZGluZ3MuYmluZFRvQ29udHJvbGxlciA9IHBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5zY29wZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgYmluZGluZ3MuaXNvbGF0ZVNjb3BlID0ge307XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYmluZGluZ3MuaXNvbGF0ZVNjb3BlID0gcGFyc2VJc29sYXRlQmluZGluZ3MoZGlyZWN0aXZlLnNjb3BlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsIGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyKSkge1xyXG4gICAgICBiaW5kaW5ncy5iaW5kVG9Db250cm9sbGVyID1cclxuICAgICAgICAgIHBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyLCBkaXJlY3RpdmVOYW1lLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGlmIChpc09iamVjdChiaW5kaW5ncy5iaW5kVG9Db250cm9sbGVyKSkge1xyXG4gICAgICB2YXIgY29udHJvbGxlciA9IGRpcmVjdGl2ZS5jb250cm9sbGVyO1xyXG4gICAgICB2YXIgY29udHJvbGxlckFzID0gZGlyZWN0aXZlLmNvbnRyb2xsZXJBcztcclxuICAgICAgaWYgKCFjb250cm9sbGVyKSB7XHJcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gY29udHJvbGxlciwgdGhlcmUgbWF5IG9yIG1heSBub3QgYmUgYSBjb250cm9sbGVyQXMgcHJvcGVydHlcclxuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9jdHJsJyxcclxuICAgICAgICAgICAgICBcIkNhbm5vdCBiaW5kIHRvIGNvbnRyb2xsZXIgd2l0aG91dCBkaXJlY3RpdmUgJ3swfSdzIGNvbnRyb2xsZXIuXCIsXHJcbiAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIWlkZW50aWZpZXJGb3JDb250cm9sbGVyKGNvbnRyb2xsZXIsIGNvbnRyb2xsZXJBcykpIHtcclxuICAgICAgICAvLyBUaGVyZSBpcyBhIGNvbnRyb2xsZXIsIGJ1dCBubyBpZGVudGlmaWVyIG9yIGNvbnRyb2xsZXJBcyBwcm9wZXJ0eVxyXG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub2lkZW50JyxcclxuICAgICAgICAgICAgICBcIkNhbm5vdCBiaW5kIHRvIGNvbnRyb2xsZXIgd2l0aG91dCBpZGVudGlmaWVyIGZvciBkaXJlY3RpdmUgJ3swfScuXCIsXHJcbiAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBiaW5kaW5ncztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFzc2VydFZhbGlkRGlyZWN0aXZlTmFtZShuYW1lKSB7XHJcbiAgICB2YXIgbGV0dGVyID0gbmFtZS5jaGFyQXQoMCk7XHJcbiAgICBpZiAoIWxldHRlciB8fCBsZXR0ZXIgIT09IGxvd2VyY2FzZShsZXR0ZXIpKSB7XHJcbiAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdiYWRkaXInLCBcIkRpcmVjdGl2ZS9Db21wb25lbnQgbmFtZSAnezB9JyBpcyBpbnZhbGlkLiBUaGUgZmlyc3QgY2hhcmFjdGVyIG11c3QgYmUgYSBsb3dlcmNhc2UgbGV0dGVyXCIsIG5hbWUpO1xyXG4gICAgfVxyXG4gICAgaWYgKG5hbWUgIT09IG5hbWUudHJpbSgpKSB7XHJcbiAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdiYWRkaXInLFxyXG4gICAgICAgICAgICBcIkRpcmVjdGl2ZS9Db21wb25lbnQgbmFtZSAnezB9JyBpcyBpbnZhbGlkLiBUaGUgbmFtZSBzaG91bGQgbm90IGNvbnRhaW4gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlc1wiLFxyXG4gICAgICAgICAgICBuYW1lKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZVxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZWdpc3RlciBhIG5ldyBkaXJlY3RpdmUgd2l0aCB0aGUgY29tcGlsZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgTmFtZSBvZiB0aGUgZGlyZWN0aXZlIGluIGNhbWVsLWNhc2UgKGkuZS4gPGNvZGU+bmdCaW5kPC9jb2RlPiB3aGljaFxyXG4gICAqICAgIHdpbGwgbWF0Y2ggYXMgPGNvZGU+bmctYmluZDwvY29kZT4pLCBvciBhbiBvYmplY3QgbWFwIG9mIGRpcmVjdGl2ZXMgd2hlcmUgdGhlIGtleXMgYXJlIHRoZVxyXG4gICAqICAgIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmFjdG9yaWVzLlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXl9IGRpcmVjdGl2ZUZhY3RvcnkgQW4gaW5qZWN0YWJsZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gU2VlIHRoZVxyXG4gICAqICAgIHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlIGd1aWRlfSBhbmQgdGhlIHtAbGluayAkY29tcGlsZSBjb21waWxlIEFQSX0gZm9yIG1vcmUgaW5mby5cclxuICAgKiBAcmV0dXJucyB7bmcuJGNvbXBpbGVQcm92aWRlcn0gU2VsZiBmb3IgY2hhaW5pbmcuXHJcbiAgICovXHJcbiAgdGhpcy5kaXJlY3RpdmUgPSBmdW5jdGlvbiByZWdpc3RlckRpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmVGYWN0b3J5KSB7XHJcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnZGlyZWN0aXZlJyk7XHJcbiAgICBpZiAoaXNTdHJpbmcobmFtZSkpIHtcclxuICAgICAgYXNzZXJ0VmFsaWREaXJlY3RpdmVOYW1lKG5hbWUpO1xyXG4gICAgICBhc3NlcnRBcmcoZGlyZWN0aXZlRmFjdG9yeSwgJ2RpcmVjdGl2ZUZhY3RvcnknKTtcclxuICAgICAgaWYgKCFoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgaGFzRGlyZWN0aXZlc1tuYW1lXSA9IFtdO1xyXG4gICAgICAgICRwcm92aWRlLmZhY3RvcnkobmFtZSArIFN1ZmZpeCwgWyckaW5qZWN0b3InLCAnJGV4Y2VwdGlvbkhhbmRsZXInLFxyXG4gICAgICAgICAgZnVuY3Rpb24oJGluamVjdG9yLCAkZXhjZXB0aW9uSGFuZGxlcikge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3JFYWNoKGhhc0RpcmVjdGl2ZXNbbmFtZV0sIGZ1bmN0aW9uKGRpcmVjdGl2ZUZhY3RvcnksIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBkaXJlY3RpdmUgPSAkaW5qZWN0b3IuaW52b2tlKGRpcmVjdGl2ZUZhY3RvcnkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyZWN0aXZlKSkge1xyXG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmUgPSB7IGNvbXBpbGU6IHZhbHVlRm4oZGlyZWN0aXZlKSB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGlyZWN0aXZlLmNvbXBpbGUgJiYgZGlyZWN0aXZlLmxpbmspIHtcclxuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLmNvbXBpbGUgPSB2YWx1ZUZuKGRpcmVjdGl2ZS5saW5rKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5wcmlvcml0eSA9IGRpcmVjdGl2ZS5wcmlvcml0eSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUubmFtZSA9IGRpcmVjdGl2ZS5uYW1lIHx8IG5hbWU7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlIHx8IChkaXJlY3RpdmUuY29udHJvbGxlciAmJiBkaXJlY3RpdmUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVzdHJpY3QgPSBkaXJlY3RpdmUucmVzdHJpY3QgfHwgJ0VBJztcclxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS4kJG1vZHVsZU5hbWUgPSBkaXJlY3RpdmVGYWN0b3J5LiQkbW9kdWxlTmFtZTtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUpO1xyXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xyXG4gICAgICAgICAgfV0pO1xyXG4gICAgICB9XHJcbiAgICAgIGhhc0RpcmVjdGl2ZXNbbmFtZV0ucHVzaChkaXJlY3RpdmVGYWN0b3J5KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvckVhY2gobmFtZSwgcmV2ZXJzZVBhcmFtcyhyZWdpc3RlckRpcmVjdGl2ZSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjY29tcG9uZW50XHJcbiAgICogQG1vZHVsZSBuZ1xyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudCBpbiBjYW1lbENhc2UgKGkuZS4gYG15Q29tcGAgd2hpY2ggd2lsbCBtYXRjaCBgPG15LWNvbXA+YClcclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBDb21wb25lbnQgZGVmaW5pdGlvbiBvYmplY3QgKGEgc2ltcGxpZmllZFxyXG4gICAqICAgIHtAbGluayBuZy4kY29tcGlsZSNkaXJlY3RpdmUtZGVmaW5pdGlvbi1vYmplY3QgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0fSksXHJcbiAgICogICAgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgKGFsbCBvcHRpb25hbCk6XHJcbiAgICpcclxuICAgKiAgICAtIGBjb250cm9sbGVyYCDigJMgYHsoc3RyaW5nfGZ1bmN0aW9uKCk9fWAg4oCTIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmVcclxuICAgKiAgICAgIGFzc29jaWF0ZWQgd2l0aCBuZXdseSBjcmVhdGVkIHNjb3BlIG9yIHRoZSBuYW1lIG9mIGEge0BsaW5rIG5nLiRjb21waWxlIy1jb250cm9sbGVyLVxyXG4gICAqICAgICAgcmVnaXN0ZXJlZCBjb250cm9sbGVyfSBpZiBwYXNzZWQgYXMgYSBzdHJpbmcuIEFuIGVtcHR5IGBub29wYCBmdW5jdGlvbiBieSBkZWZhdWx0LlxyXG4gICAqICAgIC0gYGNvbnRyb2xsZXJBc2Ag4oCTIGB7c3RyaW5nPX1gIOKAkyBpZGVudGlmaWVyIG5hbWUgZm9yIHRvIHJlZmVyZW5jZSB0aGUgY29udHJvbGxlciBpbiB0aGUgY29tcG9uZW50J3Mgc2NvcGUuXHJcbiAgICogICAgICBJZiBwcmVzZW50LCB0aGUgY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCB0byBzY29wZSB1bmRlciB0aGUgYGNvbnRyb2xsZXJBc2AgbmFtZS5cclxuICAgKiAgICAgIElmIG5vdCBwcmVzZW50LCB0aGlzIHdpbGwgZGVmYXVsdCB0byBiZSBgJGN0cmxgLlxyXG4gICAqICAgIC0gYHRlbXBsYXRlYCDigJMgYHtzdHJpbmc9fGZ1bmN0aW9uKCk9fWAg4oCTIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbiB0aGF0XHJcbiAgICogICAgICByZXR1cm5zIGFuIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcgd2hpY2ggc2hvdWxkIGJlIHVzZWQgYXMgdGhlIGNvbnRlbnRzIG9mIHRoaXMgY29tcG9uZW50LlxyXG4gICAqICAgICAgRW1wdHkgc3RyaW5nIGJ5IGRlZmF1bHQuXHJcbiAgICpcclxuICAgKiAgICAgIElmIGB0ZW1wbGF0ZWAgaXMgYSBmdW5jdGlvbiwgdGhlbiBpdCBpcyB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdGVkfSB3aXRoXHJcbiAgICogICAgICB0aGUgZm9sbG93aW5nIGxvY2FsczpcclxuICAgKlxyXG4gICAqICAgICAgLSBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50XHJcbiAgICogICAgICAtIGAkYXR0cnNgIC0gQ3VycmVudCBhdHRyaWJ1dGVzIG9iamVjdCBmb3IgdGhlIGVsZW1lbnRcclxuICAgKlxyXG4gICAqICAgIC0gYHRlbXBsYXRlVXJsYCDigJMgYHtzdHJpbmc9fGZ1bmN0aW9uKCk9fWAg4oCTIHBhdGggb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcGF0aCB0byBhbiBodG1sXHJcbiAgICogICAgICB0ZW1wbGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkICBhcyB0aGUgY29udGVudHMgb2YgdGhpcyBjb21wb25lbnQuXHJcbiAgICpcclxuICAgKiAgICAgIElmIGB0ZW1wbGF0ZVVybGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBpdCBpcyB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdGVkfSB3aXRoXHJcbiAgICogICAgICB0aGUgZm9sbG93aW5nIGxvY2FsczpcclxuICAgKlxyXG4gICAqICAgICAgLSBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50XHJcbiAgICogICAgICAtIGAkYXR0cnNgIC0gQ3VycmVudCBhdHRyaWJ1dGVzIG9iamVjdCBmb3IgdGhlIGVsZW1lbnRcclxuICAgKlxyXG4gICAqICAgIC0gYGJpbmRpbmdzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGRlZmluZXMgYmluZGluZ3MgYmV0d2VlbiBET00gYXR0cmlidXRlcyBhbmQgY29tcG9uZW50IHByb3BlcnRpZXMuXHJcbiAgICogICAgICBDb21wb25lbnQgcHJvcGVydGllcyBhcmUgYWx3YXlzIGJvdW5kIHRvIHRoZSBjb21wb25lbnQgY29udHJvbGxlciBhbmQgbm90IHRvIHRoZSBzY29wZS5cclxuICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGUjLWJpbmR0b2NvbnRyb2xsZXItIGBiaW5kVG9Db250cm9sbGVyYH0uXHJcbiAgICogICAgLSBgdHJhbnNjbHVkZWAg4oCTIGB7Ym9vbGVhbj19YCDigJMgd2hldGhlciB7QGxpbmsgJGNvbXBpbGUjdHJhbnNjbHVzaW9uIGNvbnRlbnQgdHJhbnNjbHVzaW9ufSBpcyBlbmFibGVkLlxyXG4gICAqICAgICAgRGlzYWJsZWQgYnkgZGVmYXVsdC5cclxuICAgKiAgICAtIGByZXF1aXJlYCAtIGB7T2JqZWN0PHN0cmluZywgc3RyaW5nPj19YCAtIHJlcXVpcmVzIHRoZSBjb250cm9sbGVycyBvZiBvdGhlciBkaXJlY3RpdmVzIGFuZCBiaW5kcyB0aGVtIHRvXHJcbiAgICogICAgICB0aGlzIGNvbXBvbmVudCdzIGNvbnRyb2xsZXIuIFRoZSBvYmplY3Qga2V5cyBzcGVjaWZ5IHRoZSBwcm9wZXJ0eSBuYW1lcyB1bmRlciB3aGljaCB0aGUgcmVxdWlyZWRcclxuICAgKiAgICAgIGNvbnRyb2xsZXJzIChvYmplY3QgdmFsdWVzKSB3aWxsIGJlIGJvdW5kLiBTZWUge0BsaW5rIG5nLiRjb21waWxlIy1yZXF1aXJlLSBgcmVxdWlyZWB9LlxyXG4gICAqICAgIC0gYCQuLi5gIOKAkyBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYXR0YWNoIHRvIHRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbiBhbmQgdGhlIGNvbnRyb2xsZXJcclxuICAgKiAgICAgIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiAoVGhpcyBpcyB1c2VkIGJ5IHRoZSBjb21wb25lbnQgcm91dGVyIHRvIGFubm90YXRlKVxyXG4gICAqXHJcbiAgICogQHJldHVybnMge25nLiRjb21waWxlUHJvdmlkZXJ9IHRoZSBjb21waWxlIHByb3ZpZGVyIGl0c2VsZiwgZm9yIGNoYWluaW5nIG9mIGZ1bmN0aW9uIGNhbGxzLlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJlZ2lzdGVyIGEgKipjb21wb25lbnQgZGVmaW5pdGlvbioqIHdpdGggdGhlIGNvbXBpbGVyLiBUaGlzIGlzIGEgc2hvcnRoYW5kIGZvciByZWdpc3RlcmluZyBhIHNwZWNpYWxcclxuICAgKiB0eXBlIG9mIGRpcmVjdGl2ZSwgd2hpY2ggcmVwcmVzZW50cyBhIHNlbGYtY29udGFpbmVkIFVJIGNvbXBvbmVudCBpbiB5b3VyIGFwcGxpY2F0aW9uLiBTdWNoIGNvbXBvbmVudHNcclxuICAgKiBhcmUgYWx3YXlzIGlzb2xhdGVkIChpLmUuIGBzY29wZToge31gKSBhbmQgYXJlIGFsd2F5cyByZXN0cmljdGVkIHRvIGVsZW1lbnRzIChpLmUuIGByZXN0cmljdDogJ0UnYCkuXHJcbiAgICpcclxuICAgKiBDb21wb25lbnQgZGVmaW5pdGlvbnMgYXJlIHZlcnkgc2ltcGxlIGFuZCBkbyBub3QgcmVxdWlyZSBhcyBtdWNoIGNvbmZpZ3VyYXRpb24gYXMgZGVmaW5pbmcgZ2VuZXJhbFxyXG4gICAqIGRpcmVjdGl2ZXMuIENvbXBvbmVudCBkZWZpbml0aW9ucyB1c3VhbGx5IGNvbnNpc3Qgb25seSBvZiBhIHRlbXBsYXRlIGFuZCBhIGNvbnRyb2xsZXIgYmFja2luZyBpdC5cclxuICAgKlxyXG4gICAqIEluIG9yZGVyIHRvIG1ha2UgdGhlIGRlZmluaXRpb24gZWFzaWVyLCBjb21wb25lbnRzIGVuZm9yY2UgYmVzdCBwcmFjdGljZXMgbGlrZSB1c2Ugb2YgYGNvbnRyb2xsZXJBc2AsXHJcbiAgICogYGJpbmRUb0NvbnRyb2xsZXJgLiBUaGV5IGFsd2F5cyBoYXZlICoqaXNvbGF0ZSBzY29wZSoqIGFuZCBhcmUgcmVzdHJpY3RlZCB0byBlbGVtZW50cy5cclxuICAgKlxyXG4gICAqIEhlcmUgYXJlIGEgZmV3IGV4YW1wbGVzIG9mIGhvdyB5b3Ugd291bGQgdXN1YWxseSBkZWZpbmUgY29tcG9uZW50czpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogICB2YXIgbXlNb2QgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xyXG4gICAqICAgbXlNb2QuY29tcG9uZW50KCdteUNvbXAnLCB7XHJcbiAgICogICAgIHRlbXBsYXRlOiAnPGRpdj5NeSBuYW1lIGlzIHt7JGN0cmwubmFtZX19PC9kaXY+JyxcclxuICAgKiAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XHJcbiAgICogICAgICAgdGhpcy5uYW1lID0gJ3NoYWhhcic7XHJcbiAgICogICAgIH1cclxuICAgKiAgIH0pO1xyXG4gICAqXHJcbiAgICogICBteU1vZC5jb21wb25lbnQoJ215Q29tcCcsIHtcclxuICAgKiAgICAgdGVtcGxhdGU6ICc8ZGl2Pk15IG5hbWUgaXMge3skY3RybC5uYW1lfX08L2Rpdj4nLFxyXG4gICAqICAgICBiaW5kaW5nczoge25hbWU6ICdAJ31cclxuICAgKiAgIH0pO1xyXG4gICAqXHJcbiAgICogICBteU1vZC5jb21wb25lbnQoJ215Q29tcCcsIHtcclxuICAgKiAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9teS1jb21wLmh0bWwnLFxyXG4gICAqICAgICBjb250cm9sbGVyOiAnTXlDdHJsJyxcclxuICAgKiAgICAgY29udHJvbGxlckFzOiAnY3RybCcsXHJcbiAgICogICAgIGJpbmRpbmdzOiB7bmFtZTogJ0AnfVxyXG4gICAqICAgfSk7XHJcbiAgICpcclxuICAgKiBgYGBcclxuICAgKiBGb3IgbW9yZSBleGFtcGxlcywgYW5kIGFuIGluLWRlcHRoIGd1aWRlLCBzZWUgdGhlIHtAbGluayBndWlkZS9jb21wb25lbnQgY29tcG9uZW50IGd1aWRlfS5cclxuICAgKlxyXG4gICAqIDxiciAvPlxyXG4gICAqIFNlZSBhbHNvIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgpfS5cclxuICAgKi9cclxuICB0aGlzLmNvbXBvbmVudCA9IGZ1bmN0aW9uIHJlZ2lzdGVyQ29tcG9uZW50KG5hbWUsIG9wdGlvbnMpIHtcclxuICAgIHZhciBjb250cm9sbGVyID0gb3B0aW9ucy5jb250cm9sbGVyIHx8IGZ1bmN0aW9uKCkge307XHJcblxyXG4gICAgZnVuY3Rpb24gZmFjdG9yeSgkaW5qZWN0b3IpIHtcclxuICAgICAgZnVuY3Rpb24gbWFrZUluamVjdGFibGUoZm4pIHtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihmbikgfHwgaXNBcnJheShmbikpIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaW5qZWN0b3IuaW52b2tlKGZuLCB0aGlzLCB7JGVsZW1lbnQ6IHRFbGVtZW50LCAkYXR0cnM6IHRBdHRyc30pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHRlbXBsYXRlID0gKCFvcHRpb25zLnRlbXBsYXRlICYmICFvcHRpb25zLnRlbXBsYXRlVXJsID8gJycgOiBvcHRpb25zLnRlbXBsYXRlKTtcclxuICAgICAgdmFyIGRkbyA9IHtcclxuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogaWRlbnRpZmllckZvckNvbnRyb2xsZXIob3B0aW9ucy5jb250cm9sbGVyKSB8fCBvcHRpb25zLmNvbnRyb2xsZXJBcyB8fCAnJGN0cmwnLFxyXG4gICAgICAgIHRlbXBsYXRlOiBtYWtlSW5qZWN0YWJsZSh0ZW1wbGF0ZSksXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6IG1ha2VJbmplY3RhYmxlKG9wdGlvbnMudGVtcGxhdGVVcmwpLFxyXG4gICAgICAgIHRyYW5zY2x1ZGU6IG9wdGlvbnMudHJhbnNjbHVkZSxcclxuICAgICAgICBzY29wZToge30sXHJcbiAgICAgICAgYmluZFRvQ29udHJvbGxlcjogb3B0aW9ucy5iaW5kaW5ncyB8fCB7fSxcclxuICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgIHJlcXVpcmU6IG9wdGlvbnMucmVxdWlyZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gQ29weSBhbm5vdGF0aW9ucyAoc3RhcnRpbmcgd2l0aCAkKSBvdmVyIHRvIHRoZSBERE9cclxuICAgICAgZm9yRWFjaChvcHRpb25zLCBmdW5jdGlvbih2YWwsIGtleSkge1xyXG4gICAgICAgIGlmIChrZXkuY2hhckF0KDApID09PSAnJCcpIGRkb1trZXldID0gdmFsO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBkZG87XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETyhwZXRlKSByZW1vdmUgdGhlIGZvbGxvd2luZyBgZm9yRWFjaGAgYmVmb3JlIHdlIHJlbGVhc2UgMS42LjBcclxuICAgIC8vIFRoZSBjb21wb25lbnQtcm91dGVyQDAuMi4wIGxvb2tzIGZvciB0aGUgYW5ub3RhdGlvbnMgb24gdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3JcclxuICAgIC8vIE5vdGhpbmcgaW4gQW5ndWxhciBsb29rcyBmb3IgYW5ub3RhdGlvbnMgb24gdGhlIGZhY3RvcnkgZnVuY3Rpb24gYnV0IHdlIGNhbid0IHJlbW92ZVxyXG4gICAgLy8gaXQgZnJvbSAxLjUueCB5ZXQuXHJcblxyXG4gICAgLy8gQ29weSBhbnkgYW5ub3RhdGlvbiBwcm9wZXJ0aWVzIChzdGFydGluZyB3aXRoICQpIG92ZXIgdG8gdGhlIGZhY3RvcnkgYW5kIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb25zXHJcbiAgICAvLyBUaGVzZSBjb3VsZCBiZSB1c2VkIGJ5IGxpYnJhcmllcyBzdWNoIGFzIHRoZSBuZXcgY29tcG9uZW50IHJvdXRlclxyXG4gICAgZm9yRWFjaChvcHRpb25zLCBmdW5jdGlvbih2YWwsIGtleSkge1xyXG4gICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnKSB7XHJcbiAgICAgICAgZmFjdG9yeVtrZXldID0gdmFsO1xyXG4gICAgICAgIC8vIERvbid0IHRyeSB0byBjb3B5IG92ZXIgYW5ub3RhdGlvbnMgdG8gbmFtZWQgY29udHJvbGxlclxyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXIpKSBjb250cm9sbGVyW2tleV0gPSB2YWw7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGZhY3RvcnkuJGluamVjdCA9IFsnJGluamVjdG9yJ107XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZGlyZWN0aXZlKG5hbWUsIGZhY3RvcnkpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdFxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXHJcbiAgICogdXJscyBkdXJpbmcgYVtocmVmXSBzYW5pdGl6YXRpb24uXHJcbiAgICpcclxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50aW5nIFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxyXG4gICAqXHJcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBhW2hyZWZdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cclxuICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXHJcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXHJcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXHJcbiAgICovXHJcbiAgdGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xyXG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XHJcbiAgICAgICQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAkJHNhbml0aXplVXJpUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0XHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcclxuICAgKiB1cmxzIGR1cmluZyBpbWdbc3JjXSBzYW5pdGl6YXRpb24uXHJcbiAgICpcclxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50IFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxyXG4gICAqXHJcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBpbWdbc3JjXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXHJcbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGBcclxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcclxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXHJcbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxyXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cclxuICAgKi9cclxuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xyXG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XHJcbiAgICAgICQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAgJGNvbXBpbGVQcm92aWRlciNkZWJ1Z0luZm9FbmFibGVkXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBlbmFibGVkIHVwZGF0ZSB0aGUgZGVidWdJbmZvRW5hYmxlZCBzdGF0ZSBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIGp1c3QgcmV0dXJuIHRoZVxyXG4gICAqIGN1cnJlbnQgZGVidWdJbmZvRW5hYmxlZCBzdGF0ZVxyXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXHJcbiAgICpcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ2FsbCB0aGlzIG1ldGhvZCB0byBlbmFibGUvZGlzYWJsZSB2YXJpb3VzIGRlYnVnIHJ1bnRpbWUgaW5mb3JtYXRpb24gaW4gdGhlIGNvbXBpbGVyIHN1Y2ggYXMgYWRkaW5nXHJcbiAgICogYmluZGluZyBpbmZvcm1hdGlvbiBhbmQgYSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgc2NvcGUgb24gdG8gRE9NIGVsZW1lbnRzLlxyXG4gICAqIElmIGVuYWJsZWQsIHRoZSBjb21waWxlciB3aWxsIGFkZCB0aGUgZm9sbG93aW5nIHRvIERPTSBlbGVtZW50cyB0aGF0IGhhdmUgYmVlbiBib3VuZCB0byB0aGUgc2NvcGVcclxuICAgKiAqIGBuZy1iaW5kaW5nYCBDU1MgY2xhc3NcclxuICAgKiAqIGAkYmluZGluZ2AgZGF0YSBwcm9wZXJ0eSBjb250YWluaW5nIGFuIGFycmF5IG9mIHRoZSBiaW5kaW5nIGV4cHJlc3Npb25zXHJcbiAgICpcclxuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGluIHByb2R1Y3Rpb24gZm9yIGEgc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgYm9vc3QuIFNlZVxyXG4gICAqIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERpc2FibGluZyBEZWJ1ZyBEYXRhfSBmb3IgbW9yZS5cclxuICAgKlxyXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXHJcbiAgICovXHJcbiAgdmFyIGRlYnVnSW5mb0VuYWJsZWQgPSB0cnVlO1xyXG4gIHRoaXMuZGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uKGVuYWJsZWQpIHtcclxuICAgIGlmIChpc0RlZmluZWQoZW5hYmxlZCkpIHtcclxuICAgICAgZGVidWdJbmZvRW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRlYnVnSW5mb0VuYWJsZWQ7XHJcbiAgfTtcclxuXHJcblxyXG4gIHZhciBUVEwgPSAxMDtcclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNvbkNoYW5nZXNUdGxcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIFNldHMgdGhlIG51bWJlciBvZiB0aW1lcyBgJG9uQ2hhbmdlc2AgaG9va3MgY2FuIHRyaWdnZXIgbmV3IGNoYW5nZXMgYmVmb3JlIGdpdmluZyB1cCBhbmRcclxuICAgKiBhc3N1bWluZyB0aGF0IHRoZSBtb2RlbCBpcyB1bnN0YWJsZS5cclxuICAgKlxyXG4gICAqIFRoZSBjdXJyZW50IGRlZmF1bHQgaXMgMTAgaXRlcmF0aW9ucy5cclxuICAgKlxyXG4gICAqIEluIGNvbXBsZXggYXBwbGljYXRpb25zIGl0J3MgcG9zc2libGUgdGhhdCBkZXBlbmRlbmNpZXMgYmV0d2VlbiBgJG9uQ2hhbmdlc2AgaG9va3MgYW5kIGJpbmRpbmdzIHdpbGwgcmVzdWx0XHJcbiAgICogaW4gc2V2ZXJhbCBpdGVyYXRpb25zIG9mIGNhbGxzIHRvIHRoZXNlIGhvb2tzLiBIb3dldmVyIGlmIGFuIGFwcGxpY2F0aW9uIG5lZWRzIG1vcmUgdGhhbiB0aGUgZGVmYXVsdCAxMFxyXG4gICAqIGl0ZXJhdGlvbnMgdG8gc3RhYmlsaXplIHRoZW4geW91IHNob3VsZCBpbnZlc3RpZ2F0ZSB3aGF0IGlzIGNhdXNpbmcgdGhlIG1vZGVsIHRvIGNvbnRpbnVvdXNseSBjaGFuZ2UgZHVyaW5nXHJcbiAgICogdGhlIGAkb25DaGFuZ2VzYCBob29rIGV4ZWN1dGlvbi5cclxuICAgKlxyXG4gICAqIEluY3JlYXNpbmcgdGhlIFRUTCBjb3VsZCBoYXZlIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucywgc28geW91IHNob3VsZCBub3QgY2hhbmdlIGl0IHdpdGhvdXQgcHJvcGVyIGp1c3RpZmljYXRpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG51bWJlciBvZiBgJG9uQ2hhbmdlc2AgaG9vayBpdGVyYXRpb25zLlxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ8b2JqZWN0fSB0aGUgY3VycmVudCBsaW1pdCAob3IgYHRoaXNgIGlmIGNhbGxlZCBhcyBhIHNldHRlciBmb3IgY2hhaW5pbmcpXHJcbiAgICovXHJcbiAgdGhpcy5vbkNoYW5nZXNUdGwgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgVFRMID0gdmFsdWU7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFRUTDtcclxuICB9O1xyXG5cclxuICB0aGlzLiRnZXQgPSBbXHJcbiAgICAgICAgICAgICckaW5qZWN0b3InLCAnJGludGVycG9sYXRlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJHBhcnNlJyxcclxuICAgICAgICAgICAgJyRjb250cm9sbGVyJywgJyRyb290U2NvcGUnLCAnJHNjZScsICckYW5pbWF0ZScsICckJHNhbml0aXplVXJpJyxcclxuICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgICAkaW50ZXJwb2xhdGUsICAgJGV4Y2VwdGlvbkhhbmRsZXIsICAgJHRlbXBsYXRlUmVxdWVzdCwgICAkcGFyc2UsXHJcbiAgICAgICAgICAgICAkY29udHJvbGxlciwgICAkcm9vdFNjb3BlLCAgICRzY2UsICAgJGFuaW1hdGUsICAgJCRzYW5pdGl6ZVVyaSkge1xyXG5cclxuICAgIHZhciBTSU1QTEVfQVRUUl9OQU1FID0gL15cXHcvO1xyXG4gICAgdmFyIHNwZWNpYWxBdHRySG9sZGVyID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuXHJcblxyXG4gICAgdmFyIG9uQ2hhbmdlc1R0bCA9IFRUTDtcclxuICAgIC8vIFRoZSBvbkNoYW5nZXMgaG9va3Mgc2hvdWxkIGFsbCBiZSBydW4gdG9nZXRoZXIgaW4gYSBzaW5nbGUgZGlnZXN0XHJcbiAgICAvLyBXaGVuIGNoYW5nZXMgb2NjdXIsIHRoZSBjYWxsIHRvIHRyaWdnZXIgdGhlaXIgaG9va3Mgd2lsbCBiZSBhZGRlZCB0byB0aGlzIHF1ZXVlXHJcbiAgICB2YXIgb25DaGFuZ2VzUXVldWU7XHJcblxyXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgaW4gYSAkJHBvc3REaWdlc3QgdG8gdHJpZ2dlciBhbGwgdGhlIG9uQ2hhbmdlcyBob29rcyBpbiBhIHNpbmdsZSBkaWdlc3RcclxuICAgIGZ1bmN0aW9uIGZsdXNoT25DaGFuZ2VzUXVldWUoKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKCEoLS1vbkNoYW5nZXNUdGwpKSB7XHJcbiAgICAgICAgICAvLyBXZSBoYXZlIGhpdCB0aGUgVFRMIGxpbWl0IHNvIHJlc2V0IGV2ZXJ5dGhpbmdcclxuICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2luZmNobmcnLCAnezB9ICRvbkNoYW5nZXMoKSBpdGVyYXRpb25zIHJlYWNoZWQuIEFib3J0aW5nIVxcbicsIFRUTCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFdlIG11c3QgcnVuIHRoaXMgaG9vayBpbiBhbiBhcHBseSBzaW5jZSB0aGUgJCRwb3N0RGlnZXN0IHJ1bnMgb3V0c2lkZSBhcHBseVxyXG4gICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gb25DaGFuZ2VzUXVldWUubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xyXG4gICAgICAgICAgICBvbkNoYW5nZXNRdWV1ZVtpXSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHF1ZXVlIHRvIHRyaWdnZXIgYSBuZXcgc2NoZWR1bGUgbmV4dCB0aW1lIHRoZXJlIGlzIGEgY2hhbmdlXHJcbiAgICAgICAgICBvbkNoYW5nZXNRdWV1ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBvbkNoYW5nZXNUdGwrKztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXNUb0NvcHkpIHtcclxuICAgICAgaWYgKGF0dHJpYnV0ZXNUb0NvcHkpIHtcclxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXNUb0NvcHkpO1xyXG4gICAgICAgIHZhciBpLCBsLCBrZXk7XHJcblxyXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcclxuICAgICAgICAgIHRoaXNba2V5XSA9IGF0dHJpYnV0ZXNUb0NvcHlba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy4kYXR0ciA9IHt9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgQXR0cmlidXRlcy5wcm90b3R5cGUgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRub3JtYWxpemVcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIENvbnZlcnRzIGFuIGF0dHJpYnV0ZSBuYW1lIChlLmcuIGRhc2gvY29sb24vdW5kZXJzY29yZS1kZWxpbWl0ZWQgc3RyaW5nLCBvcHRpb25hbGx5IHByZWZpeGVkIHdpdGggYHgtYCBvclxyXG4gICAgICAgKiBgZGF0YS1gKSB0byBpdHMgbm9ybWFsaXplZCwgY2FtZWxDYXNlIGZvcm0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEFsc28gdGhlcmUgaXMgc3BlY2lhbCBjYXNlIGZvciBNb3ogcHJlZml4IHN0YXJ0aW5nIHdpdGggdXBwZXIgY2FzZSBsZXR0ZXIuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uIGNoZWNrIG91dCB0aGUgZ3VpZGUgb24ge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSNtYXRjaGluZy1kaXJlY3RpdmVzIE1hdGNoaW5nIERpcmVjdGl2ZXN9XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXHJcbiAgICAgICAqL1xyXG4gICAgICAkbm9ybWFsaXplOiBkaXJlY3RpdmVOb3JtYWxpemUsXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGFkZENsYXNzXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBBZGRzIHRoZSBDU1MgY2xhc3MgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBjbGFzc1ZhbCBwYXJhbWV0ZXIgdG8gdGhlIGVsZW1lbnQuIElmIGFuaW1hdGlvbnNcclxuICAgICAgICogYXJlIGVuYWJsZWQgdGhlbiBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgZm9yIHRoZSBjbGFzcyBhZGRpdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzVmFsIFRoZSBjbGFzc05hbWUgdmFsdWUgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgICAqL1xyXG4gICAgICAkYWRkQ2xhc3M6IGZ1bmN0aW9uKGNsYXNzVmFsKSB7XHJcbiAgICAgICAgaWYgKGNsYXNzVmFsICYmIGNsYXNzVmFsLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBjbGFzc1ZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHJlbW92ZUNsYXNzXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZW1vdmVzIHRoZSBDU1MgY2xhc3MgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBjbGFzc1ZhbCBwYXJhbWV0ZXIgZnJvbSB0aGUgZWxlbWVudC4gSWZcclxuICAgICAgICogYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCB0aGVuIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBmb3IgdGhlIGNsYXNzIHJlbW92YWwuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1ZhbCBUaGUgY2xhc3NOYW1lIHZhbHVlIHRoYXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnRcclxuICAgICAgICovXHJcbiAgICAgICRyZW1vdmVDbGFzczogZnVuY3Rpb24oY2xhc3NWYWwpIHtcclxuICAgICAgICBpZiAoY2xhc3NWYWwgJiYgY2xhc3NWYWwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIGNsYXNzVmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkdXBkYXRlQ2xhc3NcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIEFkZHMgYW5kIHJlbW92ZXMgdGhlIGFwcHJvcHJpYXRlIENTUyBjbGFzcyB2YWx1ZXMgdG8gdGhlIGVsZW1lbnQgYmFzZWQgb24gdGhlIGRpZmZlcmVuY2VcclxuICAgICAgICogYmV0d2VlbiB0aGUgbmV3IGFuZCBvbGQgQ1NTIGNsYXNzIHZhbHVlcyAoc3BlY2lmaWVkIGFzIG5ld0NsYXNzZXMgYW5kIG9sZENsYXNzZXMpLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3Q2xhc3NlcyBUaGUgY3VycmVudCBDU1MgY2xhc3NOYW1lIHZhbHVlXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvbGRDbGFzc2VzIFRoZSBmb3JtZXIgQ1NTIGNsYXNzTmFtZSB2YWx1ZVxyXG4gICAgICAgKi9cclxuICAgICAgJHVwZGF0ZUNsYXNzOiBmdW5jdGlvbihuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKSB7XHJcbiAgICAgICAgdmFyIHRvQWRkID0gdG9rZW5EaWZmZXJlbmNlKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpO1xyXG4gICAgICAgIGlmICh0b0FkZCAmJiB0b0FkZC5sZW5ndGgpIHtcclxuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCB0b0FkZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdG9SZW1vdmUgPSB0b2tlbkRpZmZlcmVuY2Uob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7XHJcbiAgICAgICAgaWYgKHRvUmVtb3ZlICYmIHRvUmVtb3ZlLmxlbmd0aCkge1xyXG4gICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIHRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0IGEgbm9ybWFsaXplZCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgaW4gYSB3YXkgc3VjaCB0aGF0IGFsbCBkaXJlY3RpdmVzXHJcbiAgICAgICAqIGNhbiBzaGFyZSB0aGUgYXR0cmlidXRlLiBUaGlzIGZ1bmN0aW9uIHByb3Blcmx5IGhhbmRsZXMgYm9vbGVhbiBhdHRyaWJ1dGVzLlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuIElmIGBudWxsYCBhdHRyaWJ1dGUgd2lsbCBiZSBkZWxldGVkLlxyXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB3cml0ZUF0dHIgSWYgZmFsc2UsIGRvZXMgbm90IHdyaXRlIHRoZSB2YWx1ZSB0byBET00gZWxlbWVudCBhdHRyaWJ1dGUuXHJcbiAgICAgICAqICAgICBEZWZhdWx0cyB0byB0cnVlLlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF0dHJOYW1lIE9wdGlvbmFsIG5vbmUgbm9ybWFsaXplZCBuYW1lLiBEZWZhdWx0cyB0byBrZXkuXHJcbiAgICAgICAqL1xyXG4gICAgICAkc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlLCB3cml0ZUF0dHIsIGF0dHJOYW1lKSB7XHJcbiAgICAgICAgLy8gVE9ETzogZGVjaWRlIHdoZXRoZXIgb3Igbm90IHRvIHRocm93IGFuIGVycm9yIGlmIFwiY2xhc3NcIlxyXG4gICAgICAgIC8vaXMgc2V0IHRocm91Z2ggdGhpcyBmdW5jdGlvbiBzaW5jZSBpdCBtYXkgY2F1c2UgJHVwZGF0ZUNsYXNzIHRvXHJcbiAgICAgICAgLy9iZWNvbWUgdW5zdGFibGUuXHJcblxyXG4gICAgICAgIHZhciBub2RlID0gdGhpcy4kJGVsZW1lbnRbMF0sXHJcbiAgICAgICAgICAgIGJvb2xlYW5LZXkgPSBnZXRCb29sZWFuQXR0ck5hbWUobm9kZSwga2V5KSxcclxuICAgICAgICAgICAgYWxpYXNlZEtleSA9IGdldEFsaWFzZWRBdHRyTmFtZShrZXkpLFxyXG4gICAgICAgICAgICBvYnNlcnZlciA9IGtleSxcclxuICAgICAgICAgICAgbm9kZU5hbWU7XHJcblxyXG4gICAgICAgIGlmIChib29sZWFuS2V5KSB7XHJcbiAgICAgICAgICB0aGlzLiQkZWxlbWVudC5wcm9wKGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgYXR0ck5hbWUgPSBib29sZWFuS2V5O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYWxpYXNlZEtleSkge1xyXG4gICAgICAgICAgdGhpc1thbGlhc2VkS2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgb2JzZXJ2ZXIgPSBhbGlhc2VkS2V5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XHJcblxyXG4gICAgICAgIC8vIHRyYW5zbGF0ZSBub3JtYWxpemVkIGtleSB0byBhY3R1YWwga2V5XHJcbiAgICAgICAgaWYgKGF0dHJOYW1lKSB7XHJcbiAgICAgICAgICB0aGlzLiRhdHRyW2tleV0gPSBhdHRyTmFtZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXR0ck5hbWUgPSB0aGlzLiRhdHRyW2tleV07XHJcbiAgICAgICAgICBpZiAoIWF0dHJOYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lID0gc25ha2VfY2FzZShrZXksICctJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBub2RlTmFtZSA9IG5vZGVOYW1lXyh0aGlzLiQkZWxlbWVudCk7XHJcblxyXG4gICAgICAgIGlmICgobm9kZU5hbWUgPT09ICdhJyAmJiAoa2V5ID09PSAnaHJlZicgfHwga2V5ID09PSAneGxpbmtIcmVmJykpIHx8XHJcbiAgICAgICAgICAgIChub2RlTmFtZSA9PT0gJ2ltZycgJiYga2V5ID09PSAnc3JjJykpIHtcclxuICAgICAgICAgIC8vIHNhbml0aXplIGFbaHJlZl0gYW5kIGltZ1tzcmNdIHZhbHVlc1xyXG4gICAgICAgICAgdGhpc1trZXldID0gdmFsdWUgPSAkJHNhbml0aXplVXJpKHZhbHVlLCBrZXkgPT09ICdzcmMnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG5vZGVOYW1lID09PSAnaW1nJyAmJiBrZXkgPT09ICdzcmNzZXQnKSB7XHJcbiAgICAgICAgICAvLyBzYW5pdGl6ZSBpbWdbc3Jjc2V0XSB2YWx1ZXNcclxuICAgICAgICAgIHZhciByZXN1bHQgPSBcIlwiO1xyXG5cclxuICAgICAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHRoZXJlIGFyZSBzcGFjZXMgYmVjYXVzZSBpdCdzIG5vdCB0aGUgc2FtZSBwYXR0ZXJuXHJcbiAgICAgICAgICB2YXIgdHJpbW1lZFNyY3NldCA9IHRyaW0odmFsdWUpO1xyXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgKCAgIDk5OXggICAsfCAgIDk5OXcgICAsfCAgICx8LCAgIClcclxuICAgICAgICAgIHZhciBzcmNQYXR0ZXJuID0gLyhcXHMrXFxkK3hcXHMqLHxcXHMrXFxkK3dcXHMqLHxcXHMrLHwsXFxzKykvO1xyXG4gICAgICAgICAgdmFyIHBhdHRlcm4gPSAvXFxzLy50ZXN0KHRyaW1tZWRTcmNzZXQpID8gc3JjUGF0dGVybiA6IC8oLCkvO1xyXG5cclxuICAgICAgICAgIC8vIHNwbGl0IHNyY3NldCBpbnRvIHR1cGxlIG9mIHVyaSBhbmQgZGVzY3JpcHRvciBleGNlcHQgZm9yIHRoZSBsYXN0IGl0ZW1cclxuICAgICAgICAgIHZhciByYXdVcmlzID0gdHJpbW1lZFNyY3NldC5zcGxpdChwYXR0ZXJuKTtcclxuXHJcbiAgICAgICAgICAvLyBmb3IgZWFjaCB0dXBsZXNcclxuICAgICAgICAgIHZhciBuYnJVcmlzV2l0aDJwYXJ0cyA9IE1hdGguZmxvb3IocmF3VXJpcy5sZW5ndGggLyAyKTtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmJyVXJpc1dpdGgycGFydHM7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgaW5uZXJJZHggPSBpICogMjtcclxuICAgICAgICAgICAgLy8gc2FuaXRpemUgdGhlIHVyaVxyXG4gICAgICAgICAgICByZXN1bHQgKz0gJCRzYW5pdGl6ZVVyaSh0cmltKHJhd1VyaXNbaW5uZXJJZHhdKSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIC8vIGFkZCB0aGUgZGVzY3JpcHRvclxyXG4gICAgICAgICAgICByZXN1bHQgKz0gKFwiIFwiICsgdHJpbShyYXdVcmlzW2lubmVySWR4ICsgMV0pKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBzcGxpdCB0aGUgbGFzdCBpdGVtIGludG8gdXJpIGFuZCBkZXNjcmlwdG9yXHJcbiAgICAgICAgICB2YXIgbGFzdFR1cGxlID0gdHJpbShyYXdVcmlzW2kgKiAyXSkuc3BsaXQoL1xccy8pO1xyXG5cclxuICAgICAgICAgIC8vIHNhbml0aXplIHRoZSBsYXN0IHVyaVxyXG4gICAgICAgICAgcmVzdWx0ICs9ICQkc2FuaXRpemVVcmkodHJpbShsYXN0VHVwbGVbMF0pLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAvLyBhbmQgYWRkIHRoZSBsYXN0IGRlc2NyaXB0b3IgaWYgYW55XHJcbiAgICAgICAgICBpZiAobGFzdFR1cGxlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gKFwiIFwiICsgdHJpbShsYXN0VHVwbGVbMV0pKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlID0gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHdyaXRlQXR0ciAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy4kJGVsZW1lbnQucmVtb3ZlQXR0cihhdHRyTmFtZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoU0lNUExFX0FUVFJfTkFNRS50ZXN0KGF0dHJOYW1lKSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LmF0dHIoYXR0ck5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzZXRTcGVjaWFsQXR0cih0aGlzLiQkZWxlbWVudFswXSwgYXR0ck5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmlyZSBvYnNlcnZlcnNcclxuICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSB0aGlzLiQkb2JzZXJ2ZXJzO1xyXG4gICAgICAgICQkb2JzZXJ2ZXJzICYmIGZvckVhY2goJCRvYnNlcnZlcnNbb2JzZXJ2ZXJdLCBmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm4odmFsdWUpO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkb2JzZXJ2ZVxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogT2JzZXJ2ZXMgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZS5cclxuICAgICAgICpcclxuICAgICAgICogVGhlIG9ic2VydmVyIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCBvbmNlIGR1cmluZyB0aGUgbmV4dCBgJGRpZ2VzdGAgZm9sbG93aW5nXHJcbiAgICAgICAqIGNvbXBpbGF0aW9uLiBUaGUgb2JzZXJ2ZXIgaXMgdGhlbiBpbnZva2VkIHdoZW5ldmVyIHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWVcclxuICAgICAgICogY2hhbmdlcy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBOb3JtYWxpemVkIGtleS4gKGllIG5nQXR0cmlidXRlKSAuXHJcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW50ZXJwb2xhdGVkVmFsdWUpfSBmbiBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyXHJcbiAgICAgICAgICAgICAgICB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgY2hhbmdlcy5cclxuICAgICAgICogICAgICAgIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24jaG93LXRleHQtYW5kLWF0dHJpYnV0ZS1iaW5kaW5ncy13b3JrIEludGVycG9sYXRpb25cclxuICAgICAgICogICAgICAgIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxyXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIG9ic2VydmVyLlxyXG4gICAgICAgKi9cclxuICAgICAgJG9ic2VydmU6IGZ1bmN0aW9uKGtleSwgZm4pIHtcclxuICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLFxyXG4gICAgICAgICAgICAkJG9ic2VydmVycyA9IChhdHRycy4kJG9ic2VydmVycyB8fCAoYXR0cnMuJCRvYnNlcnZlcnMgPSBjcmVhdGVNYXAoKSkpLFxyXG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSAoJCRvYnNlcnZlcnNba2V5XSB8fCAoJCRvYnNlcnZlcnNba2V5XSA9IFtdKSk7XHJcblxyXG4gICAgICAgIGxpc3RlbmVycy5wdXNoKGZuKTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoIWxpc3RlbmVycy4kJGludGVyICYmIGF0dHJzLmhhc093blByb3BlcnR5KGtleSkgJiYgIWlzVW5kZWZpbmVkKGF0dHJzW2tleV0pKSB7XHJcbiAgICAgICAgICAgIC8vIG5vIG9uZSByZWdpc3RlcmVkIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLCBzbyBsZXRzIGNhbGwgaXQgbWFudWFsbHlcclxuICAgICAgICAgICAgZm4oYXR0cnNba2V5XSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGFycmF5UmVtb3ZlKGxpc3RlbmVycywgZm4pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0U3BlY2lhbEF0dHIoZWxlbWVudCwgYXR0ck5hbWUsIHZhbHVlKSB7XHJcbiAgICAgIC8vIEF0dHJpYnV0ZXMgbmFtZXMgdGhhdCBkbyBub3Qgc3RhcnQgd2l0aCBsZXR0ZXJzIChzdWNoIGFzIGAoY2xpY2spYCkgY2Fubm90IGJlIHNldCB1c2luZyBgc2V0QXR0cmlidXRlYFxyXG4gICAgICAvLyBzbyB3ZSBoYXZlIHRvIGp1bXAgdGhyb3VnaCBzb21lIGhvb3BzIHRvIGdldCBzdWNoIGFuIGF0dHJpYnV0ZVxyXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMTMzMThcclxuICAgICAgc3BlY2lhbEF0dHJIb2xkZXIuaW5uZXJIVE1MID0gXCI8c3BhbiBcIiArIGF0dHJOYW1lICsgXCI+XCI7XHJcbiAgICAgIHZhciBhdHRyaWJ1dGVzID0gc3BlY2lhbEF0dHJIb2xkZXIuZmlyc3RDaGlsZC5hdHRyaWJ1dGVzO1xyXG4gICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1swXTtcclxuICAgICAgLy8gV2UgaGF2ZSB0byByZW1vdmUgdGhlIGF0dHJpYnV0ZSBmcm9tIGl0cyBjb250YWluZXIgZWxlbWVudCBiZWZvcmUgd2UgY2FuIGFkZCBpdCB0byB0aGUgZGVzdGluYXRpb24gZWxlbWVudFxyXG4gICAgICBhdHRyaWJ1dGVzLnJlbW92ZU5hbWVkSXRlbShhdHRyaWJ1dGUubmFtZSk7XHJcbiAgICAgIGF0dHJpYnV0ZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuc2V0TmFtZWRJdGVtKGF0dHJpYnV0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2FmZUFkZENsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gaWdub3JlLCBzaW5jZSBpdCBtZWFucyB0aGF0IHdlIGFyZSB0cnlpbmcgdG8gc2V0IGNsYXNzIG9uXHJcbiAgICAgICAgLy8gU1ZHIGVsZW1lbnQsIHdoZXJlIGNsYXNzIG5hbWUgaXMgcmVhZC1vbmx5LlxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHZhciBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLFxyXG4gICAgICAgIGVuZFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxcclxuICAgICAgICBkZW5vcm1hbGl6ZVRlbXBsYXRlID0gKHN0YXJ0U3ltYm9sID09ICd7eycgJiYgZW5kU3ltYm9sICA9PSAnfX0nKVxyXG4gICAgICAgICAgICA/IGlkZW50aXR5XHJcbiAgICAgICAgICAgIDogZnVuY3Rpb24gZGVub3JtYWxpemVUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtcXHsvZywgc3RhcnRTeW1ib2wpLnJlcGxhY2UoL319L2csIGVuZFN5bWJvbCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBOR19BVFRSX0JJTkRJTkcgPSAvXm5nQXR0cltBLVpdLztcclxuICAgIHZhciBNVUxUSV9FTEVNRU5UX0RJUl9SRSA9IC9eKC4rKVN0YXJ0JC87XHJcblxyXG4gICAgY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkQmluZGluZ0luZm8oJGVsZW1lbnQsIGJpbmRpbmcpIHtcclxuICAgICAgdmFyIGJpbmRpbmdzID0gJGVsZW1lbnQuZGF0YSgnJGJpbmRpbmcnKSB8fCBbXTtcclxuXHJcbiAgICAgIGlmIChpc0FycmF5KGJpbmRpbmcpKSB7XHJcbiAgICAgICAgYmluZGluZ3MgPSBiaW5kaW5ncy5jb25jYXQoYmluZGluZyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYmluZGluZ3MucHVzaChiaW5kaW5nKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJGVsZW1lbnQuZGF0YSgnJGJpbmRpbmcnLCBiaW5kaW5ncyk7XHJcbiAgICB9IDogbm9vcDtcclxuXHJcbiAgICBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkQmluZGluZ0NsYXNzKCRlbGVtZW50KSB7XHJcbiAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgJ25nLWJpbmRpbmcnKTtcclxuICAgIH0gOiBub29wO1xyXG5cclxuICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8gPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRTY29wZUluZm8oJGVsZW1lbnQsIHNjb3BlLCBpc29sYXRlZCwgbm9UZW1wbGF0ZSkge1xyXG4gICAgICB2YXIgZGF0YU5hbWUgPSBpc29sYXRlZCA/IChub1RlbXBsYXRlID8gJyRpc29sYXRlU2NvcGVOb1RlbXBsYXRlJyA6ICckaXNvbGF0ZVNjb3BlJykgOiAnJHNjb3BlJztcclxuICAgICAgJGVsZW1lbnQuZGF0YShkYXRhTmFtZSwgc2NvcGUpO1xyXG4gICAgfSA6IG5vb3A7XHJcblxyXG4gICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MgPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRTY29wZUNsYXNzKCRlbGVtZW50LCBpc29sYXRlZCkge1xyXG4gICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIGlzb2xhdGVkID8gJ25nLWlzb2xhdGUtc2NvcGUnIDogJ25nLXNjb3BlJyk7XHJcbiAgICB9IDogbm9vcDtcclxuXHJcbiAgICBjb21waWxlLiQkY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uKGRpcmVjdGl2ZU5hbWUsIGNvbW1lbnQpIHtcclxuICAgICAgdmFyIGNvbnRlbnQgPSAnJztcclxuICAgICAgaWYgKGRlYnVnSW5mb0VuYWJsZWQpIHtcclxuICAgICAgICBjb250ZW50ID0gJyAnICsgKGRpcmVjdGl2ZU5hbWUgfHwgJycpICsgJzogJyArIChjb21tZW50IHx8ICcnKSArICcgJztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gd2luZG93LmRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoY29udGVudCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBjb21waWxlO1xyXG5cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21waWxlKCRjb21waWxlTm9kZXMsIHRyYW5zY2x1ZGVGbiwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xyXG4gICAgICBpZiAoISgkY29tcGlsZU5vZGVzIGluc3RhbmNlb2YganFMaXRlKSkge1xyXG4gICAgICAgIC8vIGpxdWVyeSBhbHdheXMgcmV3cmFwcywgd2hlcmVhcyB3ZSBuZWVkIHRvIHByZXNlcnZlIHRoZSBvcmlnaW5hbCBzZWxlY3RvciBzbyB0aGF0IHdlIGNhblxyXG4gICAgICAgIC8vIG1vZGlmeSBpdC5cclxuICAgICAgICAkY29tcGlsZU5vZGVzID0ganFMaXRlKCRjb21waWxlTm9kZXMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgTk9UX0VNUFRZID0gL1xcUysvO1xyXG5cclxuICAgICAgLy8gV2UgY2FuIG5vdCBjb21waWxlIHRvcCBsZXZlbCB0ZXh0IGVsZW1lbnRzIHNpbmNlIHRleHQgbm9kZXMgY2FuIGJlIG1lcmdlZCBhbmQgd2Ugd2lsbFxyXG4gICAgICAvLyBub3QgYmUgYWJsZSB0byBhdHRhY2ggc2NvcGUgZGF0YSB0byB0aGVtLCBzbyB3ZSB3aWxsIHdyYXAgdGhlbSBpbiA8c3Bhbj5cclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRjb21waWxlTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgZG9tTm9kZSA9ICRjb21waWxlTm9kZXNbaV07XHJcblxyXG4gICAgICAgIGlmIChkb21Ob2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCAmJiBkb21Ob2RlLm5vZGVWYWx1ZS5tYXRjaChOT1RfRU1QVFkpIC8qIG5vbi1lbXB0eSAqLykge1xyXG4gICAgICAgICAganFMaXRlV3JhcE5vZGUoZG9tTm9kZSwgJGNvbXBpbGVOb2Rlc1tpXSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGNvbXBvc2l0ZUxpbmtGbiA9XHJcbiAgICAgICAgICAgICAgY29tcGlsZU5vZGVzKCRjb21waWxlTm9kZXMsIHRyYW5zY2x1ZGVGbiwgJGNvbXBpbGVOb2RlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XHJcbiAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKCRjb21waWxlTm9kZXMpO1xyXG4gICAgICB2YXIgbmFtZXNwYWNlID0gbnVsbDtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHB1YmxpY0xpbmtGbihzY29wZSwgY2xvbmVDb25uZWN0Rm4sIG9wdGlvbnMpIHtcclxuICAgICAgICBhc3NlcnRBcmcoc2NvcGUsICdzY29wZScpO1xyXG5cclxuICAgICAgICBpZiAocHJldmlvdXNDb21waWxlQ29udGV4dCAmJiBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5lZWRzTmV3U2NvcGUpIHtcclxuICAgICAgICAgIC8vIEEgcGFyZW50IGRpcmVjdGl2ZSBkaWQgYSByZXBsYWNlIGFuZCBhIGRpcmVjdGl2ZSBvbiB0aGlzIGVsZW1lbnQgYXNrZWRcclxuICAgICAgICAgIC8vIGZvciB0cmFuc2NsdXNpb24sIHdoaWNoIGNhdXNlZCB1cyB0byBsb3NlIGEgbGF5ZXIgb2YgZWxlbWVudCBvbiB3aGljaFxyXG4gICAgICAgICAgLy8gd2UgY291bGQgaG9sZCB0aGUgbmV3IHRyYW5zY2x1c2lvbiBzY29wZSwgc28gd2Ugd2lsbCBjcmVhdGUgaXQgbWFudWFsbHlcclxuICAgICAgICAgIC8vIGhlcmUuXHJcbiAgICAgICAgICBzY29wZSA9IHNjb3BlLiRwYXJlbnQuJG5ldygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICAgICAgdmFyIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuID0gb3B0aW9ucy5wYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbixcclxuICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVycyA9IG9wdGlvbnMudHJhbnNjbHVkZUNvbnRyb2xsZXJzLFxyXG4gICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IG9wdGlvbnMuZnV0dXJlUGFyZW50RWxlbWVudDtcclxuXHJcbiAgICAgICAgLy8gV2hlbiBgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm5gIGlzIHBhc3NlZCwgaXQgaXMgYVxyXG4gICAgICAgIC8vIGBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZWAgZnVuY3Rpb24gKGl0IHdhcyBwcmV2aW91c2x5IHBhc3NlZFxyXG4gICAgICAgIC8vIGFzIGB0cmFuc2NsdWRlYCB0byBkaXJlY3RpdmUubGluaykgc28gd2UgbXVzdCB1bndyYXAgaXQgdG8gZ2V0XHJcbiAgICAgICAgLy8gaXRzIGBib3VuZFRyYW5zY2x1ZGVGbmBcclxuICAgICAgICBpZiAocGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gJiYgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4uJCRib3VuZFRyYW5zY2x1ZGUpIHtcclxuICAgICAgICAgIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuID0gcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4uJCRib3VuZFRyYW5zY2x1ZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgbmFtZXNwYWNlID0gZGV0ZWN0TmFtZXNwYWNlRm9yQ2hpbGRFbGVtZW50cyhmdXR1cmVQYXJlbnRFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyICRsaW5rTm9kZTtcclxuICAgICAgICBpZiAobmFtZXNwYWNlICE9PSAnaHRtbCcpIHtcclxuICAgICAgICAgIC8vIFdoZW4gdXNpbmcgYSBkaXJlY3RpdmUgd2l0aCByZXBsYWNlOnRydWUgYW5kIHRlbXBsYXRlVXJsIHRoZSAkY29tcGlsZU5vZGVzXHJcbiAgICAgICAgICAvLyAob3IgYSBjaGlsZCBlbGVtZW50IGluc2lkZSBvZiB0aGVtKVxyXG4gICAgICAgICAgLy8gbWlnaHQgY2hhbmdlLCBzbyB3ZSBuZWVkIHRvIHJlY3JlYXRlIHRoZSBuYW1lc3BhY2UgYWRhcHRlZCBjb21waWxlTm9kZXNcclxuICAgICAgICAgIC8vIGZvciBjYWxsIHRvIHRoZSBsaW5rIGZ1bmN0aW9uLlxyXG4gICAgICAgICAgLy8gTm90ZTogVGhpcyB3aWxsIGFscmVhZHkgY2xvbmUgdGhlIG5vZGVzLi4uXHJcbiAgICAgICAgICAkbGlua05vZGUgPSBqcUxpdGUoXHJcbiAgICAgICAgICAgIHdyYXBUZW1wbGF0ZShuYW1lc3BhY2UsIGpxTGl0ZSgnPGRpdj4nKS5hcHBlbmQoJGNvbXBpbGVOb2RlcykuaHRtbCgpKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNsb25lQ29ubmVjdEZuKSB7XHJcbiAgICAgICAgICAvLyBpbXBvcnRhbnQhITogd2UgbXVzdCBjYWxsIG91ciBqcUxpdGUuY2xvbmUoKSBzaW5jZSB0aGUgalF1ZXJ5IG9uZSBpcyB0cnlpbmcgdG8gYmUgc21hcnRcclxuICAgICAgICAgIC8vIGFuZCBzb21ldGltZXMgY2hhbmdlcyB0aGUgc3RydWN0dXJlIG9mIHRoZSBET00uXHJcbiAgICAgICAgICAkbGlua05vZGUgPSBKUUxpdGVQcm90b3R5cGUuY2xvbmUuY2FsbCgkY29tcGlsZU5vZGVzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJGxpbmtOb2RlID0gJGNvbXBpbGVOb2RlcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0cmFuc2NsdWRlQ29udHJvbGxlcnMpIHtcclxuICAgICAgICAgIGZvciAodmFyIGNvbnRyb2xsZXJOYW1lIGluIHRyYW5zY2x1ZGVDb250cm9sbGVycykge1xyXG4gICAgICAgICAgICAkbGlua05vZGUuZGF0YSgnJCcgKyBjb250cm9sbGVyTmFtZSArICdDb250cm9sbGVyJywgdHJhbnNjbHVkZUNvbnRyb2xsZXJzW2NvbnRyb2xsZXJOYW1lXS5pbnN0YW5jZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKCRsaW5rTm9kZSwgc2NvcGUpO1xyXG5cclxuICAgICAgICBpZiAoY2xvbmVDb25uZWN0Rm4pIGNsb25lQ29ubmVjdEZuKCRsaW5rTm9kZSwgc2NvcGUpO1xyXG4gICAgICAgIGlmIChjb21wb3NpdGVMaW5rRm4pIGNvbXBvc2l0ZUxpbmtGbihzY29wZSwgJGxpbmtOb2RlLCAkbGlua05vZGUsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICByZXR1cm4gJGxpbmtOb2RlO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMocGFyZW50RWxlbWVudCkge1xyXG4gICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgZGV0ZWN0IE1hdGhNTCBhcyB3ZWxsLi4uXHJcbiAgICAgIHZhciBub2RlID0gcGFyZW50RWxlbWVudCAmJiBwYXJlbnRFbGVtZW50WzBdO1xyXG4gICAgICBpZiAoIW5vZGUpIHtcclxuICAgICAgICByZXR1cm4gJ2h0bWwnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBub2RlTmFtZV8obm9kZSkgIT09ICdmb3JlaWdub2JqZWN0JyAmJiB0b1N0cmluZy5jYWxsKG5vZGUpLm1hdGNoKC9TVkcvKSA/ICdzdmcnIDogJ2h0bWwnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21waWxlIGZ1bmN0aW9uIG1hdGNoZXMgZWFjaCBub2RlIGluIG5vZGVMaXN0IGFnYWluc3QgdGhlIGRpcmVjdGl2ZXMuIE9uY2UgYWxsIGRpcmVjdGl2ZXNcclxuICAgICAqIGZvciBhIHBhcnRpY3VsYXIgbm9kZSBhcmUgY29sbGVjdGVkIHRoZWlyIGNvbXBpbGUgZnVuY3Rpb25zIGFyZSBleGVjdXRlZC4gVGhlIGNvbXBpbGVcclxuICAgICAqIGZ1bmN0aW9ucyByZXR1cm4gdmFsdWVzIC0gdGhlIGxpbmtpbmcgZnVuY3Rpb25zIC0gYXJlIGNvbWJpbmVkIGludG8gYSBjb21wb3NpdGUgbGlua2luZ1xyXG4gICAgICogZnVuY3Rpb24sIHdoaWNoIGlzIHRoZSBhIGxpbmtpbmcgZnVuY3Rpb24gZm9yIHRoZSBub2RlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Tm9kZUxpc3R9IG5vZGVMaXN0IGFuIGFycmF5IG9mIG5vZGVzIG9yIE5vZGVMaXN0IHRvIGNvbXBpbGVcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlRm4gQSBsaW5raW5nIGZ1bmN0aW9uLCB3aGVyZSB0aGVcclxuICAgICAqICAgICAgICBzY29wZSBhcmd1bWVudCBpcyBhdXRvLWdlbmVyYXRlZCB0byB0aGUgbmV3IGNoaWxkIG9mIHRoZSB0cmFuc2NsdWRlZCBwYXJlbnQgc2NvcGUuXHJcbiAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSAkcm9vdEVsZW1lbnQgSWYgdGhlIG5vZGVMaXN0IGlzIHRoZSByb290IG9mIHRoZSBjb21waWxhdGlvbiB0cmVlIHRoZW5cclxuICAgICAqICAgICAgICB0aGUgcm9vdEVsZW1lbnQgbXVzdCBiZSBzZXQgdGhlIGpxTGl0ZSBjb2xsZWN0aW9uIG9mIHRoZSBjb21waWxlIHJvb3QuIFRoaXMgaXNcclxuICAgICAqICAgICAgICBuZWVkZWQgc28gdGhhdCB0aGUganFMaXRlIGNvbGxlY3Rpb24gaXRlbXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggd2lkZ2V0cy5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbWF4UHJpb3JpdHkgTWF4IGRpcmVjdGl2ZSBwcmlvcml0eS5cclxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBjb21wb3NpdGUgbGlua2luZyBmdW5jdGlvbiBvZiBhbGwgb2YgdGhlIG1hdGNoZWQgZGlyZWN0aXZlcyBvciBudWxsLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBjb21waWxlTm9kZXMobm9kZUxpc3QsIHRyYW5zY2x1ZGVGbiwgJHJvb3RFbGVtZW50LCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xyXG4gICAgICB2YXIgbGlua0ZucyA9IFtdLFxyXG4gICAgICAgICAgYXR0cnMsIGRpcmVjdGl2ZXMsIG5vZGVMaW5rRm4sIGNoaWxkTm9kZXMsIGNoaWxkTGlua0ZuLCBsaW5rRm5Gb3VuZCwgbm9kZUxpbmtGbkZvdW5kO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGF0dHJzID0gbmV3IEF0dHJpYnV0ZXMoKTtcclxuXHJcbiAgICAgICAgLy8gd2UgbXVzdCBhbHdheXMgcmVmZXIgdG8gbm9kZUxpc3RbaV0gc2luY2UgdGhlIG5vZGVzIGNhbiBiZSByZXBsYWNlZCB1bmRlcm5lYXRoIHVzLlxyXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBjb2xsZWN0RGlyZWN0aXZlcyhub2RlTGlzdFtpXSwgW10sIGF0dHJzLCBpID09PSAwID8gbWF4UHJpb3JpdHkgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVEaXJlY3RpdmUpO1xyXG5cclxuICAgICAgICBub2RlTGlua0ZuID0gKGRpcmVjdGl2ZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICA/IGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBub2RlTGlzdFtpXSwgYXR0cnMsIHRyYW5zY2x1ZGVGbiwgJHJvb3RFbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsIFtdLCBbXSwgcHJldmlvdXNDb21waWxlQ29udGV4dClcclxuICAgICAgICAgICAgOiBudWxsO1xyXG5cclxuICAgICAgICBpZiAobm9kZUxpbmtGbiAmJiBub2RlTGlua0ZuLnNjb3BlKSB7XHJcbiAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcyhhdHRycy4kJGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2hpbGRMaW5rRm4gPSAobm9kZUxpbmtGbiAmJiBub2RlTGlua0ZuLnRlcm1pbmFsIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAhKGNoaWxkTm9kZXMgPSBub2RlTGlzdFtpXS5jaGlsZE5vZGVzKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgIWNoaWxkTm9kZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICA/IG51bGxcclxuICAgICAgICAgICAgOiBjb21waWxlTm9kZXMoY2hpbGROb2RlcyxcclxuICAgICAgICAgICAgICAgICBub2RlTGlua0ZuID8gKFxyXG4gICAgICAgICAgICAgICAgICAobm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCB8fCAhbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICYmIG5vZGVMaW5rRm4udHJhbnNjbHVkZSkgOiB0cmFuc2NsdWRlRm4pO1xyXG5cclxuICAgICAgICBpZiAobm9kZUxpbmtGbiB8fCBjaGlsZExpbmtGbikge1xyXG4gICAgICAgICAgbGlua0Zucy5wdXNoKGksIG5vZGVMaW5rRm4sIGNoaWxkTGlua0ZuKTtcclxuICAgICAgICAgIGxpbmtGbkZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgIG5vZGVMaW5rRm5Gb3VuZCA9IG5vZGVMaW5rRm5Gb3VuZCB8fCBub2RlTGlua0ZuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy91c2UgdGhlIHByZXZpb3VzIGNvbnRleHQgb25seSBmb3IgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHZpcnR1YWwgZ3JvdXBcclxuICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0ID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gcmV0dXJuIGEgbGlua2luZyBmdW5jdGlvbiBpZiB3ZSBoYXZlIGZvdW5kIGFueXRoaW5nLCBudWxsIG90aGVyd2lzZVxyXG4gICAgICByZXR1cm4gbGlua0ZuRm91bmQgPyBjb21wb3NpdGVMaW5rRm4gOiBudWxsO1xyXG5cclxuICAgICAgZnVuY3Rpb24gY29tcG9zaXRlTGlua0ZuKHNjb3BlLCBub2RlTGlzdCwgJHJvb3RFbGVtZW50LCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbikge1xyXG4gICAgICAgIHZhciBub2RlTGlua0ZuLCBjaGlsZExpbmtGbiwgbm9kZSwgY2hpbGRTY29wZSwgaSwgaWksIGlkeCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbjtcclxuICAgICAgICB2YXIgc3RhYmxlTm9kZUxpc3Q7XHJcblxyXG5cclxuICAgICAgICBpZiAobm9kZUxpbmtGbkZvdW5kKSB7XHJcbiAgICAgICAgICAvLyBjb3B5IG5vZGVMaXN0IHNvIHRoYXQgaWYgYSBub2RlTGlua0ZuIHJlbW92ZXMgb3IgYWRkcyBhbiBlbGVtZW50IGF0IHRoaXMgRE9NIGxldmVsIG91clxyXG4gICAgICAgICAgLy8gb2Zmc2V0cyBkb24ndCBnZXQgc2NyZXdlZCB1cFxyXG4gICAgICAgICAgdmFyIG5vZGVMaXN0TGVuZ3RoID0gbm9kZUxpc3QubGVuZ3RoO1xyXG4gICAgICAgICAgc3RhYmxlTm9kZUxpc3QgPSBuZXcgQXJyYXkobm9kZUxpc3RMZW5ndGgpO1xyXG5cclxuICAgICAgICAgIC8vIGNyZWF0ZSBhIHNwYXJzZSBhcnJheSBieSBvbmx5IGNvcHlpbmcgdGhlIGVsZW1lbnRzIHdoaWNoIGhhdmUgYSBsaW5rRm5cclxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaW5rRm5zLmxlbmd0aDsgaSs9Mykge1xyXG4gICAgICAgICAgICBpZHggPSBsaW5rRm5zW2ldO1xyXG4gICAgICAgICAgICBzdGFibGVOb2RlTGlzdFtpZHhdID0gbm9kZUxpc3RbaWR4XTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc3RhYmxlTm9kZUxpc3QgPSBub2RlTGlzdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gbGlua0Zucy5sZW5ndGg7IGkgPCBpaTspIHtcclxuICAgICAgICAgIG5vZGUgPSBzdGFibGVOb2RlTGlzdFtsaW5rRm5zW2krK11dO1xyXG4gICAgICAgICAgbm9kZUxpbmtGbiA9IGxpbmtGbnNbaSsrXTtcclxuICAgICAgICAgIGNoaWxkTGlua0ZuID0gbGlua0Zuc1tpKytdO1xyXG5cclxuICAgICAgICAgIGlmIChub2RlTGlua0ZuKSB7XHJcbiAgICAgICAgICAgIGlmIChub2RlTGlua0ZuLnNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IHNjb3BlLiRuZXcoKTtcclxuICAgICAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKGpxTGl0ZShub2RlKSwgY2hpbGRTY29wZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihcclxuICAgICAgICAgICAgICAgICAgc2NvcGUsIG5vZGVMaW5rRm4udHJhbnNjbHVkZSwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmICghbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQgJiYgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pIHtcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gcGFyZW50Qm91bmRUcmFuc2NsdWRlRm47XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiAmJiB0cmFuc2NsdWRlRm4pIHtcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbik7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBjaGlsZFNjb3BlLCBub2RlLCAkcm9vdEVsZW1lbnQsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xyXG5cclxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRMaW5rRm4pIHtcclxuICAgICAgICAgICAgY2hpbGRMaW5rRm4oc2NvcGUsIG5vZGUuY2hpbGROb2RlcywgdW5kZWZpbmVkLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbiwgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbikge1xyXG4gICAgICBmdW5jdGlvbiBib3VuZFRyYW5zY2x1ZGVGbih0cmFuc2NsdWRlZFNjb3BlLCBjbG9uZUZuLCBjb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgY29udGFpbmluZ1Njb3BlKSB7XHJcblxyXG4gICAgICAgIGlmICghdHJhbnNjbHVkZWRTY29wZSkge1xyXG4gICAgICAgICAgdHJhbnNjbHVkZWRTY29wZSA9IHNjb3BlLiRuZXcoZmFsc2UsIGNvbnRhaW5pbmdTY29wZSk7XHJcbiAgICAgICAgICB0cmFuc2NsdWRlZFNjb3BlLiQkdHJhbnNjbHVkZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRyYW5zY2x1ZGVGbih0cmFuc2NsdWRlZFNjb3BlLCBjbG9uZUZuLCB7XHJcbiAgICAgICAgICBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjogcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbixcclxuICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVyczogY29udHJvbGxlcnMsXHJcbiAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50OiBmdXR1cmVQYXJlbnRFbGVtZW50XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFdlIG5lZWQgIHRvIGF0dGFjaCB0aGUgdHJhbnNjbHVzaW9uIHNsb3RzIG9udG8gdGhlIGBib3VuZFRyYW5zY2x1ZGVGbmBcclxuICAgICAgLy8gc28gdGhhdCB0aGV5IGFyZSBhdmFpbGFibGUgaW5zaWRlIHRoZSBgY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGVgIGZ1bmN0aW9uXHJcbiAgICAgIHZhciBib3VuZFNsb3RzID0gYm91bmRUcmFuc2NsdWRlRm4uJCRzbG90cyA9IGNyZWF0ZU1hcCgpO1xyXG4gICAgICBmb3IgKHZhciBzbG90TmFtZSBpbiB0cmFuc2NsdWRlRm4uJCRzbG90cykge1xyXG4gICAgICAgIGlmICh0cmFuc2NsdWRlRm4uJCRzbG90c1tzbG90TmFtZV0pIHtcclxuICAgICAgICAgIGJvdW5kU2xvdHNbc2xvdE5hbWVdID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbi4kJHNsb3RzW3Nsb3ROYW1lXSwgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJvdW5kU2xvdHNbc2xvdE5hbWVdID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvb2tzIGZvciBkaXJlY3RpdmVzIG9uIHRoZSBnaXZlbiBub2RlIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGRpcmVjdGl2ZSBjb2xsZWN0aW9uIHdoaWNoIGlzXHJcbiAgICAgKiBzb3J0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5vZGUgTm9kZSB0byBzZWFyY2guXHJcbiAgICAgKiBAcGFyYW0gZGlyZWN0aXZlcyBBbiBhcnJheSB0byB3aGljaCB0aGUgZGlyZWN0aXZlcyBhcmUgYWRkZWQgdG8uIFRoaXMgYXJyYXkgaXMgc29ydGVkIGJlZm9yZVxyXG4gICAgICogICAgICAgIHRoZSBmdW5jdGlvbiByZXR1cm5zLlxyXG4gICAgICogQHBhcmFtIGF0dHJzIFRoZSBzaGFyZWQgYXR0cnMgb2JqZWN0IHdoaWNoIGlzIHVzZWQgdG8gcG9wdWxhdGUgdGhlIG5vcm1hbGl6ZWQgYXR0cmlidXRlcy5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbWF4UHJpb3JpdHkgTWF4IGRpcmVjdGl2ZSBwcmlvcml0eS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY29sbGVjdERpcmVjdGl2ZXMobm9kZSwgZGlyZWN0aXZlcywgYXR0cnMsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpIHtcclxuICAgICAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZSxcclxuICAgICAgICAgIGF0dHJzTWFwID0gYXR0cnMuJGF0dHIsXHJcbiAgICAgICAgICBtYXRjaCxcclxuICAgICAgICAgIGNsYXNzTmFtZTtcclxuXHJcbiAgICAgIHN3aXRjaCAobm9kZVR5cGUpIHtcclxuICAgICAgICBjYXNlIE5PREVfVFlQRV9FTEVNRU5UOiAvKiBFbGVtZW50ICovXHJcbiAgICAgICAgICAvLyB1c2UgdGhlIG5vZGUgbmFtZTogPGRpcmVjdGl2ZT5cclxuICAgICAgICAgIGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLFxyXG4gICAgICAgICAgICAgIGRpcmVjdGl2ZU5vcm1hbGl6ZShub2RlTmFtZV8obm9kZSkpLCAnRScsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpO1xyXG5cclxuICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgYXR0cmlidXRlc1xyXG4gICAgICAgICAgZm9yICh2YXIgYXR0ciwgbmFtZSwgbk5hbWUsIG5nQXR0ck5hbWUsIHZhbHVlLCBpc05nQXR0ciwgbkF0dHJzID0gbm9kZS5hdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICAgICAgICAgaiA9IDAsIGpqID0gbkF0dHJzICYmIG5BdHRycy5sZW5ndGg7IGogPCBqajsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciBhdHRyU3RhcnROYW1lID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBhdHRyRW5kTmFtZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgYXR0ciA9IG5BdHRyc1tqXTtcclxuICAgICAgICAgICAgbmFtZSA9IGF0dHIubmFtZTtcclxuICAgICAgICAgICAgdmFsdWUgPSB0cmltKGF0dHIudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgLy8gc3VwcG9ydCBuZ0F0dHIgYXR0cmlidXRlIGJpbmRpbmdcclxuICAgICAgICAgICAgbmdBdHRyTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lKTtcclxuICAgICAgICAgICAgaWYgKGlzTmdBdHRyID0gTkdfQVRUUl9CSU5ESU5HLnRlc3QobmdBdHRyTmFtZSkpIHtcclxuICAgICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKFBSRUZJWF9SRUdFWFAsICcnKVxyXG4gICAgICAgICAgICAgICAgLnN1YnN0cig4KS5yZXBsYWNlKC9fKC4pL2csIGZ1bmN0aW9uKG1hdGNoLCBsZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBtdWx0aUVsZW1lbnRNYXRjaCA9IG5nQXR0ck5hbWUubWF0Y2goTVVMVElfRUxFTUVOVF9ESVJfUkUpO1xyXG4gICAgICAgICAgICBpZiAobXVsdGlFbGVtZW50TWF0Y2ggJiYgZGlyZWN0aXZlSXNNdWx0aUVsZW1lbnQobXVsdGlFbGVtZW50TWF0Y2hbMV0pKSB7XHJcbiAgICAgICAgICAgICAgYXR0clN0YXJ0TmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgYXR0ckVuZE5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDUpICsgJ2VuZCc7XHJcbiAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDAsIG5hbWUubGVuZ3RoIC0gNik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIGF0dHJzTWFwW25OYW1lXSA9IG5hbWU7XHJcbiAgICAgICAgICAgIGlmIChpc05nQXR0ciB8fCAhYXR0cnMuaGFzT3duUHJvcGVydHkobk5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChnZXRCb29sZWFuQXR0ck5hbWUobm9kZSwgbk5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRydWU7IC8vIHByZXNlbmNlIG1lYW5zIHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5OYW1lLCBpc05nQXR0cik7XHJcbiAgICAgICAgICAgIGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ0EnLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBhdHRyU3RhcnROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJFbmROYW1lKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyB1c2UgY2xhc3MgYXMgZGlyZWN0aXZlXHJcbiAgICAgICAgICBjbGFzc05hbWUgPSBub2RlLmNsYXNzTmFtZTtcclxuICAgICAgICAgIGlmIChpc09iamVjdChjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgLy8gTWF5YmUgU1ZHQW5pbWF0ZWRTdHJpbmdcclxuICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUuYW5pbVZhbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChpc1N0cmluZyhjbGFzc05hbWUpICYmIGNsYXNzTmFtZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgd2hpbGUgKG1hdGNoID0gQ0xBU1NfRElSRUNUSVZFX1JFR0VYUC5leGVjKGNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgICBuTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShtYXRjaFsyXSk7XHJcbiAgICAgICAgICAgICAgaWYgKGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ0MnLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSkge1xyXG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdHJpbShtYXRjaFszXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZS5zdWJzdHIobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIE5PREVfVFlQRV9URVhUOiAvKiBUZXh0IE5vZGUgKi9cclxuICAgICAgICAgIGlmIChtc2llID09PSAxMSkge1xyXG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciAjMTE3ODFcclxuICAgICAgICAgICAgd2hpbGUgKG5vZGUucGFyZW50Tm9kZSAmJiBub2RlLm5leHRTaWJsaW5nICYmIG5vZGUubmV4dFNpYmxpbmcubm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUKSB7XHJcbiAgICAgICAgICAgICAgbm9kZS5ub2RlVmFsdWUgPSBub2RlLm5vZGVWYWx1ZSArIG5vZGUubmV4dFNpYmxpbmcubm9kZVZhbHVlO1xyXG4gICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlLm5leHRTaWJsaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5vZGUubm9kZVZhbHVlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgTk9ERV9UWVBFX0NPTU1FTlQ6IC8qIENvbW1lbnQgKi9cclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG1hdGNoID0gQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMobm9kZS5ub2RlVmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgICBuTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShtYXRjaFsxXSk7XHJcbiAgICAgICAgICAgICAgaWYgKGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ00nLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSkge1xyXG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdHJpbShtYXRjaFsyXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIHR1cm5zIG91dCB0aGF0IHVuZGVyIHNvbWUgY2lyY3Vtc3RhbmNlcyBJRTkgdGhyb3dzIGVycm9ycyB3aGVuIG9uZSBhdHRlbXB0cyB0byByZWFkXHJcbiAgICAgICAgICAgIC8vIGNvbW1lbnQncyBub2RlIHZhbHVlLlxyXG4gICAgICAgICAgICAvLyBKdXN0IGlnbm9yZSBpdCBhbmQgY29udGludWUuIChDYW4ndCBzZWVtIHRvIHJlcHJvZHVjZSBpbiB0ZXN0IGNhc2UuKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRpcmVjdGl2ZXMuc29ydChieVByaW9yaXR5KTtcclxuICAgICAgcmV0dXJuIGRpcmVjdGl2ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhIG5vZGUgd2l0aCBhbiBkaXJlY3RpdmUtc3RhcnQgaXQgY29sbGVjdHMgYWxsIG9mIHRoZSBzaWJsaW5ncyB1bnRpbCBpdCBmaW5kc1xyXG4gICAgICogZGlyZWN0aXZlLWVuZC5cclxuICAgICAqIEBwYXJhbSBub2RlXHJcbiAgICAgKiBAcGFyYW0gYXR0clN0YXJ0XHJcbiAgICAgKiBAcGFyYW0gYXR0ckVuZFxyXG4gICAgICogQHJldHVybnMgeyp9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdyb3VwU2Nhbihub2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcclxuICAgICAgdmFyIG5vZGVzID0gW107XHJcbiAgICAgIHZhciBkZXB0aCA9IDA7XHJcbiAgICAgIGlmIChhdHRyU3RhcnQgJiYgbm9kZS5oYXNBdHRyaWJ1dGUgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkge1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgIGlmICghbm9kZSkge1xyXG4gICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndXRlcmRpcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcIlVudGVybWluYXRlZCBhdHRyaWJ1dGUsIGZvdW5kICd7MH0nIGJ1dCBubyBtYXRjaGluZyAnezF9JyBmb3VuZC5cIixcclxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJTdGFydCwgYXR0ckVuZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xyXG4gICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkgZGVwdGgrKztcclxuICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKGF0dHJFbmQpKSBkZXB0aC0tO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbm9kZXMucHVzaChub2RlKTtcclxuICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xyXG4gICAgICAgIH0gd2hpbGUgKGRlcHRoID4gMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGpxTGl0ZShub2Rlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXcmFwcGVyIGZvciBsaW5raW5nIGZ1bmN0aW9uIHdoaWNoIGNvbnZlcnRzIG5vcm1hbCBsaW5raW5nIGZ1bmN0aW9uIGludG8gYSBncm91cGVkXHJcbiAgICAgKiBsaW5raW5nIGZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIGxpbmtGblxyXG4gICAgICogQHBhcmFtIGF0dHJTdGFydFxyXG4gICAgICogQHBhcmFtIGF0dHJFbmRcclxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIobGlua0ZuLCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGdyb3VwZWRFbGVtZW50c0xpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgZWxlbWVudCA9IGdyb3VwU2NhbihlbGVtZW50WzBdLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xyXG4gICAgICAgIHJldHVybiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgZnVuY3Rpb24gZ2VuZXJhdG9yIHRoYXQgaXMgdXNlZCB0byBzdXBwb3J0IGJvdGggZWFnZXIgYW5kIGxhenkgY29tcGlsYXRpb25cclxuICAgICAqIGxpbmtpbmcgZnVuY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0gZWFnZXJcclxuICAgICAqIEBwYXJhbSAkY29tcGlsZU5vZGVzXHJcbiAgICAgKiBAcGFyYW0gdHJhbnNjbHVkZUZuXHJcbiAgICAgKiBAcGFyYW0gbWF4UHJpb3JpdHlcclxuICAgICAqIEBwYXJhbSBpZ25vcmVEaXJlY3RpdmVcclxuICAgICAqIEBwYXJhbSBwcmV2aW91c0NvbXBpbGVDb250ZXh0XHJcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGNvbXBpbGF0aW9uR2VuZXJhdG9yKGVhZ2VyLCAkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcclxuICAgICAgdmFyIGNvbXBpbGVkO1xyXG5cclxuICAgICAgaWYgKGVhZ2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGF6eUNvbXBpbGF0aW9uKCkge1xyXG4gICAgICAgIGlmICghY29tcGlsZWQpIHtcclxuICAgICAgICAgIGNvbXBpbGVkID0gY29tcGlsZSgkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpO1xyXG5cclxuICAgICAgICAgIC8vIE51bGwgb3V0IGFsbCBvZiB0aGVzZSByZWZlcmVuY2VzIGluIG9yZGVyIHRvIG1ha2UgdGhlbSBlbGlnaWJsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uXHJcbiAgICAgICAgICAvLyBzaW5jZSB0aGlzIGlzIGEgcG90ZW50aWFsbHkgbG9uZyBsaXZlZCBjbG9zdXJlXHJcbiAgICAgICAgICAkY29tcGlsZU5vZGVzID0gdHJhbnNjbHVkZUZuID0gcHJldmlvdXNDb21waWxlQ29udGV4dCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21waWxlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT25jZSB0aGUgZGlyZWN0aXZlcyBoYXZlIGJlZW4gY29sbGVjdGVkLCB0aGVpciBjb21waWxlIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQuIFRoaXMgbWV0aG9kXHJcbiAgICAgKiBpcyByZXNwb25zaWJsZSBmb3IgaW5saW5pbmcgZGlyZWN0aXZlIHRlbXBsYXRlcyBhcyB3ZWxsIGFzIHRlcm1pbmF0aW5nIHRoZSBhcHBsaWNhdGlvblxyXG4gICAgICogb2YgdGhlIGRpcmVjdGl2ZXMgaWYgdGhlIHRlcm1pbmFsIGRpcmVjdGl2ZSBoYXMgYmVlbiByZWFjaGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRpcmVjdGl2ZXMgQXJyYXkgb2YgY29sbGVjdGVkIGRpcmVjdGl2ZXMgdG8gZXhlY3V0ZSB0aGVpciBjb21waWxlIGZ1bmN0aW9uLlxyXG4gICAgICogICAgICAgIHRoaXMgbmVlZHMgdG8gYmUgcHJlLXNvcnRlZCBieSBwcmlvcml0eSBvcmRlci5cclxuICAgICAqIEBwYXJhbSB7Tm9kZX0gY29tcGlsZU5vZGUgVGhlIHJhdyBET00gbm9kZSB0byBhcHBseSB0aGUgY29tcGlsZSBmdW5jdGlvbnMgdG9cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0ZW1wbGF0ZUF0dHJzIFRoZSBzaGFyZWQgYXR0cmlidXRlIGZ1bmN0aW9uXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZUZuIEEgbGlua2luZyBmdW5jdGlvbiwgd2hlcmUgdGhlXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUgYXJndW1lbnQgaXMgYXV0by1nZW5lcmF0ZWQgdG8gdGhlIG5ld1xyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkIG9mIHRoZSB0cmFuc2NsdWRlZCBwYXJlbnQgc2NvcGUuXHJcbiAgICAgKiBAcGFyYW0ge0pRTGl0ZX0ganFDb2xsZWN0aW9uIElmIHdlIGFyZSB3b3JraW5nIG9uIHRoZSByb290IG9mIHRoZSBjb21waWxlIHRyZWUgdGhlbiB0aGlzXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50IGhhcyB0aGUgcm9vdCBqcUxpdGUgYXJyYXkgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbiBpdC5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlIEFuIG9wdGlvbmFsIGRpcmVjdGl2ZSB0aGF0IHdpbGwgYmUgaWdub3JlZCB3aGVuXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21waWxpbmcgdGhlIHRyYW5zY2x1c2lvbi5cclxuICAgICAqIEBwYXJhbSB7QXJyYXkuPEZ1bmN0aW9uPn0gcHJlTGlua0Zuc1xyXG4gICAgICogQHBhcmFtIHtBcnJheS48RnVuY3Rpb24+fSBwb3N0TGlua0Zuc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgQ29udGV4dCB1c2VkIGZvciBwcmV2aW91cyBjb21waWxhdGlvbiBvZiB0aGUgY3VycmVudFxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVxyXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBsaW5rRm5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzLCB0cmFuc2NsdWRlRm4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganFDb2xsZWN0aW9uLCBvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUsIHByZUxpbmtGbnMsIHBvc3RMaW5rRm5zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcclxuICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgfHwge307XHJcblxyXG4gICAgICB2YXIgdGVybWluYWxQcmlvcml0eSA9IC1OdW1iZXIuTUFYX1ZBTFVFLFxyXG4gICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5ld1Njb3BlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXMgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0LmNvbnRyb2xsZXJEaXJlY3RpdmVzLFxyXG4gICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQudGVtcGxhdGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5ub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IGZhbHNlLFxyXG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSBmYWxzZSxcclxuICAgICAgICAgIGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSxcclxuICAgICAgICAgICRjb21waWxlTm9kZSA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50ID0ganFMaXRlKGNvbXBpbGVOb2RlKSxcclxuICAgICAgICAgIGRpcmVjdGl2ZSxcclxuICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsXHJcbiAgICAgICAgICAkdGVtcGxhdGUsXHJcbiAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlID0gb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4gPSB0cmFuc2NsdWRlRm4sXHJcbiAgICAgICAgICBsaW5rRm4sXHJcbiAgICAgICAgICBkaWRTY2FuRm9yTXVsdGlwbGVUcmFuc2NsdXNpb24gPSBmYWxzZSxcclxuICAgICAgICAgIG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IgPSBmYWxzZSxcclxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlO1xyXG5cclxuICAgICAgLy8gZXhlY3V0ZXMgYWxsIGRpcmVjdGl2ZXMgb24gdGhlIGN1cnJlbnQgZWxlbWVudFxyXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xyXG4gICAgICAgIHZhciBhdHRyU3RhcnQgPSBkaXJlY3RpdmUuJCRzdGFydDtcclxuICAgICAgICB2YXIgYXR0ckVuZCA9IGRpcmVjdGl2ZS4kJGVuZDtcclxuXHJcbiAgICAgICAgLy8gY29sbGVjdCBtdWx0aWJsb2NrIHNlY3Rpb25zXHJcbiAgICAgICAgaWYgKGF0dHJTdGFydCkge1xyXG4gICAgICAgICAgJGNvbXBpbGVOb2RlID0gZ3JvdXBTY2FuKGNvbXBpbGVOb2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkdGVtcGxhdGUgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIGlmICh0ZXJtaW5hbFByaW9yaXR5ID4gZGlyZWN0aXZlLnByaW9yaXR5KSB7XHJcbiAgICAgICAgICBicmVhazsgLy8gcHJldmVudCBmdXJ0aGVyIHByb2Nlc3Npbmcgb2YgZGlyZWN0aXZlc1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRpcmVjdGl2ZVZhbHVlID0gZGlyZWN0aXZlLnNjb3BlKSB7XHJcblxyXG4gICAgICAgICAgLy8gc2tpcCB0aGUgY2hlY2sgZm9yIGRpcmVjdGl2ZXMgd2l0aCBhc3luYyB0ZW1wbGF0ZXMsIHdlJ2xsIGNoZWNrIHRoZSBkZXJpdmVkIHN5bmNcclxuICAgICAgICAgIC8vIGRpcmVjdGl2ZSB3aGVuIHRoZSB0ZW1wbGF0ZSBhcnJpdmVzXHJcbiAgICAgICAgICBpZiAoIWRpcmVjdGl2ZS50ZW1wbGF0ZVVybCkge1xyXG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoZGlyZWN0aXZlVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgLy8gVGhpcyBkaXJlY3RpdmUgaXMgdHJ5aW5nIHRvIGFkZCBhbiBpc29sYXRlZCBzY29wZS5cclxuICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZXJlIGlzIG5vIHNjb3BlIG9mIGFueSBraW5kIGFscmVhZHlcclxuICAgICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgnbmV3L2lzb2xhdGVkIHNjb3BlJywgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIHx8IG5ld1Njb3BlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcclxuICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gVGhpcyBkaXJlY3RpdmUgaXMgdHJ5aW5nIHRvIGFkZCBhIGNoaWxkIHNjb3BlLlxyXG4gICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlcmUgaXMgbm8gaXNvbGF0ZWQgc2NvcGUgYWxyZWFkeVxyXG4gICAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCduZXcvaXNvbGF0ZWQgc2NvcGUnLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29tcGlsZU5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmUgPSBuZXdTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlLm5hbWU7XHJcblxyXG4gICAgICAgIC8vIElmIHdlIGVuY291bnRlciBhIGNvbmRpdGlvbiB0aGF0IGNhbiByZXN1bHQgaW4gdHJhbnNjbHVzaW9uIG9uIHRoZSBkaXJlY3RpdmUsXHJcbiAgICAgICAgLy8gdGhlbiBzY2FuIGFoZWFkIGluIHRoZSByZW1haW5pbmcgZGlyZWN0aXZlcyBmb3Igb3RoZXJzIHRoYXQgbWF5IGNhdXNlIGEgbXVsdGlwbGVcclxuICAgICAgICAvLyB0cmFuc2NsdXNpb24gZXJyb3IgdG8gYmUgdGhyb3duIGR1cmluZyB0aGUgY29tcGlsYXRpb24gcHJvY2Vzcy4gIElmIGEgbWF0Y2hpbmcgZGlyZWN0aXZlXHJcbiAgICAgICAgLy8gaXMgZm91bmQsIHRoZW4gd2Uga25vdyB0aGF0IHdoZW4gd2UgZW5jb3VudGVyIGEgdHJhbnNjbHVkZWQgZGlyZWN0aXZlLCB3ZSBuZWVkIHRvIGVhZ2VybHlcclxuICAgICAgICAvLyBjb21waWxlIHRoZSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gcmF0aGVyIHRoYW4gZG9pbmcgaXQgbGF6aWx5IGluIG9yZGVyIHRvIHRocm93XHJcbiAgICAgICAgLy8gZXhjZXB0aW9ucyBhdCB0aGUgY29ycmVjdCB0aW1lXHJcbiAgICAgICAgaWYgKCFkaWRTY2FuRm9yTXVsdGlwbGVUcmFuc2NsdXNpb24gJiYgKChkaXJlY3RpdmUucmVwbGFjZSAmJiAoZGlyZWN0aXZlLnRlbXBsYXRlVXJsIHx8IGRpcmVjdGl2ZS50ZW1wbGF0ZSkpXHJcbiAgICAgICAgICAgIHx8IChkaXJlY3RpdmUudHJhbnNjbHVkZSAmJiAhZGlyZWN0aXZlLiQkdGxiKSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYW5kaWRhdGVEaXJlY3RpdmU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgc2Nhbm5pbmdJbmRleCA9IGkgKyAxOyBjYW5kaWRhdGVEaXJlY3RpdmUgPSBkaXJlY3RpdmVzW3NjYW5uaW5nSW5kZXgrK107KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChjYW5kaWRhdGVEaXJlY3RpdmUudHJhbnNjbHVkZSAmJiAhY2FuZGlkYXRlRGlyZWN0aXZlLiQkdGxiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoY2FuZGlkYXRlRGlyZWN0aXZlLnJlcGxhY2UgJiYgKGNhbmRpZGF0ZURpcmVjdGl2ZS50ZW1wbGF0ZVVybCB8fCBjYW5kaWRhdGVEaXJlY3RpdmUudGVtcGxhdGUpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWdodEhhdmVNdWx0aXBsZVRyYW5zY2x1c2lvbkVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRpZFNjYW5Gb3JNdWx0aXBsZVRyYW5zY2x1c2lvbiA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWRpcmVjdGl2ZS50ZW1wbGF0ZVVybCAmJiBkaXJlY3RpdmUuY29udHJvbGxlcikge1xyXG4gICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBkaXJlY3RpdmUuY29udHJvbGxlcjtcclxuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gY29udHJvbGxlckRpcmVjdGl2ZXMgfHwgY3JlYXRlTWFwKCk7XHJcbiAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZShcIidcIiArIGRpcmVjdGl2ZU5hbWUgKyBcIicgY29udHJvbGxlclwiLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XHJcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS50cmFuc2NsdWRlKSB7XHJcbiAgICAgICAgICBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgbmdJZiBhbmQgbmdSZXBlYXQgc28gdGhhdCB3ZSBkb24ndCBjb21wbGFpbiBhYm91dCBkdXBsaWNhdGUgdHJhbnNjbHVzaW9uLlxyXG4gICAgICAgICAgLy8gVGhpcyBvcHRpb24gc2hvdWxkIG9ubHkgYmUgdXNlZCBieSBkaXJlY3RpdmVzIHRoYXQga25vdyBob3cgdG8gc2FmZWx5IGhhbmRsZSBlbGVtZW50IHRyYW5zY2x1c2lvbixcclxuICAgICAgICAgIC8vIHdoZXJlIHRoZSB0cmFuc2NsdWRlZCBub2RlcyBhcmUgYWRkZWQgb3IgcmVwbGFjZWQgYWZ0ZXIgbGlua2luZy5cclxuICAgICAgICAgIGlmICghZGlyZWN0aXZlLiQkdGxiKSB7XHJcbiAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0cmFuc2NsdXNpb24nLCBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XHJcbiAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGRpcmVjdGl2ZVZhbHVlID09ICdlbGVtZW50Jykge1xyXG4gICAgICAgICAgICBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRlcm1pbmFsUHJpb3JpdHkgPSBkaXJlY3RpdmUucHJpb3JpdHk7XHJcbiAgICAgICAgICAgICR0ZW1wbGF0ZSA9ICRjb21waWxlTm9kZTtcclxuICAgICAgICAgICAgJGNvbXBpbGVOb2RlID0gdGVtcGxhdGVBdHRycy4kJGVsZW1lbnQgPVxyXG4gICAgICAgICAgICAgICAganFMaXRlKGNvbXBpbGUuJCRjcmVhdGVDb21tZW50KGRpcmVjdGl2ZU5hbWUsIHRlbXBsYXRlQXR0cnNbZGlyZWN0aXZlTmFtZV0pKTtcclxuICAgICAgICAgICAgY29tcGlsZU5vZGUgPSAkY29tcGlsZU5vZGVbMF07XHJcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgc2xpY2VBcmdzKCR0ZW1wbGF0ZSksIGNvbXBpbGVOb2RlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSA8IDUwXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE0MDQxXHJcblxyXG4gICAgICAgICAgICAvLyBJbiB0aGUgdmVyc2lvbnMgb2YgVjggcHJpb3IgdG8gQ2hyb21lIDUwLCB0aGUgZG9jdW1lbnQgZnJhZ21lbnQgdGhhdCBpcyBjcmVhdGVkXHJcbiAgICAgICAgICAgIC8vIGluIHRoZSBgcmVwbGFjZVdpdGhgIGZ1bmN0aW9uIGlzIGltcHJvcGVybHkgZ2FyYmFnZSBjb2xsZWN0ZWQgZGVzcGl0ZSBzdGlsbFxyXG4gICAgICAgICAgICAvLyBiZWluZyByZWZlcmVuY2VkIGJ5IHRoZSBgcGFyZW50Tm9kZWAgcHJvcGVydHkgb2YgYWxsIG9mIHRoZSBjaGlsZCBub2Rlcy4gIEJ5IGFkZGluZ1xyXG4gICAgICAgICAgICAvLyBhIHJlZmVyZW5jZSB0byB0aGUgZnJhZ21lbnQgdmlhIGEgZGlmZmVyZW50IHByb3BlcnR5LCB3ZSBjYW4gYXZvaWQgdGhhdCBpbmNvcnJlY3RcclxuICAgICAgICAgICAgLy8gYmVoYXZpb3IuXHJcbiAgICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIGxpbmUgYWZ0ZXIgQ2hyb21lIDUwIGhhcyBiZWVuIHJlbGVhc2VkXHJcbiAgICAgICAgICAgICR0ZW1wbGF0ZVswXS4kJHBhcmVudE5vZGUgPSAkdGVtcGxhdGVbMF0ucGFyZW50Tm9kZTtcclxuXHJcbiAgICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuID0gY29tcGlsYXRpb25HZW5lcmF0b3IobWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciwgJHRlbXBsYXRlLCB0cmFuc2NsdWRlRm4sIHRlcm1pbmFsUHJpb3JpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlICYmIHJlcGxhY2VEaXJlY3RpdmUubmFtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBwYXNzIGluOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtIGNvbnRyb2xsZXJEaXJlY3RpdmVzIC0gb3RoZXJ3aXNlIHdlJ2xsIGNyZWF0ZSBkdXBsaWNhdGVzIGNvbnRyb2xsZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIG9yIHRlbXBsYXRlRGlyZWN0aXZlIC0gY29tYmluaW5nIHRlbXBsYXRlcyB3aXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZWxlbWVudCB0cmFuc2NsdXNpb24gZG9lc24ndCBtYWtlIHNlbnNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIG9ubHkgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSBzbyB0aGF0IHdlIHByZXZlbnQgcHV0dGluZyB0cmFuc2NsdXNpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIHNhbWUgZWxlbWVudCBtb3JlIHRoYW4gb25jZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTogbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgdmFyIHNsb3RzID0gY3JlYXRlTWFwKCk7XHJcblxyXG4gICAgICAgICAgICAkdGVtcGxhdGUgPSBqcUxpdGUoanFMaXRlQ2xvbmUoY29tcGlsZU5vZGUpKS5jb250ZW50cygpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZVZhbHVlKSkge1xyXG5cclxuICAgICAgICAgICAgICAvLyBXZSBoYXZlIHRyYW5zY2x1c2lvbiBzbG90cyxcclxuICAgICAgICAgICAgICAvLyBjb2xsZWN0IHRoZW0gdXAsIGNvbXBpbGUgdGhlbSBhbmQgc3RvcmUgdGhlaXIgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uc1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICB2YXIgc2xvdE1hcCA9IGNyZWF0ZU1hcCgpO1xyXG4gICAgICAgICAgICAgIHZhciBmaWxsZWRTbG90cyA9IGNyZWF0ZU1hcCgpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgZWxlbWVudCBzZWxlY3RvcnNcclxuICAgICAgICAgICAgICBmb3JFYWNoKGRpcmVjdGl2ZVZhbHVlLCBmdW5jdGlvbihlbGVtZW50U2VsZWN0b3IsIHNsb3ROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBhbiBlbGVtZW50IHNlbGVjdG9yIHN0YXJ0cyB3aXRoIGEgPyB0aGVuIGl0IGlzIG9wdGlvbmFsXHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uYWwgPSAoZWxlbWVudFNlbGVjdG9yLmNoYXJBdCgwKSA9PT0gJz8nKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRTZWxlY3RvciA9IG9wdGlvbmFsID8gZWxlbWVudFNlbGVjdG9yLnN1YnN0cmluZygxKSA6IGVsZW1lbnRTZWxlY3RvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBzbG90TWFwW2VsZW1lbnRTZWxlY3Rvcl0gPSBzbG90TmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBXZSBleHBsaWNpdGx5IGFzc2lnbiBgbnVsbGAgc2luY2UgdGhpcyBpbXBsaWVzIHRoYXQgYSBzbG90IHdhcyBkZWZpbmVkIGJ1dCBub3QgZmlsbGVkLlxyXG4gICAgICAgICAgICAgICAgLy8gTGF0ZXIgd2hlbiBjYWxsaW5nIGJvdW5kVHJhbnNjbHVzaW9uIGZ1bmN0aW9ucyB3aXRoIGEgc2xvdCBuYW1lIHdlIG9ubHkgZXJyb3IgaWYgdGhlXHJcbiAgICAgICAgICAgICAgICAvLyBzbG90IGlzIGB1bmRlZmluZWRgXHJcbiAgICAgICAgICAgICAgICBzbG90c1tzbG90TmFtZV0gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGZpbGxlZFNsb3RzIGNvbnRhaW5zIGB0cnVlYCBmb3IgYWxsIHNsb3RzIHRoYXQgYXJlIGVpdGhlciBvcHRpb25hbCBvciBoYXZlIGJlZW5cclxuICAgICAgICAgICAgICAgIC8vIGZpbGxlZC4gVGhpcyBpcyB1c2VkIHRvIGNoZWNrIHRoYXQgd2UgaGF2ZSBub3QgbWlzc2VkIGFueSByZXF1aXJlZCBzbG90c1xyXG4gICAgICAgICAgICAgICAgZmlsbGVkU2xvdHNbc2xvdE5hbWVdID0gb3B0aW9uYWw7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEFkZCB0aGUgbWF0Y2hpbmcgZWxlbWVudHMgaW50byB0aGVpciBzbG90XHJcbiAgICAgICAgICAgICAgZm9yRWFjaCgkY29tcGlsZU5vZGUuY29udGVudHMoKSwgZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNsb3ROYW1lID0gc2xvdE1hcFtkaXJlY3RpdmVOb3JtYWxpemUobm9kZU5hbWVfKG5vZGUpKV07XHJcbiAgICAgICAgICAgICAgICBpZiAoc2xvdE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgZmlsbGVkU2xvdHNbc2xvdE5hbWVdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdID0gc2xvdHNbc2xvdE5hbWVdIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICBzbG90c1tzbG90TmFtZV0ucHVzaChub2RlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICR0ZW1wbGF0ZS5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgcmVxdWlyZWQgc2xvdHMgdGhhdCB3ZXJlIG5vdCBmaWxsZWRcclxuICAgICAgICAgICAgICBmb3JFYWNoKGZpbGxlZFNsb3RzLCBmdW5jdGlvbihmaWxsZWQsIHNsb3ROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigncmVxc2xvdCcsICdSZXF1aXJlZCB0cmFuc2NsdXNpb24gc2xvdCBgezB9YCB3YXMgbm90IGZpbGxlZC4nLCBzbG90TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIGZvciAodmFyIHNsb3ROYW1lIGluIHNsb3RzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2xvdHNbc2xvdE5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIE9ubHkgZGVmaW5lIGEgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIGlmIHRoZSBzbG90IHdhcyBmaWxsZWRcclxuICAgICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdID0gY29tcGlsYXRpb25HZW5lcmF0b3IobWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciwgc2xvdHNbc2xvdE5hbWVdLCB0cmFuc2NsdWRlRm4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmVtcHR5KCk7IC8vIGNsZWFyIGNvbnRlbnRzXHJcbiAgICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuID0gY29tcGlsYXRpb25HZW5lcmF0b3IobWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciwgJHRlbXBsYXRlLCB0cmFuc2NsdWRlRm4sIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgeyBuZWVkc05ld1Njb3BlOiBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUgfHwgZGlyZWN0aXZlLiQkbmV3U2NvcGV9KTtcclxuICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4uJCRzbG90cyA9IHNsb3RzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcclxuICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG5cclxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gKGlzRnVuY3Rpb24oZGlyZWN0aXZlLnRlbXBsYXRlKSlcclxuICAgICAgICAgICAgICA/IGRpcmVjdGl2ZS50ZW1wbGF0ZSgkY29tcGlsZU5vZGUsIHRlbXBsYXRlQXR0cnMpXHJcbiAgICAgICAgICAgICAgOiBkaXJlY3RpdmUudGVtcGxhdGU7XHJcblxyXG4gICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBkZW5vcm1hbGl6ZVRlbXBsYXRlKGRpcmVjdGl2ZVZhbHVlKTtcclxuXHJcbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHtcclxuICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcclxuICAgICAgICAgICAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoZGlyZWN0aXZlVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gcmVtb3ZlQ29tbWVudHMod3JhcFRlbXBsYXRlKGRpcmVjdGl2ZS50ZW1wbGF0ZU5hbWVzcGFjZSwgdHJpbShkaXJlY3RpdmVWYWx1ZSkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21waWxlTm9kZSA9ICR0ZW1wbGF0ZVswXTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkdGVtcGxhdGUubGVuZ3RoICE9IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3RwbHJ0JyxcclxuICAgICAgICAgICAgICAgICAgXCJUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlICd7MH0nIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfVwiLFxyXG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCAnJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgbmV3VGVtcGxhdGVBdHRycyA9IHskYXR0cjoge319O1xyXG5cclxuICAgICAgICAgICAgLy8gY29tYmluZSBkaXJlY3RpdmVzIGZyb20gdGhlIG9yaWdpbmFsIG5vZGUgYW5kIGZyb20gdGhlIHRlbXBsYXRlOlxyXG4gICAgICAgICAgICAvLyAtIHRha2UgdGhlIGFycmF5IG9mIGRpcmVjdGl2ZXMgZm9yIHRoaXMgZWxlbWVudFxyXG4gICAgICAgICAgICAvLyAtIHNwbGl0IGl0IGludG8gdHdvIHBhcnRzLCB0aG9zZSB0aGF0IGFscmVhZHkgYXBwbGllZCAocHJvY2Vzc2VkKSBhbmQgdGhvc2UgdGhhdCB3ZXJlbid0ICh1bnByb2Nlc3NlZClcclxuICAgICAgICAgICAgLy8gLSBjb2xsZWN0IGRpcmVjdGl2ZXMgZnJvbSB0aGUgdGVtcGxhdGUgYW5kIHNvcnQgdGhlbSBieSBwcmlvcml0eVxyXG4gICAgICAgICAgICAvLyAtIGNvbWJpbmUgZGlyZWN0aXZlcyBhczogcHJvY2Vzc2VkICsgdGVtcGxhdGUgKyB1bnByb2Nlc3NlZFxyXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCBuZXdUZW1wbGF0ZUF0dHJzKTtcclxuICAgICAgICAgICAgdmFyIHVucHJvY2Vzc2VkRGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXMuc3BsaWNlKGkgKyAxLCBkaXJlY3RpdmVzLmxlbmd0aCAtIChpICsgMSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBuZXdTY29wZURpcmVjdGl2ZSkge1xyXG4gICAgICAgICAgICAgIC8vIFRoZSBvcmlnaW5hbCBkaXJlY3RpdmUgY2F1c2VkIHRoZSBjdXJyZW50IGVsZW1lbnQgdG8gYmUgcmVwbGFjZWQgYnV0IHRoaXMgZWxlbWVudFxyXG4gICAgICAgICAgICAgIC8vIGFsc28gbmVlZHMgdG8gaGF2ZSBhIG5ldyBzY29wZSwgc28gd2UgbmVlZCB0byB0ZWxsIHRoZSB0ZW1wbGF0ZSBkaXJlY3RpdmVzXHJcbiAgICAgICAgICAgICAgLy8gdGhhdCB0aGV5IHdvdWxkIG5lZWQgdG8gZ2V0IHRoZWlyIHNjb3BlIGZyb20gZnVydGhlciB1cCwgaWYgdGhleSByZXF1aXJlIHRyYW5zY2x1c2lvblxyXG4gICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVTY29wZSh0ZW1wbGF0ZURpcmVjdGl2ZXMsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSwgbmV3U2NvcGVEaXJlY3RpdmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLmNvbmNhdCh0ZW1wbGF0ZURpcmVjdGl2ZXMpLmNvbmNhdCh1bnByb2Nlc3NlZERpcmVjdGl2ZXMpO1xyXG4gICAgICAgICAgICBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0ZW1wbGF0ZUF0dHJzLCBuZXdUZW1wbGF0ZUF0dHJzKTtcclxuXHJcbiAgICAgICAgICAgIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkY29tcGlsZU5vZGUuaHRtbChkaXJlY3RpdmVWYWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGlyZWN0aXZlLnRlbXBsYXRlVXJsKSB7XHJcbiAgICAgICAgICBoYXNUZW1wbGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgndGVtcGxhdGUnLCB0ZW1wbGF0ZURpcmVjdGl2ZSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xyXG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XHJcblxyXG4gICAgICAgICAgaWYgKGRpcmVjdGl2ZS5yZXBsYWNlKSB7XHJcbiAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLyoganNoaW50IC1XMDIxICovXHJcbiAgICAgICAgICBub2RlTGlua0ZuID0gY29tcGlsZVRlbXBsYXRlVXJsKGRpcmVjdGl2ZXMuc3BsaWNlKGksIGRpcmVjdGl2ZXMubGVuZ3RoIC0gaSksICRjb21waWxlTm9kZSxcclxuICAgICAgICAgIC8qIGpzaGludCArVzAyMSAqL1xyXG4gICAgICAgICAgICAgIHRlbXBsYXRlQXR0cnMsIGpxQ29sbGVjdGlvbiwgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSAmJiBjaGlsZFRyYW5zY2x1ZGVGbiwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzOiBjb250cm9sbGVyRGlyZWN0aXZlcyxcclxuICAgICAgICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlOiAobmV3U2NvcGVEaXJlY3RpdmUgIT09IGRpcmVjdGl2ZSkgJiYgbmV3U2NvcGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlOiB0ZW1wbGF0ZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmVcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3RpdmUuY29tcGlsZSkge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGlua0ZuID0gZGlyZWN0aXZlLmNvbXBpbGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzLCBjaGlsZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpbmtGbikpIHtcclxuICAgICAgICAgICAgICBhZGRMaW5rRm5zKG51bGwsIGxpbmtGbiwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5rRm4pIHtcclxuICAgICAgICAgICAgICBhZGRMaW5rRm5zKGxpbmtGbi5wcmUsIGxpbmtGbi5wb3N0LCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRjb21waWxlTm9kZSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZXJtaW5hbCkge1xyXG4gICAgICAgICAgbm9kZUxpbmtGbi50ZXJtaW5hbCA9IHRydWU7XHJcbiAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gTWF0aC5tYXgodGVybWluYWxQcmlvcml0eSwgZGlyZWN0aXZlLnByaW9yaXR5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICBub2RlTGlua0ZuLnNjb3BlID0gbmV3U2NvcGVEaXJlY3RpdmUgJiYgbmV3U2NvcGVEaXJlY3RpdmUuc2NvcGUgPT09IHRydWU7XHJcbiAgICAgIG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgPSBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlO1xyXG4gICAgICBub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCA9IGhhc1RlbXBsYXRlO1xyXG4gICAgICBub2RlTGlua0ZuLnRyYW5zY2x1ZGUgPSBjaGlsZFRyYW5zY2x1ZGVGbjtcclxuXHJcbiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZTtcclxuXHJcbiAgICAgIC8vIG1pZ2h0IGJlIG5vcm1hbCBvciBkZWxheWVkIG5vZGVMaW5rRm4gZGVwZW5kaW5nIG9uIGlmIHRlbXBsYXRlVXJsIGlzIHByZXNlbnRcclxuICAgICAgcmV0dXJuIG5vZGVMaW5rRm47XHJcblxyXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgZnVuY3Rpb24gYWRkTGlua0ZucyhwcmUsIHBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCkge1xyXG4gICAgICAgIGlmIChwcmUpIHtcclxuICAgICAgICAgIGlmIChhdHRyU3RhcnQpIHByZSA9IGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKHByZSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICAgIHByZS5yZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmU7XHJcbiAgICAgICAgICBwcmUuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XHJcbiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID09PSBkaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlKSB7XHJcbiAgICAgICAgICAgIHByZSA9IGNsb25lQW5kQW5ub3RhdGVGbihwcmUsIHtpc29sYXRlU2NvcGU6IHRydWV9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHByZUxpbmtGbnMucHVzaChwcmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocG9zdCkge1xyXG4gICAgICAgICAgaWYgKGF0dHJTdGFydCkgcG9zdCA9IGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKHBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCk7XHJcbiAgICAgICAgICBwb3N0LnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZTtcclxuICAgICAgICAgIHBvc3QuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XHJcbiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID09PSBkaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlKSB7XHJcbiAgICAgICAgICAgIHBvc3QgPSBjbG9uZUFuZEFubm90YXRlRm4ocG9zdCwge2lzb2xhdGVTY29wZTogdHJ1ZX0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcG9zdExpbmtGbnMucHVzaChwb3N0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG5vZGVMaW5rRm4oY2hpbGRMaW5rRm4sIHNjb3BlLCBsaW5rTm9kZSwgJHJvb3RFbGVtZW50LCBib3VuZFRyYW5zY2x1ZGVGbikge1xyXG4gICAgICAgIHZhciBpLCBpaSwgbGlua0ZuLCBpc29sYXRlU2NvcGUsIGNvbnRyb2xsZXJTY29wZSwgZWxlbWVudENvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4sICRlbGVtZW50LFxyXG4gICAgICAgICAgICBhdHRycywgc2NvcGVCaW5kaW5nSW5mbztcclxuXHJcbiAgICAgICAgaWYgKGNvbXBpbGVOb2RlID09PSBsaW5rTm9kZSkge1xyXG4gICAgICAgICAgYXR0cnMgPSB0ZW1wbGF0ZUF0dHJzO1xyXG4gICAgICAgICAgJGVsZW1lbnQgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJGVsZW1lbnQgPSBqcUxpdGUobGlua05vZGUpO1xyXG4gICAgICAgICAgYXR0cnMgPSBuZXcgQXR0cmlidXRlcygkZWxlbWVudCwgdGVtcGxhdGVBdHRycyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb250cm9sbGVyU2NvcGUgPSBzY29wZTtcclxuICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICBpc29sYXRlU2NvcGUgPSBzY29wZS4kbmV3KHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobmV3U2NvcGVEaXJlY3RpdmUpIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXJTY29wZSA9IHNjb3BlLiRwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYm91bmRUcmFuc2NsdWRlRm4pIHtcclxuICAgICAgICAgIC8vIHRyYWNrIGBib3VuZFRyYW5zY2x1ZGVGbmAgc28gaXQgY2FuIGJlIHVud3JhcHBlZCBpZiBgdHJhbnNjbHVkZUZuYFxyXG4gICAgICAgICAgLy8gaXMgbGF0ZXIgcGFzc2VkIGFzIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgdG8gYHB1YmxpY0xpbmtGbmBcclxuICAgICAgICAgIHRyYW5zY2x1ZGVGbiA9IGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlO1xyXG4gICAgICAgICAgdHJhbnNjbHVkZUZuLiQkYm91bmRUcmFuc2NsdWRlID0gYm91bmRUcmFuc2NsdWRlRm47XHJcbiAgICAgICAgICAvLyBleHBvc2UgdGhlIHNsb3RzIG9uIHRoZSBgJHRyYW5zY2x1ZGVgIGZ1bmN0aW9uXHJcbiAgICAgICAgICB0cmFuc2NsdWRlRm4uaXNTbG90RmlsbGVkID0gZnVuY3Rpb24oc2xvdE5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhYm91bmRUcmFuc2NsdWRlRm4uJCRzbG90c1tzbG90TmFtZV07XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbnRyb2xsZXJEaXJlY3RpdmVzKSB7XHJcbiAgICAgICAgICBlbGVtZW50Q29udHJvbGxlcnMgPSBzZXR1cENvbnRyb2xsZXJzKCRlbGVtZW50LCBhdHRycywgdHJhbnNjbHVkZUZuLCBjb250cm9sbGVyRGlyZWN0aXZlcywgaXNvbGF0ZVNjb3BlLCBzY29wZSwgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpIHtcclxuICAgICAgICAgIC8vIEluaXRpYWxpemUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyBmb3IgbmV3IGlzb2xhdGUgc2NvcGUgZGlyZWN0aXZlLlxyXG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbygkZWxlbWVudCwgaXNvbGF0ZVNjb3BlLCB0cnVlLCAhKHRlbXBsYXRlRGlyZWN0aXZlICYmICh0ZW1wbGF0ZURpcmVjdGl2ZSA9PT0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIHx8XHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlKSkpO1xyXG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoJGVsZW1lbnQsIHRydWUpO1xyXG4gICAgICAgICAgaXNvbGF0ZVNjb3BlLiQkaXNvbGF0ZUJpbmRpbmdzID1cclxuICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3M7XHJcbiAgICAgICAgICBzY29wZUJpbmRpbmdJbmZvID0gaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKHNjb3BlLCBhdHRycywgaXNvbGF0ZVNjb3BlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNvbGF0ZVNjb3BlLiQkaXNvbGF0ZUJpbmRpbmdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKTtcclxuICAgICAgICAgIGlmIChzY29wZUJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMpIHtcclxuICAgICAgICAgICAgaXNvbGF0ZVNjb3BlLiRvbignJGRlc3Ryb3knLCBzY29wZUJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBiaW5kVG9Db250cm9sbGVyIGJpbmRpbmdzXHJcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBlbGVtZW50Q29udHJvbGxlcnMpIHtcclxuICAgICAgICAgIHZhciBjb250cm9sbGVyRGlyZWN0aXZlID0gY29udHJvbGxlckRpcmVjdGl2ZXNbbmFtZV07XHJcbiAgICAgICAgICB2YXIgY29udHJvbGxlciA9IGVsZW1lbnRDb250cm9sbGVyc1tuYW1lXTtcclxuICAgICAgICAgIHZhciBiaW5kaW5ncyA9IGNvbnRyb2xsZXJEaXJlY3RpdmUuJCRiaW5kaW5ncy5iaW5kVG9Db250cm9sbGVyO1xyXG5cclxuICAgICAgICAgIGlmIChjb250cm9sbGVyLmlkZW50aWZpZXIgJiYgYmluZGluZ3MpIHtcclxuICAgICAgICAgICAgY29udHJvbGxlci5iaW5kaW5nSW5mbyA9XHJcbiAgICAgICAgICAgICAgaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKGNvbnRyb2xsZXJTY29wZSwgYXR0cnMsIGNvbnRyb2xsZXIuaW5zdGFuY2UsIGJpbmRpbmdzLCBjb250cm9sbGVyRGlyZWN0aXZlKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuYmluZGluZ0luZm8gPSB7fTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB2YXIgY29udHJvbGxlclJlc3VsdCA9IGNvbnRyb2xsZXIoKTtcclxuICAgICAgICAgIGlmIChjb250cm9sbGVyUmVzdWx0ICE9PSBjb250cm9sbGVyLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGhhcyBhIHJldHVybiB2YWx1ZSwgb3ZlcndyaXRlIHRoZSBpbnN0YW5jZVxyXG4gICAgICAgICAgICAvLyBmcm9tIHNldHVwQ29udHJvbGxlcnNcclxuICAgICAgICAgICAgY29udHJvbGxlci5pbnN0YW5jZSA9IGNvbnRyb2xsZXJSZXN1bHQ7XHJcbiAgICAgICAgICAgICRlbGVtZW50LmRhdGEoJyQnICsgY29udHJvbGxlckRpcmVjdGl2ZS5uYW1lICsgJ0NvbnRyb2xsZXInLCBjb250cm9sbGVyUmVzdWx0KTtcclxuICAgICAgICAgICAgY29udHJvbGxlci5iaW5kaW5nSW5mby5yZW1vdmVXYXRjaGVzICYmIGNvbnRyb2xsZXIuYmluZGluZ0luZm8ucmVtb3ZlV2F0Y2hlcygpO1xyXG4gICAgICAgICAgICBjb250cm9sbGVyLmJpbmRpbmdJbmZvID1cclxuICAgICAgICAgICAgICBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3MoY29udHJvbGxlclNjb3BlLCBhdHRycywgY29udHJvbGxlci5pbnN0YW5jZSwgYmluZGluZ3MsIGNvbnRyb2xsZXJEaXJlY3RpdmUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQmluZCB0aGUgcmVxdWlyZWQgY29udHJvbGxlcnMgdG8gdGhlIGNvbnRyb2xsZXIsIGlmIGByZXF1aXJlYCBpcyBhbiBvYmplY3QgYW5kIGBiaW5kVG9Db250cm9sbGVyYCBpcyB0cnV0aHlcclxuICAgICAgICBmb3JFYWNoKGNvbnRyb2xsZXJEaXJlY3RpdmVzLCBmdW5jdGlvbihjb250cm9sbGVyRGlyZWN0aXZlLCBuYW1lKSB7XHJcbiAgICAgICAgICB2YXIgcmVxdWlyZSA9IGNvbnRyb2xsZXJEaXJlY3RpdmUucmVxdWlyZTtcclxuICAgICAgICAgIGlmIChjb250cm9sbGVyRGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXIgJiYgIWlzQXJyYXkocmVxdWlyZSkgJiYgaXNPYmplY3QocmVxdWlyZSkpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKGVsZW1lbnRDb250cm9sbGVyc1tuYW1lXS5pbnN0YW5jZSwgZ2V0Q29udHJvbGxlcnMobmFtZSwgcmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycykpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgdGhlIGluaXQgYW5kIGRlc3Ryb3kgbGlmZWN5Y2xlIGhvb2tzIG9uIGFsbCBjb250cm9sbGVycyB0aGF0IGhhdmUgdGhlbVxyXG4gICAgICAgIGZvckVhY2goZWxlbWVudENvbnRyb2xsZXJzLCBmdW5jdGlvbihjb250cm9sbGVyKSB7XHJcbiAgICAgICAgICB2YXIgY29udHJvbGxlckluc3RhbmNlID0gY29udHJvbGxlci5pbnN0YW5jZTtcclxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kb25DaGFuZ2VzKSkge1xyXG4gICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJG9uQ2hhbmdlcyhjb250cm9sbGVyLmJpbmRpbmdJbmZvLmluaXRpYWxDaGFuZ2VzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kb25Jbml0KSkge1xyXG4gICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJG9uSW5pdCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRvbkRlc3Ryb3kpKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gY2FsbE9uRGVzdHJveUhvb2soKSB7XHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLiRvbkRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFBSRUxJTktJTkdcclxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHByZUxpbmtGbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgbGlua0ZuID0gcHJlTGlua0Zuc1tpXTtcclxuICAgICAgICAgIGludm9rZUxpbmtGbihsaW5rRm4sXHJcbiAgICAgICAgICAgICAgbGlua0ZuLmlzb2xhdGVTY29wZSA/IGlzb2xhdGVTY29wZSA6IHNjb3BlLFxyXG4gICAgICAgICAgICAgICRlbGVtZW50LFxyXG4gICAgICAgICAgICAgIGF0dHJzLFxyXG4gICAgICAgICAgICAgIGxpbmtGbi5yZXF1aXJlICYmIGdldENvbnRyb2xsZXJzKGxpbmtGbi5kaXJlY3RpdmVOYW1lLCBsaW5rRm4ucmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyksXHJcbiAgICAgICAgICAgICAgdHJhbnNjbHVkZUZuXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUkVDVVJTSU9OXHJcbiAgICAgICAgLy8gV2Ugb25seSBwYXNzIHRoZSBpc29sYXRlIHNjb3BlLCBpZiB0aGUgaXNvbGF0ZSBkaXJlY3RpdmUgaGFzIGEgdGVtcGxhdGUsXHJcbiAgICAgICAgLy8gb3RoZXJ3aXNlIHRoZSBjaGlsZCBlbGVtZW50cyBkbyBub3QgYmVsb25nIHRvIHRoZSBpc29sYXRlIGRpcmVjdGl2ZS5cclxuICAgICAgICB2YXIgc2NvcGVUb0NoaWxkID0gc2NvcGU7XHJcbiAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSAmJiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLnRlbXBsYXRlIHx8IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZVVybCA9PT0gbnVsbCkpIHtcclxuICAgICAgICAgIHNjb3BlVG9DaGlsZCA9IGlzb2xhdGVTY29wZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hpbGRMaW5rRm4gJiYgY2hpbGRMaW5rRm4oc2NvcGVUb0NoaWxkLCBsaW5rTm9kZS5jaGlsZE5vZGVzLCB1bmRlZmluZWQsIGJvdW5kVHJhbnNjbHVkZUZuKTtcclxuXHJcbiAgICAgICAgLy8gUE9TVExJTktJTkdcclxuICAgICAgICBmb3IgKGkgPSBwb3N0TGlua0Zucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgbGlua0ZuID0gcG9zdExpbmtGbnNbaV07XHJcbiAgICAgICAgICBpbnZva2VMaW5rRm4obGlua0ZuLFxyXG4gICAgICAgICAgICAgIGxpbmtGbi5pc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcclxuICAgICAgICAgICAgICAkZWxlbWVudCxcclxuICAgICAgICAgICAgICBhdHRycyxcclxuICAgICAgICAgICAgICBsaW5rRm4ucmVxdWlyZSAmJiBnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSwgbGlua0ZuLnJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpLFxyXG4gICAgICAgICAgICAgIHRyYW5zY2x1ZGVGblxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRyaWdnZXIgJHBvc3RMaW5rIGxpZmVjeWNsZSBob29rc1xyXG4gICAgICAgIGZvckVhY2goZWxlbWVudENvbnRyb2xsZXJzLCBmdW5jdGlvbihjb250cm9sbGVyKSB7XHJcbiAgICAgICAgICB2YXIgY29udHJvbGxlckluc3RhbmNlID0gY29udHJvbGxlci5pbnN0YW5jZTtcclxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kcG9zdExpbmspKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kcG9zdExpbmsoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgZnVuY3Rpb24gdGhhdCBpcyBpbmplY3RlZCBhcyBgJHRyYW5zY2x1ZGVgLlxyXG4gICAgICAgIC8vIE5vdGU6IGFsbCBhcmd1bWVudHMgYXJlIG9wdGlvbmFsIVxyXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlKHNjb3BlLCBjbG9uZUF0dGFjaEZuLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzbG90TmFtZSkge1xyXG4gICAgICAgICAgdmFyIHRyYW5zY2x1ZGVDb250cm9sbGVycztcclxuICAgICAgICAgIC8vIE5vIHNjb3BlIHBhc3NlZCBpbjpcclxuICAgICAgICAgIGlmICghaXNTY29wZShzY29wZSkpIHtcclxuICAgICAgICAgICAgc2xvdE5hbWUgPSBmdXR1cmVQYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gY2xvbmVBdHRhY2hGbjtcclxuICAgICAgICAgICAgY2xvbmVBdHRhY2hGbiA9IHNjb3BlO1xyXG4gICAgICAgICAgICBzY29wZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUpIHtcclxuICAgICAgICAgICAgdHJhbnNjbHVkZUNvbnRyb2xsZXJzID0gZWxlbWVudENvbnRyb2xsZXJzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCFmdXR1cmVQYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQgPSBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA/ICRlbGVtZW50LnBhcmVudCgpIDogJGVsZW1lbnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoc2xvdE5hbWUpIHtcclxuICAgICAgICAgICAgLy8gc2xvdFRyYW5zY2x1ZGVGbiBjYW4gYmUgb25lIG9mIHRocmVlIHRoaW5nczpcclxuICAgICAgICAgICAgLy8gICogYSB0cmFuc2NsdWRlIGZ1bmN0aW9uIC0gYSBmaWxsZWQgc2xvdFxyXG4gICAgICAgICAgICAvLyAgKiBgbnVsbGAgLSBhbiBvcHRpb25hbCBzbG90IHRoYXQgd2FzIG5vdCBmaWxsZWRcclxuICAgICAgICAgICAgLy8gICogYHVuZGVmaW5lZGAgLSBhIHNsb3QgdGhhdCB3YXMgbm90IGRlY2xhcmVkIChpLmUuIGludmFsaWQpXHJcbiAgICAgICAgICAgIHZhciBzbG90VHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm4uJCRzbG90c1tzbG90TmFtZV07XHJcbiAgICAgICAgICAgIGlmIChzbG90VHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHNsb3RUcmFuc2NsdWRlRm4oc2NvcGUsIGNsb25lQXR0YWNoRm4sIHRyYW5zY2x1ZGVDb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgc2NvcGVUb0NoaWxkKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1VuZGVmaW5lZChzbG90VHJhbnNjbHVkZUZuKSkge1xyXG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub3Nsb3QnLFxyXG4gICAgICAgICAgICAgICAnTm8gcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHJlcXVpcmVzIGEgdHJhbnNjbHVzaW9uIHdpdGggc2xvdCBuYW1lIFwiezB9XCIuICcgK1xyXG4gICAgICAgICAgICAgICAnRWxlbWVudDogezF9JyxcclxuICAgICAgICAgICAgICAgc2xvdE5hbWUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgY2xvbmVBdHRhY2hGbiwgdHJhbnNjbHVkZUNvbnRyb2xsZXJzLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzY29wZVRvQ2hpbGQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUsIHJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpIHtcclxuICAgICAgdmFyIHZhbHVlO1xyXG5cclxuICAgICAgaWYgKGlzU3RyaW5nKHJlcXVpcmUpKSB7XHJcbiAgICAgICAgdmFyIG1hdGNoID0gcmVxdWlyZS5tYXRjaChSRVFVSVJFX1BSRUZJWF9SRUdFWFApO1xyXG4gICAgICAgIHZhciBuYW1lID0gcmVxdWlyZS5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcclxuICAgICAgICB2YXIgaW5oZXJpdFR5cGUgPSBtYXRjaFsxXSB8fCBtYXRjaFszXTtcclxuICAgICAgICB2YXIgb3B0aW9uYWwgPSBtYXRjaFsyXSA9PT0gJz8nO1xyXG5cclxuICAgICAgICAvL0lmIG9ubHkgcGFyZW50cyB0aGVuIHN0YXJ0IGF0IHRoZSBwYXJlbnQgZWxlbWVudFxyXG4gICAgICAgIGlmIChpbmhlcml0VHlwZSA9PT0gJ15eJykge1xyXG4gICAgICAgICAgJGVsZW1lbnQgPSAkZWxlbWVudC5wYXJlbnQoKTtcclxuICAgICAgICAvL090aGVyd2lzZSBhdHRlbXB0IGdldHRpbmcgdGhlIGNvbnRyb2xsZXIgZnJvbSBlbGVtZW50Q29udHJvbGxlcnMgaW4gY2FzZVxyXG4gICAgICAgIC8vdGhlIGVsZW1lbnQgaXMgdHJhbnNjbHVkZWQgKGFuZCBoYXMgbm8gZGF0YSkgYW5kIHRvIGF2b2lkIC5kYXRhIGlmIHBvc3NpYmxlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhbHVlID0gZWxlbWVudENvbnRyb2xsZXJzICYmIGVsZW1lbnRDb250cm9sbGVyc1tuYW1lXTtcclxuICAgICAgICAgIHZhbHVlID0gdmFsdWUgJiYgdmFsdWUuaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICB2YXIgZGF0YU5hbWUgPSAnJCcgKyBuYW1lICsgJ0NvbnRyb2xsZXInO1xyXG4gICAgICAgICAgdmFsdWUgPSBpbmhlcml0VHlwZSA/ICRlbGVtZW50LmluaGVyaXRlZERhdGEoZGF0YU5hbWUpIDogJGVsZW1lbnQuZGF0YShkYXRhTmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXZhbHVlICYmICFvcHRpb25hbCkge1xyXG4gICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2N0cmVxJyxcclxuICAgICAgICAgICAgICBcIkNvbnRyb2xsZXIgJ3swfScsIHJlcXVpcmVkIGJ5IGRpcmVjdGl2ZSAnezF9JywgY2FuJ3QgYmUgZm91bmQhXCIsXHJcbiAgICAgICAgICAgICAgbmFtZSwgZGlyZWN0aXZlTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkocmVxdWlyZSkpIHtcclxuICAgICAgICB2YWx1ZSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHJlcXVpcmUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgdmFsdWVbaV0gPSBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCByZXF1aXJlW2ldLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QocmVxdWlyZSkpIHtcclxuICAgICAgICB2YWx1ZSA9IHt9O1xyXG4gICAgICAgIGZvckVhY2gocmVxdWlyZSwgZnVuY3Rpb24oY29udHJvbGxlciwgcHJvcGVydHkpIHtcclxuICAgICAgICAgIHZhbHVlW3Byb3BlcnR5XSA9IGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUsIGNvbnRyb2xsZXIsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdmFsdWUgfHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXR1cENvbnRyb2xsZXJzKCRlbGVtZW50LCBhdHRycywgdHJhbnNjbHVkZUZuLCBjb250cm9sbGVyRGlyZWN0aXZlcywgaXNvbGF0ZVNjb3BlLCBzY29wZSwgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XHJcbiAgICAgIHZhciBlbGVtZW50Q29udHJvbGxlcnMgPSBjcmVhdGVNYXAoKTtcclxuICAgICAgZm9yICh2YXIgY29udHJvbGxlcktleSBpbiBjb250cm9sbGVyRGlyZWN0aXZlcykge1xyXG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSBjb250cm9sbGVyRGlyZWN0aXZlc1tjb250cm9sbGVyS2V5XTtcclxuICAgICAgICB2YXIgbG9jYWxzID0ge1xyXG4gICAgICAgICAgJHNjb3BlOiBkaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcclxuICAgICAgICAgICRlbGVtZW50OiAkZWxlbWVudCxcclxuICAgICAgICAgICRhdHRyczogYXR0cnMsXHJcbiAgICAgICAgICAkdHJhbnNjbHVkZTogdHJhbnNjbHVkZUZuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBkaXJlY3RpdmUuY29udHJvbGxlcjtcclxuICAgICAgICBpZiAoY29udHJvbGxlciA9PSAnQCcpIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXIgPSBhdHRyc1tkaXJlY3RpdmUubmFtZV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgY29udHJvbGxlckluc3RhbmNlID0gJGNvbnRyb2xsZXIoY29udHJvbGxlciwgbG9jYWxzLCB0cnVlLCBkaXJlY3RpdmUuY29udHJvbGxlckFzKTtcclxuXHJcbiAgICAgICAgLy8gRm9yIGRpcmVjdGl2ZXMgd2l0aCBlbGVtZW50IHRyYW5zY2x1c2lvbiB0aGUgZWxlbWVudCBpcyBhIGNvbW1lbnQuXHJcbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlIC5kYXRhIHdpbGwgbm90IGF0dGFjaCBhbnkgZGF0YS5cclxuICAgICAgICAvLyBJbnN0ZWFkLCB3ZSBzYXZlIHRoZSBjb250cm9sbGVycyBmb3IgdGhlIGVsZW1lbnQgaW4gYSBsb2NhbCBoYXNoIGFuZCBhdHRhY2ggdG8gLmRhdGFcclxuICAgICAgICAvLyBsYXRlciwgb25jZSB3ZSBoYXZlIHRoZSBhY3R1YWwgZWxlbWVudC5cclxuICAgICAgICBlbGVtZW50Q29udHJvbGxlcnNbZGlyZWN0aXZlLm5hbWVdID0gY29udHJvbGxlckluc3RhbmNlO1xyXG4gICAgICAgICRlbGVtZW50LmRhdGEoJyQnICsgZGlyZWN0aXZlLm5hbWUgKyAnQ29udHJvbGxlcicsIGNvbnRyb2xsZXJJbnN0YW5jZS5pbnN0YW5jZSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGVsZW1lbnRDb250cm9sbGVycztcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZXBlbmRpbmcgdXBvbiB0aGUgY29udGV4dCBpbiB3aGljaCBhIGRpcmVjdGl2ZSBmaW5kcyBpdHNlbGYgaXQgbWlnaHQgbmVlZCB0byBoYXZlIGEgbmV3IGlzb2xhdGVkXHJcbiAgICAvLyBvciBjaGlsZCBzY29wZSBjcmVhdGVkLiBGb3IgaW5zdGFuY2U6XHJcbiAgICAvLyAqIGlmIHRoZSBkaXJlY3RpdmUgaGFzIGJlZW4gcHVsbGVkIGludG8gYSB0ZW1wbGF0ZSBiZWNhdXNlIGFub3RoZXIgZGlyZWN0aXZlIHdpdGggYSBoaWdoZXIgcHJpb3JpdHlcclxuICAgIC8vIGFza2VkIGZvciBlbGVtZW50IHRyYW5zY2x1c2lvblxyXG4gICAgLy8gKiBpZiB0aGUgZGlyZWN0aXZlIGl0c2VsZiBhc2tzIGZvciB0cmFuc2NsdXNpb24gYnV0IGl0IGlzIGF0IHRoZSByb290IG9mIGEgdGVtcGxhdGUgYW5kIHRoZSBvcmlnaW5hbFxyXG4gICAgLy8gZWxlbWVudCB3YXMgcmVwbGFjZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMjkzNlxyXG4gICAgZnVuY3Rpb24gbWFya0RpcmVjdGl2ZVNjb3BlKGRpcmVjdGl2ZXMsIGlzb2xhdGVTY29wZSwgbmV3U2NvcGUpIHtcclxuICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gZGlyZWN0aXZlcy5sZW5ndGg7IGogPCBqajsgaisrKSB7XHJcbiAgICAgICAgZGlyZWN0aXZlc1tqXSA9IGluaGVyaXQoZGlyZWN0aXZlc1tqXSwgeyQkaXNvbGF0ZVNjb3BlOiBpc29sYXRlU2NvcGUsICQkbmV3U2NvcGU6IG5ld1Njb3BlfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGxvb2tzIHVwIHRoZSBkaXJlY3RpdmUgYW5kIGRlY29yYXRlcyBpdCB3aXRoIGV4Y2VwdGlvbiBoYW5kbGluZyBhbmQgcHJvcGVyIHBhcmFtZXRlcnMuIFdlXHJcbiAgICAgKiBjYWxsIHRoaXMgdGhlIGJvdW5kRGlyZWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIGRpcmVjdGl2ZSB0byBsb29rIHVwLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIFRoZSBkaXJlY3RpdmUgbXVzdCBiZSBmb3VuZCBpbiBzcGVjaWZpYyBmb3JtYXQuXHJcbiAgICAgKiAgIFN0cmluZyBjb250YWluaW5nIGFueSBvZiB0aGVzZXMgY2hhcmFjdGVyczpcclxuICAgICAqXHJcbiAgICAgKiAgICogYEVgOiBlbGVtZW50IG5hbWVcclxuICAgICAqICAgKiBgQSc6IGF0dHJpYnV0ZVxyXG4gICAgICogICAqIGBDYDogY2xhc3NcclxuICAgICAqICAgKiBgTWA6IGNvbW1lbnRcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGRpcmVjdGl2ZSB3YXMgYWRkZWQuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZERpcmVjdGl2ZSh0RGlyZWN0aXZlcywgbmFtZSwgbG9jYXRpb24sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHN0YXJ0QXR0ck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kQXR0ck5hbWUpIHtcclxuICAgICAgaWYgKG5hbWUgPT09IGlnbm9yZURpcmVjdGl2ZSkgcmV0dXJuIG51bGw7XHJcbiAgICAgIHZhciBtYXRjaCA9IG51bGw7XHJcbiAgICAgIGlmIChoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgZGlyZWN0aXZlLCBkaXJlY3RpdmVzID0gJGluamVjdG9yLmdldChuYW1lICsgU3VmZml4KSxcclxuICAgICAgICAgICAgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xyXG4gICAgICAgICAgICBpZiAoKGlzVW5kZWZpbmVkKG1heFByaW9yaXR5KSB8fCBtYXhQcmlvcml0eSA+IGRpcmVjdGl2ZS5wcmlvcml0eSkgJiZcclxuICAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVzdHJpY3QuaW5kZXhPZihsb2NhdGlvbikgIT0gLTEpIHtcclxuICAgICAgICAgICAgICBpZiAoc3RhcnRBdHRyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlID0gaW5oZXJpdChkaXJlY3RpdmUsIHskJHN0YXJ0OiBzdGFydEF0dHJOYW1lLCAkJGVuZDogZW5kQXR0ck5hbWV9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKCFkaXJlY3RpdmUuJCRiaW5kaW5ncykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJpbmRpbmdzID0gZGlyZWN0aXZlLiQkYmluZGluZ3MgPVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRGlyZWN0aXZlQmluZGluZ3MoZGlyZWN0aXZlLCBkaXJlY3RpdmUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3QoYmluZGluZ3MuaXNvbGF0ZVNjb3BlKSkge1xyXG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3MgPSBiaW5kaW5ncy5pc29sYXRlU2NvcGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHREaXJlY3RpdmVzLnB1c2goZGlyZWN0aXZlKTtcclxuICAgICAgICAgICAgICBtYXRjaCA9IGRpcmVjdGl2ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZSkgeyAkZXhjZXB0aW9uSGFuZGxlcihlKTsgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbWF0Y2g7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbG9va3MgdXAgdGhlIGRpcmVjdGl2ZSBhbmQgcmV0dXJucyB0cnVlIGlmIGl0IGlzIGEgbXVsdGktZWxlbWVudCBkaXJlY3RpdmUsXHJcbiAgICAgKiBhbmQgdGhlcmVmb3JlIHJlcXVpcmVzIERPTSBub2RlcyBiZXR3ZWVuIC1zdGFydCBhbmQgLWVuZCBtYXJrZXJzIHRvIGJlIGdyb3VwZWRcclxuICAgICAqIHRvZ2V0aGVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIGRpcmVjdGl2ZSB0byBsb29rIHVwLlxyXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBkaXJlY3RpdmUgd2FzIHJlZ2lzdGVyZWQgYXMgbXVsdGktZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZGlyZWN0aXZlSXNNdWx0aUVsZW1lbnQobmFtZSkge1xyXG4gICAgICBpZiAoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgIGZvciAodmFyIGRpcmVjdGl2ZSwgZGlyZWN0aXZlcyA9ICRpbmplY3Rvci5nZXQobmFtZSArIFN1ZmZpeCksXHJcbiAgICAgICAgICAgIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTtcclxuICAgICAgICAgIGlmIChkaXJlY3RpdmUubXVsdGlFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGVuIHRoZSBlbGVtZW50IGlzIHJlcGxhY2VkIHdpdGggSFRNTCB0ZW1wbGF0ZSB0aGVuIHRoZSBuZXcgYXR0cmlidXRlc1xyXG4gICAgICogb24gdGhlIHRlbXBsYXRlIG5lZWQgdG8gYmUgbWVyZ2VkIHdpdGggdGhlIGV4aXN0aW5nIGF0dHJpYnV0ZXMgaW4gdGhlIERPTS5cclxuICAgICAqIFRoZSBkZXNpcmVkIGVmZmVjdCBpcyB0byBoYXZlIGJvdGggb2YgdGhlIGF0dHJpYnV0ZXMgcHJlc2VudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZHN0IGRlc3RpbmF0aW9uIGF0dHJpYnV0ZXMgKG9yaWdpbmFsIERPTSlcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzcmMgc291cmNlIGF0dHJpYnV0ZXMgKGZyb20gdGhlIGRpcmVjdGl2ZSB0ZW1wbGF0ZSlcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXMoZHN0LCBzcmMpIHtcclxuICAgICAgdmFyIHNyY0F0dHIgPSBzcmMuJGF0dHIsXHJcbiAgICAgICAgICBkc3RBdHRyID0gZHN0LiRhdHRyLFxyXG4gICAgICAgICAgJGVsZW1lbnQgPSBkc3QuJCRlbGVtZW50O1xyXG5cclxuICAgICAgLy8gcmVhcHBseSB0aGUgb2xkIGF0dHJpYnV0ZXMgdG8gdGhlIG5ldyBlbGVtZW50XHJcbiAgICAgIGZvckVhY2goZHN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgIT0gJyQnKSB7XHJcbiAgICAgICAgICBpZiAoc3JjW2tleV0gJiYgc3JjW2tleV0gIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbHVlICs9IChrZXkgPT09ICdzdHlsZScgPyAnOycgOiAnICcpICsgc3JjW2tleV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBkc3QuJHNldChrZXksIHZhbHVlLCB0cnVlLCBzcmNBdHRyW2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBjb3B5IHRoZSBuZXcgYXR0cmlidXRlcyBvbiB0aGUgb2xkIGF0dHJzIG9iamVjdFxyXG4gICAgICBmb3JFYWNoKHNyYywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgIGlmIChrZXkgPT0gJ2NsYXNzJykge1xyXG4gICAgICAgICAgc2FmZUFkZENsYXNzKCRlbGVtZW50LCB2YWx1ZSk7XHJcbiAgICAgICAgICBkc3RbJ2NsYXNzJ10gPSAoZHN0WydjbGFzcyddID8gZHN0WydjbGFzcyddICsgJyAnIDogJycpICsgdmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT0gJ3N0eWxlJykge1xyXG4gICAgICAgICAgJGVsZW1lbnQuYXR0cignc3R5bGUnLCAkZWxlbWVudC5hdHRyKCdzdHlsZScpICsgJzsnICsgdmFsdWUpO1xyXG4gICAgICAgICAgZHN0WydzdHlsZSddID0gKGRzdFsnc3R5bGUnXSA/IGRzdFsnc3R5bGUnXSArICc7JyA6ICcnKSArIHZhbHVlO1xyXG4gICAgICAgICAgLy8gYGRzdGAgd2lsbCBuZXZlciBjb250YWluIGhhc093blByb3BlcnR5IGFzIERPTSBwYXJzZXIgd29uJ3QgbGV0IGl0LlxyXG4gICAgICAgICAgLy8gWW91IHdpbGwgZ2V0IGFuIFwiSW52YWxpZENoYXJhY3RlckVycm9yOiBET00gRXhjZXB0aW9uIDVcIiBlcnJvciBpZiB5b3VcclxuICAgICAgICAgIC8vIGhhdmUgYW4gYXR0cmlidXRlIGxpa2UgXCJoYXMtb3duLXByb3BlcnR5XCIgb3IgXCJkYXRhLWhhcy1vd24tcHJvcGVydHlcIiwgZXRjLlxyXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5LmNoYXJBdCgwKSAhPSAnJCcgJiYgIWRzdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICBkc3Rba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgZHN0QXR0cltrZXldID0gc3JjQXR0cltrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLCAkY29tcGlsZU5vZGUsIHRBdHRycyxcclxuICAgICAgICAkcm9vdEVsZW1lbnQsIGNoaWxkVHJhbnNjbHVkZUZuLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucywgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xyXG4gICAgICB2YXIgbGlua1F1ZXVlID0gW10sXHJcbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbixcclxuICAgICAgICAgIGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbixcclxuICAgICAgICAgIGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUgPSAkY29tcGlsZU5vZGVbMF0sXHJcbiAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUgPSBkaXJlY3RpdmVzLnNoaWZ0KCksXHJcbiAgICAgICAgICBkZXJpdmVkU3luY0RpcmVjdGl2ZSA9IGluaGVyaXQob3JpZ0FzeW5jRGlyZWN0aXZlLCB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBudWxsLCB0cmFuc2NsdWRlOiBudWxsLCByZXBsYWNlOiBudWxsLCAkJG9yaWdpbmFsRGlyZWN0aXZlOiBvcmlnQXN5bmNEaXJlY3RpdmVcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmwgPSAoaXNGdW5jdGlvbihvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwpKVxyXG4gICAgICAgICAgICAgID8gb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKCRjb21waWxlTm9kZSwgdEF0dHJzKVxyXG4gICAgICAgICAgICAgIDogb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsLFxyXG4gICAgICAgICAgdGVtcGxhdGVOYW1lc3BhY2UgPSBvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2U7XHJcblxyXG4gICAgICAkY29tcGlsZU5vZGUuZW1wdHkoKTtcclxuXHJcbiAgICAgICR0ZW1wbGF0ZVJlcXVlc3QodGVtcGxhdGVVcmwpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICAgICAgdmFyIGNvbXBpbGVOb2RlLCB0ZW1wVGVtcGxhdGVBdHRycywgJHRlbXBsYXRlLCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuO1xyXG5cclxuICAgICAgICAgIGNvbnRlbnQgPSBkZW5vcm1hbGl6ZVRlbXBsYXRlKGNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgIGlmIChvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkge1xyXG4gICAgICAgICAgICBpZiAoanFMaXRlSXNUZXh0Tm9kZShjb250ZW50KSkge1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IHJlbW92ZUNvbW1lbnRzKHdyYXBUZW1wbGF0ZSh0ZW1wbGF0ZU5hbWVzcGFjZSwgdHJpbShjb250ZW50KSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCR0ZW1wbGF0ZS5sZW5ndGggIT0gMSB8fCBjb21waWxlTm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcclxuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndHBscnQnLFxyXG4gICAgICAgICAgICAgICAgICBcIlRlbXBsYXRlIGZvciBkaXJlY3RpdmUgJ3swfScgbXVzdCBoYXZlIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gezF9XCIsXHJcbiAgICAgICAgICAgICAgICAgIG9yaWdBc3luY0RpcmVjdGl2ZS5uYW1lLCB0ZW1wbGF0ZVVybCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRlbXBUZW1wbGF0ZUF0dHJzID0geyRhdHRyOiB7fX07XHJcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZURpcmVjdGl2ZXMgPSBjb2xsZWN0RGlyZWN0aXZlcyhjb21waWxlTm9kZSwgW10sIHRlbXBUZW1wbGF0ZUF0dHJzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc09iamVjdChvcmlnQXN5bmNEaXJlY3RpdmUuc2NvcGUpKSB7XHJcbiAgICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIGRpcmVjdGl2ZSB0aGF0IGNhdXNlZCB0aGUgdGVtcGxhdGUgdG8gYmUgbG9hZGVkIGFzeW5jIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgLy8gYW4gaXNvbGF0ZSBzY29wZVxyXG4gICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVTY29wZSh0ZW1wbGF0ZURpcmVjdGl2ZXMsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZXMgPSB0ZW1wbGF0ZURpcmVjdGl2ZXMuY29uY2F0KGRpcmVjdGl2ZXMpO1xyXG4gICAgICAgICAgICBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0QXR0cnMsIHRlbXBUZW1wbGF0ZUF0dHJzKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZTtcclxuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmh0bWwoY29udGVudCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGlyZWN0aXZlcy51bnNoaWZ0KGRlcml2ZWRTeW5jRGlyZWN0aXZlKTtcclxuXHJcbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbiA9IGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdEF0dHJzLFxyXG4gICAgICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuLCAkY29tcGlsZU5vZGUsIG9yaWdBc3luY0RpcmVjdGl2ZSwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsXHJcbiAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XHJcbiAgICAgICAgICBmb3JFYWNoKCRyb290RWxlbWVudCwgZnVuY3Rpb24obm9kZSwgaSkge1xyXG4gICAgICAgICAgICBpZiAobm9kZSA9PSBjb21waWxlTm9kZSkge1xyXG4gICAgICAgICAgICAgICRyb290RWxlbWVudFtpXSA9ICRjb21waWxlTm9kZVswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4gPSBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlWzBdLmNoaWxkTm9kZXMsIGNoaWxkVHJhbnNjbHVkZUZuKTtcclxuXHJcbiAgICAgICAgICB3aGlsZSAobGlua1F1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgc2NvcGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcclxuICAgICAgICAgICAgICAgIGJlZm9yZVRlbXBsYXRlTGlua05vZGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcclxuICAgICAgICAgICAgICAgIGxpbmtSb290RWxlbWVudCA9IGxpbmtRdWV1ZS5zaGlmdCgpLFxyXG4gICAgICAgICAgICAgICAgYm91bmRUcmFuc2NsdWRlRm4gPSBsaW5rUXVldWUuc2hpZnQoKSxcclxuICAgICAgICAgICAgICAgIGxpbmtOb2RlID0gJGNvbXBpbGVOb2RlWzBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlICE9PSBiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlKSB7XHJcbiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlLmNsYXNzTmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKCEocHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSAmJlxyXG4gICAgICAgICAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGl0IHdhcyBjbG9uZWQgdGhlcmVmb3JlIHdlIGhhdmUgdG8gY2xvbmUgYXMgd2VsbC5cclxuICAgICAgICAgICAgICAgIGxpbmtOb2RlID0ganFMaXRlQ2xvbmUoY29tcGlsZU5vZGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXBsYWNlV2l0aChsaW5rUm9vdEVsZW1lbnQsIGpxTGl0ZShiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlKSwgbGlua05vZGUpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb3B5IGluIENTUyBjbGFzc2VzIGZyb20gb3JpZ2luYWwgbm9kZVxyXG4gICAgICAgICAgICAgIHNhZmVBZGRDbGFzcyhqcUxpdGUobGlua05vZGUpLCBvbGRDbGFzc2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4oYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLCBzY29wZSwgbGlua05vZGUsICRyb290RWxlbWVudCxcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxpbmtRdWV1ZSA9IG51bGw7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZGVsYXllZE5vZGVMaW5rRm4oaWdub3JlQ2hpbGRMaW5rRm4sIHNjb3BlLCBub2RlLCByb290RWxlbWVudCwgYm91bmRUcmFuc2NsdWRlRm4pIHtcclxuICAgICAgICB2YXIgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuO1xyXG4gICAgICAgIGlmIChzY29wZS4kJGRlc3Ryb3llZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmIChsaW5rUXVldWUpIHtcclxuICAgICAgICAgIGxpbmtRdWV1ZS5wdXNoKHNjb3BlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCkge1xyXG4gICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiwgc2NvcGUsIG5vZGUsIHJvb3RFbGVtZW50LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU29ydGluZyBmdW5jdGlvbiBmb3IgYm91bmQgZGlyZWN0aXZlcy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYnlQcmlvcml0eShhLCBiKSB7XHJcbiAgICAgIHZhciBkaWZmID0gYi5wcmlvcml0eSAtIGEucHJpb3JpdHk7XHJcbiAgICAgIGlmIChkaWZmICE9PSAwKSByZXR1cm4gZGlmZjtcclxuICAgICAgaWYgKGEubmFtZSAhPT0gYi5uYW1lKSByZXR1cm4gKGEubmFtZSA8IGIubmFtZSkgPyAtMSA6IDE7XHJcbiAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhc3NlcnROb0R1cGxpY2F0ZSh3aGF0LCBwcmV2aW91c0RpcmVjdGl2ZSwgZGlyZWN0aXZlLCBlbGVtZW50KSB7XHJcblxyXG4gICAgICBmdW5jdGlvbiB3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZChtb2R1bGVOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZHVsZU5hbWUgP1xyXG4gICAgICAgICAgKCcgKG1vZHVsZTogJyArIG1vZHVsZU5hbWUgKyAnKScpIDpcclxuICAgICAgICAgICcnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocHJldmlvdXNEaXJlY3RpdmUpIHtcclxuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbXVsdGlkaXInLCAnTXVsdGlwbGUgZGlyZWN0aXZlcyBbezB9ezF9LCB7Mn17M31dIGFza2luZyBmb3IgezR9IG9uOiB7NX0nLFxyXG4gICAgICAgICAgICBwcmV2aW91c0RpcmVjdGl2ZS5uYW1lLCB3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZChwcmV2aW91c0RpcmVjdGl2ZS4kJG1vZHVsZU5hbWUpLFxyXG4gICAgICAgICAgICBkaXJlY3RpdmUubmFtZSwgd3JhcE1vZHVsZU5hbWVJZkRlZmluZWQoZGlyZWN0aXZlLiQkbW9kdWxlTmFtZSksIHdoYXQsIHN0YXJ0aW5nVGFnKGVsZW1lbnQpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcywgdGV4dCkge1xyXG4gICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZSh0ZXh0LCB0cnVlKTtcclxuICAgICAgaWYgKGludGVycG9sYXRlRm4pIHtcclxuICAgICAgICBkaXJlY3RpdmVzLnB1c2goe1xyXG4gICAgICAgICAgcHJpb3JpdHk6IDAsXHJcbiAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVDb21waWxlRm4odGVtcGxhdGVOb2RlKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZU5vZGVQYXJlbnQgPSB0ZW1wbGF0ZU5vZGUucGFyZW50KCksXHJcbiAgICAgICAgICAgICAgICBoYXNDb21waWxlUGFyZW50ID0gISF0ZW1wbGF0ZU5vZGVQYXJlbnQubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgLy8gV2hlbiB0cmFuc2NsdWRpbmcgYSB0ZW1wbGF0ZSB0aGF0IGhhcyBiaW5kaW5ncyBpbiB0aGUgcm9vdFxyXG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIGEgcGFyZW50IGFuZCB0aHVzIG5lZWQgdG8gYWRkIHRoZSBjbGFzcyBkdXJpbmcgbGlua2luZyBmbi5cclxuICAgICAgICAgICAgaWYgKGhhc0NvbXBpbGVQYXJlbnQpIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVOb2RlUGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVMaW5rRm4oc2NvcGUsIG5vZGUpIHtcclxuICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQoKTtcclxuICAgICAgICAgICAgICBpZiAoIWhhc0NvbXBpbGVQYXJlbnQpIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3MocGFyZW50KTtcclxuICAgICAgICAgICAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8ocGFyZW50LCBpbnRlcnBvbGF0ZUZuLmV4cHJlc3Npb25zKTtcclxuICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goaW50ZXJwb2xhdGVGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVGbldhdGNoQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlWzBdLm5vZGVWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHdyYXBUZW1wbGF0ZSh0eXBlLCB0ZW1wbGF0ZSkge1xyXG4gICAgICB0eXBlID0gbG93ZXJjYXNlKHR5cGUgfHwgJ2h0bWwnKTtcclxuICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3N2Zyc6XHJcbiAgICAgIGNhc2UgJ21hdGgnOlxyXG4gICAgICAgIHZhciB3cmFwcGVyID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gJzwnICsgdHlwZSArICc+JyArIHRlbXBsYXRlICsgJzwvJyArIHR5cGUgKyAnPic7XHJcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkQ29udGV4dChub2RlLCBhdHRyTm9ybWFsaXplZE5hbWUpIHtcclxuICAgICAgaWYgKGF0dHJOb3JtYWxpemVkTmFtZSA9PSBcInNyY2RvY1wiKSB7XHJcbiAgICAgICAgcmV0dXJuICRzY2UuSFRNTDtcclxuICAgICAgfVxyXG4gICAgICB2YXIgdGFnID0gbm9kZU5hbWVfKG5vZGUpO1xyXG4gICAgICAvLyBtYWN0aW9uW3hsaW5rOmhyZWZdIGNhbiBzb3VyY2UgU1ZHLiAgSXQncyBub3QgbGltaXRlZCB0byA8bWFjdGlvbj4uXHJcbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJ4bGlua0hyZWZcIiB8fFxyXG4gICAgICAgICAgKHRhZyA9PSBcImZvcm1cIiAmJiBhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJhY3Rpb25cIikgfHxcclxuICAgICAgICAgICh0YWcgIT0gXCJpbWdcIiAmJiAoYXR0ck5vcm1hbGl6ZWROYW1lID09IFwic3JjXCIgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJOb3JtYWxpemVkTmFtZSA9PSBcIm5nU3JjXCIpKSkge1xyXG4gICAgICAgIHJldHVybiAkc2NlLlJFU09VUkNFX1VSTDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5hbWUsIGFsbE9yTm90aGluZykge1xyXG4gICAgICB2YXIgdHJ1c3RlZENvbnRleHQgPSBnZXRUcnVzdGVkQ29udGV4dChub2RlLCBuYW1lKTtcclxuICAgICAgYWxsT3JOb3RoaW5nID0gQUxMX09SX05PVEhJTkdfQVRUUlNbbmFtZV0gfHwgYWxsT3JOb3RoaW5nO1xyXG5cclxuICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUodmFsdWUsIHRydWUsIHRydXN0ZWRDb250ZXh0LCBhbGxPck5vdGhpbmcpO1xyXG5cclxuICAgICAgLy8gbm8gaW50ZXJwb2xhdGlvbiBmb3VuZCAtPiBpZ25vcmVcclxuICAgICAgaWYgKCFpbnRlcnBvbGF0ZUZuKSByZXR1cm47XHJcblxyXG5cclxuICAgICAgaWYgKG5hbWUgPT09IFwibXVsdGlwbGVcIiAmJiBub2RlTmFtZV8obm9kZSkgPT09IFwic2VsZWN0XCIpIHtcclxuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycihcInNlbG11bHRpXCIsXHJcbiAgICAgICAgICAgIFwiQmluZGluZyB0byB0aGUgJ211bHRpcGxlJyBhdHRyaWJ1dGUgaXMgbm90IHN1cHBvcnRlZC4gRWxlbWVudDogezB9XCIsXHJcbiAgICAgICAgICAgIHN0YXJ0aW5nVGFnKG5vZGUpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZGlyZWN0aXZlcy5wdXNoKHtcclxuICAgICAgICBwcmlvcml0eTogMTAwLFxyXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIHByZTogZnVuY3Rpb24gYXR0ckludGVycG9sYXRlUHJlTGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSAoYXR0ci4kJG9ic2VydmVycyB8fCAoYXR0ci4kJG9ic2VydmVycyA9IGNyZWF0ZU1hcCgpKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAudGVzdChuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9kb21ldmVudHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJJbnRlcnBvbGF0aW9ucyBmb3IgSFRNTCBET00gZXZlbnQgYXR0cmlidXRlcyBhcmUgZGlzYWxsb3dlZC4gIFBsZWFzZSB1c2UgdGhlIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5nLSB2ZXJzaW9ucyAoc3VjaCBhcyBuZy1jbGljayBpbnN0ZWFkIG9mIG9uY2xpY2spIGluc3RlYWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIGNoYW5nZWQgc2luY2UgbGFzdCAkaW50ZXJwb2xhdGUoKWVkXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBhdHRyW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGludGVycG9sYXRlIGFnYWluIHNpbmNlIHRoZSBhdHRyaWJ1dGUgdmFsdWUgaGFzIGJlZW4gdXBkYXRlZFxyXG4gICAgICAgICAgICAgICAgICAvLyAoZS5nLiBieSBhbm90aGVyIGRpcmVjdGl2ZSdzIGNvbXBpbGUgZnVuY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSB1bnNldC9lbXB0eSB2YWx1ZXMgbWFrZSBpbnRlcnBvbGF0ZUZuIGZhbHN5XHJcbiAgICAgICAgICAgICAgICAgIGludGVycG9sYXRlRm4gPSBuZXdWYWx1ZSAmJiAkaW50ZXJwb2xhdGUobmV3VmFsdWUsIHRydWUsIHRydXN0ZWRDb250ZXh0LCBhbGxPck5vdGhpbmcpO1xyXG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGlmIGF0dHJpYnV0ZSB3YXMgdXBkYXRlZCBzbyB0aGF0IHRoZXJlIGlzIG5vIGludGVycG9sYXRpb24gZ29pbmcgb24gd2UgZG9uJ3Qgd2FudCB0b1xyXG4gICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXIgYW55IG9ic2VydmVyc1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZUZuKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZSBhdHRyIG9iamVjdCBzbyB0aGF0IGl0J3MgcmVhZHkgaW4gY2FzZSB3ZSBuZWVkIHRoZSB2YWx1ZSBmb3IgaXNvbGF0ZVxyXG4gICAgICAgICAgICAgICAgLy8gc2NvcGUgaW5pdGlhbGl6YXRpb24sIG90aGVyd2lzZSB0aGUgdmFsdWUgd291bGQgbm90IGJlIGF2YWlsYWJsZSBmcm9tIGlzb2xhdGVcclxuICAgICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZSdzIGxpbmtpbmcgZm4gZHVyaW5nIGxpbmtpbmcgcGhhc2VcclxuICAgICAgICAgICAgICAgIGF0dHJbbmFtZV0gPSBpbnRlcnBvbGF0ZUZuKHNjb3BlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAoJCRvYnNlcnZlcnNbbmFtZV0gfHwgKCQkb2JzZXJ2ZXJzW25hbWVdID0gW10pKS4kJGludGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIChhdHRyLiQkb2JzZXJ2ZXJzICYmIGF0dHIuJCRvYnNlcnZlcnNbbmFtZV0uJCRzY29wZSB8fCBzY29wZSkuXHJcbiAgICAgICAgICAgICAgICAgICR3YXRjaChpbnRlcnBvbGF0ZUZuLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUZuV2F0Y2hBY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zcGVjaWFsIGNhc2UgZm9yIGNsYXNzIGF0dHJpYnV0ZSBhZGRpdGlvbiArIHJlbW92YWxcclxuICAgICAgICAgICAgICAgICAgICAvL3NvIHRoYXQgY2xhc3MgY2hhbmdlcyBjYW4gdGFwIGludG8gdGhlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIC8vaG9va3MgcHJvdmlkZWQgYnkgdGhlICRhbmltYXRlIHNlcnZpY2UuIEJlIHN1cmUgdG9cclxuICAgICAgICAgICAgICAgICAgICAvL3NraXAgYW5pbWF0aW9ucyB3aGVuIHRoZSBmaXJzdCBkaWdlc3Qgb2NjdXJzICh3aGVuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9ib3RoIHRoZSBuZXcgYW5kIHRoZSBvbGQgdmFsdWVzIGFyZSB0aGUgc2FtZSkgc2luY2VcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZSBDU1MgY2xhc3NlcyBhcmUgdGhlIG5vbi1pbnRlcnBvbGF0ZWQgdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdjbGFzcycgJiYgbmV3VmFsdWUgIT0gb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGF0dHIuJHVwZGF0ZUNsYXNzKG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgaXMgYSBzcGVjaWFsIGpxTGl0ZS5yZXBsYWNlV2l0aCwgd2hpY2ggY2FuIHJlcGxhY2UgaXRlbXMgd2hpY2hcclxuICAgICAqIGhhdmUgbm8gcGFyZW50cywgcHJvdmlkZWQgdGhhdCB0aGUgY29udGFpbmluZyBqcUxpdGUgY29sbGVjdGlvbiBpcyBwcm92aWRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0pxTGl0ZT19ICRyb290RWxlbWVudCBUaGUgcm9vdCBvZiB0aGUgY29tcGlsZSB0cmVlLiBVc2VkIHNvIHRoYXQgd2UgY2FuIHJlcGxhY2Ugbm9kZXNcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSByb290IG9mIHRoZSB0cmVlLlxyXG4gICAgICogQHBhcmFtIHtKcUxpdGV9IGVsZW1lbnRzVG9SZW1vdmUgVGhlIGpxTGl0ZSBlbGVtZW50IHdoaWNoIHdlIGFyZSBnb2luZyB0byByZXBsYWNlLiBXZSBrZWVwXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgc2hlbGwsIGJ1dCByZXBsYWNlIGl0cyBET00gbm9kZSByZWZlcmVuY2UuXHJcbiAgICAgKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgVGhlIG5ldyBET00gbm9kZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVwbGFjZVdpdGgoJHJvb3RFbGVtZW50LCBlbGVtZW50c1RvUmVtb3ZlLCBuZXdOb2RlKSB7XHJcbiAgICAgIHZhciBmaXJzdEVsZW1lbnRUb1JlbW92ZSA9IGVsZW1lbnRzVG9SZW1vdmVbMF0sXHJcbiAgICAgICAgICByZW1vdmVDb3VudCA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoLFxyXG4gICAgICAgICAgcGFyZW50ID0gZmlyc3RFbGVtZW50VG9SZW1vdmUucGFyZW50Tm9kZSxcclxuICAgICAgICAgIGksIGlpO1xyXG5cclxuICAgICAgaWYgKCRyb290RWxlbWVudCkge1xyXG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gJHJvb3RFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgIGlmICgkcm9vdEVsZW1lbnRbaV0gPT0gZmlyc3RFbGVtZW50VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgJHJvb3RFbGVtZW50W2krK10gPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSwgajIgPSBqICsgcmVtb3ZlQ291bnQgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICBqaiA9ICRyb290RWxlbWVudC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgaiA8IGpqOyBqKyssIGoyKyspIHtcclxuICAgICAgICAgICAgICBpZiAoajIgPCBqaikge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RFbGVtZW50W2pdID0gJHJvb3RFbGVtZW50W2oyXTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICRyb290RWxlbWVudFtqXTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHJvb3RFbGVtZW50Lmxlbmd0aCAtPSByZW1vdmVDb3VudCAtIDE7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgcmVwbGFjZWQgZWxlbWVudCBpcyBhbHNvIHRoZSBqUXVlcnkgLmNvbnRleHQgdGhlbiByZXBsYWNlIGl0XHJcbiAgICAgICAgICAgIC8vIC5jb250ZXh0IGlzIGEgZGVwcmVjYXRlZCBqUXVlcnkgYXBpLCBzbyB3ZSBzaG91bGQgc2V0IGl0IG9ubHkgd2hlbiBqUXVlcnkgc2V0IGl0XHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jb250ZXh0L1xyXG4gICAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50LmNvbnRleHQgPT09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50LmNvbnRleHQgPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgZmlyc3RFbGVtZW50VG9SZW1vdmUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBcHBlbmQgYWxsIHRoZSBgZWxlbWVudHNUb1JlbW92ZWAgdG8gYSBmcmFnbWVudC4gVGhpcyB3aWxsLi4uXHJcbiAgICAgIC8vIC0gcmVtb3ZlIHRoZW0gZnJvbSB0aGUgRE9NXHJcbiAgICAgIC8vIC0gYWxsb3cgdGhlbSB0byBzdGlsbCBiZSB0cmF2ZXJzZWQgd2l0aCAubmV4dFNpYmxpbmdcclxuICAgICAgLy8gLSBhbGxvdyBhIHNpbmdsZSBmcmFnbWVudC5xU0EgdG8gZmV0Y2ggYWxsIGVsZW1lbnRzIGJlaW5nIHJlbW92ZWRcclxuICAgICAgdmFyIGZyYWdtZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgICAgZm9yIChpID0gMDsgaSA8IHJlbW92ZUNvdW50OyBpKyspIHtcclxuICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtZW50c1RvUmVtb3ZlW2ldKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGpxTGl0ZS5oYXNEYXRhKGZpcnN0RWxlbWVudFRvUmVtb3ZlKSkge1xyXG4gICAgICAgIC8vIENvcHkgb3ZlciB1c2VyIGRhdGEgKHRoYXQgaW5jbHVkZXMgQW5ndWxhcidzICRzY29wZSBldGMuKS4gRG9uJ3QgY29weSBwcml2YXRlXHJcbiAgICAgICAgLy8gZGF0YSBoZXJlIGJlY2F1c2UgdGhlcmUncyBubyBwdWJsaWMgaW50ZXJmYWNlIGluIGpRdWVyeSB0byBkbyB0aGF0IGFuZCBjb3B5aW5nIG92ZXJcclxuICAgICAgICAvLyBldmVudCBsaXN0ZW5lcnMgKHdoaWNoIGlzIHRoZSBtYWluIHVzZSBvZiBwcml2YXRlIGRhdGEpIHdvdWxkbid0IHdvcmsgYW55d2F5LlxyXG4gICAgICAgIGpxTGl0ZS5kYXRhKG5ld05vZGUsIGpxTGl0ZS5kYXRhKGZpcnN0RWxlbWVudFRvUmVtb3ZlKSk7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSAkZGVzdHJveSBldmVudCBsaXN0ZW5lcnMgZnJvbSBgZmlyc3RFbGVtZW50VG9SZW1vdmVgXHJcbiAgICAgICAganFMaXRlKGZpcnN0RWxlbWVudFRvUmVtb3ZlKS5vZmYoJyRkZXN0cm95Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENsZWFudXAgYW55IGRhdGEvbGlzdGVuZXJzIG9uIHRoZSBlbGVtZW50cyBhbmQgY2hpbGRyZW4uXHJcbiAgICAgIC8vIFRoaXMgaW5jbHVkZXMgaW52b2tpbmcgdGhlICRkZXN0cm95IGV2ZW50IG9uIGFueSBlbGVtZW50cyB3aXRoIGxpc3RlbmVycy5cclxuICAgICAganFMaXRlLmNsZWFuRGF0YShmcmFnbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJykpO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIHRoZSBqcUxpdGUgY29sbGVjdGlvbiB0byBvbmx5IGNvbnRhaW4gdGhlIGBuZXdOb2RlYFxyXG4gICAgICBmb3IgKGkgPSAxOyBpIDwgcmVtb3ZlQ291bnQ7IGkrKykge1xyXG4gICAgICAgIGRlbGV0ZSBlbGVtZW50c1RvUmVtb3ZlW2ldO1xyXG4gICAgICB9XHJcbiAgICAgIGVsZW1lbnRzVG9SZW1vdmVbMF0gPSBuZXdOb2RlO1xyXG4gICAgICBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCA9IDE7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNsb25lQW5kQW5ub3RhdGVGbihmbiwgYW5ub3RhdGlvbikge1xyXG4gICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKCkgeyByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfSwgZm4sIGFubm90YXRpb24pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBpbnZva2VMaW5rRm4obGlua0ZuLCBzY29wZSwgJGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbGlua0ZuKHNjb3BlLCAkZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4pO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSwgc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBTZXQgdXAgJHdhdGNoZXMgZm9yIGlzb2xhdGUgc2NvcGUgYW5kIGNvbnRyb2xsZXIgYmluZGluZ3MuIFRoaXMgcHJvY2Vzc1xyXG4gICAgLy8gb25seSBvY2N1cnMgZm9yIGlzb2xhdGUgc2NvcGVzIGFuZCBuZXcgc2NvcGVzIHdpdGggY29udHJvbGxlckFzLlxyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKHNjb3BlLCBhdHRycywgZGVzdGluYXRpb24sIGJpbmRpbmdzLCBkaXJlY3RpdmUpIHtcclxuICAgICAgdmFyIHJlbW92ZVdhdGNoQ29sbGVjdGlvbiA9IFtdO1xyXG4gICAgICB2YXIgaW5pdGlhbENoYW5nZXMgPSB7fTtcclxuICAgICAgdmFyIGNoYW5nZXM7XHJcbiAgICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uIGluaXRpYWxpemVCaW5kaW5nKGRlZmluaXRpb24sIHNjb3BlTmFtZSkge1xyXG4gICAgICAgIHZhciBhdHRyTmFtZSA9IGRlZmluaXRpb24uYXR0ck5hbWUsXHJcbiAgICAgICAgb3B0aW9uYWwgPSBkZWZpbml0aW9uLm9wdGlvbmFsLFxyXG4gICAgICAgIG1vZGUgPSBkZWZpbml0aW9uLm1vZGUsIC8vIEAsID0sIG9yICZcclxuICAgICAgICBsYXN0VmFsdWUsXHJcbiAgICAgICAgcGFyZW50R2V0LCBwYXJlbnRTZXQsIGNvbXBhcmUsIHJlbW92ZVdhdGNoO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcclxuXHJcbiAgICAgICAgICBjYXNlICdAJzpcclxuICAgICAgICAgICAgaWYgKCFvcHRpb25hbCAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywgYXR0ck5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IGF0dHJzW2F0dHJOYW1lXSA9IHZvaWQgMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZShhdHRyTmFtZSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IGlzQm9vbGVhbih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV07XHJcbiAgICAgICAgICAgICAgICByZWNvcmRDaGFuZ2VzKHNjb3BlTmFtZSwgdmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhdHRycy4kJG9ic2VydmVyc1thdHRyTmFtZV0uJCRzY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBhdHRyc1thdHRyTmFtZV07XHJcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhsYXN0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgYmVlbiBwcm92aWRlZCB0aGVuIHdlIHRyaWdnZXIgYW4gaW50ZXJwb2xhdGlvbiB0byBlbnN1cmVcclxuICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgaXMgdGhlcmUgZm9yIHVzZSBpbiB0aGUgbGluayBmblxyXG4gICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSAkaW50ZXJwb2xhdGUobGFzdFZhbHVlKShzY29wZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNCb29sZWFuKGxhc3RWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlcyBpcyBvbmUgb2YgdGhlIEJPT0xFQU5fQVRUUiB0aGVuIEFuZ3VsYXIgd2lsbCBoYXZlIGNvbnZlcnRlZFxyXG4gICAgICAgICAgICAgIC8vIHRoZSB2YWx1ZSB0byBib29sZWFuIHJhdGhlciB0aGFuIGEgc3RyaW5nLCBzbyB3ZSBzcGVjaWFsIGNhc2UgdGhpcyBzaXR1YXRpb25cclxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gbGFzdFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluaXRpYWxDaGFuZ2VzW3Njb3BlTmFtZV0gPSBuZXcgU2ltcGxlQ2hhbmdlKF9VTklOSVRJQUxJWkVEX1ZBTFVFLCBkZXN0aW5hdGlvbltzY29wZU5hbWVdKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSAnPSc6XHJcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywgYXR0ck5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKSBicmVhaztcclxuICAgICAgICAgICAgICBhdHRyc1thdHRyTmFtZV0gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9wdGlvbmFsICYmICFhdHRyc1thdHRyTmFtZV0pIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgcGFyZW50R2V0ID0gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSk7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRHZXQubGl0ZXJhbCkge1xyXG4gICAgICAgICAgICAgIGNvbXBhcmUgPSBlcXVhbHM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29tcGFyZSA9IGZ1bmN0aW9uIHNpbXBsZUNvbXBhcmUoYSwgYikgeyByZXR1cm4gYSA9PT0gYiB8fCAoYSAhPT0gYSAmJiBiICE9PSBiKTsgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJlbnRTZXQgPSBwYXJlbnRHZXQuYXNzaWduIHx8IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBjaGFuZ2UsIG9yIHdlIHdpbGwgdGhyb3cgdGhpcyBleGNlcHRpb24gb24gZXZlcnkgJGRpZ2VzdFxyXG4gICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpO1xyXG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub25hc3NpZ24nLFxyXG4gICAgICAgICAgICAgICAgICBcIkV4cHJlc3Npb24gJ3swfScgaW4gYXR0cmlidXRlICd7MX0nIHVzZWQgd2l0aCBkaXJlY3RpdmUgJ3syfScgaXMgbm9uLWFzc2lnbmFibGUhXCIsXHJcbiAgICAgICAgICAgICAgICAgIGF0dHJzW2F0dHJOYW1lXSwgYXR0ck5hbWUsIGRpcmVjdGl2ZS5uYW1lKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbGFzdFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHBhcmVudEdldChzY29wZSk7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnRWYWx1ZVdhdGNoID0gZnVuY3Rpb24gcGFyZW50VmFsdWVXYXRjaChwYXJlbnRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgIGlmICghY29tcGFyZShwYXJlbnRWYWx1ZSwgZGVzdGluYXRpb25bc2NvcGVOYW1lXSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBvdXQgb2Ygc3luYyBhbmQgbmVlZCB0byBjb3B5XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBhcmUocGFyZW50VmFsdWUsIGxhc3RWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gcGFyZW50IGNoYW5nZWQgYW5kIGl0IGhhcyBwcmVjZWRlbmNlXHJcbiAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBwYXJlbnRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwYXJlbnQgY2FuIGJlIGFzc2lnbmVkIHRoZW4gZG8gc29cclxuICAgICAgICAgICAgICAgICAgcGFyZW50U2V0KHNjb3BlLCBwYXJlbnRWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXR1cm4gbGFzdFZhbHVlID0gcGFyZW50VmFsdWU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHBhcmVudFZhbHVlV2F0Y2guJHN0YXRlZnVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uY29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgIHJlbW92ZVdhdGNoID0gc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihhdHRyc1thdHRyTmFtZV0sIHBhcmVudFZhbHVlV2F0Y2gpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlbW92ZVdhdGNoID0gc2NvcGUuJHdhdGNoKCRwYXJzZShhdHRyc1thdHRyTmFtZV0sIHBhcmVudFZhbHVlV2F0Y2gpLCBudWxsLCBwYXJlbnRHZXQubGl0ZXJhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uLnB1c2gocmVtb3ZlV2F0Y2gpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlICc8JzpcclxuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJzLCBhdHRyTmFtZSkpIHtcclxuICAgICAgICAgICAgICBpZiAob3B0aW9uYWwpIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGF0dHJzW2F0dHJOYW1lXSA9IHZvaWQgMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob3B0aW9uYWwgJiYgIWF0dHJzW2F0dHJOYW1lXSkgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBwYXJlbnRHZXQgPSAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKTtcclxuXHJcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpO1xyXG4gICAgICAgICAgICBpbml0aWFsQ2hhbmdlc1tzY29wZU5hbWVdID0gbmV3IFNpbXBsZUNoYW5nZShfVU5JTklUSUFMSVpFRF9WQUxVRSwgZGVzdGluYXRpb25bc2NvcGVOYW1lXSk7XHJcblxyXG4gICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlLiR3YXRjaChwYXJlbnRHZXQsIGZ1bmN0aW9uIHBhcmVudFZhbHVlV2F0Y2hBY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5ldyBhbmQgb2xkIHZhbHVlcyBhcmUgaWRlbnRpY2FsIHRoZW4gdGhpcyBpcyB0aGUgZmlyc3QgdGltZSB0aGUgd2F0Y2ggaGFzIGJlZW4gdHJpZ2dlcmVkXHJcbiAgICAgICAgICAgICAgICAvLyBTbyBpbnN0ZWFkIHdlIHVzZSB0aGUgY3VycmVudCB2YWx1ZSBvbiB0aGUgZGVzdGluYXRpb24gYXMgdGhlIG9sZCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZWNvcmRDaGFuZ2VzKHNjb3BlTmFtZSwgbmV3VmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudEdldC5saXRlcmFsKTtcclxuXHJcbiAgICAgICAgICAgIHJlbW92ZVdhdGNoQ29sbGVjdGlvbi5wdXNoKHJlbW92ZVdhdGNoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSAnJic6XHJcbiAgICAgICAgICAgIC8vIERvbid0IGFzc2lnbiBPYmplY3QucHJvdG90eXBlIG1ldGhvZCB0byBzY29wZVxyXG4gICAgICAgICAgICBwYXJlbnRHZXQgPSBhdHRycy5oYXNPd25Qcm9wZXJ0eShhdHRyTmFtZSkgPyAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKSA6IG5vb3A7XHJcblxyXG4gICAgICAgICAgICAvLyBEb24ndCBhc3NpZ24gbm9vcCB0byBkZXN0aW5hdGlvbiBpZiBleHByZXNzaW9uIGlzIG5vdCB2YWxpZFxyXG4gICAgICAgICAgICBpZiAocGFyZW50R2V0ID09PSBub29wICYmIG9wdGlvbmFsKSBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBmdW5jdGlvbihsb2NhbHMpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gcGFyZW50R2V0KHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gcmVjb3JkQ2hhbmdlcyhrZXksIGN1cnJlbnRWYWx1ZSwgcHJldmlvdXNWYWx1ZSkge1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGRlc3RpbmF0aW9uLiRvbkNoYW5nZXMpICYmIGN1cnJlbnRWYWx1ZSAhPT0gcHJldmlvdXNWYWx1ZSkge1xyXG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBub3QgYWxyZWFkeSBzY2hlZHVsZWQgdGhlIHRvcCBsZXZlbCBvbkNoYW5nZXNRdWV1ZSBoYW5kbGVyIHRoZW4gZG8gc28gbm93XHJcbiAgICAgICAgICBpZiAoIW9uQ2hhbmdlc1F1ZXVlKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLiQkcG9zdERpZ2VzdChmbHVzaE9uQ2hhbmdlc1F1ZXVlKTtcclxuICAgICAgICAgICAgb25DaGFuZ2VzUXVldWUgPSBbXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgbm90IGFscmVhZHkgcXVldWVkIGEgdHJpZ2dlciBvZiBvbkNoYW5nZXMgZm9yIHRoaXMgY29udHJvbGxlciB0aGVuIGRvIHNvIG5vd1xyXG4gICAgICAgICAgaWYgKCFjaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgIGNoYW5nZXMgPSB7fTtcclxuICAgICAgICAgICAgb25DaGFuZ2VzUXVldWUucHVzaCh0cmlnZ2VyT25DaGFuZ2VzSG9vayk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBJZiB0aGUgaGFzIGJlZW4gYSBjaGFuZ2Ugb24gdGhpcyBwcm9wZXJ0eSBhbHJlYWR5IHRoZW4gd2UgbmVlZCB0byByZXVzZSB0aGUgcHJldmlvdXMgdmFsdWVcclxuICAgICAgICAgIGlmIChjaGFuZ2VzW2tleV0pIHtcclxuICAgICAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNoYW5nZXNba2V5XS5wcmV2aW91c1ZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gU3RvcmUgdGhpcyBjaGFuZ2VcclxuICAgICAgICAgIGNoYW5nZXNba2V5XSA9IG5ldyBTaW1wbGVDaGFuZ2UocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHRyaWdnZXJPbkNoYW5nZXNIb29rKCkge1xyXG4gICAgICAgIGRlc3RpbmF0aW9uLiRvbkNoYW5nZXMoY2hhbmdlcyk7XHJcbiAgICAgICAgLy8gTm93IGNsZWFyIHRoZSBjaGFuZ2VzIHNvIHRoYXQgd2Ugc2NoZWR1bGUgb25DaGFuZ2VzIHdoZW4gbW9yZSBjaGFuZ2VzIGFycml2ZVxyXG4gICAgICAgIGNoYW5nZXMgPSB1bmRlZmluZWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdGlhbENoYW5nZXM6IGluaXRpYWxDaGFuZ2VzLFxyXG4gICAgICAgIHJlbW92ZVdhdGNoZXM6IHJlbW92ZVdhdGNoQ29sbGVjdGlvbi5sZW5ndGggJiYgZnVuY3Rpb24gcmVtb3ZlV2F0Y2hlcygpIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHJlbW92ZVdhdGNoQ29sbGVjdGlvbi5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVdhdGNoQ29sbGVjdGlvbltpXSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XTtcclxufVxyXG5cclxuZnVuY3Rpb24gU2ltcGxlQ2hhbmdlKHByZXZpb3VzLCBjdXJyZW50KSB7XHJcbiAgdGhpcy5wcmV2aW91c1ZhbHVlID0gcHJldmlvdXM7XHJcbiAgdGhpcy5jdXJyZW50VmFsdWUgPSBjdXJyZW50O1xyXG59XHJcblNpbXBsZUNoYW5nZS5wcm90b3R5cGUuaXNGaXJzdENoYW5nZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5wcmV2aW91c1ZhbHVlID09PSBfVU5JTklUSUFMSVpFRF9WQUxVRTsgfTtcclxuXHJcblxyXG52YXIgUFJFRklYX1JFR0VYUCA9IC9eKCg/Onh8ZGF0YSlbXFw6XFwtX10pL2k7XHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBhbGwgYWNjZXB0ZWQgZGlyZWN0aXZlcyBmb3JtYXQgaW50byBwcm9wZXIgZGlyZWN0aXZlIG5hbWUuXHJcbiAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXHJcbiAqL1xyXG5mdW5jdGlvbiBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSkge1xyXG4gIHJldHVybiBjYW1lbENhc2UobmFtZS5yZXBsYWNlKFBSRUZJWF9SRUdFWFAsICcnKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgdHlwZVxyXG4gKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQSBzaGFyZWQgb2JqZWN0IGJldHdlZW4gZGlyZWN0aXZlIGNvbXBpbGUgLyBsaW5raW5nIGZ1bmN0aW9ucyB3aGljaCBjb250YWlucyBub3JtYWxpemVkIERPTVxyXG4gKiBlbGVtZW50IGF0dHJpYnV0ZXMuIFRoZSB2YWx1ZXMgcmVmbGVjdCBjdXJyZW50IGJpbmRpbmcgc3RhdGUgYHt7IH19YC4gVGhlIG5vcm1hbGl6YXRpb24gaXNcclxuICogbmVlZGVkIHNpbmNlIGFsbCBvZiB0aGVzZSBhcmUgdHJlYXRlZCBhcyBlcXVpdmFsZW50IGluIEFuZ3VsYXI6XHJcbiAqXHJcbiAqIGBgYFxyXG4gKiAgICA8c3BhbiBuZzpiaW5kPVwiYVwiIG5nLWJpbmQ9XCJhXCIgZGF0YS1uZy1iaW5kPVwiYVwiIHgtbmctYmluZD1cImFcIj5cclxuICogYGBgXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkYXR0clxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQSBtYXAgb2YgRE9NIGVsZW1lbnQgYXR0cmlidXRlIG5hbWVzIHRvIHRoZSBub3JtYWxpemVkIG5hbWUuIFRoaXMgaXNcclxuICogbmVlZGVkIHRvIGRvIHJldmVyc2UgbG9va3VwIGZyb20gbm9ybWFsaXplZCBuYW1lIGJhY2sgdG8gYWN0dWFsIG5hbWUuXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRzZXRcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNldCBET00gZWxlbWVudCBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5vcm1hbGl6ZWQgZWxlbWVudCBhdHRyaWJ1dGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gbW9kaWZ5LiBUaGUgbmFtZSBpc1xyXG4gKiAgICAgICAgICByZXZlcnNlLXRyYW5zbGF0ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkYXR0ciAkYXR0cn1cclxuICogICAgICAgICAgcHJvcGVydHkgdG8gdGhlIG9yaWdpbmFsIG5hbWUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byBzZXQgdGhlIGF0dHJpYnV0ZSB0by4gVGhlIHZhbHVlIGNhbiBiZSBhbiBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxyXG4gKi9cclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIENsb3N1cmUgY29tcGlsZXIgdHlwZSBpbmZvcm1hdGlvblxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIG5vZGVzZXRMaW5raW5nRm4oXHJcbiAgLyogYW5ndWxhci5TY29wZSAqLyBzY29wZSxcclxuICAvKiBOb2RlTGlzdCAqLyBub2RlTGlzdCxcclxuICAvKiBFbGVtZW50ICovIHJvb3RFbGVtZW50LFxyXG4gIC8qIGZ1bmN0aW9uKEZ1bmN0aW9uKSAqLyBib3VuZFRyYW5zY2x1ZGVGblxyXG4pIHt9XHJcblxyXG5mdW5jdGlvbiBkaXJlY3RpdmVMaW5raW5nRm4oXHJcbiAgLyogbm9kZXNldExpbmtpbmdGbiAqLyBub2Rlc2V0TGlua2luZ0ZuLFxyXG4gIC8qIGFuZ3VsYXIuU2NvcGUgKi8gc2NvcGUsXHJcbiAgLyogTm9kZSAqLyBub2RlLFxyXG4gIC8qIEVsZW1lbnQgKi8gcm9vdEVsZW1lbnQsXHJcbiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovIGJvdW5kVHJhbnNjbHVkZUZuXHJcbikge31cclxuXHJcbmZ1bmN0aW9uIHRva2VuRGlmZmVyZW5jZShzdHIxLCBzdHIyKSB7XHJcbiAgdmFyIHZhbHVlcyA9ICcnLFxyXG4gICAgICB0b2tlbnMxID0gc3RyMS5zcGxpdCgvXFxzKy8pLFxyXG4gICAgICB0b2tlbnMyID0gc3RyMi5zcGxpdCgvXFxzKy8pO1xyXG5cclxuICBvdXRlcjpcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2VuczEubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciB0b2tlbiA9IHRva2VuczFbaV07XHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRva2VuczIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgaWYgKHRva2VuID09IHRva2VuczJbal0pIGNvbnRpbnVlIG91dGVyO1xyXG4gICAgfVxyXG4gICAgdmFsdWVzICs9ICh2YWx1ZXMubGVuZ3RoID4gMCA/ICcgJyA6ICcnKSArIHRva2VuO1xyXG4gIH1cclxuICByZXR1cm4gdmFsdWVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVDb21tZW50cyhqcU5vZGVzKSB7XHJcbiAganFOb2RlcyA9IGpxTGl0ZShqcU5vZGVzKTtcclxuICB2YXIgaSA9IGpxTm9kZXMubGVuZ3RoO1xyXG5cclxuICBpZiAoaSA8PSAxKSB7XHJcbiAgICByZXR1cm4ganFOb2RlcztcclxuICB9XHJcblxyXG4gIHdoaWxlIChpLS0pIHtcclxuICAgIHZhciBub2RlID0ganFOb2Rlc1tpXTtcclxuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfQ09NTUVOVCkge1xyXG4gICAgICBzcGxpY2UuY2FsbChqcU5vZGVzLCBpLCAxKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGpxTm9kZXM7XHJcbn1cclxuXHJcbnZhciAkY29udHJvbGxlck1pbkVyciA9IG1pbkVycignJGNvbnRyb2xsZXInKTtcclxuXHJcblxyXG52YXIgQ05UUkxfUkVHID0gL14oXFxTKykoXFxzK2FzXFxzKyhbXFx3JF0rKSk/JC87XHJcbmZ1bmN0aW9uIGlkZW50aWZpZXJGb3JDb250cm9sbGVyKGNvbnRyb2xsZXIsIGlkZW50KSB7XHJcbiAgaWYgKGlkZW50ICYmIGlzU3RyaW5nKGlkZW50KSkgcmV0dXJuIGlkZW50O1xyXG4gIGlmIChpc1N0cmluZyhjb250cm9sbGVyKSkge1xyXG4gICAgdmFyIG1hdGNoID0gQ05UUkxfUkVHLmV4ZWMoY29udHJvbGxlcik7XHJcbiAgICBpZiAobWF0Y2gpIHJldHVybiBtYXRjaFszXTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3ZpZGVyXHJcbiAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXJcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSB7QGxpbmsgbmcuJGNvbnRyb2xsZXIgJGNvbnRyb2xsZXIgc2VydmljZX0gaXMgdXNlZCBieSBBbmd1bGFyIHRvIGNyZWF0ZSBuZXdcclxuICogY29udHJvbGxlcnMuXHJcbiAqXHJcbiAqIFRoaXMgcHJvdmlkZXIgYWxsb3dzIGNvbnRyb2xsZXIgcmVnaXN0cmF0aW9uIHZpYSB0aGVcclxuICoge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXIgcmVnaXN0ZXJ9IG1ldGhvZC5cclxuICovXHJcbmZ1bmN0aW9uICRDb250cm9sbGVyUHJvdmlkZXIoKSB7XHJcbiAgdmFyIGNvbnRyb2xsZXJzID0ge30sXHJcbiAgICAgIGdsb2JhbHMgPSBmYWxzZTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXIjaGFzXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQ29udHJvbGxlciBuYW1lIHRvIGNoZWNrLlxyXG4gICAqL1xyXG4gIHRoaXMuaGFzID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgcmV0dXJuIGNvbnRyb2xsZXJzLmhhc093blByb3BlcnR5KG5hbWUpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIENvbnRyb2xsZXIgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBjb250cm9sbGVycyB3aGVyZSB0aGUga2V5cyBhcmVcclxuICAgKiAgICB0aGUgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBjb25zdHJ1Y3RvcnMuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheX0gY29uc3RydWN0b3IgQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmbiAob3B0aW9uYWxseSBkZWNvcmF0ZWQgd2l0aCBESVxyXG4gICAqICAgIGFubm90YXRpb25zIGluIHRoZSBhcnJheSBub3RhdGlvbikuXHJcbiAgICovXHJcbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWUsIGNvbnN0cnVjdG9yKSB7XHJcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnY29udHJvbGxlcicpO1xyXG4gICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XHJcbiAgICAgIGV4dGVuZChjb250cm9sbGVycywgbmFtZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb250cm9sbGVyc1tuYW1lXSA9IGNvbnN0cnVjdG9yO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFsc1xyXG4gICAqIEBkZXNjcmlwdGlvbiBJZiBjYWxsZWQsIGFsbG93cyBgJGNvbnRyb2xsZXJgIHRvIGZpbmQgY29udHJvbGxlciBjb25zdHJ1Y3RvcnMgb24gYHdpbmRvd2BcclxuICAgKi9cclxuICB0aGlzLmFsbG93R2xvYmFscyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZ2xvYmFscyA9IHRydWU7XHJcbiAgfTtcclxuXHJcblxyXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyR3aW5kb3cnLCBmdW5jdGlvbigkaW5qZWN0b3IsICR3aW5kb3cpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgKiBAbmFtZSAkY29udHJvbGxlclxyXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBjb25zdHJ1Y3RvciBJZiBjYWxsZWQgd2l0aCBhIGZ1bmN0aW9uIHRoZW4gaXQncyBjb25zaWRlcmVkIHRvIGJlIHRoZVxyXG4gICAgICogICAgY29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gT3RoZXJ3aXNlIGl0J3MgY29uc2lkZXJlZCB0byBiZSBhIHN0cmluZyB3aGljaCBpcyB1c2VkXHJcbiAgICAgKiAgICB0byByZXRyaWV2ZSB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciB1c2luZyB0aGUgZm9sbG93aW5nIHN0ZXBzOlxyXG4gICAgICpcclxuICAgICAqICAgICogY2hlY2sgaWYgYSBjb250cm9sbGVyIHdpdGggZ2l2ZW4gbmFtZSBpcyByZWdpc3RlcmVkIHZpYSBgJGNvbnRyb2xsZXJQcm92aWRlcmBcclxuICAgICAqICAgICogY2hlY2sgaWYgZXZhbHVhdGluZyB0aGUgc3RyaW5nIG9uIHRoZSBjdXJyZW50IHNjb3BlIHJldHVybnMgYSBjb25zdHJ1Y3RvclxyXG4gICAgICogICAgKiBpZiAkY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFscywgY2hlY2sgYHdpbmRvd1tjb25zdHJ1Y3Rvcl1gIG9uIHRoZSBnbG9iYWxcclxuICAgICAqICAgICAgYHdpbmRvd2Agb2JqZWN0IChub3QgcmVjb21tZW5kZWQpXHJcbiAgICAgKlxyXG4gICAgICogICAgVGhlIHN0cmluZyBjYW4gdXNlIHRoZSBgY29udHJvbGxlciBhcyBwcm9wZXJ0eWAgc3ludGF4LCB3aGVyZSB0aGUgY29udHJvbGxlciBpbnN0YW5jZSBpcyBwdWJsaXNoZWRcclxuICAgICAqICAgIGFzIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgb24gdGhlIGBzY29wZWA7IHRoZSBgc2NvcGVgIG11c3QgYmUgaW5qZWN0ZWQgaW50byBgbG9jYWxzYCBwYXJhbSBmb3IgdGhpc1xyXG4gICAgICogICAgdG8gd29yayBjb3JyZWN0bHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGxvY2FscyBJbmplY3Rpb24gbG9jYWxzIGZvciBDb250cm9sbGVyLlxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBJbnN0YW5jZSBvZiBnaXZlbiBjb250cm9sbGVyLlxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogYCRjb250cm9sbGVyYCBzZXJ2aWNlIGlzIHJlc3BvbnNpYmxlIGZvciBpbnN0YW50aWF0aW5nIGNvbnRyb2xsZXJzLlxyXG4gICAgICpcclxuICAgICAqIEl0J3MganVzdCBhIHNpbXBsZSBjYWxsIHRvIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBidXQgZXh0cmFjdGVkIGludG9cclxuICAgICAqIGEgc2VydmljZSwgc28gdGhhdCBvbmUgY2FuIG92ZXJyaWRlIHRoaXMgc2VydmljZSB3aXRoIFtCQyB2ZXJzaW9uXShodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNjQ5Nzg4KS5cclxuICAgICAqL1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICRjb250cm9sbGVyKGV4cHJlc3Npb24sIGxvY2FscywgbGF0ZXIsIGlkZW50KSB7XHJcbiAgICAgIC8vIFBSSVZBVEUgQVBJOlxyXG4gICAgICAvLyAgIHBhcmFtIGBsYXRlcmAgLS0tIGluZGljYXRlcyB0aGF0IHRoZSBjb250cm9sbGVyJ3MgY29uc3RydWN0b3IgaXMgaW52b2tlZCBhdCBhIGxhdGVyIHRpbWUuXHJcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgJGNvbnRyb2xsZXIgd2lsbCBhbGxvY2F0ZSB0aGUgb2JqZWN0IHdpdGggdGhlIGNvcnJlY3RcclxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBwcm90b3R5cGUgY2hhaW4sIGJ1dCB3aWxsIG5vdCBpbnZva2UgdGhlIGNvbnRyb2xsZXIgdW50aWwgYSByZXR1cm5lZFxyXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrIGlzIGludm9rZWQuXHJcbiAgICAgIC8vICAgcGFyYW0gYGlkZW50YCAtLS0gQW4gb3B0aW9uYWwgbGFiZWwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBsYWJlbCBwYXJzZWQgZnJvbSB0aGUgY29udHJvbGxlclxyXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24sIGlmIGFueS5cclxuICAgICAgdmFyIGluc3RhbmNlLCBtYXRjaCwgY29uc3RydWN0b3IsIGlkZW50aWZpZXI7XHJcbiAgICAgIGxhdGVyID0gbGF0ZXIgPT09IHRydWU7XHJcbiAgICAgIGlmIChpZGVudCAmJiBpc1N0cmluZyhpZGVudCkpIHtcclxuICAgICAgICBpZGVudGlmaWVyID0gaWRlbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpc1N0cmluZyhleHByZXNzaW9uKSkge1xyXG4gICAgICAgIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaChDTlRSTF9SRUcpO1xyXG4gICAgICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICAgIHRocm93ICRjb250cm9sbGVyTWluRXJyKCdjdHJsZm10JyxcclxuICAgICAgICAgICAgXCJCYWRseSBmb3JtZWQgY29udHJvbGxlciBzdHJpbmcgJ3swfScuIFwiICtcclxuICAgICAgICAgICAgXCJNdXN0IG1hdGNoIGBfX25hbWVfXyBhcyBfX2lkX19gIG9yIGBfX25hbWVfX2AuXCIsIGV4cHJlc3Npb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdHJ1Y3RvciA9IG1hdGNoWzFdLFxyXG4gICAgICAgIGlkZW50aWZpZXIgPSBpZGVudGlmaWVyIHx8IG1hdGNoWzNdO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBjb250cm9sbGVycy5oYXNPd25Qcm9wZXJ0eShjb25zdHJ1Y3RvcilcclxuICAgICAgICAgICAgPyBjb250cm9sbGVyc1tjb25zdHJ1Y3Rvcl1cclxuICAgICAgICAgICAgOiBnZXR0ZXIobG9jYWxzLiRzY29wZSwgY29uc3RydWN0b3IsIHRydWUpIHx8XHJcbiAgICAgICAgICAgICAgICAoZ2xvYmFscyA/IGdldHRlcigkd2luZG93LCBjb25zdHJ1Y3RvciwgdHJ1ZSkgOiB1bmRlZmluZWQpO1xyXG5cclxuICAgICAgICBhc3NlcnRBcmdGbihleHByZXNzaW9uLCBjb25zdHJ1Y3RvciwgdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChsYXRlcikge1xyXG4gICAgICAgIC8vIEluc3RhbnRpYXRlIGNvbnRyb2xsZXIgbGF0ZXI6XHJcbiAgICAgICAgLy8gVGhpcyBtYWNoaW5lcnkgaXMgdXNlZCB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIG9iamVjdCBiZWZvcmUgY2FsbGluZyB0aGVcclxuICAgICAgICAvLyBjb250cm9sbGVyJ3MgY29uc3RydWN0b3IgaXRzZWxmLlxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byB0aGUgY29udHJvbGxlciBiZWZvcmUgdGhlIGNvbnN0cnVjdG9yIGlzXHJcbiAgICAgICAgLy8gaW52b2tlZC4gUHJpbWFyaWx5LCB0aGlzIGlzIHVzZWQgZm9yIGlzb2xhdGUgc2NvcGUgYmluZGluZ3MgaW4gJGNvbXBpbGUuXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBUaGlzIGZlYXR1cmUgaXMgbm90IGludGVuZGVkIGZvciB1c2UgYnkgYXBwbGljYXRpb25zLCBhbmQgaXMgdGh1cyBub3QgZG9jdW1lbnRlZFxyXG4gICAgICAgIC8vIHB1YmxpY2x5LlxyXG4gICAgICAgIC8vIE9iamVjdCBjcmVhdGlvbjogaHR0cDovL2pzcGVyZi5jb20vY3JlYXRlLWNvbnN0cnVjdG9yLzJcclxuICAgICAgICB2YXIgY29udHJvbGxlclByb3RvdHlwZSA9IChpc0FycmF5KGV4cHJlc3Npb24pID9cclxuICAgICAgICAgIGV4cHJlc3Npb25bZXhwcmVzc2lvbi5sZW5ndGggLSAxXSA6IGV4cHJlc3Npb24pLnByb3RvdHlwZTtcclxuICAgICAgICBpbnN0YW5jZSA9IE9iamVjdC5jcmVhdGUoY29udHJvbGxlclByb3RvdHlwZSB8fCBudWxsKTtcclxuXHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIpIHtcclxuICAgICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBpbnN0YW50aWF0ZTtcclxuICAgICAgICByZXR1cm4gaW5zdGFudGlhdGUgPSBleHRlbmQoZnVuY3Rpb24gJGNvbnRyb2xsZXJJbml0KCkge1xyXG4gICAgICAgICAgdmFyIHJlc3VsdCA9ICRpbmplY3Rvci5pbnZva2UoZXhwcmVzc2lvbiwgaW5zdGFuY2UsIGxvY2FscywgY29uc3RydWN0b3IpO1xyXG4gICAgICAgICAgaWYgKHJlc3VsdCAhPT0gaW5zdGFuY2UgJiYgKGlzT2JqZWN0KHJlc3VsdCkgfHwgaXNGdW5jdGlvbihyZXN1bHQpKSkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgaWYgKGlkZW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAvLyBJZiByZXN1bHQgY2hhbmdlZCwgcmUtYXNzaWduIGNvbnRyb2xsZXJBcyB2YWx1ZSB0byBzY29wZS5cclxuICAgICAgICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2UsXHJcbiAgICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGluc3RhbmNlID0gJGluamVjdG9yLmluc3RhbnRpYXRlKGV4cHJlc3Npb24sIGxvY2FscywgY29uc3RydWN0b3IpO1xyXG5cclxuICAgICAgaWYgKGlkZW50aWZpZXIpIHtcclxuICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBuYW1lKSB7XHJcbiAgICAgIGlmICghKGxvY2FscyAmJiBpc09iamVjdChsb2NhbHMuJHNjb3BlKSkpIHtcclxuICAgICAgICB0aHJvdyBtaW5FcnIoJyRjb250cm9sbGVyJykoJ25vc2NwJyxcclxuICAgICAgICAgIFwiQ2Fubm90IGV4cG9ydCBjb250cm9sbGVyICd7MH0nIGFzICd7MX0nISBObyAkc2NvcGUgb2JqZWN0IHByb3ZpZGVkIHZpYSBgbG9jYWxzYC5cIixcclxuICAgICAgICAgIG5hbWUsIGlkZW50aWZpZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsb2NhbHMuJHNjb3BlW2lkZW50aWZpZXJdID0gaW5zdGFuY2U7XHJcbiAgICB9XHJcbiAgfV07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkZG9jdW1lbnRcclxuICogQHJlcXVpcmVzICR3aW5kb3dcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEEge0BsaW5rIGFuZ3VsYXIuZWxlbWVudCBqUXVlcnkgb3IganFMaXRlfSB3cmFwcGVyIGZvciB0aGUgYnJvd3NlcidzIGB3aW5kb3cuZG9jdW1lbnRgIG9iamVjdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbW9kdWxlPVwiZG9jdW1lbnRFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxwPiRkb2N1bWVudCB0aXRsZTogPGIgbmctYmluZD1cInRpdGxlXCI+PC9iPjwvcD5cclxuICAgICAgICAgPHA+d2luZG93LmRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwid2luZG93VGl0bGVcIj48L2I+PC9wPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdkb2N1bWVudEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGRvY3VtZW50JywgZnVuY3Rpb24oJHNjb3BlLCAkZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAkc2NvcGUudGl0bGUgPSAkZG9jdW1lbnRbMF0udGl0bGU7XHJcbiAgICAgICAgICAgJHNjb3BlLndpbmRvd1RpdGxlID0gYW5ndWxhci5lbGVtZW50KHdpbmRvdy5kb2N1bWVudClbMF0udGl0bGU7XHJcbiAgICAgICAgIH1dKTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbmZ1bmN0aW9uICREb2N1bWVudFByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsIGZ1bmN0aW9uKHdpbmRvdykge1xyXG4gICAgcmV0dXJuIGpxTGl0ZSh3aW5kb3cuZG9jdW1lbnQpO1xyXG4gIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGV4Y2VwdGlvbkhhbmRsZXJcclxuICogQHJlcXVpcmVzIG5nLiRsb2dcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEFueSB1bmNhdWdodCBleGNlcHRpb24gaW4gYW5ndWxhciBleHByZXNzaW9ucyBpcyBkZWxlZ2F0ZWQgdG8gdGhpcyBzZXJ2aWNlLlxyXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBzaW1wbHkgZGVsZWdhdGVzIHRvIGAkbG9nLmVycm9yYCB3aGljaCBsb2dzIGl0IGludG9cclxuICogdGhlIGJyb3dzZXIgY29uc29sZS5cclxuICpcclxuICogSW4gdW5pdCB0ZXN0cywgaWYgYGFuZ3VsYXItbW9ja3MuanNgIGlzIGxvYWRlZCwgdGhpcyBzZXJ2aWNlIGlzIG92ZXJyaWRkZW4gYnlcclxuICoge0BsaW5rIG5nTW9jay4kZXhjZXB0aW9uSGFuZGxlciBtb2NrICRleGNlcHRpb25IYW5kbGVyfSB3aGljaCBhaWRzIGluIHRlc3RpbmcuXHJcbiAqXHJcbiAqICMjIEV4YW1wbGU6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgYW5ndWxhci5tb2R1bGUoJ2V4Y2VwdGlvbk92ZXJyaWRlJywgW10pLmZhY3RvcnkoJyRleGNlcHRpb25IYW5kbGVyJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICByZXR1cm4gZnVuY3Rpb24oZXhjZXB0aW9uLCBjYXVzZSkge1xyXG4gKiAgICAgICBleGNlcHRpb24ubWVzc2FnZSArPSAnIChjYXVzZWQgYnkgXCInICsgY2F1c2UgKyAnXCIpJztcclxuICogICAgICAgdGhyb3cgZXhjZXB0aW9uO1xyXG4gKiAgICAgfTtcclxuICogICB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFRoaXMgZXhhbXBsZSB3aWxsIG92ZXJyaWRlIHRoZSBub3JtYWwgYWN0aW9uIG9mIGAkZXhjZXB0aW9uSGFuZGxlcmAsIHRvIG1ha2UgYW5ndWxhclxyXG4gKiBleGNlcHRpb25zIGZhaWwgaGFyZCB3aGVuIHRoZXkgaGFwcGVuLCBpbnN0ZWFkIG9mIGp1c3QgbG9nZ2luZyB0byB0aGUgY29uc29sZS5cclxuICpcclxuICogPGhyIC8+XHJcbiAqIE5vdGUsIHRoYXQgY29kZSBleGVjdXRlZCBpbiBldmVudC1saXN0ZW5lcnMgKGV2ZW4gdGhvc2UgcmVnaXN0ZXJlZCB1c2luZyBqcUxpdGUncyBgb25gL2BiaW5kYFxyXG4gKiBtZXRob2RzKSBkb2VzIG5vdCBkZWxlZ2F0ZSBleGNlcHRpb25zIHRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9XHJcbiAqICh1bmxlc3MgZXhlY3V0ZWQgZHVyaW5nIGEgZGlnZXN0KS5cclxuICpcclxuICogSWYgeW91IHdpc2gsIHlvdSBjYW4gbWFudWFsbHkgZGVsZWdhdGUgZXhjZXB0aW9ucywgZS5nLlxyXG4gKiBgdHJ5IHsgLi4uIH0gY2F0Y2goZSkgeyAkZXhjZXB0aW9uSGFuZGxlcihlKTsgfWBcclxuICpcclxuICogQHBhcmFtIHtFcnJvcn0gZXhjZXB0aW9uIEV4Y2VwdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIGVycm9yLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IGNhdXNlIG9wdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb250ZXh0IGluIHdoaWNoXHJcbiAqICAgICAgIHRoZSBlcnJvciB3YXMgdGhyb3duLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyRsb2cnLCBmdW5jdGlvbigkbG9nKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZXhjZXB0aW9uLCBjYXVzZSkge1xyXG4gICAgICAkbG9nLmVycm9yLmFwcGx5KCRsb2csIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG4gIH1dO1xyXG59XHJcblxyXG52YXIgJCRGb3JjZVJlZmxvd1Byb3ZpZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckZG9jdW1lbnQnLCBmdW5jdGlvbigkZG9jdW1lbnQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihkb21Ob2RlKSB7XHJcbiAgICAgIC8vdGhlIGxpbmUgYmVsb3cgd2lsbCBmb3JjZSB0aGUgYnJvd3NlciB0byBwZXJmb3JtIGEgcmVwYWludCBzb1xyXG4gICAgICAvL3RoYXQgYWxsIHRoZSBhbmltYXRlZCBlbGVtZW50cyB3aXRoaW4gdGhlIGFuaW1hdGlvbiBmcmFtZSB3aWxsXHJcbiAgICAgIC8vYmUgcHJvcGVybHkgdXBkYXRlZCBhbmQgZHJhd24gb24gc2NyZWVuLiBUaGlzIGlzIHJlcXVpcmVkIHRvXHJcbiAgICAgIC8vZW5zdXJlIHRoYXQgdGhlIHByZXBhcmF0aW9uIGFuaW1hdGlvbiBpcyBwcm9wZXJseSBmbHVzaGVkIHNvIHRoYXRcclxuICAgICAgLy90aGUgYWN0aXZlIHN0YXRlIHBpY2tzIHVwIGZyb20gdGhlcmUuIERPIE5PVCBSRU1PVkUgVEhJUyBMSU5FLlxyXG4gICAgICAvL0RPIE5PVCBPUFRJTUlaRSBUSElTIExJTkUuIFRIRSBNSU5JRklFUiBXSUxMIFJFTU9WRSBJVCBPVEhFUldJU0UgV0hJQ0hcclxuICAgICAgLy9XSUxMIFJFU1VMVCBJTiBBTiBVTlBSRURJQ1RBQkxFIEJVRyBUSEFUIElTIFZFUlkgSEFSRCBUTyBUUkFDSyBET1dOIEFORFxyXG4gICAgICAvL1dJTEwgVEFLRSBZRUFSUyBBV0FZIEZST00gWU9VUiBMSUZFLlxyXG4gICAgICBpZiAoZG9tTm9kZSkge1xyXG4gICAgICAgIGlmICghZG9tTm9kZS5ub2RlVHlwZSAmJiBkb21Ob2RlIGluc3RhbmNlb2YganFMaXRlKSB7XHJcbiAgICAgICAgICBkb21Ob2RlID0gZG9tTm9kZVswXTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9tTm9kZSA9ICRkb2N1bWVudFswXS5ib2R5O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBkb21Ob2RlLm9mZnNldFdpZHRoICsgMTtcclxuICAgIH07XHJcbiAgfV07XHJcbn07XHJcblxyXG52YXIgQVBQTElDQVRJT05fSlNPTiA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxudmFyIENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OID0geydDb250ZW50LVR5cGUnOiBBUFBMSUNBVElPTl9KU09OICsgJztjaGFyc2V0PXV0Zi04J307XHJcbnZhciBKU09OX1NUQVJUID0gL15cXFt8Xlxceyg/IVxceykvO1xyXG52YXIgSlNPTl9FTkRTID0ge1xyXG4gICdbJzogL10kLyxcclxuICAneyc6IC99JC9cclxufTtcclxudmFyIEpTT05fUFJPVEVDVElPTl9QUkVGSVggPSAvXlxcKVxcXVxcfScsP1xcbi87XHJcbnZhciAkaHR0cE1pbkVyciA9IG1pbkVycignJGh0dHAnKTtcclxudmFyICRodHRwTWluRXJyTGVnYWN5Rm4gPSBmdW5jdGlvbihtZXRob2QpIHtcclxuICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICB0aHJvdyAkaHR0cE1pbkVycignbGVnYWN5JywgJ1RoZSBtZXRob2QgYHswfWAgb24gdGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbSBgJGh0dHBgIGhhcyBiZWVuIGRpc2FibGVkLicsIG1ldGhvZCk7XHJcbiAgfTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHNlcmlhbGl6ZVZhbHVlKHYpIHtcclxuICBpZiAoaXNPYmplY3QodikpIHtcclxuICAgIHJldHVybiBpc0RhdGUodikgPyB2LnRvSVNPU3RyaW5nKCkgOiB0b0pzb24odik7XHJcbiAgfVxyXG4gIHJldHVybiB2O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlcigpIHtcclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRodHRwUGFyYW1TZXJpYWxpemVyXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBEZWZhdWx0IHtAbGluayAkaHR0cCBgJGh0dHBgfSBwYXJhbXMgc2VyaWFsaXplciB0aGF0IGNvbnZlcnRzIG9iamVjdHMgdG8gc3RyaW5nc1xyXG4gICAqIGFjY29yZGluZyB0byB0aGUgZm9sbG93aW5nIHJ1bGVzOlxyXG4gICAqXHJcbiAgICogKiBgeydmb28nOiAnYmFyJ31gIHJlc3VsdHMgaW4gYGZvbz1iYXJgXHJcbiAgICogKiBgeydmb28nOiBEYXRlLm5vdygpfWAgcmVzdWx0cyBpbiBgZm9vPTIwMTUtMDQtMDFUMDklM0E1MCUzQTQ5LjI2MlpgIChgdG9JU09TdHJpbmcoKWAgYW5kIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYSBEYXRlIG9iamVjdClcclxuICAgKiAqIGB7J2Zvbyc6IFsnYmFyJywgJ2JheiddfWAgcmVzdWx0cyBpbiBgZm9vPWJhciZmb289YmF6YCAocmVwZWF0ZWQga2V5IGZvciBlYWNoIGFycmF5IGVsZW1lbnQpXHJcbiAgICogKiBgeydmb28nOiB7J2Jhcic6J2Jheid9fWAgcmVzdWx0cyBpbiBgZm9vPSU3QiUyMmJhciUyMiUzQSUyMmJheiUyMiU3RFwiYCAoc3RyaW5naWZpZWQgYW5kIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYW4gb2JqZWN0KVxyXG4gICAqXHJcbiAgICogTm90ZSB0aGF0IHNlcmlhbGl6ZXIgd2lsbCBzb3J0IHRoZSByZXF1ZXN0IHBhcmFtZXRlcnMgYWxwaGFiZXRpY2FsbHkuXHJcbiAgICogKi9cclxuXHJcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gbmdQYXJhbVNlcmlhbGl6ZXIocGFyYW1zKSB7XHJcbiAgICAgIGlmICghcGFyYW1zKSByZXR1cm4gJyc7XHJcbiAgICAgIHZhciBwYXJ0cyA9IFtdO1xyXG4gICAgICBmb3JFYWNoU29ydGVkKHBhcmFtcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybjtcclxuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXkpICArICc9JyArIGVuY29kZVVyaVF1ZXJ5KHNlcmlhbGl6ZVZhbHVlKHYpKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXkpICsgJz0nICsgZW5jb2RlVXJpUXVlcnkoc2VyaWFsaXplVmFsdWUodmFsdWUpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcmJyk7XHJcbiAgICB9O1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uICRIdHRwUGFyYW1TZXJpYWxpemVySlFMaWtlUHJvdmlkZXIoKSB7XHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgKiBAbmFtZSAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogQWx0ZXJuYXRpdmUge0BsaW5rICRodHRwIGAkaHR0cGB9IHBhcmFtcyBzZXJpYWxpemVyIHRoYXQgZm9sbG93c1xyXG4gICAqIGpRdWVyeSdzIFtgcGFyYW0oKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qcXVlcnkucGFyYW0vKSBtZXRob2QgbG9naWMuXHJcbiAgICogVGhlIHNlcmlhbGl6ZXIgd2lsbCBhbHNvIHNvcnQgdGhlIHBhcmFtcyBhbHBoYWJldGljYWxseS5cclxuICAgKlxyXG4gICAqIFRvIHVzZSBpdCBmb3Igc2VyaWFsaXppbmcgYCRodHRwYCByZXF1ZXN0IHBhcmFtZXRlcnMsIHNldCBpdCBhcyB0aGUgYHBhcmFtU2VyaWFsaXplcmAgcHJvcGVydHk6XHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqICRodHRwKHtcclxuICAgKiAgIHVybDogbXlVcmwsXHJcbiAgICogICBtZXRob2Q6ICdHRVQnLFxyXG4gICAqICAgcGFyYW1zOiBteVBhcmFtcyxcclxuICAgKiAgIHBhcmFtU2VyaWFsaXplcjogJyRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlJ1xyXG4gICAqIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBzZXQgaXQgYXMgdGhlIGRlZmF1bHQgYHBhcmFtU2VyaWFsaXplcmAgaW4gdGhlXHJcbiAgICoge0BsaW5rICRodHRwUHJvdmlkZXIjZGVmYXVsdHMgYCRodHRwUHJvdmlkZXJgfS5cclxuICAgKlxyXG4gICAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiBpbmplY3QgdGhlIHNlcmlhbGl6ZXIgYW5kIHVzZSBpdCBleHBsaWNpdGx5LCBmb3IgZXhhbXBsZSB0byBzZXJpYWxpemVcclxuICAgKiBmb3JtIGRhdGEgZm9yIHN1Ym1pc3Npb246XHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqIC5jb250cm9sbGVyKGZ1bmN0aW9uKCRodHRwLCAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZSkge1xyXG4gICAqICAgLy8uLi5cclxuICAgKlxyXG4gICAqICAgJGh0dHAoe1xyXG4gICAqICAgICB1cmw6IG15VXJsLFxyXG4gICAqICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgKiAgICAgZGF0YTogJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UobXlEYXRhKSxcclxuICAgKiAgICAgaGVhZGVyczoge1xyXG4gICAqICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xyXG4gICAqICAgICB9XHJcbiAgICogICB9KTtcclxuICAgKlxyXG4gICAqIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogKi9cclxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBqUXVlcnlMaWtlUGFyYW1TZXJpYWxpemVyKHBhcmFtcykge1xyXG4gICAgICBpZiAoIXBhcmFtcykgcmV0dXJuICcnO1xyXG4gICAgICB2YXIgcGFydHMgPSBbXTtcclxuICAgICAgc2VyaWFsaXplKHBhcmFtcywgJycsIHRydWUpO1xyXG4gICAgICByZXR1cm4gcGFydHMuam9pbignJicpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gc2VyaWFsaXplKHRvU2VyaWFsaXplLCBwcmVmaXgsIHRvcExldmVsKSB7XHJcbiAgICAgICAgaWYgKHRvU2VyaWFsaXplID09PSBudWxsIHx8IGlzVW5kZWZpbmVkKHRvU2VyaWFsaXplKSkgcmV0dXJuO1xyXG4gICAgICAgIGlmIChpc0FycmF5KHRvU2VyaWFsaXplKSkge1xyXG4gICAgICAgICAgZm9yRWFjaCh0b1NlcmlhbGl6ZSwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgcHJlZml4ICsgJ1snICsgKGlzT2JqZWN0KHZhbHVlKSA/IGluZGV4IDogJycpICsgJ10nKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodG9TZXJpYWxpemUpICYmICFpc0RhdGUodG9TZXJpYWxpemUpKSB7XHJcbiAgICAgICAgICBmb3JFYWNoU29ydGVkKHRvU2VyaWFsaXplLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgcHJlZml4ICtcclxuICAgICAgICAgICAgICAgICh0b3BMZXZlbCA/ICcnIDogJ1snKSArXHJcbiAgICAgICAgICAgICAgICBrZXkgK1xyXG4gICAgICAgICAgICAgICAgKHRvcExldmVsID8gJycgOiAnXScpKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KHByZWZpeCkgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh0b1NlcmlhbGl6ZSkpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybShkYXRhLCBoZWFkZXJzKSB7XHJcbiAgaWYgKGlzU3RyaW5nKGRhdGEpKSB7XHJcbiAgICAvLyBTdHJpcCBqc29uIHZ1bG5lcmFiaWxpdHkgcHJvdGVjdGlvbiBwcmVmaXggYW5kIHRyaW0gd2hpdGVzcGFjZVxyXG4gICAgdmFyIHRlbXBEYXRhID0gZGF0YS5yZXBsYWNlKEpTT05fUFJPVEVDVElPTl9QUkVGSVgsICcnKS50cmltKCk7XHJcblxyXG4gICAgaWYgKHRlbXBEYXRhKSB7XHJcbiAgICAgIHZhciBjb250ZW50VHlwZSA9IGhlYWRlcnMoJ0NvbnRlbnQtVHlwZScpO1xyXG4gICAgICBpZiAoKGNvbnRlbnRUeXBlICYmIChjb250ZW50VHlwZS5pbmRleE9mKEFQUExJQ0FUSU9OX0pTT04pID09PSAwKSkgfHwgaXNKc29uTGlrZSh0ZW1wRGF0YSkpIHtcclxuICAgICAgICBkYXRhID0gZnJvbUpzb24odGVtcERhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNKc29uTGlrZShzdHIpIHtcclxuICAgIHZhciBqc29uU3RhcnQgPSBzdHIubWF0Y2goSlNPTl9TVEFSVCk7XHJcbiAgICByZXR1cm4ganNvblN0YXJ0ICYmIEpTT05fRU5EU1tqc29uU3RhcnRbMF1dLnRlc3Qoc3RyKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBrZXkgdmFsdWUgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBoZWFkZXJzIFJhdyBoZWFkZXJzIGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFBhcnNlZCBoZWFkZXJzIGFzIGtleSB2YWx1ZSBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XHJcbiAgdmFyIHBhcnNlZCA9IGNyZWF0ZU1hcCgpLCBpO1xyXG5cclxuICBmdW5jdGlvbiBmaWxsSW5QYXJzZWQoa2V5LCB2YWwpIHtcclxuICAgIGlmIChrZXkpIHtcclxuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChpc1N0cmluZyhoZWFkZXJzKSkge1xyXG4gICAgZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24obGluZSkge1xyXG4gICAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XHJcbiAgICAgIGZpbGxJblBhcnNlZChsb3dlcmNhc2UodHJpbShsaW5lLnN1YnN0cigwLCBpKSkpLCB0cmltKGxpbmUuc3Vic3RyKGkgKyAxKSkpO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIGlmIChpc09iamVjdChoZWFkZXJzKSkge1xyXG4gICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbihoZWFkZXJWYWwsIGhlYWRlcktleSkge1xyXG4gICAgICBmaWxsSW5QYXJzZWQobG93ZXJjYXNlKGhlYWRlcktleSksIHRyaW0oaGVhZGVyVmFsKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBwYXJzZWQ7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIHBhcnNlZCBoZWFkZXJzLlxyXG4gKlxyXG4gKiBIZWFkZXJzIGFyZSBsYXp5IHBhcnNlZCB3aGVuIGZpcnN0IHJlcXVlc3RlZC5cclxuICogQHNlZSBwYXJzZUhlYWRlcnNcclxuICpcclxuICogQHBhcmFtIHsoc3RyaW5nfE9iamVjdCl9IGhlYWRlcnMgSGVhZGVycyB0byBwcm92aWRlIGFjY2VzcyB0by5cclxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZz0pfSBSZXR1cm5zIGEgZ2V0dGVyIGZ1bmN0aW9uIHdoaWNoIGlmIGNhbGxlZCB3aXRoOlxyXG4gKlxyXG4gKiAgIC0gaWYgY2FsbGVkIHdpdGggc2luZ2xlIGFuIGFyZ3VtZW50IHJldHVybnMgYSBzaW5nbGUgaGVhZGVyIHZhbHVlIG9yIG51bGxcclxuICogICAtIGlmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCBoZWFkZXJzLlxyXG4gKi9cclxuZnVuY3Rpb24gaGVhZGVyc0dldHRlcihoZWFkZXJzKSB7XHJcbiAgdmFyIGhlYWRlcnNPYmo7XHJcblxyXG4gIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICBpZiAoIWhlYWRlcnNPYmopIGhlYWRlcnNPYmogPSAgcGFyc2VIZWFkZXJzKGhlYWRlcnMpO1xyXG5cclxuICAgIGlmIChuYW1lKSB7XHJcbiAgICAgIHZhciB2YWx1ZSA9IGhlYWRlcnNPYmpbbG93ZXJjYXNlKG5hbWUpXTtcclxuICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcclxuICAgICAgICB2YWx1ZSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBoZWFkZXJzT2JqO1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQ2hhaW4gYWxsIGdpdmVuIGZ1bmN0aW9uc1xyXG4gKlxyXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgZm9yIGJvdGggcmVxdWVzdCBhbmQgcmVzcG9uc2UgdHJhbnNmb3JtaW5nXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSBEYXRhIHRvIHRyYW5zZm9ybS5cclxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmc9KX0gaGVhZGVycyBIVFRQIGhlYWRlcnMgZ2V0dGVyIGZuLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxyXG4gKiBAcGFyYW0geyhGdW5jdGlvbnxBcnJheS48RnVuY3Rpb24+KX0gZm5zIEZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIGZ1bmN0aW9ucy5cclxuICogQHJldHVybnMgeyp9IFRyYW5zZm9ybWVkIGRhdGEuXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIHN0YXR1cywgZm5zKSB7XHJcbiAgaWYgKGlzRnVuY3Rpb24oZm5zKSkge1xyXG4gICAgcmV0dXJuIGZucyhkYXRhLCBoZWFkZXJzLCBzdGF0dXMpO1xyXG4gIH1cclxuXHJcbiAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKGZuKSB7XHJcbiAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycywgc3RhdHVzKTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBpc1N1Y2Nlc3Moc3RhdHVzKSB7XHJcbiAgcmV0dXJuIDIwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDwgMzAwO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkaHR0cFByb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2UgYCRodHRwUHJvdmlkZXJgIHRvIGNoYW5nZSB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUge0BsaW5rIG5nLiRodHRwICRodHRwfSBzZXJ2aWNlLlxyXG4gKiAqL1xyXG5mdW5jdGlvbiAkSHR0cFByb3ZpZGVyKCkge1xyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjZGVmYXVsdHNcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIE9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgdmFsdWVzIGZvciBhbGwge0BsaW5rIG5nLiRodHRwICRodHRwfSByZXF1ZXN0cy5cclxuICAgKlxyXG4gICAqIC0gKipgZGVmYXVsdHMuY2FjaGVgKiogLSB7Ym9vbGVhbnxPYmplY3R9IC0gQSBib29sZWFuIHZhbHVlIG9yIG9iamVjdCBjcmVhdGVkIHdpdGhcclxuICAgKiB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9IHRvIGVuYWJsZSBvciBkaXNhYmxlIGNhY2hpbmcgb2YgSFRUUCByZXNwb25zZXNcclxuICAgKiBieSBkZWZhdWx0LiBTZWUge0BsaW5rICRodHRwI2NhY2hpbmcgJGh0dHAgQ2FjaGluZ30gZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgICpcclxuICAgKiAtICoqYGRlZmF1bHRzLnhzcmZDb29raWVOYW1lYCoqIC0ge3N0cmluZ30gLSBOYW1lIG9mIGNvb2tpZSBjb250YWluaW5nIHRoZSBYU1JGIHRva2VuLlxyXG4gICAqIERlZmF1bHRzIHZhbHVlIGlzIGAnWFNSRi1UT0tFTidgLlxyXG4gICAqXHJcbiAgICogLSAqKmBkZWZhdWx0cy54c3JmSGVhZGVyTmFtZWAqKiAtIHtzdHJpbmd9IC0gTmFtZSBvZiBIVFRQIGhlYWRlciB0byBwb3B1bGF0ZSB3aXRoIHRoZVxyXG4gICAqIFhTUkYgdG9rZW4uIERlZmF1bHRzIHZhbHVlIGlzIGAnWC1YU1JGLVRPS0VOJ2AuXHJcbiAgICpcclxuICAgKiAtICoqYGRlZmF1bHRzLmhlYWRlcnNgKiogLSB7T2JqZWN0fSAtIERlZmF1bHQgaGVhZGVycyBmb3IgYWxsICRodHRwIHJlcXVlc3RzLlxyXG4gICAqIFJlZmVyIHRvIHtAbGluayBuZy4kaHR0cCNzZXR0aW5nLWh0dHAtaGVhZGVycyAkaHR0cH0gZm9yIGRvY3VtZW50YXRpb24gb25cclxuICAgKiBzZXR0aW5nIGRlZmF1bHQgaGVhZGVycy5cclxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLmNvbW1vbmAqKlxyXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucG9zdGAqKlxyXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucHV0YCoqXHJcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wYXRjaGAqKlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAtICoqYGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcmAqKiAtIGB7c3RyaW5nfGZ1bmN0aW9uKE9iamVjdDxzdHJpbmcsc3RyaW5nPik6c3RyaW5nfWAgLSBBIGZ1bmN0aW9uXHJcbiAgICogIHVzZWQgdG8gdGhlIHByZXBhcmUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHJlcXVlc3QgcGFyYW1ldGVycyAoc3BlY2lmaWVkIGFzIGFuIG9iamVjdCkuXHJcbiAgICogIElmIHNwZWNpZmllZCBhcyBzdHJpbmcsIGl0IGlzIGludGVycHJldGVkIGFzIGEgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cclxuICAgKiAgRGVmYXVsdHMgdG8ge0BsaW5rIG5nLiRodHRwUGFyYW1TZXJpYWxpemVyICRodHRwUGFyYW1TZXJpYWxpemVyfS5cclxuICAgKlxyXG4gICAqKi9cclxuICB2YXIgZGVmYXVsdHMgPSB0aGlzLmRlZmF1bHRzID0ge1xyXG4gICAgLy8gdHJhbnNmb3JtIGluY29taW5nIHJlc3BvbnNlIGRhdGFcclxuICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBbZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybV0sXHJcblxyXG4gICAgLy8gdHJhbnNmb3JtIG91dGdvaW5nIHJlcXVlc3QgZGF0YVxyXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uKGQpIHtcclxuICAgICAgcmV0dXJuIGlzT2JqZWN0KGQpICYmICFpc0ZpbGUoZCkgJiYgIWlzQmxvYihkKSAmJiAhaXNGb3JtRGF0YShkKSA/IHRvSnNvbihkKSA6IGQ7XHJcbiAgICB9XSxcclxuXHJcbiAgICAvLyBkZWZhdWx0IGhlYWRlcnNcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgY29tbW9uOiB7XHJcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXHJcbiAgICAgIH0sXHJcbiAgICAgIHBvc3Q6ICAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pLFxyXG4gICAgICBwdXQ6ICAgIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSxcclxuICAgICAgcGF0Y2g6ICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTilcclxuICAgIH0sXHJcblxyXG4gICAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcclxuICAgIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcclxuXHJcbiAgICBwYXJhbVNlcmlhbGl6ZXI6ICckaHR0cFBhcmFtU2VyaWFsaXplcidcclxuICB9O1xyXG5cclxuICB2YXIgdXNlQXBwbHlBc3luYyA9IGZhbHNlO1xyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI3VzZUFwcGx5QXN5bmNcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIENvbmZpZ3VyZSAkaHR0cCBzZXJ2aWNlIHRvIGNvbWJpbmUgcHJvY2Vzc2luZyBvZiBtdWx0aXBsZSBodHRwIHJlc3BvbnNlcyByZWNlaXZlZCBhdCBhcm91bmRcclxuICAgKiB0aGUgc2FtZSB0aW1lIHZpYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHlBc3luYyAkcm9vdFNjb3BlLiRhcHBseUFzeW5jfS4gVGhpcyBjYW4gcmVzdWx0IGluXHJcbiAgICogc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnQgZm9yIGJpZ2dlciBhcHBsaWNhdGlvbnMgdGhhdCBtYWtlIG1hbnkgSFRUUCByZXF1ZXN0c1xyXG4gICAqIGNvbmN1cnJlbnRseSAoY29tbW9uIGR1cmluZyBhcHBsaWNhdGlvbiBib290c3RyYXApLlxyXG4gICAqXHJcbiAgICogRGVmYXVsdHMgdG8gZmFsc2UuIElmIG5vIHZhbHVlIGlzIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgY3VycmVudCBjb25maWd1cmVkIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgdHJ1ZSwgd2hlbiByZXF1ZXN0cyBhcmUgbG9hZGVkLCB0aGV5IHdpbGwgc2NoZWR1bGUgYSBkZWZlcnJlZFxyXG4gICAqICAgIFwiYXBwbHlcIiBvbiB0aGUgbmV4dCB0aWNrLCBnaXZpbmcgdGltZSBmb3Igc3Vic2VxdWVudCByZXF1ZXN0cyBpbiBhIHJvdWdobHkgfjEwbXMgd2luZG93XHJcbiAgICogICAgdG8gbG9hZCBhbmQgc2hhcmUgdGhlIHNhbWUgZGlnZXN0IGN5Y2xlLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW58T2JqZWN0fSBJZiBhIHZhbHVlIGlzIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgJGh0dHBQcm92aWRlciBmb3IgY2hhaW5pbmcuXHJcbiAgICogICAgb3RoZXJ3aXNlLCByZXR1cm5zIHRoZSBjdXJyZW50IGNvbmZpZ3VyZWQgdmFsdWUuXHJcbiAgICoqL1xyXG4gIHRoaXMudXNlQXBwbHlBc3luYyA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICB1c2VBcHBseUFzeW5jID0gISF2YWx1ZTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdXNlQXBwbHlBc3luYztcclxuICB9O1xyXG5cclxuICB2YXIgdXNlTGVnYWN5UHJvbWlzZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjdXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnNcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIENvbmZpZ3VyZSBgJGh0dHBgIHNlcnZpY2UgdG8gcmV0dXJuIHByb21pc2VzIHdpdGhvdXQgdGhlIHNob3J0aGFuZCBtZXRob2RzIGBzdWNjZXNzYCBhbmQgYGVycm9yYC5cclxuICAgKiBUaGlzIHNob3VsZCBiZSB1c2VkIHRvIG1ha2Ugc3VyZSB0aGF0IGFwcGxpY2F0aW9ucyB3b3JrIHdpdGhvdXQgdGhlc2UgbWV0aG9kcy5cclxuICAgKlxyXG4gICAqIERlZmF1bHRzIHRvIHRydWUuIElmIG5vIHZhbHVlIGlzIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgY3VycmVudCBjb25maWd1cmVkIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgdHJ1ZSwgYCRodHRwYCB3aWxsIHJldHVybiBhIHByb21pc2Ugd2l0aCB0aGUgZGVwcmVjYXRlZCBsZWdhY3kgYHN1Y2Nlc3NgIGFuZCBgZXJyb3JgIG1ldGhvZHMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxPYmplY3R9IElmIGEgdmFsdWUgaXMgc3BlY2lmaWVkLCByZXR1cm5zIHRoZSAkaHR0cFByb3ZpZGVyIGZvciBjaGFpbmluZy5cclxuICAgKiAgICBvdGhlcndpc2UsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cclxuICAgKiovXHJcbiAgdGhpcy51c2VMZWdhY3lQcm9taXNlRXh0ZW5zaW9ucyA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICB1c2VMZWdhY3lQcm9taXNlID0gISF2YWx1ZTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdXNlTGVnYWN5UHJvbWlzZTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2ludGVyY2VwdG9yc1xyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogQXJyYXkgY29udGFpbmluZyBzZXJ2aWNlIGZhY3RvcmllcyBmb3IgYWxsIHN5bmNocm9ub3VzIG9yIGFzeW5jaHJvbm91cyB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9XHJcbiAgICogcHJlLXByb2Nlc3Npbmcgb2YgcmVxdWVzdCBvciBwb3N0cHJvY2Vzc2luZyBvZiByZXNwb25zZXMuXHJcbiAgICpcclxuICAgKiBUaGVzZSBzZXJ2aWNlIGZhY3RvcmllcyBhcmUgb3JkZXJlZCBieSByZXF1ZXN0LCBpLmUuIHRoZXkgYXJlIGFwcGxpZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXHJcbiAgICogYXJyYXksIG9uIHJlcXVlc3QsIGJ1dCByZXZlcnNlIG9yZGVyLCBvbiByZXNwb25zZS5cclxuICAgKlxyXG4gICAqIHtAbGluayBuZy4kaHR0cCNpbnRlcmNlcHRvcnMgSW50ZXJjZXB0b3JzIGRldGFpbGVkIGluZm99XHJcbiAgICoqL1xyXG4gIHZhciBpbnRlcmNlcHRvckZhY3RvcmllcyA9IHRoaXMuaW50ZXJjZXB0b3JzID0gW107XHJcblxyXG4gIHRoaXMuJGdldCA9IFsnJGh0dHBCYWNrZW5kJywgJyQkY29va2llUmVhZGVyJywgJyRjYWNoZUZhY3RvcnknLCAnJHJvb3RTY29wZScsICckcScsICckaW5qZWN0b3InLFxyXG4gICAgICBmdW5jdGlvbigkaHR0cEJhY2tlbmQsICQkY29va2llUmVhZGVyLCAkY2FjaGVGYWN0b3J5LCAkcm9vdFNjb3BlLCAkcSwgJGluamVjdG9yKSB7XHJcblxyXG4gICAgdmFyIGRlZmF1bHRDYWNoZSA9ICRjYWNoZUZhY3RvcnkoJyRodHRwJyk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYWtlIHN1cmUgdGhhdCBkZWZhdWx0IHBhcmFtIHNlcmlhbGl6ZXIgaXMgZXhwb3NlZCBhcyBhIGZ1bmN0aW9uXHJcbiAgICAgKi9cclxuICAgIGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplciA9IGlzU3RyaW5nKGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcikgP1xyXG4gICAgICAkaW5qZWN0b3IuZ2V0KGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcikgOiBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcmNlcHRvcnMgc3RvcmVkIGluIHJldmVyc2Ugb3JkZXIuIElubmVyIGludGVyY2VwdG9ycyBiZWZvcmUgb3V0ZXIgaW50ZXJjZXB0b3JzLlxyXG4gICAgICogVGhlIHJldmVyc2FsIGlzIG5lZWRlZCBzbyB0aGF0IHdlIGNhbiBidWlsZCB1cCB0aGUgaW50ZXJjZXB0aW9uIGNoYWluIGFyb3VuZCB0aGVcclxuICAgICAqIHNlcnZlciByZXF1ZXN0LlxyXG4gICAgICovXHJcbiAgICB2YXIgcmV2ZXJzZWRJbnRlcmNlcHRvcnMgPSBbXTtcclxuXHJcbiAgICBmb3JFYWNoKGludGVyY2VwdG9yRmFjdG9yaWVzLCBmdW5jdGlvbihpbnRlcmNlcHRvckZhY3RvcnkpIHtcclxuICAgICAgcmV2ZXJzZWRJbnRlcmNlcHRvcnMudW5zaGlmdChpc1N0cmluZyhpbnRlcmNlcHRvckZhY3RvcnkpXHJcbiAgICAgICAgICA/ICRpbmplY3Rvci5nZXQoaW50ZXJjZXB0b3JGYWN0b3J5KSA6ICRpbmplY3Rvci5pbnZva2UoaW50ZXJjZXB0b3JGYWN0b3J5KSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICogQG5hbWUgJGh0dHBcclxuICAgICAqIEByZXF1aXJlcyBuZy4kaHR0cEJhY2tlbmRcclxuICAgICAqIEByZXF1aXJlcyAkY2FjaGVGYWN0b3J5XHJcbiAgICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxyXG4gICAgICogQHJlcXVpcmVzICRxXHJcbiAgICAgKiBAcmVxdWlyZXMgJGluamVjdG9yXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGUgYCRodHRwYCBzZXJ2aWNlIGlzIGEgY29yZSBBbmd1bGFyIHNlcnZpY2UgdGhhdCBmYWNpbGl0YXRlcyBjb21tdW5pY2F0aW9uIHdpdGggdGhlIHJlbW90ZVxyXG4gICAgICogSFRUUCBzZXJ2ZXJzIHZpYSB0aGUgYnJvd3NlcidzIFtYTUxIdHRwUmVxdWVzdF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4veG1saHR0cHJlcXVlc3QpXHJcbiAgICAgKiBvYmplY3Qgb3IgdmlhIFtKU09OUF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9KU09OUCkuXHJcbiAgICAgKlxyXG4gICAgICogRm9yIHVuaXQgdGVzdGluZyBhcHBsaWNhdGlvbnMgdGhhdCB1c2UgYCRodHRwYCBzZXJ2aWNlLCBzZWVcclxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kICRodHRwQmFja2VuZCBtb2NrfS5cclxuICAgICAqXHJcbiAgICAgKiBGb3IgYSBoaWdoZXIgbGV2ZWwgb2YgYWJzdHJhY3Rpb24sIHBsZWFzZSBjaGVjayBvdXQgdGhlIHtAbGluayBuZ1Jlc291cmNlLiRyZXNvdXJjZVxyXG4gICAgICogJHJlc291cmNlfSBzZXJ2aWNlLlxyXG4gICAgICpcclxuICAgICAqIFRoZSAkaHR0cCBBUEkgaXMgYmFzZWQgb24gdGhlIHtAbGluayBuZy4kcSBkZWZlcnJlZC9wcm9taXNlIEFQSXN9IGV4cG9zZWQgYnlcclxuICAgICAqIHRoZSAkcSBzZXJ2aWNlLiBXaGlsZSBmb3Igc2ltcGxlIHVzYWdlIHBhdHRlcm5zIHRoaXMgZG9lc24ndCBtYXR0ZXIgbXVjaCwgZm9yIGFkdmFuY2VkIHVzYWdlXHJcbiAgICAgKiBpdCBpcyBpbXBvcnRhbnQgdG8gZmFtaWxpYXJpemUgeW91cnNlbGYgd2l0aCB0aGVzZSBBUElzIGFuZCB0aGUgZ3VhcmFudGVlcyB0aGV5IHByb3ZpZGUuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqICMjIEdlbmVyYWwgdXNhZ2VcclxuICAgICAqIFRoZSBgJGh0dHBgIHNlcnZpY2UgaXMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyBhIHNpbmdsZSBhcmd1bWVudCDigJQgYSB7QGxpbmsgJGh0dHAjdXNhZ2UgY29uZmlndXJhdGlvbiBvYmplY3R9IOKAlFxyXG4gICAgICogdGhhdCBpcyB1c2VkIHRvIGdlbmVyYXRlIGFuIEhUVFAgcmVxdWVzdCBhbmQgcmV0dXJucyAgYSB7QGxpbmsgbmcuJHEgcHJvbWlzZX0uXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqICAgLy8gU2ltcGxlIEdFVCByZXF1ZXN0IGV4YW1wbGU6XHJcbiAgICAgKiAgICRodHRwKHtcclxuICAgICAqICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICogICAgIHVybDogJy9zb21lVXJsJ1xyXG4gICAgICogICB9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xyXG4gICAgICogICAgICAgLy8gdGhpcyBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseVxyXG4gICAgICogICAgICAgLy8gd2hlbiB0aGUgcmVzcG9uc2UgaXMgYXZhaWxhYmxlXHJcbiAgICAgKiAgICAgfSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhyZXNwb25zZSkge1xyXG4gICAgICogICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xyXG4gICAgICogICAgICAgLy8gb3Igc2VydmVyIHJldHVybnMgcmVzcG9uc2Ugd2l0aCBhbiBlcnJvciBzdGF0dXMuXHJcbiAgICAgKiAgICAgfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBUaGUgcmVzcG9uc2Ugb2JqZWN0IGhhcyB0aGVzZSBwcm9wZXJ0aWVzOlxyXG4gICAgICpcclxuICAgICAqICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIFRoZSByZXNwb25zZSBib2R5IHRyYW5zZm9ybWVkIHdpdGggdGhlIHRyYW5zZm9ybVxyXG4gICAgICogICAgIGZ1bmN0aW9ucy5cclxuICAgICAqICAgLSAqKnN0YXR1cyoqIOKAkyBge251bWJlcn1gIOKAkyBIVFRQIHN0YXR1cyBjb2RlIG9mIHRoZSByZXNwb25zZS5cclxuICAgICAqICAgLSAqKmhlYWRlcnMqKiDigJMgYHtmdW5jdGlvbihbaGVhZGVyTmFtZV0pfWAg4oCTIEhlYWRlciBnZXR0ZXIgZnVuY3Rpb24uXHJcbiAgICAgKiAgIC0gKipjb25maWcqKiDigJMgYHtPYmplY3R9YCDigJMgVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIHJlcXVlc3QuXHJcbiAgICAgKiAgIC0gKipzdGF0dXNUZXh0Kiog4oCTIGB7c3RyaW5nfWAg4oCTIEhUVFAgc3RhdHVzIHRleHQgb2YgdGhlIHJlc3BvbnNlLlxyXG4gICAgICpcclxuICAgICAqIEEgcmVzcG9uc2Ugc3RhdHVzIGNvZGUgYmV0d2VlbiAyMDAgYW5kIDI5OSBpcyBjb25zaWRlcmVkIGEgc3VjY2VzcyBzdGF0dXMgYW5kXHJcbiAgICAgKiB3aWxsIHJlc3VsdCBpbiB0aGUgc3VjY2VzcyBjYWxsYmFjayBiZWluZyBjYWxsZWQuIE5vdGUgdGhhdCBpZiB0aGUgcmVzcG9uc2UgaXMgYSByZWRpcmVjdCxcclxuICAgICAqIFhNTEh0dHBSZXF1ZXN0IHdpbGwgdHJhbnNwYXJlbnRseSBmb2xsb3cgaXQsIG1lYW5pbmcgdGhhdCB0aGUgZXJyb3IgY2FsbGJhY2sgd2lsbCBub3QgYmVcclxuICAgICAqIGNhbGxlZCBmb3Igc3VjaCByZXNwb25zZXMuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqICMjIFNob3J0Y3V0IG1ldGhvZHNcclxuICAgICAqXHJcbiAgICAgKiBTaG9ydGN1dCBtZXRob2RzIGFyZSBhbHNvIGF2YWlsYWJsZS4gQWxsIHNob3J0Y3V0IG1ldGhvZHMgcmVxdWlyZSBwYXNzaW5nIGluIHRoZSBVUkwsIGFuZFxyXG4gICAgICogcmVxdWVzdCBkYXRhIG11c3QgYmUgcGFzc2VkIGluIGZvciBQT1NUL1BVVCByZXF1ZXN0cy4gQW4gb3B0aW9uYWwgY29uZmlnIGNhbiBiZSBwYXNzZWQgYXMgdGhlXHJcbiAgICAgKiBsYXN0IGFyZ3VtZW50LlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgICRodHRwLmdldCgnL3NvbWVVcmwnLCBjb25maWcpLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcclxuICAgICAqICAgJGh0dHAucG9zdCgnL3NvbWVVcmwnLCBkYXRhLCBjb25maWcpLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIENvbXBsZXRlIGxpc3Qgb2Ygc2hvcnRjdXQgbWV0aG9kczpcclxuICAgICAqXHJcbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNnZXQgJGh0dHAuZ2V0fVxyXG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjaGVhZCAkaHR0cC5oZWFkfVxyXG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjcG9zdCAkaHR0cC5wb3N0fVxyXG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjcHV0ICRodHRwLnB1dH1cclxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2RlbGV0ZSAkaHR0cC5kZWxldGV9XHJcbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNqc29ucCAkaHR0cC5qc29ucH1cclxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3BhdGNoICRodHRwLnBhdGNofVxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiAjIyBXcml0aW5nIFVuaXQgVGVzdHMgdGhhdCB1c2UgJGh0dHBcclxuICAgICAqIFdoZW4gdW5pdCB0ZXN0aW5nICh1c2luZyB7QGxpbmsgbmdNb2NrIG5nTW9ja30pLCBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbFxyXG4gICAgICoge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQjZmx1c2ggJGh0dHBCYWNrZW5kLmZsdXNoKCl9IHRvIGZsdXNoIGVhY2ggcGVuZGluZ1xyXG4gICAgICogcmVxdWVzdCB1c2luZyB0cmFpbmVkIHJlc3BvbnNlcy5cclxuICAgICAqXHJcbiAgICAgKiBgYGBcclxuICAgICAqICRodHRwQmFja2VuZC5leHBlY3RHRVQoLi4uKTtcclxuICAgICAqICRodHRwLmdldCguLi4pO1xyXG4gICAgICogJGh0dHBCYWNrZW5kLmZsdXNoKCk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiAjIyBEZXByZWNhdGlvbiBOb3RpY2VcclxuICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cclxuICAgICAqICAgVGhlIGAkaHR0cGAgbGVnYWN5IHByb21pc2UgbWV0aG9kcyBgc3VjY2Vzc2AgYW5kIGBlcnJvcmAgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQuXHJcbiAgICAgKiAgIFVzZSB0aGUgc3RhbmRhcmQgYHRoZW5gIG1ldGhvZCBpbnN0ZWFkLlxyXG4gICAgICogICBJZiB7QGxpbmsgJGh0dHBQcm92aWRlciN1c2VMZWdhY3lQcm9taXNlRXh0ZW5zaW9ucyBgJGh0dHBQcm92aWRlci51c2VMZWdhY3lQcm9taXNlRXh0ZW5zaW9uc2B9IGlzIHNldCB0b1xyXG4gICAgICogICBgZmFsc2VgIHRoZW4gdGhlc2UgbWV0aG9kcyB3aWxsIHRocm93IHtAbGluayAkaHR0cDpsZWdhY3kgYCRodHRwL2xlZ2FjeWB9IGVycm9yLlxyXG4gICAgICogPC9kaXY+XHJcbiAgICAgKlxyXG4gICAgICogIyMgU2V0dGluZyBIVFRQIEhlYWRlcnNcclxuICAgICAqXHJcbiAgICAgKiBUaGUgJGh0dHAgc2VydmljZSB3aWxsIGF1dG9tYXRpY2FsbHkgYWRkIGNlcnRhaW4gSFRUUCBoZWFkZXJzIHRvIGFsbCByZXF1ZXN0cy4gVGhlc2UgZGVmYXVsdHNcclxuICAgICAqIGNhbiBiZSBmdWxseSBjb25maWd1cmVkIGJ5IGFjY2Vzc2luZyB0aGUgYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVyc2AgY29uZmlndXJhdGlvblxyXG4gICAgICogb2JqZWN0LCB3aGljaCBjdXJyZW50bHkgY29udGFpbnMgdGhpcyBkZWZhdWx0IGNvbmZpZ3VyYXRpb246XHJcbiAgICAgKlxyXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbmAgKGhlYWRlcnMgdGhhdCBhcmUgY29tbW9uIGZvciBhbGwgcmVxdWVzdHMpOlxyXG4gICAgICogICAtIGBBY2NlcHQ6IGFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICogLyAqYFxyXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLnBvc3RgOiAoaGVhZGVyIGRlZmF1bHRzIGZvciBQT1NUIHJlcXVlc3RzKVxyXG4gICAgICogICAtIGBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25gXHJcbiAgICAgKiAtIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMucHV0YCAoaGVhZGVyIGRlZmF1bHRzIGZvciBQVVQgcmVxdWVzdHMpXHJcbiAgICAgKiAgIC0gYENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbmBcclxuICAgICAqXHJcbiAgICAgKiBUbyBhZGQgb3Igb3ZlcndyaXRlIHRoZXNlIGRlZmF1bHRzLCBzaW1wbHkgYWRkIG9yIHJlbW92ZSBhIHByb3BlcnR5IGZyb20gdGhlc2UgY29uZmlndXJhdGlvblxyXG4gICAgICogb2JqZWN0cy4gVG8gYWRkIGhlYWRlcnMgZm9yIGFuIEhUVFAgbWV0aG9kIG90aGVyIHRoYW4gUE9TVCBvciBQVVQsIHNpbXBseSBhZGQgYSBuZXcgb2JqZWN0XHJcbiAgICAgKiB3aXRoIHRoZSBsb3dlcmNhc2VkIEhUVFAgbWV0aG9kIG5hbWUgYXMgdGhlIGtleSwgZS5nLlxyXG4gICAgICogYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5nZXQgPSB7ICdNeS1IZWFkZXInIDogJ3ZhbHVlJyB9YC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZGVmYXVsdHMgY2FuIGFsc28gYmUgc2V0IGF0IHJ1bnRpbWUgdmlhIHRoZSBgJGh0dHAuZGVmYXVsdHNgIG9iamVjdCBpbiB0aGUgc2FtZVxyXG4gICAgICogZmFzaGlvbi4gRm9yIGV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBgXHJcbiAgICAgKiBtb2R1bGUucnVuKGZ1bmN0aW9uKCRodHRwKSB7XHJcbiAgICAgKiAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgWW1WbGNEcGliMjl3JztcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogSW4gYWRkaXRpb24sIHlvdSBjYW4gc3VwcGx5IGEgYGhlYWRlcnNgIHByb3BlcnR5IGluIHRoZSBjb25maWcgb2JqZWN0IHBhc3NlZCB3aGVuXHJcbiAgICAgKiBjYWxsaW5nIGAkaHR0cChjb25maWcpYCwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBkZWZhdWx0cyB3aXRob3V0IGNoYW5naW5nIHRoZW0gZ2xvYmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogVG8gZXhwbGljaXRseSByZW1vdmUgYSBoZWFkZXIgYXV0b21hdGljYWxseSBhZGRlZCB2aWEgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzIG9uIGEgcGVyIHJlcXVlc3QgYmFzaXMsXHJcbiAgICAgKiBVc2UgdGhlIGBoZWFkZXJzYCBwcm9wZXJ0eSwgc2V0dGluZyB0aGUgZGVzaXJlZCBoZWFkZXIgdG8gYHVuZGVmaW5lZGAuIEZvciBleGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiB2YXIgcmVxID0ge1xyXG4gICAgICogIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICogIHVybDogJ2h0dHA6Ly9leGFtcGxlLmNvbScsXHJcbiAgICAgKiAgaGVhZGVyczoge1xyXG4gICAgICogICAgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZFxyXG4gICAgICogIH0sXHJcbiAgICAgKiAgZGF0YTogeyB0ZXN0OiAndGVzdCcgfVxyXG4gICAgICogfVxyXG4gICAgICpcclxuICAgICAqICRodHRwKHJlcSkudGhlbihmdW5jdGlvbigpey4uLn0sIGZ1bmN0aW9uKCl7Li4ufSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiAjIyBUcmFuc2Zvcm1pbmcgUmVxdWVzdHMgYW5kIFJlc3BvbnNlc1xyXG4gICAgICpcclxuICAgICAqIEJvdGggcmVxdWVzdHMgYW5kIHJlc3BvbnNlcyBjYW4gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zOiBgdHJhbnNmb3JtUmVxdWVzdGBcclxuICAgICAqIGFuZCBgdHJhbnNmb3JtUmVzcG9uc2VgLiBUaGVzZSBwcm9wZXJ0aWVzIGNhbiBiZSBhIHNpbmdsZSBmdW5jdGlvbiB0aGF0IHJldHVybnNcclxuICAgICAqIHRoZSB0cmFuc2Zvcm1lZCB2YWx1ZSAoYGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIsIHN0YXR1cylgKSBvciBhbiBhcnJheSBvZiBzdWNoIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyxcclxuICAgICAqIHdoaWNoIGFsbG93cyB5b3UgdG8gYHB1c2hgIG9yIGB1bnNoaWZ0YCBhIG5ldyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbiBpbnRvIHRoZSB0cmFuc2Zvcm1hdGlvbiBjaGFpbi5cclxuICAgICAqXHJcbiAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAgICogKipOb3RlOioqIEFuZ3VsYXIgZG9lcyBub3QgbWFrZSBhIGNvcHkgb2YgdGhlIGBkYXRhYCBwYXJhbWV0ZXIgYmVmb3JlIGl0IGlzIHBhc3NlZCBpbnRvIHRoZSBgdHJhbnNmb3JtUmVxdWVzdGAgcGlwZWxpbmUuXHJcbiAgICAgKiBUaGF0IG1lYW5zIGNoYW5nZXMgdG8gdGhlIHByb3BlcnRpZXMgb2YgYGRhdGFgIGFyZSBub3QgbG9jYWwgdG8gdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiAoc2luY2UgSmF2YXNjcmlwdCBwYXNzZXMgb2JqZWN0cyBieSByZWZlcmVuY2UpLlxyXG4gICAgICogRm9yIGV4YW1wbGUsIHdoZW4gY2FsbGluZyBgJGh0dHAuZ2V0KHVybCwgJHNjb3BlLm15T2JqZWN0KWAsIG1vZGlmaWNhdGlvbnMgdG8gdGhlIG9iamVjdCdzIHByb3BlcnRpZXMgaW4gYSB0cmFuc2Zvcm1SZXF1ZXN0XHJcbiAgICAgKiBmdW5jdGlvbiB3aWxsIGJlIHJlZmxlY3RlZCBvbiB0aGUgc2NvcGUgYW5kIGluIGFueSB0ZW1wbGF0ZXMgd2hlcmUgdGhlIG9iamVjdCBpcyBkYXRhLWJvdW5kLlxyXG4gICAgICogVG8gcHJldmVudCB0aGlzLCB0cmFuc2Zvcm0gZnVuY3Rpb25zIHNob3VsZCBoYXZlIG5vIHNpZGUtZWZmZWN0cy5cclxuICAgICAqIElmIHlvdSBuZWVkIHRvIG1vZGlmeSBwcm9wZXJ0aWVzLCBpdCBpcyByZWNvbW1lbmRlZCB0byBtYWtlIGEgY29weSBvZiB0aGUgZGF0YSwgb3IgY3JlYXRlIG5ldyBvYmplY3QgdG8gcmV0dXJuLlxyXG4gICAgICogPC9kaXY+XHJcbiAgICAgKlxyXG4gICAgICogIyMjIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGAkaHR0cFByb3ZpZGVyYCBwcm92aWRlciBhbmQgYCRodHRwYCBzZXJ2aWNlIGV4cG9zZSBgZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGAgYW5kXHJcbiAgICAgKiBgZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VgIHByb3BlcnRpZXMuIElmIGEgcmVxdWVzdCBkb2VzIG5vdCBwcm92aWRlIGl0cyBvd24gdHJhbnNmb3JtYXRpb25zXHJcbiAgICAgKiB0aGVuIHRoZXNlIHdpbGwgYmUgYXBwbGllZC5cclxuICAgICAqXHJcbiAgICAgKiBZb3UgY2FuIGF1Z21lbnQgb3IgcmVwbGFjZSB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMgYnkgbW9kaWZ5aW5nIHRoZXNlIHByb3BlcnRpZXMgYnkgYWRkaW5nIHRvIG9yXHJcbiAgICAgKiByZXBsYWNpbmcgdGhlIGFycmF5LlxyXG4gICAgICpcclxuICAgICAqIEFuZ3VsYXIgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBkZWZhdWx0IHRyYW5zZm9ybWF0aW9uczpcclxuICAgICAqXHJcbiAgICAgKiBSZXF1ZXN0IHRyYW5zZm9ybWF0aW9ucyAoYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0YCk6XHJcbiAgICAgKlxyXG4gICAgICogLSBJZiB0aGUgYGRhdGFgIHByb3BlcnR5IG9mIHRoZSByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5zIGFuIG9iamVjdCwgc2VyaWFsaXplIGl0XHJcbiAgICAgKiAgIGludG8gSlNPTiBmb3JtYXQuXHJcbiAgICAgKlxyXG4gICAgICogUmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zIChgJGh0dHBQcm92aWRlci5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWApOlxyXG4gICAgICpcclxuICAgICAqICAtIElmIFhTUkYgcHJlZml4IGlzIGRldGVjdGVkLCBzdHJpcCBpdCAoc2VlIFNlY3VyaXR5IENvbnNpZGVyYXRpb25zIHNlY3Rpb24gYmVsb3cpLlxyXG4gICAgICogIC0gSWYgSlNPTiByZXNwb25zZSBpcyBkZXRlY3RlZCwgZGVzZXJpYWxpemUgaXQgdXNpbmcgYSBKU09OIHBhcnNlci5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogIyMjIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zIFBlciBSZXF1ZXN0XHJcbiAgICAgKlxyXG4gICAgICogSWYgeW91IHdpc2ggb3ZlcnJpZGUgdGhlIHJlcXVlc3QvcmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zIG9ubHkgZm9yIGEgc2luZ2xlIHJlcXVlc3QgdGhlbiBwcm92aWRlXHJcbiAgICAgKiBgdHJhbnNmb3JtUmVxdWVzdGAgYW5kL29yIGB0cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcyBvbiB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgcGFzc2VkXHJcbiAgICAgKiBpbnRvIGAkaHR0cGAuXHJcbiAgICAgKlxyXG4gICAgICogTm90ZSB0aGF0IGlmIHlvdSBwcm92aWRlIHRoZXNlIHByb3BlcnRpZXMgb24gdGhlIGNvbmZpZyBvYmplY3QgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIHdpbGwgYmVcclxuICAgICAqIG92ZXJ3cml0dGVuLiBJZiB5b3Ugd2lzaCB0byBhdWdtZW50IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyB0aGVuIHlvdSBtdXN0IGluY2x1ZGUgdGhlbSBpbiB5b3VyXHJcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBhcnJheS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZm9sbG93aW5nIGNvZGUgZGVtb25zdHJhdGVzIGFkZGluZyBhIG5ldyByZXNwb25zZSB0cmFuc2Zvcm1hdGlvbiB0byBiZSBydW4gYWZ0ZXIgdGhlIGRlZmF1bHQgcmVzcG9uc2VcclxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBoYXZlIGJlZW4gcnVuLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBmdW5jdGlvbiBhcHBlbmRUcmFuc2Zvcm0oZGVmYXVsdHMsIHRyYW5zZm9ybSkge1xyXG4gICAgICpcclxuICAgICAqICAgLy8gV2UgY2FuJ3QgZ3VhcmFudGVlIHRoYXQgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb24gaXMgYW4gYXJyYXlcclxuICAgICAqICAgZGVmYXVsdHMgPSBhbmd1bGFyLmlzQXJyYXkoZGVmYXVsdHMpID8gZGVmYXVsdHMgOiBbZGVmYXVsdHNdO1xyXG4gICAgICpcclxuICAgICAqICAgLy8gQXBwZW5kIHRoZSBuZXcgdHJhbnNmb3JtYXRpb24gdG8gdGhlIGRlZmF1bHRzXHJcbiAgICAgKiAgIHJldHVybiBkZWZhdWx0cy5jb25jYXQodHJhbnNmb3JtKTtcclxuICAgICAqIH1cclxuICAgICAqXHJcbiAgICAgKiAkaHR0cCh7XHJcbiAgICAgKiAgIHVybDogJy4uLicsXHJcbiAgICAgKiAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgKiAgIHRyYW5zZm9ybVJlc3BvbnNlOiBhcHBlbmRUcmFuc2Zvcm0oJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgKiAgICAgcmV0dXJuIGRvVHJhbnNmb3JtKHZhbHVlKTtcclxuICAgICAqICAgfSlcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqICMjIENhY2hpbmdcclxuICAgICAqXHJcbiAgICAgKiB7QGxpbmsgbmcuJGh0dHAgYCRodHRwYH0gcmVzcG9uc2VzIGFyZSBub3QgY2FjaGVkIGJ5IGRlZmF1bHQuIFRvIGVuYWJsZSBjYWNoaW5nLCB5b3UgbXVzdFxyXG4gICAgICogc2V0IHRoZSBjb25maWcuY2FjaGUgdmFsdWUgb3IgdGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUgdG8gVFJVRSBvciB0byBhIGNhY2hlIG9iamVjdCAoY3JlYXRlZFxyXG4gICAgICogd2l0aCB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9KS4gSWYgZGVmaW5lZCwgdGhlIHZhbHVlIG9mIGNvbmZpZy5jYWNoZSB0YWtlc1xyXG4gICAgICogcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IGNhY2hlIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEluIG9yZGVyIHRvOlxyXG4gICAgICogICAqIGNhY2hlIGFsbCByZXNwb25zZXMgLSBzZXQgdGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUgdG8gVFJVRSBvciB0byBhIGNhY2hlIG9iamVjdFxyXG4gICAgICogICAqIGNhY2hlIGEgc3BlY2lmaWMgcmVzcG9uc2UgLSBzZXQgY29uZmlnLmNhY2hlIHZhbHVlIHRvIFRSVUUgb3IgdG8gYSBjYWNoZSBvYmplY3RcclxuICAgICAqXHJcbiAgICAgKiBJZiBjYWNoaW5nIGlzIGVuYWJsZWQsIGJ1dCBuZWl0aGVyIHRoZSBkZWZhdWx0IGNhY2hlIG5vciBjb25maWcuY2FjaGUgYXJlIHNldCB0byBhIGNhY2hlIG9iamVjdCxcclxuICAgICAqIHRoZW4gdGhlIGRlZmF1bHQgYCRjYWNoZUZhY3RvcnkoJGh0dHApYCBvYmplY3QgaXMgdXNlZC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZGVmYXVsdCBjYWNoZSB2YWx1ZSBjYW4gYmUgc2V0IGJ5IHVwZGF0aW5nIHRoZVxyXG4gICAgICoge0BsaW5rIG5nLiRodHRwI2RlZmF1bHRzIGAkaHR0cC5kZWZhdWx0cy5jYWNoZWB9IHByb3BlcnR5IG9yIHRoZVxyXG4gICAgICoge0BsaW5rICRodHRwUHJvdmlkZXIjZGVmYXVsdHMgYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuY2FjaGVgfSBwcm9wZXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBXaGVuIGNhY2hpbmcgaXMgZW5hYmxlZCwge0BsaW5rIG5nLiRodHRwIGAkaHR0cGB9IHN0b3JlcyB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyIHVzaW5nXHJcbiAgICAgKiB0aGUgcmVsZXZhbnQgY2FjaGUgb2JqZWN0LiBUaGUgbmV4dCB0aW1lIHRoZSBzYW1lIHJlcXVlc3QgaXMgbWFkZSwgdGhlIHJlc3BvbnNlIGlzIHJldHVybmVkXHJcbiAgICAgKiBmcm9tIHRoZSBjYWNoZSB3aXRob3V0IHNlbmRpbmcgYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKlxyXG4gICAgICogVGFrZSBub3RlIHRoYXQ6XHJcbiAgICAgKlxyXG4gICAgICogICAqIE9ubHkgR0VUIGFuZCBKU09OUCByZXF1ZXN0cyBhcmUgY2FjaGVkLlxyXG4gICAgICogICAqIFRoZSBjYWNoZSBrZXkgaXMgdGhlIHJlcXVlc3QgVVJMIGluY2x1ZGluZyBzZWFyY2ggcGFyYW1ldGVyczsgaGVhZGVycyBhcmUgbm90IGNvbnNpZGVyZWQuXHJcbiAgICAgKiAgICogQ2FjaGVkIHJlc3BvbnNlcyBhcmUgcmV0dXJuZWQgYXN5bmNocm9ub3VzbHksIGluIHRoZSBzYW1lIHdheSBhcyByZXNwb25zZXMgZnJvbSB0aGUgc2VydmVyLlxyXG4gICAgICogICAqIElmIG11bHRpcGxlIGlkZW50aWNhbCByZXF1ZXN0cyBhcmUgbWFkZSB1c2luZyB0aGUgc2FtZSBjYWNoZSwgd2hpY2ggaXMgbm90IHlldCBwb3B1bGF0ZWQsXHJcbiAgICAgKiAgICAgb25lIHJlcXVlc3Qgd2lsbCBiZSBtYWRlIHRvIHRoZSBzZXJ2ZXIgYW5kIHJlbWFpbmluZyByZXF1ZXN0cyB3aWxsIHJldHVybiB0aGUgc2FtZSByZXNwb25zZS5cclxuICAgICAqICAgKiBBIGNhY2hlLWNvbnRyb2wgaGVhZGVyIG9uIHRoZSByZXNwb25zZSBkb2VzIG5vdCBhZmZlY3QgaWYgb3IgaG93IHJlc3BvbnNlcyBhcmUgY2FjaGVkLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiAjIyBJbnRlcmNlcHRvcnNcclxuICAgICAqXHJcbiAgICAgKiBCZWZvcmUgeW91IHN0YXJ0IGNyZWF0aW5nIGludGVyY2VwdG9ycywgYmUgc3VyZSB0byB1bmRlcnN0YW5kIHRoZVxyXG4gICAgICoge0BsaW5rIG5nLiRxICRxIGFuZCBkZWZlcnJlZC9wcm9taXNlIEFQSXN9LlxyXG4gICAgICpcclxuICAgICAqIEZvciBwdXJwb3NlcyBvZiBnbG9iYWwgZXJyb3IgaGFuZGxpbmcsIGF1dGhlbnRpY2F0aW9uLCBvciBhbnkga2luZCBvZiBzeW5jaHJvbm91cyBvclxyXG4gICAgICogYXN5bmNocm9ub3VzIHByZS1wcm9jZXNzaW5nIG9mIHJlcXVlc3Qgb3IgcG9zdHByb2Nlc3Npbmcgb2YgcmVzcG9uc2VzLCBpdCBpcyBkZXNpcmFibGUgdG8gYmVcclxuICAgICAqIGFibGUgdG8gaW50ZXJjZXB0IHJlcXVlc3RzIGJlZm9yZSB0aGV5IGFyZSBoYW5kZWQgdG8gdGhlIHNlcnZlciBhbmRcclxuICAgICAqIHJlc3BvbnNlcyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIG92ZXIgdG8gdGhlIGFwcGxpY2F0aW9uIGNvZGUgdGhhdFxyXG4gICAgICogaW5pdGlhdGVkIHRoZXNlIHJlcXVlc3RzLiBUaGUgaW50ZXJjZXB0b3JzIGxldmVyYWdlIHRoZSB7QGxpbmsgbmcuJHFcclxuICAgICAqIHByb21pc2UgQVBJc30gdG8gZnVsZmlsbCB0aGlzIG5lZWQgZm9yIGJvdGggc3luY2hyb25vdXMgYW5kIGFzeW5jaHJvbm91cyBwcmUtcHJvY2Vzc2luZy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgaW50ZXJjZXB0b3JzIGFyZSBzZXJ2aWNlIGZhY3RvcmllcyB0aGF0IGFyZSByZWdpc3RlcmVkIHdpdGggdGhlIGAkaHR0cFByb3ZpZGVyYCBieVxyXG4gICAgICogYWRkaW5nIHRoZW0gdG8gdGhlIGAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9yc2AgYXJyYXkuIFRoZSBmYWN0b3J5IGlzIGNhbGxlZCBhbmRcclxuICAgICAqIGluamVjdGVkIHdpdGggZGVwZW5kZW5jaWVzIChpZiBzcGVjaWZpZWQpIGFuZCByZXR1cm5zIHRoZSBpbnRlcmNlcHRvci5cclxuICAgICAqXHJcbiAgICAgKiBUaGVyZSBhcmUgdHdvIGtpbmRzIG9mIGludGVyY2VwdG9ycyAoYW5kIHR3byBraW5kcyBvZiByZWplY3Rpb24gaW50ZXJjZXB0b3JzKTpcclxuICAgICAqXHJcbiAgICAgKiAgICogYHJlcXVlc3RgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGEgaHR0cCB7QGxpbmsgJGh0dHAjdXNhZ2UgY29uZmlnfSBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvXHJcbiAgICAgKiAgICAgbW9kaWZ5IHRoZSBgY29uZmlnYCBvYmplY3Qgb3IgY3JlYXRlIGEgbmV3IG9uZS4gVGhlIGZ1bmN0aW9uIG5lZWRzIHRvIHJldHVybiB0aGUgYGNvbmZpZ2BcclxuICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgY29uZmlnYCBvciBhIG5ldyBgY29uZmlnYCBvYmplY3QuXHJcbiAgICAgKiAgICogYHJlcXVlc3RFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvclxyXG4gICAgICogICAgIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24uXHJcbiAgICAgKiAgICogYHJlc3BvbnNlYDogaW50ZXJjZXB0b3JzIGdldCBjYWxsZWQgd2l0aCBodHRwIGByZXNwb25zZWAgb2JqZWN0LiBUaGUgZnVuY3Rpb24gaXMgZnJlZSB0b1xyXG4gICAgICogICAgIG1vZGlmeSB0aGUgYHJlc3BvbnNlYCBvYmplY3Qgb3IgY3JlYXRlIGEgbmV3IG9uZS4gVGhlIGZ1bmN0aW9uIG5lZWRzIHRvIHJldHVybiB0aGUgYHJlc3BvbnNlYFxyXG4gICAgICogICAgIG9iamVjdCBkaXJlY3RseSwgb3IgYXMgYSBwcm9taXNlIGNvbnRhaW5pbmcgdGhlIGByZXNwb25zZWAgb3IgYSBuZXcgYHJlc3BvbnNlYCBvYmplY3QuXHJcbiAgICAgKiAgICogYHJlc3BvbnNlRXJyb3JgOiBpbnRlcmNlcHRvciBnZXRzIGNhbGxlZCB3aGVuIGEgcHJldmlvdXMgaW50ZXJjZXB0b3IgdGhyZXcgYW4gZXJyb3Igb3JcclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICAvLyByZWdpc3RlciB0aGUgaW50ZXJjZXB0b3IgYXMgYSBzZXJ2aWNlXHJcbiAgICAgKiAgICRwcm92aWRlLmZhY3RvcnkoJ215SHR0cEludGVyY2VwdG9yJywgZnVuY3Rpb24oJHEsIGRlcGVuZGVuY3kxLCBkZXBlbmRlbmN5Mikge1xyXG4gICAgICogICAgIHJldHVybiB7XHJcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAqICAgICAgICdyZXF1ZXN0JzogZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBzdWNjZXNzXHJcbiAgICAgKiAgICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICAgKiAgICAgICB9LFxyXG4gICAgICpcclxuICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxyXG4gICAgICogICAgICAncmVxdWVzdEVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XHJcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBlcnJvclxyXG4gICAgICogICAgICAgICBpZiAoY2FuUmVjb3ZlcihyZWplY3Rpb24pKSB7XHJcbiAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXHJcbiAgICAgKiAgICAgICAgIH1cclxuICAgICAqICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICogICAgICAgfSxcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxyXG4gICAgICogICAgICAgJ3Jlc3BvbnNlJzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIHN1Y2Nlc3NcclxuICAgICAqICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICogICAgICAgfSxcclxuICAgICAqXHJcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAqICAgICAgJ3Jlc3BvbnNlRXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcclxuICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIGVycm9yXHJcbiAgICAgKiAgICAgICAgIGlmIChjYW5SZWNvdmVyKHJlamVjdGlvbikpIHtcclxuICAgICAqICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VPck5ld1Byb21pc2VcclxuICAgICAqICAgICAgICAgfVxyXG4gICAgICogICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XHJcbiAgICAgKiAgICAgICB9XHJcbiAgICAgKiAgICAgfTtcclxuICAgICAqICAgfSk7XHJcbiAgICAgKlxyXG4gICAgICogICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdteUh0dHBJbnRlcmNlcHRvcicpO1xyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiAgIC8vIGFsdGVybmF0aXZlbHksIHJlZ2lzdGVyIHRoZSBpbnRlcmNlcHRvciB2aWEgYW4gYW5vbnltb3VzIGZhY3RvcnlcclxuICAgICAqICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7XHJcbiAgICAgKiAgICAgcmV0dXJuIHtcclxuICAgICAqICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAqICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmVcclxuICAgICAqICAgICAgIH0sXHJcbiAgICAgKlxyXG4gICAgICogICAgICAgJ3Jlc3BvbnNlJzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAqICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmVcclxuICAgICAqICAgICAgIH1cclxuICAgICAqICAgICB9O1xyXG4gICAgICogICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqICMjIFNlY3VyaXR5IENvbnNpZGVyYXRpb25zXHJcbiAgICAgKlxyXG4gICAgICogV2hlbiBkZXNpZ25pbmcgd2ViIGFwcGxpY2F0aW9ucywgY29uc2lkZXIgc2VjdXJpdHkgdGhyZWF0cyBmcm9tOlxyXG4gICAgICpcclxuICAgICAqIC0gW0pTT04gdnVsbmVyYWJpbGl0eV0oaHR0cDovL2hhYWNrZWQuY29tL2FyY2hpdmUvMjAwOC8xMS8yMC9hbmF0b215LW9mLWEtc3VidGxlLWpzb24tdnVsbmVyYWJpbGl0eS5hc3B4KVxyXG4gICAgICogLSBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSlcclxuICAgICAqXHJcbiAgICAgKiBCb3RoIHNlcnZlciBhbmQgdGhlIGNsaWVudCBtdXN0IGNvb3BlcmF0ZSBpbiBvcmRlciB0byBlbGltaW5hdGUgdGhlc2UgdGhyZWF0cy4gQW5ndWxhciBjb21lc1xyXG4gICAgICogcHJlLWNvbmZpZ3VyZWQgd2l0aCBzdHJhdGVnaWVzIHRoYXQgYWRkcmVzcyB0aGVzZSBpc3N1ZXMsIGJ1dCBmb3IgdGhpcyB0byB3b3JrIGJhY2tlbmQgc2VydmVyXHJcbiAgICAgKiBjb29wZXJhdGlvbiBpcyByZXF1aXJlZC5cclxuICAgICAqXHJcbiAgICAgKiAjIyMgSlNPTiBWdWxuZXJhYmlsaXR5IFByb3RlY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBBIFtKU09OIHZ1bG5lcmFiaWxpdHldKGh0dHA6Ly9oYWFja2VkLmNvbS9hcmNoaXZlLzIwMDgvMTEvMjAvYW5hdG9teS1vZi1hLXN1YnRsZS1qc29uLXZ1bG5lcmFiaWxpdHkuYXNweClcclxuICAgICAqIGFsbG93cyB0aGlyZCBwYXJ0eSB3ZWJzaXRlIHRvIHR1cm4geW91ciBKU09OIHJlc291cmNlIFVSTCBpbnRvXHJcbiAgICAgKiBbSlNPTlBdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSlNPTlApIHJlcXVlc3QgdW5kZXIgc29tZSBjb25kaXRpb25zLiBUb1xyXG4gICAgICogY291bnRlciB0aGlzIHlvdXIgc2VydmVyIGNhbiBwcmVmaXggYWxsIEpTT04gcmVxdWVzdHMgd2l0aCBmb2xsb3dpbmcgc3RyaW5nIGBcIildfScsXFxuXCJgLlxyXG4gICAgICogQW5ndWxhciB3aWxsIGF1dG9tYXRpY2FsbHkgc3RyaXAgdGhlIHByZWZpeCBiZWZvcmUgcHJvY2Vzc2luZyBpdCBhcyBKU09OLlxyXG4gICAgICpcclxuICAgICAqIEZvciBleGFtcGxlIGlmIHlvdXIgc2VydmVyIG5lZWRzIHRvIHJldHVybjpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBbJ29uZScsJ3R3byddXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiB3aGljaCBpcyB2dWxuZXJhYmxlIHRvIGF0dGFjaywgeW91ciBzZXJ2ZXIgY2FuIHJldHVybjpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiApXX0nLFxyXG4gICAgICogWydvbmUnLCd0d28nXVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQW5ndWxhciB3aWxsIHN0cmlwIHRoZSBwcmVmaXgsIGJlZm9yZSBwcm9jZXNzaW5nIHRoZSBKU09OLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiAjIyMgQ3Jvc3MgU2l0ZSBSZXF1ZXN0IEZvcmdlcnkgKFhTUkYpIFByb3RlY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSkgaXMgYW4gYXR0YWNrIHRlY2huaXF1ZSBieVxyXG4gICAgICogd2hpY2ggdGhlIGF0dGFja2VyIGNhbiB0cmljayBhbiBhdXRoZW50aWNhdGVkIHVzZXIgaW50byB1bmtub3dpbmdseSBleGVjdXRpbmcgYWN0aW9ucyBvbiB5b3VyXHJcbiAgICAgKiB3ZWJzaXRlLiBBbmd1bGFyIHByb3ZpZGVzIGEgbWVjaGFuaXNtIHRvIGNvdW50ZXIgWFNSRi4gV2hlbiBwZXJmb3JtaW5nIFhIUiByZXF1ZXN0cywgdGhlXHJcbiAgICAgKiAkaHR0cCBzZXJ2aWNlIHJlYWRzIGEgdG9rZW4gZnJvbSBhIGNvb2tpZSAoYnkgZGVmYXVsdCwgYFhTUkYtVE9LRU5gKSBhbmQgc2V0cyBpdCBhcyBhbiBIVFRQXHJcbiAgICAgKiBoZWFkZXIgKGBYLVhTUkYtVE9LRU5gKS4gU2luY2Ugb25seSBKYXZhU2NyaXB0IHRoYXQgcnVucyBvbiB5b3VyIGRvbWFpbiBjb3VsZCByZWFkIHRoZVxyXG4gICAgICogY29va2llLCB5b3VyIHNlcnZlciBjYW4gYmUgYXNzdXJlZCB0aGF0IHRoZSBYSFIgY2FtZSBmcm9tIEphdmFTY3JpcHQgcnVubmluZyBvbiB5b3VyIGRvbWFpbi5cclxuICAgICAqIFRoZSBoZWFkZXIgd2lsbCBub3QgYmUgc2V0IGZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMuXHJcbiAgICAgKlxyXG4gICAgICogVG8gdGFrZSBhZHZhbnRhZ2Ugb2YgdGhpcywgeW91ciBzZXJ2ZXIgbmVlZHMgdG8gc2V0IGEgdG9rZW4gaW4gYSBKYXZhU2NyaXB0IHJlYWRhYmxlIHNlc3Npb25cclxuICAgICAqIGNvb2tpZSBjYWxsZWQgYFhTUkYtVE9LRU5gIG9uIHRoZSBmaXJzdCBIVFRQIEdFVCByZXF1ZXN0LiBPbiBzdWJzZXF1ZW50IFhIUiByZXF1ZXN0cyB0aGVcclxuICAgICAqIHNlcnZlciBjYW4gdmVyaWZ5IHRoYXQgdGhlIGNvb2tpZSBtYXRjaGVzIGBYLVhTUkYtVE9LRU5gIEhUVFAgaGVhZGVyLCBhbmQgdGhlcmVmb3JlIGJlIHN1cmVcclxuICAgICAqIHRoYXQgb25seSBKYXZhU2NyaXB0IHJ1bm5pbmcgb24geW91ciBkb21haW4gY291bGQgaGF2ZSBzZW50IHRoZSByZXF1ZXN0LiBUaGUgdG9rZW4gbXVzdCBiZVxyXG4gICAgICogdW5pcXVlIGZvciBlYWNoIHVzZXIgYW5kIG11c3QgYmUgdmVyaWZpYWJsZSBieSB0aGUgc2VydmVyICh0byBwcmV2ZW50IHRoZSBKYXZhU2NyaXB0IGZyb21cclxuICAgICAqIG1ha2luZyB1cCBpdHMgb3duIHRva2VucykuIFdlIHJlY29tbWVuZCB0aGF0IHRoZSB0b2tlbiBpcyBhIGRpZ2VzdCBvZiB5b3VyIHNpdGUnc1xyXG4gICAgICogYXV0aGVudGljYXRpb24gY29va2llIHdpdGggYSBbc2FsdF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU2FsdF8oY3J5cHRvZ3JhcGh5JiM0MTspXHJcbiAgICAgKiBmb3IgYWRkZWQgc2VjdXJpdHkuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGhlYWRlcnMgY2FuIGJlIHNwZWNpZmllZCB1c2luZyB0aGUgeHNyZkhlYWRlck5hbWUgYW5kIHhzcmZDb29raWVOYW1lXHJcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGVpdGhlciAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzIGF0IGNvbmZpZy10aW1lLCAkaHR0cC5kZWZhdWx0cyBhdCBydW4tdGltZSxcclxuICAgICAqIG9yIHRoZSBwZXItcmVxdWVzdCBjb25maWcgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEluIG9yZGVyIHRvIHByZXZlbnQgY29sbGlzaW9ucyBpbiBlbnZpcm9ubWVudHMgd2hlcmUgbXVsdGlwbGUgQW5ndWxhciBhcHBzIHNoYXJlIHRoZVxyXG4gICAgICogc2FtZSBkb21haW4gb3Igc3ViZG9tYWluLCB3ZSByZWNvbW1lbmQgdGhhdCBlYWNoIGFwcGxpY2F0aW9uIHVzZXMgdW5pcXVlIGNvb2tpZSBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgT2JqZWN0IGRlc2NyaWJpbmcgdGhlIHJlcXVlc3QgdG8gYmUgbWFkZSBhbmQgaG93IGl0IHNob3VsZCBiZVxyXG4gICAgICogICAgcHJvY2Vzc2VkLiBUaGUgb2JqZWN0IGhhcyBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICAgICAqXHJcbiAgICAgKiAgICAtICoqbWV0aG9kKiog4oCTIGB7c3RyaW5nfWAg4oCTIEhUVFAgbWV0aG9kIChlLmcuICdHRVQnLCAnUE9TVCcsIGV0YylcclxuICAgICAqICAgIC0gKip1cmwqKiDigJMgYHtzdHJpbmd9YCDigJMgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZC5cclxuICAgICAqICAgIC0gKipwYXJhbXMqKiDigJMgYHtPYmplY3QuPHN0cmluZ3xPYmplY3Q+fWAg4oCTIE1hcCBvZiBzdHJpbmdzIG9yIG9iamVjdHMgd2hpY2ggd2lsbCBiZSBzZXJpYWxpemVkXHJcbiAgICAgKiAgICAgIHdpdGggdGhlIGBwYXJhbVNlcmlhbGl6ZXJgIGFuZCBhcHBlbmRlZCBhcyBHRVQgcGFyYW1ldGVycy5cclxuICAgICAqICAgIC0gKipkYXRhKiog4oCTIGB7c3RyaW5nfE9iamVjdH1gIOKAkyBEYXRhIHRvIGJlIHNlbnQgYXMgdGhlIHJlcXVlc3QgbWVzc2FnZSBkYXRhLlxyXG4gICAgICogICAgLSAqKmhlYWRlcnMqKiDigJMgYHtPYmplY3R9YCDigJMgTWFwIG9mIHN0cmluZ3Mgb3IgZnVuY3Rpb25zIHdoaWNoIHJldHVybiBzdHJpbmdzIHJlcHJlc2VudGluZ1xyXG4gICAgICogICAgICBIVFRQIGhlYWRlcnMgdG8gc2VuZCB0byB0aGUgc2VydmVyLiBJZiB0aGUgcmV0dXJuIHZhbHVlIG9mIGEgZnVuY3Rpb24gaXMgbnVsbCwgdGhlXHJcbiAgICAgKiAgICAgIGhlYWRlciB3aWxsIG5vdCBiZSBzZW50LiBGdW5jdGlvbnMgYWNjZXB0IGEgY29uZmlnIG9iamVjdCBhcyBhbiBhcmd1bWVudC5cclxuICAgICAqICAgIC0gKipldmVudEhhbmRsZXJzKiogLSBge09iamVjdH1gIC0gRXZlbnQgbGlzdGVuZXJzIHRvIGJlIGJvdW5kIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCBvYmplY3QuXHJcbiAgICAgKiAgICAgIFRvIGJpbmQgZXZlbnRzIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCB1cGxvYWQgb2JqZWN0LCB1c2UgYHVwbG9hZEV2ZW50SGFuZGxlcnNgLlxyXG4gICAgICogICAgICBUaGUgaGFuZGxlciB3aWxsIGJlIGNhbGxlZCBpbiB0aGUgY29udGV4dCBvZiBhIGAkYXBwbHlgIGJsb2NrLlxyXG4gICAgICogICAgLSAqKnVwbG9hZEV2ZW50SGFuZGxlcnMqKiAtIGB7T2JqZWN0fWAgLSBFdmVudCBsaXN0ZW5lcnMgdG8gYmUgYm91bmQgdG8gdGhlIFhNTEh0dHBSZXF1ZXN0IHVwbG9hZFxyXG4gICAgICogICAgICBvYmplY3QuIFRvIGJpbmQgZXZlbnRzIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCBvYmplY3QsIHVzZSBgZXZlbnRIYW5kbGVyc2AuXHJcbiAgICAgKiAgICAgIFRoZSBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkIGluIHRoZSBjb250ZXh0IG9mIGEgYCRhcHBseWAgYmxvY2suXHJcbiAgICAgKiAgICAtICoqeHNyZkhlYWRlck5hbWUqKiDigJMgYHtzdHJpbmd9YCDigJMgTmFtZSBvZiBIVFRQIGhlYWRlciB0byBwb3B1bGF0ZSB3aXRoIHRoZSBYU1JGIHRva2VuLlxyXG4gICAgICogICAgLSAqKnhzcmZDb29raWVOYW1lKiog4oCTIGB7c3RyaW5nfWAg4oCTIE5hbWUgb2YgY29va2llIGNvbnRhaW5pbmcgdGhlIFhTUkYgdG9rZW4uXHJcbiAgICAgKiAgICAtICoqdHJhbnNmb3JtUmVxdWVzdCoqIOKAk1xyXG4gICAgICogICAgICBge2Z1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKT59YCDigJNcclxuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXHJcbiAgICAgKiAgICAgIHJlcXVlc3QgYm9keSBhbmQgaGVhZGVycyBhbmQgcmV0dXJucyBpdHMgdHJhbnNmb3JtZWQgKHR5cGljYWxseSBzZXJpYWxpemVkKSB2ZXJzaW9uLlxyXG4gICAgICogICAgICBTZWUge0BsaW5rIG5nLiRodHRwI292ZXJyaWRpbmctdGhlLWRlZmF1bHQtdHJhbnNmb3JtYXRpb25zLXBlci1yZXF1ZXN0XHJcbiAgICAgKiAgICAgIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zfVxyXG4gICAgICogICAgLSAqKnRyYW5zZm9ybVJlc3BvbnNlKiog4oCTXHJcbiAgICAgKiAgICAgIGB7ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKXxBcnJheS48ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKT59YCDigJNcclxuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXHJcbiAgICAgKiAgICAgIHJlc3BvbnNlIGJvZHksIGhlYWRlcnMgYW5kIHN0YXR1cyBhbmQgcmV0dXJucyBpdHMgdHJhbnNmb3JtZWQgKHR5cGljYWxseSBkZXNlcmlhbGl6ZWQpIHZlcnNpb24uXHJcbiAgICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGh0dHAjb3ZlcnJpZGluZy10aGUtZGVmYXVsdC10cmFuc2Zvcm1hdGlvbnMtcGVyLXJlcXVlc3RcclxuICAgICAqICAgICAgT3ZlcnJpZGluZyB0aGUgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnN9XHJcbiAgICAgKiAgICAtICoqcGFyYW1TZXJpYWxpemVyKiogLSBge3N0cmluZ3xmdW5jdGlvbihPYmplY3Q8c3RyaW5nLHN0cmluZz4pOnN0cmluZ31gIC0gQSBmdW5jdGlvbiB1c2VkIHRvXHJcbiAgICAgKiAgICAgIHByZXBhcmUgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiByZXF1ZXN0IHBhcmFtZXRlcnMgKHNwZWNpZmllZCBhcyBhbiBvYmplY3QpLlxyXG4gICAgICogICAgICBJZiBzcGVjaWZpZWQgYXMgc3RyaW5nLCBpdCBpcyBpbnRlcnByZXRlZCBhcyBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlXHJcbiAgICAgKiAgICAgIHtAbGluayAkaW5qZWN0b3IgJGluamVjdG9yfSwgd2hpY2ggbWVhbnMgeW91IGNhbiBjcmVhdGUgeW91ciBvd24gc2VyaWFsaXplclxyXG4gICAgICogICAgICBieSByZWdpc3RlcmluZyBpdCBhcyBhIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2Ugc2VydmljZX0uXHJcbiAgICAgKiAgICAgIFRoZSBkZWZhdWx0IHNlcmlhbGl6ZXIgaXMgdGhlIHtAbGluayAkaHR0cFBhcmFtU2VyaWFsaXplciAkaHR0cFBhcmFtU2VyaWFsaXplcn07XHJcbiAgICAgKiAgICAgIGFsdGVybmF0aXZlbHksIHlvdSBjYW4gdXNlIHRoZSB7QGxpbmsgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2V9XHJcbiAgICAgKiAgICAtICoqY2FjaGUqKiDigJMgYHtib29sZWFufE9iamVjdH1gIOKAkyBBIGJvb2xlYW4gdmFsdWUgb3Igb2JqZWN0IGNyZWF0ZWQgd2l0aFxyXG4gICAgICogICAgICB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9IHRvIGVuYWJsZSBvciBkaXNhYmxlIGNhY2hpbmcgb2YgdGhlIEhUVFAgcmVzcG9uc2UuXHJcbiAgICAgKiAgICAgIFNlZSB7QGxpbmsgJGh0dHAjY2FjaGluZyAkaHR0cCBDYWNoaW5nfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICAgICAqICAgIC0gKip0aW1lb3V0Kiog4oCTIGB7bnVtYmVyfFByb21pc2V9YCDigJMgdGltZW91dCBpbiBtaWxsaXNlY29uZHMsIG9yIHtAbGluayBuZy4kcSBwcm9taXNlfVxyXG4gICAgICogICAgICB0aGF0IHNob3VsZCBhYm9ydCB0aGUgcmVxdWVzdCB3aGVuIHJlc29sdmVkLlxyXG4gICAgICogICAgLSAqKndpdGhDcmVkZW50aWFscyoqIC0gYHtib29sZWFufWAgLSB3aGV0aGVyIHRvIHNldCB0aGUgYHdpdGhDcmVkZW50aWFsc2AgZmxhZyBvbiB0aGVcclxuICAgICAqICAgICAgWEhSIG9iamVjdC4gU2VlIFtyZXF1ZXN0cyB3aXRoIGNyZWRlbnRpYWxzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9IVFRQL0FjY2Vzc19jb250cm9sX0NPUlMjUmVxdWVzdHNfd2l0aF9jcmVkZW50aWFscylcclxuICAgICAqICAgICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgICAgKiAgICAtICoqcmVzcG9uc2VUeXBlKiogLSBge3N0cmluZ31gIC0gc2VlXHJcbiAgICAgKiAgICAgIFtYTUxIdHRwUmVxdWVzdC5yZXNwb25zZVR5cGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdCN4bWxodHRwcmVxdWVzdC1yZXNwb25zZXR5cGUpLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gUmV0dXJucyBhIHtAbGluayBuZy4kcSBgUHJvbWlzZX1gIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB0byBhIHJlc3BvbnNlIG9iamVjdFxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHRoZSByZXF1ZXN0IHN1Y2NlZWRzIG9yIGZhaWxzLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAcHJvcGVydHkge0FycmF5LjxPYmplY3Q+fSBwZW5kaW5nUmVxdWVzdHMgQXJyYXkgb2YgY29uZmlnIG9iamVjdHMgZm9yIGN1cnJlbnRseSBwZW5kaW5nXHJcbiAgICAgKiAgIHJlcXVlc3RzLiBUaGlzIGlzIHByaW1hcmlseSBtZWFudCB0byBiZSB1c2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbjxleGFtcGxlIG1vZHVsZT1cImh0dHBFeGFtcGxlXCI+XHJcbjxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgPGRpdiBuZy1jb250cm9sbGVyPVwiRmV0Y2hDb250cm9sbGVyXCI+XHJcbiAgICA8c2VsZWN0IG5nLW1vZGVsPVwibWV0aG9kXCIgYXJpYS1sYWJlbD1cIlJlcXVlc3QgbWV0aG9kXCI+XHJcbiAgICAgIDxvcHRpb24+R0VUPC9vcHRpb24+XHJcbiAgICAgIDxvcHRpb24+SlNPTlA8L29wdGlvbj5cclxuICAgIDwvc2VsZWN0PlxyXG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1cmxcIiBzaXplPVwiODBcIiBhcmlhLWxhYmVsPVwiVVJMXCIgLz5cclxuICAgIDxidXR0b24gaWQ9XCJmZXRjaGJ0blwiIG5nLWNsaWNrPVwiZmV0Y2goKVwiPmZldGNoPC9idXR0b24+PGJyPlxyXG4gICAgPGJ1dHRvbiBpZD1cInNhbXBsZWdldGJ0blwiIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0dFVCcsICdodHRwLWhlbGxvLmh0bWwnKVwiPlNhbXBsZSBHRVQ8L2J1dHRvbj5cclxuICAgIDxidXR0b24gaWQ9XCJzYW1wbGVqc29ucGJ0blwiXHJcbiAgICAgIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0pTT05QJyxcclxuICAgICAgICAgICAgICAgICAgICAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2dyZWV0LnBocD9jYWxsYmFjaz1KU09OX0NBTExCQUNLJm5hbWU9U3VwZXIlMjBIZXJvJylcIj5cclxuICAgICAgU2FtcGxlIEpTT05QXHJcbiAgICA8L2J1dHRvbj5cclxuICAgIDxidXR0b24gaWQ9XCJpbnZhbGlkanNvbnBidG5cIlxyXG4gICAgICBuZy1jbGljaz1cInVwZGF0ZU1vZGVsKCdKU09OUCcsICdodHRwczovL2FuZ3VsYXJqcy5vcmcvZG9lc250ZXhpc3QmY2FsbGJhY2s9SlNPTl9DQUxMQkFDSycpXCI+XHJcbiAgICAgICAgSW52YWxpZCBKU09OUFxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDxwcmU+aHR0cCBzdGF0dXMgY29kZToge3tzdGF0dXN9fTwvcHJlPlxyXG4gICAgPHByZT5odHRwIHJlc3BvbnNlIGRhdGE6IHt7ZGF0YX19PC9wcmU+XHJcbiAgPC9kaXY+XHJcbjwvZmlsZT5cclxuPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gIGFuZ3VsYXIubW9kdWxlKCdodHRwRXhhbXBsZScsIFtdKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0ZldGNoQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJyxcclxuICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAgICAgICAkc2NvcGUubWV0aG9kID0gJ0dFVCc7XHJcbiAgICAgICAgJHNjb3BlLnVybCA9ICdodHRwLWhlbGxvLmh0bWwnO1xyXG5cclxuICAgICAgICAkc2NvcGUuZmV0Y2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzY29wZS5jb2RlID0gbnVsbDtcclxuICAgICAgICAgICRzY29wZS5yZXNwb25zZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgJGh0dHAoe21ldGhvZDogJHNjb3BlLm1ldGhvZCwgdXJsOiAkc2NvcGUudXJsLCBjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KS5cclxuICAgICAgICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5kYXRhID0gcmVzcG9uc2UuZGF0YSB8fCBcIlJlcXVlc3QgZmFpbGVkXCI7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS51cGRhdGVNb2RlbCA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XHJcbiAgICAgICAgICAkc2NvcGUubWV0aG9kID0gbWV0aG9kO1xyXG4gICAgICAgICAgJHNjb3BlLnVybCA9IHVybDtcclxuICAgICAgICB9O1xyXG4gICAgICB9XSk7XHJcbjwvZmlsZT5cclxuPGZpbGUgbmFtZT1cImh0dHAtaGVsbG8uaHRtbFwiPlxyXG4gIEhlbGxvLCAkaHR0cCFcclxuPC9maWxlPlxyXG48ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgdmFyIHN0YXR1cyA9IGVsZW1lbnQoYnkuYmluZGluZygnc3RhdHVzJykpO1xyXG4gIHZhciBkYXRhID0gZWxlbWVudChieS5iaW5kaW5nKCdkYXRhJykpO1xyXG4gIHZhciBmZXRjaEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ZldGNoYnRuJykpO1xyXG4gIHZhciBzYW1wbGVHZXRCdG4gPSBlbGVtZW50KGJ5LmlkKCdzYW1wbGVnZXRidG4nKSk7XHJcbiAgdmFyIHNhbXBsZUpzb25wQnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlanNvbnBidG4nKSk7XHJcbiAgdmFyIGludmFsaWRKc29ucEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ludmFsaWRqc29ucGJ0bicpKTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBtYWtlIGFuIHhociBHRVQgcmVxdWVzdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgc2FtcGxlR2V0QnRuLmNsaWNrKCk7XHJcbiAgICBmZXRjaEJ0bi5jbGljaygpO1xyXG4gICAgZXhwZWN0KHN0YXR1cy5nZXRUZXh0KCkpLnRvTWF0Y2goJzIwMCcpO1xyXG4gICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9IZWxsbywgXFwkaHR0cCEvKTtcclxuICB9KTtcclxuXHJcbi8vIENvbW1lbnRlZCBvdXQgZHVlIHRvIGZsYWtlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxODVcclxuLy8gaXQoJ3Nob3VsZCBtYWtlIGEgSlNPTlAgcmVxdWVzdCB0byBhbmd1bGFyanMub3JnJywgZnVuY3Rpb24oKSB7XHJcbi8vICAgc2FtcGxlSnNvbnBCdG4uY2xpY2soKTtcclxuLy8gICBmZXRjaEJ0bi5jbGljaygpO1xyXG4vLyAgIGV4cGVjdChzdGF0dXMuZ2V0VGV4dCgpKS50b01hdGNoKCcyMDAnKTtcclxuLy8gICBleHBlY3QoZGF0YS5nZXRUZXh0KCkpLnRvTWF0Y2goL1N1cGVyIEhlcm8hLyk7XHJcbi8vIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIG1ha2UgSlNPTlAgcmVxdWVzdCB0byBpbnZhbGlkIFVSTCBhbmQgaW52b2tlIHRoZSBlcnJvciBoYW5kbGVyJyxcclxuICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICBpbnZhbGlkSnNvbnBCdG4uY2xpY2soKTtcclxuICAgIGZldGNoQnRuLmNsaWNrKCk7XHJcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMCcpO1xyXG4gICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKCdSZXF1ZXN0IGZhaWxlZCcpO1xyXG4gIH0pO1xyXG48L2ZpbGU+XHJcbjwvZXhhbXBsZT5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gJGh0dHAocmVxdWVzdENvbmZpZykge1xyXG5cclxuICAgICAgaWYgKCFpc09iamVjdChyZXF1ZXN0Q29uZmlnKSkge1xyXG4gICAgICAgIHRocm93IG1pbkVycignJGh0dHAnKSgnYmFkcmVxJywgJ0h0dHAgcmVxdWVzdCBjb25maWd1cmF0aW9uIG11c3QgYmUgYW4gb2JqZWN0LiAgUmVjZWl2ZWQ6IHswfScsIHJlcXVlc3RDb25maWcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWlzU3RyaW5nKHJlcXVlc3RDb25maWcudXJsKSkge1xyXG4gICAgICAgIHRocm93IG1pbkVycignJGh0dHAnKSgnYmFkcmVxJywgJ0h0dHAgcmVxdWVzdCBjb25maWd1cmF0aW9uIHVybCBtdXN0IGJlIGEgc3RyaW5nLiAgUmVjZWl2ZWQ6IHswfScsIHJlcXVlc3RDb25maWcudXJsKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGNvbmZpZyA9IGV4dGVuZCh7XHJcbiAgICAgICAgbWV0aG9kOiAnZ2V0JyxcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0LFxyXG4gICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZSxcclxuICAgICAgICBwYXJhbVNlcmlhbGl6ZXI6IGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplclxyXG4gICAgICB9LCByZXF1ZXN0Q29uZmlnKTtcclxuXHJcbiAgICAgIGNvbmZpZy5oZWFkZXJzID0gbWVyZ2VIZWFkZXJzKHJlcXVlc3RDb25maWcpO1xyXG4gICAgICBjb25maWcubWV0aG9kID0gdXBwZXJjYXNlKGNvbmZpZy5tZXRob2QpO1xyXG4gICAgICBjb25maWcucGFyYW1TZXJpYWxpemVyID0gaXNTdHJpbmcoY29uZmlnLnBhcmFtU2VyaWFsaXplcikgP1xyXG4gICAgICAgICRpbmplY3Rvci5nZXQoY29uZmlnLnBhcmFtU2VyaWFsaXplcikgOiBjb25maWcucGFyYW1TZXJpYWxpemVyO1xyXG5cclxuICAgICAgdmFyIHNlcnZlclJlcXVlc3QgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICB2YXIgaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xyXG4gICAgICAgIHZhciByZXFEYXRhID0gdHJhbnNmb3JtRGF0YShjb25maWcuZGF0YSwgaGVhZGVyc0dldHRlcihoZWFkZXJzKSwgdW5kZWZpbmVkLCBjb25maWcudHJhbnNmb3JtUmVxdWVzdCk7XHJcblxyXG4gICAgICAgIC8vIHN0cmlwIGNvbnRlbnQtdHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxyXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChyZXFEYXRhKSkge1xyXG4gICAgICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwgaGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChsb3dlcmNhc2UoaGVhZGVyKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpICYmICFpc1VuZGVmaW5lZChkZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMpKSB7XHJcbiAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzID0gZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2VuZCByZXF1ZXN0XHJcbiAgICAgICAgcmV0dXJuIHNlbmRSZXEoY29uZmlnLCByZXFEYXRhKS50aGVuKHRyYW5zZm9ybVJlc3BvbnNlLCB0cmFuc2Zvcm1SZXNwb25zZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgY2hhaW4gPSBbc2VydmVyUmVxdWVzdCwgdW5kZWZpbmVkXTtcclxuICAgICAgdmFyIHByb21pc2UgPSAkcS53aGVuKGNvbmZpZyk7XHJcblxyXG4gICAgICAvLyBhcHBseSBpbnRlcmNlcHRvcnNcclxuICAgICAgZm9yRWFjaChyZXZlcnNlZEludGVyY2VwdG9ycywgZnVuY3Rpb24oaW50ZXJjZXB0b3IpIHtcclxuICAgICAgICBpZiAoaW50ZXJjZXB0b3IucmVxdWVzdCB8fCBpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpIHtcclxuICAgICAgICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IucmVxdWVzdCwgaW50ZXJjZXB0b3IucmVxdWVzdEVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlc3BvbnNlIHx8IGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpIHtcclxuICAgICAgICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IucmVzcG9uc2UsIGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICB3aGlsZSAoY2hhaW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIHRoZW5GbiA9IGNoYWluLnNoaWZ0KCk7XHJcbiAgICAgICAgdmFyIHJlamVjdEZuID0gY2hhaW4uc2hpZnQoKTtcclxuXHJcbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbih0aGVuRm4sIHJlamVjdEZuKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHVzZUxlZ2FjeVByb21pc2UpIHtcclxuICAgICAgICBwcm9taXNlLnN1Y2Nlc3MgPSBmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgYXNzZXJ0QXJnRm4oZm4sICdmbicpO1xyXG5cclxuICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICBmbihyZXNwb25zZS5kYXRhLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLmhlYWRlcnMsIGNvbmZpZyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByb21pc2UuZXJyb3IgPSBmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgYXNzZXJ0QXJnRm4oZm4sICdmbicpO1xyXG5cclxuICAgICAgICAgIHByb21pc2UudGhlbihudWxsLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICBmbihyZXNwb25zZS5kYXRhLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLmhlYWRlcnMsIGNvbmZpZyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcHJvbWlzZS5zdWNjZXNzID0gJGh0dHBNaW5FcnJMZWdhY3lGbignc3VjY2VzcycpO1xyXG4gICAgICAgIHByb21pc2UuZXJyb3IgPSAkaHR0cE1pbkVyckxlZ2FjeUZuKCdlcnJvcicpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcHJvbWlzZTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgc2luY2UgdGhlIHJlc3BvbnNlIG11c3QgYmUgY2FjaGVhYmxlXHJcbiAgICAgICAgdmFyIHJlc3AgPSBleHRlbmQoe30sIHJlc3BvbnNlKTtcclxuICAgICAgICByZXNwLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKHJlc3BvbnNlLmRhdGEsIHJlc3BvbnNlLmhlYWRlcnMsIHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSk7XHJcbiAgICAgICAgcmV0dXJuIChpc1N1Y2Nlc3MocmVzcG9uc2Uuc3RhdHVzKSlcclxuICAgICAgICAgID8gcmVzcFxyXG4gICAgICAgICAgOiAkcS5yZWplY3QocmVzcCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGV4ZWN1dGVIZWFkZXJGbnMoaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIGhlYWRlckNvbnRlbnQsIHByb2Nlc3NlZEhlYWRlcnMgPSB7fTtcclxuXHJcbiAgICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbihoZWFkZXJGbiwgaGVhZGVyKSB7XHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihoZWFkZXJGbikpIHtcclxuICAgICAgICAgICAgaGVhZGVyQ29udGVudCA9IGhlYWRlckZuKGNvbmZpZyk7XHJcbiAgICAgICAgICAgIGlmIChoZWFkZXJDb250ZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICBwcm9jZXNzZWRIZWFkZXJzW2hlYWRlcl0gPSBoZWFkZXJDb250ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwcm9jZXNzZWRIZWFkZXJzW2hlYWRlcl0gPSBoZWFkZXJGbjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NlZEhlYWRlcnM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG1lcmdlSGVhZGVycyhjb25maWcpIHtcclxuICAgICAgICB2YXIgZGVmSGVhZGVycyA9IGRlZmF1bHRzLmhlYWRlcnMsXHJcbiAgICAgICAgICAgIHJlcUhlYWRlcnMgPSBleHRlbmQoe30sIGNvbmZpZy5oZWFkZXJzKSxcclxuICAgICAgICAgICAgZGVmSGVhZGVyTmFtZSwgbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSwgcmVxSGVhZGVyTmFtZTtcclxuXHJcbiAgICAgICAgZGVmSGVhZGVycyA9IGV4dGVuZCh7fSwgZGVmSGVhZGVycy5jb21tb24sIGRlZkhlYWRlcnNbbG93ZXJjYXNlKGNvbmZpZy5tZXRob2QpXSk7XHJcblxyXG4gICAgICAgIC8vIHVzaW5nIGZvci1pbiBpbnN0ZWFkIG9mIGZvckVhY2ggdG8gYXZvaWQgdW5uZWNlc3NhcnkgaXRlcmF0aW9uIGFmdGVyIGhlYWRlciBoYXMgYmVlbiBmb3VuZFxyXG4gICAgICAgIGRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uOlxyXG4gICAgICAgIGZvciAoZGVmSGVhZGVyTmFtZSBpbiBkZWZIZWFkZXJzKSB7XHJcbiAgICAgICAgICBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lID0gbG93ZXJjYXNlKGRlZkhlYWRlck5hbWUpO1xyXG5cclxuICAgICAgICAgIGZvciAocmVxSGVhZGVyTmFtZSBpbiByZXFIZWFkZXJzKSB7XHJcbiAgICAgICAgICAgIGlmIChsb3dlcmNhc2UocmVxSGVhZGVyTmFtZSkgPT09IGxvd2VyY2FzZURlZkhlYWRlck5hbWUpIHtcclxuICAgICAgICAgICAgICBjb250aW51ZSBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJlcUhlYWRlcnNbZGVmSGVhZGVyTmFtZV0gPSBkZWZIZWFkZXJzW2RlZkhlYWRlck5hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZXhlY3V0ZSBpZiBoZWFkZXIgdmFsdWUgaXMgYSBmdW5jdGlvbiBmb3IgbWVyZ2VkIGhlYWRlcnNcclxuICAgICAgICByZXR1cm4gZXhlY3V0ZUhlYWRlckZucyhyZXFIZWFkZXJzLCBzaGFsbG93Q29weShjb25maWcpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICRodHRwLnBlbmRpbmdSZXF1ZXN0cyA9IFtdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGh0dHAjZ2V0XHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgR0VUYCByZXF1ZXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRodHRwI2RlbGV0ZVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYERFTEVURWAgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkaHR0cCNoZWFkXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgSEVBRGAgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkaHR0cCNqc29ucFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEpTT05QYCByZXF1ZXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0LlxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgY2FsbGJhY2sgc2hvdWxkIGJlIHRoZSBzdHJpbmcgYEpTT05fQ0FMTEJBQ0tgLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVTaG9ydE1ldGhvZHMoJ2dldCcsICdkZWxldGUnLCAnaGVhZCcsICdqc29ucCcpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGh0dHAjcG9zdFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBPU1RgIHJlcXVlc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBSZXF1ZXN0IGNvbnRlbnRcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGh0dHAjcHV0XHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgUFVUYCByZXF1ZXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XHJcbiAgICAgKi9cclxuXHJcbiAgICAgLyoqXHJcbiAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAqIEBuYW1lICRodHRwI3BhdGNoXHJcbiAgICAgICpcclxuICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgUEFUQ0hgIHJlcXVlc3QuXHJcbiAgICAgICpcclxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxyXG4gICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBSZXF1ZXN0IGNvbnRlbnRcclxuICAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICAqL1xyXG4gICAgY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEoJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJyk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAgICAgICAqIEBuYW1lICRodHRwI2RlZmF1bHRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBSdW50aW1lIGVxdWl2YWxlbnQgb2YgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzYCBwcm9wZXJ0eS4gQWxsb3dzIGNvbmZpZ3VyYXRpb24gb2ZcclxuICAgICAgICAgKiBkZWZhdWx0IGhlYWRlcnMsIHdpdGhDcmVkZW50aWFscyBhcyB3ZWxsIGFzIHJlcXVlc3QgYW5kIHJlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFNlZSBcIlNldHRpbmcgSFRUUCBIZWFkZXJzXCIgYW5kIFwiVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcIiBzZWN0aW9ucyBhYm92ZS5cclxuICAgICAgICAgKi9cclxuICAgICRodHRwLmRlZmF1bHRzID0gZGVmYXVsdHM7XHJcblxyXG5cclxuICAgIHJldHVybiAkaHR0cDtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzKG5hbWVzKSB7XHJcbiAgICAgIGZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgJGh0dHBbbmFtZV0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xyXG4gICAgICAgICAgcmV0dXJuICRodHRwKGV4dGVuZCh7fSwgY29uZmlnIHx8IHt9LCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcclxuICAgICAgICAgICAgdXJsOiB1cmxcclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEobmFtZSkge1xyXG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgICRodHRwW25hbWVdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcclxuICAgICAgICAgIHJldHVybiAkaHR0cChleHRlbmQoe30sIGNvbmZpZyB8fCB7fSwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IG5hbWUsXHJcbiAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFrZXMgdGhlIHJlcXVlc3QuXHJcbiAgICAgKlxyXG4gICAgICogISEhIEFDQ0VTU0VTIENMT1NVUkUgVkFSUzpcclxuICAgICAqICRodHRwQmFja2VuZCwgZGVmYXVsdHMsICRsb2csICRyb290U2NvcGUsIGRlZmF1bHRDYWNoZSwgJGh0dHAucGVuZGluZ1JlcXVlc3RzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNlbmRSZXEoY29uZmlnLCByZXFEYXRhKSB7XHJcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXHJcbiAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZSxcclxuICAgICAgICAgIGNhY2hlLFxyXG4gICAgICAgICAgY2FjaGVkUmVzcCxcclxuICAgICAgICAgIHJlcUhlYWRlcnMgPSBjb25maWcuaGVhZGVycyxcclxuICAgICAgICAgIHVybCA9IGJ1aWxkVXJsKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIoY29uZmlnLnBhcmFtcykpO1xyXG5cclxuICAgICAgJGh0dHAucGVuZGluZ1JlcXVlc3RzLnB1c2goY29uZmlnKTtcclxuICAgICAgcHJvbWlzZS50aGVuKHJlbW92ZVBlbmRpbmdSZXEsIHJlbW92ZVBlbmRpbmdSZXEpO1xyXG5cclxuXHJcbiAgICAgIGlmICgoY29uZmlnLmNhY2hlIHx8IGRlZmF1bHRzLmNhY2hlKSAmJiBjb25maWcuY2FjaGUgIT09IGZhbHNlICYmXHJcbiAgICAgICAgICAoY29uZmlnLm1ldGhvZCA9PT0gJ0dFVCcgfHwgY29uZmlnLm1ldGhvZCA9PT0gJ0pTT05QJykpIHtcclxuICAgICAgICBjYWNoZSA9IGlzT2JqZWN0KGNvbmZpZy5jYWNoZSkgPyBjb25maWcuY2FjaGVcclxuICAgICAgICAgICAgICA6IGlzT2JqZWN0KGRlZmF1bHRzLmNhY2hlKSA/IGRlZmF1bHRzLmNhY2hlXHJcbiAgICAgICAgICAgICAgOiBkZWZhdWx0Q2FjaGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjYWNoZSkge1xyXG4gICAgICAgIGNhY2hlZFJlc3AgPSBjYWNoZS5nZXQodXJsKTtcclxuICAgICAgICBpZiAoaXNEZWZpbmVkKGNhY2hlZFJlc3ApKSB7XHJcbiAgICAgICAgICBpZiAoaXNQcm9taXNlTGlrZShjYWNoZWRSZXNwKSkge1xyXG4gICAgICAgICAgICAvLyBjYWNoZWQgcmVxdWVzdCBoYXMgYWxyZWFkeSBiZWVuIHNlbnQsIGJ1dCB0aGVyZSBpcyBubyByZXNwb25zZSB5ZXRcclxuICAgICAgICAgICAgY2FjaGVkUmVzcC50aGVuKHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdCwgcmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNlcnZpbmcgZnJvbSBjYWNoZVxyXG4gICAgICAgICAgICBpZiAoaXNBcnJheShjYWNoZWRSZXNwKSkge1xyXG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3BbMV0sIGNhY2hlZFJlc3BbMF0sIHNoYWxsb3dDb3B5KGNhY2hlZFJlc3BbMl0pLCBjYWNoZWRSZXNwWzNdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwLCAyMDAsIHt9LCAnT0snKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBwdXQgdGhlIHByb21pc2UgZm9yIHRoZSBub24tdHJhbnNmb3JtZWQgcmVzcG9uc2UgaW50byBjYWNoZSBhcyBhIHBsYWNlaG9sZGVyXHJcbiAgICAgICAgICBjYWNoZS5wdXQodXJsLCBwcm9taXNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAvLyBpZiB3ZSB3b24ndCBoYXZlIHRoZSByZXNwb25zZSBpbiBjYWNoZSwgc2V0IHRoZSB4c3JmIGhlYWRlcnMgYW5kXHJcbiAgICAgIC8vIHNlbmQgdGhlIHJlcXVlc3QgdG8gdGhlIGJhY2tlbmRcclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKGNhY2hlZFJlc3ApKSB7XHJcbiAgICAgICAgdmFyIHhzcmZWYWx1ZSA9IHVybElzU2FtZU9yaWdpbihjb25maWcudXJsKVxyXG4gICAgICAgICAgICA/ICQkY29va2llUmVhZGVyKClbY29uZmlnLnhzcmZDb29raWVOYW1lIHx8IGRlZmF1bHRzLnhzcmZDb29raWVOYW1lXVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoeHNyZlZhbHVlKSB7XHJcbiAgICAgICAgICByZXFIZWFkZXJzWyhjb25maWcueHNyZkhlYWRlck5hbWUgfHwgZGVmYXVsdHMueHNyZkhlYWRlck5hbWUpXSA9IHhzcmZWYWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRodHRwQmFja2VuZChjb25maWcubWV0aG9kLCB1cmwsIHJlcURhdGEsIGRvbmUsIHJlcUhlYWRlcnMsIGNvbmZpZy50aW1lb3V0LFxyXG4gICAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzLCBjb25maWcucmVzcG9uc2VUeXBlLFxyXG4gICAgICAgICAgICBjcmVhdGVBcHBseUhhbmRsZXJzKGNvbmZpZy5ldmVudEhhbmRsZXJzKSxcclxuICAgICAgICAgICAgY3JlYXRlQXBwbHlIYW5kbGVycyhjb25maWcudXBsb2FkRXZlbnRIYW5kbGVycykpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcHJvbWlzZTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUFwcGx5SGFuZGxlcnMoZXZlbnRIYW5kbGVycykge1xyXG4gICAgICAgIGlmIChldmVudEhhbmRsZXJzKSB7XHJcbiAgICAgICAgICB2YXIgYXBwbHlIYW5kbGVycyA9IHt9O1xyXG4gICAgICAgICAgZm9yRWFjaChldmVudEhhbmRsZXJzLCBmdW5jdGlvbihldmVudEhhbmRsZXIsIGtleSkge1xyXG4gICAgICAgICAgICBhcHBseUhhbmRsZXJzW2tleV0gPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgIGlmICh1c2VBcHBseUFzeW5jKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseUFzeW5jKGNhbGxFdmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsRXZlbnRIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGNhbGxFdmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24gY2FsbEV2ZW50SGFuZGxlcigpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlcihldmVudCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gYXBwbHlIYW5kbGVycztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQ2FsbGJhY2sgcmVnaXN0ZXJlZCB0byAkaHR0cEJhY2tlbmQoKTpcclxuICAgICAgICogIC0gY2FjaGVzIHRoZSByZXNwb25zZSBpZiBkZXNpcmVkXHJcbiAgICAgICAqICAtIHJlc29sdmVzIHRoZSByYXcgJGh0dHAgcHJvbWlzZVxyXG4gICAgICAgKiAgLSBjYWxscyAkYXBwbHlcclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIGRvbmUoc3RhdHVzLCByZXNwb25zZSwgaGVhZGVyc1N0cmluZywgc3RhdHVzVGV4dCkge1xyXG4gICAgICAgIGlmIChjYWNoZSkge1xyXG4gICAgICAgICAgaWYgKGlzU3VjY2VzcyhzdGF0dXMpKSB7XHJcbiAgICAgICAgICAgIGNhY2hlLnB1dCh1cmwsIFtzdGF0dXMsIHJlc3BvbnNlLCBwYXJzZUhlYWRlcnMoaGVhZGVyc1N0cmluZyksIHN0YXR1c1RleHRdKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBwcm9taXNlIGZyb20gdGhlIGNhY2hlXHJcbiAgICAgICAgICAgIGNhY2hlLnJlbW92ZSh1cmwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUh0dHBQcm9taXNlKCkge1xyXG4gICAgICAgICAgcmVzb2x2ZVByb21pc2UocmVzcG9uc2UsIHN0YXR1cywgaGVhZGVyc1N0cmluZywgc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodXNlQXBwbHlBc3luYykge1xyXG4gICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHlBc3luYyhyZXNvbHZlSHR0cFByb21pc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXNvbHZlSHR0cFByb21pc2UoKTtcclxuICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSAkcm9vdFNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZXNvbHZlcyB0aGUgcmF3ICRodHRwIHByb21pc2UuXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZShyZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzLCBzdGF0dXNUZXh0KSB7XHJcbiAgICAgICAgLy9zdGF0dXM6IEhUVFAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUsIDAsIC0xIChhYm9ydGVkIGJ5IHRpbWVvdXQgLyBwcm9taXNlKVxyXG4gICAgICAgIHN0YXR1cyA9IHN0YXR1cyA+PSAtMSA/IHN0YXR1cyA6IDA7XHJcblxyXG4gICAgICAgIChpc1N1Y2Nlc3Moc3RhdHVzKSA/IGRlZmVycmVkLnJlc29sdmUgOiBkZWZlcnJlZC5yZWplY3QpKHtcclxuICAgICAgICAgIGRhdGE6IHJlc3BvbnNlLFxyXG4gICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXHJcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLFxyXG4gICAgICAgICAgY29uZmlnOiBjb25maWcsXHJcbiAgICAgICAgICBzdGF0dXNUZXh0OiBzdGF0dXNUZXh0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdChyZXN1bHQpIHtcclxuICAgICAgICByZXNvbHZlUHJvbWlzZShyZXN1bHQuZGF0YSwgcmVzdWx0LnN0YXR1cywgc2hhbGxvd0NvcHkocmVzdWx0LmhlYWRlcnMoKSksIHJlc3VsdC5zdGF0dXNUZXh0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcmVtb3ZlUGVuZGluZ1JlcSgpIHtcclxuICAgICAgICB2YXIgaWR4ID0gJGh0dHAucGVuZGluZ1JlcXVlc3RzLmluZGV4T2YoY29uZmlnKTtcclxuICAgICAgICBpZiAoaWR4ICE9PSAtMSkgJGh0dHAucGVuZGluZ1JlcXVlc3RzLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGJ1aWxkVXJsKHVybCwgc2VyaWFsaXplZFBhcmFtcykge1xyXG4gICAgICBpZiAoc2VyaWFsaXplZFBhcmFtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdXJsICs9ICgodXJsLmluZGV4T2YoJz8nKSA9PSAtMSkgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdXJsO1xyXG4gICAgfVxyXG4gIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHhockZhY3RvcnlcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEZhY3RvcnkgZnVuY3Rpb24gdXNlZCB0byBjcmVhdGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0cy5cclxuICpcclxuICogUmVwbGFjZSBvciBkZWNvcmF0ZSB0aGlzIHNlcnZpY2UgdG8gY3JlYXRlIHlvdXIgb3duIGN1c3RvbSBYTUxIdHRwUmVxdWVzdCBvYmplY3RzLlxyXG4gKlxyXG4gKiBgYGBcclxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwJywgW10pXHJcbiAqIC5mYWN0b3J5KCckeGhyRmFjdG9yeScsIGZ1bmN0aW9uKCkge1xyXG4gKiAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVYaHIobWV0aG9kLCB1cmwpIHtcclxuICogICAgIHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KHttb3pTeXN0ZW06IHRydWV9KTtcclxuICogICB9O1xyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgSFRUUCBtZXRob2Qgb2YgdGhlIHJlcXVlc3QgKEdFVCwgUE9TVCwgUFVULCAuLilcclxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwgb2YgdGhlIHJlcXVlc3QuXHJcbiAqL1xyXG5mdW5jdGlvbiAkeGhyRmFjdG9yeVByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVhocigpIHtcclxuICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIH07XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRodHRwQmFja2VuZFxyXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xyXG4gKiBAcmVxdWlyZXMgJGRvY3VtZW50XHJcbiAqIEByZXF1aXJlcyAkeGhyRmFjdG9yeVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogSFRUUCBiYWNrZW5kIHVzZWQgYnkgdGhlIHtAbGluayBuZy4kaHR0cCBzZXJ2aWNlfSB0aGF0IGRlbGVnYXRlcyB0b1xyXG4gKiBYTUxIdHRwUmVxdWVzdCBvYmplY3Qgb3IgSlNPTlAgYW5kIGRlYWxzIHdpdGggYnJvd3NlciBpbmNvbXBhdGliaWxpdGllcy5cclxuICpcclxuICogWW91IHNob3VsZCBuZXZlciBuZWVkIHRvIHVzZSB0aGlzIHNlcnZpY2UgZGlyZWN0bHksIGluc3RlYWQgdXNlIHRoZSBoaWdoZXItbGV2ZWwgYWJzdHJhY3Rpb25zOlxyXG4gKiB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9IG9yIHtAbGluayBuZ1Jlc291cmNlLiRyZXNvdXJjZSAkcmVzb3VyY2V9LlxyXG4gKlxyXG4gKiBEdXJpbmcgdGVzdGluZyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIHN3YXBwZWQgd2l0aCB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCBtb2NrXHJcbiAqICRodHRwQmFja2VuZH0gd2hpY2ggY2FuIGJlIHRyYWluZWQgd2l0aCByZXNwb25zZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiAkSHR0cEJhY2tlbmRQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyR3aW5kb3cnLCAnJGRvY3VtZW50JywgJyR4aHJGYWN0b3J5JywgZnVuY3Rpb24oJGJyb3dzZXIsICR3aW5kb3csICRkb2N1bWVudCwgJHhockZhY3RvcnkpIHtcclxuICAgIHJldHVybiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlciwgJHhockZhY3RvcnksICRicm93c2VyLmRlZmVyLCAkd2luZG93LmFuZ3VsYXIuY2FsbGJhY2tzLCAkZG9jdW1lbnRbMF0pO1xyXG4gIH1dO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlciwgY3JlYXRlWGhyLCAkYnJvd3NlckRlZmVyLCBjYWxsYmFja3MsIHJhd0RvY3VtZW50KSB7XHJcbiAgLy8gVE9ETyh2b2p0YSk6IGZpeCB0aGUgc2lnbmF0dXJlXHJcbiAgcmV0dXJuIGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBwb3N0LCBjYWxsYmFjaywgaGVhZGVycywgdGltZW91dCwgd2l0aENyZWRlbnRpYWxzLCByZXNwb25zZVR5cGUsIGV2ZW50SGFuZGxlcnMsIHVwbG9hZEV2ZW50SGFuZGxlcnMpIHtcclxuICAgICRicm93c2VyLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQoKTtcclxuICAgIHVybCA9IHVybCB8fCAkYnJvd3Nlci51cmwoKTtcclxuXHJcbiAgICBpZiAobG93ZXJjYXNlKG1ldGhvZCkgPT0gJ2pzb25wJykge1xyXG4gICAgICB2YXIgY2FsbGJhY2tJZCA9ICdfJyArIChjYWxsYmFja3MuY291bnRlcisrKS50b1N0cmluZygzNik7XHJcbiAgICAgIGNhbGxiYWNrc1tjYWxsYmFja0lkXSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBjYWxsYmFja3NbY2FsbGJhY2tJZF0uZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdLmNhbGxlZCA9IHRydWU7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIganNvbnBEb25lID0ganNvbnBSZXEodXJsLnJlcGxhY2UoJ0pTT05fQ0FMTEJBQ0snLCAnYW5ndWxhci5jYWxsYmFja3MuJyArIGNhbGxiYWNrSWQpLFxyXG4gICAgICAgICAgY2FsbGJhY2tJZCwgZnVuY3Rpb24oc3RhdHVzLCB0ZXh0KSB7XHJcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCBzdGF0dXMsIGNhbGxiYWNrc1tjYWxsYmFja0lkXS5kYXRhLCBcIlwiLCB0ZXh0KTtcclxuICAgICAgICBjYWxsYmFja3NbY2FsbGJhY2tJZF0gPSBub29wO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICB2YXIgeGhyID0gY3JlYXRlWGhyKG1ldGhvZCwgdXJsKTtcclxuXHJcbiAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcclxuICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiByZXF1ZXN0TG9hZGVkKCkge1xyXG4gICAgICAgIHZhciBzdGF0dXNUZXh0ID0geGhyLnN0YXR1c1RleHQgfHwgJyc7XHJcblxyXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyB0aGUgb2xkLXNjaG9vbCB3YXkgb2YgcmV0cmlldmluZyByZXNwb25zZSAoc3VwcG9ydGVkIGJ5IElFOSlcclxuICAgICAgICAvLyByZXNwb25zZS9yZXNwb25zZVR5cGUgcHJvcGVydGllcyB3ZXJlIGludHJvZHVjZWQgaW4gWEhSIExldmVsMiBzcGVjIChzdXBwb3J0ZWQgYnkgSUUxMClcclxuICAgICAgICB2YXIgcmVzcG9uc2UgPSAoJ3Jlc3BvbnNlJyBpbiB4aHIpID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dDtcclxuXHJcbiAgICAgICAgLy8gbm9ybWFsaXplIElFOSBidWcgKGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzE0NTApXHJcbiAgICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiB4aHIuc3RhdHVzO1xyXG5cclxuICAgICAgICAvLyBmaXggc3RhdHVzIGNvZGUgd2hlbiBpdCBpcyAwICgwIHN0YXR1cyBpcyB1bmRvY3VtZW50ZWQpLlxyXG4gICAgICAgIC8vIE9jY3VycyB3aGVuIGFjY2Vzc2luZyBmaWxlIHJlc291cmNlcyBvciBvbiBBbmRyb2lkIDQuMSBzdG9jayBicm93c2VyXHJcbiAgICAgICAgLy8gd2hpbGUgcmV0cmlldmluZyBmaWxlcyBmcm9tIGFwcGxpY2F0aW9uIGNhY2hlLlxyXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDApIHtcclxuICAgICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlID8gMjAwIDogdXJsUmVzb2x2ZSh1cmwpLnByb3RvY29sID09ICdmaWxlJyA/IDQwNCA6IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssXHJcbiAgICAgICAgICAgIHN0YXR1cyxcclxuICAgICAgICAgICAgcmVzcG9uc2UsXHJcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxcclxuICAgICAgICAgICAgc3RhdHVzVGV4dCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgcmVxdWVzdEVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gVGhlIHJlc3BvbnNlIGlzIGFsd2F5cyBlbXB0eVxyXG4gICAgICAgIC8vIFNlZSBodHRwczovL3hoci5zcGVjLndoYXR3Zy5vcmcvI3JlcXVlc3QtZXJyb3Itc3RlcHMgYW5kIGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNjb25jZXB0LW5ldHdvcmstZXJyb3JcclxuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIC0xLCBudWxsLCBudWxsLCAnJyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB4aHIub25lcnJvciA9IHJlcXVlc3RFcnJvcjtcclxuICAgICAgeGhyLm9uYWJvcnQgPSByZXF1ZXN0RXJyb3I7XHJcblxyXG4gICAgICBmb3JFYWNoKGV2ZW50SGFuZGxlcnMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGZvckVhY2godXBsb2FkRXZlbnRIYW5kbGVycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgIHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAod2l0aENyZWRlbnRpYWxzKSB7XHJcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChyZXNwb25zZVR5cGUpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAvLyBXZWJLaXQgYWRkZWQgc3VwcG9ydCBmb3IgdGhlIGpzb24gcmVzcG9uc2VUeXBlIHZhbHVlIG9uIDA5LzAzLzIwMTNcclxuICAgICAgICAgIC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD03MzY0OC4gVmVyc2lvbnMgb2YgU2FmYXJpIHByaW9yIHRvIDcgYXJlXHJcbiAgICAgICAgICAvLyBrbm93biB0byB0aHJvdyB3aGVuIHNldHRpbmcgdGhlIHZhbHVlIFwianNvblwiIGFzIHRoZSByZXNwb25zZSB0eXBlLiBPdGhlciBvbGRlclxyXG4gICAgICAgICAgLy8gYnJvd3NlcnMgaW1wbGVtZW50aW5nIHRoZSByZXNwb25zZVR5cGVcclxuICAgICAgICAgIC8vXHJcbiAgICAgICAgICAvLyBUaGUganNvbiByZXNwb25zZSB0eXBlIGNhbiBiZSBpZ25vcmVkIGlmIG5vdCBzdXBwb3J0ZWQsIGJlY2F1c2UgSlNPTiBwYXlsb2FkcyBhcmVcclxuICAgICAgICAgIC8vIHBhcnNlZCBvbiB0aGUgY2xpZW50LXNpZGUgcmVnYXJkbGVzcy5cclxuICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgeGhyLnNlbmQoaXNVbmRlZmluZWQocG9zdCkgPyBudWxsIDogcG9zdCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRpbWVvdXQgPiAwKSB7XHJcbiAgICAgIHZhciB0aW1lb3V0SWQgPSAkYnJvd3NlckRlZmVyKHRpbWVvdXRSZXF1ZXN0LCB0aW1lb3V0KTtcclxuICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlTGlrZSh0aW1lb3V0KSkge1xyXG4gICAgICB0aW1lb3V0LnRoZW4odGltZW91dFJlcXVlc3QpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiB0aW1lb3V0UmVxdWVzdCgpIHtcclxuICAgICAganNvbnBEb25lICYmIGpzb25wRG9uZSgpO1xyXG4gICAgICB4aHIgJiYgeGhyLmFib3J0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCBzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KSB7XHJcbiAgICAgIC8vIGNhbmNlbCB0aW1lb3V0IGFuZCBzdWJzZXF1ZW50IHRpbWVvdXQgcHJvbWlzZSByZXNvbHV0aW9uXHJcbiAgICAgIGlmIChpc0RlZmluZWQodGltZW91dElkKSkge1xyXG4gICAgICAgICRicm93c2VyRGVmZXIuY2FuY2VsKHRpbWVvdXRJZCk7XHJcbiAgICAgIH1cclxuICAgICAganNvbnBEb25lID0geGhyID0gbnVsbDtcclxuXHJcbiAgICAgIGNhbGxiYWNrKHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpO1xyXG4gICAgICAkYnJvd3Nlci4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIGpzb25wUmVxKHVybCwgY2FsbGJhY2tJZCwgZG9uZSkge1xyXG4gICAgLy8gd2UgY2FuJ3QgdXNlIGpRdWVyeS9qcUxpdGUgaGVyZSBiZWNhdXNlIGpRdWVyeSBkb2VzIGNyYXp5IHN0dWZmIHdpdGggc2NyaXB0IGVsZW1lbnRzLCBlLmcuOlxyXG4gICAgLy8gLSBmZXRjaGVzIGxvY2FsIHNjcmlwdHMgdmlhIFhIUiBhbmQgZXZhbHMgdGhlbVxyXG4gICAgLy8gLSBhZGRzIGFuZCBpbW1lZGlhdGVseSByZW1vdmVzIHNjcmlwdCBlbGVtZW50cyBmcm9tIHRoZSBkb2N1bWVudFxyXG4gICAgdmFyIHNjcmlwdCA9IHJhd0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpLCBjYWxsYmFjayA9IG51bGw7XHJcbiAgICBzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiAgICBzY3JpcHQuc3JjID0gdXJsO1xyXG4gICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcclxuXHJcbiAgICBjYWxsYmFjayA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwibG9hZFwiLCBjYWxsYmFjayk7XHJcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwiZXJyb3JcIiwgY2FsbGJhY2spO1xyXG4gICAgICByYXdEb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdCk7XHJcbiAgICAgIHNjcmlwdCA9IG51bGw7XHJcbiAgICAgIHZhciBzdGF0dXMgPSAtMTtcclxuICAgICAgdmFyIHRleHQgPSBcInVua25vd25cIjtcclxuXHJcbiAgICAgIGlmIChldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC50eXBlID09PSBcImxvYWRcIiAmJiAhY2FsbGJhY2tzW2NhbGxiYWNrSWRdLmNhbGxlZCkge1xyXG4gICAgICAgICAgZXZlbnQgPSB7IHR5cGU6IFwiZXJyb3JcIiB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ZXh0ID0gZXZlbnQudHlwZTtcclxuICAgICAgICBzdGF0dXMgPSBldmVudC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkb25lKSB7XHJcbiAgICAgICAgZG9uZShzdGF0dXMsIHRleHQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGFkZEV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwibG9hZFwiLCBjYWxsYmFjayk7XHJcbiAgICBhZGRFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImVycm9yXCIsIGNhbGxiYWNrKTtcclxuICAgIHJhd0RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuICAgIHJldHVybiBjYWxsYmFjaztcclxuICB9XHJcbn1cclxuXHJcbnZhciAkaW50ZXJwb2xhdGVNaW5FcnIgPSBhbmd1bGFyLiRpbnRlcnBvbGF0ZU1pbkVyciA9IG1pbkVycignJGludGVycG9sYXRlJyk7XHJcbiRpbnRlcnBvbGF0ZU1pbkVyci50aHJvd05vY29uY2F0ID0gZnVuY3Rpb24odGV4dCkge1xyXG4gIHRocm93ICRpbnRlcnBvbGF0ZU1pbkVycignbm9jb25jYXQnLFxyXG4gICAgICBcIkVycm9yIHdoaWxlIGludGVycG9sYXRpbmc6IHswfVxcblN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRpc2FsbG93cyBcIiArXHJcbiAgICAgIFwiaW50ZXJwb2xhdGlvbnMgdGhhdCBjb25jYXRlbmF0ZSBtdWx0aXBsZSBleHByZXNzaW9ucyB3aGVuIGEgdHJ1c3RlZCB2YWx1ZSBpcyBcIiArXHJcbiAgICAgIFwicmVxdWlyZWQuICBTZWUgaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcuJHNjZVwiLCB0ZXh0KTtcclxufTtcclxuXHJcbiRpbnRlcnBvbGF0ZU1pbkVyci5pbnRlcnIgPSBmdW5jdGlvbih0ZXh0LCBlcnIpIHtcclxuICByZXR1cm4gJGludGVycG9sYXRlTWluRXJyKCdpbnRlcnInLCBcIkNhbid0IGludGVycG9sYXRlOiB7MH1cXG57MX1cIiwgdGV4dCwgZXJyLnRvU3RyaW5nKCkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkaW50ZXJwb2xhdGVQcm92aWRlclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogVXNlZCBmb3IgY29uZmlndXJpbmcgdGhlIGludGVycG9sYXRpb24gbWFya3VwLiBEZWZhdWx0cyB0byBge3tgIGFuZCBgfX1gLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAqIFRoaXMgZmVhdHVyZSBpcyBzb21ldGltZXMgdXNlZCB0byBtaXggZGlmZmVyZW50IG1hcmt1cCBsYW5ndWFnZXMsIGUuZy4gdG8gd3JhcCBhbiBBbmd1bGFyXHJcbiAqIHRlbXBsYXRlIHdpdGhpbiBhIFB5dGhvbiBKaW5qYSB0ZW1wbGF0ZSAob3IgYW55IG90aGVyIHRlbXBsYXRlIGxhbmd1YWdlKS4gTWl4aW5nIHRlbXBsYXRpbmdcclxuICogbGFuZ3VhZ2VzIGlzICoqdmVyeSBkYW5nZXJvdXMqKi4gVGhlIGVtYmVkZGluZyB0ZW1wbGF0ZSBsYW5ndWFnZSB3aWxsIG5vdCBzYWZlbHkgZXNjYXBlIEFuZ3VsYXJcclxuICogZXhwcmVzc2lvbnMsIHNvIGFueSB1c2VyLWNvbnRyb2xsZWQgdmFsdWVzIGluIHRoZSB0ZW1wbGF0ZSB3aWxsIGNhdXNlIENyb3NzIFNpdGUgU2NyaXB0aW5nIChYU1MpXHJcbiAqIHNlY3VyaXR5IGJ1Z3MhXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG48ZXhhbXBsZSBuYW1lPVwiY3VzdG9tLWludGVycG9sYXRpb24tbWFya3VwXCIgbW9kdWxlPVwiY3VzdG9tSW50ZXJwb2xhdGlvbkFwcFwiPlxyXG48ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG48c2NyaXB0PlxyXG4gIHZhciBjdXN0b21JbnRlcnBvbGF0aW9uQXBwID0gYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUludGVycG9sYXRpb25BcHAnLCBbXSk7XHJcblxyXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29uZmlnKGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbCgnLy8nKTtcclxuICAgICRpbnRlcnBvbGF0ZVByb3ZpZGVyLmVuZFN5bWJvbCgnLy8nKTtcclxuICB9KTtcclxuXHJcblxyXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29udHJvbGxlcignRGVtb0NvbnRyb2xsZXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5sYWJlbCA9IFwiVGhpcyBiaW5kaW5nIGlzIGJyb3VnaHQgeW91IGJ5IC8vIGludGVycG9sYXRpb24gc3ltYm9scy5cIjtcclxuICB9KTtcclxuPC9zY3JpcHQ+XHJcbjxkaXYgbmctY29udHJvbGxlcj1cIkRlbW9Db250cm9sbGVyIGFzIGRlbW9cIj5cclxuICAgIC8vZGVtby5sYWJlbC8vXHJcbjwvZGl2PlxyXG48L2ZpbGU+XHJcbjxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICBpdCgnc2hvdWxkIGludGVycG9sYXRlIGJpbmRpbmcgd2l0aCBjdXN0b20gc3ltYm9scycsIGZ1bmN0aW9uKCkge1xyXG4gICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnZGVtby5sYWJlbCcpKS5nZXRUZXh0KCkpLnRvQmUoJ1RoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuJyk7XHJcbiAgfSk7XHJcbjwvZmlsZT5cclxuPC9leGFtcGxlPlxyXG4gKi9cclxuZnVuY3Rpb24gJEludGVycG9sYXRlUHJvdmlkZXIoKSB7XHJcbiAgdmFyIHN0YXJ0U3ltYm9sID0gJ3t7JztcclxuICB2YXIgZW5kU3ltYm9sID0gJ319JztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU3ltYm9sIHRvIGRlbm90ZSBzdGFydCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBge3tgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBuZXcgdmFsdWUgdG8gc2V0IHRoZSBzdGFydGluZyBzeW1ib2wgdG8uXHJcbiAgICogQHJldHVybnMge3N0cmluZ3xzZWxmfSBSZXR1cm5zIHRoZSBzeW1ib2wgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzIHNldHRlci5cclxuICAgKi9cclxuICB0aGlzLnN0YXJ0U3ltYm9sID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICBzdGFydFN5bWJvbCA9IHZhbHVlO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBzdGFydFN5bWJvbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgZW5kIG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB9fWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIG5ldyB2YWx1ZSB0byBzZXQgdGhlIGVuZGluZyBzeW1ib2wgdG8uXHJcbiAgICogQHJldHVybnMge3N0cmluZ3xzZWxmfSBSZXR1cm5zIHRoZSBzeW1ib2wgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzIHNldHRlci5cclxuICAgKi9cclxuICB0aGlzLmVuZFN5bWJvbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgZW5kU3ltYm9sID0gdmFsdWU7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGVuZFN5bWJvbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckcGFyc2UnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHNjZScsIGZ1bmN0aW9uKCRwYXJzZSwgJGV4Y2VwdGlvbkhhbmRsZXIsICRzY2UpIHtcclxuICAgIHZhciBzdGFydFN5bWJvbExlbmd0aCA9IHN0YXJ0U3ltYm9sLmxlbmd0aCxcclxuICAgICAgICBlbmRTeW1ib2xMZW5ndGggPSBlbmRTeW1ib2wubGVuZ3RoLFxyXG4gICAgICAgIGVzY2FwZWRTdGFydFJlZ2V4cCA9IG5ldyBSZWdFeHAoc3RhcnRTeW1ib2wucmVwbGFjZSgvLi9nLCBlc2NhcGUpLCAnZycpLFxyXG4gICAgICAgIGVzY2FwZWRFbmRSZWdleHAgPSBuZXcgUmVnRXhwKGVuZFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gZXNjYXBlKGNoKSB7XHJcbiAgICAgIHJldHVybiAnXFxcXFxcXFxcXFxcJyArIGNoO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVuZXNjYXBlVGV4dCh0ZXh0KSB7XHJcbiAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoZXNjYXBlZFN0YXJ0UmVnZXhwLCBzdGFydFN5bWJvbCkuXHJcbiAgICAgICAgcmVwbGFjZShlc2NhcGVkRW5kUmVnZXhwLCBlbmRTeW1ib2wpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeSh2YWx1ZSkge1xyXG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkgeyAvLyBudWxsIHx8IHVuZGVmaW5lZFxyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgICAgfVxyXG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xyXG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICAgICAgdmFsdWUgPSAnJyArIHZhbHVlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHZhbHVlID0gdG9Kc29uKHZhbHVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vVE9ETzogdGhpcyBpcyB0aGUgc2FtZSBhcyB0aGUgY29uc3RhbnRXYXRjaERlbGVnYXRlIGluIHBhcnNlLmpzXHJcbiAgICBmdW5jdGlvbiBjb25zdGFudFdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgY29uc3RhbnRJbnRlcnApIHtcclxuICAgICAgdmFyIHVud2F0Y2g7XHJcbiAgICAgIHJldHVybiB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGNvbnN0YW50SW50ZXJwb2xhdGVXYXRjaChzY29wZSkge1xyXG4gICAgICAgIHVud2F0Y2goKTtcclxuICAgICAgICByZXR1cm4gY29uc3RhbnRJbnRlcnAoc2NvcGUpO1xyXG4gICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZVxyXG4gICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBAcmVxdWlyZXMgJHBhcnNlXHJcbiAgICAgKiBAcmVxdWlyZXMgJHNjZVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICpcclxuICAgICAqIENvbXBpbGVzIGEgc3RyaW5nIHdpdGggbWFya3VwIGludG8gYW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvbi4gVGhpcyBzZXJ2aWNlIGlzIHVzZWQgYnkgdGhlXHJcbiAgICAgKiBIVE1MIHtAbGluayBuZy4kY29tcGlsZSAkY29tcGlsZX0gc2VydmljZSBmb3IgZGF0YSBiaW5kaW5nLiBTZWVcclxuICAgICAqIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciAkaW50ZXJwb2xhdGVQcm92aWRlcn0gZm9yIGNvbmZpZ3VyaW5nIHRoZVxyXG4gICAgICogaW50ZXJwb2xhdGlvbiBtYXJrdXAuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgIHZhciAkaW50ZXJwb2xhdGUgPSAuLi47IC8vIGluamVjdGVkXHJcbiAgICAgKiAgIHZhciBleHAgPSAkaW50ZXJwb2xhdGUoJ0hlbGxvIHt7bmFtZSB8IHVwcGVyY2FzZX19IScpO1xyXG4gICAgICogICBleHBlY3QoZXhwKHtuYW1lOidBbmd1bGFyJ30pKS50b0VxdWFsKCdIZWxsbyBBTkdVTEFSIScpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogYCRpbnRlcnBvbGF0ZWAgdGFrZXMgYW4gb3B0aW9uYWwgZm91cnRoIGFyZ3VtZW50LCBgYWxsT3JOb3RoaW5nYC4gSWYgYGFsbE9yTm90aGluZ2AgaXNcclxuICAgICAqIGB0cnVlYCwgdGhlIGludGVycG9sYXRpb24gZnVuY3Rpb24gd2lsbCByZXR1cm4gYHVuZGVmaW5lZGAgdW5sZXNzIGFsbCBlbWJlZGRlZCBleHByZXNzaW9uc1xyXG4gICAgICogZXZhbHVhdGUgdG8gYSB2YWx1ZSBvdGhlciB0aGFuIGB1bmRlZmluZWRgLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgIHZhciAkaW50ZXJwb2xhdGUgPSAuLi47IC8vIGluamVjdGVkXHJcbiAgICAgKiAgIHZhciBjb250ZXh0ID0ge2dyZWV0aW5nOiAnSGVsbG8nLCBuYW1lOiB1bmRlZmluZWQgfTtcclxuICAgICAqXHJcbiAgICAgKiAgIC8vIGRlZmF1bHQgXCJmb3JnaXZpbmdcIiBtb2RlXHJcbiAgICAgKiAgIHZhciBleHAgPSAkaW50ZXJwb2xhdGUoJ3t7Z3JlZXRpbmd9fSB7e25hbWV9fSEnKTtcclxuICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9FcXVhbCgnSGVsbG8gIScpO1xyXG4gICAgICpcclxuICAgICAqICAgLy8gXCJhbGxPck5vdGhpbmdcIiBtb2RlXHJcbiAgICAgKiAgIGV4cCA9ICRpbnRlcnBvbGF0ZSgne3tncmVldGluZ319IHt7bmFtZX19IScsIGZhbHNlLCBudWxsLCB0cnVlKTtcclxuICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9CZVVuZGVmaW5lZCgpO1xyXG4gICAgICogICBjb250ZXh0Lm5hbWUgPSAnQW5ndWxhcic7XHJcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvRXF1YWwoJ0hlbGxvIEFuZ3VsYXIhJyk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBgYWxsT3JOb3RoaW5nYCBpcyB1c2VmdWwgZm9yIGludGVycG9sYXRpbmcgVVJMcy4gYG5nU3JjYCBhbmQgYG5nU3Jjc2V0YCB1c2UgdGhpcyBiZWhhdmlvci5cclxuICAgICAqXHJcbiAgICAgKiAjIyMjRXNjYXBlZCBJbnRlcnBvbGF0aW9uXHJcbiAgICAgKiAkaW50ZXJwb2xhdGUgcHJvdmlkZXMgYSBtZWNoYW5pc20gZm9yIGVzY2FwaW5nIGludGVycG9sYXRpb24gbWFya2Vycy4gU3RhcnQgYW5kIGVuZCBtYXJrZXJzXHJcbiAgICAgKiBjYW4gYmUgZXNjYXBlZCBieSBwcmVjZWRpbmcgZWFjaCBvZiB0aGVpciBjaGFyYWN0ZXJzIHdpdGggYSBSRVZFUlNFIFNPTElEVVMgVSswMDVDIChiYWNrc2xhc2gpLlxyXG4gICAgICogSXQgd2lsbCBiZSByZW5kZXJlZCBhcyBhIHJlZ3VsYXIgc3RhcnQvZW5kIG1hcmtlciwgYW5kIHdpbGwgbm90IGJlIGludGVycHJldGVkIGFzIGFuIGV4cHJlc3Npb25cclxuICAgICAqIG9yIGJpbmRpbmcuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBlbmFibGVzIHdlYi1zZXJ2ZXJzIHRvIHByZXZlbnQgc2NyaXB0IGluamVjdGlvbiBhdHRhY2tzIGFuZCBkZWZhY2luZyBhdHRhY2tzLCB0byBzb21lXHJcbiAgICAgKiBkZWdyZWUsIHdoaWxlIGFsc28gZW5hYmxpbmcgY29kZSBleGFtcGxlcyB0byB3b3JrIHdpdGhvdXQgcmVseWluZyBvbiB0aGVcclxuICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdOb25CaW5kYWJsZSBuZ05vbkJpbmRhYmxlfSBkaXJlY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogKipGb3Igc2VjdXJpdHkgcHVycG9zZXMsIGl0IGlzIHN0cm9uZ2x5IGVuY291cmFnZWQgdGhhdCB3ZWIgc2VydmVycyBlc2NhcGUgdXNlci1zdXBwbGllZCBkYXRhLFxyXG4gICAgICogcmVwbGFjaW5nIGFuZ2xlIGJyYWNrZXRzICgmbHQ7LCAmZ3Q7KSB3aXRoICZhbXA7bHQ7IGFuZCAmYW1wO2d0OyByZXNwZWN0aXZlbHksIGFuZCByZXBsYWNpbmcgYWxsXHJcbiAgICAgKiBpbnRlcnBvbGF0aW9uIHN0YXJ0L2VuZCBtYXJrZXJzIHdpdGggdGhlaXIgZXNjYXBlZCBjb3VudGVycGFydHMuKipcclxuICAgICAqXHJcbiAgICAgKiBFc2NhcGVkIGludGVycG9sYXRpb24gbWFya2VycyBhcmUgb25seSByZXBsYWNlZCB3aXRoIHRoZSBhY3R1YWwgaW50ZXJwb2xhdGlvbiBtYXJrZXJzIGluIHJlbmRlcmVkXHJcbiAgICAgKiBvdXRwdXQgd2hlbiB0aGUgJGludGVycG9sYXRlIHNlcnZpY2UgcHJvY2Vzc2VzIHRoZSB0ZXh0LiBTbywgZm9yIEhUTUwgZWxlbWVudHMgaW50ZXJwb2xhdGVkXHJcbiAgICAgKiBieSB7QGxpbmsgbmcuJGNvbXBpbGUgJGNvbXBpbGV9LCBvciBvdGhlcndpc2UgaW50ZXJwb2xhdGVkIHdpdGggdGhlIGBtdXN0SGF2ZUV4cHJlc3Npb25gIHBhcmFtZXRlclxyXG4gICAgICogc2V0IHRvIGB0cnVlYCwgdGhlIGludGVycG9sYXRlZCB0ZXh0IG11c3QgY29udGFpbiBhbiB1bmVzY2FwZWQgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uLiBBcyBzdWNoLFxyXG4gICAgICogdGhpcyBpcyB0eXBpY2FsbHkgdXNlZnVsIG9ubHkgd2hlbiB1c2VyLWRhdGEgaXMgdXNlZCBpbiByZW5kZXJpbmcgYSB0ZW1wbGF0ZSBmcm9tIHRoZSBzZXJ2ZXIsIG9yXHJcbiAgICAgKiB3aGVuIG90aGVyd2lzZSB1bnRydXN0ZWQgZGF0YSBpcyB1c2VkIGJ5IGEgZGlyZWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIDxleGFtcGxlPlxyXG4gICAgICogIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgKiAgICA8ZGl2IG5nLWluaXQ9XCJ1c2VybmFtZT0nQSB1c2VyJ1wiPlxyXG4gICAgICogICAgICA8cCBuZy1pbml0PVwiYXBwdGl0bGU9J0VzY2FwaW5nIGRlbW8nXCI+e3thcHB0aXRsZX19OiBcXHtcXHsgdXNlcm5hbWUgPSBcImRlZmFjZWQgdmFsdWVcIjsgXFx9XFx9XHJcbiAgICAgKiAgICAgICAgPC9wPlxyXG4gICAgICogICAgICA8cD48c3Ryb25nPnt7dXNlcm5hbWV9fTwvc3Ryb25nPiBhdHRlbXB0cyB0byBpbmplY3QgY29kZSB3aGljaCB3aWxsIGRlZmFjZSB0aGVcclxuICAgICAqICAgICAgICBhcHBsaWNhdGlvbiwgYnV0IGZhaWxzIHRvIGFjY29tcGxpc2ggdGhlaXIgdGFzaywgYmVjYXVzZSB0aGUgc2VydmVyIGhhcyBjb3JyZWN0bHlcclxuICAgICAqICAgICAgICBlc2NhcGVkIHRoZSBpbnRlcnBvbGF0aW9uIHN0YXJ0L2VuZCBtYXJrZXJzIHdpdGggUkVWRVJTRSBTT0xJRFVTIFUrMDA1QyAoYmFja3NsYXNoKVxyXG4gICAgICogICAgICAgIGNoYXJhY3RlcnMuPC9wPlxyXG4gICAgICogICAgICA8cD5JbnN0ZWFkLCB0aGUgcmVzdWx0IG9mIHRoZSBhdHRlbXB0ZWQgc2NyaXB0IGluamVjdGlvbiBpcyB2aXNpYmxlLCBhbmQgY2FuIGJlIHJlbW92ZWRcclxuICAgICAqICAgICAgICBmcm9tIHRoZSBkYXRhYmFzZSBieSBhbiBhZG1pbmlzdHJhdG9yLjwvcD5cclxuICAgICAqICAgIDwvZGl2PlxyXG4gICAgICogIDwvZmlsZT5cclxuICAgICAqIDwvZXhhbXBsZT5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB3aXRoIG1hcmt1cCB0byBpbnRlcnBvbGF0ZS5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG11c3RIYXZlRXhwcmVzc2lvbiBpZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBpbnRlcnBvbGF0aW9uIHN0cmluZyBtdXN0IGhhdmVcclxuICAgICAqICAgIGVtYmVkZGVkIGV4cHJlc3Npb24gaW4gb3JkZXIgdG8gcmV0dXJuIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFN0cmluZ3Mgd2l0aCBub1xyXG4gICAgICogICAgZW1iZWRkZWQgZXhwcmVzc2lvbiB3aWxsIHJldHVybiBudWxsIGZvciB0aGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gdHJ1c3RlZENvbnRleHQgd2hlbiBwcm92aWRlZCwgdGhlIHJldHVybmVkIGZ1bmN0aW9uIHBhc3NlcyB0aGUgaW50ZXJwb2xhdGVkXHJcbiAgICAgKiAgICByZXN1bHQgdGhyb3VnaCB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZChpbnRlcnBvbGF0ZWRSZXN1bHQsXHJcbiAgICAgKiAgICB0cnVzdGVkQ29udGV4dCl9IGJlZm9yZSByZXR1cm5pbmcgaXQuICBSZWZlciB0byB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZSB0aGF0XHJcbiAgICAgKiAgICBwcm92aWRlcyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBmb3IgZGV0YWlscy5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGFsbE9yTm90aGluZyBpZiBgdHJ1ZWAsIHRoZW4gdGhlIHJldHVybmVkIGZ1bmN0aW9uIHJldHVybnMgdW5kZWZpbmVkXHJcbiAgICAgKiAgICB1bmxlc3MgYWxsIGVtYmVkZGVkIGV4cHJlc3Npb25zIGV2YWx1YXRlIHRvIGEgdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cclxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0KX0gYW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGNvbXB1dGUgdGhlXHJcbiAgICAgKiAgICBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBUaGUgZnVuY3Rpb24gaGFzIHRoZXNlIHBhcmFtZXRlcnM6XHJcbiAgICAgKlxyXG4gICAgICogLSBgY29udGV4dGA6IGV2YWx1YXRpb24gY29udGV4dCBmb3IgYWxsIGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBpbnRlcnBvbGF0ZWQgdGV4dFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiAkaW50ZXJwb2xhdGUodGV4dCwgbXVzdEhhdmVFeHByZXNzaW9uLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKSB7XHJcbiAgICAgIC8vIFByb3ZpZGUgYSBxdWljayBleGl0IGFuZCBzaW1wbGlmaWVkIHJlc3VsdCBmdW5jdGlvbiBmb3IgdGV4dCB3aXRoIG5vIGludGVycG9sYXRpb25cclxuICAgICAgaWYgKCF0ZXh0Lmxlbmd0aCB8fCB0ZXh0LmluZGV4T2Yoc3RhcnRTeW1ib2wpID09PSAtMSkge1xyXG4gICAgICAgIHZhciBjb25zdGFudEludGVycDtcclxuICAgICAgICBpZiAoIW11c3RIYXZlRXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgdmFyIHVuZXNjYXBlZFRleHQgPSB1bmVzY2FwZVRleHQodGV4dCk7XHJcbiAgICAgICAgICBjb25zdGFudEludGVycCA9IHZhbHVlRm4odW5lc2NhcGVkVGV4dCk7XHJcbiAgICAgICAgICBjb25zdGFudEludGVycC5leHAgPSB0ZXh0O1xyXG4gICAgICAgICAgY29uc3RhbnRJbnRlcnAuZXhwcmVzc2lvbnMgPSBbXTtcclxuICAgICAgICAgIGNvbnN0YW50SW50ZXJwLiQkd2F0Y2hEZWxlZ2F0ZSA9IGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnN0YW50SW50ZXJwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhbGxPck5vdGhpbmcgPSAhIWFsbE9yTm90aGluZztcclxuICAgICAgdmFyIHN0YXJ0SW5kZXgsXHJcbiAgICAgICAgICBlbmRJbmRleCxcclxuICAgICAgICAgIGluZGV4ID0gMCxcclxuICAgICAgICAgIGV4cHJlc3Npb25zID0gW10sXHJcbiAgICAgICAgICBwYXJzZUZucyA9IFtdLFxyXG4gICAgICAgICAgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoLFxyXG4gICAgICAgICAgZXhwLFxyXG4gICAgICAgICAgY29uY2F0ID0gW10sXHJcbiAgICAgICAgICBleHByZXNzaW9uUG9zaXRpb25zID0gW107XHJcblxyXG4gICAgICB3aGlsZSAoaW5kZXggPCB0ZXh0TGVuZ3RoKSB7XHJcbiAgICAgICAgaWYgKCgoc3RhcnRJbmRleCA9IHRleHQuaW5kZXhPZihzdGFydFN5bWJvbCwgaW5kZXgpKSAhPSAtMSkgJiZcclxuICAgICAgICAgICAgICgoZW5kSW5kZXggPSB0ZXh0LmluZGV4T2YoZW5kU3ltYm9sLCBzdGFydEluZGV4ICsgc3RhcnRTeW1ib2xMZW5ndGgpKSAhPSAtMSkpIHtcclxuICAgICAgICAgIGlmIChpbmRleCAhPT0gc3RhcnRJbmRleCkge1xyXG4gICAgICAgICAgICBjb25jYXQucHVzaCh1bmVzY2FwZVRleHQodGV4dC5zdWJzdHJpbmcoaW5kZXgsIHN0YXJ0SW5kZXgpKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBleHAgPSB0ZXh0LnN1YnN0cmluZyhzdGFydEluZGV4ICsgc3RhcnRTeW1ib2xMZW5ndGgsIGVuZEluZGV4KTtcclxuICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2goZXhwKTtcclxuICAgICAgICAgIHBhcnNlRm5zLnB1c2goJHBhcnNlKGV4cCwgcGFyc2VTdHJpbmdpZnlJbnRlcmNlcHRvcikpO1xyXG4gICAgICAgICAgaW5kZXggPSBlbmRJbmRleCArIGVuZFN5bWJvbExlbmd0aDtcclxuICAgICAgICAgIGV4cHJlc3Npb25Qb3NpdGlvbnMucHVzaChjb25jYXQubGVuZ3RoKTtcclxuICAgICAgICAgIGNvbmNhdC5wdXNoKCcnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gd2UgZGlkIG5vdCBmaW5kIGFuIGludGVycG9sYXRpb24sIHNvIHdlIGhhdmUgdG8gYWRkIHRoZSByZW1haW5kZXIgdG8gdGhlIHNlcGFyYXRvcnMgYXJyYXlcclxuICAgICAgICAgIGlmIChpbmRleCAhPT0gdGV4dExlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25jYXQucHVzaCh1bmVzY2FwZVRleHQodGV4dC5zdWJzdHJpbmcoaW5kZXgpKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbmNhdGVuYXRpbmcgZXhwcmVzc2lvbnMgbWFrZXMgaXQgaGFyZCB0byByZWFzb24gYWJvdXQgd2hldGhlciBzb21lIGNvbWJpbmF0aW9uIG9mXHJcbiAgICAgIC8vIGNvbmNhdGVuYXRlZCB2YWx1ZXMgYXJlIHVuc2FmZSB0byB1c2UgYW5kIGNvdWxkIGVhc2lseSBsZWFkIHRvIFhTUy4gIEJ5IHJlcXVpcmluZyB0aGF0IGFcclxuICAgICAgLy8gc2luZ2xlIGV4cHJlc3Npb24gYmUgdXNlZCBmb3IgaWZyYW1lW3NyY10sIG9iamVjdFtzcmNdLCBldGMuLCB3ZSBlbnN1cmUgdGhhdCB0aGUgdmFsdWVcclxuICAgICAgLy8gdGhhdCdzIHVzZWQgaXMgYXNzaWduZWQgb3IgY29uc3RydWN0ZWQgYnkgc29tZSBKUyBjb2RlIHNvbWV3aGVyZSB0aGF0IGlzIG1vcmUgdGVzdGFibGUgb3JcclxuICAgICAgLy8gbWFrZSBpdCBvYnZpb3VzIHRoYXQgeW91IGJvdW5kIHRoZSB2YWx1ZSB0byBzb21lIHVzZXIgY29udHJvbGxlZCB2YWx1ZS4gIFRoaXMgaGVscHMgcmVkdWNlXHJcbiAgICAgIC8vIHRoZSBsb2FkIHdoZW4gYXVkaXRpbmcgZm9yIFhTUyBpc3N1ZXMuXHJcbiAgICAgIGlmICh0cnVzdGVkQ29udGV4dCAmJiBjb25jYXQubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgJGludGVycG9sYXRlTWluRXJyLnRocm93Tm9jb25jYXQodGV4dCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghbXVzdEhhdmVFeHByZXNzaW9uIHx8IGV4cHJlc3Npb25zLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBjb21wdXRlID0gZnVuY3Rpb24odmFsdWVzKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBleHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChhbGxPck5vdGhpbmcgJiYgaXNVbmRlZmluZWQodmFsdWVzW2ldKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25jYXRbZXhwcmVzc2lvblBvc2l0aW9uc1tpXV0gPSB2YWx1ZXNbaV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gY29uY2F0LmpvaW4oJycpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBnZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1c3RlZENvbnRleHQgP1xyXG4gICAgICAgICAgICAkc2NlLmdldFRydXN0ZWQodHJ1c3RlZENvbnRleHQsIHZhbHVlKSA6XHJcbiAgICAgICAgICAgICRzY2UudmFsdWVPZih2YWx1ZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiBpbnRlcnBvbGF0aW9uRm4oY29udGV4dCkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBpaSA9IGV4cHJlc3Npb25zLmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShpaSk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGZvciAoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzW2ldID0gcGFyc2VGbnNbaV0oY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gY29tcHV0ZSh2YWx1ZXMpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcigkaW50ZXJwb2xhdGVNaW5FcnIuaW50ZXJyKHRleHQsIGVycikpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgfSwge1xyXG4gICAgICAgICAgLy8gYWxsIG9mIHRoZXNlIHByb3BlcnRpZXMgYXJlIHVuZG9jdW1lbnRlZCBmb3Igbm93XHJcbiAgICAgICAgICBleHA6IHRleHQsIC8vanVzdCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHJlZ3VsYXIgd2F0Y2hlcnMgY3JlYXRlZCB2aWEgJHdhdGNoXHJcbiAgICAgICAgICBleHByZXNzaW9uczogZXhwcmVzc2lvbnMsXHJcbiAgICAgICAgICAkJHdhdGNoRGVsZWdhdGU6IGZ1bmN0aW9uKHNjb3BlLCBsaXN0ZW5lcikge1xyXG4gICAgICAgICAgICB2YXIgbGFzdFZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gc2NvcGUuJHdhdGNoR3JvdXAocGFyc2VGbnMsIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaGVyKHZhbHVlcywgb2xkVmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGN1cnJWYWx1ZSA9IGNvbXB1dGUodmFsdWVzKTtcclxuICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgY3VyclZhbHVlLCB2YWx1ZXMgIT09IG9sZFZhbHVlcyA/IGxhc3RWYWx1ZSA6IGN1cnJWYWx1ZSwgc2NvcGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBjdXJyVmFsdWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKHZhbHVlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHZhbHVlID0gZ2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGFsbE9yTm90aGluZyAmJiAhaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogc3RyaW5naWZ5KHZhbHVlKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKCRpbnRlcnBvbGF0ZU1pbkVyci5pbnRlcnIodGV4dCwgZXJyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlI3N0YXJ0U3ltYm9sXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIHN0YXJ0IG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB7e2AuXHJcbiAgICAgKlxyXG4gICAgICogVXNlIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciNzdGFydFN5bWJvbCBgJGludGVycG9sYXRlUHJvdmlkZXIuc3RhcnRTeW1ib2xgfSB0byBjaGFuZ2VcclxuICAgICAqIHRoZSBzeW1ib2wuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gc3RhcnQgc3ltYm9sLlxyXG4gICAgICovXHJcbiAgICAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2wgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHN0YXJ0U3ltYm9sO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGUjZW5kU3ltYm9sXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIGVuZCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBgfX1gLlxyXG4gICAgICpcclxuICAgICAqIFVzZSB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sIGAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2xgfSB0byBjaGFuZ2VcclxuICAgICAqIHRoZSBzeW1ib2wuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gZW5kIHN5bWJvbC5cclxuICAgICAqL1xyXG4gICAgJGludGVycG9sYXRlLmVuZFN5bWJvbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gZW5kU3ltYm9sO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gJGludGVycG9sYXRlO1xyXG4gIH1dO1xyXG59XHJcblxyXG5mdW5jdGlvbiAkSW50ZXJ2YWxQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJHdpbmRvdycsICckcScsICckJHEnLCAnJGJyb3dzZXInLFxyXG4gICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgICAkd2luZG93LCAgICRxLCAgICQkcSwgICAkYnJvd3Nlcikge1xyXG4gICAgdmFyIGludGVydmFscyA9IHt9O1xyXG5cclxuXHJcbiAgICAgLyoqXHJcbiAgICAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgICAgKiBAbmFtZSAkaW50ZXJ2YWxcclxuICAgICAgKlxyXG4gICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAqIEFuZ3VsYXIncyB3cmFwcGVyIGZvciBgd2luZG93LnNldEludGVydmFsYC4gVGhlIGBmbmAgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZXZlcnkgYGRlbGF5YFxyXG4gICAgICAqIG1pbGxpc2Vjb25kcy5cclxuICAgICAgKlxyXG4gICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgcmVnaXN0ZXJpbmcgYW4gaW50ZXJ2YWwgZnVuY3Rpb24gaXMgYSBwcm9taXNlLiBUaGlzIHByb21pc2Ugd2lsbCBiZVxyXG4gICAgICAqIG5vdGlmaWVkIHVwb24gZWFjaCB0aWNrIG9mIHRoZSBpbnRlcnZhbCwgYW5kIHdpbGwgYmUgcmVzb2x2ZWQgYWZ0ZXIgYGNvdW50YCBpdGVyYXRpb25zLCBvclxyXG4gICAgICAqIHJ1biBpbmRlZmluaXRlbHkgaWYgYGNvdW50YCBpcyBub3QgZGVmaW5lZC4gVGhlIHZhbHVlIG9mIHRoZSBub3RpZmljYXRpb24gd2lsbCBiZSB0aGVcclxuICAgICAgKiBudW1iZXIgb2YgaXRlcmF0aW9ucyB0aGF0IGhhdmUgcnVuLlxyXG4gICAgICAqIFRvIGNhbmNlbCBhbiBpbnRlcnZhbCwgY2FsbCBgJGludGVydmFsLmNhbmNlbChwcm9taXNlKWAuXHJcbiAgICAgICpcclxuICAgICAgKiBJbiB0ZXN0cyB5b3UgY2FuIHVzZSB7QGxpbmsgbmdNb2NrLiRpbnRlcnZhbCNmbHVzaCBgJGludGVydmFsLmZsdXNoKG1pbGxpcylgfSB0b1xyXG4gICAgICAqIG1vdmUgZm9yd2FyZCBieSBgbWlsbGlzYCBtaWxsaXNlY29uZHMgYW5kIHRyaWdnZXIgYW55IGZ1bmN0aW9ucyBzY2hlZHVsZWQgdG8gcnVuIGluIHRoYXRcclxuICAgICAgKiB0aW1lLlxyXG4gICAgICAqXHJcbiAgICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAgKiAqKk5vdGUqKjogSW50ZXJ2YWxzIGNyZWF0ZWQgYnkgdGhpcyBzZXJ2aWNlIG11c3QgYmUgZXhwbGljaXRseSBkZXN0cm95ZWQgd2hlbiB5b3UgYXJlIGZpbmlzaGVkXHJcbiAgICAgICogd2l0aCB0aGVtLiAgSW4gcGFydGljdWxhciB0aGV5IGFyZSBub3QgYXV0b21hdGljYWxseSBkZXN0cm95ZWQgd2hlbiBhIGNvbnRyb2xsZXIncyBzY29wZSBvciBhXHJcbiAgICAgICogZGlyZWN0aXZlJ3MgZWxlbWVudCBhcmUgZGVzdHJveWVkLlxyXG4gICAgICAqIFlvdSBzaG91bGQgdGFrZSB0aGlzIGludG8gY29uc2lkZXJhdGlvbiBhbmQgbWFrZSBzdXJlIHRvIGFsd2F5cyBjYW5jZWwgdGhlIGludGVydmFsIGF0IHRoZVxyXG4gICAgICAqIGFwcHJvcHJpYXRlIG1vbWVudC4gIFNlZSB0aGUgZXhhbXBsZSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIG9uIGhvdyBhbmQgd2hlbiB0byBkbyB0aGlzLlxyXG4gICAgICAqIDwvZGl2PlxyXG4gICAgICAqXHJcbiAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCByZXBlYXRlZGx5LlxyXG4gICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gZWFjaCBmdW5jdGlvbiBjYWxsLlxyXG4gICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gW2NvdW50PTBdIE51bWJlciBvZiB0aW1lcyB0byByZXBlYXQuIElmIG5vdCBzZXQsIG9yIDAsIHdpbGwgcmVwZWF0XHJcbiAgICAgICogICBpbmRlZmluaXRlbHkuXHJcbiAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW2ludm9rZUFwcGx5PXRydWVdIElmIHNldCB0byBgZmFsc2VgIHNraXBzIG1vZGVsIGRpcnR5IGNoZWNraW5nLCBvdGhlcndpc2VcclxuICAgICAgKiAgIHdpbGwgaW52b2tlIGBmbmAgd2l0aGluIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5fSBibG9jay5cclxuICAgICAgKiBAcGFyYW0gey4uLio9fSBQYXNzIGFkZGl0aW9uYWwgcGFyYW1ldGVycyB0byB0aGUgZXhlY3V0ZWQgZnVuY3Rpb24uXHJcbiAgICAgICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB3aGljaCB3aWxsIGJlIG5vdGlmaWVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAgICAqXHJcbiAgICAgICogQGV4YW1wbGVcclxuICAgICAgKiA8ZXhhbXBsZSBtb2R1bGU9XCJpbnRlcnZhbEV4YW1wbGVcIj5cclxuICAgICAgKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAqICAgPHNjcmlwdD5cclxuICAgICAgKiAgICAgYW5ndWxhci5tb2R1bGUoJ2ludGVydmFsRXhhbXBsZScsIFtdKVxyXG4gICAgICAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRpbnRlcnZhbCcsXHJcbiAgICAgICogICAgICAgICBmdW5jdGlvbigkc2NvcGUsICRpbnRlcnZhbCkge1xyXG4gICAgICAqICAgICAgICAgICAkc2NvcGUuZm9ybWF0ID0gJ00vZC95eSBoOm1tOnNzIGEnO1xyXG4gICAgICAqICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9IDEwMDtcclxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAxMjA7XHJcbiAgICAgICpcclxuICAgICAgKiAgICAgICAgICAgdmFyIHN0b3A7XHJcbiAgICAgICogICAgICAgICAgICRzY29wZS5maWdodCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAqICAgICAgICAgICAgIC8vIERvbid0IHN0YXJ0IGEgbmV3IGZpZ2h0IGlmIHdlIGFyZSBhbHJlYWR5IGZpZ2h0aW5nXHJcbiAgICAgICogICAgICAgICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZChzdG9wKSApIHJldHVybjtcclxuICAgICAgKlxyXG4gICAgICAqICAgICAgICAgICAgIHN0b3AgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICogICAgICAgICAgICAgICBpZiAoJHNjb3BlLmJsb29kXzEgPiAwICYmICRzY29wZS5ibG9vZF8yID4gMCkge1xyXG4gICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9ICRzY29wZS5ibG9vZF8xIC0gMztcclxuICAgICAgKiAgICAgICAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAkc2NvcGUuYmxvb2RfMiAtIDQ7XHJcbiAgICAgICogICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0KCk7XHJcbiAgICAgICogICAgICAgICAgICAgICB9XHJcbiAgICAgICogICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgKiAgICAgICAgICAgfTtcclxuICAgICAgKlxyXG4gICAgICAqICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICogICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHN0b3ApKSB7XHJcbiAgICAgICogICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHN0b3ApO1xyXG4gICAgICAqICAgICAgICAgICAgICAgc3RvcCA9IHVuZGVmaW5lZDtcclxuICAgICAgKiAgICAgICAgICAgICB9XHJcbiAgICAgICogICAgICAgICAgIH07XHJcbiAgICAgICpcclxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLnJlc2V0RmlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgKiAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9IDEwMDtcclxuICAgICAgKiAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMiA9IDEyMDtcclxuICAgICAgKiAgICAgICAgICAgfTtcclxuICAgICAgKlxyXG4gICAgICAqICAgICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAqICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBpbnRlcnZhbCBpcyBkZXN0cm95ZWQgdG9vXHJcbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCgpO1xyXG4gICAgICAqICAgICAgICAgICB9KTtcclxuICAgICAgKiAgICAgICAgIH1dKVxyXG4gICAgICAqICAgICAgIC8vIFJlZ2lzdGVyIHRoZSAnbXlDdXJyZW50VGltZScgZGlyZWN0aXZlIGZhY3RvcnkgbWV0aG9kLlxyXG4gICAgICAqICAgICAgIC8vIFdlIGluamVjdCAkaW50ZXJ2YWwgYW5kIGRhdGVGaWx0ZXIgc2VydmljZSBzaW5jZSB0aGUgZmFjdG9yeSBtZXRob2QgaXMgREkuXHJcbiAgICAgICogICAgICAgLmRpcmVjdGl2ZSgnbXlDdXJyZW50VGltZScsIFsnJGludGVydmFsJywgJ2RhdGVGaWx0ZXInLFxyXG4gICAgICAqICAgICAgICAgZnVuY3Rpb24oJGludGVydmFsLCBkYXRlRmlsdGVyKSB7XHJcbiAgICAgICogICAgICAgICAgIC8vIHJldHVybiB0aGUgZGlyZWN0aXZlIGxpbmsgZnVuY3Rpb24uIChjb21waWxlIGZ1bmN0aW9uIG5vdCBuZWVkZWQpXHJcbiAgICAgICogICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgKiAgICAgICAgICAgICB2YXIgZm9ybWF0LCAgLy8gZGF0ZSBmb3JtYXRcclxuICAgICAgKiAgICAgICAgICAgICAgICAgc3RvcFRpbWU7IC8vIHNvIHRoYXQgd2UgY2FuIGNhbmNlbCB0aGUgdGltZSB1cGRhdGVzXHJcbiAgICAgICpcclxuICAgICAgKiAgICAgICAgICAgICAvLyB1c2VkIHRvIHVwZGF0ZSB0aGUgVUlcclxuICAgICAgKiAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVUaW1lKCkge1xyXG4gICAgICAqICAgICAgICAgICAgICAgZWxlbWVudC50ZXh0KGRhdGVGaWx0ZXIobmV3IERhdGUoKSwgZm9ybWF0KSk7XHJcbiAgICAgICogICAgICAgICAgICAgfVxyXG4gICAgICAqXHJcbiAgICAgICogICAgICAgICAgICAgLy8gd2F0Y2ggdGhlIGV4cHJlc3Npb24sIGFuZCB1cGRhdGUgdGhlIFVJIG9uIGNoYW5nZS5cclxuICAgICAgKiAgICAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMubXlDdXJyZW50VGltZSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgKiAgICAgICAgICAgICAgIGZvcm1hdCA9IHZhbHVlO1xyXG4gICAgICAqICAgICAgICAgICAgICAgdXBkYXRlVGltZSgpO1xyXG4gICAgICAqICAgICAgICAgICAgIH0pO1xyXG4gICAgICAqXHJcbiAgICAgICogICAgICAgICAgICAgc3RvcFRpbWUgPSAkaW50ZXJ2YWwodXBkYXRlVGltZSwgMTAwMCk7XHJcbiAgICAgICpcclxuICAgICAgKiAgICAgICAgICAgICAvLyBsaXN0ZW4gb24gRE9NIGRlc3Ryb3kgKHJlbW92YWwpIGV2ZW50LCBhbmQgY2FuY2VsIHRoZSBuZXh0IFVJIHVwZGF0ZVxyXG4gICAgICAqICAgICAgICAgICAgIC8vIHRvIHByZXZlbnQgdXBkYXRpbmcgdGltZSBhZnRlciB0aGUgRE9NIGVsZW1lbnQgd2FzIHJlbW92ZWQuXHJcbiAgICAgICogICAgICAgICAgICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgKiAgICAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoc3RvcFRpbWUpO1xyXG4gICAgICAqICAgICAgICAgICAgIH0pO1xyXG4gICAgICAqICAgICAgICAgICB9XHJcbiAgICAgICogICAgICAgICB9XSk7XHJcbiAgICAgICogICA8L3NjcmlwdD5cclxuICAgICAgKlxyXG4gICAgICAqICAgPGRpdj5cclxuICAgICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgKiAgICAgICA8bGFiZWw+RGF0ZSBmb3JtYXQ6IDxpbnB1dCBuZy1tb2RlbD1cImZvcm1hdFwiPjwvbGFiZWw+IDxoci8+XHJcbiAgICAgICogICAgICAgQ3VycmVudCB0aW1lIGlzOiA8c3BhbiBteS1jdXJyZW50LXRpbWU9XCJmb3JtYXRcIj48L3NwYW4+XHJcbiAgICAgICogICAgICAgPGhyLz5cclxuICAgICAgKiAgICAgICBCbG9vZCAxIDogPGZvbnQgY29sb3I9J3JlZCc+e3tibG9vZF8xfX08L2ZvbnQ+XHJcbiAgICAgICogICAgICAgQmxvb2QgMiA6IDxmb250IGNvbG9yPSdyZWQnPnt7Ymxvb2RfMn19PC9mb250PlxyXG4gICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJmaWdodCgpXCI+RmlnaHQ8L2J1dHRvbj5cclxuICAgICAgKiAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLW5nLWNsaWNrPVwic3RvcEZpZ2h0KClcIj5TdG9wRmlnaHQ8L2J1dHRvbj5cclxuICAgICAgKiAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLW5nLWNsaWNrPVwicmVzZXRGaWdodCgpXCI+cmVzZXRGaWdodDwvYnV0dG9uPlxyXG4gICAgICAqICAgICA8L2Rpdj5cclxuICAgICAgKiAgIDwvZGl2PlxyXG4gICAgICAqXHJcbiAgICAgICogPC9maWxlPlxyXG4gICAgICAqIDwvZXhhbXBsZT5cclxuICAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGludGVydmFsKGZuLCBkZWxheSwgY291bnQsIGludm9rZUFwcGx5KSB7XHJcbiAgICAgIHZhciBoYXNQYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCxcclxuICAgICAgICAgIGFyZ3MgPSBoYXNQYXJhbXMgPyBzbGljZUFyZ3MoYXJndW1lbnRzLCA0KSA6IFtdLFxyXG4gICAgICAgICAgc2V0SW50ZXJ2YWwgPSAkd2luZG93LnNldEludGVydmFsLFxyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbCA9ICR3aW5kb3cuY2xlYXJJbnRlcnZhbCxcclxuICAgICAgICAgIGl0ZXJhdGlvbiA9IDAsXHJcbiAgICAgICAgICBza2lwQXBwbHkgPSAoaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHkpLFxyXG4gICAgICAgICAgZGVmZXJyZWQgPSAoc2tpcEFwcGx5ID8gJCRxIDogJHEpLmRlZmVyKCksXHJcbiAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcclxuXHJcbiAgICAgIGNvdW50ID0gaXNEZWZpbmVkKGNvdW50KSA/IGNvdW50IDogMDtcclxuXHJcbiAgICAgIHByb21pc2UuJCRpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gdGljaygpIHtcclxuICAgICAgICBpZiAoc2tpcEFwcGx5KSB7XHJcbiAgICAgICAgICAkYnJvd3Nlci5kZWZlcihjYWxsYmFjayk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlZmVycmVkLm5vdGlmeShpdGVyYXRpb24rKyk7XHJcblxyXG4gICAgICAgIGlmIChjb3VudCA+IDAgJiYgaXRlcmF0aW9uID49IGNvdW50KSB7XHJcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGl0ZXJhdGlvbik7XHJcbiAgICAgICAgICBjbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKTtcclxuICAgICAgICAgIGRlbGV0ZSBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFza2lwQXBwbHkpICRyb290U2NvcGUuJGFwcGx5KCk7XHJcblxyXG4gICAgICB9LCBkZWxheSk7XHJcblxyXG4gICAgICBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdID0gZGVmZXJyZWQ7XHJcblxyXG4gICAgICByZXR1cm4gcHJvbWlzZTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xyXG4gICAgICAgIGlmICghaGFzUGFyYW1zKSB7XHJcbiAgICAgICAgICBmbihpdGVyYXRpb24pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgIC8qKlxyXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgKiBAbmFtZSAkaW50ZXJ2YWwjY2FuY2VsXHJcbiAgICAgICpcclxuICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgKiBDYW5jZWxzIGEgdGFzayBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9taXNlYC5cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbSB7UHJvbWlzZT19IHByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGAkaW50ZXJ2YWxgIGZ1bmN0aW9uLlxyXG4gICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayB3YXMgc3VjY2Vzc2Z1bGx5IGNhbmNlbGVkLlxyXG4gICAgICAqL1xyXG4gICAgaW50ZXJ2YWwuY2FuY2VsID0gZnVuY3Rpb24ocHJvbWlzZSkge1xyXG4gICAgICBpZiAocHJvbWlzZSAmJiBwcm9taXNlLiQkaW50ZXJ2YWxJZCBpbiBpbnRlcnZhbHMpIHtcclxuICAgICAgICBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLnJlamVjdCgnY2FuY2VsZWQnKTtcclxuICAgICAgICAkd2luZG93LmNsZWFySW50ZXJ2YWwocHJvbWlzZS4kJGludGVydmFsSWQpO1xyXG4gICAgICAgIGRlbGV0ZSBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGludGVydmFsO1xyXG4gIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGxvY2FsZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogJGxvY2FsZSBzZXJ2aWNlIHByb3ZpZGVzIGxvY2FsaXphdGlvbiBydWxlcyBmb3IgdmFyaW91cyBBbmd1bGFyIGNvbXBvbmVudHMuIEFzIG9mIHJpZ2h0IG5vdyB0aGVcclxuICogb25seSBwdWJsaWMgYXBpIGlzOlxyXG4gKlxyXG4gKiAqIGBpZGAg4oCTIGB7c3RyaW5nfWAg4oCTIGxvY2FsZSBpZCBmb3JtYXR0ZWQgYXMgYGxhbmd1YWdlSWQtY291bnRyeUlkYCAoZS5nLiBgZW4tdXNgKVxyXG4gKi9cclxuXHJcbnZhciBQQVRIX01BVENIID0gL14oW15cXD8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/JC8sXHJcbiAgICBERUZBVUxUX1BPUlRTID0geydodHRwJzogODAsICdodHRwcyc6IDQ0MywgJ2Z0cCc6IDIxfTtcclxudmFyICRsb2NhdGlvbk1pbkVyciA9IG1pbkVycignJGxvY2F0aW9uJyk7XHJcblxyXG5cclxuLyoqXHJcbiAqIEVuY29kZSBwYXRoIHVzaW5nIGVuY29kZVVyaVNlZ21lbnQsIGlnbm9yaW5nIGZvcndhcmQgc2xhc2hlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHRvIGVuY29kZVxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlUGF0aChwYXRoKSB7XHJcbiAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLycpLFxyXG4gICAgICBpID0gc2VnbWVudHMubGVuZ3RoO1xyXG5cclxuICB3aGlsZSAoaS0tKSB7XHJcbiAgICBzZWdtZW50c1tpXSA9IGVuY29kZVVyaVNlZ21lbnQoc2VnbWVudHNbaV0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHNlZ21lbnRzLmpvaW4oJy8nKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VBYnNvbHV0ZVVybChhYnNvbHV0ZVVybCwgbG9jYXRpb25PYmopIHtcclxuICB2YXIgcGFyc2VkVXJsID0gdXJsUmVzb2x2ZShhYnNvbHV0ZVVybCk7XHJcblxyXG4gIGxvY2F0aW9uT2JqLiQkcHJvdG9jb2wgPSBwYXJzZWRVcmwucHJvdG9jb2w7XHJcbiAgbG9jYXRpb25PYmouJCRob3N0ID0gcGFyc2VkVXJsLmhvc3RuYW1lO1xyXG4gIGxvY2F0aW9uT2JqLiQkcG9ydCA9IHRvSW50KHBhcnNlZFVybC5wb3J0KSB8fCBERUZBVUxUX1BPUlRTW3BhcnNlZFVybC5wcm90b2NvbF0gfHwgbnVsbDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHBhcnNlQXBwVXJsKHJlbGF0aXZlVXJsLCBsb2NhdGlvbk9iaikge1xyXG4gIHZhciBwcmVmaXhlZCA9IChyZWxhdGl2ZVVybC5jaGFyQXQoMCkgIT09ICcvJyk7XHJcbiAgaWYgKHByZWZpeGVkKSB7XHJcbiAgICByZWxhdGl2ZVVybCA9ICcvJyArIHJlbGF0aXZlVXJsO1xyXG4gIH1cclxuICB2YXIgbWF0Y2ggPSB1cmxSZXNvbHZlKHJlbGF0aXZlVXJsKTtcclxuICBsb2NhdGlvbk9iai4kJHBhdGggPSBkZWNvZGVVUklDb21wb25lbnQocHJlZml4ZWQgJiYgbWF0Y2gucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycgP1xyXG4gICAgICBtYXRjaC5wYXRobmFtZS5zdWJzdHJpbmcoMSkgOiBtYXRjaC5wYXRobmFtZSk7XHJcbiAgbG9jYXRpb25PYmouJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKG1hdGNoLnNlYXJjaCk7XHJcbiAgbG9jYXRpb25PYmouJCRoYXNoID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoLmhhc2gpO1xyXG5cclxuICAvLyBtYWtlIHN1cmUgcGF0aCBzdGFydHMgd2l0aCAnLyc7XHJcbiAgaWYgKGxvY2F0aW9uT2JqLiQkcGF0aCAmJiBsb2NhdGlvbk9iai4kJHBhdGguY2hhckF0KDApICE9ICcvJykge1xyXG4gICAgbG9jYXRpb25PYmouJCRwYXRoID0gJy8nICsgbG9jYXRpb25PYmouJCRwYXRoO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYmVnaW5cclxuICogQHBhcmFtIHtzdHJpbmd9IHdob2xlXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHJldHVybnMgdGV4dCBmcm9tIHdob2xlIGFmdGVyIGJlZ2luIG9yIHVuZGVmaW5lZCBpZiBpdCBkb2VzIG5vdCBiZWdpbiB3aXRoXHJcbiAqICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkIHN0cmluZy5cclxuICovXHJcbmZ1bmN0aW9uIGJlZ2luc1dpdGgoYmVnaW4sIHdob2xlKSB7XHJcbiAgaWYgKHdob2xlLmluZGV4T2YoYmVnaW4pID09PSAwKSB7XHJcbiAgICByZXR1cm4gd2hvbGUuc3Vic3RyKGJlZ2luLmxlbmd0aCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc3RyaXBIYXNoKHVybCkge1xyXG4gIHZhciBpbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XHJcbiAgcmV0dXJuIGluZGV4ID09IC0xID8gdXJsIDogdXJsLnN1YnN0cigwLCBpbmRleCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyaW1FbXB0eUhhc2godXJsKSB7XHJcbiAgcmV0dXJuIHVybC5yZXBsYWNlKC8oIy4rKXwjJC8sICckMScpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc3RyaXBGaWxlKHVybCkge1xyXG4gIHJldHVybiB1cmwuc3Vic3RyKDAsIHN0cmlwSGFzaCh1cmwpLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcclxufVxyXG5cclxuLyogcmV0dXJuIHRoZSBzZXJ2ZXIgb25seSAoc2NoZW1lOi8vaG9zdDpwb3J0KSAqL1xyXG5mdW5jdGlvbiBzZXJ2ZXJCYXNlKHVybCkge1xyXG4gIHJldHVybiB1cmwuc3Vic3RyaW5nKDAsIHVybC5pbmRleE9mKCcvJywgdXJsLmluZGV4T2YoJy8vJykgKyAyKSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogTG9jYXRpb25IdG1sNVVybCByZXByZXNlbnRzIGFuIHVybFxyXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gSFRNTDUgbW9kZSBpcyBlbmFibGVkIGFuZCBzdXBwb3J0ZWRcclxuICpcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlTm9GaWxlIGFwcGxpY2F0aW9uIGJhc2UgVVJMIHN0cmlwcGVkIG9mIGFueSBmaWxlbmFtZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVByZWZpeCB1cmwgcGF0aCBwcmVmaXhcclxuICovXHJcbmZ1bmN0aW9uIExvY2F0aW9uSHRtbDVVcmwoYXBwQmFzZSwgYXBwQmFzZU5vRmlsZSwgYmFzZVByZWZpeCkge1xyXG4gIHRoaXMuJCRodG1sNSA9IHRydWU7XHJcbiAgYmFzZVByZWZpeCA9IGJhc2VQcmVmaXggfHwgJyc7XHJcbiAgcGFyc2VBYnNvbHV0ZVVybChhcHBCYXNlLCB0aGlzKTtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIFBhcnNlIGdpdmVuIGh0bWw1IChyZWd1bGFyKSB1cmwgc3RyaW5nIGludG8gcHJvcGVydGllc1xyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSFRNTDUgdXJsXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICB0aGlzLiQkcGFyc2UgPSBmdW5jdGlvbih1cmwpIHtcclxuICAgIHZhciBwYXRoVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLCB1cmwpO1xyXG4gICAgaWYgKCFpc1N0cmluZyhwYXRoVXJsKSkge1xyXG4gICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2lwdGhwcmZ4JywgJ0ludmFsaWQgdXJsIFwiezB9XCIsIG1pc3NpbmcgcGF0aCBwcmVmaXggXCJ7MX1cIi4nLCB1cmwsXHJcbiAgICAgICAgICBhcHBCYXNlTm9GaWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZUFwcFVybChwYXRoVXJsLCB0aGlzKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuJCRwYXRoKSB7XHJcbiAgICAgIHRoaXMuJCRwYXRoID0gJy8nO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuJCRjb21wb3NlKCk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcG9zZSB1cmwgYW5kIHVwZGF0ZSBgYWJzVXJsYCBwcm9wZXJ0eVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgdGhpcy4kJGNvbXBvc2UgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxyXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XHJcblxyXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XHJcbiAgICB0aGlzLiQkYWJzVXJsID0gYXBwQmFzZU5vRmlsZSArIHRoaXMuJCR1cmwuc3Vic3RyKDEpOyAvLyBmaXJzdCBjaGFyIGlzIGFsd2F5cyAnLydcclxuICB9O1xyXG5cclxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XHJcbiAgICBpZiAocmVsSHJlZiAmJiByZWxIcmVmWzBdID09PSAnIycpIHtcclxuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBsaW5rcyB0byBoYXNoIGZyYWdtZW50czpcclxuICAgICAgLy8ga2VlcCB0aGUgb2xkIHVybCBhbmQgb25seSByZXBsYWNlIHRoZSBoYXNoIGZyYWdtZW50XHJcbiAgICAgIHRoaXMuaGFzaChyZWxIcmVmLnNsaWNlKDEpKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICB2YXIgYXBwVXJsLCBwcmV2QXBwVXJsO1xyXG4gICAgdmFyIHJld3JpdHRlblVybDtcclxuXHJcbiAgICBpZiAoaXNEZWZpbmVkKGFwcFVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZSwgdXJsKSkpIHtcclxuICAgICAgcHJldkFwcFVybCA9IGFwcFVybDtcclxuICAgICAgaWYgKGlzRGVmaW5lZChhcHBVcmwgPSBiZWdpbnNXaXRoKGJhc2VQcmVmaXgsIGFwcFVybCkpKSB7XHJcbiAgICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZSArIChiZWdpbnNXaXRoKCcvJywgYXBwVXJsKSB8fCBhcHBVcmwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2UgKyBwcmV2QXBwVXJsO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChhcHBVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCkpKSB7XHJcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGUgKyBhcHBVcmw7XHJcbiAgICB9IGVsc2UgaWYgKGFwcEJhc2VOb0ZpbGUgPT0gdXJsICsgJy8nKSB7XHJcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGU7XHJcbiAgICB9XHJcbiAgICBpZiAocmV3cml0dGVuVXJsKSB7XHJcbiAgICAgIHRoaXMuJCRwYXJzZShyZXdyaXR0ZW5VcmwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICEhcmV3cml0dGVuVXJsO1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogTG9jYXRpb25IYXNoYmFuZ1VybCByZXByZXNlbnRzIHVybFxyXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gZGV2ZWxvcGVyIGRvZXNuJ3Qgb3B0IGludG8gaHRtbDUgbW9kZS5cclxuICogSXQgYWxzbyBzZXJ2ZXMgYXMgdGhlIGJhc2UgY2xhc3MgZm9yIGh0bWw1IG1vZGUgZmFsbGJhY2sgb24gbGVnYWN5IGJyb3dzZXJzLlxyXG4gKlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2VOb0ZpbGUgYXBwbGljYXRpb24gYmFzZSBVUkwgc3RyaXBwZWQgb2YgYW55IGZpbGVuYW1lXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxyXG4gKi9cclxuZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ1VybChhcHBCYXNlLCBhcHBCYXNlTm9GaWxlLCBoYXNoUHJlZml4KSB7XHJcblxyXG4gIHBhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSwgdGhpcyk7XHJcblxyXG5cclxuICAvKipcclxuICAgKiBQYXJzZSBnaXZlbiBoYXNoYmFuZyB1cmwgaW50byBwcm9wZXJ0aWVzXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBIYXNoYmFuZyB1cmxcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIHRoaXMuJCRwYXJzZSA9IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgdmFyIHdpdGhvdXRCYXNlVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlLCB1cmwpIHx8IGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSwgdXJsKTtcclxuICAgIHZhciB3aXRob3V0SGFzaFVybDtcclxuXHJcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHdpdGhvdXRCYXNlVXJsKSAmJiB3aXRob3V0QmFzZVVybC5jaGFyQXQoMCkgPT09ICcjJykge1xyXG5cclxuICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIHVybCBzdGFydHMgd2l0aCBhIGhhc2ggc28gd2UgaGF2ZVxyXG4gICAgICAvLyBnb3QgZWl0aGVyIGEgaGFzaGJhbmcgcGF0aCBvciBhIHBsYWluIGhhc2ggZnJhZ21lbnRcclxuICAgICAgd2l0aG91dEhhc2hVcmwgPSBiZWdpbnNXaXRoKGhhc2hQcmVmaXgsIHdpdGhvdXRCYXNlVXJsKTtcclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHdpdGhvdXRIYXNoVXJsKSkge1xyXG4gICAgICAgIC8vIFRoZXJlIHdhcyBubyBoYXNoYmFuZyBwcmVmaXggc28gd2UganVzdCBoYXZlIGEgaGFzaCBmcmFnbWVudFxyXG4gICAgICAgIHdpdGhvdXRIYXNoVXJsID0gd2l0aG91dEJhc2VVcmw7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBUaGVyZSB3YXMgbm8gaGFzaGJhbmcgcGF0aCBub3IgaGFzaCBmcmFnbWVudDpcclxuICAgICAgLy8gSWYgd2UgYXJlIGluIEhUTUw1IG1vZGUgd2UgdXNlIHdoYXQgaXMgbGVmdCBhcyB0aGUgcGF0aDtcclxuICAgICAgLy8gT3RoZXJ3aXNlIHdlIGlnbm9yZSB3aGF0IGlzIGxlZnRcclxuICAgICAgaWYgKHRoaXMuJCRodG1sNSkge1xyXG4gICAgICAgIHdpdGhvdXRIYXNoVXJsID0gd2l0aG91dEJhc2VVcmw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2l0aG91dEhhc2hVcmwgPSAnJztcclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQod2l0aG91dEJhc2VVcmwpKSB7XHJcbiAgICAgICAgICBhcHBCYXNlID0gdXJsO1xyXG4gICAgICAgICAgdGhpcy5yZXBsYWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VBcHBVcmwod2l0aG91dEhhc2hVcmwsIHRoaXMpO1xyXG5cclxuICAgIHRoaXMuJCRwYXRoID0gcmVtb3ZlV2luZG93c0RyaXZlTmFtZSh0aGlzLiQkcGF0aCwgd2l0aG91dEhhc2hVcmwsIGFwcEJhc2UpO1xyXG5cclxuICAgIHRoaXMuJCRjb21wb3NlKCk7XHJcblxyXG4gICAgLypcclxuICAgICAqIEluIFdpbmRvd3MsIG9uIGFuIGFuY2hvciBub2RlIG9uIGRvY3VtZW50cyBsb2FkZWQgZnJvbVxyXG4gICAgICogdGhlIGZpbGVzeXN0ZW0sIHRoZSBicm93c2VyIHdpbGwgcmV0dXJuIGEgcGF0aG5hbWVcclxuICAgICAqIHByZWZpeGVkIHdpdGggdGhlIGRyaXZlIG5hbWUgKCcvQzovcGF0aCcpIHdoZW4gYVxyXG4gICAgICogcGF0aG5hbWUgd2l0aG91dCBhIGRyaXZlIGlzIHNldDpcclxuICAgICAqICAqIGEuc2V0QXR0cmlidXRlKCdocmVmJywgJy9mb28nKVxyXG4gICAgICogICAqIGEucGF0aG5hbWUgPT09ICcvQzovZm9vJyAvL3RydWVcclxuICAgICAqXHJcbiAgICAgKiBJbnNpZGUgb2YgQW5ndWxhciwgd2UncmUgYWx3YXlzIHVzaW5nIHBhdGhuYW1lcyB0aGF0XHJcbiAgICAgKiBkbyBub3QgaW5jbHVkZSBkcml2ZSBuYW1lcyBmb3Igcm91dGluZy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVtb3ZlV2luZG93c0RyaXZlTmFtZShwYXRoLCB1cmwsIGJhc2UpIHtcclxuICAgICAgLypcclxuICAgICAgTWF0Y2hlcyBwYXRocyBmb3IgZmlsZSBwcm90b2NvbCBvbiB3aW5kb3dzLFxyXG4gICAgICBzdWNoIGFzIC9DOi9mb28vYmFyLCBhbmQgY2FwdHVyZXMgb25seSAvZm9vL2Jhci5cclxuICAgICAgKi9cclxuICAgICAgdmFyIHdpbmRvd3NGaWxlUGF0aEV4cCA9IC9eXFwvW0EtWl06KFxcLy4qKS87XHJcblxyXG4gICAgICB2YXIgZmlyc3RQYXRoU2VnbWVudE1hdGNoO1xyXG5cclxuICAgICAgLy9HZXQgdGhlIHJlbGF0aXZlIHBhdGggZnJvbSB0aGUgaW5wdXQgVVJMLlxyXG4gICAgICBpZiAodXJsLmluZGV4T2YoYmFzZSkgPT09IDApIHtcclxuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShiYXNlLCAnJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZSBpbnB1dCBVUkwgaW50ZW50aW9uYWxseSBjb250YWlucyBhIGZpcnN0IHBhdGggc2VnbWVudCB0aGF0IGVuZHMgd2l0aCBhIGNvbG9uLlxyXG4gICAgICBpZiAod2luZG93c0ZpbGVQYXRoRXhwLmV4ZWModXJsKSkge1xyXG4gICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmaXJzdFBhdGhTZWdtZW50TWF0Y2ggPSB3aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyhwYXRoKTtcclxuICAgICAgcmV0dXJuIGZpcnN0UGF0aFNlZ21lbnRNYXRjaCA/IGZpcnN0UGF0aFNlZ21lbnRNYXRjaFsxXSA6IHBhdGg7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcG9zZSBoYXNoYmFuZyB1cmwgYW5kIHVwZGF0ZSBgYWJzVXJsYCBwcm9wZXJ0eVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgdGhpcy4kJGNvbXBvc2UgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxyXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XHJcblxyXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XHJcbiAgICB0aGlzLiQkYWJzVXJsID0gYXBwQmFzZSArICh0aGlzLiQkdXJsID8gaGFzaFByZWZpeCArIHRoaXMuJCR1cmwgOiAnJyk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kJHBhcnNlTGlua1VybCA9IGZ1bmN0aW9uKHVybCwgcmVsSHJlZikge1xyXG4gICAgaWYgKHN0cmlwSGFzaChhcHBCYXNlKSA9PSBzdHJpcEhhc2godXJsKSkge1xyXG4gICAgICB0aGlzLiQkcGFyc2UodXJsKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBMb2NhdGlvbkhhc2hiYW5nVXJsIHJlcHJlc2VudHMgdXJsXHJcbiAqIFRoaXMgb2JqZWN0IGlzIGV4cG9zZWQgYXMgJGxvY2F0aW9uIHNlcnZpY2Ugd2hlbiBodG1sNSBoaXN0b3J5IGFwaSBpcyBlbmFibGVkIGJ1dCB0aGUgYnJvd3NlclxyXG4gKiBkb2VzIG5vdCBzdXBwb3J0IGl0LlxyXG4gKlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2VOb0ZpbGUgYXBwbGljYXRpb24gYmFzZSBVUkwgc3RyaXBwZWQgb2YgYW55IGZpbGVuYW1lXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxyXG4gKi9cclxuZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwoYXBwQmFzZSwgYXBwQmFzZU5vRmlsZSwgaGFzaFByZWZpeCkge1xyXG4gIHRoaXMuJCRodG1sNSA9IHRydWU7XHJcbiAgTG9jYXRpb25IYXNoYmFuZ1VybC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XHJcbiAgICBpZiAocmVsSHJlZiAmJiByZWxIcmVmWzBdID09PSAnIycpIHtcclxuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBsaW5rcyB0byBoYXNoIGZyYWdtZW50czpcclxuICAgICAgLy8ga2VlcCB0aGUgb2xkIHVybCBhbmQgb25seSByZXBsYWNlIHRoZSBoYXNoIGZyYWdtZW50XHJcbiAgICAgIHRoaXMuaGFzaChyZWxIcmVmLnNsaWNlKDEpKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHJld3JpdHRlblVybDtcclxuICAgIHZhciBhcHBVcmw7XHJcblxyXG4gICAgaWYgKGFwcEJhc2UgPT0gc3RyaXBIYXNoKHVybCkpIHtcclxuICAgICAgcmV3cml0dGVuVXJsID0gdXJsO1xyXG4gICAgfSBlbHNlIGlmICgoYXBwVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLCB1cmwpKSkge1xyXG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlICsgaGFzaFByZWZpeCArIGFwcFVybDtcclxuICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PT0gdXJsICsgJy8nKSB7XHJcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGU7XHJcbiAgICB9XHJcbiAgICBpZiAocmV3cml0dGVuVXJsKSB7XHJcbiAgICAgIHRoaXMuJCRwYXJzZShyZXdyaXR0ZW5VcmwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICEhcmV3cml0dGVuVXJsO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxcclxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xyXG5cclxuICAgIHRoaXMuJCR1cmwgPSBlbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSArIChzZWFyY2ggPyAnPycgKyBzZWFyY2ggOiAnJykgKyBoYXNoO1xyXG4gICAgLy8gaW5jbHVkZSBoYXNoUHJlZml4IGluICQkYWJzVXJsIHdoZW4gJCR1cmwgaXMgZW1wdHkgc28gSUU5IGRvZXMgbm90IHJlbG9hZCBwYWdlIGJlY2F1c2Ugb2YgcmVtb3ZhbCBvZiAnIydcclxuICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlICsgaGFzaFByZWZpeCArIHRoaXMuJCR1cmw7XHJcbiAgfTtcclxuXHJcbn1cclxuXHJcblxyXG52YXIgbG9jYXRpb25Qcm90b3R5cGUgPSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFyZSB3ZSBpbiBodG1sNSBtb2RlP1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgJCRodG1sNTogZmFsc2UsXHJcblxyXG4gIC8qKlxyXG4gICAqIEhhcyBhbnkgY2hhbmdlIGJlZW4gcmVwbGFjaW5nP1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgJCRyZXBsYWNlOiBmYWxzZSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRsb2NhdGlvbiNhYnNVcmxcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGZ1bGwgdXJsIHJlcHJlc2VudGF0aW9uIHdpdGggYWxsIHNlZ21lbnRzIGVuY29kZWQgYWNjb3JkaW5nIHRvIHJ1bGVzIHNwZWNpZmllZCBpblxyXG4gICAqIFtSRkMgMzk4Nl0oaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzk4Ni50eHQpLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xyXG4gICAqIHZhciBhYnNVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XHJcbiAgICogLy8gPT4gXCJodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1wiXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGZ1bGwgdXJsXHJcbiAgICovXHJcbiAgYWJzVXJsOiBsb2NhdGlvbkdldHRlcignJCRhYnNVcmwnKSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRsb2NhdGlvbiN1cmxcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cclxuICAgKlxyXG4gICAqIFJldHVybiB1cmwgKGUuZy4gYC9wYXRoP2E9YiNoYXNoYCkgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxyXG4gICAqXHJcbiAgICogQ2hhbmdlIHBhdGgsIHNlYXJjaCBhbmQgaGFzaCwgd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cclxuICAgKiB2YXIgdXJsID0gJGxvY2F0aW9uLnVybCgpO1xyXG4gICAqIC8vID0+IFwiL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXCJcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdXJsIE5ldyB1cmwgd2l0aG91dCBiYXNlIHByZWZpeCAoZS5nLiBgL3BhdGg/YT1iI2hhc2hgKVxyXG4gICAqIEByZXR1cm4ge3N0cmluZ30gdXJsXHJcbiAgICovXHJcbiAgdXJsOiBmdW5jdGlvbih1cmwpIHtcclxuICAgIGlmIChpc1VuZGVmaW5lZCh1cmwpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLiQkdXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBtYXRjaCA9IFBBVEhfTUFUQ0guZXhlYyh1cmwpO1xyXG4gICAgaWYgKG1hdGNoWzFdIHx8IHVybCA9PT0gJycpIHRoaXMucGF0aChkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pKTtcclxuICAgIGlmIChtYXRjaFsyXSB8fCBtYXRjaFsxXSB8fCB1cmwgPT09ICcnKSB0aGlzLnNlYXJjaChtYXRjaFszXSB8fCAnJyk7XHJcbiAgICB0aGlzLmhhc2gobWF0Y2hbNV0gfHwgJycpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jcHJvdG9jb2xcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxyXG4gICAqXHJcbiAgICogUmV0dXJuIHByb3RvY29sIG9mIGN1cnJlbnQgdXJsLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xyXG4gICAqIHZhciBwcm90b2NvbCA9ICRsb2NhdGlvbi5wcm90b2NvbCgpO1xyXG4gICAqIC8vID0+IFwiaHR0cFwiXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHByb3RvY29sIG9mIGN1cnJlbnQgdXJsXHJcbiAgICovXHJcbiAgcHJvdG9jb2w6IGxvY2F0aW9uR2V0dGVyKCckJHByb3RvY29sJyksXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jaG9zdFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gaG9zdCBvZiBjdXJyZW50IHVybC5cclxuICAgKlxyXG4gICAqIE5vdGU6IGNvbXBhcmVkIHRvIHRoZSBub24tYW5ndWxhciB2ZXJzaW9uIGBsb2NhdGlvbi5ob3N0YCB3aGljaCByZXR1cm5zIGBob3N0bmFtZTpwb3J0YCwgdGhpcyByZXR1cm5zIHRoZSBgaG9zdG5hbWVgIHBvcnRpb24gb25seS5cclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cclxuICAgKiB2YXIgaG9zdCA9ICRsb2NhdGlvbi5ob3N0KCk7XHJcbiAgICogLy8gPT4gXCJleGFtcGxlLmNvbVwiXHJcbiAgICpcclxuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL3VzZXI6cGFzc3dvcmRAZXhhbXBsZS5jb206ODA4MC8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICogaG9zdCA9ICRsb2NhdGlvbi5ob3N0KCk7XHJcbiAgICogLy8gPT4gXCJleGFtcGxlLmNvbVwiXHJcbiAgICogaG9zdCA9IGxvY2F0aW9uLmhvc3Q7XHJcbiAgICogLy8gPT4gXCJleGFtcGxlLmNvbTo4MDgwXCJcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEByZXR1cm4ge3N0cmluZ30gaG9zdCBvZiBjdXJyZW50IHVybC5cclxuICAgKi9cclxuICBob3N0OiBsb2NhdGlvbkdldHRlcignJCRob3N0JyksXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jcG9ydFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gcG9ydCBvZiBjdXJyZW50IHVybC5cclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cclxuICAgKiB2YXIgcG9ydCA9ICRsb2NhdGlvbi5wb3J0KCk7XHJcbiAgICogLy8gPT4gODBcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEByZXR1cm4ge051bWJlcn0gcG9ydFxyXG4gICAqL1xyXG4gIHBvcnQ6IGxvY2F0aW9uR2V0dGVyKCckJHBvcnQnKSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRsb2NhdGlvbiNwYXRoXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gcGF0aCBvZiBjdXJyZW50IHVybCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXHJcbiAgICpcclxuICAgKiBDaGFuZ2UgcGF0aCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxyXG4gICAqXHJcbiAgICogTm90ZTogUGF0aCBzaG91bGQgYWx3YXlzIGJlZ2luIHdpdGggZm9yd2FyZCBzbGFzaCAoLyksIHRoaXMgbWV0aG9kIHdpbGwgYWRkIHRoZSBmb3J3YXJkIHNsYXNoXHJcbiAgICogaWYgaXQgaXMgbWlzc2luZy5cclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cclxuICAgKiB2YXIgcGF0aCA9ICRsb2NhdGlvbi5wYXRoKCk7XHJcbiAgICogLy8gPT4gXCIvc29tZS9wYXRoXCJcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gcGF0aCBOZXcgcGF0aFxyXG4gICAqIEByZXR1cm4ge3N0cmluZ30gcGF0aFxyXG4gICAqL1xyXG4gIHBhdGg6IGxvY2F0aW9uR2V0dGVyU2V0dGVyKCckJHBhdGgnLCBmdW5jdGlvbihwYXRoKSB7XHJcbiAgICBwYXRoID0gcGF0aCAhPT0gbnVsbCA/IHBhdGgudG9TdHJpbmcoKSA6ICcnO1xyXG4gICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09ICcvJyA/IHBhdGggOiAnLycgKyBwYXRoO1xyXG4gIH0pLFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uI3NlYXJjaFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxyXG4gICAqXHJcbiAgICogUmV0dXJuIHNlYXJjaCBwYXJ0IChhcyBvYmplY3QpIG9mIGN1cnJlbnQgdXJsIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cclxuICAgKlxyXG4gICAqIENoYW5nZSBzZWFyY2ggcGFydCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xyXG4gICAqIHZhciBzZWFyY2hPYmplY3QgPSAkbG9jYXRpb24uc2VhcmNoKCk7XHJcbiAgICogLy8gPT4ge2ZvbzogJ2JhcicsIGJhejogJ3hveG8nfVxyXG4gICAqXHJcbiAgICogLy8gc2V0IGZvbyB0byAneWlwZWUnXHJcbiAgICogJGxvY2F0aW9uLnNlYXJjaCgnZm9vJywgJ3lpcGVlJyk7XHJcbiAgICogLy8gJGxvY2F0aW9uLnNlYXJjaCgpID0+IHtmb286ICd5aXBlZScsIGJhejogJ3hveG8nfVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0LjxzdHJpbmc+fE9iamVjdC48QXJyYXkuPHN0cmluZz4+fSBzZWFyY2ggTmV3IHNlYXJjaCBwYXJhbXMgLSBzdHJpbmcgb3JcclxuICAgKiBoYXNoIG9iamVjdC5cclxuICAgKlxyXG4gICAqIFdoZW4gY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQgdGhlIG1ldGhvZCBhY3RzIGFzIGEgc2V0dGVyLCBzZXR0aW5nIHRoZSBgc2VhcmNoYCBjb21wb25lbnRcclxuICAgKiBvZiBgJGxvY2F0aW9uYCB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLlxyXG4gICAqXHJcbiAgICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgaGFzaCBvYmplY3QgY29udGFpbmluZyBhbiBhcnJheSBvZiB2YWx1ZXMsIHRoZXNlIHZhbHVlcyB3aWxsIGJlIGVuY29kZWRcclxuICAgKiBhcyBkdXBsaWNhdGUgc2VhcmNoIHBhcmFtZXRlcnMgaW4gdGhlIHVybC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xOdW1iZXJ8QXJyYXk8c3RyaW5nPnxib29sZWFuKT19IHBhcmFtVmFsdWUgSWYgYHNlYXJjaGAgaXMgYSBzdHJpbmcgb3IgbnVtYmVyLCB0aGVuIGBwYXJhbVZhbHVlYFxyXG4gICAqIHdpbGwgb3ZlcnJpZGUgb25seSBhIHNpbmdsZSBzZWFyY2ggcHJvcGVydHkuXHJcbiAgICpcclxuICAgKiBJZiBgcGFyYW1WYWx1ZWAgaXMgYW4gYXJyYXksIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIHByb3BlcnR5IG9mIHRoZSBgc2VhcmNoYCBjb21wb25lbnQgb2ZcclxuICAgKiBgJGxvY2F0aW9uYCBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudC5cclxuICAgKlxyXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgbnVsbGAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGRlbGV0ZWQuXHJcbiAgICpcclxuICAgKiBJZiBgcGFyYW1WYWx1ZWAgaXMgYHRydWVgLCB0aGUgcHJvcGVydHkgc3BlY2lmaWVkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnQgd2lsbCBiZSBhZGRlZCB3aXRoIG5vXHJcbiAgICogdmFsdWUgbm9yIHRyYWlsaW5nIGVxdWFsIHNpZ24uXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IElmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIHRoZSBwYXJzZWQgYHNlYXJjaGAgb2JqZWN0LiBJZiBjYWxsZWQgd2l0aFxyXG4gICAqIG9uZSBvciBtb3JlIGFyZ3VtZW50cyByZXR1cm5zIGAkbG9jYXRpb25gIG9iamVjdCBpdHNlbGYuXHJcbiAgICovXHJcbiAgc2VhcmNoOiBmdW5jdGlvbihzZWFyY2gsIHBhcmFtVmFsdWUpIHtcclxuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJCRzZWFyY2g7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICBpZiAoaXNTdHJpbmcoc2VhcmNoKSB8fCBpc051bWJlcihzZWFyY2gpKSB7XHJcbiAgICAgICAgICBzZWFyY2ggPSBzZWFyY2gudG9TdHJpbmcoKTtcclxuICAgICAgICAgIHRoaXMuJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKHNlYXJjaCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChzZWFyY2gpKSB7XHJcbiAgICAgICAgICBzZWFyY2ggPSBjb3B5KHNlYXJjaCwge30pO1xyXG4gICAgICAgICAgLy8gcmVtb3ZlIG9iamVjdCB1bmRlZmluZWQgb3IgbnVsbCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICBmb3JFYWNoKHNlYXJjaCwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkgZGVsZXRlIHNlYXJjaFtrZXldO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdGhpcy4kJHNlYXJjaCA9IHNlYXJjaDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdpc3JjaGFyZycsXHJcbiAgICAgICAgICAgICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBvZiB0aGUgYCRsb2NhdGlvbiNzZWFyY2goKWAgY2FsbCBtdXN0IGJlIGEgc3RyaW5nIG9yIGFuIG9iamVjdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHBhcmFtVmFsdWUpIHx8IHBhcmFtVmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICAgIGRlbGV0ZSB0aGlzLiQkc2VhcmNoW3NlYXJjaF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuJCRzZWFyY2hbc2VhcmNoXSA9IHBhcmFtVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuJCRjb21wb3NlKCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uI2hhc2hcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cclxuICAgKlxyXG4gICAqIFJldHVybnMgdGhlIGhhc2ggZnJhZ21lbnQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVycy5cclxuICAgKlxyXG4gICAqIENoYW5nZXMgdGhlIGhhc2ggZnJhZ21lbnQgd2hlbiBjYWxsZWQgd2l0aCBhIHBhcmFtZXRlciBhbmQgcmV0dXJucyBgJGxvY2F0aW9uYC5cclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG8jaGFzaFZhbHVlXHJcbiAgICogdmFyIGhhc2ggPSAkbG9jYXRpb24uaGFzaCgpO1xyXG4gICAqIC8vID0+IFwiaGFzaFZhbHVlXCJcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gaGFzaCBOZXcgaGFzaCBmcmFnbWVudFxyXG4gICAqIEByZXR1cm4ge3N0cmluZ30gaGFzaFxyXG4gICAqL1xyXG4gIGhhc2g6IGxvY2F0aW9uR2V0dGVyU2V0dGVyKCckJGhhc2gnLCBmdW5jdGlvbihoYXNoKSB7XHJcbiAgICByZXR1cm4gaGFzaCAhPT0gbnVsbCA/IGhhc2gudG9TdHJpbmcoKSA6ICcnO1xyXG4gIH0pLFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uI3JlcGxhY2VcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIElmIGNhbGxlZCwgYWxsIGNoYW5nZXMgdG8gJGxvY2F0aW9uIGR1cmluZyB0aGUgY3VycmVudCBgJGRpZ2VzdGAgd2lsbCByZXBsYWNlIHRoZSBjdXJyZW50IGhpc3RvcnlcclxuICAgKiByZWNvcmQsIGluc3RlYWQgb2YgYWRkaW5nIGEgbmV3IG9uZS5cclxuICAgKi9cclxuICByZXBsYWNlOiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuJCRyZXBsYWNlID0gdHJ1ZTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufTtcclxuXHJcbmZvckVhY2goW0xvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsLCBMb2NhdGlvbkhhc2hiYW5nVXJsLCBMb2NhdGlvbkh0bWw1VXJsXSwgZnVuY3Rpb24oTG9jYXRpb24pIHtcclxuICBMb2NhdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGxvY2F0aW9uUHJvdG90eXBlKTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRsb2NhdGlvbiNzdGF0ZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxyXG4gICAqXHJcbiAgICogUmV0dXJuIHRoZSBoaXN0b3J5IHN0YXRlIG9iamVjdCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXHJcbiAgICpcclxuICAgKiBDaGFuZ2UgdGhlIGhpc3Rvcnkgc3RhdGUgb2JqZWN0IHdoZW4gY2FsbGVkIHdpdGggb25lIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxyXG4gICAqIFRoZSBzdGF0ZSBvYmplY3QgaXMgbGF0ZXIgcGFzc2VkIHRvIGBwdXNoU3RhdGVgIG9yIGByZXBsYWNlU3RhdGVgLlxyXG4gICAqXHJcbiAgICogTk9URTogVGhpcyBtZXRob2QgaXMgc3VwcG9ydGVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgb25seSBpbiBicm93c2VycyBzdXBwb3J0aW5nXHJcbiAgICogdGhlIEhUTUw1IEhpc3RvcnkgQVBJIChpLmUuIG1ldGhvZHMgYHB1c2hTdGF0ZWAgYW5kIGByZXBsYWNlU3RhdGVgKS4gSWYgeW91IG5lZWQgdG8gc3VwcG9ydFxyXG4gICAqIG9sZGVyIGJyb3dzZXJzIChsaWtlIElFOSBvciBBbmRyb2lkIDwgNC4wKSwgZG9uJ3QgdXNlIHRoaXMgbWV0aG9kLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzdGF0ZSBTdGF0ZSBvYmplY3QgZm9yIHB1c2hTdGF0ZSBvciByZXBsYWNlU3RhdGVcclxuICAgKiBAcmV0dXJuIHtvYmplY3R9IHN0YXRlXHJcbiAgICovXHJcbiAgTG9jYXRpb24ucHJvdG90eXBlLnN0YXRlID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kJHN0YXRlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChMb2NhdGlvbiAhPT0gTG9jYXRpb25IdG1sNVVybCB8fCAhdGhpcy4kJGh0bWw1KSB7XHJcbiAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignbm9zdGF0ZScsICdIaXN0b3J5IEFQSSBzdGF0ZSBzdXBwb3J0IGlzIGF2YWlsYWJsZSBvbmx5ICcgK1xyXG4gICAgICAgICdpbiBIVE1MNSBtb2RlIGFuZCBvbmx5IGluIGJyb3dzZXJzIHN1cHBvcnRpbmcgSFRNTDUgSGlzdG9yeSBBUEknKTtcclxuICAgIH1cclxuICAgIC8vIFRoZSB1c2VyIG1pZ2h0IG1vZGlmeSBgc3RhdGVPYmplY3RgIGFmdGVyIGludm9raW5nIGAkbG9jYXRpb24uc3RhdGUoc3RhdGVPYmplY3QpYFxyXG4gICAgLy8gYnV0IHdlJ3JlIGNoYW5naW5nIHRoZSAkJHN0YXRlIHJlZmVyZW5jZSB0byAkYnJvd3Nlci5zdGF0ZSgpIGR1cmluZyB0aGUgJGRpZ2VzdFxyXG4gICAgLy8gc28gdGhlIG1vZGlmaWNhdGlvbiB3aW5kb3cgaXMgbmFycm93LlxyXG4gICAgdGhpcy4kJHN0YXRlID0gaXNVbmRlZmluZWQoc3RhdGUpID8gbnVsbCA6IHN0YXRlO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcbn0pO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyKHByb3BlcnR5KSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBsb2NhdGlvbkdldHRlclNldHRlcihwcm9wZXJ0eSwgcHJlcHJvY2Vzcykge1xyXG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICByZXR1cm4gdGhpc1twcm9wZXJ0eV07XHJcbiAgICB9XHJcblxyXG4gICAgdGhpc1twcm9wZXJ0eV0gPSBwcmVwcm9jZXNzKHZhbHVlKTtcclxuICAgIHRoaXMuJCRjb21wb3NlKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkbG9jYXRpb25cclxuICpcclxuICogQHJlcXVpcmVzICRyb290RWxlbWVudFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlICRsb2NhdGlvbiBzZXJ2aWNlIHBhcnNlcyB0aGUgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyIChiYXNlZCBvbiB0aGVcclxuICogW3dpbmRvdy5sb2NhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vd2luZG93LmxvY2F0aW9uKSkgYW5kIG1ha2VzIHRoZSBVUkxcclxuICogYXZhaWxhYmxlIHRvIHlvdXIgYXBwbGljYXRpb24uIENoYW5nZXMgdG8gdGhlIFVSTCBpbiB0aGUgYWRkcmVzcyBiYXIgYXJlIHJlZmxlY3RlZCBpbnRvXHJcbiAqICRsb2NhdGlvbiBzZXJ2aWNlIGFuZCBjaGFuZ2VzIHRvICRsb2NhdGlvbiBhcmUgcmVmbGVjdGVkIGludG8gdGhlIGJyb3dzZXIgYWRkcmVzcyBiYXIuXHJcbiAqXHJcbiAqICoqVGhlICRsb2NhdGlvbiBzZXJ2aWNlOioqXHJcbiAqXHJcbiAqIC0gRXhwb3NlcyB0aGUgY3VycmVudCBVUkwgaW4gdGhlIGJyb3dzZXIgYWRkcmVzcyBiYXIsIHNvIHlvdSBjYW5cclxuICogICAtIFdhdGNoIGFuZCBvYnNlcnZlIHRoZSBVUkwuXHJcbiAqICAgLSBDaGFuZ2UgdGhlIFVSTC5cclxuICogLSBTeW5jaHJvbml6ZXMgdGhlIFVSTCB3aXRoIHRoZSBicm93c2VyIHdoZW4gdGhlIHVzZXJcclxuICogICAtIENoYW5nZXMgdGhlIGFkZHJlc3MgYmFyLlxyXG4gKiAgIC0gQ2xpY2tzIHRoZSBiYWNrIG9yIGZvcndhcmQgYnV0dG9uIChvciBjbGlja3MgYSBIaXN0b3J5IGxpbmspLlxyXG4gKiAgIC0gQ2xpY2tzIG9uIGEgbGluay5cclxuICogLSBSZXByZXNlbnRzIHRoZSBVUkwgb2JqZWN0IGFzIGEgc2V0IG9mIG1ldGhvZHMgKHByb3RvY29sLCBob3N0LCBwb3J0LCBwYXRoLCBzZWFyY2gsIGhhc2gpLlxyXG4gKlxyXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUge0BsaW5rIGd1aWRlLyRsb2NhdGlvbiBEZXZlbG9wZXIgR3VpZGU6IFVzaW5nICRsb2NhdGlvbn1cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3ZpZGVyXHJcbiAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2UgdGhlIGAkbG9jYXRpb25Qcm92aWRlcmAgdG8gY29uZmlndXJlIGhvdyB0aGUgYXBwbGljYXRpb24gZGVlcCBsaW5raW5nIHBhdGhzIGFyZSBzdG9yZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiAkTG9jYXRpb25Qcm92aWRlcigpIHtcclxuICB2YXIgaGFzaFByZWZpeCA9ICcnLFxyXG4gICAgICBodG1sNU1vZGUgPSB7XHJcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgcmVxdWlyZUJhc2U6IHRydWUsXHJcbiAgICAgICAgcmV3cml0ZUxpbmtzOiB0cnVlXHJcbiAgICAgIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlciNoYXNoUHJlZml4XHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwcmVmaXggUHJlZml4IGZvciBoYXNoIHBhcnQgKGNvbnRhaW5pbmcgcGF0aCBhbmQgc2VhcmNoKVxyXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXHJcbiAgICovXHJcbiAgdGhpcy5oYXNoUHJlZml4ID0gZnVuY3Rpb24ocHJlZml4KSB7XHJcbiAgICBpZiAoaXNEZWZpbmVkKHByZWZpeCkpIHtcclxuICAgICAgaGFzaFByZWZpeCA9IHByZWZpeDtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gaGFzaFByZWZpeDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uUHJvdmlkZXIjaHRtbDVNb2RlXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQHBhcmFtIHsoYm9vbGVhbnxPYmplY3QpPX0gbW9kZSBJZiBib29sZWFuLCBzZXRzIGBodG1sNU1vZGUuZW5hYmxlZGAgdG8gdmFsdWUuXHJcbiAgICogICBJZiBvYmplY3QsIHNldHMgYGVuYWJsZWRgLCBgcmVxdWlyZUJhc2VgIGFuZCBgcmV3cml0ZUxpbmtzYCB0byByZXNwZWN0aXZlIHZhbHVlcy4gU3VwcG9ydGVkXHJcbiAgICogICBwcm9wZXJ0aWVzOlxyXG4gICAqICAgLSAqKmVuYWJsZWQqKiDigJMgYHtib29sZWFufWAg4oCTIChkZWZhdWx0OiBmYWxzZSkgSWYgdHJ1ZSwgd2lsbCByZWx5IG9uIGBoaXN0b3J5LnB1c2hTdGF0ZWAgdG9cclxuICAgKiAgICAgY2hhbmdlIHVybHMgd2hlcmUgc3VwcG9ydGVkLiBXaWxsIGZhbGwgYmFjayB0byBoYXNoLXByZWZpeGVkIHBhdGhzIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90XHJcbiAgICogICAgIHN1cHBvcnQgYHB1c2hTdGF0ZWAuXHJcbiAgICogICAtICoqcmVxdWlyZUJhc2UqKiAtIGB7Ym9vbGVhbn1gIC0gKGRlZmF1bHQ6IGB0cnVlYCkgV2hlbiBodG1sNU1vZGUgaXMgZW5hYmxlZCwgc3BlY2lmaWVzXHJcbiAgICogICAgIHdoZXRoZXIgb3Igbm90IGEgPGJhc2U+IHRhZyBpcyByZXF1aXJlZCB0byBiZSBwcmVzZW50LiBJZiBgZW5hYmxlZGAgYW5kIGByZXF1aXJlQmFzZWAgYXJlXHJcbiAgICogICAgIHRydWUsIGFuZCBhIGJhc2UgdGFnIGlzIG5vdCBwcmVzZW50LCBhbiBlcnJvciB3aWxsIGJlIHRocm93biB3aGVuIGAkbG9jYXRpb25gIGlzIGluamVjdGVkLlxyXG4gICAqICAgICBTZWUgdGhlIHtAbGluayBndWlkZS8kbG9jYXRpb24gJGxvY2F0aW9uIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9ufVxyXG4gICAqICAgLSAqKnJld3JpdGVMaW5rcyoqIC0gYHtib29sZWFufWAgLSAoZGVmYXVsdDogYHRydWVgKSBXaGVuIGh0bWw1TW9kZSBpcyBlbmFibGVkLFxyXG4gICAqICAgICBlbmFibGVzL2Rpc2FibGVzIHVybCByZXdyaXRpbmcgZm9yIHJlbGF0aXZlIGxpbmtzLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09iamVjdH0gaHRtbDVNb2RlIG9iamVjdCBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxyXG4gICAqL1xyXG4gIHRoaXMuaHRtbDVNb2RlID0gZnVuY3Rpb24obW9kZSkge1xyXG4gICAgaWYgKGlzQm9vbGVhbihtb2RlKSkge1xyXG4gICAgICBodG1sNU1vZGUuZW5hYmxlZCA9IG1vZGU7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSBlbHNlIGlmIChpc09iamVjdChtb2RlKSkge1xyXG5cclxuICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLmVuYWJsZWQpKSB7XHJcbiAgICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlLmVuYWJsZWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5yZXF1aXJlQmFzZSkpIHtcclxuICAgICAgICBodG1sNU1vZGUucmVxdWlyZUJhc2UgPSBtb2RlLnJlcXVpcmVCYXNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUucmV3cml0ZUxpbmtzKSkge1xyXG4gICAgICAgIGh0bWw1TW9kZS5yZXdyaXRlTGlua3MgPSBtb2RlLnJld3JpdGVMaW5rcztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gaHRtbDVNb2RlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBldmVudFxyXG4gICAqIEBuYW1lICRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdGFydFxyXG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBCcm9hZGNhc3RlZCBiZWZvcmUgYSBVUkwgd2lsbCBjaGFuZ2UuXHJcbiAgICpcclxuICAgKiBUaGlzIGNoYW5nZSBjYW4gYmUgcHJldmVudGVkIGJ5IGNhbGxpbmdcclxuICAgKiBgcHJldmVudERlZmF1bHRgIG1ldGhvZCBvZiB0aGUgZXZlbnQuIFNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259IGZvciBtb3JlXHJcbiAgICogZGV0YWlscyBhYm91dCBldmVudCBvYmplY3QuIFVwb24gc3VjY2Vzc2Z1bCBjaGFuZ2VcclxuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MgJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc30gaXMgZmlyZWQuXHJcbiAgICpcclxuICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxyXG4gICAqIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBIVE1MNSBIaXN0b3J5IEFQSS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3VXJsIE5ldyBVUkxcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9sZFVybCBVUkwgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRTdGF0ZSBIaXN0b3J5IHN0YXRlIG9iamVjdCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBldmVudFxyXG4gICAqIEBuYW1lICRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXHJcbiAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEJyb2FkY2FzdGVkIGFmdGVyIGEgVVJMIHdhcyBjaGFuZ2VkLlxyXG4gICAqXHJcbiAgICogVGhlIGBuZXdTdGF0ZWAgYW5kIGBvbGRTdGF0ZWAgcGFyYW1ldGVycyBtYXkgYmUgZGVmaW5lZCBvbmx5IGluIEhUTUw1IG1vZGUgYW5kIHdoZW5cclxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRVcmwgVVJMIHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5ld1N0YXRlIE5ldyBoaXN0b3J5IHN0YXRlIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxyXG4gICAqL1xyXG5cclxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJHJvb3RFbGVtZW50JywgJyR3aW5kb3cnLFxyXG4gICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAkYnJvd3NlciwgJHNuaWZmZXIsICRyb290RWxlbWVudCwgJHdpbmRvdykge1xyXG4gICAgdmFyICRsb2NhdGlvbixcclxuICAgICAgICBMb2NhdGlvbk1vZGUsXHJcbiAgICAgICAgYmFzZUhyZWYgPSAkYnJvd3Nlci5iYXNlSHJlZigpLCAvLyBpZiBiYXNlW2hyZWZdIGlzIHVuZGVmaW5lZCwgaXQgZGVmYXVsdHMgdG8gJydcclxuICAgICAgICBpbml0aWFsVXJsID0gJGJyb3dzZXIudXJsKCksXHJcbiAgICAgICAgYXBwQmFzZTtcclxuXHJcbiAgICBpZiAoaHRtbDVNb2RlLmVuYWJsZWQpIHtcclxuICAgICAgaWYgKCFiYXNlSHJlZiAmJiBodG1sNU1vZGUucmVxdWlyZUJhc2UpIHtcclxuICAgICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ25vYmFzZScsXHJcbiAgICAgICAgICBcIiRsb2NhdGlvbiBpbiBIVE1MNSBtb2RlIHJlcXVpcmVzIGEgPGJhc2U+IHRhZyB0byBiZSBwcmVzZW50IVwiKTtcclxuICAgICAgfVxyXG4gICAgICBhcHBCYXNlID0gc2VydmVyQmFzZShpbml0aWFsVXJsKSArIChiYXNlSHJlZiB8fCAnLycpO1xyXG4gICAgICBMb2NhdGlvbk1vZGUgPSAkc25pZmZlci5oaXN0b3J5ID8gTG9jYXRpb25IdG1sNVVybCA6IExvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwQmFzZSA9IHN0cmlwSGFzaChpbml0aWFsVXJsKTtcclxuICAgICAgTG9jYXRpb25Nb2RlID0gTG9jYXRpb25IYXNoYmFuZ1VybDtcclxuICAgIH1cclxuICAgIHZhciBhcHBCYXNlTm9GaWxlID0gc3RyaXBGaWxlKGFwcEJhc2UpO1xyXG5cclxuICAgICRsb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGUoYXBwQmFzZSwgYXBwQmFzZU5vRmlsZSwgJyMnICsgaGFzaFByZWZpeCk7XHJcbiAgICAkbG9jYXRpb24uJCRwYXJzZUxpbmtVcmwoaW5pdGlhbFVybCwgaW5pdGlhbFVybCk7XHJcblxyXG4gICAgJGxvY2F0aW9uLiQkc3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xyXG5cclxuICAgIHZhciBJR05PUkVfVVJJX1JFR0VYUCA9IC9eXFxzKihqYXZhc2NyaXB0fG1haWx0byk6L2k7XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayh1cmwsIHJlcGxhY2UsIHN0YXRlKSB7XHJcbiAgICAgIHZhciBvbGRVcmwgPSAkbG9jYXRpb24udXJsKCk7XHJcbiAgICAgIHZhciBvbGRTdGF0ZSA9ICRsb2NhdGlvbi4kJHN0YXRlO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgICRicm93c2VyLnVybCh1cmwsIHJlcGxhY2UsIHN0YXRlKTtcclxuXHJcbiAgICAgICAgLy8gTWFrZSBzdXJlICRsb2NhdGlvbi5zdGF0ZSgpIHJldHVybnMgcmVmZXJlbnRpYWxseSBpZGVudGljYWwgKG5vdCBqdXN0IGRlZXBseSBlcXVhbClcclxuICAgICAgICAvLyBzdGF0ZSBvYmplY3Q7IHRoaXMgbWFrZXMgcG9zc2libGUgcXVpY2sgY2hlY2tpbmcgaWYgdGhlIHN0YXRlIGNoYW5nZWQgaW4gdGhlIGRpZ2VzdFxyXG4gICAgICAgIC8vIGxvb3AuIENoZWNraW5nIGRlZXAgZXF1YWxpdHkgd291bGQgYmUgdG9vIGV4cGVuc2l2ZS5cclxuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9ICRicm93c2VyLnN0YXRlKCk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAvLyBSZXN0b3JlIG9sZCB2YWx1ZXMgaWYgcHVzaFN0YXRlIGZhaWxzXHJcbiAgICAgICAgJGxvY2F0aW9uLnVybChvbGRVcmwpO1xyXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XHJcblxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAkcm9vdEVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgLy8gVE9ETyh2b2p0YSk6IHJld3JpdGUgbGluayB3aGVuIG9wZW5pbmcgaW4gbmV3IHRhYi93aW5kb3cgKGluIGxlZ2FjeSBicm93c2VyKVxyXG4gICAgICAvLyBjdXJyZW50bHkgd2Ugb3BlbiBuaWNlIHVybCBsaW5rIGFuZCByZWRpcmVjdCB0aGVuXHJcblxyXG4gICAgICBpZiAoIWh0bWw1TW9kZS5yZXdyaXRlTGlua3MgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LndoaWNoID09IDIgfHwgZXZlbnQuYnV0dG9uID09IDIpIHJldHVybjtcclxuXHJcbiAgICAgIHZhciBlbG0gPSBqcUxpdGUoZXZlbnQudGFyZ2V0KTtcclxuXHJcbiAgICAgIC8vIHRyYXZlcnNlIHRoZSBET00gdXAgdG8gZmluZCBmaXJzdCBBIHRhZ1xyXG4gICAgICB3aGlsZSAobm9kZU5hbWVfKGVsbVswXSkgIT09ICdhJykge1xyXG4gICAgICAgIC8vIGlnbm9yZSByZXdyaXRpbmcgaWYgbm8gQSB0YWcgKHJlYWNoZWQgcm9vdCBlbGVtZW50LCBvciBubyBwYXJlbnQgLSByZW1vdmVkIGZyb20gZG9jdW1lbnQpXHJcbiAgICAgICAgaWYgKGVsbVswXSA9PT0gJHJvb3RFbGVtZW50WzBdIHx8ICEoZWxtID0gZWxtLnBhcmVudCgpKVswXSkgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgYWJzSHJlZiA9IGVsbS5wcm9wKCdocmVmJyk7XHJcbiAgICAgIC8vIGdldCB0aGUgYWN0dWFsIGhyZWYgYXR0cmlidXRlIC0gc2VlXHJcbiAgICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kZDM0NzE0OCh2PXZzLjg1KS5hc3B4XHJcbiAgICAgIHZhciByZWxIcmVmID0gZWxtLmF0dHIoJ2hyZWYnKSB8fCBlbG0uYXR0cigneGxpbms6aHJlZicpO1xyXG5cclxuICAgICAgaWYgKGlzT2JqZWN0KGFic0hyZWYpICYmIGFic0hyZWYudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJykge1xyXG4gICAgICAgIC8vIFNWR0FuaW1hdGVkU3RyaW5nLmFuaW1WYWwgc2hvdWxkIGJlIGlkZW50aWNhbCB0byBTVkdBbmltYXRlZFN0cmluZy5iYXNlVmFsLCB1bmxlc3MgZHVyaW5nXHJcbiAgICAgICAgLy8gYW4gYW5pbWF0aW9uLlxyXG4gICAgICAgIGFic0hyZWYgPSB1cmxSZXNvbHZlKGFic0hyZWYuYW5pbVZhbCkuaHJlZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWdub3JlIHdoZW4gdXJsIGlzIHN0YXJ0ZWQgd2l0aCBqYXZhc2NyaXB0OiBvciBtYWlsdG86XHJcbiAgICAgIGlmIChJR05PUkVfVVJJX1JFR0VYUC50ZXN0KGFic0hyZWYpKSByZXR1cm47XHJcblxyXG4gICAgICBpZiAoYWJzSHJlZiAmJiAhZWxtLmF0dHIoJ3RhcmdldCcpICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xyXG4gICAgICAgIGlmICgkbG9jYXRpb24uJCRwYXJzZUxpbmtVcmwoYWJzSHJlZiwgcmVsSHJlZikpIHtcclxuICAgICAgICAgIC8vIFdlIGRvIGEgcHJldmVudERlZmF1bHQgZm9yIGFsbCB1cmxzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIGFuZ3VsYXIgYXBwbGljYXRpb24sXHJcbiAgICAgICAgICAvLyBpbiBodG1sNW1vZGUgYW5kIGFsc28gd2l0aG91dCwgc28gdGhhdCB3ZSBhcmUgYWJsZSB0byBhYm9ydCBuYXZpZ2F0aW9uIHdpdGhvdXRcclxuICAgICAgICAgIC8vIGdldHRpbmcgZG91YmxlIGVudHJpZXMgaW4gdGhlIGxvY2F0aW9uIGhpc3RvcnkuXHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgLy8gdXBkYXRlIGxvY2F0aW9uIG1hbnVhbGx5XHJcbiAgICAgICAgICBpZiAoJGxvY2F0aW9uLmFic1VybCgpICE9ICRicm93c2VyLnVybCgpKSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgIC8vIGhhY2sgdG8gd29yayBhcm91bmQgRkY2IGJ1ZyA2ODQyMDggd2hlbiBzY2VuYXJpbyBydW5uZXIgY2xpY2tzIG9uIGxpbmtzXHJcbiAgICAgICAgICAgICR3aW5kb3cuYW5ndWxhclsnZmYtNjg0MjA4LXByZXZlbnREZWZhdWx0J10gPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIHJld3JpdGUgaGFzaGJhbmcgdXJsIDw+IGh0bWw1IHVybFxyXG4gICAgaWYgKHRyaW1FbXB0eUhhc2goJGxvY2F0aW9uLmFic1VybCgpKSAhPSB0cmltRW1wdHlIYXNoKGluaXRpYWxVcmwpKSB7XHJcbiAgICAgICRicm93c2VyLnVybCgkbG9jYXRpb24uYWJzVXJsKCksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBpbml0aWFsaXppbmcgPSB0cnVlO1xyXG5cclxuICAgIC8vIHVwZGF0ZSAkbG9jYXRpb24gd2hlbiAkYnJvd3NlciB1cmwgY2hhbmdlc1xyXG4gICAgJGJyb3dzZXIub25VcmxDaGFuZ2UoZnVuY3Rpb24obmV3VXJsLCBuZXdTdGF0ZSkge1xyXG5cclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSwgbmV3VXJsKSkpIHtcclxuICAgICAgICAvLyBJZiB3ZSBhcmUgbmF2aWdhdGluZyBvdXRzaWRlIG9mIHRoZSBhcHAgdGhlbiBmb3JjZSBhIHJlbG9hZFxyXG4gICAgICAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9IG5ld1VybDtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgb2xkVXJsID0gJGxvY2F0aW9uLmFic1VybCgpO1xyXG4gICAgICAgIHZhciBvbGRTdGF0ZSA9ICRsb2NhdGlvbi4kJHN0YXRlO1xyXG4gICAgICAgIHZhciBkZWZhdWx0UHJldmVudGVkO1xyXG4gICAgICAgIG5ld1VybCA9IHRyaW1FbXB0eUhhc2gobmV3VXJsKTtcclxuICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShuZXdVcmwpO1xyXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gbmV3U3RhdGU7XHJcblxyXG4gICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQgPSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgbmV3VXJsLCBvbGRVcmwsXHJcbiAgICAgICAgICAgIG5ld1N0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZDtcclxuXHJcbiAgICAgICAgLy8gaWYgdGhlIGxvY2F0aW9uIHdhcyBjaGFuZ2VkIGJ5IGEgYCRsb2NhdGlvbkNoYW5nZVN0YXJ0YCBoYW5kbGVyIHRoZW4gc3RvcFxyXG4gICAgICAgIC8vIHByb2Nlc3NpbmcgdGhpcyBsb2NhdGlvbiBjaGFuZ2VcclxuICAgICAgICBpZiAoJGxvY2F0aW9uLmFic1VybCgpICE9PSBuZXdVcmwpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKGRlZmF1bHRQcmV2ZW50ZWQpIHtcclxuICAgICAgICAgICRsb2NhdGlvbi4kJHBhcnNlKG9sZFVybCk7XHJcbiAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xyXG4gICAgICAgICAgc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayhvbGRVcmwsIGZhbHNlLCBvbGRTdGF0ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGluaXRpYWxpemluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsIG9sZFN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkgJHJvb3RTY29wZS4kZGlnZXN0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB1cGRhdGUgYnJvd3NlclxyXG4gICAgJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24gJGxvY2F0aW9uV2F0Y2goKSB7XHJcbiAgICAgIHZhciBvbGRVcmwgPSB0cmltRW1wdHlIYXNoKCRicm93c2VyLnVybCgpKTtcclxuICAgICAgdmFyIG5ld1VybCA9IHRyaW1FbXB0eUhhc2goJGxvY2F0aW9uLmFic1VybCgpKTtcclxuICAgICAgdmFyIG9sZFN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcclxuICAgICAgdmFyIGN1cnJlbnRSZXBsYWNlID0gJGxvY2F0aW9uLiQkcmVwbGFjZTtcclxuICAgICAgdmFyIHVybE9yU3RhdGVDaGFuZ2VkID0gb2xkVXJsICE9PSBuZXdVcmwgfHxcclxuICAgICAgICAoJGxvY2F0aW9uLiQkaHRtbDUgJiYgJHNuaWZmZXIuaGlzdG9yeSAmJiBvbGRTdGF0ZSAhPT0gJGxvY2F0aW9uLiQkc3RhdGUpO1xyXG5cclxuICAgICAgaWYgKGluaXRpYWxpemluZyB8fCB1cmxPclN0YXRlQ2hhbmdlZCkge1xyXG4gICAgICAgIGluaXRpYWxpemluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgbmV3VXJsID0gJGxvY2F0aW9uLmFic1VybCgpO1xyXG4gICAgICAgICAgdmFyIGRlZmF1bHRQcmV2ZW50ZWQgPSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgbmV3VXJsLCBvbGRVcmwsXHJcbiAgICAgICAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUsIG9sZFN0YXRlKS5kZWZhdWx0UHJldmVudGVkO1xyXG5cclxuICAgICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiB3YXMgY2hhbmdlZCBieSBhIGAkbG9jYXRpb25DaGFuZ2VTdGFydGAgaGFuZGxlciB0aGVuIHN0b3BcclxuICAgICAgICAgIC8vIHByb2Nlc3NpbmcgdGhpcyBsb2NhdGlvbiBjaGFuZ2VcclxuICAgICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT09IG5ld1VybCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XHJcbiAgICAgICAgICAgICRsb2NhdGlvbi4kJHBhcnNlKG9sZFVybCk7XHJcbiAgICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodXJsT3JTdGF0ZUNoYW5nZWQpIHtcclxuICAgICAgICAgICAgICBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKG5ld1VybCwgY3VycmVudFJlcGxhY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZSA9PT0gJGxvY2F0aW9uLiQkc3RhdGUgPyBudWxsIDogJGxvY2F0aW9uLiQkc3RhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRsb2NhdGlvbi4kJHJlcGxhY2UgPSBmYWxzZTtcclxuXHJcbiAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gcmV0dXJuIGFueXRoaW5nIGJlY2F1c2UgJGV2YWxBc3luYyB3aWxsIG1ha2UgdGhlIGRpZ2VzdCBsb29wIGRpcnR5IHdoZW5cclxuICAgICAgLy8gdGhlcmUgaXMgYSBjaGFuZ2VcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiAkbG9jYXRpb247XHJcblxyXG4gICAgZnVuY3Rpb24gYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsIG9sZFN0YXRlKSB7XHJcbiAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsICRsb2NhdGlvbi5hYnNVcmwoKSwgb2xkVXJsLFxyXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSk7XHJcbiAgICB9XHJcbn1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGxvZ1xyXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU2ltcGxlIHNlcnZpY2UgZm9yIGxvZ2dpbmcuIERlZmF1bHQgaW1wbGVtZW50YXRpb24gc2FmZWx5IHdyaXRlcyB0aGUgbWVzc2FnZVxyXG4gKiBpbnRvIHRoZSBicm93c2VyJ3MgY29uc29sZSAoaWYgcHJlc2VudCkuXHJcbiAqXHJcbiAqIFRoZSBtYWluIHB1cnBvc2Ugb2YgdGhpcyBzZXJ2aWNlIGlzIHRvIHNpbXBsaWZ5IGRlYnVnZ2luZyBhbmQgdHJvdWJsZXNob290aW5nLlxyXG4gKlxyXG4gKiBUaGUgZGVmYXVsdCBpcyB0byBsb2cgYGRlYnVnYCBtZXNzYWdlcy4gWW91IGNhbiB1c2VcclxuICoge0BsaW5rIG5nLiRsb2dQcm92aWRlciBuZy4kbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkfSB0byBjaGFuZ2UgdGhpcy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbW9kdWxlPVwibG9nRXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsb2dFeGFtcGxlJywgW10pXHJcbiAgICAgICAgIC5jb250cm9sbGVyKCdMb2dDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGxvZycsIGZ1bmN0aW9uKCRzY29wZSwgJGxvZykge1xyXG4gICAgICAgICAgICRzY29wZS4kbG9nID0gJGxvZztcclxuICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9ICdIZWxsbyBXb3JsZCEnO1xyXG4gICAgICAgICB9XSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJMb2dDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxwPlJlbG9hZCB0aGlzIHBhZ2Ugd2l0aCBvcGVuIGNvbnNvbGUsIGVudGVyIHRleHQgYW5kIGhpdCB0aGUgbG9nIGJ1dHRvbi4uLjwvcD5cclxuICAgICAgICAgPGxhYmVsPk1lc3NhZ2U6XHJcbiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibWVzc2FnZVwiIC8+PC9sYWJlbD5cclxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cubG9nKG1lc3NhZ2UpXCI+bG9nPC9idXR0b24+XHJcbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLndhcm4obWVzc2FnZSlcIj53YXJuPC9idXR0b24+XHJcbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmluZm8obWVzc2FnZSlcIj5pbmZvPC9idXR0b24+XHJcbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmVycm9yKG1lc3NhZ2UpXCI+ZXJyb3I8L2J1dHRvbj5cclxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cuZGVidWcobWVzc2FnZSlcIj5kZWJ1ZzwvYnV0dG9uPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkbG9nUHJvdmlkZXJcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFVzZSB0aGUgYCRsb2dQcm92aWRlcmAgdG8gY29uZmlndXJlIGhvdyB0aGUgYXBwbGljYXRpb24gbG9ncyBtZXNzYWdlc1xyXG4gKi9cclxuZnVuY3Rpb24gJExvZ1Byb3ZpZGVyKCkge1xyXG4gIHZhciBkZWJ1ZyA9IHRydWUsXHJcbiAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZFxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGZsYWcgZW5hYmxlIG9yIGRpc2FibGUgZGVidWcgbGV2ZWwgbWVzc2FnZXNcclxuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxyXG4gICAqL1xyXG4gIHRoaXMuZGVidWdFbmFibGVkID0gZnVuY3Rpb24oZmxhZykge1xyXG4gICAgaWYgKGlzRGVmaW5lZChmbGFnKSkge1xyXG4gICAgICBkZWJ1ZyA9IGZsYWc7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBkZWJ1ZztcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCBmdW5jdGlvbigkd2luZG93KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkbG9nI2xvZ1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogV3JpdGUgYSBsb2cgbWVzc2FnZVxyXG4gICAgICAgKi9cclxuICAgICAgbG9nOiBjb25zb2xlTG9nKCdsb2cnKSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRsb2cjaW5mb1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogV3JpdGUgYW4gaW5mb3JtYXRpb24gbWVzc2FnZVxyXG4gICAgICAgKi9cclxuICAgICAgaW5mbzogY29uc29sZUxvZygnaW5mbycpLFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGxvZyN3YXJuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBXcml0ZSBhIHdhcm5pbmcgbWVzc2FnZVxyXG4gICAgICAgKi9cclxuICAgICAgd2FybjogY29uc29sZUxvZygnd2FybicpLFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGxvZyNlcnJvclxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogV3JpdGUgYW4gZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgKi9cclxuICAgICAgZXJyb3I6IGNvbnNvbGVMb2coJ2Vycm9yJyksXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkbG9nI2RlYnVnXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBXcml0ZSBhIGRlYnVnIG1lc3NhZ2VcclxuICAgICAgICovXHJcbiAgICAgIGRlYnVnOiAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGZuID0gY29uc29sZUxvZygnZGVidWcnKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRlYnVnKSB7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSgpKVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBmb3JtYXRFcnJvcihhcmcpIHtcclxuICAgICAgaWYgKGFyZyBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgaWYgKGFyZy5zdGFjaykge1xyXG4gICAgICAgICAgYXJnID0gKGFyZy5tZXNzYWdlICYmIGFyZy5zdGFjay5pbmRleE9mKGFyZy5tZXNzYWdlKSA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgPyAnRXJyb3I6ICcgKyBhcmcubWVzc2FnZSArICdcXG4nICsgYXJnLnN0YWNrXHJcbiAgICAgICAgICAgICAgOiBhcmcuc3RhY2s7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhcmcuc291cmNlVVJMKSB7XHJcbiAgICAgICAgICBhcmcgPSBhcmcubWVzc2FnZSArICdcXG4nICsgYXJnLnNvdXJjZVVSTCArICc6JyArIGFyZy5saW5lO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYXJnO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnNvbGVMb2codHlwZSkge1xyXG4gICAgICB2YXIgY29uc29sZSA9ICR3aW5kb3cuY29uc29sZSB8fCB7fSxcclxuICAgICAgICAgIGxvZ0ZuID0gY29uc29sZVt0eXBlXSB8fCBjb25zb2xlLmxvZyB8fCBub29wLFxyXG4gICAgICAgICAgaGFzQXBwbHkgPSBmYWxzZTtcclxuXHJcbiAgICAgIC8vIE5vdGU6IHJlYWRpbmcgbG9nRm4uYXBwbHkgdGhyb3dzIGFuIGVycm9yIGluIElFMTEgaW4gSUU4IGRvY3VtZW50IG1vZGUuXHJcbiAgICAgIC8vIFRoZSByZWFzb24gYmVoaW5kIHRoaXMgaXMgdGhhdCBjb25zb2xlLmxvZyBoYXMgdHlwZSBcIm9iamVjdFwiIGluIElFOC4uLlxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGhhc0FwcGx5ID0gISFsb2dGbi5hcHBseTtcclxuICAgICAgfSBjYXRjaCAoZSkge31cclxuXHJcbiAgICAgIGlmIChoYXNBcHBseSkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24oYXJnKSB7XHJcbiAgICAgICAgICAgIGFyZ3MucHVzaChmb3JtYXRFcnJvcihhcmcpKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIGxvZ0ZuLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHdlIGFyZSBJRSB3aGljaCBlaXRoZXIgZG9lc24ndCBoYXZlIHdpbmRvdy5jb25zb2xlID0+IHRoaXMgaXMgbm9vcCBhbmQgd2UgZG8gbm90aGluZyxcclxuICAgICAgLy8gb3Igd2UgYXJlIElFIHdoZXJlIGNvbnNvbGUubG9nIGRvZXNuJ3QgaGF2ZSBhcHBseSBzbyB3ZSBsb2cgYXQgbGVhc3QgZmlyc3QgMiBhcmdzXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbihhcmcxLCBhcmcyKSB7XHJcbiAgICAgICAgbG9nRm4oYXJnMSwgYXJnMiA9PSBudWxsID8gJycgOiBhcmcyKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XTtcclxufVxyXG5cclxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxyXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXHJcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcclxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxyXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXHJcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcclxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cclxuXHJcbnZhciAkcGFyc2VNaW5FcnIgPSBtaW5FcnIoJyRwYXJzZScpO1xyXG5cclxuLy8gU2FuZGJveGluZyBBbmd1bGFyIEV4cHJlc3Npb25zXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBBbmd1bGFyIGV4cHJlc3Npb25zIGFyZSBnZW5lcmFsbHkgY29uc2lkZXJlZCBzYWZlIGJlY2F1c2UgdGhlc2UgZXhwcmVzc2lvbnMgb25seSBoYXZlIGRpcmVjdFxyXG4vLyBhY2Nlc3MgdG8gYCRzY29wZWAgYW5kIGxvY2Fscy4gSG93ZXZlciwgb25lIGNhbiBvYnRhaW4gdGhlIGFiaWxpdHkgdG8gZXhlY3V0ZSBhcmJpdHJhcnkgSlMgY29kZSBieVxyXG4vLyBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gbmF0aXZlIEpTIGZ1bmN0aW9ucyBzdWNoIGFzIHRoZSBGdW5jdGlvbiBjb25zdHJ1Y3Rvci5cclxuLy9cclxuLy8gQXMgYW4gZXhhbXBsZSwgY29uc2lkZXIgdGhlIGZvbGxvd2luZyBBbmd1bGFyIGV4cHJlc3Npb246XHJcbi8vXHJcbi8vICAge30udG9TdHJpbmcuY29uc3RydWN0b3IoJ2FsZXJ0KFwiZXZpbCBKUyBjb2RlXCIpJylcclxuLy9cclxuLy8gVGhpcyBzYW5kYm94aW5nIHRlY2huaXF1ZSBpcyBub3QgcGVyZmVjdCBhbmQgZG9lc24ndCBhaW0gdG8gYmUuIFRoZSBnb2FsIGlzIHRvIHByZXZlbnQgZXhwbG9pdHNcclxuLy8gYWdhaW5zdCB0aGUgZXhwcmVzc2lvbiBsYW5ndWFnZSwgYnV0IG5vdCB0byBwcmV2ZW50IGV4cGxvaXRzIHRoYXQgd2VyZSBlbmFibGVkIGJ5IGV4cG9zaW5nXHJcbi8vIHNlbnNpdGl2ZSBKYXZhU2NyaXB0IG9yIGJyb3dzZXIgQVBJcyBvbiBTY29wZS4gRXhwb3Npbmcgc3VjaCBvYmplY3RzIG9uIGEgU2NvcGUgaXMgbmV2ZXIgYSBnb29kXHJcbi8vIHByYWN0aWNlIGFuZCB0aGVyZWZvcmUgd2UgYXJlIG5vdCBldmVuIHRyeWluZyB0byBwcm90ZWN0IGFnYWluc3QgaW50ZXJhY3Rpb24gd2l0aCBhbiBvYmplY3RcclxuLy8gZXhwbGljaXRseSBleHBvc2VkIGluIHRoaXMgd2F5LlxyXG4vL1xyXG4vLyBJbiBnZW5lcmFsLCBpdCBpcyBub3QgcG9zc2libGUgdG8gYWNjZXNzIGEgV2luZG93IG9iamVjdCBmcm9tIGFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB1bmxlc3MgYVxyXG4vLyB3aW5kb3cgb3Igc29tZSBET00gb2JqZWN0IHRoYXQgaGFzIGEgcmVmZXJlbmNlIHRvIHdpbmRvdyBpcyBwdWJsaXNoZWQgb250byBhIFNjb3BlLlxyXG4vLyBTaW1pbGFybHkgd2UgcHJldmVudCBpbnZvY2F0aW9ucyBvZiBmdW5jdGlvbiBrbm93biB0byBiZSBkYW5nZXJvdXMsIGFzIHdlbGwgYXMgYXNzaWdubWVudHMgdG9cclxuLy8gbmF0aXZlIG9iamVjdHMuXHJcbi8vXHJcbi8vIFNlZSBodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9ndWlkZS9zZWN1cml0eVxyXG5cclxuXHJcbmZ1bmN0aW9uIGVuc3VyZVNhZmVNZW1iZXJOYW1lKG5hbWUsIGZ1bGxFeHByZXNzaW9uKSB7XHJcbiAgaWYgKG5hbWUgPT09IFwiX19kZWZpbmVHZXR0ZXJfX1wiIHx8IG5hbWUgPT09IFwiX19kZWZpbmVTZXR0ZXJfX1wiXHJcbiAgICAgIHx8IG5hbWUgPT09IFwiX19sb29rdXBHZXR0ZXJfX1wiIHx8IG5hbWUgPT09IFwiX19sb29rdXBTZXR0ZXJfX1wiXHJcbiAgICAgIHx8IG5hbWUgPT09IFwiX19wcm90b19fXCIpIHtcclxuICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2ZsZCcsXHJcbiAgICAgICAgJ0F0dGVtcHRpbmcgdG8gYWNjZXNzIGEgZGlzYWxsb3dlZCBmaWVsZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zISAnXHJcbiAgICAgICAgKyAnRXhwcmVzc2lvbjogezB9JywgZnVsbEV4cHJlc3Npb24pO1xyXG4gIH1cclxuICByZXR1cm4gbmFtZTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0U3RyaW5nVmFsdWUobmFtZSkge1xyXG4gIC8vIFByb3BlcnR5IG5hbWVzIG11c3QgYmUgc3RyaW5ncy4gVGhpcyBtZWFucyB0aGF0IG5vbi1zdHJpbmcgb2JqZWN0cyBjYW5ub3QgYmUgdXNlZFxyXG4gIC8vIGFzIGtleXMgaW4gYW4gb2JqZWN0LiBBbnkgbm9uLXN0cmluZyBvYmplY3QsIGluY2x1ZGluZyBhIG51bWJlciwgaXMgdHlwZWNhc3RlZFxyXG4gIC8vIGludG8gYSBzdHJpbmcgdmlhIHRoZSB0b1N0cmluZyBtZXRob2QuXHJcbiAgLy8gLS0gTUROLCBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvUHJvcGVydHlfYWNjZXNzb3JzI1Byb3BlcnR5X25hbWVzXHJcbiAgLy9cclxuICAvLyBTbywgdG8gZW5zdXJlIHRoYXQgd2UgYXJlIGNoZWNraW5nIHRoZSBzYW1lIGBuYW1lYCB0aGF0IEphdmFTY3JpcHQgd291bGQgdXNlLCB3ZSBjYXN0IGl0XHJcbiAgLy8gdG8gYSBzdHJpbmcuIEl0J3Mgbm90IGFsd2F5cyBwb3NzaWJsZS4gSWYgYG5hbWVgIGlzIGFuIG9iamVjdCBhbmQgaXRzIGB0b1N0cmluZ2AgbWV0aG9kIGlzXHJcbiAgLy8gJ2Jyb2tlbicgKGRvZXNuJ3QgcmV0dXJuIGEgc3RyaW5nLCBpc24ndCBhIGZ1bmN0aW9uLCBldGMuKSwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd246XHJcbiAgLy9cclxuICAvLyBUeXBlRXJyb3I6IENhbm5vdCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcclxuICAvL1xyXG4gIC8vIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB3ZSBkb24ndCBjYXRjaCB0aGlzIGVycm9yIGhlcmUgYW5kIGFsbG93IGl0IHRvIHByb3BhZ2F0ZSB1cCB0aGUgY2FsbFxyXG4gIC8vIHN0YWNrLiBOb3RlIHRoYXQgeW91J2xsIGdldCB0aGUgc2FtZSBlcnJvciBpbiBKYXZhU2NyaXB0IGlmIHlvdSB0cnkgdG8gYWNjZXNzIGEgcHJvcGVydHkgdXNpbmdcclxuICAvLyBzdWNoIGEgJ2Jyb2tlbicgb2JqZWN0IGFzIGEga2V5LlxyXG4gIHJldHVybiBuYW1lICsgJyc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuc3VyZVNhZmVPYmplY3Qob2JqLCBmdWxsRXhwcmVzc2lvbikge1xyXG4gIC8vIG5pZnR5IGNoZWNrIGlmIG9iaiBpcyBGdW5jdGlvbiB0aGF0IGlzIGZhc3QgYW5kIHdvcmtzIGFjcm9zcyBpZnJhbWVzIGFuZCBvdGhlciBjb250ZXh0c1xyXG4gIGlmIChvYmopIHtcclxuICAgIGlmIChvYmouY29uc3RydWN0b3IgPT09IG9iaikge1xyXG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbicsXHJcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRnVuY3Rpb24gaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLFxyXG4gICAgICAgICAgZnVsbEV4cHJlc3Npb24pO1xyXG4gICAgfSBlbHNlIGlmICgvLyBpc1dpbmRvdyhvYmopXHJcbiAgICAgICAgb2JqLndpbmRvdyA9PT0gb2JqKSB7XHJcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY3dpbmRvdycsXHJcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgdGhlIFdpbmRvdyBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXHJcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XHJcbiAgICB9IGVsc2UgaWYgKC8vIGlzRWxlbWVudChvYmopXHJcbiAgICAgICAgb2JqLmNoaWxkcmVuICYmIChvYmoubm9kZU5hbWUgfHwgKG9iai5wcm9wICYmIG9iai5hdHRyICYmIG9iai5maW5kKSkpIHtcclxuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZG9tJyxcclxuICAgICAgICAgICdSZWZlcmVuY2luZyBET00gbm9kZXMgaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLFxyXG4gICAgICAgICAgZnVsbEV4cHJlc3Npb24pO1xyXG4gICAgfSBlbHNlIGlmICgvLyBibG9jayBPYmplY3Qgc28gdGhhdCB3ZSBjYW4ndCBnZXQgaG9sZCBvZiBkYW5nZXJvdXMgT2JqZWN0LiogbWV0aG9kc1xyXG4gICAgICAgIG9iaiA9PT0gT2JqZWN0KSB7XHJcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY29iaicsXHJcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgT2JqZWN0IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcclxuICAgICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxudmFyIENBTEwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbDtcclxudmFyIEFQUExZID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xyXG52YXIgQklORCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xyXG5cclxuZnVuY3Rpb24gZW5zdXJlU2FmZUZ1bmN0aW9uKG9iaiwgZnVsbEV4cHJlc3Npb24pIHtcclxuICBpZiAob2JqKSB7XHJcbiAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBvYmopIHtcclxuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZm4nLFxyXG4gICAgICAgICdSZWZlcmVuY2luZyBGdW5jdGlvbiBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXHJcbiAgICAgICAgZnVsbEV4cHJlc3Npb24pO1xyXG4gICAgfSBlbHNlIGlmIChvYmogPT09IENBTEwgfHwgb2JqID09PSBBUFBMWSB8fCBvYmogPT09IEJJTkQpIHtcclxuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZmYnLFxyXG4gICAgICAgICdSZWZlcmVuY2luZyBjYWxsLCBhcHBseSBvciBiaW5kIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcclxuICAgICAgICBmdWxsRXhwcmVzc2lvbik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBlbnN1cmVTYWZlQXNzaWduQ29udGV4dChvYmosIGZ1bGxFeHByZXNzaW9uKSB7XHJcbiAgaWYgKG9iaikge1xyXG4gICAgaWYgKG9iaiA9PT0gKDApLmNvbnN0cnVjdG9yIHx8IG9iaiA9PT0gKGZhbHNlKS5jb25zdHJ1Y3RvciB8fCBvYmogPT09ICcnLmNvbnN0cnVjdG9yIHx8XHJcbiAgICAgICAgb2JqID09PSB7fS5jb25zdHJ1Y3RvciB8fCBvYmogPT09IFtdLmNvbnN0cnVjdG9yIHx8IG9iaiA9PT0gRnVuY3Rpb24uY29uc3RydWN0b3IpIHtcclxuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjYWYnLFxyXG4gICAgICAgICdBc3NpZ25pbmcgdG8gYSBjb25zdHJ1Y3RvciBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLCBmdWxsRXhwcmVzc2lvbik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG52YXIgT1BFUkFUT1JTID0gY3JlYXRlTWFwKCk7XHJcbmZvckVhY2goJysgLSAqIC8gJSA9PT0gIT09ID09ICE9IDwgPiA8PSA+PSAmJiB8fCAhID0gfCcuc3BsaXQoJyAnKSwgZnVuY3Rpb24ob3BlcmF0b3IpIHsgT1BFUkFUT1JTW29wZXJhdG9yXSA9IHRydWU7IH0pO1xyXG52YXIgRVNDQVBFID0ge1wiblwiOlwiXFxuXCIsIFwiZlwiOlwiXFxmXCIsIFwiclwiOlwiXFxyXCIsIFwidFwiOlwiXFx0XCIsIFwidlwiOlwiXFx2XCIsIFwiJ1wiOlwiJ1wiLCAnXCInOidcIid9O1xyXG5cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cclxuLyoqXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxudmFyIExleGVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbn07XHJcblxyXG5MZXhlci5wcm90b3R5cGUgPSB7XHJcbiAgY29uc3RydWN0b3I6IExleGVyLFxyXG5cclxuICBsZXg6IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICB0aGlzLmluZGV4ID0gMDtcclxuICAgIHRoaXMudG9rZW5zID0gW107XHJcblxyXG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XHJcbiAgICAgIHZhciBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XHJcbiAgICAgIGlmIChjaCA9PT0gJ1wiJyB8fCBjaCA9PT0gXCInXCIpIHtcclxuICAgICAgICB0aGlzLnJlYWRTdHJpbmcoY2gpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNOdW1iZXIoY2gpIHx8IGNoID09PSAnLicgJiYgdGhpcy5pc051bWJlcih0aGlzLnBlZWsoKSkpIHtcclxuICAgICAgICB0aGlzLnJlYWROdW1iZXIoKTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzSWRlbnRpZmllclN0YXJ0KHRoaXMucGVla011bHRpY2hhcigpKSkge1xyXG4gICAgICAgIHRoaXMucmVhZElkZW50KCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pcyhjaCwgJygpe31bXS4sOzo/JykpIHtcclxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtpbmRleDogdGhpcy5pbmRleCwgdGV4dDogY2h9KTtcclxuICAgICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1doaXRlc3BhY2UoY2gpKSB7XHJcbiAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBjaDIgPSBjaCArIHRoaXMucGVlaygpO1xyXG4gICAgICAgIHZhciBjaDMgPSBjaDIgKyB0aGlzLnBlZWsoMik7XHJcbiAgICAgICAgdmFyIG9wMSA9IE9QRVJBVE9SU1tjaF07XHJcbiAgICAgICAgdmFyIG9wMiA9IE9QRVJBVE9SU1tjaDJdO1xyXG4gICAgICAgIHZhciBvcDMgPSBPUEVSQVRPUlNbY2gzXTtcclxuICAgICAgICBpZiAob3AxIHx8IG9wMiB8fCBvcDMpIHtcclxuICAgICAgICAgIHZhciB0b2tlbiA9IG9wMyA/IGNoMyA6IChvcDIgPyBjaDIgOiBjaCk7XHJcbiAgICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtpbmRleDogdGhpcy5pbmRleCwgdGV4dDogdG9rZW4sIG9wZXJhdG9yOiB0cnVlfSk7XHJcbiAgICAgICAgICB0aGlzLmluZGV4ICs9IHRva2VuLmxlbmd0aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdVbmV4cGVjdGVkIG5leHQgY2hhcmFjdGVyICcsIHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggKyAxKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLnRva2VucztcclxuICB9LFxyXG5cclxuICBpczogZnVuY3Rpb24oY2gsIGNoYXJzKSB7XHJcbiAgICByZXR1cm4gY2hhcnMuaW5kZXhPZihjaCkgIT09IC0xO1xyXG4gIH0sXHJcblxyXG4gIHBlZWs6IGZ1bmN0aW9uKGkpIHtcclxuICAgIHZhciBudW0gPSBpIHx8IDE7XHJcbiAgICByZXR1cm4gKHRoaXMuaW5kZXggKyBudW0gPCB0aGlzLnRleHQubGVuZ3RoKSA/IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCArIG51bSkgOiBmYWxzZTtcclxuICB9LFxyXG5cclxuICBpc051bWJlcjogZnVuY3Rpb24oY2gpIHtcclxuICAgIHJldHVybiAoJzAnIDw9IGNoICYmIGNoIDw9ICc5JykgJiYgdHlwZW9mIGNoID09PSBcInN0cmluZ1wiO1xyXG4gIH0sXHJcblxyXG4gIGlzV2hpdGVzcGFjZTogZnVuY3Rpb24oY2gpIHtcclxuICAgIC8vIElFIHRyZWF0cyBub24tYnJlYWtpbmcgc3BhY2UgYXMgXFx1MDBBMFxyXG4gICAgcmV0dXJuIChjaCA9PT0gJyAnIHx8IGNoID09PSAnXFxyJyB8fCBjaCA9PT0gJ1xcdCcgfHxcclxuICAgICAgICAgICAgY2ggPT09ICdcXG4nIHx8IGNoID09PSAnXFx2JyB8fCBjaCA9PT0gJ1xcdTAwQTAnKTtcclxuICB9LFxyXG5cclxuICBpc0lkZW50aWZpZXJTdGFydDogZnVuY3Rpb24oY2gpIHtcclxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyU3RhcnQgP1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJTdGFydChjaCwgdGhpcy5jb2RlUG9pbnRBdChjaCkpIDpcclxuICAgICAgICB0aGlzLmlzVmFsaWRJZGVudGlmaWVyU3RhcnQoY2gpO1xyXG4gIH0sXHJcblxyXG4gIGlzVmFsaWRJZGVudGlmaWVyU3RhcnQ6IGZ1bmN0aW9uKGNoKSB7XHJcbiAgICByZXR1cm4gKCdhJyA8PSBjaCAmJiBjaCA8PSAneicgfHxcclxuICAgICAgICAgICAgJ0EnIDw9IGNoICYmIGNoIDw9ICdaJyB8fFxyXG4gICAgICAgICAgICAnXycgPT09IGNoIHx8IGNoID09PSAnJCcpO1xyXG4gIH0sXHJcblxyXG4gIGlzSWRlbnRpZmllckNvbnRpbnVlOiBmdW5jdGlvbihjaCkge1xyXG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJDb250aW51ZSA/XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllckNvbnRpbnVlKGNoLCB0aGlzLmNvZGVQb2ludEF0KGNoKSkgOlxyXG4gICAgICAgIHRoaXMuaXNWYWxpZElkZW50aWZpZXJDb250aW51ZShjaCk7XHJcbiAgfSxcclxuXHJcbiAgaXNWYWxpZElkZW50aWZpZXJDb250aW51ZTogZnVuY3Rpb24oY2gsIGNwKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkSWRlbnRpZmllclN0YXJ0KGNoLCBjcCkgfHwgdGhpcy5pc051bWJlcihjaCk7XHJcbiAgfSxcclxuXHJcbiAgY29kZVBvaW50QXQ6IGZ1bmN0aW9uKGNoKSB7XHJcbiAgICBpZiAoY2gubGVuZ3RoID09PSAxKSByZXR1cm4gY2guY2hhckNvZGVBdCgwKTtcclxuICAgIC8qanNoaW50IGJpdHdpc2U6IGZhbHNlKi9cclxuICAgIHJldHVybiAoY2guY2hhckNvZGVBdCgwKSA8PCAxMCkgKyBjaC5jaGFyQ29kZUF0KDEpIC0gMHgzNUZEQzAwO1xyXG4gICAgLypqc2hpbnQgYml0d2lzZTogdHJ1ZSovXHJcbiAgfSxcclxuXHJcbiAgcGVla011bHRpY2hhcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xyXG4gICAgdmFyIHBlZWsgPSB0aGlzLnBlZWsoKTtcclxuICAgIGlmICghcGVlaykge1xyXG4gICAgICByZXR1cm4gY2g7XHJcbiAgICB9XHJcbiAgICB2YXIgY3AxID0gY2guY2hhckNvZGVBdCgwKTtcclxuICAgIHZhciBjcDIgPSBwZWVrLmNoYXJDb2RlQXQoMCk7XHJcbiAgICBpZiAoY3AxID49IDB4RDgwMCAmJiBjcDEgPD0gMHhEQkZGICYmIGNwMiA+PSAweERDMDAgJiYgY3AyIDw9IDB4REZGRikge1xyXG4gICAgICByZXR1cm4gY2ggKyBwZWVrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoO1xyXG4gIH0sXHJcblxyXG4gIGlzRXhwT3BlcmF0b3I6IGZ1bmN0aW9uKGNoKSB7XHJcbiAgICByZXR1cm4gKGNoID09PSAnLScgfHwgY2ggPT09ICcrJyB8fCB0aGlzLmlzTnVtYmVyKGNoKSk7XHJcbiAgfSxcclxuXHJcbiAgdGhyb3dFcnJvcjogZnVuY3Rpb24oZXJyb3IsIHN0YXJ0LCBlbmQpIHtcclxuICAgIGVuZCA9IGVuZCB8fCB0aGlzLmluZGV4O1xyXG4gICAgdmFyIGNvbFN0ciA9IChpc0RlZmluZWQoc3RhcnQpXHJcbiAgICAgICAgICAgID8gJ3MgJyArIHN0YXJ0ICsgICctJyArIHRoaXMuaW5kZXggKyAnIFsnICsgdGhpcy50ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKSArICddJ1xyXG4gICAgICAgICAgICA6ICcgJyArIGVuZCk7XHJcbiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2xleGVycicsICdMZXhlciBFcnJvcjogezB9IGF0IGNvbHVtbnsxfSBpbiBleHByZXNzaW9uIFt7Mn1dLicsXHJcbiAgICAgICAgZXJyb3IsIGNvbFN0ciwgdGhpcy50ZXh0KTtcclxuICB9LFxyXG5cclxuICByZWFkTnVtYmVyOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBudW1iZXIgPSAnJztcclxuICAgIHZhciBzdGFydCA9IHRoaXMuaW5kZXg7XHJcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcclxuICAgICAgdmFyIGNoID0gbG93ZXJjYXNlKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO1xyXG4gICAgICBpZiAoY2ggPT0gJy4nIHx8IHRoaXMuaXNOdW1iZXIoY2gpKSB7XHJcbiAgICAgICAgbnVtYmVyICs9IGNoO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBwZWVrQ2ggPSB0aGlzLnBlZWsoKTtcclxuICAgICAgICBpZiAoY2ggPT0gJ2UnICYmIHRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKSB7XHJcbiAgICAgICAgICBudW1iZXIgKz0gY2g7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwT3BlcmF0b3IoY2gpICYmXHJcbiAgICAgICAgICAgIHBlZWtDaCAmJiB0aGlzLmlzTnVtYmVyKHBlZWtDaCkgJiZcclxuICAgICAgICAgICAgbnVtYmVyLmNoYXJBdChudW1iZXIubGVuZ3RoIC0gMSkgPT0gJ2UnKSB7XHJcbiAgICAgICAgICBudW1iZXIgKz0gY2g7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwT3BlcmF0b3IoY2gpICYmXHJcbiAgICAgICAgICAgICghcGVla0NoIHx8ICF0aGlzLmlzTnVtYmVyKHBlZWtDaCkpICYmXHJcbiAgICAgICAgICAgIG51bWJlci5jaGFyQXQobnVtYmVyLmxlbmd0aCAtIDEpID09ICdlJykge1xyXG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIGV4cG9uZW50Jyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICB9XHJcbiAgICB0aGlzLnRva2Vucy5wdXNoKHtcclxuICAgICAgaW5kZXg6IHN0YXJ0LFxyXG4gICAgICB0ZXh0OiBudW1iZXIsXHJcbiAgICAgIGNvbnN0YW50OiB0cnVlLFxyXG4gICAgICB2YWx1ZTogTnVtYmVyKG51bWJlcilcclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gIHJlYWRJZGVudDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xyXG4gICAgdGhpcy5pbmRleCArPSB0aGlzLnBlZWtNdWx0aWNoYXIoKS5sZW5ndGg7XHJcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcclxuICAgICAgdmFyIGNoID0gdGhpcy5wZWVrTXVsdGljaGFyKCk7XHJcbiAgICAgIGlmICghdGhpcy5pc0lkZW50aWZpZXJDb250aW51ZShjaCkpIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmluZGV4ICs9IGNoLmxlbmd0aDtcclxuICAgIH1cclxuICAgIHRoaXMudG9rZW5zLnB1c2goe1xyXG4gICAgICBpbmRleDogc3RhcnQsXHJcbiAgICAgIHRleHQ6IHRoaXMudGV4dC5zbGljZShzdGFydCwgdGhpcy5pbmRleCksXHJcbiAgICAgIGlkZW50aWZpZXI6IHRydWVcclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gIHJlYWRTdHJpbmc6IGZ1bmN0aW9uKHF1b3RlKSB7XHJcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xyXG4gICAgdGhpcy5pbmRleCsrO1xyXG4gICAgdmFyIHN0cmluZyA9ICcnO1xyXG4gICAgdmFyIHJhd1N0cmluZyA9IHF1b3RlO1xyXG4gICAgdmFyIGVzY2FwZSA9IGZhbHNlO1xyXG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XHJcbiAgICAgIHZhciBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XHJcbiAgICAgIHJhd1N0cmluZyArPSBjaDtcclxuICAgICAgaWYgKGVzY2FwZSkge1xyXG4gICAgICAgIGlmIChjaCA9PT0gJ3UnKSB7XHJcbiAgICAgICAgICB2YXIgaGV4ID0gdGhpcy50ZXh0LnN1YnN0cmluZyh0aGlzLmluZGV4ICsgMSwgdGhpcy5pbmRleCArIDUpO1xyXG4gICAgICAgICAgaWYgKCFoZXgubWF0Y2goL1tcXGRhLWZdezR9L2kpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignSW52YWxpZCB1bmljb2RlIGVzY2FwZSBbXFxcXHUnICsgaGV4ICsgJ10nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuaW5kZXggKz0gNDtcclxuICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGhleCwgMTYpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIHJlcCA9IEVTQ0FQRVtjaF07XHJcbiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyAocmVwIHx8IGNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXNjYXBlID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXFxcJykge1xyXG4gICAgICAgIGVzY2FwZSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoY2ggPT09IHF1b3RlKSB7XHJcbiAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xyXG4gICAgICAgICAgaW5kZXg6IHN0YXJ0LFxyXG4gICAgICAgICAgdGV4dDogcmF3U3RyaW5nLFxyXG4gICAgICAgICAgY29uc3RhbnQ6IHRydWUsXHJcbiAgICAgICAgICB2YWx1ZTogc3RyaW5nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN0cmluZyArPSBjaDtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICB9XHJcbiAgICB0aGlzLnRocm93RXJyb3IoJ1VudGVybWluYXRlZCBxdW90ZScsIHN0YXJ0KTtcclxuICB9XHJcbn07XHJcblxyXG52YXIgQVNUID0gZnVuY3Rpb24obGV4ZXIsIG9wdGlvbnMpIHtcclxuICB0aGlzLmxleGVyID0gbGV4ZXI7XHJcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxufTtcclxuXHJcbkFTVC5Qcm9ncmFtID0gJ1Byb2dyYW0nO1xyXG5BU1QuRXhwcmVzc2lvblN0YXRlbWVudCA9ICdFeHByZXNzaW9uU3RhdGVtZW50JztcclxuQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uID0gJ0Fzc2lnbm1lbnRFeHByZXNzaW9uJztcclxuQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbiA9ICdDb25kaXRpb25hbEV4cHJlc3Npb24nO1xyXG5BU1QuTG9naWNhbEV4cHJlc3Npb24gPSAnTG9naWNhbEV4cHJlc3Npb24nO1xyXG5BU1QuQmluYXJ5RXhwcmVzc2lvbiA9ICdCaW5hcnlFeHByZXNzaW9uJztcclxuQVNULlVuYXJ5RXhwcmVzc2lvbiA9ICdVbmFyeUV4cHJlc3Npb24nO1xyXG5BU1QuQ2FsbEV4cHJlc3Npb24gPSAnQ2FsbEV4cHJlc3Npb24nO1xyXG5BU1QuTWVtYmVyRXhwcmVzc2lvbiA9ICdNZW1iZXJFeHByZXNzaW9uJztcclxuQVNULklkZW50aWZpZXIgPSAnSWRlbnRpZmllcic7XHJcbkFTVC5MaXRlcmFsID0gJ0xpdGVyYWwnO1xyXG5BU1QuQXJyYXlFeHByZXNzaW9uID0gJ0FycmF5RXhwcmVzc2lvbic7XHJcbkFTVC5Qcm9wZXJ0eSA9ICdQcm9wZXJ0eSc7XHJcbkFTVC5PYmplY3RFeHByZXNzaW9uID0gJ09iamVjdEV4cHJlc3Npb24nO1xyXG5BU1QuVGhpc0V4cHJlc3Npb24gPSAnVGhpc0V4cHJlc3Npb24nO1xyXG5BU1QuTG9jYWxzRXhwcmVzc2lvbiA9ICdMb2NhbHNFeHByZXNzaW9uJztcclxuXHJcbi8vIEludGVybmFsIHVzZSBvbmx5XHJcbkFTVC5OR1ZhbHVlUGFyYW1ldGVyID0gJ05HVmFsdWVQYXJhbWV0ZXInO1xyXG5cclxuQVNULnByb3RvdHlwZSA9IHtcclxuICBhc3Q6IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICB0aGlzLnRva2VucyA9IHRoaXMubGV4ZXIubGV4KHRleHQpO1xyXG5cclxuICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvZ3JhbSgpO1xyXG5cclxuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggIT09IDApIHtcclxuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyBhbiB1bmV4cGVjdGVkIHRva2VuJywgdGhpcy50b2tlbnNbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9LFxyXG5cclxuICBwcm9ncmFtOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBib2R5ID0gW107XHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID4gMCAmJiAhdGhpcy5wZWVrKCd9JywgJyknLCAnOycsICddJykpXHJcbiAgICAgICAgYm9keS5wdXNoKHRoaXMuZXhwcmVzc2lvblN0YXRlbWVudCgpKTtcclxuICAgICAgaWYgKCF0aGlzLmV4cGVjdCgnOycpKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogQVNULlByb2dyYW0sIGJvZHk6IGJvZHl9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZXhwcmVzc2lvblN0YXRlbWVudDogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4geyB0eXBlOiBBU1QuRXhwcmVzc2lvblN0YXRlbWVudCwgZXhwcmVzc2lvbjogdGhpcy5maWx0ZXJDaGFpbigpIH07XHJcbiAgfSxcclxuXHJcbiAgZmlsdGVyQ2hhaW46IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGxlZnQgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgIHZhciB0b2tlbjtcclxuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnfCcpKSkge1xyXG4gICAgICBsZWZ0ID0gdGhpcy5maWx0ZXIobGVmdCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVmdDtcclxuICB9LFxyXG5cclxuICBleHByZXNzaW9uOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLmFzc2lnbm1lbnQoKTtcclxuICB9LFxyXG5cclxuICBhc3NpZ25tZW50OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciByZXN1bHQgPSB0aGlzLnRlcm5hcnkoKTtcclxuICAgIGlmICh0aGlzLmV4cGVjdCgnPScpKSB7XHJcbiAgICAgIHJlc3VsdCA9IHsgdHlwZTogQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uLCBsZWZ0OiByZXN1bHQsIHJpZ2h0OiB0aGlzLmFzc2lnbm1lbnQoKSwgb3BlcmF0b3I6ICc9J307XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH0sXHJcblxyXG4gIHRlcm5hcnk6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRlc3QgPSB0aGlzLmxvZ2ljYWxPUigpO1xyXG4gICAgdmFyIGFsdGVybmF0ZTtcclxuICAgIHZhciBjb25zZXF1ZW50O1xyXG4gICAgaWYgKHRoaXMuZXhwZWN0KCc/JykpIHtcclxuICAgICAgYWx0ZXJuYXRlID0gdGhpcy5leHByZXNzaW9uKCk7XHJcbiAgICAgIGlmICh0aGlzLmNvbnN1bWUoJzonKSkge1xyXG4gICAgICAgIGNvbnNlcXVlbnQgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uLCB0ZXN0OiB0ZXN0LCBhbHRlcm5hdGU6IGFsdGVybmF0ZSwgY29uc2VxdWVudDogY29uc2VxdWVudH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0ZXN0O1xyXG4gIH0sXHJcblxyXG4gIGxvZ2ljYWxPUjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbGVmdCA9IHRoaXMubG9naWNhbEFORCgpO1xyXG4gICAgd2hpbGUgKHRoaXMuZXhwZWN0KCd8fCcpKSB7XHJcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5Mb2dpY2FsRXhwcmVzc2lvbiwgb3BlcmF0b3I6ICd8fCcsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLmxvZ2ljYWxBTkQoKSB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZnQ7XHJcbiAgfSxcclxuXHJcbiAgbG9naWNhbEFORDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbGVmdCA9IHRoaXMuZXF1YWxpdHkoKTtcclxuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnJiYnKSkge1xyXG4gICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuTG9naWNhbEV4cHJlc3Npb24sIG9wZXJhdG9yOiAnJiYnLCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5lcXVhbGl0eSgpfTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWZ0O1xyXG4gIH0sXHJcblxyXG4gIGVxdWFsaXR5OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBsZWZ0ID0gdGhpcy5yZWxhdGlvbmFsKCk7XHJcbiAgICB2YXIgdG9rZW47XHJcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJz09JywnIT0nLCc9PT0nLCchPT0nKSkpIHtcclxuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5yZWxhdGlvbmFsKCkgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWZ0O1xyXG4gIH0sXHJcblxyXG4gIHJlbGF0aW9uYWw6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGxlZnQgPSB0aGlzLmFkZGl0aXZlKCk7XHJcbiAgICB2YXIgdG9rZW47XHJcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJzwnLCAnPicsICc8PScsICc+PScpKSkge1xyXG4gICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuQmluYXJ5RXhwcmVzc2lvbiwgb3BlcmF0b3I6IHRva2VuLnRleHQsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLmFkZGl0aXZlKCkgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWZ0O1xyXG4gIH0sXHJcblxyXG4gIGFkZGl0aXZlOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBsZWZ0ID0gdGhpcy5tdWx0aXBsaWNhdGl2ZSgpO1xyXG4gICAgdmFyIHRva2VuO1xyXG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcrJywnLScpKSkge1xyXG4gICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuQmluYXJ5RXhwcmVzc2lvbiwgb3BlcmF0b3I6IHRva2VuLnRleHQsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLm11bHRpcGxpY2F0aXZlKCkgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWZ0O1xyXG4gIH0sXHJcblxyXG4gIG11bHRpcGxpY2F0aXZlOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBsZWZ0ID0gdGhpcy51bmFyeSgpO1xyXG4gICAgdmFyIHRva2VuO1xyXG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcqJywnLycsJyUnKSkpIHtcclxuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy51bmFyeSgpIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVmdDtcclxuICB9LFxyXG5cclxuICB1bmFyeTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdG9rZW47XHJcbiAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJysnLCAnLScsICchJykpKSB7XHJcbiAgICAgIHJldHVybiB7IHR5cGU6IEFTVC5VbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBwcmVmaXg6IHRydWUsIGFyZ3VtZW50OiB0aGlzLnVuYXJ5KCkgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnByaW1hcnkoKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBwcmltYXJ5OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBwcmltYXJ5O1xyXG4gICAgaWYgKHRoaXMuZXhwZWN0KCcoJykpIHtcclxuICAgICAgcHJpbWFyeSA9IHRoaXMuZmlsdGVyQ2hhaW4oKTtcclxuICAgICAgdGhpcy5jb25zdW1lKCcpJyk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCdbJykpIHtcclxuICAgICAgcHJpbWFyeSA9IHRoaXMuYXJyYXlEZWNsYXJhdGlvbigpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmV4cGVjdCgneycpKSB7XHJcbiAgICAgIHByaW1hcnkgPSB0aGlzLm9iamVjdCgpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnNlbGZSZWZlcmVudGlhbC5oYXNPd25Qcm9wZXJ0eSh0aGlzLnBlZWsoKS50ZXh0KSkge1xyXG4gICAgICBwcmltYXJ5ID0gY29weSh0aGlzLnNlbGZSZWZlcmVudGlhbFt0aGlzLmNvbnN1bWUoKS50ZXh0XSk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5saXRlcmFscy5oYXNPd25Qcm9wZXJ0eSh0aGlzLnBlZWsoKS50ZXh0KSkge1xyXG4gICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTGl0ZXJhbCwgdmFsdWU6IHRoaXMub3B0aW9ucy5saXRlcmFsc1t0aGlzLmNvbnN1bWUoKS50ZXh0XX07XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygpLmlkZW50aWZpZXIpIHtcclxuICAgICAgcHJpbWFyeSA9IHRoaXMuaWRlbnRpZmllcigpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnBlZWsoKS5jb25zdGFudCkge1xyXG4gICAgICBwcmltYXJ5ID0gdGhpcy5jb25zdGFudCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50aHJvd0Vycm9yKCdub3QgYSBwcmltYXJ5IGV4cHJlc3Npb24nLCB0aGlzLnBlZWsoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG5leHQ7XHJcbiAgICB3aGlsZSAoKG5leHQgPSB0aGlzLmV4cGVjdCgnKCcsICdbJywgJy4nKSkpIHtcclxuICAgICAgaWYgKG5leHQudGV4dCA9PT0gJygnKSB7XHJcbiAgICAgICAgcHJpbWFyeSA9IHt0eXBlOiBBU1QuQ2FsbEV4cHJlc3Npb24sIGNhbGxlZTogcHJpbWFyeSwgYXJndW1lbnRzOiB0aGlzLnBhcnNlQXJndW1lbnRzKCkgfTtcclxuICAgICAgICB0aGlzLmNvbnN1bWUoJyknKTtcclxuICAgICAgfSBlbHNlIGlmIChuZXh0LnRleHQgPT09ICdbJykge1xyXG4gICAgICAgIHByaW1hcnkgPSB7IHR5cGU6IEFTVC5NZW1iZXJFeHByZXNzaW9uLCBvYmplY3Q6IHByaW1hcnksIHByb3BlcnR5OiB0aGlzLmV4cHJlc3Npb24oKSwgY29tcHV0ZWQ6IHRydWUgfTtcclxuICAgICAgICB0aGlzLmNvbnN1bWUoJ10nKTtcclxuICAgICAgfSBlbHNlIGlmIChuZXh0LnRleHQgPT09ICcuJykge1xyXG4gICAgICAgIHByaW1hcnkgPSB7IHR5cGU6IEFTVC5NZW1iZXJFeHByZXNzaW9uLCBvYmplY3Q6IHByaW1hcnksIHByb3BlcnR5OiB0aGlzLmlkZW50aWZpZXIoKSwgY29tcHV0ZWQ6IGZhbHNlIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJTVBPU1NJQkxFJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwcmltYXJ5O1xyXG4gIH0sXHJcblxyXG4gIGZpbHRlcjogZnVuY3Rpb24oYmFzZUV4cHJlc3Npb24pIHtcclxuICAgIHZhciBhcmdzID0gW2Jhc2VFeHByZXNzaW9uXTtcclxuICAgIHZhciByZXN1bHQgPSB7dHlwZTogQVNULkNhbGxFeHByZXNzaW9uLCBjYWxsZWU6IHRoaXMuaWRlbnRpZmllcigpLCBhcmd1bWVudHM6IGFyZ3MsIGZpbHRlcjogdHJ1ZX07XHJcblxyXG4gICAgd2hpbGUgKHRoaXMuZXhwZWN0KCc6JykpIHtcclxuICAgICAgYXJncy5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH0sXHJcblxyXG4gIHBhcnNlQXJndW1lbnRzOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnKScpIHtcclxuICAgICAgZG8ge1xyXG4gICAgICAgIGFyZ3MucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XHJcbiAgICAgIH0gd2hpbGUgKHRoaXMuZXhwZWN0KCcsJykpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyZ3M7XHJcbiAgfSxcclxuXHJcbiAgaWRlbnRpZmllcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdG9rZW4gPSB0aGlzLmNvbnN1bWUoKTtcclxuICAgIGlmICghdG9rZW4uaWRlbnRpZmllcikge1xyXG4gICAgICB0aGlzLnRocm93RXJyb3IoJ2lzIG5vdCBhIHZhbGlkIGlkZW50aWZpZXInLCB0b2tlbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geyB0eXBlOiBBU1QuSWRlbnRpZmllciwgbmFtZTogdG9rZW4udGV4dCB9O1xyXG4gIH0sXHJcblxyXG4gIGNvbnN0YW50OiBmdW5jdGlvbigpIHtcclxuICAgIC8vIFRPRE8gY2hlY2sgdGhhdCBpdCBpcyBhIGNvbnN0YW50XHJcbiAgICByZXR1cm4geyB0eXBlOiBBU1QuTGl0ZXJhbCwgdmFsdWU6IHRoaXMuY29uc3VtZSgpLnZhbHVlIH07XHJcbiAgfSxcclxuXHJcbiAgYXJyYXlEZWNsYXJhdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZWxlbWVudHMgPSBbXTtcclxuICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICddJykge1xyXG4gICAgICBkbyB7XHJcbiAgICAgICAgaWYgKHRoaXMucGVlaygnXScpKSB7XHJcbiAgICAgICAgICAvLyBTdXBwb3J0IHRyYWlsaW5nIGNvbW1hcyBwZXIgRVM1LjEuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxlbWVudHMucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XHJcbiAgICAgIH0gd2hpbGUgKHRoaXMuZXhwZWN0KCcsJykpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb25zdW1lKCddJyk7XHJcblxyXG4gICAgcmV0dXJuIHsgdHlwZTogQVNULkFycmF5RXhwcmVzc2lvbiwgZWxlbWVudHM6IGVsZW1lbnRzIH07XHJcbiAgfSxcclxuXHJcbiAgb2JqZWN0OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBwcm9wZXJ0aWVzID0gW10sIHByb3BlcnR5O1xyXG4gICAgaWYgKHRoaXMucGVla1Rva2VuKCkudGV4dCAhPT0gJ30nKSB7XHJcbiAgICAgIGRvIHtcclxuICAgICAgICBpZiAodGhpcy5wZWVrKCd9JykpIHtcclxuICAgICAgICAgIC8vIFN1cHBvcnQgdHJhaWxpbmcgY29tbWFzIHBlciBFUzUuMS5cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm9wZXJ0eSA9IHt0eXBlOiBBU1QuUHJvcGVydHksIGtpbmQ6ICdpbml0J307XHJcbiAgICAgICAgaWYgKHRoaXMucGVlaygpLmNvbnN0YW50KSB7XHJcbiAgICAgICAgICBwcm9wZXJ0eS5rZXkgPSB0aGlzLmNvbnN0YW50KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBlZWsoKS5pZGVudGlmaWVyKSB7XHJcbiAgICAgICAgICBwcm9wZXJ0eS5rZXkgPSB0aGlzLmlkZW50aWZpZXIoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKFwiaW52YWxpZCBrZXlcIiwgdGhpcy5wZWVrKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbnN1bWUoJzonKTtcclxuICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IHRoaXMuZXhwcmVzc2lvbigpO1xyXG4gICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XHJcbiAgICAgIH0gd2hpbGUgKHRoaXMuZXhwZWN0KCcsJykpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb25zdW1lKCd9Jyk7XHJcblxyXG4gICAgcmV0dXJuIHt0eXBlOiBBU1QuT2JqZWN0RXhwcmVzc2lvbiwgcHJvcGVydGllczogcHJvcGVydGllcyB9O1xyXG4gIH0sXHJcblxyXG4gIHRocm93RXJyb3I6IGZ1bmN0aW9uKG1zZywgdG9rZW4pIHtcclxuICAgIHRocm93ICRwYXJzZU1pbkVycignc3ludGF4JyxcclxuICAgICAgICAnU3ludGF4IEVycm9yOiBUb2tlbiBcXCd7MH1cXCcgezF9IGF0IGNvbHVtbiB7Mn0gb2YgdGhlIGV4cHJlc3Npb24gW3szfV0gc3RhcnRpbmcgYXQgW3s0fV0uJyxcclxuICAgICAgICAgIHRva2VuLnRleHQsIG1zZywgKHRva2VuLmluZGV4ICsgMSksIHRoaXMudGV4dCwgdGhpcy50ZXh0LnN1YnN0cmluZyh0b2tlbi5pbmRleCkpO1xyXG4gIH0sXHJcblxyXG4gIGNvbnN1bWU6IGZ1bmN0aW9uKGUxKSB7XHJcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycigndWVvZScsICdVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uOiB7MH0nLCB0aGlzLnRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0b2tlbiA9IHRoaXMuZXhwZWN0KGUxKTtcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWycgKyBlMSArICddJywgdGhpcy5wZWVrKCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRva2VuO1xyXG4gIH0sXHJcblxyXG4gIHBlZWtUb2tlbjogZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycigndWVvZScsICdVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uOiB7MH0nLCB0aGlzLnRleHQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMudG9rZW5zWzBdO1xyXG4gIH0sXHJcblxyXG4gIHBlZWs6IGZ1bmN0aW9uKGUxLCBlMiwgZTMsIGU0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5wZWVrQWhlYWQoMCwgZTEsIGUyLCBlMywgZTQpO1xyXG4gIH0sXHJcblxyXG4gIHBlZWtBaGVhZDogZnVuY3Rpb24oaSwgZTEsIGUyLCBlMywgZTQpIHtcclxuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPiBpKSB7XHJcbiAgICAgIHZhciB0b2tlbiA9IHRoaXMudG9rZW5zW2ldO1xyXG4gICAgICB2YXIgdCA9IHRva2VuLnRleHQ7XHJcbiAgICAgIGlmICh0ID09PSBlMSB8fCB0ID09PSBlMiB8fCB0ID09PSBlMyB8fCB0ID09PSBlNCB8fFxyXG4gICAgICAgICAgKCFlMSAmJiAhZTIgJiYgIWUzICYmICFlNCkpIHtcclxuICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9LFxyXG5cclxuICBleHBlY3Q6IGZ1bmN0aW9uKGUxLCBlMiwgZTMsIGU0KSB7XHJcbiAgICB2YXIgdG9rZW4gPSB0aGlzLnBlZWsoZTEsIGUyLCBlMywgZTQpO1xyXG4gICAgaWYgKHRva2VuKSB7XHJcbiAgICAgIHRoaXMudG9rZW5zLnNoaWZ0KCk7XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9LFxyXG5cclxuICBzZWxmUmVmZXJlbnRpYWw6IHtcclxuICAgICd0aGlzJzoge3R5cGU6IEFTVC5UaGlzRXhwcmVzc2lvbiB9LFxyXG4gICAgJyRsb2NhbHMnOiB7dHlwZTogQVNULkxvY2Fsc0V4cHJlc3Npb24gfVxyXG4gIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGlmRGVmaW5lZCh2LCBkKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiB2ICE9PSAndW5kZWZpbmVkJyA/IHYgOiBkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwbHVzRm4obCwgcikge1xyXG4gIGlmICh0eXBlb2YgbCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiByO1xyXG4gIGlmICh0eXBlb2YgciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBsO1xyXG4gIHJldHVybiBsICsgcjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNTdGF0ZWxlc3MoJGZpbHRlciwgZmlsdGVyTmFtZSkge1xyXG4gIHZhciBmbiA9ICRmaWx0ZXIoZmlsdGVyTmFtZSk7XHJcbiAgcmV0dXJuICFmbi4kc3RhdGVmdWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LCAkZmlsdGVyKSB7XHJcbiAgdmFyIGFsbENvbnN0YW50cztcclxuICB2YXIgYXJnc1RvV2F0Y2g7XHJcbiAgc3dpdGNoIChhc3QudHlwZSkge1xyXG4gIGNhc2UgQVNULlByb2dyYW06XHJcbiAgICBhbGxDb25zdGFudHMgPSB0cnVlO1xyXG4gICAgZm9yRWFjaChhc3QuYm9keSwgZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGV4cHIuZXhwcmVzc2lvbiwgJGZpbHRlcik7XHJcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBleHByLmV4cHJlc3Npb24uY29uc3RhbnQ7XHJcbiAgICB9KTtcclxuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULkxpdGVyYWw6XHJcbiAgICBhc3QuY29uc3RhbnQgPSB0cnVlO1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBbXTtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULlVuYXJ5RXhwcmVzc2lvbjpcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmFyZ3VtZW50LCAkZmlsdGVyKTtcclxuICAgIGFzdC5jb25zdGFudCA9IGFzdC5hcmd1bWVudC5jb25zdGFudDtcclxuICAgIGFzdC50b1dhdGNoID0gYXN0LmFyZ3VtZW50LnRvV2F0Y2g7XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5CaW5hcnlFeHByZXNzaW9uOlxyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QubGVmdCwgJGZpbHRlcik7XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlcik7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QubGVmdC5jb25zdGFudCAmJiBhc3QucmlnaHQuY29uc3RhbnQ7XHJcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5sZWZ0LnRvV2F0Y2guY29uY2F0KGFzdC5yaWdodC50b1dhdGNoKTtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULkxvZ2ljYWxFeHByZXNzaW9uOlxyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QubGVmdCwgJGZpbHRlcik7XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlcik7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QubGVmdC5jb25zdGFudCAmJiBhc3QucmlnaHQuY29uc3RhbnQ7XHJcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5jb25zdGFudCA/IFtdIDogW2FzdF07XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb246XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC50ZXN0LCAkZmlsdGVyKTtcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmFsdGVybmF0ZSwgJGZpbHRlcik7XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5jb25zZXF1ZW50LCAkZmlsdGVyKTtcclxuICAgIGFzdC5jb25zdGFudCA9IGFzdC50ZXN0LmNvbnN0YW50ICYmIGFzdC5hbHRlcm5hdGUuY29uc3RhbnQgJiYgYXN0LmNvbnNlcXVlbnQuY29uc3RhbnQ7XHJcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5jb25zdGFudCA/IFtdIDogW2FzdF07XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5JZGVudGlmaWVyOlxyXG4gICAgYXN0LmNvbnN0YW50ID0gZmFsc2U7XHJcbiAgICBhc3QudG9XYXRjaCA9IFthc3RdO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuTWVtYmVyRXhwcmVzc2lvbjpcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0Lm9iamVjdCwgJGZpbHRlcik7XHJcbiAgICBpZiAoYXN0LmNvbXB1dGVkKSB7XHJcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnByb3BlcnR5LCAkZmlsdGVyKTtcclxuICAgIH1cclxuICAgIGFzdC5jb25zdGFudCA9IGFzdC5vYmplY3QuY29uc3RhbnQgJiYgKCFhc3QuY29tcHV0ZWQgfHwgYXN0LnByb3BlcnR5LmNvbnN0YW50KTtcclxuICAgIGFzdC50b1dhdGNoID0gW2FzdF07XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5DYWxsRXhwcmVzc2lvbjpcclxuICAgIGFsbENvbnN0YW50cyA9IGFzdC5maWx0ZXIgPyBpc1N0YXRlbGVzcygkZmlsdGVyLCBhc3QuY2FsbGVlLm5hbWUpIDogZmFsc2U7XHJcbiAgICBhcmdzVG9XYXRjaCA9IFtdO1xyXG4gICAgZm9yRWFjaChhc3QuYXJndW1lbnRzLCBmdW5jdGlvbihleHByKSB7XHJcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoZXhwciwgJGZpbHRlcik7XHJcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBleHByLmNvbnN0YW50O1xyXG4gICAgICBpZiAoIWV4cHIuY29uc3RhbnQpIHtcclxuICAgICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBleHByLnRvV2F0Y2gpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcclxuICAgIGFzdC50b1dhdGNoID0gYXN0LmZpbHRlciAmJiBpc1N0YXRlbGVzcygkZmlsdGVyLCBhc3QuY2FsbGVlLm5hbWUpID8gYXJnc1RvV2F0Y2ggOiBbYXN0XTtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uOlxyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QubGVmdCwgJGZpbHRlcik7XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlcik7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QubGVmdC5jb25zdGFudCAmJiBhc3QucmlnaHQuY29uc3RhbnQ7XHJcbiAgICBhc3QudG9XYXRjaCA9IFthc3RdO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxyXG4gICAgYWxsQ29uc3RhbnRzID0gdHJ1ZTtcclxuICAgIGFyZ3NUb1dhdGNoID0gW107XHJcbiAgICBmb3JFYWNoKGFzdC5lbGVtZW50cywgZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGV4cHIsICRmaWx0ZXIpO1xyXG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgZXhwci5jb25zdGFudDtcclxuICAgICAgaWYgKCFleHByLmNvbnN0YW50KSB7XHJcbiAgICAgICAgYXJnc1RvV2F0Y2gucHVzaC5hcHBseShhcmdzVG9XYXRjaCwgZXhwci50b1dhdGNoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhbGxDb25zdGFudHM7XHJcbiAgICBhc3QudG9XYXRjaCA9IGFyZ3NUb1dhdGNoO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuT2JqZWN0RXhwcmVzc2lvbjpcclxuICAgIGFsbENvbnN0YW50cyA9IHRydWU7XHJcbiAgICBhcmdzVG9XYXRjaCA9IFtdO1xyXG4gICAgZm9yRWFjaChhc3QucHJvcGVydGllcywgZnVuY3Rpb24ocHJvcGVydHkpIHtcclxuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhwcm9wZXJ0eS52YWx1ZSwgJGZpbHRlcik7XHJcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBwcm9wZXJ0eS52YWx1ZS5jb25zdGFudDtcclxuICAgICAgaWYgKCFwcm9wZXJ0eS52YWx1ZS5jb25zdGFudCkge1xyXG4gICAgICAgIGFyZ3NUb1dhdGNoLnB1c2guYXBwbHkoYXJnc1RvV2F0Y2gsIHByb3BlcnR5LnZhbHVlLnRvV2F0Y2gpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcclxuICAgIGFzdC50b1dhdGNoID0gYXJnc1RvV2F0Y2g7XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcclxuICAgIGFzdC5jb25zdGFudCA9IGZhbHNlO1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBbXTtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULkxvY2Fsc0V4cHJlc3Npb246XHJcbiAgICBhc3QuY29uc3RhbnQgPSBmYWxzZTtcclxuICAgIGFzdC50b1dhdGNoID0gW107XHJcbiAgICBicmVhaztcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldElucHV0cyhib2R5KSB7XHJcbiAgaWYgKGJvZHkubGVuZ3RoICE9IDEpIHJldHVybjtcclxuICB2YXIgbGFzdEV4cHJlc3Npb24gPSBib2R5WzBdLmV4cHJlc3Npb247XHJcbiAgdmFyIGNhbmRpZGF0ZSA9IGxhc3RFeHByZXNzaW9uLnRvV2F0Y2g7XHJcbiAgaWYgKGNhbmRpZGF0ZS5sZW5ndGggIT09IDEpIHJldHVybiBjYW5kaWRhdGU7XHJcbiAgcmV0dXJuIGNhbmRpZGF0ZVswXSAhPT0gbGFzdEV4cHJlc3Npb24gPyBjYW5kaWRhdGUgOiB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQXNzaWduYWJsZShhc3QpIHtcclxuICByZXR1cm4gYXN0LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyIHx8IGFzdC50eXBlID09PSBBU1QuTWVtYmVyRXhwcmVzc2lvbjtcclxufVxyXG5cclxuZnVuY3Rpb24gYXNzaWduYWJsZUFTVChhc3QpIHtcclxuICBpZiAoYXN0LmJvZHkubGVuZ3RoID09PSAxICYmIGlzQXNzaWduYWJsZShhc3QuYm9keVswXS5leHByZXNzaW9uKSkge1xyXG4gICAgcmV0dXJuIHt0eXBlOiBBU1QuQXNzaWdubWVudEV4cHJlc3Npb24sIGxlZnQ6IGFzdC5ib2R5WzBdLmV4cHJlc3Npb24sIHJpZ2h0OiB7dHlwZTogQVNULk5HVmFsdWVQYXJhbWV0ZXJ9LCBvcGVyYXRvcjogJz0nfTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzTGl0ZXJhbChhc3QpIHtcclxuICByZXR1cm4gYXN0LmJvZHkubGVuZ3RoID09PSAwIHx8XHJcbiAgICAgIGFzdC5ib2R5Lmxlbmd0aCA9PT0gMSAmJiAoXHJcbiAgICAgIGFzdC5ib2R5WzBdLmV4cHJlc3Npb24udHlwZSA9PT0gQVNULkxpdGVyYWwgfHxcclxuICAgICAgYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlID09PSBBU1QuQXJyYXlFeHByZXNzaW9uIHx8XHJcbiAgICAgIGFzdC5ib2R5WzBdLmV4cHJlc3Npb24udHlwZSA9PT0gQVNULk9iamVjdEV4cHJlc3Npb24pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0NvbnN0YW50KGFzdCkge1xyXG4gIHJldHVybiBhc3QuY29uc3RhbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFTVENvbXBpbGVyKGFzdEJ1aWxkZXIsICRmaWx0ZXIpIHtcclxuICB0aGlzLmFzdEJ1aWxkZXIgPSBhc3RCdWlsZGVyO1xyXG4gIHRoaXMuJGZpbHRlciA9ICRmaWx0ZXI7XHJcbn1cclxuXHJcbkFTVENvbXBpbGVyLnByb3RvdHlwZSA9IHtcclxuICBjb21waWxlOiBmdW5jdGlvbihleHByZXNzaW9uLCBleHBlbnNpdmVDaGVja3MpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBhc3QgPSB0aGlzLmFzdEJ1aWxkZXIuYXN0KGV4cHJlc3Npb24pO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgbmV4dElkOiAwLFxyXG4gICAgICBmaWx0ZXJzOiB7fSxcclxuICAgICAgZXhwZW5zaXZlQ2hlY2tzOiBleHBlbnNpdmVDaGVja3MsXHJcbiAgICAgIGZuOiB7dmFyczogW10sIGJvZHk6IFtdLCBvd246IHt9fSxcclxuICAgICAgYXNzaWduOiB7dmFyczogW10sIGJvZHk6IFtdLCBvd246IHt9fSxcclxuICAgICAgaW5wdXRzOiBbXVxyXG4gICAgfTtcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LCBzZWxmLiRmaWx0ZXIpO1xyXG4gICAgdmFyIGV4dHJhID0gJyc7XHJcbiAgICB2YXIgYXNzaWduYWJsZTtcclxuICAgIHRoaXMuc3RhZ2UgPSAnYXNzaWduJztcclxuICAgIGlmICgoYXNzaWduYWJsZSA9IGFzc2lnbmFibGVBU1QoYXN0KSkpIHtcclxuICAgICAgdGhpcy5zdGF0ZS5jb21wdXRpbmcgPSAnYXNzaWduJztcclxuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIHRoaXMucmVjdXJzZShhc3NpZ25hYmxlLCByZXN1bHQpO1xyXG4gICAgICB0aGlzLnJldHVybl8ocmVzdWx0KTtcclxuICAgICAgZXh0cmEgPSAnZm4uYXNzaWduPScgKyB0aGlzLmdlbmVyYXRlRnVuY3Rpb24oJ2Fzc2lnbicsICdzLHYsbCcpO1xyXG4gICAgfVxyXG4gICAgdmFyIHRvV2F0Y2ggPSBnZXRJbnB1dHMoYXN0LmJvZHkpO1xyXG4gICAgc2VsZi5zdGFnZSA9ICdpbnB1dHMnO1xyXG4gICAgZm9yRWFjaCh0b1dhdGNoLCBmdW5jdGlvbih3YXRjaCwga2V5KSB7XHJcbiAgICAgIHZhciBmbktleSA9ICdmbicgKyBrZXk7XHJcbiAgICAgIHNlbGYuc3RhdGVbZm5LZXldID0ge3ZhcnM6IFtdLCBib2R5OiBbXSwgb3duOiB7fX07XHJcbiAgICAgIHNlbGYuc3RhdGUuY29tcHV0aW5nID0gZm5LZXk7XHJcbiAgICAgIHZhciBpbnRvSWQgPSBzZWxmLm5leHRJZCgpO1xyXG4gICAgICBzZWxmLnJlY3Vyc2Uod2F0Y2gsIGludG9JZCk7XHJcbiAgICAgIHNlbGYucmV0dXJuXyhpbnRvSWQpO1xyXG4gICAgICBzZWxmLnN0YXRlLmlucHV0cy5wdXNoKGZuS2V5KTtcclxuICAgICAgd2F0Y2gud2F0Y2hJZCA9IGtleTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5zdGF0ZS5jb21wdXRpbmcgPSAnZm4nO1xyXG4gICAgdGhpcy5zdGFnZSA9ICdtYWluJztcclxuICAgIHRoaXMucmVjdXJzZShhc3QpO1xyXG4gICAgdmFyIGZuU3RyaW5nID1cclxuICAgICAgLy8gVGhlIGJ1aWxkIGFuZCBtaW5pZmljYXRpb24gc3RlcHMgcmVtb3ZlIHRoZSBzdHJpbmcgXCJ1c2Ugc3RyaWN0XCIgZnJvbSB0aGUgY29kZSwgYnV0IHRoaXMgaXMgZG9uZSB1c2luZyBhIHJlZ2V4LlxyXG4gICAgICAvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgdGhpcyB1bnRpbCB3ZSBkbyBhIGJldHRlciBqb2IgYXQgb25seSByZW1vdmluZyB0aGUgcHJlZml4IG9ubHkgd2hlbiB3ZSBzaG91bGQuXHJcbiAgICAgICdcIicgKyB0aGlzLlVTRSArICcgJyArIHRoaXMuU1RSSUNUICsgJ1wiO1xcbicgK1xyXG4gICAgICB0aGlzLmZpbHRlclByZWZpeCgpICtcclxuICAgICAgJ3ZhciBmbj0nICsgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKCdmbicsICdzLGwsYSxpJykgK1xyXG4gICAgICBleHRyYSArXHJcbiAgICAgIHRoaXMud2F0Y2hGbnMoKSArXHJcbiAgICAgICdyZXR1cm4gZm47JztcclxuXHJcbiAgICAvKiBqc2hpbnQgLVcwNTQgKi9cclxuICAgIHZhciBmbiA9IChuZXcgRnVuY3Rpb24oJyRmaWx0ZXInLFxyXG4gICAgICAgICdlbnN1cmVTYWZlTWVtYmVyTmFtZScsXHJcbiAgICAgICAgJ2Vuc3VyZVNhZmVPYmplY3QnLFxyXG4gICAgICAgICdlbnN1cmVTYWZlRnVuY3Rpb24nLFxyXG4gICAgICAgICdnZXRTdHJpbmdWYWx1ZScsXHJcbiAgICAgICAgJ2Vuc3VyZVNhZmVBc3NpZ25Db250ZXh0JyxcclxuICAgICAgICAnaWZEZWZpbmVkJyxcclxuICAgICAgICAncGx1cycsXHJcbiAgICAgICAgJ3RleHQnLFxyXG4gICAgICAgIGZuU3RyaW5nKSkoXHJcbiAgICAgICAgICB0aGlzLiRmaWx0ZXIsXHJcbiAgICAgICAgICBlbnN1cmVTYWZlTWVtYmVyTmFtZSxcclxuICAgICAgICAgIGVuc3VyZVNhZmVPYmplY3QsXHJcbiAgICAgICAgICBlbnN1cmVTYWZlRnVuY3Rpb24sXHJcbiAgICAgICAgICBnZXRTdHJpbmdWYWx1ZSxcclxuICAgICAgICAgIGVuc3VyZVNhZmVBc3NpZ25Db250ZXh0LFxyXG4gICAgICAgICAgaWZEZWZpbmVkLFxyXG4gICAgICAgICAgcGx1c0ZuLFxyXG4gICAgICAgICAgZXhwcmVzc2lvbik7XHJcbiAgICAvKiBqc2hpbnQgK1cwNTQgKi9cclxuICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YWdlID0gdW5kZWZpbmVkO1xyXG4gICAgZm4ubGl0ZXJhbCA9IGlzTGl0ZXJhbChhc3QpO1xyXG4gICAgZm4uY29uc3RhbnQgPSBpc0NvbnN0YW50KGFzdCk7XHJcbiAgICByZXR1cm4gZm47XHJcbiAgfSxcclxuXHJcbiAgVVNFOiAndXNlJyxcclxuXHJcbiAgU1RSSUNUOiAnc3RyaWN0JyxcclxuXHJcbiAgd2F0Y2hGbnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgdmFyIGZucyA9IHRoaXMuc3RhdGUuaW5wdXRzO1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgcmVzdWx0LnB1c2goJ3ZhciAnICsgbmFtZSArICc9JyArIHNlbGYuZ2VuZXJhdGVGdW5jdGlvbihuYW1lLCAncycpKTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGZucy5sZW5ndGgpIHtcclxuICAgICAgcmVzdWx0LnB1c2goJ2ZuLmlucHV0cz1bJyArIGZucy5qb2luKCcsJykgKyAnXTsnKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XHJcbiAgfSxcclxuXHJcbiAgZ2VuZXJhdGVGdW5jdGlvbjogZnVuY3Rpb24obmFtZSwgcGFyYW1zKSB7XHJcbiAgICByZXR1cm4gJ2Z1bmN0aW9uKCcgKyBwYXJhbXMgKyAnKXsnICtcclxuICAgICAgICB0aGlzLnZhcnNQcmVmaXgobmFtZSkgK1xyXG4gICAgICAgIHRoaXMuYm9keShuYW1lKSArXHJcbiAgICAgICAgJ307JztcclxuICB9LFxyXG5cclxuICBmaWx0ZXJQcmVmaXg6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHBhcnRzID0gW107XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBmb3JFYWNoKHRoaXMuc3RhdGUuZmlsdGVycywgZnVuY3Rpb24oaWQsIGZpbHRlcikge1xyXG4gICAgICBwYXJ0cy5wdXNoKGlkICsgJz0kZmlsdGVyKCcgKyBzZWxmLmVzY2FwZShmaWx0ZXIpICsgJyknKTtcclxuICAgIH0pO1xyXG4gICAgaWYgKHBhcnRzLmxlbmd0aCkgcmV0dXJuICd2YXIgJyArIHBhcnRzLmpvaW4oJywnKSArICc7JztcclxuICAgIHJldHVybiAnJztcclxuICB9LFxyXG5cclxuICB2YXJzUHJlZml4OiBmdW5jdGlvbihzZWN0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVtzZWN0aW9uXS52YXJzLmxlbmd0aCA/ICd2YXIgJyArIHRoaXMuc3RhdGVbc2VjdGlvbl0udmFycy5qb2luKCcsJykgKyAnOycgOiAnJztcclxuICB9LFxyXG5cclxuICBib2R5OiBmdW5jdGlvbihzZWN0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVtzZWN0aW9uXS5ib2R5LmpvaW4oJycpO1xyXG4gIH0sXHJcblxyXG4gIHJlY3Vyc2U6IGZ1bmN0aW9uKGFzdCwgaW50b0lkLCBuYW1lSWQsIHJlY3Vyc2lvbkZuLCBjcmVhdGUsIHNraXBXYXRjaElkQ2hlY2spIHtcclxuICAgIHZhciBsZWZ0LCByaWdodCwgc2VsZiA9IHRoaXMsIGFyZ3MsIGV4cHJlc3Npb247XHJcbiAgICByZWN1cnNpb25GbiA9IHJlY3Vyc2lvbkZuIHx8IG5vb3A7XHJcbiAgICBpZiAoIXNraXBXYXRjaElkQ2hlY2sgJiYgaXNEZWZpbmVkKGFzdC53YXRjaElkKSkge1xyXG4gICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcclxuICAgICAgdGhpcy5pZl8oJ2knLFxyXG4gICAgICAgIHRoaXMubGF6eUFzc2lnbihpbnRvSWQsIHRoaXMuY29tcHV0ZWRNZW1iZXIoJ2knLCBhc3Qud2F0Y2hJZCkpLFxyXG4gICAgICAgIHRoaXMubGF6eVJlY3Vyc2UoYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgdHJ1ZSlcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChhc3QudHlwZSkge1xyXG4gICAgY2FzZSBBU1QuUHJvZ3JhbTpcclxuICAgICAgZm9yRWFjaChhc3QuYm9keSwgZnVuY3Rpb24oZXhwcmVzc2lvbiwgcG9zKSB7XHJcbiAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHJlc3Npb24uZXhwcmVzc2lvbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHsgcmlnaHQgPSBleHByOyB9KTtcclxuICAgICAgICBpZiAocG9zICE9PSBhc3QuYm9keS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICBzZWxmLmN1cnJlbnQoKS5ib2R5LnB1c2gocmlnaHQsICc7Jyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYucmV0dXJuXyhyaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5MaXRlcmFsOlxyXG4gICAgICBleHByZXNzaW9uID0gdGhpcy5lc2NhcGUoYXN0LnZhbHVlKTtcclxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgcmVjdXJzaW9uRm4oZXhwcmVzc2lvbik7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuVW5hcnlFeHByZXNzaW9uOlxyXG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmFyZ3VtZW50LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikgeyByaWdodCA9IGV4cHI7IH0pO1xyXG4gICAgICBleHByZXNzaW9uID0gYXN0Lm9wZXJhdG9yICsgJygnICsgdGhpcy5pZkRlZmluZWQocmlnaHQsIDApICsgJyknO1xyXG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5CaW5hcnlFeHByZXNzaW9uOlxyXG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7IGxlZnQgPSBleHByOyB9KTtcclxuICAgICAgdGhpcy5yZWN1cnNlKGFzdC5yaWdodCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHsgcmlnaHQgPSBleHByOyB9KTtcclxuICAgICAgaWYgKGFzdC5vcGVyYXRvciA9PT0gJysnKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXMucGx1cyhsZWZ0LCByaWdodCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoYXN0Lm9wZXJhdG9yID09PSAnLScpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gdGhpcy5pZkRlZmluZWQobGVmdCwgMCkgKyBhc3Qub3BlcmF0b3IgKyB0aGlzLmlmRGVmaW5lZChyaWdodCwgMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9ICcoJyArIGxlZnQgKyAnKScgKyBhc3Qub3BlcmF0b3IgKyAnKCcgKyByaWdodCArICcpJztcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5Mb2dpY2FsRXhwcmVzc2lvbjpcclxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIHNlbGYucmVjdXJzZShhc3QubGVmdCwgaW50b0lkKTtcclxuICAgICAgc2VsZi5pZl8oYXN0Lm9wZXJhdG9yID09PSAnJiYnID8gaW50b0lkIDogc2VsZi5ub3QoaW50b0lkKSwgc2VsZi5sYXp5UmVjdXJzZShhc3QucmlnaHQsIGludG9JZCkpO1xyXG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpcclxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIHNlbGYucmVjdXJzZShhc3QudGVzdCwgaW50b0lkKTtcclxuICAgICAgc2VsZi5pZl8oaW50b0lkLCBzZWxmLmxhenlSZWN1cnNlKGFzdC5hbHRlcm5hdGUsIGludG9JZCksIHNlbGYubGF6eVJlY3Vyc2UoYXN0LmNvbnNlcXVlbnQsIGludG9JZCkpO1xyXG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULklkZW50aWZpZXI6XHJcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xyXG4gICAgICBpZiAobmFtZUlkKSB7XHJcbiAgICAgICAgbmFtZUlkLmNvbnRleHQgPSBzZWxmLnN0YWdlID09PSAnaW5wdXRzJyA/ICdzJyA6IHRoaXMuYXNzaWduKHRoaXMubmV4dElkKCksIHRoaXMuZ2V0SGFzT3duUHJvcGVydHkoJ2wnLCBhc3QubmFtZSkgKyAnP2w6cycpO1xyXG4gICAgICAgIG5hbWVJZC5jb21wdXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIG5hbWVJZC5uYW1lID0gYXN0Lm5hbWU7XHJcbiAgICAgIH1cclxuICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUoYXN0Lm5hbWUpO1xyXG4gICAgICBzZWxmLmlmXyhzZWxmLnN0YWdlID09PSAnaW5wdXRzJyB8fCBzZWxmLm5vdChzZWxmLmdldEhhc093blByb3BlcnR5KCdsJywgYXN0Lm5hbWUpKSxcclxuICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuaWZfKHNlbGYuc3RhZ2UgPT09ICdpbnB1dHMnIHx8ICdzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5pZl8oXHJcbiAgICAgICAgICAgICAgICBzZWxmLm5vdChzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdzJywgYXN0Lm5hbWUpKSxcclxuICAgICAgICAgICAgICAgIHNlbGYubGF6eUFzc2lnbihzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdzJywgYXN0Lm5hbWUpLCAne30nKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdzJywgYXN0Lm5hbWUpKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIGludG9JZCAmJiBzZWxmLmxhenlBc3NpZ24oaW50b0lkLCBzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdsJywgYXN0Lm5hbWUpKVxyXG4gICAgICAgICk7XHJcbiAgICAgIGlmIChzZWxmLnN0YXRlLmV4cGVuc2l2ZUNoZWNrcyB8fCBpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZShhc3QubmFtZSkpIHtcclxuICAgICAgICBzZWxmLmFkZEVuc3VyZVNhZmVPYmplY3QoaW50b0lkKTtcclxuICAgICAgfVxyXG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XHJcbiAgICAgIGxlZnQgPSBuYW1lSWQgJiYgKG5hbWVJZC5jb250ZXh0ID0gdGhpcy5uZXh0SWQoKSkgfHwgdGhpcy5uZXh0SWQoKTtcclxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIHNlbGYucmVjdXJzZShhc3Qub2JqZWN0LCBsZWZ0LCB1bmRlZmluZWQsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChsZWZ0KSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xyXG4gICAgICAgICAgICBzZWxmLmFkZEVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KGxlZnQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGFzdC5jb21wdXRlZCkge1xyXG4gICAgICAgICAgICByaWdodCA9IHNlbGYubmV4dElkKCk7XHJcbiAgICAgICAgICAgIHNlbGYucmVjdXJzZShhc3QucHJvcGVydHksIHJpZ2h0KTtcclxuICAgICAgICAgICAgc2VsZi5nZXRTdHJpbmdWYWx1ZShyaWdodCk7XHJcbiAgICAgICAgICAgIHNlbGYuYWRkRW5zdXJlU2FmZU1lbWJlck5hbWUocmlnaHQpO1xyXG4gICAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgIHNlbGYuaWZfKHNlbGYubm90KHNlbGYuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpKSwgc2VsZi5sYXp5QXNzaWduKHNlbGYuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpLCAne30nKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYuZW5zdXJlU2FmZU9iamVjdChzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSk7XHJcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgIGlmIChuYW1lSWQpIHtcclxuICAgICAgICAgICAgICBuYW1lSWQuY29tcHV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIG5hbWVJZC5uYW1lID0gcmlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGFzdC5wcm9wZXJ0eS5uYW1lKTtcclxuICAgICAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcclxuICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdChzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKSksIHNlbGYubGF6eUFzc2lnbihzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKSwgJ3t9JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKTtcclxuICAgICAgICAgICAgaWYgKHNlbGYuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzIHx8IGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKGFzdC5wcm9wZXJ0eS5uYW1lKSkge1xyXG4gICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLmVuc3VyZVNhZmVPYmplY3QoZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgICAgICAgaWYgKG5hbWVJZCkge1xyXG4gICAgICAgICAgICAgIG5hbWVJZC5jb21wdXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIG5hbWVJZC5uYW1lID0gYXN0LnByb3BlcnR5Lm5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgJ3VuZGVmaW5lZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XHJcbiAgICAgIH0sICEhY3JlYXRlKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5DYWxsRXhwcmVzc2lvbjpcclxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIGlmIChhc3QuZmlsdGVyKSB7XHJcbiAgICAgICAgcmlnaHQgPSBzZWxmLmZpbHRlcihhc3QuY2FsbGVlLm5hbWUpO1xyXG4gICAgICAgIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgICAgIHZhciBhcmd1bWVudCA9IHNlbGYubmV4dElkKCk7XHJcbiAgICAgICAgICBzZWxmLnJlY3Vyc2UoZXhwciwgYXJndW1lbnQpO1xyXG4gICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBleHByZXNzaW9uID0gcmlnaHQgKyAnKCcgKyBhcmdzLmpvaW4oJywnKSArICcpJztcclxuICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmlnaHQgPSBzZWxmLm5leHRJZCgpO1xyXG4gICAgICAgIGxlZnQgPSB7fTtcclxuICAgICAgICBhcmdzID0gW107XHJcbiAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC5jYWxsZWUsIHJpZ2h0LCBsZWZ0LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChyaWdodCksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmFkZEVuc3VyZVNhZmVGdW5jdGlvbihyaWdodCk7XHJcbiAgICAgICAgICAgIGZvckVhY2goYXN0LmFyZ3VtZW50cywgZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICAgICAgICAgIHNlbGYucmVjdXJzZShleHByLCBzZWxmLm5leHRJZCgpLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGFyZ3VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goc2VsZi5lbnN1cmVTYWZlT2JqZWN0KGFyZ3VtZW50KSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAobGVmdC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCFzZWxmLnN0YXRlLmV4cGVuc2l2ZUNoZWNrcykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlT2JqZWN0KGxlZnQuY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLm1lbWJlcihsZWZ0LmNvbnRleHQsIGxlZnQubmFtZSwgbGVmdC5jb21wdXRlZCkgKyAnKCcgKyBhcmdzLmpvaW4oJywnKSArICcpJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBleHByZXNzaW9uID0gcmlnaHQgKyAnKCcgKyBhcmdzLmpvaW4oJywnKSArICcpJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5lbnN1cmVTYWZlT2JqZWN0KGV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgJ3VuZGVmaW5lZCcpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XHJcbiAgICAgIHJpZ2h0ID0gdGhpcy5uZXh0SWQoKTtcclxuICAgICAgbGVmdCA9IHt9O1xyXG4gICAgICBpZiAoIWlzQXNzaWduYWJsZShhc3QubGVmdCkpIHtcclxuICAgICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2x2YWwnLCAnVHJ5aW5nIHRvIGFzc2lnbiBhIHZhbHVlIHRvIGEgbm9uIGwtdmFsdWUnKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQsIHVuZGVmaW5lZCwgbGVmdCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5pZl8oc2VsZi5ub3ROdWxsKGxlZnQuY29udGV4dCksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC5yaWdodCwgcmlnaHQpO1xyXG4gICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlT2JqZWN0KHNlbGYubWVtYmVyKGxlZnQuY29udGV4dCwgbGVmdC5uYW1lLCBsZWZ0LmNvbXB1dGVkKSk7XHJcbiAgICAgICAgICBzZWxmLmFkZEVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KGxlZnQuY29udGV4dCk7XHJcbiAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5tZW1iZXIobGVmdC5jb250ZXh0LCBsZWZ0Lm5hbWUsIGxlZnQuY29tcHV0ZWQpICsgYXN0Lm9wZXJhdG9yICsgcmlnaHQ7XHJcbiAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkIHx8IGV4cHJlc3Npb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LCAxKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5BcnJheUV4cHJlc3Npb246XHJcbiAgICAgIGFyZ3MgPSBbXTtcclxuICAgICAgZm9yRWFjaChhc3QuZWxlbWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgICBzZWxmLnJlY3Vyc2UoZXhwciwgc2VsZi5uZXh0SWQoKSwgdW5kZWZpbmVkLCBmdW5jdGlvbihhcmd1bWVudCkge1xyXG4gICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICAgIGV4cHJlc3Npb24gPSAnWycgKyBhcmdzLmpvaW4oJywnKSArICddJztcclxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgcmVjdXJzaW9uRm4oZXhwcmVzc2lvbik7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuT2JqZWN0RXhwcmVzc2lvbjpcclxuICAgICAgYXJncyA9IFtdO1xyXG4gICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xyXG4gICAgICAgIHNlbGYucmVjdXJzZShwcm9wZXJ0eS52YWx1ZSwgc2VsZi5uZXh0SWQoKSwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7XHJcbiAgICAgICAgICBhcmdzLnB1c2goc2VsZi5lc2NhcGUoXHJcbiAgICAgICAgICAgICAgcHJvcGVydHkua2V5LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyID8gcHJvcGVydHkua2V5Lm5hbWUgOlxyXG4gICAgICAgICAgICAgICAgKCcnICsgcHJvcGVydHkua2V5LnZhbHVlKSkgK1xyXG4gICAgICAgICAgICAgICc6JyArIGV4cHIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgZXhwcmVzc2lvbiA9ICd7JyArIGFyZ3Muam9pbignLCcpICsgJ30nO1xyXG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcclxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCAncycpO1xyXG4gICAgICByZWN1cnNpb25GbigncycpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULkxvY2Fsc0V4cHJlc3Npb246XHJcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgJ2wnKTtcclxuICAgICAgcmVjdXJzaW9uRm4oJ2wnKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5OR1ZhbHVlUGFyYW1ldGVyOlxyXG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsICd2Jyk7XHJcbiAgICAgIHJlY3Vyc2lvbkZuKCd2Jyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGdldEhhc093blByb3BlcnR5OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSkge1xyXG4gICAgdmFyIGtleSA9IGVsZW1lbnQgKyAnLicgKyBwcm9wZXJ0eTtcclxuICAgIHZhciBvd24gPSB0aGlzLmN1cnJlbnQoKS5vd247XHJcbiAgICBpZiAoIW93bi5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgIG93bltrZXldID0gdGhpcy5uZXh0SWQoZmFsc2UsIGVsZW1lbnQgKyAnJiYoJyArIHRoaXMuZXNjYXBlKHByb3BlcnR5KSArICcgaW4gJyArIGVsZW1lbnQgKyAnKScpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG93bltrZXldO1xyXG4gIH0sXHJcblxyXG4gIGFzc2lnbjogZnVuY3Rpb24oaWQsIHZhbHVlKSB7XHJcbiAgICBpZiAoIWlkKSByZXR1cm47XHJcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2goaWQsICc9JywgdmFsdWUsICc7Jyk7XHJcbiAgICByZXR1cm4gaWQ7XHJcbiAgfSxcclxuXHJcbiAgZmlsdGVyOiBmdW5jdGlvbihmaWx0ZXJOYW1lKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuZmlsdGVycy5oYXNPd25Qcm9wZXJ0eShmaWx0ZXJOYW1lKSkge1xyXG4gICAgICB0aGlzLnN0YXRlLmZpbHRlcnNbZmlsdGVyTmFtZV0gPSB0aGlzLm5leHRJZCh0cnVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLnN0YXRlLmZpbHRlcnNbZmlsdGVyTmFtZV07XHJcbiAgfSxcclxuXHJcbiAgaWZEZWZpbmVkOiBmdW5jdGlvbihpZCwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICByZXR1cm4gJ2lmRGVmaW5lZCgnICsgaWQgKyAnLCcgKyB0aGlzLmVzY2FwZShkZWZhdWx0VmFsdWUpICsgJyknO1xyXG4gIH0sXHJcblxyXG4gIHBsdXM6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XHJcbiAgICByZXR1cm4gJ3BsdXMoJyArIGxlZnQgKyAnLCcgKyByaWdodCArICcpJztcclxuICB9LFxyXG5cclxuICByZXR1cm5fOiBmdW5jdGlvbihpZCkge1xyXG4gICAgdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKCdyZXR1cm4gJywgaWQsICc7Jyk7XHJcbiAgfSxcclxuXHJcbiAgaWZfOiBmdW5jdGlvbih0ZXN0LCBhbHRlcm5hdGUsIGNvbnNlcXVlbnQpIHtcclxuICAgIGlmICh0ZXN0ID09PSB0cnVlKSB7XHJcbiAgICAgIGFsdGVybmF0ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIGJvZHkgPSB0aGlzLmN1cnJlbnQoKS5ib2R5O1xyXG4gICAgICBib2R5LnB1c2goJ2lmKCcsIHRlc3QsICcpeycpO1xyXG4gICAgICBhbHRlcm5hdGUoKTtcclxuICAgICAgYm9keS5wdXNoKCd9Jyk7XHJcbiAgICAgIGlmIChjb25zZXF1ZW50KSB7XHJcbiAgICAgICAgYm9keS5wdXNoKCdlbHNleycpO1xyXG4gICAgICAgIGNvbnNlcXVlbnQoKTtcclxuICAgICAgICBib2R5LnB1c2goJ30nKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIG5vdDogZnVuY3Rpb24oZXhwcmVzc2lvbikge1xyXG4gICAgcmV0dXJuICchKCcgKyBleHByZXNzaW9uICsgJyknO1xyXG4gIH0sXHJcblxyXG4gIG5vdE51bGw6IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcclxuICAgIHJldHVybiBleHByZXNzaW9uICsgJyE9bnVsbCc7XHJcbiAgfSxcclxuXHJcbiAgbm9uQ29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XHJcbiAgICB2YXIgU0FGRV9JREVOVElGSUVSID0gL1skX2EtekEtWl1bJF9hLXpBLVowLTldKi87XHJcbiAgICB2YXIgVU5TQUZFX0NIQVJBQ1RFUlMgPSAvW14kX2EtekEtWjAtOV0vZztcclxuICAgIGlmIChTQUZFX0lERU5USUZJRVIudGVzdChyaWdodCkpIHtcclxuICAgICAgcmV0dXJuIGxlZnQgKyAnLicgKyByaWdodDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBsZWZ0ICArICdbXCInICsgcmlnaHQucmVwbGFjZShVTlNBRkVfQ0hBUkFDVEVSUywgdGhpcy5zdHJpbmdFc2NhcGVGbikgKyAnXCJdJztcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBjb21wdXRlZE1lbWJlcjogZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcclxuICAgIHJldHVybiBsZWZ0ICsgJ1snICsgcmlnaHQgKyAnXSc7XHJcbiAgfSxcclxuXHJcbiAgbWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29tcHV0ZWQpIHtcclxuICAgIGlmIChjb21wdXRlZCkgcmV0dXJuIHRoaXMuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpO1xyXG4gICAgcmV0dXJuIHRoaXMubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpO1xyXG4gIH0sXHJcblxyXG4gIGFkZEVuc3VyZVNhZmVPYmplY3Q6IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVPYmplY3QoaXRlbSksICc7Jyk7XHJcbiAgfSxcclxuXHJcbiAgYWRkRW5zdXJlU2FmZU1lbWJlck5hbWU6IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVNZW1iZXJOYW1lKGl0ZW0pLCAnOycpO1xyXG4gIH0sXHJcblxyXG4gIGFkZEVuc3VyZVNhZmVGdW5jdGlvbjogZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZUZ1bmN0aW9uKGl0ZW0pLCAnOycpO1xyXG4gIH0sXHJcblxyXG4gIGFkZEVuc3VyZVNhZmVBc3NpZ25Db250ZXh0OiBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlQXNzaWduQ29udGV4dChpdGVtKSwgJzsnKTtcclxuICB9LFxyXG5cclxuICBlbnN1cmVTYWZlT2JqZWN0OiBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICByZXR1cm4gJ2Vuc3VyZVNhZmVPYmplY3QoJyArIGl0ZW0gKyAnLHRleHQpJztcclxuICB9LFxyXG5cclxuICBlbnN1cmVTYWZlTWVtYmVyTmFtZTogZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgcmV0dXJuICdlbnN1cmVTYWZlTWVtYmVyTmFtZSgnICsgaXRlbSArICcsdGV4dCknO1xyXG4gIH0sXHJcblxyXG4gIGVuc3VyZVNhZmVGdW5jdGlvbjogZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgcmV0dXJuICdlbnN1cmVTYWZlRnVuY3Rpb24oJyArIGl0ZW0gKyAnLHRleHQpJztcclxuICB9LFxyXG5cclxuICBnZXRTdHJpbmdWYWx1ZTogZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgdGhpcy5hc3NpZ24oaXRlbSwgJ2dldFN0cmluZ1ZhbHVlKCcgKyBpdGVtICsgJyknKTtcclxuICB9LFxyXG5cclxuICBlbnN1cmVTYWZlQXNzaWduQ29udGV4dDogZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgcmV0dXJuICdlbnN1cmVTYWZlQXNzaWduQ29udGV4dCgnICsgaXRlbSArICcsdGV4dCknO1xyXG4gIH0sXHJcblxyXG4gIGxhenlSZWN1cnNlOiBmdW5jdGlvbihhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCBza2lwV2F0Y2hJZENoZWNrKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYucmVjdXJzZShhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCBza2lwV2F0Y2hJZENoZWNrKTtcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgbGF6eUFzc2lnbjogZnVuY3Rpb24oaWQsIHZhbHVlKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYuYXNzaWduKGlkLCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gIH0sXHJcblxyXG4gIHN0cmluZ0VzY2FwZVJlZ2V4OiAvW14gYS16QS1aMC05XS9nLFxyXG5cclxuICBzdHJpbmdFc2NhcGVGbjogZnVuY3Rpb24oYykge1xyXG4gICAgcmV0dXJuICdcXFxcdScgKyAoJzAwMDAnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpO1xyXG4gIH0sXHJcblxyXG4gIGVzY2FwZTogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHJldHVybiBcIidcIiArIHZhbHVlLnJlcGxhY2UodGhpcy5zdHJpbmdFc2NhcGVSZWdleCwgdGhpcy5zdHJpbmdFc2NhcGVGbikgKyBcIidcIjtcclxuICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgaWYgKHZhbHVlID09PSB0cnVlKSByZXR1cm4gJ3RydWUnO1xyXG4gICAgaWYgKHZhbHVlID09PSBmYWxzZSkgcmV0dXJuICdmYWxzZSc7XHJcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnbnVsbCc7XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykgcmV0dXJuICd1bmRlZmluZWQnO1xyXG5cclxuICAgIHRocm93ICRwYXJzZU1pbkVycignZXNjJywgJ0lNUE9TU0lCTEUnKTtcclxuICB9LFxyXG5cclxuICBuZXh0SWQ6IGZ1bmN0aW9uKHNraXAsIGluaXQpIHtcclxuICAgIHZhciBpZCA9ICd2JyArICh0aGlzLnN0YXRlLm5leHRJZCsrKTtcclxuICAgIGlmICghc2tpcCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnQoKS52YXJzLnB1c2goaWQgKyAoaW5pdCA/ICc9JyArIGluaXQgOiAnJykpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlkO1xyXG4gIH0sXHJcblxyXG4gIGN1cnJlbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5zdGF0ZS5jb21wdXRpbmddO1xyXG4gIH1cclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiBBU1RJbnRlcnByZXRlcihhc3RCdWlsZGVyLCAkZmlsdGVyKSB7XHJcbiAgdGhpcy5hc3RCdWlsZGVyID0gYXN0QnVpbGRlcjtcclxuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xyXG59XHJcblxyXG5BU1RJbnRlcnByZXRlci5wcm90b3R5cGUgPSB7XHJcbiAgY29tcGlsZTogZnVuY3Rpb24oZXhwcmVzc2lvbiwgZXhwZW5zaXZlQ2hlY2tzKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYXN0ID0gdGhpcy5hc3RCdWlsZGVyLmFzdChleHByZXNzaW9uKTtcclxuICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XHJcbiAgICB0aGlzLmV4cGVuc2l2ZUNoZWNrcyA9IGV4cGVuc2l2ZUNoZWNrcztcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LCBzZWxmLiRmaWx0ZXIpO1xyXG4gICAgdmFyIGFzc2lnbmFibGU7XHJcbiAgICB2YXIgYXNzaWduO1xyXG4gICAgaWYgKChhc3NpZ25hYmxlID0gYXNzaWduYWJsZUFTVChhc3QpKSkge1xyXG4gICAgICBhc3NpZ24gPSB0aGlzLnJlY3Vyc2UoYXNzaWduYWJsZSk7XHJcbiAgICB9XHJcbiAgICB2YXIgdG9XYXRjaCA9IGdldElucHV0cyhhc3QuYm9keSk7XHJcbiAgICB2YXIgaW5wdXRzO1xyXG4gICAgaWYgKHRvV2F0Y2gpIHtcclxuICAgICAgaW5wdXRzID0gW107XHJcbiAgICAgIGZvckVhY2godG9XYXRjaCwgZnVuY3Rpb24od2F0Y2gsIGtleSkge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHNlbGYucmVjdXJzZSh3YXRjaCk7XHJcbiAgICAgICAgd2F0Y2guaW5wdXQgPSBpbnB1dDtcclxuICAgICAgICBpbnB1dHMucHVzaChpbnB1dCk7XHJcbiAgICAgICAgd2F0Y2gud2F0Y2hJZCA9IGtleTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2YXIgZXhwcmVzc2lvbnMgPSBbXTtcclxuICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcclxuICAgICAgZXhwcmVzc2lvbnMucHVzaChzZWxmLnJlY3Vyc2UoZXhwcmVzc2lvbi5leHByZXNzaW9uKSk7XHJcbiAgICB9KTtcclxuICAgIHZhciBmbiA9IGFzdC5ib2R5Lmxlbmd0aCA9PT0gMCA/IG5vb3AgOlxyXG4gICAgICAgICAgICAgYXN0LmJvZHkubGVuZ3RoID09PSAxID8gZXhwcmVzc2lvbnNbMF0gOlxyXG4gICAgICAgICAgICAgZnVuY3Rpb24oc2NvcGUsIGxvY2Fscykge1xyXG4gICAgICAgICAgICAgICB2YXIgbGFzdFZhbHVlO1xyXG4gICAgICAgICAgICAgICBmb3JFYWNoKGV4cHJlc3Npb25zLCBmdW5jdGlvbihleHApIHtcclxuICAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBleHAoc2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICByZXR1cm4gbGFzdFZhbHVlO1xyXG4gICAgICAgICAgICAgfTtcclxuICAgIGlmIChhc3NpZ24pIHtcclxuICAgICAgZm4uYXNzaWduID0gZnVuY3Rpb24oc2NvcGUsIHZhbHVlLCBsb2NhbHMpIHtcclxuICAgICAgICByZXR1cm4gYXNzaWduKHNjb3BlLCBsb2NhbHMsIHZhbHVlKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmIChpbnB1dHMpIHtcclxuICAgICAgZm4uaW5wdXRzID0gaW5wdXRzO1xyXG4gICAgfVxyXG4gICAgZm4ubGl0ZXJhbCA9IGlzTGl0ZXJhbChhc3QpO1xyXG4gICAgZm4uY29uc3RhbnQgPSBpc0NvbnN0YW50KGFzdCk7XHJcbiAgICByZXR1cm4gZm47XHJcbiAgfSxcclxuXHJcbiAgcmVjdXJzZTogZnVuY3Rpb24oYXN0LCBjb250ZXh0LCBjcmVhdGUpIHtcclxuICAgIHZhciBsZWZ0LCByaWdodCwgc2VsZiA9IHRoaXMsIGFyZ3MsIGV4cHJlc3Npb247XHJcbiAgICBpZiAoYXN0LmlucHV0KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmlucHV0cyhhc3QuaW5wdXQsIGFzdC53YXRjaElkKTtcclxuICAgIH1cclxuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcclxuICAgIGNhc2UgQVNULkxpdGVyYWw6XHJcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlKGFzdC52YWx1ZSwgY29udGV4dCk7XHJcbiAgICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XHJcbiAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5hcmd1bWVudCk7XHJcbiAgICAgIHJldHVybiB0aGlzWyd1bmFyeScgKyBhc3Qub3BlcmF0b3JdKHJpZ2h0LCBjb250ZXh0KTtcclxuICAgIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XHJcbiAgICAgIGxlZnQgPSB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQpO1xyXG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QucmlnaHQpO1xyXG4gICAgICByZXR1cm4gdGhpc1snYmluYXJ5JyArIGFzdC5vcGVyYXRvcl0obGVmdCwgcmlnaHQsIGNvbnRleHQpO1xyXG4gICAgY2FzZSBBU1QuTG9naWNhbEV4cHJlc3Npb246XHJcbiAgICAgIGxlZnQgPSB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQpO1xyXG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QucmlnaHQpO1xyXG4gICAgICByZXR1cm4gdGhpc1snYmluYXJ5JyArIGFzdC5vcGVyYXRvcl0obGVmdCwgcmlnaHQsIGNvbnRleHQpO1xyXG4gICAgY2FzZSBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uOlxyXG4gICAgICByZXR1cm4gdGhpc1sndGVybmFyeT86J10oXHJcbiAgICAgICAgdGhpcy5yZWN1cnNlKGFzdC50ZXN0KSxcclxuICAgICAgICB0aGlzLnJlY3Vyc2UoYXN0LmFsdGVybmF0ZSksXHJcbiAgICAgICAgdGhpcy5yZWN1cnNlKGFzdC5jb25zZXF1ZW50KSxcclxuICAgICAgICBjb250ZXh0XHJcbiAgICAgICk7XHJcbiAgICBjYXNlIEFTVC5JZGVudGlmaWVyOlxyXG4gICAgICBlbnN1cmVTYWZlTWVtYmVyTmFtZShhc3QubmFtZSwgc2VsZi5leHByZXNzaW9uKTtcclxuICAgICAgcmV0dXJuIHNlbGYuaWRlbnRpZmllcihhc3QubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmV4cGVuc2l2ZUNoZWNrcyB8fCBpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZShhc3QubmFtZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCwgY3JlYXRlLCBzZWxmLmV4cHJlc3Npb24pO1xyXG4gICAgY2FzZSBBU1QuTWVtYmVyRXhwcmVzc2lvbjpcclxuICAgICAgbGVmdCA9IHRoaXMucmVjdXJzZShhc3Qub2JqZWN0LCBmYWxzZSwgISFjcmVhdGUpO1xyXG4gICAgICBpZiAoIWFzdC5jb21wdXRlZCkge1xyXG4gICAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGFzdC5wcm9wZXJ0eS5uYW1lLCBzZWxmLmV4cHJlc3Npb24pO1xyXG4gICAgICAgIHJpZ2h0ID0gYXN0LnByb3BlcnR5Lm5hbWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGFzdC5jb21wdXRlZCkgcmlnaHQgPSB0aGlzLnJlY3Vyc2UoYXN0LnByb3BlcnR5KTtcclxuICAgICAgcmV0dXJuIGFzdC5jb21wdXRlZCA/XHJcbiAgICAgICAgdGhpcy5jb21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCwgY29udGV4dCwgY3JlYXRlLCBzZWxmLmV4cHJlc3Npb24pIDpcclxuICAgICAgICB0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0LCBzZWxmLmV4cGVuc2l2ZUNoZWNrcywgY29udGV4dCwgY3JlYXRlLCBzZWxmLmV4cHJlc3Npb24pO1xyXG4gICAgY2FzZSBBU1QuQ2FsbEV4cHJlc3Npb246XHJcbiAgICAgIGFyZ3MgPSBbXTtcclxuICAgICAgZm9yRWFjaChhc3QuYXJndW1lbnRzLCBmdW5jdGlvbihleHByKSB7XHJcbiAgICAgICAgYXJncy5wdXNoKHNlbGYucmVjdXJzZShleHByKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoYXN0LmZpbHRlcikgcmlnaHQgPSB0aGlzLiRmaWx0ZXIoYXN0LmNhbGxlZS5uYW1lKTtcclxuICAgICAgaWYgKCFhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuY2FsbGVlLCB0cnVlKTtcclxuICAgICAgcmV0dXJuIGFzdC5maWx0ZXIgP1xyXG4gICAgICAgIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgICB2YXIgdmFsdWVzID0gW107XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdmFsdWVzLnB1c2goYXJnc1tpXShzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdmFyIHZhbHVlID0gcmlnaHQuYXBwbHkodW5kZWZpbmVkLCB2YWx1ZXMsIGlucHV0cyk7XHJcbiAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHtjb250ZXh0OiB1bmRlZmluZWQsIG5hbWU6IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfSA6IHZhbHVlO1xyXG4gICAgICAgIH0gOlxyXG4gICAgICAgIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgICB2YXIgcmhzID0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgICAgdmFyIHZhbHVlO1xyXG4gICAgICAgICAgaWYgKHJocy52YWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGVuc3VyZVNhZmVPYmplY3QocmhzLmNvbnRleHQsIHNlbGYuZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgIGVuc3VyZVNhZmVGdW5jdGlvbihyaHMudmFsdWUsIHNlbGYuZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgdmFsdWVzLnB1c2goZW5zdXJlU2FmZU9iamVjdChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSwgc2VsZi5leHByZXNzaW9uKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFsdWUgPSBlbnN1cmVTYWZlT2JqZWN0KHJocy52YWx1ZS5hcHBseShyaHMuY29udGV4dCwgdmFsdWVzKSwgc2VsZi5leHByZXNzaW9uKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiB2YWx1ZX0gOiB2YWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XHJcbiAgICAgIGxlZnQgPSB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQsIHRydWUsIDEpO1xyXG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QucmlnaHQpO1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgbGhzID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgdmFyIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICBlbnN1cmVTYWZlT2JqZWN0KGxocy52YWx1ZSwgc2VsZi5leHByZXNzaW9uKTtcclxuICAgICAgICBlbnN1cmVTYWZlQXNzaWduQ29udGV4dChsaHMuY29udGV4dCk7XHJcbiAgICAgICAgbGhzLmNvbnRleHRbbGhzLm5hbWVdID0gcmhzO1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiByaHN9IDogcmhzO1xyXG4gICAgICB9O1xyXG4gICAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxyXG4gICAgICBhcmdzID0gW107XHJcbiAgICAgIGZvckVhY2goYXN0LmVsZW1lbnRzLCBmdW5jdGlvbihleHByKSB7XHJcbiAgICAgICAgYXJncy5wdXNoKHNlbGYucmVjdXJzZShleHByKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgIHZhbHVlLnB1c2goYXJnc1tpXShzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XHJcbiAgICAgIH07XHJcbiAgICBjYXNlIEFTVC5PYmplY3RFeHByZXNzaW9uOlxyXG4gICAgICBhcmdzID0gW107XHJcbiAgICAgIGZvckVhY2goYXN0LnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XHJcbiAgICAgICAgYXJncy5wdXNoKHtrZXk6IHByb3BlcnR5LmtleS50eXBlID09PSBBU1QuSWRlbnRpZmllciA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmtleS5uYW1lIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCcnICsgcHJvcGVydHkua2V5LnZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgIHZhbHVlW2FyZ3NbaV0ua2V5XSA9IGFyZ3NbaV0udmFsdWUoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XHJcbiAgICAgIH07XHJcbiAgICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IHNjb3BlfSA6IHNjb3BlO1xyXG4gICAgICB9O1xyXG4gICAgY2FzZSBBU1QuTG9jYWxzRXhwcmVzc2lvbjpcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMpIHtcclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogbG9jYWxzfSA6IGxvY2FscztcclxuICAgICAgfTtcclxuICAgIGNhc2UgQVNULk5HVmFsdWVQYXJhbWV0ZXI6XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24pIHtcclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXNzaWdufSA6IGFzc2lnbjtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAndW5hcnkrJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gYXJndW1lbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKGFyZykpIHtcclxuICAgICAgICBhcmcgPSArYXJnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFyZyA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ3VuYXJ5LSc6IGZ1bmN0aW9uKGFyZ3VtZW50LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgaWYgKGlzRGVmaW5lZChhcmcpKSB7XHJcbiAgICAgICAgYXJnID0gLWFyZztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcmcgPSAwO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICd1bmFyeSEnOiBmdW5jdGlvbihhcmd1bWVudCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBhcmcgPSAhYXJndW1lbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5Kyc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICB2YXIgcmhzID0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICB2YXIgYXJnID0gcGx1c0ZuKGxocywgcmhzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeS0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgdmFyIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgdmFyIGFyZyA9IChpc0RlZmluZWQobGhzKSA/IGxocyA6IDApIC0gKGlzRGVmaW5lZChyaHMpID8gcmhzIDogMCk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnkqJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgKiByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnkvJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgLyByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnklJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgJSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnk9PT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA9PT0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5IT09JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgIT09IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeT09JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPT0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5IT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAhPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnk8JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPCByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnk+JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPiByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnk8PSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIDw9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeT49JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPj0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5JiYnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAmJiByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnl8fCc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHx8IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ3Rlcm5hcnk/Oic6IGZ1bmN0aW9uKHRlc3QsIGFsdGVybmF0ZSwgY29uc2VxdWVudCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBhcmcgPSB0ZXN0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA/IGFsdGVybmF0ZShzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgOiBjb25zZXF1ZW50KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgdmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7IHJldHVybiBjb250ZXh0ID8ge2NvbnRleHQ6IHVuZGVmaW5lZCwgbmFtZTogdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9IDogdmFsdWU7IH07XHJcbiAgfSxcclxuICBpZGVudGlmaWVyOiBmdW5jdGlvbihuYW1lLCBleHBlbnNpdmVDaGVja3MsIGNvbnRleHQsIGNyZWF0ZSwgZXhwcmVzc2lvbikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBiYXNlID0gbG9jYWxzICYmIChuYW1lIGluIGxvY2FscykgPyBsb2NhbHMgOiBzY29wZTtcclxuICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEgJiYgYmFzZSAmJiAhKGJhc2VbbmFtZV0pKSB7XHJcbiAgICAgICAgYmFzZVtuYW1lXSA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIHZhciB2YWx1ZSA9IGJhc2UgPyBiYXNlW25hbWVdIDogdW5kZWZpbmVkO1xyXG4gICAgICBpZiAoZXhwZW5zaXZlQ2hlY2tzKSB7XHJcbiAgICAgICAgZW5zdXJlU2FmZU9iamVjdCh2YWx1ZSwgZXhwcmVzc2lvbik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4ge2NvbnRleHQ6IGJhc2UsIG5hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZX07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgY29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0LCBjcmVhdGUsIGV4cHJlc3Npb24pIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgbGhzID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHZhciByaHM7XHJcbiAgICAgIHZhciB2YWx1ZTtcclxuICAgICAgaWYgKGxocyAhPSBudWxsKSB7XHJcbiAgICAgICAgcmhzID0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIHJocyA9IGdldFN0cmluZ1ZhbHVlKHJocyk7XHJcbiAgICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUocmhzLCBleHByZXNzaW9uKTtcclxuICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xyXG4gICAgICAgICAgZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQobGhzKTtcclxuICAgICAgICAgIGlmIChsaHMgJiYgIShsaHNbcmhzXSkpIHtcclxuICAgICAgICAgICAgbGhzW3Joc10gPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFsdWUgPSBsaHNbcmhzXTtcclxuICAgICAgICBlbnN1cmVTYWZlT2JqZWN0KHZhbHVlLCBleHByZXNzaW9uKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoY29udGV4dCkge1xyXG4gICAgICAgIHJldHVybiB7Y29udGV4dDogbGhzLCBuYW1lOiByaHMsIHZhbHVlOiB2YWx1ZX07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgbm9uQ29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBleHBlbnNpdmVDaGVja3MsIGNvbnRleHQsIGNyZWF0ZSwgZXhwcmVzc2lvbikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcclxuICAgICAgICBlbnN1cmVTYWZlQXNzaWduQ29udGV4dChsaHMpO1xyXG4gICAgICAgIGlmIChsaHMgJiYgIShsaHNbcmlnaHRdKSkge1xyXG4gICAgICAgICAgbGhzW3JpZ2h0XSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB2YXIgdmFsdWUgPSBsaHMgIT0gbnVsbCA/IGxoc1tyaWdodF0gOiB1bmRlZmluZWQ7XHJcbiAgICAgIGlmIChleHBlbnNpdmVDaGVja3MgfHwgaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUocmlnaHQpKSB7XHJcbiAgICAgICAgZW5zdXJlU2FmZU9iamVjdCh2YWx1ZSwgZXhwcmVzc2lvbik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4ge2NvbnRleHQ6IGxocywgbmFtZTogcmlnaHQsIHZhbHVlOiB2YWx1ZX07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgaW5wdXRzOiBmdW5jdGlvbihpbnB1dCwgd2F0Y2hJZCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzLCBpbnB1dHMpIHtcclxuICAgICAgaWYgKGlucHV0cykgcmV0dXJuIGlucHV0c1t3YXRjaElkXTtcclxuICAgICAgcmV0dXJuIGlucHV0KHNjb3BlLCB2YWx1ZSwgbG9jYWxzKTtcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxudmFyIFBhcnNlciA9IGZ1bmN0aW9uKGxleGVyLCAkZmlsdGVyLCBvcHRpb25zKSB7XHJcbiAgdGhpcy5sZXhlciA9IGxleGVyO1xyXG4gIHRoaXMuJGZpbHRlciA9ICRmaWx0ZXI7XHJcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICB0aGlzLmFzdCA9IG5ldyBBU1QobGV4ZXIsIG9wdGlvbnMpO1xyXG4gIHRoaXMuYXN0Q29tcGlsZXIgPSBvcHRpb25zLmNzcCA/IG5ldyBBU1RJbnRlcnByZXRlcih0aGlzLmFzdCwgJGZpbHRlcikgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBU1RDb21waWxlcih0aGlzLmFzdCwgJGZpbHRlcik7XHJcbn07XHJcblxyXG5QYXJzZXIucHJvdG90eXBlID0ge1xyXG4gIGNvbnN0cnVjdG9yOiBQYXJzZXIsXHJcblxyXG4gIHBhcnNlOiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5hc3RDb21waWxlci5jb21waWxlKHRleHQsIHRoaXMub3B0aW9ucy5leHBlbnNpdmVDaGVja3MpO1xyXG4gIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKG5hbWUpIHtcclxuICByZXR1cm4gbmFtZSA9PSAnY29uc3RydWN0b3InO1xyXG59XHJcblxyXG52YXIgb2JqZWN0VmFsdWVPZiA9IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZjtcclxuXHJcbmZ1bmN0aW9uIGdldFZhbHVlT2YodmFsdWUpIHtcclxuICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZS52YWx1ZU9mKSA/IHZhbHVlLnZhbHVlT2YoKSA6IG9iamVjdFZhbHVlT2YuY2FsbCh2YWx1ZSk7XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHBhcnNlXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBDb252ZXJ0cyBBbmd1bGFyIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGludG8gYSBmdW5jdGlvbi5cclxuICpcclxuICogYGBganNcclxuICogICB2YXIgZ2V0dGVyID0gJHBhcnNlKCd1c2VyLm5hbWUnKTtcclxuICogICB2YXIgc2V0dGVyID0gZ2V0dGVyLmFzc2lnbjtcclxuICogICB2YXIgY29udGV4dCA9IHt1c2VyOntuYW1lOidhbmd1bGFyJ319O1xyXG4gKiAgIHZhciBsb2NhbHMgPSB7dXNlcjp7bmFtZTonbG9jYWwnfX07XHJcbiAqXHJcbiAqICAgZXhwZWN0KGdldHRlcihjb250ZXh0KSkudG9FcXVhbCgnYW5ndWxhcicpO1xyXG4gKiAgIHNldHRlcihjb250ZXh0LCAnbmV3VmFsdWUnKTtcclxuICogICBleHBlY3QoY29udGV4dC51c2VyLm5hbWUpLnRvRXF1YWwoJ25ld1ZhbHVlJyk7XHJcbiAqICAgZXhwZWN0KGdldHRlcihjb250ZXh0LCBsb2NhbHMpKS50b0VxdWFsKCdsb2NhbCcpO1xyXG4gKiBgYGBcclxuICpcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cclxuICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcclxuICpcclxuICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xyXG4gKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cclxuICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxyXG4gKiAgICAgIGBjb250ZXh0YC5cclxuICpcclxuICogICAgVGhlIHJldHVybmVkIGZ1bmN0aW9uIGFsc28gaGFzIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICogICAgICAqIGBsaXRlcmFsYCDigJMgYHtib29sZWFufWAg4oCTIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24ncyB0b3AtbGV2ZWwgbm9kZSBpcyBhIEphdmFTY3JpcHRcclxuICogICAgICAgIGxpdGVyYWwuXHJcbiAqICAgICAgKiBgY29uc3RhbnRgIOKAkyBge2Jvb2xlYW59YCDigJMgd2hldGhlciB0aGUgZXhwcmVzc2lvbiBpcyBtYWRlIGVudGlyZWx5IG9mIEphdmFTY3JpcHRcclxuICogICAgICAgIGNvbnN0YW50IGxpdGVyYWxzLlxyXG4gKiAgICAgICogYGFzc2lnbmAg4oCTIGB7P2Z1bmN0aW9uKGNvbnRleHQsIHZhbHVlKX1gIOKAkyBpZiB0aGUgZXhwcmVzc2lvbiBpcyBhc3NpZ25hYmxlLCB0aGlzIHdpbGwgYmVcclxuICogICAgICAgIHNldCB0byBhIGZ1bmN0aW9uIHRvIGNoYW5nZSBpdHMgdmFsdWUgb24gdGhlIGdpdmVuIGNvbnRleHQuXHJcbiAqXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJHBhcnNlUHJvdmlkZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIGAkcGFyc2VQcm92aWRlcmAgY2FuIGJlIHVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJHBhcnNlICRwYXJzZX1cclxuICogIHNlcnZpY2UuXHJcbiAqL1xyXG5mdW5jdGlvbiAkUGFyc2VQcm92aWRlcigpIHtcclxuICB2YXIgY2FjaGVEZWZhdWx0ID0gY3JlYXRlTWFwKCk7XHJcbiAgdmFyIGNhY2hlRXhwZW5zaXZlID0gY3JlYXRlTWFwKCk7XHJcbiAgdmFyIGxpdGVyYWxzID0ge1xyXG4gICAgJ3RydWUnOiB0cnVlLFxyXG4gICAgJ2ZhbHNlJzogZmFsc2UsXHJcbiAgICAnbnVsbCc6IG51bGwsXHJcbiAgICAndW5kZWZpbmVkJzogdW5kZWZpbmVkXHJcbiAgfTtcclxuICB2YXIgaWRlbnRTdGFydCwgaWRlbnRDb250aW51ZTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRwYXJzZVByb3ZpZGVyI2FkZExpdGVyYWxcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIENvbmZpZ3VyZSAkcGFyc2Ugc2VydmljZSB0byBhZGQgbGl0ZXJhbCB2YWx1ZXMgdGhhdCB3aWxsIGJlIHByZXNlbnQgYXMgbGl0ZXJhbCBhdCBleHByZXNzaW9ucy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaXRlcmFsTmFtZSBUb2tlbiBmb3IgdGhlIGxpdGVyYWwgdmFsdWUuIFRoZSBsaXRlcmFsIG5hbWUgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGxpdGVyYWwgbmFtZS5cclxuICAgKiBAcGFyYW0geyp9IGxpdGVyYWxWYWx1ZSBWYWx1ZSBmb3IgdGhpcyBsaXRlcmFsLiBBbGwgbGl0ZXJhbCB2YWx1ZXMgbXVzdCBiZSBwcmltaXRpdmVzIG9yIGB1bmRlZmluZWRgLlxyXG4gICAqXHJcbiAgICoqL1xyXG4gIHRoaXMuYWRkTGl0ZXJhbCA9IGZ1bmN0aW9uKGxpdGVyYWxOYW1lLCBsaXRlcmFsVmFsdWUpIHtcclxuICAgIGxpdGVyYWxzW2xpdGVyYWxOYW1lXSA9IGxpdGVyYWxWYWx1ZTtcclxuICB9O1xyXG5cclxuIC8qKlxyXG4gICogQG5nZG9jIG1ldGhvZFxyXG4gICogQG5hbWUgJHBhcnNlUHJvdmlkZXIjc2V0SWRlbnRpZmllckZuc1xyXG4gICogQGRlc2NyaXB0aW9uXHJcbiAgKlxyXG4gICogQWxsb3dzIGRlZmluaW5nIHRoZSBzZXQgb2YgY2hhcmFjdGVycyB0aGF0IGFyZSBhbGxvd2VkIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMuIFRoZSBmdW5jdGlvblxyXG4gICogYGlkZW50aWZpZXJTdGFydGAgd2lsbCBnZXQgY2FsbGVkIHRvIGtub3cgaWYgYSBnaXZlbiBjaGFyYWN0ZXIgaXMgYSB2YWxpZCBjaGFyYWN0ZXIgdG8gYmUgdGhlXHJcbiAgKiBmaXJzdCBjaGFyYWN0ZXIgZm9yIGFuIGlkZW50aWZpZXIuIFRoZSBmdW5jdGlvbiBgaWRlbnRpZmllckNvbnRpbnVlYCB3aWxsIGdldCBjYWxsZWQgdG8ga25vdyBpZlxyXG4gICogYSBnaXZlbiBjaGFyYWN0ZXIgaXMgYSB2YWxpZCBjaGFyYWN0ZXIgdG8gYmUgYSBmb2xsb3ctdXAgaWRlbnRpZmllciBjaGFyYWN0ZXIuIFRoZSBmdW5jdGlvbnNcclxuICAqIGBpZGVudGlmaWVyU3RhcnRgIGFuZCBgaWRlbnRpZmllckNvbnRpbnVlYCB3aWxsIHJlY2VpdmUgYXMgYXJndW1lbnRzIHRoZSBzaW5nbGUgY2hhcmFjdGVyIHRvIGJlXHJcbiAgKiBpZGVudGlmaWVyIGFuZCB0aGUgY2hhcmFjdGVyIGNvZGUgcG9pbnQuIFRoZXNlIGFyZ3VtZW50cyB3aWxsIGJlIGBzdHJpbmdgIGFuZCBgbnVtZXJpY2AuIEtlZXAgaW5cclxuICAqIG1pbmQgdGhhdCB0aGUgYHN0cmluZ2AgcGFyYW1ldGVyIGNhbiBiZSB0d28gY2hhcmFjdGVycyBsb25nIGRlcGVuZGluZyBvbiB0aGUgY2hhcmFjdGVyXHJcbiAgKiByZXByZXNlbnRhdGlvbi4gSXQgaXMgZXhwZWN0ZWQgZm9yIHRoZSBmdW5jdGlvbiB0byByZXR1cm4gYHRydWVgIG9yIGBmYWxzZWAsIHdoZXRoZXIgdGhhdFxyXG4gICogY2hhcmFjdGVyIGlzIGFsbG93ZWQgb3Igbm90LlxyXG4gICpcclxuICAqIFNpbmNlIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZXh0ZW5zaXZlbGx5LCBrZWVwIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGVzZSBmdW5jdGlvbnMgZmFzdCxcclxuICAqIGFzIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGVzZSBmdW5jdGlvbnMgaGF2ZSBhIGRpcmVjdCBpbXBhY3Qgb24gdGhlIGV4cHJlc3Npb25zIHBhcnNpbmcgc3BlZWQuXHJcbiAgKlxyXG4gICogQHBhcmFtIHtmdW5jdGlvbj19IGlkZW50aWZpZXJTdGFydCBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGRlY2lkZSB3aGV0aGVyIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaXNcclxuICAqICAgYSB2YWxpZCBpZGVudGlmaWVyIHN0YXJ0IGNoYXJhY3Rlci5cclxuICAqIEBwYXJhbSB7ZnVuY3Rpb249fSBpZGVudGlmaWVyQ29udGludWUgVGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBkZWNpZGUgd2hldGhlciB0aGUgZ2l2ZW4gY2hhcmFjdGVyIGlzXHJcbiAgKiAgIGEgdmFsaWQgaWRlbnRpZmllciBjb250aW51ZSBjaGFyYWN0ZXIuXHJcbiAgKi9cclxuICB0aGlzLnNldElkZW50aWZpZXJGbnMgPSBmdW5jdGlvbihpZGVudGlmaWVyU3RhcnQsIGlkZW50aWZpZXJDb250aW51ZSkge1xyXG4gICAgaWRlbnRTdGFydCA9IGlkZW50aWZpZXJTdGFydDtcclxuICAgIGlkZW50Q29udGludWUgPSBpZGVudGlmaWVyQ29udGludWU7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICB0aGlzLiRnZXQgPSBbJyRmaWx0ZXInLCBmdW5jdGlvbigkZmlsdGVyKSB7XHJcbiAgICB2YXIgbm9VbnNhZmVFdmFsID0gY3NwKCkubm9VbnNhZmVFdmFsO1xyXG4gICAgdmFyICRwYXJzZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICBjc3A6IG5vVW5zYWZlRXZhbCxcclxuICAgICAgICAgIGV4cGVuc2l2ZUNoZWNrczogZmFsc2UsXHJcbiAgICAgICAgICBsaXRlcmFsczogY29weShsaXRlcmFscyksXHJcbiAgICAgICAgICBpc0lkZW50aWZpZXJTdGFydDogaXNGdW5jdGlvbihpZGVudFN0YXJ0KSAmJiBpZGVudFN0YXJ0LFxyXG4gICAgICAgICAgaXNJZGVudGlmaWVyQ29udGludWU6IGlzRnVuY3Rpb24oaWRlbnRDb250aW51ZSkgJiYgaWRlbnRDb250aW51ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJHBhcnNlT3B0aW9uc0V4cGVuc2l2ZSA9IHtcclxuICAgICAgICAgIGNzcDogbm9VbnNhZmVFdmFsLFxyXG4gICAgICAgICAgZXhwZW5zaXZlQ2hlY2tzOiB0cnVlLFxyXG4gICAgICAgICAgbGl0ZXJhbHM6IGNvcHkobGl0ZXJhbHMpLFxyXG4gICAgICAgICAgaXNJZGVudGlmaWVyU3RhcnQ6IGlzRnVuY3Rpb24oaWRlbnRTdGFydCkgJiYgaWRlbnRTdGFydCxcclxuICAgICAgICAgIGlzSWRlbnRpZmllckNvbnRpbnVlOiBpc0Z1bmN0aW9uKGlkZW50Q29udGludWUpICYmIGlkZW50Q29udGludWVcclxuICAgICAgICB9O1xyXG4gICAgdmFyIHJ1bm5pbmdDaGVja3NFbmFibGVkID0gZmFsc2U7XHJcblxyXG4gICAgJHBhcnNlLiQkcnVubmluZ0V4cGVuc2l2ZUNoZWNrcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gcnVubmluZ0NoZWNrc0VuYWJsZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiAkcGFyc2U7XHJcblxyXG4gICAgZnVuY3Rpb24gJHBhcnNlKGV4cCwgaW50ZXJjZXB0b3JGbiwgZXhwZW5zaXZlQ2hlY2tzKSB7XHJcbiAgICAgIHZhciBwYXJzZWRFeHByZXNzaW9uLCBvbmVUaW1lLCBjYWNoZUtleTtcclxuXHJcbiAgICAgIGV4cGVuc2l2ZUNoZWNrcyA9IGV4cGVuc2l2ZUNoZWNrcyB8fCBydW5uaW5nQ2hlY2tzRW5hYmxlZDtcclxuXHJcbiAgICAgIHN3aXRjaCAodHlwZW9mIGV4cCkge1xyXG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICAgICAgICBleHAgPSBleHAudHJpbSgpO1xyXG4gICAgICAgICAgY2FjaGVLZXkgPSBleHA7XHJcblxyXG4gICAgICAgICAgdmFyIGNhY2hlID0gKGV4cGVuc2l2ZUNoZWNrcyA/IGNhY2hlRXhwZW5zaXZlIDogY2FjaGVEZWZhdWx0KTtcclxuICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBjYWNoZVtjYWNoZUtleV07XHJcblxyXG4gICAgICAgICAgaWYgKCFwYXJzZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChleHAuY2hhckF0KDApID09PSAnOicgJiYgZXhwLmNoYXJBdCgxKSA9PT0gJzonKSB7XHJcbiAgICAgICAgICAgICAgb25lVGltZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgZXhwID0gZXhwLnN1YnN0cmluZygyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcGFyc2VPcHRpb25zID0gZXhwZW5zaXZlQ2hlY2tzID8gJHBhcnNlT3B0aW9uc0V4cGVuc2l2ZSA6ICRwYXJzZU9wdGlvbnM7XHJcbiAgICAgICAgICAgIHZhciBsZXhlciA9IG5ldyBMZXhlcihwYXJzZU9wdGlvbnMpO1xyXG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihsZXhlciwgJGZpbHRlciwgcGFyc2VPcHRpb25zKTtcclxuICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbiA9IHBhcnNlci5wYXJzZShleHApO1xyXG4gICAgICAgICAgICBpZiAocGFyc2VkRXhwcmVzc2lvbi5jb25zdGFudCkge1xyXG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gY29uc3RhbnRXYXRjaERlbGVnYXRlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9uZVRpbWUpIHtcclxuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IHBhcnNlZEV4cHJlc3Npb24ubGl0ZXJhbCA/XHJcbiAgICAgICAgICAgICAgICAgIG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSA6IG9uZVRpbWVXYXRjaERlbGVnYXRlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzKSB7XHJcbiAgICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgPSBpbnB1dHNXYXRjaERlbGVnYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChleHBlbnNpdmVDaGVja3MpIHtcclxuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uID0gZXhwZW5zaXZlQ2hlY2tzSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FjaGVbY2FjaGVLZXldID0gcGFyc2VkRXhwcmVzc2lvbjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBhZGRJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uLCBpbnRlcmNlcHRvckZuKTtcclxuXHJcbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICAgICAgcmV0dXJuIGFkZEludGVyY2VwdG9yKGV4cCwgaW50ZXJjZXB0b3JGbik7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3Iobm9vcCwgaW50ZXJjZXB0b3JGbik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHBlbnNpdmVDaGVja3NJbnRlcmNlcHRvcihmbikge1xyXG4gICAgICBpZiAoIWZuKSByZXR1cm4gZm47XHJcbiAgICAgIGV4cGVuc2l2ZUNoZWNrRm4uJCR3YXRjaERlbGVnYXRlID0gZm4uJCR3YXRjaERlbGVnYXRlO1xyXG4gICAgICBleHBlbnNpdmVDaGVja0ZuLmFzc2lnbiA9IGV4cGVuc2l2ZUNoZWNrc0ludGVyY2VwdG9yKGZuLmFzc2lnbik7XHJcbiAgICAgIGV4cGVuc2l2ZUNoZWNrRm4uY29uc3RhbnQgPSBmbi5jb25zdGFudDtcclxuICAgICAgZXhwZW5zaXZlQ2hlY2tGbi5saXRlcmFsID0gZm4ubGl0ZXJhbDtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGZuLmlucHV0cyAmJiBpIDwgZm4uaW5wdXRzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgZm4uaW5wdXRzW2ldID0gZXhwZW5zaXZlQ2hlY2tzSW50ZXJjZXB0b3IoZm4uaW5wdXRzW2ldKTtcclxuICAgICAgfVxyXG4gICAgICBleHBlbnNpdmVDaGVja0ZuLmlucHV0cyA9IGZuLmlucHV0cztcclxuXHJcbiAgICAgIHJldHVybiBleHBlbnNpdmVDaGVja0ZuO1xyXG5cclxuICAgICAgZnVuY3Rpb24gZXhwZW5zaXZlQ2hlY2tGbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBleHBlbnNpdmVDaGVja09sZFZhbHVlID0gcnVubmluZ0NoZWNrc0VuYWJsZWQ7XHJcbiAgICAgICAgcnVubmluZ0NoZWNrc0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICByZXR1cm4gZm4oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICBydW5uaW5nQ2hlY2tzRW5hYmxlZCA9IGV4cGVuc2l2ZUNoZWNrT2xkVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdWYWx1ZSwgb2xkVmFsdWVPZlZhbHVlKSB7XHJcblxyXG4gICAgICBpZiAobmV3VmFsdWUgPT0gbnVsbCB8fCBvbGRWYWx1ZU9mVmFsdWUgPT0gbnVsbCkgeyAvLyBudWxsL3VuZGVmaW5lZFxyXG4gICAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gb2xkVmFsdWVPZlZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0Jykge1xyXG5cclxuICAgICAgICAvLyBhdHRlbXB0IHRvIGNvbnZlcnQgdGhlIHZhbHVlIHRvIGEgcHJpbWl0aXZlIHR5cGVcclxuICAgICAgICAvLyBUT0RPKGRvY3MpOiBhZGQgYSBub3RlIHRvIGRvY3MgdGhhdCBieSBpbXBsZW1lbnRpbmcgdmFsdWVPZiBldmVuIG9iamVjdHMgYW5kIGFycmF5cyBjYW5cclxuICAgICAgICAvLyAgICAgICAgICAgICBiZSBjaGVhcGx5IGRpcnR5LWNoZWNrZWRcclxuICAgICAgICBuZXdWYWx1ZSA9IGdldFZhbHVlT2YobmV3VmFsdWUpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgLy8gb2JqZWN0cy9hcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgLSBkZWVwLXdhdGNoaW5nIHRoZW0gd291bGQgYmUgdG9vIGV4cGVuc2l2ZVxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmFsbC10aHJvdWdoIHRvIHRoZSBwcmltaXRpdmUgZXF1YWxpdHkgY2hlY2tcclxuICAgICAgfVxyXG5cclxuICAgICAgLy9QcmltaXRpdmUgb3IgTmFOXHJcbiAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gb2xkVmFsdWVPZlZhbHVlIHx8IChuZXdWYWx1ZSAhPT0gbmV3VmFsdWUgJiYgb2xkVmFsdWVPZlZhbHVlICE9PSBvbGRWYWx1ZU9mVmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlucHV0c1dhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbiwgcHJldHR5UHJpbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgIHZhciBpbnB1dEV4cHJlc3Npb25zID0gcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHM7XHJcbiAgICAgIHZhciBsYXN0UmVzdWx0O1xyXG5cclxuICAgICAgaWYgKGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgdmFyIG9sZElucHV0VmFsdWVPZiA9IGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2s7IC8vIGluaXQgdG8gc29tZXRoaW5nIHVuaXF1ZSBzbyB0aGF0IGVxdWFscyBjaGVjayBmYWlsc1xyXG4gICAgICAgIGlucHV0RXhwcmVzc2lvbnMgPSBpbnB1dEV4cHJlc3Npb25zWzBdO1xyXG4gICAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0V2F0Y2goc2NvcGUpIHtcclxuICAgICAgICAgIHZhciBuZXdJbnB1dFZhbHVlID0gaW5wdXRFeHByZXNzaW9ucyhzY29wZSk7XHJcbiAgICAgICAgICBpZiAoIWV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3SW5wdXRWYWx1ZSwgb2xkSW5wdXRWYWx1ZU9mKSkge1xyXG4gICAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFtuZXdJbnB1dFZhbHVlXSk7XHJcbiAgICAgICAgICAgIG9sZElucHV0VmFsdWVPZiA9IG5ld0lucHV0VmFsdWUgJiYgZ2V0VmFsdWVPZihuZXdJbnB1dFZhbHVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xyXG4gICAgICAgIH0sIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcHJldHR5UHJpbnRFeHByZXNzaW9uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIG9sZElucHV0VmFsdWVPZlZhbHVlcyA9IFtdO1xyXG4gICAgICB2YXIgb2xkSW5wdXRWYWx1ZXMgPSBbXTtcclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzW2ldID0gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjazsgLy8gaW5pdCB0byBzb21ldGhpbmcgdW5pcXVlIHNvIHRoYXQgZXF1YWxzIGNoZWNrIGZhaWxzXHJcbiAgICAgICAgb2xkSW5wdXRWYWx1ZXNbaV0gPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dHNXYXRjaChzY29wZSkge1xyXG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zW2ldKHNjb3BlKTtcclxuICAgICAgICAgIGlmIChjaGFuZ2VkIHx8IChjaGFuZ2VkID0gIWV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3SW5wdXRWYWx1ZSwgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzW2ldKSkpIHtcclxuICAgICAgICAgICAgb2xkSW5wdXRWYWx1ZXNbaV0gPSBuZXdJbnB1dFZhbHVlO1xyXG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0gPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlZCkge1xyXG4gICAgICAgICAgbGFzdFJlc3VsdCA9IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvbGRJbnB1dFZhbHVlcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcclxuICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwcmV0dHlQcmludEV4cHJlc3Npb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uZVRpbWVXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcclxuICAgICAgdmFyIHVud2F0Y2gsIGxhc3RWYWx1ZTtcclxuICAgICAgcmV0dXJuIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24gb25lVGltZVdhdGNoKHNjb3BlKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xyXG4gICAgICB9LCBmdW5jdGlvbiBvbmVUaW1lTGlzdGVuZXIodmFsdWUsIG9sZCwgc2NvcGUpIHtcclxuICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcclxuICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQobGFzdFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgIHVud2F0Y2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBvYmplY3RFcXVhbGl0eSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcclxuICAgICAgdmFyIHVud2F0Y2gsIGxhc3RWYWx1ZTtcclxuICAgICAgcmV0dXJuIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24gb25lVGltZVdhdGNoKHNjb3BlKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xyXG4gICAgICB9LCBmdW5jdGlvbiBvbmVUaW1lTGlzdGVuZXIodmFsdWUsIG9sZCwgc2NvcGUpIHtcclxuICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcclxuICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgdmFsdWUsIG9sZCwgc2NvcGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNBbGxEZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICAgICAgc2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoaXNBbGxEZWZpbmVkKGxhc3RWYWx1ZSkpIHVud2F0Y2goKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgb2JqZWN0RXF1YWxpdHkpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gaXNBbGxEZWZpbmVkKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFsbERlZmluZWQgPSB0cnVlO1xyXG4gICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICAgICAgaWYgKCFpc0RlZmluZWQodmFsKSkgYWxsRGVmaW5lZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhbGxEZWZpbmVkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29uc3RhbnRXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcclxuICAgICAgdmFyIHVud2F0Y2g7XHJcbiAgICAgIHJldHVybiB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2goc2NvcGUpIHtcclxuICAgICAgICB1bndhdGNoKCk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xyXG4gICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZEludGVyY2VwdG9yKHBhcnNlZEV4cHJlc3Npb24sIGludGVyY2VwdG9yRm4pIHtcclxuICAgICAgaWYgKCFpbnRlcmNlcHRvckZuKSByZXR1cm4gcGFyc2VkRXhwcmVzc2lvbjtcclxuICAgICAgdmFyIHdhdGNoRGVsZWdhdGUgPSBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZTtcclxuICAgICAgdmFyIHVzZUlucHV0cyA9IGZhbHNlO1xyXG5cclxuICAgICAgdmFyIHJlZ3VsYXJXYXRjaCA9XHJcbiAgICAgICAgICB3YXRjaERlbGVnYXRlICE9PSBvbmVUaW1lTGl0ZXJhbFdhdGNoRGVsZWdhdGUgJiZcclxuICAgICAgICAgIHdhdGNoRGVsZWdhdGUgIT09IG9uZVRpbWVXYXRjaERlbGVnYXRlO1xyXG5cclxuICAgICAgdmFyIGZuID0gcmVndWxhcldhdGNoID8gZnVuY3Rpb24gcmVndWxhckludGVyY2VwdGVkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHVzZUlucHV0cyAmJiBpbnB1dHMgPyBpbnB1dHNbMF0gOiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICByZXR1cm4gaW50ZXJjZXB0b3JGbih2YWx1ZSwgc2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgIH0gOiBmdW5jdGlvbiBvbmVUaW1lSW50ZXJjZXB0ZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IGludGVyY2VwdG9yRm4odmFsdWUsIHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgIC8vIHdlIG9ubHkgcmV0dXJuIHRoZSBpbnRlcmNlcHRvcidzIHJlc3VsdCBpZiB0aGVcclxuICAgICAgICAvLyBpbml0aWFsIHZhbHVlIGlzIGRlZmluZWQgKGZvciBiaW5kLW9uY2UpXHJcbiAgICAgICAgcmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSkgPyByZXN1bHQgOiB2YWx1ZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFByb3BhZ2F0ZSAkJHdhdGNoRGVsZWdhdGVzIG90aGVyIHRoZW4gaW5wdXRzV2F0Y2hEZWxlZ2F0ZVxyXG4gICAgICBpZiAocGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgJiZcclxuICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlICE9PSBpbnB1dHNXYXRjaERlbGVnYXRlKSB7XHJcbiAgICAgICAgZm4uJCR3YXRjaERlbGVnYXRlID0gcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU7XHJcbiAgICAgIH0gZWxzZSBpZiAoIWludGVyY2VwdG9yRm4uJHN0YXRlZnVsKSB7XHJcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gaW50ZXJjZXB0b3IsIGJ1dCBubyB3YXRjaERlbGVnYXRlIHRoZW4gdHJlYXQgdGhlIGludGVyY2VwdG9yIGxpa2VcclxuICAgICAgICAvLyB3ZSB0cmVhdCBmaWx0ZXJzIC0gaXQgaXMgYXNzdW1lZCB0byBiZSBhIHB1cmUgZnVuY3Rpb24gdW5sZXNzIGZsYWdnZWQgd2l0aCAkc3RhdGVmdWxcclxuICAgICAgICBmbi4kJHdhdGNoRGVsZWdhdGUgPSBpbnB1dHNXYXRjaERlbGVnYXRlO1xyXG4gICAgICAgIHVzZUlucHV0cyA9ICFwYXJzZWRFeHByZXNzaW9uLmlucHV0cztcclxuICAgICAgICBmbi5pbnB1dHMgPSBwYXJzZWRFeHByZXNzaW9uLmlucHV0cyA/IHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzIDogW3BhcnNlZEV4cHJlc3Npb25dO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZm47XHJcbiAgICB9XHJcbiAgfV07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkcVxyXG4gKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQSBzZXJ2aWNlIHRoYXQgaGVscHMgeW91IHJ1biBmdW5jdGlvbnMgYXN5bmNocm9ub3VzbHksIGFuZCB1c2UgdGhlaXIgcmV0dXJuIHZhbHVlcyAob3IgZXhjZXB0aW9ucylcclxuICogd2hlbiB0aGV5IGFyZSBkb25lIHByb2Nlc3NpbmcuXHJcbiAqXHJcbiAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgcHJvbWlzZXMvZGVmZXJyZWQgb2JqZWN0cyBpbnNwaXJlZCBieVxyXG4gKiBbS3JpcyBLb3dhbCdzIFFdKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcSkuXHJcbiAqXHJcbiAqICRxIGNhbiBiZSB1c2VkIGluIHR3byBmYXNoaW9ucyAtLS0gb25lIHdoaWNoIGlzIG1vcmUgc2ltaWxhciB0byBLcmlzIEtvd2FsJ3MgUSBvciBqUXVlcnkncyBEZWZlcnJlZFxyXG4gKiBpbXBsZW1lbnRhdGlvbnMsIGFuZCB0aGUgb3RoZXIgd2hpY2ggcmVzZW1ibGVzIEVTNiAoRVMyMDE1KSBwcm9taXNlcyB0byBzb21lIGRlZ3JlZS5cclxuICpcclxuICogIyAkcSBjb25zdHJ1Y3RvclxyXG4gKlxyXG4gKiBUaGUgc3RyZWFtbGluZWQgRVM2IHN0eWxlIHByb21pc2UgaXMgZXNzZW50aWFsbHkganVzdCB1c2luZyAkcSBhcyBhIGNvbnN0cnVjdG9yIHdoaWNoIHRha2VzIGEgYHJlc29sdmVyYFxyXG4gKiBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIFRoaXMgaXMgc2ltaWxhciB0byB0aGUgbmF0aXZlIFByb21pc2UgaW1wbGVtZW50YXRpb24gZnJvbSBFUzYsXHJcbiAqIHNlZSBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlKS5cclxuICpcclxuICogV2hpbGUgdGhlIGNvbnN0cnVjdG9yLXN0eWxlIHVzZSBpcyBzdXBwb3J0ZWQsIG5vdCBhbGwgb2YgdGhlIHN1cHBvcnRpbmcgbWV0aG9kcyBmcm9tIEVTNiBwcm9taXNlcyBhcmVcclxuICogYXZhaWxhYmxlIHlldC5cclxuICpcclxuICogSXQgY2FuIGJlIHVzZWQgbGlrZSBzbzpcclxuICpcclxuICogYGBganNcclxuICogICAvLyBmb3IgdGhlIHB1cnBvc2Ugb2YgdGhpcyBleGFtcGxlIGxldCdzIGFzc3VtZSB0aGF0IHZhcmlhYmxlcyBgJHFgIGFuZCBgb2tUb0dyZWV0YFxyXG4gKiAgIC8vIGFyZSBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgbGV4aWNhbCBzY29wZSAodGhleSBjb3VsZCBoYXZlIGJlZW4gaW5qZWN0ZWQgb3IgcGFzc2VkIGluKS5cclxuICpcclxuICogICBmdW5jdGlvbiBhc3luY0dyZWV0KG5hbWUpIHtcclxuICogICAgIC8vIHBlcmZvcm0gc29tZSBhc3luY2hyb25vdXMgb3BlcmF0aW9uLCByZXNvbHZlIG9yIHJlamVjdCB0aGUgcHJvbWlzZSB3aGVuIGFwcHJvcHJpYXRlLlxyXG4gKiAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gKiAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgIGlmIChva1RvR3JlZXQobmFtZSkpIHtcclxuICogICAgICAgICAgIHJlc29sdmUoJ0hlbGxvLCAnICsgbmFtZSArICchJyk7XHJcbiAqICAgICAgICAgfSBlbHNlIHtcclxuICogICAgICAgICAgIHJlamVjdCgnR3JlZXRpbmcgJyArIG5hbWUgKyAnIGlzIG5vdCBhbGxvd2VkLicpO1xyXG4gKiAgICAgICAgIH1cclxuICogICAgICAgfSwgMTAwMCk7XHJcbiAqICAgICB9KTtcclxuICogICB9XHJcbiAqXHJcbiAqICAgdmFyIHByb21pc2UgPSBhc3luY0dyZWV0KCdSb2JpbiBIb29kJyk7XHJcbiAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XHJcbiAqICAgICBhbGVydCgnU3VjY2VzczogJyArIGdyZWV0aW5nKTtcclxuICogICB9LCBmdW5jdGlvbihyZWFzb24pIHtcclxuICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xyXG4gKiAgIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogTm90ZTogcHJvZ3Jlc3Mvbm90aWZ5IGNhbGxiYWNrcyBhcmUgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgdmlhIHRoZSBFUzYtc3R5bGUgaW50ZXJmYWNlLlxyXG4gKlxyXG4gKiBOb3RlOiB1bmxpa2UgRVM2IGJlaGF2aW9yLCBhbiBleGNlcHRpb24gdGhyb3duIGluIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB3aWxsIE5PVCBpbXBsaWNpdGx5IHJlamVjdCB0aGUgcHJvbWlzZS5cclxuICpcclxuICogSG93ZXZlciwgdGhlIG1vcmUgdHJhZGl0aW9uYWwgQ29tbW9uSlMtc3R5bGUgdXNhZ2UgaXMgc3RpbGwgYXZhaWxhYmxlLCBhbmQgZG9jdW1lbnRlZCBiZWxvdy5cclxuICpcclxuICogW1RoZSBDb21tb25KUyBQcm9taXNlIHByb3Bvc2FsXShodHRwOi8vd2lraS5jb21tb25qcy5vcmcvd2lraS9Qcm9taXNlcykgZGVzY3JpYmVzIGEgcHJvbWlzZSBhcyBhblxyXG4gKiBpbnRlcmZhY2UgZm9yIGludGVyYWN0aW5nIHdpdGggYW4gb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgcmVzdWx0IG9mIGFuIGFjdGlvbiB0aGF0IGlzXHJcbiAqIHBlcmZvcm1lZCBhc3luY2hyb25vdXNseSwgYW5kIG1heSBvciBtYXkgbm90IGJlIGZpbmlzaGVkIGF0IGFueSBnaXZlbiBwb2ludCBpbiB0aW1lLlxyXG4gKlxyXG4gKiBGcm9tIHRoZSBwZXJzcGVjdGl2ZSBvZiBkZWFsaW5nIHdpdGggZXJyb3IgaGFuZGxpbmcsIGRlZmVycmVkIGFuZCBwcm9taXNlIEFQSXMgYXJlIHRvXHJcbiAqIGFzeW5jaHJvbm91cyBwcm9ncmFtbWluZyB3aGF0IGB0cnlgLCBgY2F0Y2hgIGFuZCBgdGhyb3dgIGtleXdvcmRzIGFyZSB0byBzeW5jaHJvbm91cyBwcm9ncmFtbWluZy5cclxuICpcclxuICogYGBganNcclxuICogICAvLyBmb3IgdGhlIHB1cnBvc2Ugb2YgdGhpcyBleGFtcGxlIGxldCdzIGFzc3VtZSB0aGF0IHZhcmlhYmxlcyBgJHFgIGFuZCBgb2tUb0dyZWV0YFxyXG4gKiAgIC8vIGFyZSBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgbGV4aWNhbCBzY29wZSAodGhleSBjb3VsZCBoYXZlIGJlZW4gaW5qZWN0ZWQgb3IgcGFzc2VkIGluKS5cclxuICpcclxuICogICBmdW5jdGlvbiBhc3luY0dyZWV0KG5hbWUpIHtcclxuICogICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAqXHJcbiAqICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICBkZWZlcnJlZC5ub3RpZnkoJ0Fib3V0IHRvIGdyZWV0ICcgKyBuYW1lICsgJy4nKTtcclxuICpcclxuICogICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xyXG4gKiAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ0hlbGxvLCAnICsgbmFtZSArICchJyk7XHJcbiAqICAgICAgIH0gZWxzZSB7XHJcbiAqICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XHJcbiAqICAgICAgIH1cclxuICogICAgIH0sIDEwMDApO1xyXG4gKlxyXG4gKiAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAqICAgfVxyXG4gKlxyXG4gKiAgIHZhciBwcm9taXNlID0gYXN5bmNHcmVldCgnUm9iaW4gSG9vZCcpO1xyXG4gKiAgIHByb21pc2UudGhlbihmdW5jdGlvbihncmVldGluZykge1xyXG4gKiAgICAgYWxlcnQoJ1N1Y2Nlc3M6ICcgKyBncmVldGluZyk7XHJcbiAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAqICAgICBhbGVydCgnRmFpbGVkOiAnICsgcmVhc29uKTtcclxuICogICB9LCBmdW5jdGlvbih1cGRhdGUpIHtcclxuICogICAgIGFsZXJ0KCdHb3Qgbm90aWZpY2F0aW9uOiAnICsgdXBkYXRlKTtcclxuICogICB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEF0IGZpcnN0IGl0IG1pZ2h0IG5vdCBiZSBvYnZpb3VzIHdoeSB0aGlzIGV4dHJhIGNvbXBsZXhpdHkgaXMgd29ydGggdGhlIHRyb3VibGUuIFRoZSBwYXlvZmZcclxuICogY29tZXMgaW4gdGhlIHdheSBvZiBndWFyYW50ZWVzIHRoYXQgcHJvbWlzZSBhbmQgZGVmZXJyZWQgQVBJcyBtYWtlLCBzZWVcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC91bmNvbW1vbmpzL2Jsb2IvbWFzdGVyL3Byb21pc2VzL3NwZWNpZmljYXRpb24ubWQuXHJcbiAqXHJcbiAqIEFkZGl0aW9uYWxseSB0aGUgcHJvbWlzZSBhcGkgYWxsb3dzIGZvciBjb21wb3NpdGlvbiB0aGF0IGlzIHZlcnkgaGFyZCB0byBkbyB3aXRoIHRoZVxyXG4gKiB0cmFkaXRpb25hbCBjYWxsYmFjayAoW0NQU10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db250aW51YXRpb24tcGFzc2luZ19zdHlsZSkpIGFwcHJvYWNoLlxyXG4gKiBGb3IgbW9yZSBvbiB0aGlzIHBsZWFzZSBzZWUgdGhlIFtRIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcSkgZXNwZWNpYWxseSB0aGVcclxuICogc2VjdGlvbiBvbiBzZXJpYWwgb3IgcGFyYWxsZWwgam9pbmluZyBvZiBwcm9taXNlcy5cclxuICpcclxuICogIyBUaGUgRGVmZXJyZWQgQVBJXHJcbiAqXHJcbiAqIEEgbmV3IGluc3RhbmNlIG9mIGRlZmVycmVkIGlzIGNvbnN0cnVjdGVkIGJ5IGNhbGxpbmcgYCRxLmRlZmVyKClgLlxyXG4gKlxyXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgZGVmZXJyZWQgb2JqZWN0IGlzIHRvIGV4cG9zZSB0aGUgYXNzb2NpYXRlZCBQcm9taXNlIGluc3RhbmNlIGFzIHdlbGwgYXMgQVBJc1xyXG4gKiB0aGF0IGNhbiBiZSB1c2VkIGZvciBzaWduYWxpbmcgdGhlIHN1Y2Nlc3NmdWwgb3IgdW5zdWNjZXNzZnVsIGNvbXBsZXRpb24sIGFzIHdlbGwgYXMgdGhlIHN0YXR1c1xyXG4gKiBvZiB0aGUgdGFzay5cclxuICpcclxuICogKipNZXRob2RzKipcclxuICpcclxuICogLSBgcmVzb2x2ZSh2YWx1ZSlgIOKAkyByZXNvbHZlcyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGB2YWx1ZWAuIElmIHRoZSB2YWx1ZSBpcyBhIHJlamVjdGlvblxyXG4gKiAgIGNvbnN0cnVjdGVkIHZpYSBgJHEucmVqZWN0YCwgdGhlIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCBpbnN0ZWFkLlxyXG4gKiAtIGByZWplY3QocmVhc29uKWAg4oCTIHJlamVjdHMgdGhlIGRlcml2ZWQgcHJvbWlzZSB3aXRoIHRoZSBgcmVhc29uYC4gVGhpcyBpcyBlcXVpdmFsZW50IHRvXHJcbiAqICAgcmVzb2x2aW5nIGl0IHdpdGggYSByZWplY3Rpb24gY29uc3RydWN0ZWQgdmlhIGAkcS5yZWplY3RgLlxyXG4gKiAtIGBub3RpZnkodmFsdWUpYCAtIHByb3ZpZGVzIHVwZGF0ZXMgb24gdGhlIHN0YXR1cyBvZiB0aGUgcHJvbWlzZSdzIGV4ZWN1dGlvbi4gVGhpcyBtYXkgYmUgY2FsbGVkXHJcbiAqICAgbXVsdGlwbGUgdGltZXMgYmVmb3JlIHRoZSBwcm9taXNlIGlzIGVpdGhlciByZXNvbHZlZCBvciByZWplY3RlZC5cclxuICpcclxuICogKipQcm9wZXJ0aWVzKipcclxuICpcclxuICogLSBwcm9taXNlIOKAkyBge1Byb21pc2V9YCDigJMgcHJvbWlzZSBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZGVmZXJyZWQuXHJcbiAqXHJcbiAqXHJcbiAqICMgVGhlIFByb21pc2UgQVBJXHJcbiAqXHJcbiAqIEEgbmV3IHByb21pc2UgaW5zdGFuY2UgaXMgY3JlYXRlZCB3aGVuIGEgZGVmZXJyZWQgaW5zdGFuY2UgaXMgY3JlYXRlZCBhbmQgY2FuIGJlIHJldHJpZXZlZCBieVxyXG4gKiBjYWxsaW5nIGBkZWZlcnJlZC5wcm9taXNlYC5cclxuICpcclxuICogVGhlIHB1cnBvc2Ugb2YgdGhlIHByb21pc2Ugb2JqZWN0IGlzIHRvIGFsbG93IGZvciBpbnRlcmVzdGVkIHBhcnRpZXMgdG8gZ2V0IGFjY2VzcyB0byB0aGUgcmVzdWx0XHJcbiAqIG9mIHRoZSBkZWZlcnJlZCB0YXNrIHdoZW4gaXQgY29tcGxldGVzLlxyXG4gKlxyXG4gKiAqKk1ldGhvZHMqKlxyXG4gKlxyXG4gKiAtIGB0aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgbm90aWZ5Q2FsbGJhY2spYCDigJMgcmVnYXJkbGVzcyBvZiB3aGVuIHRoZSBwcm9taXNlIHdhcyBvclxyXG4gKiAgIHdpbGwgYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQsIGB0aGVuYCBjYWxscyBvbmUgb2YgdGhlIHN1Y2Nlc3Mgb3IgZXJyb3IgY2FsbGJhY2tzIGFzeW5jaHJvbm91c2x5XHJcbiAqICAgYXMgc29vbiBhcyB0aGUgcmVzdWx0IGlzIGF2YWlsYWJsZS4gVGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQ6IHRoZSByZXN1bHRcclxuICogICBvciByZWplY3Rpb24gcmVhc29uLiBBZGRpdGlvbmFsbHksIHRoZSBub3RpZnkgY2FsbGJhY2sgbWF5IGJlIGNhbGxlZCB6ZXJvIG9yIG1vcmUgdGltZXMgdG9cclxuICogICBwcm92aWRlIGEgcHJvZ3Jlc3MgaW5kaWNhdGlvbiwgYmVmb3JlIHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkLlxyXG4gKlxyXG4gKiAgIFRoaXMgbWV0aG9kICpyZXR1cm5zIGEgbmV3IHByb21pc2UqIHdoaWNoIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZVxyXG4gKiAgIGBzdWNjZXNzQ2FsbGJhY2tgLCBgZXJyb3JDYWxsYmFja2AgKHVubGVzcyB0aGF0IHZhbHVlIGlzIGEgcHJvbWlzZSwgaW4gd2hpY2ggY2FzZSBpdCBpcyByZXNvbHZlZFxyXG4gKiAgIHdpdGggdGhlIHZhbHVlIHdoaWNoIGlzIHJlc29sdmVkIGluIHRoYXQgcHJvbWlzZSB1c2luZ1xyXG4gKiAgIFtwcm9taXNlIGNoYWluaW5nXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9lczYvcHJvbWlzZXMvI3RvYy1wcm9taXNlcy1xdWV1ZXMpKS5cclxuICogICBJdCBhbHNvIG5vdGlmaWVzIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgbm90aWZ5Q2FsbGJhY2tgIG1ldGhvZC4gVGhlIHByb21pc2UgY2Fubm90IGJlXHJcbiAqICAgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgZnJvbSB0aGUgbm90aWZ5Q2FsbGJhY2sgbWV0aG9kLlxyXG4gKlxyXG4gKiAtIGBjYXRjaChlcnJvckNhbGxiYWNrKWAg4oCTIHNob3J0aGFuZCBmb3IgYHByb21pc2UudGhlbihudWxsLCBlcnJvckNhbGxiYWNrKWBcclxuICpcclxuICogLSBgZmluYWxseShjYWxsYmFjaywgbm90aWZ5Q2FsbGJhY2spYCDigJMgYWxsb3dzIHlvdSB0byBvYnNlcnZlIGVpdGhlciB0aGUgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIG9mIGEgcHJvbWlzZSxcclxuICogICBidXQgdG8gZG8gc28gd2l0aG91dCBtb2RpZnlpbmcgdGhlIGZpbmFsIHZhbHVlLiBUaGlzIGlzIHVzZWZ1bCB0byByZWxlYXNlIHJlc291cmNlcyBvciBkbyBzb21lXHJcbiAqICAgY2xlYW4tdXAgdGhhdCBuZWVkcyB0byBiZSBkb25lIHdoZXRoZXIgdGhlIHByb21pc2Ugd2FzIHJlamVjdGVkIG9yIHJlc29sdmVkLiBTZWUgdGhlIFtmdWxsXHJcbiAqICAgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL3dpa2kvQVBJLVJlZmVyZW5jZSNwcm9taXNlZmluYWxseWNhbGxiYWNrKSBmb3JcclxuICogICBtb3JlIGluZm9ybWF0aW9uLlxyXG4gKlxyXG4gKiAjIENoYWluaW5nIHByb21pc2VzXHJcbiAqXHJcbiAqIEJlY2F1c2UgY2FsbGluZyB0aGUgYHRoZW5gIG1ldGhvZCBvZiBhIHByb21pc2UgcmV0dXJucyBhIG5ldyBkZXJpdmVkIHByb21pc2UsIGl0IGlzIGVhc2lseVxyXG4gKiBwb3NzaWJsZSB0byBjcmVhdGUgYSBjaGFpbiBvZiBwcm9taXNlczpcclxuICpcclxuICogYGBganNcclxuICogICBwcm9taXNlQiA9IHByb21pc2VBLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAqICAgICByZXR1cm4gcmVzdWx0ICsgMTtcclxuICogICB9KTtcclxuICpcclxuICogICAvLyBwcm9taXNlQiB3aWxsIGJlIHJlc29sdmVkIGltbWVkaWF0ZWx5IGFmdGVyIHByb21pc2VBIGlzIHJlc29sdmVkIGFuZCBpdHMgdmFsdWVcclxuICogICAvLyB3aWxsIGJlIHRoZSByZXN1bHQgb2YgcHJvbWlzZUEgaW5jcmVtZW50ZWQgYnkgMVxyXG4gKiBgYGBcclxuICpcclxuICogSXQgaXMgcG9zc2libGUgdG8gY3JlYXRlIGNoYWlucyBvZiBhbnkgbGVuZ3RoIGFuZCBzaW5jZSBhIHByb21pc2UgY2FuIGJlIHJlc29sdmVkIHdpdGggYW5vdGhlclxyXG4gKiBwcm9taXNlICh3aGljaCB3aWxsIGRlZmVyIGl0cyByZXNvbHV0aW9uIGZ1cnRoZXIpLCBpdCBpcyBwb3NzaWJsZSB0byBwYXVzZS9kZWZlciByZXNvbHV0aW9uIG9mXHJcbiAqIHRoZSBwcm9taXNlcyBhdCBhbnkgcG9pbnQgaW4gdGhlIGNoYWluLiBUaGlzIG1ha2VzIGl0IHBvc3NpYmxlIHRvIGltcGxlbWVudCBwb3dlcmZ1bCBBUElzIGxpa2VcclxuICogJGh0dHAncyByZXNwb25zZSBpbnRlcmNlcHRvcnMuXHJcbiAqXHJcbiAqXHJcbiAqICMgRGlmZmVyZW5jZXMgYmV0d2VlbiBLcmlzIEtvd2FsJ3MgUSBhbmQgJHFcclxuICpcclxuICogIFRoZXJlIGFyZSB0d28gbWFpbiBkaWZmZXJlbmNlczpcclxuICpcclxuICogLSAkcSBpcyBpbnRlZ3JhdGVkIHdpdGggdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlfSBTY29wZSBtb2RlbCBvYnNlcnZhdGlvblxyXG4gKiAgIG1lY2hhbmlzbSBpbiBhbmd1bGFyLCB3aGljaCBtZWFucyBmYXN0ZXIgcHJvcGFnYXRpb24gb2YgcmVzb2x1dGlvbiBvciByZWplY3Rpb24gaW50byB5b3VyXHJcbiAqICAgbW9kZWxzIGFuZCBhdm9pZGluZyB1bm5lY2Vzc2FyeSBicm93c2VyIHJlcGFpbnRzLCB3aGljaCB3b3VsZCByZXN1bHQgaW4gZmxpY2tlcmluZyBVSS5cclxuICogLSBRIGhhcyBtYW55IG1vcmUgZmVhdHVyZXMgdGhhbiAkcSwgYnV0IHRoYXQgY29tZXMgYXQgYSBjb3N0IG9mIGJ5dGVzLiAkcSBpcyB0aW55LCBidXQgY29udGFpbnNcclxuICogICBhbGwgdGhlIGltcG9ydGFudCBmdW5jdGlvbmFsaXR5IG5lZWRlZCBmb3IgY29tbW9uIGFzeW5jIHRhc2tzLlxyXG4gKlxyXG4gKiAjIFRlc3RpbmdcclxuICpcclxuICogIGBgYGpzXHJcbiAqICAgIGl0KCdzaG91bGQgc2ltdWxhdGUgcHJvbWlzZScsIGluamVjdChmdW5jdGlvbigkcSwgJHJvb3RTY29wZSkge1xyXG4gKiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAqICAgICAgdmFyIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xyXG4gKiAgICAgIHZhciByZXNvbHZlZFZhbHVlO1xyXG4gKlxyXG4gKiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkgeyByZXNvbHZlZFZhbHVlID0gdmFsdWU7IH0pO1xyXG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAqXHJcbiAqICAgICAgLy8gU2ltdWxhdGUgcmVzb2x2aW5nIG9mIHByb21pc2VcclxuICogICAgICBkZWZlcnJlZC5yZXNvbHZlKDEyMyk7XHJcbiAqICAgICAgLy8gTm90ZSB0aGF0IHRoZSAndGhlbicgZnVuY3Rpb24gZG9lcyBub3QgZ2V0IGNhbGxlZCBzeW5jaHJvbm91c2x5LlxyXG4gKiAgICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB3ZSB3YW50IHRoZSBwcm9taXNlIEFQSSB0byBhbHdheXMgYmUgYXN5bmMsIHdoZXRoZXIgb3Igbm90XHJcbiAqICAgICAgLy8gaXQgZ290IGNhbGxlZCBzeW5jaHJvbm91c2x5IG9yIGFzeW5jaHJvbm91c2x5LlxyXG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAqXHJcbiAqICAgICAgLy8gUHJvcGFnYXRlIHByb21pc2UgcmVzb2x1dGlvbiB0byAndGhlbicgZnVuY3Rpb25zIHVzaW5nICRhcHBseSgpLlxyXG4gKiAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XHJcbiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvRXF1YWwoMTIzKTtcclxuICogICAgfSkpO1xyXG4gKiAgYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24sIGZ1bmN0aW9uKX0gcmVzb2x2ZXIgRnVuY3Rpb24gd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIHJlc29sdmluZyBvclxyXG4gKiAgIHJlamVjdGluZyB0aGUgbmV3bHkgY3JlYXRlZCBwcm9taXNlLiBUaGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgZnVuY3Rpb24gd2hpY2ggcmVzb2x2ZXMgdGhlXHJcbiAqICAgcHJvbWlzZSwgdGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiB3aGljaCByZWplY3RzIHRoZSBwcm9taXNlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIG5ld2x5IGNyZWF0ZWQgcHJvbWlzZS5cclxuICovXHJcbmZ1bmN0aW9uICRRUHJvdmlkZXIoKSB7XHJcblxyXG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRleGNlcHRpb25IYW5kbGVyKSB7XHJcbiAgICByZXR1cm4gcUZhY3RvcnkoZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTtcclxuICAgIH0sICRleGNlcHRpb25IYW5kbGVyKTtcclxuICB9XTtcclxufVxyXG5cclxuZnVuY3Rpb24gJCRRUHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckYnJvd3NlcicsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCRicm93c2VyLCAkZXhjZXB0aW9uSGFuZGxlcikge1xyXG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICRicm93c2VyLmRlZmVyKGNhbGxiYWNrKTtcclxuICAgIH0sICRleGNlcHRpb25IYW5kbGVyKTtcclxuICB9XTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnN0cnVjdHMgYSBwcm9taXNlIG1hbmFnZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24pfSBuZXh0VGljayBGdW5jdGlvbiBmb3IgZXhlY3V0aW5nIGZ1bmN0aW9ucyBpbiB0aGUgbmV4dCB0dXJuLlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLiopfSBleGNlcHRpb25IYW5kbGVyIEZ1bmN0aW9uIGludG8gd2hpY2ggdW5leHBlY3RlZCBleGNlcHRpb25zIGFyZSBwYXNzZWQgZm9yXHJcbiAqICAgICBkZWJ1Z2dpbmcgcHVycG9zZXMuXHJcbiAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2UgbWFuYWdlci5cclxuICovXHJcbmZ1bmN0aW9uIHFGYWN0b3J5KG5leHRUaWNrLCBleGNlcHRpb25IYW5kbGVyKSB7XHJcbiAgdmFyICRxTWluRXJyID0gbWluRXJyKCckcScsIFR5cGVFcnJvcik7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBuZy4kcSNkZWZlclxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDcmVhdGVzIGEgYERlZmVycmVkYCBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyBhIHRhc2sgd2hpY2ggd2lsbCBmaW5pc2ggaW4gdGhlIGZ1dHVyZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtEZWZlcnJlZH0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBkZWZlcnJlZC5cclxuICAgKi9cclxuICB2YXIgZGVmZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBkID0gbmV3IERlZmVycmVkKCk7XHJcbiAgICAvL05lY2Vzc2FyeSB0byBzdXBwb3J0IHVuYm91bmQgZXhlY3V0aW9uIDovXHJcbiAgICBkLnJlc29sdmUgPSBzaW1wbGVCaW5kKGQsIGQucmVzb2x2ZSk7XHJcbiAgICBkLnJlamVjdCA9IHNpbXBsZUJpbmQoZCwgZC5yZWplY3QpO1xyXG4gICAgZC5ub3RpZnkgPSBzaW1wbGVCaW5kKGQsIGQubm90aWZ5KTtcclxuICAgIHJldHVybiBkO1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIFByb21pc2UoKSB7XHJcbiAgICB0aGlzLiQkc3RhdGUgPSB7IHN0YXR1czogMCB9O1xyXG4gIH1cclxuXHJcbiAgZXh0ZW5kKFByb21pc2UucHJvdG90eXBlLCB7XHJcbiAgICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvZ3Jlc3NCYWNrKSB7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChvbkZ1bGZpbGxlZCkgJiYgaXNVbmRlZmluZWQob25SZWplY3RlZCkgJiYgaXNVbmRlZmluZWQocHJvZ3Jlc3NCYWNrKSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcclxuXHJcbiAgICAgIHRoaXMuJCRzdGF0ZS5wZW5kaW5nID0gdGhpcy4kJHN0YXRlLnBlbmRpbmcgfHwgW107XHJcbiAgICAgIHRoaXMuJCRzdGF0ZS5wZW5kaW5nLnB1c2goW3Jlc3VsdCwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb2dyZXNzQmFja10pO1xyXG4gICAgICBpZiAodGhpcy4kJHN0YXRlLnN0YXR1cyA+IDApIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMuJCRzdGF0ZSk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0LnByb21pc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBjYWxsYmFjayk7XHJcbiAgICB9LFxyXG5cclxuICAgIFwiZmluYWxseVwiOiBmdW5jdGlvbihjYWxsYmFjaywgcHJvZ3Jlc3NCYWNrKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gaGFuZGxlQ2FsbGJhY2sodmFsdWUsIHRydWUsIGNhbGxiYWNrKTtcclxuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gaGFuZGxlQ2FsbGJhY2soZXJyb3IsIGZhbHNlLCBjYWxsYmFjayk7XHJcbiAgICAgIH0sIHByb2dyZXNzQmFjayk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vRmFzdGVyLCBtb3JlIGJhc2ljIHRoYW4gYW5ndWxhci5iaW5kIGh0dHA6Ly9qc3BlcmYuY29tL2FuZ3VsYXItYmluZC12cy1jdXN0b20tdnMtbmF0aXZlXHJcbiAgZnVuY3Rpb24gc2ltcGxlQmluZChjb250ZXh0LCBmbikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIGZuLmNhbGwoY29udGV4dCwgdmFsdWUpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHByb2Nlc3NRdWV1ZShzdGF0ZSkge1xyXG4gICAgdmFyIGZuLCBkZWZlcnJlZCwgcGVuZGluZztcclxuXHJcbiAgICBwZW5kaW5nID0gc3RhdGUucGVuZGluZztcclxuICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSBmYWxzZTtcclxuICAgIHN0YXRlLnBlbmRpbmcgPSB1bmRlZmluZWQ7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwZW5kaW5nLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcclxuICAgICAgZGVmZXJyZWQgPSBwZW5kaW5nW2ldWzBdO1xyXG4gICAgICBmbiA9IHBlbmRpbmdbaV1bc3RhdGUuc3RhdHVzXTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcclxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZm4oc3RhdGUudmFsdWUpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnN0YXR1cyA9PT0gMSkge1xyXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShzdGF0ZS52YWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChzdGF0ZS52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGUpO1xyXG4gICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHN0YXRlKSB7XHJcbiAgICBpZiAoc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCB8fCAhc3RhdGUucGVuZGluZykgcmV0dXJuO1xyXG4gICAgc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCA9IHRydWU7XHJcbiAgICBuZXh0VGljayhmdW5jdGlvbigpIHsgcHJvY2Vzc1F1ZXVlKHN0YXRlKTsgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBEZWZlcnJlZCgpIHtcclxuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKCk7XHJcbiAgfVxyXG5cclxuICBleHRlbmQoRGVmZXJyZWQucHJvdG90eXBlLCB7XHJcbiAgICByZXNvbHZlOiBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgaWYgKHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cykgcmV0dXJuO1xyXG4gICAgICBpZiAodmFsID09PSB0aGlzLnByb21pc2UpIHtcclxuICAgICAgICB0aGlzLiQkcmVqZWN0KCRxTWluRXJyKFxyXG4gICAgICAgICAgJ3FjeWNsZScsXHJcbiAgICAgICAgICBcIkV4cGVjdGVkIHByb21pc2UgdG8gYmUgcmVzb2x2ZWQgd2l0aCB2YWx1ZSBvdGhlciB0aGFuIGl0c2VsZiAnezB9J1wiLFxyXG4gICAgICAgICAgdmFsKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy4kJHJlc29sdmUodmFsKTtcclxuICAgICAgfVxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgJCRyZXNvbHZlOiBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgdmFyIHRoZW47XHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoKGlzT2JqZWN0KHZhbCkgfHwgaXNGdW5jdGlvbih2YWwpKSkgdGhlbiA9IHZhbCAmJiB2YWwudGhlbjtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xyXG4gICAgICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gLTE7XHJcbiAgICAgICAgICB0aGVuLmNhbGwodmFsLCByZXNvbHZlUHJvbWlzZSwgcmVqZWN0UHJvbWlzZSwgc2ltcGxlQmluZCh0aGlzLCB0aGlzLm5vdGlmeSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZSA9IHZhbDtcclxuICAgICAgICAgIHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IDE7XHJcbiAgICAgICAgICBzY2hlZHVsZVByb2Nlc3NRdWV1ZSh0aGlzLnByb21pc2UuJCRzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmVqZWN0UHJvbWlzZShlKTtcclxuICAgICAgICBleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWwpIHtcclxuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xyXG4gICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgIHRoYXQuJCRyZXNvbHZlKHZhbCk7XHJcbiAgICAgIH1cclxuICAgICAgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZSh2YWwpIHtcclxuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xyXG4gICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgIHRoYXQuJCRyZWplY3QodmFsKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICByZWplY3Q6IGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAgICBpZiAodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzKSByZXR1cm47XHJcbiAgICAgIHRoaXMuJCRyZWplY3QocmVhc29uKTtcclxuICAgIH0sXHJcblxyXG4gICAgJCRyZWplY3Q6IGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZSA9IHJlYXNvbjtcclxuICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gMjtcclxuICAgICAgc2NoZWR1bGVQcm9jZXNzUXVldWUodGhpcy5wcm9taXNlLiQkc3RhdGUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBub3RpZnk6IGZ1bmN0aW9uKHByb2dyZXNzKSB7XHJcbiAgICAgIHZhciBjYWxsYmFja3MgPSB0aGlzLnByb21pc2UuJCRzdGF0ZS5wZW5kaW5nO1xyXG5cclxuICAgICAgaWYgKCh0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPD0gMCkgJiYgY2FsbGJhY2tzICYmIGNhbGxiYWNrcy5sZW5ndGgpIHtcclxuICAgICAgICBuZXh0VGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciBjYWxsYmFjaywgcmVzdWx0O1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2tzW2ldWzBdO1xyXG4gICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXVszXTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICByZXN1bHQubm90aWZ5KGlzRnVuY3Rpb24oY2FsbGJhY2spID8gY2FsbGJhY2socHJvZ3Jlc3MpIDogcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkcSNyZWplY3RcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ3JlYXRlcyBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBhcyByZWplY3RlZCB3aXRoIHRoZSBzcGVjaWZpZWQgYHJlYXNvbmAuIFRoaXMgYXBpIHNob3VsZCBiZVxyXG4gICAqIHVzZWQgdG8gZm9yd2FyZCByZWplY3Rpb24gaW4gYSBjaGFpbiBvZiBwcm9taXNlcy4gSWYgeW91IGFyZSBkZWFsaW5nIHdpdGggdGhlIGxhc3QgcHJvbWlzZSBpblxyXG4gICAqIGEgcHJvbWlzZSBjaGFpbiwgeW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaXQuXHJcbiAgICpcclxuICAgKiBXaGVuIGNvbXBhcmluZyBkZWZlcnJlZHMvcHJvbWlzZXMgdG8gdGhlIGZhbWlsaWFyIGJlaGF2aW9yIG9mIHRyeS9jYXRjaC90aHJvdywgdGhpbmsgb2ZcclxuICAgKiBgcmVqZWN0YCBhcyB0aGUgYHRocm93YCBrZXl3b3JkIGluIEphdmFTY3JpcHQuIFRoaXMgYWxzbyBtZWFucyB0aGF0IGlmIHlvdSBcImNhdGNoXCIgYW4gZXJyb3IgdmlhXHJcbiAgICogYSBwcm9taXNlIGVycm9yIGNhbGxiYWNrIGFuZCB5b3Ugd2FudCB0byBmb3J3YXJkIHRoZSBlcnJvciB0byB0aGUgcHJvbWlzZSBkZXJpdmVkIGZyb20gdGhlXHJcbiAgICogY3VycmVudCBwcm9taXNlLCB5b3UgaGF2ZSB0byBcInJldGhyb3dcIiB0aGUgZXJyb3IgYnkgcmV0dXJuaW5nIGEgcmVqZWN0aW9uIGNvbnN0cnVjdGVkIHZpYVxyXG4gICAqIGByZWplY3RgLlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAgIHByb21pc2VCID0gcHJvbWlzZUEudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgKiAgICAgLy8gc3VjY2VzczogZG8gc29tZXRoaW5nIGFuZCByZXNvbHZlIHByb21pc2VCXHJcbiAgICogICAgIC8vICAgICAgICAgIHdpdGggdGhlIG9sZCBvciBhIG5ldyByZXN1bHRcclxuICAgKiAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAqICAgICAvLyBlcnJvcjogaGFuZGxlIHRoZSBlcnJvciBpZiBwb3NzaWJsZSBhbmRcclxuICAgKiAgICAgLy8gICAgICAgIHJlc29sdmUgcHJvbWlzZUIgd2l0aCBuZXdQcm9taXNlT3JWYWx1ZSxcclxuICAgKiAgICAgLy8gICAgICAgIG90aGVyd2lzZSBmb3J3YXJkIHRoZSByZWplY3Rpb24gdG8gcHJvbWlzZUJcclxuICAgKiAgICAgaWYgKGNhbkhhbmRsZShyZWFzb24pKSB7XHJcbiAgICogICAgICAvLyBoYW5kbGUgdGhlIGVycm9yIGFuZCByZWNvdmVyXHJcbiAgICogICAgICByZXR1cm4gbmV3UHJvbWlzZU9yVmFsdWU7XHJcbiAgICogICAgIH1cclxuICAgKiAgICAgcmV0dXJuICRxLnJlamVjdChyZWFzb24pO1xyXG4gICAqICAgfSk7XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IHJlYXNvbiBDb25zdGFudCwgbWVzc2FnZSwgZXhjZXB0aW9uIG9yIGFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHJlamVjdGlvbiByZWFzb24uXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2FzIGFscmVhZHkgcmVzb2x2ZWQgYXMgcmVqZWN0ZWQgd2l0aCB0aGUgYHJlYXNvbmAuXHJcbiAgICovXHJcbiAgdmFyIHJlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAgdmFyIHJlc3VsdCA9IG5ldyBEZWZlcnJlZCgpO1xyXG4gICAgcmVzdWx0LnJlamVjdChyZWFzb24pO1xyXG4gICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlO1xyXG4gIH07XHJcblxyXG4gIHZhciBtYWtlUHJvbWlzZSA9IGZ1bmN0aW9uIG1ha2VQcm9taXNlKHZhbHVlLCByZXNvbHZlZCkge1xyXG4gICAgdmFyIHJlc3VsdCA9IG5ldyBEZWZlcnJlZCgpO1xyXG4gICAgaWYgKHJlc29sdmVkKSB7XHJcbiAgICAgIHJlc3VsdC5yZXNvbHZlKHZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlc3VsdC5yZWplY3QodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlO1xyXG4gIH07XHJcblxyXG4gIHZhciBoYW5kbGVDYWxsYmFjayA9IGZ1bmN0aW9uIGhhbmRsZUNhbGxiYWNrKHZhbHVlLCBpc1Jlc29sdmVkLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIGNhbGxiYWNrT3V0cHV0ID0gbnVsbDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkgY2FsbGJhY2tPdXRwdXQgPSBjYWxsYmFjaygpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbWFrZVByb21pc2UoZSwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzUHJvbWlzZUxpa2UoY2FsbGJhY2tPdXRwdXQpKSB7XHJcbiAgICAgIHJldHVybiBjYWxsYmFja091dHB1dC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBtYWtlUHJvbWlzZSh2YWx1ZSwgaXNSZXNvbHZlZCk7XHJcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG1ha2VQcm9taXNlKGVycm9yLCBmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG1ha2VQcm9taXNlKHZhbHVlLCBpc1Jlc29sdmVkKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJHEjd2hlblxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBXcmFwcyBhbiBvYmplY3QgdGhhdCBtaWdodCBiZSBhIHZhbHVlIG9yIGEgKDNyZCBwYXJ0eSkgdGhlbi1hYmxlIHByb21pc2UgaW50byBhICRxIHByb21pc2UuXHJcbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiB5b3UgYXJlIGRlYWxpbmcgd2l0aCBhbiBvYmplY3QgdGhhdCBtaWdodCBvciBtaWdodCBub3QgYmUgYSBwcm9taXNlLCBvciBpZlxyXG4gICAqIHRoZSBwcm9taXNlIGNvbWVzIGZyb20gYSBzb3VyY2UgdGhhdCBjYW4ndCBiZSB0cnVzdGVkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSBvciBhIHByb21pc2VcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gc3VjY2Vzc0NhbGxiYWNrXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IGVycm9yQ2FsbGJhY2tcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gcHJvZ3Jlc3NDYWxsYmFja1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZSBvZiB0aGUgcGFzc2VkIHZhbHVlIG9yIHByb21pc2VcclxuICAgKi9cclxuXHJcblxyXG4gIHZhciB3aGVuID0gZnVuY3Rpb24odmFsdWUsIGNhbGxiYWNrLCBlcnJiYWNrLCBwcm9ncmVzc0JhY2spIHtcclxuICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcclxuICAgIHJlc3VsdC5yZXNvbHZlKHZhbHVlKTtcclxuICAgIHJldHVybiByZXN1bHQucHJvbWlzZS50aGVuKGNhbGxiYWNrLCBlcnJiYWNrLCBwcm9ncmVzc0JhY2spO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkcSNyZXNvbHZlXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEFsaWFzIG9mIHtAbGluayBuZy4kcSN3aGVuIHdoZW59IHRvIG1haW50YWluIG5hbWluZyBjb25zaXN0ZW5jeSB3aXRoIEVTNi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb3IgYSBwcm9taXNlXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHN1Y2Nlc3NDYWxsYmFja1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBlcnJvckNhbGxiYWNrXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHByb2dyZXNzQ2FsbGJhY2tcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2Ugb2YgdGhlIHBhc3NlZCB2YWx1ZSBvciBwcm9taXNlXHJcbiAgICovXHJcbiAgdmFyIHJlc29sdmUgPSB3aGVuO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJHEjYWxsXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENvbWJpbmVzIG11bHRpcGxlIHByb21pc2VzIGludG8gYSBzaW5nbGUgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gYWxsIG9mIHRoZSBpbnB1dFxyXG4gICAqIHByb21pc2VzIGFyZSByZXNvbHZlZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QXJyYXkuPFByb21pc2U+fE9iamVjdC48UHJvbWlzZT59IHByb21pc2VzIEFuIGFycmF5IG9yIGhhc2ggb2YgcHJvbWlzZXMuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBzaW5nbGUgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhbiBhcnJheS9oYXNoIG9mIHZhbHVlcyxcclxuICAgKiAgIGVhY2ggdmFsdWUgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvbWlzZSBhdCB0aGUgc2FtZSBpbmRleC9rZXkgaW4gdGhlIGBwcm9taXNlc2AgYXJyYXkvaGFzaC5cclxuICAgKiAgIElmIGFueSBvZiB0aGUgcHJvbWlzZXMgaXMgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbiwgdGhpcyByZXN1bHRpbmcgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkXHJcbiAgICogICB3aXRoIHRoZSBzYW1lIHJlamVjdGlvbiB2YWx1ZS5cclxuICAgKi9cclxuXHJcbiAgZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XHJcbiAgICB2YXIgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKSxcclxuICAgICAgICBjb3VudGVyID0gMCxcclxuICAgICAgICByZXN1bHRzID0gaXNBcnJheShwcm9taXNlcykgPyBbXSA6IHt9O1xyXG5cclxuICAgIGZvckVhY2gocHJvbWlzZXMsIGZ1bmN0aW9uKHByb21pc2UsIGtleSkge1xyXG4gICAgICBjb3VudGVyKys7XHJcbiAgICAgIHdoZW4ocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIGlmIChyZXN1bHRzLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybjtcclxuICAgICAgICByZXN1bHRzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICBpZiAoISgtLWNvdW50ZXIpKSBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdHMpO1xyXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcclxuICAgICAgICBpZiAocmVzdWx0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm47XHJcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGNvdW50ZXIgPT09IDApIHtcclxuICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICB9XHJcblxyXG4gIHZhciAkUSA9IGZ1bmN0aW9uIFEocmVzb2x2ZXIpIHtcclxuICAgIGlmICghaXNGdW5jdGlvbihyZXNvbHZlcikpIHtcclxuICAgICAgdGhyb3cgJHFNaW5FcnIoJ25vcnNsdnInLCBcIkV4cGVjdGVkIHJlc29sdmVyRm4sIGdvdCAnezB9J1wiLCByZXNvbHZlcik7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzb2x2ZUZuKHZhbHVlKSB7XHJcbiAgICAgIGRlZmVycmVkLnJlc29sdmUodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlamVjdEZuKHJlYXNvbikge1xyXG4gICAgICBkZWZlcnJlZC5yZWplY3QocmVhc29uKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNvbHZlcihyZXNvbHZlRm4sIHJlamVjdEZuKTtcclxuXHJcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICB9O1xyXG5cclxuICAvLyBMZXQncyBtYWtlIHRoZSBpbnN0YW5jZW9mIG9wZXJhdG9yIHdvcmsgZm9yIHByb21pc2VzLCBzbyB0aGF0XHJcbiAgLy8gYG5ldyAkcShmbikgaW5zdGFuY2VvZiAkcWAgd291bGQgZXZhbHVhdGUgdG8gdHJ1ZS5cclxuICAkUS5wcm90b3R5cGUgPSBQcm9taXNlLnByb3RvdHlwZTtcclxuXHJcbiAgJFEuZGVmZXIgPSBkZWZlcjtcclxuICAkUS5yZWplY3QgPSByZWplY3Q7XHJcbiAgJFEud2hlbiA9IHdoZW47XHJcbiAgJFEucmVzb2x2ZSA9IHJlc29sdmU7XHJcbiAgJFEuYWxsID0gYWxsO1xyXG5cclxuICByZXR1cm4gJFE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uICQkUkFGUHJvdmlkZXIoKSB7IC8vckFGXHJcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyR0aW1lb3V0JywgZnVuY3Rpb24oJHdpbmRvdywgJHRpbWVvdXQpIHtcclxuICAgIHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAkd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG5cclxuICAgIHZhciBjYW5jZWxBbmltYXRpb25GcmFtZSA9ICR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cud2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG5cclxuICAgIHZhciByYWZTdXBwb3J0ZWQgPSAhIXJlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuICAgIHZhciByYWYgPSByYWZTdXBwb3J0ZWRcclxuICAgICAgPyBmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgdmFyIGlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZuKTtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIDogZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAgIHZhciB0aW1lciA9ICR0aW1lb3V0KGZuLCAxNi42NiwgZmFsc2UpOyAvLyAxMDAwIC8gNjAgPSAxNi42NjZcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICByYWYuc3VwcG9ydGVkID0gcmFmU3VwcG9ydGVkO1xyXG5cclxuICAgIHJldHVybiByYWY7XHJcbiAgfV07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBERVNJR04gTk9URVNcclxuICpcclxuICogVGhlIGRlc2lnbiBkZWNpc2lvbnMgYmVoaW5kIHRoZSBzY29wZSBhcmUgaGVhdmlseSBmYXZvcmVkIGZvciBzcGVlZCBhbmQgbWVtb3J5IGNvbnN1bXB0aW9uLlxyXG4gKlxyXG4gKiBUaGUgdHlwaWNhbCB1c2Ugb2Ygc2NvcGUgaXMgdG8gd2F0Y2ggdGhlIGV4cHJlc3Npb25zLCB3aGljaCBtb3N0IG9mIHRoZSB0aW1lIHJldHVybiB0aGUgc2FtZVxyXG4gKiB2YWx1ZSBhcyBsYXN0IHRpbWUgc28gd2Ugb3B0aW1pemUgdGhlIG9wZXJhdGlvbi5cclxuICpcclxuICogQ2xvc3VyZXMgY29uc3RydWN0aW9uIGlzIGV4cGVuc2l2ZSBpbiB0ZXJtcyBvZiBzcGVlZCBhcyB3ZWxsIGFzIG1lbW9yeTpcclxuICogICAtIE5vIGNsb3N1cmVzLCBpbnN0ZWFkIHVzZSBwcm90b3R5cGljYWwgaW5oZXJpdGFuY2UgZm9yIEFQSVxyXG4gKiAgIC0gSW50ZXJuYWwgc3RhdGUgbmVlZHMgdG8gYmUgc3RvcmVkIG9uIHNjb3BlIGRpcmVjdGx5LCB3aGljaCBtZWFucyB0aGF0IHByaXZhdGUgc3RhdGUgaXNcclxuICogICAgIGV4cG9zZWQgYXMgJCRfX19fIHByb3BlcnRpZXNcclxuICpcclxuICogTG9vcCBvcGVyYXRpb25zIGFyZSBvcHRpbWl6ZWQgYnkgdXNpbmcgd2hpbGUoY291bnQtLSkgeyAuLi4gfVxyXG4gKiAgIC0gVGhpcyBtZWFucyB0aGF0IGluIG9yZGVyIHRvIGtlZXAgdGhlIHNhbWUgb3JkZXIgb2YgZXhlY3V0aW9uIGFzIGFkZGl0aW9uIHdlIGhhdmUgdG8gYWRkXHJcbiAqICAgICBpdGVtcyB0byB0aGUgYXJyYXkgYXQgdGhlIGJlZ2lubmluZyAodW5zaGlmdCkgaW5zdGVhZCBvZiBhdCB0aGUgZW5kIChwdXNoKVxyXG4gKlxyXG4gKiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgYW5kIHJlbW92ZWQgb2Z0ZW5cclxuICogICAtIFVzaW5nIGFuIGFycmF5IHdvdWxkIGJlIHNsb3cgc2luY2UgaW5zZXJ0cyBpbiB0aGUgbWlkZGxlIGFyZSBleHBlbnNpdmU7IHNvIHdlIHVzZSBsaW5rZWQgbGlzdHNcclxuICpcclxuICogVGhlcmUgYXJlIGZld2VyIHdhdGNoZXMgdGhhbiBvYnNlcnZlcnMuIFRoaXMgaXMgd2h5IHlvdSBkb24ndCB3YW50IHRoZSBvYnNlcnZlciB0byBiZSBpbXBsZW1lbnRlZFxyXG4gKiBpbiB0aGUgc2FtZSB3YXkgYXMgd2F0Y2guIFdhdGNoIHJlcXVpcmVzIHJldHVybiBvZiB0aGUgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24gd2hpY2ggaXMgZXhwZW5zaXZlXHJcbiAqIHRvIGNvbnN0cnVjdC5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkcm9vdFNjb3BlUHJvdmlkZXJcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFByb3ZpZGVyIGZvciB0aGUgJHJvb3RTY29wZSBzZXJ2aWNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRyb290U2NvcGVQcm92aWRlciNkaWdlc3RUdGxcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFNldHMgdGhlIG51bWJlciBvZiBgJGRpZ2VzdGAgaXRlcmF0aW9ucyB0aGUgc2NvcGUgc2hvdWxkIGF0dGVtcHQgdG8gZXhlY3V0ZSBiZWZvcmUgZ2l2aW5nIHVwIGFuZFxyXG4gKiBhc3N1bWluZyB0aGF0IHRoZSBtb2RlbCBpcyB1bnN0YWJsZS5cclxuICpcclxuICogVGhlIGN1cnJlbnQgZGVmYXVsdCBpcyAxMCBpdGVyYXRpb25zLlxyXG4gKlxyXG4gKiBJbiBjb21wbGV4IGFwcGxpY2F0aW9ucyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIGRlcGVuZGVuY2llcyBiZXR3ZWVuIGAkd2F0Y2hgcyB3aWxsIHJlc3VsdCBpblxyXG4gKiBzZXZlcmFsIGRpZ2VzdCBpdGVyYXRpb25zLiBIb3dldmVyIGlmIGFuIGFwcGxpY2F0aW9uIG5lZWRzIG1vcmUgdGhhbiB0aGUgZGVmYXVsdCAxMCBkaWdlc3RcclxuICogaXRlcmF0aW9ucyBmb3IgaXRzIG1vZGVsIHRvIHN0YWJpbGl6ZSB0aGVuIHlvdSBzaG91bGQgaW52ZXN0aWdhdGUgd2hhdCBpcyBjYXVzaW5nIHRoZSBtb2RlbCB0b1xyXG4gKiBjb250aW51b3VzbHkgY2hhbmdlIGR1cmluZyB0aGUgZGlnZXN0LlxyXG4gKlxyXG4gKiBJbmNyZWFzaW5nIHRoZSBUVEwgY291bGQgaGF2ZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMsIHNvIHlvdSBzaG91bGQgbm90IGNoYW5nZSBpdCB3aXRob3V0XHJcbiAqIHByb3BlciBqdXN0aWZpY2F0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG51bWJlciBvZiBkaWdlc3QgaXRlcmF0aW9ucy5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRyb290U2NvcGVcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIEV2ZXJ5IGFwcGxpY2F0aW9uIGhhcyBhIHNpbmdsZSByb290IHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfS5cclxuICogQWxsIG90aGVyIHNjb3BlcyBhcmUgZGVzY2VuZGFudCBzY29wZXMgb2YgdGhlIHJvb3Qgc2NvcGUuIFNjb3BlcyBwcm92aWRlIHNlcGFyYXRpb25cclxuICogYmV0d2VlbiB0aGUgbW9kZWwgYW5kIHRoZSB2aWV3LCB2aWEgYSBtZWNoYW5pc20gZm9yIHdhdGNoaW5nIHRoZSBtb2RlbCBmb3IgY2hhbmdlcy5cclxuICogVGhleSBhbHNvIHByb3ZpZGUgZXZlbnQgZW1pc3Npb24vYnJvYWRjYXN0IGFuZCBzdWJzY3JpcHRpb24gZmFjaWxpdHkuIFNlZSB0aGVcclxuICoge0BsaW5rIGd1aWRlL3Njb3BlIGRldmVsb3BlciBndWlkZSBvbiBzY29wZXN9LlxyXG4gKi9cclxuZnVuY3Rpb24gJFJvb3RTY29wZVByb3ZpZGVyKCkge1xyXG4gIHZhciBUVEwgPSAxMDtcclxuICB2YXIgJHJvb3RTY29wZU1pbkVyciA9IG1pbkVycignJHJvb3RTY29wZScpO1xyXG4gIHZhciBsYXN0RGlydHlXYXRjaCA9IG51bGw7XHJcbiAgdmFyIGFwcGx5QXN5bmNJZCA9IG51bGw7XHJcblxyXG4gIHRoaXMuZGlnZXN0VHRsID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIFRUTCA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFRUTDtcclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVDaGlsZFNjb3BlQ2xhc3MocGFyZW50KSB7XHJcbiAgICBmdW5jdGlvbiBDaGlsZFNjb3BlKCkge1xyXG4gICAgICB0aGlzLiQkd2F0Y2hlcnMgPSB0aGlzLiQkbmV4dFNpYmxpbmcgPVxyXG4gICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xyXG4gICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XHJcbiAgICAgIHRoaXMuJCRsaXN0ZW5lckNvdW50ID0ge307XHJcbiAgICAgIHRoaXMuJCR3YXRjaGVyc0NvdW50ID0gMDtcclxuICAgICAgdGhpcy4kaWQgPSBuZXh0VWlkKCk7XHJcbiAgICAgIHRoaXMuJCRDaGlsZFNjb3BlID0gbnVsbDtcclxuICAgIH1cclxuICAgIENoaWxkU2NvcGUucHJvdG90eXBlID0gcGFyZW50O1xyXG4gICAgcmV0dXJuIENoaWxkU2NvcGU7XHJcbiAgfVxyXG5cclxuICB0aGlzLiRnZXQgPSBbJyRleGNlcHRpb25IYW5kbGVyJywgJyRwYXJzZScsICckYnJvd3NlcicsXHJcbiAgICAgIGZ1bmN0aW9uKCRleGNlcHRpb25IYW5kbGVyLCAkcGFyc2UsICRicm93c2VyKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gZGVzdHJveUNoaWxkU2NvcGUoJGV2ZW50KSB7XHJcbiAgICAgICAgJGV2ZW50LmN1cnJlbnRTY29wZS4kJGRlc3Ryb3llZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYW5VcFNjb3BlKCRzY29wZSkge1xyXG5cclxuICAgICAgaWYgKG1zaWUgPT09IDkpIHtcclxuICAgICAgICAvLyBUaGVyZSBpcyBhIG1lbW9yeSBsZWFrIGluIElFOSBpZiBhbGwgY2hpbGQgc2NvcGVzIGFyZSBub3QgZGlzY29ubmVjdGVkXHJcbiAgICAgICAgLy8gY29tcGxldGVseSB3aGVuIGEgc2NvcGUgaXMgZGVzdHJveWVkLiBTbyB0aGlzIGNvZGUgd2lsbCByZWN1cnNlIHVwIHRocm91Z2hcclxuICAgICAgICAvLyBhbGwgdGhpcyBzY29wZXMgY2hpbGRyZW5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIFNlZSBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMDcwNlxyXG4gICAgICAgICRzY29wZS4kJGNoaWxkSGVhZCAmJiBjbGVhblVwU2NvcGUoJHNjb3BlLiQkY2hpbGRIZWFkKTtcclxuICAgICAgICAkc2NvcGUuJCRuZXh0U2libGluZyAmJiBjbGVhblVwU2NvcGUoJHNjb3BlLiQkbmV4dFNpYmxpbmcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUaGUgY29kZSBiZWxvdyB3b3JrcyBhcm91bmQgSUU5IGFuZCBWOCdzIG1lbW9yeSBsZWFrc1xyXG4gICAgICAvL1xyXG4gICAgICAvLyBTZWU6XHJcbiAgICAgIC8vIC0gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzMjYzI2XHJcbiAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNjc5NCNpc3N1ZWNvbW1lbnQtMzg2NDg5MDlcclxuICAgICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMzEzI2lzc3VlY29tbWVudC0xMDM3ODQ1MVxyXG5cclxuICAgICAgJHNjb3BlLiRwYXJlbnQgPSAkc2NvcGUuJCRuZXh0U2libGluZyA9ICRzY29wZS4kJHByZXZTaWJsaW5nID0gJHNjb3BlLiQkY2hpbGRIZWFkID1cclxuICAgICAgICAgICRzY29wZS4kJGNoaWxkVGFpbCA9ICRzY29wZS4kcm9vdCA9ICRzY29wZS4kJHdhdGNoZXJzID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyB0eXBlXHJcbiAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBBIHJvb3Qgc2NvcGUgY2FuIGJlIHJldHJpZXZlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUgJHJvb3RTY29wZX0ga2V5IGZyb20gdGhlXHJcbiAgICAgKiB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gQ2hpbGQgc2NvcGVzIGFyZSBjcmVhdGVkIHVzaW5nIHRoZVxyXG4gICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG5ldyAkbmV3KCl9IG1ldGhvZC4gKE1vc3Qgc2NvcGVzIGFyZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlblxyXG4gICAgICogY29tcGlsZWQgSFRNTCB0ZW1wbGF0ZSBpcyBleGVjdXRlZC4pIFNlZSBhbHNvIHRoZSB7QGxpbmsgZ3VpZGUvc2NvcGUgU2NvcGVzIGd1aWRlfSBmb3JcclxuICAgICAqIGFuIGluLWRlcHRoIGludHJvZHVjdGlvbiBhbmQgdXNhZ2UgZXhhbXBsZXMuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqICMgSW5oZXJpdGFuY2VcclxuICAgICAqIEEgc2NvcGUgY2FuIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZSwgYXMgaW4gdGhpcyBleGFtcGxlOlxyXG4gICAgICogYGBganNcclxuICAgICAgICAgdmFyIHBhcmVudCA9ICRyb290U2NvcGU7XHJcbiAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudC4kbmV3KCk7XHJcblxyXG4gICAgICAgICBwYXJlbnQuc2FsdXRhdGlvbiA9IFwiSGVsbG9cIjtcclxuICAgICAgICAgZXhwZWN0KGNoaWxkLnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XHJcblxyXG4gICAgICAgICBjaGlsZC5zYWx1dGF0aW9uID0gXCJXZWxjb21lXCI7XHJcbiAgICAgICAgIGV4cGVjdChjaGlsZC5zYWx1dGF0aW9uKS50b0VxdWFsKCdXZWxjb21lJyk7XHJcbiAgICAgICAgIGV4cGVjdChwYXJlbnQuc2FsdXRhdGlvbikudG9FcXVhbCgnSGVsbG8nKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFdoZW4gaW50ZXJhY3Rpbmcgd2l0aCBgU2NvcGVgIGluIHRlc3RzLCBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIGFyZSBhdmFpbGFibGUgb24gdGhlXHJcbiAgICAgKiBpbnN0YW5jZXMgb2YgYFNjb3BlYCB0eXBlLiBTZWUge0BsaW5rIG5nTW9jay4kcm9vdFNjb3BlLlNjb3BlIG5nTW9jayBTY29wZX0gZm9yIGFkZGl0aW9uYWxcclxuICAgICAqIGRldGFpbHMuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uKCk+PX0gcHJvdmlkZXJzIE1hcCBvZiBzZXJ2aWNlIGZhY3Rvcnkgd2hpY2ggbmVlZCB0byBiZVxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCBmb3IgdGhlIGN1cnJlbnQgc2NvcGUuIERlZmF1bHRzIHRvIHtAbGluayBuZ30uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCAqPj19IGluc3RhbmNlQ2FjaGUgUHJvdmlkZXMgcHJlLWluc3RhbnRpYXRlZCBzZXJ2aWNlcyB3aGljaCBzaG91bGRcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kL292ZXJyaWRlIHNlcnZpY2VzIHByb3ZpZGVkIGJ5IGBwcm92aWRlcnNgLiBUaGlzIGlzIGhhbmR5XHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gdW5pdC10ZXN0aW5nIGFuZCBoYXZpbmcgdGhlIG5lZWQgdG8gb3ZlcnJpZGUgYSBkZWZhdWx0XHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBOZXdseSBjcmVhdGVkIHNjb3BlLlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gU2NvcGUoKSB7XHJcbiAgICAgIHRoaXMuJGlkID0gbmV4dFVpZCgpO1xyXG4gICAgICB0aGlzLiQkcGhhc2UgPSB0aGlzLiRwYXJlbnQgPSB0aGlzLiQkd2F0Y2hlcnMgPVxyXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmcgPVxyXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLiQkY2hpbGRIZWFkID0gdGhpcy4kJGNoaWxkVGFpbCA9IG51bGw7XHJcbiAgICAgIHRoaXMuJHJvb3QgPSB0aGlzO1xyXG4gICAgICB0aGlzLiQkZGVzdHJveWVkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuJCRsaXN0ZW5lcnMgPSB7fTtcclxuICAgICAgdGhpcy4kJGxpc3RlbmVyQ291bnQgPSB7fTtcclxuICAgICAgdGhpcy4kJHdhdGNoZXJzQ291bnQgPSAwO1xyXG4gICAgICB0aGlzLiQkaXNvbGF0ZUJpbmRpbmdzID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkaWRcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFVuaXF1ZSBzY29wZSBJRCAobW9ub3RvbmljYWxseSBpbmNyZWFzaW5nKSB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cclxuICAgICAqL1xyXG5cclxuICAgICAvKipcclxuICAgICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRwYXJlbnRcclxuICAgICAgKlxyXG4gICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcGFyZW50IHNjb3BlLlxyXG4gICAgICAqL1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRyb290XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJvb3Qgc2NvcGUuXHJcbiAgICAgICAqL1xyXG5cclxuICAgIFNjb3BlLnByb3RvdHlwZSA9IHtcclxuICAgICAgY29uc3RydWN0b3I6IFNjb3BlLFxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRuZXdcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIENyZWF0ZXMgYSBuZXcgY2hpbGQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgcGFyZW50IHNjb3BlIHdpbGwgcHJvcGFnYXRlIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gZXZlbnQuXHJcbiAgICAgICAqIFRoZSBzY29wZSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzY29wZSBoaWVyYXJjaHkgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95ICRkZXN0cm95KCl9IG11c3QgYmUgY2FsbGVkIG9uIGEgc2NvcGUgd2hlbiBpdCBpc1xyXG4gICAgICAgKiBkZXNpcmVkIGZvciB0aGUgc2NvcGUgYW5kIGl0cyBjaGlsZCBzY29wZXMgdG8gYmUgcGVybWFuZW50bHkgZGV0YWNoZWQgZnJvbSB0aGUgcGFyZW50IGFuZFxyXG4gICAgICAgKiB0aHVzIHN0b3AgcGFydGljaXBhdGluZyBpbiBtb2RlbCBjaGFuZ2UgZGV0ZWN0aW9uIGFuZCBsaXN0ZW5lciBub3RpZmljYXRpb24gYnkgaW52b2tpbmcuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNvbGF0ZSBJZiB0cnVlLCB0aGVuIHRoZSBzY29wZSBkb2VzIG5vdCBwcm90b3R5cGljYWxseSBpbmhlcml0IGZyb20gdGhlXHJcbiAgICAgICAqICAgICAgICAgcGFyZW50IHNjb3BlLiBUaGUgc2NvcGUgaXMgaXNvbGF0ZWQsIGFzIGl0IGNhbiBub3Qgc2VlIHBhcmVudCBzY29wZSBwcm9wZXJ0aWVzLlxyXG4gICAgICAgKiAgICAgICAgIFdoZW4gY3JlYXRpbmcgd2lkZ2V0cywgaXQgaXMgdXNlZnVsIGZvciB0aGUgd2lkZ2V0IHRvIG5vdCBhY2NpZGVudGFsbHkgcmVhZCBwYXJlbnRcclxuICAgICAgICogICAgICAgICBzdGF0ZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtTY29wZX0gW3BhcmVudD10aGlzXSBUaGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgYFNjb3BlYH0gdGhhdCB3aWxsIGJlIHRoZSBgJHBhcmVudGBcclxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgbmV3bHkgY3JlYXRlZCBzY29wZS4gRGVmYXVsdHMgdG8gYHRoaXNgIHNjb3BlIGlmIG5vdCBwcm92aWRlZC5cclxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGlzIHVzZWQgd2hlbiBjcmVhdGluZyBhIHRyYW5zY2x1ZGUgc2NvcGUgdG8gY29ycmVjdGx5IHBsYWNlIGl0XHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gdGhlIHNjb3BlIGhpZXJhcmNoeSB3aGlsZSBtYWludGFpbmluZyB0aGUgY29ycmVjdCBwcm90b3R5cGljYWxcclxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0YW5jZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge09iamVjdH0gVGhlIG5ld2x5IGNyZWF0ZWQgY2hpbGQgc2NvcGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqL1xyXG4gICAgICAkbmV3OiBmdW5jdGlvbihpc29sYXRlLCBwYXJlbnQpIHtcclxuICAgICAgICB2YXIgY2hpbGQ7XHJcblxyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudCB8fCB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoaXNvbGF0ZSkge1xyXG4gICAgICAgICAgY2hpbGQgPSBuZXcgU2NvcGUoKTtcclxuICAgICAgICAgIGNoaWxkLiRyb290ID0gdGhpcy4kcm9vdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gT25seSBjcmVhdGUgYSBjaGlsZCBzY29wZSBjbGFzcyBpZiBzb21lYm9keSBhc2tzIGZvciBvbmUsXHJcbiAgICAgICAgICAvLyBidXQgY2FjaGUgaXQgdG8gYWxsb3cgdGhlIFZNIHRvIG9wdGltaXplIGxvb2t1cHMuXHJcbiAgICAgICAgICBpZiAoIXRoaXMuJCRDaGlsZFNjb3BlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJCRDaGlsZFNjb3BlID0gY3JlYXRlQ2hpbGRTY29wZUNsYXNzKHRoaXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY2hpbGQgPSBuZXcgdGhpcy4kJENoaWxkU2NvcGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hpbGQuJHBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICBjaGlsZC4kJHByZXZTaWJsaW5nID0gcGFyZW50LiQkY2hpbGRUYWlsO1xyXG4gICAgICAgIGlmIChwYXJlbnQuJCRjaGlsZEhlYWQpIHtcclxuICAgICAgICAgIHBhcmVudC4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nID0gY2hpbGQ7XHJcbiAgICAgICAgICBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRIZWFkID0gcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBXaGVuIHRoZSBuZXcgc2NvcGUgaXMgbm90IGlzb2xhdGVkIG9yIHdlIGluaGVyaXQgZnJvbSBgdGhpc2AsIGFuZFxyXG4gICAgICAgIC8vIHRoZSBwYXJlbnQgc2NvcGUgaXMgZGVzdHJveWVkLCB0aGUgcHJvcGVydHkgYCQkZGVzdHJveWVkYCBpcyBpbmhlcml0ZWRcclxuICAgICAgICAvLyBwcm90b3R5cGljYWxseS4gSW4gYWxsIG90aGVyIGNhc2VzLCB0aGlzIHByb3BlcnR5IG5lZWRzIHRvIGJlIHNldFxyXG4gICAgICAgIC8vIHdoZW4gdGhlIHBhcmVudCBzY29wZSBpcyBkZXN0cm95ZWQuXHJcbiAgICAgICAgLy8gVGhlIGxpc3RlbmVyIG5lZWRzIHRvIGJlIGFkZGVkIGFmdGVyIHRoZSBwYXJlbnQgaXMgc2V0XHJcbiAgICAgICAgaWYgKGlzb2xhdGUgfHwgcGFyZW50ICE9IHRoaXMpIGNoaWxkLiRvbignJGRlc3Ryb3knLCBkZXN0cm95Q2hpbGRTY29wZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZWdpc3RlcnMgYSBgbGlzdGVuZXJgIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW5ldmVyIHRoZSBgd2F0Y2hFeHByZXNzaW9uYCBjaGFuZ2VzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAtIFRoZSBgd2F0Y2hFeHByZXNzaW9uYCBpcyBjYWxsZWQgb24gZXZlcnkgY2FsbCB0byB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0XHJcbiAgICAgICAqICAgJGRpZ2VzdCgpfSBhbmQgc2hvdWxkIHJldHVybiB0aGUgdmFsdWUgdGhhdCB3aWxsIGJlIHdhdGNoZWQuIChgd2F0Y2hFeHByZXNzaW9uYCBzaG91bGQgbm90IGNoYW5nZVxyXG4gICAgICAgKiAgIGl0cyB2YWx1ZSB3aGVuIGV4ZWN1dGVkIG11bHRpcGxlIHRpbWVzIHdpdGggdGhlIHNhbWUgaW5wdXQgYmVjYXVzZSBpdCBtYXkgYmUgZXhlY3V0ZWQgbXVsdGlwbGVcclxuICAgICAgICogICB0aW1lcyBieSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0uIFRoYXQgaXMsIGB3YXRjaEV4cHJlc3Npb25gIHNob3VsZCBiZVxyXG4gICAgICAgKiAgIFtpZGVtcG90ZW50XShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lkZW1wb3RlbmNlKS5cclxuICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgb25seSB3aGVuIHRoZSB2YWx1ZSBmcm9tIHRoZSBjdXJyZW50IGB3YXRjaEV4cHJlc3Npb25gIGFuZCB0aGVcclxuICAgICAgICogICBwcmV2aW91cyBjYWxsIHRvIGB3YXRjaEV4cHJlc3Npb25gIGFyZSBub3QgZXF1YWwgKHdpdGggdGhlIGV4Y2VwdGlvbiBvZiB0aGUgaW5pdGlhbCBydW4sXHJcbiAgICAgICAqICAgc2VlIGJlbG93KS4gSW5lcXVhbGl0eSBpcyBkZXRlcm1pbmVkIGFjY29yZGluZyB0byByZWZlcmVuY2UgaW5lcXVhbGl0eSxcclxuICAgICAgICogICBbc3RyaWN0IGNvbXBhcmlzb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9Db21wYXJpc29uX09wZXJhdG9ycylcclxuICAgICAgICogICAgdmlhIHRoZSBgIT09YCBKYXZhc2NyaXB0IG9wZXJhdG9yLCB1bmxlc3MgYG9iamVjdEVxdWFsaXR5ID09IHRydWVgXHJcbiAgICAgICAqICAgKHNlZSBuZXh0IHBvaW50KVxyXG4gICAgICAgKiAtIFdoZW4gYG9iamVjdEVxdWFsaXR5ID09IHRydWVgLCBpbmVxdWFsaXR5IG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uYCBpcyBkZXRlcm1pbmVkXHJcbiAgICAgICAqICAgYWNjb3JkaW5nIHRvIHRoZSB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGZ1bmN0aW9uLiBUbyBzYXZlIHRoZSB2YWx1ZSBvZiB0aGUgb2JqZWN0IGZvclxyXG4gICAgICAgKiAgIGxhdGVyIGNvbXBhcmlzb24sIHRoZSB7QGxpbmsgYW5ndWxhci5jb3B5fSBmdW5jdGlvbiBpcyB1c2VkLiBUaGlzIHRoZXJlZm9yZSBtZWFucyB0aGF0XHJcbiAgICAgICAqICAgd2F0Y2hpbmcgY29tcGxleCBvYmplY3RzIHdpbGwgaGF2ZSBhZHZlcnNlIG1lbW9yeSBhbmQgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLlxyXG4gICAgICAgKiAtIFRoZSB3YXRjaCBgbGlzdGVuZXJgIG1heSBjaGFuZ2UgdGhlIG1vZGVsLCB3aGljaCBtYXkgdHJpZ2dlciBvdGhlciBgbGlzdGVuZXJgcyB0byBmaXJlLlxyXG4gICAgICAgKiAgIFRoaXMgaXMgYWNoaWV2ZWQgYnkgcmVydW5uaW5nIHRoZSB3YXRjaGVycyB1bnRpbCBubyBjaGFuZ2VzIGFyZSBkZXRlY3RlZC4gVGhlIHJlcnVuXHJcbiAgICAgICAqICAgaXRlcmF0aW9uIGxpbWl0IGlzIDEwIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCBkZWFkbG9jay5cclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogSWYgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQgd2hlbmV2ZXIge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBpcyBjYWxsZWQsXHJcbiAgICAgICAqIHlvdSBjYW4gcmVnaXN0ZXIgYSBgd2F0Y2hFeHByZXNzaW9uYCBmdW5jdGlvbiB3aXRoIG5vIGBsaXN0ZW5lcmAuIChCZSBwcmVwYXJlZCBmb3JcclxuICAgICAgICogbXVsdGlwbGUgY2FsbHMgdG8geW91ciBgd2F0Y2hFeHByZXNzaW9uYCBiZWNhdXNlIGl0IHdpbGwgZXhlY3V0ZSBtdWx0aXBsZSB0aW1lcyBpbiBhXHJcbiAgICAgICAqIHNpbmdsZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlIGlmIGEgY2hhbmdlIGlzIGRldGVjdGVkLilcclxuICAgICAgICpcclxuICAgICAgICogQWZ0ZXIgYSB3YXRjaGVyIGlzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgc2NvcGUsIHRoZSBgbGlzdGVuZXJgIGZuIGlzIGNhbGxlZCBhc3luY2hyb25vdXNseVxyXG4gICAgICAgKiAodmlhIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRldmFsQXN5bmMgJGV2YWxBc3luY30pIHRvIGluaXRpYWxpemUgdGhlXHJcbiAgICAgICAqIHdhdGNoZXIuIEluIHJhcmUgY2FzZXMsIHRoaXMgaXMgdW5kZXNpcmFibGUgYmVjYXVzZSB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkIHdoZW4gdGhlIHJlc3VsdFxyXG4gICAgICAgKiBvZiBgd2F0Y2hFeHByZXNzaW9uYCBkaWRuJ3QgY2hhbmdlLiBUbyBkZXRlY3QgdGhpcyBzY2VuYXJpbyB3aXRoaW4gdGhlIGBsaXN0ZW5lcmAgZm4sIHlvdVxyXG4gICAgICAgKiBjYW4gY29tcGFyZSB0aGUgYG5ld1ZhbGAgYW5kIGBvbGRWYWxgLiBJZiB0aGVzZSB0d28gdmFsdWVzIGFyZSBpZGVudGljYWwgKGA9PT1gKSB0aGVuIHRoZVxyXG4gICAgICAgKiBsaXN0ZW5lciB3YXMgY2FsbGVkIGR1ZSB0byBpbml0aWFsaXphdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogIyBFeGFtcGxlXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICAgLy8gbGV0J3MgYXNzdW1lIHRoYXQgc2NvcGUgd2FzIGRlcGVuZGVuY3kgaW5qZWN0ZWQgYXMgdGhlICRyb290U2NvcGVcclxuICAgICAgICAgICB2YXIgc2NvcGUgPSAkcm9vdFNjb3BlO1xyXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnbWlza28nO1xyXG4gICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xyXG5cclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcclxuICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSBzY29wZS5jb3VudGVyICsgMTtcclxuICAgICAgICAgICB9KTtcclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcclxuXHJcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciBpcyBhbHdheXMgY2FsbGVkIGR1cmluZyB0aGUgZmlyc3QgJGRpZ2VzdCBsb29wIGFmdGVyIGl0IHdhcyByZWdpc3RlcmVkXHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7XHJcblxyXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAvLyBidXQgbm93IGl0IHdpbGwgbm90IGJlIGNhbGxlZCB1bmxlc3MgdGhlIHZhbHVlIGNoYW5nZXNcclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcclxuXHJcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdhZGFtJztcclxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgLy8gVXNpbmcgYSBmdW5jdGlvbiBhcyBhIHdhdGNoRXhwcmVzc2lvblxyXG4gICAgICAgICAgIHZhciBmb29kO1xyXG4gICAgICAgICAgIHNjb3BlLmZvb2RDb3VudGVyID0gMDtcclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMCk7XHJcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKFxyXG4gICAgICAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB2YWx1ZSBiZWluZyB3YXRjaGVkLiBJdCBpcyBjYWxsZWQgZm9yIGVhY2ggdHVybiBvZiB0aGUgJGRpZ2VzdCBsb29wXHJcbiAgICAgICAgICAgICBmdW5jdGlvbigpIHsgcmV0dXJuIGZvb2Q7IH0sXHJcbiAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBjaGFuZ2UgbGlzdGVuZXIsIGNhbGxlZCB3aGVuIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBhYm92ZSBmdW5jdGlvbiBjaGFuZ2VzXHJcbiAgICAgICAgICAgICBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgaWYgKCBuZXdWYWx1ZSAhPT0gb2xkVmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgLy8gT25seSBpbmNyZW1lbnQgdGhlIGNvdW50ZXIgaWYgdGhlIHZhbHVlIGNoYW5nZWRcclxuICAgICAgICAgICAgICAgICBzY29wZS5mb29kQ291bnRlciA9IHNjb3BlLmZvb2RDb3VudGVyICsgMTtcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICk7XHJcbiAgICAgICAgICAgLy8gTm8gZGlnZXN0IGhhcyBiZWVuIHJ1biBzbyB0aGUgY291bnRlciB3aWxsIGJlIHplcm9cclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMCk7XHJcblxyXG4gICAgICAgICAgIC8vIFJ1biB0aGUgZGlnZXN0IGJ1dCBzaW5jZSBmb29kIGhhcyBub3QgY2hhbmdlZCBjb3VudCB3aWxsIHN0aWxsIGJlIHplcm9cclxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xyXG5cclxuICAgICAgICAgICAvLyBVcGRhdGUgZm9vZCBhbmQgcnVuIGRpZ2VzdC4gIE5vdyB0aGUgY291bnRlciB3aWxsIGluY3JlbWVudFxyXG4gICAgICAgICAgIGZvb2QgPSAnY2hlZXNlYnVyZ2VyJztcclxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDEpO1xyXG5cclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7KGZ1bmN0aW9uKCl8c3RyaW5nKX0gd2F0Y2hFeHByZXNzaW9uIEV4cHJlc3Npb24gdGhhdCBpcyBldmFsdWF0ZWQgb24gZWFjaFxyXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlLiBBIGNoYW5nZSBpbiB0aGUgcmV0dXJuIHZhbHVlIHRyaWdnZXJzXHJcbiAgICAgICAqICAgIGEgY2FsbCB0byB0aGUgYGxpc3RlbmVyYC5cclxuICAgICAgICpcclxuICAgICAgICogICAgLSBgc3RyaW5nYDogRXZhbHVhdGVkIGFzIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259XHJcbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGNhbGxlZCB3aXRoIGN1cnJlbnQgYHNjb3BlYCBhcyBhIHBhcmFtZXRlci5cclxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCwgc2NvcGUpfSBsaXN0ZW5lciBDYWxsYmFjayBjYWxsZWQgd2hlbmV2ZXIgdGhlIHZhbHVlXHJcbiAgICAgICAqICAgIG9mIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIC0gYG5ld1ZhbGAgY29udGFpbnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gXHJcbiAgICAgICAqICAgIC0gYG9sZFZhbGAgY29udGFpbnMgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uYFxyXG4gICAgICAgKiAgICAtIGBzY29wZWAgcmVmZXJzIHRvIHRoZSBjdXJyZW50IHNjb3BlXHJcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtvYmplY3RFcXVhbGl0eT1mYWxzZV0gQ29tcGFyZSBmb3Igb2JqZWN0IGVxdWFsaXR5IHVzaW5nIHtAbGluayBhbmd1bGFyLmVxdWFsc30gaW5zdGVhZCBvZlxyXG4gICAgICAgKiAgICAgY29tcGFyaW5nIGZvciByZWZlcmVuY2UgZXF1YWxpdHkuXHJcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuXHJcbiAgICAgICAqL1xyXG4gICAgICAkd2F0Y2g6IGZ1bmN0aW9uKHdhdGNoRXhwLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgIHZhciBnZXQgPSAkcGFyc2Uod2F0Y2hFeHApO1xyXG5cclxuICAgICAgICBpZiAoZ2V0LiQkd2F0Y2hEZWxlZ2F0ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGdldC4kJHdhdGNoRGVsZWdhdGUodGhpcywgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBnZXQsIHdhdGNoRXhwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcyxcclxuICAgICAgICAgICAgYXJyYXkgPSBzY29wZS4kJHdhdGNoZXJzLFxyXG4gICAgICAgICAgICB3YXRjaGVyID0ge1xyXG4gICAgICAgICAgICAgIGZuOiBsaXN0ZW5lcixcclxuICAgICAgICAgICAgICBsYXN0OiBpbml0V2F0Y2hWYWwsXHJcbiAgICAgICAgICAgICAgZ2V0OiBnZXQsXHJcbiAgICAgICAgICAgICAgZXhwOiBwcmV0dHlQcmludEV4cHJlc3Npb24gfHwgd2F0Y2hFeHAsXHJcbiAgICAgICAgICAgICAgZXE6ICEhb2JqZWN0RXF1YWxpdHlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICB3YXRjaGVyLmZuID0gbm9vcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYXJyYXkpIHtcclxuICAgICAgICAgIGFycmF5ID0gc2NvcGUuJCR3YXRjaGVycyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB3ZSB1c2UgdW5zaGlmdCBzaW5jZSB3ZSB1c2UgYSB3aGlsZSBsb29wIGluICRkaWdlc3QgZm9yIHNwZWVkLlxyXG4gICAgICAgIC8vIHRoZSB3aGlsZSBsb29wIHJlYWRzIGluIHJldmVyc2Ugb3JkZXIuXHJcbiAgICAgICAgYXJyYXkudW5zaGlmdCh3YXRjaGVyKTtcclxuICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHRoaXMsIDEpO1xyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3RlcldhdGNoKCkge1xyXG4gICAgICAgICAgaWYgKGFycmF5UmVtb3ZlKGFycmF5LCB3YXRjaGVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGluY3JlbWVudFdhdGNoZXJzQ291bnQoc2NvcGUsIC0xKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hHcm91cFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogQSB2YXJpYW50IG9mIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCAkd2F0Y2goKX0gd2hlcmUgaXQgd2F0Y2hlcyBhbiBhcnJheSBvZiBgd2F0Y2hFeHByZXNzaW9uc2AuXHJcbiAgICAgICAqIElmIGFueSBvbmUgZXhwcmVzc2lvbiBpbiB0aGUgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBgbGlzdGVuZXJgIGlzIGV4ZWN1dGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAtIFRoZSBpdGVtcyBpbiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgIGFycmF5IGFyZSBvYnNlcnZlZCB2aWEgc3RhbmRhcmQgJHdhdGNoIG9wZXJhdGlvbiBhbmQgYXJlIGV4YW1pbmVkIG9uIGV2ZXJ5XHJcbiAgICAgICAqICAgY2FsbCB0byAkZGlnZXN0KCkgdG8gc2VlIGlmIGFueSBpdGVtcyBjaGFuZ2VzLlxyXG4gICAgICAgKiAtIFRoZSBgbGlzdGVuZXJgIGlzIGNhbGxlZCB3aGVuZXZlciBhbnkgZXhwcmVzc2lvbiBpbiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgIGFycmF5IGNoYW5nZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZ3xGdW5jdGlvbihzY29wZSk+fSB3YXRjaEV4cHJlc3Npb25zIEFycmF5IG9mIGV4cHJlc3Npb25zIHRoYXQgd2lsbCBiZSBpbmRpdmlkdWFsbHlcclxuICAgICAgICogd2F0Y2hlZCB1c2luZyB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggJHdhdGNoKCl9XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3VmFsdWVzLCBvbGRWYWx1ZXMsIHNjb3BlKX0gbGlzdGVuZXIgQ2FsbGJhY2sgY2FsbGVkIHdoZW5ldmVyIHRoZSByZXR1cm4gdmFsdWUgb2YgYW55XHJcbiAgICAgICAqICAgIGV4cHJlc3Npb24gaW4gYHdhdGNoRXhwcmVzc2lvbnNgIGNoYW5nZXNcclxuICAgICAgICogICAgVGhlIGBuZXdWYWx1ZXNgIGFycmF5IGNvbnRhaW5zIHRoZSBjdXJyZW50IHZhbHVlcyBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgLCB3aXRoIHRoZSBpbmRleGVzIG1hdGNoaW5nXHJcbiAgICAgICAqICAgIHRob3NlIG9mIGB3YXRjaEV4cHJlc3Npb25gXHJcbiAgICAgICAqICAgIGFuZCB0aGUgYG9sZFZhbHVlc2AgYXJyYXkgY29udGFpbnMgdGhlIHByZXZpb3VzIHZhbHVlcyBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgLCB3aXRoIHRoZSBpbmRleGVzIG1hdGNoaW5nXHJcbiAgICAgICAqICAgIHRob3NlIG9mIGB3YXRjaEV4cHJlc3Npb25gXHJcbiAgICAgICAqICAgIFRoZSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZS5cclxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIGFsbCBsaXN0ZW5lcnMuXHJcbiAgICAgICAqL1xyXG4gICAgICAkd2F0Y2hHcm91cDogZnVuY3Rpb24od2F0Y2hFeHByZXNzaW9ucywgbGlzdGVuZXIpIHtcclxuICAgICAgICB2YXIgb2xkVmFsdWVzID0gbmV3IEFycmF5KHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKTtcclxuICAgICAgICB2YXIgbmV3VmFsdWVzID0gbmV3IEFycmF5KHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKTtcclxuICAgICAgICB2YXIgZGVyZWdpc3RlckZucyA9IFtdO1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgZmlyc3RSdW4gPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAoIXdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAvLyBObyBleHByZXNzaW9ucyBtZWFucyB3ZSBjYWxsIHRoZSBsaXN0ZW5lciBBU0FQXHJcbiAgICAgICAgICB2YXIgc2hvdWxkQ2FsbCA9IHRydWU7XHJcbiAgICAgICAgICBzZWxmLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRDYWxsKSBsaXN0ZW5lcihuZXdWYWx1ZXMsIG5ld1ZhbHVlcywgc2VsZik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2hHcm91cCgpIHtcclxuICAgICAgICAgICAgc2hvdWxkQ2FsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIHNpemUgb2Ygb25lXHJcbiAgICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2god2F0Y2hFeHByZXNzaW9uc1swXSwgZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbih2YWx1ZSwgb2xkVmFsdWUsIHNjb3BlKSB7XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlc1swXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBvbGRWYWx1ZXNbMF0gPSBvbGRWYWx1ZTtcclxuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCAodmFsdWUgPT09IG9sZFZhbHVlKSA/IG5ld1ZhbHVlcyA6IG9sZFZhbHVlcywgc2NvcGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3JFYWNoKHdhdGNoRXhwcmVzc2lvbnMsIGZ1bmN0aW9uKGV4cHIsIGkpIHtcclxuICAgICAgICAgIHZhciB1bndhdGNoRm4gPSBzZWxmLiR3YXRjaChleHByLCBmdW5jdGlvbiB3YXRjaEdyb3VwU3ViQWN0aW9uKHZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICBuZXdWYWx1ZXNbaV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgb2xkVmFsdWVzW2ldID0gb2xkVmFsdWU7XHJcbiAgICAgICAgICAgIGlmICghY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQpIHtcclxuICAgICAgICAgICAgICBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgc2VsZi4kZXZhbEFzeW5jKHdhdGNoR3JvdXBBY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGRlcmVnaXN0ZXJGbnMucHVzaCh1bndhdGNoRm4pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB3YXRjaEdyb3VwQWN0aW9uKCkge1xyXG4gICAgICAgICAgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICBpZiAoZmlyc3RSdW4pIHtcclxuICAgICAgICAgICAgZmlyc3RSdW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCBuZXdWYWx1ZXMsIHNlbGYpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCBvbGRWYWx1ZXMsIHNlbGYpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaEdyb3VwKCkge1xyXG4gICAgICAgICAgd2hpbGUgKGRlcmVnaXN0ZXJGbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGRlcmVnaXN0ZXJGbnMuc2hpZnQoKSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hDb2xsZWN0aW9uXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBTaGFsbG93IHdhdGNoZXMgdGhlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZCBmaXJlcyB3aGVuZXZlciBhbnkgb2YgdGhlIHByb3BlcnRpZXMgY2hhbmdlXHJcbiAgICAgICAqIChmb3IgYXJyYXlzLCB0aGlzIGltcGxpZXMgd2F0Y2hpbmcgdGhlIGFycmF5IGl0ZW1zOyBmb3Igb2JqZWN0IG1hcHMsIHRoaXMgaW1wbGllcyB3YXRjaGluZ1xyXG4gICAgICAgKiB0aGUgcHJvcGVydGllcykuIElmIGEgY2hhbmdlIGlzIGRldGVjdGVkLCB0aGUgYGxpc3RlbmVyYCBjYWxsYmFjayBpcyBmaXJlZC5cclxuICAgICAgICpcclxuICAgICAgICogLSBUaGUgYG9iamAgY29sbGVjdGlvbiBpcyBvYnNlcnZlZCB2aWEgc3RhbmRhcmQgJHdhdGNoIG9wZXJhdGlvbiBhbmQgaXMgZXhhbWluZWQgb24gZXZlcnlcclxuICAgICAgICogICBjYWxsIHRvICRkaWdlc3QoKSB0byBzZWUgaWYgYW55IGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCwgcmVtb3ZlZCwgb3IgbW92ZWQuXHJcbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIHdoZW5ldmVyIGFueXRoaW5nIHdpdGhpbiB0aGUgYG9iamAgaGFzIGNoYW5nZWQuIEV4YW1wbGVzIGluY2x1ZGVcclxuICAgICAgICogICBhZGRpbmcsIHJlbW92aW5nLCBhbmQgbW92aW5nIGl0ZW1zIGJlbG9uZ2luZyB0byBhbiBvYmplY3Qgb3IgYXJyYXkuXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMgRXhhbXBsZVxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydpZ29yJywgJ21hdGlhcycsICdtaXNrbycsICdqYW1lcyddO1xyXG4gICAgICAgICAgJHNjb3BlLmRhdGFDb3VudCA9IDQ7XHJcblxyXG4gICAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ25hbWVzJywgZnVuY3Rpb24obmV3TmFtZXMsIG9sZE5hbWVzKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRhQ291bnQgPSBuZXdOYW1lcy5sZW5ndGg7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCg0KTtcclxuICAgICAgICAgICRzY29wZS4kZGlnZXN0KCk7XHJcblxyXG4gICAgICAgICAgLy9zdGlsbCBhdCA0IC4uLiBubyBjaGFuZ2VzXHJcbiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCg0KTtcclxuXHJcbiAgICAgICAgICAkc2NvcGUubmFtZXMucG9wKCk7XHJcbiAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpO1xyXG5cclxuICAgICAgICAgIC8vbm93IHRoZXJlJ3MgYmVlbiBhIGNoYW5nZVxyXG4gICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoMyk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbihzY29wZSl9IG9iaiBFdmFsdWF0ZWQgYXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uIFRoZVxyXG4gICAgICAgKiAgICBleHByZXNzaW9uIHZhbHVlIHNob3VsZCBldmFsdWF0ZSB0byBhbiBvYmplY3Qgb3IgYW4gYXJyYXkgd2hpY2ggaXMgb2JzZXJ2ZWQgb24gZWFjaFxyXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlLiBBbnkgc2hhbGxvdyBjaGFuZ2Ugd2l0aGluIHRoZVxyXG4gICAgICAgKiAgICBjb2xsZWN0aW9uIHdpbGwgdHJpZ2dlciBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3Q29sbGVjdGlvbiwgb2xkQ29sbGVjdGlvbiwgc2NvcGUpfSBsaXN0ZW5lciBhIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZFxyXG4gICAgICAgKiAgICB3aGVuIGEgY2hhbmdlIGlzIGRldGVjdGVkLlxyXG4gICAgICAgKiAgICAtIFRoZSBgbmV3Q29sbGVjdGlvbmAgb2JqZWN0IGlzIHRoZSBuZXdseSBtb2RpZmllZCBkYXRhIG9idGFpbmVkIGZyb20gdGhlIGBvYmpgIGV4cHJlc3Npb25cclxuICAgICAgICogICAgLSBUaGUgYG9sZENvbGxlY3Rpb25gIG9iamVjdCBpcyBhIGNvcHkgb2YgdGhlIGZvcm1lciBjb2xsZWN0aW9uIGRhdGEuXHJcbiAgICAgICAqICAgICAgRHVlIHRvIHBlcmZvcm1hbmNlIGNvbnNpZGVyYXRpb25zLCB0aGVgb2xkQ29sbGVjdGlvbmAgdmFsdWUgaXMgY29tcHV0ZWQgb25seSBpZiB0aGVcclxuICAgICAgICogICAgICBgbGlzdGVuZXJgIGZ1bmN0aW9uIGRlY2xhcmVzIHR3byBvciBtb3JlIGFyZ3VtZW50cy5cclxuICAgICAgICogICAgLSBUaGUgYHNjb3BlYCBhcmd1bWVudCByZWZlcnMgdG8gdGhlIGN1cnJlbnQgc2NvcGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLiBXaGVuIHRoZVxyXG4gICAgICAgKiAgICBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gaXMgZXhlY3V0ZWQsIHRoZSBpbnRlcm5hbCB3YXRjaCBvcGVyYXRpb24gaXMgdGVybWluYXRlZC5cclxuICAgICAgICovXHJcbiAgICAgICR3YXRjaENvbGxlY3Rpb246IGZ1bmN0aW9uKG9iaiwgbGlzdGVuZXIpIHtcclxuICAgICAgICAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IuJHN0YXRlZnVsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIC8vIHRoZSBjdXJyZW50IHZhbHVlLCB1cGRhdGVkIG9uIGVhY2ggZGlydHktY2hlY2sgcnVuXHJcbiAgICAgICAgdmFyIG5ld1ZhbHVlO1xyXG4gICAgICAgIC8vIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBuZXdWYWx1ZSBmcm9tIHRoZSBsYXN0IGRpcnR5LWNoZWNrIHJ1bixcclxuICAgICAgICAvLyB1cGRhdGVkIHRvIG1hdGNoIG5ld1ZhbHVlIGR1cmluZyBkaXJ0eS1jaGVjayBydW5cclxuICAgICAgICB2YXIgb2xkVmFsdWU7XHJcbiAgICAgICAgLy8gYSBzaGFsbG93IGNvcHkgb2YgdGhlIG5ld1ZhbHVlIGZyb20gd2hlbiB0aGUgbGFzdCBjaGFuZ2UgaGFwcGVuZWRcclxuICAgICAgICB2YXIgdmVyeU9sZFZhbHVlO1xyXG4gICAgICAgIC8vIG9ubHkgdHJhY2sgdmVyeU9sZFZhbHVlIGlmIHRoZSBsaXN0ZW5lciBpcyBhc2tpbmcgZm9yIGl0XHJcbiAgICAgICAgdmFyIHRyYWNrVmVyeU9sZFZhbHVlID0gKGxpc3RlbmVyLmxlbmd0aCA+IDEpO1xyXG4gICAgICAgIHZhciBjaGFuZ2VEZXRlY3RlZCA9IDA7XHJcbiAgICAgICAgdmFyIGNoYW5nZURldGVjdG9yID0gJHBhcnNlKG9iaiwgJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKTtcclxuICAgICAgICB2YXIgaW50ZXJuYWxBcnJheSA9IFtdO1xyXG4gICAgICAgIHZhciBpbnRlcm5hbE9iamVjdCA9IHt9O1xyXG4gICAgICAgIHZhciBpbml0UnVuID0gdHJ1ZTtcclxuICAgICAgICB2YXIgb2xkTGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKF92YWx1ZSkge1xyXG4gICAgICAgICAgbmV3VmFsdWUgPSBfdmFsdWU7XHJcbiAgICAgICAgICB2YXIgbmV3TGVuZ3RoLCBrZXksIGJvdGhOYU4sIG5ld0l0ZW0sIG9sZEl0ZW07XHJcblxyXG4gICAgICAgICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyB1bmRlZmluZWQsIHRoZW4gcmV0dXJuIHVuZGVmaW5lZCBhcyB0aGUgd2F0Y2ggbWF5IGJlIGEgb25lLXRpbWUgd2F0Y2hcclxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChuZXdWYWx1ZSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICBpZiAoIWlzT2JqZWN0KG5ld1ZhbHVlKSkgeyAvLyBpZiBwcmltaXRpdmVcclxuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5TGlrZShuZXdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBpbnRlcm5hbEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgLy8gd2UgYXJlIHRyYW5zaXRpb25pbmcgZnJvbSBzb21ldGhpbmcgd2hpY2ggd2FzIG5vdCBhbiBhcnJheSBpbnRvIGFycmF5LlxyXG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gaW50ZXJuYWxBcnJheTtcclxuICAgICAgICAgICAgICBvbGRMZW5ndGggPSBvbGRWYWx1ZS5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ld0xlbmd0aCA9IG5ld1ZhbHVlLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGlmIChvbGRMZW5ndGggIT09IG5ld0xlbmd0aCkge1xyXG4gICAgICAgICAgICAgIC8vIGlmIGxlbmd0aHMgZG8gbm90IG1hdGNoIHdlIG5lZWQgdG8gdHJpZ2dlciBjaGFuZ2Ugbm90aWZpY2F0aW9uXHJcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgICBvbGRWYWx1ZS5sZW5ndGggPSBvbGRMZW5ndGggPSBuZXdMZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29weSB0aGUgaXRlbXMgdG8gb2xkVmFsdWUgYW5kIGxvb2sgZm9yIGNoYW5nZXMuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3TGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICBvbGRJdGVtID0gb2xkVmFsdWVbaV07XHJcbiAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ld1ZhbHVlW2ldO1xyXG5cclxuICAgICAgICAgICAgICBib3RoTmFOID0gKG9sZEl0ZW0gIT09IG9sZEl0ZW0pICYmIChuZXdJdGVtICE9PSBuZXdJdGVtKTtcclxuICAgICAgICAgICAgICBpZiAoIWJvdGhOYU4gJiYgKG9sZEl0ZW0gIT09IG5ld0l0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWVbaV0gPSBuZXdJdGVtO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBpbnRlcm5hbE9iamVjdCkge1xyXG4gICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gb2JqZWN0IGludG8gb2JqZWN0LlxyXG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gaW50ZXJuYWxPYmplY3QgPSB7fTtcclxuICAgICAgICAgICAgICBvbGRMZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29weSB0aGUgaXRlbXMgdG8gb2xkVmFsdWUgYW5kIGxvb2sgZm9yIGNoYW5nZXMuXHJcbiAgICAgICAgICAgIG5ld0xlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoa2V5IGluIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIG5ld0xlbmd0aCsrO1xyXG4gICAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ld1ZhbHVlW2tleV07XHJcbiAgICAgICAgICAgICAgICBvbGRJdGVtID0gb2xkVmFsdWVba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgIGJvdGhOYU4gPSAob2xkSXRlbSAhPT0gb2xkSXRlbSkgJiYgKG5ld0l0ZW0gIT09IG5ld0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoIWJvdGhOYU4gJiYgKG9sZEl0ZW0gIT09IG5ld0l0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZVtrZXldID0gbmV3SXRlbTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgb2xkTGVuZ3RoKys7XHJcbiAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xyXG4gICAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2xkTGVuZ3RoID4gbmV3TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgLy8gd2UgdXNlZCB0byBoYXZlIG1vcmUga2V5cywgbmVlZCB0byBmaW5kIHRoZW0gYW5kIGRlc3Ryb3kgdGhlbS5cclxuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xyXG4gICAgICAgICAgICAgIGZvciAoa2V5IGluIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgb2xkTGVuZ3RoLS07XHJcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvbGRWYWx1ZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGNoYW5nZURldGVjdGVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkFjdGlvbigpIHtcclxuICAgICAgICAgIGlmIChpbml0UnVuKSB7XHJcbiAgICAgICAgICAgIGluaXRSdW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWUsIG5ld1ZhbHVlLCBzZWxmKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCB2ZXJ5T2xkVmFsdWUsIHNlbGYpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIG1ha2UgYSBjb3B5IGZvciB0aGUgbmV4dCB0aW1lIGEgY29sbGVjdGlvbiBpcyBjaGFuZ2VkXHJcbiAgICAgICAgICBpZiAodHJhY2tWZXJ5T2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKCFpc09iamVjdChuZXdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAvL3ByaW1pdGl2ZVxyXG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXlMaWtlKG5ld1ZhbHVlKSkge1xyXG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IG5ldyBBcnJheShuZXdWYWx1ZS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3VmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZVtpXSA9IG5ld1ZhbHVlW2ldO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gaWYgb2JqZWN0XHJcbiAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlID0ge307XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChuZXdWYWx1ZSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWVba2V5XSA9IG5ld1ZhbHVlW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2goY2hhbmdlRGV0ZWN0b3IsICR3YXRjaENvbGxlY3Rpb25BY3Rpb24pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0XHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBQcm9jZXNzZXMgYWxsIG9mIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcnN9IG9mIHRoZSBjdXJyZW50IHNjb3BlIGFuZFxyXG4gICAgICAgKiBpdHMgY2hpbGRyZW4uIEJlY2F1c2UgYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcn0ncyBsaXN0ZW5lciBjYW4gY2hhbmdlXHJcbiAgICAgICAqIHRoZSBtb2RlbCwgdGhlIGAkZGlnZXN0KClgIGtlZXBzIGNhbGxpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVyc31cclxuICAgICAgICogdW50aWwgbm8gbW9yZSBsaXN0ZW5lcnMgYXJlIGZpcmluZy4gVGhpcyBtZWFucyB0aGF0IGl0IGlzIHBvc3NpYmxlIHRvIGdldCBpbnRvIGFuIGluZmluaXRlXHJcbiAgICAgICAqIGxvb3AuIFRoaXMgZnVuY3Rpb24gd2lsbCB0aHJvdyBgJ01heGltdW0gaXRlcmF0aW9uIGxpbWl0IGV4Y2VlZGVkLidgIGlmIHRoZSBudW1iZXIgb2ZcclxuICAgICAgICogaXRlcmF0aW9ucyBleGNlZWRzIDEwLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBVc3VhbGx5LCB5b3UgZG9uJ3QgY2FsbCBgJGRpZ2VzdCgpYCBkaXJlY3RseSBpblxyXG4gICAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ29udHJvbGxlciBjb250cm9sbGVyc30gb3IgaW5cclxuICAgICAgICoge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxyXG4gICAgICAgKiBJbnN0ZWFkLCB5b3Ugc2hvdWxkIGNhbGwge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseSgpfSAodHlwaWNhbGx5IGZyb20gd2l0aGluXHJcbiAgICAgICAqIGEge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlIGRpcmVjdGl2ZX0pLCB3aGljaCB3aWxsIGZvcmNlIGEgYCRkaWdlc3QoKWAuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIElmIHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkIHdoZW5ldmVyIGAkZGlnZXN0KClgIGlzIGNhbGxlZCxcclxuICAgICAgICogeW91IGNhbiByZWdpc3RlciBhIGB3YXRjaEV4cHJlc3Npb25gIGZ1bmN0aW9uIHdpdGhcclxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aXRoIG5vIGBsaXN0ZW5lcmAuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEluIHVuaXQgdGVzdHMsIHlvdSBtYXkgbmVlZCB0byBjYWxsIGAkZGlnZXN0KClgIHRvIHNpbXVsYXRlIHRoZSBzY29wZSBsaWZlIGN5Y2xlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAjIEV4YW1wbGVcclxuICAgICAgICogYGBganNcclxuICAgICAgICAgICB2YXIgc2NvcGUgPSAuLi47XHJcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdtaXNrbyc7XHJcbiAgICAgICAgICAgc2NvcGUuY291bnRlciA9IDA7XHJcblxyXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xyXG4gICAgICAgICAgIHNjb3BlLiR3YXRjaCgnbmFtZScsIGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgc2NvcGUuY291bnRlciA9IHNjb3BlLmNvdW50ZXIgKyAxO1xyXG4gICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xyXG5cclxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgLy8gdGhlIGxpc3RlbmVyIGlzIGFsd2F5cyBjYWxsZWQgZHVyaW5nIHRoZSBmaXJzdCAkZGlnZXN0IGxvb3AgYWZ0ZXIgaXQgd2FzIHJlZ2lzdGVyZWRcclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcclxuXHJcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgIC8vIGJ1dCBub3cgaXQgd2lsbCBub3QgYmUgY2FsbGVkIHVubGVzcyB0aGUgdmFsdWUgY2hhbmdlc1xyXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xyXG5cclxuICAgICAgICAgICBzY29wZS5uYW1lID0gJ2FkYW0nO1xyXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgyKTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqL1xyXG4gICAgICAkZGlnZXN0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgd2F0Y2gsIHZhbHVlLCBsYXN0LCBmbiwgZ2V0LFxyXG4gICAgICAgICAgICB3YXRjaGVycyxcclxuICAgICAgICAgICAgbGVuZ3RoLFxyXG4gICAgICAgICAgICBkaXJ0eSwgdHRsID0gVFRMLFxyXG4gICAgICAgICAgICBuZXh0LCBjdXJyZW50LCB0YXJnZXQgPSB0aGlzLFxyXG4gICAgICAgICAgICB3YXRjaExvZyA9IFtdLFxyXG4gICAgICAgICAgICBsb2dJZHgsIGFzeW5jVGFzaztcclxuXHJcbiAgICAgICAgYmVnaW5QaGFzZSgnJGRpZ2VzdCcpO1xyXG4gICAgICAgIC8vIENoZWNrIGZvciBjaGFuZ2VzIHRvIGJyb3dzZXIgdXJsIHRoYXQgaGFwcGVuZWQgaW4gc3luYyBiZWZvcmUgdGhlIGNhbGwgdG8gJGRpZ2VzdFxyXG4gICAgICAgICRicm93c2VyLiQkY2hlY2tVcmxDaGFuZ2UoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMgPT09ICRyb290U2NvcGUgJiYgYXBwbHlBc3luY0lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSByb290IHNjb3BlLCBhbmQgJGFwcGx5QXN5bmMgaGFzIHNjaGVkdWxlZCBhIGRlZmVycmVkICRhcHBseSgpLCB0aGVuXHJcbiAgICAgICAgICAvLyBjYW5jZWwgdGhlIHNjaGVkdWxlZCAkYXBwbHkgYW5kIGZsdXNoIHRoZSBxdWV1ZSBvZiBleHByZXNzaW9ucyB0byBiZSBldmFsdWF0ZWQuXHJcbiAgICAgICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwoYXBwbHlBc3luY0lkKTtcclxuICAgICAgICAgIGZsdXNoQXBwbHlBc3luYygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xyXG5cclxuICAgICAgICBkbyB7IC8vIFwid2hpbGUgZGlydHlcIiBsb29wXHJcbiAgICAgICAgICBkaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgY3VycmVudCA9IHRhcmdldDtcclxuXHJcbiAgICAgICAgICB3aGlsZSAoYXN5bmNRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBhc3luY1Rhc2sgPSBhc3luY1F1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgYXN5bmNUYXNrLnNjb3BlLiRldmFsKGFzeW5jVGFzay5leHByZXNzaW9uLCBhc3luY1Rhc2subG9jYWxzKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0cmF2ZXJzZVNjb3Blc0xvb3A6XHJcbiAgICAgICAgICBkbyB7IC8vIFwidHJhdmVyc2UgdGhlIHNjb3Blc1wiIGxvb3BcclxuICAgICAgICAgICAgaWYgKCh3YXRjaGVycyA9IGN1cnJlbnQuJCR3YXRjaGVycykpIHtcclxuICAgICAgICAgICAgICAvLyBwcm9jZXNzIG91ciB3YXRjaGVzXHJcbiAgICAgICAgICAgICAgbGVuZ3RoID0gd2F0Y2hlcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgd2F0Y2ggPSB3YXRjaGVyc1tsZW5ndGhdO1xyXG4gICAgICAgICAgICAgICAgICAvLyBNb3N0IGNvbW1vbiB3YXRjaGVzIGFyZSBvbiBwcmltaXRpdmVzLCBpbiB3aGljaCBjYXNlIHdlIGNhbiBzaG9ydFxyXG4gICAgICAgICAgICAgICAgICAvLyBjaXJjdWl0IGl0IHdpdGggPT09IG9wZXJhdG9yLCBvbmx5IHdoZW4gPT09IGZhaWxzIGRvIHdlIHVzZSAuZXF1YWxzXHJcbiAgICAgICAgICAgICAgICAgIGlmICh3YXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldCA9IHdhdGNoLmdldDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHZhbHVlID0gZ2V0KGN1cnJlbnQpKSAhPT0gKGxhc3QgPSB3YXRjaC5sYXN0KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhKHdhdGNoLmVxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGVxdWFscyh2YWx1ZSwgbGFzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGxhc3QgPT09ICdudW1iZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBpc05hTih2YWx1ZSkgJiYgaXNOYU4obGFzdCkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSB3YXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgIHdhdGNoLmxhc3QgPSB3YXRjaC5lcSA/IGNvcHkodmFsdWUsIG51bGwpIDogdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBmbiA9IHdhdGNoLmZuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgZm4odmFsdWUsICgobGFzdCA9PT0gaW5pdFdhdGNoVmFsKSA/IHZhbHVlIDogbGFzdCksIGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHR0bCA8IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nSWR4ID0gNCAtIHR0bDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3YXRjaExvZ1tsb2dJZHhdKSB3YXRjaExvZ1tsb2dJZHhdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoTG9nW2xvZ0lkeF0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBpc0Z1bmN0aW9uKHdhdGNoLmV4cCkgPyAnZm46ICcgKyAod2F0Y2guZXhwLm5hbWUgfHwgd2F0Y2guZXhwLnRvU3RyaW5nKCkpIDogd2F0Y2guZXhwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbDogdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkVmFsOiBsYXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2F0Y2ggPT09IGxhc3REaXJ0eVdhdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbW9zdCByZWNlbnRseSBkaXJ0eSB3YXRjaGVyIGlzIG5vdyBjbGVhbiwgc2hvcnQgY2lyY3VpdCBzaW5jZSB0aGUgcmVtYWluaW5nIHdhdGNoZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBoYXZlIGFscmVhZHkgYmVlbiB0ZXN0ZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgdHJhdmVyc2VTY29wZXNMb29wO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEluc2FuaXR5IFdhcm5pbmc6IHNjb3BlIGRlcHRoLWZpcnN0IHRyYXZlcnNhbFxyXG4gICAgICAgICAgICAvLyB5ZXMsIHRoaXMgY29kZSBpcyBhIGJpdCBjcmF6eSwgYnV0IGl0IHdvcmtzIGFuZCB3ZSBoYXZlIHRlc3RzIHRvIHByb3ZlIGl0IVxyXG4gICAgICAgICAgICAvLyB0aGlzIHBpZWNlIHNob3VsZCBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgdHJhdmVyc2FsIGluICRicm9hZGNhc3RcclxuICAgICAgICAgICAgaWYgKCEobmV4dCA9ICgoY3VycmVudC4kJHdhdGNoZXJzQ291bnQgJiYgY3VycmVudC4kJGNoaWxkSGVhZCkgfHxcclxuICAgICAgICAgICAgICAgIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgY3VycmVudC4kJG5leHRTaWJsaW5nKSkpKSB7XHJcbiAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IHRhcmdldCAmJiAhKG5leHQgPSBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC4kcGFyZW50O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBuZXh0KSk7XHJcblxyXG4gICAgICAgICAgLy8gYGJyZWFrIHRyYXZlcnNlU2NvcGVzTG9vcDtgIHRha2VzIHVzIHRvIGhlcmVcclxuXHJcbiAgICAgICAgICBpZiAoKGRpcnR5IHx8IGFzeW5jUXVldWUubGVuZ3RoKSAmJiAhKHR0bC0tKSkge1xyXG4gICAgICAgICAgICBjbGVhclBoYXNlKCk7XHJcbiAgICAgICAgICAgIHRocm93ICRyb290U2NvcGVNaW5FcnIoJ2luZmRpZycsXHJcbiAgICAgICAgICAgICAgICAnezB9ICRkaWdlc3QoKSBpdGVyYXRpb25zIHJlYWNoZWQuIEFib3J0aW5nIVxcbicgK1xyXG4gICAgICAgICAgICAgICAgJ1dhdGNoZXJzIGZpcmVkIGluIHRoZSBsYXN0IDUgaXRlcmF0aW9uczogezF9JyxcclxuICAgICAgICAgICAgICAgIFRUTCwgd2F0Y2hMb2cpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IHdoaWxlIChkaXJ0eSB8fCBhc3luY1F1ZXVlLmxlbmd0aCk7XHJcblxyXG4gICAgICAgIGNsZWFyUGhhc2UoKTtcclxuXHJcbiAgICAgICAgd2hpbGUgKHBvc3REaWdlc3RRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHBvc3REaWdlc3RRdWV1ZS5zaGlmdCgpKCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIGV2ZW50XHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3lcclxuICAgICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gc2NvcGUgYmVpbmcgZGVzdHJveWVkXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBCcm9hZGNhc3RlZCB3aGVuIGEgc2NvcGUgYW5kIGl0cyBjaGlsZHJlbiBhcmUgYmVpbmcgZGVzdHJveWVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBOb3RlIHRoYXQsIGluIEFuZ3VsYXJKUywgdGhlcmUgaXMgYWxzbyBhIGAkZGVzdHJveWAgalF1ZXJ5IGV2ZW50LCB3aGljaCBjYW4gYmUgdXNlZCB0b1xyXG4gICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXHJcbiAgICAgICAqL1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveVxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUmVtb3ZlcyB0aGUgY3VycmVudCBzY29wZSAoYW5kIGFsbCBvZiBpdHMgY2hpbGRyZW4pIGZyb20gdGhlIHBhcmVudCBzY29wZS4gUmVtb3ZhbCBpbXBsaWVzXHJcbiAgICAgICAqIHRoYXQgY2FsbHMgdG8ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IHdpbGwgbm8gbG9uZ2VyXHJcbiAgICAgICAqIHByb3BhZ2F0ZSB0byB0aGUgY3VycmVudCBzY29wZSBhbmQgaXRzIGNoaWxkcmVuLiBSZW1vdmFsIGFsc28gaW1wbGllcyB0aGF0IHRoZSBjdXJyZW50XHJcbiAgICAgICAqIHNjb3BlIGlzIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSBgJGRlc3Ryb3koKWAgaXMgdXN1YWxseSB1c2VkIGJ5IGRpcmVjdGl2ZXMgc3VjaCBhc1xyXG4gICAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fSBmb3IgbWFuYWdpbmcgdGhlXHJcbiAgICAgICAqIHVucm9sbGluZyBvZiB0aGUgbG9vcC5cclxuICAgICAgICpcclxuICAgICAgICogSnVzdCBiZWZvcmUgYSBzY29wZSBpcyBkZXN0cm95ZWQsIGEgYCRkZXN0cm95YCBldmVudCBpcyBicm9hZGNhc3RlZCBvbiB0aGlzIHNjb3BlLlxyXG4gICAgICAgKiBBcHBsaWNhdGlvbiBjb2RlIGNhbiByZWdpc3RlciBhIGAkZGVzdHJveWAgZXZlbnQgaGFuZGxlciB0aGF0IHdpbGwgZ2l2ZSBpdCBhIGNoYW5jZSB0b1xyXG4gICAgICAgKiBwZXJmb3JtIGFueSBuZWNlc3NhcnkgY2xlYW51cC5cclxuICAgICAgICpcclxuICAgICAgICogTm90ZSB0aGF0LCBpbiBBbmd1bGFySlMsIHRoZXJlIGlzIGFsc28gYSBgJGRlc3Ryb3lgIGpRdWVyeSBldmVudCwgd2hpY2ggY2FuIGJlIHVzZWQgdG9cclxuICAgICAgICogY2xlYW4gdXAgRE9NIGJpbmRpbmdzIGJlZm9yZSBhbiBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxyXG4gICAgICAgKi9cclxuICAgICAgJGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIFdlIGNhbid0IGRlc3Ryb3kgYSBzY29wZSB0aGF0IGhhcyBiZWVuIGFscmVhZHkgZGVzdHJveWVkLlxyXG4gICAgICAgIGlmICh0aGlzLiQkZGVzdHJveWVkKSByZXR1cm47XHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuJHBhcmVudDtcclxuXHJcbiAgICAgICAgdGhpcy4kYnJvYWRjYXN0KCckZGVzdHJveScpO1xyXG4gICAgICAgIHRoaXMuJCRkZXN0cm95ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAodGhpcyA9PT0gJHJvb3RTY29wZSkge1xyXG4gICAgICAgICAgLy9SZW1vdmUgaGFuZGxlcnMgYXR0YWNoZWQgdG8gd2luZG93IHdoZW4gJHJvb3RTY29wZSBpcyByZW1vdmVkXHJcbiAgICAgICAgICAkYnJvd3Nlci4kJGFwcGxpY2F0aW9uRGVzdHJveWVkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHRoaXMsIC10aGlzLiQkd2F0Y2hlcnNDb3VudCk7XHJcbiAgICAgICAgZm9yICh2YXIgZXZlbnROYW1lIGluIHRoaXMuJCRsaXN0ZW5lckNvdW50KSB7XHJcbiAgICAgICAgICBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KHRoaXMsIHRoaXMuJCRsaXN0ZW5lckNvdW50W2V2ZW50TmFtZV0sIGV2ZW50TmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzZXZlciBhbGwgdGhlIHJlZmVyZW5jZXMgdG8gcGFyZW50IHNjb3BlcyAoYWZ0ZXIgdGhpcyBjbGVhbnVwLCB0aGUgY3VycmVudCBzY29wZSBzaG91bGRcclxuICAgICAgICAvLyBub3QgYmUgcmV0YWluZWQgYnkgYW55IG9mIG91ciByZWZlcmVuY2VzIGFuZCBzaG91bGQgYmUgZWxpZ2libGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbilcclxuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC4kJGNoaWxkSGVhZCA9PSB0aGlzKSBwYXJlbnQuJCRjaGlsZEhlYWQgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XHJcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuJCRjaGlsZFRhaWwgPT0gdGhpcykgcGFyZW50LiQkY2hpbGRUYWlsID0gdGhpcy4kJHByZXZTaWJsaW5nO1xyXG4gICAgICAgIGlmICh0aGlzLiQkcHJldlNpYmxpbmcpIHRoaXMuJCRwcmV2U2libGluZy4kJG5leHRTaWJsaW5nID0gdGhpcy4kJG5leHRTaWJsaW5nO1xyXG4gICAgICAgIGlmICh0aGlzLiQkbmV4dFNpYmxpbmcpIHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nID0gdGhpcy4kJHByZXZTaWJsaW5nO1xyXG5cclxuICAgICAgICAvLyBEaXNhYmxlIGxpc3RlbmVycywgd2F0Y2hlcnMgYW5kIGFwcGx5L2RpZ2VzdCBtZXRob2RzXHJcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IHRoaXMuJGRpZ2VzdCA9IHRoaXMuJGFwcGx5ID0gdGhpcy4kZXZhbEFzeW5jID0gdGhpcy4kYXBwbHlBc3luYyA9IG5vb3A7XHJcbiAgICAgICAgdGhpcy4kb24gPSB0aGlzLiR3YXRjaCA9IHRoaXMuJHdhdGNoR3JvdXAgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5vb3A7IH07XHJcbiAgICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xyXG5cclxuICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSBuZXh0IHNpYmxpbmcgdG8gcHJldmVudCBgY2xlYW5VcFNjb3BlYCBkZXN0cm95aW5nIHRob3NlIHRvb1xyXG4gICAgICAgIHRoaXMuJCRuZXh0U2libGluZyA9IG51bGw7XHJcbiAgICAgICAgY2xlYW5VcFNjb3BlKHRoaXMpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogRXhlY3V0ZXMgdGhlIGBleHByZXNzaW9uYCBvbiB0aGUgY3VycmVudCBzY29wZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBBbnkgZXhjZXB0aW9ucyBpblxyXG4gICAgICAgKiB0aGUgZXhwcmVzc2lvbiBhcmUgcHJvcGFnYXRlZCAodW5jYXVnaHQpLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGV2YWx1YXRpbmcgQW5ndWxhclxyXG4gICAgICAgKiBleHByZXNzaW9ucy5cclxuICAgICAgICpcclxuICAgICAgICogIyBFeGFtcGxlXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICAgdmFyIHNjb3BlID0gbmcuJHJvb3RTY29wZS5TY29wZSgpO1xyXG4gICAgICAgICAgIHNjb3BlLmEgPSAxO1xyXG4gICAgICAgICAgIHNjb3BlLmIgPSAyO1xyXG5cclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuJGV2YWwoJ2ErYicpKS50b0VxdWFsKDMpO1xyXG4gICAgICAgICAgIGV4cGVjdChzY29wZS4kZXZhbChmdW5jdGlvbihzY29wZSl7IHJldHVybiBzY29wZS5hICsgc2NvcGUuYjsgfSkpLnRvRXF1YWwoMyk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHByZXNzaW9uIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICpcclxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXHJcbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7KG9iamVjdCk9fSBsb2NhbHMgTG9jYWwgdmFyaWFibGVzIG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpbiBzY29wZS5cclxuICAgICAgICogQHJldHVybnMgeyp9IFRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbi5cclxuICAgICAgICovXHJcbiAgICAgICRldmFsOiBmdW5jdGlvbihleHByLCBsb2NhbHMpIHtcclxuICAgICAgICByZXR1cm4gJHBhcnNlKGV4cHIpKHRoaXMsIGxvY2Fscyk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRldmFsQXN5bmNcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIEV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIG9uIHRoZSBjdXJyZW50IHNjb3BlIGF0IGEgbGF0ZXIgcG9pbnQgaW4gdGltZS5cclxuICAgICAgICpcclxuICAgICAgICogVGhlIGAkZXZhbEFzeW5jYCBtYWtlcyBubyBndWFyYW50ZWVzIGFzIHRvIHdoZW4gdGhlIGBleHByZXNzaW9uYCB3aWxsIGJlIGV4ZWN1dGVkLCBvbmx5XHJcbiAgICAgICAqIHRoYXQ6XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgLSBpdCB3aWxsIGV4ZWN1dGUgYWZ0ZXIgdGhlIGZ1bmN0aW9uIHRoYXQgc2NoZWR1bGVkIHRoZSBldmFsdWF0aW9uIChwcmVmZXJhYmx5IGJlZm9yZSBET01cclxuICAgICAgICogICAgIHJlbmRlcmluZykuXHJcbiAgICAgICAqICAgLSBhdCBsZWFzdCBvbmUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0IGN5Y2xlfSB3aWxsIGJlIHBlcmZvcm1lZCBhZnRlclxyXG4gICAgICAgKiAgICAgYGV4cHJlc3Npb25gIGV4ZWN1dGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXHJcbiAgICAgICAqIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cclxuICAgICAgICpcclxuICAgICAgICogX19Ob3RlOl9fIGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBgJGRpZ2VzdGAgY3ljbGUsIGEgbmV3IGAkZGlnZXN0YCBjeWNsZVxyXG4gICAgICAgKiB3aWxsIGJlIHNjaGVkdWxlZC4gSG93ZXZlciwgaXQgaXMgZW5jb3VyYWdlZCB0byBhbHdheXMgY2FsbCBjb2RlIHRoYXQgY2hhbmdlcyB0aGUgbW9kZWxcclxuICAgICAgICogZnJvbSB3aXRoaW4gYW4gYCRhcHBseWAgY2FsbC4gVGhhdCBpbmNsdWRlcyBjb2RlIGV2YWx1YXRlZCB2aWEgYCRldmFsQXN5bmNgLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHByZXNzaW9uIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICpcclxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cclxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxyXG4gICAgICAgKi9cclxuICAgICAgJGV2YWxBc3luYzogZnVuY3Rpb24oZXhwciwgbG9jYWxzKSB7XHJcbiAgICAgICAgLy8gaWYgd2UgYXJlIG91dHNpZGUgb2YgYW4gJGRpZ2VzdCBsb29wIGFuZCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHdlIGFyZSBzY2hlZHVsaW5nIGFzeW5jXHJcbiAgICAgICAgLy8gdGFzayBhbHNvIHNjaGVkdWxlIGFzeW5jIGF1dG8tZmx1c2hcclxuICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSAmJiAhYXN5bmNRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoYXN5bmNRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhc3luY1F1ZXVlLnB1c2goe3Njb3BlOiB0aGlzLCBleHByZXNzaW9uOiAkcGFyc2UoZXhwciksIGxvY2FsczogbG9jYWxzfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAkJHBvc3REaWdlc3Q6IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnB1c2goZm4pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYXBwbHlcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIGAkYXBwbHkoKWAgaXMgdXNlZCB0byBleGVjdXRlIGFuIGV4cHJlc3Npb24gaW4gYW5ndWxhciBmcm9tIG91dHNpZGUgb2YgdGhlIGFuZ3VsYXJcclxuICAgICAgICogZnJhbWV3b3JrLiAoRm9yIGV4YW1wbGUgZnJvbSBicm93c2VyIERPTSBldmVudHMsIHNldFRpbWVvdXQsIFhIUiBvciB0aGlyZCBwYXJ0eSBsaWJyYXJpZXMpLlxyXG4gICAgICAgKiBCZWNhdXNlIHdlIGFyZSBjYWxsaW5nIGludG8gdGhlIGFuZ3VsYXIgZnJhbWV3b3JrIHdlIG5lZWQgdG8gcGVyZm9ybSBwcm9wZXIgc2NvcGUgbGlmZVxyXG4gICAgICAgKiBjeWNsZSBvZiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgZXhjZXB0aW9uIGhhbmRsaW5nfSxcclxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCBleGVjdXRpbmcgd2F0Y2hlc30uXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIExpZmUgY3ljbGVcclxuICAgICAgICpcclxuICAgICAgICogIyBQc2V1ZG8tQ29kZSBvZiBgJGFwcGx5KClgXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICAgZnVuY3Rpb24gJGFwcGx5KGV4cHIpIHtcclxuICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgIHJldHVybiAkZXZhbChleHByKTtcclxuICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAkcm9vdC4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogU2NvcGUncyBgJGFwcGx5KClgIG1ldGhvZCB0cmFuc2l0aW9ucyB0aHJvdWdoIHRoZSBmb2xsb3dpbmcgc3RhZ2VzOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAxLiBUaGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgZXhlY3V0ZWQgdXNpbmcgdGhlXHJcbiAgICAgICAqICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRldmFsICRldmFsKCl9IG1ldGhvZC5cclxuICAgICAgICogMi4gQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXHJcbiAgICAgICAqICAgIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cclxuICAgICAgICogMy4gVGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaH0gbGlzdGVuZXJzIGFyZSBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGVcclxuICAgICAgICogICAgZXhwcmVzc2lvbiB3YXMgZXhlY3V0ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBtZXRob2QuXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cCBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXHJcbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMgeyp9IFRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbi5cclxuICAgICAgICovXHJcbiAgICAgICRhcHBseTogZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBiZWdpblBoYXNlKCckYXBwbHknKTtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRldmFsKGV4cHIpO1xyXG4gICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgY2xlYXJQaGFzZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYXBwbHlBc3luY1xyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2NoZWR1bGUgdGhlIGludm9jYXRpb24gb2YgJGFwcGx5IHRvIG9jY3VyIGF0IGEgbGF0ZXIgdGltZS4gVGhlIGFjdHVhbCB0aW1lIGRpZmZlcmVuY2VcclxuICAgICAgICogdmFyaWVzIGFjcm9zcyBicm93c2VycywgYnV0IGlzIHR5cGljYWxseSBhcm91bmQgfjEwIG1pbGxpc2Vjb25kcy5cclxuICAgICAgICpcclxuICAgICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBxdWV1ZSB1cCBtdWx0aXBsZSBleHByZXNzaW9ucyB3aGljaCBuZWVkIHRvIGJlIGV2YWx1YXRlZCBpbiB0aGUgc2FtZVxyXG4gICAgICAgKiBkaWdlc3QuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cCBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXHJcbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cclxuICAgICAgICovXHJcbiAgICAgICRhcHBseUFzeW5jOiBmdW5jdGlvbihleHByKSB7XHJcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcztcclxuICAgICAgICBleHByICYmIGFwcGx5QXN5bmNRdWV1ZS5wdXNoKCRhcHBseUFzeW5jRXhwcmVzc2lvbik7XHJcbiAgICAgICAgZXhwciA9ICRwYXJzZShleHByKTtcclxuICAgICAgICBzY2hlZHVsZUFwcGx5QXN5bmMoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gJGFwcGx5QXN5bmNFeHByZXNzaW9uKCkge1xyXG4gICAgICAgICAgc2NvcGUuJGV2YWwoZXhwcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkb25cclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIExpc3RlbnMgb24gZXZlbnRzIG9mIGEgZ2l2ZW4gdHlwZS4gU2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRlbWl0ICRlbWl0fSBmb3JcclxuICAgICAgICogZGlzY3Vzc2lvbiBvZiBldmVudCBsaWZlIGN5Y2xlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gZm9ybWF0IGlzOiBgZnVuY3Rpb24oZXZlbnQsIGFyZ3MuLi4pYC4gVGhlIGBldmVudGAgb2JqZWN0XHJcbiAgICAgICAqIHBhc3NlZCBpbnRvIHRoZSBsaXN0ZW5lciBoYXMgdGhlIGZvbGxvd2luZyBhdHRyaWJ1dGVzOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgIC0gYHRhcmdldFNjb3BlYCAtIGB7U2NvcGV9YDogdGhlIHNjb3BlIG9uIHdoaWNoIHRoZSBldmVudCB3YXMgYCRlbWl0YC1lZCBvclxyXG4gICAgICAgKiAgICAgYCRicm9hZGNhc3RgLWVkLlxyXG4gICAgICAgKiAgIC0gYGN1cnJlbnRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSB0aGF0IGlzIGN1cnJlbnRseSBoYW5kbGluZyB0aGUgZXZlbnQuIE9uY2UgdGhlXHJcbiAgICAgICAqICAgICBldmVudCBwcm9wYWdhdGVzIHRocm91Z2ggdGhlIHNjb3BlIGhpZXJhcmNoeSwgdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gbnVsbC5cclxuICAgICAgICogICAtIGBuYW1lYCAtIGB7c3RyaW5nfWA6IG5hbWUgb2YgdGhlIGV2ZW50LlxyXG4gICAgICAgKiAgIC0gYHN0b3BQcm9wYWdhdGlvbmAgLSBge2Z1bmN0aW9uPX1gOiBjYWxsaW5nIGBzdG9wUHJvcGFnYXRpb25gIGZ1bmN0aW9uIHdpbGwgY2FuY2VsXHJcbiAgICAgICAqICAgICBmdXJ0aGVyIGV2ZW50IHByb3BhZ2F0aW9uIChhdmFpbGFibGUgb25seSBmb3IgZXZlbnRzIHRoYXQgd2VyZSBgJGVtaXRgLWVkKS5cclxuICAgICAgICogICAtIGBwcmV2ZW50RGVmYXVsdGAgLSBge2Z1bmN0aW9ufWA6IGNhbGxpbmcgYHByZXZlbnREZWZhdWx0YCBzZXRzIGBkZWZhdWx0UHJldmVudGVkYCBmbGFnXHJcbiAgICAgICAqICAgICB0byB0cnVlLlxyXG4gICAgICAgKiAgIC0gYGRlZmF1bHRQcmV2ZW50ZWRgIC0gYHtib29sZWFufWA6IHRydWUgaWYgYHByZXZlbnREZWZhdWx0YCB3YXMgY2FsbGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lIHRvIGxpc3RlbiBvbi5cclxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudCwgLi4uYXJncyl9IGxpc3RlbmVyIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC5cclxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBsaXN0ZW5lci5cclxuICAgICAgICovXHJcbiAgICAgICRvbjogZnVuY3Rpb24obmFtZSwgbGlzdGVuZXIpIHtcclxuICAgICAgICB2YXIgbmFtZWRMaXN0ZW5lcnMgPSB0aGlzLiQkbGlzdGVuZXJzW25hbWVdO1xyXG4gICAgICAgIGlmICghbmFtZWRMaXN0ZW5lcnMpIHtcclxuICAgICAgICAgIHRoaXMuJCRsaXN0ZW5lcnNbbmFtZV0gPSBuYW1lZExpc3RlbmVycyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuYW1lZExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzO1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgIGlmICghY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0pIHtcclxuICAgICAgICAgICAgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gPSAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0rKztcclxuICAgICAgICB9IHdoaWxlICgoY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudCkpO1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIGluZGV4T2ZMaXN0ZW5lciA9IG5hbWVkTGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xyXG4gICAgICAgICAgaWYgKGluZGV4T2ZMaXN0ZW5lciAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnNbaW5kZXhPZkxpc3RlbmVyXSA9IG51bGw7XHJcbiAgICAgICAgICAgIGRlY3JlbWVudExpc3RlbmVyQ291bnQoc2VsZiwgMSwgbmFtZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRlbWl0XHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGBuYW1lYCB1cHdhcmRzIHRocm91Z2ggdGhlIHNjb3BlIGhpZXJhcmNoeSBub3RpZnlpbmcgdGhlXHJcbiAgICAgICAqIHJlZ2lzdGVyZWQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBsaXN0ZW5lcnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSBldmVudCBsaWZlIGN5Y2xlIHN0YXJ0cyBhdCB0aGUgc2NvcGUgb24gd2hpY2ggYCRlbWl0YCB3YXMgY2FsbGVkLiBBbGxcclxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gbGlzdGVuaW5nIGZvciBgbmFtZWAgZXZlbnQgb24gdGhpcyBzY29wZSBnZXRcclxuICAgICAgICogbm90aWZpZWQuIEFmdGVyd2FyZHMsIHRoZSBldmVudCB0cmF2ZXJzZXMgdXB3YXJkcyB0b3dhcmQgdGhlIHJvb3Qgc2NvcGUgYW5kIGNhbGxzIGFsbFxyXG4gICAgICAgKiByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgd2lsbCBzdG9wIHByb3BhZ2F0aW5nIGlmIG9uZSBvZiB0aGUgbGlzdGVuZXJzXHJcbiAgICAgICAqIGNhbmNlbHMgaXQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxyXG4gICAgICAgKiBvbnRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gZW1pdC5cclxuICAgICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIG9uZSBvciBtb3JlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHBhc3NlZCBvbnRvIHRoZSBldmVudCBsaXN0ZW5lcnMuXHJcbiAgICAgICAqIEByZXR1cm4ge09iamVjdH0gRXZlbnQgb2JqZWN0IChzZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSkuXHJcbiAgICAgICAqL1xyXG4gICAgICAkZW1pdDogZnVuY3Rpb24obmFtZSwgYXJncykge1xyXG4gICAgICAgIHZhciBlbXB0eSA9IFtdLFxyXG4gICAgICAgICAgICBuYW1lZExpc3RlbmVycyxcclxuICAgICAgICAgICAgc2NvcGUgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdG9wUHJvcGFnYXRpb24gPSBmYWxzZSxcclxuICAgICAgICAgICAgZXZlbnQgPSB7XHJcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICB0YXJnZXRTY29wZTogc2NvcGUsXHJcbiAgICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtzdG9wUHJvcGFnYXRpb24gPSB0cnVlO30sXHJcbiAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkOiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaXN0ZW5lckFyZ3MgPSBjb25jYXQoW2V2ZW50XSwgYXJndW1lbnRzLCAxKSxcclxuICAgICAgICAgICAgaSwgbGVuZ3RoO1xyXG5cclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICBuYW1lZExpc3RlbmVycyA9IHNjb3BlLiQkbGlzdGVuZXJzW25hbWVdIHx8IGVtcHR5O1xyXG4gICAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lZExpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgbGlzdGVuZXJzIHdlcmUgZGVyZWdpc3RlcmVkLCBkZWZyYWdtZW50IHRoZSBhcnJheVxyXG4gICAgICAgICAgICBpZiAoIW5hbWVkTGlzdGVuZXJzW2ldKSB7XHJcbiAgICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICBsZW5ndGgtLTtcclxuICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIC8vYWxsb3cgYWxsIGxpc3RlbmVycyBhdHRhY2hlZCB0byB0aGUgY3VycmVudCBzY29wZSB0byBydW5cclxuICAgICAgICAgICAgICBuYW1lZExpc3RlbmVyc1tpXS5hcHBseShudWxsLCBsaXN0ZW5lckFyZ3MpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vaWYgYW55IGxpc3RlbmVyIG9uIHRoZSBjdXJyZW50IHNjb3BlIHN0b3BzIHByb3BhZ2F0aW9uLCBwcmV2ZW50IGJ1YmJsaW5nXHJcbiAgICAgICAgICBpZiAoc3RvcFByb3BhZ2F0aW9uKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybiBldmVudDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vdHJhdmVyc2UgdXB3YXJkc1xyXG4gICAgICAgICAgc2NvcGUgPSBzY29wZS4kcGFyZW50O1xyXG4gICAgICAgIH0gd2hpbGUgKHNjb3BlKTtcclxuXHJcbiAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGJyb2FkY2FzdFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBgbmFtZWAgZG93bndhcmRzIHRvIGFsbCBjaGlsZCBzY29wZXMgKGFuZCB0aGVpciBjaGlsZHJlbikgbm90aWZ5aW5nIHRoZVxyXG4gICAgICAgKiByZWdpc3RlcmVkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gbGlzdGVuZXJzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgZXZlbnQgbGlmZSBjeWNsZSBzdGFydHMgYXQgdGhlIHNjb3BlIG9uIHdoaWNoIGAkYnJvYWRjYXN0YCB3YXMgY2FsbGVkLiBBbGxcclxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gbGlzdGVuaW5nIGZvciBgbmFtZWAgZXZlbnQgb24gdGhpcyBzY29wZSBnZXRcclxuICAgICAgICogbm90aWZpZWQuIEFmdGVyd2FyZHMsIHRoZSBldmVudCBwcm9wYWdhdGVzIHRvIGFsbCBkaXJlY3QgYW5kIGluZGlyZWN0IHNjb3BlcyBvZiB0aGUgY3VycmVudFxyXG4gICAgICAgKiBzY29wZSBhbmQgY2FsbHMgYWxsIHJlZ2lzdGVyZWQgbGlzdGVuZXJzIGFsb25nIHRoZSB3YXkuIFRoZSBldmVudCBjYW5ub3QgYmUgY2FuY2VsZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxyXG4gICAgICAgKiBvbnRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gYnJvYWRjYXN0LlxyXG4gICAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgT3B0aW9uYWwgb25lIG9yIG1vcmUgYXJndW1lbnRzIHdoaWNoIHdpbGwgYmUgcGFzc2VkIG9udG8gdGhlIGV2ZW50IGxpc3RlbmVycy5cclxuICAgICAgICogQHJldHVybiB7T2JqZWN0fSBFdmVudCBvYmplY3QsIHNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259XHJcbiAgICAgICAqL1xyXG4gICAgICAkYnJvYWRjYXN0OiBmdW5jdGlvbihuYW1lLCBhcmdzKSB7XHJcbiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMsXHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQsXHJcbiAgICAgICAgICAgIG5leHQgPSB0YXJnZXQsXHJcbiAgICAgICAgICAgIGV2ZW50ID0ge1xyXG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgdGFyZ2V0U2NvcGU6IHRhcmdldCxcclxuICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmICghdGFyZ2V0LiQkbGlzdGVuZXJDb3VudFtuYW1lXSkgcmV0dXJuIGV2ZW50O1xyXG5cclxuICAgICAgICB2YXIgbGlzdGVuZXJBcmdzID0gY29uY2F0KFtldmVudF0sIGFyZ3VtZW50cywgMSksXHJcbiAgICAgICAgICAgIGxpc3RlbmVycywgaSwgbGVuZ3RoO1xyXG5cclxuICAgICAgICAvL2Rvd24gd2hpbGUgeW91IGNhbiwgdGhlbiB1cCBhbmQgbmV4dCBzaWJsaW5nIG9yIHVwIGFuZCBuZXh0IHNpYmxpbmcgdW50aWwgYmFjayBhdCByb290XHJcbiAgICAgICAgd2hpbGUgKChjdXJyZW50ID0gbmV4dCkpIHtcclxuICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICBsaXN0ZW5lcnMgPSBjdXJyZW50LiQkbGlzdGVuZXJzW25hbWVdIHx8IFtdO1xyXG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXlcclxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcnNbaV0pIHtcclxuICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICBsZW5ndGgtLTtcclxuICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCwgbGlzdGVuZXJBcmdzKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSW5zYW5pdHkgV2FybmluZzogc2NvcGUgZGVwdGgtZmlyc3QgdHJhdmVyc2FsXHJcbiAgICAgICAgICAvLyB5ZXMsIHRoaXMgY29kZSBpcyBhIGJpdCBjcmF6eSwgYnV0IGl0IHdvcmtzIGFuZCB3ZSBoYXZlIHRlc3RzIHRvIHByb3ZlIGl0IVxyXG4gICAgICAgICAgLy8gdGhpcyBwaWVjZSBzaG91bGQgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIHRyYXZlcnNhbCBpbiAkZGlnZXN0XHJcbiAgICAgICAgICAvLyAodGhvdWdoIGl0IGRpZmZlcnMgZHVlIHRvIGhhdmluZyB0aGUgZXh0cmEgY2hlY2sgZm9yICQkbGlzdGVuZXJDb3VudClcclxuICAgICAgICAgIGlmICghKG5leHQgPSAoKGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdICYmIGN1cnJlbnQuJCRjaGlsZEhlYWQpIHx8XHJcbiAgICAgICAgICAgICAgKGN1cnJlbnQgIT09IHRhcmdldCAmJiBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSkpIHtcclxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IHRhcmdldCAmJiAhKG5leHQgPSBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSB7XHJcbiAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyICRyb290U2NvcGUgPSBuZXcgU2NvcGUoKTtcclxuXHJcbiAgICAvL1RoZSBpbnRlcm5hbCBxdWV1ZXMuIEV4cG9zZSB0aGVtIG9uIHRoZSAkcm9vdFNjb3BlIGZvciBkZWJ1Z2dpbmcvdGVzdGluZyBwdXJwb3Nlcy5cclxuICAgIHZhciBhc3luY1F1ZXVlID0gJHJvb3RTY29wZS4kJGFzeW5jUXVldWUgPSBbXTtcclxuICAgIHZhciBwb3N0RGlnZXN0UXVldWUgPSAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdFF1ZXVlID0gW107XHJcbiAgICB2YXIgYXBwbHlBc3luY1F1ZXVlID0gJHJvb3RTY29wZS4kJGFwcGx5QXN5bmNRdWV1ZSA9IFtdO1xyXG5cclxuICAgIHJldHVybiAkcm9vdFNjb3BlO1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBiZWdpblBoYXNlKHBoYXNlKSB7XHJcbiAgICAgIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICB0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCdpbnByb2cnLCAnezB9IGFscmVhZHkgaW4gcHJvZ3Jlc3MnLCAkcm9vdFNjb3BlLiQkcGhhc2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBwaGFzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGVhclBoYXNlKCkge1xyXG4gICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluY3JlbWVudFdhdGNoZXJzQ291bnQoY3VycmVudCwgY291bnQpIHtcclxuICAgICAgZG8ge1xyXG4gICAgICAgIGN1cnJlbnQuJCR3YXRjaGVyc0NvdW50ICs9IGNvdW50O1xyXG4gICAgICB9IHdoaWxlICgoY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlY3JlbWVudExpc3RlbmVyQ291bnQoY3VycmVudCwgY291bnQsIG5hbWUpIHtcclxuICAgICAgZG8ge1xyXG4gICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdIC09IGNvdW50O1xyXG5cclxuICAgICAgICBpZiAoY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gPT09IDApIHtcclxuICAgICAgICAgIGRlbGV0ZSBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB1c2VkIGFzIGFuIGluaXRpYWwgdmFsdWUgZm9yIHdhdGNoZXJzLlxyXG4gICAgICogYmVjYXVzZSBpdCdzIHVuaXF1ZSB3ZSBjYW4gZWFzaWx5IHRlbGwgaXQgYXBhcnQgZnJvbSBvdGhlciB2YWx1ZXNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaW5pdFdhdGNoVmFsKCkge31cclxuXHJcbiAgICBmdW5jdGlvbiBmbHVzaEFwcGx5QXN5bmMoKSB7XHJcbiAgICAgIHdoaWxlIChhcHBseUFzeW5jUXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGFwcGx5QXN5bmNRdWV1ZS5zaGlmdCgpKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGFwcGx5QXN5bmNJZCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2NoZWR1bGVBcHBseUFzeW5jKCkge1xyXG4gICAgICBpZiAoYXBwbHlBc3luY0lkID09PSBudWxsKSB7XHJcbiAgICAgICAgYXBwbHlBc3luY0lkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmbHVzaEFwcGx5QXN5bmMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfV07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkcm9vdEVsZW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSByb290IGVsZW1lbnQgb2YgQW5ndWxhciBhcHBsaWNhdGlvbi4gVGhpcyBpcyBlaXRoZXIgdGhlIGVsZW1lbnQgd2hlcmUge0BsaW5rXHJcbiAqIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0gd2FzIGRlY2xhcmVkIG9yIHRoZSBlbGVtZW50IHBhc3NlZCBpbnRvXHJcbiAqIHtAbGluayBhbmd1bGFyLmJvb3RzdHJhcH0uIFRoZSBlbGVtZW50IHJlcHJlc2VudHMgdGhlIHJvb3QgZWxlbWVudCBvZiBhcHBsaWNhdGlvbi4gSXQgaXMgYWxzbyB0aGVcclxuICogbG9jYXRpb24gd2hlcmUgdGhlIGFwcGxpY2F0aW9uJ3Mge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0gc2VydmljZSBnZXRzXHJcbiAqIHB1Ymxpc2hlZCwgYW5kIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgYCRyb290RWxlbWVudC5pbmplY3RvcigpYC5cclxuICovXHJcblxyXG5cclxuLy8gdGhlIGltcGxlbWVudGF0aW9uIGlzIGluIGFuZ3VsYXIuYm9vdHN0cmFwXHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFByaXZhdGUgc2VydmljZSB0byBzYW5pdGl6ZSB1cmlzIGZvciBsaW5rcyBhbmQgaW1hZ2VzLiBVc2VkIGJ5ICRjb21waWxlIGFuZCAkc2FuaXRpemUuXHJcbiAqL1xyXG5mdW5jdGlvbiAkJFNhbml0aXplVXJpUHJvdmlkZXIoKSB7XHJcbiAgdmFyIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gL15cXHMqKGh0dHBzP3xmdHB8bWFpbHRvfHRlbHxmaWxlKTovLFxyXG4gICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gL15cXHMqKChodHRwcz98ZnRwfGZpbGV8YmxvYik6fGRhdGE6aW1hZ2VcXC8pLztcclxuXHJcbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxyXG4gICAqIHVybHMgZHVyaW5nIGFbaHJlZl0gc2FuaXRpemF0aW9uLlxyXG4gICAqXHJcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cclxuICAgKlxyXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gYVtocmVmXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXHJcbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxyXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxyXG4gICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cclxuICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXHJcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxyXG4gICAqL1xyXG4gIHRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcclxuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xyXG4gICAgICBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IHJlZ2V4cDtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcclxuICAgKiB1cmxzIGR1cmluZyBpbWdbc3JjXSBzYW5pdGl6YXRpb24uXHJcbiAgICpcclxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50IFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxyXG4gICAqXHJcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBpbWdbc3JjXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXHJcbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGBcclxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcclxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXHJcbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxyXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cclxuICAgKi9cclxuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xyXG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XHJcbiAgICAgIGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IHJlZ2V4cDtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xyXG4gIH07XHJcblxyXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNhbml0aXplVXJpKHVyaSwgaXNJbWFnZSkge1xyXG4gICAgICB2YXIgcmVnZXggPSBpc0ltYWdlID8gaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0IDogYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XHJcbiAgICAgIHZhciBub3JtYWxpemVkVmFsO1xyXG4gICAgICBub3JtYWxpemVkVmFsID0gdXJsUmVzb2x2ZSh1cmkpLmhyZWY7XHJcbiAgICAgIGlmIChub3JtYWxpemVkVmFsICE9PSAnJyAmJiAhbm9ybWFsaXplZFZhbC5tYXRjaChyZWdleCkpIHtcclxuICAgICAgICByZXR1cm4gJ3Vuc2FmZTonICsgbm9ybWFsaXplZFZhbDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdXJpO1xyXG4gICAgfTtcclxuICB9O1xyXG59XHJcblxyXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXHJcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcclxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxyXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXHJcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcclxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxyXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xyXG5cclxudmFyICRzY2VNaW5FcnIgPSBtaW5FcnIoJyRzY2UnKTtcclxuXHJcbnZhciBTQ0VfQ09OVEVYVFMgPSB7XHJcbiAgSFRNTDogJ2h0bWwnLFxyXG4gIENTUzogJ2NzcycsXHJcbiAgVVJMOiAndXJsJyxcclxuICAvLyBSRVNPVVJDRV9VUkwgaXMgYSBzdWJ0eXBlIG9mIFVSTCB1c2VkIGluIGNvbnRleHRzIHdoZXJlIGEgcHJpdmlsZWdlZCByZXNvdXJjZSBpcyBzb3VyY2VkIGZyb20gYVxyXG4gIC8vIHVybC4gIChlLmcuIG5nLWluY2x1ZGUsIHNjcmlwdCBzcmMsIHRlbXBsYXRlVXJsKVxyXG4gIFJFU09VUkNFX1VSTDogJ3Jlc291cmNlVXJsJyxcclxuICBKUzogJ2pzJ1xyXG59O1xyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb2xsb3cuXHJcblxyXG5mdW5jdGlvbiBhZGp1c3RNYXRjaGVyKG1hdGNoZXIpIHtcclxuICBpZiAobWF0Y2hlciA9PT0gJ3NlbGYnKSB7XHJcbiAgICByZXR1cm4gbWF0Y2hlcjtcclxuICB9IGVsc2UgaWYgKGlzU3RyaW5nKG1hdGNoZXIpKSB7XHJcbiAgICAvLyBTdHJpbmdzIG1hdGNoIGV4YWN0bHkgZXhjZXB0IGZvciAyIHdpbGRjYXJkcyAtICcqJyBhbmQgJyoqJy5cclxuICAgIC8vICcqJyBtYXRjaGVzIGFueSBjaGFyYWN0ZXIgZXhjZXB0IHRob3NlIGZyb20gdGhlIHNldCAnOi8uPyYnLlxyXG4gICAgLy8gJyoqJyBtYXRjaGVzIGFueSBjaGFyYWN0ZXIgKGxpa2UgLiogaW4gYSBSZWdFeHApLlxyXG4gICAgLy8gTW9yZSB0aGFuIDIgKidzIHJhaXNlcyBhbiBlcnJvciBhcyBpdCdzIGlsbCBkZWZpbmVkLlxyXG4gICAgaWYgKG1hdGNoZXIuaW5kZXhPZignKioqJykgPiAtMSkge1xyXG4gICAgICB0aHJvdyAkc2NlTWluRXJyKCdpd2NhcmQnLFxyXG4gICAgICAgICAgJ0lsbGVnYWwgc2VxdWVuY2UgKioqIGluIHN0cmluZyBtYXRjaGVyLiAgU3RyaW5nOiB7MH0nLCBtYXRjaGVyKTtcclxuICAgIH1cclxuICAgIG1hdGNoZXIgPSBlc2NhcGVGb3JSZWdleHAobWF0Y2hlcikuXHJcbiAgICAgICAgICAgICAgICAgIHJlcGxhY2UoJ1xcXFwqXFxcXConLCAnLionKS5cclxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFxcXConLCAnW146Ly4/JjtdKicpO1xyXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgbWF0Y2hlciArICckJyk7XHJcbiAgfSBlbHNlIGlmIChpc1JlZ0V4cChtYXRjaGVyKSkge1xyXG4gICAgLy8gVGhlIG9ubHkgb3RoZXIgdHlwZSBvZiBtYXRjaGVyIGFsbG93ZWQgaXMgYSBSZWdleHAuXHJcbiAgICAvLyBNYXRjaCBlbnRpcmUgVVJMIC8gZGlzYWxsb3cgcGFydGlhbCBtYXRjaGVzLlxyXG4gICAgLy8gRmxhZ3MgYXJlIHJlc2V0IChpLmUuIG5vIGdsb2JhbCwgaWdub3JlQ2FzZSBvciBtdWx0aWxpbmUpXHJcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVyLnNvdXJjZSArICckJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93ICRzY2VNaW5FcnIoJ2ltYXRjaGVyJyxcclxuICAgICAgICAnTWF0Y2hlcnMgbWF5IG9ubHkgYmUgXCJzZWxmXCIsIHN0cmluZyBwYXR0ZXJucyBvciBSZWdFeHAgb2JqZWN0cycpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGFkanVzdE1hdGNoZXJzKG1hdGNoZXJzKSB7XHJcbiAgdmFyIGFkanVzdGVkTWF0Y2hlcnMgPSBbXTtcclxuICBpZiAoaXNEZWZpbmVkKG1hdGNoZXJzKSkge1xyXG4gICAgZm9yRWFjaChtYXRjaGVycywgZnVuY3Rpb24obWF0Y2hlcikge1xyXG4gICAgICBhZGp1c3RlZE1hdGNoZXJzLnB1c2goYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIGFkanVzdGVkTWF0Y2hlcnM7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHNjZURlbGVnYXRlXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBgJHNjZURlbGVnYXRlYCBpcyBhIHNlcnZpY2UgdGhhdCBpcyB1c2VkIGJ5IHRoZSBgJHNjZWAgc2VydmljZSB0byBwcm92aWRlIHtAbGluayBuZy4kc2NlIFN0cmljdFxyXG4gKiBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfSBzZXJ2aWNlcyB0byBBbmd1bGFySlMuXHJcbiAqXHJcbiAqIFR5cGljYWxseSwgeW91IHdvdWxkIGNvbmZpZ3VyZSBvciBvdmVycmlkZSB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSAkc2NlRGVsZWdhdGV9IGluc3RlYWQgb2ZcclxuICogdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIGN1c3RvbWl6ZSB0aGUgd2F5IFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHdvcmtzIGluIEFuZ3VsYXJKUy4gIFRoaXMgaXNcclxuICogYmVjYXVzZSwgd2hpbGUgdGhlIGAkc2NlYCBwcm92aWRlcyBudW1lcm91cyBzaG9ydGhhbmQgbWV0aG9kcywgZXRjLiwgeW91IHJlYWxseSBvbmx5IG5lZWQgdG9cclxuICogb3ZlcnJpZGUgMyBjb3JlIGZ1bmN0aW9ucyAoYHRydXN0QXNgLCBgZ2V0VHJ1c3RlZGAgYW5kIGB2YWx1ZU9mYCkgdG8gcmVwbGFjZSB0aGUgd2F5IHRoaW5nc1xyXG4gKiB3b3JrIGJlY2F1c2UgYCRzY2VgIGRlbGVnYXRlcyB0byBgJHNjZURlbGVnYXRlYCBmb3IgdGhlc2Ugb3BlcmF0aW9ucy5cclxuICpcclxuICogUmVmZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSB0byBjb25maWd1cmUgdGhpcyBzZXJ2aWNlLlxyXG4gKlxyXG4gKiBUaGUgZGVmYXVsdCBpbnN0YW5jZSBvZiBgJHNjZURlbGVnYXRlYCBzaG91bGQgd29yayBvdXQgb2YgdGhlIGJveCB3aXRoIGxpdHRsZSBwYWluLiAgV2hpbGUgeW91XHJcbiAqIGNhbiBvdmVycmlkZSBpdCBjb21wbGV0ZWx5IHRvIGNoYW5nZSB0aGUgYmVoYXZpb3Igb2YgYCRzY2VgLCB0aGUgY29tbW9uIGNhc2Ugd291bGRcclxuICogaW52b2x2ZSBjb25maWd1cmluZyB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSBpbnN0ZWFkIGJ5IHNldHRpbmdcclxuICogeW91ciBvd24gd2hpdGVsaXN0cyBhbmQgYmxhY2tsaXN0cyBmb3IgdHJ1c3RpbmcgVVJMcyB1c2VkIGZvciBsb2FkaW5nIEFuZ3VsYXJKUyByZXNvdXJjZXMgc3VjaCBhc1xyXG4gKiB0ZW1wbGF0ZXMuICBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3RcclxuICogJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZCB7QGxpbmtcclxuICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxCbGFja2xpc3R9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlclxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogVGhlIGAkc2NlRGVsZWdhdGVQcm92aWRlcmAgcHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlXHJcbiAqICRzY2VEZWxlZ2F0ZX0gc2VydmljZS4gIFRoaXMgYWxsb3dzIG9uZSB0byBnZXQvc2V0IHRoZSB3aGl0ZWxpc3RzIGFuZCBibGFja2xpc3RzIHVzZWQgdG8gZW5zdXJlXHJcbiAqIHRoYXQgdGhlIFVSTHMgdXNlZCBmb3Igc291cmNpbmcgQW5ndWxhciB0ZW1wbGF0ZXMgYXJlIHNhZmUuICBSZWZlciB7QGxpbmtcclxuICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZFxyXG4gKiB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxCbGFja2xpc3R9XHJcbiAqXHJcbiAqIEZvciB0aGUgZ2VuZXJhbCBkZXRhaWxzIGFib3V0IHRoaXMgc2VydmljZSBpbiBBbmd1bGFyLCByZWFkIHRoZSBtYWluIHBhZ2UgZm9yIHtAbGluayBuZy4kc2NlXHJcbiAqIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cclxuICpcclxuICogKipFeGFtcGxlKio6ICBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2UuIDxhIG5hbWU9XCJleGFtcGxlXCI+PC9hPlxyXG4gKlxyXG4gKiAtIHlvdXIgYXBwIGlzIGhvc3RlZCBhdCB1cmwgYGh0dHA6Ly9teWFwcC5leGFtcGxlLmNvbS9gXHJcbiAqIC0gYnV0IHNvbWUgb2YgeW91ciB0ZW1wbGF0ZXMgYXJlIGhvc3RlZCBvbiBvdGhlciBkb21haW5zIHlvdSBjb250cm9sIHN1Y2ggYXNcclxuICogICBgaHR0cDovL3NydjAxLmFzc2V0cy5leGFtcGxlLmNvbS9gLMKgIGBodHRwOi8vc3J2MDIuYXNzZXRzLmV4YW1wbGUuY29tL2AsIGV0Yy5cclxuICogLSBhbmQgeW91IGhhdmUgYW4gb3BlbiByZWRpcmVjdCBhdCBgaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2NsaWNrVGhydT8uLi5gLlxyXG4gKlxyXG4gKiBIZXJlIGlzIHdoYXQgYSBzZWN1cmUgY29uZmlndXJhdGlvbiBmb3IgdGhpcyBzY2VuYXJpbyBtaWdodCBsb29rIGxpa2U6XHJcbiAqXHJcbiAqIGBgYFxyXG4gKiAgYW5ndWxhci5tb2R1bGUoJ215QXBwJywgW10pLmNvbmZpZyhmdW5jdGlvbigkc2NlRGVsZWdhdGVQcm92aWRlcikge1xyXG4gKiAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdChbXHJcbiAqICAgICAgLy8gQWxsb3cgc2FtZSBvcmlnaW4gcmVzb3VyY2UgbG9hZHMuXHJcbiAqICAgICAgJ3NlbGYnLFxyXG4gKiAgICAgIC8vIEFsbG93IGxvYWRpbmcgZnJvbSBvdXIgYXNzZXRzIGRvbWFpbi4gIE5vdGljZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuICogYW5kICoqLlxyXG4gKiAgICAgICdodHRwOi8vc3J2Ki5hc3NldHMuZXhhbXBsZS5jb20vKionXHJcbiAqICAgIF0pO1xyXG4gKlxyXG4gKiAgICAvLyBUaGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0IHNvIHRoZSBvcGVuIHJlZGlyZWN0IGhlcmUgaXMgYmxvY2tlZC5cclxuICogICAgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxCbGFja2xpc3QoW1xyXG4gKiAgICAgICdodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vY2xpY2tUaHJ1KionXHJcbiAqICAgIF0pO1xyXG4gKiAgfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uICRTY2VEZWxlZ2F0ZVByb3ZpZGVyKCkge1xyXG4gIHRoaXMuU0NFX0NPTlRFWFRTID0gU0NFX0NPTlRFWFRTO1xyXG5cclxuICAvLyBSZXNvdXJjZSBVUkxzIGNhbiBhbHNvIGJlIHRydXN0ZWQgYnkgcG9saWN5LlxyXG4gIHZhciByZXNvdXJjZVVybFdoaXRlbGlzdCA9IFsnc2VsZiddLFxyXG4gICAgICByZXNvdXJjZVVybEJsYWNrbGlzdCA9IFtdO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3RcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtBcnJheT19IHdoaXRlbGlzdCBXaGVuIHByb3ZpZGVkLCByZXBsYWNlcyB0aGUgcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2l0aCB0aGUgdmFsdWVcclxuICAgKiAgICBwcm92aWRlZC4gIFRoaXMgbXVzdCBiZSBhbiBhcnJheSBvciBudWxsLiAgQSBzbmFwc2hvdCBvZiB0aGlzIGFycmF5IGlzIHVzZWQgc28gZnVydGhlclxyXG4gICAqICAgIGNoYW5nZXMgdG8gdGhlIGFycmF5IGFyZSBpZ25vcmVkLlxyXG4gICAqXHJcbiAgICogICAgRm9sbG93IHtAbGluayBuZy4kc2NlI3Jlc291cmNlVXJsUGF0dGVybkl0ZW0gdGhpcyBsaW5rfSBmb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgaXRlbXNcclxuICAgKiAgICBhbGxvd2VkIGluIHRoaXMgYXJyYXkuXHJcbiAgICpcclxuICAgKiAgICA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICAgICoqTm90ZToqKiBhbiBlbXB0eSB3aGl0ZWxpc3QgYXJyYXkgd2lsbCBibG9jayBhbGwgVVJMcyFcclxuICAgKiAgICA8L2Rpdj5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge0FycmF5fSB0aGUgY3VycmVudGx5IHNldCB3aGl0ZWxpc3QgYXJyYXkuXHJcbiAgICpcclxuICAgKiBUaGUgKipkZWZhdWx0IHZhbHVlKiogd2hlbiBubyB3aGl0ZWxpc3QgaGFzIGJlZW4gZXhwbGljaXRseSBzZXQgaXMgYFsnc2VsZiddYCBhbGxvd2luZyBvbmx5XHJcbiAgICogc2FtZSBvcmlnaW4gcmVzb3VyY2UgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzL0dldHMgdGhlIHdoaXRlbGlzdCBvZiB0cnVzdGVkIHJlc291cmNlIFVSTHMuXHJcbiAgICovXHJcbiAgdGhpcy5yZXNvdXJjZVVybFdoaXRlbGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXNvdXJjZVVybFdoaXRlbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXNvdXJjZVVybFdoaXRlbGlzdDtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3RcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtBcnJheT19IGJsYWNrbGlzdCBXaGVuIHByb3ZpZGVkLCByZXBsYWNlcyB0aGUgcmVzb3VyY2VVcmxCbGFja2xpc3Qgd2l0aCB0aGUgdmFsdWVcclxuICAgKiAgICBwcm92aWRlZC4gIFRoaXMgbXVzdCBiZSBhbiBhcnJheSBvciBudWxsLiAgQSBzbmFwc2hvdCBvZiB0aGlzIGFycmF5IGlzIHVzZWQgc28gZnVydGhlclxyXG4gICAqICAgIGNoYW5nZXMgdG8gdGhlIGFycmF5IGFyZSBpZ25vcmVkLlxyXG4gICAqXHJcbiAgICogICAgRm9sbG93IHtAbGluayBuZy4kc2NlI3Jlc291cmNlVXJsUGF0dGVybkl0ZW0gdGhpcyBsaW5rfSBmb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgaXRlbXNcclxuICAgKiAgICBhbGxvd2VkIGluIHRoaXMgYXJyYXkuXHJcbiAgICpcclxuICAgKiAgICBUaGUgdHlwaWNhbCB1c2FnZSBmb3IgdGhlIGJsYWNrbGlzdCBpcyB0byAqKmJsb2NrXHJcbiAgICogICAgW29wZW4gcmVkaXJlY3RzXShodHRwOi8vY3dlLm1pdHJlLm9yZy9kYXRhL2RlZmluaXRpb25zLzYwMS5odG1sKSoqIHNlcnZlZCBieSB5b3VyIGRvbWFpbiBhc1xyXG4gICAqICAgIHRoZXNlIHdvdWxkIG90aGVyd2lzZSBiZSB0cnVzdGVkIGJ1dCBhY3R1YWxseSByZXR1cm4gY29udGVudCBmcm9tIHRoZSByZWRpcmVjdGVkIGRvbWFpbi5cclxuICAgKlxyXG4gICAqICAgIEZpbmFsbHksICoqdGhlIGJsYWNrbGlzdCBvdmVycmlkZXMgdGhlIHdoaXRlbGlzdCoqIGFuZCBoYXMgdGhlIGZpbmFsIHNheS5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge0FycmF5fSB0aGUgY3VycmVudGx5IHNldCBibGFja2xpc3QgYXJyYXkuXHJcbiAgICpcclxuICAgKiBUaGUgKipkZWZhdWx0IHZhbHVlKiogd2hlbiBubyB3aGl0ZWxpc3QgaGFzIGJlZW4gZXhwbGljaXRseSBzZXQgaXMgdGhlIGVtcHR5IGFycmF5IChpLmUuIHRoZXJlXHJcbiAgICogaXMgbm8gYmxhY2tsaXN0LilcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMvR2V0cyB0aGUgYmxhY2tsaXN0IG9mIHRydXN0ZWQgcmVzb3VyY2UgVVJMcy5cclxuICAgKi9cclxuXHJcbiAgdGhpcy5yZXNvdXJjZVVybEJsYWNrbGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXNvdXJjZVVybEJsYWNrbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXNvdXJjZVVybEJsYWNrbGlzdDtcclxuICB9O1xyXG5cclxuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xyXG5cclxuICAgIHZhciBodG1sU2FuaXRpemVyID0gZnVuY3Rpb24gaHRtbFNhbml0aXplcihodG1sKSB7XHJcbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ3Vuc2FmZScsICdBdHRlbXB0aW5nIHRvIHVzZSBhbiB1bnNhZmUgdmFsdWUgaW4gYSBzYWZlIGNvbnRleHQuJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICgkaW5qZWN0b3IuaGFzKCckc2FuaXRpemUnKSkge1xyXG4gICAgICBodG1sU2FuaXRpemVyID0gJGluamVjdG9yLmdldCgnJHNhbml0aXplJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIG1hdGNoVXJsKG1hdGNoZXIsIHBhcnNlZFVybCkge1xyXG4gICAgICBpZiAobWF0Y2hlciA9PT0gJ3NlbGYnKSB7XHJcbiAgICAgICAgcmV0dXJuIHVybElzU2FtZU9yaWdpbihwYXJzZWRVcmwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGRlZmluaXRlbHkgYSByZWdleC4gIFNlZSBhZGp1c3RNYXRjaGVycygpXHJcbiAgICAgICAgcmV0dXJuICEhbWF0Y2hlci5leGVjKHBhcnNlZFVybC5ocmVmKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kodXJsKSB7XHJcbiAgICAgIHZhciBwYXJzZWRVcmwgPSB1cmxSZXNvbHZlKHVybC50b1N0cmluZygpKTtcclxuICAgICAgdmFyIGksIG4sIGFsbG93ZWQgPSBmYWxzZTtcclxuICAgICAgLy8gRW5zdXJlIHRoYXQgYXQgbGVhc3Qgb25lIGl0ZW0gZnJvbSB0aGUgd2hpdGVsaXN0IGFsbG93cyB0aGlzIHVybC5cclxuICAgICAgZm9yIChpID0gMCwgbiA9IHJlc291cmNlVXJsV2hpdGVsaXN0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIGlmIChtYXRjaFVybChyZXNvdXJjZVVybFdoaXRlbGlzdFtpXSwgcGFyc2VkVXJsKSkge1xyXG4gICAgICAgICAgYWxsb3dlZCA9IHRydWU7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGFsbG93ZWQpIHtcclxuICAgICAgICAvLyBFbnN1cmUgdGhhdCBubyBpdGVtIGZyb20gdGhlIGJsYWNrbGlzdCBibG9ja2VkIHRoaXMgdXJsLlxyXG4gICAgICAgIGZvciAoaSA9IDAsIG4gPSByZXNvdXJjZVVybEJsYWNrbGlzdC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgIGlmIChtYXRjaFVybChyZXNvdXJjZVVybEJsYWNrbGlzdFtpXSwgcGFyc2VkVXJsKSkge1xyXG4gICAgICAgICAgICBhbGxvd2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYWxsb3dlZDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUhvbGRlclR5cGUoQmFzZSkge1xyXG4gICAgICB2YXIgaG9sZGVyVHlwZSA9IGZ1bmN0aW9uIFRydXN0ZWRWYWx1ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydXN0ZWRWYWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICB9O1xyXG4gICAgICBpZiAoQmFzZSkge1xyXG4gICAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlID0gbmV3IEJhc2UoKTtcclxuICAgICAgfVxyXG4gICAgICBob2xkZXJUeXBlLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gc2NlVmFsdWVPZigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xyXG4gICAgICB9O1xyXG4gICAgICBob2xkZXJUeXBlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHNjZVRvU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKTtcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIGhvbGRlclR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UgPSBnZW5lcmF0ZUhvbGRlclR5cGUoKSxcclxuICAgICAgICBieVR5cGUgPSB7fTtcclxuXHJcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkhUTUxdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xyXG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5DU1NdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xyXG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xyXG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5KU10gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XHJcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUoYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2VEZWxlZ2F0ZSN0cnVzdEFzXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGlzIHRydXN0ZWQgYnkgYW5ndWxhciBmb3IgdXNlIGluIHNwZWNpZmllZCBzdHJpY3RcclxuICAgICAqIGNvbnRleHR1YWwgZXNjYXBpbmcgY29udGV4dHMgKHN1Y2ggYXMgbmctYmluZC1odG1sLCBuZy1pbmNsdWRlLCBhbnkgc3JjXHJcbiAgICAgKiBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiwgYW55IGRvbSBldmVudCBiaW5kaW5nIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uXHJcbiAgICAgKiBzdWNoIGFzIGZvciBvbmNsaWNrLCAgZXRjLikgdGhhdCB1c2VzIHRoZSBwcm92aWRlZCB2YWx1ZS5cclxuICAgICAqIFNlZSB7QGxpbmsgbmcuJHNjZSAkc2NlfSBmb3IgZW5hYmxpbmcgc3RyaWN0IGNvbnRleHR1YWwgZXNjYXBpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHNhZmUgZm9yIHVzZS4gIGUuZy4gdXJsLFxyXG4gICAgICogICByZXNvdXJjZVVybCwgaHRtbCwganMgYW5kIGNzcy5cclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkL3NhZmUuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gQSB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHN0YW5kIGluIGZvciB0aGUgcHJvdmlkZWQgYHZhbHVlYCBpbiBwbGFjZXNcclxuICAgICAqIHdoZXJlIEFuZ3VsYXIgZXhwZWN0cyBhICRzY2UudHJ1c3RBcygpIHJldHVybiB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gdHJ1c3RBcyh0eXBlLCB0cnVzdGVkVmFsdWUpIHtcclxuICAgICAgdmFyIENvbnN0cnVjdG9yID0gKGJ5VHlwZS5oYXNPd25Qcm9wZXJ0eSh0eXBlKSA/IGJ5VHlwZVt0eXBlXSA6IG51bGwpO1xyXG4gICAgICBpZiAoIUNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaWNvbnRleHQnLFxyXG4gICAgICAgICAgICAnQXR0ZW1wdGVkIHRvIHRydXN0IGEgdmFsdWUgaW4gaW52YWxpZCBjb250ZXh0LiBDb250ZXh0OiB7MH07IFZhbHVlOiB7MX0nLFxyXG4gICAgICAgICAgICB0eXBlLCB0cnVzdGVkVmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0cnVzdGVkVmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodHJ1c3RlZFZhbHVlKSB8fCB0cnVzdGVkVmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgICAvLyBBbGwgdGhlIGN1cnJlbnQgY29udGV4dHMgaW4gU0NFX0NPTlRFWFRTIGhhcHBlbiB0byBiZSBzdHJpbmdzLiAgSW4gb3JkZXIgdG8gYXZvaWQgdHJ1c3RpbmdcclxuICAgICAgLy8gbXV0YWJsZSBvYmplY3RzLCB3ZSBlbnN1cmUgaGVyZSB0aGF0IHRoZSB2YWx1ZSBwYXNzZWQgaW4gaXMgYWN0dWFsbHkgYSBzdHJpbmcuXHJcbiAgICAgIGlmICh0eXBlb2YgdHJ1c3RlZFZhbHVlICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2l0eXBlJyxcclxuICAgICAgICAgICAgJ0F0dGVtcHRlZCB0byB0cnVzdCBhIG5vbi1zdHJpbmcgdmFsdWUgaW4gYSBjb250ZW50IHJlcXVpcmluZyBhIHN0cmluZzogQ29udGV4dDogezB9JyxcclxuICAgICAgICAgICAgdHlwZSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0cnVzdGVkVmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI3ZhbHVlT2ZcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGhhZCBiZWVuIHJldHVybmVkIGJ5IGEgcHJpb3IgY2FsbCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcclxuICAgICAqIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCByZXR1cm5zIHRoZSB2YWx1ZSB0aGF0IGhhZCBiZWVuIHBhc3NlZCB0byB7QGxpbmtcclxuICAgICAqIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LlxyXG4gICAgICpcclxuICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGlzIG5vdCBhIHZhbHVlIHRoYXQgaGFkIGJlZW4gcmV0dXJuZWQgYnkge0BsaW5rXHJcbiAgICAgKiBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSwgcmV0dXJucyBpdCBhcy1pcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH1cclxuICAgICAqICAgICAgY2FsbCBvciBhbnl0aGluZyBlbHNlLlxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBgdmFsdWVgIHRoYXQgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXHJcbiAgICAgKiAgICAgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gaWYgYHZhbHVlYCBpcyB0aGUgcmVzdWx0IG9mIHN1Y2ggYSBjYWxsLiAgT3RoZXJ3aXNlLCByZXR1cm5zXHJcbiAgICAgKiAgICAgYHZhbHVlYCB1bmNoYW5nZWQuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHZhbHVlT2YobWF5YmVUcnVzdGVkKSB7XHJcbiAgICAgIGlmIChtYXliZVRydXN0ZWQgaW5zdGFuY2VvZiB0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKSB7XHJcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUYWtlcyB0aGUgcmVzdWx0IG9mIGEge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGNhbGwgYW5kXHJcbiAgICAgKiByZXR1cm5zIHRoZSBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGVcclxuICAgICAqIGNyZWF0ZWQgdHlwZS4gIElmIHRoaXMgY29uZGl0aW9uIGlzbid0IHNhdGlzZmllZCwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAgICAgKiBEaXNhYmxpbmcgYXV0by1lc2NhcGluZyBpcyBleHRyZW1lbHkgZGFuZ2Vyb3VzLCBpdCB1c3VhbGx5IGNyZWF0ZXMgYSBDcm9zcyBTaXRlIFNjcmlwdGluZ1xyXG4gICAgICogKFhTUykgdnVsbmVyYWJpbGl0eSBpbiB5b3VyIGFwcGxpY2F0aW9uLlxyXG4gICAgICogPC9kaXY+XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHRvIGJlIHVzZWQuXHJcbiAgICAgKiBAcGFyYW0geyp9IG1heWJlVHJ1c3RlZCBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXHJcbiAgICAgKiAgICAgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gY2FsbC5cclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhlIHdhcyBvcmlnaW5hbGx5IHByb3ZpZGVkIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBc1xyXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIHZhbGlkIGluIHRoaXMgY29udGV4dC4gIE90aGVyd2lzZSwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0VHJ1c3RlZCh0eXBlLCBtYXliZVRydXN0ZWQpIHtcclxuICAgICAgaWYgKG1heWJlVHJ1c3RlZCA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZChtYXliZVRydXN0ZWQpIHx8IG1heWJlVHJ1c3RlZCA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBjb25zdHJ1Y3RvciA9IChieVR5cGUuaGFzT3duUHJvcGVydHkodHlwZSkgPyBieVR5cGVbdHlwZV0gOiBudWxsKTtcclxuICAgICAgaWYgKGNvbnN0cnVjdG9yICYmIG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIElmIHdlIGdldCBoZXJlLCB0aGVuIHdlIG1heSBvbmx5IHRha2Ugb25lIG9mIHR3byBhY3Rpb25zLlxyXG4gICAgICAvLyAxLiBzYW5pdGl6ZSB0aGUgdmFsdWUgZm9yIHRoZSByZXF1ZXN0ZWQgdHlwZSwgb3JcclxuICAgICAgLy8gMi4gdGhyb3cgYW4gZXhjZXB0aW9uLlxyXG4gICAgICBpZiAodHlwZSA9PT0gU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTCkge1xyXG4gICAgICAgIGlmIChpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KG1heWJlVHJ1c3RlZCkpIHtcclxuICAgICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2luc2VjdXJsJyxcclxuICAgICAgICAgICAgICAnQmxvY2tlZCBsb2FkaW5nIHJlc291cmNlIGZyb20gdXJsIG5vdCBhbGxvd2VkIGJ5ICRzY2VEZWxlZ2F0ZSBwb2xpY3kuICBVUkw6IHswfScsXHJcbiAgICAgICAgICAgICAgbWF5YmVUcnVzdGVkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBTQ0VfQ09OVEVYVFMuSFRNTCkge1xyXG4gICAgICAgIHJldHVybiBodG1sU2FuaXRpemVyKG1heWJlVHJ1c3RlZCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhyb3cgJHNjZU1pbkVycigndW5zYWZlJywgJ0F0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4nKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyB0cnVzdEFzOiB0cnVzdEFzLFxyXG4gICAgICAgICAgICAgZ2V0VHJ1c3RlZDogZ2V0VHJ1c3RlZCxcclxuICAgICAgICAgICAgIHZhbHVlT2Y6IHZhbHVlT2YgfTtcclxuICB9XTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJHNjZVByb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBUaGUgJHNjZVByb3ZpZGVyIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZS5cclxuICogLSAgIGVuYWJsZS9kaXNhYmxlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpIGluIGEgbW9kdWxlXHJcbiAqIC0gICBvdmVycmlkZSB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aXRoIGEgY3VzdG9tIGRlbGVnYXRlXHJcbiAqXHJcbiAqIFJlYWQgbW9yZSBhYm91dCB7QGxpbmsgbmcuJHNjZSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXHJcbiAqL1xyXG5cclxuLyoganNoaW50IG1heGxlbjogZmFsc2UqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRzY2VcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIGAkc2NlYCBpcyBhIHNlcnZpY2UgdGhhdCBwcm92aWRlcyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBzZXJ2aWNlcyB0byBBbmd1bGFySlMuXHJcbiAqXHJcbiAqICMgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmdcclxuICpcclxuICogU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaXMgYSBtb2RlIGluIHdoaWNoIEFuZ3VsYXJKUyByZXF1aXJlcyBiaW5kaW5ncyBpbiBjZXJ0YWluXHJcbiAqIGNvbnRleHRzIHRvIHJlc3VsdCBpbiBhIHZhbHVlIHRoYXQgaXMgbWFya2VkIGFzIHNhZmUgdG8gdXNlIGZvciB0aGF0IGNvbnRleHQuICBPbmUgZXhhbXBsZSBvZlxyXG4gKiBzdWNoIGEgY29udGV4dCBpcyBiaW5kaW5nIGFyYml0cmFyeSBodG1sIGNvbnRyb2xsZWQgYnkgdGhlIHVzZXIgdmlhIGBuZy1iaW5kLWh0bWxgLiAgV2UgcmVmZXJcclxuICogdG8gdGhlc2UgY29udGV4dHMgYXMgcHJpdmlsZWdlZCBvciBTQ0UgY29udGV4dHMuXHJcbiAqXHJcbiAqIEFzIG9mIHZlcnNpb24gMS4yLCBBbmd1bGFyIHNoaXBzIHdpdGggU0NFIGVuYWJsZWQgYnkgZGVmYXVsdC5cclxuICpcclxuICogTm90ZTogIFdoZW4gZW5hYmxlZCAodGhlIGRlZmF1bHQpLCBJRTwxMSBpbiBxdWlya3MgbW9kZSBpcyBub3Qgc3VwcG9ydGVkLiAgSW4gdGhpcyBtb2RlLCBJRTwxMSBhbGxvd1xyXG4gKiBvbmUgdG8gZXhlY3V0ZSBhcmJpdHJhcnkgamF2YXNjcmlwdCBieSB0aGUgdXNlIG9mIHRoZSBleHByZXNzaW9uKCkgc3ludGF4LiAgUmVmZXJcclxuICogPGh0dHA6Ly9ibG9ncy5tc2RuLmNvbS9iL2llL2FyY2hpdmUvMjAwOC8xMC8xNi9lbmRpbmctZXhwcmVzc2lvbnMuYXNweD4gdG8gbGVhcm4gbW9yZSBhYm91dCB0aGVtLlxyXG4gKiBZb3UgY2FuIGVuc3VyZSB5b3VyIGRvY3VtZW50IGlzIGluIHN0YW5kYXJkcyBtb2RlIGFuZCBub3QgcXVpcmtzIG1vZGUgYnkgYWRkaW5nIGA8IWRvY3R5cGUgaHRtbD5gXHJcbiAqIHRvIHRoZSB0b3Agb2YgeW91ciBIVE1MIGRvY3VtZW50LlxyXG4gKlxyXG4gKiBTQ0UgYXNzaXN0cyBpbiB3cml0aW5nIGNvZGUgaW4gd2F5IHRoYXQgKGEpIGlzIHNlY3VyZSBieSBkZWZhdWx0IGFuZCAoYikgbWFrZXMgYXVkaXRpbmcgZm9yXHJcbiAqIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcyBzdWNoIGFzIFhTUywgY2xpY2tqYWNraW5nLCBldGMuIGEgbG90IGVhc2llci5cclxuICpcclxuICogSGVyZSdzIGFuIGV4YW1wbGUgb2YgYSBiaW5kaW5nIGluIGEgcHJpdmlsZWdlZCBjb250ZXh0OlxyXG4gKlxyXG4gKiBgYGBcclxuICogPGlucHV0IG5nLW1vZGVsPVwidXNlckh0bWxcIiBhcmlhLWxhYmVsPVwiVXNlciBpbnB1dFwiPlxyXG4gKiA8ZGl2IG5nLWJpbmQtaHRtbD1cInVzZXJIdG1sXCI+PC9kaXY+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBOb3RpY2UgdGhhdCBgbmctYmluZC1odG1sYCBpcyBib3VuZCB0byBgdXNlckh0bWxgIGNvbnRyb2xsZWQgYnkgdGhlIHVzZXIuICBXaXRoIFNDRVxyXG4gKiBkaXNhYmxlZCwgdGhpcyBhcHBsaWNhdGlvbiBhbGxvd3MgdGhlIHVzZXIgdG8gcmVuZGVyIGFyYml0cmFyeSBIVE1MIGludG8gdGhlIERJVi5cclxuICogSW4gYSBtb3JlIHJlYWxpc3RpYyBleGFtcGxlLCBvbmUgbWF5IGJlIHJlbmRlcmluZyB1c2VyIGNvbW1lbnRzLCBibG9nIGFydGljbGVzLCBldGMuIHZpYVxyXG4gKiBiaW5kaW5ncy4gIChIVE1MIGlzIGp1c3Qgb25lIGV4YW1wbGUgb2YgYSBjb250ZXh0IHdoZXJlIHJlbmRlcmluZyB1c2VyIGNvbnRyb2xsZWQgaW5wdXQgY3JlYXRlc1xyXG4gKiBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuKVxyXG4gKlxyXG4gKiBGb3IgdGhlIGNhc2Ugb2YgSFRNTCwgeW91IG1pZ2h0IHVzZSBhIGxpYnJhcnksIGVpdGhlciBvbiB0aGUgY2xpZW50IHNpZGUsIG9yIG9uIHRoZSBzZXJ2ZXIgc2lkZSxcclxuICogdG8gc2FuaXRpemUgdW5zYWZlIEhUTUwgYmVmb3JlIGJpbmRpbmcgdG8gdGhlIHZhbHVlIGFuZCByZW5kZXJpbmcgaXQgaW4gdGhlIGRvY3VtZW50LlxyXG4gKlxyXG4gKiBIb3cgd291bGQgeW91IGVuc3VyZSB0aGF0IGV2ZXJ5IHBsYWNlIHRoYXQgdXNlZCB0aGVzZSB0eXBlcyBvZiBiaW5kaW5ncyB3YXMgYm91bmQgdG8gYSB2YWx1ZSB0aGF0XHJcbiAqIHdhcyBzYW5pdGl6ZWQgYnkgeW91ciBsaWJyYXJ5IChvciByZXR1cm5lZCBhcyBzYWZlIGZvciByZW5kZXJpbmcgYnkgeW91ciBzZXJ2ZXI/KSAgSG93IGNhbiB5b3VcclxuICogZW5zdXJlIHRoYXQgeW91IGRpZG4ndCBhY2NpZGVudGFsbHkgZGVsZXRlIHRoZSBsaW5lIHRoYXQgc2FuaXRpemVkIHRoZSB2YWx1ZSwgb3IgcmVuYW1lZCBzb21lXHJcbiAqIHByb3BlcnRpZXMvZmllbGRzIGFuZCBmb3Jnb3QgdG8gdXBkYXRlIHRoZSBiaW5kaW5nIHRvIHRoZSBzYW5pdGl6ZWQgdmFsdWU/XHJcbiAqXHJcbiAqIFRvIGJlIHNlY3VyZSBieSBkZWZhdWx0LCB5b3Ugd2FudCB0byBlbnN1cmUgdGhhdCBhbnkgc3VjaCBiaW5kaW5ncyBhcmUgZGlzYWxsb3dlZCB1bmxlc3MgeW91IGNhblxyXG4gKiBkZXRlcm1pbmUgdGhhdCBzb21ldGhpbmcgZXhwbGljaXRseSBzYXlzIGl0J3Mgc2FmZSB0byB1c2UgYSB2YWx1ZSBmb3IgYmluZGluZyBpbiB0aGF0XHJcbiAqIGNvbnRleHQuICBZb3UgY2FuIHRoZW4gYXVkaXQgeW91ciBjb2RlIChhIHNpbXBsZSBncmVwIHdvdWxkIGRvKSB0byBlbnN1cmUgdGhhdCB0aGlzIGlzIG9ubHkgZG9uZVxyXG4gKiBmb3IgdGhvc2UgdmFsdWVzIHRoYXQgeW91IGNhbiBlYXNpbHkgdGVsbCBhcmUgc2FmZSAtIGJlY2F1c2UgdGhleSB3ZXJlIHJlY2VpdmVkIGZyb20geW91ciBzZXJ2ZXIsXHJcbiAqIHNhbml0aXplZCBieSB5b3VyIGxpYnJhcnksIGV0Yy4gIFlvdSBjYW4gb3JnYW5pemUgeW91ciBjb2RlYmFzZSB0byBoZWxwIHdpdGggdGhpcyAtIHBlcmhhcHNcclxuICogYWxsb3dpbmcgb25seSB0aGUgZmlsZXMgaW4gYSBzcGVjaWZpYyBkaXJlY3RvcnkgdG8gZG8gdGhpcy4gIEVuc3VyaW5nIHRoYXQgdGhlIGludGVybmFsIEFQSVxyXG4gKiBleHBvc2VkIGJ5IHRoYXQgY29kZSBkb2Vzbid0IG1hcmt1cCBhcmJpdHJhcnkgdmFsdWVzIGFzIHNhZmUgdGhlbiBiZWNvbWVzIGEgbW9yZSBtYW5hZ2VhYmxlIHRhc2suXHJcbiAqXHJcbiAqIEluIHRoZSBjYXNlIG9mIEFuZ3VsYXJKUycgU0NFIHNlcnZpY2UsIG9uZSB1c2VzIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfVxyXG4gKiAoYW5kIHNob3J0aGFuZCBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIG5nLiRzY2UjdHJ1c3RBc0h0bWwgJHNjZS50cnVzdEFzSHRtbH0sIGV0Yy4pIHRvXHJcbiAqIG9idGFpbiB2YWx1ZXMgdGhhdCB3aWxsIGJlIGFjY2VwdGVkIGJ5IFNDRSAvIHByaXZpbGVnZWQgY29udGV4dHMuXHJcbiAqXHJcbiAqXHJcbiAqICMjIEhvdyBkb2VzIGl0IHdvcms/XHJcbiAqXHJcbiAqIEluIHByaXZpbGVnZWQgY29udGV4dHMsIGRpcmVjdGl2ZXMgYW5kIGNvZGUgd2lsbCBiaW5kIHRvIHRoZSByZXN1bHQgb2Yge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZFxyXG4gKiAkc2NlLmdldFRydXN0ZWQoY29udGV4dCwgdmFsdWUpfSByYXRoZXIgdGhhbiB0byB0aGUgdmFsdWUgZGlyZWN0bHkuICBEaXJlY3RpdmVzIHVzZSB7QGxpbmtcclxuICogbmcuJHNjZSNwYXJzZUFzICRzY2UucGFyc2VBc30gcmF0aGVyIHRoYW4gYCRwYXJzZWAgdG8gd2F0Y2ggYXR0cmlidXRlIGJpbmRpbmdzLCB3aGljaCBwZXJmb3JtcyB0aGVcclxuICoge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWR9IGJlaGluZCB0aGUgc2NlbmVzIG9uIG5vbi1jb25zdGFudCBsaXRlcmFscy5cclxuICpcclxuICogQXMgYW4gZXhhbXBsZSwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0JpbmRIdG1sIG5nQmluZEh0bWx9IHVzZXMge0BsaW5rXHJcbiAqIG5nLiRzY2UjcGFyc2VBc0h0bWwgJHNjZS5wYXJzZUFzSHRtbChiaW5kaW5nIGV4cHJlc3Npb24pfS4gIEhlcmUncyB0aGUgYWN0dWFsIGNvZGUgKHNsaWdodGx5XHJcbiAqIHNpbXBsaWZpZWQpOlxyXG4gKlxyXG4gKiBgYGBcclxuICogdmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XHJcbiAqICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAqICAgICBzY29wZS4kd2F0Y2goJHNjZS5wYXJzZUFzSHRtbChhdHRyLm5nQmluZEh0bWwpLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gKiAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xyXG4gKiAgICAgfSk7XHJcbiAqICAgfTtcclxuICogfV07XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIyBJbXBhY3Qgb24gbG9hZGluZyB0ZW1wbGF0ZXNcclxuICpcclxuICogVGhpcyBhcHBsaWVzIGJvdGggdG8gdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIGBuZy1pbmNsdWRlYH0gZGlyZWN0aXZlIGFzIHdlbGwgYXNcclxuICogYHRlbXBsYXRlVXJsYCdzIHNwZWNpZmllZCBieSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0LCBBbmd1bGFyIG9ubHkgbG9hZHMgdGVtcGxhdGVzIGZyb20gdGhlIHNhbWUgZG9tYWluIGFuZCBwcm90b2NvbCBhcyB0aGUgYXBwbGljYXRpb25cclxuICogZG9jdW1lbnQuICBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcclxuICogJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9IG9uIHRoZSB0ZW1wbGF0ZSBVUkwuICBUbyBsb2FkIHRlbXBsYXRlcyBmcm9tIG90aGVyIGRvbWFpbnMgYW5kL29yXHJcbiAqIHByb3RvY29scywgeW91IG1heSBlaXRoZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdFxyXG4gKiB0aGVtfSBvciB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmwgd3JhcCBpdH0gaW50byBhIHRydXN0ZWQgdmFsdWUuXHJcbiAqXHJcbiAqICpQbGVhc2Ugbm90ZSo6XHJcbiAqIFRoZSBicm93c2VyJ3NcclxuICogW1NhbWUgT3JpZ2luIFBvbGljeV0oaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9icm93c2Vyc2VjL3dpa2kvUGFydDIjU2FtZS1vcmlnaW5fcG9saWN5X2Zvcl9YTUxIdHRwUmVxdWVzdClcclxuICogYW5kIFtDcm9zcy1PcmlnaW4gUmVzb3VyY2UgU2hhcmluZyAoQ09SUyldKGh0dHA6Ly93d3cudzMub3JnL1RSL2NvcnMvKVxyXG4gKiBwb2xpY3kgYXBwbHkgaW4gYWRkaXRpb24gdG8gdGhpcyBhbmQgbWF5IGZ1cnRoZXIgcmVzdHJpY3Qgd2hldGhlciB0aGUgdGVtcGxhdGUgaXMgc3VjY2Vzc2Z1bGx5XHJcbiAqIGxvYWRlZC4gIFRoaXMgbWVhbnMgdGhhdCB3aXRob3V0IHRoZSByaWdodCBDT1JTIHBvbGljeSwgbG9hZGluZyB0ZW1wbGF0ZXMgZnJvbSBhIGRpZmZlcmVudCBkb21haW5cclxuICogd29uJ3Qgd29yayBvbiBhbGwgYnJvd3NlcnMuICBBbHNvLCBsb2FkaW5nIHRlbXBsYXRlcyBmcm9tIGBmaWxlOi8vYCBVUkwgZG9lcyBub3Qgd29yayBvbiBzb21lXHJcbiAqIGJyb3dzZXJzLlxyXG4gKlxyXG4gKiAjIyBUaGlzIGZlZWxzIGxpa2UgdG9vIG11Y2ggb3ZlcmhlYWRcclxuICpcclxuICogSXQncyBpbXBvcnRhbnQgdG8gcmVtZW1iZXIgdGhhdCBTQ0Ugb25seSBhcHBsaWVzIHRvIGludGVycG9sYXRpb24gZXhwcmVzc2lvbnMuXHJcbiAqXHJcbiAqIElmIHlvdXIgZXhwcmVzc2lvbnMgYXJlIGNvbnN0YW50IGxpdGVyYWxzLCB0aGV5J3JlIGF1dG9tYXRpY2FsbHkgdHJ1c3RlZCBhbmQgeW91IGRvbid0IG5lZWQgdG9cclxuICogY2FsbCBgJHNjZS50cnVzdEFzYCBvbiB0aGVtIChyZW1lbWJlciB0byBpbmNsdWRlIHRoZSBgbmdTYW5pdGl6ZWAgbW9kdWxlKSAoZS5nLlxyXG4gKiBgPGRpdiBuZy1iaW5kLWh0bWw9XCInPGI+aW1wbGljaXRseSB0cnVzdGVkPC9iPidcIj48L2Rpdj5gKSBqdXN0IHdvcmtzLlxyXG4gKlxyXG4gKiBBZGRpdGlvbmFsbHksIGBhW2hyZWZdYCBhbmQgYGltZ1tzcmNdYCBhdXRvbWF0aWNhbGx5IHNhbml0aXplIHRoZWlyIFVSTHMgYW5kIGRvIG5vdCBwYXNzIHRoZW1cclxuICogdGhyb3VnaCB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZH0uICBTQ0UgZG9lc24ndCBwbGF5IGEgcm9sZSBoZXJlLlxyXG4gKlxyXG4gKiBUaGUgaW5jbHVkZWQge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSAkc2NlRGVsZWdhdGV9IGNvbWVzIHdpdGggc2FuZSBkZWZhdWx0cyB0byBhbGxvdyB5b3UgdG8gbG9hZFxyXG4gKiB0ZW1wbGF0ZXMgaW4gYG5nLWluY2x1ZGVgIGZyb20geW91ciBhcHBsaWNhdGlvbidzIGRvbWFpbiB3aXRob3V0IGhhdmluZyB0byBldmVuIGtub3cgYWJvdXQgU0NFLlxyXG4gKiBJdCBibG9ja3MgbG9hZGluZyB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIG9yIGxvYWRpbmcgdGVtcGxhdGVzIG92ZXIgaHR0cCBmcm9tIGFuIGh0dHBzXHJcbiAqIHNlcnZlZCBkb2N1bWVudC4gIFlvdSBjYW4gY2hhbmdlIHRoZXNlIGJ5IHNldHRpbmcgeW91ciBvd24gY3VzdG9tIHtAbGlua1xyXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3RzfSBhbmQge0BsaW5rXHJcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0IGJsYWNrbGlzdHN9IGZvciBtYXRjaGluZyBzdWNoIFVSTHMuXHJcbiAqXHJcbiAqIFRoaXMgc2lnbmlmaWNhbnRseSByZWR1Y2VzIHRoZSBvdmVyaGVhZC4gIEl0IGlzIGZhciBlYXNpZXIgdG8gcGF5IHRoZSBzbWFsbCBvdmVyaGVhZCBhbmQgaGF2ZSBhblxyXG4gKiBhcHBsaWNhdGlvbiB0aGF0J3Mgc2VjdXJlIGFuZCBjYW4gYmUgYXVkaXRlZCB0byB2ZXJpZnkgdGhhdCB3aXRoIG11Y2ggbW9yZSBlYXNlIHRoYW4gYm9sdGluZ1xyXG4gKiBzZWN1cml0eSBvbnRvIGFuIGFwcGxpY2F0aW9uIGxhdGVyLlxyXG4gKlxyXG4gKiA8YSBuYW1lPVwiY29udGV4dHNcIj48L2E+XHJcbiAqICMjIFdoYXQgdHJ1c3RlZCBjb250ZXh0IHR5cGVzIGFyZSBzdXBwb3J0ZWQ/XHJcbiAqXHJcbiAqIHwgQ29udGV4dCAgICAgICAgICAgICB8IE5vdGVzICAgICAgICAgIHxcclxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tfFxyXG4gKiB8IGAkc2NlLkhUTUxgICAgICAgICAgfCBGb3IgSFRNTCB0aGF0J3Mgc2FmZSB0byBzb3VyY2UgaW50byB0aGUgYXBwbGljYXRpb24uICBUaGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0JpbmRIdG1sIG5nQmluZEh0bWx9IGRpcmVjdGl2ZSB1c2VzIHRoaXMgY29udGV4dCBmb3IgYmluZGluZ3MuIElmIGFuIHVuc2FmZSB2YWx1ZSBpcyBlbmNvdW50ZXJlZCBhbmQgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX0gbW9kdWxlIGlzIHByZXNlbnQgdGhpcyB3aWxsIHNhbml0aXplIHRoZSB2YWx1ZSBpbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yLiB8XHJcbiAqIHwgYCRzY2UuQ1NTYCAgICAgICAgICB8IEZvciBDU1MgdGhhdCdzIHNhZmUgdG8gc291cmNlIGludG8gdGhlIGFwcGxpY2F0aW9uLiAgQ3VycmVudGx5IHVudXNlZC4gIEZlZWwgZnJlZSB0byB1c2UgaXQgaW4geW91ciBvd24gZGlyZWN0aXZlcy4gfFxyXG4gKiB8IGAkc2NlLlVSTGAgICAgICAgICAgfCBGb3IgVVJMcyB0aGF0IGFyZSBzYWZlIHRvIGZvbGxvdyBhcyBsaW5rcy4gIEN1cnJlbnRseSB1bnVzZWQgKGA8YSBocmVmPWAgYW5kIGA8aW1nIHNyYz1gIHNhbml0aXplIHRoZWlyIHVybHMgYW5kIGRvbid0IGNvbnN0aXR1dGUgYW4gU0NFIGNvbnRleHQuIHxcclxuICogfCBgJHNjZS5SRVNPVVJDRV9VUkxgIHwgRm9yIFVSTHMgdGhhdCBhcmUgbm90IG9ubHkgc2FmZSB0byBmb2xsb3cgYXMgbGlua3MsIGJ1dCB3aG9zZSBjb250ZW50cyBhcmUgYWxzbyBzYWZlIHRvIGluY2x1ZGUgaW4geW91ciBhcHBsaWNhdGlvbi4gIEV4YW1wbGVzIGluY2x1ZGUgYG5nLWluY2x1ZGVgLCBgc3JjYCAvIGBuZ1NyY2AgYmluZGluZ3MgZm9yIHRhZ3Mgb3RoZXIgdGhhbiBgSU1HYCAoZS5nLiBgSUZSQU1FYCwgYE9CSkVDVGAsIGV0Yy4pICA8YnI+PGJyPk5vdGUgdGhhdCBgJHNjZS5SRVNPVVJDRV9VUkxgIG1ha2VzIGEgc3Ryb25nZXIgc3RhdGVtZW50IGFib3V0IHRoZSBVUkwgdGhhbiBgJHNjZS5VUkxgIGRvZXMgYW5kIHRoZXJlZm9yZSBjb250ZXh0cyByZXF1aXJpbmcgdmFsdWVzIHRydXN0ZWQgZm9yIGAkc2NlLlJFU09VUkNFX1VSTGAgY2FuIGJlIHVzZWQgYW55d2hlcmUgdGhhdCB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuVVJMYCBhcmUgcmVxdWlyZWQuIHxcclxuICogfCBgJHNjZS5KU2AgICAgICAgICAgIHwgRm9yIEphdmFTY3JpcHQgdGhhdCBpcyBzYWZlIHRvIGV4ZWN1dGUgaW4geW91ciBhcHBsaWNhdGlvbidzIGNvbnRleHQuICBDdXJyZW50bHkgdW51c2VkLiAgRmVlbCBmcmVlIHRvIHVzZSBpdCBpbiB5b3VyIG93biBkaXJlY3RpdmVzLiB8XHJcbiAqXHJcbiAqICMjIEZvcm1hdCBvZiBpdGVtcyBpbiB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgcmVzb3VyY2VVcmxXaGl0ZWxpc3R9L3tAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBCbGFja2xpc3R9IDxhIG5hbWU9XCJyZXNvdXJjZVVybFBhdHRlcm5JdGVtXCI+PC9hPlxyXG4gKlxyXG4gKiAgRWFjaCBlbGVtZW50IGluIHRoZXNlIGFycmF5cyBtdXN0IGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nOlxyXG4gKlxyXG4gKiAgLSAqKidzZWxmJyoqXHJcbiAqICAgIC0gVGhlIHNwZWNpYWwgKipzdHJpbmcqKiwgYCdzZWxmJ2AsIGNhbiBiZSB1c2VkIHRvIG1hdGNoIGFnYWluc3QgYWxsIFVSTHMgb2YgdGhlICoqc2FtZVxyXG4gKiAgICAgIGRvbWFpbioqIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudCB1c2luZyB0aGUgKipzYW1lIHByb3RvY29sKiouXHJcbiAqICAtICoqU3RyaW5nKiogKGV4Y2VwdCB0aGUgc3BlY2lhbCB2YWx1ZSBgJ3NlbGYnYClcclxuICogICAgLSBUaGUgc3RyaW5nIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgZnVsbCAqbm9ybWFsaXplZCAvIGFic29sdXRlIFVSTCogb2YgdGhlIHJlc291cmNlXHJcbiAqICAgICAgYmVpbmcgdGVzdGVkIChzdWJzdHJpbmcgbWF0Y2hlcyBhcmUgbm90IGdvb2QgZW5vdWdoLilcclxuICogICAgLSBUaGVyZSBhcmUgZXhhY3RseSAqKnR3byB3aWxkY2FyZCBzZXF1ZW5jZXMqKiAtIGAqYCBhbmQgYCoqYC4gIEFsbCBvdGhlciBjaGFyYWN0ZXJzXHJcbiAqICAgICAgbWF0Y2ggdGhlbXNlbHZlcy5cclxuICogICAgLSBgKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mIGFueSBjaGFyYWN0ZXIgb3RoZXIgdGhhbiBvbmUgb2YgdGhlIGZvbGxvd2luZyA2XHJcbiAqICAgICAgY2hhcmFjdGVyczogJ2A6YCcsICdgL2AnLCAnYC5gJywgJ2A/YCcsICdgJmAnIGFuZCAnYDtgJy4gIEl0J3MgYSB1c2VmdWwgd2lsZGNhcmQgZm9yIHVzZVxyXG4gKiAgICAgIGluIGEgd2hpdGVsaXN0LlxyXG4gKiAgICAtIGAqKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mICphbnkqIGNoYXJhY3Rlci4gIEFzIHN1Y2gsIGl0J3Mgbm90XHJcbiAqICAgICAgYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBhIHNjaGVtZSwgZG9tYWluLCBldGMuIGFzIGl0IHdvdWxkIG1hdGNoIHRvbyBtdWNoLiAgKGUuZy5cclxuICogICAgICBodHRwOi8vKiouZXhhbXBsZS5jb20vIHdvdWxkIG1hdGNoIGh0dHA6Ly9ldmlsLmNvbS8/aWdub3JlPS5leGFtcGxlLmNvbS8gYW5kIHRoYXQgbWlnaHRcclxuICogICAgICBub3QgaGF2ZSBiZWVuIHRoZSBpbnRlbnRpb24uKSAgSXRzIHVzYWdlIGF0IHRoZSB2ZXJ5IGVuZCBvZiB0aGUgcGF0aCBpcyBvay4gIChlLmcuXHJcbiAqICAgICAgaHR0cDovL2Zvby5leGFtcGxlLmNvbS90ZW1wbGF0ZXMvKiopLlxyXG4gKiAgLSAqKlJlZ0V4cCoqICgqc2VlIGNhdmVhdCBiZWxvdyopXHJcbiAqICAgIC0gKkNhdmVhdCo6ICBXaGlsZSByZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBwb3dlcmZ1bCBhbmQgb2ZmZXIgZ3JlYXQgZmxleGliaWxpdHksICB0aGVpciBzeW50YXhcclxuICogICAgICAoYW5kIGFsbCB0aGUgaW5ldml0YWJsZSBlc2NhcGluZykgbWFrZXMgdGhlbSAqaGFyZGVyIHRvIG1haW50YWluKi4gIEl0J3MgZWFzeSB0b1xyXG4gKiAgICAgIGFjY2lkZW50YWxseSBpbnRyb2R1Y2UgYSBidWcgd2hlbiBvbmUgdXBkYXRlcyBhIGNvbXBsZXggZXhwcmVzc2lvbiAoaW1obywgYWxsIHJlZ2V4ZXMgc2hvdWxkXHJcbiAqICAgICAgaGF2ZSBnb29kIHRlc3QgY292ZXJhZ2UpLiAgRm9yIGluc3RhbmNlLCB0aGUgdXNlIG9mIGAuYCBpbiB0aGUgcmVnZXggaXMgY29ycmVjdCBvbmx5IGluIGFcclxuICogICAgICBzbWFsbCBudW1iZXIgb2YgY2FzZXMuICBBIGAuYCBjaGFyYWN0ZXIgaW4gdGhlIHJlZ2V4IHVzZWQgd2hlbiBtYXRjaGluZyB0aGUgc2NoZW1lIG9yIGFcclxuICogICAgICBzdWJkb21haW4gY291bGQgYmUgbWF0Y2hlZCBhZ2FpbnN0IGEgYDpgIG9yIGxpdGVyYWwgYC5gIHRoYXQgd2FzIGxpa2VseSBub3QgaW50ZW5kZWQuICAgSXRcclxuICogICAgICBpcyBoaWdobHkgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBzdHJpbmcgcGF0dGVybnMgYW5kIG9ubHkgZmFsbCBiYWNrIHRvIHJlZ3VsYXIgZXhwcmVzc2lvbnNcclxuICogICAgICBhcyBhIGxhc3QgcmVzb3J0LlxyXG4gKiAgICAtIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBSZWdFeHAgKGkuZS4gbm90IGEgc3RyaW5nLikgIEl0IGlzXHJcbiAqICAgICAgbWF0Y2hlZCBhZ2FpbnN0IHRoZSAqKmVudGlyZSoqICpub3JtYWxpemVkIC8gYWJzb2x1dGUgVVJMKiBvZiB0aGUgcmVzb3VyY2UgYmVpbmcgdGVzdGVkXHJcbiAqICAgICAgKGV2ZW4gd2hlbiB0aGUgUmVnRXhwIGRpZCBub3QgaGF2ZSB0aGUgYF5gIGFuZCBgJGAgY29kZXMuKSAgSW4gYWRkaXRpb24sIGFueSBmbGFnc1xyXG4gKiAgICAgIHByZXNlbnQgb24gdGhlIFJlZ0V4cCAoc3VjaCBhcyBtdWx0aWxpbmUsIGdsb2JhbCwgaWdub3JlQ2FzZSkgYXJlIGlnbm9yZWQuXHJcbiAqICAgIC0gSWYgeW91IGFyZSBnZW5lcmF0aW5nIHlvdXIgSmF2YVNjcmlwdCBmcm9tIHNvbWUgb3RoZXIgdGVtcGxhdGluZyBlbmdpbmUgKG5vdFxyXG4gKiAgICAgIHJlY29tbWVuZGVkLCBlLmcuIGluIGlzc3VlIFsjNDAwNl0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNDAwNikpLFxyXG4gKiAgICAgIHJlbWVtYmVyIHRvIGVzY2FwZSB5b3VyIHJlZ3VsYXIgZXhwcmVzc2lvbiAoYW5kIGJlIGF3YXJlIHRoYXQgeW91IG1pZ2h0IG5lZWQgbW9yZSB0aGFuXHJcbiAqICAgICAgb25lIGxldmVsIG9mIGVzY2FwaW5nIGRlcGVuZGluZyBvbiB5b3VyIHRlbXBsYXRpbmcgZW5naW5lIGFuZCB0aGUgd2F5IHlvdSBpbnRlcnBvbGF0ZWRcclxuICogICAgICB0aGUgdmFsdWUuKSAgRG8gbWFrZSB1c2Ugb2YgeW91ciBwbGF0Zm9ybSdzIGVzY2FwaW5nIG1lY2hhbmlzbSBhcyBpdCBtaWdodCBiZSBnb29kXHJcbiAqICAgICAgZW5vdWdoIGJlZm9yZSBjb2RpbmcgeW91ciBvd24uICBFLmcuIFJ1YnkgaGFzXHJcbiAqICAgICAgW1JlZ2V4cC5lc2NhcGUoc3RyKV0oaHR0cDovL3d3dy5ydWJ5LWRvYy5vcmcvY29yZS0yLjAuMC9SZWdleHAuaHRtbCNtZXRob2QtYy1lc2NhcGUpXHJcbiAqICAgICAgYW5kIFB5dGhvbiBoYXMgW3JlLmVzY2FwZV0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3JlLmh0bWwjcmUuZXNjYXBlKS5cclxuICogICAgICBKYXZhc2NyaXB0IGxhY2tzIGEgc2ltaWxhciBidWlsdCBpbiBmdW5jdGlvbiBmb3IgZXNjYXBpbmcuICBUYWtlIGEgbG9vayBhdCBHb29nbGVcclxuICogICAgICBDbG9zdXJlIGxpYnJhcnkncyBbZ29vZy5zdHJpbmcucmVnRXhwRXNjYXBlKHMpXShcclxuICogICAgICBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmU5NjIpLlxyXG4gKlxyXG4gKiBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IGZvciBhbiBleGFtcGxlLlxyXG4gKlxyXG4gKiAjIyBTaG93IG1lIGFuIGV4YW1wbGUgdXNpbmcgU0NFLlxyXG4gKlxyXG4gKiA8ZXhhbXBsZSBtb2R1bGU9XCJteVNjZUFwcFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XHJcbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQXBwQ29udHJvbGxlciBhcyBteUN0cmxcIj5cclxuICogICAgIDxpIG5nLWJpbmQtaHRtbD1cIm15Q3RybC5leHBsaWNpdGx5VHJ1c3RlZEh0bWxcIiBpZD1cImV4cGxpY2l0bHlUcnVzdGVkSHRtbFwiPjwvaT48YnI+PGJyPlxyXG4gKiAgICAgPGI+VXNlciBjb21tZW50czwvYj48YnI+XHJcbiAqICAgICBCeSBkZWZhdWx0LCBIVE1MIHRoYXQgaXNuJ3QgZXhwbGljaXRseSB0cnVzdGVkIChlLmcuIEFsaWNlJ3MgY29tbWVudCkgaXMgc2FuaXRpemVkIHdoZW5cclxuICogICAgICRzYW5pdGl6ZSBpcyBhdmFpbGFibGUuICBJZiAkc2FuaXRpemUgaXNuJ3QgYXZhaWxhYmxlLCB0aGlzIHJlc3VsdHMgaW4gYW4gZXJyb3IgaW5zdGVhZCBvZiBhblxyXG4gKiAgICAgZXhwbG9pdC5cclxuICogICAgIDxkaXYgY2xhc3M9XCJ3ZWxsXCI+XHJcbiAqICAgICAgIDxkaXYgbmctcmVwZWF0PVwidXNlckNvbW1lbnQgaW4gbXlDdHJsLnVzZXJDb21tZW50c1wiPlxyXG4gKiAgICAgICAgIDxiPnt7dXNlckNvbW1lbnQubmFtZX19PC9iPjpcclxuICogICAgICAgICA8c3BhbiBuZy1iaW5kLWh0bWw9XCJ1c2VyQ29tbWVudC5odG1sQ29tbWVudFwiIGNsYXNzPVwiaHRtbENvbW1lbnRcIj48L3NwYW4+XHJcbiAqICAgICAgICAgPGJyPlxyXG4gKiAgICAgICA8L2Rpdj5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZGl2PlxyXG4gKiA8L2ZpbGU+XHJcbiAqXHJcbiAqIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICogICBhbmd1bGFyLm1vZHVsZSgnbXlTY2VBcHAnLCBbJ25nU2FuaXRpemUnXSlcclxuICogICAgIC5jb250cm9sbGVyKCdBcHBDb250cm9sbGVyJywgWyckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsICckc2NlJyxcclxuICogICAgICAgZnVuY3Rpb24oJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkc2NlKSB7XHJcbiAqICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gKiAgICAgICAgICRodHRwLmdldChcInRlc3RfZGF0YS5qc29uXCIsIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KS5zdWNjZXNzKGZ1bmN0aW9uKHVzZXJDb21tZW50cykge1xyXG4gKiAgICAgICAgICAgc2VsZi51c2VyQ29tbWVudHMgPSB1c2VyQ29tbWVudHM7XHJcbiAqICAgICAgICAgfSk7XHJcbiAqICAgICAgICAgc2VsZi5leHBsaWNpdGx5VHJ1c3RlZEh0bWwgPSAkc2NlLnRydXN0QXNIdG1sKFxyXG4gKiAgICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xyXG4gKiAgICAgICAgICAgICAnc2FuaXRpemF0aW9uLiZxdW90O1wiPkhvdmVyIG92ZXIgdGhpcyB0ZXh0Ljwvc3Bhbj4nKTtcclxuICogICAgICAgfV0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqXHJcbiAqIDxmaWxlIG5hbWU9XCJ0ZXN0X2RhdGEuanNvblwiPlxyXG4gKiBbXHJcbiAqICAgeyBcIm5hbWVcIjogXCJBbGljZVwiLFxyXG4gKiAgICAgXCJodG1sQ29tbWVudFwiOlxyXG4gKiAgICAgICAgIFwiPHNwYW4gb25tb3VzZW92ZXI9J3RoaXMudGV4dENvbnRlbnQ9XFxcIlBXTjNEIVxcXCInPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj5cIlxyXG4gKiAgIH0sXHJcbiAqICAgeyBcIm5hbWVcIjogXCJCb2JcIixcclxuICogICAgIFwiaHRtbENvbW1lbnRcIjogXCI8aT5ZZXMhPC9pPiAgQW0gSSB0aGUgb25seSBvdGhlciBvbmU/XCJcclxuICogICB9XHJcbiAqIF1cclxuICogPC9maWxlPlxyXG4gKlxyXG4gKiA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAqICAgZGVzY3JpYmUoJ1NDRSBkb2MgZGVtbycsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgaXQoJ3Nob3VsZCBzYW5pdGl6ZSB1bnRydXN0ZWQgdmFsdWVzJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJy5odG1sQ29tbWVudCcpKS5maXJzdCgpLmdldElubmVySHRtbCgpKVxyXG4gKiAgICAgICAgICAgLnRvQmUoJzxzcGFuPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj4nKTtcclxuICogICAgIH0pO1xyXG4gKlxyXG4gKiAgICAgaXQoJ3Nob3VsZCBOT1Qgc2FuaXRpemUgZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXhwbGljaXRseVRydXN0ZWRIdG1sJykpLmdldElubmVySHRtbCgpKS50b0JlKFxyXG4gKiAgICAgICAgICAgJzxzcGFuIG9ubW91c2VvdmVyPVwidGhpcy50ZXh0Q29udGVudD0mcXVvdDtFeHBsaWNpdGx5IHRydXN0ZWQgSFRNTCBieXBhc3NlcyAnICtcclxuICogICAgICAgICAgICdzYW5pdGl6YXRpb24uJnF1b3Q7XCI+SG92ZXIgb3ZlciB0aGlzIHRleHQuPC9zcGFuPicpO1xyXG4gKiAgICAgfSk7XHJcbiAqICAgfSk7XHJcbiAqIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKlxyXG4gKlxyXG4gKlxyXG4gKiAjIyBDYW4gSSBkaXNhYmxlIFNDRSBjb21wbGV0ZWx5P1xyXG4gKlxyXG4gKiBZZXMsIHlvdSBjYW4uICBIb3dldmVyLCB0aGlzIGlzIHN0cm9uZ2x5IGRpc2NvdXJhZ2VkLiAgU0NFIGdpdmVzIHlvdSBhIGxvdCBvZiBzZWN1cml0eSBiZW5lZml0c1xyXG4gKiBmb3IgbGl0dGxlIGNvZGluZyBvdmVyaGVhZC4gIEl0IHdpbGwgYmUgbXVjaCBoYXJkZXIgdG8gdGFrZSBhbiBTQ0UgZGlzYWJsZWQgYXBwbGljYXRpb24gYW5kXHJcbiAqIGVpdGhlciBzZWN1cmUgaXQgb24geW91ciBvd24gb3IgZW5hYmxlIFNDRSBhdCBhIGxhdGVyIHN0YWdlLiAgSXQgbWlnaHQgbWFrZSBzZW5zZSB0byBkaXNhYmxlIFNDRVxyXG4gKiBmb3IgY2FzZXMgd2hlcmUgeW91IGhhdmUgYSBsb3Qgb2YgZXhpc3RpbmcgY29kZSB0aGF0IHdhcyB3cml0dGVuIGJlZm9yZSBTQ0Ugd2FzIGludHJvZHVjZWQgYW5kXHJcbiAqIHlvdSdyZSBtaWdyYXRpbmcgdGhlbSBhIG1vZHVsZSBhdCBhIHRpbWUuXHJcbiAqXHJcbiAqIFRoYXQgc2FpZCwgaGVyZSdzIGhvdyB5b3UgY2FuIGNvbXBsZXRlbHkgZGlzYWJsZSBTQ0U6XHJcbiAqXHJcbiAqIGBgYFxyXG4gKiBhbmd1bGFyLm1vZHVsZSgnbXlBcHBXaXRoU2NlRGlzYWJsZWRteUFwcCcsIFtdKS5jb25maWcoZnVuY3Rpb24oJHNjZVByb3ZpZGVyKSB7XHJcbiAqICAgLy8gQ29tcGxldGVseSBkaXNhYmxlIFNDRS4gIEZvciBkZW1vbnN0cmF0aW9uIHB1cnBvc2VzIG9ubHkhXHJcbiAqICAgLy8gRG8gbm90IHVzZSBpbiBuZXcgcHJvamVjdHMuXHJcbiAqICAgJHNjZVByb3ZpZGVyLmVuYWJsZWQoZmFsc2UpO1xyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqL1xyXG4vKiBqc2hpbnQgbWF4bGVuOiAxMDAgKi9cclxuXHJcbmZ1bmN0aW9uICRTY2VQcm92aWRlcigpIHtcclxuICB2YXIgZW5hYmxlZCA9IHRydWU7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkc2NlUHJvdmlkZXIjZW5hYmxlZFxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB2YWx1ZSBJZiBwcm92aWRlZCwgdGhlbiBlbmFibGVzL2Rpc2FibGVzIFNDRS5cclxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIFNDRSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBFbmFibGVzL2Rpc2FibGVzIFNDRSBhbmQgcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZS5cclxuICAgKi9cclxuICB0aGlzLmVuYWJsZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgZW5hYmxlZCA9ICEhdmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZW5hYmxlZDtcclxuICB9O1xyXG5cclxuXHJcbiAgLyogRGVzaWduIG5vdGVzIG9uIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGZvciBTQ0UuXHJcbiAgICpcclxuICAgKiBUaGUgQVBJIGNvbnRyYWN0IGZvciB0aGUgU0NFIGRlbGVnYXRlXHJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqIFRoZSBTQ0UgZGVsZWdhdGUgb2JqZWN0IG11c3QgcHJvdmlkZSB0aGUgZm9sbG93aW5nIDMgbWV0aG9kczpcclxuICAgKlxyXG4gICAqIC0gdHJ1c3RBcyhjb250ZXh0RW51bSwgdmFsdWUpXHJcbiAgICogICAgIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gdGVsbCB0aGUgU0NFIHNlcnZpY2UgdGhhdCB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgT0sgdG8gdXNlIGluIHRoZVxyXG4gICAqICAgICBjb250ZXh0cyBzcGVjaWZpZWQgYnkgY29udGV4dEVudW0uICBJdCBtdXN0IHJldHVybiBhbiBvYmplY3QgdGhhdCB3aWxsIGJlIGFjY2VwdGVkIGJ5XHJcbiAgICogICAgIGdldFRydXN0ZWQoKSBmb3IgYSBjb21wYXRpYmxlIGNvbnRleHRFbnVtIGFuZCByZXR1cm4gdGhpcyB2YWx1ZS5cclxuICAgKlxyXG4gICAqIC0gdmFsdWVPZih2YWx1ZSlcclxuICAgKiAgICAgRm9yIHZhbHVlcyB0aGF0IHdlcmUgbm90IHByb2R1Y2VkIGJ5IHRydXN0QXMoKSwgcmV0dXJuIHRoZW0gYXMgaXMuICBGb3IgdmFsdWVzIHRoYXQgd2VyZVxyXG4gICAqICAgICBwcm9kdWNlZCBieSB0cnVzdEFzKCksIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBpbnB1dCB2YWx1ZSB0byB0cnVzdEFzLiAgQmFzaWNhbGx5LCBpZlxyXG4gICAqICAgICB0cnVzdEFzIGlzIHdyYXBwaW5nIHRoZSBnaXZlbiB2YWx1ZXMgaW50byBzb21lIHR5cGUsIHRoaXMgb3BlcmF0aW9uIHVud3JhcHMgaXQgd2hlbiBnaXZlblxyXG4gICAqICAgICBzdWNoIGEgdmFsdWUuXHJcbiAgICpcclxuICAgKiAtIGdldFRydXN0ZWQoY29udGV4dEVudW0sIHZhbHVlKVxyXG4gICAqICAgICBUaGlzIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gdGhlIGEgdmFsdWUgdGhhdCBpcyBzYWZlIHRvIHVzZSBpbiB0aGUgY29udGV4dCBzcGVjaWZpZWQgYnlcclxuICAgKiAgICAgY29udGV4dEVudW0gb3IgdGhyb3cgYW5kIGV4Y2VwdGlvbiBvdGhlcndpc2UuXHJcbiAgICpcclxuICAgKiBOT1RFOiBUaGlzIGNvbnRyYWN0IGRlbGliZXJhdGVseSBkb2VzIE5PVCBzdGF0ZSB0aGF0IHZhbHVlcyByZXR1cm5lZCBieSB0cnVzdEFzKCkgbXVzdCBiZVxyXG4gICAqIG9wYXF1ZSBvciB3cmFwcGVkIGluIHNvbWUgaG9sZGVyIG9iamVjdC4gIFRoYXQgaGFwcGVucyB0byBiZSBhbiBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuICBGb3JcclxuICAgKiBpbnN0YW5jZSwgYW4gaW1wbGVtZW50YXRpb24gY291bGQgbWFpbnRhaW4gYSByZWdpc3RyeSBvZiBhbGwgdHJ1c3RlZCBvYmplY3RzIGJ5IGNvbnRleHQuICBJblxyXG4gICAqIHN1Y2ggYSBjYXNlLCB0cnVzdEFzKCkgd291bGQgcmV0dXJuIHRoZSBzYW1lIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgaW4uICBnZXRUcnVzdGVkKCkgd291bGRcclxuICAgKiByZXR1cm4gdGhlIHNhbWUgb2JqZWN0IHBhc3NlZCBpbiBpZiBpdCB3YXMgZm91bmQgaW4gdGhlIHJlZ2lzdHJ5IHVuZGVyIGEgY29tcGF0aWJsZSBjb250ZXh0IG9yXHJcbiAgICogdGhyb3cgYW4gZXhjZXB0aW9uIG90aGVyd2lzZS4gIEFuIGltcGxlbWVudGF0aW9uIG1pZ2h0IG9ubHkgd3JhcCB2YWx1ZXMgc29tZSBvZiB0aGUgdGltZSBiYXNlZFxyXG4gICAqIG9uIHNvbWUgY3JpdGVyaWEuICBnZXRUcnVzdGVkKCkgbWlnaHQgcmV0dXJuIGEgdmFsdWUgYW5kIG5vdCB0aHJvdyBhbiBleGNlcHRpb24gZm9yIHNwZWNpYWxcclxuICAgKiBjb25zdGFudHMgb3Igb2JqZWN0cyBldmVuIGlmIG5vdCB3cmFwcGVkLiAgQWxsIHN1Y2ggaW1wbGVtZW50YXRpb25zIGZ1bGZpbGwgdGhpcyBjb250cmFjdC5cclxuICAgKlxyXG4gICAqXHJcbiAgICogQSBub3RlIG9uIHRoZSBpbmhlcml0YW5jZSBtb2RlbCBmb3IgU0NFIGNvbnRleHRzXHJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICogSSd2ZSB1c2VkIGluaGVyaXRhbmNlIGFuZCBtYWRlIFJFU09VUkNFX1VSTCB3cmFwcGVkIHR5cGVzIGEgc3VidHlwZSBvZiBVUkwgd3JhcHBlZCB0eXBlcy4gIFRoaXNcclxuICAgKiBpcyBwdXJlbHkgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlscy5cclxuICAgKlxyXG4gICAqIFRoZSBjb250cmFjdCBpcyBzaW1wbHkgdGhpczpcclxuICAgKlxyXG4gICAqICAgICBnZXRUcnVzdGVkKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSkgc3VjY2VlZGluZyBpbXBsaWVzIHRoYXQgZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpXHJcbiAgICogICAgIHdpbGwgYWxzbyBzdWNjZWVkLlxyXG4gICAqXHJcbiAgICogSW5oZXJpdGFuY2UgaGFwcGVucyB0byBjYXB0dXJlIHRoaXMgaW4gYSBuYXR1cmFsIHdheS4gIEluIHNvbWUgZnV0dXJlLCB3ZVxyXG4gICAqIG1heSBub3QgdXNlIGluaGVyaXRhbmNlIGFueW1vcmUuICBUaGF0IGlzIE9LIGJlY2F1c2Ugbm8gY29kZSBvdXRzaWRlIG9mXHJcbiAgICogc2NlLmpzIGFuZCBzY2VTcGVjcy5qcyB3b3VsZCBuZWVkIHRvIGJlIGF3YXJlIG9mIHRoaXMgZGV0YWlsLlxyXG4gICAqL1xyXG5cclxuICB0aGlzLiRnZXQgPSBbJyRwYXJzZScsICckc2NlRGVsZWdhdGUnLCBmdW5jdGlvbihcclxuICAgICAgICAgICAgICAgICRwYXJzZSwgICAkc2NlRGVsZWdhdGUpIHtcclxuICAgIC8vIFByZXJlcTogRW5zdXJlIHRoYXQgd2UncmUgbm90IHJ1bm5pbmcgaW4gSUU8MTEgcXVpcmtzIG1vZGUuICBJbiB0aGF0IG1vZGUsIElFIDwgMTEgYWxsb3dcclxuICAgIC8vIHRoZSBcImV4cHJlc3Npb24oamF2YXNjcmlwdCBleHByZXNzaW9uKVwiIHN5bnRheCB3aGljaCBpcyBpbnNlY3VyZS5cclxuICAgIGlmIChlbmFibGVkICYmIG1zaWUgPCA4KSB7XHJcbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2llcXVpcmtzJyxcclxuICAgICAgICAnU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZG9lcyBub3Qgc3VwcG9ydCBJbnRlcm5ldCBFeHBsb3JlciB2ZXJzaW9uIDwgMTEgaW4gcXVpcmtzICcgK1xyXG4gICAgICAgICdtb2RlLiAgWW91IGNhbiBmaXggdGhpcyBieSBhZGRpbmcgdGhlIHRleHQgPCFkb2N0eXBlIGh0bWw+IHRvIHRoZSB0b3Agb2YgeW91ciBIVE1MICcgK1xyXG4gICAgICAgICdkb2N1bWVudC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzY2UgPSBzaGFsbG93Q29weShTQ0VfQ09OVEVYVFMpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNpc0VuYWJsZWRcclxuICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBTQ0UgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLiAgSWYgeW91IHdhbnQgdG8gc2V0IHRoZSB2YWx1ZSwgeW91XHJcbiAgICAgKiBoYXZlIHRvIGRvIGl0IGF0IG1vZHVsZSBjb25maWcgdGltZSBvbiB7QGxpbmsgbmcuJHNjZVByb3ZpZGVyICRzY2VQcm92aWRlcn0uXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIFNDRSBpcyBlbmFibGVkLlxyXG4gICAgICovXHJcbiAgICBzY2UuaXNFbmFibGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBlbmFibGVkO1xyXG4gICAgfTtcclxuICAgIHNjZS50cnVzdEFzID0gJHNjZURlbGVnYXRlLnRydXN0QXM7XHJcbiAgICBzY2UuZ2V0VHJ1c3RlZCA9ICRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkO1xyXG4gICAgc2NlLnZhbHVlT2YgPSAkc2NlRGVsZWdhdGUudmFsdWVPZjtcclxuXHJcbiAgICBpZiAoIWVuYWJsZWQpIHtcclxuICAgICAgc2NlLnRydXN0QXMgPSBzY2UuZ2V0VHJ1c3RlZCA9IGZ1bmN0aW9uKHR5cGUsIHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcclxuICAgICAgc2NlLnZhbHVlT2YgPSBpZGVudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uICBUaGlzIGlzIGxpa2Uge0BsaW5rXHJcbiAgICAgKiBuZy4kcGFyc2UgJHBhcnNlfSBhbmQgaXMgaWRlbnRpY2FsIHdoZW4gdGhlIGV4cHJlc3Npb24gaXMgYSBsaXRlcmFsIGNvbnN0YW50LiAgT3RoZXJ3aXNlLCBpdFxyXG4gICAgICogd3JhcHMgdGhlIGV4cHJlc3Npb24gaW4gYSBjYWxsIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkKCp0eXBlKixcclxuICAgICAqICpyZXN1bHQqKX1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBTQ0UgY29udGV4dCBpbiB3aGljaCB0aGlzIHJlc3VsdCB3aWxsIGJlIHVzZWQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxyXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcclxuICAgICAqXHJcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXHJcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cclxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cclxuICAgICAqICAgICAgYGNvbnRleHRgLlxyXG4gICAgICovXHJcbiAgICBzY2UucGFyc2VBcyA9IGZ1bmN0aW9uIHNjZVBhcnNlQXModHlwZSwgZXhwcikge1xyXG4gICAgICB2YXIgcGFyc2VkID0gJHBhcnNlKGV4cHIpO1xyXG4gICAgICBpZiAocGFyc2VkLmxpdGVyYWwgJiYgcGFyc2VkLmNvbnN0YW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gJHBhcnNlKGV4cHIsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2NlLmdldFRydXN0ZWQodHlwZSwgdmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LiAgQXMgc3VjaCxcclxuICAgICAqIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaXMgdHJ1c3RlZCBieSBhbmd1bGFyIGZvciB1c2UgaW4gc3BlY2lmaWVkIHN0cmljdCBjb250ZXh0dWFsXHJcbiAgICAgKiBlc2NhcGluZyBjb250ZXh0cyAoc3VjaCBhcyBuZy1iaW5kLWh0bWwsIG5nLWluY2x1ZGUsIGFueSBzcmMgYXR0cmlidXRlXHJcbiAgICAgKiBpbnRlcnBvbGF0aW9uLCBhbnkgZG9tIGV2ZW50IGJpbmRpbmcgYXR0cmlidXRlIGludGVycG9sYXRpb24gc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pXHJcbiAgICAgKiB0aGF0IHVzZXMgdGhlIHByb3ZpZGVkIHZhbHVlLiAgU2VlICoge0BsaW5rIG5nLiRzY2UgJHNjZX0gZm9yIGVuYWJsaW5nIHN0cmljdCBjb250ZXh0dWFsXHJcbiAgICAgKiBlc2NhcGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgc2FmZSBmb3IgdXNlLiAgZS5nLiB1cmwsXHJcbiAgICAgKiAgIHJlc291cmNlVXJsLCBodG1sLCBqcyBhbmQgY3NzLlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdGhhdCB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkIHRydXN0ZWQvc2FmZS5cclxuICAgICAqIEByZXR1cm5zIHsqfSBBIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgdG8gc3RhbmQgaW4gZm9yIHRoZSBwcm92aWRlZCBgdmFsdWVgIGluIHBsYWNlc1xyXG4gICAgICogd2hlcmUgQW5ndWxhciBleHBlY3RzIGEgJHNjZS50cnVzdEFzKCkgcmV0dXJuIHZhbHVlLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNIdG1sXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc0h0bWwodmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuSFRNTCwgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLlxyXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZEh0bWxcclxuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRIdG1sKHZhbHVlKX0gdG8gb2J0YWluIHRoZSBvcmlnaW5hbCB2YWx1ZS4gIChwcml2aWxlZ2VkIGRpcmVjdGl2ZXNcclxuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZVxyXG4gICAgICogICAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNVcmxcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzVXJsKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLlVSTCwgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLlxyXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZFVybFxyXG4gICAgICogICAgICRzY2UuZ2V0VHJ1c3RlZFVybCh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXHJcbiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGVcclxuICAgICAqICAgICByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmxcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwodmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcclxuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXHJcbiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGUgcmV0dXJuXHJcbiAgICAgKiAgICAgdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzSnNcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzSnModmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuSlMsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cclxuICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRKc1xyXG4gICAgICogICAgICRzY2UuZ2V0VHJ1c3RlZEpzKHZhbHVlKX0gdG8gb2J0YWluIHRoZSBvcmlnaW5hbCB2YWx1ZS4gIChwcml2aWxlZ2VkIGRpcmVjdGl2ZXNcclxuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZVxyXG4gICAgICogICAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIERlbGVnYXRlcyB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkYH0uICBBcyBzdWNoLFxyXG4gICAgICogdGFrZXMgdGhlIHJlc3VsdCBvZiBhIHtAbGluayBuZy4kc2NlI3RydXN0QXMgYCRzY2UudHJ1c3RBc2B9KCkgY2FsbCBhbmQgcmV0dXJucyB0aGVcclxuICAgICAqIG9yaWdpbmFsbHkgc3VwcGxpZWQgdmFsdWUgaWYgdGhlIHF1ZXJpZWQgY29udGV4dCB0eXBlIGlzIGEgc3VwZXJ0eXBlIG9mIHRoZSBjcmVhdGVkIHR5cGUuXHJcbiAgICAgKiBJZiB0aGlzIGNvbmRpdGlvbiBpc24ndCBzYXRpc2ZpZWQsIHRocm93cyBhbiBleGNlcHRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHRvIGJlIHVzZWQuXHJcbiAgICAgKiBAcGFyYW0geyp9IG1heWJlVHJ1c3RlZCBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyBgJHNjZS50cnVzdEFzYH1cclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGwuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoZSB3YXMgb3JpZ2luYWxseSBwcm92aWRlZCB0b1xyXG4gICAgICogICAgICAgICAgICAgIHtAbGluayBuZy4kc2NlI3RydXN0QXMgYCRzY2UudHJ1c3RBc2B9IGlmIHZhbGlkIGluIHRoaXMgY29udGV4dC5cclxuICAgICAqICAgICAgICAgICAgICBPdGhlcndpc2UsIHRocm93cyBhbiBleGNlcHRpb24uXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZEh0bWxcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkSHRtbCh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5IVE1MLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuSFRNTCwgdmFsdWUpYFxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRDc3NcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkQ3NzKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkNTUywgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkNTUywgdmFsdWUpYFxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRVcmxcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkVXJsKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpYFxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWRgLlxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYFxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRKc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRKcyh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5KUywgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkpTLCB2YWx1ZSlgXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0h0bWxcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzSHRtbChleHByZXNzaW9uIHN0cmluZylgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkhUTUwsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cclxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XHJcbiAgICAgKlxyXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xyXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXHJcbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXHJcbiAgICAgKiAgICAgIGBjb250ZXh0YC5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzQ3NzXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0Nzcyh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkNTUywgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxyXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcclxuICAgICAqXHJcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXHJcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cclxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cclxuICAgICAqICAgICAgYGNvbnRleHRgLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNVcmxcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzVXJsKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuVVJMLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXHJcbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxyXG4gICAgICpcclxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcclxuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxyXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxyXG4gICAgICogICAgICBgY29udGV4dGAuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1Jlc291cmNlVXJsXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc1Jlc291cmNlVXJsKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXHJcbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxyXG4gICAgICpcclxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcclxuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxyXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxyXG4gICAgICogICAgICBgY29udGV4dGAuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0pzXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0pzKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuSlMsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cclxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XHJcbiAgICAgKlxyXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xyXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXHJcbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXHJcbiAgICAgKiAgICAgIGBjb250ZXh0YC5cclxuICAgICAqL1xyXG5cclxuICAgIC8vIFNob3J0aGFuZCBkZWxlZ2F0aW9ucy5cclxuICAgIHZhciBwYXJzZSA9IHNjZS5wYXJzZUFzLFxyXG4gICAgICAgIGdldFRydXN0ZWQgPSBzY2UuZ2V0VHJ1c3RlZCxcclxuICAgICAgICB0cnVzdEFzID0gc2NlLnRydXN0QXM7XHJcblxyXG4gICAgZm9yRWFjaChTQ0VfQ09OVEVYVFMsIGZ1bmN0aW9uKGVudW1WYWx1ZSwgbmFtZSkge1xyXG4gICAgICB2YXIgbE5hbWUgPSBsb3dlcmNhc2UobmFtZSk7XHJcbiAgICAgIHNjZVtjYW1lbENhc2UoXCJwYXJzZV9hc19cIiArIGxOYW1lKV0gPSBmdW5jdGlvbihleHByKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlKGVudW1WYWx1ZSwgZXhwcik7XHJcbiAgICAgIH07XHJcbiAgICAgIHNjZVtjYW1lbENhc2UoXCJnZXRfdHJ1c3RlZF9cIiArIGxOYW1lKV0gPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBnZXRUcnVzdGVkKGVudW1WYWx1ZSwgdmFsdWUpO1xyXG4gICAgICB9O1xyXG4gICAgICBzY2VbY2FtZWxDYXNlKFwidHJ1c3RfYXNfXCIgKyBsTmFtZSldID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdHJ1c3RBcyhlbnVtVmFsdWUsIHZhbHVlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBzY2U7XHJcbiAgfV07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiAhISEgVGhpcyBpcyBhbiB1bmRvY3VtZW50ZWQgXCJwcml2YXRlXCIgc2VydmljZSAhISFcclxuICpcclxuICogQG5hbWUgJHNuaWZmZXJcclxuICogQHJlcXVpcmVzICR3aW5kb3dcclxuICogQHJlcXVpcmVzICRkb2N1bWVudFxyXG4gKlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGhpc3RvcnkgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IGh0bWw1IGhpc3RvcnkgYXBpID9cclxuICogQHByb3BlcnR5IHtib29sZWFufSB0cmFuc2l0aW9ucyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgQ1NTIHRyYW5zaXRpb24gZXZlbnRzID9cclxuICogQHByb3BlcnR5IHtib29sZWFufSBhbmltYXRpb25zIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBDU1MgYW5pbWF0aW9uIGV2ZW50cyA/XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIGlzIHZlcnkgc2ltcGxlIGltcGxlbWVudGF0aW9uIG9mIHRlc3RpbmcgYnJvd3NlcidzIGZlYXR1cmVzLlxyXG4gKi9cclxuZnVuY3Rpb24gJFNuaWZmZXJQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJGRvY3VtZW50JywgZnVuY3Rpb24oJHdpbmRvdywgJGRvY3VtZW50KSB7XHJcbiAgICB2YXIgZXZlbnRTdXBwb3J0ID0ge30sXHJcbiAgICAgICAgLy8gQ2hyb21lIFBhY2thZ2VkIEFwcHMgYXJlIG5vdCBhbGxvd2VkIHRvIGFjY2VzcyBgaGlzdG9yeS5wdXNoU3RhdGVgLiBUaGV5IGNhbiBiZSBkZXRlY3RlZCBieVxyXG4gICAgICAgIC8vIHRoZSBwcmVzZW5jZSBvZiBgY2hyb21lLmFwcC5ydW50aW1lYCAoc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vYXBwcy9hcGlfaW5kZXgpXHJcbiAgICAgICAgaXNDaHJvbWVQYWNrYWdlZEFwcCA9ICR3aW5kb3cuY2hyb21lICYmICR3aW5kb3cuY2hyb21lLmFwcCAmJiAkd2luZG93LmNocm9tZS5hcHAucnVudGltZSxcclxuICAgICAgICBoYXNIaXN0b3J5UHVzaFN0YXRlID0gIWlzQ2hyb21lUGFja2FnZWRBcHAgJiYgJHdpbmRvdy5oaXN0b3J5ICYmICR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUsXHJcbiAgICAgICAgYW5kcm9pZCA9XHJcbiAgICAgICAgICB0b0ludCgoL2FuZHJvaWQgKFxcZCspLy5leGVjKGxvd2VyY2FzZSgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCkpIHx8IFtdKVsxXSksXHJcbiAgICAgICAgYm94ZWUgPSAvQm94ZWUvaS50ZXN0KCgkd2luZG93Lm5hdmlnYXRvciB8fCB7fSkudXNlckFnZW50KSxcclxuICAgICAgICBkb2N1bWVudCA9ICRkb2N1bWVudFswXSB8fCB7fSxcclxuICAgICAgICB2ZW5kb3JQcmVmaXgsXHJcbiAgICAgICAgdmVuZG9yUmVnZXggPSAvXihNb3p8d2Via2l0fG1zKSg/PVtBLVpdKS8sXHJcbiAgICAgICAgYm9keVN0eWxlID0gZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LnN0eWxlLFxyXG4gICAgICAgIHRyYW5zaXRpb25zID0gZmFsc2UsXHJcbiAgICAgICAgYW5pbWF0aW9ucyA9IGZhbHNlLFxyXG4gICAgICAgIG1hdGNoO1xyXG5cclxuICAgIGlmIChib2R5U3R5bGUpIHtcclxuICAgICAgZm9yICh2YXIgcHJvcCBpbiBib2R5U3R5bGUpIHtcclxuICAgICAgICBpZiAobWF0Y2ggPSB2ZW5kb3JSZWdleC5leGVjKHByb3ApKSB7XHJcbiAgICAgICAgICB2ZW5kb3JQcmVmaXggPSBtYXRjaFswXTtcclxuICAgICAgICAgIHZlbmRvclByZWZpeCA9IHZlbmRvclByZWZpeC5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArIHZlbmRvclByZWZpeC5zdWJzdHIoMSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdmVuZG9yUHJlZml4KSB7XHJcbiAgICAgICAgdmVuZG9yUHJlZml4ID0gKCdXZWJraXRPcGFjaXR5JyBpbiBib2R5U3R5bGUpICYmICd3ZWJraXQnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0cmFuc2l0aW9ucyA9ICEhKCgndHJhbnNpdGlvbicgaW4gYm9keVN0eWxlKSB8fCAodmVuZG9yUHJlZml4ICsgJ1RyYW5zaXRpb24nIGluIGJvZHlTdHlsZSkpO1xyXG4gICAgICBhbmltYXRpb25zICA9ICEhKCgnYW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpIHx8ICh2ZW5kb3JQcmVmaXggKyAnQW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpKTtcclxuXHJcbiAgICAgIGlmIChhbmRyb2lkICYmICghdHJhbnNpdGlvbnMgfHwgICFhbmltYXRpb25zKSkge1xyXG4gICAgICAgIHRyYW5zaXRpb25zID0gaXNTdHJpbmcoYm9keVN0eWxlLndlYmtpdFRyYW5zaXRpb24pO1xyXG4gICAgICAgIGFuaW1hdGlvbnMgPSBpc1N0cmluZyhib2R5U3R5bGUud2Via2l0QW5pbWF0aW9uKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvLyBBbmRyb2lkIGhhcyBoaXN0b3J5LnB1c2hTdGF0ZSwgYnV0IGl0IGRvZXMgbm90IHVwZGF0ZSBsb2NhdGlvbiBjb3JyZWN0bHlcclxuICAgICAgLy8gc28gbGV0J3Mgbm90IHVzZSB0aGUgaGlzdG9yeSBBUEkgYXQgYWxsLlxyXG4gICAgICAvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYW5kcm9pZC9pc3N1ZXMvZGV0YWlsP2lkPTE3NDcxXHJcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkwNFxyXG5cclxuICAgICAgLy8gb2xkZXIgd2Via2l0IGJyb3dzZXIgKDUzMy45KSBvbiBCb3hlZSBib3ggaGFzIGV4YWN0bHkgdGhlIHNhbWUgcHJvYmxlbSBhcyBBbmRyb2lkIGhhc1xyXG4gICAgICAvLyBzbyBsZXQncyBub3QgdXNlIHRoZSBoaXN0b3J5IEFQSSBhbHNvXHJcbiAgICAgIC8vIFdlIGFyZSBwdXJwb3NlZnVsbHkgdXNpbmcgYCEoYW5kcm9pZCA8IDQpYCB0byBjb3ZlciB0aGUgY2FzZSB3aGVuIGBhbmRyb2lkYCBpcyB1bmRlZmluZWRcclxuICAgICAgLy8ganNoaW50IC1XMDE4XHJcbiAgICAgIGhpc3Rvcnk6ICEhKGhhc0hpc3RvcnlQdXNoU3RhdGUgJiYgIShhbmRyb2lkIDwgNCkgJiYgIWJveGVlKSxcclxuICAgICAgLy8ganNoaW50ICtXMDE4XHJcbiAgICAgIGhhc0V2ZW50OiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIC8vIElFOSBpbXBsZW1lbnRzICdpbnB1dCcgZXZlbnQgaXQncyBzbyBmdWJhcmVkIHRoYXQgd2UgcmF0aGVyIHByZXRlbmQgdGhhdCBpdCBkb2Vzbid0IGhhdmVcclxuICAgICAgICAvLyBpdC4gSW4gcGFydGljdWxhciB0aGUgZXZlbnQgaXMgbm90IGZpcmVkIHdoZW4gYmFja3NwYWNlIG9yIGRlbGV0ZSBrZXkgYXJlIHByZXNzZWQgb3JcclxuICAgICAgICAvLyB3aGVuIGN1dCBvcGVyYXRpb24gaXMgcGVyZm9ybWVkLlxyXG4gICAgICAgIC8vIElFMTArIGltcGxlbWVudHMgJ2lucHV0JyBldmVudCBidXQgaXQgZXJyb25lb3VzbHkgZmlyZXMgdW5kZXIgdmFyaW91cyBzaXR1YXRpb25zLFxyXG4gICAgICAgIC8vIGUuZy4gd2hlbiBwbGFjZWhvbGRlciBjaGFuZ2VzLCBvciBhIGZvcm0gaXMgZm9jdXNlZC5cclxuICAgICAgICBpZiAoZXZlbnQgPT09ICdpbnB1dCcgJiYgbXNpZSA8PSAxMSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnRTdXBwb3J0W2V2ZW50XSkpIHtcclxuICAgICAgICAgIHZhciBkaXZFbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIGV2ZW50U3VwcG9ydFtldmVudF0gPSAnb24nICsgZXZlbnQgaW4gZGl2RWxtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGV2ZW50U3VwcG9ydFtldmVudF07XHJcbiAgICAgIH0sXHJcbiAgICAgIGNzcDogY3NwKCksXHJcbiAgICAgIHZlbmRvclByZWZpeDogdmVuZG9yUHJlZml4LFxyXG4gICAgICB0cmFuc2l0aW9uczogdHJhbnNpdGlvbnMsXHJcbiAgICAgIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsXHJcbiAgICAgIGFuZHJvaWQ6IGFuZHJvaWRcclxuICAgIH07XHJcbiAgfV07XHJcbn1cclxuXHJcbnZhciAkdGVtcGxhdGVSZXF1ZXN0TWluRXJyID0gbWluRXJyKCckY29tcGlsZScpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkdGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXJcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFVzZWQgdG8gY29uZmlndXJlIHRoZSBvcHRpb25zIHBhc3NlZCB0byB0aGUge0BsaW5rICRodHRwfSBzZXJ2aWNlIHdoZW4gbWFraW5nIGEgdGVtcGxhdGUgcmVxdWVzdC5cclxuICpcclxuICogRm9yIGV4YW1wbGUsIGl0IGNhbiBiZSB1c2VkIGZvciBzcGVjaWZ5aW5nIHRoZSBcIkFjY2VwdFwiIGhlYWRlciB0aGF0IGlzIHNlbnQgdG8gdGhlIHNlcnZlciwgd2hlblxyXG4gKiByZXF1ZXN0aW5nIGEgdGVtcGxhdGUuXHJcbiAqL1xyXG5mdW5jdGlvbiAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIoKSB7XHJcblxyXG4gIHZhciBodHRwT3B0aW9ucztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICR0ZW1wbGF0ZVJlcXVlc3RQcm92aWRlciNodHRwT3B0aW9uc1xyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoZSBvcHRpb25zIHRvIGJlIHBhc3NlZCB0byB0aGUge0BsaW5rICRodHRwfSBzZXJ2aWNlIHdoZW4gbWFraW5nIHRoZSByZXF1ZXN0LlxyXG4gICAqIFlvdSBjYW4gdXNlIHRoaXMgdG8gb3ZlcnJpZGUgb3B0aW9ucyBzdWNoIGFzIHRoZSBcIkFjY2VwdFwiIGhlYWRlciBmb3IgdGVtcGxhdGUgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBUaGUge0BsaW5rICR0ZW1wbGF0ZVJlcXVlc3R9IHdpbGwgc2V0IHRoZSBgY2FjaGVgIGFuZCB0aGUgYHRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzIG9mIHRoZVxyXG4gICAqIG9wdGlvbnMgaWYgbm90IG92ZXJyaWRkZW4gaGVyZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIGZvciB0aGUge0BsaW5rICRodHRwfSBvcHRpb25zLlxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8c2VsZn0gUmV0dXJucyB0aGUge0BsaW5rICRodHRwfSBvcHRpb25zIHdoZW4gdXNlZCBhcyBnZXR0ZXIgYW5kIHNlbGYgaWYgdXNlZCBhcyBzZXR0ZXIuXHJcbiAgICovXHJcbiAgdGhpcy5odHRwT3B0aW9ucyA9IGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICBodHRwT3B0aW9ucyA9IHZhbDtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaHR0cE9wdGlvbnM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgKiBAbmFtZSAkdGVtcGxhdGVSZXF1ZXN0XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgYCR0ZW1wbGF0ZVJlcXVlc3RgIHNlcnZpY2UgcnVucyBzZWN1cml0eSBjaGVja3MgdGhlbiBkb3dubG9hZHMgdGhlIHByb3ZpZGVkIHRlbXBsYXRlIHVzaW5nXHJcbiAgICogYCRodHRwYCBhbmQsIHVwb24gc3VjY2Vzcywgc3RvcmVzIHRoZSBjb250ZW50cyBpbnNpZGUgb2YgYCR0ZW1wbGF0ZUNhY2hlYC4gSWYgdGhlIEhUVFAgcmVxdWVzdFxyXG4gICAqIGZhaWxzIG9yIHRoZSByZXNwb25zZSBkYXRhIG9mIHRoZSBIVFRQIHJlcXVlc3QgaXMgZW1wdHksIGEgYCRjb21waWxlYCBlcnJvciB3aWxsIGJlIHRocm93biAodGhlXHJcbiAgICogZXhjZXB0aW9uIGNhbiBiZSB0aHdhcnRlZCBieSBzZXR0aW5nIHRoZSAybmQgcGFyYW1ldGVyIG9mIHRoZSBmdW5jdGlvbiB0byB0cnVlKS4gTm90ZSB0aGF0IHRoZVxyXG4gICAqIGNvbnRlbnRzIG9mIGAkdGVtcGxhdGVDYWNoZWAgYXJlIHRydXN0ZWQsIHNvIHRoZSBjYWxsIHRvIGAkc2NlLmdldFRydXN0ZWRVcmwodHBsKWAgaXMgb21pdHRlZFxyXG4gICAqIHdoZW4gYHRwbGAgaXMgb2YgdHlwZSBzdHJpbmcgYW5kIGAkdGVtcGxhdGVDYWNoZWAgaGFzIHRoZSBtYXRjaGluZyBlbnRyeS5cclxuICAgKlxyXG4gICAqIElmIHlvdSB3YW50IHRvIHBhc3MgY3VzdG9tIG9wdGlvbnMgdG8gdGhlIGAkaHR0cGAgc2VydmljZSwgc3VjaCBhcyBzZXR0aW5nIHRoZSBBY2NlcHQgaGVhZGVyIHlvdVxyXG4gICAqIGNhbiBjb25maWd1cmUgdGhpcyB2aWEge0BsaW5rICR0ZW1wbGF0ZVJlcXVlc3RQcm92aWRlciNodHRwT3B0aW9uc30uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkUmVzb3VyY2VVcmx9IHRwbCBUaGUgSFRUUCByZXF1ZXN0IHRlbXBsYXRlIFVSTFxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGlnbm9yZVJlcXVlc3RFcnJvciBXaGV0aGVyIG9yIG5vdCB0byBpZ25vcmUgdGhlIGV4Y2VwdGlvbiB3aGVuIHRoZSByZXF1ZXN0IGZhaWxzIG9yIHRoZSB0ZW1wbGF0ZSBpcyBlbXB0eVxyXG4gICAqXHJcbiAgICogQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIGZvciB0aGUgSFRUUCByZXNwb25zZSBkYXRhIG9mIHRoZSBnaXZlbiBVUkwuXHJcbiAgICpcclxuICAgKiBAcHJvcGVydHkge251bWJlcn0gdG90YWxQZW5kaW5nUmVxdWVzdHMgdG90YWwgYW1vdW50IG9mIHBlbmRpbmcgdGVtcGxhdGUgcmVxdWVzdHMgYmVpbmcgZG93bmxvYWRlZC5cclxuICAgKi9cclxuICB0aGlzLiRnZXQgPSBbJyR0ZW1wbGF0ZUNhY2hlJywgJyRodHRwJywgJyRxJywgJyRzY2UnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSwgJGh0dHAsICRxLCAkc2NlKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdEZuKHRwbCwgaWdub3JlUmVxdWVzdEVycm9yKSB7XHJcbiAgICAgIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cysrO1xyXG5cclxuICAgICAgLy8gV2UgY29uc2lkZXIgdGhlIHRlbXBsYXRlIGNhY2hlIGhvbGRzIG9ubHkgdHJ1c3RlZCB0ZW1wbGF0ZXMsIHNvXHJcbiAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byBnbyB0aHJvdWdoIHdoaXRlbGlzdGluZyBhZ2FpbiBmb3Iga2V5cyB0aGF0IGFscmVhZHlcclxuICAgICAgLy8gYXJlIGluY2x1ZGVkIGluIHRoZXJlLiBUaGlzIGFsc28gbWFrZXMgQW5ndWxhciBhY2NlcHQgYW55IHNjcmlwdFxyXG4gICAgICAvLyBkaXJlY3RpdmUsIG5vIG1hdHRlciBpdHMgbmFtZS4gSG93ZXZlciwgd2Ugc3RpbGwgbmVlZCB0byB1bndyYXAgdHJ1c3RlZFxyXG4gICAgICAvLyB0eXBlcy5cclxuICAgICAgaWYgKCFpc1N0cmluZyh0cGwpIHx8ICEkdGVtcGxhdGVDYWNoZS5nZXQodHBsKSkge1xyXG4gICAgICAgIHRwbCA9ICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHRwbCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB0cmFuc2Zvcm1SZXNwb25zZSA9ICRodHRwLmRlZmF1bHRzICYmICRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlO1xyXG5cclxuICAgICAgaWYgKGlzQXJyYXkodHJhbnNmb3JtUmVzcG9uc2UpKSB7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2UgPSB0cmFuc2Zvcm1SZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24odHJhbnNmb3JtZXIpIHtcclxuICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lciAhPT0gZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmICh0cmFuc2Zvcm1SZXNwb25zZSA9PT0gZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybSkge1xyXG4gICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuICRodHRwLmdldCh0cGwsIGV4dGVuZCh7XHJcbiAgICAgICAgICBjYWNoZTogJHRlbXBsYXRlQ2FjaGUsXHJcbiAgICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogdHJhbnNmb3JtUmVzcG9uc2VcclxuICAgICAgICB9LCBodHRwT3B0aW9ucykpXHJcbiAgICAgICAgWydmaW5hbGx5J10oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBoYW5kbGVSZXF1ZXN0Rm4udG90YWxQZW5kaW5nUmVxdWVzdHMtLTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQodHBsLCByZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIH0sIGhhbmRsZUVycm9yKTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9yKHJlc3ApIHtcclxuICAgICAgICBpZiAoIWlnbm9yZVJlcXVlc3RFcnJvcikge1xyXG4gICAgICAgICAgdGhyb3cgJHRlbXBsYXRlUmVxdWVzdE1pbkVycigndHBsb2FkJywgJ0ZhaWxlZCB0byBsb2FkIHRlbXBsYXRlOiB7MH0gKEhUVFAgc3RhdHVzOiB7MX0gezJ9KScsXHJcbiAgICAgICAgICAgIHRwbCwgcmVzcC5zdGF0dXMsIHJlc3Auc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAkcS5yZWplY3QocmVzcCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVSZXF1ZXN0Rm4udG90YWxQZW5kaW5nUmVxdWVzdHMgPSAwO1xyXG5cclxuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0Rm47XHJcbiAgfV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uICQkVGVzdGFiaWxpdHlQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJGxvY2F0aW9uJyxcclxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJGJyb3dzZXIsICAgJGxvY2F0aW9uKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkdGVzdGFiaWxpdHlcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoZSBwcml2YXRlICQkdGVzdGFiaWxpdHkgc2VydmljZSBwcm92aWRlcyBhIGNvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgdXNlIHdoZW4gZGVidWdnaW5nXHJcbiAgICAgKiBvciBieSBhdXRvbWF0ZWQgdGVzdCBhbmQgZGVidWdnaW5nIHRvb2xzLlxyXG4gICAgICovXHJcbiAgICB2YXIgdGVzdGFiaWxpdHkgPSB7fTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZmluZEJpbmRpbmdzXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgYXJlIGJvdW5kICh2aWEgbmctYmluZCBvciB7e319KVxyXG4gICAgICogdG8gZXhwcmVzc2lvbnMgbWF0Y2hpbmcgdGhlIGlucHV0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCByb290IHRvIHNlYXJjaCBmcm9tLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gVGhlIGJpbmRpbmcgZXhwcmVzc2lvbiB0byBtYXRjaC5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X2V4YWN0TWF0Y2ggSWYgdHJ1ZSwgb25seSByZXR1cm5zIGV4YWN0IG1hdGNoZXNcclxuICAgICAqICAgICBmb3IgdGhlIGV4cHJlc3Npb24uIEZpbHRlcnMgYW5kIHdoaXRlc3BhY2UgYXJlIGlnbm9yZWQuXHJcbiAgICAgKi9cclxuICAgIHRlc3RhYmlsaXR5LmZpbmRCaW5kaW5ncyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIG9wdF9leGFjdE1hdGNoKSB7XHJcbiAgICAgIHZhciBiaW5kaW5ncyA9IGVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmctYmluZGluZycpO1xyXG4gICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xyXG4gICAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7XHJcbiAgICAgICAgdmFyIGRhdGFCaW5kaW5nID0gYW5ndWxhci5lbGVtZW50KGJpbmRpbmcpLmRhdGEoJyRiaW5kaW5nJyk7XHJcbiAgICAgICAgaWYgKGRhdGFCaW5kaW5nKSB7XHJcbiAgICAgICAgICBmb3JFYWNoKGRhdGFCaW5kaW5nLCBmdW5jdGlvbihiaW5kaW5nTmFtZSkge1xyXG4gICAgICAgICAgICBpZiAob3B0X2V4YWN0TWF0Y2gpIHtcclxuICAgICAgICAgICAgICB2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBlc2NhcGVGb3JSZWdleHAoZXhwcmVzc2lvbikgKyAnKFxcXFxzfFxcXFx8fCQpJyk7XHJcbiAgICAgICAgICAgICAgaWYgKG1hdGNoZXIudGVzdChiaW5kaW5nTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChiaW5kaW5nKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgaWYgKGJpbmRpbmdOYW1lLmluZGV4T2YoZXhwcmVzc2lvbikgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChiaW5kaW5nKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBtYXRjaGVzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZmluZE1vZGVsc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGFyZSB0d28td2F5IGZvdW5kIHZpYSBuZy1tb2RlbCB0b1xyXG4gICAgICogZXhwcmVzc2lvbnMgbWF0Y2hpbmcgdGhlIGlucHV0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCByb290IHRvIHNlYXJjaCBmcm9tLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gVGhlIG1vZGVsIGV4cHJlc3Npb24gdG8gbWF0Y2guXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdF9leGFjdE1hdGNoIElmIHRydWUsIG9ubHkgcmV0dXJucyBleGFjdCBtYXRjaGVzXHJcbiAgICAgKiAgICAgZm9yIHRoZSBleHByZXNzaW9uLlxyXG4gICAgICovXHJcbiAgICB0ZXN0YWJpbGl0eS5maW5kTW9kZWxzID0gZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lvbiwgb3B0X2V4YWN0TWF0Y2gpIHtcclxuICAgICAgdmFyIHByZWZpeGVzID0gWyduZy0nLCAnZGF0YS1uZy0nLCAnbmdcXFxcOiddO1xyXG4gICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHByZWZpeGVzLmxlbmd0aDsgKytwKSB7XHJcbiAgICAgICAgdmFyIGF0dHJpYnV0ZUVxdWFscyA9IG9wdF9leGFjdE1hdGNoID8gJz0nIDogJyo9JztcclxuICAgICAgICB2YXIgc2VsZWN0b3IgPSAnWycgKyBwcmVmaXhlc1twXSArICdtb2RlbCcgKyBhdHRyaWJ1dGVFcXVhbHMgKyAnXCInICsgZXhwcmVzc2lvbiArICdcIl0nO1xyXG4gICAgICAgIHZhciBlbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZ2V0TG9jYXRpb25cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0Y3V0IGZvciBnZXR0aW5nIHRoZSBsb2NhdGlvbiBpbiBhIGJyb3dzZXIgYWdub3N0aWMgd2F5LiBSZXR1cm5zXHJcbiAgICAgKiAgICAgdGhlIHBhdGgsIHNlYXJjaCwgYW5kIGhhc2guIChlLmcuIC9wYXRoP2E9YiNoYXNoKVxyXG4gICAgICovXHJcbiAgICB0ZXN0YWJpbGl0eS5nZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gJGxvY2F0aW9uLnVybCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjc2V0TG9jYXRpb25cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0Y3V0IGZvciBuYXZpZ2F0aW5nIHRvIGEgbG9jYXRpb24gd2l0aG91dCBkb2luZyBhIGZ1bGwgcGFnZSByZWxvYWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgbG9jYXRpb24gdXJsIChwYXRoLCBzZWFyY2ggYW5kIGhhc2gsXHJcbiAgICAgKiAgICAgZS5nLiAvcGF0aD9hPWIjaGFzaCkgdG8gZ28gdG8uXHJcbiAgICAgKi9cclxuICAgIHRlc3RhYmlsaXR5LnNldExvY2F0aW9uID0gZnVuY3Rpb24odXJsKSB7XHJcbiAgICAgIGlmICh1cmwgIT09ICRsb2NhdGlvbi51cmwoKSkge1xyXG4gICAgICAgICRsb2NhdGlvbi51cmwodXJsKTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjd2hlblN0YWJsZVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogQ2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gJHRpbWVvdXQgYW5kICRodHRwIHJlcXVlc3RzIGFyZSBjb21wbGV0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgICAqL1xyXG4gICAgdGVzdGFiaWxpdHkud2hlblN0YWJsZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICRicm93c2VyLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMoY2FsbGJhY2spO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gdGVzdGFiaWxpdHk7XHJcbiAgfV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uICRUaW1lb3V0UHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyRicm93c2VyJywgJyRxJywgJyQkcScsICckZXhjZXB0aW9uSGFuZGxlcicsXHJcbiAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAgICRicm93c2VyLCAgICRxLCAgICQkcSwgICAkZXhjZXB0aW9uSGFuZGxlcikge1xyXG5cclxuICAgIHZhciBkZWZlcnJlZHMgPSB7fTtcclxuXHJcblxyXG4gICAgIC8qKlxyXG4gICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgICogQG5hbWUgJHRpbWVvdXRcclxuICAgICAgKlxyXG4gICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAqIEFuZ3VsYXIncyB3cmFwcGVyIGZvciBgd2luZG93LnNldFRpbWVvdXRgLiBUaGUgYGZuYCBmdW5jdGlvbiBpcyB3cmFwcGVkIGludG8gYSB0cnkvY2F0Y2hcclxuICAgICAgKiBibG9jayBhbmQgZGVsZWdhdGVzIGFueSBleGNlcHRpb25zIHRvXHJcbiAgICAgICoge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxyXG4gICAgICAqXHJcbiAgICAgICogVGhlIHJldHVybiB2YWx1ZSBvZiBjYWxsaW5nIGAkdGltZW91dGAgaXMgYSBwcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIHdoZW5cclxuICAgICAgKiB0aGUgZGVsYXkgaGFzIHBhc3NlZCBhbmQgdGhlIHRpbWVvdXQgZnVuY3Rpb24sIGlmIHByb3ZpZGVkLCBpcyBleGVjdXRlZC5cclxuICAgICAgKlxyXG4gICAgICAqIFRvIGNhbmNlbCBhIHRpbWVvdXQgcmVxdWVzdCwgY2FsbCBgJHRpbWVvdXQuY2FuY2VsKHByb21pc2UpYC5cclxuICAgICAgKlxyXG4gICAgICAqIEluIHRlc3RzIHlvdSBjYW4gdXNlIHtAbGluayBuZ01vY2suJHRpbWVvdXQgYCR0aW1lb3V0LmZsdXNoKClgfSB0b1xyXG4gICAgICAqIHN5bmNocm9ub3VzbHkgZmx1c2ggdGhlIHF1ZXVlIG9mIGRlZmVycmVkIGZ1bmN0aW9ucy5cclxuICAgICAgKlxyXG4gICAgICAqIElmIHlvdSBvbmx5IHdhbnQgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhZnRlciBzb21lIHNwZWNpZmllZCBkZWxheVxyXG4gICAgICAqIHRoZW4geW91IGNhbiBjYWxsIGAkdGltZW91dGAgd2l0aG91dCB0aGUgYGZuYCBmdW5jdGlvbi5cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKT19IGZuIEEgZnVuY3Rpb24sIHdob3NlIGV4ZWN1dGlvbiBzaG91bGQgYmUgZGVsYXllZC5cclxuICAgICAgKiBAcGFyYW0ge251bWJlcj19IFtkZWxheT0wXSBEZWxheSBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW2ludm9rZUFwcGx5PXRydWVdIElmIHNldCB0byBgZmFsc2VgIHNraXBzIG1vZGVsIGRpcnR5IGNoZWNraW5nLCBvdGhlcndpc2VcclxuICAgICAgKiAgIHdpbGwgaW52b2tlIGBmbmAgd2l0aGluIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5fSBibG9jay5cclxuICAgICAgKiBAcGFyYW0gey4uLio9fSBQYXNzIGFkZGl0aW9uYWwgcGFyYW1ldGVycyB0byB0aGUgZXhlY3V0ZWQgZnVuY3Rpb24uXHJcbiAgICAgICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIHRpbWVvdXQgaXMgcmVhY2hlZC4gVGhlIHByb21pc2VcclxuICAgICAgKiAgIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgZm5gIGZ1bmN0aW9uLlxyXG4gICAgICAqXHJcbiAgICAgICovXHJcbiAgICBmdW5jdGlvbiB0aW1lb3V0KGZuLCBkZWxheSwgaW52b2tlQXBwbHkpIHtcclxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZuKSkge1xyXG4gICAgICAgIGludm9rZUFwcGx5ID0gZGVsYXk7XHJcbiAgICAgICAgZGVsYXkgPSBmbjtcclxuICAgICAgICBmbiA9IG5vb3A7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBhcmdzID0gc2xpY2VBcmdzKGFyZ3VtZW50cywgMyksXHJcbiAgICAgICAgICBza2lwQXBwbHkgPSAoaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHkpLFxyXG4gICAgICAgICAgZGVmZXJyZWQgPSAoc2tpcEFwcGx5ID8gJCRxIDogJHEpLmRlZmVyKCksXHJcbiAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZSxcclxuICAgICAgICAgIHRpbWVvdXRJZDtcclxuXHJcbiAgICAgIHRpbWVvdXRJZCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZuLmFwcGx5KG51bGwsIGFyZ3MpKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZSk7XHJcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFza2lwQXBwbHkpICRyb290U2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgIH0sIGRlbGF5KTtcclxuXHJcbiAgICAgIHByb21pc2UuJCR0aW1lb3V0SWQgPSB0aW1lb3V0SWQ7XHJcbiAgICAgIGRlZmVycmVkc1t0aW1lb3V0SWRdID0gZGVmZXJyZWQ7XHJcblxyXG4gICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgIC8qKlxyXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgKiBAbmFtZSAkdGltZW91dCNjYW5jZWxcclxuICAgICAgKlxyXG4gICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAqIENhbmNlbHMgYSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb21pc2VgLiBBcyBhIHJlc3VsdCBvZiB0aGlzLCB0aGUgcHJvbWlzZSB3aWxsIGJlXHJcbiAgICAgICogcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbi5cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbSB7UHJvbWlzZT19IHByb21pc2UgUHJvbWlzZSByZXR1cm5lZCBieSB0aGUgYCR0aW1lb3V0YCBmdW5jdGlvbi5cclxuICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgaGFzbid0IGV4ZWN1dGVkIHlldCBhbmQgd2FzIHN1Y2Nlc3NmdWxseVxyXG4gICAgICAqICAgY2FuY2VsZWQuXHJcbiAgICAgICovXHJcbiAgICB0aW1lb3V0LmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHtcclxuICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJHRpbWVvdXRJZCBpbiBkZWZlcnJlZHMpIHtcclxuICAgICAgICBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF0ucmVqZWN0KCdjYW5jZWxlZCcpO1xyXG4gICAgICAgIGRlbGV0ZSBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF07XHJcbiAgICAgICAgcmV0dXJuICRicm93c2VyLmRlZmVyLmNhbmNlbChwcm9taXNlLiQkdGltZW91dElkKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB0aW1lb3V0O1xyXG4gIH1dO1xyXG59XHJcblxyXG4vLyBOT1RFOiAgVGhlIHVzYWdlIG9mIHdpbmRvdyBhbmQgZG9jdW1lbnQgaW5zdGVhZCBvZiAkd2luZG93IGFuZCAkZG9jdW1lbnQgaGVyZSBpc1xyXG4vLyBkZWxpYmVyYXRlLiAgVGhpcyBzZXJ2aWNlIGRlcGVuZHMgb24gdGhlIHNwZWNpZmljIGJlaGF2aW9yIG9mIGFuY2hvciBub2RlcyBjcmVhdGVkIGJ5IHRoZVxyXG4vLyBicm93c2VyIChyZXNvbHZpbmcgYW5kIHBhcnNpbmcgVVJMcykgdGhhdCBpcyB1bmxpa2VseSB0byBiZSBwcm92aWRlZCBieSBtb2NrIG9iamVjdHMgYW5kXHJcbi8vIGNhdXNlIHVzIHRvIGJyZWFrIHRlc3RzLiAgSW4gYWRkaXRpb24sIHdoZW4gdGhlIGJyb3dzZXIgcmVzb2x2ZXMgYSBVUkwgZm9yIFhIUiwgaXRcclxuLy8gZG9lc24ndCBrbm93IGFib3V0IG1vY2tlZCBsb2NhdGlvbnMgYW5kIHJlc29sdmVzIFVSTHMgdG8gdGhlIHJlYWwgZG9jdW1lbnQgLSB3aGljaCBpc1xyXG4vLyBleGFjdGx5IHRoZSBiZWhhdmlvciBuZWVkZWQgaGVyZS4gIFRoZXJlIGlzIGxpdHRsZSB2YWx1ZSBpcyBtb2NraW5nIHRoZXNlIG91dCBmb3IgdGhpc1xyXG4vLyBzZXJ2aWNlLlxyXG52YXIgdXJsUGFyc2luZ05vZGUgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbnZhciBvcmlnaW5VcmwgPSB1cmxSZXNvbHZlKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuXHJcblxyXG4vKipcclxuICpcclxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIG5vbi1JRSBicm93c2Vyc1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIEFzc2lnbmluZyBhIFVSTCB0byB0aGUgaHJlZiBwcm9wZXJ0eSBvZiBhbiBhbmNob3IgRE9NIG5vZGUsIGV2ZW4gb25lIGF0dGFjaGVkIHRvIHRoZSBET00sXHJcbiAqIHJlc3VsdHMgYm90aCBpbiB0aGUgbm9ybWFsaXppbmcgYW5kIHBhcnNpbmcgb2YgdGhlIFVSTC4gIE5vcm1hbGl6aW5nIG1lYW5zIHRoYXQgYSByZWxhdGl2ZVxyXG4gKiBVUkwgd2lsbCBiZSByZXNvbHZlZCBpbnRvIGFuIGFic29sdXRlIFVSTCBpbiB0aGUgY29udGV4dCBvZiB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXHJcbiAqIFBhcnNpbmcgbWVhbnMgdGhhdCB0aGUgYW5jaG9yIG5vZGUncyBob3N0LCBob3N0bmFtZSwgcHJvdG9jb2wsIHBvcnQsIHBhdGhuYW1lIGFuZCByZWxhdGVkXHJcbiAqIHByb3BlcnRpZXMgYXJlIGFsbCBwb3B1bGF0ZWQgdG8gcmVmbGVjdCB0aGUgbm9ybWFsaXplZCBVUkwuICBUaGlzIGFwcHJvYWNoIGhhcyB3aWRlXHJcbiAqIGNvbXBhdGliaWxpdHkgLSBTYWZhcmkgMSssIE1vemlsbGEgMSssIE9wZXJhIDcrLGUgZXRjLiAgU2VlXHJcbiAqIGh0dHA6Ly93d3cuYXB0YW5hLmNvbS9yZWZlcmVuY2UvaHRtbC9hcGkvSFRNTEFuY2hvckVsZW1lbnQuaHRtbFxyXG4gKlxyXG4gKiBJbXBsZW1lbnRhdGlvbiBOb3RlcyBmb3IgSUVcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIElFIDw9IDEwIG5vcm1hbGl6ZXMgdGhlIFVSTCB3aGVuIGFzc2lnbmVkIHRvIHRoZSBhbmNob3Igbm9kZSBzaW1pbGFyIHRvIHRoZSBvdGhlclxyXG4gKiBicm93c2Vycy4gIEhvd2V2ZXIsIHRoZSBwYXJzZWQgY29tcG9uZW50cyB3aWxsIG5vdCBiZSBzZXQgaWYgdGhlIFVSTCBhc3NpZ25lZCBkaWQgbm90IHNwZWNpZnlcclxuICogdGhlbS4gIChlLmcuIGlmIHlvdSBhc3NpZ24gYS5ocmVmID0gXCJmb29cIiwgdGhlbiBhLnByb3RvY29sLCBhLmhvc3QsIGV0Yy4gd2lsbCBiZSBlbXB0eS4pICBXZVxyXG4gKiB3b3JrIGFyb3VuZCB0aGF0IGJ5IHBlcmZvcm1pbmcgdGhlIHBhcnNpbmcgaW4gYSAybmQgc3RlcCBieSB0YWtpbmcgYSBwcmV2aW91c2x5IG5vcm1hbGl6ZWRcclxuICogVVJMIChlLmcuIGJ5IGFzc2lnbmluZyB0byBhLmhyZWYpIGFuZCBhc3NpZ25pbmcgaXQgYS5ocmVmIGFnYWluLiAgVGhpcyBjb3JyZWN0bHkgcG9wdWxhdGVzIHRoZVxyXG4gKiBwcm9wZXJ0aWVzIHN1Y2ggYXMgcHJvdG9jb2wsIGhvc3RuYW1lLCBwb3J0LCBldGMuXHJcbiAqXHJcbiAqIFJlZmVyZW5jZXM6XHJcbiAqICAgaHR0cDovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEFuY2hvckVsZW1lbnRcclxuICogICBodHRwOi8vd3d3LmFwdGFuYS5jb20vcmVmZXJlbmNlL2h0bWwvYXBpL0hUTUxBbmNob3JFbGVtZW50Lmh0bWxcclxuICogICBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcclxuICogICBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMjkwMlxyXG4gKiAgIGh0dHA6Ly9qYW1lcy5wYWRvbHNleS5jb20vamF2YXNjcmlwdC9wYXJzaW5nLXVybHMtd2l0aC10aGUtZG9tL1xyXG4gKlxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkLlxyXG4gKiBAZGVzY3JpcHRpb24gTm9ybWFsaXplcyBhbmQgcGFyc2VzIGEgVVJMLlxyXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBSZXR1cm5zIHRoZSBub3JtYWxpemVkIFVSTCBhcyBhIGRpY3Rpb25hcnkuXHJcbiAqXHJcbiAqICAgfCBtZW1iZXIgbmFtZSAgIHwgRGVzY3JpcHRpb24gICAgfFxyXG4gKiAgIHwtLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXxcclxuICogICB8IGhyZWYgICAgICAgICAgfCBBIG5vcm1hbGl6ZWQgdmVyc2lvbiBvZiB0aGUgcHJvdmlkZWQgVVJMIGlmIGl0IHdhcyBub3QgYW4gYWJzb2x1dGUgVVJMIHxcclxuICogICB8IHByb3RvY29sICAgICAgfCBUaGUgcHJvdG9jb2wgaW5jbHVkaW5nIHRoZSB0cmFpbGluZyBjb2xvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICB8IGhvc3QgICAgICAgICAgfCBUaGUgaG9zdCBhbmQgcG9ydCAoaWYgdGhlIHBvcnQgaXMgbm9uLWRlZmF1bHQpIG9mIHRoZSBub3JtYWxpemVkVXJsICAgIHxcclxuICogICB8IHNlYXJjaCAgICAgICAgfCBUaGUgc2VhcmNoIHBhcmFtcywgbWludXMgdGhlIHF1ZXN0aW9uIG1hcmsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICB8IGhhc2ggICAgICAgICAgfCBUaGUgaGFzaCBzdHJpbmcsIG1pbnVzIHRoZSBoYXNoIHN5bWJvbFxyXG4gKiAgIHwgaG9zdG5hbWUgICAgICB8IFRoZSBob3N0bmFtZVxyXG4gKiAgIHwgcG9ydCAgICAgICAgICB8IFRoZSBwb3J0LCB3aXRob3V0IFwiOlwiXHJcbiAqICAgfCBwYXRobmFtZSAgICAgIHwgVGhlIHBhdGhuYW1lLCBiZWdpbm5pbmcgd2l0aCBcIi9cIlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gdXJsUmVzb2x2ZSh1cmwpIHtcclxuICB2YXIgaHJlZiA9IHVybDtcclxuXHJcbiAgaWYgKG1zaWUpIHtcclxuICAgIC8vIE5vcm1hbGl6ZSBiZWZvcmUgcGFyc2UuICBSZWZlciBJbXBsZW1lbnRhdGlvbiBOb3RlcyBvbiB3aHkgdGhpcyBpc1xyXG4gICAgLy8gZG9uZSBpbiB0d28gc3RlcHMgb24gSUUuXHJcbiAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGhyZWYpO1xyXG4gICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XHJcbiAgfVxyXG5cclxuICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcclxuXHJcbiAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xyXG4gIHJldHVybiB7XHJcbiAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxyXG4gICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcclxuICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXHJcbiAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXHJcbiAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxyXG4gICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxyXG4gICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcclxuICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpXHJcbiAgICAgID8gdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcclxuICAgICAgOiAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYXJzZSBhIHJlcXVlc3QgVVJMIGFuZCBkZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGEgc2FtZS1vcmlnaW4gcmVxdWVzdCBhcyB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gcmVxdWVzdFVybCBUaGUgdXJsIG9mIHRoZSByZXF1ZXN0IGFzIGEgc3RyaW5nIHRoYXQgd2lsbCBiZSByZXNvbHZlZFxyXG4gKiBvciBhIHBhcnNlZCBVUkwgb2JqZWN0LlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVxdWVzdCBpcyBmb3IgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cclxuICovXHJcbmZ1bmN0aW9uIHVybElzU2FtZU9yaWdpbihyZXF1ZXN0VXJsKSB7XHJcbiAgdmFyIHBhcnNlZCA9IChpc1N0cmluZyhyZXF1ZXN0VXJsKSkgPyB1cmxSZXNvbHZlKHJlcXVlc3RVcmwpIDogcmVxdWVzdFVybDtcclxuICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVXJsLnByb3RvY29sICYmXHJcbiAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVXJsLmhvc3QpO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHdpbmRvd1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQSByZWZlcmVuY2UgdG8gdGhlIGJyb3dzZXIncyBgd2luZG93YCBvYmplY3QuIFdoaWxlIGB3aW5kb3dgXHJcbiAqIGlzIGdsb2JhbGx5IGF2YWlsYWJsZSBpbiBKYXZhU2NyaXB0LCBpdCBjYXVzZXMgdGVzdGFiaWxpdHkgcHJvYmxlbXMsIGJlY2F1c2VcclxuICogaXQgaXMgYSBnbG9iYWwgdmFyaWFibGUuIEluIGFuZ3VsYXIgd2UgYWx3YXlzIHJlZmVyIHRvIGl0IHRocm91Z2ggdGhlXHJcbiAqIGAkd2luZG93YCBzZXJ2aWNlLCBzbyBpdCBtYXkgYmUgb3ZlcnJpZGRlbiwgcmVtb3ZlZCBvciBtb2NrZWQgZm9yIHRlc3RpbmcuXHJcbiAqXHJcbiAqIEV4cHJlc3Npb25zLCBsaWtlIHRoZSBvbmUgZGVmaW5lZCBmb3IgdGhlIGBuZ0NsaWNrYCBkaXJlY3RpdmUgaW4gdGhlIGV4YW1wbGVcclxuICogYmVsb3csIGFyZSBldmFsdWF0ZWQgd2l0aCByZXNwZWN0IHRvIHRoZSBjdXJyZW50IHNjb3BlLiAgVGhlcmVmb3JlLCB0aGVyZSBpc1xyXG4gKiBubyByaXNrIG9mIGluYWR2ZXJ0ZW50bHkgY29kaW5nIGluIGEgZGVwZW5kZW5jeSBvbiBhIGdsb2JhbCB2YWx1ZSBpbiBzdWNoIGFuXHJcbiAqIGV4cHJlc3Npb24uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cIndpbmRvd0V4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3dpbmRvd0V4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckd2luZG93JywgZnVuY3Rpb24oJHNjb3BlLCAkd2luZG93KSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUuZ3JlZXRpbmcgPSAnSGVsbG8sIFdvcmxkISc7XHJcbiAgICAgICAgICAgICAkc2NvcGUuZG9HcmVldGluZyA9IGZ1bmN0aW9uKGdyZWV0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZ3JlZXRpbmcpO1xyXG4gICAgICAgICAgICAgfTtcclxuICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiZ3JlZXRpbmdcIiBhcmlhLWxhYmVsPVwiZ3JlZXRpbmdcIiAvPlxyXG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZG9HcmVldGluZyhncmVldGluZylcIj5BTEVSVDwvYnV0dG9uPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHRoZSBncmVldGluZyBpbiB0aGUgaW5wdXQgYm94JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdncmVldGluZycpKS5zZW5kS2V5cygnSGVsbG8sIEUyRSBUZXN0cycpO1xyXG4gICAgICAgLy8gSWYgd2UgY2xpY2sgdGhlIGJ1dHRvbiBpdCB3aWxsIGJsb2NrIHRoZSB0ZXN0IHJ1bm5lclxyXG4gICAgICAgLy8gZWxlbWVudCgnOmJ1dHRvbicpLmNsaWNrKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuZnVuY3Rpb24gJFdpbmRvd1Byb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IHZhbHVlRm4od2luZG93KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuYW1lICQkY29va2llUmVhZGVyXHJcbiAqIEByZXF1aXJlcyAkZG9jdW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoaXMgaXMgYSBwcml2YXRlIHNlcnZpY2UgZm9yIHJlYWRpbmcgY29va2llcyB1c2VkIGJ5ICRodHRwIGFuZCBuZ0Nvb2tpZXNcclxuICpcclxuICogQHJldHVybiB7T2JqZWN0fSBhIGtleS92YWx1ZSBtYXAgb2YgdGhlIGN1cnJlbnQgY29va2llc1xyXG4gKi9cclxuZnVuY3Rpb24gJCRDb29raWVSZWFkZXIoJGRvY3VtZW50KSB7XHJcbiAgdmFyIHJhd0RvY3VtZW50ID0gJGRvY3VtZW50WzBdIHx8IHt9O1xyXG4gIHZhciBsYXN0Q29va2llcyA9IHt9O1xyXG4gIHZhciBsYXN0Q29va2llU3RyaW5nID0gJyc7XHJcblxyXG4gIGZ1bmN0aW9uIHNhZmVEZWNvZGVVUklDb21wb25lbnQoc3RyKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cik7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY29va2llQXJyYXksIGNvb2tpZSwgaSwgaW5kZXgsIG5hbWU7XHJcbiAgICB2YXIgY3VycmVudENvb2tpZVN0cmluZyA9IHJhd0RvY3VtZW50LmNvb2tpZSB8fCAnJztcclxuXHJcbiAgICBpZiAoY3VycmVudENvb2tpZVN0cmluZyAhPT0gbGFzdENvb2tpZVN0cmluZykge1xyXG4gICAgICBsYXN0Q29va2llU3RyaW5nID0gY3VycmVudENvb2tpZVN0cmluZztcclxuICAgICAgY29va2llQXJyYXkgPSBsYXN0Q29va2llU3RyaW5nLnNwbGl0KCc7ICcpO1xyXG4gICAgICBsYXN0Q29va2llcyA9IHt9O1xyXG5cclxuICAgICAgZm9yIChpID0gMDsgaSA8IGNvb2tpZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29va2llID0gY29va2llQXJyYXlbaV07XHJcbiAgICAgICAgaW5kZXggPSBjb29raWUuaW5kZXhPZignPScpO1xyXG4gICAgICAgIGlmIChpbmRleCA+IDApIHsgLy9pZ25vcmUgbmFtZWxlc3MgY29va2llc1xyXG4gICAgICAgICAgbmFtZSA9IHNhZmVEZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZygwLCBpbmRleCkpO1xyXG4gICAgICAgICAgLy8gdGhlIGZpcnN0IHZhbHVlIHRoYXQgaXMgc2VlbiBmb3IgYSBjb29raWUgaXMgdGhlIG1vc3RcclxuICAgICAgICAgIC8vIHNwZWNpZmljIG9uZS4gIHZhbHVlcyBmb3IgdGhlIHNhbWUgY29va2llIG5hbWUgdGhhdFxyXG4gICAgICAgICAgLy8gZm9sbG93IGFyZSBmb3IgbGVzcyBzcGVjaWZpYyBwYXRocy5cclxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChsYXN0Q29va2llc1tuYW1lXSkpIHtcclxuICAgICAgICAgICAgbGFzdENvb2tpZXNbbmFtZV0gPSBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoaW5kZXggKyAxKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGFzdENvb2tpZXM7XHJcbiAgfTtcclxufVxyXG5cclxuJCRDb29raWVSZWFkZXIuJGluamVjdCA9IFsnJGRvY3VtZW50J107XHJcblxyXG5mdW5jdGlvbiAkJENvb2tpZVJlYWRlclByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9ICQkQ29va2llUmVhZGVyO1xyXG59XHJcblxyXG4vKiBnbG9iYWwgY3VycmVuY3lGaWx0ZXI6IHRydWUsXHJcbiBkYXRlRmlsdGVyOiB0cnVlLFxyXG4gZmlsdGVyRmlsdGVyOiB0cnVlLFxyXG4ganNvbkZpbHRlcjogdHJ1ZSxcclxuIGxpbWl0VG9GaWx0ZXI6IHRydWUsXHJcbiBsb3dlcmNhc2VGaWx0ZXI6IHRydWUsXHJcbiBudW1iZXJGaWx0ZXI6IHRydWUsXHJcbiBvcmRlckJ5RmlsdGVyOiB0cnVlLFxyXG4gdXBwZXJjYXNlRmlsdGVyOiB0cnVlLFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJGZpbHRlclByb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBGaWx0ZXJzIGFyZSBqdXN0IGZ1bmN0aW9ucyB3aGljaCB0cmFuc2Zvcm0gaW5wdXQgdG8gYW4gb3V0cHV0LiBIb3dldmVyIGZpbHRlcnMgbmVlZCB0byBiZVxyXG4gKiBEZXBlbmRlbmN5IEluamVjdGVkLiBUbyBhY2hpZXZlIHRoaXMgYSBmaWx0ZXIgZGVmaW5pdGlvbiBjb25zaXN0cyBvZiBhIGZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggaXNcclxuICogYW5ub3RhdGVkIHdpdGggZGVwZW5kZW5jaWVzIGFuZCBpcyByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgYSBmaWx0ZXIgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXHJcbiAqIE5hbWVzIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzLCBzdWNoIGFzIGh5cGhlbnMgYW5kIGRvdHMsIGFyZSBub3QgYWxsb3dlZC4gSWYgeW91IHdpc2ggdG8gbmFtZXNwYWNlXHJcbiAqIHlvdXIgZmlsdGVycywgdGhlbiB5b3UgY2FuIHVzZSBjYXBpdGFsaXphdGlvbiAoYG15YXBwU3Vic2VjdGlvbkZpbHRlcnhgKSBvciB1bmRlcnNjb3Jlc1xyXG4gKiAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogYGBganNcclxuICogICAvLyBGaWx0ZXIgcmVnaXN0cmF0aW9uXHJcbiAqICAgZnVuY3Rpb24gTXlNb2R1bGUoJHByb3ZpZGUsICRmaWx0ZXJQcm92aWRlcikge1xyXG4gKiAgICAgLy8gY3JlYXRlIGEgc2VydmljZSB0byBkZW1vbnN0cmF0ZSBpbmplY3Rpb24gKG5vdCBhbHdheXMgbmVlZGVkKVxyXG4gKiAgICAgJHByb3ZpZGUudmFsdWUoJ2dyZWV0JywgZnVuY3Rpb24obmFtZSl7XHJcbiAqICAgICAgIHJldHVybiAnSGVsbG8gJyArIG5hbWUgKyAnISc7XHJcbiAqICAgICB9KTtcclxuICpcclxuICogICAgIC8vIHJlZ2lzdGVyIGEgZmlsdGVyIGZhY3Rvcnkgd2hpY2ggdXNlcyB0aGVcclxuICogICAgIC8vIGdyZWV0IHNlcnZpY2UgdG8gZGVtb25zdHJhdGUgREkuXHJcbiAqICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ2dyZWV0JywgZnVuY3Rpb24oZ3JlZXQpe1xyXG4gKiAgICAgICAvLyByZXR1cm4gdGhlIGZpbHRlciBmdW5jdGlvbiB3aGljaCB1c2VzIHRoZSBncmVldCBzZXJ2aWNlXHJcbiAqICAgICAgIC8vIHRvIGdlbmVyYXRlIHNhbHV0YXRpb25cclxuICogICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQpIHtcclxuICogICAgICAgICAvLyBmaWx0ZXJzIG5lZWQgdG8gYmUgZm9yZ2l2aW5nIHNvIGNoZWNrIGlucHV0IHZhbGlkaXR5XHJcbiAqICAgICAgICAgcmV0dXJuIHRleHQgJiYgZ3JlZXQodGV4dCkgfHwgdGV4dDtcclxuICogICAgICAgfTtcclxuICogICAgIH0pO1xyXG4gKiAgIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBmaWx0ZXIgZnVuY3Rpb24gaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBgJGluamVjdG9yYCB1bmRlciB0aGUgZmlsdGVyIG5hbWUgc3VmZml4IHdpdGhcclxuICogYEZpbHRlcmAuXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgaXQoJ3Nob3VsZCBiZSB0aGUgc2FtZSBpbnN0YW5jZScsIGluamVjdChcclxuICogICAgIGZ1bmN0aW9uKCRmaWx0ZXJQcm92aWRlcikge1xyXG4gKiAgICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ3JldmVyc2UnLCBmdW5jdGlvbigpe1xyXG4gKiAgICAgICAgIHJldHVybiAuLi47XHJcbiAqICAgICAgIH0pO1xyXG4gKiAgICAgfSxcclxuICogICAgIGZ1bmN0aW9uKCRmaWx0ZXIsIHJldmVyc2VGaWx0ZXIpIHtcclxuICogICAgICAgZXhwZWN0KCRmaWx0ZXIoJ3JldmVyc2UnKSkudG9CZShyZXZlcnNlRmlsdGVyKTtcclxuICogICAgIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICpcclxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgaG93IGFuZ3VsYXIgZmlsdGVycyB3b3JrLCBhbmQgaG93IHRvIGNyZWF0ZSB5b3VyIG93biBmaWx0ZXJzLCBzZWVcclxuICoge0BsaW5rIGd1aWRlL2ZpbHRlciBGaWx0ZXJzfSBpbiB0aGUgQW5ndWxhciBEZXZlbG9wZXIgR3VpZGUuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRmaWx0ZXJcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEZpbHRlcnMgYXJlIHVzZWQgZm9yIGZvcm1hdHRpbmcgZGF0YSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIuXHJcbiAqXHJcbiAqIFRoZSBnZW5lcmFsIHN5bnRheCBpbiB0ZW1wbGF0ZXMgaXMgYXMgZm9sbG93czpcclxuICpcclxuICogICAgICAgICB7eyBleHByZXNzaW9uIFt8IGZpbHRlcl9uYW1lWzpwYXJhbWV0ZXJfdmFsdWVdIC4uLiBdIH19XHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGZpbHRlciBmdW5jdGlvbiB0byByZXRyaWV2ZVxyXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGZpbHRlciBmdW5jdGlvblxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBuYW1lPVwiJGZpbHRlclwiIG1vZHVsZT1cImZpbHRlckV4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTWFpbkN0cmxcIj5cclxuICAgICAgICA8aDM+e3sgb3JpZ2luYWxUZXh0IH19PC9oMz5cclxuICAgICAgICA8aDM+e3sgZmlsdGVyZWRUZXh0IH19PC9oMz5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuXHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnZmlsdGVyRXhhbXBsZScsIFtdKVxyXG4gICAgICAuY29udHJvbGxlcignTWFpbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRmaWx0ZXIpIHtcclxuICAgICAgICAkc2NvcGUub3JpZ2luYWxUZXh0ID0gJ2hlbGxvJztcclxuICAgICAgICAkc2NvcGUuZmlsdGVyZWRUZXh0ID0gJGZpbHRlcigndXBwZXJjYXNlJykoJHNjb3BlLm9yaWdpbmFsVGV4dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gICovXHJcbiRGaWx0ZXJQcm92aWRlci4kaW5qZWN0ID0gWyckcHJvdmlkZSddO1xyXG5mdW5jdGlvbiAkRmlsdGVyUHJvdmlkZXIoJHByb3ZpZGUpIHtcclxuICB2YXIgc3VmZml4ID0gJ0ZpbHRlcic7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkZmlsdGVyUHJvdmlkZXIjcmVnaXN0ZXJcclxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgTmFtZSBvZiB0aGUgZmlsdGVyIGZ1bmN0aW9uLCBvciBhbiBvYmplY3QgbWFwIG9mIGZpbHRlcnMgd2hlcmVcclxuICAgKiAgICB0aGUga2V5cyBhcmUgdGhlIGZpbHRlciBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZpbHRlciBmYWN0b3JpZXMuXHJcbiAgICpcclxuICAgKiAgICA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICAgICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXHJcbiAgICogICAgTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcclxuICAgKiAgICB5b3VyIGZpbHRlcnMsIHRoZW4geW91IGNhbiB1c2UgY2FwaXRhbGl6YXRpb24gKGBteWFwcFN1YnNlY3Rpb25GaWx0ZXJ4YCkgb3IgdW5kZXJzY29yZXNcclxuICAgKiAgICAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxyXG4gICAqICAgIDwvZGl2PlxyXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmYWN0b3J5IElmIHRoZSBmaXJzdCBhcmd1bWVudCB3YXMgYSBzdHJpbmcsIGEgZmFjdG9yeSBmdW5jdGlvbiBmb3IgdGhlIGZpbHRlciB0byBiZSByZWdpc3RlcmVkLlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJlZ2lzdGVyZWQgZmlsdGVyIGluc3RhbmNlLCBvciBpZiBhIG1hcCBvZiBmaWx0ZXJzIHdhcyBwcm92aWRlZCB0aGVuIGEgbWFwXHJcbiAgICogICAgb2YgdGhlIHJlZ2lzdGVyZWQgZmlsdGVyIGluc3RhbmNlcy5cclxuICAgKi9cclxuICBmdW5jdGlvbiByZWdpc3RlcihuYW1lLCBmYWN0b3J5KSB7XHJcbiAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcclxuICAgICAgdmFyIGZpbHRlcnMgPSB7fTtcclxuICAgICAgZm9yRWFjaChuYW1lLCBmdW5jdGlvbihmaWx0ZXIsIGtleSkge1xyXG4gICAgICAgIGZpbHRlcnNba2V5XSA9IHJlZ2lzdGVyKGtleSwgZmlsdGVyKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBmaWx0ZXJzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuICRwcm92aWRlLmZhY3RvcnkobmFtZSArIHN1ZmZpeCwgZmFjdG9yeSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHRoaXMucmVnaXN0ZXIgPSByZWdpc3RlcjtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCBmdW5jdGlvbigkaW5qZWN0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgIHJldHVybiAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBzdWZmaXgpO1xyXG4gICAgfTtcclxuICB9XTtcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAvKiBnbG9iYWxcclxuICAgIGN1cnJlbmN5RmlsdGVyOiBmYWxzZSxcclxuICAgIGRhdGVGaWx0ZXI6IGZhbHNlLFxyXG4gICAgZmlsdGVyRmlsdGVyOiBmYWxzZSxcclxuICAgIGpzb25GaWx0ZXI6IGZhbHNlLFxyXG4gICAgbGltaXRUb0ZpbHRlcjogZmFsc2UsXHJcbiAgICBsb3dlcmNhc2VGaWx0ZXI6IGZhbHNlLFxyXG4gICAgbnVtYmVyRmlsdGVyOiBmYWxzZSxcclxuICAgIG9yZGVyQnlGaWx0ZXI6IGZhbHNlLFxyXG4gICAgdXBwZXJjYXNlRmlsdGVyOiBmYWxzZSxcclxuICAqL1xyXG5cclxuICByZWdpc3RlcignY3VycmVuY3knLCBjdXJyZW5jeUZpbHRlcik7XHJcbiAgcmVnaXN0ZXIoJ2RhdGUnLCBkYXRlRmlsdGVyKTtcclxuICByZWdpc3RlcignZmlsdGVyJywgZmlsdGVyRmlsdGVyKTtcclxuICByZWdpc3RlcignanNvbicsIGpzb25GaWx0ZXIpO1xyXG4gIHJlZ2lzdGVyKCdsaW1pdFRvJywgbGltaXRUb0ZpbHRlcik7XHJcbiAgcmVnaXN0ZXIoJ2xvd2VyY2FzZScsIGxvd2VyY2FzZUZpbHRlcik7XHJcbiAgcmVnaXN0ZXIoJ251bWJlcicsIG51bWJlckZpbHRlcik7XHJcbiAgcmVnaXN0ZXIoJ29yZGVyQnknLCBvcmRlckJ5RmlsdGVyKTtcclxuICByZWdpc3RlcigndXBwZXJjYXNlJywgdXBwZXJjYXNlRmlsdGVyKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmaWx0ZXJcclxuICogQG5hbWUgZmlsdGVyXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTZWxlY3RzIGEgc3Vic2V0IG9mIGl0ZW1zIGZyb20gYGFycmF5YCBhbmQgcmV0dXJucyBpdCBhcyBhIG5ldyBhcnJheS5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvdXJjZSBhcnJheS5cclxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fGZ1bmN0aW9uKCl9IGV4cHJlc3Npb24gVGhlIHByZWRpY2F0ZSB0byBiZSB1c2VkIGZvciBzZWxlY3RpbmcgaXRlbXMgZnJvbVxyXG4gKiAgIGBhcnJheWAuXHJcbiAqXHJcbiAqICAgQ2FuIGJlIG9uZSBvZjpcclxuICpcclxuICogICAtIGBzdHJpbmdgOiBUaGUgc3RyaW5nIGlzIHVzZWQgZm9yIG1hdGNoaW5nIGFnYWluc3QgdGhlIGNvbnRlbnRzIG9mIHRoZSBgYXJyYXlgLiBBbGwgc3RyaW5ncyBvclxyXG4gKiAgICAgb2JqZWN0cyB3aXRoIHN0cmluZyBwcm9wZXJ0aWVzIGluIGBhcnJheWAgdGhhdCBtYXRjaCB0aGlzIHN0cmluZyB3aWxsIGJlIHJldHVybmVkLiBUaGlzIGFsc29cclxuICogICAgIGFwcGxpZXMgdG8gbmVzdGVkIG9iamVjdCBwcm9wZXJ0aWVzLlxyXG4gKiAgICAgVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmcgdGhlIHN0cmluZyB3aXRoIGAhYC5cclxuICpcclxuICogICAtIGBPYmplY3RgOiBBIHBhdHRlcm4gb2JqZWN0IGNhbiBiZSB1c2VkIHRvIGZpbHRlciBzcGVjaWZpYyBwcm9wZXJ0aWVzIG9uIG9iamVjdHMgY29udGFpbmVkXHJcbiAqICAgICBieSBgYXJyYXlgLiBGb3IgZXhhbXBsZSBge25hbWU6XCJNXCIsIHBob25lOlwiMVwifWAgcHJlZGljYXRlIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIGl0ZW1zXHJcbiAqICAgICB3aGljaCBoYXZlIHByb3BlcnR5IGBuYW1lYCBjb250YWluaW5nIFwiTVwiIGFuZCBwcm9wZXJ0eSBgcGhvbmVgIGNvbnRhaW5pbmcgXCIxXCIuIEEgc3BlY2lhbFxyXG4gKiAgICAgcHJvcGVydHkgbmFtZSBgJGAgY2FuIGJlIHVzZWQgKGFzIGluIGB7JDpcInRleHRcIn1gKSB0byBhY2NlcHQgYSBtYXRjaCBhZ2FpbnN0IGFueVxyXG4gKiAgICAgcHJvcGVydHkgb2YgdGhlIG9iamVjdCBvciBpdHMgbmVzdGVkIG9iamVjdCBwcm9wZXJ0aWVzLiBUaGF0J3MgZXF1aXZhbGVudCB0byB0aGUgc2ltcGxlXHJcbiAqICAgICBzdWJzdHJpbmcgbWF0Y2ggd2l0aCBhIGBzdHJpbmdgIGFzIGRlc2NyaWJlZCBhYm92ZS4gVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmdcclxuICogICAgIHRoZSBzdHJpbmcgd2l0aCBgIWAuXHJcbiAqICAgICBGb3IgZXhhbXBsZSBge25hbWU6IFwiIU1cIn1gIHByZWRpY2F0ZSB3aWxsIHJldHVybiBhbiBhcnJheSBvZiBpdGVtcyB3aGljaCBoYXZlIHByb3BlcnR5IGBuYW1lYFxyXG4gKiAgICAgbm90IGNvbnRhaW5pbmcgXCJNXCIuXHJcbiAqXHJcbiAqICAgICBOb3RlIHRoYXQgYSBuYW1lZCBwcm9wZXJ0eSB3aWxsIG1hdGNoIHByb3BlcnRpZXMgb24gdGhlIHNhbWUgbGV2ZWwgb25seSwgd2hpbGUgdGhlIHNwZWNpYWxcclxuICogICAgIGAkYCBwcm9wZXJ0eSB3aWxsIG1hdGNoIHByb3BlcnRpZXMgb24gdGhlIHNhbWUgbGV2ZWwgb3IgZGVlcGVyLiBFLmcuIGFuIGFycmF5IGl0ZW0gbGlrZVxyXG4gKiAgICAgYHtuYW1lOiB7Zmlyc3Q6ICdKb2huJywgbGFzdDogJ0RvZSd9fWAgd2lsbCAqKm5vdCoqIGJlIG1hdGNoZWQgYnkgYHtuYW1lOiAnSm9obid9YCwgYnV0XHJcbiAqICAgICAqKndpbGwqKiBiZSBtYXRjaGVkIGJ5IGB7JDogJ0pvaG4nfWAuXHJcbiAqXHJcbiAqICAgLSBgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBhcnJheSlgOiBBIHByZWRpY2F0ZSBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byB3cml0ZSBhcmJpdHJhcnkgZmlsdGVycy5cclxuICogICAgIFRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgZm9yIGVhY2ggZWxlbWVudCBvZiB0aGUgYXJyYXksIHdpdGggdGhlIGVsZW1lbnQsIGl0cyBpbmRleCwgYW5kXHJcbiAqICAgICB0aGUgZW50aXJlIGFycmF5IGl0c2VsZiBhcyBhcmd1bWVudHMuXHJcbiAqXHJcbiAqICAgICBUaGUgZmluYWwgcmVzdWx0IGlzIGFuIGFycmF5IG9mIHRob3NlIGVsZW1lbnRzIHRoYXQgdGhlIHByZWRpY2F0ZSByZXR1cm5lZCB0cnVlIGZvci5cclxuICpcclxuICogQHBhcmFtIHtmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKXx0cnVlfHVuZGVmaW5lZH0gY29tcGFyYXRvciBDb21wYXJhdG9yIHdoaWNoIGlzIHVzZWQgaW5cclxuICogICAgIGRldGVybWluaW5nIGlmIHRoZSBleHBlY3RlZCB2YWx1ZSAoZnJvbSB0aGUgZmlsdGVyIGV4cHJlc3Npb24pIGFuZCBhY3R1YWwgdmFsdWUgKGZyb21cclxuICogICAgIHRoZSBvYmplY3QgaW4gdGhlIGFycmF5KSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIG1hdGNoLlxyXG4gKlxyXG4gKiAgIENhbiBiZSBvbmUgb2Y6XHJcbiAqXHJcbiAqICAgLSBgZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZClgOlxyXG4gKiAgICAgVGhlIGZ1bmN0aW9uIHdpbGwgYmUgZ2l2ZW4gdGhlIG9iamVjdCB2YWx1ZSBhbmQgdGhlIHByZWRpY2F0ZSB2YWx1ZSB0byBjb21wYXJlIGFuZFxyXG4gKiAgICAgc2hvdWxkIHJldHVybiB0cnVlIGlmIGJvdGggdmFsdWVzIHNob3VsZCBiZSBjb25zaWRlcmVkIGVxdWFsLlxyXG4gKlxyXG4gKiAgIC0gYHRydWVgOiBBIHNob3J0aGFuZCBmb3IgYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHsgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKGFjdHVhbCwgZXhwZWN0ZWQpfWAuXHJcbiAqICAgICBUaGlzIGlzIGVzc2VudGlhbGx5IHN0cmljdCBjb21wYXJpc29uIG9mIGV4cGVjdGVkIGFuZCBhY3R1YWwuXHJcbiAqXHJcbiAqICAgLSBgZmFsc2V8dW5kZWZpbmVkYDogQSBzaG9ydCBoYW5kIGZvciBhIGZ1bmN0aW9uIHdoaWNoIHdpbGwgbG9vayBmb3IgYSBzdWJzdHJpbmcgbWF0Y2ggaW4gY2FzZVxyXG4gKiAgICAgaW5zZW5zaXRpdmUgd2F5LlxyXG4gKlxyXG4gKiAgICAgUHJpbWl0aXZlIHZhbHVlcyBhcmUgY29udmVydGVkIHRvIHN0cmluZ3MuIE9iamVjdHMgYXJlIG5vdCBjb21wYXJlZCBhZ2FpbnN0IHByaW1pdGl2ZXMsXHJcbiAqICAgICB1bmxlc3MgdGhleSBoYXZlIGEgY3VzdG9tIGB0b1N0cmluZ2AgbWV0aG9kIChlLmcuIGBEYXRlYCBvYmplY3RzKS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxkaXYgbmctaW5pdD1cImZyaWVuZHMgPSBbe25hbWU6J0pvaG4nLCBwaG9uZTonNTU1LTEyNzYnfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonTWFyeScsIHBob25lOic4MDAtQklHLU1BUlknfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonTWlrZScsIHBob25lOic1NTUtNDMyMSd9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidBZGFtJywgcGhvbmU6JzU1NS01Njc4J30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGllJywgcGhvbmU6JzU1NS04NzY1J30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGlldHRlJywgcGhvbmU6JzU1NS01Njc4J31dXCI+PC9kaXY+XHJcblxyXG4gICAgICAgPGxhYmVsPlNlYXJjaDogPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoVGV4dFwiPjwvbGFiZWw+XHJcbiAgICAgICA8dGFibGUgaWQ9XCJzZWFyY2hUZXh0UmVzdWx0c1wiPlxyXG4gICAgICAgICA8dHI+PHRoPk5hbWU8L3RoPjx0aD5QaG9uZTwvdGg+PC90cj5cclxuICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgZmlsdGVyOnNlYXJjaFRleHRcIj5cclxuICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cclxuICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XHJcbiAgICAgICAgIDwvdHI+XHJcbiAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgPGhyPlxyXG4gICAgICAgPGxhYmVsPkFueTogPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLiRcIj48L2xhYmVsPiA8YnI+XHJcbiAgICAgICA8bGFiZWw+TmFtZSBvbmx5IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaC5uYW1lXCI+PC9sYWJlbD48YnI+XHJcbiAgICAgICA8bGFiZWw+UGhvbmUgb25seSA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2gucGhvbmVcIj48L2xhYmVsPjxicj5cclxuICAgICAgIDxsYWJlbD5FcXVhbGl0eSA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzdHJpY3RcIj48L2xhYmVsPjxicj5cclxuICAgICAgIDx0YWJsZSBpZD1cInNlYXJjaE9ialJlc3VsdHNcIj5cclxuICAgICAgICAgPHRyPjx0aD5OYW1lPC90aD48dGg+UGhvbmU8L3RoPjwvdHI+XHJcbiAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmRPYmogaW4gZnJpZW5kcyB8IGZpbHRlcjpzZWFyY2g6c3RyaWN0XCI+XHJcbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kT2JqLm5hbWV9fTwvdGQ+XHJcbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kT2JqLnBob25lfX08L3RkPlxyXG4gICAgICAgICA8L3RyPlxyXG4gICAgICAgPC90YWJsZT5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgdmFyIGV4cGVjdEZyaWVuZE5hbWVzID0gZnVuY3Rpb24oZXhwZWN0ZWROYW1lcywga2V5KSB7XHJcbiAgICAgICAgIGVsZW1lbnQuYWxsKGJ5LnJlcGVhdGVyKGtleSArICcgaW4gZnJpZW5kcycpLmNvbHVtbihrZXkgKyAnLm5hbWUnKSkudGhlbihmdW5jdGlvbihhcnIpIHtcclxuICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbih3ZCwgaSkge1xyXG4gICAgICAgICAgICAgZXhwZWN0KHdkLmdldFRleHQoKSkudG9NYXRjaChleHBlY3RlZE5hbWVzW2ldKTtcclxuICAgICAgICAgICB9KTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICB9O1xyXG5cclxuICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGFjcm9zcyBhbGwgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgdmFyIHNlYXJjaFRleHQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWFyY2hUZXh0JykpO1xyXG4gICAgICAgICBzZWFyY2hUZXh0LmNsZWFyKCk7XHJcbiAgICAgICAgIHNlYXJjaFRleHQuc2VuZEtleXMoJ20nKTtcclxuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydNYXJ5JywgJ01pa2UnLCAnQWRhbSddLCAnZnJpZW5kJyk7XHJcblxyXG4gICAgICAgICBzZWFyY2hUZXh0LmNsZWFyKCk7XHJcbiAgICAgICAgIHNlYXJjaFRleHQuc2VuZEtleXMoJzc2Jyk7XHJcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnSm9obicsICdKdWxpZSddLCAnZnJpZW5kJyk7XHJcbiAgICAgICB9KTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHNlYXJjaCBpbiBzcGVjaWZpYyBmaWVsZHMgd2hlbiBmaWx0ZXJpbmcgd2l0aCBhIHByZWRpY2F0ZSBvYmplY3QnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgdmFyIHNlYXJjaEFueSA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlYXJjaC4kJykpO1xyXG4gICAgICAgICBzZWFyY2hBbnkuY2xlYXIoKTtcclxuICAgICAgICAgc2VhcmNoQW55LnNlbmRLZXlzKCdpJyk7XHJcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0p1bGllJywgJ0p1bGlldHRlJ10sICdmcmllbmRPYmonKTtcclxuICAgICAgIH0pO1xyXG4gICAgICAgaXQoJ3Nob3VsZCB1c2UgYSBlcXVhbCBjb21wYXJpc29uIHdoZW4gY29tcGFyYXRvciBpcyB0cnVlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHZhciBzZWFyY2hOYW1lID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoLm5hbWUnKSk7XHJcbiAgICAgICAgIHZhciBzdHJpY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzdHJpY3QnKSk7XHJcbiAgICAgICAgIHNlYXJjaE5hbWUuY2xlYXIoKTtcclxuICAgICAgICAgc2VhcmNoTmFtZS5zZW5kS2V5cygnSnVsaWUnKTtcclxuICAgICAgICAgc3RyaWN0LmNsaWNrKCk7XHJcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnSnVsaWUnXSwgJ2ZyaWVuZE9iaicpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5mdW5jdGlvbiBmaWx0ZXJGaWx0ZXIoKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBleHByZXNzaW9uLCBjb21wYXJhdG9yKSB7XHJcbiAgICBpZiAoIWlzQXJyYXlMaWtlKGFycmF5KSkge1xyXG4gICAgICBpZiAoYXJyYXkgPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBtaW5FcnIoJ2ZpbHRlcicpKCdub3RhcnJheScsICdFeHBlY3RlZCBhcnJheSBidXQgcmVjZWl2ZWQ6IHswfScsIGFycmF5KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBleHByZXNzaW9uVHlwZSA9IGdldFR5cGVGb3JGaWx0ZXIoZXhwcmVzc2lvbik7XHJcbiAgICB2YXIgcHJlZGljYXRlRm47XHJcbiAgICB2YXIgbWF0Y2hBZ2FpbnN0QW55UHJvcDtcclxuXHJcbiAgICBzd2l0Y2ggKGV4cHJlc3Npb25UeXBlKSB7XHJcbiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcclxuICAgICAgICBwcmVkaWNhdGVGbiA9IGV4cHJlc3Npb247XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxyXG4gICAgICBjYXNlICdudWxsJzpcclxuICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgY2FzZSAnc3RyaW5nJzpcclxuICAgICAgICBtYXRjaEFnYWluc3RBbnlQcm9wID0gdHJ1ZTtcclxuICAgICAgICAvL2pzaGludCAtVzA4NlxyXG4gICAgICBjYXNlICdvYmplY3QnOlxyXG4gICAgICAgIC8vanNoaW50ICtXMDg2XHJcbiAgICAgICAgcHJlZGljYXRlRm4gPSBjcmVhdGVQcmVkaWNhdGVGbihleHByZXNzaW9uLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhcnJheSwgcHJlZGljYXRlRm4pO1xyXG4gIH07XHJcbn1cclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIGBmaWx0ZXJGaWx0ZXJgXHJcbmZ1bmN0aW9uIGNyZWF0ZVByZWRpY2F0ZUZuKGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIG1hdGNoQWdhaW5zdEFueVByb3ApIHtcclxuICB2YXIgc2hvdWxkTWF0Y2hQcmltaXRpdmVzID0gaXNPYmplY3QoZXhwcmVzc2lvbikgJiYgKCckJyBpbiBleHByZXNzaW9uKTtcclxuICB2YXIgcHJlZGljYXRlRm47XHJcblxyXG4gIGlmIChjb21wYXJhdG9yID09PSB0cnVlKSB7XHJcbiAgICBjb21wYXJhdG9yID0gZXF1YWxzO1xyXG4gIH0gZWxzZSBpZiAoIWlzRnVuY3Rpb24oY29tcGFyYXRvcikpIHtcclxuICAgIGNvbXBhcmF0b3IgPSBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKSB7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChhY3R1YWwpKSB7XHJcbiAgICAgICAgLy8gTm8gc3Vic3RyaW5nIG1hdGNoaW5nIGFnYWluc3QgYHVuZGVmaW5lZGBcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKChhY3R1YWwgPT09IG51bGwpIHx8IChleHBlY3RlZCA9PT0gbnVsbCkpIHtcclxuICAgICAgICAvLyBObyBzdWJzdHJpbmcgbWF0Y2hpbmcgYWdhaW5zdCBgbnVsbGA7IG9ubHkgbWF0Y2ggYWdhaW5zdCBgbnVsbGBcclxuICAgICAgICByZXR1cm4gYWN0dWFsID09PSBleHBlY3RlZDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaXNPYmplY3QoZXhwZWN0ZWQpIHx8IChpc09iamVjdChhY3R1YWwpICYmICFoYXNDdXN0b21Ub1N0cmluZyhhY3R1YWwpKSkge1xyXG4gICAgICAgIC8vIFNob3VsZCBub3QgY29tcGFyZSBwcmltaXRpdmVzIGFnYWluc3Qgb2JqZWN0cywgdW5sZXNzIHRoZXkgaGF2ZSBjdXN0b20gYHRvU3RyaW5nYCBtZXRob2RcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFjdHVhbCA9IGxvd2VyY2FzZSgnJyArIGFjdHVhbCk7XHJcbiAgICAgIGV4cGVjdGVkID0gbG93ZXJjYXNlKCcnICsgZXhwZWN0ZWQpO1xyXG4gICAgICByZXR1cm4gYWN0dWFsLmluZGV4T2YoZXhwZWN0ZWQpICE9PSAtMTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwcmVkaWNhdGVGbiA9IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIGlmIChzaG91bGRNYXRjaFByaW1pdGl2ZXMgJiYgIWlzT2JqZWN0KGl0ZW0pKSB7XHJcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHByZXNzaW9uLiQsIGNvbXBhcmF0b3IsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHByZXNzaW9uLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gcHJlZGljYXRlRm47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIG1hdGNoQWdhaW5zdEFueVByb3AsIGRvbnRNYXRjaFdob2xlT2JqZWN0KSB7XHJcbiAgdmFyIGFjdHVhbFR5cGUgPSBnZXRUeXBlRm9yRmlsdGVyKGFjdHVhbCk7XHJcbiAgdmFyIGV4cGVjdGVkVHlwZSA9IGdldFR5cGVGb3JGaWx0ZXIoZXhwZWN0ZWQpO1xyXG5cclxuICBpZiAoKGV4cGVjdGVkVHlwZSA9PT0gJ3N0cmluZycpICYmIChleHBlY3RlZC5jaGFyQXQoMCkgPT09ICchJykpIHtcclxuICAgIHJldHVybiAhZGVlcENvbXBhcmUoYWN0dWFsLCBleHBlY3RlZC5zdWJzdHJpbmcoMSksIGNvbXBhcmF0b3IsIG1hdGNoQWdhaW5zdEFueVByb3ApO1xyXG4gIH0gZWxzZSBpZiAoaXNBcnJheShhY3R1YWwpKSB7XHJcbiAgICAvLyBJbiBjYXNlIGBhY3R1YWxgIGlzIGFuIGFycmF5LCBjb25zaWRlciBpdCBhIG1hdGNoXHJcbiAgICAvLyBpZiBBTlkgb2YgaXQncyBpdGVtcyBtYXRjaGVzIGBleHBlY3RlZGBcclxuICAgIHJldHVybiBhY3R1YWwuc29tZShmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHBlY3RlZCwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN3aXRjaCAoYWN0dWFsVHlwZSkge1xyXG4gICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgdmFyIGtleTtcclxuICAgICAgaWYgKG1hdGNoQWdhaW5zdEFueVByb3ApIHtcclxuICAgICAgICBmb3IgKGtleSBpbiBhY3R1YWwpIHtcclxuICAgICAgICAgIGlmICgoa2V5LmNoYXJBdCgwKSAhPT0gJyQnKSAmJiBkZWVwQ29tcGFyZShhY3R1YWxba2V5XSwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIHRydWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZG9udE1hdGNoV2hvbGVPYmplY3QgPyBmYWxzZSA6IGRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIGZhbHNlKTtcclxuICAgICAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgZm9yIChrZXkgaW4gZXhwZWN0ZWQpIHtcclxuICAgICAgICAgIHZhciBleHBlY3RlZFZhbCA9IGV4cGVjdGVkW2tleV07XHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihleHBlY3RlZFZhbCkgfHwgaXNVbmRlZmluZWQoZXhwZWN0ZWRWYWwpKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHZhciBtYXRjaEFueVByb3BlcnR5ID0ga2V5ID09PSAnJCc7XHJcbiAgICAgICAgICB2YXIgYWN0dWFsVmFsID0gbWF0Y2hBbnlQcm9wZXJ0eSA/IGFjdHVhbCA6IGFjdHVhbFtrZXldO1xyXG4gICAgICAgICAgaWYgKCFkZWVwQ29tcGFyZShhY3R1YWxWYWwsIGV4cGVjdGVkVmFsLCBjb21wYXJhdG9yLCBtYXRjaEFueVByb3BlcnR5LCBtYXRjaEFueVByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBjb21wYXJhdG9yKGFjdHVhbCwgZXhwZWN0ZWQpO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gY29tcGFyYXRvcihhY3R1YWwsIGV4cGVjdGVkKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIFVzZWQgZm9yIGVhc2lseSBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiBgbnVsbGAgYW5kIGFjdHVhbCBgb2JqZWN0YFxyXG5mdW5jdGlvbiBnZXRUeXBlRm9yRmlsdGVyKHZhbCkge1xyXG4gIHJldHVybiAodmFsID09PSBudWxsKSA/ICdudWxsJyA6IHR5cGVvZiB2YWw7XHJcbn1cclxuXHJcbnZhciBNQVhfRElHSVRTID0gMjI7XHJcbnZhciBERUNJTUFMX1NFUCA9ICcuJztcclxudmFyIFpFUk9fQ0hBUiA9ICcwJztcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZmlsdGVyXHJcbiAqIEBuYW1lIGN1cnJlbmN5XHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBGb3JtYXRzIGEgbnVtYmVyIGFzIGEgY3VycmVuY3kgKGllICQxLDIzNC41NikuIFdoZW4gbm8gY3VycmVuY3kgc3ltYm9sIGlzIHByb3ZpZGVkLCBkZWZhdWx0XHJcbiAqIHN5bWJvbCBmb3IgY3VycmVudCBsb2NhbGUgaXMgdXNlZC5cclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCBJbnB1dCB0byBmaWx0ZXIuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gc3ltYm9sIEN1cnJlbmN5IHN5bWJvbCBvciBpZGVudGlmaWVyIHRvIGJlIGRpc3BsYXllZC5cclxuICogQHBhcmFtIHtudW1iZXI9fSBmcmFjdGlvblNpemUgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRoZSBhbW91bnQgdG8sIGRlZmF1bHRzIHRvIGRlZmF1bHQgbWF4IGZyYWN0aW9uIHNpemUgZm9yIGN1cnJlbnQgbG9jYWxlXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBudW1iZXIuXHJcbiAqXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImN1cnJlbmN5RXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY3VycmVuY3lFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICRzY29wZS5hbW91bnQgPSAxMjM0LjU2O1xyXG4gICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImFtb3VudFwiIGFyaWEtbGFiZWw9XCJhbW91bnRcIj4gPGJyPlxyXG4gICAgICAgICBkZWZhdWx0IGN1cnJlbmN5IHN5bWJvbCAoJCk6IDxzcGFuIGlkPVwiY3VycmVuY3ktZGVmYXVsdFwiPnt7YW1vdW50IHwgY3VycmVuY3l9fTwvc3Bhbj48YnI+XHJcbiAgICAgICAgIGN1c3RvbSBjdXJyZW5jeSBpZGVudGlmaWVyIChVU0QkKTogPHNwYW4gaWQ9XCJjdXJyZW5jeS1jdXN0b21cIj57e2Ftb3VudCB8IGN1cnJlbmN5OlwiVVNEJFwifX08L3NwYW4+XHJcbiAgICAgICAgIG5vIGZyYWN0aW9ucyAoMCk6IDxzcGFuIGlkPVwiY3VycmVuY3ktbm8tZnJhY3Rpb25zXCI+e3thbW91bnQgfCBjdXJyZW5jeTpcIlVTRCRcIjowfX08L3NwYW4+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBpbml0IHdpdGggMTIzNC41NicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJyQxLDIzNC41NicpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktY3VzdG9tJykpLmdldFRleHQoKSkudG9CZSgnVVNEJDEsMjM0LjU2Jyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1uby1mcmFjdGlvbnMnKSkuZ2V0VGV4dCgpKS50b0JlKCdVU0QkMSwyMzUnKTtcclxuICAgICAgIH0pO1xyXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ3NhZmFyaScpIHtcclxuICAgICAgICAgICAvLyBTYWZhcmkgZG9lcyBub3QgdW5kZXJzdGFuZCB0aGUgbWludXMga2V5LiBTZWVcclxuICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy80ODFcclxuICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnYW1vdW50JykpLmNsZWFyKCk7XHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Ftb3VudCcpKS5zZW5kS2V5cygnLTEyMzQnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCctJDEsMjM0LjAwJyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1jdXN0b20nKSkuZ2V0VGV4dCgpKS50b0JlKCctVVNEJDEsMjM0LjAwJyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1uby1mcmFjdGlvbnMnKSkuZ2V0VGV4dCgpKS50b0JlKCctVVNEJDEsMjM0Jyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbmN1cnJlbmN5RmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcclxuZnVuY3Rpb24gY3VycmVuY3lGaWx0ZXIoJGxvY2FsZSkge1xyXG4gIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUztcclxuICByZXR1cm4gZnVuY3Rpb24oYW1vdW50LCBjdXJyZW5jeVN5bWJvbCwgZnJhY3Rpb25TaXplKSB7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQoY3VycmVuY3lTeW1ib2wpKSB7XHJcbiAgICAgIGN1cnJlbmN5U3ltYm9sID0gZm9ybWF0cy5DVVJSRU5DWV9TWU07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzVW5kZWZpbmVkKGZyYWN0aW9uU2l6ZSkpIHtcclxuICAgICAgZnJhY3Rpb25TaXplID0gZm9ybWF0cy5QQVRURVJOU1sxXS5tYXhGcmFjO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIG51bGwgb3IgdW5kZWZpbmVkIHBhc3MgaXQgdGhyb3VnaFxyXG4gICAgcmV0dXJuIChhbW91bnQgPT0gbnVsbClcclxuICAgICAgICA/IGFtb3VudFxyXG4gICAgICAgIDogZm9ybWF0TnVtYmVyKGFtb3VudCwgZm9ybWF0cy5QQVRURVJOU1sxXSwgZm9ybWF0cy5HUk9VUF9TRVAsIGZvcm1hdHMuREVDSU1BTF9TRVAsIGZyYWN0aW9uU2l6ZSkuXHJcbiAgICAgICAgICAgIHJlcGxhY2UoL1xcdTAwQTQvZywgY3VycmVuY3lTeW1ib2wpO1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZmlsdGVyXHJcbiAqIEBuYW1lIG51bWJlclxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRm9ybWF0cyBhIG51bWJlciBhcyB0ZXh0LlxyXG4gKlxyXG4gKiBJZiB0aGUgaW5wdXQgaXMgbnVsbCBvciB1bmRlZmluZWQsIGl0IHdpbGwganVzdCBiZSByZXR1cm5lZC5cclxuICogSWYgdGhlIGlucHV0IGlzIGluZmluaXRlIChJbmZpbml0eSBvciAtSW5maW5pdHkpLCB0aGUgSW5maW5pdHkgc3ltYm9sICfiiJ4nIG9yICct4oieJyBpcyByZXR1cm5lZCwgcmVzcGVjdGl2ZWx5LlxyXG4gKiBJZiB0aGUgaW5wdXQgaXMgbm90IGEgbnVtYmVyIGFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cclxuICpcclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBudW1iZXIgTnVtYmVyIHRvIGZvcm1hdC5cclxuICogQHBhcmFtIHsobnVtYmVyfHN0cmluZyk9fSBmcmFjdGlvblNpemUgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRoZSBudW1iZXIgdG8uXHJcbiAqIElmIHRoaXMgaXMgbm90IHByb3ZpZGVkIHRoZW4gdGhlIGZyYWN0aW9uIHNpemUgaXMgY29tcHV0ZWQgZnJvbSB0aGUgY3VycmVudCBsb2NhbGUncyBudW1iZXJcclxuICogZm9ybWF0dGluZyBwYXR0ZXJuLiBJbiB0aGUgY2FzZSBvZiB0aGUgZGVmYXVsdCBsb2NhbGUsIGl0IHdpbGwgYmUgMy5cclxuICogQHJldHVybnMge3N0cmluZ30gTnVtYmVyIHJvdW5kZWQgdG8gYGZyYWN0aW9uU2l6ZWAgYXBwcm9wcmlhdGVseSBmb3JtYXR0ZWQgYmFzZWQgb24gdGhlIGN1cnJlbnRcclxuICogICAgICAgICAgICAgICAgICAgbG9jYWxlIChlLmcuLCBpbiB0aGUgZW5fVVMgbG9jYWxlIGl0IHdpbGwgaGF2ZSBcIi5cIiBhcyB0aGUgZGVjaW1hbCBzZXBhcmF0b3IgYW5kXHJcbiAqICAgICAgICAgICAgICAgICAgIGluY2x1ZGUgXCIsXCIgZ3JvdXAgc2VwYXJhdG9ycyBhZnRlciBlYWNoIHRoaXJkIGRpZ2l0KS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbW9kdWxlPVwibnVtYmVyRmlsdGVyRXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbnVtYmVyRmlsdGVyRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUudmFsID0gMTIzNC41Njc4OTtcclxuICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxsYWJlbD5FbnRlciBudW1iZXI6IDxpbnB1dCBuZy1tb2RlbD0ndmFsJz48L2xhYmVsPjxicj5cclxuICAgICAgICAgRGVmYXVsdCBmb3JtYXR0aW5nOiA8c3BhbiBpZD0nbnVtYmVyLWRlZmF1bHQnPnt7dmFsIHwgbnVtYmVyfX08L3NwYW4+PGJyPlxyXG4gICAgICAgICBObyBmcmFjdGlvbnM6IDxzcGFuPnt7dmFsIHwgbnVtYmVyOjB9fTwvc3Bhbj48YnI+XHJcbiAgICAgICAgIE5lZ2F0aXZlIG51bWJlcjogPHNwYW4+e3stdmFsIHwgbnVtYmVyOjR9fTwvc3Bhbj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBudW1iZXJzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdudW1iZXItZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJzEsMjM0LjU2OCcpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd2YWwgfCBudW1iZXI6MCcpKS5nZXRUZXh0KCkpLnRvQmUoJzEsMjM1Jyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJy12YWwgfCBudW1iZXI6NCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0xLDIzNC41Njc5Jyk7XHJcbiAgICAgICB9KTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWwnKSkuY2xlYXIoKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsJykpLnNlbmRLZXlzKCczMzc0LjMzMycpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCczLDM3NC4zMzMnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndmFsIHwgbnVtYmVyOjAnKSkuZ2V0VGV4dCgpKS50b0JlKCczLDM3NCcpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCctdmFsIHwgbnVtYmVyOjQnKSkuZ2V0VGV4dCgpKS50b0JlKCctMywzNzQuMzMzMCcpO1xyXG4gICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbm51bWJlckZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XHJcbmZ1bmN0aW9uIG51bWJlckZpbHRlcigkbG9jYWxlKSB7XHJcbiAgdmFyIGZvcm1hdHMgPSAkbG9jYWxlLk5VTUJFUl9GT1JNQVRTO1xyXG4gIHJldHVybiBmdW5jdGlvbihudW1iZXIsIGZyYWN0aW9uU2l6ZSkge1xyXG5cclxuICAgIC8vIGlmIG51bGwgb3IgdW5kZWZpbmVkIHBhc3MgaXQgdGhyb3VnaFxyXG4gICAgcmV0dXJuIChudW1iZXIgPT0gbnVsbClcclxuICAgICAgICA/IG51bWJlclxyXG4gICAgICAgIDogZm9ybWF0TnVtYmVyKG51bWJlciwgZm9ybWF0cy5QQVRURVJOU1swXSwgZm9ybWF0cy5HUk9VUF9TRVAsIGZvcm1hdHMuREVDSU1BTF9TRVAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgZnJhY3Rpb25TaXplKTtcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogUGFyc2UgYSBudW1iZXIgKGFzIGEgc3RyaW5nKSBpbnRvIHRocmVlIGNvbXBvbmVudHMgdGhhdCBjYW4gYmUgdXNlZFxyXG4gKiBmb3IgZm9ybWF0dGluZyB0aGUgbnVtYmVyLlxyXG4gKlxyXG4gKiAoU2lnbmlmaWNhbnQgYml0cyBvZiB0aGlzIHBhcnNlIGFsZ29yaXRobSBjYW1lIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL01pa2VNY2wvYmlnLmpzLylcclxuICpcclxuICogQHBhcmFtICB7c3RyaW5nfSBudW1TdHIgVGhlIG51bWJlciB0byBwYXJzZVxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIG9iamVjdCBkZXNjcmliaW5nIHRoaXMgbnVtYmVyLCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcga2V5czpcclxuICogIC0gZCA6IGFuIGFycmF5IG9mIGRpZ2l0cyBjb250YWluaW5nIGxlYWRpbmcgemVyb3MgYXMgbmVjZXNzYXJ5XHJcbiAqICAtIGkgOiB0aGUgbnVtYmVyIG9mIHRoZSBkaWdpdHMgaW4gYGRgIHRoYXQgYXJlIHRvIHRoZSBsZWZ0IG9mIHRoZSBkZWNpbWFsIHBvaW50XHJcbiAqICAtIGUgOiB0aGUgZXhwb25lbnQgZm9yIG51bWJlcnMgdGhhdCB3b3VsZCBuZWVkIG1vcmUgdGhhbiBgTUFYX0RJR0lUU2AgZGlnaXRzIGluIGBkYFxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2UobnVtU3RyKSB7XHJcbiAgdmFyIGV4cG9uZW50ID0gMCwgZGlnaXRzLCBudW1iZXJPZkludGVnZXJEaWdpdHM7XHJcbiAgdmFyIGksIGosIHplcm9zO1xyXG5cclxuICAvLyBEZWNpbWFsIHBvaW50P1xyXG4gIGlmICgobnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gbnVtU3RyLmluZGV4T2YoREVDSU1BTF9TRVApKSA+IC0xKSB7XHJcbiAgICBudW1TdHIgPSBudW1TdHIucmVwbGFjZShERUNJTUFMX1NFUCwgJycpO1xyXG4gIH1cclxuXHJcbiAgLy8gRXhwb25lbnRpYWwgZm9ybT9cclxuICBpZiAoKGkgPSBudW1TdHIuc2VhcmNoKC9lL2kpKSA+IDApIHtcclxuICAgIC8vIFdvcmsgb3V0IHRoZSBleHBvbmVudC5cclxuICAgIGlmIChudW1iZXJPZkludGVnZXJEaWdpdHMgPCAwKSBudW1iZXJPZkludGVnZXJEaWdpdHMgPSBpO1xyXG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzICs9ICtudW1TdHIuc2xpY2UoaSArIDEpO1xyXG4gICAgbnVtU3RyID0gbnVtU3RyLnN1YnN0cmluZygwLCBpKTtcclxuICB9IGVsc2UgaWYgKG51bWJlck9mSW50ZWdlckRpZ2l0cyA8IDApIHtcclxuICAgIC8vIFRoZXJlIHdhcyBubyBkZWNpbWFsIHBvaW50IG9yIGV4cG9uZW50IHNvIGl0IGlzIGFuIGludGVnZXIuXHJcbiAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgPSBudW1TdHIubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgLy8gQ291bnQgdGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zLlxyXG4gIGZvciAoaSA9IDA7IG51bVN0ci5jaGFyQXQoaSkgPT0gWkVST19DSEFSOyBpKyspIHsvKiBqc2hpbnQgbm9lbXB0eTogZmFsc2UgKi99XHJcblxyXG4gIGlmIChpID09ICh6ZXJvcyA9IG51bVN0ci5sZW5ndGgpKSB7XHJcbiAgICAvLyBUaGUgZGlnaXRzIGFyZSBhbGwgemVyby5cclxuICAgIGRpZ2l0cyA9IFswXTtcclxuICAgIG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IDE7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3NcclxuICAgIHplcm9zLS07XHJcbiAgICB3aGlsZSAobnVtU3RyLmNoYXJBdCh6ZXJvcykgPT0gWkVST19DSEFSKSB6ZXJvcy0tO1xyXG5cclxuICAgIC8vIFRyYWlsaW5nIHplcm9zIGFyZSBpbnNpZ25pZmljYW50IHNvIGlnbm9yZSB0aGVtXHJcbiAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgLT0gaTtcclxuICAgIGRpZ2l0cyA9IFtdO1xyXG4gICAgLy8gQ29udmVydCBzdHJpbmcgdG8gYXJyYXkgb2YgZGlnaXRzIHdpdGhvdXQgbGVhZGluZy90cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoaiA9IDA7IGkgPD0gemVyb3M7IGkrKywgaisrKSB7XHJcbiAgICAgIGRpZ2l0c1tqXSA9ICtudW1TdHIuY2hhckF0KGkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gSWYgdGhlIG51bWJlciBvdmVyZmxvd3MgdGhlIG1heGltdW0gYWxsb3dlZCBkaWdpdHMgdGhlbiB1c2UgYW4gZXhwb25lbnQuXHJcbiAgaWYgKG51bWJlck9mSW50ZWdlckRpZ2l0cyA+IE1BWF9ESUdJVFMpIHtcclxuICAgIGRpZ2l0cyA9IGRpZ2l0cy5zcGxpY2UoMCwgTUFYX0RJR0lUUyAtIDEpO1xyXG4gICAgZXhwb25lbnQgPSBudW1iZXJPZkludGVnZXJEaWdpdHMgLSAxO1xyXG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gMTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IGQ6IGRpZ2l0cywgZTogZXhwb25lbnQsIGk6IG51bWJlck9mSW50ZWdlckRpZ2l0cyB9O1xyXG59XHJcblxyXG4vKipcclxuICogUm91bmQgdGhlIHBhcnNlZCBudW1iZXIgdG8gdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXNcclxuICogVGhpcyBmdW5jdGlvbiBjaGFuZ2VkIHRoZSBwYXJzZWROdW1iZXIgaW4tcGxhY2VcclxuICovXHJcbmZ1bmN0aW9uIHJvdW5kTnVtYmVyKHBhcnNlZE51bWJlciwgZnJhY3Rpb25TaXplLCBtaW5GcmFjLCBtYXhGcmFjKSB7XHJcbiAgICB2YXIgZGlnaXRzID0gcGFyc2VkTnVtYmVyLmQ7XHJcbiAgICB2YXIgZnJhY3Rpb25MZW4gPSBkaWdpdHMubGVuZ3RoIC0gcGFyc2VkTnVtYmVyLmk7XHJcblxyXG4gICAgLy8gZGV0ZXJtaW5lIGZyYWN0aW9uU2l6ZSBpZiBpdCBpcyBub3Qgc3BlY2lmaWVkOyBgK2ZyYWN0aW9uU2l6ZWAgY29udmVydHMgaXQgdG8gYSBudW1iZXJcclxuICAgIGZyYWN0aW9uU2l6ZSA9IChpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpKSA/IE1hdGgubWluKE1hdGgubWF4KG1pbkZyYWMsIGZyYWN0aW9uTGVuKSwgbWF4RnJhYykgOiArZnJhY3Rpb25TaXplO1xyXG5cclxuICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgZGlnaXQgdG8gd2hlcmUgcm91bmRpbmcgaXMgdG8gb2NjdXJcclxuICAgIHZhciByb3VuZEF0ID0gZnJhY3Rpb25TaXplICsgcGFyc2VkTnVtYmVyLmk7XHJcbiAgICB2YXIgZGlnaXQgPSBkaWdpdHNbcm91bmRBdF07XHJcblxyXG4gICAgaWYgKHJvdW5kQXQgPiAwKSB7XHJcbiAgICAgIC8vIERyb3AgZnJhY3Rpb25hbCBkaWdpdHMgYmV5b25kIGByb3VuZEF0YFxyXG4gICAgICBkaWdpdHMuc3BsaWNlKE1hdGgubWF4KHBhcnNlZE51bWJlci5pLCByb3VuZEF0KSk7XHJcblxyXG4gICAgICAvLyBTZXQgbm9uLWZyYWN0aW9uYWwgZGlnaXRzIGJleW9uZCBgcm91bmRBdGAgdG8gMFxyXG4gICAgICBmb3IgKHZhciBqID0gcm91bmRBdDsgaiA8IGRpZ2l0cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGRpZ2l0c1tqXSA9IDA7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFdlIHJvdW5kZWQgdG8gemVybyBzbyByZXNldCB0aGUgcGFyc2VkTnVtYmVyXHJcbiAgICAgIGZyYWN0aW9uTGVuID0gTWF0aC5tYXgoMCwgZnJhY3Rpb25MZW4pO1xyXG4gICAgICBwYXJzZWROdW1iZXIuaSA9IDE7XHJcbiAgICAgIGRpZ2l0cy5sZW5ndGggPSBNYXRoLm1heCgxLCByb3VuZEF0ID0gZnJhY3Rpb25TaXplICsgMSk7XHJcbiAgICAgIGRpZ2l0c1swXSA9IDA7XHJcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcm91bmRBdDsgaSsrKSBkaWdpdHNbaV0gPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkaWdpdCA+PSA1KSB7XHJcbiAgICAgIGlmIChyb3VuZEF0IC0gMSA8IDApIHtcclxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA+IHJvdW5kQXQ7IGstLSkge1xyXG4gICAgICAgICAgZGlnaXRzLnVuc2hpZnQoMCk7XHJcbiAgICAgICAgICBwYXJzZWROdW1iZXIuaSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaWdpdHMudW5zaGlmdCgxKTtcclxuICAgICAgICBwYXJzZWROdW1iZXIuaSsrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRpZ2l0c1tyb3VuZEF0IC0gMV0rKztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhZCBvdXQgd2l0aCB6ZXJvcyB0byBnZXQgdGhlIHJlcXVpcmVkIGZyYWN0aW9uIGxlbmd0aFxyXG4gICAgZm9yICg7IGZyYWN0aW9uTGVuIDwgTWF0aC5tYXgoMCwgZnJhY3Rpb25TaXplKTsgZnJhY3Rpb25MZW4rKykgZGlnaXRzLnB1c2goMCk7XHJcblxyXG5cclxuICAgIC8vIERvIGFueSBjYXJyeWluZywgZS5nLiBhIGRpZ2l0IHdhcyByb3VuZGVkIHVwIHRvIDEwXHJcbiAgICB2YXIgY2FycnkgPSBkaWdpdHMucmVkdWNlUmlnaHQoZnVuY3Rpb24oY2FycnksIGQsIGksIGRpZ2l0cykge1xyXG4gICAgICBkID0gZCArIGNhcnJ5O1xyXG4gICAgICBkaWdpdHNbaV0gPSBkICUgMTA7XHJcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGQgLyAxMCk7XHJcbiAgICB9LCAwKTtcclxuICAgIGlmIChjYXJyeSkge1xyXG4gICAgICBkaWdpdHMudW5zaGlmdChjYXJyeSk7XHJcbiAgICAgIHBhcnNlZE51bWJlci5pKys7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3JtYXQgYSBudW1iZXIgaW50byBhIHN0cmluZ1xyXG4gKiBAcGFyYW0gIHtudW1iZXJ9IG51bWJlciAgICAgICBUaGUgbnVtYmVyIHRvIGZvcm1hdFxyXG4gKiBAcGFyYW0gIHt7XHJcbiAqICAgICAgICAgICBtaW5GcmFjLCAvLyB0aGUgbWluaW11bSBudW1iZXIgb2YgZGlnaXRzIHJlcXVpcmVkIGluIHRoZSBmcmFjdGlvbiBwYXJ0IG9mIHRoZSBudW1iZXJcclxuICogICAgICAgICAgIG1heEZyYWMsIC8vIHRoZSBtYXhpbXVtIG51bWJlciBvZiBkaWdpdHMgcmVxdWlyZWQgaW4gdGhlIGZyYWN0aW9uIHBhcnQgb2YgdGhlIG51bWJlclxyXG4gKiAgICAgICAgICAgZ1NpemUsICAgLy8gbnVtYmVyIG9mIGRpZ2l0cyBpbiBlYWNoIGdyb3VwIG9mIHNlcGFyYXRlZCBkaWdpdHNcclxuICogICAgICAgICAgIGxnU2l6ZSwgIC8vIG51bWJlciBvZiBkaWdpdHMgaW4gdGhlIGxhc3QgZ3JvdXAgb2YgZGlnaXRzIGJlZm9yZSB0aGUgZGVjaW1hbCBzZXBhcmF0b3JcclxuICogICAgICAgICAgIG5lZ1ByZSwgIC8vIHRoZSBzdHJpbmcgdG8gZ28gaW4gZnJvbnQgb2YgYSBuZWdhdGl2ZSBudW1iZXIgKGUuZy4gYC1gIG9yIGAoYCkpXHJcbiAqICAgICAgICAgICBwb3NQcmUsICAvLyB0aGUgc3RyaW5nIHRvIGdvIGluIGZyb250IG9mIGEgcG9zaXRpdmUgbnVtYmVyXHJcbiAqICAgICAgICAgICBuZWdTdWYsICAvLyB0aGUgc3RyaW5nIHRvIGdvIGFmdGVyIGEgbmVnYXRpdmUgbnVtYmVyIChlLmcuIGApYClcclxuICogICAgICAgICAgIHBvc1N1ZiAgIC8vIHRoZSBzdHJpbmcgdG8gZ28gYWZ0ZXIgYSBwb3NpdGl2ZSBudW1iZXJcclxuICogICAgICAgICB9fSBwYXR0ZXJuXHJcbiAqIEBwYXJhbSAge3N0cmluZ30gZ3JvdXBTZXAgICAgIFRoZSBzdHJpbmcgdG8gc2VwYXJhdGUgZ3JvdXBzIG9mIG51bWJlciAoZS5nLiBgLGApXHJcbiAqIEBwYXJhbSAge3N0cmluZ30gZGVjaW1hbFNlcCAgIFRoZSBzdHJpbmcgdG8gYWN0IGFzIHRoZSBkZWNpbWFsIHNlcGFyYXRvciAoZS5nLiBgLmApXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZnJhY3Rpb25TaXplIFRoZSBzaXplIG9mIHRoZSBmcmFjdGlvbmFsIHBhcnQgb2YgdGhlIG51bWJlclxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICAgICBUaGUgbnVtYmVyIGZvcm1hdHRlZCBhcyBhIHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gZm9ybWF0TnVtYmVyKG51bWJlciwgcGF0dGVybiwgZ3JvdXBTZXAsIGRlY2ltYWxTZXAsIGZyYWN0aW9uU2l6ZSkge1xyXG5cclxuICBpZiAoIShpc1N0cmluZyhudW1iZXIpIHx8IGlzTnVtYmVyKG51bWJlcikpIHx8IGlzTmFOKG51bWJlcikpIHJldHVybiAnJztcclxuXHJcbiAgdmFyIGlzSW5maW5pdHkgPSAhaXNGaW5pdGUobnVtYmVyKTtcclxuICB2YXIgaXNaZXJvID0gZmFsc2U7XHJcbiAgdmFyIG51bVN0ciA9IE1hdGguYWJzKG51bWJlcikgKyAnJyxcclxuICAgICAgZm9ybWF0dGVkVGV4dCA9ICcnLFxyXG4gICAgICBwYXJzZWROdW1iZXI7XHJcblxyXG4gIGlmIChpc0luZmluaXR5KSB7XHJcbiAgICBmb3JtYXR0ZWRUZXh0ID0gJ1xcdTIyMWUnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwYXJzZWROdW1iZXIgPSBwYXJzZShudW1TdHIpO1xyXG5cclxuICAgIHJvdW5kTnVtYmVyKHBhcnNlZE51bWJlciwgZnJhY3Rpb25TaXplLCBwYXR0ZXJuLm1pbkZyYWMsIHBhdHRlcm4ubWF4RnJhYyk7XHJcblxyXG4gICAgdmFyIGRpZ2l0cyA9IHBhcnNlZE51bWJlci5kO1xyXG4gICAgdmFyIGludGVnZXJMZW4gPSBwYXJzZWROdW1iZXIuaTtcclxuICAgIHZhciBleHBvbmVudCA9IHBhcnNlZE51bWJlci5lO1xyXG4gICAgdmFyIGRlY2ltYWxzID0gW107XHJcbiAgICBpc1plcm8gPSBkaWdpdHMucmVkdWNlKGZ1bmN0aW9uKGlzWmVybywgZCkgeyByZXR1cm4gaXNaZXJvICYmICFkOyB9LCB0cnVlKTtcclxuXHJcbiAgICAvLyBwYWQgemVyb3MgZm9yIHNtYWxsIG51bWJlcnNcclxuICAgIHdoaWxlIChpbnRlZ2VyTGVuIDwgMCkge1xyXG4gICAgICBkaWdpdHMudW5zaGlmdCgwKTtcclxuICAgICAgaW50ZWdlckxlbisrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGV4dHJhY3QgZGVjaW1hbHMgZGlnaXRzXHJcbiAgICBpZiAoaW50ZWdlckxlbiA+IDApIHtcclxuICAgICAgZGVjaW1hbHMgPSBkaWdpdHMuc3BsaWNlKGludGVnZXJMZW4pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGVjaW1hbHMgPSBkaWdpdHM7XHJcbiAgICAgIGRpZ2l0cyA9IFswXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmb3JtYXQgdGhlIGludGVnZXIgZGlnaXRzIHdpdGggZ3JvdXBpbmcgc2VwYXJhdG9yc1xyXG4gICAgdmFyIGdyb3VwcyA9IFtdO1xyXG4gICAgaWYgKGRpZ2l0cy5sZW5ndGggPj0gcGF0dGVybi5sZ1NpemUpIHtcclxuICAgICAgZ3JvdXBzLnVuc2hpZnQoZGlnaXRzLnNwbGljZSgtcGF0dGVybi5sZ1NpemUpLmpvaW4oJycpKTtcclxuICAgIH1cclxuICAgIHdoaWxlIChkaWdpdHMubGVuZ3RoID4gcGF0dGVybi5nU2l6ZSkge1xyXG4gICAgICBncm91cHMudW5zaGlmdChkaWdpdHMuc3BsaWNlKC1wYXR0ZXJuLmdTaXplKS5qb2luKCcnKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZGlnaXRzLmxlbmd0aCkge1xyXG4gICAgICBncm91cHMudW5zaGlmdChkaWdpdHMuam9pbignJykpO1xyXG4gICAgfVxyXG4gICAgZm9ybWF0dGVkVGV4dCA9IGdyb3Vwcy5qb2luKGdyb3VwU2VwKTtcclxuXHJcbiAgICAvLyBhcHBlbmQgdGhlIGRlY2ltYWwgZGlnaXRzXHJcbiAgICBpZiAoZGVjaW1hbHMubGVuZ3RoKSB7XHJcbiAgICAgIGZvcm1hdHRlZFRleHQgKz0gZGVjaW1hbFNlcCArIGRlY2ltYWxzLmpvaW4oJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChleHBvbmVudCkge1xyXG4gICAgICBmb3JtYXR0ZWRUZXh0ICs9ICdlKycgKyBleHBvbmVudDtcclxuICAgIH1cclxuICB9XHJcbiAgaWYgKG51bWJlciA8IDAgJiYgIWlzWmVybykge1xyXG4gICAgcmV0dXJuIHBhdHRlcm4ubmVnUHJlICsgZm9ybWF0dGVkVGV4dCArIHBhdHRlcm4ubmVnU3VmO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gcGF0dGVybi5wb3NQcmUgKyBmb3JtYXR0ZWRUZXh0ICsgcGF0dGVybi5wb3NTdWY7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBwYWROdW1iZXIobnVtLCBkaWdpdHMsIHRyaW0sIG5lZ1dyYXApIHtcclxuICB2YXIgbmVnID0gJyc7XHJcbiAgaWYgKG51bSA8IDAgfHwgKG5lZ1dyYXAgJiYgbnVtIDw9IDApKSB7XHJcbiAgICBpZiAobmVnV3JhcCkge1xyXG4gICAgICBudW0gPSAtbnVtICsgMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG51bSA9IC1udW07XHJcbiAgICAgIG5lZyA9ICctJztcclxuICAgIH1cclxuICB9XHJcbiAgbnVtID0gJycgKyBudW07XHJcbiAgd2hpbGUgKG51bS5sZW5ndGggPCBkaWdpdHMpIG51bSA9IFpFUk9fQ0hBUiArIG51bTtcclxuICBpZiAodHJpbSkge1xyXG4gICAgbnVtID0gbnVtLnN1YnN0cihudW0ubGVuZ3RoIC0gZGlnaXRzKTtcclxuICB9XHJcbiAgcmV0dXJuIG5lZyArIG51bTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGRhdGVHZXR0ZXIobmFtZSwgc2l6ZSwgb2Zmc2V0LCB0cmltLCBuZWdXcmFwKSB7XHJcbiAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUpIHtcclxuICAgIHZhciB2YWx1ZSA9IGRhdGVbJ2dldCcgKyBuYW1lXSgpO1xyXG4gICAgaWYgKG9mZnNldCA+IDAgfHwgdmFsdWUgPiAtb2Zmc2V0KSB7XHJcbiAgICAgIHZhbHVlICs9IG9mZnNldDtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA9PT0gMCAmJiBvZmZzZXQgPT0gLTEyKSB2YWx1ZSA9IDEyO1xyXG4gICAgcmV0dXJuIHBhZE51bWJlcih2YWx1ZSwgc2l6ZSwgdHJpbSwgbmVnV3JhcCk7XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGF0ZVN0ckdldHRlcihuYW1lLCBzaG9ydEZvcm0sIHN0YW5kQWxvbmUpIHtcclxuICByZXR1cm4gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0cykge1xyXG4gICAgdmFyIHZhbHVlID0gZGF0ZVsnZ2V0JyArIG5hbWVdKCk7XHJcbiAgICB2YXIgcHJvcFByZWZpeCA9IChzdGFuZEFsb25lID8gJ1NUQU5EQUxPTkUnIDogJycpICsgKHNob3J0Rm9ybSA/ICdTSE9SVCcgOiAnJyk7XHJcbiAgICB2YXIgZ2V0ID0gdXBwZXJjYXNlKHByb3BQcmVmaXggKyBuYW1lKTtcclxuXHJcbiAgICByZXR1cm4gZm9ybWF0c1tnZXRdW3ZhbHVlXTtcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiB0aW1lWm9uZUdldHRlcihkYXRlLCBmb3JtYXRzLCBvZmZzZXQpIHtcclxuICB2YXIgem9uZSA9IC0xICogb2Zmc2V0O1xyXG4gIHZhciBwYWRkZWRab25lID0gKHpvbmUgPj0gMCkgPyBcIitcIiA6IFwiXCI7XHJcblxyXG4gIHBhZGRlZFpvbmUgKz0gcGFkTnVtYmVyKE1hdGhbem9uZSA+IDAgPyAnZmxvb3InIDogJ2NlaWwnXSh6b25lIC8gNjApLCAyKSArXHJcbiAgICAgICAgICAgICAgICBwYWROdW1iZXIoTWF0aC5hYnMoem9uZSAlIDYwKSwgMik7XHJcblxyXG4gIHJldHVybiBwYWRkZWRab25lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRGaXJzdFRodXJzZGF5T2ZZZWFyKHllYXIpIHtcclxuICAgIC8vIDAgPSBpbmRleCBvZiBKYW51YXJ5XHJcbiAgICB2YXIgZGF5T2ZXZWVrT25GaXJzdCA9IChuZXcgRGF0ZSh5ZWFyLCAwLCAxKSkuZ2V0RGF5KCk7XHJcbiAgICAvLyA0ID0gaW5kZXggb2YgVGh1cnNkYXkgKCsxIHRvIGFjY291bnQgZm9yIDFzdCA9IDUpXHJcbiAgICAvLyAxMSA9IGluZGV4IG9mICpuZXh0KiBUaHVyc2RheSAoKzEgYWNjb3VudCBmb3IgMXN0ID0gMTIpXHJcbiAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMCwgKChkYXlPZldlZWtPbkZpcnN0IDw9IDQpID8gNSA6IDEyKSAtIGRheU9mV2Vla09uRmlyc3QpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUaHVyc2RheVRoaXNXZWVrKGRhdGV0aW1lKSB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZXRpbWUuZ2V0RnVsbFllYXIoKSwgZGF0ZXRpbWUuZ2V0TW9udGgoKSxcclxuICAgICAgLy8gNCA9IGluZGV4IG9mIFRodXJzZGF5XHJcbiAgICAgIGRhdGV0aW1lLmdldERhdGUoKSArICg0IC0gZGF0ZXRpbWUuZ2V0RGF5KCkpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gd2Vla0dldHRlcihzaXplKSB7XHJcbiAgIHJldHVybiBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICAgIHZhciBmaXJzdFRodXJzID0gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkpLFxyXG4gICAgICAgICB0aGlzVGh1cnMgPSBnZXRUaHVyc2RheVRoaXNXZWVrKGRhdGUpO1xyXG5cclxuICAgICAgdmFyIGRpZmYgPSArdGhpc1RodXJzIC0gK2ZpcnN0VGh1cnMsXHJcbiAgICAgICAgIHJlc3VsdCA9IDEgKyBNYXRoLnJvdW5kKGRpZmYgLyA2LjA0OGU4KTsgLy8gNi4wNDhlOCBtcyBwZXIgd2Vla1xyXG5cclxuICAgICAgcmV0dXJuIHBhZE51bWJlcihyZXN1bHQsIHNpemUpO1xyXG4gICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhbXBtR2V0dGVyKGRhdGUsIGZvcm1hdHMpIHtcclxuICByZXR1cm4gZGF0ZS5nZXRIb3VycygpIDwgMTIgPyBmb3JtYXRzLkFNUE1TWzBdIDogZm9ybWF0cy5BTVBNU1sxXTtcclxufVxyXG5cclxuZnVuY3Rpb24gZXJhR2V0dGVyKGRhdGUsIGZvcm1hdHMpIHtcclxuICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpIDw9IDAgPyBmb3JtYXRzLkVSQVNbMF0gOiBmb3JtYXRzLkVSQVNbMV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvbmdFcmFHZXR0ZXIoZGF0ZSwgZm9ybWF0cykge1xyXG4gIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCkgPD0gMCA/IGZvcm1hdHMuRVJBTkFNRVNbMF0gOiBmb3JtYXRzLkVSQU5BTUVTWzFdO1xyXG59XHJcblxyXG52YXIgREFURV9GT1JNQVRTID0ge1xyXG4gIHl5eXk6IGRhdGVHZXR0ZXIoJ0Z1bGxZZWFyJywgNCwgMCwgZmFsc2UsIHRydWUpLFxyXG4gICAgeXk6IGRhdGVHZXR0ZXIoJ0Z1bGxZZWFyJywgMiwgMCwgdHJ1ZSwgdHJ1ZSksXHJcbiAgICAgeTogZGF0ZUdldHRlcignRnVsbFllYXInLCAxLCAwLCBmYWxzZSwgdHJ1ZSksXHJcbiAgTU1NTTogZGF0ZVN0ckdldHRlcignTW9udGgnKSxcclxuICAgTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcsIHRydWUpLFxyXG4gICAgTU06IGRhdGVHZXR0ZXIoJ01vbnRoJywgMiwgMSksXHJcbiAgICAgTTogZGF0ZUdldHRlcignTW9udGgnLCAxLCAxKSxcclxuICBMTExMOiBkYXRlU3RyR2V0dGVyKCdNb250aCcsIGZhbHNlLCB0cnVlKSxcclxuICAgIGRkOiBkYXRlR2V0dGVyKCdEYXRlJywgMiksXHJcbiAgICAgZDogZGF0ZUdldHRlcignRGF0ZScsIDEpLFxyXG4gICAgSEg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMiksXHJcbiAgICAgSDogZGF0ZUdldHRlcignSG91cnMnLCAxKSxcclxuICAgIGhoOiBkYXRlR2V0dGVyKCdIb3VycycsIDIsIC0xMiksXHJcbiAgICAgaDogZGF0ZUdldHRlcignSG91cnMnLCAxLCAtMTIpLFxyXG4gICAgbW06IGRhdGVHZXR0ZXIoJ01pbnV0ZXMnLCAyKSxcclxuICAgICBtOiBkYXRlR2V0dGVyKCdNaW51dGVzJywgMSksXHJcbiAgICBzczogZGF0ZUdldHRlcignU2Vjb25kcycsIDIpLFxyXG4gICAgIHM6IGRhdGVHZXR0ZXIoJ1NlY29uZHMnLCAxKSxcclxuICAgICAvLyB3aGlsZSBJU08gODYwMSByZXF1aXJlcyBmcmFjdGlvbnMgdG8gYmUgcHJlZml4ZWQgd2l0aCBgLmAgb3IgYCxgXHJcbiAgICAgLy8gd2UgY2FuIGJlIGp1c3Qgc2FmZWx5IHJlbHkgb24gdXNpbmcgYHNzc2Agc2luY2Ugd2UgY3VycmVudGx5IGRvbid0IHN1cHBvcnQgc2luZ2xlIG9yIHR3byBkaWdpdCBmcmFjdGlvbnNcclxuICAgc3NzOiBkYXRlR2V0dGVyKCdNaWxsaXNlY29uZHMnLCAzKSxcclxuICBFRUVFOiBkYXRlU3RyR2V0dGVyKCdEYXknKSxcclxuICAgRUVFOiBkYXRlU3RyR2V0dGVyKCdEYXknLCB0cnVlKSxcclxuICAgICBhOiBhbXBtR2V0dGVyLFxyXG4gICAgIFo6IHRpbWVab25lR2V0dGVyLFxyXG4gICAgd3c6IHdlZWtHZXR0ZXIoMiksXHJcbiAgICAgdzogd2Vla0dldHRlcigxKSxcclxuICAgICBHOiBlcmFHZXR0ZXIsXHJcbiAgICAgR0c6IGVyYUdldHRlcixcclxuICAgICBHR0c6IGVyYUdldHRlcixcclxuICAgICBHR0dHOiBsb25nRXJhR2V0dGVyXHJcbn07XHJcblxyXG52YXIgREFURV9GT1JNQVRTX1NQTElUID0gLygoPzpbXnlNTGRIaG1zYVpFd0cnXSspfCg/OicoPzpbXiddfCcnKSonKXwoPzpFK3x5K3xNK3xMK3xkK3xIK3xoK3xtK3xzK3xhfFp8Ryt8dyspKSguKikvLFxyXG4gICAgTlVNQkVSX1NUUklORyA9IC9eXFwtP1xcZCskLztcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZmlsdGVyXHJcbiAqIEBuYW1lIGRhdGVcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqICAgRm9ybWF0cyBgZGF0ZWAgdG8gYSBzdHJpbmcgYmFzZWQgb24gdGhlIHJlcXVlc3RlZCBgZm9ybWF0YC5cclxuICpcclxuICogICBgZm9ybWF0YCBzdHJpbmcgY2FuIGJlIGNvbXBvc2VkIG9mIHRoZSBmb2xsb3dpbmcgZWxlbWVudHM6XHJcbiAqXHJcbiAqICAgKiBgJ3l5eXknYDogNCBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyIChlLmcuIEFEIDEgPT4gMDAwMSwgQUQgMjAxMCA9PiAyMDEwKVxyXG4gKiAgICogYCd5eSdgOiAyIGRpZ2l0IHJlcHJlc2VudGF0aW9uIG9mIHllYXIsIHBhZGRlZCAoMDAtOTkpLiAoZS5nLiBBRCAyMDAxID0+IDAxLCBBRCAyMDEwID0+IDEwKVxyXG4gKiAgICogYCd5J2A6IDEgZGlnaXQgcmVwcmVzZW50YXRpb24gb2YgeWVhciwgZS5nLiAoQUQgMSA9PiAxLCBBRCAxOTkgPT4gMTk5KVxyXG4gKiAgICogYCdNTU1NJ2A6IE1vbnRoIGluIHllYXIgKEphbnVhcnktRGVjZW1iZXIpXHJcbiAqICAgKiBgJ01NTSdgOiBNb250aCBpbiB5ZWFyIChKYW4tRGVjKVxyXG4gKiAgICogYCdNTSdgOiBNb250aCBpbiB5ZWFyLCBwYWRkZWQgKDAxLTEyKVxyXG4gKiAgICogYCdNJ2A6IE1vbnRoIGluIHllYXIgKDEtMTIpXHJcbiAqICAgKiBgJ0xMTEwnYDogU3RhbmQtYWxvbmUgbW9udGggaW4geWVhciAoSmFudWFyeS1EZWNlbWJlcilcclxuICogICAqIGAnZGQnYDogRGF5IGluIG1vbnRoLCBwYWRkZWQgKDAxLTMxKVxyXG4gKiAgICogYCdkJ2A6IERheSBpbiBtb250aCAoMS0zMSlcclxuICogICAqIGAnRUVFRSdgOiBEYXkgaW4gV2VlaywoU3VuZGF5LVNhdHVyZGF5KVxyXG4gKiAgICogYCdFRUUnYDogRGF5IGluIFdlZWssIChTdW4tU2F0KVxyXG4gKiAgICogYCdISCdgOiBIb3VyIGluIGRheSwgcGFkZGVkICgwMC0yMylcclxuICogICAqIGAnSCdgOiBIb3VyIGluIGRheSAoMC0yMylcclxuICogICAqIGAnaGgnYDogSG91ciBpbiBBTS9QTSwgcGFkZGVkICgwMS0xMilcclxuICogICAqIGAnaCdgOiBIb3VyIGluIEFNL1BNLCAoMS0xMilcclxuICogICAqIGAnbW0nYDogTWludXRlIGluIGhvdXIsIHBhZGRlZCAoMDAtNTkpXHJcbiAqICAgKiBgJ20nYDogTWludXRlIGluIGhvdXIgKDAtNTkpXHJcbiAqICAgKiBgJ3NzJ2A6IFNlY29uZCBpbiBtaW51dGUsIHBhZGRlZCAoMDAtNTkpXHJcbiAqICAgKiBgJ3MnYDogU2Vjb25kIGluIG1pbnV0ZSAoMC01OSlcclxuICogICAqIGAnc3NzJ2A6IE1pbGxpc2Vjb25kIGluIHNlY29uZCwgcGFkZGVkICgwMDAtOTk5KVxyXG4gKiAgICogYCdhJ2A6IEFNL1BNIG1hcmtlclxyXG4gKiAgICogYCdaJ2A6IDQgZGlnaXQgKCtzaWduKSByZXByZXNlbnRhdGlvbiBvZiB0aGUgdGltZXpvbmUgb2Zmc2V0ICgtMTIwMC0rMTIwMClcclxuICogICAqIGAnd3cnYDogV2VlayBvZiB5ZWFyLCBwYWRkZWQgKDAwLTUzKS4gV2VlayAwMSBpcyB0aGUgd2VlayB3aXRoIHRoZSBmaXJzdCBUaHVyc2RheSBvZiB0aGUgeWVhclxyXG4gKiAgICogYCd3J2A6IFdlZWsgb2YgeWVhciAoMC01MykuIFdlZWsgMSBpcyB0aGUgd2VlayB3aXRoIHRoZSBmaXJzdCBUaHVyc2RheSBvZiB0aGUgeWVhclxyXG4gKiAgICogYCdHJ2AsIGAnR0cnYCwgYCdHR0cnYDogVGhlIGFiYnJldmlhdGVkIGZvcm0gb2YgdGhlIGVyYSBzdHJpbmcgKGUuZy4gJ0FEJylcclxuICogICAqIGAnR0dHRydgOiBUaGUgbG9uZyBmb3JtIG9mIHRoZSBlcmEgc3RyaW5nIChlLmcuICdBbm5vIERvbWluaScpXHJcbiAqXHJcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBhbHNvIGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHByZWRlZmluZWRcclxuICogICB7QGxpbmsgZ3VpZGUvaTE4biBsb2NhbGl6YWJsZSBmb3JtYXRzfTpcclxuICpcclxuICogICAqIGAnbWVkaXVtJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU0gZCwgeSBoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlXHJcbiAqICAgICAoZS5nLiBTZXAgMywgMjAxMCAxMjowNTowOCBQTSlcclxuICogICAqIGAnc2hvcnQnYDogZXF1aXZhbGVudCB0byBgJ00vZC95eSBoOm1tIGEnYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiA5LzMvMTAgMTI6MDUgUE0pXHJcbiAqICAgKiBgJ2Z1bGxEYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdFRUVFLCBNTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZVxyXG4gKiAgICAgKGUuZy4gRnJpZGF5LCBTZXB0ZW1iZXIgMywgMjAxMClcclxuICogICAqIGAnbG9uZ0RhdGUnYDogZXF1aXZhbGVudCB0byBgJ01NTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIFNlcHRlbWJlciAzLCAyMDEwKVxyXG4gKiAgICogYCdtZWRpdW1EYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIFNlcCAzLCAyMDEwKVxyXG4gKiAgICogYCdzaG9ydERhdGUnYDogZXF1aXZhbGVudCB0byBgJ00vZC95eSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gOS8zLzEwKVxyXG4gKiAgICogYCdtZWRpdW1UaW1lJ2A6IGVxdWl2YWxlbnQgdG8gYCdoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDEyOjA1OjA4IFBNKVxyXG4gKiAgICogYCdzaG9ydFRpbWUnYDogZXF1aXZhbGVudCB0byBgJ2g6bW0gYSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gMTI6MDUgUE0pXHJcbiAqXHJcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBjb250YWluIGxpdGVyYWwgdmFsdWVzLiBUaGVzZSBuZWVkIHRvIGJlIGVzY2FwZWQgYnkgc3Vycm91bmRpbmcgd2l0aCBzaW5nbGUgcXVvdGVzIChlLmcuXHJcbiAqICAgYFwiaCAnaW4gdGhlIG1vcm5pbmcnXCJgKS4gSW4gb3JkZXIgdG8gb3V0cHV0IGEgc2luZ2xlIHF1b3RlLCBlc2NhcGUgaXQgLSBpLmUuLCB0d28gc2luZ2xlIHF1b3RlcyBpbiBhIHNlcXVlbmNlXHJcbiAqICAgKGUuZy4gYFwiaCAnbycnY2xvY2snXCJgKS5cclxuICpcclxuICogQHBhcmFtIHsoRGF0ZXxudW1iZXJ8c3RyaW5nKX0gZGF0ZSBEYXRlIHRvIGZvcm1hdCBlaXRoZXIgYXMgRGF0ZSBvYmplY3QsIG1pbGxpc2Vjb25kcyAoc3RyaW5nIG9yXHJcbiAqICAgIG51bWJlcikgb3IgdmFyaW91cyBJU08gODYwMSBkYXRldGltZSBzdHJpbmcgZm9ybWF0cyAoZS5nLiB5eXl5LU1NLWRkVEhIOm1tOnNzLnNzc1ogYW5kIGl0c1xyXG4gKiAgICBzaG9ydGVyIHZlcnNpb25zIGxpa2UgeXl5eS1NTS1kZFRISDptbVosIHl5eXktTU0tZGQgb3IgeXl5eU1NZGRUSEhtbXNzWikuIElmIG5vIHRpbWV6b25lIGlzXHJcbiAqICAgIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGlucHV0LCB0aGUgdGltZSBpcyBjb25zaWRlcmVkIHRvIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBmb3JtYXQgRm9ybWF0dGluZyBydWxlcyAoc2VlIERlc2NyaXB0aW9uKS4gSWYgbm90IHNwZWNpZmllZCxcclxuICogICAgYG1lZGl1bURhdGVgIGlzIHVzZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdGltZXpvbmUgVGltZXpvbmUgdG8gYmUgdXNlZCBmb3IgZm9ybWF0dGluZy4gSXQgdW5kZXJzdGFuZHMgVVRDL0dNVCBhbmQgdGhlXHJcbiAqICAgIGNvbnRpbmVudGFsIFVTIHRpbWUgem9uZSBhYmJyZXZpYXRpb25zLCBidXQgZm9yIGdlbmVyYWwgdXNlLCB1c2UgYSB0aW1lIHpvbmUgb2Zmc2V0LCBmb3JcclxuICogICAgZXhhbXBsZSwgYCcrMDQzMCdgICg0IGhvdXJzLCAzMCBtaW51dGVzIGVhc3Qgb2YgdGhlIEdyZWVud2ljaCBtZXJpZGlhbilcclxuICogICAgSWYgbm90IHNwZWNpZmllZCwgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyIHdpbGwgYmUgdXNlZC5cclxuICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIHN0cmluZyBvciB0aGUgaW5wdXQgaWYgaW5wdXQgaXMgbm90IHJlY29nbml6ZWQgYXMgZGF0ZS9taWxsaXMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjpcclxuICAgICAgICAgICA8c3Bhbj57ezEyODgzMjM2MjMwMDYgfCBkYXRlOidtZWRpdW0nfX08L3NwYW4+PGJyPlxyXG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J3l5eXktTU0tZGQgSEg6bW06c3MgWid9fTwvc3Bhbj46XHJcbiAgICAgICAgICA8c3Bhbj57ezEyODgzMjM2MjMwMDYgfCBkYXRlOid5eXl5LU1NLWRkIEhIOm1tOnNzIFonfX08L3NwYW4+PGJyPlxyXG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSd9fTwvc3Bhbj46XHJcbiAgICAgICAgICA8c3Bhbj57eycxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSd9fTwvc3Bhbj48YnI+XHJcbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+OlxyXG4gICAgICAgICAgPHNwYW4+e3snMTI4ODMyMzYyMzAwNicgfCBkYXRlOlwiTU0vZGQveXl5eSAnYXQnIGg6bW1hXCJ9fTwvc3Bhbj48YnI+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgZm9ybWF0IGRhdGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIjEyODgzMjM2MjMwMDYgfCBkYXRlOidtZWRpdW0nXCIpKS5nZXRUZXh0KCkpLlxyXG4gICAgICAgICAgICB0b01hdGNoKC9PY3QgMlxcZCwgMjAxMCBcXGR7MSwyfTpcXGR7Mn06XFxkezJ9IChBTXxQTSkvKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIjEyODgzMjM2MjMwMDYgfCBkYXRlOid5eXl5LU1NLWRkIEhIOm1tOnNzIFonXCIpKS5nZXRUZXh0KCkpLlxyXG4gICAgICAgICAgICB0b01hdGNoKC8yMDEwXFwtMTBcXC0yXFxkIFxcZHsyfTpcXGR7Mn06XFxkezJ9IChcXC18XFwrKT9cXGR7NH0vKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSdcIikpLmdldFRleHQoKSkuXHJcbiAgICAgICAgICAgIHRvTWF0Y2goLzEwXFwvMlxcZFxcLzIwMTAgQCBcXGR7MSwyfTpcXGR7Mn0oQU18UE0pLyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCInMTI4ODMyMzYyMzAwNicgfCBkYXRlOlxcXCJNTS9kZC95eXl5ICdhdCcgaDptbWFcXFwiXCIpKS5nZXRUZXh0KCkpLlxyXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIGF0IFxcZHsxLDJ9OlxcZHsyfShBTXxQTSkvKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuZGF0ZUZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XHJcbmZ1bmN0aW9uIGRhdGVGaWx0ZXIoJGxvY2FsZSkge1xyXG5cclxuXHJcbiAgdmFyIFJfSVNPODYwMV9TVFIgPSAvXihcXGR7NH0pLT8oXFxkXFxkKS0/KFxcZFxcZCkoPzpUKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlxcLihcXGQrKSk/KT8pPyhafChbKy1dKShcXGRcXGQpOj8oXFxkXFxkKSk/KT8kLztcclxuICAgICAgICAgICAgICAgICAgICAgLy8gMSAgICAgICAgMiAgICAgICAzICAgICAgICAgNCAgICAgICAgICA1ICAgICAgICAgIDYgICAgICAgICAgNyAgICAgICAgICA4ICA5ICAgICAxMCAgICAgIDExXHJcbiAgZnVuY3Rpb24ganNvblN0cmluZ1RvRGF0ZShzdHJpbmcpIHtcclxuICAgIHZhciBtYXRjaDtcclxuICAgIGlmIChtYXRjaCA9IHN0cmluZy5tYXRjaChSX0lTTzg2MDFfU1RSKSkge1xyXG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApLFxyXG4gICAgICAgICAgdHpIb3VyID0gMCxcclxuICAgICAgICAgIHR6TWluICA9IDAsXHJcbiAgICAgICAgICBkYXRlU2V0dGVyID0gbWF0Y2hbOF0gPyBkYXRlLnNldFVUQ0Z1bGxZZWFyIDogZGF0ZS5zZXRGdWxsWWVhcixcclxuICAgICAgICAgIHRpbWVTZXR0ZXIgPSBtYXRjaFs4XSA/IGRhdGUuc2V0VVRDSG91cnMgOiBkYXRlLnNldEhvdXJzO1xyXG5cclxuICAgICAgaWYgKG1hdGNoWzldKSB7XHJcbiAgICAgICAgdHpIb3VyID0gdG9JbnQobWF0Y2hbOV0gKyBtYXRjaFsxMF0pO1xyXG4gICAgICAgIHR6TWluID0gdG9JbnQobWF0Y2hbOV0gKyBtYXRjaFsxMV0pO1xyXG4gICAgICB9XHJcbiAgICAgIGRhdGVTZXR0ZXIuY2FsbChkYXRlLCB0b0ludChtYXRjaFsxXSksIHRvSW50KG1hdGNoWzJdKSAtIDEsIHRvSW50KG1hdGNoWzNdKSk7XHJcbiAgICAgIHZhciBoID0gdG9JbnQobWF0Y2hbNF0gfHwgMCkgLSB0ekhvdXI7XHJcbiAgICAgIHZhciBtID0gdG9JbnQobWF0Y2hbNV0gfHwgMCkgLSB0ek1pbjtcclxuICAgICAgdmFyIHMgPSB0b0ludChtYXRjaFs2XSB8fCAwKTtcclxuICAgICAgdmFyIG1zID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KCcwLicgKyAobWF0Y2hbN10gfHwgMCkpICogMTAwMCk7XHJcbiAgICAgIHRpbWVTZXR0ZXIuY2FsbChkYXRlLCBoLCBtLCBzLCBtcyk7XHJcbiAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0cmluZztcclxuICB9XHJcblxyXG5cclxuICByZXR1cm4gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0LCB0aW1lem9uZSkge1xyXG4gICAgdmFyIHRleHQgPSAnJyxcclxuICAgICAgICBwYXJ0cyA9IFtdLFxyXG4gICAgICAgIGZuLCBtYXRjaDtcclxuXHJcbiAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJ21lZGl1bURhdGUnO1xyXG4gICAgZm9ybWF0ID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTW2Zvcm1hdF0gfHwgZm9ybWF0O1xyXG4gICAgaWYgKGlzU3RyaW5nKGRhdGUpKSB7XHJcbiAgICAgIGRhdGUgPSBOVU1CRVJfU1RSSU5HLnRlc3QoZGF0ZSkgPyB0b0ludChkYXRlKSA6IGpzb25TdHJpbmdUb0RhdGUoZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzTnVtYmVyKGRhdGUpKSB7XHJcbiAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzRGF0ZShkYXRlKSB8fCAhaXNGaW5pdGUoZGF0ZS5nZXRUaW1lKCkpKSB7XHJcbiAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHdoaWxlIChmb3JtYXQpIHtcclxuICAgICAgbWF0Y2ggPSBEQVRFX0ZPUk1BVFNfU1BMSVQuZXhlYyhmb3JtYXQpO1xyXG4gICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICBwYXJ0cyA9IGNvbmNhdChwYXJ0cywgbWF0Y2gsIDEpO1xyXG4gICAgICAgIGZvcm1hdCA9IHBhcnRzLnBvcCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhcnRzLnB1c2goZm9ybWF0KTtcclxuICAgICAgICBmb3JtYXQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRhdGVUaW1lem9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcclxuICAgIGlmICh0aW1lem9uZSkge1xyXG4gICAgICBkYXRlVGltZXpvbmVPZmZzZXQgPSB0aW1lem9uZVRvT2Zmc2V0KHRpbWV6b25lLCBkYXRlVGltZXpvbmVPZmZzZXQpO1xyXG4gICAgICBkYXRlID0gY29udmVydFRpbWV6b25lVG9Mb2NhbChkYXRlLCB0aW1lem9uZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBmb3JFYWNoKHBhcnRzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICBmbiA9IERBVEVfRk9STUFUU1t2YWx1ZV07XHJcbiAgICAgIHRleHQgKz0gZm4gPyBmbihkYXRlLCAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMsIGRhdGVUaW1lem9uZU9mZnNldClcclxuICAgICAgICAgICAgICAgICA6IHZhbHVlID09PSBcIicnXCIgPyBcIidcIiA6IHZhbHVlLnJlcGxhY2UoLyheJ3wnJCkvZywgJycpLnJlcGxhY2UoLycnL2csIFwiJ1wiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0ZXh0O1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZpbHRlclxyXG4gKiBAbmFtZSBqc29uXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiAgIEFsbG93cyB5b3UgdG8gY29udmVydCBhIEphdmFTY3JpcHQgb2JqZWN0IGludG8gSlNPTiBzdHJpbmcuXHJcbiAqXHJcbiAqICAgVGhpcyBmaWx0ZXIgaXMgbW9zdGx5IHVzZWZ1bCBmb3IgZGVidWdnaW5nLiBXaGVuIHVzaW5nIHRoZSBkb3VibGUgY3VybHkge3t2YWx1ZX19IG5vdGF0aW9uXHJcbiAqICAgdGhlIGJpbmRpbmcgaXMgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gSlNPTi5cclxuICpcclxuICogQHBhcmFtIHsqfSBvYmplY3QgQW55IEphdmFTY3JpcHQgb2JqZWN0IChpbmNsdWRpbmcgYXJyYXlzIGFuZCBwcmltaXRpdmUgdHlwZXMpIHRvIGZpbHRlci5cclxuICogQHBhcmFtIHtudW1iZXI9fSBzcGFjaW5nIFRoZSBudW1iZXIgb2Ygc3BhY2VzIHRvIHVzZSBwZXIgaW5kZW50YXRpb24sIGRlZmF1bHRzIHRvIDIuXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEpTT04gc3RyaW5nLlxyXG4gKlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHByZSBpZD1cImRlZmF1bHQtc3BhY2luZ1wiPnt7IHsnbmFtZSc6J3ZhbHVlJ30gfCBqc29uIH19PC9wcmU+XHJcbiAgICAgICA8cHJlIGlkPVwiY3VzdG9tLXNwYWNpbmdcIj57eyB7J25hbWUnOid2YWx1ZSd9IHwganNvbjo0IH19PC9wcmU+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQganNvbmlmeSBmaWx0ZXJlZCBvYmplY3RzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZWZhdWx0LXNwYWNpbmcnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9cXHtcXG4gIFwibmFtZVwiOiA/XCJ2YWx1ZVwiXFxufS8pO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VzdG9tLXNwYWNpbmcnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9cXHtcXG4gICAgXCJuYW1lXCI6ID9cInZhbHVlXCJcXG59Lyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGpzb25GaWx0ZXIoKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgc3BhY2luZykge1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKHNwYWNpbmcpKSB7XHJcbiAgICAgICAgc3BhY2luZyA9IDI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG9Kc29uKG9iamVjdCwgc3BhY2luZyk7XHJcbiAgfTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZmlsdGVyXHJcbiAqIEBuYW1lIGxvd2VyY2FzZVxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ29udmVydHMgc3RyaW5nIHRvIGxvd2VyY2FzZS5cclxuICogQHNlZSBhbmd1bGFyLmxvd2VyY2FzZVxyXG4gKi9cclxudmFyIGxvd2VyY2FzZUZpbHRlciA9IHZhbHVlRm4obG93ZXJjYXNlKTtcclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZpbHRlclxyXG4gKiBAbmFtZSB1cHBlcmNhc2VcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIENvbnZlcnRzIHN0cmluZyB0byB1cHBlcmNhc2UuXHJcbiAqIEBzZWUgYW5ndWxhci51cHBlcmNhc2VcclxuICovXHJcbnZhciB1cHBlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKHVwcGVyY2FzZSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZpbHRlclxyXG4gKiBAbmFtZSBsaW1pdFRvXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBDcmVhdGVzIGEgbmV3IGFycmF5IG9yIHN0cmluZyBjb250YWluaW5nIG9ubHkgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIGVsZW1lbnRzLiBUaGUgZWxlbWVudHNcclxuICogYXJlIHRha2VuIGZyb20gZWl0aGVyIHRoZSBiZWdpbm5pbmcgb3IgdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5LCBzdHJpbmcgb3IgbnVtYmVyLCBhcyBzcGVjaWZpZWQgYnlcclxuICogdGhlIHZhbHVlIGFuZCBzaWduIChwb3NpdGl2ZSBvciBuZWdhdGl2ZSkgb2YgYGxpbWl0YC4gSWYgYSBudW1iZXIgaXMgdXNlZCBhcyBpbnB1dCwgaXQgaXNcclxuICogY29udmVydGVkIHRvIGEgc3RyaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ3xudW1iZXJ9IGlucHV0IFNvdXJjZSBhcnJheSwgc3RyaW5nIG9yIG51bWJlciB0byBiZSBsaW1pdGVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGxpbWl0IFRoZSBsZW5ndGggb2YgdGhlIHJldHVybmVkIGFycmF5IG9yIHN0cmluZy4gSWYgdGhlIGBsaW1pdGAgbnVtYmVyXHJcbiAqICAgICBpcyBwb3NpdGl2ZSwgYGxpbWl0YCBudW1iZXIgb2YgaXRlbXMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nIGFyZSBjb3BpZWQuXHJcbiAqICAgICBJZiB0aGUgbnVtYmVyIGlzIG5lZ2F0aXZlLCBgbGltaXRgIG51bWJlciAgb2YgaXRlbXMgZnJvbSB0aGUgZW5kIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nXHJcbiAqICAgICBhcmUgY29waWVkLiBUaGUgYGxpbWl0YCB3aWxsIGJlIHRyaW1tZWQgaWYgaXQgZXhjZWVkcyBgYXJyYXkubGVuZ3RoYC4gSWYgYGxpbWl0YCBpcyB1bmRlZmluZWQsXHJcbiAqICAgICB0aGUgaW5wdXQgd2lsbCBiZSByZXR1cm5lZCB1bmNoYW5nZWQuXHJcbiAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gYmVnaW4gSW5kZXggYXQgd2hpY2ggdG8gYmVnaW4gbGltaXRhdGlvbi4gQXMgYSBuZWdhdGl2ZSBpbmRleCwgYGJlZ2luYFxyXG4gKiAgICAgaW5kaWNhdGVzIGFuIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGlucHV0YC4gRGVmYXVsdHMgdG8gYDBgLlxyXG4gKiBAcmV0dXJucyB7QXJyYXl8c3RyaW5nfSBBIG5ldyBzdWItYXJyYXkgb3Igc3Vic3RyaW5nIG9mIGxlbmd0aCBgbGltaXRgIG9yIGxlc3MgaWYgaW5wdXQgYXJyYXlcclxuICogICAgIGhhZCBsZXNzIHRoYW4gYGxpbWl0YCBlbGVtZW50cy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbW9kdWxlPVwibGltaXRUb0V4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2xpbWl0VG9FeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICRzY29wZS5udW1iZXJzID0gWzEsMiwzLDQsNSw2LDcsOCw5XTtcclxuICAgICAgICAgICAgICRzY29wZS5sZXR0ZXJzID0gXCJhYmNkZWZnaGlcIjtcclxuICAgICAgICAgICAgICRzY29wZS5sb25nTnVtYmVyID0gMjM0NTQzMjM0MjtcclxuICAgICAgICAgICAgICRzY29wZS5udW1MaW1pdCA9IDM7XHJcbiAgICAgICAgICAgICAkc2NvcGUubGV0dGVyTGltaXQgPSAzO1xyXG4gICAgICAgICAgICAgJHNjb3BlLmxvbmdOdW1iZXJMaW1pdCA9IDM7XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgIExpbWl0IHt7bnVtYmVyc319IHRvOlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbmctbW9kZWw9XCJudW1MaW1pdFwiPlxyXG4gICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICA8cD5PdXRwdXQgbnVtYmVyczoge3sgbnVtYmVycyB8IGxpbWl0VG86bnVtTGltaXQgfX08L3A+XHJcbiAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICAgTGltaXQge3tsZXR0ZXJzfX0gdG86XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuZy1tb2RlbD1cImxldHRlckxpbWl0XCI+XHJcbiAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgIDxwPk91dHB1dCBsZXR0ZXJzOiB7eyBsZXR0ZXJzIHwgbGltaXRUbzpsZXR0ZXJMaW1pdCB9fTwvcD5cclxuICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICBMaW1pdCB7e2xvbmdOdW1iZXJ9fSB0bzpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibG9uZ051bWJlckxpbWl0XCI+XHJcbiAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgIDxwPk91dHB1dCBsb25nIG51bWJlcjoge3sgbG9uZ051bWJlciB8IGxpbWl0VG86bG9uZ051bWJlckxpbWl0IH19PC9wPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciBudW1MaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbnVtTGltaXQnKSk7XHJcbiAgICAgICB2YXIgbGV0dGVyTGltaXRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2xldHRlckxpbWl0JykpO1xyXG4gICAgICAgdmFyIGxvbmdOdW1iZXJMaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbG9uZ051bWJlckxpbWl0JykpO1xyXG4gICAgICAgdmFyIGxpbWl0ZWROdW1iZXJzID0gZWxlbWVudChieS5iaW5kaW5nKCdudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCcpKTtcclxuICAgICAgIHZhciBsaW1pdGVkTGV0dGVycyA9IGVsZW1lbnQoYnkuYmluZGluZygnbGV0dGVycyB8IGxpbWl0VG86bGV0dGVyTGltaXQnKSk7XHJcbiAgICAgICB2YXIgbGltaXRlZExvbmdOdW1iZXIgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xvbmdOdW1iZXIgfCBsaW1pdFRvOmxvbmdOdW1iZXJMaW1pdCcpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIGxpbWl0IHRoZSBudW1iZXIgYXJyYXkgdG8gZmlyc3QgdGhyZWUgaXRlbXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KG51bUxpbWl0SW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCczJyk7XHJcbiAgICAgICAgIGV4cGVjdChsZXR0ZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xyXG4gICAgICAgICBleHBlY3QobG9uZ051bWJlckxpbWl0SW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCczJyk7XHJcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbMSwyLDNdJyk7XHJcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmMnKTtcclxuICAgICAgICAgZXhwZWN0KGxpbWl0ZWRMb25nTnVtYmVyLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxvbmcgbnVtYmVyOiAyMzQnKTtcclxuICAgICAgIH0pO1xyXG5cclxuICAgICAgIC8vIFRoZXJlIGlzIGEgYnVnIGluIHNhZmFyaSBhbmQgcHJvdHJhY3RvciB0aGF0IGRvZXNuJ3QgbGlrZSB0aGUgbWludXMga2V5XHJcbiAgICAgICAvLyBpdCgnc2hvdWxkIHVwZGF0ZSB0aGUgb3V0cHV0IHdoZW4gLTMgaXMgZW50ZXJlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAvLyAgIG51bUxpbWl0SW5wdXQuc2VuZEtleXMoJy0zJyk7XHJcbiAgICAgICAvLyAgIGxldHRlckxpbWl0SW5wdXQuY2xlYXIoKTtcclxuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcclxuICAgICAgIC8vICAgbG9uZ051bWJlckxpbWl0SW5wdXQuY2xlYXIoKTtcclxuICAgICAgIC8vICAgbG9uZ051bWJlckxpbWl0SW5wdXQuc2VuZEtleXMoJy0zJyk7XHJcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbNyw4LDldJyk7XHJcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBnaGknKTtcclxuICAgICAgIC8vICAgZXhwZWN0KGxpbWl0ZWRMb25nTnVtYmVyLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxvbmcgbnVtYmVyOiAzNDInKTtcclxuICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgIGl0KCdzaG91bGQgbm90IGV4Y2VlZCB0aGUgbWF4aW11bSBzaXplIG9mIGlucHV0IGFycmF5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgbnVtTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XHJcbiAgICAgICAgIGxldHRlckxpbWl0SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XHJcbiAgICAgICAgIGxvbmdOdW1iZXJMaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgIGxvbmdOdW1iZXJMaW1pdElucHV0LnNlbmRLZXlzKCcxMDAnKTtcclxuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsMyw0LDUsNiw3LDgsOV0nKTtcclxuICAgICAgICAgZXhwZWN0KGxpbWl0ZWRMZXR0ZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxldHRlcnM6IGFiY2RlZmdoaScpO1xyXG4gICAgICAgICBleHBlY3QobGltaXRlZExvbmdOdW1iZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbG9uZyBudW1iZXI6IDIzNDU0MzIzNDInKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4qL1xyXG5mdW5jdGlvbiBsaW1pdFRvRmlsdGVyKCkge1xyXG4gIHJldHVybiBmdW5jdGlvbihpbnB1dCwgbGltaXQsIGJlZ2luKSB7XHJcbiAgICBpZiAoTWF0aC5hYnMoTnVtYmVyKGxpbWl0KSkgPT09IEluZmluaXR5KSB7XHJcbiAgICAgIGxpbWl0ID0gTnVtYmVyKGxpbWl0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxpbWl0ID0gdG9JbnQobGltaXQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzTmFOKGxpbWl0KSkgcmV0dXJuIGlucHV0O1xyXG5cclxuICAgIGlmIChpc051bWJlcihpbnB1dCkpIGlucHV0ID0gaW5wdXQudG9TdHJpbmcoKTtcclxuICAgIGlmICghaXNBcnJheShpbnB1dCkgJiYgIWlzU3RyaW5nKGlucHV0KSkgcmV0dXJuIGlucHV0O1xyXG5cclxuICAgIGJlZ2luID0gKCFiZWdpbiB8fCBpc05hTihiZWdpbikpID8gMCA6IHRvSW50KGJlZ2luKTtcclxuICAgIGJlZ2luID0gKGJlZ2luIDwgMCkgPyBNYXRoLm1heCgwLCBpbnB1dC5sZW5ndGggKyBiZWdpbikgOiBiZWdpbjtcclxuXHJcbiAgICBpZiAobGltaXQgPj0gMCkge1xyXG4gICAgICByZXR1cm4gaW5wdXQuc2xpY2UoYmVnaW4sIGJlZ2luICsgbGltaXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGJlZ2luID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0LnNsaWNlKGxpbWl0LCBpbnB1dC5sZW5ndGgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBpbnB1dC5zbGljZShNYXRoLm1heCgwLCBiZWdpbiArIGxpbWl0KSwgYmVnaW4pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmaWx0ZXJcclxuICogQG5hbWUgb3JkZXJCeVxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogT3JkZXJzIGEgc3BlY2lmaWVkIGBhcnJheWAgYnkgdGhlIGBleHByZXNzaW9uYCBwcmVkaWNhdGUuIEl0IGlzIG9yZGVyZWQgYWxwaGFiZXRpY2FsbHlcclxuICogZm9yIHN0cmluZ3MgYW5kIG51bWVyaWNhbGx5IGZvciBudW1iZXJzLiBOb3RlOiBpZiB5b3Ugbm90aWNlIG51bWJlcnMgYXJlIG5vdCBiZWluZyBzb3J0ZWRcclxuICogYXMgZXhwZWN0ZWQsIG1ha2Ugc3VyZSB0aGV5IGFyZSBhY3R1YWxseSBiZWluZyBzYXZlZCBhcyBudW1iZXJzIGFuZCBub3Qgc3RyaW5ncy5cclxuICogQXJyYXktbGlrZSB2YWx1ZXMgKGUuZy4gTm9kZUxpc3RzLCBqUXVlcnkgb2JqZWN0cywgVHlwZWRBcnJheXMsIFN0cmluZ3MsIGV0YykgYXJlIGFsc28gc3VwcG9ydGVkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSB0byBzb3J0LlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCopfHN0cmluZ3xBcnJheS48KGZ1bmN0aW9uKCopfHN0cmluZyk+PX0gZXhwcmVzc2lvbiBBIHByZWRpY2F0ZSB0byBiZVxyXG4gKiAgICB1c2VkIGJ5IHRoZSBjb21wYXJhdG9yIHRvIGRldGVybWluZSB0aGUgb3JkZXIgb2YgZWxlbWVudHMuXHJcbiAqXHJcbiAqICAgIENhbiBiZSBvbmUgb2Y6XHJcbiAqXHJcbiAqICAgIC0gYGZ1bmN0aW9uYDogR2V0dGVyIGZ1bmN0aW9uLiBUaGUgcmVzdWx0IG9mIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBzb3J0ZWQgdXNpbmcgdGhlXHJcbiAqICAgICAgYDxgLCBgPT09YCwgYD5gIG9wZXJhdG9yLlxyXG4gKiAgICAtIGBzdHJpbmdgOiBBbiBBbmd1bGFyIGV4cHJlc3Npb24uIFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIGlzIHVzZWQgdG8gY29tcGFyZSBlbGVtZW50c1xyXG4gKiAgICAgIChmb3IgZXhhbXBsZSBgbmFtZWAgdG8gc29ydCBieSBhIHByb3BlcnR5IGNhbGxlZCBgbmFtZWAgb3IgYG5hbWUuc3Vic3RyKDAsIDMpYCB0byBzb3J0IGJ5XHJcbiAqICAgICAgMyBmaXJzdCBjaGFyYWN0ZXJzIG9mIGEgcHJvcGVydHkgY2FsbGVkIGBuYW1lYCkuIFRoZSByZXN1bHQgb2YgYSBjb25zdGFudCBleHByZXNzaW9uXHJcbiAqICAgICAgaXMgaW50ZXJwcmV0ZWQgYXMgYSBwcm9wZXJ0eSBuYW1lIHRvIGJlIHVzZWQgaW4gY29tcGFyaXNvbnMgKGZvciBleGFtcGxlIGBcInNwZWNpYWwgbmFtZVwiYFxyXG4gKiAgICAgIHRvIHNvcnQgb2JqZWN0IGJ5IHRoZSB2YWx1ZSBvZiB0aGVpciBgc3BlY2lhbCBuYW1lYCBwcm9wZXJ0eSkuIEFuIGV4cHJlc3Npb24gY2FuIGJlXHJcbiAqICAgICAgb3B0aW9uYWxseSBwcmVmaXhlZCB3aXRoIGArYCBvciBgLWAgdG8gY29udHJvbCBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZyBzb3J0IG9yZGVyXHJcbiAqICAgICAgKGZvciBleGFtcGxlLCBgK25hbWVgIG9yIGAtbmFtZWApLiBJZiBubyBwcm9wZXJ0eSBpcyBwcm92aWRlZCwgKGUuZy4gYCcrJ2ApIHRoZW4gdGhlIGFycmF5XHJcbiAqICAgICAgZWxlbWVudCBpdHNlbGYgaXMgdXNlZCB0byBjb21wYXJlIHdoZXJlIHNvcnRpbmcuXHJcbiAqICAgIC0gYEFycmF5YDogQW4gYXJyYXkgb2YgZnVuY3Rpb24gb3Igc3RyaW5nIHByZWRpY2F0ZXMuIFRoZSBmaXJzdCBwcmVkaWNhdGUgaW4gdGhlIGFycmF5XHJcbiAqICAgICAgaXMgdXNlZCBmb3Igc29ydGluZywgYnV0IHdoZW4gdHdvIGl0ZW1zIGFyZSBlcXVpdmFsZW50LCB0aGUgbmV4dCBwcmVkaWNhdGUgaXMgdXNlZC5cclxuICpcclxuICogICAgSWYgdGhlIHByZWRpY2F0ZSBpcyBtaXNzaW5nIG9yIGVtcHR5IHRoZW4gaXQgZGVmYXVsdHMgdG8gYCcrJ2AuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHJldmVyc2UgUmV2ZXJzZSB0aGUgb3JkZXIgb2YgdGhlIGFycmF5LlxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IFNvcnRlZCBjb3B5IG9mIHRoZSBzb3VyY2UgYXJyYXkuXHJcbiAqXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBhIHNpbXBsZSBuZ1JlcGVhdCwgd2hlcmUgdGhlIGRhdGEgaXMgc29ydGVkXHJcbiAqIGJ5IGFnZSBpbiBkZXNjZW5kaW5nIG9yZGVyIChwcmVkaWNhdGUgaXMgc2V0IHRvIGAnLWFnZSdgKS5cclxuICogYHJldmVyc2VgIGlzIG5vdCBzZXQsIHdoaWNoIG1lYW5zIGl0IGRlZmF1bHRzIHRvIGBmYWxzZWAuXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZFwiPlxyXG4gICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgIDx0aD5OYW1lPC90aD5cclxuICAgICAgICAgICAgIDx0aD5QaG9uZSBOdW1iZXI8L3RoPlxyXG4gICAgICAgICAgICAgPHRoPkFnZTwvdGg+XHJcbiAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OictYWdlJ1wiPlxyXG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxyXG4gICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ29yZGVyQnlFeGFtcGxlJywgW10pXHJcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPVxyXG4gICAgICAgICAgICAgICBbe25hbWU6J0pvaG4nLCBwaG9uZTonNTU1LTEyMTInLCBhZ2U6MTB9LFxyXG4gICAgICAgICAgICAgICAge25hbWU6J01hcnknLCBwaG9uZTonNTU1LTk4NzYnLCBhZ2U6MTl9LFxyXG4gICAgICAgICAgICAgICAge25hbWU6J01pa2UnLCBwaG9uZTonNTU1LTQzMjEnLCBhZ2U6MjF9LFxyXG4gICAgICAgICAgICAgICAge25hbWU6J0FkYW0nLCBwaG9uZTonNTU1LTU2NzgnLCBhZ2U6MzV9LFxyXG4gICAgICAgICAgICAgICAge25hbWU6J0p1bGllJywgcGhvbmU6JzU1NS04NzY1JywgYWdlOjI5fV07XHJcbiAgICAgICAgIH1dKTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICpcclxuICogVGhlIHByZWRpY2F0ZSBhbmQgcmV2ZXJzZSBwYXJhbWV0ZXJzIGNhbiBiZSBjb250cm9sbGVkIGR5bmFtaWNhbGx5IHRocm91Z2ggc2NvcGUgcHJvcGVydGllcyxcclxuICogYXMgc2hvd24gaW4gdGhlIG5leHQgZXhhbXBsZS5cclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbW9kdWxlPVwib3JkZXJCeUV4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPHByZT5Tb3J0aW5nIHByZWRpY2F0ZSA9IHt7cHJlZGljYXRlfX07IHJldmVyc2UgPSB7e3JldmVyc2V9fTwvcHJlPlxyXG4gICAgICAgICA8aHIvPlxyXG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicHJlZGljYXRlPScnXCI+U2V0IHRvIHVuc29ydGVkPC9idXR0b24+XHJcbiAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZFwiPlxyXG4gICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgPHRoPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIm9yZGVyKCduYW1lJylcIj5OYW1lPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcmVkaWNhdGUgPT09ICduYW1lJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6cmV2ZXJzZX1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgIDx0aD5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJvcmRlcigncGhvbmUnKVwiPlBob25lIE51bWJlcjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJlZGljYXRlID09PSAncGhvbmUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTpyZXZlcnNlfVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgPHRoPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIm9yZGVyKCdhZ2UnKVwiPkFnZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJlZGljYXRlID09PSAnYWdlJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6cmV2ZXJzZX1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OnByZWRpY2F0ZTpyZXZlcnNlXCI+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cclxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cclxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5hZ2V9fTwvdGQ+XHJcbiAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgPC90YWJsZT5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9XHJcbiAgICAgICAgICAgICAgIFt7bmFtZTonSm9obicsIHBob25lOic1NTUtMTIxMicsIGFnZToxMH0sXHJcbiAgICAgICAgICAgICAgICB7bmFtZTonTWFyeScsIHBob25lOic1NTUtOTg3NicsIGFnZToxOX0sXHJcbiAgICAgICAgICAgICAgICB7bmFtZTonTWlrZScsIHBob25lOic1NTUtNDMyMScsIGFnZToyMX0sXHJcbiAgICAgICAgICAgICAgICB7bmFtZTonQWRhbScsIHBob25lOic1NTUtNTY3OCcsIGFnZTozNX0sXHJcbiAgICAgICAgICAgICAgICB7bmFtZTonSnVsaWUnLCBwaG9uZTonNTU1LTg3NjUnLCBhZ2U6Mjl9XTtcclxuICAgICAgICAgICAkc2NvcGUucHJlZGljYXRlID0gJ2FnZSc7XHJcbiAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICRzY29wZS5vcmRlciA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xyXG4gICAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSAoJHNjb3BlLnByZWRpY2F0ZSA9PT0gcHJlZGljYXRlKSA/ICEkc2NvcGUucmV2ZXJzZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgJHNjb3BlLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcclxuICAgICAgICAgICB9O1xyXG4gICAgICAgICB9XSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAuc29ydG9yZGVyOmFmdGVyIHtcclxuICAgICAgICAgY29udGVudDogJ1xcMjViMic7XHJcbiAgICAgICB9XHJcbiAgICAgICAuc29ydG9yZGVyLnJldmVyc2U6YWZ0ZXIge1xyXG4gICAgICAgICBjb250ZW50OiAnXFwyNWJjJztcclxuICAgICAgIH1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICpcclxuICogSXQncyBhbHNvIHBvc3NpYmxlIHRvIGNhbGwgdGhlIG9yZGVyQnkgZmlsdGVyIG1hbnVhbGx5LCBieSBpbmplY3RpbmcgYCRmaWx0ZXJgLCByZXRyaWV2aW5nIHRoZVxyXG4gKiBmaWx0ZXIgcm91dGluZSB3aXRoIGAkZmlsdGVyKCdvcmRlckJ5JylgLCBhbmQgY2FsbGluZyB0aGUgcmV0dXJuZWQgZmlsdGVyIHJvdXRpbmUgd2l0aCB0aGVcclxuICogZGVzaXJlZCBwYXJhbWV0ZXJzLlxyXG4gKlxyXG4gKiBFeGFtcGxlOlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gIDxleGFtcGxlIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgPHByZT5Tb3J0aW5nIHByZWRpY2F0ZSA9IHt7cHJlZGljYXRlfX07IHJldmVyc2UgPSB7e3JldmVyc2V9fTwvcHJlPlxyXG4gICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRcIj5cclxuICAgICAgICA8dHI+XHJcbiAgICAgICAgICA8dGg+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIm9yZGVyKCduYW1lJylcIj5OYW1lPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJlZGljYXRlID09PSAnbmFtZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOnJldmVyc2V9XCI+PC9zcGFuPlxyXG4gICAgICAgICAgPC90aD5cclxuICAgICAgICAgIDx0aD5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwib3JkZXIoJ3Bob25lJylcIj5QaG9uZSBOdW1iZXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcmVkaWNhdGUgPT09ICdwaG9uZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOnJldmVyc2V9XCI+PC9zcGFuPlxyXG4gICAgICAgICAgPC90aD5cclxuICAgICAgICAgIDx0aD5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwib3JkZXIoJ2FnZScpXCI+QWdlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJlZGljYXRlID09PSAnYWdlJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6cmV2ZXJzZX1cIj48L3NwYW4+XHJcbiAgICAgICAgICA8L3RoPlxyXG4gICAgICAgIDwvdHI+XHJcbiAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzXCI+XHJcbiAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cclxuICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cclxuICAgICAgICAgIDx0ZD57e2ZyaWVuZC5hZ2V9fTwvdGQ+XHJcbiAgICAgICAgPC90cj5cclxuICAgICAgPC90YWJsZT5cclxuICAgIDwvZGl2PlxyXG4gICAgPC9maWxlPlxyXG5cclxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgYW5ndWxhci5tb2R1bGUoJ29yZGVyQnlFeGFtcGxlJywgW10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGZpbHRlcicsIGZ1bmN0aW9uKCRzY29wZSwgJGZpbHRlcikge1xyXG4gICAgICAgICAgdmFyIG9yZGVyQnkgPSAkZmlsdGVyKCdvcmRlckJ5Jyk7XHJcbiAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IFtcclxuICAgICAgICAgICAgeyBuYW1lOiAnSm9obicsICAgIHBob25lOiAnNTU1LTEyMTInLCAgICBhZ2U6IDEwIH0sXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ01hcnknLCAgICBwaG9uZTogJzU1NS05ODc2JywgICAgYWdlOiAxOSB9LFxyXG4gICAgICAgICAgICB7IG5hbWU6ICdNaWtlJywgICAgcGhvbmU6ICc1NTUtNDMyMScsICAgIGFnZTogMjEgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiAnQWRhbScsICAgIHBob25lOiAnNTU1LTU2NzgnLCAgICBhZ2U6IDM1IH0sXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ0p1bGllJywgICBwaG9uZTogJzU1NS04NzY1JywgICAgYWdlOiAyOSB9XHJcbiAgICAgICAgICBdO1xyXG4gICAgICAgICAgJHNjb3BlLm9yZGVyID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XHJcbiAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gKCRzY29wZS5wcmVkaWNhdGUgPT09IHByZWRpY2F0ZSkgPyAhJHNjb3BlLnJldmVyc2UgOiBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBvcmRlckJ5KCRzY29wZS5mcmllbmRzLCBwcmVkaWNhdGUsICRzY29wZS5yZXZlcnNlKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICAkc2NvcGUub3JkZXIoJ2FnZScsIHRydWUpO1xyXG4gICAgICAgIH1dKTtcclxuICAgIDwvZmlsZT5cclxuXHJcbiAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAuc29ydG9yZGVyOmFmdGVyIHtcclxuICAgICAgICAgY29udGVudDogJ1xcMjViMic7XHJcbiAgICAgICB9XHJcbiAgICAgICAuc29ydG9yZGVyLnJldmVyc2U6YWZ0ZXIge1xyXG4gICAgICAgICBjb250ZW50OiAnXFwyNWJjJztcclxuICAgICAgIH1cclxuICAgIDwvZmlsZT5cclxuPC9leGFtcGxlPlxyXG4gKi9cclxub3JkZXJCeUZpbHRlci4kaW5qZWN0ID0gWyckcGFyc2UnXTtcclxuZnVuY3Rpb24gb3JkZXJCeUZpbHRlcigkcGFyc2UpIHtcclxuICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHNvcnRQcmVkaWNhdGUsIHJldmVyc2VPcmRlcikge1xyXG5cclxuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gYXJyYXk7XHJcbiAgICBpZiAoIWlzQXJyYXlMaWtlKGFycmF5KSkge1xyXG4gICAgICB0aHJvdyBtaW5FcnIoJ29yZGVyQnknKSgnbm90YXJyYXknLCAnRXhwZWN0ZWQgYXJyYXkgYnV0IHJlY2VpdmVkOiB7MH0nLCBhcnJheSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0FycmF5KHNvcnRQcmVkaWNhdGUpKSB7IHNvcnRQcmVkaWNhdGUgPSBbc29ydFByZWRpY2F0ZV07IH1cclxuICAgIGlmIChzb3J0UHJlZGljYXRlLmxlbmd0aCA9PT0gMCkgeyBzb3J0UHJlZGljYXRlID0gWycrJ107IH1cclxuXHJcbiAgICB2YXIgcHJlZGljYXRlcyA9IHByb2Nlc3NQcmVkaWNhdGVzKHNvcnRQcmVkaWNhdGUsIHJldmVyc2VPcmRlcik7XHJcbiAgICAvLyBBZGQgYSBwcmVkaWNhdGUgYXQgdGhlIGVuZCB0aGF0IGV2YWx1YXRlcyB0byB0aGUgZWxlbWVudCBpbmRleC4gVGhpcyBtYWtlcyB0aGVcclxuICAgIC8vIHNvcnQgc3RhYmxlIGFzIGl0IHdvcmtzIGFzIGEgdGllLWJyZWFrZXIgd2hlbiBhbGwgdGhlIGlucHV0IHByZWRpY2F0ZXMgY2Fubm90XHJcbiAgICAvLyBkaXN0aW5ndWlzaCBiZXR3ZWVuIHR3byBlbGVtZW50cy5cclxuICAgIHByZWRpY2F0ZXMucHVzaCh7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB7fTsgfSwgZGVzY2VuZGluZzogcmV2ZXJzZU9yZGVyID8gLTEgOiAxfSk7XHJcblxyXG4gICAgLy8gVGhlIG5leHQgdGhyZWUgbGluZXMgYXJlIGEgdmVyc2lvbiBvZiBhIFN3YXJ0emlhbiBUcmFuc2Zvcm0gaWRpb20gZnJvbSBQZXJsXHJcbiAgICAvLyAoc29tZXRpbWVzIGNhbGxlZCB0aGUgRGVjb3JhdGUtU29ydC1VbmRlY29yYXRlIGlkaW9tKVxyXG4gICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NjaHdhcnR6aWFuX3RyYW5zZm9ybVxyXG4gICAgdmFyIGNvbXBhcmVWYWx1ZXMgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJyYXksIGdldENvbXBhcmlzb25PYmplY3QpO1xyXG4gICAgY29tcGFyZVZhbHVlcy5zb3J0KGRvQ29tcGFyaXNvbik7XHJcbiAgICBhcnJheSA9IGNvbXBhcmVWYWx1ZXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHsgcmV0dXJuIGl0ZW0udmFsdWU7IH0pO1xyXG5cclxuICAgIHJldHVybiBhcnJheTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDb21wYXJpc29uT2JqZWN0KHZhbHVlLCBpbmRleCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgICBwcmVkaWNhdGVWYWx1ZXM6IHByZWRpY2F0ZXMubWFwKGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGdldFByZWRpY2F0ZVZhbHVlKHByZWRpY2F0ZS5nZXQodmFsdWUpLCBpbmRleCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkb0NvbXBhcmlzb24odjEsIHYyKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSAwO1xyXG4gICAgICBmb3IgKHZhciBpbmRleD0wLCBsZW5ndGggPSBwcmVkaWNhdGVzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7ICsraW5kZXgpIHtcclxuICAgICAgICByZXN1bHQgPSBjb21wYXJlKHYxLnByZWRpY2F0ZVZhbHVlc1tpbmRleF0sIHYyLnByZWRpY2F0ZVZhbHVlc1tpbmRleF0pICogcHJlZGljYXRlc1tpbmRleF0uZGVzY2VuZGluZztcclxuICAgICAgICBpZiAocmVzdWx0KSBicmVhaztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIHByb2Nlc3NQcmVkaWNhdGVzKHNvcnRQcmVkaWNhdGUsIHJldmVyc2VPcmRlcikge1xyXG4gICAgcmV2ZXJzZU9yZGVyID0gcmV2ZXJzZU9yZGVyID8gLTEgOiAxO1xyXG4gICAgcmV0dXJuIHNvcnRQcmVkaWNhdGUubWFwKGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xyXG4gICAgICB2YXIgZGVzY2VuZGluZyA9IDEsIGdldCA9IGlkZW50aXR5O1xyXG5cclxuICAgICAgaWYgKGlzRnVuY3Rpb24ocHJlZGljYXRlKSkge1xyXG4gICAgICAgIGdldCA9IHByZWRpY2F0ZTtcclxuICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyhwcmVkaWNhdGUpKSB7XHJcbiAgICAgICAgaWYgKChwcmVkaWNhdGUuY2hhckF0KDApID09ICcrJyB8fCBwcmVkaWNhdGUuY2hhckF0KDApID09ICctJykpIHtcclxuICAgICAgICAgIGRlc2NlbmRpbmcgPSBwcmVkaWNhdGUuY2hhckF0KDApID09ICctJyA/IC0xIDogMTtcclxuICAgICAgICAgIHByZWRpY2F0ZSA9IHByZWRpY2F0ZS5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcmVkaWNhdGUgIT09ICcnKSB7XHJcbiAgICAgICAgICBnZXQgPSAkcGFyc2UocHJlZGljYXRlKTtcclxuICAgICAgICAgIGlmIChnZXQuY29uc3RhbnQpIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IGdldCgpO1xyXG4gICAgICAgICAgICBnZXQgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHsgZ2V0OiBnZXQsIGRlc2NlbmRpbmc6IGRlc2NlbmRpbmcgKiByZXZlcnNlT3JkZXIgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcclxuICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XHJcbiAgICAgIGNhc2UgJ251bWJlcic6IC8qIGZhbGxzIHRocm91Z2ggKi9cclxuICAgICAgY2FzZSAnYm9vbGVhbic6IC8qIGZhbGxzIHRocm91Z2ggKi9cclxuICAgICAgY2FzZSAnc3RyaW5nJzpcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvYmplY3RWYWx1ZSh2YWx1ZSwgaW5kZXgpIHtcclxuICAgIC8vIElmIGB2YWx1ZU9mYCBpcyBhIHZhbGlkIGZ1bmN0aW9uIHVzZSB0aGF0XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlLnZhbHVlT2YgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdmFsdWUgPSB2YWx1ZS52YWx1ZU9mKCk7XHJcbiAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8vIElmIGB0b1N0cmluZ2AgaXMgYSB2YWxpZCBmdW5jdGlvbiBhbmQgbm90IHRoZSBvbmUgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAgdXNlIHRoYXRcclxuICAgIGlmIChoYXNDdXN0b21Ub1N0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvLyBXZSBoYXZlIGEgYmFzaWMgb2JqZWN0IHNvIHdlIHVzZSB0aGUgcG9zaXRpb24gb2YgdGhlIG9iamVjdCBpbiB0aGUgY29sbGVjdGlvblxyXG4gICAgcmV0dXJuIGluZGV4O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0UHJlZGljYXRlVmFsdWUodmFsdWUsIGluZGV4KSB7XHJcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcclxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICB0eXBlID0gJ3N0cmluZyc7XHJcbiAgICAgIHZhbHVlID0gJ251bGwnO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xyXG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIHZhbHVlID0gb2JqZWN0VmFsdWUodmFsdWUsIGluZGV4KTtcclxuICAgIH1cclxuICAgIHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgdHlwZTogdHlwZSB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29tcGFyZSh2MSwgdjIpIHtcclxuICAgIHZhciByZXN1bHQgPSAwO1xyXG4gICAgaWYgKHYxLnR5cGUgPT09IHYyLnR5cGUpIHtcclxuICAgICAgaWYgKHYxLnZhbHVlICE9PSB2Mi52YWx1ZSkge1xyXG4gICAgICAgIHJlc3VsdCA9IHYxLnZhbHVlIDwgdjIudmFsdWUgPyAtMSA6IDE7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlc3VsdCA9IHYxLnR5cGUgPCB2Mi50eXBlID8gLTEgOiAxO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5nRGlyZWN0aXZlKGRpcmVjdGl2ZSkge1xyXG4gIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHtcclxuICAgIGRpcmVjdGl2ZSA9IHtcclxuICAgICAgbGluazogZGlyZWN0aXZlXHJcbiAgICB9O1xyXG4gIH1cclxuICBkaXJlY3RpdmUucmVzdHJpY3QgPSBkaXJlY3RpdmUucmVzdHJpY3QgfHwgJ0FDJztcclxuICByZXR1cm4gdmFsdWVGbihkaXJlY3RpdmUpO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBhXHJcbiAqIEByZXN0cmljdCBFXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBNb2RpZmllcyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgaHRtbCBBIHRhZyBzbyB0aGF0IHRoZSBkZWZhdWx0IGFjdGlvbiBpcyBwcmV2ZW50ZWQgd2hlblxyXG4gKiB0aGUgaHJlZiBhdHRyaWJ1dGUgaXMgZW1wdHkuXHJcbiAqXHJcbiAqIFRoaXMgY2hhbmdlIHBlcm1pdHMgdGhlIGVhc3kgY3JlYXRpb24gb2YgYWN0aW9uIGxpbmtzIHdpdGggdGhlIGBuZ0NsaWNrYCBkaXJlY3RpdmVcclxuICogd2l0aG91dCBjaGFuZ2luZyB0aGUgbG9jYXRpb24gb3IgY2F1c2luZyBwYWdlIHJlbG9hZHMsIGUuZy46XHJcbiAqIGA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJsaXN0LmFkZEl0ZW0oKVwiPkFkZCBJdGVtPC9hPmBcclxuICovXHJcbnZhciBodG1sQW5jaG9yRGlyZWN0aXZlID0gdmFsdWVGbih7XHJcbiAgcmVzdHJpY3Q6ICdFJyxcclxuICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XHJcbiAgICBpZiAoIWF0dHIuaHJlZiAmJiAhYXR0ci54bGlua0hyZWYpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgLy8gSWYgdGhlIGxpbmtlZCBlbGVtZW50IGlzIG5vdCBhbiBhbmNob3IgdGFnIGFueW1vcmUsIGRvIG5vdGhpbmdcclxuICAgICAgICBpZiAoZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gU1ZHQUVsZW1lbnQgZG9lcyBub3QgdXNlIHRoZSBocmVmIGF0dHJpYnV0ZSwgYnV0IHJhdGhlciB0aGUgJ3hsaW5rSHJlZicgYXR0cmlidXRlLlxyXG4gICAgICAgIHZhciBocmVmID0gdG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScgP1xyXG4gICAgICAgICAgICAgICAgICAgJ3hsaW5rOmhyZWYnIDogJ2hyZWYnO1xyXG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgIC8vIGlmIHdlIGhhdmUgbm8gaHJlZiB1cmwsIHRoZW4gZG9uJ3QgbmF2aWdhdGUgYW55d2hlcmUuXHJcbiAgICAgICAgICBpZiAoIWVsZW1lbnQuYXR0cihocmVmKSkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0hyZWZcclxuICogQHJlc3RyaWN0IEFcclxuICogQHByaW9yaXR5IDk5XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2luZyBBbmd1bGFyIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYW4gaHJlZiBhdHRyaWJ1dGUgd2lsbFxyXG4gKiBtYWtlIHRoZSBsaW5rIGdvIHRvIHRoZSB3cm9uZyBVUkwgaWYgdGhlIHVzZXIgY2xpY2tzIGl0IGJlZm9yZVxyXG4gKiBBbmd1bGFyIGhhcyBhIGNoYW5jZSB0byByZXBsYWNlIHRoZSBge3toYXNofX1gIG1hcmt1cCB3aXRoIGl0c1xyXG4gKiB2YWx1ZS4gVW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgbWFya3VwIHRoZSBsaW5rIHdpbGwgYmUgYnJva2VuXHJcbiAqIGFuZCB3aWxsIG1vc3QgbGlrZWx5IHJldHVybiBhIDQwNCBlcnJvci4gVGhlIGBuZ0hyZWZgIGRpcmVjdGl2ZVxyXG4gKiBzb2x2ZXMgdGhpcyBwcm9ibGVtLlxyXG4gKlxyXG4gKiBUaGUgd3Jvbmcgd2F5IHRvIHdyaXRlIGl0OlxyXG4gKiBgYGBodG1sXHJcbiAqIDxhIGhyZWY9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIj5saW5rMTwvYT5cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDpcclxuICogYGBgaHRtbFxyXG4gKiA8YSBuZy1ocmVmPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCI+bGluazE8L2E+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZWxlbWVudCBBXHJcbiAqIEBwYXJhbSB7dGVtcGxhdGV9IG5nSHJlZiBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyB2YXJpb3VzIGNvbWJpbmF0aW9ucyBvZiBgaHJlZmAsIGBuZy1ocmVmYCBhbmQgYG5nLWNsaWNrYCBhdHRyaWJ1dGVzXHJcbiAqIGluIGxpbmtzIGFuZCB0aGVpciBkaWZmZXJlbnQgYmVoYXZpb3JzOlxyXG4gICAgPGV4YW1wbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwidmFsdWVcIiAvPjxiciAvPlxyXG4gICAgICAgIDxhIGlkPVwibGluay0xXCIgaHJlZiBuZy1jbGljaz1cInZhbHVlID0gMVwiPmxpbmsgMTwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz5cclxuICAgICAgICA8YSBpZD1cImxpbmstMlwiIGhyZWY9XCJcIiBuZy1jbGljaz1cInZhbHVlID0gMlwiPmxpbmsgMjwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz5cclxuICAgICAgICA8YSBpZD1cImxpbmstM1wiIG5nLWhyZWY9XCIve3snMTIzJ319XCI+bGluayAzPC9hPiAobGluaywgcmVsb2FkISk8YnIgLz5cclxuICAgICAgICA8YSBpZD1cImxpbmstNFwiIGhyZWY9XCJcIiBuYW1lPVwieHhcIiBuZy1jbGljaz1cInZhbHVlID0gNFwiPmFuY2hvcjwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz5cclxuICAgICAgICA8YSBpZD1cImxpbmstNVwiIG5hbWU9XCJ4eHhcIiBuZy1jbGljaz1cInZhbHVlID0gNVwiPmFuY2hvcjwvYT4gKG5vIGxpbmspPGJyIC8+XHJcbiAgICAgICAgPGEgaWQ9XCJsaW5rLTZcIiBuZy1ocmVmPVwie3t2YWx1ZX19XCI+bGluazwvYT4gKGxpbmssIGNoYW5nZSBsb2NhdGlvbilcclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiB3aXRob3V0IHZhbHVlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTEnKSkuY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzEnKTtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTEnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBocmVmIGVtcHR5IHN0cmluZycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0yJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCcyJyk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0yJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGFuZCBjaGFuZ2UgdXJsIHdoZW4gbmctaHJlZiBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTMnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvTWF0Y2goL1xcLzEyMyQvKTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTMnKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhciBwYWdlLCBzbyB3ZSBuZWVkXHJcbiAgICAgICAgICAvLyB0byB1c2UgYnJvd3Nlci5kcml2ZXIgdG8gZ2V0IHRoZSBiYXNlIHdlYmRyaXZlci5cclxuXHJcbiAgICAgICAgICBicm93c2VyLndhaXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdXJsLm1hdGNoKC9cXC8xMjMkLyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSwgNTAwMCwgJ3BhZ2Ugc2hvdWxkIG5hdmlnYXRlIHRvIC8xMjMnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiBlbXB0eSBzdHJpbmcgYW5kIG5hbWUgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTQnKSkuY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzQnKTtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTQnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBubyBocmVmIGJ1dCBuYW1lIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay01JykpLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCc1Jyk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay01JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKG51bGwpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIG9ubHkgY2hhbmdlIHVybCB3aGVuIG9ubHkgbmctaHJlZicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuY2xlYXIoKTtcclxuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLnNlbmRLZXlzKCc2Jyk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay02JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cXC82JC8pO1xyXG5cclxuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5jbGljaygpO1xyXG5cclxuICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHdlIG5hdmlnYXRlIGF3YXkgZnJvbSBhbiBBbmd1bGFyIHBhZ2UsIHNvIHdlIG5lZWRcclxuICAgICAgICAgIC8vIHRvIHVzZSBicm93c2VyLmRyaXZlciB0byBnZXQgdGhlIGJhc2Ugd2ViZHJpdmVyLlxyXG4gICAgICAgICAgYnJvd3Nlci53YWl0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5kcml2ZXIuZ2V0Q3VycmVudFVybCgpLnRoZW4oZnVuY3Rpb24odXJsKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvNiQvKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9LCA1MDAwLCAncGFnZSBzaG91bGQgbmF2aWdhdGUgdG8gLzYnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nU3JjXHJcbiAqIEByZXN0cmljdCBBXHJcbiAqIEBwcmlvcml0eSA5OVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGEgYHNyY2AgYXR0cmlidXRlIGRvZXNuJ3RcclxuICogd29yayByaWdodDogVGhlIGJyb3dzZXIgd2lsbCBmZXRjaCBmcm9tIHRoZSBVUkwgd2l0aCB0aGUgbGl0ZXJhbFxyXG4gKiB0ZXh0IGB7e2hhc2h9fWAgdW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgZXhwcmVzc2lvbiBpbnNpZGVcclxuICogYHt7aGFzaH19YC4gVGhlIGBuZ1NyY2AgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0uXHJcbiAqXHJcbiAqIFRoZSBidWdneSB3YXkgdG8gd3JpdGUgaXQ6XHJcbiAqIGBgYGh0bWxcclxuICogPGltZyBzcmM9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIiBhbHQ9XCJEZXNjcmlwdGlvblwiLz5cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDpcclxuICogYGBgaHRtbFxyXG4gKiA8aW1nIG5nLXNyYz1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiIGFsdD1cIkRlc2NyaXB0aW9uXCIgLz5cclxuICogYGBgXHJcbiAqXHJcbiAqIEBlbGVtZW50IElNR1xyXG4gKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ1NyYyBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdTcmNzZXRcclxuICogQHJlc3RyaWN0IEFcclxuICogQHByaW9yaXR5IDk5XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2luZyBBbmd1bGFyIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYSBgc3Jjc2V0YCBhdHRyaWJ1dGUgZG9lc24ndFxyXG4gKiB3b3JrIHJpZ2h0OiBUaGUgYnJvd3NlciB3aWxsIGZldGNoIGZyb20gdGhlIFVSTCB3aXRoIHRoZSBsaXRlcmFsXHJcbiAqIHRleHQgYHt7aGFzaH19YCB1bnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBleHByZXNzaW9uIGluc2lkZVxyXG4gKiBge3toYXNofX1gLiBUaGUgYG5nU3Jjc2V0YCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbS5cclxuICpcclxuICogVGhlIGJ1Z2d5IHdheSB0byB3cml0ZSBpdDpcclxuICogYGBgaHRtbFxyXG4gKiA8aW1nIHNyY3NldD1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fSAyeFwiIGFsdD1cIkRlc2NyaXB0aW9uXCIvPlxyXG4gKiBgYGBcclxuICpcclxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxyXG4gKiBgYGBodG1sXHJcbiAqIDxpbWcgbmctc3Jjc2V0PVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19IDJ4XCIgYWx0PVwiRGVzY3JpcHRpb25cIiAvPlxyXG4gKiBgYGBcclxuICpcclxuICogQGVsZW1lbnQgSU1HXHJcbiAqIEBwYXJhbSB7dGVtcGxhdGV9IG5nU3Jjc2V0IGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0Rpc2FibGVkXHJcbiAqIEByZXN0cmljdCBBXHJcbiAqIEBwcmlvcml0eSAxMDBcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFRoaXMgZGlyZWN0aXZlIHNldHMgdGhlIGBkaXNhYmxlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGlmIHRoZVxyXG4gKiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnNpZGUgYG5nRGlzYWJsZWRgIGV2YWx1YXRlcyB0byB0cnV0aHkuXHJcbiAqXHJcbiAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYGRpc2FibGVkYFxyXG4gKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxsYWJlbD5DbGljayBtZSB0byB0b2dnbGU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIj48L2xhYmVsPjxici8+XHJcbiAgICAgICAgPGJ1dHRvbiBuZy1tb2RlbD1cImJ1dHRvblwiIG5nLWRpc2FibGVkPVwiY2hlY2tlZFwiPkJ1dHRvbjwvYnV0dG9uPlxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBidXR0b24nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnYnV0dG9uJykpLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSkudG9CZUZhbHN5KCk7XHJcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBAZWxlbWVudCBJTlBVVFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRGlzYWJsZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcclxuICogICAgIHRoZW4gdGhlIGBkaXNhYmxlZGAgYXR0cmlidXRlIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQ2hlY2tlZFxyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKiBAcHJpb3JpdHkgMTAwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTZXRzIHRoZSBgY2hlY2tlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LCBpZiB0aGUgZXhwcmVzc2lvbiBpbnNpZGUgYG5nQ2hlY2tlZGAgaXMgdHJ1dGh5LlxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgdGhpcyBkaXJlY3RpdmUgc2hvdWxkIG5vdCBiZSB1c2VkIHRvZ2V0aGVyIHdpdGgge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSxcclxuICogYXMgdGhpcyBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yLlxyXG4gKlxyXG4gKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBjaGVja2VkYFxyXG4gKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxsYWJlbD5DaGVjayBtZSB0byBjaGVjayBib3RoOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJtYXN0ZXJcIj48L2xhYmVsPjxici8+XHJcbiAgICAgICAgPGlucHV0IGlkPVwiY2hlY2tTbGF2ZVwiIHR5cGU9XCJjaGVja2JveFwiIG5nLWNoZWNrZWQ9XCJtYXN0ZXJcIiBhcmlhLWxhYmVsPVwiU2xhdmUgaW5wdXRcIj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBib3RoIGNoZWNrQm94ZXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjaGVja1NsYXZlJykpLmdldEF0dHJpYnV0ZSgnY2hlY2tlZCcpKS50b0JlRmFsc3koKTtcclxuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ21hc3RlcicpKS5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2NoZWNrU2xhdmUnKSkuZ2V0QXR0cmlidXRlKCdjaGVja2VkJykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBAZWxlbWVudCBJTlBVVFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2hlY2tlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxyXG4gKiAgICAgdGhlbiB0aGUgYGNoZWNrZWRgIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1JlYWRvbmx5XHJcbiAqIEByZXN0cmljdCBBXHJcbiAqIEBwcmlvcml0eSAxMDBcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFNldHMgdGhlIGByZWFkT25seWAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LCBpZiB0aGUgZXhwcmVzc2lvbiBpbnNpZGUgYG5nUmVhZG9ubHlgIGlzIHRydXRoeS5cclxuICpcclxuICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgcmVhZE9ubHlgXHJcbiAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGxhYmVsPkNoZWNrIG1lIHRvIG1ha2UgdGV4dCByZWFkb25seTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiPjwvbGFiZWw+PGJyLz5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1yZWFkb25seT1cImNoZWNrZWRcIiB2YWx1ZT1cIkknbSBBbmd1bGFyXCIgYXJpYS1sYWJlbD1cIlJlYWRvbmx5IGZpZWxkXCIgLz5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgcmVhZG9ubHkgYXR0cicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdbdHlwZT1cInRleHRcIl0nKSkuZ2V0QXR0cmlidXRlKCdyZWFkb25seScpKS50b0JlRmFsc3koKTtcclxuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnW3R5cGU9XCJ0ZXh0XCJdJykpLmdldEF0dHJpYnV0ZSgncmVhZG9ubHknKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqIEBlbGVtZW50IElOUFVUXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdSZWFkb25seSBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxyXG4gKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSBcInJlYWRvbmx5XCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdTZWxlY3RlZFxyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKiBAcHJpb3JpdHkgMTAwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBTZXRzIHRoZSBgc2VsZWN0ZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCwgaWYgdGhlIGV4cHJlc3Npb24gaW5zaWRlIGBuZ1NlbGVjdGVkYCBpcyB0cnV0aHkuXHJcbiAqXHJcbiAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYHNlbGVjdGVkYFxyXG4gKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxsYWJlbD5DaGVjayBtZSB0byBzZWxlY3Q6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInNlbGVjdGVkXCI+PC9sYWJlbD48YnIvPlxyXG4gICAgICAgIDxzZWxlY3QgYXJpYS1sYWJlbD1cIm5nU2VsZWN0ZWQgZGVtb1wiPlxyXG4gICAgICAgICAgPG9wdGlvbj5IZWxsbyE8L29wdGlvbj5cclxuICAgICAgICAgIDxvcHRpb24gaWQ9XCJncmVldFwiIG5nLXNlbGVjdGVkPVwic2VsZWN0ZWRcIj5HcmVldGluZ3MhPC9vcHRpb24+XHJcbiAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIGl0KCdzaG91bGQgc2VsZWN0IEdyZWV0aW5ncyEnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdncmVldCcpKS5nZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpLnRvQmVGYWxzeSgpO1xyXG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc2VsZWN0ZWQnKSkuY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdncmVldCcpKS5nZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBAZWxlbWVudCBPUFRJT05cclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1NlbGVjdGVkIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXHJcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwic2VsZWN0ZWRcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nT3BlblxyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKiBAcHJpb3JpdHkgMTAwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBTZXRzIHRoZSBgb3BlbmAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LCBpZiB0aGUgZXhwcmVzc2lvbiBpbnNpZGUgYG5nT3BlbmAgaXMgdHJ1dGh5LlxyXG4gKlxyXG4gKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBvcGVuYFxyXG4gKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxsYWJlbD5DaGVjayBtZSBjaGVjayBtdWx0aXBsZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwib3BlblwiPjwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgPGRldGFpbHMgaWQ9XCJkZXRhaWxzXCIgbmctb3Blbj1cIm9wZW5cIj5cclxuICAgICAgICAgICAgPHN1bW1hcnk+U2hvdy9IaWRlIG1lPC9zdW1tYXJ5PlxyXG4gICAgICAgICA8L2RldGFpbHM+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIG9wZW4nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZGV0YWlscycpKS5nZXRBdHRyaWJ1dGUoJ29wZW4nKSkudG9CZUZhbHN5KCk7XHJcbiAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnb3BlbicpKS5jbGljaygpO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZXRhaWxzJykpLmdldEF0dHJpYnV0ZSgnb3BlbicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICpcclxuICogQGVsZW1lbnQgREVUQUlMU1xyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nT3BlbiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxyXG4gKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSBcIm9wZW5cIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxyXG4gKi9cclxuXHJcbnZhciBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyA9IHt9O1xyXG5cclxuLy8gYm9vbGVhbiBhdHRycyBhcmUgZXZhbHVhdGVkXHJcbmZvckVhY2goQk9PTEVBTl9BVFRSLCBmdW5jdGlvbihwcm9wTmFtZSwgYXR0ck5hbWUpIHtcclxuICAvLyBiaW5kaW5nIHRvIG11bHRpcGxlIGlzIG5vdCBzdXBwb3J0ZWRcclxuICBpZiAocHJvcE5hbWUgPT0gXCJtdWx0aXBsZVwiKSByZXR1cm47XHJcblxyXG4gIGZ1bmN0aW9uIGRlZmF1bHRMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgIHNjb3BlLiR3YXRjaChhdHRyW25vcm1hbGl6ZWRdLCBmdW5jdGlvbiBuZ0Jvb2xlYW5BdHRyV2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgYXR0ci4kc2V0KGF0dHJOYW1lLCAhIXZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdmFyIG5vcm1hbGl6ZWQgPSBkaXJlY3RpdmVOb3JtYWxpemUoJ25nLScgKyBhdHRyTmFtZSk7XHJcbiAgdmFyIGxpbmtGbiA9IGRlZmF1bHRMaW5rRm47XHJcblxyXG4gIGlmIChwcm9wTmFtZSA9PT0gJ2NoZWNrZWQnKSB7XHJcbiAgICBsaW5rRm4gPSBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAvLyBlbnN1cmluZyBuZ0NoZWNrZWQgZG9lc24ndCBpbnRlcmZlcmUgd2l0aCBuZ01vZGVsIHdoZW4gYm90aCBhcmUgc2V0IG9uIHRoZSBzYW1lIGlucHV0XHJcbiAgICAgIGlmIChhdHRyLm5nTW9kZWwgIT09IGF0dHJbbm9ybWFsaXplZF0pIHtcclxuICAgICAgICBkZWZhdWx0TGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzW25vcm1hbGl6ZWRdID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICBwcmlvcml0eTogMTAwLFxyXG4gICAgICBsaW5rOiBsaW5rRm5cclxuICAgIH07XHJcbiAgfTtcclxufSk7XHJcblxyXG4vLyBhbGlhc2VkIGlucHV0IGF0dHJzIGFyZSBldmFsdWF0ZWRcclxuZm9yRWFjaChBTElBU0VEX0FUVFIsIGZ1bmN0aW9uKGh0bWxBdHRyLCBuZ0F0dHIpIHtcclxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tuZ0F0dHJdID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwcmlvcml0eTogMTAwLFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgIC8vc3BlY2lhbCBjYXNlIG5nUGF0dGVybiB3aGVuIGEgbGl0ZXJhbCByZWd1bGFyIGV4cHJlc3Npb24gdmFsdWVcclxuICAgICAgICAvL2lzIHVzZWQgYXMgdGhlIGV4cHJlc3Npb24gKHRoaXMgd2F5IHdlIGRvbid0IGhhdmUgdG8gd2F0Y2ggYW55dGhpbmcpLlxyXG4gICAgICAgIGlmIChuZ0F0dHIgPT09IFwibmdQYXR0ZXJuXCIgJiYgYXR0ci5uZ1BhdHRlcm4uY2hhckF0KDApID09IFwiL1wiKSB7XHJcbiAgICAgICAgICB2YXIgbWF0Y2ggPSBhdHRyLm5nUGF0dGVybi5tYXRjaChSRUdFWF9TVFJJTkdfUkVHRVhQKTtcclxuICAgICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgICBhdHRyLiRzZXQoXCJuZ1BhdHRlcm5cIiwgbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0pKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmdBdHRyXSwgZnVuY3Rpb24gbmdBdHRyQWxpYXNXYXRjaEFjdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgYXR0ci4kc2V0KG5nQXR0ciwgdmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcbn0pO1xyXG5cclxuLy8gbmctc3JjLCBuZy1zcmNzZXQsIG5nLWhyZWYgYXJlIGludGVycG9sYXRlZFxyXG5mb3JFYWNoKFsnc3JjJywgJ3NyY3NldCcsICdocmVmJ10sIGZ1bmN0aW9uKGF0dHJOYW1lKSB7XHJcbiAgdmFyIG5vcm1hbGl6ZWQgPSBkaXJlY3RpdmVOb3JtYWxpemUoJ25nLScgKyBhdHRyTmFtZSk7XHJcbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbm9ybWFsaXplZF0gPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHByaW9yaXR5OiA5OSwgLy8gaXQgbmVlZHMgdG8gcnVuIGFmdGVyIHRoZSBhdHRyaWJ1dGVzIGFyZSBpbnRlcnBvbGF0ZWRcclxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICB2YXIgcHJvcE5hbWUgPSBhdHRyTmFtZSxcclxuICAgICAgICAgICAgbmFtZSA9IGF0dHJOYW1lO1xyXG5cclxuICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICdocmVmJyAmJlxyXG4gICAgICAgICAgICB0b1N0cmluZy5jYWxsKGVsZW1lbnQucHJvcCgnaHJlZicpKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJykge1xyXG4gICAgICAgICAgbmFtZSA9ICd4bGlua0hyZWYnO1xyXG4gICAgICAgICAgYXR0ci4kYXR0cltuYW1lXSA9ICd4bGluazpocmVmJztcclxuICAgICAgICAgIHByb3BOYW1lID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF0dHIuJG9ic2VydmUobm9ybWFsaXplZCwgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicpIHtcclxuICAgICAgICAgICAgICBhdHRyLiRzZXQobmFtZSwgbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGF0dHIuJHNldChuYW1lLCB2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgLy8gb24gSUUsIGlmIFwibmc6c3JjXCIgZGlyZWN0aXZlIGRlY2xhcmF0aW9uIGlzIHVzZWQgYW5kIFwic3JjXCIgYXR0cmlidXRlIGRvZXNuJ3QgZXhpc3RcclxuICAgICAgICAgIC8vIHRoZW4gY2FsbGluZyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ZvbycpIGRvZXNuJ3QgZG8gYW55dGhpbmcsIHNvIHdlIG5lZWRcclxuICAgICAgICAgIC8vIHRvIHNldCB0aGUgcHJvcGVydHkgYXMgd2VsbCB0byBhY2hpZXZlIHRoZSBkZXNpcmVkIGVmZmVjdC5cclxuICAgICAgICAgIC8vIHdlIHVzZSBhdHRyW2F0dHJOYW1lXSB2YWx1ZSBzaW5jZSAkc2V0IGNhbiBzYW5pdGl6ZSB0aGUgdXJsLlxyXG4gICAgICAgICAgaWYgKG1zaWUgJiYgcHJvcE5hbWUpIGVsZW1lbnQucHJvcChwcm9wTmFtZSwgYXR0cltuYW1lXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfTtcclxufSk7XHJcblxyXG4vKiBnbG9iYWwgLW51bGxGb3JtQ3RybCwgLVNVQk1JVFRFRF9DTEFTUywgYWRkU2V0VmFsaWRpdHlNZXRob2Q6IHRydWVcclxuICovXHJcbnZhciBudWxsRm9ybUN0cmwgPSB7XHJcbiAgJGFkZENvbnRyb2w6IG5vb3AsXHJcbiAgJCRyZW5hbWVDb250cm9sOiBudWxsRm9ybVJlbmFtZUNvbnRyb2wsXHJcbiAgJHJlbW92ZUNvbnRyb2w6IG5vb3AsXHJcbiAgJHNldFZhbGlkaXR5OiBub29wLFxyXG4gICRzZXREaXJ0eTogbm9vcCxcclxuICAkc2V0UHJpc3RpbmU6IG5vb3AsXHJcbiAgJHNldFN1Ym1pdHRlZDogbm9vcFxyXG59LFxyXG5TVUJNSVRURURfQ0xBU1MgPSAnbmctc3VibWl0dGVkJztcclxuXHJcbmZ1bmN0aW9uIG51bGxGb3JtUmVuYW1lQ29udHJvbChjb250cm9sLCBuYW1lKSB7XHJcbiAgY29udHJvbC4kbmFtZSA9IG5hbWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgdHlwZVxyXG4gKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHByaXN0aW5lIFRydWUgaWYgdXNlciBoYXMgbm90IGludGVyYWN0ZWQgd2l0aCB0aGUgZm9ybSB5ZXQuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGZvcm0uXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHZhbGlkIFRydWUgaWYgYWxsIG9mIHRoZSBjb250YWluaW5nIGZvcm1zIGFuZCBjb250cm9scyBhcmUgdmFsaWQuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGludmFsaWQgVHJ1ZSBpZiBhdCBsZWFzdCBvbmUgY29udGFpbmluZyBjb250cm9sIG9yIGZvcm0gaXMgaW52YWxpZC5cclxuICogQHByb3BlcnR5IHtib29sZWFufSAkcGVuZGluZyBUcnVlIGlmIGF0IGxlYXN0IG9uZSBjb250YWluaW5nIGNvbnRyb2wgb3IgZm9ybSBpcyBwZW5kaW5nLlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRzdWJtaXR0ZWQgVHJ1ZSBpZiB1c2VyIGhhcyBzdWJtaXR0ZWQgdGhlIGZvcm0gZXZlbiBpZiBpdHMgaW52YWxpZC5cclxuICpcclxuICogQHByb3BlcnR5IHtPYmplY3R9ICRlcnJvciBJcyBhbiBvYmplY3QgaGFzaCwgY29udGFpbmluZyByZWZlcmVuY2VzIHRvIGNvbnRyb2xzIG9yXHJcbiAqICBmb3JtcyB3aXRoIGZhaWxpbmcgdmFsaWRhdG9ycywgd2hlcmU6XHJcbiAqXHJcbiAqICAtIGtleXMgYXJlIHZhbGlkYXRpb24gdG9rZW5zIChlcnJvciBuYW1lcyksXHJcbiAqICAtIHZhbHVlcyBhcmUgYXJyYXlzIG9mIGNvbnRyb2xzIG9yIGZvcm1zIHRoYXQgaGF2ZSBhIGZhaWxpbmcgdmFsaWRhdG9yIGZvciBnaXZlbiBlcnJvciBuYW1lLlxyXG4gKlxyXG4gKiAgQnVpbHQtaW4gdmFsaWRhdGlvbiB0b2tlbnM6XHJcbiAqXHJcbiAqICAtIGBlbWFpbGBcclxuICogIC0gYG1heGBcclxuICogIC0gYG1heGxlbmd0aGBcclxuICogIC0gYG1pbmBcclxuICogIC0gYG1pbmxlbmd0aGBcclxuICogIC0gYG51bWJlcmBcclxuICogIC0gYHBhdHRlcm5gXHJcbiAqICAtIGByZXF1aXJlZGBcclxuICogIC0gYHVybGBcclxuICogIC0gYGRhdGVgXHJcbiAqICAtIGBkYXRldGltZWxvY2FsYFxyXG4gKiAgLSBgdGltZWBcclxuICogIC0gYHdlZWtgXHJcbiAqICAtIGBtb250aGBcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIGBGb3JtQ29udHJvbGxlcmAga2VlcHMgdHJhY2sgb2YgYWxsIGl0cyBjb250cm9scyBhbmQgbmVzdGVkIGZvcm1zIGFzIHdlbGwgYXMgdGhlIHN0YXRlIG9mIHRoZW0sXHJcbiAqIHN1Y2ggYXMgYmVpbmcgdmFsaWQvaW52YWxpZCBvciBkaXJ0eS9wcmlzdGluZS5cclxuICpcclxuICogRWFjaCB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gZm9ybX0gZGlyZWN0aXZlIGNyZWF0ZXMgYW4gaW5zdGFuY2VcclxuICogb2YgYEZvcm1Db250cm9sbGVyYC5cclxuICpcclxuICovXHJcbi8vYXNrcyBmb3IgJHNjb3BlIHRvIGZvb2wgdGhlIEJDIGNvbnRyb2xsZXIgbW9kdWxlXHJcbkZvcm1Db250cm9sbGVyLiRpbmplY3QgPSBbJyRlbGVtZW50JywgJyRhdHRycycsICckc2NvcGUnLCAnJGFuaW1hdGUnLCAnJGludGVycG9sYXRlJ107XHJcbmZ1bmN0aW9uIEZvcm1Db250cm9sbGVyKGVsZW1lbnQsIGF0dHJzLCAkc2NvcGUsICRhbmltYXRlLCAkaW50ZXJwb2xhdGUpIHtcclxuICB2YXIgZm9ybSA9IHRoaXMsXHJcbiAgICAgIGNvbnRyb2xzID0gW107XHJcblxyXG4gIC8vIGluaXQgc3RhdGVcclxuICBmb3JtLiRlcnJvciA9IHt9O1xyXG4gIGZvcm0uJCRzdWNjZXNzID0ge307XHJcbiAgZm9ybS4kcGVuZGluZyA9IHVuZGVmaW5lZDtcclxuICBmb3JtLiRuYW1lID0gJGludGVycG9sYXRlKGF0dHJzLm5hbWUgfHwgYXR0cnMubmdGb3JtIHx8ICcnKSgkc2NvcGUpO1xyXG4gIGZvcm0uJGRpcnR5ID0gZmFsc2U7XHJcbiAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlO1xyXG4gIGZvcm0uJHZhbGlkID0gdHJ1ZTtcclxuICBmb3JtLiRpbnZhbGlkID0gZmFsc2U7XHJcbiAgZm9ybS4kc3VibWl0dGVkID0gZmFsc2U7XHJcbiAgZm9ybS4kJHBhcmVudEZvcm0gPSBudWxsRm9ybUN0cmw7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUm9sbGJhY2sgYWxsIGZvcm0gY29udHJvbHMgcGVuZGluZyB1cGRhdGVzIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxyXG4gICAqXHJcbiAgICogVXBkYXRlcyBtYXkgYmUgcGVuZGluZyBieSBhIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBhIHNvbWUgZnV0dXJlXHJcbiAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIFRoaXMgbWV0aG9kIGlzIHR5cGljYWxseSBuZWVkZWQgYnkgdGhlIHJlc2V0IGJ1dHRvbiBvZlxyXG4gICAqIGEgZm9ybSB0aGF0IHVzZXMgYG5nLW1vZGVsLW9wdGlvbnNgIHRvIHBlbmQgdXBkYXRlcy5cclxuICAgKi9cclxuICBmb3JtLiRyb2xsYmFja1ZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xyXG4gICAgICBjb250cm9sLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJGNvbW1pdFZpZXdWYWx1ZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ29tbWl0IGFsbCBmb3JtIGNvbnRyb2xzIHBlbmRpbmcgdXBkYXRlcyB0byB0aGUgYCRtb2RlbFZhbHVlYC5cclxuICAgKlxyXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxyXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiBUaGlzIG1ldGhvZCBpcyByYXJlbHkgbmVlZGVkIGFzIGBOZ01vZGVsQ29udHJvbGxlcmBcclxuICAgKiB1c3VhbGx5IGhhbmRsZXMgY2FsbGluZyB0aGlzIGluIHJlc3BvbnNlIHRvIGlucHV0IGV2ZW50cy5cclxuICAgKi9cclxuICBmb3JtLiRjb21taXRWaWV3VmFsdWUgPSBmdW5jdGlvbigpIHtcclxuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcclxuICAgICAgY29udHJvbC4kY29tbWl0Vmlld1ZhbHVlKCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkYWRkQ29udHJvbFxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb250cm9sIGNvbnRyb2wgb2JqZWN0LCBlaXRoZXIgYSB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlcn0gb3IgYW5cclxuICAgKiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlcn1cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJlZ2lzdGVyIGEgY29udHJvbCB3aXRoIHRoZSBmb3JtLiBJbnB1dCBlbGVtZW50cyB1c2luZyBuZ01vZGVsQ29udHJvbGxlciBkbyB0aGlzIGF1dG9tYXRpY2FsbHlcclxuICAgKiB3aGVuIHRoZXkgYXJlIGxpbmtlZC5cclxuICAgKlxyXG4gICAqIE5vdGUgdGhhdCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY29udHJvbCB3aWxsIG5vdCBiZSByZWZsZWN0ZWQgb24gdGhlIG5ldyBwYXJlbnQgZm9ybS4gVGhpc1xyXG4gICAqIGlzIG5vdCBhbiBpc3N1ZSB3aXRoIG5vcm1hbCB1c2UsIGFzIGZyZXNobHkgY29tcGlsZWQgYW5kIGxpbmtlZCBjb250cm9scyBhcmUgaW4gYSBgJHByaXN0aW5lYFxyXG4gICAqIHN0YXRlLlxyXG4gICAqXHJcbiAgICogSG93ZXZlciwgaWYgdGhlIG1ldGhvZCBpcyB1c2VkIHByb2dyYW1tYXRpY2FsbHksIGZvciBleGFtcGxlIGJ5IGFkZGluZyBkeW5hbWljYWxseSBjcmVhdGVkIGNvbnRyb2xzLFxyXG4gICAqIG9yIGNvbnRyb2xzIHRoYXQgaGF2ZSBiZWVuIHByZXZpb3VzbHkgcmVtb3ZlZCB3aXRob3V0IGRlc3Ryb3lpbmcgdGhlaXIgY29ycmVzcG9uZGluZyBET00gZWxlbWVudCxcclxuICAgKiBpdCdzIHRoZSBkZXZlbG9wZXJzIHJlc3BvbnNpYmlsaXR5IHRvIG1ha2Ugc3VyZSB0aGUgY3VycmVudCBzdGF0ZSBwcm9wYWdhdGVzIHRvIHRoZSBwYXJlbnQgZm9ybS5cclxuICAgKlxyXG4gICAqIEZvciBleGFtcGxlLCBpZiBhbiBpbnB1dCBjb250cm9sIGlzIGFkZGVkIHRoYXQgaXMgYWxyZWFkeSBgJGRpcnR5YCBhbmQgaGFzIGAkZXJyb3JgIHByb3BlcnRpZXMsXHJcbiAgICogY2FsbGluZyBgJHNldERpcnR5KClgIGFuZCBgJHZhbGlkYXRlKClgIGFmdGVyd2FyZHMgd2lsbCBwcm9wYWdhdGUgdGhlIHN0YXRlIHRvIHRoZSBwYXJlbnQgZm9ybS5cclxuICAgKi9cclxuICBmb3JtLiRhZGRDb250cm9sID0gZnVuY3Rpb24oY29udHJvbCkge1xyXG4gICAgLy8gQnJlYWtpbmcgY2hhbmdlIC0gYmVmb3JlLCBpbnB1dHMgd2hvc2UgbmFtZSB3YXMgXCJoYXNPd25Qcm9wZXJ0eVwiIHdlcmUgcXVpZXRseSBpZ25vcmVkXHJcbiAgICAvLyBhbmQgbm90IGFkZGVkIHRvIHRoZSBzY29wZS4gIE5vdyB3ZSB0aHJvdyBhbiBlcnJvci5cclxuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KGNvbnRyb2wuJG5hbWUsICdpbnB1dCcpO1xyXG4gICAgY29udHJvbHMucHVzaChjb250cm9sKTtcclxuXHJcbiAgICBpZiAoY29udHJvbC4kbmFtZSkge1xyXG4gICAgICBmb3JtW2NvbnRyb2wuJG5hbWVdID0gY29udHJvbDtcclxuICAgIH1cclxuXHJcbiAgICBjb250cm9sLiQkcGFyZW50Rm9ybSA9IGZvcm07XHJcbiAgfTtcclxuXHJcbiAgLy8gUHJpdmF0ZSBBUEk6IHJlbmFtZSBhIGZvcm0gY29udHJvbFxyXG4gIGZvcm0uJCRyZW5hbWVDb250cm9sID0gZnVuY3Rpb24oY29udHJvbCwgbmV3TmFtZSkge1xyXG4gICAgdmFyIG9sZE5hbWUgPSBjb250cm9sLiRuYW1lO1xyXG5cclxuICAgIGlmIChmb3JtW29sZE5hbWVdID09PSBjb250cm9sKSB7XHJcbiAgICAgIGRlbGV0ZSBmb3JtW29sZE5hbWVdO1xyXG4gICAgfVxyXG4gICAgZm9ybVtuZXdOYW1lXSA9IGNvbnRyb2w7XHJcbiAgICBjb250cm9sLiRuYW1lID0gbmV3TmFtZTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkcmVtb3ZlQ29udHJvbFxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb250cm9sIGNvbnRyb2wgb2JqZWN0LCBlaXRoZXIgYSB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlcn0gb3IgYW5cclxuICAgKiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlcn1cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIERlcmVnaXN0ZXIgYSBjb250cm9sIGZyb20gdGhlIGZvcm0uXHJcbiAgICpcclxuICAgKiBJbnB1dCBlbGVtZW50cyB1c2luZyBuZ01vZGVsQ29udHJvbGxlciBkbyB0aGlzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGV5IGFyZSBkZXN0cm95ZWQuXHJcbiAgICpcclxuICAgKiBOb3RlIHRoYXQgb25seSB0aGUgcmVtb3ZlZCBjb250cm9sJ3MgdmFsaWRhdGlvbiBzdGF0ZSAoYCRlcnJvcnNgZXRjLikgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlXHJcbiAgICogZm9ybS4gYCRkaXJ0eWAsIGAkc3VibWl0dGVkYCBzdGF0ZXMgd2lsbCBub3QgYmUgY2hhbmdlZCwgYmVjYXVzZSB0aGUgZXhwZWN0ZWQgYmVoYXZpb3IgY2FuIGJlXHJcbiAgICogZGlmZmVyZW50IGZyb20gY2FzZSB0byBjYXNlLiBGb3IgZXhhbXBsZSwgcmVtb3ZpbmcgdGhlIG9ubHkgYCRkaXJ0eWAgY29udHJvbCBmcm9tIGEgZm9ybSBtYXkgb3JcclxuICAgKiBtYXkgbm90IG1lYW4gdGhhdCB0aGUgZm9ybSBpcyBzdGlsbCBgJGRpcnR5YC5cclxuICAgKi9cclxuICBmb3JtLiRyZW1vdmVDb250cm9sID0gZnVuY3Rpb24oY29udHJvbCkge1xyXG4gICAgaWYgKGNvbnRyb2wuJG5hbWUgJiYgZm9ybVtjb250cm9sLiRuYW1lXSA9PT0gY29udHJvbCkge1xyXG4gICAgICBkZWxldGUgZm9ybVtjb250cm9sLiRuYW1lXTtcclxuICAgIH1cclxuICAgIGZvckVhY2goZm9ybS4kcGVuZGluZywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcclxuICAgICAgZm9ybS4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XHJcbiAgICB9KTtcclxuICAgIGZvckVhY2goZm9ybS4kZXJyb3IsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XHJcbiAgICAgIGZvcm0uJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xyXG4gICAgfSk7XHJcbiAgICBmb3JFYWNoKGZvcm0uJCRzdWNjZXNzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xyXG4gICAgICBmb3JtLiRzZXRWYWxpZGl0eShuYW1lLCBudWxsLCBjb250cm9sKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFycmF5UmVtb3ZlKGNvbnRyb2xzLCBjb250cm9sKTtcclxuICAgIGNvbnRyb2wuJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xyXG4gIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0VmFsaWRpdHlcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgdGhlIHZhbGlkaXR5IG9mIGEgZm9ybSBjb250cm9sLlxyXG4gICAqXHJcbiAgICogVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBwYXJlbnQgZm9ybXMuXHJcbiAgICovXHJcbiAgYWRkU2V0VmFsaWRpdHlNZXRob2Qoe1xyXG4gICAgY3RybDogdGhpcyxcclxuICAgICRlbGVtZW50OiBlbGVtZW50LFxyXG4gICAgc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBjb250cm9sbGVyKSB7XHJcbiAgICAgIHZhciBsaXN0ID0gb2JqZWN0W3Byb3BlcnR5XTtcclxuICAgICAgaWYgKCFsaXN0KSB7XHJcbiAgICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IFtjb250cm9sbGVyXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YoY29udHJvbGxlcik7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgbGlzdC5wdXNoKGNvbnRyb2xsZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVuc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBjb250cm9sbGVyKSB7XHJcbiAgICAgIHZhciBsaXN0ID0gb2JqZWN0W3Byb3BlcnR5XTtcclxuICAgICAgaWYgKCFsaXN0KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGFycmF5UmVtb3ZlKGxpc3QsIGNvbnRyb2xsZXIpO1xyXG4gICAgICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBkZWxldGUgb2JqZWN0W3Byb3BlcnR5XTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICRhbmltYXRlOiAkYW5pbWF0ZVxyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0RGlydHlcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gYSBkaXJ0eSBzdGF0ZS5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gYWRkIHRoZSAnbmctZGlydHknIGNsYXNzIGFuZCBzZXQgdGhlIGZvcm0gdG8gYSBkaXJ0eVxyXG4gICAqIHN0YXRlIChuZy1kaXJ0eSBjbGFzcykuIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gcGFyZW50IGZvcm1zLlxyXG4gICAqL1xyXG4gIGZvcm0uJHNldERpcnR5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XHJcbiAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBESVJUWV9DTEFTUyk7XHJcbiAgICBmb3JtLiRkaXJ0eSA9IHRydWU7XHJcbiAgICBmb3JtLiRwcmlzdGluZSA9IGZhbHNlO1xyXG4gICAgZm9ybS4kJHBhcmVudEZvcm0uJHNldERpcnR5KCk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFByaXN0aW5lXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyBwcmlzdGluZSBzdGF0ZS5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSAnbmctZGlydHknIGNsYXNzIGFuZCBzZXQgdGhlIGZvcm0gdG8gaXRzIHByaXN0aW5lXHJcbiAgICogc3RhdGUgKG5nLXByaXN0aW5lIGNsYXNzKS4gVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBhbGwgdGhlIGNvbnRyb2xzIGNvbnRhaW5lZFxyXG4gICAqIGluIHRoaXMgZm9ybS5cclxuICAgKlxyXG4gICAqIFNldHRpbmcgYSBmb3JtIGJhY2sgdG8gYSBwcmlzdGluZSBzdGF0ZSBpcyBvZnRlbiB1c2VmdWwgd2hlbiB3ZSB3YW50IHRvICdyZXVzZScgYSBmb3JtIGFmdGVyXHJcbiAgICogc2F2aW5nIG9yIHJlc2V0dGluZyBpdC5cclxuICAgKi9cclxuICBmb3JtLiRzZXRQcmlzdGluZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJGFuaW1hdGUuc2V0Q2xhc3MoZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MsIERJUlRZX0NMQVNTICsgJyAnICsgU1VCTUlUVEVEX0NMQVNTKTtcclxuICAgIGZvcm0uJGRpcnR5ID0gZmFsc2U7XHJcbiAgICBmb3JtLiRwcmlzdGluZSA9IHRydWU7XHJcbiAgICBmb3JtLiRzdWJtaXR0ZWQgPSBmYWxzZTtcclxuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcclxuICAgICAgY29udHJvbC4kc2V0UHJpc3RpbmUoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRVbnRvdWNoZWRcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIHVudG91Y2hlZCBzdGF0ZS5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSAnbmctdG91Y2hlZCcgY2xhc3MgYW5kIHNldCB0aGUgZm9ybSBjb250cm9scyB0byB0aGVpclxyXG4gICAqIHVudG91Y2hlZCBzdGF0ZSAobmctdW50b3VjaGVkIGNsYXNzKS5cclxuICAgKlxyXG4gICAqIFNldHRpbmcgYSBmb3JtIGNvbnRyb2xzIGJhY2sgdG8gdGhlaXIgdW50b3VjaGVkIHN0YXRlIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHNldHRpbmcgdGhlIGZvcm1cclxuICAgKiBiYWNrIHRvIGl0cyBwcmlzdGluZSBzdGF0ZS5cclxuICAgKi9cclxuICBmb3JtLiRzZXRVbnRvdWNoZWQgPSBmdW5jdGlvbigpIHtcclxuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcclxuICAgICAgY29udHJvbC4kc2V0VW50b3VjaGVkKCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0U3VibWl0dGVkXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyBzdWJtaXR0ZWQgc3RhdGUuXHJcbiAgICovXHJcbiAgZm9ybS4kc2V0U3VibWl0dGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBTVUJNSVRURURfQ0xBU1MpO1xyXG4gICAgZm9ybS4kc3VibWl0dGVkID0gdHJ1ZTtcclxuICAgIGZvcm0uJCRwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKTtcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0Zvcm1cclxuICogQHJlc3RyaWN0IEVBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogTmVzdGFibGUgYWxpYXMgb2Yge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGBmb3JtYH0gZGlyZWN0aXZlLiBIVE1MXHJcbiAqIGRvZXMgbm90IGFsbG93IG5lc3Rpbmcgb2YgZm9ybSBlbGVtZW50cy4gSXQgaXMgdXNlZnVsIHRvIG5lc3QgZm9ybXMsIGZvciBleGFtcGxlIGlmIHRoZSB2YWxpZGl0eSBvZiBhXHJcbiAqIHN1Yi1ncm91cCBvZiBjb250cm9scyBuZWVkcyB0byBiZSBkZXRlcm1pbmVkLlxyXG4gKlxyXG4gKiBOb3RlOiB0aGUgcHVycG9zZSBvZiBgbmdGb3JtYCBpcyB0byBncm91cCBjb250cm9scyxcclxuICogYnV0IG5vdCB0byBiZSBhIHJlcGxhY2VtZW50IGZvciB0aGUgYDxmb3JtPmAgdGFnIHdpdGggYWxsIG9mIGl0cyBjYXBhYmlsaXRpZXNcclxuICogKGUuZy4gcG9zdGluZyB0byB0aGUgc2VydmVyLCAuLi4pLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nRm9ybXxuYW1lIE5hbWUgb2YgdGhlIGZvcm0uIElmIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCBpbnRvXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkIHNjb3BlLCB1bmRlciB0aGlzIG5hbWUuXHJcbiAqXHJcbiAqL1xyXG5cclxuIC8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIGZvcm1cclxuICogQHJlc3RyaWN0IEVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERpcmVjdGl2ZSB0aGF0IGluc3RhbnRpYXRlc1xyXG4gKiB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlciBGb3JtQ29udHJvbGxlcn0uXHJcbiAqXHJcbiAqIElmIHRoZSBgbmFtZWAgYXR0cmlidXRlIGlzIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciBpcyBwdWJsaXNoZWQgb250byB0aGUgY3VycmVudCBzY29wZSB1bmRlclxyXG4gKiB0aGlzIG5hbWUuXHJcbiAqXHJcbiAqICMgQWxpYXM6IHtAbGluayBuZy5kaXJlY3RpdmU6bmdGb3JtIGBuZ0Zvcm1gfVxyXG4gKlxyXG4gKiBJbiBBbmd1bGFyLCBmb3JtcyBjYW4gYmUgbmVzdGVkLiBUaGlzIG1lYW5zIHRoYXQgdGhlIG91dGVyIGZvcm0gaXMgdmFsaWQgd2hlbiBhbGwgb2YgdGhlIGNoaWxkXHJcbiAqIGZvcm1zIGFyZSB2YWxpZCBhcyB3ZWxsLiBIb3dldmVyLCBicm93c2VycyBkbyBub3QgYWxsb3cgbmVzdGluZyBvZiBgPGZvcm0+YCBlbGVtZW50cywgc29cclxuICogQW5ndWxhciBwcm92aWRlcyB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Zvcm0gYG5nRm9ybWB9IGRpcmVjdGl2ZSwgd2hpY2ggYmVoYXZlcyBpZGVudGljYWxseSB0b1xyXG4gKiBgZm9ybWAgYnV0IGNhbiBiZSBuZXN0ZWQuIE5lc3RlZCBmb3JtcyBjYW4gYmUgdXNlZnVsLCBmb3IgZXhhbXBsZSwgaWYgdGhlIHZhbGlkaXR5IG9mIGEgc3ViLWdyb3VwXHJcbiAqIG9mIGNvbnRyb2xzIG5lZWRzIHRvIGJlIGRldGVybWluZWQuXHJcbiAqXHJcbiAqICMgQ1NTIGNsYXNzZXNcclxuICogIC0gYG5nLXZhbGlkYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgdmFsaWQuXHJcbiAqICAtIGBuZy1pbnZhbGlkYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgaW52YWxpZC5cclxuICogIC0gYG5nLXBlbmRpbmdgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwZW5kaW5nLlxyXG4gKiAgLSBgbmctcHJpc3RpbmVgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwcmlzdGluZS5cclxuICogIC0gYG5nLWRpcnR5YCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgZGlydHkuXHJcbiAqICAtIGBuZy1zdWJtaXR0ZWRgIGlzIHNldCBpZiB0aGUgZm9ybSB3YXMgc3VibWl0dGVkLlxyXG4gKlxyXG4gKiBLZWVwIGluIG1pbmQgdGhhdCBuZ0FuaW1hdGUgY2FuIGRldGVjdCBlYWNoIG9mIHRoZXNlIGNsYXNzZXMgd2hlbiBhZGRlZCBhbmQgcmVtb3ZlZC5cclxuICpcclxuICpcclxuICogIyBTdWJtaXR0aW5nIGEgZm9ybSBhbmQgcHJldmVudGluZyB0aGUgZGVmYXVsdCBhY3Rpb25cclxuICpcclxuICogU2luY2UgdGhlIHJvbGUgb2YgZm9ybXMgaW4gY2xpZW50LXNpZGUgQW5ndWxhciBhcHBsaWNhdGlvbnMgaXMgZGlmZmVyZW50IHRoYW4gaW4gY2xhc3NpY2FsXHJcbiAqIHJvdW5kdHJpcCBhcHBzLCBpdCBpcyBkZXNpcmFibGUgZm9yIHRoZSBicm93c2VyIG5vdCB0byB0cmFuc2xhdGUgdGhlIGZvcm0gc3VibWlzc2lvbiBpbnRvIGEgZnVsbFxyXG4gKiBwYWdlIHJlbG9hZCB0aGF0IHNlbmRzIHRoZSBkYXRhIHRvIHRoZSBzZXJ2ZXIuIEluc3RlYWQgc29tZSBqYXZhc2NyaXB0IGxvZ2ljIHNob3VsZCBiZSB0cmlnZ2VyZWRcclxuICogdG8gaGFuZGxlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaW4gYW4gYXBwbGljYXRpb24tc3BlY2lmaWMgd2F5LlxyXG4gKlxyXG4gKiBGb3IgdGhpcyByZWFzb24sIEFuZ3VsYXIgcHJldmVudHMgdGhlIGRlZmF1bHQgYWN0aW9uIChmb3JtIHN1Ym1pc3Npb24gdG8gdGhlIHNlcnZlcikgdW5sZXNzIHRoZVxyXG4gKiBgPGZvcm0+YCBlbGVtZW50IGhhcyBhbiBgYWN0aW9uYCBhdHRyaWJ1dGUgc3BlY2lmaWVkLlxyXG4gKlxyXG4gKiBZb3UgY2FuIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyB0d28gd2F5cyB0byBzcGVjaWZ5IHdoYXQgamF2YXNjcmlwdCBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuXHJcbiAqIGEgZm9ybSBpcyBzdWJtaXR0ZWQ6XHJcbiAqXHJcbiAqIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH0gZGlyZWN0aXZlIG9uIHRoZSBmb3JtIGVsZW1lbnRcclxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlIG9uIHRoZSBmaXJzdFxyXG4gICogIGJ1dHRvbiBvciBpbnB1dCBmaWVsZCBvZiB0eXBlIHN1Ym1pdCAoaW5wdXRbdHlwZT1zdWJtaXRdKVxyXG4gKlxyXG4gKiBUbyBwcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gb2YgdGhlIGhhbmRsZXIsIHVzZSBvbmx5IG9uZSBvZiB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH1cclxuICogb3Ige0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9IGRpcmVjdGl2ZXMuXHJcbiAqIFRoaXMgaXMgYmVjYXVzZSBvZiB0aGUgZm9sbG93aW5nIGZvcm0gc3VibWlzc2lvbiBydWxlcyBpbiB0aGUgSFRNTCBzcGVjaWZpY2F0aW9uOlxyXG4gKlxyXG4gKiAtIElmIGEgZm9ybSBoYXMgb25seSBvbmUgaW5wdXQgZmllbGQgdGhlbiBoaXR0aW5nIGVudGVyIGluIHRoaXMgZmllbGQgdHJpZ2dlcnMgZm9ybSBzdWJtaXRcclxuICogKGBuZ1N1Ym1pdGApXHJcbiAqIC0gaWYgYSBmb3JtIGhhcyAyKyBpbnB1dCBmaWVsZHMgYW5kIG5vIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW4gaGl0dGluZyBlbnRlclxyXG4gKiBkb2Vzbid0IHRyaWdnZXIgc3VibWl0XHJcbiAqIC0gaWYgYSBmb3JtIGhhcyBvbmUgb3IgbW9yZSBpbnB1dCBmaWVsZHMgYW5kIG9uZSBvciBtb3JlIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW5cclxuICogaGl0dGluZyBlbnRlciBpbiBhbnkgb2YgdGhlIGlucHV0IGZpZWxkcyB3aWxsIHRyaWdnZXIgdGhlIGNsaWNrIGhhbmRsZXIgb24gdGhlICpmaXJzdCogYnV0dG9uIG9yXHJcbiAqIGlucHV0W3R5cGU9c3VibWl0XSAoYG5nQ2xpY2tgKSAqYW5kKiBhIHN1Ym1pdCBoYW5kbGVyIG9uIHRoZSBlbmNsb3NpbmcgZm9ybSAoYG5nU3VibWl0YClcclxuICpcclxuICogQW55IHBlbmRpbmcgYG5nTW9kZWxPcHRpb25zYCBjaGFuZ2VzIHdpbGwgdGFrZSBwbGFjZSBpbW1lZGlhdGVseSB3aGVuIGFuIGVuY2xvc2luZyBmb3JtIGlzXHJcbiAqIHN1Ym1pdHRlZC4gTm90ZSB0aGF0IGBuZ0NsaWNrYCBldmVudHMgd2lsbCBvY2N1ciBiZWZvcmUgdGhlIG1vZGVsIGlzIHVwZGF0ZWQuIFVzZSBgbmdTdWJtaXRgXHJcbiAqIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSB1cGRhdGVkIG1vZGVsLlxyXG4gKlxyXG4gKiAjIyBBbmltYXRpb24gSG9va3NcclxuICpcclxuICogQW5pbWF0aW9ucyBpbiBuZ0Zvcm0gYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWQuXHJcbiAqIFRoZXNlIGNsYXNzZXMgYXJlOiBgLm5nLXByaXN0aW5lYCwgYC5uZy1kaXJ0eWAsIGAubmctaW52YWxpZGAgYW5kIGAubmctdmFsaWRgIGFzIHdlbGwgYXMgYW55XHJcbiAqIG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCB3aXRoaW4gdGhlIGZvcm0uIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSBzaW1pbGFyIHRvIGhvd1xyXG4gKiB0aGV5IHdvcmsgaW4gbmdDbGFzcyBhbmQgYW5pbWF0aW9ucyBjYW4gYmUgaG9va2VkIGludG8gdXNpbmcgQ1NTIHRyYW5zaXRpb25zLCBrZXlmcmFtZXMgYXMgd2VsbFxyXG4gKiBhcyBKUyBhbmltYXRpb25zLlxyXG4gKlxyXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBzaW1wbGUgd2F5IHRvIHV0aWxpemUgQ1NTIHRyYW5zaXRpb25zIHRvIHN0eWxlIGEgZm9ybSBlbGVtZW50XHJcbiAqIHRoYXQgaGFzIGJlZW4gcmVuZGVyZWQgYXMgaW52YWxpZCBhZnRlciBpdCBoYXMgYmVlbiB2YWxpZGF0ZWQ6XHJcbiAqXHJcbiAqIDxwcmU+XHJcbiAqIC8vYmUgc3VyZSB0byBpbmNsdWRlIG5nQW5pbWF0ZSBhcyBhIG1vZHVsZSB0byBob29rIGludG8gbW9yZVxyXG4gKiAvL2FkdmFuY2VkIGFuaW1hdGlvbnNcclxuICogLm15LWZvcm0ge1xyXG4gKiAgIHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xyXG4gKiAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gKiB9XHJcbiAqIC5teS1mb3JtLm5nLWludmFsaWQge1xyXG4gKiAgIGJhY2tncm91bmQ6IHJlZDtcclxuICogICBjb2xvcjp3aGl0ZTtcclxuICogfVxyXG4gKiA8L3ByZT5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIGZpeEJhc2U9XCJ0cnVlXCIgbW9kdWxlPVwiZm9ybUV4YW1wbGVcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdmb3JtRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdGb3JtQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUudXNlclR5cGUgPSAnZ3Vlc3QnO1xyXG4gICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgPHN0eWxlPlxyXG4gICAgICAgIC5teS1mb3JtIHtcclxuICAgICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xyXG4gICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5teS1mb3JtLm5nLWludmFsaWQge1xyXG4gICAgICAgICAgYmFja2dyb3VuZDogcmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkZvcm1Db250cm9sbGVyXCIgY2xhc3M9XCJteS1mb3JtXCI+XHJcbiAgICAgICAgIHVzZXJUeXBlOiA8aW5wdXQgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJ1c2VyVHlwZVwiIHJlcXVpcmVkPlxyXG4gICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5SZXF1aXJlZCE8L3NwYW4+PGJyPlxyXG4gICAgICAgICA8Y29kZT51c2VyVHlwZSA9IHt7dXNlclR5cGV9fTwvY29kZT48YnI+XHJcbiAgICAgICAgIDxjb2RlPm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnI+XHJcbiAgICAgICAgIDxjb2RlPm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvY29kZT48YnI+XHJcbiAgICAgICAgIDxjb2RlPm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvY29kZT48YnI+XHJcbiAgICAgICAgIDxjb2RlPm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC9jb2RlPjxicj5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIHVzZXJUeXBlID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyVHlwZScpKTtcclxuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcclxuXHJcbiAgICAgICAgICBleHBlY3QodXNlclR5cGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2d1ZXN0Jyk7XHJcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgdXNlclR5cGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VzZXJUeXBlJykpO1xyXG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICAgICAgdmFyIHVzZXJJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXJUeXBlJykpO1xyXG5cclxuICAgICAgICAgIHVzZXJJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgdXNlcklucHV0LnNlbmRLZXlzKCcnKTtcclxuXHJcbiAgICAgICAgICBleHBlY3QodXNlclR5cGUuZ2V0VGV4dCgpKS50b0VxdWFsKCd1c2VyVHlwZSA9Jyk7XHJcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIE5hbWUgb2YgdGhlIGZvcm0uIElmIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCBpbnRvXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkIHNjb3BlLCB1bmRlciB0aGlzIG5hbWUuXHJcbiAqL1xyXG52YXIgZm9ybURpcmVjdGl2ZUZhY3RvcnkgPSBmdW5jdGlvbihpc05nRm9ybSkge1xyXG4gIHJldHVybiBbJyR0aW1lb3V0JywgJyRwYXJzZScsIGZ1bmN0aW9uKCR0aW1lb3V0LCAkcGFyc2UpIHtcclxuICAgIHZhciBmb3JtRGlyZWN0aXZlID0ge1xyXG4gICAgICBuYW1lOiAnZm9ybScsXHJcbiAgICAgIHJlc3RyaWN0OiBpc05nRm9ybSA/ICdFQUMnIDogJ0UnLFxyXG4gICAgICByZXF1aXJlOiBbJ2Zvcm0nLCAnXl4/Zm9ybSddLCAvL2ZpcnN0IGlzIHRoZSBmb3JtJ3Mgb3duIGN0cmwsIHNlY29uZCBpcyBhbiBvcHRpb25hbCBwYXJlbnQgZm9ybVxyXG4gICAgICBjb250cm9sbGVyOiBGb3JtQ29udHJvbGxlcixcclxuICAgICAgY29tcGlsZTogZnVuY3Rpb24gbmdGb3JtQ29tcGlsZShmb3JtRWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgIC8vIFNldHVwIGluaXRpYWwgc3RhdGUgb2YgdGhlIGNvbnRyb2xcclxuICAgICAgICBmb3JtRWxlbWVudC5hZGRDbGFzcyhQUklTVElORV9DTEFTUykuYWRkQ2xhc3MoVkFMSURfQ0xBU1MpO1xyXG5cclxuICAgICAgICB2YXIgbmFtZUF0dHIgPSBhdHRyLm5hbWUgPyAnbmFtZScgOiAoaXNOZ0Zvcm0gJiYgYXR0ci5uZ0Zvcm0gPyAnbmdGb3JtJyA6IGZhbHNlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHByZTogZnVuY3Rpb24gbmdGb3JtUHJlTGluayhzY29wZSwgZm9ybUVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250cm9sbGVyID0gY3RybHNbMF07XHJcblxyXG4gICAgICAgICAgICAvLyBpZiBgYWN0aW9uYCBhdHRyIGlzIG5vdCBwcmVzZW50IG9uIHRoZSBmb3JtLCBwcmV2ZW50IHRoZSBkZWZhdWx0IGFjdGlvbiAoc3VibWlzc2lvbilcclxuICAgICAgICAgICAgaWYgKCEoJ2FjdGlvbicgaW4gYXR0cikpIHtcclxuICAgICAgICAgICAgICAvLyB3ZSBjYW4ndCB1c2UganEgZXZlbnRzIGJlY2F1c2UgaWYgYSBmb3JtIGlzIGRlc3Ryb3llZCBkdXJpbmcgc3VibWlzc2lvbiB0aGUgZGVmYXVsdFxyXG4gICAgICAgICAgICAgIC8vIGFjdGlvbiBpcyBub3QgcHJldmVudGVkLiBzZWUgIzEyMzhcclxuICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgIC8vIElFIDkgaXMgbm90IGFmZmVjdGVkIGJlY2F1c2UgaXQgZG9lc24ndCBmaXJlIGEgc3VibWl0IGV2ZW50IGFuZCB0cnkgdG8gZG8gYSBmdWxsXHJcbiAgICAgICAgICAgICAgLy8gcGFnZSByZWxvYWQgaWYgdGhlIGZvcm0gd2FzIGRlc3Ryb3llZCBieSBzdWJtaXNzaW9uIG9mIHRoZSBmb3JtIHZpYSBhIGNsaWNrIGhhbmRsZXJcclxuICAgICAgICAgICAgICAvLyBvbiBhIGJ1dHRvbiBpbiB0aGUgZm9ybS4gTG9va3MgbGlrZSBhbiBJRTkgc3BlY2lmaWMgYnVnLlxyXG4gICAgICAgICAgICAgIHZhciBoYW5kbGVGb3JtU3VibWlzc2lvbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJGNvbW1pdFZpZXdWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLiRzZXRTdWJtaXR0ZWQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xyXG5cclxuICAgICAgICAgICAgICAvLyB1bnJlZ2lzdGVyIHRoZSBwcmV2ZW50RGVmYXVsdCBsaXN0ZW5lciBzbyB0aGF0IHdlIGRvbid0IG5vdCBsZWFrIG1lbW9yeSBidXQgaW4gYVxyXG4gICAgICAgICAgICAgIC8vIHdheSB0aGF0IHdpbGwgYWNoaWV2ZSB0aGUgcHJldmVudGlvbiBvZiB0aGUgZGVmYXVsdCBhY3Rpb24uXHJcbiAgICAgICAgICAgICAgZm9ybUVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xyXG4gICAgICAgICAgICAgICAgfSwgMCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcGFyZW50Rm9ybUN0cmwgPSBjdHJsc1sxXSB8fCBjb250cm9sbGVyLiQkcGFyZW50Rm9ybTtcclxuICAgICAgICAgICAgcGFyZW50Rm9ybUN0cmwuJGFkZENvbnRyb2woY29udHJvbGxlcik7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2V0dGVyID0gbmFtZUF0dHIgPyBnZXRTZXR0ZXIoY29udHJvbGxlci4kbmFtZSkgOiBub29wO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5hbWVBdHRyKSB7XHJcbiAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCBjb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICBhdHRyLiRvYnNlcnZlKG5hbWVBdHRyLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIuJG5hbWUgPT09IG5ld1ZhbHVlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2woY29udHJvbGxlciwgbmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyID0gZ2V0U2V0dGVyKGNvbnRyb2xsZXIuJG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCBjb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3JtRWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBjb250cm9sbGVyLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChjb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgZXh0ZW5kKGNvbnRyb2xsZXIsIG51bGxGb3JtQ3RybCk7IC8vc3RvcCBwcm9wYWdhdGluZyBjaGlsZCBkZXN0cnVjdGlvbiBoYW5kbGVycyB1cHdhcmRzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGZvcm1EaXJlY3RpdmU7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0U2V0dGVyKGV4cHJlc3Npb24pIHtcclxuICAgICAgaWYgKGV4cHJlc3Npb24gPT09ICcnKSB7XHJcbiAgICAgICAgLy9jcmVhdGUgYW4gYXNzaWduYWJsZSBleHByZXNzaW9uLCBzbyBmb3JtcyB3aXRoIGFuIGVtcHR5IG5hbWUgY2FuIGJlIHJlbmFtZWQgbGF0ZXJcclxuICAgICAgICByZXR1cm4gJHBhcnNlKCd0aGlzW1wiXCJdJykuYXNzaWduO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAkcGFyc2UoZXhwcmVzc2lvbikuYXNzaWduIHx8IG5vb3A7XHJcbiAgICB9XHJcbiAgfV07XHJcbn07XHJcblxyXG52YXIgZm9ybURpcmVjdGl2ZSA9IGZvcm1EaXJlY3RpdmVGYWN0b3J5KCk7XHJcbnZhciBuZ0Zvcm1EaXJlY3RpdmUgPSBmb3JtRGlyZWN0aXZlRmFjdG9yeSh0cnVlKTtcclxuXHJcbi8qIGdsb2JhbCBWQUxJRF9DTEFTUzogZmFsc2UsXHJcbiAgSU5WQUxJRF9DTEFTUzogZmFsc2UsXHJcbiAgUFJJU1RJTkVfQ0xBU1M6IGZhbHNlLFxyXG4gIERJUlRZX0NMQVNTOiBmYWxzZSxcclxuICBVTlRPVUNIRURfQ0xBU1M6IGZhbHNlLFxyXG4gIFRPVUNIRURfQ0xBU1M6IGZhbHNlLFxyXG4gIG5nTW9kZWxNaW5FcnI6IGZhbHNlLFxyXG4qL1xyXG5cclxuLy8gUmVnZXggY29kZSB3YXMgaW5pdGlhbGx5IG9idGFpbmVkIGZyb20gU08gcHJpb3IgdG8gbW9kaWZpY2F0aW9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMTQzMDcwL2phdmFzY3JpcHQtcmVnZXgtaXNvLWRhdGV0aW1lI2Fuc3dlci0zMTQzMjMxXHJcbnZhciBJU09fREFURV9SRUdFWFAgPSAvXlxcZHs0LH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZFxcLlxcZCsoPzpbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikkLztcclxuLy8gU2VlIHZhbGlkIFVSTHMgaW4gUkZDMzk4NyAoaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NylcclxuLy8gTm90ZTogV2UgYXJlIGJlaW5nIG1vcmUgbGVuaWVudCwgYmVjYXVzZSBicm93c2VycyBhcmUgdG9vLlxyXG4vLyAgIDEuIFNjaGVtZVxyXG4vLyAgIDIuIFNsYXNoZXNcclxuLy8gICAzLiBVc2VybmFtZVxyXG4vLyAgIDQuIFBhc3N3b3JkXHJcbi8vICAgNS4gSG9zdG5hbWVcclxuLy8gICA2LiBQb3J0XHJcbi8vICAgNy4gUGF0aFxyXG4vLyAgIDguIFF1ZXJ5XHJcbi8vICAgOS4gRnJhZ21lbnRcclxuLy8gICAgICAgICAgICAgICAgIDExMTExMTExMTExMTExMTEgMjIyICAgMzMzMzMzICAgIDQ0NDQ0ICAgICAgICA1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTUgICAgNjY2ICAgICA3Nzc3Nzc3NyAgICAgODg4ODg4OCAgICAgOTk5XHJcbnZhciBVUkxfUkVHRVhQID0gL15bYS16XVthLXpcXGQuKy1dKjpcXC8qKD86W146QF0rKD86OlteQF0rKT9AKT8oPzpbXlxcczovPyNdK3xcXFtbYS1mXFxkOl0rXFxdKSg/OjpcXGQrKT8oPzpcXC9bXj8jXSopPyg/OlxcP1teI10qKT8oPzojLiopPyQvaTtcclxudmFyIEVNQUlMX1JFR0VYUCA9IC9eW2EtejAtOSEjJCUmJyorXFwvPT9eX2B7fH1+Li1dK0BbYS16MC05XShbYS16MC05LV0qW2EtejAtOV0pPyhcXC5bYS16MC05XShbYS16MC05LV0qW2EtejAtOV0pPykqJC9pO1xyXG52YXIgTlVNQkVSX1JFR0VYUCA9IC9eXFxzKihcXC18XFwrKT8oXFxkK3woXFxkKihcXC5cXGQqKSkpKFtlRV1bKy1dP1xcZCspP1xccyokLztcclxudmFyIERBVEVfUkVHRVhQID0gL14oXFxkezQsfSktKFxcZHsyfSktKFxcZHsyfSkkLztcclxudmFyIERBVEVUSU1FTE9DQUxfUkVHRVhQID0gL14oXFxkezQsfSktKFxcZFxcZCktKFxcZFxcZClUKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XHJcbnZhciBXRUVLX1JFR0VYUCA9IC9eKFxcZHs0LH0pLVcoXFxkXFxkKSQvO1xyXG52YXIgTU9OVEhfUkVHRVhQID0gL14oXFxkezQsfSktKFxcZFxcZCkkLztcclxudmFyIFRJTUVfUkVHRVhQID0gL14oXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLztcclxuXHJcbnZhciBQQVJUSUFMX1ZBTElEQVRJT05fRVZFTlRTID0gJ2tleWRvd24gd2hlZWwgbW91c2Vkb3duJztcclxudmFyIFBBUlRJQUxfVkFMSURBVElPTl9UWVBFUyA9IGNyZWF0ZU1hcCgpO1xyXG5mb3JFYWNoKCdkYXRlLGRhdGV0aW1lLWxvY2FsLG1vbnRoLHRpbWUsd2Vlaycuc3BsaXQoJywnKSwgZnVuY3Rpb24odHlwZSkge1xyXG4gIFBBUlRJQUxfVkFMSURBVElPTl9UWVBFU1t0eXBlXSA9IHRydWU7XHJcbn0pO1xyXG5cclxudmFyIGlucHV0VHlwZSA9IHtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGlucHV0XHJcbiAgICogQG5hbWUgaW5wdXRbdGV4dF1cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFN0YW5kYXJkIEhUTUwgdGV4dCBpbnB1dCB3aXRoIGFuZ3VsYXIgZGF0YSBiaW5kaW5nLCBpbmhlcml0ZWQgYnkgbW9zdCBvZiB0aGUgYGlucHV0YCBlbGVtZW50cy5cclxuICAgKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxyXG4gICAqICAgIG1pbmxlbmd0aC5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXHJcbiAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXHJcbiAgICogICAgYW55IGxlbmd0aC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXHJcbiAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxyXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cclxuICAgKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcclxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xyXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cclxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xyXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXHJcbiAgICogICAgYWNjb3VudC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cclxuICAgKiAgICBUaGlzIHBhcmFtZXRlciBpcyBpZ25vcmVkIGZvciBpbnB1dFt0eXBlPXBhc3N3b3JkXSBjb250cm9scywgd2hpY2ggd2lsbCBuZXZlciB0cmltIHRoZVxyXG4gICAqICAgIGlucHV0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cInRleHQtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwidGV4dElucHV0RXhhbXBsZVwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3RleHRJbnB1dEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xyXG4gICAgICAgICAgICAgICAgIHRleHQ6ICdndWVzdCcsXHJcbiAgICAgICAgICAgICAgICAgd29yZDogL15cXHMqXFx3KlxccyokL1xyXG4gICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgIDxsYWJlbD5TaW5nbGUgd29yZDpcclxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS50ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICBuZy1wYXR0ZXJuPVwiZXhhbXBsZS53b3JkXCIgcmVxdWlyZWQgbmctdHJpbT1cImZhbHNlXCI+XHJcbiAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5wYXR0ZXJuXCI+XHJcbiAgICAgICAgICAgICAgIFNpbmdsZSB3b3JkIG9ubHkhPC9zcGFuPlxyXG4gICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgIDx0dD50ZXh0ID0ge3tleGFtcGxlLnRleHR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnRleHQnKSk7XHJcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnRleHQnKSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdndWVzdCcpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3RleHQgPScpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbXVsdGkgd29yZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnaGVsbG8gd29ybGQnKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICd0ZXh0JzogdGV4dElucHV0VHlwZSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAgICogQG5hbWUgaW5wdXRbZGF0ZV1cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIElucHV0IHdpdGggZGF0ZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcclxuICAgICAqIHRoZSBIVE1MNSBkYXRlIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxyXG4gICAgICogZGF0ZSBmb3JtYXQgKHl5eXktTU0tZGQpLCBmb3IgZXhhbXBsZTogYDIwMDktMDEtMDZgLiBTaW5jZSBtYW55XHJcbiAgICAgKiBtb2Rlcm4gYnJvd3NlcnMgZG8gbm90IHlldCBzdXBwb3J0IHRoaXMgaW5wdXQgdHlwZSwgaXQgaXMgaW1wb3J0YW50IHRvIHByb3ZpZGUgY3VlcyB0byB1c2VycyBvbiB0aGVcclxuICAgICAqIGV4cGVjdGVkIGlucHV0IGZvcm1hdCB2aWEgYSBwbGFjZWhvbGRlciBvciBsYWJlbC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXHJcbiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLiBUaGlzIG11c3QgYmUgYVxyXG4gICAgICogICB2YWxpZCBJU08gZGF0ZSBzdHJpbmcgKHl5eXktTU0tZGQpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXMgYXR0cmlidXRlXHJcbiAgICAgKiAgIChlLmcuIGBtaW49XCJ7e21pbkRhdGUgfCBkYXRlOid5eXl5LU1NLWRkJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1XHJcbiAgICAgKiAgIGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC4gVGhpcyBtdXN0IGJlXHJcbiAgICAgKiAgIGEgdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzIGF0dHJpYnV0ZVxyXG4gICAgICogICAoZS5nLiBgbWF4PVwie3ttYXhEYXRlIHwgZGF0ZToneXl5eS1NTS1kZCd9fVwiYCkuIE5vdGUgdGhhdCBgbWF4YCB3aWxsIGFsc28gYWRkIG5hdGl2ZSBIVE1MNVxyXG4gICAgICogICBjb25zdHJhaW50IHZhbGlkYXRpb24uXHJcbiAgICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gZGF0ZSBzdHJpbmdcclxuICAgICAqICAgdGhlIGBuZ01pbmAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtaW5gIGF0dHJpYnV0ZS5cclxuICAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyBkYXRlIHN0cmluZ1xyXG4gICAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwiZGF0ZS1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJkYXRlSW5wdXRFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZGF0ZUlucHV0RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTMsIDksIDIyKVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxyXG4gICAgICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBkYXRlIGluIDIwMTM6PC9sYWJlbD5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU0tZGRcIiBtaW49XCIyMDEzLTAxLTAxXCIgbWF4PVwiMjAxMy0xMi0zMVwiIHJlcXVpcmVkIC8+XHJcbiAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLmRhdGVcIj5cclxuICAgICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxyXG4gICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTS1kZFwifX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgPC9mb3JtPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkXCInKSk7XHJcbiAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudmFsdWUnKSk7XHJcblxyXG4gICAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XHJcbiAgICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xyXG4gICAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cclxuICAgICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcclxuICAgICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXHJcbiAgICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXHJcbiAgICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXHJcbiAgICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XHJcbiAgICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLTEwLTIyJyk7XHJcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2V0SW5wdXQoJycpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMS0wMScpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAgICAqL1xyXG4gICdkYXRlJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnZGF0ZScsIERBVEVfUkVHRVhQLFxyXG4gICAgICAgICBjcmVhdGVEYXRlUGFyc2VyKERBVEVfUkVHRVhQLCBbJ3l5eXknLCAnTU0nLCAnZGQnXSksXHJcbiAgICAgICAgICd5eXl5LU1NLWRkJyksXHJcblxyXG4gICAvKipcclxuICAgICogQG5nZG9jIGlucHV0XHJcbiAgICAqIEBuYW1lIGlucHV0W2RhdGV0aW1lLWxvY2FsXVxyXG4gICAgKlxyXG4gICAgKiBAZGVzY3JpcHRpb25cclxuICAgICogSW5wdXQgd2l0aCBkYXRldGltZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcclxuICAgICogdGhlIEhUTUw1IGRhdGUgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxyXG4gICAgKiBsb2NhbCBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLCBmb3IgZXhhbXBsZTogYDIwMTAtMTItMjhUMTQ6NTc6MDBgLlxyXG4gICAgKlxyXG4gICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxyXG4gICAgKlxyXG4gICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXHJcbiAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cclxuICAgICpcclxuICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cclxuICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gZGF0ZXRpbWUgZm9ybWF0ICh5eXl5LU1NLWRkVEhIOm1tOnNzKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uXHJcbiAgICAqICAgaW5zaWRlIHRoaXMgYXR0cmlidXRlIChlLmcuIGBtaW49XCJ7e21pbkRhdGV0aW1lTG9jYWwgfCBkYXRlOid5eXl5LU1NLWRkVEhIOm1tOnNzJ319XCJgKS5cclxuICAgICogICBOb3RlIHRoYXQgYG1pbmAgd2lsbCBhbHNvIGFkZCBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuXHJcbiAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvblxyXG4gICAgKiAgIGluc2lkZSB0aGlzIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhEYXRldGltZUxvY2FsIHwgZGF0ZToneXl5eS1NTS1kZFRISDptbTpzcyd9fVwiYCkuXHJcbiAgICAqICAgTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgdG8gdGhlIERhdGUgLyBJU08gZGF0ZXRpbWUgc3RyaW5nXHJcbiAgICAqICAgdGhlIGBuZ01pbmAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtaW5gIGF0dHJpYnV0ZS5cclxuICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgdG8gdGhlIERhdGUgLyBJU08gZGF0ZXRpbWUgc3RyaW5nXHJcbiAgICAqICAgdGhlIGBuZ01heGAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhgIGF0dHJpYnV0ZS5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAgKlxyXG4gICAgKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbmFtZT1cImRhdGV0aW1lbG9jYWwtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZGF0ZUV4YW1wbGVcIj5cclxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2RhdGVFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcclxuICAgICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMjAxMCwgMTEsIDI4LCAxNCwgNTcpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XSk7XHJcbiAgICAgIDwvc2NyaXB0PlxyXG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XHJcbiAgICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBkYXRlIGJldHdlZW4gaW4gMjAxMzo8L2xhYmVsPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBpZD1cImV4YW1wbGVJbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTS1kZFRISDptbTpzc1wiIG1pbj1cIjIwMDEtMDEtMDFUMDA6MDA6MDBcIiBtYXg9XCIyMDEzLTEyLTMxVDAwOjAwOjAwXCIgcmVxdWlyZWQgLz5cclxuICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLmRhdGV0aW1lbG9jYWxcIj5cclxuICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRUSEg6bW06c3NcIn19PC90dD48YnIvPlxyXG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cclxuICAgICAgPC9mb3JtPlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRUSEg6bW06c3NcIicpKTtcclxuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xyXG5cclxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcclxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xyXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cclxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XHJcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cclxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXHJcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xyXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcclxuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEwLTEyLTI4VDE0OjU3OjAwJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNldElucHV0KCcnKTtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMS0wMVQyMzo1OTowMCcpO1xyXG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAgICAqL1xyXG4gICdkYXRldGltZS1sb2NhbCc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ2RhdGV0aW1lbG9jYWwnLCBEQVRFVElNRUxPQ0FMX1JFR0VYUCxcclxuICAgICAgY3JlYXRlRGF0ZVBhcnNlcihEQVRFVElNRUxPQ0FMX1JFR0VYUCwgWyd5eXl5JywgJ01NJywgJ2RkJywgJ0hIJywgJ21tJywgJ3NzJywgJ3NzcyddKSxcclxuICAgICAgJ3l5eXktTU0tZGRUSEg6bW06c3Muc3NzJyksXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAqIEBuYW1lIGlucHV0W3RpbWVdXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBJbnB1dCB3aXRoIHRpbWUgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XHJcbiAgICogdGhlIEhUTUw1IHRpbWUgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxyXG4gICAqIGxvY2FsIHRpbWUgZm9ybWF0IChISDptbTpzcyksIGZvciBleGFtcGxlOiBgMTQ6NTc6MDBgLiBNb2RlbCBtdXN0IGJlIGEgRGF0ZSBvYmplY3QuIFRoaXMgYmluZGluZyB3aWxsIGFsd2F5cyBvdXRwdXQgYVxyXG4gICAqIERhdGUgb2JqZWN0IHRvIHRoZSBtb2RlbCBvZiBKYW51YXJ5IDEsIDE5NzAsIG9yIGxvY2FsIGRhdGUgYG5ldyBEYXRlKDE5NzAsIDAsIDEsIEhILCBtbSwgc3MpYC5cclxuICAgKlxyXG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxyXG4gICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cclxuICAgKlxyXG4gICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcclxuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cclxuICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcclxuICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWluPVwie3ttaW5UaW1lIHwgZGF0ZTonSEg6bW06c3MnfX1cImApLiBOb3RlIHRoYXQgYG1pbmAgd2lsbCBhbHNvIGFkZFxyXG4gICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuXHJcbiAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gdGltZSBmb3JtYXQgKEhIOm1tOnNzKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXHJcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4VGltZSB8IGRhdGU6J0hIOm1tOnNzJ319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGRcclxuICAgKiAgIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXHJcbiAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIHRpbWUgc3RyaW5nIHRoZVxyXG4gICAqICAgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxyXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB0aW1lIHN0cmluZyB0aGVcclxuICAgKiAgIGBuZ01heGAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhgIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cInRpbWUtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwidGltZUV4YW1wbGVcIj5cclxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICA8c2NyaXB0PlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgndGltZUV4YW1wbGUnLCBbXSlcclxuICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgxOTcwLCAwLCAxLCAxNCwgNTcsIDApXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxuICAgICA8L3NjcmlwdD5cclxuICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XHJcbiAgICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSB0aW1lIGJldHdlZW4gOGFtIGFuZCA1cG06PC9sYWJlbD5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cInRpbWVcIiBpZD1cImV4YW1wbGVJbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiSEg6bW06c3NcIiBtaW49XCIwODowMDowMFwiIG1heD1cIjE3OjAwOjAwXCIgcmVxdWlyZWQgLz5cclxuICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnRpbWVcIj5cclxuICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcIkhIOm1tOnNzXCJ9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgPC9mb3JtPlxyXG4gICA8L2ZpbGU+XHJcbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJISDptbTpzc1wiJykpO1xyXG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudmFsdWUnKSk7XHJcblxyXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxyXG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXHJcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxyXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcclxuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxyXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcclxuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXHJcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xyXG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzE0OjU3OjAwJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNldElucHV0KCcnKTtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRJbnB1dCgnMjM6NTk6MDAnKTtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgIH0pO1xyXG4gICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICAndGltZSc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ3RpbWUnLCBUSU1FX1JFR0VYUCxcclxuICAgICAgY3JlYXRlRGF0ZVBhcnNlcihUSU1FX1JFR0VYUCwgWydISCcsICdtbScsICdzcycsICdzc3MnXSksXHJcbiAgICAgJ0hIOm1tOnNzLnNzcycpLFxyXG5cclxuICAgLyoqXHJcbiAgICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAgKiBAbmFtZSBpbnB1dFt3ZWVrXVxyXG4gICAgKlxyXG4gICAgKiBAZGVzY3JpcHRpb25cclxuICAgICogSW5wdXQgd2l0aCB3ZWVrLW9mLXRoZS15ZWFyIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uIHRvIERhdGUuIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XHJcbiAgICAqIHRoZSBIVE1MNSB3ZWVrIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcclxuICAgICogd2VlayBmb3JtYXQgKHl5eXktVyMjKSwgZm9yIGV4YW1wbGU6IGAyMDEzLVcwMmAuXHJcbiAgICAqXHJcbiAgICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxyXG4gICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICAqXHJcbiAgICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcclxuICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxyXG4gICAgKlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxyXG4gICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyB3ZWVrIGZvcm1hdCAoeXl5eS1XIyMpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcclxuICAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluV2VlayB8IGRhdGU6J3l5eXktV3d3J319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGRcclxuICAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuXHJcbiAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIHdlZWsgZm9ybWF0ICh5eXl5LVcjIykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xyXG4gICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhXZWVrIHwgZGF0ZToneXl5eS1Xd3cnfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZFxyXG4gICAgKiAgIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXHJcbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xyXG4gICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXHJcbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xyXG4gICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXHJcbiAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgICpcclxuICAgICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlIG5hbWU9XCJ3ZWVrLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIndlZWtFeGFtcGxlXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8c2NyaXB0PlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnd2Vla0V4YW1wbGUnLCBbXSlcclxuICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCAwLCAzKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcbiAgICAgIDwvc2NyaXB0PlxyXG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XHJcbiAgICAgICAgPGxhYmVsPlBpY2sgYSBkYXRlIGJldHdlZW4gaW4gMjAxMzpcclxuICAgICAgICAgIDxpbnB1dCBpZD1cImV4YW1wbGVJbnB1dFwiIHR5cGU9XCJ3ZWVrXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcclxuICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIllZWVktVyMjXCIgbWluPVwiMjAxMi1XMzJcIlxyXG4gICAgICAgICAgICAgICAgIG1heD1cIjIwMTMtVzUyXCIgcmVxdWlyZWQgLz5cclxuICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3Iud2Vla1wiPlxyXG4gICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1Xd3dcIn19PC90dD48YnIvPlxyXG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cclxuICAgICAgPC9mb3JtPlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCInKSk7XHJcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcclxuICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcclxuXHJcbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XHJcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcclxuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXHJcbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xyXG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXHJcbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xyXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcclxuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XHJcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMy1XMDEnKTtcclxuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2V0SW5wdXQoJycpO1xyXG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcclxuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNldElucHV0KCcyMDE1LVcwMScpO1xyXG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAgICAqL1xyXG4gICd3ZWVrJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnd2VlaycsIFdFRUtfUkVHRVhQLCB3ZWVrUGFyc2VyLCAneXl5eS1Xd3cnKSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGlucHV0XHJcbiAgICogQG5hbWUgaW5wdXRbbW9udGhdXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBJbnB1dCB3aXRoIG1vbnRoIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxyXG4gICAqIHRoZSBIVE1MNSBtb250aCBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXHJcbiAgICogbW9udGggZm9ybWF0ICh5eXl5LU1NKSwgZm9yIGV4YW1wbGU6IGAyMDA5LTAxYC5cclxuICAgKlxyXG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxyXG4gICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cclxuICAgKiBJZiB0aGUgbW9kZWwgaXMgbm90IHNldCB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLCB0aGUgbmV4dCB2aWV3IHRvIG1vZGVsIHVwZGF0ZSB3aWxsIHNldCBpdFxyXG4gICAqIHRvIHRoZSBmaXJzdCBvZiB0aGUgbW9udGguXHJcbiAgICpcclxuICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXHJcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXHJcbiAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gbW9udGggZm9ybWF0ICh5eXl5LU1NKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXHJcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluTW9udGggfCBkYXRlOid5eXl5LU1NJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGRcclxuICAgKiAgIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSkuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xyXG4gICAqICAgYXR0cmlidXRlIChlLmcuIGBtYXg9XCJ7e21heE1vbnRoIHwgZGF0ZToneXl5eS1NTSd9fVwiYCkuIE5vdGUgdGhhdCBgbWF4YCB3aWxsIGFsc28gYWRkXHJcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xyXG4gICAqICAgdGhlIGBuZ01pbmAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtaW5gIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcclxuICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXHJcblxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBuYW1lPVwibW9udGgtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwibW9udGhFeGFtcGxlXCI+XHJcbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgPHNjcmlwdD5cclxuICAgICAgYW5ndWxhci5tb2R1bGUoJ21vbnRoRXhhbXBsZScsIFtdKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTMsIDksIDEpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxuICAgICA8L3NjcmlwdD5cclxuICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XHJcbiAgICAgICA8bGFiZWwgZm9yPVwiZXhhbXBsZUlucHV0XCI+UGljayBhIG1vbnRoIGluIDIwMTM6PC9sYWJlbD5cclxuICAgICAgIDxpbnB1dCBpZD1cImV4YW1wbGVJbnB1dFwiIHR5cGU9XCJtb250aFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU1cIiBtaW49XCIyMDEzLTAxXCIgbWF4PVwiMjAxMy0xMlwiIHJlcXVpcmVkIC8+XHJcbiAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IubW9udGhcIj5cclxuICAgICAgICAgICAgTm90IGEgdmFsaWQgbW9udGghPC9zcGFuPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU1cIn19PC90dD48YnIvPlxyXG4gICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgIDwvZm9ybT5cclxuICAgPC9maWxlPlxyXG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTVwiJykpO1xyXG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudmFsdWUnKSk7XHJcblxyXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxyXG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXHJcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxyXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcclxuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxyXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcclxuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXHJcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xyXG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtMTAnKTtcclxuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2V0SW5wdXQoJycpO1xyXG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcclxuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNldElucHV0KCcyMDE1LTAxJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcclxuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICB9KTtcclxuICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgJ21vbnRoJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnbW9udGgnLCBNT05USF9SRUdFWFAsXHJcbiAgICAgY3JlYXRlRGF0ZVBhcnNlcihNT05USF9SRUdFWFAsIFsneXl5eScsICdNTSddKSxcclxuICAgICAneXl5eS1NTScpLFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgaW5wdXRcclxuICAgKiBAbmFtZSBpbnB1dFtudW1iZXJdXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUZXh0IGlucHV0IHdpdGggbnVtYmVyIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBTZXRzIHRoZSBgbnVtYmVyYCB2YWxpZGF0aW9uXHJcbiAgICogZXJyb3IgaWYgbm90IGEgdmFsaWQgbnVtYmVyLlxyXG4gICAqXHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgb2YgdHlwZSBgbnVtYmVyYCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxyXG4gICAqIEJlIGF3YXJlIHRoYXQgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlciBpcyBub3QgZW5vdWdoLiBTZWUgdGhlIHtAbGluayBuZ01vZGVsOm51bWZtdH1cclxuICAgKiBlcnJvciBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBhbiBleGFtcGxlIG9mIGhvdyB0byBjb252ZXJ0IHlvdXIgbW9kZWwgaWYgbmVjZXNzYXJ5LlxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogIyMgSXNzdWVzIHdpdGggSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uXHJcbiAgICpcclxuICAgKiBJbiBicm93c2VycyB0aGF0IGZvbGxvdyB0aGVcclxuICAgKiBbSFRNTDUgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNudW1iZXItc3RhdGUtJTI4dHlwZT1udW1iZXIlMjkpLFxyXG4gICAqIGBpbnB1dFtudW1iZXJdYCBkb2VzIG5vdCB3b3JrIGFzIGV4cGVjdGVkIHdpdGgge0BsaW5rIG5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9ucy5hbGxvd0ludmFsaWRgfS5cclxuICAgKiBJZiBhIG5vbi1udW1iZXIgaXMgZW50ZXJlZCBpbiB0aGUgaW5wdXQsIHRoZSBicm93c2VyIHdpbGwgcmVwb3J0IHRoZSB2YWx1ZSBhcyBhbiBlbXB0eSBzdHJpbmcsXHJcbiAgICogd2hpY2ggbWVhbnMgdGhlIHZpZXcgLyBtb2RlbCB2YWx1ZXMgaW4gYG5nTW9kZWxgIGFuZCBzdWJzZXF1ZW50bHkgdGhlIHNjb3BlIHZhbHVlXHJcbiAgICogd2lsbCBhbHNvIGJlIGFuIGVtcHR5IHN0cmluZy5cclxuICAgKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXHJcbiAgICogICAgbWlubGVuZ3RoLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cclxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcclxuICAgKiAgICBhbnkgbGVuZ3RoLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGF0dGVybiBTaW1pbGFyIHRvIGBuZ1BhdHRlcm5gIGV4Y2VwdCB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgdGhlIGFjdHVhbCBzdHJpbmdcclxuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXHJcbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSAkdmlld1ZhbHVlfVxyXG4gICAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxyXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxyXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxyXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXHJcbiAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxyXG4gICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXHJcbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cclxuICAgKiAgICBhY2NvdW50LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwibnVtYmVyLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIm51bWJlckV4YW1wbGVcIj5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdudW1iZXJFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcclxuICAgICAgICAgICAgICAgICB2YWx1ZTogMTJcclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8bGFiZWw+TnVtYmVyOlxyXG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIiBtYXg9XCI5OVwiIHJlcXVpcmVkPlxyXG4gICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5udW1iZXJcIj5cclxuICAgICAgICAgICAgICAgTm90IHZhbGlkIG51bWJlciE8L3NwYW4+XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUnKSk7XHJcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcclxuICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJzEyMycpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICdudW1iZXInOiBudW1iZXJJbnB1dFR5cGUsXHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgaW5wdXRcclxuICAgKiBAbmFtZSBpbnB1dFt1cmxdXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUZXh0IGlucHV0IHdpdGggVVJMIHZhbGlkYXRpb24uIFNldHMgdGhlIGB1cmxgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBjb250ZW50IGlzIG5vdCBhXHJcbiAgICogdmFsaWQgVVJMLlxyXG4gICAqXHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgKiAqKk5vdGU6KiogYGlucHV0W3VybF1gIHVzZXMgYSByZWdleCB0byB2YWxpZGF0ZSB1cmxzIHRoYXQgaXMgZGVyaXZlZCBmcm9tIHRoZSByZWdleFxyXG4gICAqIHVzZWQgaW4gQ2hyb21pdW0uIElmIHlvdSBuZWVkIHN0cmljdGVyIHZhbGlkYXRpb24sIHlvdSBjYW4gdXNlIGBuZy1wYXR0ZXJuYCBvciBtb2RpZnlcclxuICAgKiB0aGUgYnVpbHQtaW4gdmFsaWRhdG9ycyAoc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZm9ybXMgRm9ybXMgZ3VpZGV9KVxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxyXG4gICAqICAgIG1pbmxlbmd0aC5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXHJcbiAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXHJcbiAgICogICAgYW55IGxlbmd0aC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXHJcbiAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxyXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cclxuICAgKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcclxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xyXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cclxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xyXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXHJcbiAgICogICAgYWNjb3VudC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cInVybC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ1cmxFeGFtcGxlXCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgndXJsRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLnVybCA9IHtcclxuICAgICAgICAgICAgICAgICB0ZXh0OiAnaHR0cDovL2dvb2dsZS5jb20nXHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgPGxhYmVsPlVSTDpcclxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidXJsXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJ1cmwudGV4dFwiIHJlcXVpcmVkPlxyXG4gICAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci51cmxcIj5cclxuICAgICAgICAgICAgICAgTm90IHZhbGlkIHVybCE8L3NwYW4+XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgPHR0PnRleHQgPSB7e3VybC50ZXh0fX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnVybCA9IHt7ISFteUZvcm0uJGVycm9yLnVybH19PC90dD48YnIvPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICB2YXIgdGV4dCA9IGVsZW1lbnQoYnkuYmluZGluZygndXJsLnRleHQnKSk7XHJcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1cmwudGV4dCcpKTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2h0dHA6Ly9nb29nbGUuY29tJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9FcXVhbCgndGV4dCA9Jyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgdXJsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdib3gnKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICd1cmwnOiB1cmxJbnB1dFR5cGUsXHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgaW5wdXRcclxuICAgKiBAbmFtZSBpbnB1dFtlbWFpbF1cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRleHQgaW5wdXQgd2l0aCBlbWFpbCB2YWxpZGF0aW9uLiBTZXRzIHRoZSBgZW1haWxgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIG5vdCBhIHZhbGlkIGVtYWlsXHJcbiAgICogYWRkcmVzcy5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICogKipOb3RlOioqIGBpbnB1dFtlbWFpbF1gIHVzZXMgYSByZWdleCB0byB2YWxpZGF0ZSBlbWFpbCBhZGRyZXNzZXMgdGhhdCBpcyBkZXJpdmVkIGZyb20gdGhlIHJlZ2V4XHJcbiAgICogdXNlZCBpbiBDaHJvbWl1bS4gSWYgeW91IG5lZWQgc3RyaWN0ZXIgdmFsaWRhdGlvbiAoZS5nLiByZXF1aXJpbmcgYSB0b3AtbGV2ZWwgZG9tYWluKSwgeW91IGNhblxyXG4gICAqIHVzZSBgbmctcGF0dGVybmAgb3IgbW9kaWZ5IHRoZSBidWlsdC1pbiB2YWxpZGF0b3JzIChzZWUgdGhlIHtAbGluayBndWlkZS9mb3JtcyBGb3JtcyBndWlkZX0pXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXHJcbiAgICogICAgbWlubGVuZ3RoLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cclxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcclxuICAgKiAgICBhbnkgbGVuZ3RoLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGF0dGVybiBTaW1pbGFyIHRvIGBuZ1BhdHRlcm5gIGV4Y2VwdCB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgdGhlIGFjdHVhbCBzdHJpbmdcclxuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXHJcbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSAkdmlld1ZhbHVlfVxyXG4gICAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxyXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxyXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxyXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXHJcbiAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxyXG4gICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXHJcbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cclxuICAgKiAgICBhY2NvdW50LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwiZW1haWwtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZW1haWxFeGFtcGxlXCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZW1haWxFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUuZW1haWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgdGV4dDogJ21lQGV4YW1wbGUuY29tJ1xyXG4gICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgICA8bGFiZWw+RW1haWw6XHJcbiAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImVtYWlsLnRleHRcIiByZXF1aXJlZD5cclxuICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5lbWFpbFwiPlxyXG4gICAgICAgICAgICAgICAgIE5vdCB2YWxpZCBlbWFpbCE8L3NwYW4+XHJcbiAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgIDx0dD50ZXh0ID0ge3tlbWFpbC50ZXh0fX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5lbWFpbCA9IHt7ISFteUZvcm0uJGVycm9yLmVtYWlsfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICAgdmFyIHRleHQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2VtYWlsLnRleHQnKSk7XHJcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdlbWFpbC50ZXh0JykpO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignbWVAZXhhbXBsZS5jb20nKTtcclxuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xyXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3RleHQgPScpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbm90IGVtYWlsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCd4eHgnKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICdlbWFpbCc6IGVtYWlsSW5wdXRUeXBlLFxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGlucHV0XHJcbiAgICogQG5hbWUgaW5wdXRbcmFkaW9dXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBIVE1MIHJhZGlvIGJ1dHRvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBgbmdNb2RlbGAgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXHJcbiAgICogICAgTm90ZSB0aGF0IGB2YWx1ZWAgb25seSBzdXBwb3J0cyBgc3RyaW5nYCB2YWx1ZXMsIGkuZS4gdGhlIHNjb3BlIG1vZGVsIG5lZWRzIHRvIGJlIGEgc3RyaW5nLFxyXG4gICAqICAgIHRvby4gVXNlIGBuZ1ZhbHVlYCBpZiB5b3UgbmVlZCBjb21wbGV4IG1vZGVscyAoYG51bWJlcmAsIGBvYmplY3RgLCAuLi4pLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ1ZhbHVlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byB3aGljaCBgbmdNb2RlbGAgd2lsbCBiZSBiZSBzZXQgd2hlbiB0aGUgcmFkaW9cclxuICAgKiAgICBpcyBzZWxlY3RlZC4gU2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgYHZhbHVlYCBhdHRyaWJ1dGUgaWYgeW91IG5lZWRcclxuICAgKiAgICBhIG5vbi1zdHJpbmcgYG5nTW9kZWxgIChgYm9vbGVhbmAsIGBhcnJheWAsIC4uLikuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwicmFkaW8taW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwicmFkaW9FeGFtcGxlXCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncmFkaW9FeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUuY29sb3IgPSB7XHJcbiAgICAgICAgICAgICAgICAgbmFtZTogJ2JsdWUnXHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICRzY29wZS5zcGVjaWFsVmFsdWUgPSB7XHJcbiAgICAgICAgICAgICAgICAgXCJpZFwiOiBcIjEyMzQ1XCIsXHJcbiAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcImdyZWVuXCJcclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgdmFsdWU9XCJyZWRcIj5cclxuICAgICAgICAgICAgIFJlZFxyXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgbmctdmFsdWU9XCJzcGVjaWFsVmFsdWVcIj5cclxuICAgICAgICAgICAgIEdyZWVuXHJcbiAgICAgICAgICAgPC9sYWJlbD48YnIvPlxyXG4gICAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIiB2YWx1ZT1cImJsdWVcIj5cclxuICAgICAgICAgICAgIEJsdWVcclxuICAgICAgICAgICA8L2xhYmVsPjxici8+XHJcbiAgICAgICAgICAgPHR0PmNvbG9yID0ge3tjb2xvci5uYW1lIHwganNvbn19PC90dD48YnIvPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgTm90ZSB0aGF0IGBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiYCBzZXRzIHJhZGlvIGl0ZW0ncyB2YWx1ZSB0byBiZSB0aGUgdmFsdWUgb2YgYCRzY29wZS5zcGVjaWFsVmFsdWVgLlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbG9yLm5hbWUnKSk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoY29sb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2JsdWUnKTtcclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdjb2xvci5uYW1lJykpLmdldCgwKS5jbGljaygpO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KGNvbG9yLmdldFRleHQoKSkudG9Db250YWluKCdyZWQnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICdyYWRpbyc6IHJhZGlvSW5wdXRUeXBlLFxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGlucHV0XHJcbiAgICogQG5hbWUgaW5wdXRbY2hlY2tib3hdXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBIVE1MIGNoZWNrYm94LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ1RydWVWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nRmFsc2VWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIG5vdCBzZWxlY3RlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cImNoZWNrYm94LWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImNoZWNrYm94RXhhbXBsZVwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2NoZWNrYm94RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwgPSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTEgOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWUyIDogJ1lFUydcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgIDxsYWJlbD5WYWx1ZTE6XHJcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2JveE1vZGVsLnZhbHVlMVwiPlxyXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgICA8bGFiZWw+VmFsdWUyOlxyXG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tib3hNb2RlbC52YWx1ZTJcIlxyXG4gICAgICAgICAgICAgICAgICAgIG5nLXRydWUtdmFsdWU9XCInWUVTJ1wiIG5nLWZhbHNlLXZhbHVlPVwiJ05PJ1wiPlxyXG4gICAgICAgICAgICA8L2xhYmVsPjxici8+XHJcbiAgICAgICAgICAgPHR0PnZhbHVlMSA9IHt7Y2hlY2tib3hNb2RlbC52YWx1ZTF9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+dmFsdWUyID0ge3tjaGVja2JveE1vZGVsLnZhbHVlMn19PC90dD48YnIvPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUxID0gZWxlbWVudChieS5iaW5kaW5nKCdjaGVja2JveE1vZGVsLnZhbHVlMScpKTtcclxuICAgICAgICAgICAgdmFyIHZhbHVlMiA9IGVsZW1lbnQoYnkuYmluZGluZygnY2hlY2tib3hNb2RlbC52YWx1ZTInKSk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QodmFsdWUxLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1lFUycpO1xyXG5cclxuICAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tib3hNb2RlbC52YWx1ZTEnKSkuY2xpY2soKTtcclxuICAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tib3hNb2RlbC52YWx1ZTInKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTEuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ05PJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICAnY2hlY2tib3gnOiBjaGVja2JveElucHV0VHlwZSxcclxuXHJcbiAgJ2hpZGRlbic6IG5vb3AsXHJcbiAgJ2J1dHRvbic6IG5vb3AsXHJcbiAgJ3N1Ym1pdCc6IG5vb3AsXHJcbiAgJ3Jlc2V0Jzogbm9vcCxcclxuICAnZmlsZSc6IG5vb3BcclxufTtcclxuXHJcbmZ1bmN0aW9uIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpIHtcclxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSA/IHZhbHVlIDogdmFsdWUudG9TdHJpbmcoKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdGV4dElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XHJcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcclxuICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XHJcbiAgdmFyIHR5cGUgPSBsb3dlcmNhc2UoZWxlbWVudFswXS50eXBlKTtcclxuXHJcbiAgLy8gSW4gY29tcG9zaXRpb24gbW9kZSwgdXNlcnMgYXJlIHN0aWxsIGlucHV0aW5nIGludGVybWVkaWF0ZSB0ZXh0IGJ1ZmZlcixcclxuICAvLyBob2xkIHRoZSBsaXN0ZW5lciB1bnRpbCBjb21wb3NpdGlvbiBpcyBkb25lLlxyXG4gIC8vIE1vcmUgYWJvdXQgY29tcG9zaXRpb24gZXZlbnRzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ29tcG9zaXRpb25FdmVudFxyXG4gIGlmICghJHNuaWZmZXIuYW5kcm9pZCkge1xyXG4gICAgdmFyIGNvbXBvc2luZyA9IGZhbHNlO1xyXG5cclxuICAgIGVsZW1lbnQub24oJ2NvbXBvc2l0aW9uc3RhcnQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgY29tcG9zaW5nID0gdHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIGVsZW1lbnQub24oJ2NvbXBvc2l0aW9uZW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbXBvc2luZyA9IGZhbHNlO1xyXG4gICAgICBsaXN0ZW5lcigpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB2YXIgdGltZW91dDtcclxuXHJcbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXYpIHtcclxuICAgIGlmICh0aW1lb3V0KSB7XHJcbiAgICAgICRicm93c2VyLmRlZmVyLmNhbmNlbCh0aW1lb3V0KTtcclxuICAgICAgdGltZW91dCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAoY29tcG9zaW5nKSByZXR1cm47XHJcbiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbCgpLFxyXG4gICAgICAgIGV2ZW50ID0gZXYgJiYgZXYudHlwZTtcclxuXHJcbiAgICAvLyBCeSBkZWZhdWx0IHdlIHdpbGwgdHJpbSB0aGUgdmFsdWVcclxuICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgbmctdHJpbSBleGlzdHMgd2Ugd2lsbCBhdm9pZCB0cmltbWluZ1xyXG4gICAgLy8gSWYgaW5wdXQgdHlwZSBpcyAncGFzc3dvcmQnLCB0aGUgdmFsdWUgaXMgbmV2ZXIgdHJpbW1lZFxyXG4gICAgaWYgKHR5cGUgIT09ICdwYXNzd29yZCcgJiYgKCFhdHRyLm5nVHJpbSB8fCBhdHRyLm5nVHJpbSAhPT0gJ2ZhbHNlJykpIHtcclxuICAgICAgdmFsdWUgPSB0cmltKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBhIGNvbnRyb2wgaXMgc3VmZmVyaW5nIGZyb20gYmFkIGlucHV0IChkdWUgdG8gbmF0aXZlIHZhbGlkYXRvcnMpLCBicm93c2VycyBkaXNjYXJkIGl0c1xyXG4gICAgLy8gdmFsdWUsIHNvIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gcmV2YWxpZGF0ZSAoYnkgY2FsbGluZyAkc2V0Vmlld1ZhbHVlIGFnYWluKSBldmVuIGlmIHRoZVxyXG4gICAgLy8gY29udHJvbCdzIHZhbHVlIGlzIHRoZSBzYW1lIGVtcHR5IHZhbHVlIHR3aWNlIGluIGEgcm93LlxyXG4gICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmFsdWUgfHwgKHZhbHVlID09PSAnJyAmJiBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykpIHtcclxuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlLCBldmVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gaWYgdGhlIGJyb3dzZXIgZG9lcyBzdXBwb3J0IFwiaW5wdXRcIiBldmVudCwgd2UgYXJlIGZpbmUgLSBleGNlcHQgb24gSUU5IHdoaWNoIGRvZXNuJ3QgZmlyZSB0aGVcclxuICAvLyBpbnB1dCBldmVudCBvbiBiYWNrc3BhY2UsIGRlbGV0ZSBvciBjdXRcclxuICBpZiAoJHNuaWZmZXIuaGFzRXZlbnQoJ2lucHV0JykpIHtcclxuICAgIGVsZW1lbnQub24oJ2lucHV0JywgbGlzdGVuZXIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB2YXIgZGVmZXJMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2LCBpbnB1dCwgb3JpZ1ZhbHVlKSB7XHJcbiAgICAgIGlmICghdGltZW91dCkge1xyXG4gICAgICAgIHRpbWVvdXQgPSAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgaWYgKCFpbnB1dCB8fCBpbnB1dC52YWx1ZSAhPT0gb3JpZ1ZhbHVlKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKGV2KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBlbGVtZW50Lm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgdmFyIGtleSA9IGV2ZW50LmtleUNvZGU7XHJcblxyXG4gICAgICAvLyBpZ25vcmVcclxuICAgICAgLy8gICAgY29tbWFuZCAgICAgICAgICAgIG1vZGlmaWVycyAgICAgICAgICAgICAgICAgICBhcnJvd3NcclxuICAgICAgaWYgKGtleSA9PT0gOTEgfHwgKDE1IDwga2V5ICYmIGtleSA8IDE5KSB8fCAoMzcgPD0ga2V5ICYmIGtleSA8PSA0MCkpIHJldHVybjtcclxuXHJcbiAgICAgIGRlZmVyTGlzdGVuZXIoZXZlbnQsIHRoaXMsIHRoaXMudmFsdWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gaWYgdXNlciBtb2RpZmllcyBpbnB1dCB2YWx1ZSB1c2luZyBjb250ZXh0IG1lbnUgaW4gSUUsIHdlIG5lZWQgXCJwYXN0ZVwiIGFuZCBcImN1dFwiIGV2ZW50cyB0byBjYXRjaCBpdFxyXG4gICAgaWYgKCRzbmlmZmVyLmhhc0V2ZW50KCdwYXN0ZScpKSB7XHJcbiAgICAgIGVsZW1lbnQub24oJ3Bhc3RlIGN1dCcsIGRlZmVyTGlzdGVuZXIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gaWYgdXNlciBwYXN0ZSBpbnRvIGlucHV0IHVzaW5nIG1vdXNlIG9uIG9sZGVyIGJyb3dzZXJcclxuICAvLyBvciBmb3JtIGF1dG9jb21wbGV0ZSBvbiBuZXdlciBicm93c2VyLCB3ZSBuZWVkIFwiY2hhbmdlXCIgZXZlbnQgdG8gY2F0Y2ggaXRcclxuICBlbGVtZW50Lm9uKCdjaGFuZ2UnLCBsaXN0ZW5lcik7XHJcblxyXG4gIC8vIFNvbWUgbmF0aXZlIGlucHV0IHR5cGVzIChkYXRlLWZhbWlseSkgaGF2ZSB0aGUgYWJpbGl0eSB0byBjaGFuZ2UgdmFsaWRpdHkgd2l0aG91dFxyXG4gIC8vIGZpcmluZyBhbnkgaW5wdXQvY2hhbmdlIGV2ZW50cy5cclxuICAvLyBGb3IgdGhlc2UgZXZlbnQgdHlwZXMsIHdoZW4gbmF0aXZlIHZhbGlkYXRvcnMgYXJlIHByZXNlbnQgYW5kIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSB0eXBlLFxyXG4gIC8vIGNoZWNrIGZvciB2YWxpZGl0eSBjaGFuZ2VzIG9uIHZhcmlvdXMgRE9NIGV2ZW50cy5cclxuICBpZiAoUEFSVElBTF9WQUxJREFUSU9OX1RZUEVTW3R5cGVdICYmIGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzICYmIHR5cGUgPT09IGF0dHIudHlwZSkge1xyXG4gICAgZWxlbWVudC5vbihQQVJUSUFMX1ZBTElEQVRJT05fRVZFTlRTLCBmdW5jdGlvbihldikge1xyXG4gICAgICBpZiAoIXRpbWVvdXQpIHtcclxuICAgICAgICB2YXIgdmFsaWRpdHkgPSB0aGlzW1ZBTElESVRZX1NUQVRFX1BST1BFUlRZXTtcclxuICAgICAgICB2YXIgb3JpZ0JhZElucHV0ID0gdmFsaWRpdHkuYmFkSW5wdXQ7XHJcbiAgICAgICAgdmFyIG9yaWdUeXBlTWlzbWF0Y2ggPSB2YWxpZGl0eS50eXBlTWlzbWF0Y2g7XHJcbiAgICAgICAgdGltZW91dCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgICBpZiAodmFsaWRpdHkuYmFkSW5wdXQgIT09IG9yaWdCYWRJbnB1dCB8fCB2YWxpZGl0eS50eXBlTWlzbWF0Y2ggIT09IG9yaWdUeXBlTWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXIoZXYpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gV29ya2Fyb3VuZCBmb3IgRmlyZWZveCB2YWxpZGF0aW9uICMxMjEwMi5cclxuICAgIHZhciB2YWx1ZSA9IGN0cmwuJGlzRW1wdHkoY3RybC4kdmlld1ZhbHVlKSA/ICcnIDogY3RybC4kdmlld1ZhbHVlO1xyXG4gICAgaWYgKGVsZW1lbnQudmFsKCkgIT09IHZhbHVlKSB7XHJcbiAgICAgIGVsZW1lbnQudmFsKHZhbHVlKTtcclxuICAgIH1cclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiB3ZWVrUGFyc2VyKGlzb1dlZWssIGV4aXN0aW5nRGF0ZSkge1xyXG4gIGlmIChpc0RhdGUoaXNvV2VlaykpIHtcclxuICAgIHJldHVybiBpc29XZWVrO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzU3RyaW5nKGlzb1dlZWspKSB7XHJcbiAgICBXRUVLX1JFR0VYUC5sYXN0SW5kZXggPSAwO1xyXG4gICAgdmFyIHBhcnRzID0gV0VFS19SRUdFWFAuZXhlYyhpc29XZWVrKTtcclxuICAgIGlmIChwYXJ0cykge1xyXG4gICAgICB2YXIgeWVhciA9ICtwYXJ0c1sxXSxcclxuICAgICAgICAgIHdlZWsgPSArcGFydHNbMl0sXHJcbiAgICAgICAgICBob3VycyA9IDAsXHJcbiAgICAgICAgICBtaW51dGVzID0gMCxcclxuICAgICAgICAgIHNlY29uZHMgPSAwLFxyXG4gICAgICAgICAgbWlsbGlzZWNvbmRzID0gMCxcclxuICAgICAgICAgIGZpcnN0VGh1cnMgPSBnZXRGaXJzdFRodXJzZGF5T2ZZZWFyKHllYXIpLFxyXG4gICAgICAgICAgYWRkRGF5cyA9ICh3ZWVrIC0gMSkgKiA3O1xyXG5cclxuICAgICAgaWYgKGV4aXN0aW5nRGF0ZSkge1xyXG4gICAgICAgIGhvdXJzID0gZXhpc3RpbmdEYXRlLmdldEhvdXJzKCk7XHJcbiAgICAgICAgbWludXRlcyA9IGV4aXN0aW5nRGF0ZS5nZXRNaW51dGVzKCk7XHJcbiAgICAgICAgc2Vjb25kcyA9IGV4aXN0aW5nRGF0ZS5nZXRTZWNvbmRzKCk7XHJcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gZXhpc3RpbmdEYXRlLmdldE1pbGxpc2Vjb25kcygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMCwgZmlyc3RUaHVycy5nZXREYXRlKCkgKyBhZGREYXlzLCBob3VycywgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBOYU47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZURhdGVQYXJzZXIocmVnZXhwLCBtYXBwaW5nKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKGlzbywgZGF0ZSkge1xyXG4gICAgdmFyIHBhcnRzLCBtYXA7XHJcblxyXG4gICAgaWYgKGlzRGF0ZShpc28pKSB7XHJcbiAgICAgIHJldHVybiBpc287XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzU3RyaW5nKGlzbykpIHtcclxuICAgICAgLy8gV2hlbiBhIGRhdGUgaXMgSlNPTidpZmllZCB0byB3cmFwcyBpdHNlbGYgaW5zaWRlIG9mIGFuIGV4dHJhXHJcbiAgICAgIC8vIHNldCBvZiBkb3VibGUgcXVvdGVzLiBUaGlzIG1ha2VzIHRoZSBkYXRlIHBhcnNpbmcgY29kZSB1bmFibGVcclxuICAgICAgLy8gdG8gbWF0Y2ggdGhlIGRhdGUgc3RyaW5nIGFuZCBwYXJzZSBpdCBhcyBhIGRhdGUuXHJcbiAgICAgIGlmIChpc28uY2hhckF0KDApID09ICdcIicgJiYgaXNvLmNoYXJBdChpc28ubGVuZ3RoIC0gMSkgPT0gJ1wiJykge1xyXG4gICAgICAgIGlzbyA9IGlzby5zdWJzdHJpbmcoMSwgaXNvLmxlbmd0aCAtIDEpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChJU09fREFURV9SRUdFWFAudGVzdChpc28pKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGlzbyk7XHJcbiAgICAgIH1cclxuICAgICAgcmVnZXhwLmxhc3RJbmRleCA9IDA7XHJcbiAgICAgIHBhcnRzID0gcmVnZXhwLmV4ZWMoaXNvKTtcclxuXHJcbiAgICAgIGlmIChwYXJ0cykge1xyXG4gICAgICAgIHBhcnRzLnNoaWZ0KCk7XHJcbiAgICAgICAgaWYgKGRhdGUpIHtcclxuICAgICAgICAgIG1hcCA9IHtcclxuICAgICAgICAgICAgeXl5eTogZGF0ZS5nZXRGdWxsWWVhcigpLFxyXG4gICAgICAgICAgICBNTTogZGF0ZS5nZXRNb250aCgpICsgMSxcclxuICAgICAgICAgICAgZGQ6IGRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgICBISDogZGF0ZS5nZXRIb3VycygpLFxyXG4gICAgICAgICAgICBtbTogZGF0ZS5nZXRNaW51dGVzKCksXHJcbiAgICAgICAgICAgIHNzOiBkYXRlLmdldFNlY29uZHMoKSxcclxuICAgICAgICAgICAgc3NzOiBkYXRlLmdldE1pbGxpc2Vjb25kcygpIC8gMTAwMFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbWFwID0geyB5eXl5OiAxOTcwLCBNTTogMSwgZGQ6IDEsIEhIOiAwLCBtbTogMCwgc3M6IDAsIHNzczogMCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yRWFjaChwYXJ0cywgZnVuY3Rpb24ocGFydCwgaW5kZXgpIHtcclxuICAgICAgICAgIGlmIChpbmRleCA8IG1hcHBpbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG1hcFttYXBwaW5nW2luZGV4XV0gPSArcGFydDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUobWFwLnl5eXksIG1hcC5NTSAtIDEsIG1hcC5kZCwgbWFwLkhILCBtYXAubW0sIG1hcC5zcyB8fCAwLCBtYXAuc3NzICogMTAwMCB8fCAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOYU47XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRGF0ZUlucHV0VHlwZSh0eXBlLCByZWdleHAsIHBhcnNlRGF0ZSwgZm9ybWF0KSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uIGR5bmFtaWNEYXRlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIsICRmaWx0ZXIpIHtcclxuICAgIGJhZElucHV0Q2hlY2tlcihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCk7XHJcbiAgICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xyXG4gICAgdmFyIHRpbWV6b25lID0gY3RybCAmJiBjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMudGltZXpvbmU7XHJcbiAgICB2YXIgcHJldmlvdXNEYXRlO1xyXG5cclxuICAgIGN0cmwuJCRwYXJzZXJOYW1lID0gdHlwZTtcclxuICAgIGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpIHJldHVybiBudWxsO1xyXG4gICAgICBpZiAocmVnZXhwLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgICAgLy8gTm90ZTogV2UgY2Fubm90IHJlYWQgY3RybC4kbW9kZWxWYWx1ZSwgYXMgdGhlcmUgbWlnaHQgYmUgYSBkaWZmZXJlbnRcclxuICAgICAgICAvLyBwYXJzZXIvZm9ybWF0dGVyIGluIHRoZSBwcm9jZXNzaW5nIGNoYWluIHNvIHRoYXQgdGhlIG1vZGVsXHJcbiAgICAgICAgLy8gY29udGFpbnMgc29tZSBkaWZmZXJlbnQgZGF0YSBmb3JtYXQhXHJcbiAgICAgICAgdmFyIHBhcnNlZERhdGUgPSBwYXJzZURhdGUodmFsdWUsIHByZXZpb3VzRGF0ZSk7XHJcbiAgICAgICAgaWYgKHRpbWV6b25lKSB7XHJcbiAgICAgICAgICBwYXJzZWREYXRlID0gY29udmVydFRpbWV6b25lVG9Mb2NhbChwYXJzZWREYXRlLCB0aW1lem9uZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXJzZWREYXRlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgaWYgKHZhbHVlICYmICFpc0RhdGUodmFsdWUpKSB7XHJcbiAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignZGF0ZWZtdCcsICdFeHBlY3RlZCBgezB9YCB0byBiZSBhIGRhdGUnLCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGlzVmFsaWREYXRlKHZhbHVlKSkge1xyXG4gICAgICAgIHByZXZpb3VzRGF0ZSA9IHZhbHVlO1xyXG4gICAgICAgIGlmIChwcmV2aW91c0RhdGUgJiYgdGltZXpvbmUpIHtcclxuICAgICAgICAgIHByZXZpb3VzRGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwocHJldmlvdXNEYXRlLCB0aW1lem9uZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAkZmlsdGVyKCdkYXRlJykodmFsdWUsIGZvcm1hdCwgdGltZXpvbmUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHByZXZpb3VzRGF0ZSA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWluKSB8fCBhdHRyLm5nTWluKSB7XHJcbiAgICAgIHZhciBtaW5WYWw7XHJcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWluID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gIWlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHBhcnNlRGF0ZSh2YWx1ZSkgPj0gbWluVmFsO1xyXG4gICAgICB9O1xyXG4gICAgICBhdHRyLiRvYnNlcnZlKCdtaW4nLCBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgICBtaW5WYWwgPSBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCk7XHJcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzRGVmaW5lZChhdHRyLm1heCkgfHwgYXR0ci5uZ01heCkge1xyXG4gICAgICB2YXIgbWF4VmFsO1xyXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1heCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuICFpc1ZhbGlkRGF0ZSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWF4VmFsKSB8fCBwYXJzZURhdGUodmFsdWUpIDw9IG1heFZhbDtcclxuICAgICAgfTtcclxuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWF4JywgZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgbWF4VmFsID0gcGFyc2VPYnNlcnZlZERhdGVWYWx1ZSh2YWwpO1xyXG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzVmFsaWREYXRlKHZhbHVlKSB7XHJcbiAgICAgIC8vIEludmFsaWQgRGF0ZTogZ2V0VGltZSgpIHJldHVybnMgTmFOXHJcbiAgICAgIHJldHVybiB2YWx1ZSAmJiAhKHZhbHVlLmdldFRpbWUgJiYgdmFsdWUuZ2V0VGltZSgpICE9PSB2YWx1ZS5nZXRUaW1lKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKSB7XHJcbiAgICAgIHJldHVybiBpc0RlZmluZWQodmFsKSAmJiAhaXNEYXRlKHZhbCkgPyBwYXJzZURhdGUodmFsKSB8fCB1bmRlZmluZWQgOiB2YWw7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XHJcbiAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xyXG4gIHZhciBuYXRpdmVWYWxpZGF0aW9uID0gY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMgPSBpc09iamVjdChub2RlLnZhbGlkaXR5KTtcclxuICBpZiAobmF0aXZlVmFsaWRhdGlvbikge1xyXG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIHZhciB2YWxpZGl0eSA9IGVsZW1lbnQucHJvcChWQUxJRElUWV9TVEFURV9QUk9QRVJUWSkgfHwge307XHJcbiAgICAgIHJldHVybiB2YWxpZGl0eS5iYWRJbnB1dCB8fCB2YWxpZGl0eS50eXBlTWlzbWF0Y2ggPyB1bmRlZmluZWQgOiB2YWx1ZTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbnVtYmVySW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcclxuICBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpO1xyXG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XHJcblxyXG4gIGN0cmwuJCRwYXJzZXJOYW1lID0gJ251bWJlcic7XHJcbiAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICBpZiAoTlVNQkVSX1JFR0VYUC50ZXN0KHZhbHVlKSkgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9KTtcclxuXHJcbiAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAoIWN0cmwuJGlzRW1wdHkodmFsdWUpKSB7XHJcbiAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XHJcbiAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbnVtZm10JywgJ0V4cGVjdGVkIGB7MH1gIHRvIGJlIGEgbnVtYmVyJywgdmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9KTtcclxuXHJcbiAgaWYgKGlzRGVmaW5lZChhdHRyLm1pbikgfHwgYXR0ci5uZ01pbikge1xyXG4gICAgdmFyIG1pblZhbDtcclxuICAgIGN0cmwuJHZhbGlkYXRvcnMubWluID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IGlzVW5kZWZpbmVkKG1pblZhbCkgfHwgdmFsdWUgPj0gbWluVmFsO1xyXG4gICAgfTtcclxuXHJcbiAgICBhdHRyLiRvYnNlcnZlKCdtaW4nLCBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgaWYgKGlzRGVmaW5lZCh2YWwpICYmICFpc051bWJlcih2YWwpKSB7XHJcbiAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwsIDEwKTtcclxuICAgICAgfVxyXG4gICAgICBtaW5WYWwgPSBpc051bWJlcih2YWwpICYmICFpc05hTih2YWwpID8gdmFsIDogdW5kZWZpbmVkO1xyXG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcclxuICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzRGVmaW5lZChhdHRyLm1heCkgfHwgYXR0ci5uZ01heCkge1xyXG4gICAgdmFyIG1heFZhbDtcclxuICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IGlzVW5kZWZpbmVkKG1heFZhbCkgfHwgdmFsdWUgPD0gbWF4VmFsO1xyXG4gICAgfTtcclxuXHJcbiAgICBhdHRyLiRvYnNlcnZlKCdtYXgnLCBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgaWYgKGlzRGVmaW5lZCh2YWwpICYmICFpc051bWJlcih2YWwpKSB7XHJcbiAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwsIDEwKTtcclxuICAgICAgfVxyXG4gICAgICBtYXhWYWwgPSBpc051bWJlcih2YWwpICYmICFpc05hTih2YWwpID8gdmFsIDogdW5kZWZpbmVkO1xyXG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcclxuICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXJsSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcclxuICAvLyBOb3RlOiBubyBiYWRJbnB1dENoZWNrZXIgaGVyZSBieSBwdXJwb3NlIGFzIGB1cmxgIGlzIG9ubHkgYSB2YWxpZGF0aW9uXHJcbiAgLy8gaW4gYnJvd3NlcnMsIGkuZS4gd2UgY2FuIGFsd2F5cyByZWFkIG91dCBpbnB1dC52YWx1ZSBldmVuIGlmIGl0IGlzIG5vdCB2YWxpZCFcclxuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xyXG4gIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpO1xyXG5cclxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICd1cmwnO1xyXG4gIGN0cmwuJHZhbGlkYXRvcnMudXJsID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcclxuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBVUkxfUkVHRVhQLnRlc3QodmFsdWUpO1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVtYWlsSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcclxuICAvLyBOb3RlOiBubyBiYWRJbnB1dENoZWNrZXIgaGVyZSBieSBwdXJwb3NlIGFzIGB1cmxgIGlzIG9ubHkgYSB2YWxpZGF0aW9uXHJcbiAgLy8gaW4gYnJvd3NlcnMsIGkuZS4gd2UgY2FuIGFsd2F5cyByZWFkIG91dCBpbnB1dC52YWx1ZSBldmVuIGlmIGl0IGlzIG5vdCB2YWxpZCFcclxuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xyXG4gIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpO1xyXG5cclxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICdlbWFpbCc7XHJcbiAgY3RybC4kdmFsaWRhdG9ycy5lbWFpbCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XHJcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgRU1BSUxfUkVHRVhQLnRlc3QodmFsdWUpO1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJhZGlvSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XHJcbiAgLy8gbWFrZSB0aGUgbmFtZSB1bmlxdWUsIGlmIG5vdCBkZWZpbmVkXHJcbiAgaWYgKGlzVW5kZWZpbmVkKGF0dHIubmFtZSkpIHtcclxuICAgIGVsZW1lbnQuYXR0cignbmFtZScsIG5leHRVaWQoKSk7XHJcbiAgfVxyXG5cclxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xyXG4gICAgaWYgKGVsZW1lbnRbMF0uY2hlY2tlZCkge1xyXG4gICAgICBjdHJsLiRzZXRWaWV3VmFsdWUoYXR0ci52YWx1ZSwgZXYgJiYgZXYudHlwZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZWxlbWVudC5vbignY2xpY2snLCBsaXN0ZW5lcik7XHJcblxyXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHZhbHVlID0gYXR0ci52YWx1ZTtcclxuICAgIGVsZW1lbnRbMF0uY2hlY2tlZCA9ICh2YWx1ZSA9PSBjdHJsLiR2aWV3VmFsdWUpO1xyXG4gIH07XHJcblxyXG4gIGF0dHIuJG9ic2VydmUoJ3ZhbHVlJywgY3RybC4kcmVuZGVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBjb250ZXh0LCBuYW1lLCBleHByZXNzaW9uLCBmYWxsYmFjaykge1xyXG4gIHZhciBwYXJzZUZuO1xyXG4gIGlmIChpc0RlZmluZWQoZXhwcmVzc2lvbikpIHtcclxuICAgIHBhcnNlRm4gPSAkcGFyc2UoZXhwcmVzc2lvbik7XHJcbiAgICBpZiAoIXBhcnNlRm4uY29uc3RhbnQpIHtcclxuICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignY29uc3RleHByJywgJ0V4cGVjdGVkIGNvbnN0YW50IGV4cHJlc3Npb24gZm9yIGB7MH1gLCBidXQgc2F3ICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdgezF9YC4nLCBuYW1lLCBleHByZXNzaW9uKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwYXJzZUZuKGNvbnRleHQpO1xyXG4gIH1cclxuICByZXR1cm4gZmFsbGJhY2s7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrYm94SW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIsICRmaWx0ZXIsICRwYXJzZSkge1xyXG4gIHZhciB0cnVlVmFsdWUgPSBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIHNjb3BlLCAnbmdUcnVlVmFsdWUnLCBhdHRyLm5nVHJ1ZVZhbHVlLCB0cnVlKTtcclxuICB2YXIgZmFsc2VWYWx1ZSA9IHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSwgc2NvcGUsICduZ0ZhbHNlVmFsdWUnLCBhdHRyLm5nRmFsc2VWYWx1ZSwgZmFsc2UpO1xyXG5cclxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xyXG4gICAgY3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnRbMF0uY2hlY2tlZCwgZXYgJiYgZXYudHlwZSk7XHJcbiAgfTtcclxuXHJcbiAgZWxlbWVudC5vbignY2xpY2snLCBsaXN0ZW5lcik7XHJcblxyXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZWxlbWVudFswXS5jaGVja2VkID0gY3RybC4kdmlld1ZhbHVlO1xyXG4gIH07XHJcblxyXG4gIC8vIE92ZXJyaWRlIHRoZSBzdGFuZGFyZCBgJGlzRW1wdHlgIGJlY2F1c2UgdGhlICR2aWV3VmFsdWUgb2YgYW4gZW1wdHkgY2hlY2tib3ggaXMgYWx3YXlzIHNldCB0byBgZmFsc2VgXHJcbiAgLy8gVGhpcyBpcyBiZWNhdXNlIG9mIHRoZSBwYXJzZXIgYmVsb3csIHdoaWNoIGNvbXBhcmVzIHRoZSBgJG1vZGVsVmFsdWVgIHdpdGggYHRydWVWYWx1ZWAgdG8gY29udmVydFxyXG4gIC8vIGl0IHRvIGEgYm9vbGVhbi5cclxuICBjdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZSA9PT0gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gZXF1YWxzKHZhbHVlLCB0cnVlVmFsdWUpO1xyXG4gIH0pO1xyXG5cclxuICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZSA/IHRydWVWYWx1ZSA6IGZhbHNlVmFsdWU7XHJcbiAgfSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSB0ZXh0YXJlYVxyXG4gKiBAcmVzdHJpY3QgRVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogSFRNTCB0ZXh0YXJlYSBlbGVtZW50IGNvbnRyb2wgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy4gVGhlIGRhdGEtYmluZGluZyBhbmQgdmFsaWRhdGlvblxyXG4gKiBwcm9wZXJ0aWVzIG9mIHRoaXMgZWxlbWVudCBhcmUgZXhhY3RseSB0aGUgc2FtZSBhcyB0aG9zZSBvZiB0aGVcclxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTppbnB1dCBpbnB1dCBlbGVtZW50fS5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXHJcbiAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxyXG4gKiAgICBtaW5sZW5ndGguXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cclxuICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mIGFueVxyXG4gKiAgICBsZW5ndGguXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cclxuICogICAgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxyXG4gKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcclxuICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cclxuICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxyXG4gKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xyXG4gKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xyXG4gKiAgICBhY2NvdW50LlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICogQHBhcmFtIHtib29sZWFuPX0gW25nVHJpbT10cnVlXSBJZiBzZXQgdG8gZmFsc2UgQW5ndWxhciB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHRyaW0gdGhlIGlucHV0LlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBpbnB1dFxyXG4gKiBAcmVzdHJpY3QgRVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogSFRNTCBpbnB1dCBlbGVtZW50IGNvbnRyb2wuIFdoZW4gdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0sIGl0IHByb3ZpZGVzIGRhdGEtYmluZGluZyxcclxuICogaW5wdXQgc3RhdGUgY29udHJvbCwgYW5kIHZhbGlkYXRpb24uXHJcbiAqIElucHV0IGNvbnRyb2wgZm9sbG93cyBIVE1MNSBpbnB1dCB0eXBlcyBhbmQgcG9seWZpbGxzIHRoZSBIVE1MNSB2YWxpZGF0aW9uIGJlaGF2aW9yIGZvciBvbGRlciBicm93c2Vycy5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogKipOb3RlOioqIE5vdCBldmVyeSBmZWF0dXJlIG9mZmVyZWQgaXMgYXZhaWxhYmxlIGZvciBhbGwgaW5wdXQgdHlwZXMuXHJcbiAqIFNwZWNpZmljYWxseSwgZGF0YSBiaW5kaW5nIGFuZCBldmVudCBoYW5kbGluZyB2aWEgYG5nLW1vZGVsYCBpcyB1bnN1cHBvcnRlZCBmb3IgYGlucHV0W2ZpbGVdYC5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5nUmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBpZiBzZXQgdG8gdHJ1ZVxyXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxyXG4gKiAgICBtaW5sZW5ndGguXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cclxuICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mIGFueVxyXG4gKiAgICBsZW5ndGguXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cclxuICogICAgdmFsdWUgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxyXG4gKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcclxuICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cclxuICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxyXG4gKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xyXG4gKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xyXG4gKiAgICBhY2NvdW50LlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICogQHBhcmFtIHtib29sZWFuPX0gW25nVHJpbT10cnVlXSBJZiBzZXQgdG8gZmFsc2UgQW5ndWxhciB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHRyaW0gdGhlIGlucHV0LlxyXG4gKiAgICBUaGlzIHBhcmFtZXRlciBpcyBpZ25vcmVkIGZvciBpbnB1dFt0eXBlPXBhc3N3b3JkXSBjb250cm9scywgd2hpY2ggd2lsbCBuZXZlciB0cmltIHRoZVxyXG4gKiAgICBpbnB1dC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlIG5hbWU9XCJpbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7bmFtZTogJ2d1ZXN0JywgbGFzdDogJ3Zpc2l0b3InfTtcclxuICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XHJcbiAgICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICAgIFVzZXIgbmFtZTpcclxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIiBuZy1tb2RlbD1cInVzZXIubmFtZVwiIHJlcXVpcmVkPlxyXG4gICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLnVzZXJOYW1lLiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgICAgTGFzdCBuYW1lOlxyXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJsYXN0TmFtZVwiIG5nLW1vZGVsPVwidXNlci5sYXN0XCJcclxuICAgICAgICAgICAgICBuZy1taW5sZW5ndGg9XCIzXCIgbmctbWF4bGVuZ3RoPVwiMTBcIj5cclxuICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XHJcbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IubWlubGVuZ3RoXCI+XHJcbiAgICAgICAgICAgICAgIFRvbyBzaG9ydCE8L3NwYW4+XHJcbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IubWF4bGVuZ3RoXCI+XHJcbiAgICAgICAgICAgICAgIFRvbyBsb25nITwvc3Bhbj5cclxuICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICA8aHI+XHJcbiAgICAgICAgIDx0dD51c2VyID0ge3t1c2VyfX08L3R0Pjxici8+XHJcbiAgICAgICAgIDx0dD5teUZvcm0udXNlck5hbWUuJHZhbGlkID0ge3tteUZvcm0udXNlck5hbWUuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgIDx0dD5teUZvcm0udXNlck5hbWUuJGVycm9yID0ge3tteUZvcm0udXNlck5hbWUuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgIDx0dD5teUZvcm0ubGFzdE5hbWUuJHZhbGlkID0ge3tteUZvcm0ubGFzdE5hbWUuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgIDx0dD5teUZvcm0ubGFzdE5hbWUuJGVycm9yID0ge3tteUZvcm0ubGFzdE5hbWUuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IubWlubGVuZ3RoID0ge3shIW15Rm9ybS4kZXJyb3IubWlubGVuZ3RofX08L3R0Pjxici8+XHJcbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLm1heGxlbmd0aCA9IHt7ISFteUZvcm0uJGVycm9yLm1heGxlbmd0aH19PC90dD48YnIvPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIHZhciB1c2VyID0gZWxlbWVudChieS5leGFjdEJpbmRpbmcoJ3VzZXInKSk7XHJcbiAgICAgICAgdmFyIHVzZXJOYW1lVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS51c2VyTmFtZS4kdmFsaWQnKSk7XHJcbiAgICAgICAgdmFyIGxhc3ROYW1lVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5sYXN0TmFtZS4kdmFsaWQnKSk7XHJcbiAgICAgICAgdmFyIGxhc3ROYW1lRXJyb3IgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5sYXN0TmFtZS4kZXJyb3InKSk7XHJcbiAgICAgICAgdmFyIGZvcm1WYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLiR2YWxpZCcpKTtcclxuICAgICAgICB2YXIgdXNlck5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIubmFtZScpKTtcclxuICAgICAgICB2YXIgdXNlckxhc3RJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIubGFzdCcpKTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIixcImxhc3RcIjpcInZpc2l0b3JcIn0nKTtcclxuICAgICAgICAgIGV4cGVjdCh1c2VyTmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eSB3aGVuIHJlcXVpcmVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB1c2VyTmFtZUlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICB1c2VyTmFtZUlucHV0LnNlbmRLZXlzKCcnKTtcclxuXHJcbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibGFzdFwiOlwidmlzaXRvclwifScpO1xyXG4gICAgICAgICAgZXhwZWN0KHVzZXJOYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGJlIHZhbGlkIGlmIGVtcHR5IHdoZW4gbWluIGxlbmd0aCBpcyBzZXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJycpO1xyXG5cclxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwiLFwibGFzdFwiOlwiXCJ9Jyk7XHJcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbGVzcyB0aGFuIHJlcXVpcmVkIG1pbiBsZW5ndGgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJ3h4Jyk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCJ9Jyk7XHJcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZUVycm9yLmdldFRleHQoKSkudG9Db250YWluKCdtaW5sZW5ndGgnKTtcclxuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBsb25nZXIgdGhhbiBtYXggbGVuZ3RoJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICB1c2VyTGFzdElucHV0LnNlbmRLZXlzKCdzb21lIHJpZGljdWxvdXNseSBsb25nIG5hbWUnKTtcclxuXHJcbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIn0nKTtcclxuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lRXJyb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ21heGxlbmd0aCcpO1xyXG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIGlucHV0RGlyZWN0aXZlID0gWyckYnJvd3NlcicsICckc25pZmZlcicsICckZmlsdGVyJywgJyRwYXJzZScsXHJcbiAgICBmdW5jdGlvbigkYnJvd3NlciwgJHNuaWZmZXIsICRmaWx0ZXIsICRwYXJzZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgcmVxdWlyZTogWyc/bmdNb2RlbCddLFxyXG4gICAgbGluazoge1xyXG4gICAgICBwcmU6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xyXG4gICAgICAgIGlmIChjdHJsc1swXSkge1xyXG4gICAgICAgICAgKGlucHV0VHlwZVtsb3dlcmNhc2UoYXR0ci50eXBlKV0gfHwgaW5wdXRUeXBlLnRleHQpKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsc1swXSwgJHNuaWZmZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJyb3dzZXIsICRmaWx0ZXIsICRwYXJzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG5cclxuXHJcbnZhciBDT05TVEFOVF9WQUxVRV9SRUdFWFAgPSAvXih0cnVlfGZhbHNlfFxcZCspJC87XHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nVmFsdWVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEJpbmRzIHRoZSBnaXZlbiBleHByZXNzaW9uIHRvIHRoZSB2YWx1ZSBvZiBgPG9wdGlvbj5gIG9yIHtAbGluayBpbnB1dFtyYWRpb10gYGlucHV0W3JhZGlvXWB9LFxyXG4gKiBzbyB0aGF0IHdoZW4gdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQsIHRoZSB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IG9mIHRoYXQgZWxlbWVudCBpcyBzZXQgdG9cclxuICogdGhlIGJvdW5kIHZhbHVlLlxyXG4gKlxyXG4gKiBgbmdWYWx1ZWAgaXMgdXNlZnVsIHdoZW4gZHluYW1pY2FsbHkgZ2VuZXJhdGluZyBsaXN0cyBvZiByYWRpbyBidXR0b25zIHVzaW5nXHJcbiAqIHtAbGluayBuZ1JlcGVhdCBgbmdSZXBlYXRgfSwgYXMgc2hvd24gYmVsb3cuXHJcbiAqXHJcbiAqIExpa2V3aXNlLCBgbmdWYWx1ZWAgY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgYDxvcHRpb24+YCBlbGVtZW50cyBmb3JcclxuICogdGhlIHtAbGluayBzZWxlY3QgYHNlbGVjdGB9IGVsZW1lbnQuIEluIHRoYXQgY2FzZSBob3dldmVyLCBvbmx5IHN0cmluZ3MgYXJlIHN1cHBvcnRlZFxyXG4gKiBmb3IgdGhlIGB2YWx1ZSBgYXR0cmlidXRlLCBzbyB0aGUgcmVzdWx0aW5nIGBuZ01vZGVsYCB3aWxsIGFsd2F5cyBiZSBhIHN0cmluZy5cclxuICogU3VwcG9ydCBmb3IgYHNlbGVjdGAgbW9kZWxzIHdpdGggbm9uLXN0cmluZyB2YWx1ZXMgaXMgYXZhaWxhYmxlIHZpYSBgbmdPcHRpb25zYC5cclxuICpcclxuICogQGVsZW1lbnQgaW5wdXRcclxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1ZhbHVlIGFuZ3VsYXIgZXhwcmVzc2lvbiwgd2hvc2UgdmFsdWUgd2lsbCBiZSBib3VuZCB0byB0aGUgYHZhbHVlYCBhdHRyaWJ1dGVcclxuICogICBvZiB0aGUgYGlucHV0YCBlbGVtZW50XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZSBuYW1lPVwibmdWYWx1ZS1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ2YWx1ZUV4YW1wbGVcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgndmFsdWVFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydwaXp6YScsICd1bmljb3JucycsICdyb2JvdHMnXTtcclxuICAgICAgICAgICAgICAkc2NvcGUubXkgPSB7IGZhdm9yaXRlOiAndW5pY29ybnMnIH07XHJcbiAgICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgIDxmb3JtIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgPGgyPldoaWNoIGlzIHlvdXIgZmF2b3JpdGU/PC9oMj5cclxuICAgICAgICAgICAgPGxhYmVsIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIiBmb3I9XCJ7e25hbWV9fVwiPlxyXG4gICAgICAgICAgICAgIHt7bmFtZX19XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwibXkuZmF2b3JpdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICBuZy12YWx1ZT1cIm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICBpZD1cInt7bmFtZX19XCJcclxuICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImZhdm9yaXRlXCI+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICA8ZGl2PllvdSBjaG9zZSB7e215LmZhdm9yaXRlfX08L2Rpdj5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIHZhciBmYXZvcml0ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnbXkuZmF2b3JpdGUnKSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZXhwZWN0KGZhdm9yaXRlLmdldFRleHQoKSkudG9Db250YWluKCd1bmljb3JucycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGl0KCdzaG91bGQgYmluZCB0aGUgdmFsdWVzIHRvIHRoZSBpbnB1dHMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdteS5mYXZvcml0ZScpKS5nZXQoMCkuY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChmYXZvcml0ZS5nZXRUZXh0KCkpLnRvQ29udGFpbigncGl6emEnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nVmFsdWVEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIHByaW9yaXR5OiAxMDAsXHJcbiAgICBjb21waWxlOiBmdW5jdGlvbih0cGwsIHRwbEF0dHIpIHtcclxuICAgICAgaWYgKENPTlNUQU5UX1ZBTFVFX1JFR0VYUC50ZXN0KHRwbEF0dHIubmdWYWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUNvbnN0YW50TGluayhzY29wZSwgZWxtLCBhdHRyKSB7XHJcbiAgICAgICAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgc2NvcGUuJGV2YWwoYXR0ci5uZ1ZhbHVlKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUxpbmsoc2NvcGUsIGVsbSwgYXR0cikge1xyXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdWYWx1ZSwgZnVuY3Rpb24gdmFsdWVXYXRjaEFjdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgdmFsdWUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0JpbmRcclxuICogQHJlc3RyaWN0IEFDXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nQmluZGAgYXR0cmlidXRlIHRlbGxzIEFuZ3VsYXIgdG8gcmVwbGFjZSB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBzcGVjaWZpZWQgSFRNTCBlbGVtZW50XHJcbiAqIHdpdGggdGhlIHZhbHVlIG9mIGEgZ2l2ZW4gZXhwcmVzc2lvbiwgYW5kIHRvIHVwZGF0ZSB0aGUgdGV4dCBjb250ZW50IHdoZW4gdGhlIHZhbHVlIG9mIHRoYXRcclxuICogZXhwcmVzc2lvbiBjaGFuZ2VzLlxyXG4gKlxyXG4gKiBUeXBpY2FsbHksIHlvdSBkb24ndCB1c2UgYG5nQmluZGAgZGlyZWN0bHksIGJ1dCBpbnN0ZWFkIHlvdSB1c2UgdGhlIGRvdWJsZSBjdXJseSBtYXJrdXAgbGlrZVxyXG4gKiBge3sgZXhwcmVzc2lvbiB9fWAgd2hpY2ggaXMgc2ltaWxhciBidXQgbGVzcyB2ZXJib3NlLlxyXG4gKlxyXG4gKiBJdCBpcyBwcmVmZXJhYmxlIHRvIHVzZSBgbmdCaW5kYCBpbnN0ZWFkIG9mIGB7eyBleHByZXNzaW9uIH19YCBpZiBhIHRlbXBsYXRlIGlzIG1vbWVudGFyaWx5XHJcbiAqIGRpc3BsYXllZCBieSB0aGUgYnJvd3NlciBpbiBpdHMgcmF3IHN0YXRlIGJlZm9yZSBBbmd1bGFyIGNvbXBpbGVzIGl0LiBTaW5jZSBgbmdCaW5kYCBpcyBhblxyXG4gKiBlbGVtZW50IGF0dHJpYnV0ZSwgaXQgbWFrZXMgdGhlIGJpbmRpbmdzIGludmlzaWJsZSB0byB0aGUgdXNlciB3aGlsZSB0aGUgcGFnZSBpcyBsb2FkaW5nLlxyXG4gKlxyXG4gKiBBbiBhbHRlcm5hdGl2ZSBzb2x1dGlvbiB0byB0aGlzIHByb2JsZW0gd291bGQgYmUgdXNpbmcgdGhlXHJcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbG9hayBuZ0Nsb2FrfSBkaXJlY3RpdmUuXHJcbiAqXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogRW50ZXIgYSBuYW1lIGluIHRoZSBMaXZlIFByZXZpZXcgdGV4dCBib3g7IHRoZSBncmVldGluZyBiZWxvdyB0aGUgdGV4dCBib3ggY2hhbmdlcyBpbnN0YW50bHkuXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImJpbmRFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXaGlybGVkJztcclxuICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxsYWJlbD5FbnRlciBuYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIj48L2xhYmVsPjxicj5cclxuICAgICAgICAgSGVsbG8gPHNwYW4gbmctYmluZD1cIm5hbWVcIj48L3NwYW4+IVxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTtcclxuXHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCdXaGlybGVkJyk7XHJcbiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICBuYW1lSW5wdXQuc2VuZEtleXMoJ3dvcmxkJyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCd3b3JsZCcpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdCaW5kRGlyZWN0aXZlID0gWyckY29tcGlsZScsIGZ1bmN0aW9uKCRjb21waWxlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQUMnLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdCaW5kQ29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpIHtcclxuICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVFbGVtZW50KTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsIGF0dHIubmdCaW5kKTtcclxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcclxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ0JpbmQsIGZ1bmN0aW9uIG5nQmluZFdhdGNoQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gaXNVbmRlZmluZWQodmFsdWUpID8gJycgOiB2YWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59XTtcclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0JpbmRUZW1wbGF0ZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ0JpbmRUZW1wbGF0ZWAgZGlyZWN0aXZlIHNwZWNpZmllcyB0aGF0IHRoZSBlbGVtZW50XHJcbiAqIHRleHQgY29udGVudCBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCB0aGUgaW50ZXJwb2xhdGlvbiBvZiB0aGUgdGVtcGxhdGVcclxuICogaW4gdGhlIGBuZ0JpbmRUZW1wbGF0ZWAgYXR0cmlidXRlLlxyXG4gKiBVbmxpa2UgYG5nQmluZGAsIHRoZSBgbmdCaW5kVGVtcGxhdGVgIGNhbiBjb250YWluIG11bHRpcGxlIGB7e2AgYH19YFxyXG4gKiBleHByZXNzaW9ucy4gVGhpcyBkaXJlY3RpdmUgaXMgbmVlZGVkIHNpbmNlIHNvbWUgSFRNTCBlbGVtZW50c1xyXG4gKiAoc3VjaCBhcyBUSVRMRSBhbmQgT1BUSU9OKSBjYW5ub3QgY29udGFpbiBTUEFOIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtzdHJpbmd9IG5nQmluZFRlbXBsYXRlIHRlbXBsYXRlIG9mIGZvcm1cclxuICogICA8dHQ+e3s8L3R0PiA8dHQ+ZXhwcmVzc2lvbjwvdHQ+IDx0dD59fTwvdHQ+IHRvIGV2YWwuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFRyeSBpdCBoZXJlOiBlbnRlciB0ZXh0IGluIHRleHQgYm94IGFuZCB3YXRjaCB0aGUgZ3JlZXRpbmcgY2hhbmdlLlxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kRXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgJHNjb3BlLnNhbHV0YXRpb24gPSAnSGVsbG8nO1xyXG4gICAgICAgICAgICAgJHNjb3BlLm5hbWUgPSAnV29ybGQnO1xyXG4gICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICA8bGFiZWw+U2FsdXRhdGlvbjogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzYWx1dGF0aW9uXCI+PC9sYWJlbD48YnI+XHJcbiAgICAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibmFtZVwiPjwvbGFiZWw+PGJyPlxyXG4gICAgICAgIDxwcmUgbmctYmluZC10ZW1wbGF0ZT1cInt7c2FsdXRhdGlvbn19IHt7bmFtZX19IVwiPjwvcHJlPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICB2YXIgc2FsdXRhdGlvbkVsZW0gPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3NhbHV0YXRpb24nKSk7XHJcbiAgICAgICAgIHZhciBzYWx1dGF0aW9uSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzYWx1dGF0aW9uJykpO1xyXG4gICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTtcclxuXHJcbiAgICAgICAgIGV4cGVjdChzYWx1dGF0aW9uRWxlbS5nZXRUZXh0KCkpLnRvQmUoJ0hlbGxvIFdvcmxkIScpO1xyXG5cclxuICAgICAgICAgc2FsdXRhdGlvbklucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgIHNhbHV0YXRpb25JbnB1dC5zZW5kS2V5cygnR3JlZXRpbmdzJyk7XHJcbiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICBuYW1lSW5wdXQuc2VuZEtleXMoJ3VzZXInKTtcclxuXHJcbiAgICAgICAgIGV4cGVjdChzYWx1dGF0aW9uRWxlbS5nZXRUZXh0KCkpLnRvQmUoJ0dyZWV0aW5ncyB1c2VyIScpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUgPSBbJyRpbnRlcnBvbGF0ZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSwgJGNvbXBpbGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdCaW5kVGVtcGxhdGVDb21waWxlKHRlbXBsYXRlRWxlbWVudCkge1xyXG4gICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0ZW1wbGF0ZUVsZW1lbnQpO1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdCaW5kVGVtcGxhdGVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUoZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIubmdCaW5kVGVtcGxhdGUpKTtcclxuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsIGludGVycG9sYXRlRm4uZXhwcmVzc2lvbnMpO1xyXG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xyXG4gICAgICAgIGF0dHIuJG9ic2VydmUoJ25nQmluZFRlbXBsYXRlJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBpc1VuZGVmaW5lZCh2YWx1ZSkgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQmluZEh0bWxcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEV2YWx1YXRlcyB0aGUgZXhwcmVzc2lvbiBhbmQgaW5zZXJ0cyB0aGUgcmVzdWx0aW5nIEhUTUwgaW50byB0aGUgZWxlbWVudCBpbiBhIHNlY3VyZSB3YXkuIEJ5IGRlZmF1bHQsXHJcbiAqIHRoZSByZXN1bHRpbmcgSFRNTCBjb250ZW50IHdpbGwgYmUgc2FuaXRpemVkIHVzaW5nIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZS4kc2FuaXRpemUgJHNhbml0aXplfSBzZXJ2aWNlLlxyXG4gKiBUbyB1dGlsaXplIHRoaXMgZnVuY3Rpb25hbGl0eSwgZW5zdXJlIHRoYXQgYCRzYW5pdGl6ZWAgaXMgYXZhaWxhYmxlLCBmb3IgZXhhbXBsZSwgYnkgaW5jbHVkaW5nIHtAbGlua1xyXG4gKiBuZ1Nhbml0aXplfSBpbiB5b3VyIG1vZHVsZSdzIGRlcGVuZGVuY2llcyAobm90IGluIGNvcmUgQW5ndWxhcikuIEluIG9yZGVyIHRvIHVzZSB7QGxpbmsgbmdTYW5pdGl6ZX1cclxuICogaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMsIHlvdSBuZWVkIHRvIGluY2x1ZGUgXCJhbmd1bGFyLXNhbml0aXplLmpzXCIgaW4geW91ciBhcHBsaWNhdGlvbi5cclxuICpcclxuICogWW91IG1heSBhbHNvIGJ5cGFzcyBzYW5pdGl6YXRpb24gZm9yIHZhbHVlcyB5b3Uga25vdyBhcmUgc2FmZS4gVG8gZG8gc28sIGJpbmQgdG9cclxuICogYW4gZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlIHZpYSB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzSHRtbCAkc2NlLnRydXN0QXNIdG1sfS4gIFNlZSB0aGUgZXhhbXBsZVxyXG4gKiB1bmRlciB7QGxpbmsgbmcuJHNjZSNzaG93LW1lLWFuLWV4YW1wbGUtdXNpbmctc2NlLSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXHJcbiAqXHJcbiAqIE5vdGU6IElmIGEgYCRzYW5pdGl6ZWAgc2VydmljZSBpcyB1bmF2YWlsYWJsZSBhbmQgdGhlIGJvdW5kIHZhbHVlIGlzbid0IGV4cGxpY2l0bHkgdHJ1c3RlZCwgeW91XHJcbiAqIHdpbGwgaGF2ZSBhbiBleGNlcHRpb24gKGluc3RlYWQgb2YgYW4gZXhwbG9pdC4pXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZEh0bWwge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcblxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kSHRtbEV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgIDxwIG5nLWJpbmQtaHRtbD1cIm15SFRNTFwiPjwvcD5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuXHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2JpbmRIdG1sRXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxyXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICRzY29wZS5teUhUTUwgPVxyXG4gICAgICAgICAgICAgICdJIGFtIGFuIDxjb2RlPkhUTUw8L2NvZGU+c3RyaW5nIHdpdGggJyArXHJcbiAgICAgICAgICAgICAgJzxhIGhyZWY9XCIjXCI+bGlua3MhPC9hPiBhbmQgb3RoZXIgPGVtPnN0dWZmPC9lbT4nO1xyXG4gICAgICAgICB9XSk7XHJcbiAgICAgPC9maWxlPlxyXG5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQtaHRtbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdteUhUTUwnKSkuZ2V0VGV4dCgpKS50b0JlKFxyXG4gICAgICAgICAgICAgJ0kgYW0gYW4gSFRNTHN0cmluZyB3aXRoIGxpbmtzISBhbmQgb3RoZXIgc3R1ZmYnKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCAnJHBhcnNlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJHNjZSwgJHBhcnNlLCAkY29tcGlsZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdCaW5kSHRtbENvbXBpbGUodEVsZW1lbnQsIHRBdHRycykge1xyXG4gICAgICB2YXIgbmdCaW5kSHRtbEdldHRlciA9ICRwYXJzZSh0QXR0cnMubmdCaW5kSHRtbCk7XHJcbiAgICAgIHZhciBuZ0JpbmRIdG1sV2F0Y2ggPSAkcGFyc2UodEF0dHJzLm5nQmluZEh0bWwsIGZ1bmN0aW9uIGdldFN0cmluZ1ZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuICh2YWx1ZSB8fCAnJykudG9TdHJpbmcoKTtcclxuICAgICAgfSk7XHJcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRFbGVtZW50KTtcclxuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRIdG1sTGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgYXR0ci5uZ0JpbmRIdG1sKTtcclxuXHJcbiAgICAgICAgc2NvcGUuJHdhdGNoKG5nQmluZEh0bWxXYXRjaCwgZnVuY3Rpb24gbmdCaW5kSHRtbFdhdGNoQWN0aW9uKCkge1xyXG4gICAgICAgICAgLy8gd2UgcmUtZXZhbHVhdGUgdGhlIGV4cHIgYmVjYXVzZSB3ZSB3YW50IGEgVHJ1c3RlZFZhbHVlSG9sZGVyVHlwZVxyXG4gICAgICAgICAgLy8gZm9yICRzY2UsIG5vdCBhIHN0cmluZ1xyXG4gICAgICAgICAgZWxlbWVudC5odG1sKCRzY2UuZ2V0VHJ1c3RlZEh0bWwobmdCaW5kSHRtbEdldHRlcihzY29wZSkpIHx8ICcnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59XTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQ2hhbmdlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFdmFsdWF0ZSB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiB3aGVuIHRoZSB1c2VyIGNoYW5nZXMgdGhlIGlucHV0LlxyXG4gKiBUaGUgZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQgaW1tZWRpYXRlbHksIHVubGlrZSB0aGUgSmF2YVNjcmlwdCBvbmNoYW5nZSBldmVudFxyXG4gKiB3aGljaCBvbmx5IHRyaWdnZXJzIGF0IHRoZSBlbmQgb2YgYSBjaGFuZ2UgKHVzdWFsbHksIHdoZW4gdGhlIHVzZXIgbGVhdmVzIHRoZVxyXG4gKiBmb3JtIGVsZW1lbnQgb3IgcHJlc3NlcyB0aGUgcmV0dXJuIGtleSkuXHJcbiAqXHJcbiAqIFRoZSBgbmdDaGFuZ2VgIGV4cHJlc3Npb24gaXMgb25seSBldmFsdWF0ZWQgd2hlbiBhIGNoYW5nZSBpbiB0aGUgaW5wdXQgdmFsdWUgY2F1c2VzXHJcbiAqIGEgbmV3IHZhbHVlIHRvIGJlIGNvbW1pdHRlZCB0byB0aGUgbW9kZWwuXHJcbiAqXHJcbiAqIEl0IHdpbGwgbm90IGJlIGV2YWx1YXRlZDpcclxuICogKiBpZiB0aGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgYCRwYXJzZXJzYCB0cmFuc2Zvcm1hdGlvbiBwaXBlbGluZSBoYXMgbm90IGNoYW5nZWRcclxuICogKiBpZiB0aGUgaW5wdXQgaGFzIGNvbnRpbnVlZCB0byBiZSBpbnZhbGlkIHNpbmNlIHRoZSBtb2RlbCB3aWxsIHN0YXkgYG51bGxgXHJcbiAqICogaWYgdGhlIG1vZGVsIGlzIGNoYW5nZWQgcHJvZ3JhbW1hdGljYWxseSBhbmQgbm90IGJ5IGEgY2hhbmdlIHRvIHRoZSBpbnB1dCB2YWx1ZVxyXG4gKlxyXG4gKlxyXG4gKiBOb3RlLCB0aGlzIGRpcmVjdGl2ZSByZXF1aXJlcyBgbmdNb2RlbGAgdG8gYmUgcHJlc2VudC5cclxuICpcclxuICogQGVsZW1lbnQgaW5wdXRcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NoYW5nZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uIGNoYW5nZVxyXG4gKiBpbiBpbnB1dCB2YWx1ZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogPGV4YW1wbGUgbmFtZT1cIm5nQ2hhbmdlLWRpcmVjdGl2ZVwiIG1vZHVsZT1cImNoYW5nZUV4YW1wbGVcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICAgPHNjcmlwdD5cclxuICogICAgICAgYW5ndWxhci5tb2R1bGUoJ2NoYW5nZUV4YW1wbGUnLCBbXSlcclxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gKiAgICAgICAgICAgJHNjb3BlLmNvdW50ZXIgPSAwO1xyXG4gKiAgICAgICAgICAgJHNjb3BlLmNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgICAgICAkc2NvcGUuY291bnRlcisrO1xyXG4gKiAgICAgICAgICAgfTtcclxuICogICAgICAgICB9XSk7XHJcbiAqICAgICA8L3NjcmlwdD5cclxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNvbmZpcm1lZFwiIG5nLWNoYW5nZT1cImNoYW5nZSgpXCIgaWQ9XCJuZy1jaGFuZ2UtZXhhbXBsZTFcIiAvPlxyXG4gKiAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb25maXJtZWRcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMlwiIC8+XHJcbiAqICAgICAgIDxsYWJlbCBmb3I9XCJuZy1jaGFuZ2UtZXhhbXBsZTJcIj5Db25maXJtZWQ8L2xhYmVsPjxiciAvPlxyXG4gKiAgICAgICA8dHQ+ZGVidWcgPSB7e2NvbmZpcm1lZH19PC90dD48YnIvPlxyXG4gKiAgICAgICA8dHQ+Y291bnRlciA9IHt7Y291bnRlcn19PC90dD48YnIvPlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICogICAgIHZhciBjb3VudGVyID0gZWxlbWVudChieS5iaW5kaW5nKCdjb3VudGVyJykpO1xyXG4gKiAgICAgdmFyIGRlYnVnID0gZWxlbWVudChieS5iaW5kaW5nKCdjb25maXJtZWQnKSk7XHJcbiAqXHJcbiAqICAgICBpdCgnc2hvdWxkIGV2YWx1YXRlIHRoZSBleHByZXNzaW9uIGlmIGNoYW5naW5nIGZyb20gdmlldycsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvQ29udGFpbignMCcpO1xyXG4gKlxyXG4gKiAgICAgICBlbGVtZW50KGJ5LmlkKCduZy1jaGFuZ2UtZXhhbXBsZTEnKSkuY2xpY2soKTtcclxuICpcclxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEnKTtcclxuICogICAgICAgZXhwZWN0KGRlYnVnLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAqICAgICB9KTtcclxuICpcclxuICogICAgIGl0KCdzaG91bGQgbm90IGV2YWx1YXRlIHRoZSBleHByZXNzaW9uIGlmIGNoYW5naW5nIGZyb20gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgZWxlbWVudChieS5pZCgnbmctY2hhbmdlLWV4YW1wbGUyJykpLmNsaWNrKCk7XHJcblxyXG4gKiAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvQ29udGFpbignMCcpO1xyXG4gKiAgICAgICBleHBlY3QoZGVidWcuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICogICAgIH0pO1xyXG4gKiAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nQ2hhbmdlRGlyZWN0aXZlID0gdmFsdWVGbih7XHJcbiAgcmVzdHJpY3Q6ICdBJyxcclxuICByZXF1aXJlOiAnbmdNb2RlbCcsXHJcbiAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcclxuICAgIGN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChmdW5jdGlvbigpIHtcclxuICAgICAgc2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY2xhc3NEaXJlY3RpdmUobmFtZSwgc2VsZWN0b3IpIHtcclxuICBuYW1lID0gJ25nQ2xhc3MnICsgbmFtZTtcclxuICByZXR1cm4gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0FDJyxcclxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICB2YXIgb2xkVmFsO1xyXG5cclxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0cltuYW1lXSwgbmdDbGFzc1dhdGNoQWN0aW9uLCB0cnVlKTtcclxuXHJcbiAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnY2xhc3MnLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgbmdDbGFzc1dhdGNoQWN0aW9uKHNjb3BlLiRldmFsKGF0dHJbbmFtZV0pKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGlmIChuYW1lICE9PSAnbmdDbGFzcycpIHtcclxuICAgICAgICAgIHNjb3BlLiR3YXRjaCgnJGluZGV4JywgZnVuY3Rpb24oJGluZGV4LCBvbGQkaW5kZXgpIHtcclxuICAgICAgICAgICAgLy8ganNoaW50IGJpdHdpc2U6IGZhbHNlXHJcbiAgICAgICAgICAgIHZhciBtb2QgPSAkaW5kZXggJiAxO1xyXG4gICAgICAgICAgICBpZiAobW9kICE9PSAob2xkJGluZGV4ICYgMSkpIHtcclxuICAgICAgICAgICAgICB2YXIgY2xhc3NlcyA9IGFycmF5Q2xhc3NlcyhzY29wZS4kZXZhbChhdHRyW25hbWVdKSk7XHJcbiAgICAgICAgICAgICAgbW9kID09PSBzZWxlY3RvciA/XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzc2VzKGNsYXNzZXMpIDpcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzZXMoY2xhc3Nlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkQ2xhc3NlcyhjbGFzc2VzKSB7XHJcbiAgICAgICAgICB2YXIgbmV3Q2xhc3NlcyA9IGRpZ2VzdENsYXNzQ291bnRzKGNsYXNzZXMsIDEpO1xyXG4gICAgICAgICAgYXR0ci4kYWRkQ2xhc3MobmV3Q2xhc3Nlcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKGNsYXNzZXMpIHtcclxuICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgLTEpO1xyXG4gICAgICAgICAgYXR0ci4kcmVtb3ZlQ2xhc3MobmV3Q2xhc3Nlcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkaWdlc3RDbGFzc0NvdW50cyhjbGFzc2VzLCBjb3VudCkge1xyXG4gICAgICAgICAgLy8gVXNlIGNyZWF0ZU1hcCgpIHRvIHByZXZlbnQgY2xhc3MgYXNzdW1wdGlvbnMgaW52b2x2aW5nIHByb3BlcnR5XHJcbiAgICAgICAgICAvLyBuYW1lcyBpbiBPYmplY3QucHJvdG90eXBlXHJcbiAgICAgICAgICB2YXIgY2xhc3NDb3VudHMgPSBlbGVtZW50LmRhdGEoJyRjbGFzc0NvdW50cycpIHx8IGNyZWF0ZU1hcCgpO1xyXG4gICAgICAgICAgdmFyIGNsYXNzZXNUb1VwZGF0ZSA9IFtdO1xyXG4gICAgICAgICAgZm9yRWFjaChjbGFzc2VzLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgaWYgKGNvdW50ID4gMCB8fCBjbGFzc0NvdW50c1tjbGFzc05hbWVdKSB7XHJcbiAgICAgICAgICAgICAgY2xhc3NDb3VudHNbY2xhc3NOYW1lXSA9IChjbGFzc0NvdW50c1tjbGFzc05hbWVdIHx8IDApICsgY291bnQ7XHJcbiAgICAgICAgICAgICAgaWYgKGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gPT09ICsoY291bnQgPiAwKSkge1xyXG4gICAgICAgICAgICAgICAgY2xhc3Nlc1RvVXBkYXRlLnB1c2goY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZWxlbWVudC5kYXRhKCckY2xhc3NDb3VudHMnLCBjbGFzc0NvdW50cyk7XHJcbiAgICAgICAgICByZXR1cm4gY2xhc3Nlc1RvVXBkYXRlLmpvaW4oJyAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcykge1xyXG4gICAgICAgICAgdmFyIHRvQWRkID0gYXJyYXlEaWZmZXJlbmNlKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpO1xyXG4gICAgICAgICAgdmFyIHRvUmVtb3ZlID0gYXJyYXlEaWZmZXJlbmNlKG9sZENsYXNzZXMsIG5ld0NsYXNzZXMpO1xyXG4gICAgICAgICAgdG9BZGQgPSBkaWdlc3RDbGFzc0NvdW50cyh0b0FkZCwgMSk7XHJcbiAgICAgICAgICB0b1JlbW92ZSA9IGRpZ2VzdENsYXNzQ291bnRzKHRvUmVtb3ZlLCAtMSk7XHJcbiAgICAgICAgICBpZiAodG9BZGQgJiYgdG9BZGQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIHRvQWRkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh0b1JlbW92ZSAmJiB0b1JlbW92ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgdG9SZW1vdmUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbmdDbGFzc1dhdGNoQWN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgICAgaWYgKHNlbGVjdG9yID09PSB0cnVlIHx8IHNjb3BlLiRpbmRleCAlIDIgPT09IHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gYXJyYXlDbGFzc2VzKG5ld1ZhbCB8fCBbXSk7XHJcbiAgICAgICAgICAgIGlmICghb2xkVmFsKSB7XHJcbiAgICAgICAgICAgICAgYWRkQ2xhc3NlcyhuZXdDbGFzc2VzKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghZXF1YWxzKG5ld1ZhbCxvbGRWYWwpKSB7XHJcbiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBhcnJheUNsYXNzZXMob2xkVmFsKTtcclxuICAgICAgICAgICAgICB1cGRhdGVDbGFzc2VzKG9sZENsYXNzZXMsIG5ld0NsYXNzZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoaXNBcnJheShuZXdWYWwpKSB7XHJcbiAgICAgICAgICAgIG9sZFZhbCA9IG5ld1ZhbC5tYXAoZnVuY3Rpb24odikgeyByZXR1cm4gc2hhbGxvd0NvcHkodik7IH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb2xkVmFsID0gc2hhbGxvd0NvcHkobmV3VmFsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gYXJyYXlEaWZmZXJlbmNlKHRva2VuczEsIHRva2VuczIpIHtcclxuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xyXG5cclxuICAgICAgb3V0ZXI6XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zMS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciB0b2tlbiA9IHRva2VuczFbaV07XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0b2tlbnMyLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICBpZiAodG9rZW4gPT0gdG9rZW5zMltqXSkgY29udGludWUgb3V0ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhbHVlcy5wdXNoKHRva2VuKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdmFsdWVzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFycmF5Q2xhc3NlcyhjbGFzc1ZhbCkge1xyXG4gICAgICB2YXIgY2xhc3NlcyA9IFtdO1xyXG4gICAgICBpZiAoaXNBcnJheShjbGFzc1ZhbCkpIHtcclxuICAgICAgICBmb3JFYWNoKGNsYXNzVmFsLCBmdW5jdGlvbih2KSB7XHJcbiAgICAgICAgICBjbGFzc2VzID0gY2xhc3Nlcy5jb25jYXQoYXJyYXlDbGFzc2VzKHYpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY2xhc3NlcztcclxuICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyhjbGFzc1ZhbCkpIHtcclxuICAgICAgICByZXR1cm4gY2xhc3NWYWwuc3BsaXQoJyAnKTtcclxuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChjbGFzc1ZhbCkpIHtcclxuICAgICAgICBmb3JFYWNoKGNsYXNzVmFsLCBmdW5jdGlvbih2LCBrKSB7XHJcbiAgICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICBjbGFzc2VzID0gY2xhc3Nlcy5jb25jYXQoay5zcGxpdCgnICcpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY2xhc3NlcztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gY2xhc3NWYWw7XHJcbiAgICB9XHJcbiAgfV07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQ2xhc3NcclxuICogQHJlc3RyaWN0IEFDXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nQ2xhc3NgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIGR5bmFtaWNhbGx5IHNldCBDU1MgY2xhc3NlcyBvbiBhbiBIVE1MIGVsZW1lbnQgYnkgZGF0YWJpbmRpbmdcclxuICogYW4gZXhwcmVzc2lvbiB0aGF0IHJlcHJlc2VudHMgYWxsIGNsYXNzZXMgdG8gYmUgYWRkZWQuXHJcbiAqXHJcbiAqIFRoZSBkaXJlY3RpdmUgb3BlcmF0ZXMgaW4gdGhyZWUgZGlmZmVyZW50IHdheXMsIGRlcGVuZGluZyBvbiB3aGljaCBvZiB0aHJlZSB0eXBlcyB0aGUgZXhwcmVzc2lvblxyXG4gKiBldmFsdWF0ZXMgdG86XHJcbiAqXHJcbiAqIDEuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlIHN0cmluZyBzaG91bGQgYmUgb25lIG9yIG1vcmUgc3BhY2UtZGVsaW1pdGVkIGNsYXNzXHJcbiAqIG5hbWVzLlxyXG4gKlxyXG4gKiAyLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYW4gb2JqZWN0LCB0aGVuIGZvciBlYWNoIGtleS12YWx1ZSBwYWlyIG9mIHRoZVxyXG4gKiBvYmplY3Qgd2l0aCBhIHRydXRoeSB2YWx1ZSB0aGUgY29ycmVzcG9uZGluZyBrZXkgaXMgdXNlZCBhcyBhIGNsYXNzIG5hbWUuXHJcbiAqXHJcbiAqIDMuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBhcnJheSwgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSBzaG91bGQgZWl0aGVyIGJlIGEgc3RyaW5nIGFzIGluXHJcbiAqIHR5cGUgMSBvciBhbiBvYmplY3QgYXMgaW4gdHlwZSAyLiBUaGlzIG1lYW5zIHRoYXQgeW91IGNhbiBtaXggc3RyaW5ncyBhbmQgb2JqZWN0cyB0b2dldGhlciBpbiBhbiBhcnJheVxyXG4gKiB0byBnaXZlIHlvdSBtb3JlIGNvbnRyb2wgb3ZlciB3aGF0IENTUyBjbGFzc2VzIGFwcGVhci4gU2VlIHRoZSBjb2RlIGJlbG93IGZvciBhbiBleGFtcGxlIG9mIHRoaXMuXHJcbiAqXHJcbiAqXHJcbiAqIFRoZSBkaXJlY3RpdmUgd29uJ3QgYWRkIGR1cGxpY2F0ZSBjbGFzc2VzIGlmIGEgcGFydGljdWxhciBjbGFzcyB3YXMgYWxyZWFkeSBzZXQuXHJcbiAqXHJcbiAqIFdoZW4gdGhlIGV4cHJlc3Npb24gY2hhbmdlcywgdGhlIHByZXZpb3VzbHkgYWRkZWQgY2xhc3NlcyBhcmUgcmVtb3ZlZCBhbmQgb25seSB0aGVuIGFyZSB0aGVcclxuICogbmV3IGNsYXNzZXMgYWRkZWQuXHJcbiAqXHJcbiAqIEBhbmltYXRpb25zXHJcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzfSAgICAgICB8IGp1c3QgYmVmb3JlIHRoZSBjbGFzcyBpcyBhcHBsaWVkIHRvIHRoZSBlbGVtZW50ICAgfFxyXG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNyZW1vdmVDbGFzcyByZW1vdmVDbGFzc30gfCBqdXN0IGJlZm9yZSB0aGUgY2xhc3MgaXMgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50IHxcclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGUgcmVzdWx0XHJcbiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3NcclxuICogICBuYW1lcywgYW4gYXJyYXksIG9yIGEgbWFwIG9mIGNsYXNzIG5hbWVzIHRvIGJvb2xlYW4gdmFsdWVzLiBJbiB0aGUgY2FzZSBvZiBhIG1hcCwgdGhlXHJcbiAqICAgbmFtZXMgb2YgdGhlIHByb3BlcnRpZXMgd2hvc2UgdmFsdWVzIGFyZSB0cnV0aHkgd2lsbCBiZSBhZGRlZCBhcyBjc3MgY2xhc3NlcyB0byB0aGVcclxuICogICBlbGVtZW50LlxyXG4gKlxyXG4gKiBAZXhhbXBsZSBFeGFtcGxlIHRoYXQgZGVtb25zdHJhdGVzIGJhc2ljIGJpbmRpbmdzIHZpYSBuZ0NsYXNzIGRpcmVjdGl2ZS5cclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxwIG5nLWNsYXNzPVwie3N0cmlrZTogZGVsZXRlZCwgYm9sZDogaW1wb3J0YW50LCAnaGFzLWVycm9yJzogZXJyb3J9XCI+TWFwIFN5bnRheCBFeGFtcGxlPC9wPlxyXG4gICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiZGVsZXRlZFwiPlxyXG4gICAgICAgICAgZGVsZXRlZCAoYXBwbHkgXCJzdHJpa2VcIiBjbGFzcylcclxuICAgICAgIDwvbGFiZWw+PGJyPlxyXG4gICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiaW1wb3J0YW50XCI+XHJcbiAgICAgICAgICBpbXBvcnRhbnQgKGFwcGx5IFwiYm9sZFwiIGNsYXNzKVxyXG4gICAgICAgPC9sYWJlbD48YnI+XHJcbiAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJlcnJvclwiPlxyXG4gICAgICAgICAgZXJyb3IgKGFwcGx5IFwiaGFzLWVycm9yXCIgY2xhc3MpXHJcbiAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgPGhyPlxyXG4gICAgICAgPHAgbmctY2xhc3M9XCJzdHlsZVwiPlVzaW5nIFN0cmluZyBTeW50YXg8L3A+XHJcbiAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInN0eWxlXCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQgc3RyaWtlIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkIHN0cmlrZSByZWRcIj5cclxuICAgICAgIDxocj5cclxuICAgICAgIDxwIG5nLWNsYXNzPVwiW3N0eWxlMSwgc3R5bGUyLCBzdHlsZTNdXCI+VXNpbmcgQXJyYXkgU3ludGF4PC9wPlxyXG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUxXCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiPjxicj5cclxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlMlwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWQgMlwiPjxicj5cclxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlM1wiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWQgM1wiPjxicj5cclxuICAgICAgIDxocj5cclxuICAgICAgIDxwIG5nLWNsYXNzPVwiW3N0eWxlNCwge29yYW5nZTogd2FybmluZ31dXCI+VXNpbmcgQXJyYXkgYW5kIE1hcCBTeW50YXg8L3A+XHJcbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTRcIiBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQsIHN0cmlrZVwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkLCBzdHJpa2VcIj48YnI+XHJcbiAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwid2FybmluZ1wiPiB3YXJuaW5nIChhcHBseSBcIm9yYW5nZVwiIGNsYXNzKTwvbGFiZWw+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgIC5zdHJpa2Uge1xyXG4gICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xyXG4gICAgICAgfVxyXG4gICAgICAgLmJvbGQge1xyXG4gICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgfVxyXG4gICAgICAgLnJlZCB7XHJcbiAgICAgICAgICAgY29sb3I6IHJlZDtcclxuICAgICAgIH1cclxuICAgICAgIC5oYXMtZXJyb3Ige1xyXG4gICAgICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93O1xyXG4gICAgICAgfVxyXG4gICAgICAgLm9yYW5nZSB7XHJcbiAgICAgICAgICAgY29sb3I6IG9yYW5nZTtcclxuICAgICAgIH1cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgdmFyIHBzID0gZWxlbWVudC5hbGwoYnkuY3NzKCdwJykpO1xyXG5cclxuICAgICAgIGl0KCdzaG91bGQgbGV0IHlvdSB0b2dnbGUgdGhlIGNsYXNzJywgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC50b01hdGNoKC9ib2xkLyk7XHJcbiAgICAgICAgIGV4cGVjdChwcy5maXJzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkubm90LnRvTWF0Y2goL2hhcy1lcnJvci8pO1xyXG5cclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnaW1wb3J0YW50JykpLmNsaWNrKCk7XHJcbiAgICAgICAgIGV4cGVjdChwcy5maXJzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9NYXRjaCgvYm9sZC8pO1xyXG5cclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnZXJyb3InKSkuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9oYXMtZXJyb3IvKTtcclxuICAgICAgIH0pO1xyXG5cclxuICAgICAgIGl0KCdzaG91bGQgbGV0IHlvdSB0b2dnbGUgc3RyaW5nIGV4YW1wbGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KHBzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZScpKS5jbGVhcigpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZScpKS5zZW5kS2V5cygncmVkJyk7XHJcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdyZWQnKTtcclxuICAgICAgIH0pO1xyXG5cclxuICAgICAgIGl0KCdhcnJheSBleGFtcGxlIHNob3VsZCBoYXZlIDMgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QocHMuZ2V0KDIpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgnJyk7XHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlMScpKS5zZW5kS2V5cygnYm9sZCcpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTInKSkuc2VuZEtleXMoJ3N0cmlrZScpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTMnKSkuc2VuZEtleXMoJ3JlZCcpO1xyXG4gICAgICAgICBleHBlY3QocHMuZ2V0KDIpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgnYm9sZCBzdHJpa2UgcmVkJyk7XHJcbiAgICAgICB9KTtcclxuXHJcbiAgICAgICBpdCgnYXJyYXkgd2l0aCBtYXAgZXhhbXBsZSBzaG91bGQgaGF2ZSAyIGNsYXNzZXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTQnKSkuc2VuZEtleXMoJ2JvbGQnKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnd2FybmluZycpKS5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QocHMubGFzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgnYm9sZCBvcmFuZ2UnKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG5cclxuICAgIyMgQW5pbWF0aW9uc1xyXG5cclxuICAgVGhlIGV4YW1wbGUgYmVsb3cgZGVtb25zdHJhdGVzIGhvdyB0byBwZXJmb3JtIGFuaW1hdGlvbnMgdXNpbmcgbmdDbGFzcy5cclxuXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxpbnB1dCBpZD1cInNldGJ0blwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cInNldFwiIG5nLWNsaWNrPVwibXlWYXI9J215LWNsYXNzJ1wiPlxyXG4gICAgICA8aW5wdXQgaWQ9XCJjbGVhcmJ0blwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cImNsZWFyXCIgbmctY2xpY2s9XCJteVZhcj0nJ1wiPlxyXG4gICAgICA8YnI+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwiYmFzZS1jbGFzc1wiIG5nLWNsYXNzPVwibXlWYXJcIj5TYW1wbGUgVGV4dDwvc3Bhbj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgLmJhc2UtY2xhc3Mge1xyXG4gICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgLmJhc2UtY2xhc3MubXktY2xhc3Mge1xyXG4gICAgICAgICBjb2xvcjogcmVkO1xyXG4gICAgICAgICBmb250LXNpemU6M2VtO1xyXG4gICAgICAgfVxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXHJcbiAgICAgICAgICAgdG9NYXRjaCgvbXktY2xhc3MvKTtcclxuXHJcbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ3NldGJ0bicpKS5jbGljaygpO1xyXG5cclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuYmFzZS1jbGFzcycpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxyXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XHJcblxyXG4gICAgICAgICBlbGVtZW50KGJ5LmlkKCdjbGVhcmJ0bicpKS5jbGljaygpO1xyXG5cclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuYmFzZS1jbGFzcycpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC5cclxuICAgICAgICAgICB0b01hdGNoKC9teS1jbGFzcy8pO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcblxyXG5cclxuICAgIyMgbmdDbGFzcyBhbmQgcHJlLWV4aXN0aW5nIENTUzMgVHJhbnNpdGlvbnMvQW5pbWF0aW9uc1xyXG4gICBUaGUgbmdDbGFzcyBkaXJlY3RpdmUgc3RpbGwgc3VwcG9ydHMgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zIGV2ZW4gaWYgdGhleSBkbyBub3QgZm9sbG93IHRoZSBuZ0FuaW1hdGUgQ1NTIG5hbWluZyBzdHJ1Y3R1cmUuXHJcbiAgIFVwb24gYW5pbWF0aW9uIG5nQW5pbWF0ZSB3aWxsIGFwcGx5IHN1cHBsZW1lbnRhcnkgQ1NTIGNsYXNzZXMgdG8gdHJhY2sgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgYW4gYW5pbWF0aW9uLCBidXQgdGhpcyB3aWxsIG5vdCBoaW5kZXJcclxuICAgYW55IHByZS1leGlzdGluZyBDU1MgdHJhbnNpdGlvbnMgYWxyZWFkeSBvbiB0aGUgZWxlbWVudC4gVG8gZ2V0IGFuIGlkZWEgb2Ygd2hhdCBoYXBwZW5zIGR1cmluZyBhIGNsYXNzLWJhc2VkIGFuaW1hdGlvbiwgYmUgc3VyZVxyXG4gICB0byB2aWV3IHRoZSBzdGVwIGJ5IHN0ZXAgZGV0YWlscyBvZiB7QGxpbmsgJGFuaW1hdGUjYWRkQ2xhc3MgJGFuaW1hdGUuYWRkQ2xhc3N9IGFuZFxyXG4gICB7QGxpbmsgJGFuaW1hdGUjcmVtb3ZlQ2xhc3MgJGFuaW1hdGUucmVtb3ZlQ2xhc3N9LlxyXG4gKi9cclxudmFyIG5nQ2xhc3NEaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnJywgdHJ1ZSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NsYXNzT2RkXHJcbiAqIEByZXN0cmljdCBBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ0NsYXNzT2RkYCBhbmQgYG5nQ2xhc3NFdmVuYCBkaXJlY3RpdmVzIHdvcmsgZXhhY3RseSBhc1xyXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cclxuICogY29uanVuY3Rpb24gd2l0aCBgbmdSZXBlYXRgIGFuZCB0YWtlIGVmZmVjdCBvbmx5IG9uIG9kZCAoZXZlbikgcm93cy5cclxuICpcclxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXHJcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgbmdSZXBlYXR9LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzT2RkIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuIFRoZSByZXN1bHRcclxuICogICBvZiB0aGUgZXZhbHVhdGlvbiBjYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHNwYWNlIGRlbGltaXRlZCBjbGFzcyBuYW1lcyBvciBhbiBhcnJheS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8b2wgbmctaW5pdD1cIm5hbWVzPVsnSm9obicsICdNYXJ5JywgJ0NhdGUnLCAnU3V6J11cIj5cclxuICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJuYW1lIGluIG5hbWVzXCI+XHJcbiAgICAgICAgICAgPHNwYW4gbmctY2xhc3Mtb2RkPVwiJ29kZCdcIiBuZy1jbGFzcy1ldmVuPVwiJ2V2ZW4nXCI+XHJcbiAgICAgICAgICAgICB7e25hbWV9fVxyXG4gICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgPC9vbD5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgLm9kZCB7XHJcbiAgICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgICB9XHJcbiAgICAgICAuZXZlbiB7XHJcbiAgICAgICAgIGNvbG9yOiBibHVlO1xyXG4gICAgICAgfVxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzLW9kZCBhbmQgbmctY2xhc3MtZXZlbicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygwKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cclxuICAgICAgICAgICB0b01hdGNoKC9vZGQvKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMSkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXHJcbiAgICAgICAgICAgdG9NYXRjaCgvZXZlbi8pO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdDbGFzc09kZERpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdPZGQnLCAwKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQ2xhc3NFdmVuXHJcbiAqIEByZXN0cmljdCBBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ0NsYXNzT2RkYCBhbmQgYG5nQ2xhc3NFdmVuYCBkaXJlY3RpdmVzIHdvcmsgZXhhY3RseSBhc1xyXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cclxuICogY29uanVuY3Rpb24gd2l0aCBgbmdSZXBlYXRgIGFuZCB0YWtlIGVmZmVjdCBvbmx5IG9uIG9kZCAoZXZlbikgcm93cy5cclxuICpcclxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXHJcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgbmdSZXBlYXR9LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzRXZlbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGVcclxuICogICByZXN1bHQgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3MgbmFtZXMgb3IgYW4gYXJyYXkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPG9sIG5nLWluaXQ9XCJuYW1lcz1bJ0pvaG4nLCAnTWFyeScsICdDYXRlJywgJ1N1eiddXCI+XHJcbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVwibmFtZSBpbiBuYW1lc1wiPlxyXG4gICAgICAgICAgIDxzcGFuIG5nLWNsYXNzLW9kZD1cIidvZGQnXCIgbmctY2xhc3MtZXZlbj1cIidldmVuJ1wiPlxyXG4gICAgICAgICAgICAge3tuYW1lfX0gJm5ic3A7ICZuYnNwOyAmbmJzcDtcclxuICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8L2xpPlxyXG4gICAgICAgIDwvb2w+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgIC5vZGQge1xyXG4gICAgICAgICBjb2xvcjogcmVkO1xyXG4gICAgICAgfVxyXG4gICAgICAgLmV2ZW4ge1xyXG4gICAgICAgICBjb2xvcjogYmx1ZTtcclxuICAgICAgIH1cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGFzcy1vZGQgYW5kIG5nLWNsYXNzLWV2ZW4nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMCkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXHJcbiAgICAgICAgICAgdG9NYXRjaCgvb2RkLyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDEpLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxyXG4gICAgICAgICAgIHRvTWF0Y2goL2V2ZW4vKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nQ2xhc3NFdmVuRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJ0V2ZW4nLCAxKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQ2xvYWtcclxuICogQHJlc3RyaWN0IEFDXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBpcyB1c2VkIHRvIHByZXZlbnQgdGhlIEFuZ3VsYXIgaHRtbCB0ZW1wbGF0ZSBmcm9tIGJlaW5nIGJyaWVmbHlcclxuICogZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIGluIGl0cyByYXcgKHVuY29tcGlsZWQpIGZvcm0gd2hpbGUgeW91ciBhcHBsaWNhdGlvbiBpcyBsb2FkaW5nLiBVc2UgdGhpc1xyXG4gKiBkaXJlY3RpdmUgdG8gYXZvaWQgdGhlIHVuZGVzaXJhYmxlIGZsaWNrZXIgZWZmZWN0IGNhdXNlZCBieSB0aGUgaHRtbCB0ZW1wbGF0ZSBkaXNwbGF5LlxyXG4gKlxyXG4gKiBUaGUgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIHRvIHRoZSBgPGJvZHk+YCBlbGVtZW50LCBidXQgdGhlIHByZWZlcnJlZCB1c2FnZSBpcyB0byBhcHBseVxyXG4gKiBtdWx0aXBsZSBgbmdDbG9ha2AgZGlyZWN0aXZlcyB0byBzbWFsbCBwb3J0aW9ucyBvZiB0aGUgcGFnZSB0byBwZXJtaXQgcHJvZ3Jlc3NpdmUgcmVuZGVyaW5nXHJcbiAqIG9mIHRoZSBicm93c2VyIHZpZXcuXHJcbiAqXHJcbiAqIGBuZ0Nsb2FrYCB3b3JrcyBpbiBjb29wZXJhdGlvbiB3aXRoIHRoZSBmb2xsb3dpbmcgY3NzIHJ1bGUgZW1iZWRkZWQgd2l0aGluIGBhbmd1bGFyLmpzYCBhbmRcclxuICogYGFuZ3VsYXIubWluLmpzYC5cclxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXHJcbiAqXHJcbiAqIGBgYGNzc1xyXG4gKiBbbmdcXDpjbG9ha10sIFtuZy1jbG9ha10sIFtkYXRhLW5nLWNsb2FrXSwgW3gtbmctY2xvYWtdLCAubmctY2xvYWssIC54LW5nLWNsb2FrIHtcclxuICogICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIFdoZW4gdGhpcyBjc3MgcnVsZSBpcyBsb2FkZWQgYnkgdGhlIGJyb3dzZXIsIGFsbCBodG1sIGVsZW1lbnRzIChpbmNsdWRpbmcgdGhlaXIgY2hpbGRyZW4pIHRoYXRcclxuICogYXJlIHRhZ2dlZCB3aXRoIHRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGFyZSBoaWRkZW4uIFdoZW4gQW5ndWxhciBlbmNvdW50ZXJzIHRoaXMgZGlyZWN0aXZlXHJcbiAqIGR1cmluZyB0aGUgY29tcGlsYXRpb24gb2YgdGhlIHRlbXBsYXRlIGl0IGRlbGV0ZXMgdGhlIGBuZ0Nsb2FrYCBlbGVtZW50IGF0dHJpYnV0ZSwgbWFraW5nXHJcbiAqIHRoZSBjb21waWxlZCBlbGVtZW50IHZpc2libGUuXHJcbiAqXHJcbiAqIEZvciB0aGUgYmVzdCByZXN1bHQsIHRoZSBgYW5ndWxhci5qc2Agc2NyaXB0IG11c3QgYmUgbG9hZGVkIGluIHRoZSBoZWFkIHNlY3Rpb24gb2YgdGhlIGh0bWxcclxuICogZG9jdW1lbnQ7IGFsdGVybmF0aXZlbHksIHRoZSBjc3MgcnVsZSBhYm92ZSBtdXN0IGJlIGluY2x1ZGVkIGluIHRoZSBleHRlcm5hbCBzdHlsZXNoZWV0IG9mIHRoZVxyXG4gKiBhcHBsaWNhdGlvbi5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGRpdiBpZD1cInRlbXBsYXRlMVwiIG5nLWNsb2FrPnt7ICdoZWxsbycgfX08L2Rpdj5cclxuICAgICAgICA8ZGl2IGlkPVwidGVtcGxhdGUyXCIgY2xhc3M9XCJuZy1jbG9ha1wiPnt7ICd3b3JsZCcgfX08L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCByZW1vdmUgdGhlIHRlbXBsYXRlIGRpcmVjdGl2ZSBhbmQgY3NzIGNsYXNzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdCgkKCcjdGVtcGxhdGUxJykuZ2V0QXR0cmlidXRlKCduZy1jbG9haycpKS5cclxuICAgICAgICAgICB0b0JlTnVsbCgpO1xyXG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMicpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXHJcbiAgICAgICAgICAgdG9CZU51bGwoKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKlxyXG4gKi9cclxudmFyIG5nQ2xvYWtEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XHJcbiAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xyXG4gICAgYXR0ci4kc2V0KCduZ0Nsb2FrJywgdW5kZWZpbmVkKTtcclxuICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ25nLWNsb2FrJyk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQ29udHJvbGxlclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ0NvbnRyb2xsZXJgIGRpcmVjdGl2ZSBhdHRhY2hlcyBhIGNvbnRyb2xsZXIgY2xhc3MgdG8gdGhlIHZpZXcuIFRoaXMgaXMgYSBrZXkgYXNwZWN0IG9mIGhvdyBhbmd1bGFyXHJcbiAqIHN1cHBvcnRzIHRoZSBwcmluY2lwbGVzIGJlaGluZCB0aGUgTW9kZWwtVmlldy1Db250cm9sbGVyIGRlc2lnbiBwYXR0ZXJuLlxyXG4gKlxyXG4gKiBNVkMgY29tcG9uZW50cyBpbiBhbmd1bGFyOlxyXG4gKlxyXG4gKiAqIE1vZGVsIOKAlCBNb2RlbHMgYXJlIHRoZSBwcm9wZXJ0aWVzIG9mIGEgc2NvcGU7IHNjb3BlcyBhcmUgYXR0YWNoZWQgdG8gdGhlIERPTSB3aGVyZSBzY29wZSBwcm9wZXJ0aWVzXHJcbiAqICAgYXJlIGFjY2Vzc2VkIHRocm91Z2ggYmluZGluZ3MuXHJcbiAqICogVmlldyDigJQgVGhlIHRlbXBsYXRlIChIVE1MIHdpdGggZGF0YSBiaW5kaW5ncykgdGhhdCBpcyByZW5kZXJlZCBpbnRvIHRoZSBWaWV3LlxyXG4gKiAqIENvbnRyb2xsZXIg4oCUIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgc3BlY2lmaWVzIGEgQ29udHJvbGxlciBjbGFzczsgdGhlIGNsYXNzIGNvbnRhaW5zIGJ1c2luZXNzXHJcbiAqICAgbG9naWMgYmVoaW5kIHRoZSBhcHBsaWNhdGlvbiB0byBkZWNvcmF0ZSB0aGUgc2NvcGUgd2l0aCBmdW5jdGlvbnMgYW5kIHZhbHVlc1xyXG4gKlxyXG4gKiBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIGF0dGFjaCBjb250cm9sbGVycyB0byB0aGUgRE9NIGJ5IGRlY2xhcmluZyBpdCBpbiBhIHJvdXRlIGRlZmluaXRpb25cclxuICogdmlhIHRoZSB7QGxpbmsgbmdSb3V0ZS4kcm91dGUgJHJvdXRlfSBzZXJ2aWNlLiBBIGNvbW1vbiBtaXN0YWtlIGlzIHRvIGRlY2xhcmUgdGhlIGNvbnRyb2xsZXJcclxuICogYWdhaW4gdXNpbmcgYG5nLWNvbnRyb2xsZXJgIGluIHRoZSB0ZW1wbGF0ZSBpdHNlbGYuICBUaGlzIHdpbGwgY2F1c2UgdGhlIGNvbnRyb2xsZXIgdG8gYmUgYXR0YWNoZWRcclxuICogYW5kIGV4ZWN1dGVkIHR3aWNlLlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHNjb3BlXHJcbiAqIEBwcmlvcml0eSA1MDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NvbnRyb2xsZXIgTmFtZSBvZiBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHJlZ2lzdGVyZWQgd2l0aCB0aGUgY3VycmVudFxyXG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciAkY29udHJvbGxlclByb3ZpZGVyfSBvciBhbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufVxyXG4gKiB0aGF0IG9uIHRoZSBjdXJyZW50IHNjb3BlIGV2YWx1YXRlcyB0byBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBUaGUgY29udHJvbGxlciBpbnN0YW5jZSBjYW4gYmUgcHVibGlzaGVkIGludG8gYSBzY29wZSBwcm9wZXJ0eSBieSBzcGVjaWZ5aW5nXHJcbiAqIGBuZy1jb250cm9sbGVyPVwiYXMgcHJvcGVydHlOYW1lXCJgLlxyXG4gKlxyXG4gKiBJZiB0aGUgY3VycmVudCBgJGNvbnRyb2xsZXJQcm92aWRlcmAgaXMgY29uZmlndXJlZCB0byB1c2UgZ2xvYmFscyAodmlhXHJcbiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFscyBgJGNvbnRyb2xsZXJQcm92aWRlci5hbGxvd0dsb2JhbHMoKWAgfSksIHRoaXMgbWF5XHJcbiAqIGFsc28gYmUgdGhlIG5hbWUgb2YgYSBnbG9iYWxseSBhY2Nlc3NpYmxlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIChub3QgcmVjb21tZW5kZWQpLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBIZXJlIGlzIGEgc2ltcGxlIGZvcm0gZm9yIGVkaXRpbmcgdXNlciBjb250YWN0IGluZm9ybWF0aW9uLiBBZGRpbmcsIHJlbW92aW5nLCBjbGVhcmluZywgYW5kXHJcbiAqIGdyZWV0aW5nIGFyZSBtZXRob2RzIGRlY2xhcmVkIG9uIHRoZSBjb250cm9sbGVyIChzZWUgc291cmNlIHRhYikuIFRoZXNlIG1ldGhvZHMgY2FuXHJcbiAqIGVhc2lseSBiZSBjYWxsZWQgZnJvbSB0aGUgYW5ndWxhciBtYXJrdXAuIEFueSBjaGFuZ2VzIHRvIHRoZSBkYXRhIGFyZSBhdXRvbWF0aWNhbGx5IHJlZmxlY3RlZFxyXG4gKiBpbiB0aGUgVmlldyB3aXRob3V0IHRoZSBuZWVkIGZvciBhIG1hbnVhbCB1cGRhdGUuXHJcbiAqXHJcbiAqIFR3byBkaWZmZXJlbnQgZGVjbGFyYXRpb24gc3R5bGVzIGFyZSBpbmNsdWRlZCBiZWxvdzpcclxuICpcclxuICogKiBvbmUgYmluZHMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBkaXJlY3RseSBvbnRvIHRoZSBjb250cm9sbGVyIHVzaW5nIGB0aGlzYDpcclxuICogYG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIxIGFzIHNldHRpbmdzXCJgXHJcbiAqICogb25lIGluamVjdHMgYCRzY29wZWAgaW50byB0aGUgY29udHJvbGxlcjpcclxuICogYG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCJgXHJcbiAqXHJcbiAqIFRoZSBzZWNvbmQgb3B0aW9uIGlzIG1vcmUgY29tbW9uIGluIHRoZSBBbmd1bGFyIGNvbW11bml0eSwgYW5kIGlzIGdlbmVyYWxseSB1c2VkIGluIGJvaWxlcnBsYXRlc1xyXG4gKiBhbmQgaW4gdGhpcyBndWlkZS4gSG93ZXZlciwgdGhlcmUgYXJlIGFkdmFudGFnZXMgdG8gYmluZGluZyBwcm9wZXJ0aWVzIGRpcmVjdGx5IHRvIHRoZSBjb250cm9sbGVyXHJcbiAqIGFuZCBhdm9pZGluZyBzY29wZS5cclxuICpcclxuICogKiBVc2luZyBgY29udHJvbGxlciBhc2AgbWFrZXMgaXQgb2J2aW91cyB3aGljaCBjb250cm9sbGVyIHlvdSBhcmUgYWNjZXNzaW5nIGluIHRoZSB0ZW1wbGF0ZSB3aGVuXHJcbiAqIG11bHRpcGxlIGNvbnRyb2xsZXJzIGFwcGx5IHRvIGFuIGVsZW1lbnQuXHJcbiAqICogSWYgeW91IGFyZSB3cml0aW5nIHlvdXIgY29udHJvbGxlcnMgYXMgY2xhc3NlcyB5b3UgaGF2ZSBlYXNpZXIgYWNjZXNzIHRvIHRoZSBwcm9wZXJ0aWVzIGFuZFxyXG4gKiBtZXRob2RzLCB3aGljaCB3aWxsIGFwcGVhciBvbiB0aGUgc2NvcGUsIGZyb20gaW5zaWRlIHRoZSBjb250cm9sbGVyIGNvZGUuXHJcbiAqICogU2luY2UgdGhlcmUgaXMgYWx3YXlzIGEgYC5gIGluIHRoZSBiaW5kaW5ncywgeW91IGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgcHJvdG90eXBhbFxyXG4gKiBpbmhlcml0YW5jZSBtYXNraW5nIHByaW1pdGl2ZXMuXHJcbiAqXHJcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlIGBjb250cm9sbGVyIGFzYCBzeW50YXguXHJcbiAqXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0NvbnRyb2xsZXJBc1wiIG1vZHVsZT1cImNvbnRyb2xsZXJBc0V4YW1wbGVcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICA8ZGl2IGlkPVwiY3RybC1hcy1leG1wbFwiIG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIxIGFzIHNldHRpbmdzXCI+XHJcbiAqICAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic2V0dGluZ3MubmFtZVwiLz48L2xhYmVsPlxyXG4gKiAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5ncmVldCgpXCI+Z3JlZXQ8L2J1dHRvbj48YnIvPlxyXG4gKiAgICAgIENvbnRhY3Q6XHJcbiAqICAgICAgPHVsPlxyXG4gKiAgICAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHNcIj5cclxuICogICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cImNvbnRhY3QudHlwZVwiIGFyaWEtbGFiZWw9XCJDb250YWN0IG1ldGhvZFwiIGlkPVwic2VsZWN0X3t7JGluZGV4fX1cIj5cclxuICogICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxyXG4gKiAgICAgICAgICAgICA8b3B0aW9uPmVtYWlsPC9vcHRpb24+XHJcbiAqICAgICAgICAgIDwvc2VsZWN0PlxyXG4gKiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIiBhcmlhLWxhYmVsbGVkYnk9XCJzZWxlY3Rfe3skaW5kZXh9fVwiIC8+XHJcbiAqICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5jbGVhckNvbnRhY3QoY29udGFjdClcIj5jbGVhcjwvYnV0dG9uPlxyXG4gKiAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MucmVtb3ZlQ29udGFjdChjb250YWN0KVwiIGFyaWEtbGFiZWw9XCJSZW1vdmVcIj5YPC9idXR0b24+XHJcbiAqICAgICAgICA8L2xpPlxyXG4gKiAgICAgICAgPGxpPjxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5hZGRDb250YWN0KClcIj5hZGQ8L2J1dHRvbj48L2xpPlxyXG4gKiAgICAgPC91bD5cclxuICogICAgPC9kaXY+XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICogICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJBc0V4YW1wbGUnLCBbXSlcclxuICogICAgICAuY29udHJvbGxlcignU2V0dGluZ3NDb250cm9sbGVyMScsIFNldHRpbmdzQ29udHJvbGxlcjEpO1xyXG4gKlxyXG4gKiAgICBmdW5jdGlvbiBTZXR0aW5nc0NvbnRyb2xsZXIxKCkge1xyXG4gKiAgICAgIHRoaXMubmFtZSA9IFwiSm9obiBTbWl0aFwiO1xyXG4gKiAgICAgIHRoaXMuY29udGFjdHMgPSBbXHJcbiAqICAgICAgICB7dHlwZTogJ3Bob25lJywgdmFsdWU6ICc0MDggNTU1IDEyMTInfSxcclxuICogICAgICAgIHt0eXBlOiAnZW1haWwnLCB2YWx1ZTogJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnfSBdO1xyXG4gKiAgICB9XHJcbiAqXHJcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmdyZWV0ID0gZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgYWxlcnQodGhpcy5uYW1lKTtcclxuICogICAgfTtcclxuICpcclxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUuYWRkQ29udGFjdCA9IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgIHRoaXMuY29udGFjdHMucHVzaCh7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICd5b3VybmFtZUBleGFtcGxlLm9yZyd9KTtcclxuICogICAgfTtcclxuICpcclxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUucmVtb3ZlQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3RUb1JlbW92ZSkge1xyXG4gKiAgICAgdmFyIGluZGV4ID0gdGhpcy5jb250YWN0cy5pbmRleE9mKGNvbnRhY3RUb1JlbW92ZSk7XHJcbiAqICAgICAgdGhpcy5jb250YWN0cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gKiAgICB9O1xyXG4gKlxyXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5jbGVhckNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0KSB7XHJcbiAqICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcclxuICogICAgICBjb250YWN0LnZhbHVlID0gJyc7XHJcbiAqICAgIH07XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICogICAgIGl0KCdzaG91bGQgY2hlY2sgY29udHJvbGxlciBhcycsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1hcy1leG1wbCcpKTtcclxuICogICAgICAgICBleHBlY3QoY29udGFpbmVyLmVsZW1lbnQoYnkubW9kZWwoJ3NldHRpbmdzLm5hbWUnKSlcclxuICogICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJ0pvaG4gU21pdGgnKTtcclxuICpcclxuICogICAgICAgdmFyIGZpcnN0UmVwZWF0ID1cclxuICogICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzJykucm93KDApKTtcclxuICogICAgICAgdmFyIHNlY29uZFJlcGVhdCA9XHJcbiAqICAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygxKSk7XHJcbiAqXHJcbiAqICAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcclxuICogICAgICAgICAgIC50b0JlKCc0MDggNTU1IDEyMTInKTtcclxuICpcclxuICogICAgICAgZXhwZWN0KHNlY29uZFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcclxuICogICAgICAgICAgIC50b0JlKCdqb2huLnNtaXRoQGV4YW1wbGUub3JnJyk7XHJcbiAqXHJcbiAqICAgICAgIGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnY2xlYXInKSkuY2xpY2soKTtcclxuICpcclxuICogICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gKiAgICAgICAgICAgLnRvQmUoJycpO1xyXG4gKlxyXG4gKiAgICAgICBjb250YWluZXIuZWxlbWVudChieS5idXR0b25UZXh0KCdhZGQnKSkuY2xpY2soKTtcclxuICpcclxuICogICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzJykucm93KDIpKVxyXG4gKiAgICAgICAgICAgLmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSlcclxuICogICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXHJcbiAqICAgICAgICAgICAudG9CZSgneW91cm5hbWVAZXhhbXBsZS5vcmcnKTtcclxuICogICAgIH0pO1xyXG4gKiAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHRoZSBcImF0dGFjaCB0byBgJHNjb3BlYFwiIHN0eWxlIG9mIGNvbnRyb2xsZXIuXHJcbiAqXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0NvbnRyb2xsZXJcIiBtb2R1bGU9XCJjb250cm9sbGVyRXhhbXBsZVwiPlxyXG4gKiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICA8ZGl2IGlkPVwiY3RybC1leG1wbFwiIG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCI+XHJcbiAqICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCIvPjwvbGFiZWw+XHJcbiAqICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZ3JlZXQoKVwiPmdyZWV0PC9idXR0b24+PGJyLz5cclxuICogICAgIENvbnRhY3Q6XHJcbiAqICAgICA8dWw+XHJcbiAqICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XHJcbiAqICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cImNvbnRhY3QudHlwZVwiIGlkPVwic2VsZWN0X3t7JGluZGV4fX1cIj5cclxuICogICAgICAgICAgICA8b3B0aW9uPnBob25lPC9vcHRpb24+XHJcbiAqICAgICAgICAgICAgPG9wdGlvbj5lbWFpbDwvb3B0aW9uPlxyXG4gKiAgICAgICAgIDwvc2VsZWN0PlxyXG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY29udGFjdC52YWx1ZVwiIGFyaWEtbGFiZWxsZWRieT1cInNlbGVjdF97eyRpbmRleH19XCIgLz5cclxuICogICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY2xlYXJDb250YWN0KGNvbnRhY3QpXCI+Y2xlYXI8L2J1dHRvbj5cclxuICogICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicmVtb3ZlQ29udGFjdChjb250YWN0KVwiPlg8L2J1dHRvbj5cclxuICogICAgICAgPC9saT5cclxuICogICAgICAgPGxpPlsgPGJ1dHRvbiBuZy1jbGljaz1cImFkZENvbnRhY3QoKVwiPmFkZDwvYnV0dG9uPiBdPC9saT5cclxuICogICAgPC91bD5cclxuICogICA8L2Rpdj5cclxuICogIDwvZmlsZT5cclxuICogIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICogICBhbmd1bGFyLm1vZHVsZSgnY29udHJvbGxlckV4YW1wbGUnLCBbXSlcclxuICogICAgIC5jb250cm9sbGVyKCdTZXR0aW5nc0NvbnRyb2xsZXIyJywgWyckc2NvcGUnLCBTZXR0aW5nc0NvbnRyb2xsZXIyXSk7XHJcbiAqXHJcbiAqICAgZnVuY3Rpb24gU2V0dGluZ3NDb250cm9sbGVyMigkc2NvcGUpIHtcclxuICogICAgICRzY29wZS5uYW1lID0gXCJKb2huIFNtaXRoXCI7XHJcbiAqICAgICAkc2NvcGUuY29udGFjdHMgPSBbXHJcbiAqICAgICAgIHt0eXBlOidwaG9uZScsIHZhbHVlOic0MDggNTU1IDEyMTInfSxcclxuICogICAgICAge3R5cGU6J2VtYWlsJywgdmFsdWU6J2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnfSBdO1xyXG4gKlxyXG4gKiAgICAgJHNjb3BlLmdyZWV0ID0gZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGFsZXJ0KCRzY29wZS5uYW1lKTtcclxuICogICAgIH07XHJcbiAqXHJcbiAqICAgICAkc2NvcGUuYWRkQ29udGFjdCA9IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMucHVzaCh7dHlwZTonZW1haWwnLCB2YWx1ZToneW91cm5hbWVAZXhhbXBsZS5vcmcnfSk7XHJcbiAqICAgICB9O1xyXG4gKlxyXG4gKiAgICAgJHNjb3BlLnJlbW92ZUNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0VG9SZW1vdmUpIHtcclxuICogICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmNvbnRhY3RzLmluZGV4T2YoY29udGFjdFRvUmVtb3ZlKTtcclxuICogICAgICAgJHNjb3BlLmNvbnRhY3RzLnNwbGljZShpbmRleCwgMSk7XHJcbiAqICAgICB9O1xyXG4gKlxyXG4gKiAgICAgJHNjb3BlLmNsZWFyQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3QpIHtcclxuICogICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcclxuICogICAgICAgY29udGFjdC52YWx1ZSA9ICcnO1xyXG4gKiAgICAgfTtcclxuICogICB9XHJcbiAqICA8L2ZpbGU+XHJcbiAqICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAqICAgIGl0KCdzaG91bGQgY2hlY2sgY29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50KGJ5LmlkKCdjdHJsLWV4bXBsJykpO1xyXG4gKlxyXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5tb2RlbCgnbmFtZScpKVxyXG4gKiAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCdKb2huIFNtaXRoJyk7XHJcbiAqXHJcbiAqICAgICAgdmFyIGZpcnN0UmVwZWF0ID1cclxuICogICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gY29udGFjdHMnKS5yb3coMCkpO1xyXG4gKiAgICAgIHZhciBzZWNvbmRSZXBlYXQgPVxyXG4gKiAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygxKSk7XHJcbiAqXHJcbiAqICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gKiAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XHJcbiAqICAgICAgZXhwZWN0KHNlY29uZFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcclxuICogICAgICAgICAgLnRvQmUoJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnKTtcclxuICpcclxuICogICAgICBmaXJzdFJlcGVhdC5lbGVtZW50KGJ5LmJ1dHRvblRleHQoJ2NsZWFyJykpLmNsaWNrKCk7XHJcbiAqXHJcbiAqICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gKiAgICAgICAgICAudG9CZSgnJyk7XHJcbiAqXHJcbiAqICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnYWRkJykpLmNsaWNrKCk7XHJcbiAqXHJcbiAqICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDIpKVxyXG4gKiAgICAgICAgICAuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKVxyXG4gKiAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gKiAgICAgICAgICAudG9CZSgneW91cm5hbWVAZXhhbXBsZS5vcmcnKTtcclxuICogICAgfSk7XHJcbiAqICA8L2ZpbGU+XHJcbiAqPC9leGFtcGxlPlxyXG5cclxuICovXHJcbnZhciBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUgPSBbZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBzY29wZTogdHJ1ZSxcclxuICAgIGNvbnRyb2xsZXI6ICdAJyxcclxuICAgIHByaW9yaXR5OiA1MDBcclxuICB9O1xyXG59XTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQ3NwXHJcbiAqXHJcbiAqIEBlbGVtZW50IGh0bWxcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIEFuZ3VsYXIgaGFzIHNvbWUgZmVhdHVyZXMgdGhhdCBjYW4gYnJlYWsgY2VydGFpblxyXG4gKiBbQ1NQIChDb250ZW50IFNlY3VyaXR5IFBvbGljeSldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL1NlY3VyaXR5L0NTUCkgcnVsZXMuXHJcbiAqXHJcbiAqIElmIHlvdSBpbnRlbmQgdG8gaW1wbGVtZW50IHRoZXNlIHJ1bGVzIHRoZW4geW91IG11c3QgdGVsbCBBbmd1bGFyIG5vdCB0byB1c2UgdGhlc2UgZmVhdHVyZXMuXHJcbiAqXHJcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gZGV2ZWxvcGluZyB0aGluZ3MgbGlrZSBHb29nbGUgQ2hyb21lIEV4dGVuc2lvbnMgb3IgVW5pdmVyc2FsIFdpbmRvd3MgQXBwcy5cclxuICpcclxuICpcclxuICogVGhlIGZvbGxvd2luZyBydWxlcyBhZmZlY3QgQW5ndWxhcjpcclxuICpcclxuICogKiBgdW5zYWZlLWV2YWxgOiB0aGlzIHJ1bGUgZm9yYmlkcyBhcHBzIHRvIHVzZSBgZXZhbGAgb3IgYEZ1bmN0aW9uKHN0cmluZylgIGdlbmVyYXRlZCBmdW5jdGlvbnNcclxuICogKGFtb25nIG90aGVyIHRoaW5ncykuIEFuZ3VsYXIgbWFrZXMgdXNlIG9mIHRoaXMgaW4gdGhlIHtAbGluayAkcGFyc2V9IHNlcnZpY2UgdG8gcHJvdmlkZSBhIDMwJVxyXG4gKiBpbmNyZWFzZSBpbiB0aGUgc3BlZWQgb2YgZXZhbHVhdGluZyBBbmd1bGFyIGV4cHJlc3Npb25zLlxyXG4gKlxyXG4gKiAqIGB1bnNhZmUtaW5saW5lYDogdGhpcyBydWxlIGZvcmJpZHMgYXBwcyBmcm9tIGluamVjdCBjdXN0b20gc3R5bGVzIGludG8gdGhlIGRvY3VtZW50LiBBbmd1bGFyXHJcbiAqIG1ha2VzIHVzZSBvZiB0aGlzIHRvIGluY2x1ZGUgc29tZSBDU1MgcnVsZXMgKGUuZy4ge0BsaW5rIG5nQ2xvYWt9IGFuZCB7QGxpbmsgbmdIaWRlfSkuXHJcbiAqIFRvIG1ha2UgdGhlc2UgZGlyZWN0aXZlcyB3b3JrIHdoZW4gYSBDU1AgcnVsZSBpcyBibG9ja2luZyBpbmxpbmUgc3R5bGVzLCB5b3UgbXVzdCBsaW5rIHRvIHRoZVxyXG4gKiBgYW5ndWxhci1jc3AuY3NzYCBpbiB5b3VyIEhUTUwgbWFudWFsbHkuXHJcbiAqXHJcbiAqIElmIHlvdSBkbyBub3QgcHJvdmlkZSBgbmdDc3BgIHRoZW4gQW5ndWxhciB0cmllcyB0byBhdXRvZGV0ZWN0IGlmIENTUCBpcyBibG9ja2luZyB1bnNhZmUtZXZhbFxyXG4gKiBhbmQgYXV0b21hdGljYWxseSBkZWFjdGl2YXRlcyB0aGlzIGZlYXR1cmUgaW4gdGhlIHtAbGluayAkcGFyc2V9IHNlcnZpY2UuIFRoaXMgYXV0b2RldGVjdGlvbixcclxuICogaG93ZXZlciwgdHJpZ2dlcnMgYSBDU1AgZXJyb3IgdG8gYmUgbG9nZ2VkIGluIHRoZSBjb25zb2xlOlxyXG4gKlxyXG4gKiBgYGBcclxuICogUmVmdXNlZCB0byBldmFsdWF0ZSBhIHN0cmluZyBhcyBKYXZhU2NyaXB0IGJlY2F1c2UgJ3Vuc2FmZS1ldmFsJyBpcyBub3QgYW4gYWxsb3dlZCBzb3VyY2Ugb2ZcclxuICogc2NyaXB0IGluIHRoZSBmb2xsb3dpbmcgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZGlyZWN0aXZlOiBcImRlZmF1bHQtc3JjICdzZWxmJ1wiLiBOb3RlIHRoYXRcclxuICogJ3NjcmlwdC1zcmMnIHdhcyBub3QgZXhwbGljaXRseSBzZXQsIHNvICdkZWZhdWx0LXNyYycgaXMgdXNlZCBhcyBhIGZhbGxiYWNrLlxyXG4gKiBgYGBcclxuICpcclxuICogVGhpcyBlcnJvciBpcyBoYXJtbGVzcyBidXQgYW5ub3lpbmcuIFRvIHByZXZlbnQgdGhlIGVycm9yIGZyb20gc2hvd2luZyB1cCwgcHV0IHRoZSBgbmdDc3BgXHJcbiAqIGRpcmVjdGl2ZSBvbiBhbiBlbGVtZW50IG9mIHRoZSBIVE1MIGRvY3VtZW50IHRoYXQgYXBwZWFycyBiZWZvcmUgdGhlIGA8c2NyaXB0PmAgdGFnIHRoYXQgbG9hZHNcclxuICogdGhlIGBhbmd1bGFyLmpzYCBmaWxlLlxyXG4gKlxyXG4gKiAqTm90ZTogVGhpcyBkaXJlY3RpdmUgaXMgb25seSBhdmFpbGFibGUgaW4gdGhlIGBuZy1jc3BgIGFuZCBgZGF0YS1uZy1jc3BgIGF0dHJpYnV0ZSBmb3JtLipcclxuICpcclxuICogWW91IGNhbiBzcGVjaWZ5IHdoaWNoIG9mIHRoZSBDU1AgcmVsYXRlZCBBbmd1bGFyIGZlYXR1cmVzIHNob3VsZCBiZSBkZWFjdGl2YXRlZCBieSBwcm92aWRpbmdcclxuICogYSB2YWx1ZSBmb3IgdGhlIGBuZy1jc3BgIGF0dHJpYnV0ZS4gVGhlIG9wdGlvbnMgYXJlIGFzIGZvbGxvd3M6XHJcbiAqXHJcbiAqICogbm8taW5saW5lLXN0eWxlOiB0aGlzIHN0b3BzIEFuZ3VsYXIgZnJvbSBpbmplY3RpbmcgQ1NTIHN0eWxlcyBpbnRvIHRoZSBET01cclxuICpcclxuICogKiBuby11bnNhZmUtZXZhbDogdGhpcyBzdG9wcyBBbmd1bGFyIGZyb20gb3B0aW1pemluZyAkcGFyc2Ugd2l0aCB1bnNhZmUgZXZhbCBvZiBzdHJpbmdzXHJcbiAqXHJcbiAqIFlvdSBjYW4gdXNlIHRoZXNlIHZhbHVlcyBpbiB0aGUgZm9sbG93aW5nIGNvbWJpbmF0aW9uczpcclxuICpcclxuICpcclxuICogKiBObyBkZWNsYXJhdGlvbiBtZWFucyB0aGF0IEFuZ3VsYXIgd2lsbCBhc3N1bWUgdGhhdCB5b3UgY2FuIGRvIGlubGluZSBzdHlsZXMsIGJ1dCBpdCB3aWxsIGRvXHJcbiAqIGEgcnVudGltZSBjaGVjayBmb3IgdW5zYWZlLWV2YWwuIEUuZy4gYDxib2R5PmAuIFRoaXMgaXMgYmFja3dhcmRseSBjb21wYXRpYmxlIHdpdGggcHJldmlvdXMgdmVyc2lvbnNcclxuICogb2YgQW5ndWxhci5cclxuICpcclxuICogKiBBIHNpbXBsZSBgbmctY3NwYCAob3IgYGRhdGEtbmctY3NwYCkgYXR0cmlidXRlIHdpbGwgdGVsbCBBbmd1bGFyIHRvIGRlYWN0aXZhdGUgYm90aCBpbmxpbmVcclxuICogc3R5bGVzIGFuZCB1bnNhZmUgZXZhbC4gRS5nLiBgPGJvZHkgbmctY3NwPmAuIFRoaXMgaXMgYmFja3dhcmRseSBjb21wYXRpYmxlIHdpdGggcHJldmlvdXMgdmVyc2lvbnNcclxuICogb2YgQW5ndWxhci5cclxuICpcclxuICogKiBTcGVjaWZ5aW5nIG9ubHkgYG5vLXVuc2FmZS1ldmFsYCB0ZWxscyBBbmd1bGFyIHRoYXQgd2UgbXVzdCBub3QgdXNlIGV2YWwsIGJ1dCB0aGF0IHdlIGNhbiBpbmplY3RcclxuICogaW5saW5lIHN0eWxlcy4gRS5nLiBgPGJvZHkgbmctY3NwPVwibm8tdW5zYWZlLWV2YWxcIj5gLlxyXG4gKlxyXG4gKiAqIFNwZWNpZnlpbmcgb25seSBgbm8taW5saW5lLXN0eWxlYCB0ZWxscyBBbmd1bGFyIHRoYXQgd2UgbXVzdCBub3QgaW5qZWN0IHN0eWxlcywgYnV0IHRoYXQgd2UgY2FuXHJcbiAqIHJ1biBldmFsIC0gbm8gYXV0b21hdGljIGNoZWNrIGZvciB1bnNhZmUgZXZhbCB3aWxsIG9jY3VyLiBFLmcuIGA8Ym9keSBuZy1jc3A9XCJuby1pbmxpbmUtc3R5bGVcIj5gXHJcbiAqXHJcbiAqICogU3BlY2lmeWluZyBib3RoIGBuby11bnNhZmUtZXZhbGAgYW5kIGBuby1pbmxpbmUtc3R5bGVgIHRlbGxzIEFuZ3VsYXIgdGhhdCB3ZSBtdXN0IG5vdCBpbmplY3RcclxuICogc3R5bGVzIG5vciB1c2UgZXZhbCwgd2hpY2ggaXMgdGhlIHNhbWUgYXMgYW4gZW1wdHk6IG5nLWNzcC5cclxuICogRS5nLmA8Ym9keSBuZy1jc3A9XCJuby1pbmxpbmUtc3R5bGU7bm8tdW5zYWZlLWV2YWxcIj5gXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gYXBwbHkgdGhlIGBuZ0NzcGAgZGlyZWN0aXZlIHRvIHRoZSBgaHRtbGAgdGFnLlxyXG4gICBgYGBodG1sXHJcbiAgICAgPCFkb2N0eXBlIGh0bWw+XHJcbiAgICAgPGh0bWwgbmctYXBwIG5nLWNzcD5cclxuICAgICAuLi5cclxuICAgICAuLi5cclxuICAgICA8L2h0bWw+XHJcbiAgIGBgYFxyXG4gICogQGV4YW1wbGVcclxuICAgICAgLy8gTm90ZTogdGhlIHN1ZmZpeCBgLmNzcGAgaW4gdGhlIGV4YW1wbGUgbmFtZSB0cmlnZ2Vyc1xyXG4gICAgICAvLyBjc3AgbW9kZSBpbiBvdXIgaHR0cCBzZXJ2ZXIhXHJcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJleGFtcGxlLmNzcFwiIG1vZHVsZT1cImNzcEV4YW1wbGVcIiBuZy1jc3A9XCJ0cnVlXCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5Db250cm9sbGVyIGFzIGN0cmxcIj5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY3RybC5pbmMoKVwiIGlkPVwiaW5jXCI+SW5jcmVtZW50PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJjb3VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICB7e2N0cmwuY291bnRlcn19XHJcbiAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImN0cmwuZXZpbCgpXCIgaWQ9XCJldmlsXCI+RXZpbDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGlkPVwiZXZpbEVycm9yXCI+XHJcbiAgICAgICAgICAgICAgICB7e2N0cmwuZXZpbEVycm9yfX1cclxuICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY3NwRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudGVyKys7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmlsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIGpzaGludCBldmlsOnRydWVcclxuICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBldmFsKCcxKzInKTtcclxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZpbEVycm9yID0gZS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICB2YXIgdXRpbCwgd2ViZHJpdmVyO1xyXG5cclxuICAgICAgICAgIHZhciBpbmNCdG4gPSBlbGVtZW50KGJ5LmlkKCdpbmMnKSk7XHJcbiAgICAgICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuaWQoJ2NvdW50ZXInKSk7XHJcbiAgICAgICAgICB2YXIgZXZpbEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2V2aWwnKSk7XHJcbiAgICAgICAgICB2YXIgZXZpbEVycm9yID0gZWxlbWVudChieS5pZCgnZXZpbEVycm9yJykpO1xyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5tYW5hZ2UoKS5sb2dzKCkuZ2V0KCdicm93c2VyJykudGhlbihmdW5jdGlvbihicm93c2VyTG9nKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXJMb2cuZmlsdGVyKGZ1bmN0aW9uKGxvZ0VudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9nRW50cnkubGV2ZWwudmFsdWUgPiB3ZWJkcml2ZXIubG9nZ2luZy5MZXZlbC5XQVJOSU5HLnZhbHVlO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiBjbGVhckVycm9ycygpIHtcclxuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiBleHBlY3ROb0Vycm9ycygpIHtcclxuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKS50aGVuKGZ1bmN0aW9uKGZpbHRlcmVkTG9nKSB7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KGZpbHRlcmVkTG9nLmxlbmd0aCkudG9FcXVhbCgwKTtcclxuICAgICAgICAgICAgICBpZiAoZmlsdGVyZWRMb2cubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYnJvd3NlciBjb25zb2xlIGVycm9yczogJyArIHV0aWwuaW5zcGVjdChmaWx0ZXJlZExvZykpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gZXhwZWN0RXJyb3IocmVnZXgpIHtcclxuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKS50aGVuKGZ1bmN0aW9uKGZpbHRlcmVkTG9nKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgZmlsdGVyZWRMb2cuZm9yRWFjaChmdW5jdGlvbihsb2cpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsb2cubWVzc2FnZS5tYXRjaChyZWdleCkpIHtcclxuICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGlmICghZm91bmQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgYW4gZXJyb3IgdGhhdCBtYXRjaGVzICcgKyByZWdleCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xyXG4gICAgICAgICAgICB3ZWJkcml2ZXIgPSByZXF1aXJlKCdwcm90cmFjdG9yL25vZGVfbW9kdWxlcy9zZWxlbml1bS13ZWJkcml2ZXInKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIEZvciBub3csIHdlIG9ubHkgdGVzdCBvbiBDaHJvbWUsXHJcbiAgICAgICAgICAvLyBhcyBTYWZhcmkgZG9lcyBub3QgbG9hZCB0aGUgcGFnZSB3aXRoIFByb3RyYWN0b3IncyBpbmplY3RlZCBzY3JpcHRzLFxyXG4gICAgICAgICAgLy8gYW5kIEZpcmVmb3ggd2ViZHJpdmVyIGFsd2F5cyBkaXNhYmxlcyBjb250ZW50IHNlY3VyaXR5IHBvbGljeSAoIzYzNTgpXHJcbiAgICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciAhPT0gJ2Nocm9tZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgbm90IHJlcG9ydCBlcnJvcnMgd2hlbiB0aGUgcGFnZSBpcyBsb2FkZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy8gY2xlYXIgZXJyb3JzIHNvIHdlIGFyZSBub3QgZGVwZW5kZW50IG9uIHByZXZpb3VzIHRlc3RzXHJcbiAgICAgICAgICAgIGNsZWFyRXJyb3JzKCk7XHJcbiAgICAgICAgICAgIC8vIE5lZWQgdG8gcmVsb2FkIHRoZSBwYWdlIGFzIHRoZSBwYWdlIGlzIGFscmVhZHkgbG9hZGVkIHdoZW5cclxuICAgICAgICAgICAgLy8gd2UgY29tZSBoZXJlXHJcbiAgICAgICAgICAgIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICAgICAgICAgIGJyb3dzZXIuZ2V0KHVybCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBleHBlY3ROb0Vycm9ycygpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSBleHByZXNzaW9ucycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvRXF1YWwoJzAnKTtcclxuICAgICAgICAgICAgaW5jQnRuLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9FcXVhbCgnMScpO1xyXG4gICAgICAgICAgICBleHBlY3ROb0Vycm9ycygpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBhbmQgcmVwb3J0IGFuIGVycm9yIHdoZW4gdXNpbmcgXCJldmFsXCInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZXZpbEJ0bi5jbGljaygpO1xyXG4gICAgICAgICAgICBleHBlY3QoZXZpbEVycm9yLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBTZWN1cml0eSBQb2xpY3kvKTtcclxuICAgICAgICAgICAgZXhwZWN0RXJyb3IoL0NvbnRlbnQgU2VjdXJpdHkgUG9saWN5Lyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAqL1xyXG5cclxuLy8gbmdDc3AgaXMgbm90IGltcGxlbWVudGVkIGFzIGEgcHJvcGVyIGRpcmVjdGl2ZSBhbnkgbW9yZSwgYmVjYXVzZSB3ZSBuZWVkIGl0IGJlIHByb2Nlc3NlZCB3aGlsZSB3ZVxyXG4vLyBib290c3RyYXAgdGhlIHN5c3RlbSAoYmVmb3JlICRwYXJzZSBpcyBpbnN0YW50aWF0ZWQpLCBmb3IgdGhpcyByZWFzb24gd2UganVzdCBoYXZlXHJcbi8vIHRoZSBjc3AoKSBmbiB0aGF0IGxvb2tzIGZvciB0aGUgYG5nLWNzcGAgYXR0cmlidXRlIGFueXdoZXJlIGluIHRoZSBjdXJyZW50IGRvY1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdDbGlja1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIG5nQ2xpY2sgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igd2hlblxyXG4gKiBhbiBlbGVtZW50IGlzIGNsaWNrZWQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBjbGljay4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgSW5jcmVtZW50XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8c3Bhbj5cclxuICAgICAgICBjb3VudDoge3tjb3VudH19XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzAnKTtcclxuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzEnKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuLypcclxuICogQSBjb2xsZWN0aW9uIG9mIGRpcmVjdGl2ZXMgdGhhdCBhbGxvd3MgY3JlYXRpb24gb2YgY3VzdG9tIGV2ZW50IGhhbmRsZXJzIHRoYXQgYXJlIGRlZmluZWQgYXNcclxuICogYW5ndWxhciBleHByZXNzaW9ucyBhbmQgYXJlIGNvbXBpbGVkIGFuZCBleGVjdXRlZCB3aXRoaW4gdGhlIGN1cnJlbnQgc2NvcGUuXHJcbiAqL1xyXG52YXIgbmdFdmVudERpcmVjdGl2ZXMgPSB7fTtcclxuXHJcbi8vIEZvciBldmVudHMgdGhhdCBtaWdodCBmaXJlIHN5bmNocm9ub3VzbHkgZHVyaW5nIERPTSBtYW5pcHVsYXRpb25cclxuLy8gd2UgbmVlZCB0byBleGVjdXRlIHRoZWlyIGV2ZW50IGhhbmRsZXJzIGFzeW5jaHJvbm91c2x5IHVzaW5nICRldmFsQXN5bmMsXHJcbi8vIHNvIHRoYXQgdGhleSBhcmUgbm90IGV4ZWN1dGVkIGluIGFuIGluY29uc2lzdGVudCBzdGF0ZS5cclxudmFyIGZvcmNlQXN5bmNFdmVudHMgPSB7XHJcbiAgJ2JsdXInOiB0cnVlLFxyXG4gICdmb2N1cyc6IHRydWVcclxufTtcclxuZm9yRWFjaChcclxuICAnY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBtb3VzZWVudGVyIG1vdXNlbGVhdmUga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBzdWJtaXQgZm9jdXMgYmx1ciBjb3B5IGN1dCBwYXN0ZScuc3BsaXQoJyAnKSxcclxuICBmdW5jdGlvbihldmVudE5hbWUpIHtcclxuICAgIHZhciBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgZXZlbnROYW1lKTtcclxuICAgIG5nRXZlbnREaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gWyckcGFyc2UnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRwYXJzZSwgJHJvb3RTY29wZSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oJGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAgIC8vIFdlIGV4cG9zZSB0aGUgcG93ZXJmdWwgJGV2ZW50IG9iamVjdCBvbiB0aGUgc2NvcGUgdGhhdCBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIFdpbmRvdyxcclxuICAgICAgICAgIC8vIGV0Yy4gdGhhdCBpc24ndCBwcm90ZWN0ZWQgYnkgdGhlIGZhc3QgcGF0aHMgaW4gJHBhcnNlLiAgV2UgZXhwbGljaXRseSByZXF1ZXN0IGJldHRlclxyXG4gICAgICAgICAgLy8gY2hlY2tzIGF0IHRoZSBjb3N0IG9mIHNwZWVkIHNpbmNlIGV2ZW50IGhhbmRsZXIgZXhwcmVzc2lvbnMgYXJlIG5vdCBleGVjdXRlZCBhc1xyXG4gICAgICAgICAgLy8gZnJlcXVlbnRseSBhcyByZWd1bGFyIGNoYW5nZSBkZXRlY3Rpb24uXHJcbiAgICAgICAgICB2YXIgZm4gPSAkcGFyc2UoYXR0cltkaXJlY3RpdmVOYW1lXSwgLyogaW50ZXJjZXB0b3JGbiAqLyBudWxsLCAvKiBleHBlbnNpdmVDaGVja3MgKi8gdHJ1ZSk7XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdFdmVudEhhbmRsZXIoc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5vbihldmVudE5hbWUsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBmbihzY29wZSwgeyRldmVudDpldmVudH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgaWYgKGZvcmNlQXN5bmNFdmVudHNbZXZlbnROYW1lXSAmJiAkcm9vdFNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1dO1xyXG4gIH1cclxuKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nRGJsY2xpY2tcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdEYmxjbGlja2AgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gYSBkYmxjbGljayBldmVudC5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdEYmxjbGljayB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIGEgZGJsY2xpY2suIChUaGUgRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YClcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGJ1dHRvbiBuZy1kYmxjbGljaz1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cclxuICAgICAgICBJbmNyZW1lbnQgKG9uIGRvdWJsZSBjbGljaylcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb3VzZWRvd25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBuZ01vdXNlZG93biBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWRvd24gZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2Vkb3duIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICogbW91c2Vkb3duLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZWRvd249XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgSW5jcmVtZW50IChvbiBtb3VzZSBkb3duKVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgY291bnQ6IHt7Y291bnR9fVxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ01vdXNldXBcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNldXAgZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2V1cCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIG1vdXNldXAuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8YnV0dG9uIG5nLW1vdXNldXA9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgSW5jcmVtZW50IChvbiBtb3VzZSB1cClcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ01vdXNlb3ZlclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VvdmVyIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlb3ZlciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIG1vdXNlb3Zlci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxidXR0b24gbmctbW91c2VvdmVyPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBpcyBvdmVyKVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgY291bnQ6IHt7Y291bnR9fVxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ01vdXNlZW50ZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlZW50ZXIgZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VlbnRlciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIG1vdXNlZW50ZXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8YnV0dG9uIG5nLW1vdXNlZW50ZXI9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGVudGVycylcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb3VzZWxlYXZlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWxlYXZlIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlbGVhdmUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBtb3VzZWxlYXZlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZWxlYXZlPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBsZWF2ZXMpXHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICBjb3VudDoge3tjb3VudH19XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nTW91c2Vtb3ZlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZW1vdmUgZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2Vtb3ZlIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICogbW91c2Vtb3ZlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZW1vdmU9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIG1vdmVzKVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgY291bnQ6IHt7Y291bnR9fVxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0tleWRvd25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleWRvd24gZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5ZG93biB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIGtleWRvd24uIChFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxpbnB1dCBuZy1rZXlkb3duPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICBrZXkgZG93biBjb3VudDoge3tjb3VudH19XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nS2V5dXBcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleXVwIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0tleXVwIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICoga2V5dXAuIChFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8cD5UeXBpbmcgaW4gdGhlIGlucHV0IGJveCBiZWxvdyB1cGRhdGVzIHRoZSBrZXkgY291bnQ8L3A+XHJcbiAgICAgICA8aW5wdXQgbmcta2V5dXA9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+IGtleSB1cCBjb3VudDoge3tjb3VudH19XHJcblxyXG4gICAgICAgPHA+VHlwaW5nIGluIHRoZSBpbnB1dCBib3ggYmVsb3cgdXBkYXRlcyB0aGUga2V5Y29kZTwvcD5cclxuICAgICAgIDxpbnB1dCBuZy1rZXl1cD1cImV2ZW50PSRldmVudFwiPlxyXG4gICAgICAgPHA+ZXZlbnQga2V5Q29kZToge3sgZXZlbnQua2V5Q29kZSB9fTwvcD5cclxuICAgICAgIDxwPmV2ZW50IGFsdEtleToge3sgZXZlbnQuYWx0S2V5IH19PC9wPlxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0tleXByZXNzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXlwcmVzcyBldmVudC5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXlwcmVzcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIGtleXByZXNzLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfVxyXG4gKiBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8aW5wdXQgbmcta2V5cHJlc3M9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgIGtleSBwcmVzcyBjb3VudDoge3tjb3VudH19XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nU3VibWl0XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFbmFibGVzIGJpbmRpbmcgYW5ndWxhciBleHByZXNzaW9ucyB0byBvbnN1Ym1pdCBldmVudHMuXHJcbiAqXHJcbiAqIEFkZGl0aW9uYWxseSBpdCBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gKHdoaWNoIGZvciBmb3JtIG1lYW5zIHNlbmRpbmcgdGhlIHJlcXVlc3QgdG8gdGhlXHJcbiAqIHNlcnZlciBhbmQgcmVsb2FkaW5nIHRoZSBjdXJyZW50IHBhZ2UpLCBidXQgb25seSBpZiB0aGUgZm9ybSBkb2VzIG5vdCBjb250YWluIGBhY3Rpb25gLFxyXG4gKiBgZGF0YS1hY3Rpb25gLCBvciBgeC1hY3Rpb25gIGF0dHJpYnV0ZXMuXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqV2FybmluZzoqKiBCZSBjYXJlZnVsIG5vdCB0byBjYXVzZSBcImRvdWJsZS1zdWJtaXNzaW9uXCIgYnkgdXNpbmcgYm90aCB0aGUgYG5nQ2xpY2tgIGFuZFxyXG4gKiBgbmdTdWJtaXRgIGhhbmRsZXJzIHRvZ2V0aGVyLiBTZWUgdGhlXHJcbiAqIHtAbGluayBmb3JtI3N1Ym1pdHRpbmctYS1mb3JtLWFuZC1wcmV2ZW50aW5nLXRoZS1kZWZhdWx0LWFjdGlvbiBgZm9ybWAgZGlyZWN0aXZlIGRvY3VtZW50YXRpb259XHJcbiAqIGZvciBhIGRldGFpbGVkIGRpc2N1c3Npb24gb2Ygd2hlbiBgbmdTdWJtaXRgIG1heSBiZSB0cmlnZ2VyZWQuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBAZWxlbWVudCBmb3JtXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTdWJtaXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC5cclxuICogKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cInN1Ym1pdEV4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8c2NyaXB0PlxyXG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzdWJtaXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUubGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUudGV4dCA9ICdoZWxsbyc7XHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRleHQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5saXN0LnB1c2godGhpcy50ZXh0KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJyc7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfV0pO1xyXG4gICAgICA8L3NjcmlwdD5cclxuICAgICAgPGZvcm0gbmctc3VibWl0PVwic3VibWl0KClcIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICBFbnRlciB0ZXh0IGFuZCBoaXQgZW50ZXI6XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ0ZXh0XCIgbmFtZT1cInRleHRcIiAvPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgaWQ9XCJzdWJtaXRcIiB2YWx1ZT1cIlN1Ym1pdFwiIC8+XHJcbiAgICAgICAgPHByZT5saXN0PXt7bGlzdH19PC9wcmU+XHJcbiAgICAgIDwvZm9ybT5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zdWJtaXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3Q9W10nKTtcclxuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignaGVsbG8nKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCcnKTtcclxuICAgICAgIH0pO1xyXG4gICAgICAgaXQoJ3Nob3VsZCBpZ25vcmUgZW1wdHkgc3RyaW5ncycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9CZSgnbGlzdD1bXScpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9Db250YWluKCdoZWxsbycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nRm9jdXNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGZvY3VzIGV2ZW50LlxyXG4gKlxyXG4gKiBOb3RlOiBBcyB0aGUgYGZvY3VzYCBldmVudCBpcyBleGVjdXRlZCBzeW5jaHJvbm91c2x5IHdoZW4gY2FsbGluZyBgaW5wdXQuZm9jdXMoKWBcclxuICogQW5ndWxhckpTIGV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIHVzaW5nIGBzY29wZS4kZXZhbEFzeW5jYCBpZiB0aGUgZXZlbnQgaXMgZmlyZWRcclxuICogZHVyaW5nIGFuIGAkYXBwbHlgIHRvIGVuc3VyZSBhIGNvbnNpc3RlbnQgc3RhdGUuXHJcbiAqXHJcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0ZvY3VzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICogZm9jdXMuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdCbHVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBibHVyIGV2ZW50LlxyXG4gKlxyXG4gKiBBIFtibHVyIGV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvYmx1cikgZmlyZXMgd2hlblxyXG4gKiBhbiBlbGVtZW50IGhhcyBsb3N0IGZvY3VzLlxyXG4gKlxyXG4gKiBOb3RlOiBBcyB0aGUgYGJsdXJgIGV2ZW50IGlzIGV4ZWN1dGVkIHN5bmNocm9ub3VzbHkgYWxzbyBkdXJpbmcgRE9NIG1hbmlwdWxhdGlvbnNcclxuICogKGUuZy4gcmVtb3ZpbmcgYSBmb2N1c3NlZCBpbnB1dCksXHJcbiAqIEFuZ3VsYXJKUyBleGVjdXRlcyB0aGUgZXhwcmVzc2lvbiB1c2luZyBgc2NvcGUuJGV2YWxBc3luY2AgaWYgdGhlIGV2ZW50IGlzIGZpcmVkXHJcbiAqIGR1cmluZyBhbiBgJGFwcGx5YCB0byBlbnN1cmUgYSBjb25zaXN0ZW50IHN0YXRlLlxyXG4gKlxyXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCbHVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICogYmx1ci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja31cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NvcHlcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGNvcHkgZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NvcHkge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBjb3B5LiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGlucHV0IG5nLWNvcHk9XCJjb3BpZWQ9dHJ1ZVwiIG5nLWluaXQ9XCJjb3BpZWQ9ZmFsc2U7IHZhbHVlPSdjb3B5IG1lJ1wiIG5nLW1vZGVsPVwidmFsdWVcIj5cclxuICAgICAgY29waWVkOiB7e2NvcGllZH19XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdDdXRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGN1dCBldmVudC5cclxuICpcclxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ3V0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICogY3V0LiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGlucHV0IG5nLWN1dD1cImN1dD10cnVlXCIgbmctaW5pdD1cImN1dD1mYWxzZTsgdmFsdWU9J2N1dCBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XHJcbiAgICAgIGN1dDoge3tjdXR9fVxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nUGFzdGVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIHBhc3RlIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdQYXN0ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIHBhc3RlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGlucHV0IG5nLXBhc3RlPVwicGFzdGU9dHJ1ZVwiIG5nLWluaXQ9XCJwYXN0ZT1mYWxzZVwiIHBsYWNlaG9sZGVyPSdwYXN0ZSBoZXJlJz5cclxuICAgICAgcGFzdGVkOiB7e3Bhc3RlfX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0lmXHJcbiAqIEByZXN0cmljdCBBXHJcbiAqIEBtdWx0aUVsZW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdJZmAgZGlyZWN0aXZlIHJlbW92ZXMgb3IgcmVjcmVhdGVzIGEgcG9ydGlvbiBvZiB0aGUgRE9NIHRyZWUgYmFzZWQgb24gYW5cclxuICoge2V4cHJlc3Npb259LiBJZiB0aGUgZXhwcmVzc2lvbiBhc3NpZ25lZCB0byBgbmdJZmAgZXZhbHVhdGVzIHRvIGEgZmFsc2VcclxuICogdmFsdWUgdGhlbiB0aGUgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTSwgb3RoZXJ3aXNlIGEgY2xvbmUgb2YgdGhlXHJcbiAqIGVsZW1lbnQgaXMgcmVpbnNlcnRlZCBpbnRvIHRoZSBET00uXHJcbiAqXHJcbiAqIGBuZ0lmYCBkaWZmZXJzIGZyb20gYG5nU2hvd2AgYW5kIGBuZ0hpZGVgIGluIHRoYXQgYG5nSWZgIGNvbXBsZXRlbHkgcmVtb3ZlcyBhbmQgcmVjcmVhdGVzIHRoZVxyXG4gKiBlbGVtZW50IGluIHRoZSBET00gcmF0aGVyIHRoYW4gY2hhbmdpbmcgaXRzIHZpc2liaWxpdHkgdmlhIHRoZSBgZGlzcGxheWAgY3NzIHByb3BlcnR5LiAgQSBjb21tb25cclxuICogY2FzZSB3aGVuIHRoaXMgZGlmZmVyZW5jZSBpcyBzaWduaWZpY2FudCBpcyB3aGVuIHVzaW5nIGNzcyBzZWxlY3RvcnMgdGhhdCByZWx5IG9uIGFuIGVsZW1lbnQnc1xyXG4gKiBwb3NpdGlvbiB3aXRoaW4gdGhlIERPTSwgc3VjaCBhcyB0aGUgYDpmaXJzdC1jaGlsZGAgb3IgYDpsYXN0LWNoaWxkYCBwc2V1ZG8tY2xhc3Nlcy5cclxuICpcclxuICogTm90ZSB0aGF0IHdoZW4gYW4gZWxlbWVudCBpcyByZW1vdmVkIHVzaW5nIGBuZ0lmYCBpdHMgc2NvcGUgaXMgZGVzdHJveWVkIGFuZCBhIG5ldyBzY29wZVxyXG4gKiBpcyBjcmVhdGVkIHdoZW4gdGhlIGVsZW1lbnQgaXMgcmVzdG9yZWQuICBUaGUgc2NvcGUgY3JlYXRlZCB3aXRoaW4gYG5nSWZgIGluaGVyaXRzIGZyb21cclxuICogaXRzIHBhcmVudCBzY29wZSB1c2luZ1xyXG4gKiBbcHJvdG90eXBhbCBpbmhlcml0YW5jZV0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzI2phdmFzY3JpcHQtcHJvdG90eXBhbC1pbmhlcml0YW5jZSkuXHJcbiAqIEFuIGltcG9ydGFudCBpbXBsaWNhdGlvbiBvZiB0aGlzIGlzIGlmIGBuZ01vZGVsYCBpcyB1c2VkIHdpdGhpbiBgbmdJZmAgdG8gYmluZCB0b1xyXG4gKiBhIGphdmFzY3JpcHQgcHJpbWl0aXZlIGRlZmluZWQgaW4gdGhlIHBhcmVudCBzY29wZS4gSW4gdGhpcyBjYXNlIGFueSBtb2RpZmljYXRpb25zIG1hZGUgdG8gdGhlXHJcbiAqIHZhcmlhYmxlIHdpdGhpbiB0aGUgY2hpbGQgc2NvcGUgd2lsbCBvdmVycmlkZSAoaGlkZSkgdGhlIHZhbHVlIGluIHRoZSBwYXJlbnQgc2NvcGUuXHJcbiAqXHJcbiAqIEFsc28sIGBuZ0lmYCByZWNyZWF0ZXMgZWxlbWVudHMgdXNpbmcgdGhlaXIgY29tcGlsZWQgc3RhdGUuIEFuIGV4YW1wbGUgb2YgdGhpcyBiZWhhdmlvclxyXG4gKiBpcyBpZiBhbiBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlIGlzIGRpcmVjdGx5IG1vZGlmaWVkIGFmdGVyIGl0J3MgY29tcGlsZWQsIHVzaW5nIHNvbWV0aGluZyBsaWtlXHJcbiAqIGpRdWVyeSdzIGAuYWRkQ2xhc3MoKWAgbWV0aG9kLCBhbmQgdGhlIGVsZW1lbnQgaXMgbGF0ZXIgcmVtb3ZlZC4gV2hlbiBgbmdJZmAgcmVjcmVhdGVzIHRoZSBlbGVtZW50XHJcbiAqIHRoZSBhZGRlZCBjbGFzcyB3aWxsIGJlIGxvc3QgYmVjYXVzZSB0aGUgb3JpZ2luYWwgY29tcGlsZWQgc3RhdGUgaXMgdXNlZCB0byByZWdlbmVyYXRlIHRoZSBlbGVtZW50LlxyXG4gKlxyXG4gKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gcHJvdmlkZSBhbmltYXRpb25zIHZpYSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIHRvIGFuaW1hdGUgdGhlIGBlbnRlcmBcclxuICogYW5kIGBsZWF2ZWAgZWZmZWN0cy5cclxuICpcclxuICogQGFuaW1hdGlvbnNcclxuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSAgfCBqdXN0IGFmdGVyIHRoZSBgbmdJZmAgY29udGVudHMgY2hhbmdlIGFuZCBhIG5ldyBET00gZWxlbWVudCBpcyBjcmVhdGVkIGFuZCBpbmplY3RlZCBpbnRvIHRoZSBgbmdJZmAgY29udGFpbmVyIHxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9ICB8IGp1c3QgYmVmb3JlIHRoZSBgbmdJZmAgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHxcclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBzY29wZVxyXG4gKiBAcHJpb3JpdHkgNjAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdJZiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgZmFsc3kgdGhlblxyXG4gKiAgICAgdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00gdHJlZS4gSWYgaXQgaXMgdHJ1dGh5IGEgY29weSBvZiB0aGUgY29tcGlsZWRcclxuICogICAgIGVsZW1lbnQgaXMgYWRkZWQgdG8gdGhlIERPTSB0cmVlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGxhYmVsPkNsaWNrIG1lOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCIgbmctaW5pdD1cImNoZWNrZWQ9dHJ1ZVwiIC8+PC9sYWJlbD48YnIvPlxyXG4gICAgICBTaG93IHdoZW4gY2hlY2tlZDpcclxuICAgICAgPHNwYW4gbmctaWY9XCJjaGVja2VkXCIgY2xhc3M9XCJhbmltYXRlLWlmXCI+XHJcbiAgICAgICAgVGhpcyBpcyByZW1vdmVkIHdoZW4gdGhlIGNoZWNrYm94IGlzIHVuY2hlY2tlZC5cclxuICAgICAgPC9zcGFuPlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XHJcbiAgICAgIC5hbmltYXRlLWlmIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xyXG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XHJcbiAgICAgICAgcGFkZGluZzoxMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1lbnRlciwgLmFuaW1hdGUtaWYubmctbGVhdmUge1xyXG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIsXHJcbiAgICAgIC5hbmltYXRlLWlmLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XHJcbiAgICAgICAgb3BhY2l0eTowO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZSxcclxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcclxuICAgICAgICBvcGFjaXR5OjE7XHJcbiAgICAgIH1cclxuICAgIDwvZmlsZT5cclxuICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdJZkRpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkYW5pbWF0ZSwgJGNvbXBpbGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxyXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgcHJpb3JpdHk6IDYwMCxcclxuICAgIHRlcm1pbmFsOiB0cnVlLFxyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICQkdGxiOiB0cnVlLFxyXG4gICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XHJcbiAgICAgICAgdmFyIGJsb2NrLCBjaGlsZFNjb3BlLCBwcmV2aW91c0VsZW1lbnRzO1xyXG4gICAgICAgICRzY29wZS4kd2F0Y2goJGF0dHIubmdJZiwgZnVuY3Rpb24gbmdJZldhdGNoQWN0aW9uKHZhbHVlKSB7XHJcblxyXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICghY2hpbGRTY29wZSkge1xyXG4gICAgICAgICAgICAgICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lLCBuZXdTY29wZSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IG5ld1Njb3BlO1xyXG4gICAgICAgICAgICAgICAgY2xvbmVbY2xvbmUubGVuZ3RoKytdID0gJGNvbXBpbGUuJCRjcmVhdGVDb21tZW50KCdlbmQgbmdJZicsICRhdHRyLm5nSWYpO1xyXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2Ugb25seSBuZWVkIHRoZSBmaXJzdC9sYXN0IG5vZGUgb2YgdGhlIGNsb25lZCBub2Rlcy5cclxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIG5lZWQgdG8ga2VlcCB0aGUgcmVmZXJlbmNlIHRvIHRoZSBqcWxpdGUgd3JhcHBlciBhcyBpdCBtaWdodCBiZSBjaGFuZ2VkIGxhdGVyXHJcbiAgICAgICAgICAgICAgICAvLyBieSBhIGRpcmVjdGl2ZSB3aXRoIHRlbXBsYXRlVXJsIHdoZW4gaXRzIHRlbXBsYXRlIGFycml2ZXMuXHJcbiAgICAgICAgICAgICAgICBibG9jayA9IHtcclxuICAgICAgICAgICAgICAgICAgY2xvbmU6IGNsb25lXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsICRlbGVtZW50LnBhcmVudCgpLCAkZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2hpbGRTY29wZSkge1xyXG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUuJGRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcclxuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gZ2V0QmxvY2tOb2RlcyhibG9jay5jbG9uZSk7XHJcbiAgICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUocHJldmlvdXNFbGVtZW50cykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMgPSBudWxsO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGJsb2NrID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdJbmNsdWRlXHJcbiAqIEByZXN0cmljdCBFQ0FcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEZldGNoZXMsIGNvbXBpbGVzIGFuZCBpbmNsdWRlcyBhbiBleHRlcm5hbCBIVE1MIGZyYWdtZW50LlxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgVVJMIGlzIHJlc3RyaWN0ZWQgdG8gdGhlIHNhbWUgZG9tYWluIGFuZCBwcm90b2NvbCBhcyB0aGVcclxuICogYXBwbGljYXRpb24gZG9jdW1lbnQuIFRoaXMgaXMgZG9uZSBieSBjYWxsaW5nIHtAbGluayAkc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybFxyXG4gKiAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybH0gb24gaXQuIFRvIGxvYWQgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBwcm90b2NvbHNcclxuICogeW91IG1heSBlaXRoZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdCB0aGVtfSBvclxyXG4gKiB7QGxpbmsgJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmwgd3JhcCB0aGVtfSBhcyB0cnVzdGVkIHZhbHVlcy4gUmVmZXIgdG8gQW5ndWxhcidzIHtAbGlua1xyXG4gKiBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nfS5cclxuICpcclxuICogSW4gYWRkaXRpb24sIHRoZSBicm93c2VyJ3NcclxuICogW1NhbWUgT3JpZ2luIFBvbGljeV0oaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9icm93c2Vyc2VjL3dpa2kvUGFydDIjU2FtZS1vcmlnaW5fcG9saWN5X2Zvcl9YTUxIdHRwUmVxdWVzdClcclxuICogYW5kIFtDcm9zcy1PcmlnaW4gUmVzb3VyY2UgU2hhcmluZyAoQ09SUyldKGh0dHA6Ly93d3cudzMub3JnL1RSL2NvcnMvKVxyXG4gKiBwb2xpY3kgbWF5IGZ1cnRoZXIgcmVzdHJpY3Qgd2hldGhlciB0aGUgdGVtcGxhdGUgaXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZC5cclxuICogRm9yIGV4YW1wbGUsIGBuZ0luY2x1ZGVgIHdvbid0IHdvcmsgZm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cyBvbiBhbGwgYnJvd3NlcnMgYW5kIGZvciBgZmlsZTovL2BcclxuICogYWNjZXNzIG9uIHNvbWUgYnJvd3NlcnMuXHJcbiAqXHJcbiAqIEBhbmltYXRpb25zXHJcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSAgfCB3aGVuIHRoZSBleHByZXNzaW9uIGNoYW5nZXMsIG9uIHRoZSBuZXcgaW5jbHVkZSB8XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2xlYXZlIGxlYXZlfSAgfCB3aGVuIHRoZSBleHByZXNzaW9uIGNoYW5nZXMsIG9uIHRoZSBvbGQgaW5jbHVkZSB8XHJcbiAqXHJcbiAqIFRoZSBlbnRlciBhbmQgbGVhdmUgYW5pbWF0aW9uIG9jY3VyIGNvbmN1cnJlbnRseS5cclxuICpcclxuICogQHNjb3BlXHJcbiAqIEBwcmlvcml0eSA0MDBcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5nSW5jbHVkZXxzcmMgYW5ndWxhciBleHByZXNzaW9uIGV2YWx1YXRpbmcgdG8gVVJMLiBJZiB0aGUgc291cmNlIGlzIGEgc3RyaW5nIGNvbnN0YW50LFxyXG4gKiAgICAgICAgICAgICAgICAgbWFrZSBzdXJlIHlvdSB3cmFwIGl0IGluICoqc2luZ2xlKiogcXVvdGVzLCBlLmcuIGBzcmM9XCInbXlQYXJ0aWFsVGVtcGxhdGUuaHRtbCdcImAuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb25sb2FkIEV4cHJlc3Npb24gdG8gZXZhbHVhdGUgd2hlbiBhIG5ldyBwYXJ0aWFsIGlzIGxvYWRlZC5cclxuICogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAgICAgICAgICAgICAgICAgICoqTm90ZToqKiBXaGVuIHVzaW5nIG9ubG9hZCBvbiBTVkcgZWxlbWVudHMgaW4gSUUxMSwgdGhlIGJyb3dzZXIgd2lsbCB0cnkgdG8gY2FsbFxyXG4gKiAgICAgICAgICAgICAgICAgIGEgZnVuY3Rpb24gd2l0aCB0aGUgbmFtZSBvbiB0aGUgd2luZG93IGVsZW1lbnQsIHdoaWNoIHdpbGwgdXN1YWxseSB0aHJvdyBhXHJcbiAqICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvbiBpcyB1bmRlZmluZWRcIiBlcnJvci4gVG8gZml4IHRoaXMsIHlvdSBjYW4gaW5zdGVhZCB1c2UgYGRhdGEtb25sb2FkYCBvciBhXHJcbiAqICAgICAgICAgICAgICAgICAgZGlmZmVyZW50IGZvcm0gdGhhdCB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI25vcm1hbGl6YXRpb24gbWF0Y2hlc30gYG9ubG9hZGAuXHJcbiAqICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICpcclxuICogQHBhcmFtIHtzdHJpbmc9fSBhdXRvc2Nyb2xsIFdoZXRoZXIgYG5nSW5jbHVkZWAgc2hvdWxkIGNhbGwge0BsaW5rIG5nLiRhbmNob3JTY3JvbGxcclxuICogICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsfSB0byBzY3JvbGwgdGhlIHZpZXdwb3J0IGFmdGVyIHRoZSBjb250ZW50IGlzIGxvYWRlZC5cclxuICpcclxuICogICAgICAgICAgICAgICAgICAtIElmIHRoZSBhdHRyaWJ1dGUgaXMgbm90IHNldCwgZGlzYWJsZSBzY3JvbGxpbmcuXHJcbiAqICAgICAgICAgICAgICAgICAgLSBJZiB0aGUgYXR0cmlidXRlIGlzIHNldCB3aXRob3V0IHZhbHVlLCBlbmFibGUgc2Nyb2xsaW5nLlxyXG4gKiAgICAgICAgICAgICAgICAgIC0gT3RoZXJ3aXNlIGVuYWJsZSBzY3JvbGxpbmcgb25seSBpZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1dGh5IHZhbHVlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gIDxleGFtcGxlIG1vZHVsZT1cImluY2x1ZGVFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwidGVtcGxhdGVcIiBuZy1vcHRpb25zPVwidC5uYW1lIGZvciB0IGluIHRlbXBsYXRlc1wiPlxyXG4gICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4oYmxhbmspPC9vcHRpb24+XHJcbiAgICAgICA8L3NlbGVjdD5cclxuICAgICAgIHVybCBvZiB0aGUgdGVtcGxhdGU6IDxjb2RlPnt7dGVtcGxhdGUudXJsfX08L2NvZGU+XHJcbiAgICAgICA8aHIvPlxyXG4gICAgICAgPGRpdiBjbGFzcz1cInNsaWRlLWFuaW1hdGUtY29udGFpbmVyXCI+XHJcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZS1hbmltYXRlXCIgbmctaW5jbHVkZT1cInRlbXBsYXRlLnVybFwiPjwvZGl2PlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9kaXY+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbmNsdWRlRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICRzY29wZS50ZW1wbGF0ZXMgPVxyXG4gICAgICAgICAgICBbIHsgbmFtZTogJ3RlbXBsYXRlMS5odG1sJywgdXJsOiAndGVtcGxhdGUxLmh0bWwnfSxcclxuICAgICAgICAgICAgICB7IG5hbWU6ICd0ZW1wbGF0ZTIuaHRtbCcsIHVybDogJ3RlbXBsYXRlMi5odG1sJ30gXTtcclxuICAgICAgICAgICRzY29wZS50ZW1wbGF0ZSA9ICRzY29wZS50ZW1wbGF0ZXNbMF07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJ0ZW1wbGF0ZTEuaHRtbFwiPlxyXG4gICAgICBDb250ZW50IG9mIHRlbXBsYXRlMS5odG1sXHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwidGVtcGxhdGUyLmh0bWxcIj5cclxuICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbFxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XHJcbiAgICAgIC5zbGlkZS1hbmltYXRlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XHJcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcclxuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgIGhlaWdodDo0MHB4O1xyXG4gICAgICAgIG92ZXJmbG93OmhpZGRlbjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNsaWRlLWFuaW1hdGUge1xyXG4gICAgICAgIHBhZGRpbmc6MTBweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIsIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHtcclxuICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XHJcblxyXG4gICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xyXG4gICAgICAgIHRvcDowO1xyXG4gICAgICAgIGxlZnQ6MDtcclxuICAgICAgICByaWdodDowO1xyXG4gICAgICAgIGJvdHRvbTowO1xyXG4gICAgICAgIGRpc3BsYXk6YmxvY2s7XHJcbiAgICAgICAgcGFkZGluZzoxMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlciB7XHJcbiAgICAgICAgdG9wOi01MHB4O1xyXG4gICAgICB9XHJcbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XHJcbiAgICAgICAgdG9wOjA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHtcclxuICAgICAgICB0b3A6MDtcclxuICAgICAgfVxyXG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xyXG4gICAgICAgIHRvcDo1MHB4O1xyXG4gICAgICB9XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIHZhciB0ZW1wbGF0ZVNlbGVjdCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RlbXBsYXRlJykpO1xyXG4gICAgICB2YXIgaW5jbHVkZUVsZW0gPSBlbGVtZW50KGJ5LmNzcygnW25nLWluY2x1ZGVdJykpO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlMS5odG1sJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0ZW1wbGF0ZTEuaHRtbC8pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZTIuaHRtbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdmaXJlZm94Jykge1xyXG4gICAgICAgICAgLy8gRmlyZWZveCBjYW4ndCBoYW5kbGUgdXNpbmcgc2VsZWN0c1xyXG4gICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzQ4MFxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ZW1wbGF0ZVNlbGVjdC5jbGljaygpO1xyXG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMikuY2xpY2soKTtcclxuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRlbXBsYXRlMi5odG1sLyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2UgdG8gYmxhbmsnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnZmlyZWZveCcpIHtcclxuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuY2xpY2soKTtcclxuICAgICAgICB0ZW1wbGF0ZVNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDApLmNsaWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmlzUHJlc2VudCgpKS50b0JlKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGV2ZW50XHJcbiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWRcclxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFbWl0dGVkIGV2ZXJ5IHRpbWUgdGhlIG5nSW5jbHVkZSBjb250ZW50IGlzIHJlcXVlc3RlZC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFVSTCBvZiBjb250ZW50IHRvIGxvYWQuXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZXZlbnRcclxuICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudExvYWRlZFxyXG4gKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIGN1cnJlbnQgbmdJbmNsdWRlIHNjb3BlXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFbWl0dGVkIGV2ZXJ5IHRpbWUgdGhlIG5nSW5jbHVkZSBjb250ZW50IGlzIHJlbG9hZGVkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBldmVudFxyXG4gKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50RXJyb3JcclxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFbWl0dGVkIHdoZW4gYSB0ZW1wbGF0ZSBIVFRQIHJlcXVlc3QgeWllbGRzIGFuIGVycm9uZW91cyByZXNwb25zZSAoc3RhdHVzIDwgMjAwIHx8IHN0YXR1cyA+IDI5OSlcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFVSTCBvZiBjb250ZW50IHRvIGxvYWQuXHJcbiAqL1xyXG52YXIgbmdJbmNsdWRlRGlyZWN0aXZlID0gWyckdGVtcGxhdGVSZXF1ZXN0JywgJyRhbmNob3JTY3JvbGwnLCAnJGFuaW1hdGUnLFxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbigkdGVtcGxhdGVSZXF1ZXN0LCAgICRhbmNob3JTY3JvbGwsICAgJGFuaW1hdGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdFQ0EnLFxyXG4gICAgcHJpb3JpdHk6IDQwMCxcclxuICAgIHRlcm1pbmFsOiB0cnVlLFxyXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgY29udHJvbGxlcjogYW5ndWxhci5ub29wLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xyXG4gICAgICB2YXIgc3JjRXhwID0gYXR0ci5uZ0luY2x1ZGUgfHwgYXR0ci5zcmMsXHJcbiAgICAgICAgICBvbmxvYWRFeHAgPSBhdHRyLm9ubG9hZCB8fCAnJyxcclxuICAgICAgICAgIGF1dG9TY3JvbGxFeHAgPSBhdHRyLmF1dG9zY3JvbGw7XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcclxuICAgICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsXHJcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSxcclxuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LFxyXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudDtcclxuXHJcbiAgICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGN1cnJlbnRTY29wZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcclxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShjdXJyZW50RWxlbWVudCkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzY29wZS4kd2F0Y2goc3JjRXhwLCBmdW5jdGlvbiBuZ0luY2x1ZGVXYXRjaEFjdGlvbihzcmMpIHtcclxuICAgICAgICAgIHZhciBhZnRlckFuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApICYmICghYXV0b1Njcm9sbEV4cCB8fCBzY29wZS4kZXZhbChhdXRvU2Nyb2xsRXhwKSkpIHtcclxuICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2YXIgdGhpc0NoYW5nZUlkID0gKytjaGFuZ2VDb3VudGVyO1xyXG5cclxuICAgICAgICAgIGlmIChzcmMpIHtcclxuICAgICAgICAgICAgLy9zZXQgdGhlIDJuZCBwYXJhbSB0byB0cnVlIHRvIGlnbm9yZSB0aGUgdGVtcGxhdGUgcmVxdWVzdCBlcnJvciBzbyB0aGF0IHRoZSBpbm5lclxyXG4gICAgICAgICAgICAvL2NvbnRlbnRzIGFuZCBzY29wZSBjYW4gYmUgY2xlYW5lZCB1cC5cclxuICAgICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCAhPT0gY2hhbmdlQ291bnRlcikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTtcclxuICAgICAgICAgICAgICBjdHJsLnRlbXBsYXRlID0gcmVzcG9uc2U7XHJcblxyXG4gICAgICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHNvIGxpbmsgYWxsIGNoaWxkcmVuIG9mIG5nLWluY2x1ZGUgdGhhdCB3ZXJlIGNvbnRhaW5lZCBpbiB0aGUgb3JpZ2luYWxcclxuICAgICAgICAgICAgICAvLyBodG1sLiBJZiB0aGF0IGNvbnRlbnQgY29udGFpbnMgY29udHJvbGxlcnMsIC4uLiB0aGV5IGNvdWxkIHBvbGx1dGUvY2hhbmdlIHRoZSBzY29wZS5cclxuICAgICAgICAgICAgICAvLyBIb3dldmVyLCB1c2luZyBuZy1pbmNsdWRlIG9uIGFuIGVsZW1lbnQgd2l0aCBhZGRpdGlvbmFsIGNvbnRlbnQgZG9lcyBub3QgbWFrZSBzZW5zZS4uLlxyXG4gICAgICAgICAgICAgIC8vIE5vdGU6IFdlIGNhbid0IHJlbW92ZSB0aGVtIGluIHRoZSBjbG9uZUF0dGNoRm4gb2YgJHRyYW5zY2x1ZGUgYXMgdGhhdFxyXG4gICAgICAgICAgICAgIC8vIGZ1bmN0aW9uIGlzIGNhbGxlZCBiZWZvcmUgbGlua2luZyB0aGUgY29udGVudCwgd2hpY2ggd291bGQgYXBwbHkgY2hpbGRcclxuICAgICAgICAgICAgICAvLyBkaXJlY3RpdmVzIHRvIG5vbiBleGlzdGluZyBlbGVtZW50cy5cclxuICAgICAgICAgICAgICB2YXIgY2xvbmUgPSAkdHJhbnNjbHVkZShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcclxuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCAkZWxlbWVudCkudGhlbihhZnRlckFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG5ld1Njb3BlO1xyXG4gICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY2xvbmU7XHJcblxyXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50TG9hZGVkJywgc3JjKTtcclxuICAgICAgICAgICAgICBzY29wZS4kZXZhbChvbmxvYWRFeHApO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCA9PT0gY2hhbmdlQ291bnRlcikge1xyXG4gICAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudEVycm9yJywgc3JjKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkJywgc3JjKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcclxuICAgICAgICAgICAgY3RybC50ZW1wbGF0ZSA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG4vLyBUaGlzIGRpcmVjdGl2ZSBpcyBjYWxsZWQgZHVyaW5nIHRoZSAkdHJhbnNjbHVkZSBjYWxsIG9mIHRoZSBmaXJzdCBgbmdJbmNsdWRlYCBkaXJlY3RpdmUuXHJcbi8vIEl0IHdpbGwgcmVwbGFjZSBhbmQgY29tcGlsZSB0aGUgY29udGVudCBvZiB0aGUgZWxlbWVudCB3aXRoIHRoZSBsb2FkZWQgdGVtcGxhdGUuXHJcbi8vIFdlIG5lZWQgdGhpcyBkaXJlY3RpdmUgc28gdGhhdCB0aGUgZWxlbWVudCBjb250ZW50IGlzIGFscmVhZHkgZmlsbGVkIHdoZW5cclxuLy8gdGhlIGxpbmsgZnVuY3Rpb24gb2YgYW5vdGhlciBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudCBhcyBuZ0luY2x1ZGVcclxuLy8gaXMgY2FsbGVkLlxyXG52YXIgbmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUgPSBbJyRjb21waWxlJyxcclxuICBmdW5jdGlvbigkY29tcGlsZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFQ0EnLFxyXG4gICAgICBwcmlvcml0eTogLTQwMCxcclxuICAgICAgcmVxdWlyZTogJ25nSW5jbHVkZScsXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwpIHtcclxuICAgICAgICBpZiAodG9TdHJpbmcuY2FsbCgkZWxlbWVudFswXSkubWF0Y2goL1NWRy8pKSB7XHJcbiAgICAgICAgICAvLyBXZWJLaXQ6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzU2OTggLS0tIFNWRyBlbGVtZW50cyBkbyBub3RcclxuICAgICAgICAgIC8vIHN1cHBvcnQgaW5uZXJIVE1MLCBzbyBkZXRlY3QgdGhpcyBoZXJlIGFuZCB0cnkgdG8gZ2VuZXJhdGUgdGhlIGNvbnRlbnRzXHJcbiAgICAgICAgICAvLyBzcGVjaWFsbHkuXHJcbiAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpO1xyXG4gICAgICAgICAgJGNvbXBpbGUoanFMaXRlQnVpbGRGcmFnbWVudChjdHJsLnRlbXBsYXRlLCB3aW5kb3cuZG9jdW1lbnQpLmNoaWxkTm9kZXMpKHNjb3BlLFxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG5hbWVzcGFjZUFkYXB0ZWRDbG9uZShjbG9uZSkge1xyXG4gICAgICAgICAgICAkZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xyXG4gICAgICAgICAgfSwge2Z1dHVyZVBhcmVudEVsZW1lbnQ6ICRlbGVtZW50fSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkZWxlbWVudC5odG1sKGN0cmwudGVtcGxhdGUpO1xyXG4gICAgICAgICRjb21waWxlKCRlbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nSW5pdFxyXG4gKiBAcmVzdHJpY3QgQUNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdJbml0YCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBldmFsdWF0ZSBhbiBleHByZXNzaW9uIGluIHRoZVxyXG4gKiBjdXJyZW50IHNjb3BlLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSBhYnVzZWQgdG8gYWRkIHVubmVjZXNzYXJ5IGFtb3VudHMgb2YgbG9naWMgaW50byB5b3VyIHRlbXBsYXRlcy5cclxuICogVGhlcmUgYXJlIG9ubHkgYSBmZXcgYXBwcm9wcmlhdGUgdXNlcyBvZiBgbmdJbml0YCwgc3VjaCBhcyBmb3IgYWxpYXNpbmcgc3BlY2lhbCBwcm9wZXJ0aWVzIG9mXHJcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgYG5nUmVwZWF0YH0sIGFzIHNlZW4gaW4gdGhlIGRlbW8gYmVsb3c7IGFuZCBmb3IgaW5qZWN0aW5nIGRhdGEgdmlhXHJcbiAqIHNlcnZlciBzaWRlIHNjcmlwdGluZy4gQmVzaWRlcyB0aGVzZSBmZXcgY2FzZXMsIHlvdSBzaG91bGQgdXNlIHtAbGluayBndWlkZS9jb250cm9sbGVyIGNvbnRyb2xsZXJzfVxyXG4gKiByYXRoZXIgdGhhbiBgbmdJbml0YCB0byBpbml0aWFsaXplIHZhbHVlcyBvbiBhIHNjb3BlLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogKipOb3RlKio6IElmIHlvdSBoYXZlIGFzc2lnbm1lbnQgaW4gYG5nSW5pdGAgYWxvbmcgd2l0aCBhIHtAbGluayBuZy4kZmlsdGVyIGBmaWx0ZXJgfSwgbWFrZVxyXG4gKiBzdXJlIHlvdSBoYXZlIHBhcmVudGhlc2VzIHRvIGVuc3VyZSBjb3JyZWN0IG9wZXJhdG9yIHByZWNlZGVuY2U6XHJcbiAqIDxwcmUgY2xhc3M9XCJwcmV0dHlwcmludFwiPlxyXG4gKiBgPGRpdiBuZy1pbml0PVwidGVzdDEgPSAoJGluZGV4IHwgdG9TdHJpbmcpXCI+PC9kaXY+YFxyXG4gKiA8L3ByZT5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEBwcmlvcml0eSA0NTBcclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdJbml0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImluaXRFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgPHNjcmlwdD5cclxuICAgICBhbmd1bGFyLm1vZHVsZSgnaW5pdEV4YW1wbGUnLCBbXSlcclxuICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICRzY29wZS5saXN0ID0gW1snYScsICdiJ10sIFsnYycsICdkJ11dO1xyXG4gICAgICAgfV0pO1xyXG4gICA8L3NjcmlwdD5cclxuICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICA8ZGl2IG5nLXJlcGVhdD1cImlubmVyTGlzdCBpbiBsaXN0XCIgbmctaW5pdD1cIm91dGVySW5kZXggPSAkaW5kZXhcIj5cclxuICAgICAgIDxkaXYgbmctcmVwZWF0PVwidmFsdWUgaW4gaW5uZXJMaXN0XCIgbmctaW5pdD1cImlubmVySW5kZXggPSAkaW5kZXhcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXhhbXBsZS1pbml0XCI+bGlzdFsge3tvdXRlckluZGV4fX0gXVsge3tpbm5lckluZGV4fX0gXSA9IHt7dmFsdWV9fTs8L3NwYW4+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2Rpdj5cclxuICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgYWxpYXMgaW5kZXggcG9zaXRpb25zJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHZhciBlbGVtZW50cyA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnLmV4YW1wbGUtaW5pdCcpKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDAgXVsgMCBdID0gYTsnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgxKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDAgXVsgMSBdID0gYjsnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgyKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDEgXVsgMCBdID0gYzsnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgzKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDEgXVsgMSBdID0gZDsnKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nSW5pdERpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHtcclxuICBwcmlvcml0eTogNDUwLFxyXG4gIGNvbXBpbGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICBzY29wZS4kZXZhbChhdHRycy5uZ0luaXQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0xpc3RcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRleHQgaW5wdXQgdGhhdCBjb252ZXJ0cyBiZXR3ZWVuIGEgZGVsaW1pdGVkIHN0cmluZyBhbmQgYW4gYXJyYXkgb2Ygc3RyaW5ncy4gVGhlIGRlZmF1bHRcclxuICogZGVsaW1pdGVyIGlzIGEgY29tbWEgZm9sbG93ZWQgYnkgYSBzcGFjZSAtIGVxdWl2YWxlbnQgdG8gYG5nLWxpc3Q9XCIsIFwiYC4gWW91IGNhbiBzcGVjaWZ5IGEgY3VzdG9tXHJcbiAqIGRlbGltaXRlciBhcyB0aGUgdmFsdWUgb2YgdGhlIGBuZ0xpc3RgIGF0dHJpYnV0ZSAtIGZvciBleGFtcGxlLCBgbmctbGlzdD1cIiB8IFwiYC5cclxuICpcclxuICogVGhlIGJlaGF2aW91ciBvZiB0aGUgZGlyZWN0aXZlIGlzIGFmZmVjdGVkIGJ5IHRoZSB1c2Ugb2YgdGhlIGBuZ1RyaW1gIGF0dHJpYnV0ZS5cclxuICogKiBJZiBgbmdUcmltYCBpcyBzZXQgdG8gYFwiZmFsc2VcImAgdGhlbiB3aGl0ZXNwYWNlIGFyb3VuZCBib3RoIHRoZSBzZXBhcmF0b3IgYW5kIGVhY2hcclxuICogICBsaXN0IGl0ZW0gaXMgcmVzcGVjdGVkLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgdXNlciBvZiB0aGUgZGlyZWN0aXZlIGlzIHJlc3BvbnNpYmxlIGZvclxyXG4gKiAgIGRlYWxpbmcgd2l0aCB3aGl0ZXNwYWNlIGJ1dCBhbHNvIGFsbG93cyB5b3UgdG8gdXNlIHdoaXRlc3BhY2UgYXMgYSBkZWxpbWl0ZXIsIHN1Y2ggYXMgYVxyXG4gKiAgIHRhYiBvciBuZXdsaW5lIGNoYXJhY3Rlci5cclxuICogKiBPdGhlcndpc2Ugd2hpdGVzcGFjZSBhcm91bmQgdGhlIGRlbGltaXRlciBpcyBpZ25vcmVkIHdoZW4gc3BsaXR0aW5nIChhbHRob3VnaCBpdCBpcyByZXNwZWN0ZWRcclxuICogICB3aGVuIGpvaW5pbmcgdGhlIGxpc3QgaXRlbXMgYmFjayB0b2dldGhlcikgYW5kIHdoaXRlc3BhY2UgYXJvdW5kIGVhY2ggbGlzdCBpdGVtIGlzIHN0cmlwcGVkXHJcbiAqICAgYmVmb3JlIGl0IGlzIGFkZGVkIHRvIHRoZSBtb2RlbC5cclxuICpcclxuICogIyMjIEV4YW1wbGUgd2l0aCBWYWxpZGF0aW9uXHJcbiAqXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlXCIgbW9kdWxlPVwibGlzdEV4YW1wbGVcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICAgICAgYW5ndWxhci5tb2R1bGUoJ2xpc3RFeGFtcGxlJywgW10pXHJcbiAqICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gKiAgICAgICAgICAkc2NvcGUubmFtZXMgPSBbJ21vcnBoZXVzJywgJ25lbycsICd0cmluaXR5J107XHJcbiAqICAgICAgICB9XSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICA8bGFiZWw+TGlzdDogPGlucHV0IG5hbWU9XCJuYW1lc0lucHV0XCIgbmctbW9kZWw9XCJuYW1lc1wiIG5nLWxpc3QgcmVxdWlyZWQ+PC9sYWJlbD5cclxuICogICAgICA8c3BhbiByb2xlPVwiYWxlcnRcIj5cclxuICogICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAqICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAqICAgICAgPC9zcGFuPlxyXG4gKiAgICAgIDxicj5cclxuICogICAgICA8dHQ+bmFtZXMgPSB7e25hbWVzfX08L3R0Pjxici8+XHJcbiAqICAgICAgPHR0Pm15Rm9ybS5uYW1lc0lucHV0LiR2YWxpZCA9IHt7bXlGb3JtLm5hbWVzSW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAqICAgICAgPHR0Pm15Rm9ybS5uYW1lc0lucHV0LiRlcnJvciA9IHt7bXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAqICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICogICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAqICAgICA8L2Zvcm0+XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICogICAgIHZhciBsaXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCduYW1lcycpKTtcclxuICogICAgIHZhciBuYW1lcyA9IGVsZW1lbnQoYnkuZXhhY3RCaW5kaW5nKCduYW1lcycpKTtcclxuICogICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLm5hbWVzSW5wdXQuJHZhbGlkJykpO1xyXG4gKiAgICAgdmFyIGVycm9yID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZXJyb3InKSk7XHJcbiAqXHJcbiAqICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgZXhwZWN0KG5hbWVzLmdldFRleHQoKSkudG9Db250YWluKCdbXCJtb3JwaGV1c1wiLFwibmVvXCIsXCJ0cmluaXR5XCJdJyk7XHJcbiAqICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gKiAgICAgICBleHBlY3QoZXJyb3IuZ2V0Q3NzVmFsdWUoJ2Rpc3BsYXknKSkudG9CZSgnbm9uZScpO1xyXG4gKiAgICAgfSk7XHJcbiAqXHJcbiAqICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgbGlzdElucHV0LmNsZWFyKCk7XHJcbiAqICAgICAgIGxpc3RJbnB1dC5zZW5kS2V5cygnJyk7XHJcbiAqXHJcbiAqICAgICAgIGV4cGVjdChuYW1lcy5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAqICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICogICAgICAgZXhwZWN0KGVycm9yLmdldENzc1ZhbHVlKCdkaXNwbGF5JykpLm5vdC50b0JlKCdub25lJyk7XHJcbiAqICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogIyMjIEV4YW1wbGUgLSBzcGxpdHRpbmcgb24gbmV3bGluZVxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdMaXN0LWRpcmVjdGl2ZS1uZXdsaW5lc1wiPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cImxpc3RcIiBuZy1saXN0PVwiJiMxMDtcIiBuZy10cmltPVwiZmFsc2VcIj48L3RleHRhcmVhPlxyXG4gKiAgICA8cHJlPnt7IGxpc3QgfCBqc29uIH19PC9wcmU+XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICogICAgIGl0KFwic2hvdWxkIHNwbGl0IHRoZSB0ZXh0IGJ5IG5ld2xpbmVzXCIsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICB2YXIgbGlzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbGlzdCcpKTtcclxuICogICAgICAgdmFyIG91dHB1dCA9IGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCB8IGpzb24nKSk7XHJcbiAqICAgICAgIGxpc3RJbnB1dC5zZW5kS2V5cygnYWJjXFxuZGVmXFxuZ2hpJyk7XHJcbiAqICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1tcXG4gIFwiYWJjXCIsXFxuICBcImRlZlwiLFxcbiAgXCJnaGlcIlxcbl0nKTtcclxuICogICAgIH0pO1xyXG4gKiAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBAZWxlbWVudCBpbnB1dFxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nTGlzdCBvcHRpb25hbCBkZWxpbWl0ZXIgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBzcGxpdCB0aGUgdmFsdWUuXHJcbiAqL1xyXG52YXIgbmdMaXN0RGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBwcmlvcml0eTogMTAwLFxyXG4gICAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcclxuICAgICAgLy8gV2Ugd2FudCB0byBjb250cm9sIHdoaXRlc3BhY2UgdHJpbW1pbmcgc28gd2UgdXNlIHRoaXMgY29udm9sdXRlZCBhcHByb2FjaFxyXG4gICAgICAvLyB0byBhY2Nlc3MgdGhlIG5nTGlzdCBhdHRyaWJ1dGUsIHdoaWNoIGRvZXNuJ3QgcHJlLXRyaW0gdGhlIGF0dHJpYnV0ZVxyXG4gICAgICB2YXIgbmdMaXN0ID0gZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIubmdMaXN0KSB8fCAnLCAnO1xyXG4gICAgICB2YXIgdHJpbVZhbHVlcyA9IGF0dHIubmdUcmltICE9PSAnZmFsc2UnO1xyXG4gICAgICB2YXIgc2VwYXJhdG9yID0gdHJpbVZhbHVlcyA/IHRyaW0obmdMaXN0KSA6IG5nTGlzdDtcclxuXHJcbiAgICAgIHZhciBwYXJzZSA9IGZ1bmN0aW9uKHZpZXdWYWx1ZSkge1xyXG4gICAgICAgIC8vIElmIHRoZSB2aWV3VmFsdWUgaXMgaW52YWxpZCAoc2F5IHJlcXVpcmVkIGJ1dCBlbXB0eSkgaXQgd2lsbCBiZSBgdW5kZWZpbmVkYFxyXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh2aWV3VmFsdWUpKSByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBsaXN0ID0gW107XHJcblxyXG4gICAgICAgIGlmICh2aWV3VmFsdWUpIHtcclxuICAgICAgICAgIGZvckVhY2godmlld1ZhbHVlLnNwbGl0KHNlcGFyYXRvciksIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkgbGlzdC5wdXNoKHRyaW1WYWx1ZXMgPyB0cmltKHZhbHVlKSA6IHZhbHVlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjdHJsLiRwYXJzZXJzLnB1c2gocGFyc2UpO1xyXG4gICAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZS5qb2luKG5nTGlzdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIE92ZXJyaWRlIHRoZSBzdGFuZGFyZCAkaXNFbXB0eSBiZWNhdXNlIGFuIGVtcHR5IGFycmF5IG1lYW5zIHRoZSBpbnB1dCBpcyBlbXB0eS5cclxuICAgICAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCAhdmFsdWUubGVuZ3RoO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG4vKiBnbG9iYWwgVkFMSURfQ0xBU1M6IHRydWUsXHJcbiAgSU5WQUxJRF9DTEFTUzogdHJ1ZSxcclxuICBQUklTVElORV9DTEFTUzogdHJ1ZSxcclxuICBESVJUWV9DTEFTUzogdHJ1ZSxcclxuICBVTlRPVUNIRURfQ0xBU1M6IHRydWUsXHJcbiAgVE9VQ0hFRF9DTEFTUzogdHJ1ZSxcclxuKi9cclxuXHJcbnZhciBWQUxJRF9DTEFTUyA9ICduZy12YWxpZCcsXHJcbiAgICBJTlZBTElEX0NMQVNTID0gJ25nLWludmFsaWQnLFxyXG4gICAgUFJJU1RJTkVfQ0xBU1MgPSAnbmctcHJpc3RpbmUnLFxyXG4gICAgRElSVFlfQ0xBU1MgPSAnbmctZGlydHknLFxyXG4gICAgVU5UT1VDSEVEX0NMQVNTID0gJ25nLXVudG91Y2hlZCcsXHJcbiAgICBUT1VDSEVEX0NMQVNTID0gJ25nLXRvdWNoZWQnLFxyXG4gICAgUEVORElOR19DTEFTUyA9ICduZy1wZW5kaW5nJyxcclxuICAgIEVNUFRZX0NMQVNTID0gJ25nLWVtcHR5JyxcclxuICAgIE5PVF9FTVBUWV9DTEFTUyA9ICduZy1ub3QtZW1wdHknO1xyXG5cclxudmFyIG5nTW9kZWxNaW5FcnIgPSBtaW5FcnIoJ25nTW9kZWwnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgdHlwZVxyXG4gKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7Kn0gJHZpZXdWYWx1ZSBUaGUgYWN0dWFsIHZhbHVlIGZyb20gdGhlIGNvbnRyb2wncyB2aWV3LiBGb3IgYGlucHV0YCBlbGVtZW50cywgdGhpcyBpcyBhXHJcbiAqIFN0cmluZy4gU2VlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWaWV3VmFsdWV9IGZvciBpbmZvcm1hdGlvbiBhYm91dCB3aGVuIHRoZSAkdmlld1ZhbHVlXHJcbiAqIGlzIHNldC5cclxuICogQHByb3BlcnR5IHsqfSAkbW9kZWxWYWx1ZSBUaGUgdmFsdWUgaW4gdGhlIG1vZGVsIHRoYXQgdGhlIGNvbnRyb2wgaXMgYm91bmQgdG8uXHJcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJHBhcnNlcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUsIGFzIGEgcGlwZWxpbmUsIHdoZW5ldmVyXHJcbiAgICAgICB0aGUgY29udHJvbCByZWFkcyB2YWx1ZSBmcm9tIHRoZSBET00uIFRoZSBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbiBhcnJheSBvcmRlciwgZWFjaCBwYXNzaW5nXHJcbiAgICAgICBpdHMgcmV0dXJuIHZhbHVlIHRocm91Z2ggdG8gdGhlIG5leHQuIFRoZSBsYXN0IHJldHVybiB2YWx1ZSBpcyBmb3J3YXJkZWQgdG8gdGhlXHJcbiAgICAgICB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgJHZhbGlkYXRvcnNgfSBjb2xsZWN0aW9uLlxyXG5cclxuUGFyc2VycyBhcmUgdXNlZCB0byBzYW5pdGl6ZSAvIGNvbnZlcnQgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWVcclxuYCR2aWV3VmFsdWVgfS5cclxuXHJcblJldHVybmluZyBgdW5kZWZpbmVkYCBmcm9tIGEgcGFyc2VyIG1lYW5zIGEgcGFyc2UgZXJyb3Igb2NjdXJyZWQuIEluIHRoYXQgY2FzZSxcclxubm8ge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYCR2YWxpZGF0b3JzYH0gd2lsbCBydW4gYW5kIHRoZSBgbmdNb2RlbGBcclxud2lsbCBiZSBzZXQgdG8gYHVuZGVmaW5lZGAgdW5sZXNzIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH1cclxuaXMgc2V0IHRvIGB0cnVlYC4gVGhlIHBhcnNlIGVycm9yIGlzIHN0b3JlZCBpbiBgbmdNb2RlbC4kZXJyb3IucGFyc2VgLlxyXG5cclxuICpcclxuICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSAkZm9ybWF0dGVycyBBcnJheSBvZiBmdW5jdGlvbnMgdG8gZXhlY3V0ZSwgYXMgYSBwaXBlbGluZSwgd2hlbmV2ZXJcclxuICAgICAgIHRoZSBtb2RlbCB2YWx1ZSBjaGFuZ2VzLiBUaGUgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW4gcmV2ZXJzZSBhcnJheSBvcmRlciwgZWFjaCBwYXNzaW5nIHRoZSB2YWx1ZSB0aHJvdWdoIHRvIHRoZVxyXG4gICAgICAgbmV4dC4gVGhlIGxhc3QgcmV0dXJuIHZhbHVlIGlzIHVzZWQgYXMgdGhlIGFjdHVhbCBET00gdmFsdWUuXHJcbiAgICAgICBVc2VkIHRvIGZvcm1hdCAvIGNvbnZlcnQgdmFsdWVzIGZvciBkaXNwbGF5IGluIHRoZSBjb250cm9sLlxyXG4gKiBgYGBqc1xyXG4gKiBmdW5jdGlvbiBmb3JtYXR0ZXIodmFsdWUpIHtcclxuICogICBpZiAodmFsdWUpIHtcclxuICogICAgIHJldHVybiB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xyXG4gKiAgIH1cclxuICogfVxyXG4gKiBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gJHZhbGlkYXRvcnMgQSBjb2xsZWN0aW9uIG9mIHZhbGlkYXRvcnMgdGhhdCBhcmUgYXBwbGllZFxyXG4gKiAgICAgIHdoZW5ldmVyIHRoZSBtb2RlbCB2YWx1ZSBjaGFuZ2VzLiBUaGUga2V5IHZhbHVlIHdpdGhpbiB0aGUgb2JqZWN0IHJlZmVycyB0byB0aGUgbmFtZSBvZiB0aGVcclxuICogICAgICB2YWxpZGF0b3Igd2hpbGUgdGhlIGZ1bmN0aW9uIHJlZmVycyB0byB0aGUgdmFsaWRhdGlvbiBvcGVyYXRpb24uIFRoZSB2YWxpZGF0aW9uIG9wZXJhdGlvbiBpc1xyXG4gKiAgICAgIHByb3ZpZGVkIHdpdGggdGhlIG1vZGVsIHZhbHVlIGFzIGFuIGFyZ3VtZW50IGFuZCBtdXN0IHJldHVybiBhIHRydWUgb3IgZmFsc2UgdmFsdWUgZGVwZW5kaW5nXHJcbiAqICAgICAgb24gdGhlIHJlc3BvbnNlIG9mIHRoYXQgdmFsaWRhdGlvbi5cclxuICpcclxuICogYGBganNcclxuICogbmdNb2RlbC4kdmFsaWRhdG9ycy52YWxpZENoYXJhY3RlcnMgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcclxuICogICByZXR1cm4gL1swLTldKy8udGVzdCh2YWx1ZSkgJiZcclxuICogICAgICAgICAgL1thLXpdKy8udGVzdCh2YWx1ZSkgJiZcclxuICogICAgICAgICAgL1tBLVpdKy8udGVzdCh2YWx1ZSkgJiZcclxuICogICAgICAgICAgL1xcVysvLnRlc3QodmFsdWUpO1xyXG4gKiB9O1xyXG4gKiBgYGBcclxuICpcclxuICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSAkYXN5bmNWYWxpZGF0b3JzIEEgY29sbGVjdGlvbiBvZiB2YWxpZGF0aW9ucyB0aGF0IGFyZSBleHBlY3RlZCB0b1xyXG4gKiAgICAgIHBlcmZvcm0gYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRpb24gKGUuZy4gYSBIVFRQIHJlcXVlc3QpLiBUaGUgdmFsaWRhdGlvbiBmdW5jdGlvbiB0aGF0IGlzIHByb3ZpZGVkXHJcbiAqICAgICAgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgcHJvbWlzZSB3aGVuIGl0IGlzIHJ1biBkdXJpbmcgdGhlIG1vZGVsIHZhbGlkYXRpb24gcHJvY2Vzcy4gT25jZSB0aGUgcHJvbWlzZVxyXG4gKiAgICAgIGlzIGRlbGl2ZXJlZCB0aGVuIHRoZSB2YWxpZGF0aW9uIHN0YXR1cyB3aWxsIGJlIHNldCB0byB0cnVlIHdoZW4gZnVsZmlsbGVkIGFuZCBmYWxzZSB3aGVuIHJlamVjdGVkLlxyXG4gKiAgICAgIFdoZW4gdGhlIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGFyZSB0cmlnZ2VyZWQsIGVhY2ggb2YgdGhlIHZhbGlkYXRvcnMgd2lsbCBydW4gaW4gcGFyYWxsZWwgYW5kIHRoZSBtb2RlbFxyXG4gKiAgICAgIHZhbHVlIHdpbGwgb25seSBiZSB1cGRhdGVkIG9uY2UgYWxsIHZhbGlkYXRvcnMgaGF2ZSBiZWVuIGZ1bGZpbGxlZC4gQXMgbG9uZyBhcyBhbiBhc3luY2hyb25vdXMgdmFsaWRhdG9yXHJcbiAqICAgICAgaXMgdW5mdWxmaWxsZWQsIGl0cyBrZXkgd2lsbCBiZSBhZGRlZCB0byB0aGUgY29udHJvbGxlcnMgYCRwZW5kaW5nYCBwcm9wZXJ0eS4gQWxzbywgYWxsIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzXHJcbiAqICAgICAgd2lsbCBvbmx5IHJ1biBvbmNlIGFsbCBzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGhhdmUgcGFzc2VkLlxyXG4gKlxyXG4gKiBQbGVhc2Ugbm90ZSB0aGF0IGlmICRodHRwIGlzIHVzZWQgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdGhhdCB0aGUgc2VydmVyIHJldHVybnMgYSBzdWNjZXNzIEhUVFAgcmVzcG9uc2UgY29kZVxyXG4gKiBpbiBvcmRlciB0byBmdWxmaWxsIHRoZSB2YWxpZGF0aW9uIGFuZCBhIHN0YXR1cyBsZXZlbCBvZiBgNHh4YCBpbiBvcmRlciB0byByZWplY3QgdGhlIHZhbGlkYXRpb24uXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIG5nTW9kZWwuJGFzeW5jVmFsaWRhdG9ycy51bmlxdWVVc2VybmFtZSA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gKiAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xyXG4gKlxyXG4gKiAgIC8vIExvb2t1cCB1c2VyIGJ5IHVzZXJuYW1lXHJcbiAqICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy8nICsgdmFsdWUpLlxyXG4gKiAgICAgIHRoZW4oZnVuY3Rpb24gcmVzb2x2ZWQoKSB7XHJcbiAqICAgICAgICAvL3VzZXJuYW1lIGV4aXN0cywgdGhpcyBtZWFucyB2YWxpZGF0aW9uIGZhaWxzXHJcbiAqICAgICAgICByZXR1cm4gJHEucmVqZWN0KCdleGlzdHMnKTtcclxuICogICAgICB9LCBmdW5jdGlvbiByZWplY3RlZCgpIHtcclxuICogICAgICAgIC8vdXNlcm5hbWUgZG9lcyBub3QgZXhpc3QsIHRoZXJlZm9yZSB0aGlzIHZhbGlkYXRpb24gcGFzc2VzXHJcbiAqICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICogICAgICB9KTtcclxuICogfTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUgd2hlbmV2ZXIgdGhlXHJcbiAqICAgICB2aWV3IHZhbHVlIGhhcyBjaGFuZ2VkLiBJdCBpcyBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMsIGFuZCBpdHMgcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWQuXHJcbiAqICAgICBUaGlzIGNhbiBiZSB1c2VkIGluIHBsYWNlIG9mIGFkZGl0aW9uYWwgJHdhdGNoZXMgYWdhaW5zdCB0aGUgbW9kZWwgdmFsdWUuXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAkZXJyb3IgQW4gb2JqZWN0IGhhc2ggd2l0aCBhbGwgZmFpbGluZyB2YWxpZGF0b3IgaWRzIGFzIGtleXMuXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAkcGVuZGluZyBBbiBvYmplY3QgaGFzaCB3aXRoIGFsbCBwZW5kaW5nIHZhbGlkYXRvciBpZHMgYXMga2V5cy5cclxuICpcclxuICogQHByb3BlcnR5IHtib29sZWFufSAkdW50b3VjaGVkIFRydWUgaWYgY29udHJvbCBoYXMgbm90IGxvc3QgZm9jdXMgeWV0LlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR0b3VjaGVkIFRydWUgaWYgY29udHJvbCBoYXMgbG9zdCBmb2N1cy5cclxuICogQHByb3BlcnR5IHtib29sZWFufSAkcHJpc3RpbmUgVHJ1ZSBpZiB1c2VyIGhhcyBub3QgaW50ZXJhY3RlZCB3aXRoIHRoZSBjb250cm9sIHlldC5cclxuICogQHByb3BlcnR5IHtib29sZWFufSAkZGlydHkgVHJ1ZSBpZiB1c2VyIGhhcyBhbHJlYWR5IGludGVyYWN0ZWQgd2l0aCB0aGUgY29udHJvbC5cclxuICogQHByb3BlcnR5IHtib29sZWFufSAkdmFsaWQgVHJ1ZSBpZiB0aGVyZSBpcyBubyBlcnJvci5cclxuICogQHByb3BlcnR5IHtib29sZWFufSAkaW52YWxpZCBUcnVlIGlmIGF0IGxlYXN0IG9uZSBlcnJvciBvbiB0aGUgY29udHJvbC5cclxuICogQHByb3BlcnR5IHtzdHJpbmd9ICRuYW1lIFRoZSBuYW1lIGF0dHJpYnV0ZSBvZiB0aGUgY29udHJvbC5cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIGBOZ01vZGVsQ29udHJvbGxlcmAgcHJvdmlkZXMgQVBJIGZvciB0aGUge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSBkaXJlY3RpdmUuXHJcbiAqIFRoZSBjb250cm9sbGVyIGNvbnRhaW5zIHNlcnZpY2VzIGZvciBkYXRhLWJpbmRpbmcsIHZhbGlkYXRpb24sIENTUyB1cGRhdGVzLCBhbmQgdmFsdWUgZm9ybWF0dGluZ1xyXG4gKiBhbmQgcGFyc2luZy4gSXQgcHVycG9zZWZ1bGx5IGRvZXMgbm90IGNvbnRhaW4gYW55IGxvZ2ljIHdoaWNoIGRlYWxzIHdpdGggRE9NIHJlbmRlcmluZyBvclxyXG4gKiBsaXN0ZW5pbmcgdG8gRE9NIGV2ZW50cy5cclxuICogU3VjaCBET00gcmVsYXRlZCBsb2dpYyBzaG91bGQgYmUgcHJvdmlkZWQgYnkgb3RoZXIgZGlyZWN0aXZlcyB3aGljaCBtYWtlIHVzZSBvZlxyXG4gKiBgTmdNb2RlbENvbnRyb2xsZXJgIGZvciBkYXRhLWJpbmRpbmcgdG8gY29udHJvbCBlbGVtZW50cy5cclxuICogQW5ndWxhciBwcm92aWRlcyB0aGlzIERPTSBsb2dpYyBmb3IgbW9zdCB7QGxpbmsgaW5wdXQgYGlucHV0YH0gZWxlbWVudHMuXHJcbiAqIEF0IHRoZSBlbmQgb2YgdGhpcyBwYWdlIHlvdSBjYW4gZmluZCBhIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyI2N1c3RvbS1jb250cm9sLWV4YW1wbGVcclxuICogY3VzdG9tIGNvbnRyb2wgZXhhbXBsZX0gdGhhdCB1c2VzIGBuZ01vZGVsQ29udHJvbGxlcmAgdG8gYmluZCB0byBgY29udGVudGVkaXRhYmxlYCBlbGVtZW50cy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogIyMjIEN1c3RvbSBDb250cm9sIEV4YW1wbGVcclxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYE5nTW9kZWxDb250cm9sbGVyYCB3aXRoIGEgY3VzdG9tIGNvbnRyb2wgdG8gYWNoaWV2ZVxyXG4gKiBkYXRhLWJpbmRpbmcuIE5vdGljZSBob3cgZGlmZmVyZW50IGRpcmVjdGl2ZXMgKGBjb250ZW50ZWRpdGFibGVgLCBgbmctbW9kZWxgLCBhbmQgYHJlcXVpcmVkYClcclxuICogY29sbGFib3JhdGUgdG9nZXRoZXIgdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCByZXN1bHQuXHJcbiAqXHJcbiAqIGBjb250ZW50ZWRpdGFibGVgIGlzIGFuIEhUTUw1IGF0dHJpYnV0ZSwgd2hpY2ggdGVsbHMgdGhlIGJyb3dzZXIgdG8gbGV0IHRoZSBlbGVtZW50XHJcbiAqIGNvbnRlbnRzIGJlIGVkaXRlZCBpbiBwbGFjZSBieSB0aGUgdXNlci5cclxuICpcclxuICogV2UgYXJlIHVzaW5nIHRoZSB7QGxpbmsgbmcuc2VydmljZTokc2NlICRzY2V9IHNlcnZpY2UgaGVyZSBhbmQgaW5jbHVkZSB0aGUge0BsaW5rIG5nU2FuaXRpemUgJHNhbml0aXplfVxyXG4gKiBtb2R1bGUgdG8gYXV0b21hdGljYWxseSByZW1vdmUgXCJiYWRcIiBjb250ZW50IGxpa2UgaW5saW5lIGV2ZW50IGxpc3RlbmVyIChlLmcuIGA8c3BhbiBvbmNsaWNrPVwiLi4uXCI+YCkuXHJcbiAqIEhvd2V2ZXIsIGFzIHdlIGFyZSB1c2luZyBgJHNjZWAgdGhlIG1vZGVsIGNhbiBzdGlsbCBkZWNpZGUgdG8gcHJvdmlkZSB1bnNhZmUgY29udGVudCBpZiBpdCBtYXJrc1xyXG4gKiB0aGF0IGNvbnRlbnQgdXNpbmcgdGhlIGAkc2NlYCBzZXJ2aWNlLlxyXG4gKlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwiTmdNb2RlbENvbnRyb2xsZXJcIiBtb2R1bGU9XCJjdXN0b21Db250cm9sXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cclxuICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgW2NvbnRlbnRlZGl0YWJsZV0ge1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIG1pbi1oZWlnaHQ6IDIwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5uZy1pbnZhbGlkIHtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdjdXN0b21Db250cm9sJywgWyduZ1Nhbml0aXplJ10pLlxyXG4gICAgICAgIGRpcmVjdGl2ZSgnY29udGVudGVkaXRhYmxlJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywgLy8gb25seSBhY3RpdmF0ZSBvbiBlbGVtZW50IGF0dHJpYnV0ZVxyXG4gICAgICAgICAgICByZXF1aXJlOiAnP25nTW9kZWwnLCAvLyBnZXQgYSBob2xkIG9mIE5nTW9kZWxDb250cm9sbGVyXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG4gICAgICAgICAgICAgIGlmICghbmdNb2RlbCkgcmV0dXJuOyAvLyBkbyBub3RoaW5nIGlmIG5vIG5nLW1vZGVsXHJcblxyXG4gICAgICAgICAgICAgIC8vIFNwZWNpZnkgaG93IFVJIHNob3VsZCBiZSB1cGRhdGVkXHJcbiAgICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbChuZ01vZGVsLiR2aWV3VmFsdWUgfHwgJycpKTtcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIGNoYW5nZSBldmVudHMgdG8gZW5hYmxlIGJpbmRpbmdcclxuICAgICAgICAgICAgICBlbGVtZW50Lm9uKCdibHVyIGtleXVwIGNoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhyZWFkKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICByZWFkKCk7IC8vIGluaXRpYWxpemVcclxuXHJcbiAgICAgICAgICAgICAgLy8gV3JpdGUgZGF0YSB0byB0aGUgbW9kZWxcclxuICAgICAgICAgICAgICBmdW5jdGlvbiByZWFkKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBlbGVtZW50Lmh0bWwoKTtcclxuICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgY2xlYXIgdGhlIGNvbnRlbnQgZWRpdGFibGUgdGhlIGJyb3dzZXIgbGVhdmVzIGEgPGJyPiBiZWhpbmRcclxuICAgICAgICAgICAgICAgIC8vIElmIHN0cmlwLWJyIGF0dHJpYnV0ZSBpcyBwcm92aWRlZCB0aGVuIHdlIHN0cmlwIHRoaXMgb3V0XHJcbiAgICAgICAgICAgICAgICBpZiAoIGF0dHJzLnN0cmlwQnIgJiYgaHRtbCA9PSAnPGJyPicgKSB7XHJcbiAgICAgICAgICAgICAgICAgIGh0bWwgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShodG1sKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxyXG4gICAgICAgPGRpdiBjb250ZW50ZWRpdGFibGVcclxuICAgICAgICAgICAgbmFtZT1cIm15V2lkZ2V0XCIgbmctbW9kZWw9XCJ1c2VyQ29udGVudFwiXHJcbiAgICAgICAgICAgIHN0cmlwLWJyPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgIHJlcXVpcmVkPkNoYW5nZSBtZSE8L2Rpdj5cclxuICAgICAgICA8c3BhbiBuZy1zaG93PVwibXlGb3JtLm15V2lkZ2V0LiRlcnJvci5yZXF1aXJlZFwiPlJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgIDxocj5cclxuICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInVzZXJDb250ZW50XCIgYXJpYS1sYWJlbD1cIkR5bmFtaWMgdGV4dGFyZWFcIj48L3RleHRhcmVhPlxyXG4gICAgICA8L2Zvcm0+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICBpdCgnc2hvdWxkIGRhdGEtYmluZCBhbmQgYmVjb21lIGludmFsaWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ3NhZmFyaScgfHwgYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnZmlyZWZveCcpIHtcclxuICAgICAgICAvLyBTYWZhcmlEcml2ZXIgY2FuJ3QgaGFuZGxlIGNvbnRlbnRlZGl0YWJsZVxyXG4gICAgICAgIC8vIGFuZCBGaXJlZm94IGRyaXZlciBjYW4ndCBjbGVhciBjb250ZW50ZWRpdGFibGVzIHZlcnkgd2VsbFxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB2YXIgY29udGVudEVkaXRhYmxlID0gZWxlbWVudChieS5jc3MoJ1tjb250ZW50ZWRpdGFibGVdJykpO1xyXG4gICAgICB2YXIgY29udGVudCA9ICdDaGFuZ2UgbWUhJztcclxuXHJcbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKGNvbnRlbnQpO1xyXG5cclxuICAgICAgY29udGVudEVkaXRhYmxlLmNsZWFyKCk7XHJcbiAgICAgIGNvbnRlbnRFZGl0YWJsZS5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5CQUNLX1NQQUNFKTtcclxuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRUZXh0KCkpLnRvRXF1YWwoJycpO1xyXG4gICAgICBleHBlY3QoY29udGVudEVkaXRhYmxlLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9NYXRjaCgvbmctaW52YWxpZC1yZXF1aXJlZC8pO1xyXG4gICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICpcclxuICovXHJcbnZhciBOZ01vZGVsQ29udHJvbGxlciA9IFsnJHNjb3BlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRhdHRycycsICckZWxlbWVudCcsICckcGFyc2UnLCAnJGFuaW1hdGUnLCAnJHRpbWVvdXQnLCAnJHJvb3RTY29wZScsICckcScsICckaW50ZXJwb2xhdGUnLFxyXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlciwgJGF0dHIsICRlbGVtZW50LCAkcGFyc2UsICRhbmltYXRlLCAkdGltZW91dCwgJHJvb3RTY29wZSwgJHEsICRpbnRlcnBvbGF0ZSkge1xyXG4gIHRoaXMuJHZpZXdWYWx1ZSA9IE51bWJlci5OYU47XHJcbiAgdGhpcy4kbW9kZWxWYWx1ZSA9IE51bWJlci5OYU47XHJcbiAgdGhpcy4kJHJhd01vZGVsVmFsdWUgPSB1bmRlZmluZWQ7IC8vIHN0b3JlcyB0aGUgcGFyc2VkIG1vZGVsVmFsdWUgLyBtb2RlbCBzZXQgZnJvbSBzY29wZSByZWdhcmRsZXNzIG9mIHZhbGlkaXR5LlxyXG4gIHRoaXMuJHZhbGlkYXRvcnMgPSB7fTtcclxuICB0aGlzLiRhc3luY1ZhbGlkYXRvcnMgPSB7fTtcclxuICB0aGlzLiRwYXJzZXJzID0gW107XHJcbiAgdGhpcy4kZm9ybWF0dGVycyA9IFtdO1xyXG4gIHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcclxuICB0aGlzLiR1bnRvdWNoZWQgPSB0cnVlO1xyXG4gIHRoaXMuJHRvdWNoZWQgPSBmYWxzZTtcclxuICB0aGlzLiRwcmlzdGluZSA9IHRydWU7XHJcbiAgdGhpcy4kZGlydHkgPSBmYWxzZTtcclxuICB0aGlzLiR2YWxpZCA9IHRydWU7XHJcbiAgdGhpcy4kaW52YWxpZCA9IGZhbHNlO1xyXG4gIHRoaXMuJGVycm9yID0ge307IC8vIGtlZXAgaW52YWxpZCBrZXlzIGhlcmVcclxuICB0aGlzLiQkc3VjY2VzcyA9IHt9OyAvLyBrZWVwIHZhbGlkIGtleXMgaGVyZVxyXG4gIHRoaXMuJHBlbmRpbmcgPSB1bmRlZmluZWQ7IC8vIGtlZXAgcGVuZGluZyBrZXlzIGhlcmVcclxuICB0aGlzLiRuYW1lID0gJGludGVycG9sYXRlKCRhdHRyLm5hbWUgfHwgJycsIGZhbHNlKSgkc2NvcGUpO1xyXG4gIHRoaXMuJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xyXG5cclxuICB2YXIgcGFyc2VkTmdNb2RlbCA9ICRwYXJzZSgkYXR0ci5uZ01vZGVsKSxcclxuICAgICAgcGFyc2VkTmdNb2RlbEFzc2lnbiA9IHBhcnNlZE5nTW9kZWwuYXNzaWduLFxyXG4gICAgICBuZ01vZGVsR2V0ID0gcGFyc2VkTmdNb2RlbCxcclxuICAgICAgbmdNb2RlbFNldCA9IHBhcnNlZE5nTW9kZWxBc3NpZ24sXHJcbiAgICAgIHBlbmRpbmdEZWJvdW5jZSA9IG51bGwsXHJcbiAgICAgIHBhcnNlclZhbGlkLFxyXG4gICAgICBjdHJsID0gdGhpcztcclxuXHJcbiAgdGhpcy4kJHNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICBjdHJsLiRvcHRpb25zID0gb3B0aW9ucztcclxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZ2V0dGVyU2V0dGVyKSB7XHJcbiAgICAgIHZhciBpbnZva2VNb2RlbEdldHRlciA9ICRwYXJzZSgkYXR0ci5uZ01vZGVsICsgJygpJyksXHJcbiAgICAgICAgICBpbnZva2VNb2RlbFNldHRlciA9ICRwYXJzZSgkYXR0ci5uZ01vZGVsICsgJygkJCRwKScpO1xyXG5cclxuICAgICAgbmdNb2RlbEdldCA9IGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgIHZhciBtb2RlbFZhbHVlID0gcGFyc2VkTmdNb2RlbCgkc2NvcGUpO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgICBtb2RlbFZhbHVlID0gaW52b2tlTW9kZWxHZXR0ZXIoJHNjb3BlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1vZGVsVmFsdWU7XHJcbiAgICAgIH07XHJcbiAgICAgIG5nTW9kZWxTZXQgPSBmdW5jdGlvbigkc2NvcGUsIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ocGFyc2VkTmdNb2RlbCgkc2NvcGUpKSkge1xyXG4gICAgICAgICAgaW52b2tlTW9kZWxTZXR0ZXIoJHNjb3BlLCB7JCQkcDogbmV3VmFsdWV9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGFyc2VkTmdNb2RlbEFzc2lnbigkc2NvcGUsIG5ld1ZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKCFwYXJzZWROZ01vZGVsLmFzc2lnbikge1xyXG4gICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdub25hc3NpZ24nLCBcIkV4cHJlc3Npb24gJ3swfScgaXMgbm9uLWFzc2lnbmFibGUuIEVsZW1lbnQ6IHsxfVwiLFxyXG4gICAgICAgICAgJGF0dHIubmdNb2RlbCwgc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkcmVuZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdmlldyBuZWVkcyB0byBiZSB1cGRhdGVkLiBJdCBpcyBleHBlY3RlZCB0aGF0IHRoZSB1c2VyIG9mIHRoZSBuZy1tb2RlbFxyXG4gICAqIGRpcmVjdGl2ZSB3aWxsIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cclxuICAgKlxyXG4gICAqIFRoZSBgJHJlbmRlcigpYCBtZXRob2QgaXMgaW52b2tlZCBpbiB0aGUgZm9sbG93aW5nIHNpdHVhdGlvbnM6XHJcbiAgICpcclxuICAgKiAqIGAkcm9sbGJhY2tWaWV3VmFsdWUoKWAgaXMgY2FsbGVkLiAgSWYgd2UgYXJlIHJvbGxpbmcgYmFjayB0aGUgdmlldyB2YWx1ZSB0byB0aGUgbGFzdFxyXG4gICAqICAgY29tbWl0dGVkIHZhbHVlIHRoZW4gYCRyZW5kZXIoKWAgaXMgY2FsbGVkIHRvIHVwZGF0ZSB0aGUgaW5wdXQgY29udHJvbC5cclxuICAgKiAqIFRoZSB2YWx1ZSByZWZlcmVuY2VkIGJ5IGBuZy1tb2RlbGAgaXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5IGFuZCBib3RoIHRoZSBgJG1vZGVsVmFsdWVgIGFuZFxyXG4gICAqICAgdGhlIGAkdmlld1ZhbHVlYCBhcmUgZGlmZmVyZW50IGZyb20gbGFzdCB0aW1lLlxyXG4gICAqXHJcbiAgICogU2luY2UgYG5nLW1vZGVsYCBkb2VzIG5vdCBkbyBhIGRlZXAgd2F0Y2gsIGAkcmVuZGVyKClgIGlzIG9ubHkgaW52b2tlZCBpZiB0aGUgdmFsdWVzIG9mXHJcbiAgICogYCRtb2RlbFZhbHVlYCBhbmQgYCR2aWV3VmFsdWVgIGFyZSBhY3R1YWxseSBkaWZmZXJlbnQgZnJvbSB0aGVpciBwcmV2aW91cyB2YWx1ZXMuIElmIGAkbW9kZWxWYWx1ZWBcclxuICAgKiBvciBgJHZpZXdWYWx1ZWAgYXJlIG9iamVjdHMgKHJhdGhlciB0aGFuIGEgc3RyaW5nIG9yIG51bWJlcikgdGhlbiBgJHJlbmRlcigpYCB3aWxsIG5vdCBiZVxyXG4gICAqIGludm9rZWQgaWYgeW91IG9ubHkgY2hhbmdlIGEgcHJvcGVydHkgb24gdGhlIG9iamVjdHMuXHJcbiAgICovXHJcbiAgdGhpcy4kcmVuZGVyID0gbm9vcDtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGlzRW1wdHlcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gd2UgbmVlZCB0byBkZXRlcm1pbmUgaWYgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGlzIGVtcHR5LlxyXG4gICAqXHJcbiAgICogRm9yIGluc3RhbmNlLCB0aGUgcmVxdWlyZWQgZGlyZWN0aXZlIGRvZXMgdGhpcyB0byB3b3JrIG91dCBpZiB0aGUgaW5wdXQgaGFzIGRhdGEgb3Igbm90LlxyXG4gICAqXHJcbiAgICogVGhlIGRlZmF1bHQgYCRpc0VtcHR5YCBmdW5jdGlvbiBjaGVja3Mgd2hldGhlciB0aGUgdmFsdWUgaXMgYHVuZGVmaW5lZGAsIGAnJ2AsIGBudWxsYCBvciBgTmFOYC5cclxuICAgKlxyXG4gICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBmb3IgaW5wdXQgZGlyZWN0aXZlcyB3aG9zZSBjb25jZXB0IG9mIGJlaW5nIGVtcHR5IGlzIGRpZmZlcmVudCBmcm9tIHRoZVxyXG4gICAqIGRlZmF1bHQuIFRoZSBgY2hlY2tib3hJbnB1dFR5cGVgIGRpcmVjdGl2ZSBkb2VzIHRoaXMgYmVjYXVzZSBpbiBpdHMgY2FzZSBhIHZhbHVlIG9mIGBmYWxzZWBcclxuICAgKiBpbXBsaWVzIGVtcHR5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGlucHV0IHRvIGNoZWNrIGZvciBlbXB0aW5lc3MuXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBcImVtcHR5XCIuXHJcbiAgICovXHJcbiAgdGhpcy4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpIHx8IHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWU7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kJHVwZGF0ZUVtcHR5Q2xhc3NlcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpIHtcclxuICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsIE5PVF9FTVBUWV9DTEFTUyk7XHJcbiAgICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBFTVBUWV9DTEFTUyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgRU1QVFlfQ0xBU1MpO1xyXG4gICAgICAkYW5pbWF0ZS5hZGRDbGFzcygkZWxlbWVudCwgTk9UX0VNUFRZX0NMQVNTKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbiAgdmFyIGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQgPSAwO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VmFsaWRpdHlcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENoYW5nZSB0aGUgdmFsaWRpdHkgc3RhdGUsIGFuZCBub3RpZnkgdGhlIGZvcm0uXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHdpdGhpbiAkcGFyc2Vycy8kZm9ybWF0dGVycyBvciBhIGN1c3RvbSB2YWxpZGF0aW9uIGltcGxlbWVudGF0aW9uLlxyXG4gICAqIEhvd2V2ZXIsIGluIG1vc3QgY2FzZXMgaXQgc2hvdWxkIGJlIHN1ZmZpY2llbnQgdG8gdXNlIHRoZSBgbmdNb2RlbC4kdmFsaWRhdG9yc2AgYW5kXHJcbiAgICogYG5nTW9kZWwuJGFzeW5jVmFsaWRhdG9yc2AgY29sbGVjdGlvbnMgd2hpY2ggd2lsbCBjYWxsIGAkc2V0VmFsaWRpdHlgIGF1dG9tYXRpY2FsbHkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsaWRhdGlvbkVycm9yS2V5IE5hbWUgb2YgdGhlIHZhbGlkYXRvci4gVGhlIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHdpbGwgYmUgYXNzaWduZWRcclxuICAgKiAgICAgICAgdG8gZWl0aGVyIGAkZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XWAgb3IgYCRwZW5kaW5nW3ZhbGlkYXRpb25FcnJvcktleV1gXHJcbiAgICogICAgICAgIChmb3IgdW5mdWxmaWxsZWQgYCRhc3luY1ZhbGlkYXRvcnNgKSwgc28gdGhhdCBpdCBpcyBhdmFpbGFibGUgZm9yIGRhdGEtYmluZGluZy5cclxuICAgKiAgICAgICAgVGhlIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHNob3VsZCBiZSBpbiBjYW1lbENhc2UgYW5kIHdpbGwgZ2V0IGNvbnZlcnRlZCBpbnRvIGRhc2gtY2FzZVxyXG4gICAqICAgICAgICBmb3IgY2xhc3MgbmFtZS4gRXhhbXBsZTogYG15RXJyb3JgIHdpbGwgcmVzdWx0IGluIGBuZy12YWxpZC1teS1lcnJvcmAgYW5kIGBuZy1pbnZhbGlkLW15LWVycm9yYFxyXG4gICAqICAgICAgICBjbGFzcyBhbmQgY2FuIGJlIGJvdW5kIHRvIGFzICBge3tzb21lRm9ybS5zb21lQ29udHJvbC4kZXJyb3IubXlFcnJvcn19YCAuXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBpc1ZhbGlkIFdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdmFsaWQgKHRydWUpLCBpbnZhbGlkIChmYWxzZSksIHBlbmRpbmcgKHVuZGVmaW5lZCksXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIG9yIHNraXBwZWQgKG51bGwpLiBQZW5kaW5nIGlzIHVzZWQgZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYC5cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpcHBlZCBpcyB1c2VkIGJ5IEFuZ3VsYXIgd2hlbiB2YWxpZGF0b3JzIGRvIG5vdCBydW4gYmVjYXVzZSBvZiBwYXJzZSBlcnJvcnMgYW5kXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gYCRhc3luY1ZhbGlkYXRvcnNgIGRvIG5vdCBydW4gYmVjYXVzZSBhbnkgb2YgdGhlIGAkdmFsaWRhdG9yc2AgZmFpbGVkLlxyXG4gICAqL1xyXG4gIGFkZFNldFZhbGlkaXR5TWV0aG9kKHtcclxuICAgIGN0cmw6IHRoaXMsXHJcbiAgICAkZWxlbWVudDogJGVsZW1lbnQsXHJcbiAgICBzZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcclxuICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IHRydWU7XHJcbiAgICB9LFxyXG4gICAgdW5zZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcclxuICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICB9LFxyXG4gICAgJGFuaW1hdGU6ICRhbmltYXRlXHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRQcmlzdGluZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLWRpcnR5YCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0cyBwcmlzdGluZVxyXG4gICAqIHN0YXRlIChgbmctcHJpc3RpbmVgIGNsYXNzKS4gQSBtb2RlbCBpcyBjb25zaWRlcmVkIHRvIGJlIHByaXN0aW5lIHdoZW4gdGhlIGNvbnRyb2xcclxuICAgKiBoYXMgbm90IGJlZW4gY2hhbmdlZCBmcm9tIHdoZW4gZmlyc3QgY29tcGlsZWQuXHJcbiAgICovXHJcbiAgdGhpcy4kc2V0UHJpc3RpbmUgPSBmdW5jdGlvbigpIHtcclxuICAgIGN0cmwuJGRpcnR5ID0gZmFsc2U7XHJcbiAgICBjdHJsLiRwcmlzdGluZSA9IHRydWU7XHJcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgRElSVFlfQ0xBU1MpO1xyXG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0RGlydHlcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIGRpcnR5IHN0YXRlLlxyXG4gICAqXHJcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy1wcmlzdGluZWAgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHMgZGlydHlcclxuICAgKiBzdGF0ZSAoYG5nLWRpcnR5YCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSBkaXJ0eSB3aGVuIHRoZSBjb250cm9sIGhhcyBiZWVuIGNoYW5nZWRcclxuICAgKiBmcm9tIHdoZW4gZmlyc3QgY29tcGlsZWQuXHJcbiAgICovXHJcbiAgdGhpcy4kc2V0RGlydHkgPSBmdW5jdGlvbigpIHtcclxuICAgIGN0cmwuJGRpcnR5ID0gdHJ1ZTtcclxuICAgIGN0cmwuJHByaXN0aW5lID0gZmFsc2U7XHJcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MpO1xyXG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIERJUlRZX0NMQVNTKTtcclxuICAgIGN0cmwuJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRVbnRvdWNoZWRcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHVudG91Y2hlZCBzdGF0ZS5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctdG91Y2hlZGAgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHNcclxuICAgKiB1bnRvdWNoZWQgc3RhdGUgKGBuZy11bnRvdWNoZWRgIGNsYXNzKS4gVXBvbiBjb21waWxhdGlvbiwgYSBtb2RlbCBpcyBzZXQgYXMgdW50b3VjaGVkXHJcbiAgICogYnkgZGVmYXVsdCwgaG93ZXZlciB0aGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHJlc3RvcmUgdGhhdCBzdGF0ZSBpZiB0aGUgbW9kZWwgaGFzXHJcbiAgICogYWxyZWFkeSBiZWVuIHRvdWNoZWQgYnkgdGhlIHVzZXIuXHJcbiAgICovXHJcbiAgdGhpcy4kc2V0VW50b3VjaGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjdHJsLiR0b3VjaGVkID0gZmFsc2U7XHJcbiAgICBjdHJsLiR1bnRvdWNoZWQgPSB0cnVlO1xyXG4gICAgJGFuaW1hdGUuc2V0Q2xhc3MoJGVsZW1lbnQsIFVOVE9VQ0hFRF9DTEFTUywgVE9VQ0hFRF9DTEFTUyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFRvdWNoZWRcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHRvdWNoZWQgc3RhdGUuXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLXVudG91Y2hlZGAgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHNcclxuICAgKiB0b3VjaGVkIHN0YXRlIChgbmctdG91Y2hlZGAgY2xhc3MpLiBBIG1vZGVsIGlzIGNvbnNpZGVyZWQgdG8gYmUgdG91Y2hlZCB3aGVuIHRoZSB1c2VyIGhhc1xyXG4gICAqIGZpcnN0IGZvY3VzZWQgdGhlIGNvbnRyb2wgZWxlbWVudCBhbmQgdGhlbiBzaGlmdGVkIGZvY3VzIGF3YXkgZnJvbSB0aGUgY29udHJvbCAoYmx1ciBldmVudCkuXHJcbiAgICovXHJcbiAgdGhpcy4kc2V0VG91Y2hlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgY3RybC4kdG91Y2hlZCA9IHRydWU7XHJcbiAgICBjdHJsLiR1bnRvdWNoZWQgPSBmYWxzZTtcclxuICAgICRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LCBUT1VDSEVEX0NMQVNTLCBVTlRPVUNIRURfQ0xBU1MpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ2FuY2VsIGFuIHVwZGF0ZSBhbmQgcmVzZXQgdGhlIGlucHV0IGVsZW1lbnQncyB2YWx1ZSB0byBwcmV2ZW50IGFuIHVwZGF0ZSB0byB0aGUgYCRtb2RlbFZhbHVlYCxcclxuICAgKiB3aGljaCBtYXkgYmUgY2F1c2VkIGJ5IGEgcGVuZGluZyBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lXHJcbiAgICogZnV0dXJlIGV2ZW50LlxyXG4gICAqXHJcbiAgICogSWYgeW91IGhhdmUgYW4gaW5wdXQgdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBzZXQgdXAgZGVib3VuY2VkIHVwZGF0ZXMgb3IgdXBkYXRlcyB0aGF0XHJcbiAgICogZGVwZW5kIG9uIHNwZWNpYWwgZXZlbnRzIHN1Y2ggYXMgYmx1ciwgeW91IGNhbiBoYXZlIGEgc2l0dWF0aW9uIHdoZXJlIHRoZXJlIGlzIGEgcGVyaW9kIHdoZW5cclxuICAgKiB0aGUgYCR2aWV3VmFsdWVgIGlzIG91dCBvZiBzeW5jIHdpdGggdGhlIG5nTW9kZWwncyBgJG1vZGVsVmFsdWVgLlxyXG4gICAqXHJcbiAgICogSW4gdGhpcyBjYXNlLCB5b3UgY2FuIHVzZSBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIHRvIG1hbnVhbGx5IGNhbmNlbCB0aGUgZGVib3VuY2VkIC8gZnV0dXJlIHVwZGF0ZVxyXG4gICAqIGFuZCByZXNldCB0aGUgaW5wdXQgdG8gdGhlIGxhc3QgY29tbWl0dGVkIHZpZXcgdmFsdWUuXHJcbiAgICpcclxuICAgKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRoYXQgeW91IHJ1biBpbnRvIGRpZmZpY3VsdGllcyBpZiB5b3UgdHJ5IHRvIHVwZGF0ZSB0aGUgbmdNb2RlbCdzIGAkbW9kZWxWYWx1ZWBcclxuICAgKiBwcm9ncmFtbWF0aWNhbGx5IGJlZm9yZSB0aGVzZSBkZWJvdW5jZWQvZnV0dXJlIGV2ZW50cyBoYXZlIHJlc29sdmVkL29jY3VycmVkLCBiZWNhdXNlIEFuZ3VsYXInc1xyXG4gICAqIGRpcnR5IGNoZWNraW5nIG1lY2hhbmlzbSBpcyBub3QgYWJsZSB0byB0ZWxsIHdoZXRoZXIgdGhlIG1vZGVsIGhhcyBhY3R1YWxseSBjaGFuZ2VkIG9yIG5vdC5cclxuICAgKlxyXG4gICAqIFRoZSBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBwcm9ncmFtbWF0aWNhbGx5IGNoYW5naW5nIHRoZSBtb2RlbCBvZiBhblxyXG4gICAqIGlucHV0IHdoaWNoIG1heSBoYXZlIHN1Y2ggZXZlbnRzIHBlbmRpbmcuIFRoaXMgaXMgaW1wb3J0YW50IGluIG9yZGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZVxyXG4gICAqIGlucHV0IGZpZWxkIHdpbGwgYmUgdXBkYXRlZCB3aXRoIHRoZSBuZXcgbW9kZWwgdmFsdWUgYW5kIGFueSBwZW5kaW5nIG9wZXJhdGlvbnMgYXJlIGNhbmNlbGxlZC5cclxuICAgKlxyXG4gICAqIDxleGFtcGxlIG5hbWU9XCJuZy1tb2RlbC1jYW5jZWwtdXBkYXRlXCIgbW9kdWxlPVwiY2FuY2VsLXVwZGF0ZS1leGFtcGxlXCI+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdjYW5jZWwtdXBkYXRlLWV4YW1wbGUnLCBbXSlcclxuICAgKlxyXG4gICAqICAgICAuY29udHJvbGxlcignQ2FuY2VsVXBkYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICogICAgICAgJHNjb3BlLm1vZGVsID0ge307XHJcbiAgICpcclxuICAgKiAgICAgICAkc2NvcGUuc2V0RW1wdHkgPSBmdW5jdGlvbihlLCB2YWx1ZSwgcm9sbGJhY2spIHtcclxuICAgKiAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIHtcclxuICAgKiAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAqICAgICAgICAgICBpZiAocm9sbGJhY2spIHtcclxuICAgKiAgICAgICAgICAgICAkc2NvcGUubXlGb3JtW3ZhbHVlXS4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcclxuICAgKiAgICAgICAgICAgfVxyXG4gICAqICAgICAgICAgICAkc2NvcGUubW9kZWxbdmFsdWVdID0gJyc7XHJcbiAgICogICAgICAgICB9XHJcbiAgICogICAgICAgfTtcclxuICAgKiAgICAgfV0pO1xyXG4gICAqICAgPC9maWxlPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQ2FuY2VsVXBkYXRlQ29udHJvbGxlclwiPlxyXG4gICAqICAgICAgICA8cD5Cb3RoIG9mIHRoZXNlIGlucHV0cyBhcmUgb25seSB1cGRhdGVkIGlmIHRoZXkgYXJlIGJsdXJyZWQuIEhpdHRpbmcgZXNjYXBlIHNob3VsZFxyXG4gICAqICAgICAgICBlbXB0eSB0aGVtLiBGb2xsb3cgdGhlc2Ugc3RlcHMgYW5kIG9ic2VydmUgdGhlIGRpZmZlcmVuY2U6PC9wPlxyXG4gICAqICAgICAgIDxvbD5cclxuICAgKiAgICAgICAgIDxsaT5UeXBlIHNvbWV0aGluZyBpbiB0aGUgaW5wdXQuIFlvdSB3aWxsIHNlZSB0aGF0IHRoZSBtb2RlbCBpcyBub3QgeWV0IHVwZGF0ZWQ8L2xpPlxyXG4gICAqICAgICAgICAgPGxpPlByZXNzIHRoZSBFc2NhcGUga2V5LlxyXG4gICAqICAgICAgICAgICA8b2w+XHJcbiAgICogICAgICAgICAgICAgPGxpPiBJbiB0aGUgZmlyc3QgZXhhbXBsZSwgbm90aGluZyBoYXBwZW5zLCBiZWNhdXNlIHRoZSBtb2RlbCBpcyBhbHJlYWR5ICcnLCBhbmQgbm9cclxuICAgKiAgICAgICAgICAgICB1cGRhdGUgaXMgZGV0ZWN0ZWQuIElmIHlvdSBibHVyIHRoZSBpbnB1dCwgdGhlIG1vZGVsIHdpbGwgYmUgc2V0IHRvIHRoZSBjdXJyZW50IHZpZXcuXHJcbiAgICogICAgICAgICAgICAgPC9saT5cclxuICAgKiAgICAgICAgICAgICA8bGk+IEluIHRoZSBzZWNvbmQgZXhhbXBsZSwgdGhlIHBlbmRpbmcgdXBkYXRlIGlzIGNhbmNlbGxlZCwgYW5kIHRoZSBpbnB1dCBpcyBzZXQgYmFja1xyXG4gICAqICAgICAgICAgICAgIHRvIHRoZSBsYXN0IGNvbW1pdHRlZCB2aWV3IHZhbHVlICgnJykuIEJsdXJyaW5nIHRoZSBpbnB1dCBkb2VzIG5vdGhpbmcuXHJcbiAgICogICAgICAgICAgICAgPC9saT5cclxuICAgKiAgICAgICAgICAgPC9vbD5cclxuICAgKiAgICAgICAgIDwvbGk+XHJcbiAgICogICAgICAgPC9vbD5cclxuICAgKlxyXG4gICAqICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2JsdXInIH1cIj5cclxuICAgKiAgICAgICAgIDxkaXY+XHJcbiAgICogICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvbjFcIj5XaXRob3V0ICRyb2xsYmFja1ZpZXdWYWx1ZSgpOjwvcD5cclxuICAgKiAgICAgICAgIDxpbnB1dCBuYW1lPVwidmFsdWUxXCIgYXJpYS1kZXNjcmliZWRieT1cImlucHV0RGVzY3JpcHRpb24xXCIgbmctbW9kZWw9XCJtb2RlbC52YWx1ZTFcIlxyXG4gICAqICAgICAgICAgICAgICAgIG5nLWtleWRvd249XCJzZXRFbXB0eSgkZXZlbnQsICd2YWx1ZTEnKVwiPlxyXG4gICAqICAgICAgICAgdmFsdWUxOiBcInt7IG1vZGVsLnZhbHVlMSB9fVwiXHJcbiAgICogICAgICAgICA8L2Rpdj5cclxuICAgKlxyXG4gICAqICAgICAgICAgPGRpdj5cclxuICAgKiAgICAgICAgPHAgaWQ9XCJpbnB1dERlc2NyaXB0aW9uMlwiPldpdGggJHJvbGxiYWNrVmlld1ZhbHVlKCk6PC9wPlxyXG4gICAqICAgICAgICAgPGlucHV0IG5hbWU9XCJ2YWx1ZTJcIiBhcmlhLWRlc2NyaWJlZGJ5PVwiaW5wdXREZXNjcmlwdGlvbjJcIiBuZy1tb2RlbD1cIm1vZGVsLnZhbHVlMlwiXHJcbiAgICogICAgICAgICAgICAgICAgbmcta2V5ZG93bj1cInNldEVtcHR5KCRldmVudCwgJ3ZhbHVlMicsIHRydWUpXCI+XHJcbiAgICogICAgICAgICB2YWx1ZTI6IFwie3sgbW9kZWwudmFsdWUyIH19XCJcclxuICAgKiAgICAgICAgIDwvZGl2PlxyXG4gICAqICAgICAgIDwvZm9ybT5cclxuICAgKiAgICAgPC9kaXY+XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgICBkaXYge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZGl2Om50aC1jaGlsZCgxKSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDMwcHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgKiA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdGhpcy4kcm9sbGJhY2tWaWV3VmFsdWUgPSBmdW5jdGlvbigpIHtcclxuICAgICR0aW1lb3V0LmNhbmNlbChwZW5kaW5nRGVib3VuY2UpO1xyXG4gICAgY3RybC4kdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7XHJcbiAgICBjdHJsLiRyZW5kZXIoKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdGVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJ1bnMgZWFjaCBvZiB0aGUgcmVnaXN0ZXJlZCB2YWxpZGF0b3JzIChmaXJzdCBzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGFuZCB0aGVuXHJcbiAgICogYXN5bmNocm9ub3VzIHZhbGlkYXRvcnMpLlxyXG4gICAqIElmIHRoZSB2YWxpZGl0eSBjaGFuZ2VzIHRvIGludmFsaWQsIHRoZSBtb2RlbCB3aWxsIGJlIHNldCB0byBgdW5kZWZpbmVkYCxcclxuICAgKiB1bmxlc3Mge0BsaW5rIG5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9ucy5hbGxvd0ludmFsaWRgfSBpcyBgdHJ1ZWAuXHJcbiAgICogSWYgdGhlIHZhbGlkaXR5IGNoYW5nZXMgdG8gdmFsaWQsIGl0IHdpbGwgc2V0IHRoZSBtb2RlbCB0byB0aGUgbGFzdCBhdmFpbGFibGUgdmFsaWRcclxuICAgKiBgJG1vZGVsVmFsdWVgLCBpLmUuIGVpdGhlciB0aGUgbGFzdCBwYXJzZWQgdmFsdWUgb3IgdGhlIGxhc3QgdmFsdWUgc2V0IGZyb20gdGhlIHNjb3BlLlxyXG4gICAqL1xyXG4gIHRoaXMuJHZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvLyBpZ25vcmUgJHZhbGlkYXRlIGJlZm9yZSBtb2RlbCBpcyBpbml0aWFsaXplZFxyXG4gICAgaWYgKGlzTnVtYmVyKGN0cmwuJG1vZGVsVmFsdWUpICYmIGlzTmFOKGN0cmwuJG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7XHJcbiAgICAvLyBOb3RlOiB3ZSB1c2UgdGhlICQkcmF3TW9kZWxWYWx1ZSBhcyAkbW9kZWxWYWx1ZSBtaWdodCBoYXZlIGJlZW5cclxuICAgIC8vIHNldCB0byB1bmRlZmluZWQgZHVyaW5nIGEgdmlldyAtPiBtb2RlbCB1cGRhdGUgdGhhdCBmb3VuZCB2YWxpZGF0aW9uXHJcbiAgICAvLyBlcnJvcnMuIFdlIGNhbid0IHBhcnNlIHRoZSB2aWV3IGhlcmUsIHNpbmNlIHRoYXQgY291bGQgY2hhbmdlXHJcbiAgICAvLyB0aGUgbW9kZWwgYWx0aG91Z2ggbmVpdGhlciB2aWV3VmFsdWUgbm9yIHRoZSBtb2RlbCBvbiB0aGUgc2NvcGUgY2hhbmdlZFxyXG4gICAgdmFyIG1vZGVsVmFsdWUgPSBjdHJsLiQkcmF3TW9kZWxWYWx1ZTtcclxuXHJcbiAgICB2YXIgcHJldlZhbGlkID0gY3RybC4kdmFsaWQ7XHJcbiAgICB2YXIgcHJldk1vZGVsVmFsdWUgPSBjdHJsLiRtb2RlbFZhbHVlO1xyXG5cclxuICAgIHZhciBhbGxvd0ludmFsaWQgPSBjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO1xyXG5cclxuICAgIGN0cmwuJCRydW5WYWxpZGF0b3JzKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgZnVuY3Rpb24oYWxsVmFsaWQpIHtcclxuICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGNoYW5nZSBpbiB2YWxpZGl0eSwgZG9uJ3QgdXBkYXRlIHRoZSBtb2RlbFxyXG4gICAgICAvLyBUaGlzIHByZXZlbnRzIGNoYW5naW5nIGFuIGludmFsaWQgbW9kZWxWYWx1ZSB0byB1bmRlZmluZWRcclxuICAgICAgaWYgKCFhbGxvd0ludmFsaWQgJiYgcHJldlZhbGlkICE9PSBhbGxWYWxpZCkge1xyXG4gICAgICAgIC8vIE5vdGU6IERvbid0IGNoZWNrIGN0cmwuJHZhbGlkIGhlcmUsIGFzIHdlIGNvdWxkIGhhdmVcclxuICAgICAgICAvLyBleHRlcm5hbCB2YWxpZGF0b3JzIChlLmcuIGNhbGN1bGF0ZWQgb24gdGhlIHNlcnZlciksXHJcbiAgICAgICAgLy8gdGhhdCBqdXN0IGNhbGwgJHNldFZhbGlkaXR5IGFuZCBuZWVkIHRoZSBtb2RlbCB2YWx1ZVxyXG4gICAgICAgIC8vIHRvIGNhbGN1bGF0ZSB0aGVpciB2YWxpZGl0eS5cclxuICAgICAgICBjdHJsLiRtb2RlbFZhbHVlID0gYWxsVmFsaWQgPyBtb2RlbFZhbHVlIDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBpZiAoY3RybC4kbW9kZWxWYWx1ZSAhPT0gcHJldk1vZGVsVmFsdWUpIHtcclxuICAgICAgICAgIGN0cmwuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gIH07XHJcblxyXG4gIHRoaXMuJCRydW5WYWxpZGF0b3JzID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlLCBkb25lQ2FsbGJhY2spIHtcclxuICAgIGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQrKztcclxuICAgIHZhciBsb2NhbFZhbGlkYXRpb25SdW5JZCA9IGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQ7XHJcblxyXG4gICAgLy8gY2hlY2sgcGFyc2VyIGVycm9yXHJcbiAgICBpZiAoIXByb2Nlc3NQYXJzZUVycm9ycygpKSB7XHJcbiAgICAgIHZhbGlkYXRpb25Eb25lKGZhbHNlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCFwcm9jZXNzU3luY1ZhbGlkYXRvcnMoKSkge1xyXG4gICAgICB2YWxpZGF0aW9uRG9uZShmYWxzZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHByb2Nlc3NBc3luY1ZhbGlkYXRvcnMoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzUGFyc2VFcnJvcnMoKSB7XHJcbiAgICAgIHZhciBlcnJvcktleSA9IGN0cmwuJCRwYXJzZXJOYW1lIHx8ICdwYXJzZSc7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChwYXJzZXJWYWxpZCkpIHtcclxuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgbnVsbCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCFwYXJzZXJWYWxpZCkge1xyXG4gICAgICAgICAgZm9yRWFjaChjdHJsLiR2YWxpZGF0b3JzLCBmdW5jdGlvbih2LCBuYW1lKSB7XHJcbiAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBmb3JFYWNoKGN0cmwuJGFzeW5jVmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xyXG4gICAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBudWxsKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTZXQgdGhlIHBhcnNlIGVycm9yIGxhc3QsIHRvIHByZXZlbnQgdW5zZXR0aW5nIGl0LCBzaG91bGQgYSAkdmFsaWRhdG9ycyBrZXkgPT0gcGFyc2VyTmFtZVxyXG4gICAgICAgIHNldFZhbGlkaXR5KGVycm9yS2V5LCBwYXJzZXJWYWxpZCk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlclZhbGlkO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHByb2Nlc3NTeW5jVmFsaWRhdG9ycygpIHtcclxuICAgICAgdmFyIHN5bmNWYWxpZGF0b3JzVmFsaWQgPSB0cnVlO1xyXG4gICAgICBmb3JFYWNoKGN0cmwuJHZhbGlkYXRvcnMsIGZ1bmN0aW9uKHZhbGlkYXRvciwgbmFtZSkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB2YWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKTtcclxuICAgICAgICBzeW5jVmFsaWRhdG9yc1ZhbGlkID0gc3luY1ZhbGlkYXRvcnNWYWxpZCAmJiByZXN1bHQ7XHJcbiAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgcmVzdWx0KTtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICghc3luY1ZhbGlkYXRvcnNWYWxpZCkge1xyXG4gICAgICAgIGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2LCBuYW1lKSB7XHJcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBudWxsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0FzeW5jVmFsaWRhdG9ycygpIHtcclxuICAgICAgdmFyIHZhbGlkYXRvclByb21pc2VzID0gW107XHJcbiAgICAgIHZhciBhbGxWYWxpZCA9IHRydWU7XHJcbiAgICAgIGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcclxuICAgICAgICB2YXIgcHJvbWlzZSA9IHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpO1xyXG4gICAgICAgIGlmICghaXNQcm9taXNlTGlrZShwcm9taXNlKSkge1xyXG4gICAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbm9wcm9taXNlJyxcclxuICAgICAgICAgICAgXCJFeHBlY3RlZCBhc3luY2hyb25vdXMgdmFsaWRhdG9yIHRvIHJldHVybiBhIHByb21pc2UgYnV0IGdvdCAnezB9JyBpbnN0ZWFkLlwiLCBwcm9taXNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgdW5kZWZpbmVkKTtcclxuICAgICAgICB2YWxpZGF0b3JQcm9taXNlcy5wdXNoKHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHRydWUpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgYWxsVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIGZhbHNlKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoIXZhbGlkYXRvclByb21pc2VzLmxlbmd0aCkge1xyXG4gICAgICAgIHZhbGlkYXRpb25Eb25lKHRydWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRxLmFsbCh2YWxpZGF0b3JQcm9taXNlcykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKTtcclxuICAgICAgICB9LCBub29wKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFZhbGlkaXR5KG5hbWUsIGlzVmFsaWQpIHtcclxuICAgICAgaWYgKGxvY2FsVmFsaWRhdGlvblJ1bklkID09PSBjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XHJcbiAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkobmFtZSwgaXNWYWxpZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB2YWxpZGF0aW9uRG9uZShhbGxWYWxpZCkge1xyXG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQpIHtcclxuXHJcbiAgICAgICAgZG9uZUNhbGxiYWNrKGFsbFZhbGlkKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRjb21taXRWaWV3VmFsdWVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENvbW1pdCBhIHBlbmRpbmcgdXBkYXRlIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxyXG4gICAqXHJcbiAgICogVXBkYXRlcyBtYXkgYmUgcGVuZGluZyBieSBhIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBhIHNvbWUgZnV0dXJlXHJcbiAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIHRoaXMgbWV0aG9kIGlzIHJhcmVseSBuZWVkZWQgYXMgYE5nTW9kZWxDb250cm9sbGVyYFxyXG4gICAqIHVzdWFsbHkgaGFuZGxlcyBjYWxsaW5nIHRoaXMgaW4gcmVzcG9uc2UgdG8gaW5wdXQgZXZlbnRzLlxyXG4gICAqL1xyXG4gIHRoaXMuJGNvbW1pdFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHZpZXdWYWx1ZSA9IGN0cmwuJHZpZXdWYWx1ZTtcclxuXHJcbiAgICAkdGltZW91dC5jYW5jZWwocGVuZGluZ0RlYm91bmNlKTtcclxuXHJcbiAgICAvLyBJZiB0aGUgdmlldyB2YWx1ZSBoYXMgbm90IGNoYW5nZWQgdGhlbiB3ZSBzaG91bGQganVzdCBleGl0LCBleGNlcHQgaW4gdGhlIGNhc2Ugd2hlcmUgdGhlcmUgaXNcclxuICAgIC8vIGEgbmF0aXZlIHZhbGlkYXRvciBvbiB0aGUgZWxlbWVudC4gSW4gdGhpcyBjYXNlIHRoZSB2YWxpZGF0aW9uIHN0YXRlIG1heSBoYXZlIGNoYW5nZWQgZXZlbiB0aG91Z2hcclxuICAgIC8vIHRoZSB2aWV3VmFsdWUgaGFzIHN0YXllZCBlbXB0eS5cclxuICAgIGlmIChjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9PT0gdmlld1ZhbHVlICYmICh2aWV3VmFsdWUgIT09ICcnIHx8ICFjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY3RybC4kJHVwZGF0ZUVtcHR5Q2xhc3Nlcyh2aWV3VmFsdWUpO1xyXG4gICAgY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPSB2aWV3VmFsdWU7XHJcblxyXG4gICAgLy8gY2hhbmdlIHRvIGRpcnR5XHJcbiAgICBpZiAoY3RybC4kcHJpc3RpbmUpIHtcclxuICAgICAgdGhpcy4kc2V0RGlydHkoKTtcclxuICAgIH1cclxuICAgIHRoaXMuJCRwYXJzZUFuZFZhbGlkYXRlKCk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB2aWV3VmFsdWUgPSBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcclxuICAgIHZhciBtb2RlbFZhbHVlID0gdmlld1ZhbHVlO1xyXG4gICAgcGFyc2VyVmFsaWQgPSBpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSA/IHVuZGVmaW5lZCA6IHRydWU7XHJcblxyXG4gICAgaWYgKHBhcnNlclZhbGlkKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3RybC4kcGFyc2Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG1vZGVsVmFsdWUgPSBjdHJsLiRwYXJzZXJzW2ldKG1vZGVsVmFsdWUpO1xyXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgICAgcGFyc2VyVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGlzTnVtYmVyKGN0cmwuJG1vZGVsVmFsdWUpICYmIGlzTmFOKGN0cmwuJG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgIC8vIGN0cmwuJG1vZGVsVmFsdWUgaGFzIG5vdCBiZWVuIHRvdWNoZWQgeWV0Li4uXHJcbiAgICAgIGN0cmwuJG1vZGVsVmFsdWUgPSBuZ01vZGVsR2V0KCRzY29wZSk7XHJcbiAgICB9XHJcbiAgICB2YXIgcHJldk1vZGVsVmFsdWUgPSBjdHJsLiRtb2RlbFZhbHVlO1xyXG4gICAgdmFyIGFsbG93SW52YWxpZCA9IGN0cmwuJG9wdGlvbnMgJiYgY3RybC4kb3B0aW9ucy5hbGxvd0ludmFsaWQ7XHJcbiAgICBjdHJsLiQkcmF3TW9kZWxWYWx1ZSA9IG1vZGVsVmFsdWU7XHJcblxyXG4gICAgaWYgKGFsbG93SW52YWxpZCkge1xyXG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID0gbW9kZWxWYWx1ZTtcclxuICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQYXNzIHRoZSAkJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgaGVyZSwgYmVjYXVzZSB0aGUgY2FjaGVkIHZpZXdWYWx1ZSBtaWdodCBiZSBvdXQgb2YgZGF0ZS5cclxuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBlLmcuICRzZXRWaWV3VmFsdWUgaXMgY2FsbGVkIGZyb20gaW5zaWRlIGEgcGFyc2VyXHJcbiAgICBjdHJsLiQkcnVuVmFsaWRhdG9ycyhtb2RlbFZhbHVlLCBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSwgZnVuY3Rpb24oYWxsVmFsaWQpIHtcclxuICAgICAgaWYgKCFhbGxvd0ludmFsaWQpIHtcclxuICAgICAgICAvLyBOb3RlOiBEb24ndCBjaGVjayBjdHJsLiR2YWxpZCBoZXJlLCBhcyB3ZSBjb3VsZCBoYXZlXHJcbiAgICAgICAgLy8gZXh0ZXJuYWwgdmFsaWRhdG9ycyAoZS5nLiBjYWxjdWxhdGVkIG9uIHRoZSBzZXJ2ZXIpLFxyXG4gICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcclxuICAgICAgICAvLyB0byBjYWxjdWxhdGUgdGhlaXIgdmFsaWRpdHkuXHJcbiAgICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGFsbFZhbGlkID8gbW9kZWxWYWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpIHtcclxuICAgICAgaWYgKGN0cmwuJG1vZGVsVmFsdWUgIT09IHByZXZNb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgY3RybC4kJHdyaXRlTW9kZWxUb1Njb3BlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLiQkd3JpdGVNb2RlbFRvU2NvcGUgPSBmdW5jdGlvbigpIHtcclxuICAgIG5nTW9kZWxTZXQoJHNjb3BlLCBjdHJsLiRtb2RlbFZhbHVlKTtcclxuICAgIGZvckVhY2goY3RybC4kdmlld0NoYW5nZUxpc3RlbmVycywgZnVuY3Rpb24obGlzdGVuZXIpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBsaXN0ZW5lcigpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWaWV3VmFsdWVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFVwZGF0ZSB0aGUgdmlldyB2YWx1ZS5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhIGNvbnRyb2wgd2FudHMgdG8gY2hhbmdlIHRoZSB2aWV3IHZhbHVlOyB0eXBpY2FsbHksXHJcbiAgICogdGhpcyBpcyBkb25lIGZyb20gd2l0aGluIGEgRE9NIGV2ZW50IGhhbmRsZXIuIEZvciBleGFtcGxlLCB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTppbnB1dCBpbnB1dH1cclxuICAgKiBkaXJlY3RpdmUgY2FsbHMgaXQgd2hlbiB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IGNoYW5nZXMgYW5kIHtAbGluayBuZy5kaXJlY3RpdmU6c2VsZWN0IHNlbGVjdH1cclxuICAgKiBjYWxscyBpdCB3aGVuIGFuIG9wdGlvbiBpcyBzZWxlY3RlZC5cclxuICAgKlxyXG4gICAqIFdoZW4gYCRzZXRWaWV3VmFsdWVgIGlzIGNhbGxlZCwgdGhlIG5ldyBgdmFsdWVgIHdpbGwgYmUgc3RhZ2VkIGZvciBjb21taXR0aW5nIHRocm91Z2ggdGhlIGAkcGFyc2Vyc2BcclxuICAgKiBhbmQgYCR2YWxpZGF0b3JzYCBwaXBlbGluZXMuIElmIHRoZXJlIGFyZSBubyBzcGVjaWFsIHtAbGluayBuZ01vZGVsT3B0aW9uc30gc3BlY2lmaWVkIHRoZW4gdGhlIHN0YWdlZFxyXG4gICAqIHZhbHVlIHNlbnQgZGlyZWN0bHkgZm9yIHByb2Nlc3NpbmcsIGZpbmFsbHkgdG8gYmUgYXBwbGllZCB0byBgJG1vZGVsVmFsdWVgIGFuZCB0aGVuIHRoZVxyXG4gICAqICoqZXhwcmVzc2lvbioqIHNwZWNpZmllZCBpbiB0aGUgYG5nLW1vZGVsYCBhdHRyaWJ1dGUuIExhc3RseSwgYWxsIHRoZSByZWdpc3RlcmVkIGNoYW5nZSBsaXN0ZW5lcnMsXHJcbiAgICogaW4gdGhlIGAkdmlld0NoYW5nZUxpc3RlbmVyc2AgbGlzdCwgYXJlIGNhbGxlZC5cclxuICAgKlxyXG4gICAqIEluIGNhc2UgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9IGRpcmVjdGl2ZSBpcyB1c2VkIHdpdGggYHVwZGF0ZU9uYFxyXG4gICAqIGFuZCB0aGUgYGRlZmF1bHRgIHRyaWdnZXIgaXMgbm90IGxpc3RlZCwgYWxsIHRob3NlIGFjdGlvbnMgd2lsbCByZW1haW4gcGVuZGluZyB1bnRpbCBvbmUgb2YgdGhlXHJcbiAgICogYHVwZGF0ZU9uYCBldmVudHMgaXMgdHJpZ2dlcmVkIG9uIHRoZSBET00gZWxlbWVudC5cclxuICAgKiBBbGwgdGhlc2UgYWN0aW9ucyB3aWxsIGJlIGRlYm91bmNlZCBpZiB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc31cclxuICAgKiBkaXJlY3RpdmUgaXMgdXNlZCB3aXRoIGEgY3VzdG9tIGRlYm91bmNlIGZvciB0aGlzIHBhcnRpY3VsYXIgZXZlbnQuXHJcbiAgICogTm90ZSB0aGF0IGEgYCRkaWdlc3RgIGlzIG9ubHkgdHJpZ2dlcmVkIG9uY2UgdGhlIGB1cGRhdGVPbmAgZXZlbnRzIGFyZSBmaXJlZCwgb3IgaWYgYGRlYm91bmNlYFxyXG4gICAqIGlzIHNwZWNpZmllZCwgb25jZSB0aGUgdGltZXIgcnVucyBvdXQuXHJcbiAgICpcclxuICAgKiBXaGVuIHVzZWQgd2l0aCBzdGFuZGFyZCBpbnB1dHMsIHRoZSB2aWV3IHZhbHVlIHdpbGwgYWx3YXlzIGJlIGEgc3RyaW5nICh3aGljaCBpcyBpbiBzb21lIGNhc2VzXHJcbiAgICogcGFyc2VkIGludG8gYW5vdGhlciB0eXBlLCBzdWNoIGFzIGEgYERhdGVgIG9iamVjdCBmb3IgYGlucHV0W2RhdGVdYC4pXHJcbiAgICogSG93ZXZlciwgY3VzdG9tIGNvbnRyb2xzIG1pZ2h0IGFsc28gcGFzcyBvYmplY3RzIHRvIHRoaXMgbWV0aG9kLiBJbiB0aGlzIGNhc2UsIHdlIHNob3VsZCBtYWtlXHJcbiAgICogYSBjb3B5IG9mIHRoZSBvYmplY3QgYmVmb3JlIHBhc3NpbmcgaXQgdG8gYCRzZXRWaWV3VmFsdWVgLiBUaGlzIGlzIGJlY2F1c2UgYG5nTW9kZWxgIGRvZXMgbm90XHJcbiAgICogcGVyZm9ybSBhIGRlZXAgd2F0Y2ggb2Ygb2JqZWN0cywgaXQgb25seSBsb29rcyBmb3IgYSBjaGFuZ2Ugb2YgaWRlbnRpdHkuIElmIHlvdSBvbmx5IGNoYW5nZVxyXG4gICAqIHRoZSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IHRoZW4gbmdNb2RlbCB3aWxsIG5vdCByZWFsaXplIHRoYXQgdGhlIG9iamVjdCBoYXMgY2hhbmdlZCBhbmRcclxuICAgKiB3aWxsIG5vdCBpbnZva2UgdGhlIGAkcGFyc2Vyc2AgYW5kIGAkdmFsaWRhdG9yc2AgcGlwZWxpbmVzLiBGb3IgdGhpcyByZWFzb24sIHlvdSBzaG91bGRcclxuICAgKiBub3QgY2hhbmdlIHByb3BlcnRpZXMgb2YgdGhlIGNvcHkgb25jZSBpdCBoYXMgYmVlbiBwYXNzZWQgdG8gYCRzZXRWaWV3VmFsdWVgLlxyXG4gICAqIE90aGVyd2lzZSB5b3UgbWF5IGNhdXNlIHRoZSBtb2RlbCB2YWx1ZSBvbiB0aGUgc2NvcGUgdG8gY2hhbmdlIGluY29ycmVjdGx5LlxyXG4gICAqXHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICAgKiBJbiBhbnkgY2FzZSwgdGhlIHZhbHVlIHBhc3NlZCB0byB0aGUgbWV0aG9kIHNob3VsZCBhbHdheXMgcmVmbGVjdCB0aGUgY3VycmVudCB2YWx1ZVxyXG4gICAqIG9mIHRoZSBjb250cm9sLiBGb3IgZXhhbXBsZSwgaWYgeW91IGFyZSBjYWxsaW5nIGAkc2V0Vmlld1ZhbHVlYCBmb3IgYW4gaW5wdXQgZWxlbWVudCxcclxuICAgKiB5b3Ugc2hvdWxkIHBhc3MgdGhlIGlucHV0IERPTSB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgY29udHJvbCBhbmQgdGhlIHNjb3BlIG1vZGVsIGJlY29tZVxyXG4gICAqIG91dCBvZiBzeW5jLiBJdCdzIGFsc28gaW1wb3J0YW50IHRvIG5vdGUgdGhhdCBgJHNldFZpZXdWYWx1ZWAgZG9lcyBub3QgY2FsbCBgJHJlbmRlcmAgb3IgY2hhbmdlXHJcbiAgICogdGhlIGNvbnRyb2wncyBET00gdmFsdWUgaW4gYW55IHdheS4gSWYgd2Ugd2FudCB0byBjaGFuZ2UgdGhlIGNvbnRyb2wncyBET00gdmFsdWVcclxuICAgKiBwcm9ncmFtbWF0aWNhbGx5LCB3ZSBzaG91bGQgdXBkYXRlIHRoZSBgbmdNb2RlbGAgc2NvcGUgZXhwcmVzc2lvbi4gSXRzIG5ldyB2YWx1ZSB3aWxsIGJlXHJcbiAgICogcGlja2VkIHVwIGJ5IHRoZSBtb2RlbCBjb250cm9sbGVyLCB3aGljaCB3aWxsIHJ1biBpdCB0aHJvdWdoIHRoZSBgJGZvcm1hdHRlcnNgLCBgJHJlbmRlcmAgaXRcclxuICAgKiB0byB1cGRhdGUgdGhlIERPTSwgYW5kIGZpbmFsbHkgY2FsbCBgJHZhbGlkYXRlYCBvbiBpdC5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgdmFsdWUgZnJvbSB0aGUgdmlldy5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHJpZ2dlciBFdmVudCB0aGF0IHRyaWdnZXJlZCB0aGUgdXBkYXRlLlxyXG4gICAqL1xyXG4gIHRoaXMuJHNldFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCB0cmlnZ2VyKSB7XHJcbiAgICBjdHJsLiR2aWV3VmFsdWUgPSB2YWx1ZTtcclxuICAgIGlmICghY3RybC4kb3B0aW9ucyB8fCBjdHJsLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdCkge1xyXG4gICAgICBjdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQodHJpZ2dlcik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0ID0gZnVuY3Rpb24odHJpZ2dlcikge1xyXG4gICAgdmFyIGRlYm91bmNlRGVsYXkgPSAwLFxyXG4gICAgICAgIG9wdGlvbnMgPSBjdHJsLiRvcHRpb25zLFxyXG4gICAgICAgIGRlYm91bmNlO1xyXG5cclxuICAgIGlmIChvcHRpb25zICYmIGlzRGVmaW5lZChvcHRpb25zLmRlYm91bmNlKSkge1xyXG4gICAgICBkZWJvdW5jZSA9IG9wdGlvbnMuZGVib3VuY2U7XHJcbiAgICAgIGlmIChpc051bWJlcihkZWJvdW5jZSkpIHtcclxuICAgICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2U7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoZGVib3VuY2VbdHJpZ2dlcl0pKSB7XHJcbiAgICAgICAgZGVib3VuY2VEZWxheSA9IGRlYm91bmNlW3RyaWdnZXJdO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlWydkZWZhdWx0J10pKSB7XHJcbiAgICAgICAgZGVib3VuY2VEZWxheSA9IGRlYm91bmNlWydkZWZhdWx0J107XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAkdGltZW91dC5jYW5jZWwocGVuZGluZ0RlYm91bmNlKTtcclxuICAgIGlmIChkZWJvdW5jZURlbGF5KSB7XHJcbiAgICAgIHBlbmRpbmdEZWJvdW5jZSA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGN0cmwuJGNvbW1pdFZpZXdWYWx1ZSgpO1xyXG4gICAgICB9LCBkZWJvdW5jZURlbGF5KTtcclxuICAgIH0gZWxzZSBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgIGN0cmwuJGNvbW1pdFZpZXdWYWx1ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICBjdHJsLiRjb21taXRWaWV3VmFsdWUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gbW9kZWwgLT4gdmFsdWVcclxuICAvLyBOb3RlOiB3ZSBjYW5ub3QgdXNlIGEgbm9ybWFsIHNjb3BlLiR3YXRjaCBhcyB3ZSB3YW50IHRvIGRldGVjdCB0aGUgZm9sbG93aW5nOlxyXG4gIC8vIDEuIHNjb3BlIHZhbHVlIGlzICdhJ1xyXG4gIC8vIDIuIHVzZXIgZW50ZXJzICdiJ1xyXG4gIC8vIDMuIG5nLWNoYW5nZSBraWNrcyBpbiBhbmQgcmV2ZXJ0cyBzY29wZSB2YWx1ZSB0byAnYSdcclxuICAvLyAgICAtPiBzY29wZSB2YWx1ZSBkaWQgbm90IGNoYW5nZSBzaW5jZSB0aGUgbGFzdCBkaWdlc3QgYXNcclxuICAvLyAgICAgICBuZy1jaGFuZ2UgZXhlY3V0ZXMgaW4gYXBwbHkgcGhhc2VcclxuICAvLyA0LiB2aWV3IHNob3VsZCBiZSBjaGFuZ2VkIGJhY2sgdG8gJ2EnXHJcbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiBuZ01vZGVsV2F0Y2goKSB7XHJcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IG5nTW9kZWxHZXQoJHNjb3BlKTtcclxuXHJcbiAgICAvLyBpZiBzY29wZSBtb2RlbCB2YWx1ZSBhbmQgbmdNb2RlbCB2YWx1ZSBhcmUgb3V0IG9mIHN5bmNcclxuICAgIC8vIFRPRE8ocGVyZik6IHdoeSBub3QgbW92ZSB0aGlzIHRvIHRoZSBhY3Rpb24gZm4/XHJcbiAgICBpZiAobW9kZWxWYWx1ZSAhPT0gY3RybC4kbW9kZWxWYWx1ZSAmJlxyXG4gICAgICAgLy8gY2hlY2tzIGZvciBOYU4gaXMgbmVlZGVkIHRvIGFsbG93IHNldHRpbmcgdGhlIG1vZGVsIHRvIE5hTiB3aGVuIHRoZXJlJ3MgYW4gYXN5bmNWYWxpZGF0b3JcclxuICAgICAgIChjdHJsLiRtb2RlbFZhbHVlID09PSBjdHJsLiRtb2RlbFZhbHVlIHx8IG1vZGVsVmFsdWUgPT09IG1vZGVsVmFsdWUpXHJcbiAgICApIHtcclxuICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGN0cmwuJCRyYXdNb2RlbFZhbHVlID0gbW9kZWxWYWx1ZTtcclxuICAgICAgcGFyc2VyVmFsaWQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICB2YXIgZm9ybWF0dGVycyA9IGN0cmwuJGZvcm1hdHRlcnMsXHJcbiAgICAgICAgICBpZHggPSBmb3JtYXR0ZXJzLmxlbmd0aDtcclxuXHJcbiAgICAgIHZhciB2aWV3VmFsdWUgPSBtb2RlbFZhbHVlO1xyXG4gICAgICB3aGlsZSAoaWR4LS0pIHtcclxuICAgICAgICB2aWV3VmFsdWUgPSBmb3JtYXR0ZXJzW2lkeF0odmlld1ZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoY3RybC4kdmlld1ZhbHVlICE9PSB2aWV3VmFsdWUpIHtcclxuICAgICAgICBjdHJsLiQkdXBkYXRlRW1wdHlDbGFzc2VzKHZpZXdWYWx1ZSk7XHJcbiAgICAgICAgY3RybC4kdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPSB2aWV3VmFsdWU7XHJcbiAgICAgICAgY3RybC4kcmVuZGVyKCk7XHJcblxyXG4gICAgICAgIGN0cmwuJCRydW5WYWxpZGF0b3JzKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgbm9vcCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbW9kZWxWYWx1ZTtcclxuICB9KTtcclxufV07XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb2RlbFxyXG4gKlxyXG4gKiBAZWxlbWVudCBpbnB1dFxyXG4gKiBAcHJpb3JpdHkgMVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ01vZGVsYCBkaXJlY3RpdmUgYmluZHMgYW4gYGlucHV0YCxgc2VsZWN0YCwgYHRleHRhcmVhYCAob3IgY3VzdG9tIGZvcm0gY29udHJvbCkgdG8gYVxyXG4gKiBwcm9wZXJ0eSBvbiB0aGUgc2NvcGUgdXNpbmcge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgTmdNb2RlbENvbnRyb2xsZXJ9LFxyXG4gKiB3aGljaCBpcyBjcmVhdGVkIGFuZCBleHBvc2VkIGJ5IHRoaXMgZGlyZWN0aXZlLlxyXG4gKlxyXG4gKiBgbmdNb2RlbGAgaXMgcmVzcG9uc2libGUgZm9yOlxyXG4gKlxyXG4gKiAtIEJpbmRpbmcgdGhlIHZpZXcgaW50byB0aGUgbW9kZWwsIHdoaWNoIG90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgaW5wdXRgLCBgdGV4dGFyZWFgIG9yIGBzZWxlY3RgXHJcbiAqICAgcmVxdWlyZS5cclxuICogLSBQcm92aWRpbmcgdmFsaWRhdGlvbiBiZWhhdmlvciAoaS5lLiByZXF1aXJlZCwgbnVtYmVyLCBlbWFpbCwgdXJsKS5cclxuICogLSBLZWVwaW5nIHRoZSBzdGF0ZSBvZiB0aGUgY29udHJvbCAodmFsaWQvaW52YWxpZCwgZGlydHkvcHJpc3RpbmUsIHRvdWNoZWQvdW50b3VjaGVkLCB2YWxpZGF0aW9uIGVycm9ycykuXHJcbiAqIC0gU2V0dGluZyByZWxhdGVkIGNzcyBjbGFzc2VzIG9uIHRoZSBlbGVtZW50IChgbmctdmFsaWRgLCBgbmctaW52YWxpZGAsIGBuZy1kaXJ0eWAsIGBuZy1wcmlzdGluZWAsIGBuZy10b3VjaGVkYCxcclxuICogICBgbmctdW50b3VjaGVkYCwgYG5nLWVtcHR5YCwgYG5nLW5vdC1lbXB0eWApIGluY2x1ZGluZyBhbmltYXRpb25zLlxyXG4gKiAtIFJlZ2lzdGVyaW5nIHRoZSBjb250cm9sIHdpdGggaXRzIHBhcmVudCB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gZm9ybX0uXHJcbiAqXHJcbiAqIE5vdGU6IGBuZ01vZGVsYCB3aWxsIHRyeSB0byBiaW5kIHRvIHRoZSBwcm9wZXJ0eSBnaXZlbiBieSBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uIG9uIHRoZVxyXG4gKiBjdXJyZW50IHNjb3BlLiBJZiB0aGUgcHJvcGVydHkgZG9lc24ndCBhbHJlYWR5IGV4aXN0IG9uIHRoaXMgc2NvcGUsIGl0IHdpbGwgYmUgY3JlYXRlZFxyXG4gKiBpbXBsaWNpdGx5IGFuZCBhZGRlZCB0byB0aGUgc2NvcGUuXHJcbiAqXHJcbiAqIEZvciBiZXN0IHByYWN0aWNlcyBvbiB1c2luZyBgbmdNb2RlbGAsIHNlZTpcclxuICpcclxuICogIC0gW1VuZGVyc3RhbmRpbmcgU2NvcGVzXShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3dpa2kvVW5kZXJzdGFuZGluZy1TY29wZXMpXHJcbiAqXHJcbiAqIEZvciBiYXNpYyBleGFtcGxlcywgaG93IHRvIHVzZSBgbmdNb2RlbGAsIHNlZTpcclxuICpcclxuICogIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTppbnB1dCBpbnB1dH1cclxuICogICAgLSB7QGxpbmsgaW5wdXRbdGV4dF0gdGV4dH1cclxuICogICAgLSB7QGxpbmsgaW5wdXRbY2hlY2tib3hdIGNoZWNrYm94fVxyXG4gKiAgICAtIHtAbGluayBpbnB1dFtyYWRpb10gcmFkaW99XHJcbiAqICAgIC0ge0BsaW5rIGlucHV0W251bWJlcl0gbnVtYmVyfVxyXG4gKiAgICAtIHtAbGluayBpbnB1dFtlbWFpbF0gZW1haWx9XHJcbiAqICAgIC0ge0BsaW5rIGlucHV0W3VybF0gdXJsfVxyXG4gKiAgICAtIHtAbGluayBpbnB1dFtkYXRlXSBkYXRlfVxyXG4gKiAgICAtIHtAbGluayBpbnB1dFtkYXRldGltZS1sb2NhbF0gZGF0ZXRpbWUtbG9jYWx9XHJcbiAqICAgIC0ge0BsaW5rIGlucHV0W3RpbWVdIHRpbWV9XHJcbiAqICAgIC0ge0BsaW5rIGlucHV0W21vbnRoXSBtb250aH1cclxuICogICAgLSB7QGxpbmsgaW5wdXRbd2Vla10gd2Vla31cclxuICogIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpzZWxlY3Qgc2VsZWN0fVxyXG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOnRleHRhcmVhIHRleHRhcmVhfVxyXG4gKlxyXG4gKiAjIENvbXBsZXggTW9kZWxzIChvYmplY3RzIG9yIGNvbGxlY3Rpb25zKVxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0LCBgbmdNb2RlbGAgd2F0Y2hlcyB0aGUgbW9kZWwgYnkgcmVmZXJlbmNlLCBub3QgdmFsdWUuIFRoaXMgaXMgaW1wb3J0YW50IHRvIGtub3cgd2hlblxyXG4gKiBiaW5kaW5nIGlucHV0cyB0byBtb2RlbHMgdGhhdCBhcmUgb2JqZWN0cyAoZS5nLiBgRGF0ZWApIG9yIGNvbGxlY3Rpb25zIChlLmcuIGFycmF5cykuIElmIG9ubHkgcHJvcGVydGllcyBvZiB0aGVcclxuICogb2JqZWN0IG9yIGNvbGxlY3Rpb24gY2hhbmdlLCBgbmdNb2RlbGAgd2lsbCBub3QgYmUgbm90aWZpZWQgYW5kIHNvIHRoZSBpbnB1dCB3aWxsIG5vdCBiZSAgcmUtcmVuZGVyZWQuXHJcbiAqXHJcbiAqIFRoZSBtb2RlbCBtdXN0IGJlIGFzc2lnbmVkIGFuIGVudGlyZWx5IG5ldyBvYmplY3Qgb3IgY29sbGVjdGlvbiBiZWZvcmUgYSByZS1yZW5kZXJpbmcgd2lsbCBvY2N1ci5cclxuICpcclxuICogU29tZSBkaXJlY3RpdmVzIGhhdmUgb3B0aW9ucyB0aGF0IHdpbGwgY2F1c2UgdGhlbSB0byB1c2UgYSBjdXN0b20gYCR3YXRjaENvbGxlY3Rpb25gIG9uIHRoZSBtb2RlbCBleHByZXNzaW9uXHJcbiAqIC0gZm9yIGV4YW1wbGUsIGBuZ09wdGlvbnNgIHdpbGwgZG8gc28gd2hlbiBhIGB0cmFjayBieWAgY2xhdXNlIGlzIGluY2x1ZGVkIGluIHRoZSBjb21wcmVoZW5zaW9uIGV4cHJlc3Npb24gb3JcclxuICogaWYgdGhlIHNlbGVjdCBpcyBnaXZlbiB0aGUgYG11bHRpcGxlYCBhdHRyaWJ1dGUuXHJcbiAqXHJcbiAqIFRoZSBgJHdhdGNoQ29sbGVjdGlvbigpYCBtZXRob2Qgb25seSBkb2VzIGEgc2hhbGxvdyBjb21wYXJpc29uLCBtZWFuaW5nIHRoYXQgY2hhbmdpbmcgcHJvcGVydGllcyBkZWVwZXIgdGhhbiB0aGVcclxuICogZmlyc3QgbGV2ZWwgb2YgdGhlIG9iamVjdCAob3Igb25seSBjaGFuZ2luZyB0aGUgcHJvcGVydGllcyBvZiBhbiBpdGVtIGluIHRoZSBjb2xsZWN0aW9uIGlmIGl0J3MgYW4gYXJyYXkpIHdpbGwgc3RpbGxcclxuICogbm90IHRyaWdnZXIgYSByZS1yZW5kZXJpbmcgb2YgdGhlIG1vZGVsLlxyXG4gKlxyXG4gKiAjIENTUyBjbGFzc2VzXHJcbiAqIFRoZSBmb2xsb3dpbmcgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkIG9uIHRoZSBhc3NvY2lhdGVkIGlucHV0L3NlbGVjdC90ZXh0YXJlYSBlbGVtZW50XHJcbiAqIGRlcGVuZGluZyBvbiB0aGUgdmFsaWRpdHkgb2YgdGhlIG1vZGVsLlxyXG4gKlxyXG4gKiAgLSBgbmctdmFsaWRgOiB0aGUgbW9kZWwgaXMgdmFsaWRcclxuICogIC0gYG5nLWludmFsaWRgOiB0aGUgbW9kZWwgaXMgaW52YWxpZFxyXG4gKiAgLSBgbmctdmFsaWQtW2tleV1gOiBmb3IgZWFjaCB2YWxpZCBrZXkgYWRkZWQgYnkgYCRzZXRWYWxpZGl0eWBcclxuICogIC0gYG5nLWludmFsaWQtW2tleV1gOiBmb3IgZWFjaCBpbnZhbGlkIGtleSBhZGRlZCBieSBgJHNldFZhbGlkaXR5YFxyXG4gKiAgLSBgbmctcHJpc3RpbmVgOiB0aGUgY29udHJvbCBoYXNuJ3QgYmVlbiBpbnRlcmFjdGVkIHdpdGggeWV0XHJcbiAqICAtIGBuZy1kaXJ0eWA6IHRoZSBjb250cm9sIGhhcyBiZWVuIGludGVyYWN0ZWQgd2l0aFxyXG4gKiAgLSBgbmctdG91Y2hlZGA6IHRoZSBjb250cm9sIGhhcyBiZWVuIGJsdXJyZWRcclxuICogIC0gYG5nLXVudG91Y2hlZGA6IHRoZSBjb250cm9sIGhhc24ndCBiZWVuIGJsdXJyZWRcclxuICogIC0gYG5nLXBlbmRpbmdgOiBhbnkgYCRhc3luY1ZhbGlkYXRvcnNgIGFyZSB1bmZ1bGZpbGxlZFxyXG4gKiAgLSBgbmctZW1wdHlgOiB0aGUgdmlldyBkb2VzIG5vdCBjb250YWluIGEgdmFsdWUgb3IgdGhlIHZhbHVlIGlzIGRlZW1lZCBcImVtcHR5XCIsIGFzIGRlZmluZWRcclxuICogICAgIGJ5IHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkaXNFbXB0eX0gbWV0aG9kXHJcbiAqICAtIGBuZy1ub3QtZW1wdHlgOiB0aGUgdmlldyBjb250YWlucyBhIG5vbi1lbXB0eSB2YWx1ZVxyXG4gKlxyXG4gKiBLZWVwIGluIG1pbmQgdGhhdCBuZ0FuaW1hdGUgY2FuIGRldGVjdCBlYWNoIG9mIHRoZXNlIGNsYXNzZXMgd2hlbiBhZGRlZCBhbmQgcmVtb3ZlZC5cclxuICpcclxuICogIyMgQW5pbWF0aW9uIEhvb2tzXHJcbiAqXHJcbiAqIEFuaW1hdGlvbnMgd2l0aGluIG1vZGVscyBhcmUgdHJpZ2dlcmVkIHdoZW4gYW55IG9mIHRoZSBhc3NvY2lhdGVkIENTUyBjbGFzc2VzIGFyZSBhZGRlZCBhbmQgcmVtb3ZlZFxyXG4gKiBvbiB0aGUgaW5wdXQgZWxlbWVudCB3aGljaCBpcyBhdHRhY2hlZCB0byB0aGUgbW9kZWwuIFRoZXNlIGNsYXNzZXMgaW5jbHVkZTogYC5uZy1wcmlzdGluZWAsIGAubmctZGlydHlgLFxyXG4gKiBgLm5nLWludmFsaWRgIGFuZCBgLm5nLXZhbGlkYCBhcyB3ZWxsIGFzIGFueSBvdGhlciB2YWxpZGF0aW9ucyB0aGF0IGFyZSBwZXJmb3JtZWQgb24gdGhlIG1vZGVsIGl0c2VsZi5cclxuICogVGhlIGFuaW1hdGlvbnMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdpdGhpbiBuZ01vZGVsIGFyZSBzaW1pbGFyIHRvIGhvdyB0aGV5IHdvcmsgaW4gbmdDbGFzcyBhbmRcclxuICogYW5pbWF0aW9ucyBjYW4gYmUgaG9va2VkIGludG8gdXNpbmcgQ1NTIHRyYW5zaXRpb25zLCBrZXlmcmFtZXMgYXMgd2VsbCBhcyBKUyBhbmltYXRpb25zLlxyXG4gKlxyXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBzaW1wbGUgd2F5IHRvIHV0aWxpemUgQ1NTIHRyYW5zaXRpb25zIHRvIHN0eWxlIGFuIGlucHV0IGVsZW1lbnRcclxuICogdGhhdCBoYXMgYmVlbiByZW5kZXJlZCBhcyBpbnZhbGlkIGFmdGVyIGl0IGhhcyBiZWVuIHZhbGlkYXRlZDpcclxuICpcclxuICogPHByZT5cclxuICogLy9iZSBzdXJlIHRvIGluY2x1ZGUgbmdBbmltYXRlIGFzIGEgbW9kdWxlIHRvIGhvb2sgaW50byBtb3JlXHJcbiAqIC8vYWR2YW5jZWQgYW5pbWF0aW9uc1xyXG4gKiAubXktaW5wdXQge1xyXG4gKiAgIHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xyXG4gKiAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gKiB9XHJcbiAqIC5teS1pbnB1dC5uZy1pbnZhbGlkIHtcclxuICogICBiYWNrZ3JvdW5kOiByZWQ7XHJcbiAqICAgY29sb3I6d2hpdGU7XHJcbiAqIH1cclxuICogPC9wcmU+XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxleGFtcGxlIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIGZpeEJhc2U9XCJ0cnVlXCIgbW9kdWxlPVwiaW5wdXRFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2lucHV0RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnZhbCA9ICcxJztcclxuICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgPHN0eWxlPlxyXG4gICAgICAgICAubXktaW5wdXQge1xyXG4gICAgICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xyXG4gICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC5teS1pbnB1dC5uZy1pbnZhbGlkIHtcclxuICAgICAgICAgICBjb2xvcjp3aGl0ZTtcclxuICAgICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XHJcbiAgICAgICAgIH1cclxuICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICA8cCBpZD1cImlucHV0RGVzY3JpcHRpb25cIj5cclxuICAgICAgICBVcGRhdGUgaW5wdXQgdG8gc2VlIHRyYW5zaXRpb25zIHdoZW4gdmFsaWQvaW52YWxpZC5cclxuICAgICAgICBJbnRlZ2VyIGlzIGEgdmFsaWQgdmFsdWUuXHJcbiAgICAgICA8L3A+XHJcbiAgICAgICA8Zm9ybSBuYW1lPVwidGVzdEZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwidmFsXCIgbmctcGF0dGVybj1cIi9eXFxkKyQvXCIgbmFtZT1cImFuaW1cIiBjbGFzcz1cIm15LWlucHV0XCJcclxuICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpbnB1dERlc2NyaXB0aW9uXCIgLz5cclxuICAgICAgIDwvZm9ybT5cclxuICAgICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogIyMgQmluZGluZyB0byBhIGdldHRlci9zZXR0ZXJcclxuICpcclxuICogU29tZXRpbWVzIGl0J3MgaGVscGZ1bCB0byBiaW5kIGBuZ01vZGVsYCB0byBhIGdldHRlci9zZXR0ZXIgZnVuY3Rpb24uICBBIGdldHRlci9zZXR0ZXIgaXMgYVxyXG4gKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgbW9kZWwgd2hlbiBjYWxsZWQgd2l0aCB6ZXJvIGFyZ3VtZW50cywgYW5kIHNldHNcclxuICogdGhlIGludGVybmFsIHN0YXRlIG9mIGEgbW9kZWwgd2hlbiBjYWxsZWQgd2l0aCBhbiBhcmd1bWVudC4gSXQncyBzb21ldGltZXMgdXNlZnVsIHRvIHVzZSB0aGlzXHJcbiAqIGZvciBtb2RlbHMgdGhhdCBoYXZlIGFuIGludGVybmFsIHJlcHJlc2VudGF0aW9uIHRoYXQncyBkaWZmZXJlbnQgZnJvbSB3aGF0IHRoZSBtb2RlbCBleHBvc2VzXHJcbiAqIHRvIHRoZSB2aWV3LlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxyXG4gKiAqKkJlc3QgUHJhY3RpY2U6KiogSXQncyBiZXN0IHRvIGtlZXAgZ2V0dGVycyBmYXN0IGJlY2F1c2UgQW5ndWxhciBpcyBsaWtlbHkgdG8gY2FsbCB0aGVtIG1vcmVcclxuICogZnJlcXVlbnRseSB0aGFuIG90aGVyIHBhcnRzIG9mIHlvdXIgY29kZS5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIFlvdSB1c2UgdGhpcyBiZWhhdmlvciBieSBhZGRpbmcgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCJgIHRvIGFuIGVsZW1lbnQgdGhhdFxyXG4gKiBoYXMgYG5nLW1vZGVsYCBhdHRhY2hlZCB0byBpdC4gWW91IGNhbiBhbHNvIGFkZCBgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cImAgdG9cclxuICogYSBgPGZvcm0+YCwgd2hpY2ggd2lsbCBlbmFibGUgdGhpcyBiZWhhdmlvciBmb3IgYWxsIGA8aW5wdXQ+YHMgd2l0aGluIGl0LiBTZWVcclxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnNgfSBmb3IgbW9yZS5cclxuICpcclxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYG5nTW9kZWxgIHdpdGggYSBnZXR0ZXIvc2V0dGVyOlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbC1nZXR0ZXItc2V0dGVyXCIgbW9kdWxlPVwiZ2V0dGVyU2V0dGVyRXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cclxuICAgICAgICAgICA8bGFiZWw+TmFtZTpcclxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCIgLz5cclxuICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZSgpXCI+PC9zcGFuPjwvcHJlPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdnZXR0ZXJTZXR0ZXJFeGFtcGxlJywgW10pXHJcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgdmFyIF9uYW1lID0gJ0JyaWFuJztcclxuICAgICAgICAgICAkc2NvcGUudXNlciA9IHtcclxuICAgICAgICAgICAgIG5hbWU6IGZ1bmN0aW9uKG5ld05hbWUpIHtcclxuICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgbmV3TmFtZSBjYW4gYmUgdW5kZWZpbmVkIGZvciB0d28gcmVhc29uczpcclxuICAgICAgICAgICAgICAvLyAxLiBCZWNhdXNlIGl0IGlzIGNhbGxlZCBhcyBhIGdldHRlciBhbmQgdGh1cyBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHNcclxuICAgICAgICAgICAgICAvLyAyLiBCZWNhdXNlIHRoZSBwcm9wZXJ0eSBzaG91bGQgYWN0dWFsbHkgYmUgc2V0IHRvIHVuZGVmaW5lZC4gVGhpcyBoYXBwZW5zIGUuZy4gaWYgdGhlXHJcbiAgICAgICAgICAgICAgLy8gICAgaW5wdXQgaXMgaW52YWxpZFxyXG4gICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKF9uYW1lID0gbmV3TmFtZSkgOiBfbmFtZTtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9O1xyXG4gICAgICAgICB9XSk7XHJcbiAgICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdNb2RlbERpcmVjdGl2ZSA9IFsnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIHJlcXVpcmU6IFsnbmdNb2RlbCcsICdeP2Zvcm0nLCAnXj9uZ01vZGVsT3B0aW9ucyddLFxyXG4gICAgY29udHJvbGxlcjogTmdNb2RlbENvbnRyb2xsZXIsXHJcbiAgICAvLyBQcmVsaW5rIG5lZWRzIHRvIHJ1biBiZWZvcmUgYW55IGlucHV0IGRpcmVjdGl2ZVxyXG4gICAgLy8gc28gdGhhdCB3ZSBjYW4gc2V0IHRoZSBOZ01vZGVsT3B0aW9ucyBpbiBOZ01vZGVsQ29udHJvbGxlclxyXG4gICAgLy8gYmVmb3JlIGFueW9uZSBlbHNlIHVzZXMgaXQuXHJcbiAgICBwcmlvcml0eTogMSxcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nTW9kZWxDb21waWxlKGVsZW1lbnQpIHtcclxuICAgICAgLy8gU2V0dXAgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29udHJvbFxyXG4gICAgICBlbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKS5hZGRDbGFzcyhVTlRPVUNIRURfQ0xBU1MpLmFkZENsYXNzKFZBTElEX0NMQVNTKTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJlOiBmdW5jdGlvbiBuZ01vZGVsUHJlTGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcclxuICAgICAgICAgIHZhciBtb2RlbEN0cmwgPSBjdHJsc1swXSxcclxuICAgICAgICAgICAgICBmb3JtQ3RybCA9IGN0cmxzWzFdIHx8IG1vZGVsQ3RybC4kJHBhcmVudEZvcm07XHJcblxyXG4gICAgICAgICAgbW9kZWxDdHJsLiQkc2V0T3B0aW9ucyhjdHJsc1syXSAmJiBjdHJsc1syXS4kb3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgLy8gbm90aWZ5IG90aGVycywgZXNwZWNpYWxseSBwYXJlbnQgZm9ybXNcclxuICAgICAgICAgIGZvcm1DdHJsLiRhZGRDb250cm9sKG1vZGVsQ3RybCk7XHJcblxyXG4gICAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnbmFtZScsIGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmIChtb2RlbEN0cmwuJG5hbWUgIT09IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2wobW9kZWxDdHJsLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbW9kZWxDdHJsLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChtb2RlbEN0cmwpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwb3N0OiBmdW5jdGlvbiBuZ01vZGVsUG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XHJcbiAgICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF07XHJcbiAgICAgICAgICBpZiAobW9kZWxDdHJsLiRvcHRpb25zICYmIG1vZGVsQ3RybC4kb3B0aW9ucy51cGRhdGVPbikge1xyXG4gICAgICAgICAgICBlbGVtZW50Lm9uKG1vZGVsQ3RybC4kb3B0aW9ucy51cGRhdGVPbiwgZnVuY3Rpb24oZXYpIHtcclxuICAgICAgICAgICAgICBtb2RlbEN0cmwuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdChldiAmJiBldi50eXBlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZWxlbWVudC5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAobW9kZWxDdHJsLiR0b3VjaGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhtb2RlbEN0cmwuJHNldFRvdWNoZWQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNjb3BlLiRhcHBseShtb2RlbEN0cmwuJHNldFRvdWNoZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG52YXIgREVGQVVMVF9SRUdFWFAgPSAvKFxccyt8XilkZWZhdWx0KFxccyt8JCkvO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb2RlbE9wdGlvbnNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEFsbG93cyB0dW5pbmcgaG93IG1vZGVsIHVwZGF0ZXMgYXJlIGRvbmUuIFVzaW5nIGBuZ01vZGVsT3B0aW9uc2AgeW91IGNhbiBzcGVjaWZ5IGEgY3VzdG9tIGxpc3Qgb2ZcclxuICogZXZlbnRzIHRoYXQgd2lsbCB0cmlnZ2VyIGEgbW9kZWwgdXBkYXRlIGFuZC9vciBhIGRlYm91bmNpbmcgZGVsYXkgc28gdGhhdCB0aGUgYWN0dWFsIHVwZGF0ZSBvbmx5XHJcbiAqIHRha2VzIHBsYWNlIHdoZW4gYSB0aW1lciBleHBpcmVzOyB0aGlzIHRpbWVyIHdpbGwgYmUgcmVzZXQgYWZ0ZXIgYW5vdGhlciBjaGFuZ2UgdGFrZXMgcGxhY2UuXHJcbiAqXHJcbiAqIEdpdmVuIHRoZSBuYXR1cmUgb2YgYG5nTW9kZWxPcHRpb25zYCwgdGhlIHZhbHVlIGRpc3BsYXllZCBpbnNpZGUgaW5wdXQgZmllbGRzIGluIHRoZSB2aWV3IG1pZ2h0XHJcbiAqIGJlIGRpZmZlcmVudCBmcm9tIHRoZSB2YWx1ZSBpbiB0aGUgYWN0dWFsIG1vZGVsLiBUaGlzIG1lYW5zIHRoYXQgaWYgeW91IHVwZGF0ZSB0aGUgbW9kZWwgeW91XHJcbiAqIHNob3VsZCBhbHNvIGludm9rZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciBgJHJvbGxiYWNrVmlld1ZhbHVlYH0gb24gdGhlIHJlbGV2YW50IGlucHV0IGZpZWxkIGluXHJcbiAqIG9yZGVyIHRvIG1ha2Ugc3VyZSBpdCBpcyBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgbW9kZWwgYW5kIHRoYXQgYW55IGRlYm91bmNlZCBhY3Rpb24gaXMgY2FuY2VsZWQuXHJcbiAqXHJcbiAqIFRoZSBlYXNpZXN0IHdheSB0byByZWZlcmVuY2UgdGhlIGNvbnRyb2wncyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciBgJHJvbGxiYWNrVmlld1ZhbHVlYH1cclxuICogbWV0aG9kIGlzIGJ5IG1ha2luZyBzdXJlIHRoZSBpbnB1dCBpcyBwbGFjZWQgaW5zaWRlIGEgZm9ybSB0aGF0IGhhcyBhIGBuYW1lYCBhdHRyaWJ1dGUuIFRoaXMgaXNcclxuICogaW1wb3J0YW50IGJlY2F1c2UgYGZvcm1gIGNvbnRyb2xsZXJzIGFyZSBwdWJsaXNoZWQgdG8gdGhlIHJlbGF0ZWQgc2NvcGUgdW5kZXIgdGhlIG5hbWUgaW4gdGhlaXJcclxuICogYG5hbWVgIGF0dHJpYnV0ZS5cclxuICpcclxuICogQW55IHBlbmRpbmcgY2hhbmdlcyB3aWxsIHRha2UgcGxhY2UgaW1tZWRpYXRlbHkgd2hlbiBhbiBlbmNsb3NpbmcgZm9ybSBpcyBzdWJtaXR0ZWQgdmlhIHRoZVxyXG4gKiBgc3VibWl0YCBldmVudC4gTm90ZSB0aGF0IGBuZ0NsaWNrYCBldmVudHMgd2lsbCBvY2N1ciBiZWZvcmUgdGhlIG1vZGVsIGlzIHVwZGF0ZWQuIFVzZSBgbmdTdWJtaXRgXHJcbiAqIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSB1cGRhdGVkIG1vZGVsLlxyXG4gKlxyXG4gKiBgbmdNb2RlbE9wdGlvbnNgIGhhcyBhbiBlZmZlY3Qgb24gdGhlIGVsZW1lbnQgaXQncyBkZWNsYXJlZCBvbiBhbmQgaXRzIGRlc2NlbmRhbnRzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gbmdNb2RlbE9wdGlvbnMgb3B0aW9ucyB0byBhcHBseSB0byB0aGUgY3VycmVudCBtb2RlbC4gVmFsaWQga2V5cyBhcmU6XHJcbiAqICAgLSBgdXBkYXRlT25gOiBzdHJpbmcgc3BlY2lmeWluZyB3aGljaCBldmVudCBzaG91bGQgdGhlIGlucHV0IGJlIGJvdW5kIHRvLiBZb3UgY2FuIHNldCBzZXZlcmFsXHJcbiAqICAgICBldmVudHMgdXNpbmcgYW4gc3BhY2UgZGVsaW1pdGVkIGxpc3QuIFRoZXJlIGlzIGEgc3BlY2lhbCBldmVudCBjYWxsZWQgYGRlZmF1bHRgIHRoYXRcclxuICogICAgIG1hdGNoZXMgdGhlIGRlZmF1bHQgZXZlbnRzIGJlbG9uZ2luZyBvZiB0aGUgY29udHJvbC5cclxuICogICAtIGBkZWJvdW5jZWA6IGludGVnZXIgdmFsdWUgd2hpY2ggY29udGFpbnMgdGhlIGRlYm91bmNlIG1vZGVsIHVwZGF0ZSB2YWx1ZSBpbiBtaWxsaXNlY29uZHMuIEFcclxuICogICAgIHZhbHVlIG9mIDAgdHJpZ2dlcnMgYW4gaW1tZWRpYXRlIHVwZGF0ZS4gSWYgYW4gb2JqZWN0IGlzIHN1cHBsaWVkIGluc3RlYWQsIHlvdSBjYW4gc3BlY2lmeSBhXHJcbiAqICAgICBjdXN0b20gdmFsdWUgZm9yIGVhY2ggZXZlbnQuIEZvciBleGFtcGxlOlxyXG4gKiAgICAgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnZGVmYXVsdCBibHVyJywgZGVib3VuY2U6IHsgJ2RlZmF1bHQnOiA1MDAsICdibHVyJzogMCB9IH1cImBcclxuICogICAtIGBhbGxvd0ludmFsaWRgOiBib29sZWFuIHZhbHVlIHdoaWNoIGluZGljYXRlcyB0aGF0IHRoZSBtb2RlbCBjYW4gYmUgc2V0IHdpdGggdmFsdWVzIHRoYXQgZGlkXHJcbiAqICAgICBub3QgdmFsaWRhdGUgY29ycmVjdGx5IGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2Ygc2V0dGluZyB0aGUgbW9kZWwgdG8gdW5kZWZpbmVkLlxyXG4gKiAgIC0gYGdldHRlclNldHRlcmA6IGJvb2xlYW4gdmFsdWUgd2hpY2ggZGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCB0byB0cmVhdCBmdW5jdGlvbnMgYm91bmQgdG9cclxuICAgICAgIGBuZ01vZGVsYCBhcyBnZXR0ZXJzL3NldHRlcnMuXHJcbiAqICAgLSBgdGltZXpvbmVgOiBEZWZpbmVzIHRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgZm9yXHJcbiAqICAgICBgPGlucHV0IHR5cGU9XCJkYXRlXCI+YCwgYDxpbnB1dCB0eXBlPVwidGltZVwiPmAsIC4uLiAuIEl0IHVuZGVyc3RhbmRzIFVUQy9HTVQgYW5kIHRoZVxyXG4gKiAgICAgY29udGluZW50YWwgVVMgdGltZSB6b25lIGFiYnJldmlhdGlvbnMsIGJ1dCBmb3IgZ2VuZXJhbCB1c2UsIHVzZSBhIHRpbWUgem9uZSBvZmZzZXQsIGZvclxyXG4gKiAgICAgZXhhbXBsZSwgYCcrMDQzMCdgICg0IGhvdXJzLCAzMCBtaW51dGVzIGVhc3Qgb2YgdGhlIEdyZWVud2ljaCBtZXJpZGlhbilcclxuICogICAgIElmIG5vdCBzcGVjaWZpZWQsIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3NlciB3aWxsIGJlIHVzZWQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcblxyXG4gIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gb3ZlcnJpZGUgaW1tZWRpYXRlIHVwZGF0ZXMuIENoYW5nZXMgb24gdGhlIGlucHV0cyB3aXRoaW4gdGhlXHJcbiAgZm9ybSB3aWxsIHVwZGF0ZSB0aGUgbW9kZWwgb25seSB3aGVuIHRoZSBjb250cm9sIGxvc2VzIGZvY3VzIChibHVyIGV2ZW50KS4gSWYgYGVzY2FwZWAga2V5IGlzXHJcbiAgcHJlc3NlZCB3aGlsZSB0aGUgaW5wdXQgZmllbGQgaXMgZm9jdXNlZCwgdGhlIHZhbHVlIGlzIHJlc2V0IHRvIHRoZSB2YWx1ZSBpbiB0aGUgY3VycmVudCBtb2RlbC5cclxuXHJcbiAgPGV4YW1wbGUgbmFtZT1cIm5nTW9kZWxPcHRpb25zLWRpcmVjdGl2ZS1ibHVyXCIgbW9kdWxlPVwib3B0aW9uc0V4YW1wbGVcIj5cclxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XHJcbiAgICAgICAgICA8bGFiZWw+TmFtZTpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcclxuICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicgfVwiXHJcbiAgICAgICAgICAgICAgICAgICBuZy1rZXl1cD1cImNhbmNlbCgkZXZlbnQpXCIgLz5cclxuICAgICAgICAgIDwvbGFiZWw+PGJyIC8+XHJcbiAgICAgICAgICA8bGFiZWw+T3RoZXIgZGF0YTpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyLmRhdGFcIiAvPlxyXG4gICAgICAgICAgPC9sYWJlbD48YnIgLz5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lXCI+PC9zcGFuPjwvcHJlPlxyXG4gICAgICAgIDxwcmU+dXNlci5kYXRhID0gPHNwYW4gbmctYmluZD1cInVzZXIuZGF0YVwiPjwvc3Bhbj48L3ByZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcHRpb25zRXhhbXBsZScsIFtdKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAkc2NvcGUudXNlciA9IHsgbmFtZTogJ0pvaG4nLCBkYXRhOiAnJyB9O1xyXG5cclxuICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUudXNlckZvcm0udXNlck5hbWUuJHJvbGxiYWNrVmlld1ZhbHVlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgbW9kZWwgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VzZXIubmFtZScpKTtcclxuICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5uYW1lJykpO1xyXG4gICAgICB2YXIgb3RoZXIgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLmRhdGEnKSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGFsbG93IGN1c3RvbSBldmVudHMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpbnB1dC5zZW5kS2V5cygnIERvZScpO1xyXG4gICAgICAgIGlucHV0LmNsaWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnSm9obicpO1xyXG4gICAgICAgIG90aGVyLmNsaWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnSm9obiBEb2UnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkICRyb2xsYmFja1ZpZXdWYWx1ZSB3aGVuIG1vZGVsIGNoYW5nZXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpbnB1dC5zZW5kS2V5cygnIERvZScpO1xyXG4gICAgICAgIGV4cGVjdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJ0pvaG4gRG9lJyk7XHJcbiAgICAgICAgaW5wdXQuc2VuZEtleXMocHJvdHJhY3Rvci5LZXkuRVNDQVBFKTtcclxuICAgICAgICBleHBlY3QoaW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCdKb2huJyk7XHJcbiAgICAgICAgb3RoZXIuY2xpY2soKTtcclxuICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0VxdWFsKCdKb2huJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gIDwvZXhhbXBsZT5cclxuXHJcbiAgVGhpcyBvbmUgc2hvd3MgaG93IHRvIGRlYm91bmNlIG1vZGVsIGNoYW5nZXMuIE1vZGVsIHdpbGwgYmUgdXBkYXRlZCBvbmx5IDEgc2VjIGFmdGVyIGxhc3QgY2hhbmdlLlxyXG4gIElmIHRoZSBgQ2xlYXJgIGJ1dHRvbiBpcyBwcmVzc2VkLCBhbnkgZGVib3VuY2VkIGFjdGlvbiBpcyBjYW5jZWxlZCBhbmQgdGhlIHZhbHVlIGJlY29tZXMgZW1wdHkuXHJcblxyXG4gIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtZGVib3VuY2VcIiBtb2R1bGU9XCJvcHRpb25zRXhhbXBsZVwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cclxuICAgICAgICAgIDxsYWJlbD5OYW1lOlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZGVib3VuY2U6IDEwMDAgfVwiIC8+XHJcbiAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInVzZXJGb3JtLnVzZXJOYW1lLiRyb2xsYmFja1ZpZXdWYWx1ZSgpOyB1c2VyLm5hbWU9JydcIj5DbGVhcjwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZVwiPjwvc3Bhbj48L3ByZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcHRpb25zRXhhbXBsZScsIFtdKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAkc2NvcGUudXNlciA9IHsgbmFtZTogJ0lnb3InIH07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgPC9maWxlPlxyXG4gIDwvZXhhbXBsZT5cclxuXHJcbiAgVGhpcyBvbmUgc2hvd3MgaG93IHRvIGJpbmQgdG8gZ2V0dGVyL3NldHRlcnM6XHJcblxyXG4gIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtZ2V0dGVyLXNldHRlclwiIG1vZHVsZT1cImdldHRlclNldHRlckV4YW1wbGVcIj5cclxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XHJcbiAgICAgICAgICA8bGFiZWw+TmFtZTpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcclxuICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCIgLz5cclxuICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZSgpXCI+PC9zcGFuPjwvcHJlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2dldHRlclNldHRlckV4YW1wbGUnLCBbXSlcclxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgdmFyIF9uYW1lID0gJ0JyaWFuJztcclxuICAgICAgICAgICRzY29wZS51c2VyID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBmdW5jdGlvbihuZXdOYW1lKSB7XHJcbiAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IG5ld05hbWUgY2FuIGJlIHVuZGVmaW5lZCBmb3IgdHdvIHJlYXNvbnM6XHJcbiAgICAgICAgICAgICAgLy8gMS4gQmVjYXVzZSBpdCBpcyBjYWxsZWQgYXMgYSBnZXR0ZXIgYW5kIHRodXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzXHJcbiAgICAgICAgICAgICAgLy8gMi4gQmVjYXVzZSB0aGUgcHJvcGVydHkgc2hvdWxkIGFjdHVhbGx5IGJlIHNldCB0byB1bmRlZmluZWQuIFRoaXMgaGFwcGVucyBlLmcuIGlmIHRoZVxyXG4gICAgICAgICAgICAgIC8vICAgIGlucHV0IGlzIGludmFsaWRcclxuICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChfbmFtZSA9IG5ld05hbWUpIDogX25hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgPC9maWxlPlxyXG4gIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJGF0dHJzJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMpIHtcclxuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgICB0aGlzLiRvcHRpb25zID0gY29weSgkc2NvcGUuJGV2YWwoJGF0dHJzLm5nTW9kZWxPcHRpb25zKSk7XHJcbiAgICAgIC8vIEFsbG93IGFkZGluZy9vdmVycmlkaW5nIGJvdW5kIGV2ZW50c1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKHRoaXMuJG9wdGlvbnMudXBkYXRlT24pKSB7XHJcbiAgICAgICAgdGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSBmYWxzZTtcclxuICAgICAgICAvLyBleHRyYWN0IFwiZGVmYXVsdFwiIHBzZXVkby1ldmVudCBmcm9tIGxpc3Qgb2YgZXZlbnRzIHRoYXQgY2FuIHRyaWdnZXIgYSBtb2RlbCB1cGRhdGVcclxuICAgICAgICB0aGlzLiRvcHRpb25zLnVwZGF0ZU9uID0gdHJpbSh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uLnJlcGxhY2UoREVGQVVMVF9SRUdFWFAsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdGhhdC4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgcmV0dXJuICcgJztcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XVxyXG4gIH07XHJcbn07XHJcblxyXG5cclxuXHJcbi8vIGhlbHBlciBtZXRob2RzXHJcbmZ1bmN0aW9uIGFkZFNldFZhbGlkaXR5TWV0aG9kKGNvbnRleHQpIHtcclxuICB2YXIgY3RybCA9IGNvbnRleHQuY3RybCxcclxuICAgICAgJGVsZW1lbnQgPSBjb250ZXh0LiRlbGVtZW50LFxyXG4gICAgICBjbGFzc0NhY2hlID0ge30sXHJcbiAgICAgIHNldCA9IGNvbnRleHQuc2V0LFxyXG4gICAgICB1bnNldCA9IGNvbnRleHQudW5zZXQsXHJcbiAgICAgICRhbmltYXRlID0gY29udGV4dC4kYW5pbWF0ZTtcclxuXHJcbiAgY2xhc3NDYWNoZVtJTlZBTElEX0NMQVNTXSA9ICEoY2xhc3NDYWNoZVtWQUxJRF9DTEFTU10gPSAkZWxlbWVudC5oYXNDbGFzcyhWQUxJRF9DTEFTUykpO1xyXG5cclxuICBjdHJsLiRzZXRWYWxpZGl0eSA9IHNldFZhbGlkaXR5O1xyXG5cclxuICBmdW5jdGlvbiBzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksIHN0YXRlLCBjb250cm9sbGVyKSB7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQoc3RhdGUpKSB7XHJcbiAgICAgIGNyZWF0ZUFuZFNldCgnJHBlbmRpbmcnLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdW5zZXRBbmRDbGVhbnVwKCckcGVuZGluZycsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzQm9vbGVhbihzdGF0ZSkpIHtcclxuICAgICAgdW5zZXQoY3RybC4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICAgIHVuc2V0KGN0cmwuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgdW5zZXQoY3RybC4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICAgICAgc2V0KGN0cmwuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldChjdHJsLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcclxuICAgICAgICB1bnNldChjdHJsLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGN0cmwuJHBlbmRpbmcpIHtcclxuICAgICAgY2FjaGVkVG9nZ2xlQ2xhc3MoUEVORElOR19DTEFTUywgdHJ1ZSk7XHJcbiAgICAgIGN0cmwuJHZhbGlkID0gY3RybC4kaW52YWxpZCA9IHVuZGVmaW5lZDtcclxuICAgICAgdG9nZ2xlVmFsaWRhdGlvbkNzcygnJywgbnVsbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjYWNoZWRUb2dnbGVDbGFzcyhQRU5ESU5HX0NMQVNTLCBmYWxzZSk7XHJcbiAgICAgIGN0cmwuJHZhbGlkID0gaXNPYmplY3RFbXB0eShjdHJsLiRlcnJvcik7XHJcbiAgICAgIGN0cmwuJGludmFsaWQgPSAhY3RybC4kdmFsaWQ7XHJcbiAgICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3MoJycsIGN0cmwuJHZhbGlkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZS1yZWFkIHRoZSBzdGF0ZSBhcyB0aGUgc2V0L3Vuc2V0IG1ldGhvZHMgY291bGQgaGF2ZVxyXG4gICAgLy8gY29tYmluZWQgc3RhdGUgaW4gY3RybC4kZXJyb3JbdmFsaWRhdGlvbkVycm9yXSAodXNlZCBmb3IgZm9ybXMpLFxyXG4gICAgLy8gd2hlcmUgc2V0dGluZy91bnNldHRpbmcgb25seSBpbmNyZW1lbnRzL2RlY3JlbWVudHMgdGhlIHZhbHVlLFxyXG4gICAgLy8gYW5kIGRvZXMgbm90IHJlcGxhY2UgaXQuXHJcbiAgICB2YXIgY29tYmluZWRTdGF0ZTtcclxuICAgIGlmIChjdHJsLiRwZW5kaW5nICYmIGN0cmwuJHBlbmRpbmdbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xyXG4gICAgICBjb21iaW5lZFN0YXRlID0gdW5kZWZpbmVkO1xyXG4gICAgfSBlbHNlIGlmIChjdHJsLiRlcnJvclt2YWxpZGF0aW9uRXJyb3JLZXldKSB7XHJcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSBmYWxzZTtcclxuICAgIH0gZWxzZSBpZiAoY3RybC4kJHN1Y2Nlc3NbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xyXG4gICAgICBjb21iaW5lZFN0YXRlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3ModmFsaWRhdGlvbkVycm9yS2V5LCBjb21iaW5lZFN0YXRlKTtcclxuICAgIGN0cmwuJCRwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksIGNvbWJpbmVkU3RhdGUsIGN0cmwpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlQW5kU2V0KG5hbWUsIHZhbHVlLCBjb250cm9sbGVyKSB7XHJcbiAgICBpZiAoIWN0cmxbbmFtZV0pIHtcclxuICAgICAgY3RybFtuYW1lXSA9IHt9O1xyXG4gICAgfVxyXG4gICAgc2V0KGN0cmxbbmFtZV0sIHZhbHVlLCBjb250cm9sbGVyKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHVuc2V0QW5kQ2xlYW51cChuYW1lLCB2YWx1ZSwgY29udHJvbGxlcikge1xyXG4gICAgaWYgKGN0cmxbbmFtZV0pIHtcclxuICAgICAgdW5zZXQoY3RybFtuYW1lXSwgdmFsdWUsIGNvbnRyb2xsZXIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzT2JqZWN0RW1wdHkoY3RybFtuYW1lXSkpIHtcclxuICAgICAgY3RybFtuYW1lXSA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhY2hlZFRvZ2dsZUNsYXNzKGNsYXNzTmFtZSwgc3dpdGNoVmFsdWUpIHtcclxuICAgIGlmIChzd2l0Y2hWYWx1ZSAmJiAhY2xhc3NDYWNoZVtjbGFzc05hbWVdKSB7XHJcbiAgICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpO1xyXG4gICAgICBjbGFzc0NhY2hlW2NsYXNzTmFtZV0gPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICghc3dpdGNoVmFsdWUgJiYgY2xhc3NDYWNoZVtjbGFzc05hbWVdKSB7XHJcbiAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpO1xyXG4gICAgICBjbGFzc0NhY2hlW2NsYXNzTmFtZV0gPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRvZ2dsZVZhbGlkYXRpb25Dc3ModmFsaWRhdGlvbkVycm9yS2V5LCBpc1ZhbGlkKSB7XHJcbiAgICB2YWxpZGF0aW9uRXJyb3JLZXkgPSB2YWxpZGF0aW9uRXJyb3JLZXkgPyAnLScgKyBzbmFrZV9jYXNlKHZhbGlkYXRpb25FcnJvcktleSwgJy0nKSA6ICcnO1xyXG5cclxuICAgIGNhY2hlZFRvZ2dsZUNsYXNzKFZBTElEX0NMQVNTICsgdmFsaWRhdGlvbkVycm9yS2V5LCBpc1ZhbGlkID09PSB0cnVlKTtcclxuICAgIGNhY2hlZFRvZ2dsZUNsYXNzKElOVkFMSURfQ0xBU1MgKyB2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQgPT09IGZhbHNlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XHJcbiAgaWYgKG9iaikge1xyXG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcclxuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdOb25CaW5kYWJsZVxyXG4gKiBAcmVzdHJpY3QgQUNcclxuICogQHByaW9yaXR5IDEwMDBcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdOb25CaW5kYWJsZWAgZGlyZWN0aXZlIHRlbGxzIEFuZ3VsYXIgbm90IHRvIGNvbXBpbGUgb3IgYmluZCB0aGUgY29udGVudHMgb2YgdGhlIGN1cnJlbnRcclxuICogRE9NIGVsZW1lbnQuIFRoaXMgaXMgdXNlZnVsIGlmIHRoZSBlbGVtZW50IGNvbnRhaW5zIHdoYXQgYXBwZWFycyB0byBiZSBBbmd1bGFyIGRpcmVjdGl2ZXMgYW5kXHJcbiAqIGJpbmRpbmdzIGJ1dCB3aGljaCBzaG91bGQgYmUgaWdub3JlZCBieSBBbmd1bGFyLiBUaGlzIGNvdWxkIGJlIHRoZSBjYXNlIGlmIHlvdSBoYXZlIGEgc2l0ZSB0aGF0XHJcbiAqIGRpc3BsYXlzIHNuaXBwZXRzIG9mIGNvZGUsIGZvciBpbnN0YW5jZS5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIEluIHRoaXMgZXhhbXBsZSB0aGVyZSBhcmUgdHdvIGxvY2F0aW9ucyB3aGVyZSBhIHNpbXBsZSBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgKGB7e319YCkgaXMgcHJlc2VudCxcclxuICogYnV0IHRoZSBvbmUgd3JhcHBlZCBpbiBgbmdOb25CaW5kYWJsZWAgaXMgbGVmdCBhbG9uZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxkaXY+Tm9ybWFsOiB7ezEgKyAyfX08L2Rpdj5cclxuICAgICAgICA8ZGl2IG5nLW5vbi1iaW5kYWJsZT5JZ25vcmVkOiB7ezEgKyAyfX08L2Rpdj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLW5vbi1iaW5kYWJsZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCcxICsgMicpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignMycpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCdkaXYnKSkubGFzdCgpLmdldFRleHQoKSkudG9NYXRjaCgvMSBcXCsgMi8pO1xyXG4gICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoeyB0ZXJtaW5hbDogdHJ1ZSwgcHJpb3JpdHk6IDEwMDAgfSk7XHJcblxyXG4vKiBnbG9iYWwganFMaXRlUmVtb3ZlICovXHJcblxyXG52YXIgbmdPcHRpb25zTWluRXJyID0gbWluRXJyKCduZ09wdGlvbnMnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nT3B0aW9uc1xyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogVGhlIGBuZ09wdGlvbnNgIGF0dHJpYnV0ZSBjYW4gYmUgdXNlZCB0byBkeW5hbWljYWxseSBnZW5lcmF0ZSBhIGxpc3Qgb2YgYDxvcHRpb24+YFxyXG4gKiBlbGVtZW50cyBmb3IgdGhlIGA8c2VsZWN0PmAgZWxlbWVudCB1c2luZyB0aGUgYXJyYXkgb3Igb2JqZWN0IG9idGFpbmVkIGJ5IGV2YWx1YXRpbmcgdGhlXHJcbiAqIGBuZ09wdGlvbnNgIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvbi5cclxuICpcclxuICogSW4gbWFueSBjYXNlcywgYG5nUmVwZWF0YCBjYW4gYmUgdXNlZCBvbiBgPG9wdGlvbj5gIGVsZW1lbnRzIGluc3RlYWQgb2YgYG5nT3B0aW9uc2AgdG8gYWNoaWV2ZSBhXHJcbiAqIHNpbWlsYXIgcmVzdWx0LiBIb3dldmVyLCBgbmdPcHRpb25zYCBwcm92aWRlcyBzb21lIGJlbmVmaXRzIHN1Y2ggYXMgcmVkdWNpbmcgbWVtb3J5IGFuZFxyXG4gKiBpbmNyZWFzaW5nIHNwZWVkIGJ5IG5vdCBjcmVhdGluZyBhIG5ldyBzY29wZSBmb3IgZWFjaCByZXBlYXRlZCBpbnN0YW5jZSwgYXMgd2VsbCBhcyBwcm92aWRpbmdcclxuICogbW9yZSBmbGV4aWJpbGl0eSBpbiBob3cgdGhlIGA8c2VsZWN0PmAncyBtb2RlbCBpcyBhc3NpZ25lZCB2aWEgdGhlIGBzZWxlY3RgICoqYGFzYCoqIHBhcnQgb2YgdGhlXHJcbiAqIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvbi4gYG5nT3B0aW9uc2Agc2hvdWxkIGJlIHVzZWQgd2hlbiB0aGUgYDxzZWxlY3Q+YCBtb2RlbCBuZWVkcyB0byBiZSBib3VuZFxyXG4gKiAgdG8gYSBub24tc3RyaW5nIHZhbHVlLiBUaGlzIGlzIGJlY2F1c2UgYW4gb3B0aW9uIGVsZW1lbnQgY2FuIG9ubHkgYmUgYm91bmQgdG8gc3RyaW5nIHZhbHVlcyBhdFxyXG4gKiBwcmVzZW50LlxyXG4gKlxyXG4gKiBXaGVuIGFuIGl0ZW0gaW4gdGhlIGA8c2VsZWN0PmAgbWVudSBpcyBzZWxlY3RlZCwgdGhlIGFycmF5IGVsZW1lbnQgb3Igb2JqZWN0IHByb3BlcnR5XHJcbiAqIHJlcHJlc2VudGVkIGJ5IHRoZSBzZWxlY3RlZCBvcHRpb24gd2lsbCBiZSBib3VuZCB0byB0aGUgbW9kZWwgaWRlbnRpZmllZCBieSB0aGUgYG5nTW9kZWxgXHJcbiAqIGRpcmVjdGl2ZS5cclxuICpcclxuICogT3B0aW9uYWxseSwgYSBzaW5nbGUgaGFyZC1jb2RlZCBgPG9wdGlvbj5gIGVsZW1lbnQsIHdpdGggdGhlIHZhbHVlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcsIGNhblxyXG4gKiBiZSBuZXN0ZWQgaW50byB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50LiBUaGlzIGVsZW1lbnQgd2lsbCB0aGVuIHJlcHJlc2VudCB0aGUgYG51bGxgIG9yIFwibm90IHNlbGVjdGVkXCJcclxuICogb3B0aW9uLiBTZWUgZXhhbXBsZSBiZWxvdyBmb3IgZGVtb25zdHJhdGlvbi5cclxuICpcclxuICogIyMgQ29tcGxleCBNb2RlbHMgKG9iamVjdHMgb3IgY29sbGVjdGlvbnMpXHJcbiAqXHJcbiAqIEJ5IGRlZmF1bHQsIGBuZ01vZGVsYCB3YXRjaGVzIHRoZSBtb2RlbCBieSByZWZlcmVuY2UsIG5vdCB2YWx1ZS4gVGhpcyBpcyBpbXBvcnRhbnQgdG8ga25vdyB3aGVuXHJcbiAqIGJpbmRpbmcgdGhlIHNlbGVjdCB0byBhIG1vZGVsIHRoYXQgaXMgYW4gb2JqZWN0IG9yIGEgY29sbGVjdGlvbi5cclxuICpcclxuICogT25lIGlzc3VlIG9jY3VycyBpZiB5b3Ugd2FudCB0byBwcmVzZWxlY3QgYW4gb3B0aW9uLiBGb3IgZXhhbXBsZSwgaWYgeW91IHNldFxyXG4gKiB0aGUgbW9kZWwgdG8gYW4gb2JqZWN0IHRoYXQgaXMgZXF1YWwgdG8gYW4gb2JqZWN0IGluIHlvdXIgY29sbGVjdGlvbiwgYG5nT3B0aW9uc2Agd29uJ3QgYmUgYWJsZSB0byBzZXQgdGhlIHNlbGVjdGlvbixcclxuICogYmVjYXVzZSB0aGUgb2JqZWN0cyBhcmUgbm90IGlkZW50aWNhbC4gU28gYnkgZGVmYXVsdCwgeW91IHNob3VsZCBhbHdheXMgcmVmZXJlbmNlIHRoZSBpdGVtIGluIHlvdXIgY29sbGVjdGlvblxyXG4gKiBmb3IgcHJlc2VsZWN0aW9ucywgZS5nLjogYCRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5jb2xsZWN0aW9uWzNdYC5cclxuICpcclxuICogQW5vdGhlciBzb2x1dGlvbiBpcyB0byB1c2UgYSBgdHJhY2sgYnlgIGNsYXVzZSwgYmVjYXVzZSB0aGVuIGBuZ09wdGlvbnNgIHdpbGwgdHJhY2sgdGhlIGlkZW50aXR5XHJcbiAqIG9mIHRoZSBpdGVtIG5vdCBieSByZWZlcmVuY2UsIGJ1dCBieSB0aGUgcmVzdWx0IG9mIHRoZSBgdHJhY2sgYnlgIGV4cHJlc3Npb24uIEZvciBleGFtcGxlLCBpZiB5b3VyXHJcbiAqIGNvbGxlY3Rpb24gaXRlbXMgaGF2ZSBhbiBpZCBwcm9wZXJ0eSwgeW91IHdvdWxkIGB0cmFjayBieSBpdGVtLmlkYC5cclxuICpcclxuICogQSBkaWZmZXJlbnQgaXNzdWUgd2l0aCBvYmplY3RzIG9yIGNvbGxlY3Rpb25zIGlzIHRoYXQgbmdNb2RlbCB3b24ndCBkZXRlY3QgaWYgYW4gb2JqZWN0IHByb3BlcnR5IG9yXHJcbiAqIGEgY29sbGVjdGlvbiBpdGVtIGNoYW5nZXMuIEZvciB0aGF0IHJlYXNvbiwgYG5nT3B0aW9uc2AgYWRkaXRpb25hbGx5IHdhdGNoZXMgdGhlIG1vZGVsIHVzaW5nXHJcbiAqIGAkd2F0Y2hDb2xsZWN0aW9uYCwgd2hlbiB0aGUgZXhwcmVzc2lvbiBjb250YWlucyBhIGB0cmFjayBieWAgY2xhdXNlIG9yIHRoZSB0aGUgc2VsZWN0IGhhcyB0aGUgYG11bHRpcGxlYCBhdHRyaWJ1dGUuXHJcbiAqIFRoaXMgYWxsb3dzIG5nT3B0aW9ucyB0byB0cmlnZ2VyIGEgcmUtcmVuZGVyaW5nIG9mIHRoZSBvcHRpb25zIGV2ZW4gaWYgdGhlIGFjdHVhbCBvYmplY3QvY29sbGVjdGlvblxyXG4gKiBoYXMgbm90IGNoYW5nZWQgaWRlbnRpdHksIGJ1dCBvbmx5IGEgcHJvcGVydHkgb24gdGhlIG9iamVjdCBvciBhbiBpdGVtIGluIHRoZSBjb2xsZWN0aW9uIGNoYW5nZXMuXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCBgJHdhdGNoQ29sbGVjdGlvbmAgZG9lcyBhIHNoYWxsb3cgY29tcGFyaXNvbiBvZiB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IChvciB0aGUgaXRlbXMgaW4gdGhlIGNvbGxlY3Rpb25cclxuICogaWYgdGhlIG1vZGVsIGlzIGFuIGFycmF5KS4gVGhpcyBtZWFucyB0aGF0IGNoYW5naW5nIGEgcHJvcGVydHkgZGVlcGVyIHRoYW4gdGhlIGZpcnN0IGxldmVsIGluc2lkZSB0aGVcclxuICogb2JqZWN0L2NvbGxlY3Rpb24gd2lsbCBub3QgdHJpZ2dlciBhIHJlLXJlbmRlcmluZy5cclxuICpcclxuICogIyMgYHNlbGVjdGAgKipgYXNgKipcclxuICpcclxuICogVXNpbmcgYHNlbGVjdGAgKipgYXNgKiogd2lsbCBiaW5kIHRoZSByZXN1bHQgb2YgdGhlIGBzZWxlY3RgIGV4cHJlc3Npb24gdG8gdGhlIG1vZGVsLCBidXRcclxuICogdGhlIHZhbHVlIG9mIHRoZSBgPHNlbGVjdD5gIGFuZCBgPG9wdGlvbj5gIGh0bWwgZWxlbWVudHMgd2lsbCBiZSBlaXRoZXIgdGhlIGluZGV4IChmb3IgYXJyYXkgZGF0YSBzb3VyY2VzKVxyXG4gKiBvciBwcm9wZXJ0eSBuYW1lIChmb3Igb2JqZWN0IGRhdGEgc291cmNlcykgb2YgdGhlIHZhbHVlIHdpdGhpbiB0aGUgY29sbGVjdGlvbi4gSWYgYSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uXHJcbiAqIGlzIHVzZWQsIHRoZSByZXN1bHQgb2YgdGhhdCBleHByZXNzaW9uIHdpbGwgYmUgc2V0IGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG9wdGlvbmAgYW5kIGBzZWxlY3RgIGVsZW1lbnRzLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMgYHNlbGVjdGAgKipgYXNgKiogYW5kICoqYHRyYWNrIGJ5YCoqXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqIEJlIGNhcmVmdWwgd2hlbiB1c2luZyBgc2VsZWN0YCAqKmBhc2AqKiBhbmQgKipgdHJhY2sgYnlgKiogaW4gdGhlIHNhbWUgZXhwcmVzc2lvbi5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEdpdmVuIHRoaXMgYXJyYXkgb2YgaXRlbXMgb24gdGhlICRzY29wZTpcclxuICpcclxuICogYGBganNcclxuICogJHNjb3BlLml0ZW1zID0gW3tcclxuICogICBpZDogMSxcclxuICogICBsYWJlbDogJ2FMYWJlbCcsXHJcbiAqICAgc3ViSXRlbTogeyBuYW1lOiAnYVN1Ykl0ZW0nIH1cclxuICogfSwge1xyXG4gKiAgIGlkOiAyLFxyXG4gKiAgIGxhYmVsOiAnYkxhYmVsJyxcclxuICogICBzdWJJdGVtOiB7IG5hbWU6ICdiU3ViSXRlbScgfVxyXG4gKiB9XTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFRoaXMgd2lsbCB3b3JrOlxyXG4gKlxyXG4gKiBgYGBodG1sXHJcbiAqIDxzZWxlY3Qgbmctb3B0aW9ucz1cIml0ZW0gYXMgaXRlbS5sYWJlbCBmb3IgaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkXCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjwvc2VsZWN0PlxyXG4gKiBgYGBcclxuICogYGBganNcclxuICogJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLml0ZW1zWzBdO1xyXG4gKiBgYGBcclxuICpcclxuICogYnV0IHRoaXMgd2lsbCBub3Qgd29yazpcclxuICpcclxuICogYGBgaHRtbFxyXG4gKiA8c2VsZWN0IG5nLW9wdGlvbnM9XCJpdGVtLnN1Ykl0ZW0gYXMgaXRlbS5sYWJlbCBmb3IgaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkXCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjwvc2VsZWN0PlxyXG4gKiBgYGBcclxuICogYGBganNcclxuICogJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLml0ZW1zWzBdLnN1Ykl0ZW07XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBJbiBib3RoIGV4YW1wbGVzLCB0aGUgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvbiBpcyBhcHBsaWVkIHN1Y2Nlc3NmdWxseSB0byBlYWNoIGBpdGVtYCBpbiB0aGVcclxuICogYGl0ZW1zYCBhcnJheS4gQmVjYXVzZSB0aGUgc2VsZWN0ZWQgb3B0aW9uIGhhcyBiZWVuIHNldCBwcm9ncmFtbWF0aWNhbGx5IGluIHRoZSBjb250cm9sbGVyLCB0aGVcclxuICogKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvbiBpcyBhbHNvIGFwcGxpZWQgdG8gdGhlIGBuZ01vZGVsYCB2YWx1ZS4gSW4gdGhlIGZpcnN0IGV4YW1wbGUsIHRoZVxyXG4gKiBgbmdNb2RlbGAgdmFsdWUgaXMgYGl0ZW1zWzBdYCBhbmQgdGhlICoqYHRyYWNrIGJ5YCoqIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGBpdGVtc1swXS5pZGAgd2l0aFxyXG4gKiBubyBpc3N1ZS4gSW4gdGhlIHNlY29uZCBleGFtcGxlLCB0aGUgYG5nTW9kZWxgIHZhbHVlIGlzIGBpdGVtc1swXS5zdWJJdGVtYCBhbmQgdGhlICoqYHRyYWNrIGJ5YCoqXHJcbiAqIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGBpdGVtc1swXS5zdWJJdGVtLmlkYCAod2hpY2ggaXMgdW5kZWZpbmVkKS4gQXMgYSByZXN1bHQsIHRoZSBtb2RlbCB2YWx1ZVxyXG4gKiBpcyBub3QgbWF0Y2hlZCBhZ2FpbnN0IGFueSBgPG9wdGlvbj5gIGFuZCB0aGUgYDxzZWxlY3Q+YCBhcHBlYXJzIGFzIGhhdmluZyBubyBzZWxlY3RlZCB2YWx1ZS5cclxuICpcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgVGhlIGNvbnRyb2wgaXMgY29uc2lkZXJlZCB2YWxpZCBvbmx5IGlmIHZhbHVlIGlzIGVudGVyZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICogQHBhcmFtIHtjb21wcmVoZW5zaW9uX2V4cHJlc3Npb249fSBuZ09wdGlvbnMgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgZm9ybXM6XHJcbiAqXHJcbiAqICAgKiBmb3IgYXJyYXkgZGF0YSBzb3VyY2VzOlxyXG4gKiAgICAgKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcclxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXHJcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXHJcbiAqICAgICAqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXHJcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXHJcbiAqICAgICAqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXHJcbiAqICAgICAqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCB8IG9yZGVyQnk6YG9yZGVyZXhwcmAgKipgdHJhY2sgYnlgKiogYHRyYWNrZXhwcmBcclxuICogICAgICAgIChmb3IgaW5jbHVkaW5nIGEgZmlsdGVyIHdpdGggYHRyYWNrIGJ5YClcclxuICogICAqIGZvciBvYmplY3QgZGF0YSBzb3VyY2VzOlxyXG4gKiAgICAgKiBgbGFiZWxgICoqYGZvciAoYCoqYGtleWAgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxyXG4gKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGZvciAoYCoqYGtleWAgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxyXG4gKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yIChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcclxuICogICAgICogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgICoqYGZvciAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXHJcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYFxyXG4gKiAgICAgICAgICoqYGZvcmAgYChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcclxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgXHJcbiAqICAgICAgICAgKipgZm9yYCBgKGAqKmBrZXlgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxyXG4gKlxyXG4gKiBXaGVyZTpcclxuICpcclxuICogICAqIGBhcnJheWAgLyBgb2JqZWN0YDogYW4gZXhwcmVzc2lvbiB3aGljaCBldmFsdWF0ZXMgdG8gYW4gYXJyYXkgLyBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiAgICogYHZhbHVlYDogbG9jYWwgdmFyaWFibGUgd2hpY2ggd2lsbCByZWZlciB0byBlYWNoIGl0ZW0gaW4gdGhlIGBhcnJheWAgb3IgZWFjaCBwcm9wZXJ0eSB2YWx1ZVxyXG4gKiAgICAgIG9mIGBvYmplY3RgIGR1cmluZyBpdGVyYXRpb24uXHJcbiAqICAgKiBga2V5YDogbG9jYWwgdmFyaWFibGUgd2hpY2ggd2lsbCByZWZlciB0byBhIHByb3BlcnR5IG5hbWUgaW4gYG9iamVjdGAgZHVyaW5nIGl0ZXJhdGlvbi5cclxuICogICAqIGBsYWJlbGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdGhlIGxhYmVsIGZvciBgPG9wdGlvbj5gIGVsZW1lbnQuIFRoZVxyXG4gKiAgICAgYGV4cHJlc3Npb25gIHdpbGwgbW9zdCBsaWtlbHkgcmVmZXIgdG8gdGhlIGB2YWx1ZWAgdmFyaWFibGUgKGUuZy4gYHZhbHVlLnByb3BlcnR5TmFtZWApLlxyXG4gKiAgICogYHNlbGVjdGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgYm91bmQgdG8gdGhlIG1vZGVsIG9mIHRoZSBwYXJlbnQgYDxzZWxlY3Q+YFxyXG4gKiAgICAgIGVsZW1lbnQuIElmIG5vdCBzcGVjaWZpZWQsIGBzZWxlY3RgIGV4cHJlc3Npb24gd2lsbCBkZWZhdWx0IHRvIGB2YWx1ZWAuXHJcbiAqICAgKiBgZ3JvdXBgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIHVzZWQgdG8gZ3JvdXAgb3B0aW9ucyB1c2luZyB0aGUgYDxvcHRncm91cD5gXHJcbiAqICAgICAgRE9NIGVsZW1lbnQuXHJcbiAqICAgKiBgZGlzYWJsZWA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdXNlZCB0byBkaXNhYmxlIHRoZSByZW5kZXJlZCBgPG9wdGlvbj5gXHJcbiAqICAgICAgZWxlbWVudC4gUmV0dXJuIGB0cnVlYCB0byBkaXNhYmxlLlxyXG4gKiAgICogYHRyYWNrZXhwcmA6IFVzZWQgd2hlbiB3b3JraW5nIHdpdGggYW4gYXJyYXkgb2Ygb2JqZWN0cy4gVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZVxyXG4gKiAgICAgIHVzZWQgdG8gaWRlbnRpZnkgdGhlIG9iamVjdHMgaW4gdGhlIGFycmF5LiBUaGUgYHRyYWNrZXhwcmAgd2lsbCBtb3N0IGxpa2VseSByZWZlciB0byB0aGVcclxuICogICAgIGB2YWx1ZWAgdmFyaWFibGUgKGUuZy4gYHZhbHVlLnByb3BlcnR5TmFtZWApLiBXaXRoIHRoaXMgdGhlIHNlbGVjdGlvbiBpcyBwcmVzZXJ2ZWRcclxuICogICAgICBldmVuIHdoZW4gdGhlIG9wdGlvbnMgYXJlIHJlY3JlYXRlZCAoZS5nLiByZWxvYWRlZCBmcm9tIHRoZSBzZXJ2ZXIpLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbW9kdWxlPVwic2VsZWN0RXhhbXBsZVwiPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3NlbGVjdEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jb2xvcnMgPSBbXHJcbiAgICAgICAgICAgICAge25hbWU6J2JsYWNrJywgc2hhZGU6J2RhcmsnfSxcclxuICAgICAgICAgICAgICB7bmFtZTond2hpdGUnLCBzaGFkZTonbGlnaHQnLCBub3RBbk9wdGlvbjogdHJ1ZX0sXHJcbiAgICAgICAgICAgICAge25hbWU6J3JlZCcsIHNoYWRlOidkYXJrJ30sXHJcbiAgICAgICAgICAgICAge25hbWU6J2JsdWUnLCBzaGFkZTonZGFyaycsIG5vdEFuT3B0aW9uOiB0cnVlfSxcclxuICAgICAgICAgICAgICB7bmFtZToneWVsbG93Jywgc2hhZGU6J2xpZ2h0Jywgbm90QW5PcHRpb246IGZhbHNlfVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAkc2NvcGUubXlDb2xvciA9ICRzY29wZS5jb2xvcnNbMl07IC8vIHJlZFxyXG4gICAgICAgICAgfV0pO1xyXG4gICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICA8dWw+XHJcbiAgICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb2xvciBpbiBjb2xvcnNcIj5cclxuICAgICAgICAgICAgICA8bGFiZWw+TmFtZTogPGlucHV0IG5nLW1vZGVsPVwiY29sb3IubmFtZVwiPjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNvbG9yLm5vdEFuT3B0aW9uXCI+IERpc2FibGVkPzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImNvbG9ycy5zcGxpY2UoJGluZGV4LCAxKVwiIGFyaWEtbGFiZWw9XCJSZW1vdmVcIj5YPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY29sb3JzLnB1c2goe30pXCI+YWRkPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgPGhyLz5cclxuICAgICAgICAgIDxsYWJlbD5Db2xvciAobnVsbCBub3QgYWxsb3dlZCk6XHJcbiAgICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCIgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZm9yIGNvbG9yIGluIGNvbG9yc1wiPjwvc2VsZWN0PlxyXG4gICAgICAgICAgPC9sYWJlbD48YnIvPlxyXG4gICAgICAgICAgPGxhYmVsPkNvbG9yIChudWxsIGFsbG93ZWQpOlxyXG4gICAgICAgICAgPHNwYW4gIGNsYXNzPVwibnVsbGFibGVcIj5cclxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIiBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBmb3IgY29sb3IgaW4gY29sb3JzXCI+XHJcbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPi0tIGNob29zZSBjb2xvciAtLTwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgIDwvc3Bhbj48L2xhYmVsPjxici8+XHJcblxyXG4gICAgICAgICAgPGxhYmVsPkNvbG9yIGdyb3VwZWQgYnkgc2hhZGU6XHJcbiAgICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCIgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZ3JvdXAgYnkgY29sb3Iuc2hhZGUgZm9yIGNvbG9yIGluIGNvbG9yc1wiPlxyXG4gICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuXHJcbiAgICAgICAgICA8bGFiZWw+Q29sb3IgZ3JvdXBlZCBieSBzaGFkZSwgd2l0aCBzb21lIGRpc2FibGVkOlxyXG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiXHJcbiAgICAgICAgICAgICAgICAgIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGdyb3VwIGJ5IGNvbG9yLnNoYWRlIGRpc2FibGUgd2hlbiBjb2xvci5ub3RBbk9wdGlvbiBmb3IgY29sb3IgaW4gY29sb3JzXCI+XHJcbiAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgPC9sYWJlbD48YnIvPlxyXG5cclxuXHJcblxyXG4gICAgICAgICAgU2VsZWN0IDxidXR0b24gbmctY2xpY2s9XCJteUNvbG9yID0geyBuYW1lOidub3QgaW4gbGlzdCcsIHNoYWRlOiAnb3RoZXInIH1cIj5ib2d1czwvYnV0dG9uPi5cclxuICAgICAgICAgIDxici8+XHJcbiAgICAgICAgICA8aHIvPlxyXG4gICAgICAgICAgQ3VycmVudGx5IHNlbGVjdGVkOiB7eyB7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0gfX1cclxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJib3JkZXI6c29saWQgMXB4IGJsYWNrOyBoZWlnaHQ6MjBweFwiXHJcbiAgICAgICAgICAgICAgIG5nLXN0eWxlPVwieydiYWNrZ3JvdW5kLWNvbG9yJzpteUNvbG9yLm5hbWV9XCI+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctb3B0aW9ucycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3tzZWxlY3RlZF9jb2xvcjpteUNvbG9yfScpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJ3JlZCcpO1xyXG4gICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdteUNvbG9yJykpLmZpcnN0KCkuY2xpY2soKTtcclxuICAgICAgICAgICBlbGVtZW50LmFsbChieS5jc3MoJ3NlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0gb3B0aW9uJykpLmZpcnN0KCkuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdibGFjaycpO1xyXG4gICAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcubnVsbGFibGUgc2VsZWN0W25nLW1vZGVsPVwibXlDb2xvclwiXScpKS5jbGljaygpO1xyXG4gICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5LmNzcygnLm51bGxhYmxlIHNlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0gb3B0aW9uJykpLmZpcnN0KCkuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdudWxsJyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5cclxuLy8ganNoaW50IG1heGxlbjogZmFsc2VcclxuLy8gICAgICAgICAgICAgICAgICAgICAvLzAwMDAxMTExMTExMTExMDAwMDAwMDAwMDAyMjIyMjIyMjIyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMzMzMzMzMzMzMzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0NDQ0NDQ0NDQ0NDAwMDAwMDAwMDAwMDA1NTU1NTU1NTU1NTU1NTUwMDAwMDAwMDA2NjY2NjY2NjY2NjY2NjYwMDAwMDAwNzc3Nzc3Nzc3Nzc3Nzc3MDAwMDAwMDAwMDAwMDAwODg4ODg4ODg4ODAwMDAwMDAwMDAwMDAwMDAwMDA5OTk5OTk5OTk5XHJcbnZhciBOR19PUFRJT05TX1JFR0VYUCA9IC9eXFxzKihbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccytncm91cFxccytieVxccysoW1xcc1xcU10rPykpPyg/OlxccytkaXNhYmxlXFxzK3doZW5cXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbXFwkXFx3XVtcXCRcXHddKil8KD86XFwoXFxzKihbXFwkXFx3XVtcXCRcXHddKilcXHMqLFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKlxcKSkpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpPyQvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAxOiB2YWx1ZSBleHByZXNzaW9uICh2YWx1ZUZuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAyOiBsYWJlbCBleHByZXNzaW9uIChkaXNwbGF5Rm4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDM6IGdyb3VwIGJ5IGV4cHJlc3Npb24gKGdyb3VwQnlGbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNDogZGlzYWJsZSB3aGVuIGV4cHJlc3Npb24gKGRpc2FibGVXaGVuRm4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDU6IGFycmF5IGl0ZW0gdmFyaWFibGUgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA2OiBvYmplY3QgaXRlbSBrZXkgdmFyaWFibGUgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA3OiBvYmplY3QgaXRlbSB2YWx1ZSB2YXJpYWJsZSBuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDg6IGNvbGxlY3Rpb24gZXhwcmVzc2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA5OiB0cmFjayBieSBleHByZXNzaW9uXHJcbi8vIGpzaGludCBtYXhsZW46IDEwMFxyXG5cclxuXHJcbnZhciBuZ09wdGlvbnNEaXJlY3RpdmUgPSBbJyRjb21waWxlJywgJyRkb2N1bWVudCcsICckcGFyc2UnLCBmdW5jdGlvbigkY29tcGlsZSwgJGRvY3VtZW50LCAkcGFyc2UpIHtcclxuXHJcbiAgZnVuY3Rpb24gcGFyc2VPcHRpb25zRXhwcmVzc2lvbihvcHRpb25zRXhwLCBzZWxlY3RFbGVtZW50LCBzY29wZSkge1xyXG5cclxuICAgIHZhciBtYXRjaCA9IG9wdGlvbnNFeHAubWF0Y2goTkdfT1BUSU9OU19SRUdFWFApO1xyXG4gICAgaWYgKCEobWF0Y2gpKSB7XHJcbiAgICAgIHRocm93IG5nT3B0aW9uc01pbkVycignaWV4cCcsXHJcbiAgICAgICAgXCJFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgXCIgK1xyXG4gICAgICAgIFwiJ19zZWxlY3RfIChhcyBfbGFiZWxfKT8gZm9yIChfa2V5XywpP192YWx1ZV8gaW4gX2NvbGxlY3Rpb25fJ1wiICtcclxuICAgICAgICBcIiBidXQgZ290ICd7MH0nLiBFbGVtZW50OiB7MX1cIixcclxuICAgICAgICBvcHRpb25zRXhwLCBzdGFydGluZ1RhZyhzZWxlY3RFbGVtZW50KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXh0cmFjdCB0aGUgcGFydHMgZnJvbSB0aGUgbmdPcHRpb25zIGV4cHJlc3Npb25cclxuXHJcbiAgICAvLyBUaGUgdmFyaWFibGUgbmFtZSBmb3IgdGhlIHZhbHVlIG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXHJcbiAgICB2YXIgdmFsdWVOYW1lID0gbWF0Y2hbNV0gfHwgbWF0Y2hbN107XHJcbiAgICAvLyBUaGUgdmFyaWFibGUgbmFtZSBmb3IgdGhlIGtleSBvZiB0aGUgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxyXG4gICAgdmFyIGtleU5hbWUgPSBtYXRjaFs2XTtcclxuXHJcbiAgICAvLyBBbiBleHByZXNzaW9uIHRoYXQgZ2VuZXJhdGVzIHRoZSB2aWV3VmFsdWUgZm9yIGFuIG9wdGlvbiBpZiB0aGVyZSBpcyBhIGxhYmVsIGV4cHJlc3Npb25cclxuICAgIHZhciBzZWxlY3RBcyA9IC8gYXMgLy50ZXN0KG1hdGNoWzBdKSAmJiBtYXRjaFsxXTtcclxuICAgIC8vIEFuIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIHRvIHRyYWNrIHRoZSBpZCBvZiBlYWNoIG9iamVjdCBpbiB0aGUgb3B0aW9ucyBjb2xsZWN0aW9uXHJcbiAgICB2YXIgdHJhY2tCeSA9IG1hdGNoWzldO1xyXG4gICAgLy8gQW4gZXhwcmVzc2lvbiB0aGF0IGdlbmVyYXRlcyB0aGUgdmlld1ZhbHVlIGZvciBhbiBvcHRpb24gaWYgdGhlcmUgaXMgbm8gbGFiZWwgZXhwcmVzc2lvblxyXG4gICAgdmFyIHZhbHVlRm4gPSAkcGFyc2UobWF0Y2hbMl0gPyBtYXRjaFsxXSA6IHZhbHVlTmFtZSk7XHJcbiAgICB2YXIgc2VsZWN0QXNGbiA9IHNlbGVjdEFzICYmICRwYXJzZShzZWxlY3RBcyk7XHJcbiAgICB2YXIgdmlld1ZhbHVlRm4gPSBzZWxlY3RBc0ZuIHx8IHZhbHVlRm47XHJcbiAgICB2YXIgdHJhY2tCeUZuID0gdHJhY2tCeSAmJiAkcGFyc2UodHJhY2tCeSk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSB2YWx1ZSBieSB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gdHJhY2sgdGhlIG9wdGlvblxyXG4gICAgLy8gaWYgd2UgaGF2ZSBhIHRyYWNrRm4gdGhlbiB1c2UgdGhhdCAocGFzc2luZyBzY29wZSBhbmQgbG9jYWxzKVxyXG4gICAgLy8gb3RoZXJ3aXNlIGp1c3QgaGFzaCB0aGUgZ2l2ZW4gdmlld1ZhbHVlXHJcbiAgICB2YXIgZ2V0VHJhY2tCeVZhbHVlRm4gPSB0cmFja0J5ID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUsIGxvY2FscykgeyByZXR1cm4gdHJhY2tCeUZuKHNjb3BlLCBsb2NhbHMpOyB9IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0SGFzaE9mVmFsdWUodmFsdWUpIHsgcmV0dXJuIGhhc2hLZXkodmFsdWUpOyB9O1xyXG4gICAgdmFyIGdldFRyYWNrQnlWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgcmV0dXJuIGdldFRyYWNrQnlWYWx1ZUZuKHZhbHVlLCBnZXRMb2NhbHModmFsdWUsIGtleSkpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZGlzcGxheUZuID0gJHBhcnNlKG1hdGNoWzJdIHx8IG1hdGNoWzFdKTtcclxuICAgIHZhciBncm91cEJ5Rm4gPSAkcGFyc2UobWF0Y2hbM10gfHwgJycpO1xyXG4gICAgdmFyIGRpc2FibGVXaGVuRm4gPSAkcGFyc2UobWF0Y2hbNF0gfHwgJycpO1xyXG4gICAgdmFyIHZhbHVlc0ZuID0gJHBhcnNlKG1hdGNoWzhdKTtcclxuXHJcbiAgICB2YXIgbG9jYWxzID0ge307XHJcbiAgICB2YXIgZ2V0TG9jYWxzID0ga2V5TmFtZSA/IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgbG9jYWxzW2tleU5hbWVdID0ga2V5O1xyXG4gICAgICBsb2NhbHNbdmFsdWVOYW1lXSA9IHZhbHVlO1xyXG4gICAgICByZXR1cm4gbG9jYWxzO1xyXG4gICAgfSA6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIGxvY2Fsc1t2YWx1ZU5hbWVdID0gdmFsdWU7XHJcbiAgICAgIHJldHVybiBsb2NhbHM7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBPcHRpb24oc2VsZWN0VmFsdWUsIHZpZXdWYWx1ZSwgbGFiZWwsIGdyb3VwLCBkaXNhYmxlZCkge1xyXG4gICAgICB0aGlzLnNlbGVjdFZhbHVlID0gc2VsZWN0VmFsdWU7XHJcbiAgICAgIHRoaXMudmlld1ZhbHVlID0gdmlld1ZhbHVlO1xyXG4gICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XHJcbiAgICAgIHRoaXMuZ3JvdXAgPSBncm91cDtcclxuICAgICAgdGhpcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE9wdGlvblZhbHVlc0tleXMob3B0aW9uVmFsdWVzKSB7XHJcbiAgICAgIHZhciBvcHRpb25WYWx1ZXNLZXlzO1xyXG5cclxuICAgICAgaWYgKCFrZXlOYW1lICYmIGlzQXJyYXlMaWtlKG9wdGlvblZhbHVlcykpIHtcclxuICAgICAgICBvcHRpb25WYWx1ZXNLZXlzID0gb3B0aW9uVmFsdWVzO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGlmIG9iamVjdCwgZXh0cmFjdCBrZXlzLCBpbiBlbnVtZXJhdGlvbiBvcmRlciwgdW5zb3J0ZWRcclxuICAgICAgICBvcHRpb25WYWx1ZXNLZXlzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaXRlbUtleSBpbiBvcHRpb25WYWx1ZXMpIHtcclxuICAgICAgICAgIGlmIChvcHRpb25WYWx1ZXMuaGFzT3duUHJvcGVydHkoaXRlbUtleSkgJiYgaXRlbUtleS5jaGFyQXQoMCkgIT09ICckJykge1xyXG4gICAgICAgICAgICBvcHRpb25WYWx1ZXNLZXlzLnB1c2goaXRlbUtleSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBvcHRpb25WYWx1ZXNLZXlzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRyYWNrQnk6IHRyYWNrQnksXHJcbiAgICAgIGdldFRyYWNrQnlWYWx1ZTogZ2V0VHJhY2tCeVZhbHVlLFxyXG4gICAgICBnZXRXYXRjaGFibGVzOiAkcGFyc2UodmFsdWVzRm4sIGZ1bmN0aW9uKG9wdGlvblZhbHVlcykge1xyXG4gICAgICAgIC8vIENyZWF0ZSBhIGNvbGxlY3Rpb24gb2YgdGhpbmdzIHRoYXQgd2Ugd291bGQgbGlrZSB0byB3YXRjaCAod2F0Y2hlZEFycmF5KVxyXG4gICAgICAgIC8vIHNvIHRoYXQgdGhleSBjYW4gYWxsIGJlIHdhdGNoZWQgdXNpbmcgYSBzaW5nbGUgJHdhdGNoQ29sbGVjdGlvblxyXG4gICAgICAgIC8vIHRoYXQgb25seSBydW5zIHRoZSBoYW5kbGVyIG9uY2UgaWYgYW55dGhpbmcgY2hhbmdlc1xyXG4gICAgICAgIHZhciB3YXRjaGVkQXJyYXkgPSBbXTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMgPSBvcHRpb25WYWx1ZXMgfHwgW107XHJcblxyXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNLZXlzID0gZ2V0T3B0aW9uVmFsdWVzS2V5cyhvcHRpb25WYWx1ZXMpO1xyXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNMZW5ndGggPSBvcHRpb25WYWx1ZXNLZXlzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgb3B0aW9uVmFsdWVzTGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICB2YXIga2V5ID0gKG9wdGlvblZhbHVlcyA9PT0gb3B0aW9uVmFsdWVzS2V5cykgPyBpbmRleCA6IG9wdGlvblZhbHVlc0tleXNbaW5kZXhdO1xyXG4gICAgICAgICAgdmFyIHZhbHVlID0gb3B0aW9uVmFsdWVzW2tleV07XHJcblxyXG4gICAgICAgICAgdmFyIGxvY2FscyA9IGdldExvY2Fscyh2YWx1ZSwga2V5KTtcclxuICAgICAgICAgIHZhciBzZWxlY3RWYWx1ZSA9IGdldFRyYWNrQnlWYWx1ZUZuKHZhbHVlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgd2F0Y2hlZEFycmF5LnB1c2goc2VsZWN0VmFsdWUpO1xyXG5cclxuICAgICAgICAgIC8vIE9ubHkgbmVlZCB0byB3YXRjaCB0aGUgZGlzcGxheUZuIGlmIHRoZXJlIGlzIGEgc3BlY2lmaWMgbGFiZWwgZXhwcmVzc2lvblxyXG4gICAgICAgICAgaWYgKG1hdGNoWzJdIHx8IG1hdGNoWzFdKSB7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRpc3BsYXlGbihzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgICAgd2F0Y2hlZEFycmF5LnB1c2gobGFiZWwpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIE9ubHkgbmVlZCB0byB3YXRjaCB0aGUgZGlzYWJsZVdoZW5GbiBpZiB0aGVyZSBpcyBhIHNwZWNpZmljIGRpc2FibGUgZXhwcmVzc2lvblxyXG4gICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XHJcbiAgICAgICAgICAgIHZhciBkaXNhYmxlV2hlbiA9IGRpc2FibGVXaGVuRm4oc2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgICAgICAgIHdhdGNoZWRBcnJheS5wdXNoKGRpc2FibGVXaGVuKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdhdGNoZWRBcnJheTtcclxuICAgICAgfSksXHJcblxyXG4gICAgICBnZXRPcHRpb25zOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIG9wdGlvbkl0ZW1zID0gW107XHJcbiAgICAgICAgdmFyIHNlbGVjdFZhbHVlTWFwID0ge307XHJcblxyXG4gICAgICAgIC8vIFRoZSBvcHRpb24gdmFsdWVzIHdlcmUgYWxyZWFkeSBjb21wdXRlZCBpbiB0aGUgYGdldFdhdGNoYWJsZXNgIGZuLFxyXG4gICAgICAgIC8vIHdoaWNoIG11c3QgaGF2ZSBiZWVuIGNhbGxlZCB0byB0cmlnZ2VyIGBnZXRPcHRpb25zYFxyXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXMgPSB2YWx1ZXNGbihzY29wZSkgfHwgW107XHJcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0tleXMgPSBnZXRPcHRpb25WYWx1ZXNLZXlzKG9wdGlvblZhbHVlcyk7XHJcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0xlbmd0aCA9IG9wdGlvblZhbHVlc0tleXMubGVuZ3RoO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgb3B0aW9uVmFsdWVzTGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICB2YXIga2V5ID0gKG9wdGlvblZhbHVlcyA9PT0gb3B0aW9uVmFsdWVzS2V5cykgPyBpbmRleCA6IG9wdGlvblZhbHVlc0tleXNbaW5kZXhdO1xyXG4gICAgICAgICAgdmFyIHZhbHVlID0gb3B0aW9uVmFsdWVzW2tleV07XHJcbiAgICAgICAgICB2YXIgbG9jYWxzID0gZ2V0TG9jYWxzKHZhbHVlLCBrZXkpO1xyXG4gICAgICAgICAgdmFyIHZpZXdWYWx1ZSA9IHZpZXdWYWx1ZUZuKHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgdmFyIHNlbGVjdFZhbHVlID0gZ2V0VHJhY2tCeVZhbHVlRm4odmlld1ZhbHVlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgdmFyIGxhYmVsID0gZGlzcGxheUZuKHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgdmFyIGdyb3VwID0gZ3JvdXBCeUZuKHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgdmFyIGRpc2FibGVkID0gZGlzYWJsZVdoZW5GbihzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgIHZhciBvcHRpb25JdGVtID0gbmV3IE9wdGlvbihzZWxlY3RWYWx1ZSwgdmlld1ZhbHVlLCBsYWJlbCwgZ3JvdXAsIGRpc2FibGVkKTtcclxuXHJcbiAgICAgICAgICBvcHRpb25JdGVtcy5wdXNoKG9wdGlvbkl0ZW0pO1xyXG4gICAgICAgICAgc2VsZWN0VmFsdWVNYXBbc2VsZWN0VmFsdWVdID0gb3B0aW9uSXRlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpdGVtczogb3B0aW9uSXRlbXMsXHJcbiAgICAgICAgICBzZWxlY3RWYWx1ZU1hcDogc2VsZWN0VmFsdWVNYXAsXHJcbiAgICAgICAgICBnZXRPcHRpb25Gcm9tVmlld1ZhbHVlOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0VmFsdWVNYXBbZ2V0VHJhY2tCeVZhbHVlKHZhbHVlKV07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbjogZnVuY3Rpb24ob3B0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSB2aWV3VmFsdWUgY291bGQgYmUgYW4gb2JqZWN0IHRoYXQgbWF5IGJlIG11dGF0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uLFxyXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIG1ha2UgYSBjb3B5IGFuZCBub3QgcmV0dXJuIHRoZSByZWZlcmVuY2UgdG8gdGhlIHZhbHVlIG9uIHRoZSBvcHRpb24uXHJcbiAgICAgICAgICAgIHJldHVybiB0cmFja0J5ID8gYW5ndWxhci5jb3B5KG9wdGlvbi52aWV3VmFsdWUpIDogb3B0aW9uLnZpZXdWYWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIHdlIGNhbid0IGp1c3QganFMaXRlKCc8b3B0aW9uPicpIHNpbmNlIGpxTGl0ZSBpcyBub3Qgc21hcnQgZW5vdWdoXHJcbiAgLy8gdG8gY3JlYXRlIGl0IGluIDxzZWxlY3Q+IGFuZCBJRSBiYXJmcyBvdGhlcndpc2UuXHJcbiAgdmFyIG9wdGlvblRlbXBsYXRlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpLFxyXG4gICAgICBvcHRHcm91cFRlbXBsYXRlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGdyb3VwJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gbmdPcHRpb25zUG9zdExpbmsoc2NvcGUsIHNlbGVjdEVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XHJcblxyXG4gICAgICB2YXIgc2VsZWN0Q3RybCA9IGN0cmxzWzBdO1xyXG4gICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcclxuICAgICAgdmFyIG11bHRpcGxlID0gYXR0ci5tdWx0aXBsZTtcclxuXHJcbiAgICAgIC8vIFRoZSBlbXB0eU9wdGlvbiBhbGxvd3MgdGhlIGFwcGxpY2F0aW9uIGRldmVsb3BlciB0byBwcm92aWRlIHRoZWlyIG93biBjdXN0b20gXCJlbXB0eVwiXHJcbiAgICAgIC8vIG9wdGlvbiB3aGVuIHRoZSB2aWV3VmFsdWUgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvcHRpb24gdmFsdWVzLlxyXG4gICAgICB2YXIgZW1wdHlPcHRpb247XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBjaGlsZHJlbiA9IHNlbGVjdEVsZW1lbnQuY2hpbGRyZW4oKSwgaWkgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgZW1wdHlPcHRpb24gPSBjaGlsZHJlbi5lcShpKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHByb3ZpZGVkRW1wdHlPcHRpb24gPSAhIWVtcHR5T3B0aW9uO1xyXG5cclxuICAgICAgdmFyIHVua25vd25PcHRpb24gPSBqcUxpdGUob3B0aW9uVGVtcGxhdGUuY2xvbmVOb2RlKGZhbHNlKSk7XHJcbiAgICAgIHVua25vd25PcHRpb24udmFsKCc/Jyk7XHJcblxyXG4gICAgICB2YXIgb3B0aW9ucztcclxuICAgICAgdmFyIG5nT3B0aW9ucyA9IHBhcnNlT3B0aW9uc0V4cHJlc3Npb24oYXR0ci5uZ09wdGlvbnMsIHNlbGVjdEVsZW1lbnQsIHNjb3BlKTtcclxuICAgICAgLy8gVGhpcyBzdG9yZXMgdGhlIG5ld2x5IGNyZWF0ZWQgb3B0aW9ucyBiZWZvcmUgdGhleSBhcmUgYXBwZW5kZWQgdG8gdGhlIHNlbGVjdC5cclxuICAgICAgLy8gU2luY2UgdGhlIGNvbnRlbnRzIGFyZSByZW1vdmVkIGZyb20gdGhlIGZyYWdtZW50IHdoZW4gaXQgaXMgYXBwZW5kZWQsXHJcbiAgICAgIC8vIHdlIG9ubHkgbmVlZCB0byBjcmVhdGUgaXQgb25jZS5cclxuICAgICAgdmFyIGxpc3RGcmFnbWVudCA9ICRkb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblxyXG4gICAgICB2YXIgcmVuZGVyRW1wdHlPcHRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXByb3ZpZGVkRW1wdHlPcHRpb24pIHtcclxuICAgICAgICAgIHNlbGVjdEVsZW1lbnQucHJlcGVuZChlbXB0eU9wdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGVjdEVsZW1lbnQudmFsKCcnKTtcclxuICAgICAgICBlbXB0eU9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpOyAvLyBuZWVkZWQgZm9yIElFXHJcbiAgICAgICAgZW1wdHlPcHRpb24uYXR0cignc2VsZWN0ZWQnLCB0cnVlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZhciByZW1vdmVFbXB0eU9wdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghcHJvdmlkZWRFbXB0eU9wdGlvbikge1xyXG4gICAgICAgICAgZW1wdHlPcHRpb24ucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbiAgICAgIHZhciByZW5kZXJVbmtub3duT3B0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZWN0RWxlbWVudC5wcmVwZW5kKHVua25vd25PcHRpb24pO1xyXG4gICAgICAgIHNlbGVjdEVsZW1lbnQudmFsKCc/Jyk7XHJcbiAgICAgICAgdW5rbm93bk9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpOyAvLyBuZWVkZWQgZm9yIElFXHJcbiAgICAgICAgdW5rbm93bk9wdGlvbi5hdHRyKCdzZWxlY3RlZCcsIHRydWUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIHJlbW92ZVVua25vd25PcHRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB1bmtub3duT3B0aW9uLnJlbW92ZSgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gVXBkYXRlIHRoZSBjb250cm9sbGVyIG1ldGhvZHMgZm9yIG11bHRpcGxlIHNlbGVjdGFibGUgb3B0aW9uc1xyXG4gICAgICBpZiAoIW11bHRpcGxlKSB7XHJcblxyXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTmdPcHRpb25zVmFsdWUodmFsdWUpIHtcclxuICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLmdldE9wdGlvbkZyb21WaWV3VmFsdWUodmFsdWUpO1xyXG5cclxuICAgICAgICAgIGlmIChvcHRpb24pIHtcclxuICAgICAgICAgICAgLy8gRG9uJ3QgdXBkYXRlIHRoZSBvcHRpb24gd2hlbiBpdCBpcyBhbHJlYWR5IHNlbGVjdGVkLlxyXG4gICAgICAgICAgICAvLyBGb3IgZXhhbXBsZSwgdGhlIGJyb3dzZXIgd2lsbCBzZWxlY3QgdGhlIGZpcnN0IG9wdGlvbiBieSBkZWZhdWx0LiBJbiB0aGF0IGNhc2UsXHJcbiAgICAgICAgICAgIC8vIG1vc3QgcHJvcGVydGllcyBhcmUgc2V0IGF1dG9tYXRpY2FsbHkgLSBleGNlcHQgdGhlIGBzZWxlY3RlZGAgYXR0cmlidXRlLCB3aGljaCB3ZVxyXG4gICAgICAgICAgICAvLyBzZXQgYWx3YXlzXHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0RWxlbWVudFswXS52YWx1ZSAhPT0gb3B0aW9uLnNlbGVjdFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgcmVtb3ZlVW5rbm93bk9wdGlvbigpO1xyXG4gICAgICAgICAgICAgIHJlbW92ZUVtcHR5T3B0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnRbMF0udmFsdWUgPSBvcHRpb24uc2VsZWN0VmFsdWU7XHJcbiAgICAgICAgICAgICAgb3B0aW9uLmVsZW1lbnQuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvcHRpb24uZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgcHJvdmlkZWRFbXB0eU9wdGlvbikge1xyXG4gICAgICAgICAgICAgIHJlbW92ZVVua25vd25PcHRpb24oKTtcclxuICAgICAgICAgICAgICByZW5kZXJFbXB0eU9wdGlvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlbW92ZUVtcHR5T3B0aW9uKCk7XHJcbiAgICAgICAgICAgICAgcmVuZGVyVW5rbm93bk9wdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZWN0Q3RybC5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkTmdPcHRpb25zVmFsdWUoKSB7XHJcblxyXG4gICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9ucy5zZWxlY3RWYWx1ZU1hcFtzZWxlY3RFbGVtZW50LnZhbCgpXTtcclxuXHJcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24gJiYgIXNlbGVjdGVkT3B0aW9uLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUVtcHR5T3B0aW9uKCk7XHJcbiAgICAgICAgICAgIHJlbW92ZVVua25vd25PcHRpb24oKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihzZWxlY3RlZE9wdGlvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgYHRyYWNrIGJ5YCB0aGVuIHdlIG11c3Qgd2F0Y2ggdGhlIHRyYWNrZWQgdmFsdWUgb24gdGhlIG1vZGVsXHJcbiAgICAgICAgLy8gc2luY2UgbmdNb2RlbCBvbmx5IHdhdGNoZXMgZm9yIG9iamVjdCBpZGVudGl0eSBjaGFuZ2VcclxuICAgICAgICBpZiAobmdPcHRpb25zLnRyYWNrQnkpIHtcclxuICAgICAgICAgIHNjb3BlLiR3YXRjaChcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBuZ09wdGlvbnMuZ2V0VHJhY2tCeVZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpOyB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHsgbmdNb2RlbEN0cmwuJHJlbmRlcigpOyB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIG5nTW9kZWxDdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiAhdmFsdWUgfHwgdmFsdWUubGVuZ3RoID09PSAwO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZU5nT3B0aW9uc011bHRpcGxlKHZhbHVlKSB7XHJcbiAgICAgICAgICBvcHRpb25zLml0ZW1zLmZvckVhY2goZnVuY3Rpb24ob3B0aW9uKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnMuZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZShpdGVtKTtcclxuICAgICAgICAgICAgICBpZiAob3B0aW9uKSBvcHRpb24uZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWROZ09wdGlvbnNNdWx0aXBsZSgpIHtcclxuICAgICAgICAgIHZhciBzZWxlY3RlZFZhbHVlcyA9IHNlbGVjdEVsZW1lbnQudmFsKCkgfHwgW10sXHJcbiAgICAgICAgICAgICAgc2VsZWN0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICAgIGZvckVhY2goc2VsZWN0ZWRWYWx1ZXMsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLnNlbGVjdFZhbHVlTWFwW3ZhbHVlXTtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbiAmJiAhb3B0aW9uLmRpc2FibGVkKSBzZWxlY3Rpb25zLnB1c2gob3B0aW9ucy5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uKG9wdGlvbikpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHNlbGVjdGlvbnM7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIGB0cmFjayBieWAgdGhlbiB3ZSBtdXN0IHdhdGNoIHRoZXNlIHRyYWNrZWQgdmFsdWVzIG9uIHRoZSBtb2RlbFxyXG4gICAgICAgIC8vIHNpbmNlIG5nTW9kZWwgb25seSB3YXRjaGVzIGZvciBvYmplY3QgaWRlbnRpdHkgY2hhbmdlXHJcbiAgICAgICAgaWYgKG5nT3B0aW9ucy50cmFja0J5KSB7XHJcblxyXG4gICAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZS5tYXAoZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZ09wdGlvbnMuZ2V0VHJhY2tCeVZhbHVlKHZhbHVlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICBpZiAocHJvdmlkZWRFbXB0eU9wdGlvbikge1xyXG5cclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBiZWZvcmUgY2FsbGluZyBzZWxlY3RFbGVtZW50LmVtcHR5KCkgYmVjYXVzZSBvdGhlcndpc2UgSUUgd2lsbFxyXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgbGFiZWwgZnJvbSB0aGUgZWxlbWVudC4gd3RmP1xyXG4gICAgICAgIGVtcHR5T3B0aW9uLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAvLyBjb21waWxlIHRoZSBlbGVtZW50IHNpbmNlIHRoZXJlIG1pZ2h0IGJlIGJpbmRpbmdzIGluIGl0XHJcbiAgICAgICAgJGNvbXBpbGUoZW1wdHlPcHRpb24pKHNjb3BlKTtcclxuXHJcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBjbGFzcywgd2hpY2ggaXMgYWRkZWQgYXV0b21hdGljYWxseSBiZWNhdXNlIHdlIHJlY29tcGlsZSB0aGUgZWxlbWVudCBhbmQgaXRcclxuICAgICAgICAvLyBiZWNvbWVzIHRoZSBjb21waWxhdGlvbiByb290XHJcbiAgICAgICAgZW1wdHlPcHRpb24ucmVtb3ZlQ2xhc3MoJ25nLXNjb3BlJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZW1wdHlPcHRpb24gPSBqcUxpdGUob3B0aW9uVGVtcGxhdGUuY2xvbmVOb2RlKGZhbHNlKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdEVsZW1lbnQuZW1wdHkoKTtcclxuXHJcbiAgICAgIC8vIFdlIG5lZWQgdG8gZG8gdGhpcyBoZXJlIHRvIGVuc3VyZSB0aGF0IHRoZSBvcHRpb25zIG9iamVjdCBpcyBkZWZpbmVkXHJcbiAgICAgIC8vIHdoZW4gd2UgZmlyc3QgaGl0IGl0IGluIHdyaXRlTmdPcHRpb25zVmFsdWVcclxuICAgICAgdXBkYXRlT3B0aW9ucygpO1xyXG5cclxuICAgICAgLy8gV2Ugd2lsbCByZS1yZW5kZXIgdGhlIG9wdGlvbiBlbGVtZW50cyBpZiB0aGUgb3B0aW9uIHZhbHVlcyBvciBsYWJlbHMgY2hhbmdlXHJcbiAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24obmdPcHRpb25zLmdldFdhdGNoYWJsZXMsIHVwZGF0ZU9wdGlvbnMpO1xyXG5cclxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG4gICAgICBmdW5jdGlvbiBhZGRPcHRpb25FbGVtZW50KG9wdGlvbiwgcGFyZW50KSB7XHJcbiAgICAgICAgdmFyIG9wdGlvbkVsZW1lbnQgPSBvcHRpb25UZW1wbGF0ZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChvcHRpb25FbGVtZW50KTtcclxuICAgICAgICB1cGRhdGVPcHRpb25FbGVtZW50KG9wdGlvbiwgb3B0aW9uRWxlbWVudCk7XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25FbGVtZW50KG9wdGlvbiwgZWxlbWVudCkge1xyXG4gICAgICAgIG9wdGlvbi5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICBlbGVtZW50LmRpc2FibGVkID0gb3B0aW9uLmRpc2FibGVkO1xyXG4gICAgICAgIC8vIE5PVEU6IFRoZSBsYWJlbCBtdXN0IGJlIHNldCBiZWZvcmUgdGhlIHZhbHVlLCBvdGhlcndpc2UgSUUxMC8xMS9FREdFIGNyZWF0ZSB1bnJlc3BvbnNpdmVcclxuICAgICAgICAvLyBzZWxlY3RzIGluIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcyB3aGVuIG11bHRpcGxlIHNlbGVjdHMgYXJlIG5leHQgdG8gZWFjaCBvdGhlciBhbmQgZGlzcGxheVxyXG4gICAgICAgIC8vIHRoZSBvcHRpb24gbGlzdCBpbiBsaXN0Ym94IHN0eWxlLCBpLmUuIHRoZSBzZWxlY3QgaXMgW211bHRpcGxlXSwgb3Igc3BlY2lmaWVzIGEgW3NpemVdLlxyXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMTMxNCBmb3IgbW9yZSBpbmZvLlxyXG4gICAgICAgIC8vIFRoaXMgaXMgdW5mb3J0dW5hdGVseSB1bnRlc3RhYmxlIHdpdGggdW5pdCAvIGUyZSB0ZXN0c1xyXG4gICAgICAgIGlmIChvcHRpb24ubGFiZWwgIT09IGVsZW1lbnQubGFiZWwpIHtcclxuICAgICAgICAgIGVsZW1lbnQubGFiZWwgPSBvcHRpb24ubGFiZWw7XHJcbiAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gb3B0aW9uLmxhYmVsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9uLnZhbHVlICE9PSBlbGVtZW50LnZhbHVlKSBlbGVtZW50LnZhbHVlID0gb3B0aW9uLnNlbGVjdFZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKCkge1xyXG4gICAgICAgIHZhciBwcmV2aW91c1ZhbHVlID0gb3B0aW9ucyAmJiBzZWxlY3RDdHJsLnJlYWRWYWx1ZSgpO1xyXG5cclxuICAgICAgICAvLyBXZSBtdXN0IHJlbW92ZSBhbGwgY3VycmVudCBvcHRpb25zLCBidXQgY2Fubm90IHNpbXBseSBzZXQgaW5uZXJIVE1MID0gbnVsbFxyXG4gICAgICAgIC8vIHNpbmNlIHRoZSBwcm92aWRlZEVtcHR5T3B0aW9uIG1pZ2h0IGhhdmUgYW4gbmdJZiBvbiBpdCB0aGF0IGluc2VydHMgY29tbWVudHMgd2hpY2ggd2VcclxuICAgICAgICAvLyBtdXN0IHByZXNlcnZlLlxyXG4gICAgICAgIC8vIEluc3RlYWQsIGl0ZXJhdGUgb3ZlciB0aGUgY3VycmVudCBvcHRpb24gZWxlbWVudHMgYW5kIHJlbW92ZSB0aGVtIG9yIHRoZWlyIG9wdGdyb3VwXHJcbiAgICAgICAgLy8gcGFyZW50c1xyXG4gICAgICAgIGlmIChvcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IG9wdGlvbnMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnMuaXRlbXNbaV07XHJcbiAgICAgICAgICAgIGlmIChvcHRpb24uZ3JvdXApIHtcclxuICAgICAgICAgICAgICBqcUxpdGVSZW1vdmUob3B0aW9uLmVsZW1lbnQucGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAganFMaXRlUmVtb3ZlKG9wdGlvbi5lbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IG5nT3B0aW9ucy5nZXRPcHRpb25zKCk7XHJcblxyXG4gICAgICAgIHZhciBncm91cEVsZW1lbnRNYXAgPSB7fTtcclxuXHJcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGVtcHR5IG9wdGlvbiBpcyBhbHdheXMgdGhlcmUgaWYgaXQgd2FzIGV4cGxpY2l0bHkgcHJvdmlkZWRcclxuICAgICAgICBpZiAocHJvdmlkZWRFbXB0eU9wdGlvbikge1xyXG4gICAgICAgICAgc2VsZWN0RWxlbWVudC5wcmVwZW5kKGVtcHR5T3B0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9wdGlvbnMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiBhZGRPcHRpb24ob3B0aW9uKSB7XHJcbiAgICAgICAgICB2YXIgZ3JvdXBFbGVtZW50O1xyXG5cclxuICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9uLmdyb3VwKSkge1xyXG5cclxuICAgICAgICAgICAgLy8gVGhpcyBvcHRpb24gaXMgdG8gbGl2ZSBpbiBhIGdyb3VwXHJcbiAgICAgICAgICAgIC8vIFNlZSBpZiB3ZSBoYXZlIGFscmVhZHkgY3JlYXRlZCB0aGlzIGdyb3VwXHJcbiAgICAgICAgICAgIGdyb3VwRWxlbWVudCA9IGdyb3VwRWxlbWVudE1hcFtvcHRpb24uZ3JvdXBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFncm91cEVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50ID0gb3B0R3JvdXBUZW1wbGF0ZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgIGxpc3RGcmFnbWVudC5hcHBlbmRDaGlsZChncm91cEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGxhYmVsIG9uIHRoZSBncm91cCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50LmxhYmVsID0gb3B0aW9uLmdyb3VwO1xyXG5cclxuICAgICAgICAgICAgICAvLyBTdG9yZSBpdCBmb3IgdXNlIGxhdGVyXHJcbiAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50TWFwW29wdGlvbi5ncm91cF0gPSBncm91cEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGFkZE9wdGlvbkVsZW1lbnQob3B0aW9uLCBncm91cEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBpcyBub3QgaW4gYSBncm91cFxyXG4gICAgICAgICAgICBhZGRPcHRpb25FbGVtZW50KG9wdGlvbiwgbGlzdEZyYWdtZW50KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2VsZWN0RWxlbWVudFswXS5hcHBlbmRDaGlsZChsaXN0RnJhZ21lbnQpO1xyXG5cclxuICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQgZHVlIHRvIHRoZSB1cGRhdGUgdG8gdGhlIG9wdGlvbnNcclxuICAgICAgICBpZiAoIW5nTW9kZWxDdHJsLiRpc0VtcHR5KHByZXZpb3VzVmFsdWUpKSB7XHJcbiAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gc2VsZWN0Q3RybC5yZWFkVmFsdWUoKTtcclxuICAgICAgICAgIHZhciBpc05vdFByaW1pdGl2ZSA9IG5nT3B0aW9ucy50cmFja0J5IHx8IG11bHRpcGxlO1xyXG4gICAgICAgICAgaWYgKGlzTm90UHJpbWl0aXZlID8gIWVxdWFscyhwcmV2aW91c1ZhbHVlLCBuZXh0VmFsdWUpIDogcHJldmlvdXNWYWx1ZSAhPT0gbmV4dFZhbHVlKSB7XHJcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgdGVybWluYWw6IHRydWUsXHJcbiAgICByZXF1aXJlOiBbJ3NlbGVjdCcsICduZ01vZGVsJ10sXHJcbiAgICBsaW5rOiB7XHJcbiAgICAgIHByZTogZnVuY3Rpb24gbmdPcHRpb25zUHJlTGluayhzY29wZSwgc2VsZWN0RWxlbWVudCwgYXR0ciwgY3RybHMpIHtcclxuICAgICAgICAvLyBEZWFjdGl2YXRlIHRoZSBTZWxlY3RDb250cm9sbGVyLnJlZ2lzdGVyIG1ldGhvZCB0byBwcmV2ZW50XHJcbiAgICAgICAgLy8gb3B0aW9uIGRpcmVjdGl2ZXMgZnJvbSBhY2NpZGVudGFsbHkgcmVnaXN0ZXJpbmcgdGhlbXNlbHZlc1xyXG4gICAgICAgIC8vIChhbmQgdW53YW50ZWQgJGRlc3Ryb3kgaGFuZGxlcnMgZXRjLilcclxuICAgICAgICBjdHJsc1swXS5yZWdpc3Rlck9wdGlvbiA9IG5vb3A7XHJcbiAgICAgIH0sXHJcbiAgICAgIHBvc3Q6IG5nT3B0aW9uc1Bvc3RMaW5rXHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1BsdXJhbGl6ZVxyXG4gKiBAcmVzdHJpY3QgRUFcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIGBuZ1BsdXJhbGl6ZWAgaXMgYSBkaXJlY3RpdmUgdGhhdCBkaXNwbGF5cyBtZXNzYWdlcyBhY2NvcmRpbmcgdG8gZW4tVVMgbG9jYWxpemF0aW9uIHJ1bGVzLlxyXG4gKiBUaGVzZSBydWxlcyBhcmUgYnVuZGxlZCB3aXRoIGFuZ3VsYXIuanMsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlblxyXG4gKiAoc2VlIHtAbGluayBndWlkZS9pMThuIEFuZ3VsYXIgaTE4bn0gZGV2IGd1aWRlKS4gWW91IGNvbmZpZ3VyZSBuZ1BsdXJhbGl6ZSBkaXJlY3RpdmVcclxuICogYnkgc3BlY2lmeWluZyB0aGUgbWFwcGluZ3MgYmV0d2VlblxyXG4gKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcclxuICogYW5kIHRoZSBzdHJpbmdzIHRvIGJlIGRpc3BsYXllZC5cclxuICpcclxuICogIyBQbHVyYWwgY2F0ZWdvcmllcyBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzXHJcbiAqIFRoZXJlIGFyZSB0d29cclxuICogW3BsdXJhbCBjYXRlZ29yaWVzXShodHRwOi8vdW5pY29kZS5vcmcvcmVwb3MvY2xkci10bXAvdHJ1bmsvZGlmZi9zdXBwbGVtZW50YWwvbGFuZ3VhZ2VfcGx1cmFsX3J1bGVzLmh0bWwpXHJcbiAqIGluIEFuZ3VsYXIncyBkZWZhdWx0IGVuLVVTIGxvY2FsZTogXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxyXG4gKlxyXG4gKiBXaGlsZSBhIHBsdXJhbCBjYXRlZ29yeSBtYXkgbWF0Y2ggbWFueSBudW1iZXJzIChmb3IgZXhhbXBsZSwgaW4gZW4tVVMgbG9jYWxlLCBcIm90aGVyXCIgY2FuIG1hdGNoXHJcbiAqIGFueSBudW1iZXIgdGhhdCBpcyBub3QgMSksIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGNhbiBvbmx5IG1hdGNoIG9uZSBudW1iZXIuIEZvciBleGFtcGxlLCB0aGVcclxuICogZXhwbGljaXQgbnVtYmVyIHJ1bGUgZm9yIFwiM1wiIG1hdGNoZXMgdGhlIG51bWJlciAzLiBUaGVyZSBhcmUgZXhhbXBsZXMgb2YgcGx1cmFsIGNhdGVnb3JpZXNcclxuICogYW5kIGV4cGxpY2l0IG51bWJlciBydWxlcyB0aHJvdWdob3V0IHRoZSByZXN0IG9mIHRoaXMgZG9jdW1lbnRhdGlvbi5cclxuICpcclxuICogIyBDb25maWd1cmluZyBuZ1BsdXJhbGl6ZVxyXG4gKiBZb3UgY29uZmlndXJlIG5nUGx1cmFsaXplIGJ5IHByb3ZpZGluZyAyIGF0dHJpYnV0ZXM6IGBjb3VudGAgYW5kIGB3aGVuYC5cclxuICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYXR0cmlidXRlLCBgb2Zmc2V0YC5cclxuICpcclxuICogVGhlIHZhbHVlIG9mIHRoZSBgY291bnRgIGF0dHJpYnV0ZSBjYW4gYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIHtAbGluayBndWlkZS9leHByZXNzaW9uXHJcbiAqIEFuZ3VsYXIgZXhwcmVzc2lvbn07IHRoZXNlIGFyZSBldmFsdWF0ZWQgb24gdGhlIGN1cnJlbnQgc2NvcGUgZm9yIGl0cyBib3VuZCB2YWx1ZS5cclxuICpcclxuICogVGhlIGB3aGVuYCBhdHRyaWJ1dGUgc3BlY2lmaWVzIHRoZSBtYXBwaW5ncyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yaWVzIGFuZCB0aGUgYWN0dWFsXHJcbiAqIHN0cmluZyB0byBiZSBkaXNwbGF5ZWQuIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHNob3VsZCBiZSBhIEpTT04gb2JqZWN0LlxyXG4gKlxyXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGNvbmZpZ3VyZSBuZ1BsdXJhbGl6ZTpcclxuICpcclxuICogYGBgaHRtbFxyXG4gKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIlxyXG4gICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcclxuICogICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICcxIHBlcnNvbiBpcyB2aWV3aW5nLicsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7fSBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cclxuICogPC9uZy1wbHVyYWxpemU+XHJcbiAqYGBgXHJcbiAqXHJcbiAqIEluIHRoZSBleGFtcGxlLCBgXCIwOiBOb2JvZHkgaXMgdmlld2luZy5cImAgaXMgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUuIElmIHlvdSBkaWQgbm90XHJcbiAqIHNwZWNpZnkgdGhpcyBydWxlLCAwIHdvdWxkIGJlIG1hdGNoZWQgdG8gdGhlIFwib3RoZXJcIiBjYXRlZ29yeSBhbmQgXCIwIHBlb3BsZSBhcmUgdmlld2luZ1wiXHJcbiAqIHdvdWxkIGJlIHNob3duIGluc3RlYWQgb2YgXCJOb2JvZHkgaXMgdmlld2luZ1wiLiBZb3UgY2FuIHNwZWNpZnkgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUgZm9yXHJcbiAqIG90aGVyIG51bWJlcnMsIGZvciBleGFtcGxlIDEyLCBzbyB0aGF0IGluc3RlYWQgb2Ygc2hvd2luZyBcIjEyIHBlb3BsZSBhcmUgdmlld2luZ1wiLCB5b3UgY2FuXHJcbiAqIHNob3cgXCJhIGRvemVuIHBlb3BsZSBhcmUgdmlld2luZ1wiLlxyXG4gKlxyXG4gKiBZb3UgY2FuIHVzZSBhIHNldCBvZiBjbG9zZWQgYnJhY2VzIChge31gKSBhcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgbnVtYmVyIHRoYXQgeW91IHdhbnQgc3Vic3RpdHV0ZWRcclxuICogaW50byBwbHVyYWxpemVkIHN0cmluZ3MuIEluIHRoZSBwcmV2aW91cyBleGFtcGxlLCBBbmd1bGFyIHdpbGwgcmVwbGFjZSBge31gIHdpdGhcclxuICogPHNwYW4gbmctbm9uLWJpbmRhYmxlPmB7e3BlcnNvbkNvdW50fX1gPC9zcGFuPi4gVGhlIGNsb3NlZCBicmFjZXMgYHt9YCBpcyBhIHBsYWNlaG9sZGVyXHJcbiAqIGZvciA8c3BhbiBuZy1ub24tYmluZGFibGU+e3tudW1iZXJFeHByZXNzaW9ufX08L3NwYW4+LlxyXG4gKlxyXG4gKiBJZiBubyBydWxlIGlzIGRlZmluZWQgZm9yIGEgY2F0ZWdvcnksIHRoZW4gYW4gZW1wdHkgc3RyaW5nIGlzIGRpc3BsYXllZCBhbmQgYSB3YXJuaW5nIGlzIGdlbmVyYXRlZC5cclxuICogTm90ZSB0aGF0IHNvbWUgbG9jYWxlcyBkZWZpbmUgbW9yZSBjYXRlZ29yaWVzIHRoYW4gYG9uZWAgYW5kIGBvdGhlcmAuIEZvciBleGFtcGxlLCBmci1mciBkZWZpbmVzIGBmZXdgIGFuZCBgbWFueWAuXHJcbiAqXHJcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemUgd2l0aCBvZmZzZXRcclxuICogVGhlIGBvZmZzZXRgIGF0dHJpYnV0ZSBhbGxvd3MgZnVydGhlciBjdXN0b21pemF0aW9uIG9mIHBsdXJhbGl6ZWQgdGV4dCwgd2hpY2ggY2FuIHJlc3VsdCBpblxyXG4gKiBhIGJldHRlciB1c2VyIGV4cGVyaWVuY2UuIEZvciBleGFtcGxlLCBpbnN0ZWFkIG9mIHRoZSBtZXNzYWdlIFwiNCBwZW9wbGUgYXJlIHZpZXdpbmcgdGhpcyBkb2N1bWVudFwiLFxyXG4gKiB5b3UgbWlnaHQgZGlzcGxheSBcIkpvaG4sIEthdGUgYW5kIDIgb3RoZXJzIGFyZSB2aWV3aW5nIHRoaXMgZG9jdW1lbnRcIi5cclxuICogVGhlIG9mZnNldCBhdHRyaWJ1dGUgYWxsb3dzIHlvdSB0byBvZmZzZXQgYSBudW1iZXIgYnkgYW55IGRlc2lyZWQgdmFsdWUuXHJcbiAqIExldCdzIHRha2UgYSBsb29rIGF0IGFuIGV4YW1wbGU6XHJcbiAqXHJcbiAqIGBgYGh0bWxcclxuICogPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCIgb2Zmc2V0PTJcclxuICogICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICcxJzogJ3t7cGVyc29uMX19IGlzIHZpZXdpbmcuJyxcclxuICogICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nLicsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIHt9IG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxyXG4gKiA8L25nLXBsdXJhbGl6ZT5cclxuICogYGBgXHJcbiAqXHJcbiAqIE5vdGljZSB0aGF0IHdlIGFyZSBzdGlsbCB1c2luZyB0d28gcGx1cmFsIGNhdGVnb3JpZXMob25lLCBvdGhlciksIGJ1dCB3ZSBhZGRlZFxyXG4gKiB0aHJlZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgMCwgMSBhbmQgMi5cclxuICogV2hlbiBvbmUgcGVyc29uLCBwZXJoYXBzIEpvaG4sIHZpZXdzIHRoZSBkb2N1bWVudCwgXCJKb2huIGlzIHZpZXdpbmdcIiB3aWxsIGJlIHNob3duLlxyXG4gKiBXaGVuIHRocmVlIHBlb3BsZSB2aWV3IHRoZSBkb2N1bWVudCwgbm8gZXhwbGljaXQgbnVtYmVyIHJ1bGUgaXMgZm91bmQsIHNvXHJcbiAqIGFuIG9mZnNldCBvZiAyIGlzIHRha2VuIG9mZiAzLCBhbmQgQW5ndWxhciB1c2VzIDEgdG8gZGVjaWRlIHRoZSBwbHVyYWwgY2F0ZWdvcnkuXHJcbiAqIEluIHRoaXMgY2FzZSwgcGx1cmFsIGNhdGVnb3J5ICdvbmUnIGlzIG1hdGNoZWQgYW5kIFwiSm9obiwgTWFyeSBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZ1wiXHJcbiAqIGlzIHNob3duLlxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgd2hlbiB5b3Ugc3BlY2lmeSBvZmZzZXRzLCB5b3UgbXVzdCBwcm92aWRlIGV4cGxpY2l0IG51bWJlciBydWxlcyBmb3JcclxuICogbnVtYmVycyBmcm9tIDAgdXAgdG8gYW5kIGluY2x1ZGluZyB0aGUgb2Zmc2V0LiBJZiB5b3UgdXNlIGFuIG9mZnNldCBvZiAzLCBmb3IgZXhhbXBsZSxcclxuICogeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yIDAsIDEsIDIgYW5kIDMuIFlvdSBtdXN0IGFsc28gcHJvdmlkZSBwbHVyYWwgc3RyaW5ncyBmb3JcclxuICogcGx1cmFsIGNhdGVnb3JpZXMgXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ3xleHByZXNzaW9ufSBjb3VudCBUaGUgdmFyaWFibGUgdG8gYmUgYm91bmQgdG8uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB3aGVuIFRoZSBtYXBwaW5nIGJldHdlZW4gcGx1cmFsIGNhdGVnb3J5IHRvIGl0cyBjb3JyZXNwb25kaW5nIHN0cmluZ3MuXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb2Zmc2V0IE9mZnNldCB0byBkZWR1Y3QgZnJvbSB0aGUgdG90YWwgbnVtYmVyLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbW9kdWxlPVwicGx1cmFsaXplRXhhbXBsZVwiPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncGx1cmFsaXplRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5wZXJzb24xID0gJ0lnb3InO1xyXG4gICAgICAgICAgICAgICRzY29wZS5wZXJzb24yID0gJ01pc2tvJztcclxuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uQ291bnQgPSAxO1xyXG4gICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgIDxsYWJlbD5QZXJzb24gMTo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbjFcIiB2YWx1ZT1cIklnb3JcIiAvPjwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgIDxsYWJlbD5QZXJzb24gMjo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbjJcIiB2YWx1ZT1cIk1pc2tvXCIgLz48L2xhYmVsPjxici8+XHJcbiAgICAgICAgICA8bGFiZWw+TnVtYmVyIG9mIFBlb3BsZTo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbkNvdW50XCIgdmFsdWU9XCIxXCIgLz48L2xhYmVsPjxici8+XHJcblxyXG4gICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIHNpbXBsZSBwbHVyYWxpemF0aW9uIHJ1bGVzIGZvciBlbiBsb2NhbGUgLS0tPlxyXG4gICAgICAgICAgV2l0aG91dCBPZmZzZXQ6XHJcbiAgICAgICAgICA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7fSBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cclxuICAgICAgICAgIDwvbmctcGx1cmFsaXplPjxicj5cclxuXHJcbiAgICAgICAgICA8IS0tLSBFeGFtcGxlIHdpdGggb2Zmc2V0IC0tLT5cclxuICAgICAgICAgIFdpdGggT2Zmc2V0KDIpOlxyXG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCIgb2Zmc2V0PTJcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbj1cInsnMCc6ICdOb2JvZHkgaXMgdmlld2luZy4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzEnOiAne3twZXJzb24xfX0gaXMgdmlld2luZy4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJ3t7cGVyc29uMX19LCB7e3BlcnNvbjJ9fSBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ290aGVyJzogJ3t7cGVyc29uMX19LCB7e3BlcnNvbjJ9fSBhbmQge30gb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XHJcbiAgICAgICAgICA8L25nLXBsdXJhbGl6ZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBzaG93IGNvcnJlY3QgcGx1cmFsaXplZCBzdHJpbmcnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciB3aXRob3V0T2Zmc2V0ID0gZWxlbWVudC5hbGwoYnkuY3NzKCduZy1wbHVyYWxpemUnKSkuZ2V0KDApO1xyXG4gICAgICAgICAgdmFyIHdpdGhPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMSk7XHJcbiAgICAgICAgICB2YXIgY291bnRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbkNvdW50JykpO1xyXG5cclxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMSBwZXJzb24gaXMgdmlld2luZy4nKTtcclxuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciBpcyB2aWV3aW5nLicpO1xyXG5cclxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzAnKTtcclxuXHJcbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ05vYm9keSBpcyB2aWV3aW5nLicpO1xyXG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdOb2JvZHkgaXMgdmlld2luZy4nKTtcclxuXHJcbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcyJyk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCcyIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcclxuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciBhbmQgTWlza28gYXJlIHZpZXdpbmcuJyk7XHJcblxyXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMycpO1xyXG5cclxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMyBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XHJcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IsIE1pc2tvIGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nLicpO1xyXG5cclxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzQnKTtcclxuXHJcbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzQgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xyXG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgMiBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBzaG93IGRhdGEtYm91bmQgbmFtZXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciB3aXRoT2Zmc2V0ID0gZWxlbWVudC5hbGwoYnkuY3NzKCduZy1wbHVyYWxpemUnKSkuZ2V0KDEpO1xyXG4gICAgICAgICAgdmFyIHBlcnNvbkNvdW50ID0gZWxlbWVudChieS5tb2RlbCgncGVyc29uQ291bnQnKSk7XHJcbiAgICAgICAgICB2YXIgcGVyc29uMSA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbjEnKSk7XHJcbiAgICAgICAgICB2YXIgcGVyc29uMiA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbjInKSk7XHJcbiAgICAgICAgICBwZXJzb25Db3VudC5jbGVhcigpO1xyXG4gICAgICAgICAgcGVyc29uQ291bnQuc2VuZEtleXMoJzQnKTtcclxuICAgICAgICAgIHBlcnNvbjEuY2xlYXIoKTtcclxuICAgICAgICAgIHBlcnNvbjEuc2VuZEtleXMoJ0RpJyk7XHJcbiAgICAgICAgICBwZXJzb24yLmNsZWFyKCk7XHJcbiAgICAgICAgICBwZXJzb24yLnNlbmRLZXlzKCdWb2p0YScpO1xyXG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdEaSwgVm9qdGEgYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdQbHVyYWxpemVEaXJlY3RpdmUgPSBbJyRsb2NhbGUnLCAnJGludGVycG9sYXRlJywgJyRsb2cnLCBmdW5jdGlvbigkbG9jYWxlLCAkaW50ZXJwb2xhdGUsICRsb2cpIHtcclxuICB2YXIgQlJBQ0UgPSAve30vZyxcclxuICAgICAgSVNfV0hFTiA9IC9ed2hlbihNaW51cyk/KC4rKSQvO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgdmFyIG51bWJlckV4cCA9IGF0dHIuY291bnQsXHJcbiAgICAgICAgICB3aGVuRXhwID0gYXR0ci4kYXR0ci53aGVuICYmIGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLndoZW4pLCAvLyB3ZSBoYXZlIHt7fX0gaW4gYXR0cnNcclxuICAgICAgICAgIG9mZnNldCA9IGF0dHIub2Zmc2V0IHx8IDAsXHJcbiAgICAgICAgICB3aGVucyA9IHNjb3BlLiRldmFsKHdoZW5FeHApIHx8IHt9LFxyXG4gICAgICAgICAgd2hlbnNFeHBGbnMgPSB7fSxcclxuICAgICAgICAgIHN0YXJ0U3ltYm9sID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksXHJcbiAgICAgICAgICBlbmRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksXHJcbiAgICAgICAgICBicmFjZVJlcGxhY2VtZW50ID0gc3RhcnRTeW1ib2wgKyBudW1iZXJFeHAgKyAnLScgKyBvZmZzZXQgKyBlbmRTeW1ib2wsXHJcbiAgICAgICAgICB3YXRjaFJlbW92ZXIgPSBhbmd1bGFyLm5vb3AsXHJcbiAgICAgICAgICBsYXN0Q291bnQ7XHJcblxyXG4gICAgICBmb3JFYWNoKGF0dHIsIGZ1bmN0aW9uKGV4cHJlc3Npb24sIGF0dHJpYnV0ZU5hbWUpIHtcclxuICAgICAgICB2YXIgdG1wTWF0Y2ggPSBJU19XSEVOLmV4ZWMoYXR0cmlidXRlTmFtZSk7XHJcbiAgICAgICAgaWYgKHRtcE1hdGNoKSB7XHJcbiAgICAgICAgICB2YXIgd2hlbktleSA9ICh0bXBNYXRjaFsxXSA/ICctJyA6ICcnKSArIGxvd2VyY2FzZSh0bXBNYXRjaFsyXSk7XHJcbiAgICAgICAgICB3aGVuc1t3aGVuS2V5XSA9IGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyW2F0dHJpYnV0ZU5hbWVdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBmb3JFYWNoKHdoZW5zLCBmdW5jdGlvbihleHByZXNzaW9uLCBrZXkpIHtcclxuICAgICAgICB3aGVuc0V4cEZuc1trZXldID0gJGludGVycG9sYXRlKGV4cHJlc3Npb24ucmVwbGFjZShCUkFDRSwgYnJhY2VSZXBsYWNlbWVudCkpO1xyXG5cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzY29wZS4kd2F0Y2gobnVtYmVyRXhwLCBmdW5jdGlvbiBuZ1BsdXJhbGl6ZVdhdGNoQWN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgIHZhciBjb3VudCA9IHBhcnNlRmxvYXQobmV3VmFsKTtcclxuICAgICAgICB2YXIgY291bnRJc05hTiA9IGlzTmFOKGNvdW50KTtcclxuXHJcbiAgICAgICAgaWYgKCFjb3VudElzTmFOICYmICEoY291bnQgaW4gd2hlbnMpKSB7XHJcbiAgICAgICAgICAvLyBJZiBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBzdWNoIGFzIDEsIDIsIDMuLi4gaXMgZGVmaW5lZCwganVzdCB1c2UgaXQuXHJcbiAgICAgICAgICAvLyBPdGhlcndpc2UsIGNoZWNrIGl0IGFnYWluc3QgcGx1cmFsaXphdGlvbiBydWxlcyBpbiAkbG9jYWxlIHNlcnZpY2UuXHJcbiAgICAgICAgICBjb3VudCA9ICRsb2NhbGUucGx1cmFsQ2F0KGNvdW50IC0gb2Zmc2V0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGJvdGggYGNvdW50YCBhbmQgYGxhc3RDb3VudGAgYXJlIE5hTiwgd2UgZG9uJ3QgbmVlZCB0byByZS1yZWdpc3RlciBhIHdhdGNoLlxyXG4gICAgICAgIC8vIEluIEpTIGBOYU4gIT09IE5hTmAsIHNvIHdlIGhhdmUgdG8gZXhwbGljaXRseSBjaGVjay5cclxuICAgICAgICBpZiAoKGNvdW50ICE9PSBsYXN0Q291bnQpICYmICEoY291bnRJc05hTiAmJiBpc051bWJlcihsYXN0Q291bnQpICYmIGlzTmFOKGxhc3RDb3VudCkpKSB7XHJcbiAgICAgICAgICB3YXRjaFJlbW92ZXIoKTtcclxuICAgICAgICAgIHZhciB3aGVuRXhwRm4gPSB3aGVuc0V4cEZuc1tjb3VudF07XHJcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQod2hlbkV4cEZuKSkge1xyXG4gICAgICAgICAgICBpZiAobmV3VmFsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAkbG9nLmRlYnVnKFwibmdQbHVyYWxpemU6IG5vIHJ1bGUgZGVmaW5lZCBmb3IgJ1wiICsgY291bnQgKyBcIicgaW4gXCIgKyB3aGVuRXhwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3YXRjaFJlbW92ZXIgPSBub29wO1xyXG4gICAgICAgICAgICB1cGRhdGVFbGVtZW50VGV4dCgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2F0Y2hSZW1vdmVyID0gc2NvcGUuJHdhdGNoKHdoZW5FeHBGbiwgdXBkYXRlRWxlbWVudFRleHQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGFzdENvdW50ID0gY291bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnRUZXh0KG5ld1RleHQpIHtcclxuICAgICAgICBlbGVtZW50LnRleHQobmV3VGV4dCB8fCAnJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG59XTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nUmVwZWF0XHJcbiAqIEBtdWx0aUVsZW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdSZXBlYXRgIGRpcmVjdGl2ZSBpbnN0YW50aWF0ZXMgYSB0ZW1wbGF0ZSBvbmNlIHBlciBpdGVtIGZyb20gYSBjb2xsZWN0aW9uLiBFYWNoIHRlbXBsYXRlXHJcbiAqIGluc3RhbmNlIGdldHMgaXRzIG93biBzY29wZSwgd2hlcmUgdGhlIGdpdmVuIGxvb3AgdmFyaWFibGUgaXMgc2V0IHRvIHRoZSBjdXJyZW50IGNvbGxlY3Rpb24gaXRlbSxcclxuICogYW5kIGAkaW5kZXhgIGlzIHNldCB0byB0aGUgaXRlbSBpbmRleCBvciBrZXkuXHJcbiAqXHJcbiAqIFNwZWNpYWwgcHJvcGVydGllcyBhcmUgZXhwb3NlZCBvbiB0aGUgbG9jYWwgc2NvcGUgb2YgZWFjaCB0ZW1wbGF0ZSBpbnN0YW5jZSwgaW5jbHVkaW5nOlxyXG4gKlxyXG4gKiB8IFZhcmlhYmxlICB8IFR5cGUgICAgICAgICAgICB8IERldGFpbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcclxuICogfCBgJGluZGV4YCAgfCB7QHR5cGUgbnVtYmVyfSAgfCBpdGVyYXRvciBvZmZzZXQgb2YgdGhlIHJlcGVhdGVkIGVsZW1lbnQgKDAuLmxlbmd0aC0xKSAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8IGAkZmlyc3RgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIHJlcGVhdGVkIGVsZW1lbnQgaXMgZmlyc3QgaW4gdGhlIGl0ZXJhdG9yLiAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwgYCRtaWRkbGVgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCBpcyBiZXR3ZWVuIHRoZSBmaXJzdCBhbmQgbGFzdCBpbiB0aGUgaXRlcmF0b3IuIHxcclxuICogfCBgJGxhc3RgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGxhc3QgaW4gdGhlIGl0ZXJhdG9yLiAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8IGAkZXZlbmAgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIGl0ZXJhdG9yIHBvc2l0aW9uIGAkaW5kZXhgIGlzIGV2ZW4gKG90aGVyd2lzZSBmYWxzZSkuICAgICAgICAgICB8XHJcbiAqIHwgYCRvZGRgICAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgaXRlcmF0b3IgcG9zaXRpb24gYCRpbmRleGAgaXMgb2RkIChvdGhlcndpc2UgZmFsc2UpLiAgICAgICAgICAgIHxcclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICogICBDcmVhdGluZyBhbGlhc2VzIGZvciB0aGVzZSBwcm9wZXJ0aWVzIGlzIHBvc3NpYmxlIHdpdGgge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luaXQgYG5nSW5pdGB9LlxyXG4gKiAgIFRoaXMgbWF5IGJlIHVzZWZ1bCB3aGVuLCBmb3IgaW5zdGFuY2UsIG5lc3RpbmcgbmdSZXBlYXRzLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICpcclxuICogIyBJdGVyYXRpbmcgb3ZlciBvYmplY3QgcHJvcGVydGllc1xyXG4gKlxyXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBnZXQgYG5nUmVwZWF0YCB0byBpdGVyYXRlIG92ZXIgdGhlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IHVzaW5nIHRoZSBmb2xsb3dpbmdcclxuICogc3ludGF4OlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiA8ZGl2IG5nLXJlcGVhdD1cIihrZXksIHZhbHVlKSBpbiBteU9ialwiPiAuLi4gPC9kaXY+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBIb3dldmVyLCB0aGVyZSBhcmUgYSBsaW1pdGF0aW9ucyBjb21wYXJlZCB0byBhcnJheSBpdGVyYXRpb246XHJcbiAqXHJcbiAqIC0gVGhlIEphdmFTY3JpcHQgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCBkZWZpbmUgdGhlIG9yZGVyIG9mIGtleXNcclxuICogICByZXR1cm5lZCBmb3IgYW4gb2JqZWN0LCBzbyBBbmd1bGFyIHJlbGllcyBvbiB0aGUgb3JkZXIgcmV0dXJuZWQgYnkgdGhlIGJyb3dzZXJcclxuICogICB3aGVuIHJ1bm5pbmcgYGZvciBrZXkgaW4gbXlPYmpgLiBCcm93c2VycyBnZW5lcmFsbHkgZm9sbG93IHRoZSBzdHJhdGVneSBvZiBwcm92aWRpbmdcclxuICogICBrZXlzIGluIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IHdlcmUgZGVmaW5lZCwgYWx0aG91Z2ggdGhlcmUgYXJlIGV4Y2VwdGlvbnMgd2hlbiBrZXlzIGFyZSBkZWxldGVkXHJcbiAqICAgYW5kIHJlaW5zdGF0ZWQuIFNlZSB0aGVcclxuICogICBbTUROIHBhZ2Ugb24gYGRlbGV0ZWAgZm9yIG1vcmUgaW5mb10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2RlbGV0ZSNDcm9zcy1icm93c2VyX25vdGVzKS5cclxuICpcclxuICogLSBgbmdSZXBlYXRgIHdpbGwgc2lsZW50bHkgKmlnbm9yZSogb2JqZWN0IGtleXMgc3RhcnRpbmcgd2l0aCBgJGAsIGJlY2F1c2VcclxuICogICBpdCdzIGEgcHJlZml4IHVzZWQgYnkgQW5ndWxhciBmb3IgcHVibGljIChgJGApIGFuZCBwcml2YXRlIChgJCRgKSBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gKiAtIFRoZSBidWlsdC1pbiBmaWx0ZXJzIHtAbGluayBuZy5vcmRlckJ5IG9yZGVyQnl9IGFuZCB7QGxpbmsgbmcuZmlsdGVyIGZpbHRlcn0gZG8gbm90IHdvcmsgd2l0aFxyXG4gKiAgIG9iamVjdHMsIGFuZCB3aWxsIHRocm93IGlmIHVzZWQgd2l0aCBvbmUuXHJcbiAqXHJcbiAqIElmIHlvdSBhcmUgaGl0dGluZyBhbnkgb2YgdGhlc2UgbGltaXRhdGlvbnMsIHRoZSByZWNvbW1lbmRlZCB3b3JrYXJvdW5kIGlzIHRvIGNvbnZlcnQgeW91ciBvYmplY3QgaW50byBhbiBhcnJheVxyXG4gKiB0aGF0IGlzIHNvcnRlZCBpbnRvIHRoZSBvcmRlciB0aGF0IHlvdSBwcmVmZXIgYmVmb3JlIHByb3ZpZGluZyBpdCB0byBgbmdSZXBlYXRgLiBZb3UgY291bGRcclxuICogZG8gdGhpcyB3aXRoIGEgZmlsdGVyIHN1Y2ggYXMgW3RvQXJyYXlGaWx0ZXJdKGh0dHA6Ly9uZ21vZHVsZXMub3JnL21vZHVsZXMvYW5ndWxhci10b0FycmF5RmlsdGVyKVxyXG4gKiBvciBpbXBsZW1lbnQgYSBgJHdhdGNoYCBvbiB0aGUgb2JqZWN0IHlvdXJzZWxmLlxyXG4gKlxyXG4gKlxyXG4gKiAjIFRyYWNraW5nIGFuZCBEdXBsaWNhdGVzXHJcbiAqXHJcbiAqIGBuZ1JlcGVhdGAgdXNlcyB7QGxpbmsgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hDb2xsZWN0aW9uICR3YXRjaENvbGxlY3Rpb259IHRvIGRldGVjdCBjaGFuZ2VzIGluXHJcbiAqIHRoZSBjb2xsZWN0aW9uLiBXaGVuIGEgY2hhbmdlIGhhcHBlbnMsIG5nUmVwZWF0IHRoZW4gbWFrZXMgdGhlIGNvcnJlc3BvbmRpbmcgY2hhbmdlcyB0byB0aGUgRE9NOlxyXG4gKlxyXG4gKiAqIFdoZW4gYW4gaXRlbSBpcyBhZGRlZCwgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHRlbXBsYXRlIGlzIGFkZGVkIHRvIHRoZSBET00uXHJcbiAqICogV2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQsIGl0cyB0ZW1wbGF0ZSBpbnN0YW5jZSBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cclxuICogKiBXaGVuIGl0ZW1zIGFyZSByZW9yZGVyZWQsIHRoZWlyIHJlc3BlY3RpdmUgdGVtcGxhdGVzIGFyZSByZW9yZGVyZWQgaW4gdGhlIERPTS5cclxuICpcclxuICogVG8gbWluaW1pemUgY3JlYXRpb24gb2YgRE9NIGVsZW1lbnRzLCBgbmdSZXBlYXRgIHVzZXMgYSBmdW5jdGlvblxyXG4gKiB0byBcImtlZXAgdHJhY2tcIiBvZiBhbGwgaXRlbXMgaW4gdGhlIGNvbGxlY3Rpb24gYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgRE9NIGVsZW1lbnRzLlxyXG4gKiBGb3IgZXhhbXBsZSwgaWYgYW4gaXRlbSBpcyBhZGRlZCB0byB0aGUgY29sbGVjdGlvbiwgbmdSZXBlYXQgd2lsbCBrbm93IHRoYXQgYWxsIG90aGVyIGl0ZW1zXHJcbiAqIGFscmVhZHkgaGF2ZSBET00gZWxlbWVudHMsIGFuZCB3aWxsIG5vdCByZS1yZW5kZXIgdGhlbS5cclxuICpcclxuICogVGhlIGRlZmF1bHQgdHJhY2tpbmcgZnVuY3Rpb24gKHdoaWNoIHRyYWNrcyBpdGVtcyBieSB0aGVpciBpZGVudGl0eSkgZG9lcyBub3QgYWxsb3dcclxuICogZHVwbGljYXRlIGl0ZW1zIGluIGFycmF5cy4gVGhpcyBpcyBiZWNhdXNlIHdoZW4gdGhlcmUgYXJlIGR1cGxpY2F0ZXMsIGl0IGlzIG5vdCBwb3NzaWJsZVxyXG4gKiB0byBtYWludGFpbiBhIG9uZS10by1vbmUgbWFwcGluZyBiZXR3ZWVuIGNvbGxlY3Rpb24gaXRlbXMgYW5kIERPTSBlbGVtZW50cy5cclxuICpcclxuICogSWYgeW91IGRvIG5lZWQgdG8gcmVwZWF0IGR1cGxpY2F0ZSBpdGVtcywgeW91IGNhbiBzdWJzdGl0dXRlIHRoZSBkZWZhdWx0IHRyYWNraW5nIGJlaGF2aW9yXHJcbiAqIHdpdGggeW91ciBvd24gdXNpbmcgdGhlIGB0cmFjayBieWAgZXhwcmVzc2lvbi5cclxuICpcclxuICogRm9yIGV4YW1wbGUsIHlvdSBtYXkgdHJhY2sgaXRlbXMgYnkgdGhlIGluZGV4IG9mIGVhY2ggaXRlbSBpbiB0aGUgY29sbGVjdGlvbiwgdXNpbmcgdGhlXHJcbiAqIHNwZWNpYWwgc2NvcGUgcHJvcGVydHkgYCRpbmRleGA6XHJcbiAqIGBgYGh0bWxcclxuICogICAgPGRpdiBuZy1yZXBlYXQ9XCJuIGluIFs0MiwgNDIsIDQzLCA0M10gdHJhY2sgYnkgJGluZGV4XCI+XHJcbiAqICAgICAge3tufX1cclxuICogICAgPC9kaXY+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBZb3UgbWF5IGFsc28gdXNlIGFyYml0cmFyeSBleHByZXNzaW9ucyBpbiBgdHJhY2sgYnlgLCBpbmNsdWRpbmcgcmVmZXJlbmNlcyB0byBjdXN0b20gZnVuY3Rpb25zXHJcbiAqIG9uIHRoZSBzY29wZTpcclxuICogYGBgaHRtbFxyXG4gKiAgICA8ZGl2IG5nLXJlcGVhdD1cIm4gaW4gWzQyLCA0MiwgNDMsIDQzXSB0cmFjayBieSBteVRyYWNraW5nRnVuY3Rpb24obilcIj5cclxuICogICAgICB7e259fVxyXG4gKiAgICA8L2Rpdj5cclxuICogYGBgXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+XHJcbiAqIElmIHlvdSBhcmUgd29ya2luZyB3aXRoIG9iamVjdHMgdGhhdCBoYXZlIGFuIGlkZW50aWZpZXIgcHJvcGVydHksIHlvdSBzaG91bGQgdHJhY2tcclxuICogYnkgdGhlIGlkZW50aWZpZXIgaW5zdGVhZCBvZiB0aGUgd2hvbGUgb2JqZWN0LiBTaG91bGQgeW91IHJlbG9hZCB5b3VyIGRhdGEgbGF0ZXIsIGBuZ1JlcGVhdGBcclxuICogd2lsbCBub3QgaGF2ZSB0byByZWJ1aWxkIHRoZSBET00gZWxlbWVudHMgZm9yIGl0ZW1zIGl0IGhhcyBhbHJlYWR5IHJlbmRlcmVkLCBldmVuIGlmIHRoZVxyXG4gKiBKYXZhU2NyaXB0IG9iamVjdHMgaW4gdGhlIGNvbGxlY3Rpb24gaGF2ZSBiZWVuIHN1YnN0aXR1dGVkIGZvciBuZXcgb25lcy4gRm9yIGxhcmdlIGNvbGxlY3Rpb25zLFxyXG4gKiB0aGlzIHNpZ25pZmljYW50bHkgaW1wcm92ZXMgcmVuZGVyaW5nIHBlcmZvcm1hbmNlLiBJZiB5b3UgZG9uJ3QgaGF2ZSBhIHVuaXF1ZSBpZGVudGlmaWVyLFxyXG4gKiBgdHJhY2sgYnkgJGluZGV4YCBjYW4gYWxzbyBwcm92aWRlIGEgcGVyZm9ybWFuY2UgYm9vc3QuXHJcbiAqIDwvZGl2PlxyXG4gKiBgYGBodG1sXHJcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwibW9kZWwgaW4gY29sbGVjdGlvbiB0cmFjayBieSBtb2RlbC5pZFwiPlxyXG4gKiAgICAgIHt7bW9kZWwubmFtZX19XHJcbiAqICAgIDwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogV2hlbiBubyBgdHJhY2sgYnlgIGV4cHJlc3Npb24gaXMgcHJvdmlkZWQsIGl0IGlzIGVxdWl2YWxlbnQgdG8gdHJhY2tpbmcgYnkgdGhlIGJ1aWx0LWluXHJcbiAqIGAkaWRgIGZ1bmN0aW9uLCB3aGljaCB0cmFja3MgaXRlbXMgYnkgdGhlaXIgaWRlbnRpdHk6XHJcbiAqIGBgYGh0bWxcclxuICogICAgPGRpdiBuZy1yZXBlYXQ9XCJvYmogaW4gY29sbGVjdGlvbiB0cmFjayBieSAkaWQob2JqKVwiPlxyXG4gKiAgICAgIHt7b2JqLnByb3B9fVxyXG4gKiAgICA8L2Rpdj5cclxuICogYGBgXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZToqKiBgdHJhY2sgYnlgIG11c3QgYWx3YXlzIGJlIHRoZSBsYXN0IGV4cHJlc3Npb246XHJcbiAqIDwvZGl2PlxyXG4gKiBgYGBcclxuICogPGRpdiBuZy1yZXBlYXQ9XCJtb2RlbCBpbiBjb2xsZWN0aW9uIHwgb3JkZXJCeTogJ2lkJyBhcyBmaWx0ZXJlZF9yZXN1bHQgdHJhY2sgYnkgbW9kZWwuaWRcIj5cclxuICogICAgIHt7bW9kZWwubmFtZX19XHJcbiAqIDwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogIyBTcGVjaWFsIHJlcGVhdCBzdGFydCBhbmQgZW5kIHBvaW50c1xyXG4gKiBUbyByZXBlYXQgYSBzZXJpZXMgb2YgZWxlbWVudHMgaW5zdGVhZCBvZiBqdXN0IG9uZSBwYXJlbnQgZWxlbWVudCwgbmdSZXBlYXQgKGFzIHdlbGwgYXMgb3RoZXIgbmcgZGlyZWN0aXZlcykgc3VwcG9ydHMgZXh0ZW5kaW5nXHJcbiAqIHRoZSByYW5nZSBvZiB0aGUgcmVwZWF0ZXIgYnkgZGVmaW5pbmcgZXhwbGljaXQgc3RhcnQgYW5kIGVuZCBwb2ludHMgYnkgdXNpbmcgKipuZy1yZXBlYXQtc3RhcnQqKiBhbmQgKipuZy1yZXBlYXQtZW5kKiogcmVzcGVjdGl2ZWx5LlxyXG4gKiBUaGUgKipuZy1yZXBlYXQtc3RhcnQqKiBkaXJlY3RpdmUgd29ya3MgdGhlIHNhbWUgYXMgKipuZy1yZXBlYXQqKiwgYnV0IHdpbGwgcmVwZWF0IGFsbCB0aGUgSFRNTCBjb2RlIChpbmNsdWRpbmcgdGhlIHRhZyBpdCdzIGRlZmluZWQgb24pXHJcbiAqIHVwIHRvIGFuZCBpbmNsdWRpbmcgdGhlIGVuZGluZyBIVE1MIHRhZyB3aGVyZSAqKm5nLXJlcGVhdC1lbmQqKiBpcyBwbGFjZWQuXHJcbiAqXHJcbiAqIFRoZSBleGFtcGxlIGJlbG93IG1ha2VzIHVzZSBvZiB0aGlzIGZlYXR1cmU6XHJcbiAqIGBgYGh0bWxcclxuICogICA8aGVhZGVyIG5nLXJlcGVhdC1zdGFydD1cIml0ZW0gaW4gaXRlbXNcIj5cclxuICogICAgIEhlYWRlciB7eyBpdGVtIH19XHJcbiAqICAgPC9oZWFkZXI+XHJcbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cclxuICogICAgIEJvZHkge3sgaXRlbSB9fVxyXG4gKiAgIDwvZGl2PlxyXG4gKiAgIDxmb290ZXIgbmctcmVwZWF0LWVuZD5cclxuICogICAgIEZvb3RlciB7eyBpdGVtIH19XHJcbiAqICAgPC9mb290ZXI+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBBbmQgd2l0aCBhbiBpbnB1dCBvZiB7QHR5cGUgWydBJywnQiddfSBmb3IgdGhlIGl0ZW1zIHZhcmlhYmxlIGluIHRoZSBleGFtcGxlIGFib3ZlLCB0aGUgb3V0cHV0IHdpbGwgZXZhbHVhdGUgdG86XHJcbiAqIGBgYGh0bWxcclxuICogICA8aGVhZGVyPlxyXG4gKiAgICAgSGVhZGVyIEFcclxuICogICA8L2hlYWRlcj5cclxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxyXG4gKiAgICAgQm9keSBBXHJcbiAqICAgPC9kaXY+XHJcbiAqICAgPGZvb3Rlcj5cclxuICogICAgIEZvb3RlciBBXHJcbiAqICAgPC9mb290ZXI+XHJcbiAqICAgPGhlYWRlcj5cclxuICogICAgIEhlYWRlciBCXHJcbiAqICAgPC9oZWFkZXI+XHJcbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cclxuICogICAgIEJvZHkgQlxyXG4gKiAgIDwvZGl2PlxyXG4gKiAgIDxmb290ZXI+XHJcbiAqICAgICBGb290ZXIgQlxyXG4gKiAgIDwvZm9vdGVyPlxyXG4gKiBgYGBcclxuICpcclxuICogVGhlIGN1c3RvbSBzdGFydCBhbmQgZW5kIHBvaW50cyBmb3IgbmdSZXBlYXQgYWxzbyBzdXBwb3J0IGFsbCBvdGhlciBIVE1MIGRpcmVjdGl2ZSBzeW50YXggZmxhdm9ycyBwcm92aWRlZCBpbiBBbmd1bGFySlMgKHN1Y2hcclxuICogYXMgKipkYXRhLW5nLXJlcGVhdC1zdGFydCoqLCAqKngtbmctcmVwZWF0LXN0YXJ0KiogYW5kICoqbmc6cmVwZWF0LXN0YXJ0KiopLlxyXG4gKlxyXG4gKiBAYW5pbWF0aW9uc1xyXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNlbnRlciBlbnRlcn0gfCB3aGVuIGEgbmV3IGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGxpc3Qgb3Igd2hlbiBhbiBpdGVtIGlzIHJldmVhbGVkIGFmdGVyIGEgZmlsdGVyIHxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9IHwgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBvciB3aGVuIGFuIGl0ZW0gaXMgZmlsdGVyZWQgb3V0IHxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbW92ZSBtb3ZlIH0gfCB3aGVuIGFuIGFkamFjZW50IGl0ZW0gaXMgZmlsdGVyZWQgb3V0IGNhdXNpbmcgYSByZW9yZGVyIG9yIHdoZW4gdGhlIGl0ZW0gY29udGVudHMgYXJlIHJlb3JkZXJlZCB8XHJcbiAqXHJcbiAqIFNlZSB0aGUgZXhhbXBsZSBiZWxvdyBmb3IgZGVmaW5pbmcgQ1NTIGFuaW1hdGlvbnMgd2l0aCBuZ1JlcGVhdC5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBzY29wZVxyXG4gKiBAcHJpb3JpdHkgMTAwMFxyXG4gKiBAcGFyYW0ge3JlcGVhdF9leHByZXNzaW9ufSBuZ1JlcGVhdCBUaGUgZXhwcmVzc2lvbiBpbmRpY2F0aW5nIGhvdyB0byBlbnVtZXJhdGUgYSBjb2xsZWN0aW9uLiBUaGVzZVxyXG4gKiAgIGZvcm1hdHMgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQ6XHJcbiAqXHJcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbmAg4oCTIHdoZXJlIHZhcmlhYmxlIGlzIHRoZSB1c2VyIGRlZmluZWQgbG9vcCB2YXJpYWJsZSBhbmQgYGV4cHJlc3Npb25gXHJcbiAqICAgICBpcyBhIHNjb3BlIGV4cHJlc3Npb24gZ2l2aW5nIHRoZSBjb2xsZWN0aW9uIHRvIGVudW1lcmF0ZS5cclxuICpcclxuICogICAgIEZvciBleGFtcGxlOiBgYWxidW0gaW4gYXJ0aXN0LmFsYnVtc2AuXHJcbiAqXHJcbiAqICAgKiBgKGtleSwgdmFsdWUpIGluIGV4cHJlc3Npb25gIOKAkyB3aGVyZSBga2V5YCBhbmQgYHZhbHVlYCBjYW4gYmUgYW55IHVzZXIgZGVmaW5lZCBpZGVudGlmaWVycyxcclxuICogICAgIGFuZCBgZXhwcmVzc2lvbmAgaXMgdGhlIHNjb3BlIGV4cHJlc3Npb24gZ2l2aW5nIHRoZSBjb2xsZWN0aW9uIHRvIGVudW1lcmF0ZS5cclxuICpcclxuICogICAgIEZvciBleGFtcGxlOiBgKG5hbWUsIGFnZSkgaW4geydhZGFtJzoxMCwgJ2FtYWxpZSc6MTJ9YC5cclxuICpcclxuICogICAqIGB2YXJpYWJsZSBpbiBleHByZXNzaW9uIHRyYWNrIGJ5IHRyYWNraW5nX2V4cHJlc3Npb25gIOKAkyBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBvcHRpb25hbCB0cmFja2luZyBleHByZXNzaW9uXHJcbiAqICAgICB3aGljaCBjYW4gYmUgdXNlZCB0byBhc3NvY2lhdGUgdGhlIG9iamVjdHMgaW4gdGhlIGNvbGxlY3Rpb24gd2l0aCB0aGUgRE9NIGVsZW1lbnRzLiBJZiBubyB0cmFja2luZyBleHByZXNzaW9uXHJcbiAqICAgICBpcyBzcGVjaWZpZWQsIG5nLXJlcGVhdCBhc3NvY2lhdGVzIGVsZW1lbnRzIGJ5IGlkZW50aXR5LiBJdCBpcyBhbiBlcnJvciB0byBoYXZlXHJcbiAqICAgICBtb3JlIHRoYW4gb25lIHRyYWNraW5nIGV4cHJlc3Npb24gdmFsdWUgcmVzb2x2ZSB0byB0aGUgc2FtZSBrZXkuIChUaGlzIHdvdWxkIG1lYW4gdGhhdCB0d28gZGlzdGluY3Qgb2JqZWN0cyBhcmVcclxuICogICAgIG1hcHBlZCB0byB0aGUgc2FtZSBET00gZWxlbWVudCwgd2hpY2ggaXMgbm90IHBvc3NpYmxlLilcclxuICpcclxuICogICAgIE5vdGUgdGhhdCB0aGUgdHJhY2tpbmcgZXhwcmVzc2lvbiBtdXN0IGNvbWUgbGFzdCwgYWZ0ZXIgYW55IGZpbHRlcnMsIGFuZCB0aGUgYWxpYXMgZXhwcmVzc2lvbi5cclxuICpcclxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtc2AgaXMgZXF1aXZhbGVudCB0byBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSAkaWQoaXRlbSlgLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgRE9NIGVsZW1lbnRzXHJcbiAqICAgICB3aWxsIGJlIGFzc29jaWF0ZWQgYnkgaXRlbSBpZGVudGl0eSBpbiB0aGUgYXJyYXkuXHJcbiAqXHJcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgJGlkKGl0ZW0pYC4gQSBidWlsdCBpbiBgJGlkKClgIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGFzc2lnbiBhIHVuaXF1ZVxyXG4gKiAgICAgYCQkaGFzaEtleWAgcHJvcGVydHkgdG8gZWFjaCBpdGVtIGluIHRoZSBhcnJheS4gVGhpcyBwcm9wZXJ0eSBpcyB0aGVuIHVzZWQgYXMgYSBrZXkgdG8gYXNzb2NpYXRlZCBET00gZWxlbWVudHNcclxuICogICAgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgaXRlbSBpbiB0aGUgYXJyYXkgYnkgaWRlbnRpdHkuIE1vdmluZyB0aGUgc2FtZSBvYmplY3QgaW4gYXJyYXkgd291bGQgbW92ZSB0aGUgRE9NXHJcbiAqICAgICBlbGVtZW50IGluIHRoZSBzYW1lIHdheSBpbiB0aGUgRE9NLlxyXG4gKlxyXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5IGl0ZW0uaWRgIGlzIGEgdHlwaWNhbCBwYXR0ZXJuIHdoZW4gdGhlIGl0ZW1zIGNvbWUgZnJvbSB0aGUgZGF0YWJhc2UuIEluIHRoaXNcclxuICogICAgIGNhc2UgdGhlIG9iamVjdCBpZGVudGl0eSBkb2VzIG5vdCBtYXR0ZXIuIFR3byBvYmplY3RzIGFyZSBjb25zaWRlcmVkIGVxdWl2YWxlbnQgYXMgbG9uZyBhcyB0aGVpciBgaWRgXHJcbiAqICAgICBwcm9wZXJ0eSBpcyBzYW1lLlxyXG4gKlxyXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyOnNlYXJjaFRleHQgdHJhY2sgYnkgaXRlbS5pZGAgaXMgYSBwYXR0ZXJuIHRoYXQgbWlnaHQgYmUgdXNlZCB0byBhcHBseSBhIGZpbHRlclxyXG4gKiAgICAgdG8gaXRlbXMgaW4gY29uanVuY3Rpb24gd2l0aCBhIHRyYWNraW5nIGV4cHJlc3Npb24uXHJcbiAqXHJcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiBhcyBhbGlhc19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYWxpYXMgZXhwcmVzc2lvbiB3aGljaCB3aWxsIHRoZW4gc3RvcmUgdGhlXHJcbiAqICAgICBpbnRlcm1lZGlhdGUgcmVzdWx0cyBvZiB0aGUgcmVwZWF0ZXIgYWZ0ZXIgdGhlIGZpbHRlcnMgaGF2ZSBiZWVuIGFwcGxpZWQuIFR5cGljYWxseSB0aGlzIGlzIHVzZWQgdG8gcmVuZGVyIGEgc3BlY2lhbCBtZXNzYWdlXHJcbiAqICAgICB3aGVuIGEgZmlsdGVyIGlzIGFjdGl2ZSBvbiB0aGUgcmVwZWF0ZXIsIGJ1dCB0aGUgZmlsdGVyZWQgcmVzdWx0IHNldCBpcyBlbXB0eS5cclxuICpcclxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB8IGZpbHRlcjp4IGFzIHJlc3VsdHNgIHdpbGwgc3RvcmUgdGhlIGZyYWdtZW50IG9mIHRoZSByZXBlYXRlZCBpdGVtcyBhcyBgcmVzdWx0c2AsIGJ1dCBvbmx5IGFmdGVyXHJcbiAqICAgICB0aGUgaXRlbXMgaGF2ZSBiZWVuIHByb2Nlc3NlZCB0aHJvdWdoIHRoZSBmaWx0ZXIuXHJcbiAqXHJcbiAqICAgICBQbGVhc2Ugbm90ZSB0aGF0IGBhcyBbdmFyaWFibGUgbmFtZV0gaXMgbm90IGFuIG9wZXJhdG9yIGJ1dCByYXRoZXIgYSBwYXJ0IG9mIG5nUmVwZWF0IG1pY3JvLXN5bnRheCBzbyBpdCBjYW4gYmUgdXNlZCBvbmx5IGF0IHRoZSBlbmRcclxuICogICAgIChhbmQgbm90IGFzIG9wZXJhdG9yLCBpbnNpZGUgYW4gZXhwcmVzc2lvbikuXHJcbiAqXHJcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgfCBmaWx0ZXIgOiB4IHwgb3JkZXJCeSA6IG9yZGVyIHwgbGltaXRUbyA6IGxpbWl0IGFzIHJlc3VsdHNgIC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogVGhpcyBleGFtcGxlIHVzZXMgYG5nUmVwZWF0YCB0byBkaXNwbGF5IGEgbGlzdCBvZiBwZW9wbGUuIEEgZmlsdGVyIGlzIHVzZWQgdG8gcmVzdHJpY3QgdGhlIGRpc3BsYXllZFxyXG4gKiByZXN1bHRzIGJ5IG5hbWUuIE5ldyAoZW50ZXJpbmcpIGFuZCByZW1vdmVkIChsZWF2aW5nKSBpdGVtcyBhcmUgYW5pbWF0ZWQuXHJcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdSZXBlYXRcIiBuYW1lPVwibmdSZXBlYXRcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cclxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cInJlcGVhdENvbnRyb2xsZXJcIj5cclxuICAgICAgICBJIGhhdmUge3tmcmllbmRzLmxlbmd0aH19IGZyaWVuZHMuIFRoZXkgYXJlOlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwic2VhcmNoXCIgbmctbW9kZWw9XCJxXCIgcGxhY2Vob2xkZXI9XCJmaWx0ZXIgZnJpZW5kcy4uLlwiIGFyaWEtbGFiZWw9XCJmaWx0ZXIgZnJpZW5kc1wiIC8+XHJcbiAgICAgICAgPHVsIGNsYXNzPVwiZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgPGxpIGNsYXNzPVwiYW5pbWF0ZS1yZXBlYXRcIiBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IGZpbHRlcjpxIGFzIHJlc3VsdHNcIj5cclxuICAgICAgICAgICAgW3t7JGluZGV4ICsgMX19XSB7e2ZyaWVuZC5uYW1lfX0gd2hvIGlzIHt7ZnJpZW5kLmFnZX19IHllYXJzIG9sZC5cclxuICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICA8bGkgY2xhc3M9XCJhbmltYXRlLXJlcGVhdFwiIG5nLWlmPVwicmVzdWx0cy5sZW5ndGggPT0gMFwiPlxyXG4gICAgICAgICAgICA8c3Ryb25nPk5vIHJlc3VsdHMgZm91bmQuLi48L3N0cm9uZz5cclxuICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgPC91bD5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1JlcGVhdCcsIFsnbmdBbmltYXRlJ10pLmNvbnRyb2xsZXIoJ3JlcGVhdENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IFtcclxuICAgICAgICAgIHtuYW1lOidKb2huJywgYWdlOjI1LCBnZW5kZXI6J2JveSd9LFxyXG4gICAgICAgICAge25hbWU6J0plc3NpZScsIGFnZTozMCwgZ2VuZGVyOidnaXJsJ30sXHJcbiAgICAgICAgICB7bmFtZTonSm9oYW5uYScsIGFnZToyOCwgZ2VuZGVyOidnaXJsJ30sXHJcbiAgICAgICAgICB7bmFtZTonSm95JywgYWdlOjE1LCBnZW5kZXI6J2dpcmwnfSxcclxuICAgICAgICAgIHtuYW1lOidNYXJ5JywgYWdlOjI4LCBnZW5kZXI6J2dpcmwnfSxcclxuICAgICAgICAgIHtuYW1lOidQZXRlcicsIGFnZTo5NSwgZ2VuZGVyOidib3knfSxcclxuICAgICAgICAgIHtuYW1lOidTZWJhc3RpYW4nLCBhZ2U6NTAsIGdlbmRlcjonYm95J30sXHJcbiAgICAgICAgICB7bmFtZTonRXJpa2EnLCBhZ2U6MjcsIGdlbmRlcjonZ2lybCd9LFxyXG4gICAgICAgICAge25hbWU6J1BhdHJpY2snLCBhZ2U6NDAsIGdlbmRlcjonYm95J30sXHJcbiAgICAgICAgICB7bmFtZTonU2FtYW50aGEnLCBhZ2U6NjAsIGdlbmRlcjonZ2lybCd9XHJcbiAgICAgICAgXTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cclxuICAgICAgLmV4YW1wbGUtYW5pbWF0ZS1jb250YWluZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XHJcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBsaXN0LXN0eWxlOm5vbmU7XHJcbiAgICAgICAgbWFyZ2luOjA7XHJcbiAgICAgICAgcGFkZGluZzowIDEwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hbmltYXRlLXJlcGVhdCB7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6MzBweDtcclxuICAgICAgICBsaXN0LXN0eWxlOm5vbmU7XHJcbiAgICAgICAgYm94LXNpemluZzpib3JkZXItYm94O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZSxcclxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyLFxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUge1xyXG4gICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUubmctbGVhdmUtYWN0aXZlLFxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZSxcclxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyIHtcclxuICAgICAgICBvcGFjaXR5OjA7XHJcbiAgICAgICAgbWF4LWhlaWdodDowO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUsXHJcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLm5nLW1vdmUtYWN0aXZlLFxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcclxuICAgICAgICBvcGFjaXR5OjE7XHJcbiAgICAgICAgbWF4LWhlaWdodDozMHB4O1xyXG4gICAgICB9XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIHZhciBmcmllbmRzID0gZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoJ2ZyaWVuZCBpbiBmcmllbmRzJykpO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCByZW5kZXIgaW5pdGlhbCBkYXRhIHNldCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMTApO1xyXG4gICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgwKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxXSBKb2huIHdobyBpcyAyNSB5ZWFycyBvbGQuJyk7XHJcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDEpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIEplc3NpZSB3aG8gaXMgMzAgeWVhcnMgb2xkLicpO1xyXG4gICAgICAgIGV4cGVjdChmcmllbmRzLmxhc3QoKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxMF0gU2FtYW50aGEgd2hvIGlzIDYwIHllYXJzIG9sZC4nKTtcclxuICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdmcmllbmRzLmxlbmd0aCcpKS5nZXRUZXh0KCkpXHJcbiAgICAgICAgICAgIC50b01hdGNoKFwiSSBoYXZlIDEwIGZyaWVuZHMuIFRoZXkgYXJlOlwiKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgcmVwZWF0ZXIgd2hlbiBmaWx0ZXIgcHJlZGljYXRlIGNoYW5nZXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgxMCk7XHJcblxyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdxJykpLnNlbmRLZXlzKCdtYScpO1xyXG5cclxuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgyKTtcclxuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDApLmdldFRleHQoKSkudG9FcXVhbCgnWzFdIE1hcnkgd2hvIGlzIDI4IHllYXJzIG9sZC4nKTtcclxuICAgICAgICAgZXhwZWN0KGZyaWVuZHMubGFzdCgpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIFNhbWFudGhhIHdobyBpcyA2MCB5ZWFycyBvbGQuJyk7XHJcbiAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nUmVwZWF0RGlyZWN0aXZlID0gWyckcGFyc2UnLCAnJGFuaW1hdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkcGFyc2UsICRhbmltYXRlLCAkY29tcGlsZSkge1xyXG4gIHZhciBOR19SRU1PVkVEID0gJyQkTkdfUkVNT1ZFRCc7XHJcbiAgdmFyIG5nUmVwZWF0TWluRXJyID0gbWluRXJyKCduZ1JlcGVhdCcpO1xyXG5cclxuICB2YXIgdXBkYXRlU2NvcGUgPSBmdW5jdGlvbihzY29wZSwgaW5kZXgsIHZhbHVlSWRlbnRpZmllciwgdmFsdWUsIGtleUlkZW50aWZpZXIsIGtleSwgYXJyYXlMZW5ndGgpIHtcclxuICAgIC8vIFRPRE8ocGVyZik6IGdlbmVyYXRlIHNldHRlcnMgdG8gc2hhdmUgb2ZmIH40MG1zIG9yIDEtMS41JVxyXG4gICAgc2NvcGVbdmFsdWVJZGVudGlmaWVyXSA9IHZhbHVlO1xyXG4gICAgaWYgKGtleUlkZW50aWZpZXIpIHNjb3BlW2tleUlkZW50aWZpZXJdID0ga2V5O1xyXG4gICAgc2NvcGUuJGluZGV4ID0gaW5kZXg7XHJcbiAgICBzY29wZS4kZmlyc3QgPSAoaW5kZXggPT09IDApO1xyXG4gICAgc2NvcGUuJGxhc3QgPSAoaW5kZXggPT09IChhcnJheUxlbmd0aCAtIDEpKTtcclxuICAgIHNjb3BlLiRtaWRkbGUgPSAhKHNjb3BlLiRmaXJzdCB8fCBzY29wZS4kbGFzdCk7XHJcbiAgICAvLyBqc2hpbnQgYml0d2lzZTogZmFsc2VcclxuICAgIHNjb3BlLiRvZGQgPSAhKHNjb3BlLiRldmVuID0gKGluZGV4JjEpID09PSAwKTtcclxuICAgIC8vIGpzaGludCBiaXR3aXNlOiB0cnVlXHJcbiAgfTtcclxuXHJcbiAgdmFyIGdldEJsb2NrU3RhcnQgPSBmdW5jdGlvbihibG9jaykge1xyXG4gICAgcmV0dXJuIGJsb2NrLmNsb25lWzBdO1xyXG4gIH07XHJcblxyXG4gIHZhciBnZXRCbG9ja0VuZCA9IGZ1bmN0aW9uKGJsb2NrKSB7XHJcbiAgICByZXR1cm4gYmxvY2suY2xvbmVbYmxvY2suY2xvbmUubGVuZ3RoIC0gMV07XHJcbiAgfTtcclxuXHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxyXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgcHJpb3JpdHk6IDEwMDAsXHJcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcclxuICAgICQkdGxiOiB0cnVlLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdSZXBlYXRDb21waWxlKCRlbGVtZW50LCAkYXR0cikge1xyXG4gICAgICB2YXIgZXhwcmVzc2lvbiA9ICRhdHRyLm5nUmVwZWF0O1xyXG4gICAgICB2YXIgbmdSZXBlYXRFbmRDb21tZW50ID0gJGNvbXBpbGUuJCRjcmVhdGVDb21tZW50KCdlbmQgbmdSZXBlYXQnLCBleHByZXNzaW9uKTtcclxuXHJcbiAgICAgIHZhciBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goL15cXHMqKFtcXHNcXFNdKz8pXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpP1xccyokLyk7XHJcblxyXG4gICAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2lleHAnLCBcIkV4cGVjdGVkIGV4cHJlc3Npb24gaW4gZm9ybSBvZiAnX2l0ZW1fIGluIF9jb2xsZWN0aW9uX1sgdHJhY2sgYnkgX2lkX10nIGJ1dCBnb3QgJ3swfScuXCIsXHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgbGhzID0gbWF0Y2hbMV07XHJcbiAgICAgIHZhciByaHMgPSBtYXRjaFsyXTtcclxuICAgICAgdmFyIGFsaWFzQXMgPSBtYXRjaFszXTtcclxuICAgICAgdmFyIHRyYWNrQnlFeHAgPSBtYXRjaFs0XTtcclxuXHJcbiAgICAgIG1hdGNoID0gbGhzLm1hdGNoKC9eKD86KFxccypbXFwkXFx3XSspfFxcKFxccyooW1xcJFxcd10rKVxccyosXFxzKihbXFwkXFx3XSspXFxzKlxcKSkkLyk7XHJcblxyXG4gICAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2lpZGV4cCcsIFwiJ19pdGVtXycgaW4gJ19pdGVtXyBpbiBfY29sbGVjdGlvbl8nIHNob3VsZCBiZSBhbiBpZGVudGlmaWVyIG9yICcoX2tleV8sIF92YWx1ZV8pJyBleHByZXNzaW9uLCBidXQgZ290ICd7MH0nLlwiLFxyXG4gICAgICAgICAgICBsaHMpO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciB2YWx1ZUlkZW50aWZpZXIgPSBtYXRjaFszXSB8fCBtYXRjaFsxXTtcclxuICAgICAgdmFyIGtleUlkZW50aWZpZXIgPSBtYXRjaFsyXTtcclxuXHJcbiAgICAgIGlmIChhbGlhc0FzICYmICghL15bJGEtekEtWl9dWyRhLXpBLVowLTlfXSokLy50ZXN0KGFsaWFzQXMpIHx8XHJcbiAgICAgICAgICAvXihudWxsfHVuZGVmaW5lZHx0aGlzfFxcJGluZGV4fFxcJGZpcnN0fFxcJG1pZGRsZXxcXCRsYXN0fFxcJGV2ZW58XFwkb2RkfFxcJHBhcmVudHxcXCRyb290fFxcJGlkKSQvLnRlc3QoYWxpYXNBcykpKSB7XHJcbiAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2JhZGlkZW50JywgXCJhbGlhcyAnezB9JyBpcyBpbnZhbGlkIC0tLSBtdXN0IGJlIGEgdmFsaWQgSlMgaWRlbnRpZmllciB3aGljaCBpcyBub3QgYSByZXNlcnZlZCBuYW1lLlwiLFxyXG4gICAgICAgICAgYWxpYXNBcyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB0cmFja0J5RXhwR2V0dGVyLCB0cmFja0J5SWRFeHBGbiwgdHJhY2tCeUlkQXJyYXlGbiwgdHJhY2tCeUlkT2JqRm47XHJcbiAgICAgIHZhciBoYXNoRm5Mb2NhbHMgPSB7JGlkOiBoYXNoS2V5fTtcclxuXHJcbiAgICAgIGlmICh0cmFja0J5RXhwKSB7XHJcbiAgICAgICAgdHJhY2tCeUV4cEdldHRlciA9ICRwYXJzZSh0cmFja0J5RXhwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0cmFja0J5SWRBcnJheUZuID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGhhc2hLZXkodmFsdWUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdHJhY2tCeUlkT2JqRm4gPSBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgIHJldHVybiBrZXk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nUmVwZWF0TGluaygkc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcclxuXHJcbiAgICAgICAgaWYgKHRyYWNrQnlFeHBHZXR0ZXIpIHtcclxuICAgICAgICAgIHRyYWNrQnlJZEV4cEZuID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgLy8gYXNzaWduIGtleSwgdmFsdWUsIGFuZCAkaW5kZXggdG8gdGhlIGxvY2FscyBzbyB0aGF0IHRoZXkgY2FuIGJlIHVzZWQgaW4gaGFzaCBmdW5jdGlvbnNcclxuICAgICAgICAgICAgaWYgKGtleUlkZW50aWZpZXIpIGhhc2hGbkxvY2Fsc1trZXlJZGVudGlmaWVyXSA9IGtleTtcclxuICAgICAgICAgICAgaGFzaEZuTG9jYWxzW3ZhbHVlSWRlbnRpZmllcl0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgaGFzaEZuTG9jYWxzLiRpbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICByZXR1cm4gdHJhY2tCeUV4cEdldHRlcigkc2NvcGUsIGhhc2hGbkxvY2Fscyk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RvcmUgYSBsaXN0IG9mIGVsZW1lbnRzIGZyb20gcHJldmlvdXMgcnVuLiBUaGlzIGlzIGEgaGFzaCB3aGVyZSBrZXkgaXMgdGhlIGl0ZW0gZnJvbSB0aGVcclxuICAgICAgICAvLyBpdGVyYXRvciwgYW5kIHRoZSB2YWx1ZSBpcyBvYmplY3RzIHdpdGggZm9sbG93aW5nIHByb3BlcnRpZXMuXHJcbiAgICAgICAgLy8gICAtIHNjb3BlOiBib3VuZCBzY29wZVxyXG4gICAgICAgIC8vICAgLSBlbGVtZW50OiBwcmV2aW91cyBlbGVtZW50LlxyXG4gICAgICAgIC8vICAgLSBpbmRleDogcG9zaXRpb25cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIFdlIGFyZSB1c2luZyBuby1wcm90byBvYmplY3Qgc28gdGhhdCB3ZSBkb24ndCBuZWVkIHRvIGd1YXJkIGFnYWluc3QgaW5oZXJpdGVkIHByb3BzIHZpYVxyXG4gICAgICAgIC8vIGhhc093blByb3BlcnR5LlxyXG4gICAgICAgIHZhciBsYXN0QmxvY2tNYXAgPSBjcmVhdGVNYXAoKTtcclxuXHJcbiAgICAgICAgLy93YXRjaCBwcm9wc1xyXG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKHJocywgZnVuY3Rpb24gbmdSZXBlYXRBY3Rpb24oY29sbGVjdGlvbikge1xyXG4gICAgICAgICAgdmFyIGluZGV4LCBsZW5ndGgsXHJcbiAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gJGVsZW1lbnRbMF0sICAgICAvLyBub2RlIHRoYXQgY2xvbmVkIG5vZGVzIHNob3VsZCBiZSBpbnNlcnRlZCBhZnRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZWQgdG8gdGhlIGNvbW1lbnQgbm9kZSBhbmNob3JcclxuICAgICAgICAgICAgICBuZXh0Tm9kZSxcclxuICAgICAgICAgICAgICAvLyBTYW1lIGFzIGxhc3RCbG9ja01hcCBidXQgaXQgaGFzIHRoZSBjdXJyZW50IHN0YXRlLiBJdCB3aWxsIGJlY29tZSB0aGVcclxuICAgICAgICAgICAgICAvLyBsYXN0QmxvY2tNYXAgb24gdGhlIG5leHQgaXRlcmF0aW9uLlxyXG4gICAgICAgICAgICAgIG5leHRCbG9ja01hcCA9IGNyZWF0ZU1hcCgpLFxyXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb25MZW5ndGgsXHJcbiAgICAgICAgICAgICAga2V5LCB2YWx1ZSwgLy8ga2V5L3ZhbHVlIG9mIGl0ZXJhdGlvblxyXG4gICAgICAgICAgICAgIHRyYWNrQnlJZCxcclxuICAgICAgICAgICAgICB0cmFja0J5SWRGbixcclxuICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyxcclxuICAgICAgICAgICAgICBibG9jaywgICAgICAgLy8gbGFzdCBvYmplY3QgaW5mb3JtYXRpb24ge3Njb3BlLCBlbGVtZW50LCBpZH1cclxuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcixcclxuICAgICAgICAgICAgICBlbGVtZW50c1RvUmVtb3ZlO1xyXG5cclxuICAgICAgICAgIGlmIChhbGlhc0FzKSB7XHJcbiAgICAgICAgICAgICRzY29wZVthbGlhc0FzXSA9IGNvbGxlY3Rpb247XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XHJcbiAgICAgICAgICAgIGNvbGxlY3Rpb25LZXlzID0gY29sbGVjdGlvbjtcclxuICAgICAgICAgICAgdHJhY2tCeUlkRm4gPSB0cmFja0J5SWRFeHBGbiB8fCB0cmFja0J5SWRBcnJheUZuO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdHJhY2tCeUlkRm4gPSB0cmFja0J5SWRFeHBGbiB8fCB0cmFja0J5SWRPYmpGbjtcclxuICAgICAgICAgICAgLy8gaWYgb2JqZWN0LCBleHRyYWN0IGtleXMsIGluIGVudW1lcmF0aW9uIG9yZGVyLCB1bnNvcnRlZFxyXG4gICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtS2V5IGluIGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb2xsZWN0aW9uLCBpdGVtS2V5KSAmJiBpdGVtS2V5LmNoYXJBdCgwKSAhPT0gJyQnKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cy5wdXNoKGl0ZW1LZXkpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbGxlY3Rpb25MZW5ndGggPSBjb2xsZWN0aW9uS2V5cy5sZW5ndGg7XHJcbiAgICAgICAgICBuZXh0QmxvY2tPcmRlciA9IG5ldyBBcnJheShjb2xsZWN0aW9uTGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAvLyBsb2NhdGUgZXhpc3RpbmcgaXRlbXNcclxuICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvbGxlY3Rpb25MZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAga2V5ID0gKGNvbGxlY3Rpb24gPT09IGNvbGxlY3Rpb25LZXlzKSA/IGluZGV4IDogY29sbGVjdGlvbktleXNbaW5kZXhdO1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGNvbGxlY3Rpb25ba2V5XTtcclxuICAgICAgICAgICAgdHJhY2tCeUlkID0gdHJhY2tCeUlkRm4oa2V5LCB2YWx1ZSwgaW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAobGFzdEJsb2NrTWFwW3RyYWNrQnlJZF0pIHtcclxuICAgICAgICAgICAgICAvLyBmb3VuZCBwcmV2aW91c2x5IHNlZW4gYmxvY2tcclxuICAgICAgICAgICAgICBibG9jayA9IGxhc3RCbG9ja01hcFt0cmFja0J5SWRdO1xyXG4gICAgICAgICAgICAgIGRlbGV0ZSBsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXTtcclxuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSA9IGJsb2NrO1xyXG4gICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyW2luZGV4XSA9IGJsb2NrO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRCbG9ja01hcFt0cmFja0J5SWRdKSB7XHJcbiAgICAgICAgICAgICAgLy8gaWYgY29sbGlzaW9uIGRldGVjdGVkLiByZXN0b3JlIGxhc3RCbG9ja01hcCBhbmQgdGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgICBmb3JFYWNoKG5leHRCbG9ja09yZGVyLCBmdW5jdGlvbihibG9jaykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrICYmIGJsb2NrLnNjb3BlKSBsYXN0QmxvY2tNYXBbYmxvY2suaWRdID0gYmxvY2s7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2R1cGVzJyxcclxuICAgICAgICAgICAgICAgICAgXCJEdXBsaWNhdGVzIGluIGEgcmVwZWF0ZXIgYXJlIG5vdCBhbGxvd2VkLiBVc2UgJ3RyYWNrIGJ5JyBleHByZXNzaW9uIHRvIHNwZWNpZnkgdW5pcXVlIGtleXMuIFJlcGVhdGVyOiB7MH0sIER1cGxpY2F0ZSBrZXk6IHsxfSwgRHVwbGljYXRlIHZhbHVlOiB7Mn1cIixcclxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiwgdHJhY2tCeUlkLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gbmV3IG5ldmVyIGJlZm9yZSBzZWVuIGJsb2NrXHJcbiAgICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXJbaW5kZXhdID0ge2lkOiB0cmFja0J5SWQsIHNjb3BlOiB1bmRlZmluZWQsIGNsb25lOiB1bmRlZmluZWR9O1xyXG4gICAgICAgICAgICAgIG5leHRCbG9ja01hcFt0cmFja0J5SWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIHJlbW92ZSBsZWZ0b3ZlciBpdGVtc1xyXG4gICAgICAgICAgZm9yICh2YXIgYmxvY2tLZXkgaW4gbGFzdEJsb2NrTWFwKSB7XHJcbiAgICAgICAgICAgIGJsb2NrID0gbGFzdEJsb2NrTWFwW2Jsb2NrS2V5XTtcclxuICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZSA9IGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpO1xyXG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShlbGVtZW50c1RvUmVtb3ZlKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRzVG9SZW1vdmVbMF0ucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgIC8vIGlmIHRoZSBlbGVtZW50IHdhcyBub3QgcmVtb3ZlZCB5ZXQgYmVjYXVzZSBvZiBwZW5kaW5nIGFuaW1hdGlvbiwgbWFyayBpdCBhcyBkZWxldGVkXHJcbiAgICAgICAgICAgICAgLy8gc28gdGhhdCB3ZSBjYW4gaWdub3JlIGl0IGxhdGVyXHJcbiAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZVtpbmRleF1bTkdfUkVNT1ZFRF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBibG9jay5zY29wZS4kZGVzdHJveSgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIHdlIGFyZSBub3QgdXNpbmcgZm9yRWFjaCBmb3IgcGVyZiByZWFzb25zICh0cnlpbmcgdG8gYXZvaWQgI2NhbGwpXHJcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb2xsZWN0aW9uTGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcclxuICAgICAgICAgICAgdmFsdWUgPSBjb2xsZWN0aW9uW2tleV07XHJcbiAgICAgICAgICAgIGJsb2NrID0gbmV4dEJsb2NrT3JkZXJbaW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGJsb2NrLnNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IHNlZW4gdGhpcyBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byByZXVzZSB0aGVcclxuICAgICAgICAgICAgICAvLyBhc3NvY2lhdGVkIHNjb3BlL2VsZW1lbnRcclxuXHJcbiAgICAgICAgICAgICAgbmV4dE5vZGUgPSBwcmV2aW91c05vZGU7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHNraXAgbm9kZXMgdGhhdCBhcmUgYWxyZWFkeSBwZW5kaW5nIHJlbW92YWwgdmlhIGxlYXZlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dE5vZGUubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgfSB3aGlsZSAobmV4dE5vZGUgJiYgbmV4dE5vZGVbTkdfUkVNT1ZFRF0pO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoZ2V0QmxvY2tTdGFydChibG9jaykgIT0gbmV4dE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIGV4aXN0aW5nIGl0ZW0gd2hpY2ggZ290IG1vdmVkXHJcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5tb3ZlKGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpLCBudWxsLCBwcmV2aW91c05vZGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSBnZXRCbG9ja0VuZChibG9jayk7XHJcbiAgICAgICAgICAgICAgdXBkYXRlU2NvcGUoYmxvY2suc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGNvbGxlY3Rpb25MZW5ndGgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIG5ldyBpdGVtIHdoaWNoIHdlIGRvbid0IGtub3cgYWJvdXRcclxuICAgICAgICAgICAgICAkdHJhbnNjbHVkZShmdW5jdGlvbiBuZ1JlcGVhdFRyYW5zY2x1ZGUoY2xvbmUsIHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICBibG9jay5zY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vY2xvbmUtdnMtY3JlYXRlY29tbWVudFxyXG4gICAgICAgICAgICAgICAgdmFyIGVuZE5vZGUgPSBuZ1JlcGVhdEVuZENvbW1lbnQuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGNsb25lW2Nsb25lLmxlbmd0aCsrXSA9IGVuZE5vZGU7XHJcblxyXG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIG51bGwsIHByZXZpb3VzTm9kZSk7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSBlbmROb2RlO1xyXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2Ugb25seSBuZWVkIHRoZSBmaXJzdC9sYXN0IG5vZGUgb2YgdGhlIGNsb25lZCBub2Rlcy5cclxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIG5lZWQgdG8ga2VlcCB0aGUgcmVmZXJlbmNlIHRvIHRoZSBqcWxpdGUgd3JhcHBlciBhcyBpdCBtaWdodCBiZSBjaGFuZ2VkIGxhdGVyXHJcbiAgICAgICAgICAgICAgICAvLyBieSBhIGRpcmVjdGl2ZSB3aXRoIHRlbXBsYXRlVXJsIHdoZW4gaXRzIHRlbXBsYXRlIGFycml2ZXMuXHJcbiAgICAgICAgICAgICAgICBibG9jay5jbG9uZSA9IGNsb25lO1xyXG4gICAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW2Jsb2NrLmlkXSA9IGJsb2NrO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlU2NvcGUoYmxvY2suc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGNvbGxlY3Rpb25MZW5ndGgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsYXN0QmxvY2tNYXAgPSBuZXh0QmxvY2tNYXA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG52YXIgTkdfSElERV9DTEFTUyA9ICduZy1oaWRlJztcclxudmFyIE5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1MgPSAnbmctaGlkZS1hbmltYXRlJztcclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdTaG93XHJcbiAqIEBtdWx0aUVsZW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdTaG93YCBkaXJlY3RpdmUgc2hvd3Mgb3IgaGlkZXMgdGhlIGdpdmVuIEhUTUwgZWxlbWVudCBiYXNlZCBvbiB0aGUgZXhwcmVzc2lvblxyXG4gKiBwcm92aWRlZCB0byB0aGUgYG5nU2hvd2AgYXR0cmlidXRlLiBUaGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gYnkgcmVtb3Zpbmcgb3IgYWRkaW5nXHJcbiAqIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBvbnRvIHRoZSBlbGVtZW50LiBUaGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcHJlZGVmaW5lZFxyXG4gKiBpbiBBbmd1bGFySlMgYW5kIHNldHMgdGhlIGRpc3BsYXkgc3R5bGUgdG8gbm9uZSAodXNpbmcgYW4gIWltcG9ydGFudCBmbGFnKS5cclxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXHJcbiAqXHJcbiAqIGBgYGh0bWxcclxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIHRydXRoeSAoZWxlbWVudCBpcyB2aXNpYmxlKSAtLT5cclxuICogPGRpdiBuZy1zaG93PVwibXlWYWx1ZVwiPjwvZGl2PlxyXG4gKlxyXG4gKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgZmFsc3kgKGVsZW1lbnQgaXMgaGlkZGVuKSAtLT5cclxuICogPGRpdiBuZy1zaG93PVwibXlWYWx1ZVwiIGNsYXNzPVwibmctaGlkZVwiPjwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogV2hlbiB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBmYWxzeSB2YWx1ZSB0aGVuIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBhZGRlZCB0byB0aGUgY2xhc3NcclxuICogYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiB0cnV0aHksIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyByZW1vdmVkXHJcbiAqIGZyb20gdGhlIGVsZW1lbnQgY2F1c2luZyB0aGUgZWxlbWVudCBub3QgdG8gYXBwZWFyIGhpZGRlbi5cclxuICpcclxuICogIyMgV2h5IGlzICFpbXBvcnRhbnQgdXNlZD9cclxuICpcclxuICogWW91IG1heSBiZSB3b25kZXJpbmcgd2h5ICFpbXBvcnRhbnQgaXMgdXNlZCBmb3IgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGAubmctaGlkZWAgc2VsZWN0b3JcclxuICogY2FuIGJlIGVhc2lseSBvdmVycmlkZGVuIGJ5IGhlYXZpZXIgc2VsZWN0b3JzLiBGb3IgZXhhbXBsZSwgc29tZXRoaW5nIGFzIHNpbXBsZVxyXG4gKiBhcyBjaGFuZ2luZyB0aGUgZGlzcGxheSBzdHlsZSBvbiBhIEhUTUwgbGlzdCBpdGVtIHdvdWxkIG1ha2UgaGlkZGVuIGVsZW1lbnRzIGFwcGVhciB2aXNpYmxlLlxyXG4gKiBUaGlzIGFsc28gYmVjb21lcyBhIGJpZ2dlciBpc3N1ZSB3aGVuIGRlYWxpbmcgd2l0aCBDU1MgZnJhbWV3b3Jrcy5cclxuICpcclxuICogQnkgdXNpbmcgIWltcG9ydGFudCwgdGhlIHNob3cgYW5kIGhpZGUgYmVoYXZpb3Igd2lsbCB3b3JrIGFzIGV4cGVjdGVkIGRlc3BpdGUgYW55IGNsYXNoIGJldHdlZW4gQ1NTIHNlbGVjdG9yXHJcbiAqIHNwZWNpZmljaXR5ICh3aGVuICFpbXBvcnRhbnQgaXNuJ3QgdXNlZCB3aXRoIGFueSBjb25mbGljdGluZyBzdHlsZXMpLiBJZiBhIGRldmVsb3BlciBjaG9vc2VzIHRvIG92ZXJyaWRlIHRoZVxyXG4gKiBzdHlsaW5nIHRvIGNoYW5nZSBob3cgdG8gaGlkZSBhbiBlbGVtZW50IHRoZW4gaXQgaXMganVzdCBhIG1hdHRlciBvZiB1c2luZyAhaW1wb3J0YW50IGluIHRoZWlyIG93biBDU1MgY29kZS5cclxuICpcclxuICogIyMjIE92ZXJyaWRpbmcgYC5uZy1oaWRlYFxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6IG5vbmUhaW1wb3J0YW50YC4gSWYgeW91IHdpc2ggdG8gY2hhbmdlXHJcbiAqIHRoZSBoaWRlIGJlaGF2aW9yIHdpdGggbmdTaG93L25nSGlkZSB0aGVuIHRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJlc3RhdGluZyB0aGUgc3R5bGVzIGZvciB0aGUgYC5uZy1oaWRlYFxyXG4gKiBjbGFzcyBDU1MuIE5vdGUgdGhhdCB0aGUgc2VsZWN0b3IgdGhhdCBuZWVkcyB0byBiZSB1c2VkIGlzIGFjdHVhbGx5IGAubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSlgIHRvIGNvcGVcclxuICogd2l0aCBleHRyYSBhbmltYXRpb24gY2xhc3NlcyB0aGF0IGNhbiBiZSBhZGRlZC5cclxuICpcclxuICogYGBgY3NzXHJcbiAqIC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKSB7XHJcbiAqICAgLyYjNDI7IHRoaXMgaXMganVzdCBhbm90aGVyIGZvcm0gb2YgaGlkaW5nIGFuIGVsZW1lbnQgJiM0MjsvXHJcbiAqICAgZGlzcGxheTogYmxvY2shaW1wb3J0YW50O1xyXG4gKiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICogICB0b3A6IC05OTk5cHg7XHJcbiAqICAgbGVmdDogLTk5OTlweDtcclxuICogfVxyXG4gKiBgYGBcclxuICpcclxuICogQnkgZGVmYXVsdCB5b3UgZG9uJ3QgbmVlZCB0byBvdmVycmlkZSBpbiBDU1MgYW55dGhpbmcgYW5kIHRoZSBhbmltYXRpb25zIHdpbGwgd29yayBhcm91bmQgdGhlIGRpc3BsYXkgc3R5bGUuXHJcbiAqXHJcbiAqICMjIEEgbm90ZSBhYm91dCBhbmltYXRpb25zIHdpdGggYG5nU2hvd2BcclxuICpcclxuICogQW5pbWF0aW9ucyBpbiBuZ1Nob3cvbmdIaWRlIHdvcmsgd2l0aCB0aGUgc2hvdyBhbmQgaGlkZSBldmVudHMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlIGRpcmVjdGl2ZSBleHByZXNzaW9uXHJcbiAqIGlzIHRydWUgYW5kIGZhbHNlLiBUaGlzIHN5c3RlbSB3b3JrcyBsaWtlIHRoZSBhbmltYXRpb24gc3lzdGVtIHByZXNlbnQgd2l0aCBuZ0NsYXNzIGV4Y2VwdCB0aGF0XHJcbiAqIHlvdSBtdXN0IGFsc28gaW5jbHVkZSB0aGUgIWltcG9ydGFudCBmbGFnIHRvIG92ZXJyaWRlIHRoZSBkaXNwbGF5IHByb3BlcnR5XHJcbiAqIHNvIHRoYXQgeW91IGNhbiBwZXJmb3JtIGFuIGFuaW1hdGlvbiB3aGVuIHRoZSBlbGVtZW50IGlzIGhpZGRlbiBkdXJpbmcgdGhlIHRpbWUgb2YgdGhlIGFuaW1hdGlvbi5cclxuICpcclxuICogYGBgY3NzXHJcbiAqIC8vXHJcbiAqIC8vYSB3b3JraW5nIGV4YW1wbGUgY2FuIGJlIGZvdW5kIGF0IHRoZSBib3R0b20gb2YgdGhpcyBwYWdlXHJcbiAqIC8vXHJcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLCAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7XHJcbiAqICAgLyYjNDI7IHRoaXMgaXMgcmVxdWlyZWQgYXMgb2YgMS4zeCB0byBwcm9wZXJseVxyXG4gKiAgICAgIGFwcGx5IGFsbCBzdHlsaW5nIGluIGEgc2hvdy9oaWRlIGFuaW1hdGlvbiAmIzQyOy9cclxuICogICB0cmFuc2l0aW9uOiAwcyBsaW5lYXIgYWxsO1xyXG4gKiB9XHJcbiAqXHJcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLWFjdGl2ZSxcclxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUtYWN0aXZlIHtcclxuICogICAvJiM0MjsgdGhlIHRyYW5zaXRpb24gaXMgZGVmaW5lZCBpbiB0aGUgYWN0aXZlIGNsYXNzICYjNDI7L1xyXG4gKiAgIHRyYW5zaXRpb246IDFzIGxpbmVhciBhbGw7XHJcbiAqIH1cclxuICpcclxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQgeyAuLi4gfVxyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC5uZy1oaWRlLWFkZC1hY3RpdmUgeyAuLi4gfVxyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7IC4uLiB9XHJcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7IC4uLiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBLZWVwIGluIG1pbmQgdGhhdCwgYXMgb2YgQW5ndWxhckpTIHZlcnNpb24gMS4zLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNoYW5nZSB0aGUgZGlzcGxheVxyXG4gKiBwcm9wZXJ0eSB0byBibG9jayBkdXJpbmcgYW5pbWF0aW9uIHN0YXRlcy0tbmdBbmltYXRlIHdpbGwgaGFuZGxlIHRoZSBzdHlsZSB0b2dnbGluZyBhdXRvbWF0aWNhbGx5IGZvciB5b3UuXHJcbiAqXHJcbiAqIEBhbmltYXRpb25zXHJcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAqIHwge0BsaW5rICRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzfSBgLm5nLWhpZGVgICB8IGFmdGVyIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIGhpZGRlbiB8XHJcbiAqIHwge0BsaW5rICRhbmltYXRlI3JlbW92ZUNsYXNzIHJlbW92ZUNsYXNzfSAgYC5uZy1oaWRlYCAgfCBhZnRlciB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIGNvbnRlbnRzIGFyZSBzZXQgdG8gdmlzaWJsZSB8XHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU2hvdyBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5XHJcbiAqICAgICB0aGVuIHRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiByZXNwZWN0aXZlbHkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICBDbGljayBtZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIGFyaWEtbGFiZWw9XCJUb2dnbGUgbmdIaWRlXCI+PGJyLz5cclxuICAgICAgPGRpdj5cclxuICAgICAgICBTaG93OlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtc2hvd1wiIG5nLXNob3c9XCJjaGVja2VkXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLXVwXCI+PC9zcGFuPiBJIHNob3cgdXAgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIEhpZGU6XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1zaG93XCIgbmctaGlkZT1cImNoZWNrZWRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtZG93blwiPjwvc3Bhbj4gSSBoaWRlIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJnbHlwaGljb25zLmNzc1wiPlxyXG4gICAgICBAaW1wb3J0IHVybCguLi8uLi9jb21wb25lbnRzL2Jvb3RzdHJhcC0zLjEuMS9jc3MvYm9vdHN0cmFwLmNzcyk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cclxuICAgICAgLmFuaW1hdGUtc2hvdyB7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1zaG93Lm5nLWhpZGUtYWRkLCAuYW5pbWF0ZS1zaG93Lm5nLWhpZGUtcmVtb3ZlIHtcclxuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuNXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hbmltYXRlLXNob3cubmctaGlkZSB7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDA7XHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jaGVjay1lbGVtZW50IHtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICB9XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIHZhciB0aHVtYnNVcCA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmdseXBoaWNvbi10aHVtYnMtdXAnKSk7XHJcbiAgICAgIHZhciB0aHVtYnNEb3duID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy1kb3duJykpO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zaG93IC8gbmctaGlkZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcclxuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XHJcblxyXG4gICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nU2hvd0RpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdTaG93LCBmdW5jdGlvbiBuZ1Nob3dXYXRjaEFjdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIC8vIHdlJ3JlIGFkZGluZyBhIHRlbXBvcmFyeSwgYW5pbWF0aW9uLXNwZWNpZmljIGNsYXNzIGZvciBuZy1oaWRlIHNpbmNlIHRoaXMgd2F5XHJcbiAgICAgICAgLy8gd2UgY2FuIGNvbnRyb2wgd2hlbiB0aGUgZWxlbWVudCBpcyBhY3R1YWxseSBkaXNwbGF5ZWQgb24gc2NyZWVuIHdpdGhvdXQgaGF2aW5nXHJcbiAgICAgICAgLy8gdG8gaGF2ZSBhIGdsb2JhbC9ncmVlZHkgQ1NTIHNlbGVjdG9yIHRoYXQgYnJlYWtzIHdoZW4gb3RoZXIgYW5pbWF0aW9ucyBhcmUgcnVuLlxyXG4gICAgICAgIC8vIFJlYWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxMDMjaXNzdWVjb21tZW50LTU4MzM1ODQ1XHJcbiAgICAgICAgJGFuaW1hdGVbdmFsdWUgPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oZWxlbWVudCwgTkdfSElERV9DTEFTUywge1xyXG4gICAgICAgICAgdGVtcENsYXNzZXM6IE5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1NcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdIaWRlXHJcbiAqIEBtdWx0aUVsZW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdIaWRlYCBkaXJlY3RpdmUgc2hvd3Mgb3IgaGlkZXMgdGhlIGdpdmVuIEhUTUwgZWxlbWVudCBiYXNlZCBvbiB0aGUgZXhwcmVzc2lvblxyXG4gKiBwcm92aWRlZCB0byB0aGUgYG5nSGlkZWAgYXR0cmlidXRlLiBUaGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gYnkgcmVtb3Zpbmcgb3IgYWRkaW5nXHJcbiAqIHRoZSBgbmctaGlkZWAgQ1NTIGNsYXNzIG9udG8gdGhlIGVsZW1lbnQuIFRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBwcmVkZWZpbmVkXHJcbiAqIGluIEFuZ3VsYXJKUyBhbmQgc2V0cyB0aGUgZGlzcGxheSBzdHlsZSB0byBub25lICh1c2luZyBhbiAhaW1wb3J0YW50IGZsYWcpLlxyXG4gKiBGb3IgQ1NQIG1vZGUgcGxlYXNlIGFkZCBgYW5ndWxhci1jc3AuY3NzYCB0byB5b3VyIGh0bWwgZmlsZSAoc2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDc3AgbmdDc3B9KS5cclxuICpcclxuICogYGBgaHRtbFxyXG4gKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgdHJ1dGh5IChlbGVtZW50IGlzIGhpZGRlbikgLS0+XHJcbiAqIDxkaXYgbmctaGlkZT1cIm15VmFsdWVcIiBjbGFzcz1cIm5nLWhpZGVcIj48L2Rpdj5cclxuICpcclxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIGZhbHN5IChlbGVtZW50IGlzIHZpc2libGUpIC0tPlxyXG4gKiA8ZGl2IG5nLWhpZGU9XCJteVZhbHVlXCI+PC9kaXY+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBXaGVuIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSB0aGVuIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBhZGRlZCB0byB0aGUgY2xhc3NcclxuICogYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiBmYWxzeSwgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHJlbW92ZWRcclxuICogZnJvbSB0aGUgZWxlbWVudCBjYXVzaW5nIHRoZSBlbGVtZW50IG5vdCB0byBhcHBlYXIgaGlkZGVuLlxyXG4gKlxyXG4gKiAjIyBXaHkgaXMgIWltcG9ydGFudCB1c2VkP1xyXG4gKlxyXG4gKiBZb3UgbWF5IGJlIHdvbmRlcmluZyB3aHkgIWltcG9ydGFudCBpcyB1c2VkIGZvciB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYC5uZy1oaWRlYCBzZWxlY3RvclxyXG4gKiBjYW4gYmUgZWFzaWx5IG92ZXJyaWRkZW4gYnkgaGVhdmllciBzZWxlY3RvcnMuIEZvciBleGFtcGxlLCBzb21ldGhpbmcgYXMgc2ltcGxlXHJcbiAqIGFzIGNoYW5naW5nIHRoZSBkaXNwbGF5IHN0eWxlIG9uIGEgSFRNTCBsaXN0IGl0ZW0gd291bGQgbWFrZSBoaWRkZW4gZWxlbWVudHMgYXBwZWFyIHZpc2libGUuXHJcbiAqIFRoaXMgYWxzbyBiZWNvbWVzIGEgYmlnZ2VyIGlzc3VlIHdoZW4gZGVhbGluZyB3aXRoIENTUyBmcmFtZXdvcmtzLlxyXG4gKlxyXG4gKiBCeSB1c2luZyAhaW1wb3J0YW50LCB0aGUgc2hvdyBhbmQgaGlkZSBiZWhhdmlvciB3aWxsIHdvcmsgYXMgZXhwZWN0ZWQgZGVzcGl0ZSBhbnkgY2xhc2ggYmV0d2VlbiBDU1Mgc2VsZWN0b3JcclxuICogc3BlY2lmaWNpdHkgKHdoZW4gIWltcG9ydGFudCBpc24ndCB1c2VkIHdpdGggYW55IGNvbmZsaWN0aW5nIHN0eWxlcykuIElmIGEgZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlXHJcbiAqIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGEgbWF0dGVyIG9mIHVzaW5nICFpbXBvcnRhbnQgaW4gdGhlaXIgb3duIENTUyBjb2RlLlxyXG4gKlxyXG4gKiAjIyMgT3ZlcnJpZGluZyBgLm5nLWhpZGVgXHJcbiAqXHJcbiAqIEJ5IGRlZmF1bHQsIHRoZSBgLm5nLWhpZGVgIGNsYXNzIHdpbGwgc3R5bGUgdGhlIGVsZW1lbnQgd2l0aCBgZGlzcGxheTogbm9uZSFpbXBvcnRhbnRgLiBJZiB5b3Ugd2lzaCB0byBjaGFuZ2VcclxuICogdGhlIGhpZGUgYmVoYXZpb3Igd2l0aCBuZ1Nob3cvbmdIaWRlIHRoZW4gdGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmVzdGF0aW5nIHRoZSBzdHlsZXMgZm9yIHRoZSBgLm5nLWhpZGVgXHJcbiAqIGNsYXNzIGluIENTUzpcclxuICpcclxuICogYGBgY3NzXHJcbiAqIC5uZy1oaWRlIHtcclxuICogICAvJiM0MjsgdGhpcyBpcyBqdXN0IGFub3RoZXIgZm9ybSBvZiBoaWRpbmcgYW4gZWxlbWVudCAmIzQyOy9cclxuICogICBkaXNwbGF5OiBibG9jayFpbXBvcnRhbnQ7XHJcbiAqICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gKiAgIHRvcDogLTk5OTlweDtcclxuICogICBsZWZ0OiAtOTk5OXB4O1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0IHlvdSBkb24ndCBuZWVkIHRvIG92ZXJyaWRlIGluIENTUyBhbnl0aGluZyBhbmQgdGhlIGFuaW1hdGlvbnMgd2lsbCB3b3JrIGFyb3VuZCB0aGUgZGlzcGxheSBzdHlsZS5cclxuICpcclxuICogIyMgQSBub3RlIGFib3V0IGFuaW1hdGlvbnMgd2l0aCBgbmdIaWRlYFxyXG4gKlxyXG4gKiBBbmltYXRpb25zIGluIG5nU2hvdy9uZ0hpZGUgd29yayB3aXRoIHRoZSBzaG93IGFuZCBoaWRlIGV2ZW50cyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgZGlyZWN0aXZlIGV4cHJlc3Npb25cclxuICogaXMgdHJ1ZSBhbmQgZmFsc2UuIFRoaXMgc3lzdGVtIHdvcmtzIGxpa2UgdGhlIGFuaW1hdGlvbiBzeXN0ZW0gcHJlc2VudCB3aXRoIG5nQ2xhc3MsIGV4Y2VwdCB0aGF0IHRoZSBgLm5nLWhpZGVgXHJcbiAqIENTUyBjbGFzcyBpcyBhZGRlZCBhbmQgcmVtb3ZlZCBmb3IgeW91IGluc3RlYWQgb2YgeW91ciBvd24gQ1NTIGNsYXNzLlxyXG4gKlxyXG4gKiBgYGBjc3NcclxuICogLy9cclxuICogLy9hIHdvcmtpbmcgZXhhbXBsZSBjYW4gYmUgZm91bmQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIHBhZ2VcclxuICogLy9cclxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQsIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHtcclxuICogICB0cmFuc2l0aW9uOiAwLjVzIGxpbmVhciBhbGw7XHJcbiAqIH1cclxuICpcclxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQgeyAuLi4gfVxyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC5uZy1oaWRlLWFkZC1hY3RpdmUgeyAuLi4gfVxyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7IC4uLiB9XHJcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7IC4uLiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBLZWVwIGluIG1pbmQgdGhhdCwgYXMgb2YgQW5ndWxhckpTIHZlcnNpb24gMS4zLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNoYW5nZSB0aGUgZGlzcGxheVxyXG4gKiBwcm9wZXJ0eSB0byBibG9jayBkdXJpbmcgYW5pbWF0aW9uIHN0YXRlcy0tbmdBbmltYXRlIHdpbGwgaGFuZGxlIHRoZSBzdHlsZSB0b2dnbGluZyBhdXRvbWF0aWNhbGx5IGZvciB5b3UuXHJcbiAqXHJcbiAqIEBhbmltYXRpb25zXHJcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAqIHwge0BsaW5rICRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzfSBgLm5nLWhpZGVgICB8IGFmdGVyIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSBhbmQganVzdCBiZWZvcmUgdGhlIGNvbnRlbnRzIGFyZSBzZXQgdG8gaGlkZGVuIHxcclxuICogfCB7QGxpbmsgJGFuaW1hdGUjcmVtb3ZlQ2xhc3MgcmVtb3ZlQ2xhc3N9ICBgLm5nLWhpZGVgICB8IGFmdGVyIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIGNvbnRlbnRzIGFyZSBzZXQgdG8gdmlzaWJsZSB8XHJcbiAqXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nSGlkZSBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5IHRoZW5cclxuICogICAgIHRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiByZXNwZWN0aXZlbHkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICBDbGljayBtZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIGFyaWEtbGFiZWw9XCJUb2dnbGUgbmdTaG93XCI+PGJyLz5cclxuICAgICAgPGRpdj5cclxuICAgICAgICBTaG93OlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtaGlkZVwiIG5nLXNob3c9XCJjaGVja2VkXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLXVwXCI+PC9zcGFuPiBJIHNob3cgdXAgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIEhpZGU6XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1oaWRlXCIgbmctaGlkZT1cImNoZWNrZWRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtZG93blwiPjwvc3Bhbj4gSSBoaWRlIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJnbHlwaGljb25zLmNzc1wiPlxyXG4gICAgICBAaW1wb3J0IHVybCguLi8uLi9jb21wb25lbnRzL2Jvb3RzdHJhcC0zLjEuMS9jc3MvYm9vdHN0cmFwLmNzcyk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cclxuICAgICAgLmFuaW1hdGUtaGlkZSB7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtaGlkZS5uZy1oaWRlIHtcclxuICAgICAgICBsaW5lLWhlaWdodDogMDtcclxuICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICAgIHBhZGRpbmc6IDAgMTBweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNoZWNrLWVsZW1lbnQge1xyXG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgIH1cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgdmFyIHRodW1ic1VwID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy11cCcpKTtcclxuICAgICAgdmFyIHRodW1ic0Rvd24gPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLWRvd24nKSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXNob3cgLyBuZy1oaWRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xyXG4gICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVUcnV0aHkoKTtcclxuXHJcbiAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xyXG5cclxuICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xyXG4gICAgICB9KTtcclxuICAgIDwvZmlsZT5cclxuICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdIaWRlRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ0hpZGUsIGZ1bmN0aW9uIG5nSGlkZVdhdGNoQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgLy8gVGhlIGNvbW1lbnQgaW5zaWRlIG9mIHRoZSBuZ1Nob3dEaXJlY3RpdmUgZXhwbGFpbnMgd2h5IHdlIGFkZCBhbmRcclxuICAgICAgICAvLyByZW1vdmUgYSB0ZW1wb3JhcnkgY2xhc3MgZm9yIHRoZSBzaG93L2hpZGUgYW5pbWF0aW9uXHJcbiAgICAgICAgJGFuaW1hdGVbdmFsdWUgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oZWxlbWVudCxOR19ISURFX0NMQVNTLCB7XHJcbiAgICAgICAgICB0ZW1wQ2xhc3NlczogTkdfSElERV9JTl9QUk9HUkVTU19DTEFTU1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59XTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nU3R5bGVcclxuICogQHJlc3RyaWN0IEFDXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nU3R5bGVgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNldCBDU1Mgc3R5bGUgb24gYW4gSFRNTCBlbGVtZW50IGNvbmRpdGlvbmFsbHkuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3R5bGVcclxuICpcclxuICoge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gd2hpY2ggZXZhbHMgdG8gYW5cclxuICogb2JqZWN0IHdob3NlIGtleXMgYXJlIENTUyBzdHlsZSBuYW1lcyBhbmQgdmFsdWVzIGFyZSBjb3JyZXNwb25kaW5nIHZhbHVlcyBmb3IgdGhvc2UgQ1NTXHJcbiAqIGtleXMuXHJcbiAqXHJcbiAqIFNpbmNlIHNvbWUgQ1NTIHN0eWxlIG5hbWVzIGFyZSBub3QgdmFsaWQga2V5cyBmb3IgYW4gb2JqZWN0LCB0aGV5IG11c3QgYmUgcXVvdGVkLlxyXG4gKiBTZWUgdGhlICdiYWNrZ3JvdW5kLWNvbG9yJyBzdHlsZSBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0IGNvbG9yXCIgbmctY2xpY2s9XCJteVN0eWxlPXtjb2xvcjoncmVkJ31cIj5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0IGJhY2tncm91bmRcIiBuZy1jbGljaz1cIm15U3R5bGU9eydiYWNrZ3JvdW5kLWNvbG9yJzonYmx1ZSd9XCI+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cImNsZWFyXCIgbmctY2xpY2s9XCJteVN0eWxlPXt9XCI+XHJcbiAgICAgICAgPGJyLz5cclxuICAgICAgICA8c3BhbiBuZy1zdHlsZT1cIm15U3R5bGVcIj5TYW1wbGUgVGV4dDwvc3Bhbj5cclxuICAgICAgICA8cHJlPm15U3R5bGU9e3tteVN0eWxlfX08L3ByZT5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgc3BhbiB7XHJcbiAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgIH1cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgdmFyIGNvbG9yU3BhbiA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuJykpO1xyXG5cclxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3R5bGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnaW5wdXRbdmFsdWU9XFwnc2V0IGNvbG9yXFwnXScpKS5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QoY29sb3JTcGFuLmdldENzc1ZhbHVlKCdjb2xvcicpKS50b0JlKCdyZ2JhKDI1NSwgMCwgMCwgMSknKTtcclxuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2lucHV0W3ZhbHVlPWNsZWFyXScpKS5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QoY29sb3JTcGFuLmdldENzc1ZhbHVlKCdjb2xvcicpKS50b0JlKCdyZ2JhKDAsIDAsIDAsIDEpJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ1N0eWxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICBzY29wZS4kd2F0Y2goYXR0ci5uZ1N0eWxlLCBmdW5jdGlvbiBuZ1N0eWxlV2F0Y2hBY3Rpb24obmV3U3R5bGVzLCBvbGRTdHlsZXMpIHtcclxuICAgIGlmIChvbGRTdHlsZXMgJiYgKG5ld1N0eWxlcyAhPT0gb2xkU3R5bGVzKSkge1xyXG4gICAgICBmb3JFYWNoKG9sZFN0eWxlcywgZnVuY3Rpb24odmFsLCBzdHlsZSkgeyBlbGVtZW50LmNzcyhzdHlsZSwgJycpO30pO1xyXG4gICAgfVxyXG4gICAgaWYgKG5ld1N0eWxlcykgZWxlbWVudC5jc3MobmV3U3R5bGVzKTtcclxuICB9LCB0cnVlKTtcclxufSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1N3aXRjaFxyXG4gKiBAcmVzdHJpY3QgRUFcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdTd2l0Y2hgIGRpcmVjdGl2ZSBpcyB1c2VkIHRvIGNvbmRpdGlvbmFsbHkgc3dhcCBET00gc3RydWN0dXJlIG9uIHlvdXIgdGVtcGxhdGUgYmFzZWQgb24gYSBzY29wZSBleHByZXNzaW9uLlxyXG4gKiBFbGVtZW50cyB3aXRoaW4gYG5nU3dpdGNoYCBidXQgd2l0aG91dCBgbmdTd2l0Y2hXaGVuYCBvciBgbmdTd2l0Y2hEZWZhdWx0YCBkaXJlY3RpdmVzIHdpbGwgYmUgcHJlc2VydmVkIGF0IHRoZSBsb2NhdGlvblxyXG4gKiBhcyBzcGVjaWZpZWQgaW4gdGhlIHRlbXBsYXRlLlxyXG4gKlxyXG4gKiBUaGUgZGlyZWN0aXZlIGl0c2VsZiB3b3JrcyBzaW1pbGFyIHRvIG5nSW5jbHVkZSwgaG93ZXZlciwgaW5zdGVhZCBvZiBkb3dubG9hZGluZyB0ZW1wbGF0ZSBjb2RlIChvciBsb2FkaW5nIGl0XHJcbiAqIGZyb20gdGhlIHRlbXBsYXRlIGNhY2hlKSwgYG5nU3dpdGNoYCBzaW1wbHkgY2hvb3NlcyBvbmUgb2YgdGhlIG5lc3RlZCBlbGVtZW50cyBhbmQgbWFrZXMgaXQgdmlzaWJsZSBiYXNlZCBvbiB3aGljaCBlbGVtZW50XHJcbiAqIG1hdGNoZXMgdGhlIHZhbHVlIG9idGFpbmVkIGZyb20gdGhlIGV2YWx1YXRlZCBleHByZXNzaW9uLiBJbiBvdGhlciB3b3JkcywgeW91IGRlZmluZSBhIGNvbnRhaW5lciBlbGVtZW50XHJcbiAqICh3aGVyZSB5b3UgcGxhY2UgdGhlIGRpcmVjdGl2ZSksIHBsYWNlIGFuIGV4cHJlc3Npb24gb24gdGhlICoqYG9uPVwiLi4uXCJgIGF0dHJpYnV0ZSoqXHJcbiAqIChvciB0aGUgKipgbmctc3dpdGNoPVwiLi4uXCJgIGF0dHJpYnV0ZSoqKSwgZGVmaW5lIGFueSBpbm5lciBlbGVtZW50cyBpbnNpZGUgb2YgdGhlIGRpcmVjdGl2ZSBhbmQgcGxhY2VcclxuICogYSB3aGVuIGF0dHJpYnV0ZSBwZXIgZWxlbWVudC4gVGhlIHdoZW4gYXR0cmlidXRlIGlzIHVzZWQgdG8gaW5mb3JtIG5nU3dpdGNoIHdoaWNoIGVsZW1lbnQgdG8gZGlzcGxheSB3aGVuIHRoZSBvblxyXG4gKiBleHByZXNzaW9uIGlzIGV2YWx1YXRlZC4gSWYgYSBtYXRjaGluZyBleHByZXNzaW9uIGlzIG5vdCBmb3VuZCB2aWEgYSB3aGVuIGF0dHJpYnV0ZSB0aGVuIGFuIGVsZW1lbnQgd2l0aCB0aGUgZGVmYXVsdFxyXG4gKiBhdHRyaWJ1dGUgaXMgZGlzcGxheWVkLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gKiBCZSBhd2FyZSB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWVzIHRvIG1hdGNoIGFnYWluc3QgY2Fubm90IGJlIGV4cHJlc3Npb25zLiBUaGV5IGFyZSBpbnRlcnByZXRlZFxyXG4gKiBhcyBsaXRlcmFsIHN0cmluZyB2YWx1ZXMgdG8gbWF0Y2ggYWdhaW5zdC5cclxuICogRm9yIGV4YW1wbGUsICoqYG5nLXN3aXRjaC13aGVuPVwic29tZVZhbFwiYCoqIHdpbGwgbWF0Y2ggYWdhaW5zdCB0aGUgc3RyaW5nIGBcInNvbWVWYWxcImAgbm90IGFnYWluc3QgdGhlXHJcbiAqIHZhbHVlIG9mIHRoZSBleHByZXNzaW9uIGAkc2NvcGUuc29tZVZhbGAuXHJcbiAqIDwvZGl2PlxyXG5cclxuICogQGFuaW1hdGlvbnNcclxuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjZW50ZXIgZW50ZXJ9ICB8IGFmdGVyIHRoZSBuZ1N3aXRjaCBjb250ZW50cyBjaGFuZ2UgYW5kIHRoZSBtYXRjaGVkIGNoaWxkIGVsZW1lbnQgaXMgcGxhY2VkIGluc2lkZSB0aGUgY29udGFpbmVyIHxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9ICB8IGFmdGVyIHRoZSBuZ1N3aXRjaCBjb250ZW50cyBjaGFuZ2UgYW5kIGp1c3QgYmVmb3JlIHRoZSBmb3JtZXIgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHxcclxuICpcclxuICogQHVzYWdlXHJcbiAqXHJcbiAqIGBgYFxyXG4gKiA8QU5ZIG5nLXN3aXRjaD1cImV4cHJlc3Npb25cIj5cclxuICogICA8QU5ZIG5nLXN3aXRjaC13aGVuPVwibWF0Y2hWYWx1ZTFcIj4uLi48L0FOWT5cclxuICogICA8QU5ZIG5nLXN3aXRjaC13aGVuPVwibWF0Y2hWYWx1ZTJcIj4uLi48L0FOWT5cclxuICogICA8QU5ZIG5nLXN3aXRjaC1kZWZhdWx0Pi4uLjwvQU5ZPlxyXG4gKiA8L0FOWT5cclxuICogYGBgXHJcbiAqXHJcbiAqXHJcbiAqIEBzY29wZVxyXG4gKiBAcHJpb3JpdHkgMTIwMFxyXG4gKiBAcGFyYW0geyp9IG5nU3dpdGNofG9uIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdCA8Y29kZT5uZy1zd2l0Y2gtd2hlbjwvY29kZT4uXHJcbiAqIE9uIGNoaWxkIGVsZW1lbnRzIGFkZDpcclxuICpcclxuICogKiBgbmdTd2l0Y2hXaGVuYDogdGhlIGNhc2Ugc3RhdGVtZW50IHRvIG1hdGNoIGFnYWluc3QuIElmIG1hdGNoIHRoZW4gdGhpc1xyXG4gKiAgIGNhc2Ugd2lsbCBiZSBkaXNwbGF5ZWQuIElmIHRoZSBzYW1lIG1hdGNoIGFwcGVhcnMgbXVsdGlwbGUgdGltZXMsIGFsbCB0aGVcclxuICogICBlbGVtZW50cyB3aWxsIGJlIGRpc3BsYXllZC5cclxuICogKiBgbmdTd2l0Y2hEZWZhdWx0YDogdGhlIGRlZmF1bHQgY2FzZSB3aGVuIG5vIG90aGVyIGNhc2UgbWF0Y2guIElmIHRoZXJlXHJcbiAqICAgYXJlIG11bHRpcGxlIGRlZmF1bHQgY2FzZXMsIGFsbCBvZiB0aGVtIHdpbGwgYmUgZGlzcGxheWVkIHdoZW4gbm8gb3RoZXJcclxuICogICBjYXNlIG1hdGNoLlxyXG4gKlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gIDxleGFtcGxlIG1vZHVsZT1cInN3aXRjaEV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cclxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInNlbGVjdGlvblwiIG5nLW9wdGlvbnM9XCJpdGVtIGZvciBpdGVtIGluIGl0ZW1zXCI+XHJcbiAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgPGNvZGU+c2VsZWN0aW9uPXt7c2VsZWN0aW9ufX08L2NvZGU+XHJcbiAgICAgICAgPGhyLz5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2gtY29udGFpbmVyXCJcclxuICAgICAgICAgIG5nLXN3aXRjaCBvbj1cInNlbGVjdGlvblwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2hcIiBuZy1zd2l0Y2gtd2hlbj1cInNldHRpbmdzXCI+U2V0dGluZ3MgRGl2PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC13aGVuPVwiaG9tZVwiPkhvbWUgU3BhbjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2hcIiBuZy1zd2l0Y2gtZGVmYXVsdD5kZWZhdWx0PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnc3dpdGNoRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICRzY29wZS5pdGVtcyA9IFsnc2V0dGluZ3MnLCAnaG9tZScsICdvdGhlciddO1xyXG4gICAgICAgICAgJHNjb3BlLnNlbGVjdGlvbiA9ICRzY29wZS5pdGVtc1swXTtcclxuICAgICAgICB9XSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cclxuICAgICAgLmFuaW1hdGUtc3dpdGNoLWNvbnRhaW5lciB7XHJcbiAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XHJcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcclxuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgIGhlaWdodDo0MHB4O1xyXG4gICAgICAgIG92ZXJmbG93OmhpZGRlbjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtc3dpdGNoIHtcclxuICAgICAgICBwYWRkaW5nOjEwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1hbmltYXRlIHtcclxuICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XHJcblxyXG4gICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xyXG4gICAgICAgIHRvcDowO1xyXG4gICAgICAgIGxlZnQ6MDtcclxuICAgICAgICByaWdodDowO1xyXG4gICAgICAgIGJvdHRvbTowO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctbGVhdmUubmctbGVhdmUtYWN0aXZlLFxyXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctZW50ZXIge1xyXG4gICAgICAgIHRvcDotNTBweDtcclxuICAgICAgfVxyXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctbGVhdmUsXHJcbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xyXG4gICAgICAgIHRvcDowO1xyXG4gICAgICB9XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIHZhciBzd2l0Y2hFbGVtID0gZWxlbWVudChieS5jc3MoJ1tuZy1zd2l0Y2hdJykpO1xyXG4gICAgICB2YXIgc2VsZWN0ID0gZWxlbWVudChieS5tb2RlbCgnc2VsZWN0aW9uJykpO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBzdGFydCBpbiBzZXR0aW5ncycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvU2V0dGluZ3MgRGl2Lyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpdCgnc2hvdWxkIGNoYW5nZSB0byBob21lJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMSkuY2xpY2soKTtcclxuICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0hvbWUgU3Bhbi8pO1xyXG4gICAgICB9KTtcclxuICAgICAgaXQoJ3Nob3VsZCBzZWxlY3QgZGVmYXVsdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDIpLmNsaWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9kZWZhdWx0Lyk7XHJcbiAgICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ1N3aXRjaERpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkYW5pbWF0ZSwgJGNvbXBpbGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVxdWlyZTogJ25nU3dpdGNoJyxcclxuXHJcbiAgICAvLyBhc2tzIGZvciAkc2NvcGUgdG8gZm9vbCB0aGUgQkMgY29udHJvbGxlciBtb2R1bGVcclxuICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgZnVuY3Rpb24gbmdTd2l0Y2hDb250cm9sbGVyKCkge1xyXG4gICAgIHRoaXMuY2FzZXMgPSB7fTtcclxuICAgIH1dLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIG5nU3dpdGNoQ29udHJvbGxlcikge1xyXG4gICAgICB2YXIgd2F0Y2hFeHByID0gYXR0ci5uZ1N3aXRjaCB8fCBhdHRyLm9uLFxyXG4gICAgICAgICAgc2VsZWN0ZWRUcmFuc2NsdWRlcyA9IFtdLFxyXG4gICAgICAgICAgc2VsZWN0ZWRFbGVtZW50cyA9IFtdLFxyXG4gICAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMgPSBbXSxcclxuICAgICAgICAgIHNlbGVjdGVkU2NvcGVzID0gW107XHJcblxyXG4gICAgICB2YXIgc3BsaWNlRmFjdG9yeSA9IGZ1bmN0aW9uKGFycmF5LCBpbmRleCkge1xyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyBhcnJheS5zcGxpY2UoaW5kZXgsIDEpOyB9O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgc2NvcGUuJHdhdGNoKHdhdGNoRXhwciwgZnVuY3Rpb24gbmdTd2l0Y2hXYXRjaEFjdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHZhciBpLCBpaTtcclxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHByZXZpb3VzTGVhdmVBbmltYXRpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcclxuICAgICAgICAgICRhbmltYXRlLmNhbmNlbChwcmV2aW91c0xlYXZlQW5pbWF0aW9uc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb25zLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gc2VsZWN0ZWRTY29wZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xyXG4gICAgICAgICAgdmFyIHNlbGVjdGVkID0gZ2V0QmxvY2tOb2RlcyhzZWxlY3RlZEVsZW1lbnRzW2ldLmNsb25lKTtcclxuICAgICAgICAgIHNlbGVjdGVkU2NvcGVzW2ldLiRkZXN0cm95KCk7XHJcbiAgICAgICAgICB2YXIgcHJvbWlzZSA9IHByZXZpb3VzTGVhdmVBbmltYXRpb25zW2ldID0gJGFuaW1hdGUubGVhdmUoc2VsZWN0ZWQpO1xyXG4gICAgICAgICAgcHJvbWlzZS50aGVuKHNwbGljZUZhY3RvcnkocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMsIGkpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID0gMDtcclxuICAgICAgICBzZWxlY3RlZFNjb3Blcy5sZW5ndGggPSAwO1xyXG5cclxuICAgICAgICBpZiAoKHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbJyEnICsgdmFsdWVdIHx8IG5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1snPyddKSkge1xyXG4gICAgICAgICAgZm9yRWFjaChzZWxlY3RlZFRyYW5zY2x1ZGVzLCBmdW5jdGlvbihzZWxlY3RlZFRyYW5zY2x1ZGUpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRUcmFuc2NsdWRlLnRyYW5zY2x1ZGUoZnVuY3Rpb24oY2FzZUVsZW1lbnQsIHNlbGVjdGVkU2NvcGUpIHtcclxuICAgICAgICAgICAgICBzZWxlY3RlZFNjb3Blcy5wdXNoKHNlbGVjdGVkU2NvcGUpO1xyXG4gICAgICAgICAgICAgIHZhciBhbmNob3IgPSBzZWxlY3RlZFRyYW5zY2x1ZGUuZWxlbWVudDtcclxuICAgICAgICAgICAgICBjYXNlRWxlbWVudFtjYXNlRWxlbWVudC5sZW5ndGgrK10gPSAkY29tcGlsZS4kJGNyZWF0ZUNvbW1lbnQoJ2VuZCBuZ1N3aXRjaFdoZW4nKTtcclxuICAgICAgICAgICAgICB2YXIgYmxvY2sgPSB7IGNsb25lOiBjYXNlRWxlbWVudCB9O1xyXG5cclxuICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNhc2VFbGVtZW50LCBhbmNob3IucGFyZW50KCksIGFuY2hvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59XTtcclxuXHJcbnZhciBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XHJcbiAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gIHByaW9yaXR5OiAxMjAwLFxyXG4gIHJlcXVpcmU6ICdebmdTd2l0Y2gnLFxyXG4gIG11bHRpRWxlbWVudDogdHJ1ZSxcclxuICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsICR0cmFuc2NsdWRlKSB7XHJcbiAgICBjdHJsLmNhc2VzWychJyArIGF0dHJzLm5nU3dpdGNoV2hlbl0gPSAoY3RybC5jYXNlc1snIScgKyBhdHRycy5uZ1N3aXRjaFdoZW5dIHx8IFtdKTtcclxuICAgIGN0cmwuY2FzZXNbJyEnICsgYXR0cnMubmdTd2l0Y2hXaGVuXS5wdXNoKHsgdHJhbnNjbHVkZTogJHRyYW5zY2x1ZGUsIGVsZW1lbnQ6IGVsZW1lbnQgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnZhciBuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XHJcbiAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gIHByaW9yaXR5OiAxMjAwLFxyXG4gIHJlcXVpcmU6ICdebmdTd2l0Y2gnLFxyXG4gIG11bHRpRWxlbWVudDogdHJ1ZSxcclxuICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcclxuICAgIGN0cmwuY2FzZXNbJz8nXSA9IChjdHJsLmNhc2VzWyc/J10gfHwgW10pO1xyXG4gICAgY3RybC5jYXNlc1snPyddLnB1c2goeyB0cmFuc2NsdWRlOiAkdHJhbnNjbHVkZSwgZWxlbWVudDogZWxlbWVudCB9KTtcclxuICAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nVHJhbnNjbHVkZVxyXG4gKiBAcmVzdHJpY3QgRUFDXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEaXJlY3RpdmUgdGhhdCBtYXJrcyB0aGUgaW5zZXJ0aW9uIHBvaW50IGZvciB0aGUgdHJhbnNjbHVkZWQgRE9NIG9mIHRoZSBuZWFyZXN0IHBhcmVudCBkaXJlY3RpdmUgdGhhdCB1c2VzIHRyYW5zY2x1c2lvbi5cclxuICpcclxuICogWW91IGNhbiBzcGVjaWZ5IHRoYXQgeW91IHdhbnQgdG8gaW5zZXJ0IGEgbmFtZWQgdHJhbnNjbHVzaW9uIHNsb3QsIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgc2xvdCwgYnkgcHJvdmlkaW5nIHRoZSBzbG90IG5hbWVcclxuICogYXMgdGhlIHZhbHVlIG9mIHRoZSBgbmctdHJhbnNjbHVkZWAgb3IgYG5nLXRyYW5zY2x1ZGUtc2xvdGAgYXR0cmlidXRlLlxyXG4gKlxyXG4gKiBJZiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpcyBub3QgZW1wdHkgKGkuZS4gY29udGFpbnMgb25lIG9yIG1vcmUgRE9NIG5vZGVzLCBpbmNsdWRpbmcgd2hpdGVzcGFjZSB0ZXh0IG5vZGVzKSwgYW55IGV4aXN0aW5nXHJcbiAqIGNvbnRlbnQgb2YgdGhpcyBlbGVtZW50IHdpbGwgYmUgcmVtb3ZlZCBiZWZvcmUgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgaW5zZXJ0ZWQuXHJcbiAqIElmIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGlzIGVtcHR5LCB0aGUgZXhpc3RpbmcgY29udGVudCBpcyBsZWZ0IGludGFjdC4gVGhpcyBsZXRzIHlvdSBwcm92aWRlIGZhbGxiYWNrIGNvbnRlbnQgaW4gdGhlIGNhc2VcclxuICogdGhhdCBubyB0cmFuc2NsdWRlZCBjb250ZW50IGlzIHByb3ZpZGVkLlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5nVHJhbnNjbHVkZXxuZ1RyYW5zY2x1ZGVTbG90IHRoZSBuYW1lIG9mIHRoZSBzbG90IHRvIGluc2VydCBhdCB0aGlzIHBvaW50LiBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCwgaXMgZW1wdHlcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGl0cyB2YWx1ZSBpcyB0aGUgc2FtZSBhcyB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRoZW4gdGhlIGRlZmF1bHQgc2xvdCBpcyB1c2VkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiAjIyMgQmFzaWMgdHJhbnNjbHVzaW9uXHJcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgYmFzaWMgdHJhbnNjbHVzaW9uIG9mIGNvbnRlbnQgaW50byBhIGNvbXBvbmVudCBkaXJlY3RpdmUuXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJzaW1wbGVUcmFuc2NsdWRlRXhhbXBsZVwiIG1vZHVsZT1cInRyYW5zY2x1ZGVFeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgIDxzY3JpcHQ+XHJcbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCd0cmFuc2NsdWRlRXhhbXBsZScsIFtdKVxyXG4gKiAgICAgICAgLmRpcmVjdGl2ZSgncGFuZScsIGZ1bmN0aW9uKCl7XHJcbiAqICAgICAgICAgICByZXR1cm4ge1xyXG4gKiAgICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gKiAgICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gKiAgICAgICAgICAgICBzY29wZTogeyB0aXRsZTonQCcgfSxcclxuICogICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XCI+JyArXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogZ3JheVwiPnt7dGl0bGV9fTwvZGl2PicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnPG5nLXRyYW5zY2x1ZGU+PC9uZy10cmFuc2NsdWRlPicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcclxuICogICAgICAgICAgIH07XHJcbiAqICAgICAgIH0pXHJcbiAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgICAgJHNjb3BlLnRpdGxlID0gJ0xvcmVtIElwc3VtJztcclxuICogICAgICAgICAkc2NvcGUudGV4dCA9ICdOZXF1ZSBwb3JybyBxdWlzcXVhbSBlc3QgcXVpIGRvbG9yZW0gaXBzdW0gcXVpYSBkb2xvci4uLic7XHJcbiAqICAgICAgIH1dKTtcclxuICogICAgIDwvc2NyaXB0PlxyXG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICAgPGlucHV0IG5nLW1vZGVsPVwidGl0bGVcIiBhcmlhLWxhYmVsPVwidGl0bGVcIj4gPGJyLz5cclxuICogICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidGV4dFwiIGFyaWEtbGFiZWw9XCJ0ZXh0XCI+PC90ZXh0YXJlYT4gPGJyLz5cclxuICogICAgICAgPHBhbmUgdGl0bGU9XCJ7e3RpdGxlfX1cIj57e3RleHR9fTwvcGFuZT5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAqICAgICAgaXQoJ3Nob3VsZCBoYXZlIHRyYW5zY2x1ZGVkJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgICB2YXIgdGl0bGVFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGl0bGUnKSk7XHJcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuY2xlYXIoKTtcclxuICogICAgICAgIHRpdGxlRWxlbWVudC5zZW5kS2V5cygnVElUTEUnKTtcclxuICogICAgICAgIHZhciB0ZXh0RWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSk7XHJcbiAqICAgICAgICB0ZXh0RWxlbWVudC5jbGVhcigpO1xyXG4gKiAgICAgICAgdGV4dEVsZW1lbnQuc2VuZEtleXMoJ1RFWFQnKTtcclxuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3RpdGxlJykpLmdldFRleHQoKSkudG9FcXVhbCgnVElUTEUnKTtcclxuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3RleHQnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdURVhUJyk7XHJcbiAqICAgICAgfSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqICMjIyBUcmFuc2NsdWRlIGZhbGxiYWNrIGNvbnRlbnRcclxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYE5nVHJhbnNjbHVkZWAgd2l0aCBmYWxsYmFjayBjb250ZW50LCB0aGF0XHJcbiAqIGlzIGRpc3BsYXllZCBpZiBubyB0cmFuc2NsdWRlZCBjb250ZW50IGlzIHByb3ZpZGVkLlxyXG4gKlxyXG4gKiA8ZXhhbXBsZSBtb2R1bGU9XCJ0cmFuc2NsdWRlRmFsbGJhY2tDb250ZW50RXhhbXBsZVwiPlxyXG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiA8c2NyaXB0PlxyXG4gKiBhbmd1bGFyLm1vZHVsZSgndHJhbnNjbHVkZUZhbGxiYWNrQ29udGVudEV4YW1wbGUnLCBbXSlcclxuICogLmRpcmVjdGl2ZSgnbXlCdXR0b24nLCBmdW5jdGlvbigpe1xyXG4gKiAgICAgICAgICAgICByZXR1cm4ge1xyXG4gKiAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAqICAgICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICogICAgICAgICAgICAgICBzY29wZTogdHJ1ZSxcclxuICogICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxidXR0b24gc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7XCI+JyArXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxuZy10cmFuc2NsdWRlPicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxiIHN0eWxlPVwiY29sb3I6IHJlZDtcIj5CdXR0b24xPC9iPicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L25nLXRyYW5zY2x1ZGU+JyArXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICc8L2J1dHRvbj4nXHJcbiAqICAgICAgICAgICAgIH07XHJcbiAqICAgICAgICAgfSk7XHJcbiAqIDwvc2NyaXB0PlxyXG4gKiA8IS0tIGZhbGxiYWNrIGJ1dHRvbiBjb250ZW50IC0tPlxyXG4gKiA8bXktYnV0dG9uIGlkPVwiZmFsbGJhY2tcIj48L215LWJ1dHRvbj5cclxuICogPCEtLSBtb2RpZmllZCBidXR0b24gY29udGVudCAtLT5cclxuICogPG15LWJ1dHRvbiBpZD1cIm1vZGlmaWVkXCI+XHJcbiAqICAgPGkgc3R5bGU9XCJjb2xvcjogZ3JlZW47XCI+QnV0dG9uMjwvaT5cclxuICogPC9teS1idXR0b24+XHJcbiAqIDwvZmlsZT5cclxuICogPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gKiBpdCgnc2hvdWxkIGhhdmUgZGlmZmVyZW50IHRyYW5zY2x1ZGUgZWxlbWVudCBjb250ZW50JywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdmYWxsYmFjaycpKS5nZXRUZXh0KCkpLnRvQmUoJ0J1dHRvbjEnKTtcclxuICogICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ21vZGlmaWVkJykpLmdldFRleHQoKSkudG9CZSgnQnV0dG9uMicpO1xyXG4gKiAgICAgICAgfSk7XHJcbiAqIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiAjIyMgTXVsdGktc2xvdCB0cmFuc2NsdXNpb25cclxuICogVGhpcyBleGFtcGxlIGRlbW9uc3RyYXRlcyB1c2luZyBtdWx0aS1zbG90IHRyYW5zY2x1c2lvbiBpbiBhIGNvbXBvbmVudCBkaXJlY3RpdmUuXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJtdWx0aVNsb3RUcmFuc2NsdWRlRXhhbXBsZVwiIG1vZHVsZT1cIm11bHRpU2xvdFRyYW5zY2x1ZGVFeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgPHN0eWxlPlxyXG4gKiAgICAgIC50aXRsZSwgLmZvb3RlciB7XHJcbiAqICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmF5XHJcbiAqICAgICAgfVxyXG4gKiAgICA8L3N0eWxlPlxyXG4gKiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gKiAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInRpdGxlXCIgYXJpYS1sYWJlbD1cInRpdGxlXCI+IDxici8+XHJcbiAqICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidGV4dFwiIGFyaWEtbGFiZWw9XCJ0ZXh0XCI+PC90ZXh0YXJlYT4gPGJyLz5cclxuICogICAgICA8cGFuZT5cclxuICogICAgICAgIDxwYW5lLXRpdGxlPjxhIG5nLWhyZWY9XCJ7e2xpbmt9fVwiPnt7dGl0bGV9fTwvYT48L3BhbmUtdGl0bGU+XHJcbiAqICAgICAgICA8cGFuZS1ib2R5PjxwPnt7dGV4dH19PC9wPjwvcGFuZS1ib2R5PlxyXG4gKiAgICAgIDwvcGFuZT5cclxuICogICAgPC9kaXY+XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICogICAgYW5ndWxhci5tb2R1bGUoJ211bHRpU2xvdFRyYW5zY2x1ZGVFeGFtcGxlJywgW10pXHJcbiAqICAgICAuZGlyZWN0aXZlKCdwYW5lJywgZnVuY3Rpb24oKXtcclxuICogICAgICAgIHJldHVybiB7XHJcbiAqICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAqICAgICAgICAgIHRyYW5zY2x1ZGU6IHtcclxuICogICAgICAgICAgICAndGl0bGUnOiAnP3BhbmVUaXRsZScsXHJcbiAqICAgICAgICAgICAgJ2JvZHknOiAncGFuZUJvZHknLFxyXG4gKiAgICAgICAgICAgICdmb290ZXInOiAnP3BhbmVGb290ZXInXHJcbiAqICAgICAgICAgIH0sXHJcbiAqICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1wiPicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRpdGxlXCIgbmctdHJhbnNjbHVkZT1cInRpdGxlXCI+RmFsbGJhY2sgVGl0bGU8L2Rpdj4nICtcclxuICogICAgICAgICAgICAgICAgICAgICAgJzxkaXYgbmctdHJhbnNjbHVkZT1cImJvZHlcIj48L2Rpdj4nICtcclxuICogICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmb290ZXJcIiBuZy10cmFuc2NsdWRlPVwiZm9vdGVyXCI+RmFsbGJhY2sgRm9vdGVyPC9kaXY+JyArXHJcbiAqICAgICAgICAgICAgICAgICAgICAnPC9kaXY+J1xyXG4gKiAgICAgICAgfTtcclxuICogICAgfSlcclxuICogICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAkc2NvcGUudGl0bGUgPSAnTG9yZW0gSXBzdW0nO1xyXG4gKiAgICAgICRzY29wZS5saW5rID0gXCJodHRwczovL2dvb2dsZS5jb21cIjtcclxuICogICAgICAkc2NvcGUudGV4dCA9ICdOZXF1ZSBwb3JybyBxdWlzcXVhbSBlc3QgcXVpIGRvbG9yZW0gaXBzdW0gcXVpYSBkb2xvci4uLic7XHJcbiAqICAgIH1dKTtcclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gKiAgICAgIGl0KCdzaG91bGQgaGF2ZSB0cmFuc2NsdWRlZCB0aGUgdGl0bGUgYW5kIHRoZSBib2R5JywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgICB2YXIgdGl0bGVFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGl0bGUnKSk7XHJcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuY2xlYXIoKTtcclxuICogICAgICAgIHRpdGxlRWxlbWVudC5zZW5kS2V5cygnVElUTEUnKTtcclxuICogICAgICAgIHZhciB0ZXh0RWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSk7XHJcbiAqICAgICAgICB0ZXh0RWxlbWVudC5jbGVhcigpO1xyXG4gKiAgICAgICAgdGV4dEVsZW1lbnQuc2VuZEtleXMoJ1RFWFQnKTtcclxuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLnRpdGxlJykpLmdldFRleHQoKSkudG9FcXVhbCgnVElUTEUnKTtcclxuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3RleHQnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdURVhUJyk7XHJcbiAqICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5mb290ZXInKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdGYWxsYmFjayBGb290ZXInKTtcclxuICogICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ1RyYW5zY2x1ZGVNaW5FcnIgPSBtaW5FcnIoJ25nVHJhbnNjbHVkZScpO1xyXG52YXIgbmdUcmFuc2NsdWRlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xyXG4gIHJlc3RyaWN0OiAnRUFDJyxcclxuICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIGNvbnRyb2xsZXIsICR0cmFuc2NsdWRlKSB7XHJcblxyXG4gICAgaWYgKCRhdHRycy5uZ1RyYW5zY2x1ZGUgPT09ICRhdHRycy4kYXR0ci5uZ1RyYW5zY2x1ZGUpIHtcclxuICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBpcyBvZiB0aGUgZm9ybTogYG5nLXRyYW5zY2x1ZGU9XCJuZy10cmFuc2NsdWRlXCJgXHJcbiAgICAgIC8vIHRoZW4gdHJlYXQgaXQgbGlrZSB0aGUgZGVmYXVsdFxyXG4gICAgICAkYXR0cnMubmdUcmFuc2NsdWRlID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmdUcmFuc2NsdWRlQ2xvbmVBdHRhY2hGbihjbG9uZSkge1xyXG4gICAgICBpZiAoY2xvbmUubGVuZ3RoKSB7XHJcbiAgICAgICAgJGVsZW1lbnQuZW1wdHkoKTtcclxuICAgICAgICAkZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEkdHJhbnNjbHVkZSkge1xyXG4gICAgICB0aHJvdyBuZ1RyYW5zY2x1ZGVNaW5FcnIoJ29ycGhhbicsXHJcbiAgICAgICAnSWxsZWdhbCB1c2Ugb2YgbmdUcmFuc2NsdWRlIGRpcmVjdGl2ZSBpbiB0aGUgdGVtcGxhdGUhICcgK1xyXG4gICAgICAgJ05vIHBhcmVudCBkaXJlY3RpdmUgdGhhdCByZXF1aXJlcyBhIHRyYW5zY2x1c2lvbiBmb3VuZC4gJyArXHJcbiAgICAgICAnRWxlbWVudDogezB9JyxcclxuICAgICAgIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gc2xvdCBuYW1lIGRlZmluZWQgb3IgdGhlIHNsb3QgbmFtZSBpcyBub3Qgb3B0aW9uYWxcclxuICAgIC8vIHRoZW4gdHJhbnNjbHVkZSB0aGUgc2xvdFxyXG4gICAgdmFyIHNsb3ROYW1lID0gJGF0dHJzLm5nVHJhbnNjbHVkZSB8fCAkYXR0cnMubmdUcmFuc2NsdWRlU2xvdDtcclxuICAgICR0cmFuc2NsdWRlKG5nVHJhbnNjbHVkZUNsb25lQXR0YWNoRm4sIG51bGwsIHNsb3ROYW1lKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgc2NyaXB0XHJcbiAqIEByZXN0cmljdCBFXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBMb2FkIHRoZSBjb250ZW50IG9mIGEgYDxzY3JpcHQ+YCBlbGVtZW50IGludG8ge0BsaW5rIG5nLiR0ZW1wbGF0ZUNhY2hlIGAkdGVtcGxhdGVDYWNoZWB9LCBzbyB0aGF0IHRoZVxyXG4gKiB0ZW1wbGF0ZSBjYW4gYmUgdXNlZCBieSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5jbHVkZSBgbmdJbmNsdWRlYH0sXHJcbiAqIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgYG5nVmlld2B9LCBvciB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LiBUaGUgdHlwZSBvZiB0aGVcclxuICogYDxzY3JpcHQ+YCBlbGVtZW50IG11c3QgYmUgc3BlY2lmaWVkIGFzIGB0ZXh0L25nLXRlbXBsYXRlYCwgYW5kIGEgY2FjaGUgbmFtZSBmb3IgdGhlIHRlbXBsYXRlIG11c3QgYmVcclxuICogYXNzaWduZWQgdGhyb3VnaCB0aGUgZWxlbWVudCdzIGBpZGAsIHdoaWNoIGNhbiB0aGVuIGJlIHVzZWQgYXMgYSBkaXJlY3RpdmUncyBgdGVtcGxhdGVVcmxgLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBNdXN0IGJlIHNldCB0byBgJ3RleHQvbmctdGVtcGxhdGUnYC5cclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIENhY2hlIG5hbWUgb2YgdGhlIHRlbXBsYXRlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gIDxleGFtcGxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPHNjcmlwdCB0eXBlPVwidGV4dC9uZy10ZW1wbGF0ZVwiIGlkPVwiL3RwbC5odG1sXCI+XHJcbiAgICAgICAgQ29udGVudCBvZiB0aGUgdGVtcGxhdGUuXHJcbiAgICAgIDwvc2NyaXB0PlxyXG5cclxuICAgICAgPGEgbmctY2xpY2s9XCJjdXJyZW50VHBsPScvdHBsLmh0bWwnXCIgaWQ9XCJ0cGwtbGlua1wiPkxvYWQgaW5saW5lZCB0ZW1wbGF0ZTwvYT5cclxuICAgICAgPGRpdiBpZD1cInRwbC1jb250ZW50XCIgbmctaW5jbHVkZSBzcmM9XCJjdXJyZW50VHBsXCI+PC9kaXY+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZSBkZWZpbmVkIGluc2lkZSBzY3JpcHQgdGFnJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZWxlbWVudChieS5jc3MoJyN0cGwtbGluaycpKS5jbGljaygpO1xyXG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI3RwbC1jb250ZW50JykpLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0aGUgdGVtcGxhdGUvKTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIHNjcmlwdERpcmVjdGl2ZSA9IFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgdGVybWluYWw6IHRydWUsXHJcbiAgICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgIGlmIChhdHRyLnR5cGUgPT0gJ3RleHQvbmctdGVtcGxhdGUnKSB7XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlVXJsID0gYXR0ci5pZCxcclxuICAgICAgICAgICAgdGV4dCA9IGVsZW1lbnRbMF0udGV4dDtcclxuXHJcbiAgICAgICAgJHRlbXBsYXRlQ2FjaGUucHV0KHRlbXBsYXRlVXJsLCB0ZXh0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxudmFyIG5vb3BOZ01vZGVsQ29udHJvbGxlciA9IHsgJHNldFZpZXdWYWx1ZTogbm9vcCwgJHJlbmRlcjogbm9vcCB9O1xyXG5cclxuZnVuY3Rpb24gY2hyb21lSGFjayhvcHRpb25FbGVtZW50KSB7XHJcbiAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM4MTQ1OVxyXG4gIC8vIEFkZGluZyBhbiA8b3B0aW9uIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj4gZWxlbWVudCB0byBhIDxzZWxlY3QgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiPiBzaG91bGRcclxuICAvLyBhdXRvbWF0aWNhbGx5IHNlbGVjdCB0aGUgbmV3IGVsZW1lbnRcclxuICBpZiAob3B0aW9uRWxlbWVudFswXS5oYXNBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpIHtcclxuICAgIG9wdGlvbkVsZW1lbnRbMF0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyB0eXBlXHJcbiAqIEBuYW1lICBzZWxlY3QuU2VsZWN0Q29udHJvbGxlclxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGNvbnRyb2xsZXIgZm9yIHRoZSBgPHNlbGVjdD5gIGRpcmVjdGl2ZS4gVGhpcyBwcm92aWRlcyBzdXBwb3J0IGZvciByZWFkaW5nXHJcbiAqIGFuZCB3cml0aW5nIHRoZSBzZWxlY3RlZCB2YWx1ZShzKSBvZiB0aGUgY29udHJvbCBhbmQgYWxzbyBjb29yZGluYXRlcyBkeW5hbWljYWxseVxyXG4gKiBhZGRlZCBgPG9wdGlvbj5gIGVsZW1lbnRzLCBwZXJoYXBzIGJ5IGFuIGBuZ1JlcGVhdGAgZGlyZWN0aXZlLlxyXG4gKi9cclxudmFyIFNlbGVjdENvbnRyb2xsZXIgPVxyXG4gICAgICAgIFsnJGVsZW1lbnQnLCAnJHNjb3BlJywgZnVuY3Rpb24oJGVsZW1lbnQsICRzY29wZSkge1xyXG5cclxuICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgIG9wdGlvbnNNYXAgPSBuZXcgSGFzaE1hcCgpO1xyXG5cclxuICAvLyBJZiB0aGUgbmdNb2RlbCBkb2Vzbid0IGdldCBwcm92aWRlZCB0aGVuIHByb3ZpZGUgYSBkdW1teSBub29wIHZlcnNpb24gdG8gcHJldmVudCBlcnJvcnNcclxuICBzZWxmLm5nTW9kZWxDdHJsID0gbm9vcE5nTW9kZWxDb250cm9sbGVyO1xyXG5cclxuICAvLyBUaGUgXCJ1bmtub3duXCIgb3B0aW9uIGlzIG9uZSB0aGF0IGlzIHByZXBlbmRlZCB0byB0aGUgbGlzdCBpZiB0aGUgdmlld1ZhbHVlXHJcbiAgLy8gZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvcHRpb25zLiBXaGVuIGl0IGlzIHJlbmRlcmVkIHRoZSB2YWx1ZSBvZiB0aGUgdW5rbm93blxyXG4gIC8vIG9wdGlvbiBpcyAnPyBYWFggPycgd2hlcmUgWFhYIGlzIHRoZSBoYXNoS2V5IG9mIHRoZSB2YWx1ZSB0aGF0IGlzIG5vdCBrbm93bi5cclxuICAvL1xyXG4gIC8vIFdlIGNhbid0IGp1c3QganFMaXRlKCc8b3B0aW9uPicpIHNpbmNlIGpxTGl0ZSBpcyBub3Qgc21hcnQgZW5vdWdoXHJcbiAgLy8gdG8gY3JlYXRlIGl0IGluIDxzZWxlY3Q+IGFuZCBJRSBiYXJmcyBvdGhlcndpc2UuXHJcbiAgc2VsZi51bmtub3duT3B0aW9uID0ganFMaXRlKHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKSk7XHJcbiAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgICB2YXIgdW5rbm93blZhbCA9ICc/ICcgKyBoYXNoS2V5KHZhbCkgKyAnID8nO1xyXG4gICAgc2VsZi51bmtub3duT3B0aW9uLnZhbCh1bmtub3duVmFsKTtcclxuICAgICRlbGVtZW50LnByZXBlbmQoc2VsZi51bmtub3duT3B0aW9uKTtcclxuICAgICRlbGVtZW50LnZhbCh1bmtub3duVmFsKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gZGlzYWJsZSB1bmtub3duIG9wdGlvbiBzbyB0aGF0IHdlIGRvbid0IGRvIHdvcmsgd2hlbiB0aGUgd2hvbGUgc2VsZWN0IGlzIGJlaW5nIGRlc3Ryb3llZFxyXG4gICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uID0gbm9vcDtcclxuICB9KTtcclxuXHJcbiAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoc2VsZi51bmtub3duT3B0aW9uLnBhcmVudCgpKSBzZWxmLnVua25vd25PcHRpb24ucmVtb3ZlKCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8vIFJlYWQgdGhlIHZhbHVlIG9mIHRoZSBzZWxlY3QgY29udHJvbCwgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgY2hhbmdlcyBkZXBlbmRpbmdcclxuICAvLyB1cG9uIHdoZXRoZXIgdGhlIHNlbGVjdCBjYW4gaGF2ZSBtdWx0aXBsZSB2YWx1ZXMgYW5kIHdoZXRoZXIgbmdPcHRpb25zIGlzIGF0IHdvcmsuXHJcbiAgc2VsZi5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkU2luZ2xlVmFsdWUoKSB7XHJcbiAgICBzZWxmLnJlbW92ZVVua25vd25PcHRpb24oKTtcclxuICAgIHJldHVybiAkZWxlbWVudC52YWwoKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLy8gV3JpdGUgdGhlIHZhbHVlIHRvIHRoZSBzZWxlY3QgY29udHJvbCwgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgY2hhbmdlcyBkZXBlbmRpbmdcclxuICAvLyB1cG9uIHdoZXRoZXIgdGhlIHNlbGVjdCBjYW4gaGF2ZSBtdWx0aXBsZSB2YWx1ZXMgYW5kIHdoZXRoZXIgbmdPcHRpb25zIGlzIGF0IHdvcmsuXHJcbiAgc2VsZi53cml0ZVZhbHVlID0gZnVuY3Rpb24gd3JpdGVTaW5nbGVWYWx1ZSh2YWx1ZSkge1xyXG4gICAgaWYgKHNlbGYuaGFzT3B0aW9uKHZhbHVlKSkge1xyXG4gICAgICBzZWxmLnJlbW92ZVVua25vd25PcHRpb24oKTtcclxuICAgICAgJGVsZW1lbnQudmFsKHZhbHVlKTtcclxuICAgICAgaWYgKHZhbHVlID09PSAnJykgc2VsZi5lbXB0eU9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpOyAvLyB0byBtYWtlIElFOSBoYXBweVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgc2VsZi5lbXB0eU9wdGlvbikge1xyXG4gICAgICAgIHNlbGYucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xyXG4gICAgICAgICRlbGVtZW50LnZhbCgnJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuICAvLyBUZWxsIHRoZSBzZWxlY3QgY29udHJvbCB0aGF0IGFuIG9wdGlvbiwgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUsIGhhcyBiZWVuIGFkZGVkXHJcbiAgc2VsZi5hZGRPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSwgZWxlbWVudCkge1xyXG4gICAgLy8gU2tpcCBjb21tZW50IG5vZGVzLCBhcyB0aGV5IG9ubHkgcG9sbHV0ZSB0aGUgYG9wdGlvbnNNYXBgXHJcbiAgICBpZiAoZWxlbWVudFswXS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQpIHJldHVybjtcclxuXHJcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgJ1wib3B0aW9uIHZhbHVlXCInKTtcclxuICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcclxuICAgICAgc2VsZi5lbXB0eU9wdGlvbiA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICB2YXIgY291bnQgPSBvcHRpb25zTWFwLmdldCh2YWx1ZSkgfHwgMDtcclxuICAgIG9wdGlvbnNNYXAucHV0KHZhbHVlLCBjb3VudCArIDEpO1xyXG4gICAgc2VsZi5uZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICBjaHJvbWVIYWNrKGVsZW1lbnQpO1xyXG4gIH07XHJcblxyXG4gIC8vIFRlbGwgdGhlIHNlbGVjdCBjb250cm9sIHRoYXQgYW4gb3B0aW9uLCB3aXRoIHRoZSBnaXZlbiB2YWx1ZSwgaGFzIGJlZW4gcmVtb3ZlZFxyXG4gIHNlbGYucmVtb3ZlT3B0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHZhciBjb3VudCA9IG9wdGlvbnNNYXAuZ2V0KHZhbHVlKTtcclxuICAgIGlmIChjb3VudCkge1xyXG4gICAgICBpZiAoY291bnQgPT09IDEpIHtcclxuICAgICAgICBvcHRpb25zTWFwLnJlbW92ZSh2YWx1ZSk7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgc2VsZi5lbXB0eU9wdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb3B0aW9uc01hcC5wdXQodmFsdWUsIGNvdW50IC0gMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBDaGVjayB3aGV0aGVyIHRoZSBzZWxlY3QgY29udHJvbCBoYXMgYW4gb3B0aW9uIG1hdGNoaW5nIHRoZSBnaXZlbiB2YWx1ZVxyXG4gIHNlbGYuaGFzT3B0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiAhIW9wdGlvbnNNYXAuZ2V0KHZhbHVlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgc2VsZi5yZWdpc3Rlck9wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvblNjb3BlLCBvcHRpb25FbGVtZW50LCBvcHRpb25BdHRycywgaW50ZXJwb2xhdGVWYWx1ZUZuLCBpbnRlcnBvbGF0ZVRleHRGbikge1xyXG5cclxuICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlRm4pIHtcclxuICAgICAgLy8gVGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBpbnRlcnBvbGF0ZWRcclxuICAgICAgdmFyIG9sZFZhbDtcclxuICAgICAgb3B0aW9uQXR0cnMuJG9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24gdmFsdWVBdHRyaWJ1dGVPYnNlcnZlQWN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgIGlmIChpc0RlZmluZWQob2xkVmFsKSkge1xyXG4gICAgICAgICAgc2VsZi5yZW1vdmVPcHRpb24ob2xkVmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgb2xkVmFsID0gbmV3VmFsO1xyXG4gICAgICAgIHNlbGYuYWRkT3B0aW9uKG5ld1ZhbCwgb3B0aW9uRWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZVRleHRGbikge1xyXG4gICAgICAvLyBUaGUgdGV4dCBjb250ZW50IGlzIGludGVycG9sYXRlZFxyXG4gICAgICBvcHRpb25TY29wZS4kd2F0Y2goaW50ZXJwb2xhdGVUZXh0Rm4sIGZ1bmN0aW9uIGludGVycG9sYXRlV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcclxuICAgICAgICBvcHRpb25BdHRycy4kc2V0KCd2YWx1ZScsIG5ld1ZhbCk7XHJcbiAgICAgICAgaWYgKG9sZFZhbCAhPT0gbmV3VmFsKSB7XHJcbiAgICAgICAgICBzZWxmLnJlbW92ZU9wdGlvbihvbGRWYWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmFkZE9wdGlvbihuZXdWYWwsIG9wdGlvbkVsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgc3RhdGljXHJcbiAgICAgIHNlbGYuYWRkT3B0aW9uKG9wdGlvbkF0dHJzLnZhbHVlLCBvcHRpb25FbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBvcHRpb25FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZWxmLnJlbW92ZU9wdGlvbihvcHRpb25BdHRycy52YWx1ZSk7XHJcbiAgICAgIHNlbGYubmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxufV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBzZWxlY3RcclxuICogQHJlc3RyaWN0IEVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEhUTUwgYFNFTEVDVGAgZWxlbWVudCB3aXRoIGFuZ3VsYXIgZGF0YS1iaW5kaW5nLlxyXG4gKlxyXG4gKiBUaGUgYHNlbGVjdGAgZGlyZWN0aXZlIGlzIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IHRvIHByb3ZpZGUgZGF0YS1iaW5kaW5nXHJcbiAqIGJldHdlZW4gdGhlIHNjb3BlIGFuZCB0aGUgYDxzZWxlY3Q+YCBjb250cm9sIChpbmNsdWRpbmcgc2V0dGluZyBkZWZhdWx0IHZhbHVlcykuXHJcbiAqIEl0IGFsc28gaGFuZGxlcyBkeW5hbWljIGA8b3B0aW9uPmAgZWxlbWVudHMsIHdoaWNoIGNhbiBiZSBhZGRlZCB1c2luZyB0aGUge0BsaW5rIG5nUmVwZWF0IGBuZ1JlcGVhdH1gIG9yXHJcbiAqIHtAbGluayBuZ09wdGlvbnMgYG5nT3B0aW9uc2B9IGRpcmVjdGl2ZXMuXHJcbiAqXHJcbiAqIFdoZW4gYW4gaXRlbSBpbiB0aGUgYDxzZWxlY3Q+YCBtZW51IGlzIHNlbGVjdGVkLCB0aGUgdmFsdWUgb2YgdGhlIHNlbGVjdGVkIG9wdGlvbiB3aWxsIGJlIGJvdW5kXHJcbiAqIHRvIHRoZSBtb2RlbCBpZGVudGlmaWVkIGJ5IHRoZSBgbmdNb2RlbGAgZGlyZWN0aXZlLiBXaXRoIHN0YXRpYyBvciByZXBlYXRlZCBvcHRpb25zLCB0aGlzIGlzXHJcbiAqIHRoZSBjb250ZW50IG9mIHRoZSBgdmFsdWVgIGF0dHJpYnV0ZSBvciB0aGUgdGV4dENvbnRlbnQgb2YgdGhlIGA8b3B0aW9uPmAsIGlmIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgbWlzc2luZy5cclxuICogSWYgeW91IHdhbnQgZHluYW1pYyB2YWx1ZSBhdHRyaWJ1dGVzLCB5b3UgY2FuIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgdmFsdWUgYXR0cmlidXRlLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiBOb3RlIHRoYXQgdGhlIHZhbHVlIG9mIGEgYHNlbGVjdGAgZGlyZWN0aXZlIHVzZWQgd2l0aG91dCBgbmdPcHRpb25zYCBpcyBhbHdheXMgYSBzdHJpbmcuXHJcbiAqIFdoZW4gdGhlIG1vZGVsIG5lZWRzIHRvIGJlIGJvdW5kIHRvIGEgbm9uLXN0cmluZyB2YWx1ZSwgeW91IG11c3QgZWl0aGVyIGV4cGxpY2l0bHkgY29udmVydCBpdFxyXG4gKiB1c2luZyBhIGRpcmVjdGl2ZSAoc2VlIGV4YW1wbGUgYmVsb3cpIG9yIHVzZSBgbmdPcHRpb25zYCB0byBzcGVjaWZ5IHRoZSBzZXQgb2Ygb3B0aW9ucy5cclxuICogVGhpcyBpcyBiZWNhdXNlIGFuIG9wdGlvbiBlbGVtZW50IGNhbiBvbmx5IGJlIGJvdW5kIHRvIHN0cmluZyB2YWx1ZXMgYXQgcHJlc2VudC5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIElmIHRoZSB2aWV3VmFsdWUgb2YgYG5nTW9kZWxgIGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgb3B0aW9ucywgdGhlbiB0aGUgY29udHJvbFxyXG4gKiB3aWxsIGF1dG9tYXRpY2FsbHkgYWRkIGFuIFwidW5rbm93blwiIG9wdGlvbiwgd2hpY2ggaXQgdGhlbiByZW1vdmVzIHdoZW4gdGhlIG1pc21hdGNoIGlzIHJlc29sdmVkLlxyXG4gKlxyXG4gKiBPcHRpb25hbGx5LCBhIHNpbmdsZSBoYXJkLWNvZGVkIGA8b3B0aW9uPmAgZWxlbWVudCwgd2l0aCB0aGUgdmFsdWUgc2V0IHRvIGFuIGVtcHR5IHN0cmluZywgY2FuXHJcbiAqIGJlIG5lc3RlZCBpbnRvIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQuIFRoaXMgZWxlbWVudCB3aWxsIHRoZW4gcmVwcmVzZW50IHRoZSBgbnVsbGAgb3IgXCJub3Qgc2VsZWN0ZWRcIlxyXG4gKiBvcHRpb24uIFNlZSBleGFtcGxlIGJlbG93IGZvciBkZW1vbnN0cmF0aW9uLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gKiBJbiBtYW55IGNhc2VzLCBgbmdSZXBlYXRgIGNhbiBiZSB1c2VkIG9uIGA8b3B0aW9uPmAgZWxlbWVudHMgaW5zdGVhZCBvZiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nT3B0aW9uc1xyXG4gKiBuZ09wdGlvbnN9IHRvIGFjaGlldmUgYSBzaW1pbGFyIHJlc3VsdC4gSG93ZXZlciwgYG5nT3B0aW9uc2AgcHJvdmlkZXMgc29tZSBiZW5lZml0cywgc3VjaCBhc1xyXG4gKiBtb3JlIGZsZXhpYmlsaXR5IGluIGhvdyB0aGUgYDxzZWxlY3Q+YCdzIG1vZGVsIGlzIGFzc2lnbmVkIHZpYSB0aGUgYHNlbGVjdGAgKipgYXNgKiogcGFydCBvZiB0aGVcclxuICogY29tcHJlaGVuc2lvbiBleHByZXNzaW9uLCBhbmQgYWRkaXRpb25hbGx5IGluIHJlZHVjaW5nIG1lbW9yeSBhbmQgaW5jcmVhc2luZyBzcGVlZCBieSBub3QgY3JlYXRpbmdcclxuICogYSBuZXcgc2NvcGUgZm9yIGVhY2ggcmVwZWF0ZWQgaW5zdGFuY2UuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBtdWx0aXBsZSBBbGxvd3MgbXVsdGlwbGUgb3B0aW9ucyB0byBiZSBzZWxlY3RlZC4gVGhlIHNlbGVjdGVkIHZhbHVlcyB3aWxsIGJlXHJcbiAqICAgICBib3VuZCB0byB0aGUgbW9kZWwgYXMgYW4gYXJyYXkuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgcmVxdWlyZWQgYXR0cmlidXRlIGFuZCByZXF1aXJlZCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICogdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgbmdSZXF1aXJlZCBpbnN0ZWFkIG9mIHJlcXVpcmVkXHJcbiAqIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSByZXF1aXJlZCBhdHRyaWJ1dGUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gc2VsZWN0ZWQgb3B0aW9uKHMpIGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgc2VsZWN0IGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdPcHRpb25zIHNldHMgdGhlIG9wdGlvbnMgdGhhdCB0aGUgc2VsZWN0IGlzIHBvcHVsYXRlZCB3aXRoIGFuZCBkZWZpbmVzIHdoYXQgaXNcclxuICogc2V0IG9uIHRoZSBtb2RlbCBvbiBzZWxlY3Rpb24uIFNlZSB7QGxpbmsgbmdPcHRpb25zIGBuZ09wdGlvbnNgfS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogIyMjIFNpbXBsZSBgc2VsZWN0YCBlbGVtZW50cyB3aXRoIHN0YXRpYyBvcHRpb25zXHJcbiAqXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJzdGF0aWMtc2VsZWN0XCIgbW9kdWxlPVwic3RhdGljU2VsZWN0XCI+XHJcbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxyXG4gKiAgICAgPGxhYmVsIGZvcj1cInNpbmdsZVNlbGVjdFwiPiBTaW5nbGUgc2VsZWN0OiA8L2xhYmVsPjxicj5cclxuICogICAgIDxzZWxlY3QgbmFtZT1cInNpbmdsZVNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5zaW5nbGVTZWxlY3RcIj5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0xXCI+T3B0aW9uIDE8L29wdGlvbj5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cclxuICogICAgIDwvc2VsZWN0Pjxicj5cclxuICpcclxuICogICAgIDxsYWJlbCBmb3I9XCJzaW5nbGVTZWxlY3RcIj4gU2luZ2xlIHNlbGVjdCB3aXRoIFwibm90IHNlbGVjdGVkXCIgb3B0aW9uIGFuZCBkeW5hbWljIG9wdGlvbiB2YWx1ZXM6IDwvbGFiZWw+PGJyPlxyXG4gKiAgICAgPHNlbGVjdCBuYW1lPVwic2luZ2xlU2VsZWN0XCIgaWQ9XCJzaW5nbGVTZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEuc2luZ2xlU2VsZWN0XCI+XHJcbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4tLS1QbGVhc2Ugc2VsZWN0LS0tPC9vcHRpb24+IDwhLS0gbm90IHNlbGVjdGVkIC8gYmxhbmsgb3B0aW9uIC0tPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwie3tkYXRhLm9wdGlvbjF9fVwiPk9wdGlvbiAxPC9vcHRpb24+IDwhLS0gaW50ZXJwb2xhdGlvbiAtLT5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cclxuICogICAgIDwvc2VsZWN0Pjxicj5cclxuICogICAgIDxidXR0b24gbmctY2xpY2s9XCJmb3JjZVVua25vd25PcHRpb24oKVwiPkZvcmNlIHVua25vd24gb3B0aW9uPC9idXR0b24+PGJyPlxyXG4gKiAgICAgPHR0PnNpbmdsZVNlbGVjdCA9IHt7ZGF0YS5zaW5nbGVTZWxlY3R9fTwvdHQ+XHJcbiAqXHJcbiAqICAgICA8aHI+XHJcbiAqICAgICA8bGFiZWwgZm9yPVwibXVsdGlwbGVTZWxlY3RcIj4gTXVsdGlwbGUgc2VsZWN0OiA8L2xhYmVsPjxicj5cclxuICogICAgIDxzZWxlY3QgbmFtZT1cIm11bHRpcGxlU2VsZWN0XCIgaWQ9XCJtdWx0aXBsZVNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5tdWx0aXBsZVNlbGVjdFwiIG11bHRpcGxlPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTFcIj5PcHRpb24gMTwvb3B0aW9uPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTJcIj5PcHRpb24gMjwvb3B0aW9uPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTNcIj5PcHRpb24gMzwvb3B0aW9uPlxyXG4gKiAgICAgPC9zZWxlY3Q+PGJyPlxyXG4gKiAgICAgPHR0Pm11bHRpcGxlU2VsZWN0ID0ge3tkYXRhLm11bHRpcGxlU2VsZWN0fX08L3R0Pjxici8+XHJcbiAqICAgPC9mb3JtPlxyXG4gKiA8L2Rpdj5cclxuICogPC9maWxlPlxyXG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICBhbmd1bGFyLm1vZHVsZSgnc3RhdGljU2VsZWN0JywgW10pXHJcbiAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgJHNjb3BlLmRhdGEgPSB7XHJcbiAqICAgICAgIHNpbmdsZVNlbGVjdDogbnVsbCxcclxuICogICAgICAgbXVsdGlwbGVTZWxlY3Q6IFtdLFxyXG4gKiAgICAgICBvcHRpb24xOiAnb3B0aW9uLTEnLFxyXG4gKiAgICAgIH07XHJcbiAqXHJcbiAqICAgICAgJHNjb3BlLmZvcmNlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgJHNjb3BlLmRhdGEuc2luZ2xlU2VsZWN0ID0gJ25vbnNlbnNlJztcclxuICogICAgICB9O1xyXG4gKiAgIH1dKTtcclxuICogPC9maWxlPlxyXG4gKjwvZXhhbXBsZT5cclxuICpcclxuICogIyMjIFVzaW5nIGBuZ1JlcGVhdGAgdG8gZ2VuZXJhdGUgYHNlbGVjdGAgb3B0aW9uc1xyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdyZXBlYXQtc2VsZWN0XCIgbW9kdWxlPVwibmdyZXBlYXRTZWxlY3RcIj5cclxuICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XHJcbiAqICAgICA8bGFiZWwgZm9yPVwicmVwZWF0U2VsZWN0XCI+IFJlcGVhdCBzZWxlY3Q6IDwvbGFiZWw+XHJcbiAqICAgICA8c2VsZWN0IG5hbWU9XCJyZXBlYXRTZWxlY3RcIiBpZD1cInJlcGVhdFNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5yZXBlYXRTZWxlY3RcIj5cclxuICogICAgICAgPG9wdGlvbiBuZy1yZXBlYXQ9XCJvcHRpb24gaW4gZGF0YS5hdmFpbGFibGVPcHRpb25zXCIgdmFsdWU9XCJ7e29wdGlvbi5pZH19XCI+e3tvcHRpb24ubmFtZX19PC9vcHRpb24+XHJcbiAqICAgICA8L3NlbGVjdD5cclxuICogICA8L2Zvcm0+XHJcbiAqICAgPGhyPlxyXG4gKiAgIDx0dD5yZXBlYXRTZWxlY3QgPSB7e2RhdGEucmVwZWF0U2VsZWN0fX08L3R0Pjxici8+XHJcbiAqIDwvZGl2PlxyXG4gKiA8L2ZpbGU+XHJcbiAqIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICogIGFuZ3VsYXIubW9kdWxlKCduZ3JlcGVhdFNlbGVjdCcsIFtdKVxyXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gKiAgICAgICRzY29wZS5kYXRhID0ge1xyXG4gKiAgICAgICByZXBlYXRTZWxlY3Q6IG51bGwsXHJcbiAqICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICogICAgICAgICB7aWQ6ICcxJywgbmFtZTogJ09wdGlvbiBBJ30sXHJcbiAqICAgICAgICAge2lkOiAnMicsIG5hbWU6ICdPcHRpb24gQid9LFxyXG4gKiAgICAgICAgIHtpZDogJzMnLCBuYW1lOiAnT3B0aW9uIEMnfVxyXG4gKiAgICAgICBdLFxyXG4gKiAgICAgIH07XHJcbiAqICAgfV0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqPC9leGFtcGxlPlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMgVXNpbmcgYHNlbGVjdGAgd2l0aCBgbmdPcHRpb25zYCBhbmQgc2V0dGluZyBhIGRlZmF1bHQgdmFsdWVcclxuICogU2VlIHRoZSB7QGxpbmsgbmdPcHRpb25zIG5nT3B0aW9ucyBkb2N1bWVudGF0aW9ufSBmb3IgbW9yZSBgbmdPcHRpb25zYCB1c2FnZSBleGFtcGxlcy5cclxuICpcclxuICogPGV4YW1wbGUgbmFtZT1cInNlbGVjdC13aXRoLWRlZmF1bHQtdmFsdWVzXCIgbW9kdWxlPVwiZGVmYXVsdFZhbHVlU2VsZWN0XCI+XHJcbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxyXG4gKiAgICAgPGxhYmVsIGZvcj1cIm15U2VsZWN0XCI+TWFrZSBhIGNob2ljZTo8L2xhYmVsPlxyXG4gKiAgICAgPHNlbGVjdCBuYW1lPVwibXlTZWxlY3RcIiBpZD1cIm15U2VsZWN0XCJcclxuICogICAgICAgbmctb3B0aW9ucz1cIm9wdGlvbi5uYW1lIGZvciBvcHRpb24gaW4gZGF0YS5hdmFpbGFibGVPcHRpb25zIHRyYWNrIGJ5IG9wdGlvbi5pZFwiXHJcbiAqICAgICAgIG5nLW1vZGVsPVwiZGF0YS5zZWxlY3RlZE9wdGlvblwiPjwvc2VsZWN0PlxyXG4gKiAgIDwvZm9ybT5cclxuICogICA8aHI+XHJcbiAqICAgPHR0Pm9wdGlvbiA9IHt7ZGF0YS5zZWxlY3RlZE9wdGlvbn19PC90dD48YnIvPlxyXG4gKiA8L2Rpdj5cclxuICogPC9maWxlPlxyXG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICBhbmd1bGFyLm1vZHVsZSgnZGVmYXVsdFZhbHVlU2VsZWN0JywgW10pXHJcbiAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgJHNjb3BlLmRhdGEgPSB7XHJcbiAqICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICogICAgICAgICB7aWQ6ICcxJywgbmFtZTogJ09wdGlvbiBBJ30sXHJcbiAqICAgICAgICAge2lkOiAnMicsIG5hbWU6ICdPcHRpb24gQid9LFxyXG4gKiAgICAgICAgIHtpZDogJzMnLCBuYW1lOiAnT3B0aW9uIEMnfVxyXG4gKiAgICAgICBdLFxyXG4gKiAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMycsIG5hbWU6ICdPcHRpb24gQyd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAqICAgICAgIH07XHJcbiAqICAgfV0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqPC9leGFtcGxlPlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMgQmluZGluZyBgc2VsZWN0YCB0byBhIG5vbi1zdHJpbmcgdmFsdWUgdmlhIGBuZ01vZGVsYCBwYXJzaW5nIC8gZm9ybWF0dGluZ1xyXG4gKlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwic2VsZWN0LXdpdGgtbm9uLXN0cmluZy1vcHRpb25zXCIgbW9kdWxlPVwibm9uU3RyaW5nU2VsZWN0XCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgIDxzZWxlY3QgbmctbW9kZWw9XCJtb2RlbC5pZFwiIGNvbnZlcnQtdG8tbnVtYmVyPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwiMFwiPlplcm88L29wdGlvbj5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIjFcIj5PbmU8L29wdGlvbj5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIjJcIj5Ud288L29wdGlvbj5cclxuICogICAgIDwvc2VsZWN0PlxyXG4gKiAgICAge3sgbW9kZWwgfX1cclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ25vblN0cmluZ1NlbGVjdCcsIFtdKVxyXG4gKiAgICAgICAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcclxuICogICAgICAgICAkcm9vdFNjb3BlLm1vZGVsID0geyBpZDogMiB9O1xyXG4gKiAgICAgICB9KVxyXG4gKiAgICAgICAuZGlyZWN0aXZlKCdjb252ZXJ0VG9OdW1iZXInLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgICByZXR1cm4ge1xyXG4gKiAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gKiAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XHJcbiAqICAgICAgICAgICAgIG5nTW9kZWwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWwpIHtcclxuICogICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCk7XHJcbiAqICAgICAgICAgICAgIH0pO1xyXG4gKiAgICAgICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsKSB7XHJcbiAqICAgICAgICAgICAgICAgcmV0dXJuICcnICsgdmFsO1xyXG4gKiAgICAgICAgICAgICB9KTtcclxuICogICAgICAgICAgIH1cclxuICogICAgICAgICB9O1xyXG4gKiAgICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gKiAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIHZhciBzZWxlY3QgPSBlbGVtZW50KGJ5LmNzcygnc2VsZWN0JykpO1xyXG4gKiAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgnbW9kZWwuaWQnKSkuJCgnb3B0aW9uOmNoZWNrZWQnKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1R3bycpO1xyXG4gKiAgICAgfSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqL1xyXG52YXIgc2VsZWN0RGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgcmVxdWlyZTogWydzZWxlY3QnLCAnP25nTW9kZWwnXSxcclxuICAgIGNvbnRyb2xsZXI6IFNlbGVjdENvbnRyb2xsZXIsXHJcbiAgICBwcmlvcml0eTogMSxcclxuICAgIGxpbms6IHtcclxuICAgICAgcHJlOiBzZWxlY3RQcmVMaW5rLFxyXG4gICAgICBwb3N0OiBzZWxlY3RQb3N0TGlua1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIHNlbGVjdFByZUxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XHJcblxyXG4gICAgICAvLyBpZiBuZ01vZGVsIGlzIG5vdCBkZWZpbmVkLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nXHJcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xyXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSByZXR1cm47XHJcblxyXG4gICAgICB2YXIgc2VsZWN0Q3RybCA9IGN0cmxzWzBdO1xyXG5cclxuICAgICAgc2VsZWN0Q3RybC5uZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsO1xyXG5cclxuICAgICAgLy8gV2hlbiB0aGUgc2VsZWN0ZWQgaXRlbShzKSBjaGFuZ2VzIHdlIGRlbGVnYXRlIGdldHRpbmcgdGhlIHZhbHVlIG9mIHRoZSBzZWxlY3QgY29udHJvbFxyXG4gICAgICAvLyB0byB0aGUgYHJlYWRWYWx1ZWAgbWV0aG9kLCB3aGljaCBjYW4gYmUgY2hhbmdlZCBpZiB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlXHJcbiAgICAgIC8vIHNlbGVjdGVkIHZhbHVlcyBvciBpZiB0aGUgb3B0aW9ucyBhcmUgYmVpbmcgZ2VuZXJhdGVkIGJ5IGBuZ09wdGlvbnNgXHJcbiAgICAgIGVsZW1lbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoc2VsZWN0Q3RybC5yZWFkVmFsdWUoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHNlbGVjdCBhbGxvd3MgbXVsdGlwbGUgdmFsdWVzIHRoZW4gd2UgbmVlZCB0byBtb2RpZnkgaG93IHdlIHJlYWQgYW5kIHdyaXRlXHJcbiAgICAgIC8vIHZhbHVlcyBmcm9tIGFuZCB0byB0aGUgY29udHJvbDsgYWxzbyB3aGF0IGl0IG1lYW5zIGZvciB0aGUgdmFsdWUgdG8gYmUgZW1wdHkgYW5kXHJcbiAgICAgIC8vIHdlIGhhdmUgdG8gYWRkIGFuIGV4dHJhIHdhdGNoIHNpbmNlIG5nTW9kZWwgZG9lc24ndCB3b3JrIHdlbGwgd2l0aCBhcnJheXMgLSBpdFxyXG4gICAgICAvLyBkb2Vzbid0IHRyaWdnZXIgcmVuZGVyaW5nIGlmIG9ubHkgYW4gaXRlbSBpbiB0aGUgYXJyYXkgY2hhbmdlcy5cclxuICAgICAgaWYgKGF0dHIubXVsdGlwbGUpIHtcclxuXHJcbiAgICAgICAgLy8gUmVhZCB2YWx1ZSBub3cgbmVlZHMgdG8gY2hlY2sgZWFjaCBvcHRpb24gdG8gc2VlIGlmIGl0IGlzIHNlbGVjdGVkXHJcbiAgICAgICAgc2VsZWN0Q3RybC5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkTXVsdGlwbGVWYWx1ZSgpIHtcclxuICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgICAgZm9yRWFjaChlbGVtZW50LmZpbmQoJ29wdGlvbicpLCBmdW5jdGlvbihvcHRpb24pIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgIGFycmF5LnB1c2gob3B0aW9uLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gV3JpdGUgdmFsdWUgbm93IG5lZWRzIHRvIHNldCB0aGUgc2VsZWN0ZWQgcHJvcGVydHkgb2YgZWFjaCBtYXRjaGluZyBvcHRpb25cclxuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZU11bHRpcGxlVmFsdWUodmFsdWUpIHtcclxuICAgICAgICAgIHZhciBpdGVtcyA9IG5ldyBIYXNoTWFwKHZhbHVlKTtcclxuICAgICAgICAgIGZvckVhY2goZWxlbWVudC5maW5kKCdvcHRpb24nKSwgZnVuY3Rpb24ob3B0aW9uKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGlzRGVmaW5lZChpdGVtcy5nZXQob3B0aW9uLnZhbHVlKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyB3ZSBoYXZlIHRvIGRvIGl0IG9uIGVhY2ggd2F0Y2ggc2luY2UgbmdNb2RlbCB3YXRjaGVzIHJlZmVyZW5jZSwgYnV0XHJcbiAgICAgICAgLy8gd2UgbmVlZCB0byB3b3JrIG9mIGFuIGFycmF5LCBzbyB3ZSBuZWVkIHRvIHNlZSBpZiBhbnl0aGluZyB3YXMgaW5zZXJ0ZWQvcmVtb3ZlZFxyXG4gICAgICAgIHZhciBsYXN0VmlldywgbGFzdFZpZXdSZWYgPSBOYU47XHJcbiAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIHNlbGVjdE11bHRpcGxlV2F0Y2goKSB7XHJcbiAgICAgICAgICBpZiAobGFzdFZpZXdSZWYgPT09IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgJiYgIWVxdWFscyhsYXN0VmlldywgbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgbGFzdFZpZXcgPSBzaGFsbG93Q29weShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKTtcclxuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGFzdFZpZXdSZWYgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJZiB3ZSBhcmUgYSBtdWx0aXBsZSBzZWxlY3QgdGhlbiB2YWx1ZSBpcyBub3cgYSBjb2xsZWN0aW9uXHJcbiAgICAgICAgLy8gc28gdGhlIG1lYW5pbmcgb2YgJGlzRW1wdHkgY2hhbmdlc1xyXG4gICAgICAgIG5nTW9kZWxDdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiAhdmFsdWUgfHwgdmFsdWUubGVuZ3RoID09PSAwO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0UG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAvLyBpZiBuZ01vZGVsIGlzIG5vdCBkZWZpbmVkLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nXHJcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xyXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSByZXR1cm47XHJcblxyXG4gICAgICB2YXIgc2VsZWN0Q3RybCA9IGN0cmxzWzBdO1xyXG5cclxuICAgICAgLy8gV2UgZGVsZWdhdGUgcmVuZGVyaW5nIHRvIHRoZSBgd3JpdGVWYWx1ZWAgbWV0aG9kLCB3aGljaCBjYW4gYmUgY2hhbmdlZFxyXG4gICAgICAvLyBpZiB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlIHNlbGVjdGVkIHZhbHVlcyBvciBpZiB0aGUgb3B0aW9ucyBhcmUgYmVpbmdcclxuICAgICAgLy8gZ2VuZXJhdGVkIGJ5IGBuZ09wdGlvbnNgLlxyXG4gICAgICAvLyBUaGlzIG11c3QgYmUgZG9uZSBpbiB0aGUgcG9zdExpbmsgZm4gdG8gcHJldmVudCAkcmVuZGVyIHRvIGJlIGNhbGxlZCBiZWZvcmVcclxuICAgICAgLy8gYWxsIG5vZGVzIGhhdmUgYmVlbiBsaW5rZWQgY29ycmVjdGx5LlxyXG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZWN0Q3RybC53cml0ZVZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8vIFRoZSBvcHRpb24gZGlyZWN0aXZlIGlzIHB1cmVseSBkZXNpZ25lZCB0byBjb21tdW5pY2F0ZSB0aGUgZXhpc3RlbmNlIChvciBsYWNrIG9mKVxyXG4vLyBvZiBkeW5hbWljYWxseSBjcmVhdGVkIChhbmQgZGVzdHJveWVkKSBvcHRpb24gZWxlbWVudHMgdG8gdGhlaXIgY29udGFpbmluZyBzZWxlY3RcclxuLy8gZGlyZWN0aXZlIHZpYSBpdHMgY29udHJvbGxlci5cclxudmFyIG9wdGlvbkRpcmVjdGl2ZSA9IFsnJGludGVycG9sYXRlJywgZnVuY3Rpb24oJGludGVycG9sYXRlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICBwcmlvcml0eTogMTAwLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKGF0dHIudmFsdWUpKSB7XHJcbiAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBkZWZpbmVkLCBjaGVjayBpZiBpdCBjb250YWlucyBhbiBpbnRlcnBvbGF0aW9uXHJcbiAgICAgICAgdmFyIGludGVycG9sYXRlVmFsdWVGbiA9ICRpbnRlcnBvbGF0ZShhdHRyLnZhbHVlLCB0cnVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBJZiB0aGUgdmFsdWUgYXR0cmlidXRlIGlzIG5vdCBkZWZpbmVkIHRoZW4gd2UgZmFsbCBiYWNrIHRvIHRoZVxyXG4gICAgICAgIC8vIHRleHQgY29udGVudCBvZiB0aGUgb3B0aW9uIGVsZW1lbnQsIHdoaWNoIG1heSBiZSBpbnRlcnBvbGF0ZWRcclxuICAgICAgICB2YXIgaW50ZXJwb2xhdGVUZXh0Rm4gPSAkaW50ZXJwb2xhdGUoZWxlbWVudC50ZXh0KCksIHRydWUpO1xyXG4gICAgICAgIGlmICghaW50ZXJwb2xhdGVUZXh0Rm4pIHtcclxuICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBlbGVtZW50LnRleHQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAvLyBUaGlzIGlzIGFuIG9wdGltaXphdGlvbiBvdmVyIHVzaW5nIF5eIHNpbmNlIHdlIGRvbid0IHdhbnQgdG8gaGF2ZSB0byBzZWFyY2hcclxuICAgICAgICAvLyBhbGwgdGhlIHdheSB0byB0aGUgcm9vdCBvZiB0aGUgRE9NIGZvciBldmVyeSBzaW5nbGUgb3B0aW9uIGVsZW1lbnRcclxuICAgICAgICB2YXIgc2VsZWN0Q3RybE5hbWUgPSAnJHNlbGVjdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpLFxyXG4gICAgICAgICAgICBzZWxlY3RDdHJsID0gcGFyZW50LmRhdGEoc2VsZWN0Q3RybE5hbWUpIHx8XHJcbiAgICAgICAgICAgICAgcGFyZW50LnBhcmVudCgpLmRhdGEoc2VsZWN0Q3RybE5hbWUpOyAvLyBpbiBjYXNlIHdlIGFyZSBpbiBvcHRncm91cFxyXG5cclxuICAgICAgICBpZiAoc2VsZWN0Q3RybCkge1xyXG4gICAgICAgICAgc2VsZWN0Q3RybC5yZWdpc3Rlck9wdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgaW50ZXJwb2xhdGVWYWx1ZUZuLCBpbnRlcnBvbGF0ZVRleHRGbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxudmFyIHN0eWxlRGlyZWN0aXZlID0gdmFsdWVGbih7XHJcbiAgcmVzdHJpY3Q6ICdFJyxcclxuICB0ZXJtaW5hbDogZmFsc2VcclxufSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1JlcXVpcmVkXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBuZ1JlcXVpcmVkIGFkZHMgdGhlIHJlcXVpcmVkIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxyXG4gKiBJdCBpcyBtb3N0IG9mdGVuIHVzZWQgZm9yIHtAbGluayBpbnB1dCBgaW5wdXRgfSBhbmQge0BsaW5rIHNlbGVjdCBgc2VsZWN0YH0gY29udHJvbHMsIGJ1dCBjYW4gYWxzbyBiZVxyXG4gKiBhcHBsaWVkIHRvIGN1c3RvbSBjb250cm9scy5cclxuICpcclxuICogVGhlIGRpcmVjdGl2ZSBzZXRzIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBpZiB0aGUgQW5ndWxhciBleHByZXNzaW9uIGluc2lkZVxyXG4gKiBgbmdSZXF1aXJlZGAgZXZhbHVhdGVzIHRvIHRydWUuIEEgc3BlY2lhbCBkaXJlY3RpdmUgZm9yIHNldHRpbmcgYHJlcXVpcmVkYCBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZVxyXG4gKiBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIGByZXF1aXJlZGAuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX1cclxuICogZm9yIG1vcmUgaW5mby5cclxuICpcclxuICogVGhlIHZhbGlkYXRvciB3aWxsIHNldCB0aGUgYHJlcXVpcmVkYCBlcnJvciBrZXkgdG8gdHJ1ZSBpZiB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgaXMgc2V0IGFuZFxyXG4gKiBjYWxsaW5nIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5IGBOZ01vZGVsQ29udHJvbGxlci4kaXNFbXB0eWB9IHdpdGggdGhlXHJcbiAqIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9IHJldHVybnMgYHRydWVgLiBGb3IgZXhhbXBsZSwgdGhlXHJcbiAqIGAkaXNFbXB0eSgpYCBpbXBsZW1lbnRhdGlvbiBmb3IgYGlucHV0W3RleHRdYCBjaGVja3MgdGhlIGxlbmd0aCBvZiB0aGUgYCR2aWV3VmFsdWVgLiBXaGVuIGRldmVsb3BpbmdcclxuICogY3VzdG9tIGNvbnRyb2xzLCBgJGlzRW1wdHkoKWAgY2FuIGJlIG92ZXJ3cml0dGVuIHRvIGFjY291bnQgZm9yIGEgJHZpZXdWYWx1ZSB0aGF0IGlzIG5vdCBzdHJpbmctYmFzZWQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ1JlcXVpcmVkRGlyZWN0aXZlXCIgbW9kdWxlPVwibmdSZXF1aXJlZEV4YW1wbGVcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICAgPHNjcmlwdD5cclxuICogICAgICAgYW5ndWxhci5tb2R1bGUoJ25nUmVxdWlyZWRFeGFtcGxlJywgW10pXHJcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAgICAgICRzY29wZS5yZXF1aXJlZCA9IHRydWU7XHJcbiAqICAgICAgICAgfV0pO1xyXG4gKiAgICAgPC9zY3JpcHQ+XHJcbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gKiAgICAgICA8Zm9ybSBuYW1lPVwiZm9ybVwiPlxyXG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJyZXF1aXJlZFwiPlRvZ2dsZSByZXF1aXJlZDogPC9sYWJlbD5cclxuICogICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJyZXF1aXJlZFwiIGlkPVwicmVxdWlyZWRcIiAvPlxyXG4gKiAgICAgICAgIDxicj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IG11c3QgYmUgZmlsbGVkIGlmIGByZXF1aXJlZGAgaXMgdHJ1ZTogPC9sYWJlbD5cclxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1vZGVsXCIgaWQ9XCJpbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLXJlcXVpcmVkPVwicmVxdWlyZWRcIiAvPjxicj5cclxuICogICAgICAgICA8aHI+XHJcbiAqICAgICAgICAgcmVxdWlyZWQgZXJyb3Igc2V0PyA9IDxjb2RlPnt7Zm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWR9fTwvY29kZT48YnI+XHJcbiAqICAgICAgICAgbW9kZWwgPSA8Y29kZT57e21vZGVsfX08L2NvZGU+XHJcbiAqICAgICAgIDwvZm9ybT5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICB2YXIgcmVxdWlyZWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2Zvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkJykpO1xyXG4gICAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCdtb2RlbCcpKTtcclxuICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkuaWQoJ2lucHV0JykpO1xyXG5cclxuICAgICAgIGl0KCdzaG91bGQgc2V0IHRoZSByZXF1aXJlZCBlcnJvcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QocmVxdWlyZWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuXHJcbiAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcxMjMnKTtcclxuICAgICAgICAgZXhwZWN0KHJlcXVpcmVkLmdldFRleHQoKSkubm90LnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyMycpO1xyXG4gICAgICAgfSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgcmVxdWlyZWREaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XHJcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xyXG4gICAgICBhdHRyLnJlcXVpcmVkID0gdHJ1ZTsgLy8gZm9yY2UgdHJ1dGh5IGluIGNhc2Ugd2UgYXJlIG9uIG5vbiBpbnB1dCBlbGVtZW50XHJcblxyXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLnJlcXVpcmVkID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuICFhdHRyLnJlcXVpcmVkIHx8ICFjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhdHRyLiRvYnNlcnZlKCdyZXF1aXJlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1BhdHRlcm5cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIG5nUGF0dGVybiBhZGRzIHRoZSBwYXR0ZXJuIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxyXG4gKiBJdCBpcyBtb3N0IG9mdGVuIHVzZWQgZm9yIHRleHQtYmFzZWQge0BsaW5rIGlucHV0IGBpbnB1dGB9IGNvbnRyb2xzLCBidXQgY2FuIGFsc28gYmUgYXBwbGllZCB0byBjdXN0b20gdGV4dC1iYXNlZCBjb250cm9scy5cclxuICpcclxuICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgcGF0dGVybmAgZXJyb3Iga2V5IGlmIHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlIGBuZ01vZGVsLiR2aWV3VmFsdWVgfVxyXG4gKiBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCB3aGljaCBpcyBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlXHJcbiAqIGBuZ1BhdHRlcm5gIGF0dHJpYnV0ZSB2YWx1ZTpcclxuICogKiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICogKiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHAgYWZ0ZXIgd3JhcHBpbmcgaXRcclxuICogaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYG5ldyBSZWdFeHAoJ15hYmMkJylgLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gKiAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xyXG4gKiBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xyXG4gKiBhY2NvdW50LlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICogKipOb3RlOioqIFRoaXMgZGlyZWN0aXZlIGlzIGFsc28gYWRkZWQgd2hlbiB0aGUgcGxhaW4gYHBhdHRlcm5gIGF0dHJpYnV0ZSBpcyB1c2VkLCB3aXRoIHR3b1xyXG4gKiBkaWZmZXJlbmNlczpcclxuICogPG9sPlxyXG4gKiAgIDxsaT5cclxuICogICAgIGBuZ1BhdHRlcm5gIGRvZXMgbm90IHNldCB0aGUgYHBhdHRlcm5gIGF0dHJpYnV0ZSBhbmQgdGhlcmVmb3JlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbiBpc1xyXG4gKiAgICAgbm90IGF2YWlsYWJsZS5cclxuICogICA8L2xpPlxyXG4gKiAgIDxsaT5cclxuICogICAgIFRoZSBgbmdQYXR0ZXJuYCBhdHRyaWJ1dGUgbXVzdCBiZSBhbiBleHByZXNzaW9uLCB3aGlsZSB0aGUgYHBhdHRlcm5gIHZhbHVlIG11c3QgYmVcclxuICogICAgIGludGVycG9sYXRlZC5cclxuICogICA8L2xpPlxyXG4gKiA8L29sPlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogPGV4YW1wbGUgbmFtZT1cIm5nUGF0dGVybkRpcmVjdGl2ZVwiIG1vZHVsZT1cIm5nUGF0dGVybkV4YW1wbGVcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICAgPHNjcmlwdD5cclxuICogICAgICAgYW5ndWxhci5tb2R1bGUoJ25nUGF0dGVybkV4YW1wbGUnLCBbXSlcclxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gKiAgICAgICAgICAgJHNjb3BlLnJlZ2V4ID0gJ1xcXFxkKyc7XHJcbiAqICAgICAgICAgfV0pO1xyXG4gKiAgICAgPC9zY3JpcHQ+XHJcbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gKiAgICAgICA8Zm9ybSBuYW1lPVwiZm9ybVwiPlxyXG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJyZWdleFwiPlNldCBhIHBhdHRlcm4gKHJlZ2V4IHN0cmluZyk6IDwvbGFiZWw+XHJcbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJyZWdleFwiIGlkPVwicmVnZXhcIiAvPlxyXG4gKiAgICAgICAgIDxicj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IGlzIHJlc3RyaWN0ZWQgYnkgdGhlIGN1cnJlbnQgcGF0dGVybjogPC9sYWJlbD5cclxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1vZGVsXCIgaWQ9XCJpbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLXBhdHRlcm49XCJyZWdleFwiIC8+PGJyPlxyXG4gKiAgICAgICAgIDxocj5cclxuICogICAgICAgICBpbnB1dCB2YWxpZD8gPSA8Y29kZT57e2Zvcm0uaW5wdXQuJHZhbGlkfX08L2NvZGU+PGJyPlxyXG4gKiAgICAgICAgIG1vZGVsID0gPGNvZGU+e3ttb2RlbH19PC9jb2RlPlxyXG4gKiAgICAgICA8L2Zvcm0+XHJcbiAqICAgICA8L2Rpdj5cclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCdtb2RlbCcpKTtcclxuICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkuaWQoJ2lucHV0JykpO1xyXG5cclxuICAgICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdGhlIGlucHV0IHdpdGggdGhlIGRlZmF1bHQgcGF0dGVybicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWFhJyk7XHJcbiAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLm5vdC50b0NvbnRhaW4oJ2FhYScpO1xyXG5cclxuICAgICAgICAgaW5wdXQuY2xlYXIoKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcxMjMnKTtcclxuICAgICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyMycpO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgIH0pO1xyXG4gKiAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIHBhdHRlcm5EaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XHJcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xyXG5cclxuICAgICAgdmFyIHJlZ2V4cCwgcGF0dGVybkV4cCA9IGF0dHIubmdQYXR0ZXJuIHx8IGF0dHIucGF0dGVybjtcclxuICAgICAgYXR0ci4kb2JzZXJ2ZSgncGF0dGVybicsIGZ1bmN0aW9uKHJlZ2V4KSB7XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKHJlZ2V4KSAmJiByZWdleC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICByZWdleCA9IG5ldyBSZWdFeHAoJ14nICsgcmVnZXggKyAnJCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlZ2V4ICYmICFyZWdleC50ZXN0KSB7XHJcbiAgICAgICAgICB0aHJvdyBtaW5FcnIoJ25nUGF0dGVybicpKCdub3JlZ2V4cCcsXHJcbiAgICAgICAgICAgICdFeHBlY3RlZCB7MH0gdG8gYmUgYSBSZWdFeHAgYnV0IHdhcyB7MX0uIEVsZW1lbnQ6IHsyfScsIHBhdHRlcm5FeHAsXHJcbiAgICAgICAgICAgIHJlZ2V4LCBzdGFydGluZ1RhZyhlbG0pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlZ2V4cCA9IHJlZ2V4IHx8IHVuZGVmaW5lZDtcclxuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMucGF0dGVybiA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAgICAgIC8vIEhUTUw1IHBhdHRlcm4gY29uc3RyYWludCB2YWxpZGF0ZXMgdGhlIGlucHV0IHZhbHVlLCBzbyB3ZSB2YWxpZGF0ZSB0aGUgdmlld1ZhbHVlXHJcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCBpc1VuZGVmaW5lZChyZWdleHApIHx8IHJlZ2V4cC50ZXN0KHZpZXdWYWx1ZSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nTWF4bGVuZ3RoXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBuZ01heGxlbmd0aCBhZGRzIHRoZSBtYXhsZW5ndGgge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYHZhbGlkYXRvcmB9IHRvIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0uXHJcbiAqIEl0IGlzIG1vc3Qgb2Z0ZW4gdXNlZCBmb3IgdGV4dC1iYXNlZCB7QGxpbmsgaW5wdXQgYGlucHV0YH0gY29udHJvbHMsIGJ1dCBjYW4gYWxzbyBiZSBhcHBsaWVkIHRvIGN1c3RvbSB0ZXh0LWJhc2VkIGNvbnRyb2xzLlxyXG4gKlxyXG4gKiBUaGUgdmFsaWRhdG9yIHNldHMgdGhlIGBtYXhsZW5ndGhgIGVycm9yIGtleSBpZiB0aGUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSBgbmdNb2RlbC4kdmlld1ZhbHVlYH1cclxuICogaXMgbG9uZ2VyIHRoYW4gdGhlIGludGVnZXIgb2J0YWluZWQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZVxyXG4gKiBgbmdNYXhsZW5ndGhgIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICogKipOb3RlOioqIFRoaXMgZGlyZWN0aXZlIGlzIGFsc28gYWRkZWQgd2hlbiB0aGUgcGxhaW4gYG1heGxlbmd0aGAgYXR0cmlidXRlIGlzIHVzZWQsIHdpdGggdHdvXHJcbiAqIGRpZmZlcmVuY2VzOlxyXG4gKiA8b2w+XHJcbiAqICAgPGxpPlxyXG4gKiAgICAgYG5nTWF4bGVuZ3RoYCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhsZW5ndGhgIGF0dHJpYnV0ZSBhbmQgdGhlcmVmb3JlIEhUTUw1IGNvbnN0cmFpbnRcclxuICogICAgIHZhbGlkYXRpb24gaXMgbm90IGF2YWlsYWJsZS5cclxuICogICA8L2xpPlxyXG4gKiAgIDxsaT5cclxuICogICAgIFRoZSBgbmdNYXhsZW5ndGhgIGF0dHJpYnV0ZSBtdXN0IGJlIGFuIGV4cHJlc3Npb24sIHdoaWxlIHRoZSBgbWF4bGVuZ3RoYCB2YWx1ZSBtdXN0IGJlXHJcbiAqICAgICBpbnRlcnBvbGF0ZWQuXHJcbiAqICAgPC9saT5cclxuICogPC9vbD5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ01heGxlbmd0aERpcmVjdGl2ZVwiIG1vZHVsZT1cIm5nTWF4bGVuZ3RoRXhhbXBsZVwiPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgICA8c2NyaXB0PlxyXG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbmdNYXhsZW5ndGhFeGFtcGxlJywgW10pXHJcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAgICAgICRzY29wZS5tYXhsZW5ndGggPSA1O1xyXG4gKiAgICAgICAgIH1dKTtcclxuICogICAgIDwvc2NyaXB0PlxyXG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICAgPGZvcm0gbmFtZT1cImZvcm1cIj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwibWF4bGVuZ3RoXCI+U2V0IGEgbWF4bGVuZ3RoOiA8L2xhYmVsPlxyXG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJtYXhsZW5ndGhcIiBpZD1cIm1heGxlbmd0aFwiIC8+XHJcbiAqICAgICAgICAgPGJyPlxyXG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJpbnB1dFwiPlRoaXMgaW5wdXQgaXMgcmVzdHJpY3RlZCBieSB0aGUgY3VycmVudCBtYXhsZW5ndGg6IDwvbGFiZWw+XHJcbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tYXhsZW5ndGg9XCJtYXhsZW5ndGhcIiAvPjxicj5cclxuICogICAgICAgICA8aHI+XHJcbiAqICAgICAgICAgaW5wdXQgdmFsaWQ/ID0gPGNvZGU+e3tmb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cclxuICogICAgICAgICBtb2RlbCA9IDxjb2RlPnt7bW9kZWx9fTwvY29kZT5cclxuICogICAgICAgPC9mb3JtPlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XHJcbiAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5LmlkKCdpbnB1dCcpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHRoZSBpbnB1dCB3aXRoIHRoZSBkZWZhdWx0IG1heGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWJjZGVmJyk7XHJcbiAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLm5vdC50b0NvbnRhaW4oJ2FiY2RlZicpO1xyXG5cclxuICAgICAgICAgaW5wdXQuY2xlYXIoKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdhYmNkZScpO1xyXG4gICAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvQ29udGFpbignYWJjZGUnKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBtYXhsZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XHJcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xyXG5cclxuICAgICAgdmFyIG1heGxlbmd0aCA9IC0xO1xyXG4gICAgICBhdHRyLiRvYnNlcnZlKCdtYXhsZW5ndGgnLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHZhciBpbnRWYWwgPSB0b0ludCh2YWx1ZSk7XHJcbiAgICAgICAgbWF4bGVuZ3RoID0gaXNOYU4oaW50VmFsKSA/IC0xIDogaW50VmFsO1xyXG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1heGxlbmd0aCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAobWF4bGVuZ3RoIDwgMCkgfHwgY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8ICh2aWV3VmFsdWUubGVuZ3RoIDw9IG1heGxlbmd0aCk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nTWlubGVuZ3RoXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBuZ01pbmxlbmd0aCBhZGRzIHRoZSBtaW5sZW5ndGgge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYHZhbGlkYXRvcmB9IHRvIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0uXHJcbiAqIEl0IGlzIG1vc3Qgb2Z0ZW4gdXNlZCBmb3IgdGV4dC1iYXNlZCB7QGxpbmsgaW5wdXQgYGlucHV0YH0gY29udHJvbHMsIGJ1dCBjYW4gYWxzbyBiZSBhcHBsaWVkIHRvIGN1c3RvbSB0ZXh0LWJhc2VkIGNvbnRyb2xzLlxyXG4gKlxyXG4gKiBUaGUgdmFsaWRhdG9yIHNldHMgdGhlIGBtaW5sZW5ndGhgIGVycm9yIGtleSBpZiB0aGUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSBgbmdNb2RlbC4kdmlld1ZhbHVlYH1cclxuICogaXMgc2hvcnRlciB0aGFuIHRoZSBpbnRlZ2VyIG9idGFpbmVkIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGVcclxuICogYG5nTWlubGVuZ3RoYCBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAqICoqTm90ZToqKiBUaGlzIGRpcmVjdGl2ZSBpcyBhbHNvIGFkZGVkIHdoZW4gdGhlIHBsYWluIGBtaW5sZW5ndGhgIGF0dHJpYnV0ZSBpcyB1c2VkLCB3aXRoIHR3b1xyXG4gKiBkaWZmZXJlbmNlczpcclxuICogPG9sPlxyXG4gKiAgIDxsaT5cclxuICogICAgIGBuZ01pbmxlbmd0aGAgZG9lcyBub3Qgc2V0IHRoZSBgbWlubGVuZ3RoYCBhdHRyaWJ1dGUgYW5kIHRoZXJlZm9yZSBIVE1MNSBjb25zdHJhaW50XHJcbiAqICAgICB2YWxpZGF0aW9uIGlzIG5vdCBhdmFpbGFibGUuXHJcbiAqICAgPC9saT5cclxuICogICA8bGk+XHJcbiAqICAgICBUaGUgYG5nTWlubGVuZ3RoYCB2YWx1ZSBtdXN0IGJlIGFuIGV4cHJlc3Npb24sIHdoaWxlIHRoZSBgbWlubGVuZ3RoYCB2YWx1ZSBtdXN0IGJlXHJcbiAqICAgICBpbnRlcnBvbGF0ZWQuXHJcbiAqICAgPC9saT5cclxuICogPC9vbD5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ01pbmxlbmd0aERpcmVjdGl2ZVwiIG1vZHVsZT1cIm5nTWlubGVuZ3RoRXhhbXBsZVwiPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgICA8c2NyaXB0PlxyXG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbmdNaW5sZW5ndGhFeGFtcGxlJywgW10pXHJcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAgICAgICRzY29wZS5taW5sZW5ndGggPSAzO1xyXG4gKiAgICAgICAgIH1dKTtcclxuICogICAgIDwvc2NyaXB0PlxyXG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICAgPGZvcm0gbmFtZT1cImZvcm1cIj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwibWlubGVuZ3RoXCI+U2V0IGEgbWlubGVuZ3RoOiA8L2xhYmVsPlxyXG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJtaW5sZW5ndGhcIiBpZD1cIm1pbmxlbmd0aFwiIC8+XHJcbiAqICAgICAgICAgPGJyPlxyXG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJpbnB1dFwiPlRoaXMgaW5wdXQgaXMgcmVzdHJpY3RlZCBieSB0aGUgY3VycmVudCBtaW5sZW5ndGg6IDwvbGFiZWw+XHJcbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1taW5sZW5ndGg9XCJtaW5sZW5ndGhcIiAvPjxicj5cclxuICogICAgICAgICA8aHI+XHJcbiAqICAgICAgICAgaW5wdXQgdmFsaWQ/ID0gPGNvZGU+e3tmb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cclxuICogICAgICAgICBtb2RlbCA9IDxjb2RlPnt7bW9kZWx9fTwvY29kZT5cclxuICogICAgICAgPC9mb3JtPlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XHJcbiAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5LmlkKCdpbnB1dCcpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHRoZSBpbnB1dCB3aXRoIHRoZSBkZWZhdWx0IG1pbmxlbmd0aCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWInKTtcclxuICAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkubm90LnRvQ29udGFpbignYWInKTtcclxuXHJcbiAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdhYmMnKTtcclxuICAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9Db250YWluKCdhYmMnKTtcclxuICAgICAgIH0pO1xyXG4gKiAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG1pbmxlbmd0aERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcclxuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XHJcblxyXG4gICAgICB2YXIgbWlubGVuZ3RoID0gMDtcclxuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWlubGVuZ3RoJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBtaW5sZW5ndGggPSB0b0ludCh2YWx1ZSkgfHwgMDtcclxuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5taW5sZW5ndGggPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8IHZpZXdWYWx1ZS5sZW5ndGggPj0gbWlubGVuZ3RoO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG5pZiAod2luZG93LmFuZ3VsYXIuYm9vdHN0cmFwKSB7XHJcbiAgLy9Bbmd1bGFySlMgaXMgYWxyZWFkeSBsb2FkZWQsIHNvIHdlIGNhbiByZXR1cm4gaGVyZS4uLlxyXG4gIGlmICh3aW5kb3cuY29uc29sZSkge1xyXG4gICAgY29uc29sZS5sb2coJ1dBUk5JTkc6IFRyaWVkIHRvIGxvYWQgYW5ndWxhciBtb3JlIHRoYW4gb25jZS4nKTtcclxuICB9XHJcbiAgcmV0dXJuO1xyXG59XHJcblxyXG4vL3RyeSB0byBiaW5kIHRvIGpxdWVyeSBub3cgc28gdGhhdCBvbmUgY2FuIHdyaXRlIGpxTGl0ZShkb2N1bWVudCkucmVhZHkoKVxyXG4vL2J1dCB3ZSB3aWxsIHJlYmluZCBvbiBib290c3RyYXAgYWdhaW4uXHJcbmJpbmRKUXVlcnkoKTtcclxuXHJcbnB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwibmdMb2NhbGVcIiwgW10sIFtcIiRwcm92aWRlXCIsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XHJcbnZhciBQTFVSQUxfQ0FURUdPUlkgPSB7WkVSTzogXCJ6ZXJvXCIsIE9ORTogXCJvbmVcIiwgVFdPOiBcInR3b1wiLCBGRVc6IFwiZmV3XCIsIE1BTlk6IFwibWFueVwiLCBPVEhFUjogXCJvdGhlclwifTtcclxuZnVuY3Rpb24gZ2V0RGVjaW1hbHMobikge1xyXG4gIG4gPSBuICsgJyc7XHJcbiAgdmFyIGkgPSBuLmluZGV4T2YoJy4nKTtcclxuICByZXR1cm4gKGkgPT0gLTEpID8gMCA6IG4ubGVuZ3RoIC0gaSAtIDE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFZGKG4sIG9wdF9wcmVjaXNpb24pIHtcclxuICB2YXIgdiA9IG9wdF9wcmVjaXNpb247XHJcblxyXG4gIGlmICh1bmRlZmluZWQgPT09IHYpIHtcclxuICAgIHYgPSBNYXRoLm1pbihnZXREZWNpbWFscyhuKSwgMyk7XHJcbiAgfVxyXG5cclxuICB2YXIgYmFzZSA9IE1hdGgucG93KDEwLCB2KTtcclxuICB2YXIgZiA9ICgobiAqIGJhc2UpIHwgMCkgJSBiYXNlO1xyXG4gIHJldHVybiB7djogdiwgZjogZn07XHJcbn1cclxuXHJcbiRwcm92aWRlLnZhbHVlKFwiJGxvY2FsZVwiLCB7XHJcbiAgXCJEQVRFVElNRV9GT1JNQVRTXCI6IHtcclxuICAgIFwiQU1QTVNcIjogW1xyXG4gICAgICBcIkFNXCIsXHJcbiAgICAgIFwiUE1cIlxyXG4gICAgXSxcclxuICAgIFwiREFZXCI6IFtcclxuICAgICAgXCJTdW5kYXlcIixcclxuICAgICAgXCJNb25kYXlcIixcclxuICAgICAgXCJUdWVzZGF5XCIsXHJcbiAgICAgIFwiV2VkbmVzZGF5XCIsXHJcbiAgICAgIFwiVGh1cnNkYXlcIixcclxuICAgICAgXCJGcmlkYXlcIixcclxuICAgICAgXCJTYXR1cmRheVwiXHJcbiAgICBdLFxyXG4gICAgXCJFUkFOQU1FU1wiOiBbXHJcbiAgICAgIFwiQmVmb3JlIENocmlzdFwiLFxyXG4gICAgICBcIkFubm8gRG9taW5pXCJcclxuICAgIF0sXHJcbiAgICBcIkVSQVNcIjogW1xyXG4gICAgICBcIkJDXCIsXHJcbiAgICAgIFwiQURcIlxyXG4gICAgXSxcclxuICAgIFwiRklSU1REQVlPRldFRUtcIjogNixcclxuICAgIFwiTU9OVEhcIjogW1xyXG4gICAgICBcIkphbnVhcnlcIixcclxuICAgICAgXCJGZWJydWFyeVwiLFxyXG4gICAgICBcIk1hcmNoXCIsXHJcbiAgICAgIFwiQXByaWxcIixcclxuICAgICAgXCJNYXlcIixcclxuICAgICAgXCJKdW5lXCIsXHJcbiAgICAgIFwiSnVseVwiLFxyXG4gICAgICBcIkF1Z3VzdFwiLFxyXG4gICAgICBcIlNlcHRlbWJlclwiLFxyXG4gICAgICBcIk9jdG9iZXJcIixcclxuICAgICAgXCJOb3ZlbWJlclwiLFxyXG4gICAgICBcIkRlY2VtYmVyXCJcclxuICAgIF0sXHJcbiAgICBcIlNIT1JUREFZXCI6IFtcclxuICAgICAgXCJTdW5cIixcclxuICAgICAgXCJNb25cIixcclxuICAgICAgXCJUdWVcIixcclxuICAgICAgXCJXZWRcIixcclxuICAgICAgXCJUaHVcIixcclxuICAgICAgXCJGcmlcIixcclxuICAgICAgXCJTYXRcIlxyXG4gICAgXSxcclxuICAgIFwiU0hPUlRNT05USFwiOiBbXHJcbiAgICAgIFwiSmFuXCIsXHJcbiAgICAgIFwiRmViXCIsXHJcbiAgICAgIFwiTWFyXCIsXHJcbiAgICAgIFwiQXByXCIsXHJcbiAgICAgIFwiTWF5XCIsXHJcbiAgICAgIFwiSnVuXCIsXHJcbiAgICAgIFwiSnVsXCIsXHJcbiAgICAgIFwiQXVnXCIsXHJcbiAgICAgIFwiU2VwXCIsXHJcbiAgICAgIFwiT2N0XCIsXHJcbiAgICAgIFwiTm92XCIsXHJcbiAgICAgIFwiRGVjXCJcclxuICAgIF0sXHJcbiAgICBcIlNUQU5EQUxPTkVNT05USFwiOiBbXHJcbiAgICAgIFwiSmFudWFyeVwiLFxyXG4gICAgICBcIkZlYnJ1YXJ5XCIsXHJcbiAgICAgIFwiTWFyY2hcIixcclxuICAgICAgXCJBcHJpbFwiLFxyXG4gICAgICBcIk1heVwiLFxyXG4gICAgICBcIkp1bmVcIixcclxuICAgICAgXCJKdWx5XCIsXHJcbiAgICAgIFwiQXVndXN0XCIsXHJcbiAgICAgIFwiU2VwdGVtYmVyXCIsXHJcbiAgICAgIFwiT2N0b2JlclwiLFxyXG4gICAgICBcIk5vdmVtYmVyXCIsXHJcbiAgICAgIFwiRGVjZW1iZXJcIlxyXG4gICAgXSxcclxuICAgIFwiV0VFS0VORFJBTkdFXCI6IFtcclxuICAgICAgNSxcclxuICAgICAgNlxyXG4gICAgXSxcclxuICAgIFwiZnVsbERhdGVcIjogXCJFRUVFLCBNTU1NIGQsIHlcIixcclxuICAgIFwibG9uZ0RhdGVcIjogXCJNTU1NIGQsIHlcIixcclxuICAgIFwibWVkaXVtXCI6IFwiTU1NIGQsIHkgaDptbTpzcyBhXCIsXHJcbiAgICBcIm1lZGl1bURhdGVcIjogXCJNTU0gZCwgeVwiLFxyXG4gICAgXCJtZWRpdW1UaW1lXCI6IFwiaDptbTpzcyBhXCIsXHJcbiAgICBcInNob3J0XCI6IFwiTS9kL3l5IGg6bW0gYVwiLFxyXG4gICAgXCJzaG9ydERhdGVcIjogXCJNL2QveXlcIixcclxuICAgIFwic2hvcnRUaW1lXCI6IFwiaDptbSBhXCJcclxuICB9LFxyXG4gIFwiTlVNQkVSX0ZPUk1BVFNcIjoge1xyXG4gICAgXCJDVVJSRU5DWV9TWU1cIjogXCIkXCIsXHJcbiAgICBcIkRFQ0lNQUxfU0VQXCI6IFwiLlwiLFxyXG4gICAgXCJHUk9VUF9TRVBcIjogXCIsXCIsXHJcbiAgICBcIlBBVFRFUk5TXCI6IFtcclxuICAgICAge1xyXG4gICAgICAgIFwiZ1NpemVcIjogMyxcclxuICAgICAgICBcImxnU2l6ZVwiOiAzLFxyXG4gICAgICAgIFwibWF4RnJhY1wiOiAzLFxyXG4gICAgICAgIFwibWluRnJhY1wiOiAwLFxyXG4gICAgICAgIFwibWluSW50XCI6IDEsXHJcbiAgICAgICAgXCJuZWdQcmVcIjogXCItXCIsXHJcbiAgICAgICAgXCJuZWdTdWZcIjogXCJcIixcclxuICAgICAgICBcInBvc1ByZVwiOiBcIlwiLFxyXG4gICAgICAgIFwicG9zU3VmXCI6IFwiXCJcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIFwiZ1NpemVcIjogMyxcclxuICAgICAgICBcImxnU2l6ZVwiOiAzLFxyXG4gICAgICAgIFwibWF4RnJhY1wiOiAyLFxyXG4gICAgICAgIFwibWluRnJhY1wiOiAyLFxyXG4gICAgICAgIFwibWluSW50XCI6IDEsXHJcbiAgICAgICAgXCJuZWdQcmVcIjogXCItXFx1MDBhNFwiLFxyXG4gICAgICAgIFwibmVnU3VmXCI6IFwiXCIsXHJcbiAgICAgICAgXCJwb3NQcmVcIjogXCJcXHUwMGE0XCIsXHJcbiAgICAgICAgXCJwb3NTdWZcIjogXCJcIlxyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfSxcclxuICBcImlkXCI6IFwiZW4tdXNcIixcclxuICBcImxvY2FsZUlEXCI6IFwiZW5fVVNcIixcclxuICBcInBsdXJhbENhdFwiOiBmdW5jdGlvbihuLCBvcHRfcHJlY2lzaW9uKSB7ICB2YXIgaSA9IG4gfCAwOyAgdmFyIHZmID0gZ2V0VkYobiwgb3B0X3ByZWNpc2lvbik7ICBpZiAoaSA9PSAxICYmIHZmLnYgPT0gMCkgeyAgICByZXR1cm4gUExVUkFMX0NBVEVHT1JZLk9ORTsgIH0gIHJldHVybiBQTFVSQUxfQ0FURUdPUlkuT1RIRVI7fVxyXG59KTtcclxufV0pO1xyXG5cclxuICBqcUxpdGUod2luZG93LmRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgIGFuZ3VsYXJJbml0KHdpbmRvdy5kb2N1bWVudCwgYm9vdHN0cmFwKTtcclxuICB9KTtcclxuXHJcbn0pKHdpbmRvdyk7XHJcblxyXG4hd2luZG93LmFuZ3VsYXIuJCRjc3AoKS5ub0lubGluZVN0eWxlICYmIHdpbmRvdy5hbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuaGVhZCkucHJlcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPkBjaGFyc2V0IFwiVVRGLThcIjtbbmdcXFxcOmNsb2FrXSxbbmctY2xvYWtdLFtkYXRhLW5nLWNsb2FrXSxbeC1uZy1jbG9ha10sLm5nLWNsb2FrLC54LW5nLWNsb2FrLC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9bmdcXFxcOmZvcm17ZGlzcGxheTpibG9jazt9Lm5nLWFuaW1hdGUtc2hpbXt2aXNpYmlsaXR5OmhpZGRlbjt9Lm5nLWFuY2hvcntwb3NpdGlvbjphYnNvbHV0ZTt9PC9zdHlsZT4nKTtcbid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwiY2hyb21lU3RvcmFnZVwiLFtdKVxyXG5cdC5mYWN0b3J5KCdjaHJvbWVTdG9yYWdlJywgZnVuY3Rpb24oJHEpIHtcclxuXHR2YXIgYXJlYSA9IG51bGw7XHJcblx0dHJ5IHtcclxuXHRcdGFyZWEgPSBjaHJvbWUuc3RvcmFnZS5sb2NhbDsgLy8gY2hhbmdlIHRoaXMgdG8gY2hyb21lLnN0b3JhZ2Uuc3luYyBmb3Igc3luYyBjYXBhYmlsaXRpZXNcclxuXHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdGNvbnNvbGUubG9nKFwiY291bGQgbm90IGluaXRpYXRlIGNocm9tZSBsb2NhbCBzdG9yYWdlOiBcIiArIGVycik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUaGVzZSBhcmUgcHJvdmlkZWQgYW5kIHVwZGF0ZWQgb25seSBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxyXG5cdCAqL1xyXG5cdHZhciB0b3RhbEJ5dGVzID0gbnVsbDtcclxuXHR2YXIgY2FjaGUgPSB7fTtcclxuXHJcblx0LyoqXHJcblx0ICogQSBjYWxsIHRvIGdldCB0aGUgYnl0ZXMgaW4gdXNlLCByZXR1cm5zIGEgcHJvbWlzZSBvZiB0aGUgc2l6ZSBvZiBhbiBpbmRpdmlkdWFsIGtleSwgb3JcclxuXHQgKiBvZiB0b3RhbCBieXRlcyBpbiB1c2UsIGlmIG5vIGtleSBpcyBzcGVjaWZpZWQuXHJcblx0ICovXHJcblx0dmFyIGdldEJ5dGVzSW5Vc2UgPSBmdW5jdGlvbiAoa2V5cyl7XHJcblx0ICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblxyXG5cdCAgICBhcmVhLmdldEJ5dGVzSW5Vc2Uoa2V5cywgZnVuY3Rpb24oYnl0ZXNJblVzZSkge1xyXG5cdCAgICAgICAgaWYgKGNocm9tZS5ydW50aW1lLmxhc3RlcnJvcil7XHJcblx0ICAgICAgICBcdGNvbnNvbGUubG9nKFwiZXJyb3IgcmV0cmlldmluZyBieXRlcyBpbiB1c2UgZm9yIGtleXMgXCIgKyBrZXlzKTtcclxuXHQgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoY2hyb21lLnJ1bnRpbWUubGFzdGVycm9yLm1lc3NhZ2UpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICBcdGNvbnNvbGUubG9nKFwicmV0cmlldmVkIGJ5dGVzIGluIHVzZSBmb3Iga2V5cyBcIiArIGtleXMgKyBcIjogXCIgKyBieXRlc0luVXNlKTtcclxuXHQgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGJ5dGVzSW5Vc2UpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9KTtcclxuXHJcblx0ICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG5cdH1cclxuXHJcbiAgIHJldHVybiB7XHJcbiAgIFx0Z2V0RGVidWdnaW5nVG90YWxCeXRlc0luVXNlOiBmdW5jdGlvbigpIHtcclxuICAgXHRcdHJldHVybiB0b3RhbEJ5dGVzO1xyXG4gICBcdH0sXHJcblx0Z2V0RGVidWdnaW5nQ2FjaGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIGNhY2hlO1xyXG5cdH0sXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB0aGUgdXNhZ2Ugb2YgdGhlIGN1cnJlbnQgc3RvcmFnZSBxdW90YSwgYXMgYSBudW1iZXIgYmV0d2VlbiAwLjAgYW5kIDEuMFxyXG5cdCAqL1xyXG5cdGdldERlYnVnZ2luZ1BlcmNlbnRVc2VkOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBwZXJjZW50ID0gdG90YWxCeXRlcyAvIGFyZWEuUVVPVEFfQllURVM7XHJcblx0XHRyZXR1cm4gcGVyY2VudDtcclxuXHR9LFxyXG5cdGdldERlYnVnZ2luZ1NpemVPZjogZnVuY3Rpb24oa2V5KSB7XHJcblx0XHRyZXR1cm4gYW5ndWxhci50b0pzb24oY2FjaGVba2V5XSkubGVuZ3RoO1xyXG5cdH0sXHJcblx0dXBkYXRlRGVidWdnaW5nQ2FjaGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHRcdGFyZWEuZ2V0KG51bGwsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRpZiAoY2hyb21lLnJ1bnRpbWUubGFzdGVycm9yKXtcclxuXHQgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoY2hyb21lLnJ1bnRpbWUubGFzdGVycm9yLm1lc3NhZ2UpO1xyXG5cdCAgICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgICAgLy9jb25zb2xlLmxvZygnZ2V0IHRoZW4gZm9yIGFsbCBrZXlzIDogJyArIGFuZ3VsYXIudG9Kc29uKHZhbHVlKSk7XHJcbiAgXHQgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh2YWx1ZSk7XHJcbiAgXHQgICAgICAgIH1cclxuXHRcdH0pO1xyXG5cdFx0ZGVmZXJyZWQucHJvbWlzZS50aGVuIChmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRjYWNoZSA9IGRhdGE7XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cdHVwZGF0ZURlYnVnZ2luZ1RvdGFsQnl0ZXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0Z2V0Qnl0ZXNJblVzZShudWxsKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJ0b3RhbCBieXRlcyBpbiB1c2U6IFwiICsgZGF0YSk7XHJcblx0XHRcdHRvdGFsQnl0ZXMgPSBkYXRhO1xyXG5cdFx0fSk7XHJcblx0fSxcclxuICAgIGNsZWFyQ2FjaGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gY29uc29sZS5sb2coJ2NsZWFyaW5nIGxvY2FsIGNhY2hlJyk7XHJcblx0XHRhcmVhLmNsZWFyKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yKSB7XHJcblx0XHQgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJvciBjbGVhcmluZyBsb2NhbCBjYWNoZVwiICsgY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yKTtcclxuXHRcdCAgICB9IGVsc2Uge1xyXG5cdCAgICBcdFx0Y29uc29sZS5sb2coXCJjYWNoZSBoYXMgYmVlbiBjbGVhcmVkXCIpO1xyXG5cdCAgICBcdH1cclxuXHRcdH0pO1xyXG5cdH0sXHJcblx0ZHJvcDogZnVuY3Rpb24oa2V5KSB7XHJcblx0XHRhcmVhLnJlbW92ZShrZXksIGZ1bmN0aW9uKCl7XHJcblx0XHRcdGlmIChjaHJvbWUucnVudGltZS5sYXN0ZXJyb3Ipe1xyXG5cdCAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY2hyb21lLnJ1bnRpbWUubGFzdGVycm9yLm1lc3NhZ2UpO1xyXG5cdCAgICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgIFx0Ly8gY29uc29sZS5sb2coXCJrZXkgXCIgKyBrZXkgKyBcIiBoYXMgYmVlbiBkcm9wcGVkIGZyb20gdGhlIHN0b3JhZ2UgY2FjaGVcIilcclxuXHQgICAgICAgIH1cclxuXHRcdH0pO1xyXG5cdH0sXHJcblx0Z2V0OiBmdW5jdGlvbihrZXkpIHtcclxuXHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblx0XHRhcmVhLmdldChrZXksIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIFx0Ly8gY29uc29sZS5sb2coJ2dldFRvdGFsQnl0ZXNJblVzZSB0aGVuIHdpdGgga2V5ICcgKyBrZXkgKyBcIiA6IFwiICsgYW5ndWxhci50b0pzb24odmFsdWUpKTtcclxuICAgICAgICBcdHZhciBrZXlWYWx1ZSA9IHZhbHVlW2tleV07XHJcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoa2V5VmFsdWUpO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHR9LFxyXG5cdC8qKlxyXG5cdCAqIGdldHMgdGhlIHZhbHVlIG9mIGtleSBmcm9tIHRoZSBjYWNoZSwgb3IgY2FsbHMgdGhlIGZhbGxiYWNrIGZ1bmN0aW9uLCBhbmQgcG9wdWxhdGVzIHRoZSBjYWNoZVxyXG5cdCAqIHdpdGggdGhlIHZhbHVlIG9mIHRoZSBwcm9taXNlIHJldHVybmVkXHJcblx0ICovXHJcblx0Z2V0T3JFbHNlOiBmdW5jdGlvbihrZXksIGZhbGxiYWNrKSB7XHJcblx0XHQvLyBjb25zb2xlLmxvZygnZ2V0T3JFbHNlIGNhbGxlZCB3aXRoICBjYWNoZWQga2V5ICcgKyBrZXkpO1xyXG5cdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICBhcmVhLmdldChrZXksIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgXHQvLyBjb25zb2xlLmxvZygnZ2V0T3JFbHNlIHRoZW4gd2l0aCBjYWNoZWQga2V5ICcgKyBrZXkgKyBcIiA6IFwiICsgYW5ndWxhci50b0pzb24odmFsdWUpKTtcclxuICAgICAgICBcdHZhciBrZXlWYWx1ZSA9IHZhbHVlW2tleV07XHJcbiAgICAgICAgXHRpZiAoa2V5VmFsdWUgPT0gdW5kZWZpbmVkIHx8IGtleVZhbHVlID09IG51bGwpIHtcclxuICAgICAgICBcdFx0Ly8gY29uc29sZS5sb2coXCJubyBjYWNoZWQgdmFsdWUgZm9yIFwiKyBrZXkgKyBcIi4gdXNpbmcgZmFsbGJhY2sgbWV0aG9kLlwiKTtcclxuICAgICAgICBcdFx0ZmFsbGJhY2soKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBcdFx0XHRrZXlWYWx1ZSA9IGRhdGE7XHJcbiAgICAgICAgXHRcdFx0Ly8gY29uc29sZS5sb2coXCJjYWNoaW5nIHZhbHVlIGZvciBcIisga2V5ICsgXCIgOiBcIiArIGFuZ3VsYXIudG9Kc29uKGtleVZhbHVlKSk7XHJcbiAgICAgICAgXHRcdFx0dmFyIHNhdmVPYmplY3QgPSB7fTtcclxuICAgICAgICBcdFx0XHRzYXZlT2JqZWN0W2tleV0gPSBrZXlWYWx1ZTtcclxuICAgICAgICBcdFx0XHRhcmVhLnNldChzYXZlT2JqZWN0LCBmdW5jdGlvbigpIHtcclxuICAgICAgICBcdFx0XHRcdGlmIChjaHJvbWUucnVudGltZS5sYXN0ZXJyb3Ipe1xyXG5cdFx0XHRcdCAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY2hyb21lLnJ1bnRpbWUubGFzdGVycm9yLm1lc3NhZ2UpO1xyXG5cdFx0XHRcdCAgICAgICAgfSBlbHNlIHtcclxuXHRcdCAgICBcdFx0XHRcdC8vY29uc29sZS5sb2coJ3NhdmVkICcgKyBrZXlWYWx1ZSArIFwiIHRvIGtleSBcIiArIGtleSk7XHJcblx0XHQgICAgXHRcdFx0fVxyXG4gICAgICAgIFx0XHRcdH0pO1xyXG4gICAgICAgIFx0XHRcdGRlZmVycmVkLnJlc29sdmUoa2V5VmFsdWUpO1xyXG4gICAgICAgIFx0XHR9KTtcclxuICAgICAgICBcdH0gZWxzZSB7XHJcblx0ICAgICAgICBcdGRlZmVycmVkLnJlc29sdmUoa2V5VmFsdWUpO1xyXG5cdCAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblx0fSxcclxuXHQvKipcclxuXHQqXHJcblx0Ki9cclxuXHRzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuXHRcdHZhciBzYXZlT2JqZWN0ID0ge307XHJcblx0XHRzYXZlT2JqZWN0W2tleV0gPSB2YWx1ZTtcclxuXHRcdGFyZWEuc2V0KHNhdmVPYmplY3QsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoY2hyb21lLnJ1bnRpbWUubGFzdGVycm9yKXtcclxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGNocm9tZS5ydW50aW1lLmxhc3RlcnJvci5tZXNzYWdlKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZygnc2F2ZWQgJyArIGtleVZhbHVlICsgXCIgdG8ga2V5IFwiICsga2V5KTtcclxuXHRcdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKiBnZXRzIHRoZSB2YWx1ZSBvZiBrZXkgZnJvbSB0aGUgY2FjaGUsIG9yIGNhbGxzIHRoZSBmYWxsYmFjayBmdW5jdGlvbiwgYW5kIHBvcHVsYXRlcyB0aGUgY2FjaGVcclxuXHQgKiB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgcHJvbWlzZSByZXR1cm5lZFxyXG5cdCAqL1xyXG5cdGZvcmNlR2V0OiBmdW5jdGlvbihrZXksIGZhbGxiYWNrKSB7XHJcblx0XHQvLyBjb25zb2xlLmxvZygnZ2V0T3JFbHNlIGNhbGxlZCB3aXRoICBjYWNoZWQga2V5ICcgKyBrZXkpO1xyXG5cdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICBmYWxsYmFjaygpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRrZXlWYWx1ZSA9IGRhdGE7XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKFwiY2FjaGluZyB2YWx1ZSBmb3IgXCIrIGtleSArIFwiIDogXCIgKyBhbmd1bGFyLnRvSnNvbihrZXlWYWx1ZSkpO1xyXG5cdFx0XHR2YXIgc2F2ZU9iamVjdCA9IHt9O1xyXG5cdFx0XHRzYXZlT2JqZWN0W2tleV0gPSBrZXlWYWx1ZTtcclxuXHRcdFx0YXJlYS5zZXQoc2F2ZU9iamVjdCwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYgKGNocm9tZS5ydW50aW1lLmxhc3RlcnJvcil7XHJcblx0XHQgICAgICAgICAgICBjb25zb2xlLmVycm9yKGNocm9tZS5ydW50aW1lLmxhc3RlcnJvci5tZXNzYWdlKTtcclxuXHRcdCAgICAgICAgfSBlbHNlIHtcclxuICAgIFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnc2F2ZWQgJyArIGtleVZhbHVlICsgXCIgdG8ga2V5IFwiICsga2V5KTtcclxuICAgIFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdGRlZmVycmVkLnJlc29sdmUoa2V5VmFsdWUpO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHR9LFxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgdGhlIHF1b3RhIG9mIHRoZSBjdXJyZW50IHN0b3JhZ2UgbWV0aG9kLCBpbiBieXRlc1xyXG5cdCAqL1xyXG5cdGdldFF1b3RhOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBhcmVhLlFVT1RBX0JZVEVTO1xyXG5cdH1cclxuXHJcbiAgIH1cclxufSk7XHJcblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE0IFRpbSBEb3duLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuXHJcbmlmKCFBcnJheS5wcm90b3R5cGUucHVzaCl7QXJyYXkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGk9MCxsZW49YXJndW1lbnRzLmxlbmd0aDtpPGxlbjtpKyspe3RoaXNbdGhpcy5sZW5ndGhdPWFyZ3VtZW50c1tpXTt9XHJcbnJldHVybiB0aGlzLmxlbmd0aDt9O31cclxuaWYoIUFycmF5LnByb3RvdHlwZS5zaGlmdCl7QXJyYXkucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGg+MCl7dmFyIGZpcnN0SXRlbT10aGlzWzBdO2Zvcih2YXIgaT0wLGxlbj10aGlzLmxlbmd0aC0xO2k8bGVuO2krKyl7dGhpc1tpXT10aGlzW2krMV07fVxyXG50aGlzLmxlbmd0aD10aGlzLmxlbmd0aC0xO3JldHVybiBmaXJzdEl0ZW07fX07fVxyXG5pZighQXJyYXkucHJvdG90eXBlLnNwbGljZSl7QXJyYXkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihzdGFydEluZGV4LGRlbGV0ZUNvdW50KXt2YXIgaXRlbXNBZnRlckRlbGV0ZWQ9dGhpcy5zbGljZShzdGFydEluZGV4K2RlbGV0ZUNvdW50KTt2YXIgaXRlbXNEZWxldGVkPXRoaXMuc2xpY2Uoc3RhcnRJbmRleCxzdGFydEluZGV4K2RlbGV0ZUNvdW50KTt0aGlzLmxlbmd0aD1zdGFydEluZGV4O3ZhciBhcmd1bWVudHNBcnJheT1bXTtmb3IodmFyIGk9MCxsZW49YXJndW1lbnRzLmxlbmd0aDtpPGxlbjtpKyspe2FyZ3VtZW50c0FycmF5W2ldPWFyZ3VtZW50c1tpXTt9XHJcbnZhciBpdGVtc1RvQXBwZW5kPShhcmd1bWVudHNBcnJheS5sZW5ndGg+Mik/aXRlbXNBZnRlckRlbGV0ZWQ9YXJndW1lbnRzQXJyYXkuc2xpY2UoMikuY29uY2F0KGl0ZW1zQWZ0ZXJEZWxldGVkKTppdGVtc0FmdGVyRGVsZXRlZDtmb3IoaT0wLGxlbj1pdGVtc1RvQXBwZW5kLmxlbmd0aDtpPGxlbjtpKyspe3RoaXMucHVzaChpdGVtc1RvQXBwZW5kW2ldKTt9XHJcbnJldHVybiBpdGVtc0RlbGV0ZWQ7fTt9XHJcbnZhciBsb2c0amF2YXNjcmlwdD0oZnVuY3Rpb24oKXtmdW5jdGlvbiBpc1VuZGVmaW5lZChvYmope3JldHVybiB0eXBlb2Ygb2JqPT1cInVuZGVmaW5lZFwiO31cclxuZnVuY3Rpb24gRXZlbnRTdXBwb3J0KCl7fVxyXG5FdmVudFN1cHBvcnQucHJvdG90eXBlPXtldmVudFR5cGVzOltdLGV2ZW50TGlzdGVuZXJzOnt9LHNldEV2ZW50VHlwZXM6ZnVuY3Rpb24oZXZlbnRUeXBlc1BhcmFtKXtpZihldmVudFR5cGVzUGFyYW0gaW5zdGFuY2VvZiBBcnJheSl7dGhpcy5ldmVudFR5cGVzPWV2ZW50VHlwZXNQYXJhbTt0aGlzLmV2ZW50TGlzdGVuZXJzPXt9O2Zvcih2YXIgaT0wLGxlbj10aGlzLmV2ZW50VHlwZXMubGVuZ3RoO2k8bGVuO2krKyl7dGhpcy5ldmVudExpc3RlbmVyc1t0aGlzLmV2ZW50VHlwZXNbaV1dPVtdO319ZWxzZXtoYW5kbGVFcnJvcihcImxvZzRqYXZhc2NyaXB0LkV2ZW50U3VwcG9ydCBbXCIrdGhpcytcIl06IHNldEV2ZW50VHlwZXM6IGV2ZW50VHlwZXMgcGFyYW1ldGVyIG11c3QgYmUgYW4gQXJyYXlcIik7fX0sYWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihldmVudFR5cGUsbGlzdGVuZXIpe2lmKHR5cGVvZiBsaXN0ZW5lcj09XCJmdW5jdGlvblwiKXtpZighYXJyYXlfY29udGFpbnModGhpcy5ldmVudFR5cGVzLGV2ZW50VHlwZSkpe2hhbmRsZUVycm9yKFwibG9nNGphdmFzY3JpcHQuRXZlbnRTdXBwb3J0IFtcIit0aGlzK1wiXTogYWRkRXZlbnRMaXN0ZW5lcjogbm8gZXZlbnQgY2FsbGVkICdcIitldmVudFR5cGUrXCInXCIpO31cclxudGhpcy5ldmVudExpc3RlbmVyc1tldmVudFR5cGVdLnB1c2gobGlzdGVuZXIpO31lbHNle2hhbmRsZUVycm9yKFwibG9nNGphdmFzY3JpcHQuRXZlbnRTdXBwb3J0IFtcIit0aGlzK1wiXTogYWRkRXZlbnRMaXN0ZW5lcjogbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO319LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oZXZlbnRUeXBlLGxpc3RlbmVyKXtpZih0eXBlb2YgbGlzdGVuZXI9PVwiZnVuY3Rpb25cIil7aWYoIWFycmF5X2NvbnRhaW5zKHRoaXMuZXZlbnRUeXBlcyxldmVudFR5cGUpKXtoYW5kbGVFcnJvcihcImxvZzRqYXZhc2NyaXB0LkV2ZW50U3VwcG9ydCBbXCIrdGhpcytcIl06IHJlbW92ZUV2ZW50TGlzdGVuZXI6IG5vIGV2ZW50IGNhbGxlZCAnXCIrZXZlbnRUeXBlK1wiJ1wiKTt9XHJcbmFycmF5X3JlbW92ZSh0aGlzLmV2ZW50TGlzdGVuZXJzW2V2ZW50VHlwZV0sbGlzdGVuZXIpO31lbHNle2hhbmRsZUVycm9yKFwibG9nNGphdmFzY3JpcHQuRXZlbnRTdXBwb3J0IFtcIit0aGlzK1wiXTogcmVtb3ZlRXZlbnRMaXN0ZW5lcjogbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO319LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oZXZlbnRUeXBlLGV2ZW50QXJncyl7aWYoYXJyYXlfY29udGFpbnModGhpcy5ldmVudFR5cGVzLGV2ZW50VHlwZSkpe3ZhciBsaXN0ZW5lcnM9dGhpcy5ldmVudExpc3RlbmVyc1tldmVudFR5cGVdO2Zvcih2YXIgaT0wLGxlbj1saXN0ZW5lcnMubGVuZ3RoO2k8bGVuO2krKyl7bGlzdGVuZXJzW2ldKHRoaXMsZXZlbnRUeXBlLGV2ZW50QXJncyk7fX1lbHNle2hhbmRsZUVycm9yKFwibG9nNGphdmFzY3JpcHQuRXZlbnRTdXBwb3J0IFtcIit0aGlzK1wiXTogZGlzcGF0Y2hFdmVudDogbm8gZXZlbnQgY2FsbGVkICdcIitldmVudFR5cGUrXCInXCIpO319fTt2YXIgYXBwbGljYXRpb25TdGFydERhdGU9bmV3IERhdGUoKTt2YXIgdW5pcXVlSWQ9XCJsb2c0amF2YXNjcmlwdF9cIithcHBsaWNhdGlvblN0YXJ0RGF0ZS5nZXRUaW1lKCkrXCJfXCIrXHJcbk1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDAwMDAwMDApO3ZhciBlbXB0eUZ1bmN0aW9uPWZ1bmN0aW9uKCl7fTt2YXIgbmV3TGluZT1cIlxcclxcblwiO3ZhciBwYWdlTG9hZGVkPWZhbHNlO2Z1bmN0aW9uIExvZzRKYXZhU2NyaXB0KCl7fVxyXG5Mb2c0SmF2YVNjcmlwdC5wcm90b3R5cGU9bmV3IEV2ZW50U3VwcG9ydCgpO2xvZzRqYXZhc2NyaXB0PW5ldyBMb2c0SmF2YVNjcmlwdCgpO2xvZzRqYXZhc2NyaXB0LnZlcnNpb249XCIxLjQuOVwiO2xvZzRqYXZhc2NyaXB0LmVkaXRpb249XCJsb2c0amF2YXNjcmlwdFwiO2Z1bmN0aW9uIHRvU3RyKG9iail7aWYob2JqJiZvYmoudG9TdHJpbmcpe3JldHVybiBvYmoudG9TdHJpbmcoKTt9ZWxzZXtyZXR1cm4gU3RyaW5nKG9iaik7fX1cclxuZnVuY3Rpb24gZ2V0RXhjZXB0aW9uTWVzc2FnZShleCl7aWYoZXgubWVzc2FnZSl7cmV0dXJuIGV4Lm1lc3NhZ2U7fWVsc2UgaWYoZXguZGVzY3JpcHRpb24pe3JldHVybiBleC5kZXNjcmlwdGlvbjt9ZWxzZXtyZXR1cm4gdG9TdHIoZXgpO319XHJcbmZ1bmN0aW9uIGdldFVybEZpbGVOYW1lKHVybCl7dmFyIGxhc3RTbGFzaEluZGV4PU1hdGgubWF4KHVybC5sYXN0SW5kZXhPZihcIi9cIiksdXJsLmxhc3RJbmRleE9mKFwiXFxcXFwiKSk7cmV0dXJuIHVybC5zdWJzdHIobGFzdFNsYXNoSW5kZXgrMSk7fVxyXG5mdW5jdGlvbiBnZXRFeGNlcHRpb25TdHJpbmdSZXAoZXgpe2lmKGV4KXt2YXIgZXhTdHI9XCJFeGNlcHRpb246IFwiK2dldEV4Y2VwdGlvbk1lc3NhZ2UoZXgpO3RyeXtpZihleC5saW5lTnVtYmVyKXtleFN0cis9XCIgb24gbGluZSBudW1iZXIgXCIrZXgubGluZU51bWJlcjt9XHJcbmlmKGV4LmZpbGVOYW1lKXtleFN0cis9XCIgaW4gZmlsZSBcIitnZXRVcmxGaWxlTmFtZShleC5maWxlTmFtZSk7fX1jYXRjaChsb2NhbEV4KXtsb2dMb2cud2FybihcIlVuYWJsZSB0byBvYnRhaW4gZmlsZSBhbmQgbGluZSBpbmZvcm1hdGlvbiBmb3IgZXJyb3JcIik7fVxyXG5pZihzaG93U3RhY2tUcmFjZXMmJmV4LnN0YWNrKXtleFN0cis9bmV3TGluZStcIlN0YWNrIHRyYWNlOlwiK25ld0xpbmUrZXguc3RhY2s7fVxyXG5yZXR1cm4gZXhTdHI7fVxyXG5yZXR1cm4gbnVsbDt9XHJcbmZ1bmN0aW9uIGJvb2wob2JqKXtyZXR1cm4gQm9vbGVhbihvYmopO31cclxuZnVuY3Rpb24gdHJpbShzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvXlxccysvLFwiXCIpLnJlcGxhY2UoL1xccyskLyxcIlwiKTt9XHJcbmZ1bmN0aW9uIHNwbGl0SW50b0xpbmVzKHRleHQpe3ZhciB0ZXh0Mj10ZXh0LnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpLnJlcGxhY2UoL1xcci9nLFwiXFxuXCIpO3JldHVybiB0ZXh0Mi5zcGxpdChcIlxcblwiKTt9XHJcbnZhciB1cmxFbmNvZGU9KHR5cGVvZiB3aW5kb3cuZW5jb2RlVVJJQ29tcG9uZW50IT1cInVuZGVmaW5lZFwiKT9mdW5jdGlvbihzdHIpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKTt9OmZ1bmN0aW9uKHN0cil7cmV0dXJuIGVzY2FwZShzdHIpLnJlcGxhY2UoL1xcKy9nLFwiJTJCXCIpLnJlcGxhY2UoL1wiL2csXCIlMjJcIikucmVwbGFjZSgvJy9nLFwiJTI3XCIpLnJlcGxhY2UoL1xcLy9nLFwiJTJGXCIpLnJlcGxhY2UoLz0vZyxcIiUzRFwiKTt9O3ZhciB1cmxEZWNvZGU9KHR5cGVvZiB3aW5kb3cuZGVjb2RlVVJJQ29tcG9uZW50IT1cInVuZGVmaW5lZFwiKT9mdW5jdGlvbihzdHIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTt9OmZ1bmN0aW9uKHN0cil7cmV0dXJuIHVuZXNjYXBlKHN0cikucmVwbGFjZSgvJTJCL2csXCIrXCIpLnJlcGxhY2UoLyUyMi9nLFwiXFxcIlwiKS5yZXBsYWNlKC8lMjcvZyxcIidcIikucmVwbGFjZSgvJTJGL2csXCIvXCIpLnJlcGxhY2UoLyUzRC9nLFwiPVwiKTt9O2Z1bmN0aW9uIGFycmF5X3JlbW92ZShhcnIsdmFsKXt2YXIgaW5kZXg9LTE7Zm9yKHZhciBpPTAsbGVuPWFyci5sZW5ndGg7aTxsZW47aSsrKXtpZihhcnJbaV09PT12YWwpe2luZGV4PWk7YnJlYWs7fX1cclxuaWYoaW5kZXg+PTApe2Fyci5zcGxpY2UoaW5kZXgsMSk7cmV0dXJuIHRydWU7fWVsc2V7cmV0dXJuIGZhbHNlO319XHJcbmZ1bmN0aW9uIGFycmF5X2NvbnRhaW5zKGFycix2YWwpe2Zvcih2YXIgaT0wLGxlbj1hcnIubGVuZ3RoO2k8bGVuO2krKyl7aWYoYXJyW2ldPT12YWwpe3JldHVybiB0cnVlO319XHJcbnJldHVybiBmYWxzZTt9XHJcbmZ1bmN0aW9uIGV4dHJhY3RCb29sZWFuRnJvbVBhcmFtKHBhcmFtLGRlZmF1bHRWYWx1ZSl7aWYoaXNVbmRlZmluZWQocGFyYW0pKXtyZXR1cm4gZGVmYXVsdFZhbHVlO31lbHNle3JldHVybiBib29sKHBhcmFtKTt9fVxyXG5mdW5jdGlvbiBleHRyYWN0U3RyaW5nRnJvbVBhcmFtKHBhcmFtLGRlZmF1bHRWYWx1ZSl7aWYoaXNVbmRlZmluZWQocGFyYW0pKXtyZXR1cm4gZGVmYXVsdFZhbHVlO31lbHNle3JldHVybiBTdHJpbmcocGFyYW0pO319XHJcbmZ1bmN0aW9uIGV4dHJhY3RJbnRGcm9tUGFyYW0ocGFyYW0sZGVmYXVsdFZhbHVlKXtpZihpc1VuZGVmaW5lZChwYXJhbSkpe3JldHVybiBkZWZhdWx0VmFsdWU7fWVsc2V7dHJ5e3ZhciB2YWx1ZT1wYXJzZUludChwYXJhbSwxMCk7cmV0dXJuIGlzTmFOKHZhbHVlKT9kZWZhdWx0VmFsdWU6dmFsdWU7fWNhdGNoKGV4KXtsb2dMb2cud2FybihcIkludmFsaWQgaW50IHBhcmFtIFwiK3BhcmFtLGV4KTtyZXR1cm4gZGVmYXVsdFZhbHVlO319fVxyXG5mdW5jdGlvbiBleHRyYWN0RnVuY3Rpb25Gcm9tUGFyYW0ocGFyYW0sZGVmYXVsdFZhbHVlKXtpZih0eXBlb2YgcGFyYW09PVwiZnVuY3Rpb25cIil7cmV0dXJuIHBhcmFtO31lbHNle3JldHVybiBkZWZhdWx0VmFsdWU7fX1cclxuZnVuY3Rpb24gaXNFcnJvcihlcnIpe3JldHVybihlcnIgaW5zdGFuY2VvZiBFcnJvcik7fVxyXG5pZighRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5KXtGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24ob2JqLGFyZ3Mpe3ZhciBtZXRob2ROYW1lPVwiX19hcHBseV9fXCI7aWYodHlwZW9mIG9ialttZXRob2ROYW1lXSE9XCJ1bmRlZmluZWRcIil7bWV0aG9kTmFtZSs9U3RyaW5nKE1hdGgucmFuZG9tKCkpLnN1YnN0cigyKTt9XHJcbm9ialttZXRob2ROYW1lXT10aGlzO3ZhciBhcmdzU3RyaW5ncz1bXTtmb3IodmFyIGk9MCxsZW49YXJncy5sZW5ndGg7aTxsZW47aSsrKXthcmdzU3RyaW5nc1tpXT1cImFyZ3NbXCIraStcIl1cIjt9XHJcbnZhciBzY3JpcHQ9XCJvYmouXCIrbWV0aG9kTmFtZStcIihcIithcmdzU3RyaW5ncy5qb2luKFwiLFwiKStcIilcIjt2YXIgcmV0dXJuVmFsdWU9ZXZhbChzY3JpcHQpO2RlbGV0ZSBvYmpbbWV0aG9kTmFtZV07cmV0dXJuIHJldHVyblZhbHVlO307fVxyXG5pZighRnVuY3Rpb24ucHJvdG90eXBlLmNhbGwpe0Z1bmN0aW9uLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKG9iail7dmFyIGFyZ3M9W107Zm9yKHZhciBpPTEsbGVuPWFyZ3VtZW50cy5sZW5ndGg7aTxsZW47aSsrKXthcmdzW2ktMV09YXJndW1lbnRzW2ldO31cclxucmV0dXJuIHRoaXMuYXBwbHkob2JqLGFyZ3MpO307fVxyXG5mdW5jdGlvbiBnZXRMaXN0ZW5lcnNQcm9wZXJ0eU5hbWUoZXZlbnROYW1lKXtyZXR1cm5cIl9fbG9nNGphdmFzY3JpcHRfbGlzdGVuZXJzX19cIitldmVudE5hbWU7fVxyXG5mdW5jdGlvbiBhZGRFdmVudChub2RlLGV2ZW50TmFtZSxsaXN0ZW5lcix1c2VDYXB0dXJlLHdpbil7d2luPXdpbj93aW46d2luZG93O2lmKG5vZGUuYWRkRXZlbnRMaXN0ZW5lcil7bm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSxsaXN0ZW5lcix1c2VDYXB0dXJlKTt9ZWxzZSBpZihub2RlLmF0dGFjaEV2ZW50KXtub2RlLmF0dGFjaEV2ZW50KFwib25cIitldmVudE5hbWUsbGlzdGVuZXIpO31lbHNle3ZhciBwcm9wZXJ0eU5hbWU9Z2V0TGlzdGVuZXJzUHJvcGVydHlOYW1lKGV2ZW50TmFtZSk7aWYoIW5vZGVbcHJvcGVydHlOYW1lXSl7bm9kZVtwcm9wZXJ0eU5hbWVdPVtdO25vZGVbXCJvblwiK2V2ZW50TmFtZV09ZnVuY3Rpb24oZXZ0KXtldnQ9Z2V0RXZlbnQoZXZ0LHdpbik7dmFyIGxpc3RlbmVyc1Byb3BlcnR5TmFtZT1nZXRMaXN0ZW5lcnNQcm9wZXJ0eU5hbWUoZXZlbnROYW1lKTt2YXIgbGlzdGVuZXJzPXRoaXNbbGlzdGVuZXJzUHJvcGVydHlOYW1lXS5jb25jYXQoW10pO3ZhciBjdXJyZW50TGlzdGVuZXI7d2hpbGUoKGN1cnJlbnRMaXN0ZW5lcj1saXN0ZW5lcnMuc2hpZnQoKSkpe2N1cnJlbnRMaXN0ZW5lci5jYWxsKHRoaXMsZXZ0KTt9fTt9XHJcbm5vZGVbcHJvcGVydHlOYW1lXS5wdXNoKGxpc3RlbmVyKTt9fVxyXG5mdW5jdGlvbiByZW1vdmVFdmVudChub2RlLGV2ZW50TmFtZSxsaXN0ZW5lcix1c2VDYXB0dXJlKXtpZihub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIpe25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsbGlzdGVuZXIsdXNlQ2FwdHVyZSk7fWVsc2UgaWYobm9kZS5kZXRhY2hFdmVudCl7bm9kZS5kZXRhY2hFdmVudChcIm9uXCIrZXZlbnROYW1lLGxpc3RlbmVyKTt9ZWxzZXt2YXIgcHJvcGVydHlOYW1lPWdldExpc3RlbmVyc1Byb3BlcnR5TmFtZShldmVudE5hbWUpO2lmKG5vZGVbcHJvcGVydHlOYW1lXSl7YXJyYXlfcmVtb3ZlKG5vZGVbcHJvcGVydHlOYW1lXSxsaXN0ZW5lcik7fX19XHJcbmZ1bmN0aW9uIGdldEV2ZW50KGV2dCx3aW4pe3dpbj13aW4/d2luOndpbmRvdztyZXR1cm4gZXZ0P2V2dDp3aW4uZXZlbnQ7fVxyXG5mdW5jdGlvbiBzdG9wRXZlbnRQcm9wYWdhdGlvbihldnQpe2lmKGV2dC5zdG9wUHJvcGFnYXRpb24pe2V2dC5zdG9wUHJvcGFnYXRpb24oKTt9ZWxzZSBpZih0eXBlb2YgZXZ0LmNhbmNlbEJ1YmJsZSE9XCJ1bmRlZmluZWRcIil7ZXZ0LmNhbmNlbEJ1YmJsZT10cnVlO31cclxuZXZ0LnJldHVyblZhbHVlPWZhbHNlO31cclxudmFyIGxvZ0xvZz17cXVpZXRNb2RlOmZhbHNlLGRlYnVnTWVzc2FnZXM6W10sc2V0UXVpZXRNb2RlOmZ1bmN0aW9uKHF1aWV0TW9kZSl7dGhpcy5xdWlldE1vZGU9Ym9vbChxdWlldE1vZGUpO30sbnVtYmVyT2ZFcnJvcnM6MCxhbGVydEFsbEVycm9yczpmYWxzZSxzZXRBbGVydEFsbEVycm9yczpmdW5jdGlvbihhbGVydEFsbEVycm9ycyl7dGhpcy5hbGVydEFsbEVycm9ycz1hbGVydEFsbEVycm9yczt9LGRlYnVnOmZ1bmN0aW9uKG1lc3NhZ2Upe3RoaXMuZGVidWdNZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO30sZGlzcGxheURlYnVnOmZ1bmN0aW9uKCl7YWxlcnQodGhpcy5kZWJ1Z01lc3NhZ2VzLmpvaW4obmV3TGluZSkpO30sd2FybjpmdW5jdGlvbihtZXNzYWdlLGV4Y2VwdGlvbil7fSxlcnJvcjpmdW5jdGlvbihtZXNzYWdlLGV4Y2VwdGlvbil7aWYoKyt0aGlzLm51bWJlck9mRXJyb3JzPT0xfHx0aGlzLmFsZXJ0QWxsRXJyb3JzKXtpZighdGhpcy5xdWlldE1vZGUpe3ZhciBhbGVydE1lc3NhZ2U9XCJsb2c0amF2YXNjcmlwdCBlcnJvcjogXCIrbWVzc2FnZTtpZihleGNlcHRpb24pe2FsZXJ0TWVzc2FnZSs9bmV3TGluZStuZXdMaW5lK1wiT3JpZ2luYWwgZXJyb3I6IFwiK2dldEV4Y2VwdGlvblN0cmluZ1JlcChleGNlcHRpb24pO31cclxuYWxlcnQoYWxlcnRNZXNzYWdlKTt9fX19O2xvZzRqYXZhc2NyaXB0LmxvZ0xvZz1sb2dMb2c7bG9nNGphdmFzY3JpcHQuc2V0RXZlbnRUeXBlcyhbXCJsb2FkXCIsXCJlcnJvclwiXSk7ZnVuY3Rpb24gaGFuZGxlRXJyb3IobWVzc2FnZSxleGNlcHRpb24pe2xvZ0xvZy5lcnJvcihtZXNzYWdlLGV4Y2VwdGlvbik7bG9nNGphdmFzY3JpcHQuZGlzcGF0Y2hFdmVudChcImVycm9yXCIse1wibWVzc2FnZVwiOm1lc3NhZ2UsXCJleGNlcHRpb25cIjpleGNlcHRpb259KTt9XHJcbmxvZzRqYXZhc2NyaXB0LmhhbmRsZUVycm9yPWhhbmRsZUVycm9yO3ZhciBlbmFibGVkPSEoKHR5cGVvZiBsb2c0amF2YXNjcmlwdF9kaXNhYmxlZCE9XCJ1bmRlZmluZWRcIikmJmxvZzRqYXZhc2NyaXB0X2Rpc2FibGVkKTtsb2c0amF2YXNjcmlwdC5zZXRFbmFibGVkPWZ1bmN0aW9uKGVuYWJsZSl7ZW5hYmxlZD1ib29sKGVuYWJsZSk7fTtsb2c0amF2YXNjcmlwdC5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZW5hYmxlZDt9O3ZhciB1c2VUaW1lU3RhbXBzSW5NaWxsaXNlY29uZHM9dHJ1ZTtsb2c0amF2YXNjcmlwdC5zZXRUaW1lU3RhbXBzSW5NaWxsaXNlY29uZHM9ZnVuY3Rpb24odGltZVN0YW1wc0luTWlsbGlzZWNvbmRzKXt1c2VUaW1lU3RhbXBzSW5NaWxsaXNlY29uZHM9Ym9vbCh0aW1lU3RhbXBzSW5NaWxsaXNlY29uZHMpO307bG9nNGphdmFzY3JpcHQuaXNUaW1lU3RhbXBzSW5NaWxsaXNlY29uZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdXNlVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzO307bG9nNGphdmFzY3JpcHQuZXZhbEluU2NvcGU9ZnVuY3Rpb24oZXhwcil7cmV0dXJuIGV2YWwoZXhwcik7fTt2YXIgc2hvd1N0YWNrVHJhY2VzPWZhbHNlO2xvZzRqYXZhc2NyaXB0LnNldFNob3dTdGFja1RyYWNlcz1mdW5jdGlvbihzaG93KXtzaG93U3RhY2tUcmFjZXM9Ym9vbChzaG93KTt9O3ZhciBMZXZlbD1mdW5jdGlvbihsZXZlbCxuYW1lKXt0aGlzLmxldmVsPWxldmVsO3RoaXMubmFtZT1uYW1lO307TGV2ZWwucHJvdG90eXBlPXt0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWU7fSxlcXVhbHM6ZnVuY3Rpb24obGV2ZWwpe3JldHVybiB0aGlzLmxldmVsPT1sZXZlbC5sZXZlbDt9LGlzR3JlYXRlck9yRXF1YWw6ZnVuY3Rpb24obGV2ZWwpe3JldHVybiB0aGlzLmxldmVsPj1sZXZlbC5sZXZlbDt9fTtMZXZlbC5BTEw9bmV3IExldmVsKE51bWJlci5NSU5fVkFMVUUsXCJBTExcIik7TGV2ZWwuVFJBQ0U9bmV3IExldmVsKDEwMDAwLFwiVFJBQ0VcIik7TGV2ZWwuREVCVUc9bmV3IExldmVsKDIwMDAwLFwiREVCVUdcIik7TGV2ZWwuSU5GTz1uZXcgTGV2ZWwoMzAwMDAsXCJJTkZPXCIpO0xldmVsLldBUk49bmV3IExldmVsKDQwMDAwLFwiV0FSTlwiKTtMZXZlbC5FUlJPUj1uZXcgTGV2ZWwoNTAwMDAsXCJFUlJPUlwiKTtMZXZlbC5GQVRBTD1uZXcgTGV2ZWwoNjAwMDAsXCJGQVRBTFwiKTtMZXZlbC5PRkY9bmV3IExldmVsKE51bWJlci5NQVhfVkFMVUUsXCJPRkZcIik7bG9nNGphdmFzY3JpcHQuTGV2ZWw9TGV2ZWw7ZnVuY3Rpb24gVGltZXIobmFtZSxsZXZlbCl7dGhpcy5uYW1lPW5hbWU7dGhpcy5sZXZlbD1pc1VuZGVmaW5lZChsZXZlbCk/TGV2ZWwuSU5GTzpsZXZlbDt0aGlzLnN0YXJ0PW5ldyBEYXRlKCk7fVxyXG5UaW1lci5wcm90b3R5cGUuZ2V0RWxhcHNlZFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCktdGhpcy5zdGFydC5nZXRUaW1lKCk7fTt2YXIgYW5vbnltb3VzTG9nZ2VyTmFtZT1cIlthbm9ueW1vdXNdXCI7dmFyIGRlZmF1bHRMb2dnZXJOYW1lPVwiW2RlZmF1bHRdXCI7dmFyIG51bGxMb2dnZXJOYW1lPVwiW251bGxdXCI7dmFyIHJvb3RMb2dnZXJOYW1lPVwicm9vdFwiO2Z1bmN0aW9uIExvZ2dlcihuYW1lKXt0aGlzLm5hbWU9bmFtZTt0aGlzLnBhcmVudD1udWxsO3RoaXMuY2hpbGRyZW49W107dmFyIGFwcGVuZGVycz1bXTt2YXIgbG9nZ2VyTGV2ZWw9bnVsbDt2YXIgaXNSb290PSh0aGlzLm5hbWU9PT1yb290TG9nZ2VyTmFtZSk7dmFyIGlzTnVsbD0odGhpcy5uYW1lPT09bnVsbExvZ2dlck5hbWUpO3ZhciBhcHBlbmRlckNhY2hlPW51bGw7dmFyIGFwcGVuZGVyQ2FjaGVJbnZhbGlkYXRlZD1mYWxzZTt0aGlzLmFkZENoaWxkPWZ1bmN0aW9uKGNoaWxkTG9nZ2VyKXt0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGRMb2dnZXIpO2NoaWxkTG9nZ2VyLnBhcmVudD10aGlzO2NoaWxkTG9nZ2VyLmludmFsaWRhdGVBcHBlbmRlckNhY2hlKCk7fTt2YXIgYWRkaXRpdmU9dHJ1ZTt0aGlzLmdldEFkZGl0aXZpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gYWRkaXRpdmU7fTt0aGlzLnNldEFkZGl0aXZpdHk9ZnVuY3Rpb24oYWRkaXRpdml0eSl7dmFyIHZhbHVlQ2hhbmdlZD0oYWRkaXRpdmUhPWFkZGl0aXZpdHkpO2FkZGl0aXZlPWFkZGl0aXZpdHk7aWYodmFsdWVDaGFuZ2VkKXt0aGlzLmludmFsaWRhdGVBcHBlbmRlckNhY2hlKCk7fX07dGhpcy5hZGRBcHBlbmRlcj1mdW5jdGlvbihhcHBlbmRlcil7aWYoaXNOdWxsKXtoYW5kbGVFcnJvcihcIkxvZ2dlci5hZGRBcHBlbmRlcjogeW91IG1heSBub3QgYWRkIGFuIGFwcGVuZGVyIHRvIHRoZSBudWxsIGxvZ2dlclwiKTt9ZWxzZXtpZihhcHBlbmRlciBpbnN0YW5jZW9mIGxvZzRqYXZhc2NyaXB0LkFwcGVuZGVyKXtpZighYXJyYXlfY29udGFpbnMoYXBwZW5kZXJzLGFwcGVuZGVyKSl7YXBwZW5kZXJzLnB1c2goYXBwZW5kZXIpO2FwcGVuZGVyLnNldEFkZGVkVG9Mb2dnZXIodGhpcyk7dGhpcy5pbnZhbGlkYXRlQXBwZW5kZXJDYWNoZSgpO319ZWxzZXtoYW5kbGVFcnJvcihcIkxvZ2dlci5hZGRBcHBlbmRlcjogYXBwZW5kZXIgc3VwcGxpZWQgKCdcIitcclxudG9TdHIoYXBwZW5kZXIpK1wiJykgaXMgbm90IGEgc3ViY2xhc3Mgb2YgQXBwZW5kZXJcIik7fX19O3RoaXMucmVtb3ZlQXBwZW5kZXI9ZnVuY3Rpb24oYXBwZW5kZXIpe2FycmF5X3JlbW92ZShhcHBlbmRlcnMsYXBwZW5kZXIpO2FwcGVuZGVyLnNldFJlbW92ZWRGcm9tTG9nZ2VyKHRoaXMpO3RoaXMuaW52YWxpZGF0ZUFwcGVuZGVyQ2FjaGUoKTt9O3RoaXMucmVtb3ZlQWxsQXBwZW5kZXJzPWZ1bmN0aW9uKCl7dmFyIGFwcGVuZGVyQ291bnQ9YXBwZW5kZXJzLmxlbmd0aDtpZihhcHBlbmRlckNvdW50PjApe2Zvcih2YXIgaT0wO2k8YXBwZW5kZXJDb3VudDtpKyspe2FwcGVuZGVyc1tpXS5zZXRSZW1vdmVkRnJvbUxvZ2dlcih0aGlzKTt9XHJcbmFwcGVuZGVycy5sZW5ndGg9MDt0aGlzLmludmFsaWRhdGVBcHBlbmRlckNhY2hlKCk7fX07dGhpcy5nZXRFZmZlY3RpdmVBcHBlbmRlcnM9ZnVuY3Rpb24oKXtpZihhcHBlbmRlckNhY2hlPT09bnVsbHx8YXBwZW5kZXJDYWNoZUludmFsaWRhdGVkKXt2YXIgcGFyZW50RWZmZWN0aXZlQXBwZW5kZXJzPShpc1Jvb3R8fCF0aGlzLmdldEFkZGl0aXZpdHkoKSk/W106dGhpcy5wYXJlbnQuZ2V0RWZmZWN0aXZlQXBwZW5kZXJzKCk7YXBwZW5kZXJDYWNoZT1wYXJlbnRFZmZlY3RpdmVBcHBlbmRlcnMuY29uY2F0KGFwcGVuZGVycyk7YXBwZW5kZXJDYWNoZUludmFsaWRhdGVkPWZhbHNlO31cclxucmV0dXJuIGFwcGVuZGVyQ2FjaGU7fTt0aGlzLmludmFsaWRhdGVBcHBlbmRlckNhY2hlPWZ1bmN0aW9uKCl7YXBwZW5kZXJDYWNoZUludmFsaWRhdGVkPXRydWU7Zm9yKHZhciBpPTAsbGVuPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2k8bGVuO2krKyl7dGhpcy5jaGlsZHJlbltpXS5pbnZhbGlkYXRlQXBwZW5kZXJDYWNoZSgpO319O3RoaXMubG9nPWZ1bmN0aW9uKGxldmVsLHBhcmFtcyl7aWYoZW5hYmxlZCYmbGV2ZWwuaXNHcmVhdGVyT3JFcXVhbCh0aGlzLmdldEVmZmVjdGl2ZUxldmVsKCkpKXt2YXIgZXhjZXB0aW9uO3ZhciBmaW5hbFBhcmFtSW5kZXg9cGFyYW1zLmxlbmd0aC0xO3ZhciBsYXN0UGFyYW09cGFyYW1zW2ZpbmFsUGFyYW1JbmRleF07aWYocGFyYW1zLmxlbmd0aD4xJiZpc0Vycm9yKGxhc3RQYXJhbSkpe2V4Y2VwdGlvbj1sYXN0UGFyYW07ZmluYWxQYXJhbUluZGV4LS07fVxyXG52YXIgbWVzc2FnZXM9W107Zm9yKHZhciBpPTA7aTw9ZmluYWxQYXJhbUluZGV4O2krKyl7bWVzc2FnZXNbaV09cGFyYW1zW2ldO31cclxudmFyIGxvZ2dpbmdFdmVudD1uZXcgTG9nZ2luZ0V2ZW50KHRoaXMsbmV3IERhdGUoKSxsZXZlbCxtZXNzYWdlcyxleGNlcHRpb24pO3RoaXMuY2FsbEFwcGVuZGVycyhsb2dnaW5nRXZlbnQpO319O3RoaXMuY2FsbEFwcGVuZGVycz1mdW5jdGlvbihsb2dnaW5nRXZlbnQpe3ZhciBlZmZlY3RpdmVBcHBlbmRlcnM9dGhpcy5nZXRFZmZlY3RpdmVBcHBlbmRlcnMoKTtmb3IodmFyIGk9MCxsZW49ZWZmZWN0aXZlQXBwZW5kZXJzLmxlbmd0aDtpPGxlbjtpKyspe2VmZmVjdGl2ZUFwcGVuZGVyc1tpXS5kb0FwcGVuZChsb2dnaW5nRXZlbnQpO319O3RoaXMuc2V0TGV2ZWw9ZnVuY3Rpb24obGV2ZWwpe2lmKGlzUm9vdCYmbGV2ZWw9PT1udWxsKXtoYW5kbGVFcnJvcihcIkxvZ2dlci5zZXRMZXZlbDogeW91IGNhbm5vdCBzZXQgdGhlIGxldmVsIG9mIHRoZSByb290IGxvZ2dlciB0byBudWxsXCIpO31lbHNlIGlmKGxldmVsIGluc3RhbmNlb2YgTGV2ZWwpe2xvZ2dlckxldmVsPWxldmVsO31lbHNle2hhbmRsZUVycm9yKFwiTG9nZ2VyLnNldExldmVsOiBsZXZlbCBzdXBwbGllZCB0byBsb2dnZXIgXCIrXHJcbnRoaXMubmFtZStcIiBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgbG9nNGphdmFzY3JpcHQuTGV2ZWxcIik7fX07dGhpcy5nZXRMZXZlbD1mdW5jdGlvbigpe3JldHVybiBsb2dnZXJMZXZlbDt9O3RoaXMuZ2V0RWZmZWN0aXZlTGV2ZWw9ZnVuY3Rpb24oKXtmb3IodmFyIGxvZ2dlcj10aGlzO2xvZ2dlciE9PW51bGw7bG9nZ2VyPWxvZ2dlci5wYXJlbnQpe3ZhciBsZXZlbD1sb2dnZXIuZ2V0TGV2ZWwoKTtpZihsZXZlbCE9PW51bGwpe3JldHVybiBsZXZlbDt9fX07dGhpcy5ncm91cD1mdW5jdGlvbihuYW1lLGluaXRpYWxseUV4cGFuZGVkKXtpZihlbmFibGVkKXt2YXIgZWZmZWN0aXZlQXBwZW5kZXJzPXRoaXMuZ2V0RWZmZWN0aXZlQXBwZW5kZXJzKCk7Zm9yKHZhciBpPTAsbGVuPWVmZmVjdGl2ZUFwcGVuZGVycy5sZW5ndGg7aTxsZW47aSsrKXtlZmZlY3RpdmVBcHBlbmRlcnNbaV0uZ3JvdXAobmFtZSxpbml0aWFsbHlFeHBhbmRlZCk7fX19O3RoaXMuZ3JvdXBFbmQ9ZnVuY3Rpb24oKXtpZihlbmFibGVkKXt2YXIgZWZmZWN0aXZlQXBwZW5kZXJzPXRoaXMuZ2V0RWZmZWN0aXZlQXBwZW5kZXJzKCk7Zm9yKHZhciBpPTAsbGVuPWVmZmVjdGl2ZUFwcGVuZGVycy5sZW5ndGg7aTxsZW47aSsrKXtlZmZlY3RpdmVBcHBlbmRlcnNbaV0uZ3JvdXBFbmQoKTt9fX07dmFyIHRpbWVycz17fTt0aGlzLnRpbWU9ZnVuY3Rpb24obmFtZSxsZXZlbCl7aWYoZW5hYmxlZCl7aWYoaXNVbmRlZmluZWQobmFtZSkpe2hhbmRsZUVycm9yKFwiTG9nZ2VyLnRpbWU6IGEgbmFtZSBmb3IgdGhlIHRpbWVyIG11c3QgYmUgc3VwcGxpZWRcIik7fWVsc2UgaWYobGV2ZWwmJiEobGV2ZWwgaW5zdGFuY2VvZiBMZXZlbCkpe2hhbmRsZUVycm9yKFwiTG9nZ2VyLnRpbWU6IGxldmVsIHN1cHBsaWVkIHRvIHRpbWVyIFwiK1xyXG5uYW1lK1wiIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBsb2c0amF2YXNjcmlwdC5MZXZlbFwiKTt9ZWxzZXt0aW1lcnNbbmFtZV09bmV3IFRpbWVyKG5hbWUsbGV2ZWwpO319fTt0aGlzLnRpbWVFbmQ9ZnVuY3Rpb24obmFtZSl7aWYoZW5hYmxlZCl7aWYoaXNVbmRlZmluZWQobmFtZSkpe2hhbmRsZUVycm9yKFwiTG9nZ2VyLnRpbWVFbmQ6IGEgbmFtZSBmb3IgdGhlIHRpbWVyIG11c3QgYmUgc3VwcGxpZWRcIik7fWVsc2UgaWYodGltZXJzW25hbWVdKXt2YXIgdGltZXI9dGltZXJzW25hbWVdO3ZhciBtaWxsaXNlY29uZHM9dGltZXIuZ2V0RWxhcHNlZFRpbWUoKTt0aGlzLmxvZyh0aW1lci5sZXZlbCxbXCJUaW1lciBcIit0b1N0cihuYW1lKStcIiBjb21wbGV0ZWQgaW4gXCIrbWlsbGlzZWNvbmRzK1wibXNcIl0pO2RlbGV0ZSB0aW1lcnNbbmFtZV07fWVsc2V7bG9nTG9nLndhcm4oXCJMb2dnZXIudGltZUVuZDogbm8gdGltZXIgZm91bmQgd2l0aCBuYW1lIFwiK25hbWUpO319fTt0aGlzLmFzc2VydD1mdW5jdGlvbihleHByKXtpZihlbmFibGVkJiYhZXhwcil7dmFyIGFyZ3M9W107Zm9yKHZhciBpPTEsbGVuPWFyZ3VtZW50cy5sZW5ndGg7aTxsZW47aSsrKXthcmdzLnB1c2goYXJndW1lbnRzW2ldKTt9XHJcbmFyZ3M9KGFyZ3MubGVuZ3RoPjApP2FyZ3M6W1wiQXNzZXJ0aW9uIEZhaWx1cmVcIl07YXJncy5wdXNoKG5ld0xpbmUpO2FyZ3MucHVzaChleHByKTt0aGlzLmxvZyhMZXZlbC5FUlJPUixhcmdzKTt9fTt0aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJMb2dnZXJbXCIrdGhpcy5uYW1lK1wiXVwiO307fVxyXG5Mb2dnZXIucHJvdG90eXBlPXt0cmFjZTpmdW5jdGlvbigpe3RoaXMubG9nKExldmVsLlRSQUNFLGFyZ3VtZW50cyk7fSxkZWJ1ZzpmdW5jdGlvbigpe3RoaXMubG9nKExldmVsLkRFQlVHLGFyZ3VtZW50cyk7fSxpbmZvOmZ1bmN0aW9uKCl7dGhpcy5sb2coTGV2ZWwuSU5GTyxhcmd1bWVudHMpO30sd2FybjpmdW5jdGlvbigpe3RoaXMubG9nKExldmVsLldBUk4sYXJndW1lbnRzKTt9LGVycm9yOmZ1bmN0aW9uKCl7dGhpcy5sb2coTGV2ZWwuRVJST1IsYXJndW1lbnRzKTt9LGZhdGFsOmZ1bmN0aW9uKCl7dGhpcy5sb2coTGV2ZWwuRkFUQUwsYXJndW1lbnRzKTt9LGlzRW5hYmxlZEZvcjpmdW5jdGlvbihsZXZlbCl7cmV0dXJuIGxldmVsLmlzR3JlYXRlck9yRXF1YWwodGhpcy5nZXRFZmZlY3RpdmVMZXZlbCgpKTt9LGlzVHJhY2VFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkRm9yKExldmVsLlRSQUNFKTt9LGlzRGVidWdFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkRm9yKExldmVsLkRFQlVHKTt9LGlzSW5mb0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VuYWJsZWRGb3IoTGV2ZWwuSU5GTyk7fSxpc1dhcm5FbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkRm9yKExldmVsLldBUk4pO30saXNFcnJvckVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VuYWJsZWRGb3IoTGV2ZWwuRVJST1IpO30saXNGYXRhbEVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VuYWJsZWRGb3IoTGV2ZWwuRkFUQUwpO319O0xvZ2dlci5wcm90b3R5cGUudHJhY2UuaXNFbnRyeVBvaW50PXRydWU7TG9nZ2VyLnByb3RvdHlwZS5kZWJ1Zy5pc0VudHJ5UG9pbnQ9dHJ1ZTtMb2dnZXIucHJvdG90eXBlLmluZm8uaXNFbnRyeVBvaW50PXRydWU7TG9nZ2VyLnByb3RvdHlwZS53YXJuLmlzRW50cnlQb2ludD10cnVlO0xvZ2dlci5wcm90b3R5cGUuZXJyb3IuaXNFbnRyeVBvaW50PXRydWU7TG9nZ2VyLnByb3RvdHlwZS5mYXRhbC5pc0VudHJ5UG9pbnQ9dHJ1ZTt2YXIgbG9nZ2Vycz17fTt2YXIgbG9nZ2VyTmFtZXM9W107dmFyIFJPT1RfTE9HR0VSX0RFRkFVTFRfTEVWRUw9TGV2ZWwuREVCVUc7dmFyIHJvb3RMb2dnZXI9bmV3IExvZ2dlcihyb290TG9nZ2VyTmFtZSk7cm9vdExvZ2dlci5zZXRMZXZlbChST09UX0xPR0dFUl9ERUZBVUxUX0xFVkVMKTtsb2c0amF2YXNjcmlwdC5nZXRSb290TG9nZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHJvb3RMb2dnZXI7fTtsb2c0amF2YXNjcmlwdC5nZXRMb2dnZXI9ZnVuY3Rpb24obG9nZ2VyTmFtZSl7aWYoISh0eXBlb2YgbG9nZ2VyTmFtZT09XCJzdHJpbmdcIikpe2xvZ2dlck5hbWU9YW5vbnltb3VzTG9nZ2VyTmFtZTtsb2dMb2cud2FybihcImxvZzRqYXZhc2NyaXB0LmdldExvZ2dlcjogbm9uLXN0cmluZyBsb2dnZXIgbmFtZSBcIitcclxudG9TdHIobG9nZ2VyTmFtZSkrXCIgc3VwcGxpZWQsIHJldHVybmluZyBhbm9ueW1vdXMgbG9nZ2VyXCIpO31cclxuaWYobG9nZ2VyTmFtZT09cm9vdExvZ2dlck5hbWUpe2hhbmRsZUVycm9yKFwibG9nNGphdmFzY3JpcHQuZ2V0TG9nZ2VyOiByb290IGxvZ2dlciBtYXkgbm90IGJlIG9idGFpbmVkIGJ5IG5hbWVcIik7fVxyXG5pZighbG9nZ2Vyc1tsb2dnZXJOYW1lXSl7dmFyIGxvZ2dlcj1uZXcgTG9nZ2VyKGxvZ2dlck5hbWUpO2xvZ2dlcnNbbG9nZ2VyTmFtZV09bG9nZ2VyO2xvZ2dlck5hbWVzLnB1c2gobG9nZ2VyTmFtZSk7dmFyIGxhc3REb3RJbmRleD1sb2dnZXJOYW1lLmxhc3RJbmRleE9mKFwiLlwiKTt2YXIgcGFyZW50TG9nZ2VyO2lmKGxhc3REb3RJbmRleD4tMSl7dmFyIHBhcmVudExvZ2dlck5hbWU9bG9nZ2VyTmFtZS5zdWJzdHJpbmcoMCxsYXN0RG90SW5kZXgpO3BhcmVudExvZ2dlcj1sb2c0amF2YXNjcmlwdC5nZXRMb2dnZXIocGFyZW50TG9nZ2VyTmFtZSk7fWVsc2V7cGFyZW50TG9nZ2VyPXJvb3RMb2dnZXI7fVxyXG5wYXJlbnRMb2dnZXIuYWRkQ2hpbGQobG9nZ2VyKTt9XHJcbnJldHVybiBsb2dnZXJzW2xvZ2dlck5hbWVdO307dmFyIGRlZmF1bHRMb2dnZXI9bnVsbDtsb2c0amF2YXNjcmlwdC5nZXREZWZhdWx0TG9nZ2VyPWZ1bmN0aW9uKCl7aWYoIWRlZmF1bHRMb2dnZXIpe2RlZmF1bHRMb2dnZXI9bG9nNGphdmFzY3JpcHQuZ2V0TG9nZ2VyKGRlZmF1bHRMb2dnZXJOYW1lKTt2YXIgYT1uZXcgbG9nNGphdmFzY3JpcHQuUG9wVXBBcHBlbmRlcigpO2RlZmF1bHRMb2dnZXIuYWRkQXBwZW5kZXIoYSk7fVxyXG5yZXR1cm4gZGVmYXVsdExvZ2dlcjt9O3ZhciBudWxsTG9nZ2VyPW51bGw7bG9nNGphdmFzY3JpcHQuZ2V0TnVsbExvZ2dlcj1mdW5jdGlvbigpe2lmKCFudWxsTG9nZ2VyKXtudWxsTG9nZ2VyPW5ldyBMb2dnZXIobnVsbExvZ2dlck5hbWUpO251bGxMb2dnZXIuc2V0TGV2ZWwoTGV2ZWwuT0ZGKTt9XHJcbnJldHVybiBudWxsTG9nZ2VyO307bG9nNGphdmFzY3JpcHQucmVzZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7cm9vdExvZ2dlci5zZXRMZXZlbChST09UX0xPR0dFUl9ERUZBVUxUX0xFVkVMKTtsb2dnZXJzPXt9O307dmFyIExvZ2dpbmdFdmVudD1mdW5jdGlvbihsb2dnZXIsdGltZVN0YW1wLGxldmVsLG1lc3NhZ2VzLGV4Y2VwdGlvbil7dGhpcy5sb2dnZXI9bG9nZ2VyO3RoaXMudGltZVN0YW1wPXRpbWVTdGFtcDt0aGlzLnRpbWVTdGFtcEluTWlsbGlzZWNvbmRzPXRpbWVTdGFtcC5nZXRUaW1lKCk7dGhpcy50aW1lU3RhbXBJblNlY29uZHM9TWF0aC5mbG9vcih0aGlzLnRpbWVTdGFtcEluTWlsbGlzZWNvbmRzLzEwMDApO3RoaXMubWlsbGlzZWNvbmRzPXRoaXMudGltZVN0YW1wLmdldE1pbGxpc2Vjb25kcygpO3RoaXMubGV2ZWw9bGV2ZWw7dGhpcy5tZXNzYWdlcz1tZXNzYWdlczt0aGlzLmV4Y2VwdGlvbj1leGNlcHRpb247fTtMb2dnaW5nRXZlbnQucHJvdG90eXBlPXtnZXRUaHJvd2FibGVTdHJSZXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leGNlcHRpb24/Z2V0RXhjZXB0aW9uU3RyaW5nUmVwKHRoaXMuZXhjZXB0aW9uKTpcIlwiO30sZ2V0Q29tYmluZWRNZXNzYWdlczpmdW5jdGlvbigpe3JldHVybih0aGlzLm1lc3NhZ2VzLmxlbmd0aD09MSk/dGhpcy5tZXNzYWdlc1swXTp0aGlzLm1lc3NhZ2VzLmpvaW4obmV3TGluZSk7fSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiTG9nZ2luZ0V2ZW50W1wiK3RoaXMubGV2ZWwrXCJdXCI7fX07bG9nNGphdmFzY3JpcHQuTG9nZ2luZ0V2ZW50PUxvZ2dpbmdFdmVudDt2YXIgTGF5b3V0PWZ1bmN0aW9uKCl7fTtMYXlvdXQucHJvdG90eXBlPXtkZWZhdWx0czp7bG9nZ2VyS2V5OlwibG9nZ2VyXCIsdGltZVN0YW1wS2V5OlwidGltZXN0YW1wXCIsbWlsbGlzZWNvbmRzS2V5OlwibWlsbGlzZWNvbmRzXCIsbGV2ZWxLZXk6XCJsZXZlbFwiLG1lc3NhZ2VLZXk6XCJtZXNzYWdlXCIsZXhjZXB0aW9uS2V5OlwiZXhjZXB0aW9uXCIsdXJsS2V5OlwidXJsXCJ9LGxvZ2dlcktleTpcImxvZ2dlclwiLHRpbWVTdGFtcEtleTpcInRpbWVzdGFtcFwiLG1pbGxpc2Vjb25kc0tleTpcIm1pbGxpc2Vjb25kc1wiLGxldmVsS2V5OlwibGV2ZWxcIixtZXNzYWdlS2V5OlwibWVzc2FnZVwiLGV4Y2VwdGlvbktleTpcImV4Y2VwdGlvblwiLHVybEtleTpcInVybFwiLGJhdGNoSGVhZGVyOlwiXCIsYmF0Y2hGb290ZXI6XCJcIixiYXRjaFNlcGFyYXRvcjpcIlwiLHJldHVybnNQb3N0RGF0YTpmYWxzZSxvdmVycmlkZVRpbWVTdGFtcHNTZXR0aW5nOmZhbHNlLHVzZVRpbWVTdGFtcHNJbk1pbGxpc2Vjb25kczpudWxsLGZvcm1hdDpmdW5jdGlvbigpe2hhbmRsZUVycm9yKFwiTGF5b3V0LmZvcm1hdDogbGF5b3V0IHN1cHBsaWVkIGhhcyBubyBmb3JtYXQoKSBtZXRob2RcIik7fSxpZ25vcmVzVGhyb3dhYmxlOmZ1bmN0aW9uKCl7aGFuZGxlRXJyb3IoXCJMYXlvdXQuaWdub3Jlc1Rocm93YWJsZTogbGF5b3V0IHN1cHBsaWVkIGhhcyBubyBpZ25vcmVzVGhyb3dhYmxlKCkgbWV0aG9kXCIpO30sZ2V0Q29udGVudFR5cGU6ZnVuY3Rpb24oKXtyZXR1cm5cInRleHQvcGxhaW5cIjt9LGFsbG93QmF0Y2hpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdHJ1ZTt9LHNldFRpbWVTdGFtcHNJbk1pbGxpc2Vjb25kczpmdW5jdGlvbih0aW1lU3RhbXBzSW5NaWxsaXNlY29uZHMpe3RoaXMub3ZlcnJpZGVUaW1lU3RhbXBzU2V0dGluZz10cnVlO3RoaXMudXNlVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzPWJvb2wodGltZVN0YW1wc0luTWlsbGlzZWNvbmRzKTt9LGlzVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3ZlcnJpZGVUaW1lU3RhbXBzU2V0dGluZz90aGlzLnVzZVRpbWVTdGFtcHNJbk1pbGxpc2Vjb25kczp1c2VUaW1lU3RhbXBzSW5NaWxsaXNlY29uZHM7fSxnZXRUaW1lU3RhbXBWYWx1ZTpmdW5jdGlvbihsb2dnaW5nRXZlbnQpe3JldHVybiB0aGlzLmlzVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzKCk/bG9nZ2luZ0V2ZW50LnRpbWVTdGFtcEluTWlsbGlzZWNvbmRzOmxvZ2dpbmdFdmVudC50aW1lU3RhbXBJblNlY29uZHM7fSxnZXREYXRhVmFsdWVzOmZ1bmN0aW9uKGxvZ2dpbmdFdmVudCxjb21iaW5lTWVzc2FnZXMpe3ZhciBkYXRhVmFsdWVzPVtbdGhpcy5sb2dnZXJLZXksbG9nZ2luZ0V2ZW50LmxvZ2dlci5uYW1lXSxbdGhpcy50aW1lU3RhbXBLZXksdGhpcy5nZXRUaW1lU3RhbXBWYWx1ZShsb2dnaW5nRXZlbnQpXSxbdGhpcy5sZXZlbEtleSxsb2dnaW5nRXZlbnQubGV2ZWwubmFtZV0sW3RoaXMudXJsS2V5LHdpbmRvdy5sb2NhdGlvbi5ocmVmXSxbdGhpcy5tZXNzYWdlS2V5LGNvbWJpbmVNZXNzYWdlcz9sb2dnaW5nRXZlbnQuZ2V0Q29tYmluZWRNZXNzYWdlcygpOmxvZ2dpbmdFdmVudC5tZXNzYWdlc11dO2lmKCF0aGlzLmlzVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzKCkpe2RhdGFWYWx1ZXMucHVzaChbdGhpcy5taWxsaXNlY29uZHNLZXksbG9nZ2luZ0V2ZW50Lm1pbGxpc2Vjb25kc10pO31cclxuaWYobG9nZ2luZ0V2ZW50LmV4Y2VwdGlvbil7ZGF0YVZhbHVlcy5wdXNoKFt0aGlzLmV4Y2VwdGlvbktleSxnZXRFeGNlcHRpb25TdHJpbmdSZXAobG9nZ2luZ0V2ZW50LmV4Y2VwdGlvbildKTt9XHJcbmlmKHRoaXMuaGFzQ3VzdG9tRmllbGRzKCkpe2Zvcih2YXIgaT0wLGxlbj10aGlzLmN1c3RvbUZpZWxkcy5sZW5ndGg7aTxsZW47aSsrKXt2YXIgdmFsPXRoaXMuY3VzdG9tRmllbGRzW2ldLnZhbHVlO2lmKHR5cGVvZiB2YWw9PT1cImZ1bmN0aW9uXCIpe3ZhbD12YWwodGhpcyxsb2dnaW5nRXZlbnQpO31cclxuZGF0YVZhbHVlcy5wdXNoKFt0aGlzLmN1c3RvbUZpZWxkc1tpXS5uYW1lLHZhbF0pO319XHJcbnJldHVybiBkYXRhVmFsdWVzO30sc2V0S2V5czpmdW5jdGlvbihsb2dnZXJLZXksdGltZVN0YW1wS2V5LGxldmVsS2V5LG1lc3NhZ2VLZXksZXhjZXB0aW9uS2V5LHVybEtleSxtaWxsaXNlY29uZHNLZXkpe3RoaXMubG9nZ2VyS2V5PWV4dHJhY3RTdHJpbmdGcm9tUGFyYW0obG9nZ2VyS2V5LHRoaXMuZGVmYXVsdHMubG9nZ2VyS2V5KTt0aGlzLnRpbWVTdGFtcEtleT1leHRyYWN0U3RyaW5nRnJvbVBhcmFtKHRpbWVTdGFtcEtleSx0aGlzLmRlZmF1bHRzLnRpbWVTdGFtcEtleSk7dGhpcy5sZXZlbEtleT1leHRyYWN0U3RyaW5nRnJvbVBhcmFtKGxldmVsS2V5LHRoaXMuZGVmYXVsdHMubGV2ZWxLZXkpO3RoaXMubWVzc2FnZUtleT1leHRyYWN0U3RyaW5nRnJvbVBhcmFtKG1lc3NhZ2VLZXksdGhpcy5kZWZhdWx0cy5tZXNzYWdlS2V5KTt0aGlzLmV4Y2VwdGlvbktleT1leHRyYWN0U3RyaW5nRnJvbVBhcmFtKGV4Y2VwdGlvbktleSx0aGlzLmRlZmF1bHRzLmV4Y2VwdGlvbktleSk7dGhpcy51cmxLZXk9ZXh0cmFjdFN0cmluZ0Zyb21QYXJhbSh1cmxLZXksdGhpcy5kZWZhdWx0cy51cmxLZXkpO3RoaXMubWlsbGlzZWNvbmRzS2V5PWV4dHJhY3RTdHJpbmdGcm9tUGFyYW0obWlsbGlzZWNvbmRzS2V5LHRoaXMuZGVmYXVsdHMubWlsbGlzZWNvbmRzS2V5KTt9LHNldEN1c3RvbUZpZWxkOmZ1bmN0aW9uKG5hbWUsdmFsdWUpe3ZhciBmaWVsZFVwZGF0ZWQ9ZmFsc2U7Zm9yKHZhciBpPTAsbGVuPXRoaXMuY3VzdG9tRmllbGRzLmxlbmd0aDtpPGxlbjtpKyspe2lmKHRoaXMuY3VzdG9tRmllbGRzW2ldLm5hbWU9PT1uYW1lKXt0aGlzLmN1c3RvbUZpZWxkc1tpXS52YWx1ZT12YWx1ZTtmaWVsZFVwZGF0ZWQ9dHJ1ZTt9fVxyXG5pZighZmllbGRVcGRhdGVkKXt0aGlzLmN1c3RvbUZpZWxkcy5wdXNoKHtcIm5hbWVcIjpuYW1lLFwidmFsdWVcIjp2YWx1ZX0pO319LGhhc0N1c3RvbUZpZWxkczpmdW5jdGlvbigpe3JldHVybih0aGlzLmN1c3RvbUZpZWxkcy5sZW5ndGg+MCk7fSxmb3JtYXRXaXRoRXhjZXB0aW9uOmZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7dmFyIGZvcm1hdHRlZD10aGlzLmZvcm1hdChsb2dnaW5nRXZlbnQpO2lmKGxvZ2dpbmdFdmVudC5leGNlcHRpb24mJnRoaXMuaWdub3Jlc1Rocm93YWJsZSgpKXtmb3JtYXR0ZWQrPWxvZ2dpbmdFdmVudC5nZXRUaHJvd2FibGVTdHJSZXAoKTt9XHJcbnJldHVybiBmb3JtYXR0ZWQ7fSx0b1N0cmluZzpmdW5jdGlvbigpe2hhbmRsZUVycm9yKFwiTGF5b3V0LnRvU3RyaW5nOiBhbGwgbGF5b3V0cyBtdXN0IG92ZXJyaWRlIHRoaXMgbWV0aG9kXCIpO319O2xvZzRqYXZhc2NyaXB0LkxheW91dD1MYXlvdXQ7dmFyIEFwcGVuZGVyPWZ1bmN0aW9uKCl7fTtBcHBlbmRlci5wcm90b3R5cGU9bmV3IEV2ZW50U3VwcG9ydCgpO0FwcGVuZGVyLnByb3RvdHlwZS5sYXlvdXQ9bmV3IFBhdHRlcm5MYXlvdXQoKTtBcHBlbmRlci5wcm90b3R5cGUudGhyZXNob2xkPUxldmVsLkFMTDtBcHBlbmRlci5wcm90b3R5cGUubG9nZ2Vycz1bXTtBcHBlbmRlci5wcm90b3R5cGUuZG9BcHBlbmQ9ZnVuY3Rpb24obG9nZ2luZ0V2ZW50KXtpZihlbmFibGVkJiZsb2dnaW5nRXZlbnQubGV2ZWwubGV2ZWw+PXRoaXMudGhyZXNob2xkLmxldmVsKXt0aGlzLmFwcGVuZChsb2dnaW5nRXZlbnQpO319O0FwcGVuZGVyLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24obG9nZ2luZ0V2ZW50KXt9O0FwcGVuZGVyLnByb3RvdHlwZS5zZXRMYXlvdXQ9ZnVuY3Rpb24obGF5b3V0KXtpZihsYXlvdXQgaW5zdGFuY2VvZiBMYXlvdXQpe3RoaXMubGF5b3V0PWxheW91dDt9ZWxzZXtoYW5kbGVFcnJvcihcIkFwcGVuZGVyLnNldExheW91dDogbGF5b3V0IHN1cHBsaWVkIHRvIFwiK1xyXG50aGlzLnRvU3RyaW5nKCkrXCIgaXMgbm90IGEgc3ViY2xhc3Mgb2YgTGF5b3V0XCIpO319O0FwcGVuZGVyLnByb3RvdHlwZS5nZXRMYXlvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXlvdXQ7fTtBcHBlbmRlci5wcm90b3R5cGUuc2V0VGhyZXNob2xkPWZ1bmN0aW9uKHRocmVzaG9sZCl7aWYodGhyZXNob2xkIGluc3RhbmNlb2YgTGV2ZWwpe3RoaXMudGhyZXNob2xkPXRocmVzaG9sZDt9ZWxzZXtoYW5kbGVFcnJvcihcIkFwcGVuZGVyLnNldFRocmVzaG9sZDogdGhyZXNob2xkIHN1cHBsaWVkIHRvIFwiK1xyXG50aGlzLnRvU3RyaW5nKCkrXCIgaXMgbm90IGEgc3ViY2xhc3Mgb2YgTGV2ZWxcIik7fX07QXBwZW5kZXIucHJvdG90eXBlLmdldFRocmVzaG9sZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocmVzaG9sZDt9O0FwcGVuZGVyLnByb3RvdHlwZS5zZXRBZGRlZFRvTG9nZ2VyPWZ1bmN0aW9uKGxvZ2dlcil7dGhpcy5sb2dnZXJzLnB1c2gobG9nZ2VyKTt9O0FwcGVuZGVyLnByb3RvdHlwZS5zZXRSZW1vdmVkRnJvbUxvZ2dlcj1mdW5jdGlvbihsb2dnZXIpe2FycmF5X3JlbW92ZSh0aGlzLmxvZ2dlcnMsbG9nZ2VyKTt9O0FwcGVuZGVyLnByb3RvdHlwZS5ncm91cD1lbXB0eUZ1bmN0aW9uO0FwcGVuZGVyLnByb3RvdHlwZS5ncm91cEVuZD1lbXB0eUZ1bmN0aW9uO0FwcGVuZGVyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2hhbmRsZUVycm9yKFwiQXBwZW5kZXIudG9TdHJpbmc6IGFsbCBhcHBlbmRlcnMgbXVzdCBvdmVycmlkZSB0aGlzIG1ldGhvZFwiKTt9O2xvZzRqYXZhc2NyaXB0LkFwcGVuZGVyPUFwcGVuZGVyO2Z1bmN0aW9uIFNpbXBsZUxheW91dCgpe3RoaXMuY3VzdG9tRmllbGRzPVtdO31cclxuU2ltcGxlTGF5b3V0LnByb3RvdHlwZT1uZXcgTGF5b3V0KCk7U2ltcGxlTGF5b3V0LnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24obG9nZ2luZ0V2ZW50KXtyZXR1cm4gbG9nZ2luZ0V2ZW50LmxldmVsLm5hbWUrXCIgLSBcIitsb2dnaW5nRXZlbnQuZ2V0Q29tYmluZWRNZXNzYWdlcygpO307U2ltcGxlTGF5b3V0LnByb3RvdHlwZS5pZ25vcmVzVGhyb3dhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRydWU7fTtTaW1wbGVMYXlvdXQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJTaW1wbGVMYXlvdXRcIjt9O2xvZzRqYXZhc2NyaXB0LlNpbXBsZUxheW91dD1TaW1wbGVMYXlvdXQ7ZnVuY3Rpb24gTnVsbExheW91dCgpe3RoaXMuY3VzdG9tRmllbGRzPVtdO31cclxuTnVsbExheW91dC5wcm90b3R5cGU9bmV3IExheW91dCgpO051bGxMYXlvdXQucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbihsb2dnaW5nRXZlbnQpe3JldHVybiBsb2dnaW5nRXZlbnQubWVzc2FnZXM7fTtOdWxsTGF5b3V0LnByb3RvdHlwZS5pZ25vcmVzVGhyb3dhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRydWU7fTtOdWxsTGF5b3V0LnByb3RvdHlwZS5mb3JtYXRXaXRoRXhjZXB0aW9uPWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7dmFyIG1lc3NhZ2VzPWxvZ2dpbmdFdmVudC5tZXNzYWdlcyxleD1sb2dnaW5nRXZlbnQuZXhjZXB0aW9uO3JldHVybiBleD9tZXNzYWdlcy5jb25jYXQoW2V4XSk6bWVzc2FnZXM7fTtOdWxsTGF5b3V0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiTnVsbExheW91dFwiO307bG9nNGphdmFzY3JpcHQuTnVsbExheW91dD1OdWxsTGF5b3V0O2Z1bmN0aW9uIFhtbExheW91dChjb21iaW5lTWVzc2FnZXMpe3RoaXMuY29tYmluZU1lc3NhZ2VzPWV4dHJhY3RCb29sZWFuRnJvbVBhcmFtKGNvbWJpbmVNZXNzYWdlcyx0cnVlKTt0aGlzLmN1c3RvbUZpZWxkcz1bXTt9XHJcblhtbExheW91dC5wcm90b3R5cGU9bmV3IExheW91dCgpO1htbExheW91dC5wcm90b3R5cGUuaXNDb21iaW5lZE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tYmluZU1lc3NhZ2VzO307WG1sTGF5b3V0LnByb3RvdHlwZS5nZXRDb250ZW50VHlwZT1mdW5jdGlvbigpe3JldHVyblwidGV4dC94bWxcIjt9O1htbExheW91dC5wcm90b3R5cGUuZXNjYXBlQ2RhdGE9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoL1xcXVxcXT4vLFwiXV0+XV0mZ3Q7PCFbQ0RBVEFbXCIpO307WG1sTGF5b3V0LnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24obG9nZ2luZ0V2ZW50KXt2YXIgbGF5b3V0PXRoaXM7dmFyIGksbGVuO2Z1bmN0aW9uIGZvcm1hdE1lc3NhZ2UobWVzc2FnZSl7bWVzc2FnZT0odHlwZW9mIG1lc3NhZ2U9PT1cInN0cmluZ1wiKT9tZXNzYWdlOnRvU3RyKG1lc3NhZ2UpO3JldHVyblwiPGxvZzRqYXZhc2NyaXB0Om1lc3NhZ2U+PCFbQ0RBVEFbXCIrXHJcbmxheW91dC5lc2NhcGVDZGF0YShtZXNzYWdlKStcIl1dPjwvbG9nNGphdmFzY3JpcHQ6bWVzc2FnZT5cIjt9XHJcbnZhciBzdHI9XCI8bG9nNGphdmFzY3JpcHQ6ZXZlbnQgbG9nZ2VyPVxcXCJcIitsb2dnaW5nRXZlbnQubG9nZ2VyLm5hbWUrXCJcXFwiIHRpbWVzdGFtcD1cXFwiXCIrdGhpcy5nZXRUaW1lU3RhbXBWYWx1ZShsb2dnaW5nRXZlbnQpK1wiXFxcIlwiO2lmKCF0aGlzLmlzVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzKCkpe3N0cis9XCIgbWlsbGlzZWNvbmRzPVxcXCJcIitsb2dnaW5nRXZlbnQubWlsbGlzZWNvbmRzK1wiXFxcIlwiO31cclxuc3RyKz1cIiBsZXZlbD1cXFwiXCIrbG9nZ2luZ0V2ZW50LmxldmVsLm5hbWUrXCJcXFwiPlwiK25ld0xpbmU7aWYodGhpcy5jb21iaW5lTWVzc2FnZXMpe3N0cis9Zm9ybWF0TWVzc2FnZShsb2dnaW5nRXZlbnQuZ2V0Q29tYmluZWRNZXNzYWdlcygpKTt9ZWxzZXtzdHIrPVwiPGxvZzRqYXZhc2NyaXB0Om1lc3NhZ2VzPlwiK25ld0xpbmU7Zm9yKGk9MCxsZW49bG9nZ2luZ0V2ZW50Lm1lc3NhZ2VzLmxlbmd0aDtpPGxlbjtpKyspe3N0cis9Zm9ybWF0TWVzc2FnZShsb2dnaW5nRXZlbnQubWVzc2FnZXNbaV0pK25ld0xpbmU7fVxyXG5zdHIrPVwiPC9sb2c0amF2YXNjcmlwdDptZXNzYWdlcz5cIituZXdMaW5lO31cclxuaWYodGhpcy5oYXNDdXN0b21GaWVsZHMoKSl7Zm9yKGk9MCxsZW49dGhpcy5jdXN0b21GaWVsZHMubGVuZ3RoO2k8bGVuO2krKyl7c3RyKz1cIjxsb2c0amF2YXNjcmlwdDpjdXN0b21maWVsZCBuYW1lPVxcXCJcIitcclxudGhpcy5jdXN0b21GaWVsZHNbaV0ubmFtZStcIlxcXCI+PCFbQ0RBVEFbXCIrXHJcbnRoaXMuY3VzdG9tRmllbGRzW2ldLnZhbHVlLnRvU3RyaW5nKCkrXCJdXT48L2xvZzRqYXZhc2NyaXB0OmN1c3RvbWZpZWxkPlwiK25ld0xpbmU7fX1cclxuaWYobG9nZ2luZ0V2ZW50LmV4Y2VwdGlvbil7c3RyKz1cIjxsb2c0amF2YXNjcmlwdDpleGNlcHRpb24+PCFbQ0RBVEFbXCIrXHJcbmdldEV4Y2VwdGlvblN0cmluZ1JlcChsb2dnaW5nRXZlbnQuZXhjZXB0aW9uKStcIl1dPjwvbG9nNGphdmFzY3JpcHQ6ZXhjZXB0aW9uPlwiK25ld0xpbmU7fVxyXG5zdHIrPVwiPC9sb2c0amF2YXNjcmlwdDpldmVudD5cIituZXdMaW5lK25ld0xpbmU7cmV0dXJuIHN0cjt9O1htbExheW91dC5wcm90b3R5cGUuaWdub3Jlc1Rocm93YWJsZT1mdW5jdGlvbigpe3JldHVybiBmYWxzZTt9O1htbExheW91dC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlhtbExheW91dFwiO307bG9nNGphdmFzY3JpcHQuWG1sTGF5b3V0PVhtbExheW91dDtmdW5jdGlvbiBlc2NhcGVOZXdMaW5lcyhzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZyxcIlxcXFxyXFxcXG5cIik7fVxyXG5mdW5jdGlvbiBKc29uTGF5b3V0KHJlYWRhYmxlLGNvbWJpbmVNZXNzYWdlcyl7dGhpcy5yZWFkYWJsZT1leHRyYWN0Qm9vbGVhbkZyb21QYXJhbShyZWFkYWJsZSxmYWxzZSk7dGhpcy5jb21iaW5lTWVzc2FnZXM9ZXh0cmFjdEJvb2xlYW5Gcm9tUGFyYW0oY29tYmluZU1lc3NhZ2VzLHRydWUpO3RoaXMuYmF0Y2hIZWFkZXI9dGhpcy5yZWFkYWJsZT9cIltcIituZXdMaW5lOlwiW1wiO3RoaXMuYmF0Y2hGb290ZXI9dGhpcy5yZWFkYWJsZT9cIl1cIituZXdMaW5lOlwiXVwiO3RoaXMuYmF0Y2hTZXBhcmF0b3I9dGhpcy5yZWFkYWJsZT9cIixcIituZXdMaW5lOlwiLFwiO3RoaXMuc2V0S2V5cygpO3RoaXMuY29sb249dGhpcy5yZWFkYWJsZT9cIjogXCI6XCI6XCI7dGhpcy50YWI9dGhpcy5yZWFkYWJsZT9cIlxcdFwiOlwiXCI7dGhpcy5saW5lQnJlYWs9dGhpcy5yZWFkYWJsZT9uZXdMaW5lOlwiXCI7dGhpcy5jdXN0b21GaWVsZHM9W107fVxyXG5Kc29uTGF5b3V0LnByb3RvdHlwZT1uZXcgTGF5b3V0KCk7SnNvbkxheW91dC5wcm90b3R5cGUuaXNSZWFkYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRhYmxlO307SnNvbkxheW91dC5wcm90b3R5cGUuaXNDb21iaW5lZE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tYmluZU1lc3NhZ2VzO307SnNvbkxheW91dC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7dmFyIGxheW91dD10aGlzO3ZhciBkYXRhVmFsdWVzPXRoaXMuZ2V0RGF0YVZhbHVlcyhsb2dnaW5nRXZlbnQsdGhpcy5jb21iaW5lTWVzc2FnZXMpO3ZhciBzdHI9XCJ7XCIrdGhpcy5saW5lQnJlYWs7dmFyIGksbGVuO2Z1bmN0aW9uIGZvcm1hdFZhbHVlKHZhbCxwcmVmaXgsZXhwYW5kKXt2YXIgZm9ybWF0dGVkVmFsdWU7dmFyIHZhbFR5cGU9dHlwZW9mIHZhbDtpZih2YWwgaW5zdGFuY2VvZiBEYXRlKXtmb3JtYXR0ZWRWYWx1ZT1TdHJpbmcodmFsLmdldFRpbWUoKSk7fWVsc2UgaWYoZXhwYW5kJiYodmFsIGluc3RhbmNlb2YgQXJyYXkpKXtmb3JtYXR0ZWRWYWx1ZT1cIltcIitsYXlvdXQubGluZUJyZWFrO2Zvcih2YXIgaT0wLGxlbj12YWwubGVuZ3RoO2k8bGVuO2krKyl7dmFyIGNoaWxkUHJlZml4PXByZWZpeCtsYXlvdXQudGFiO2Zvcm1hdHRlZFZhbHVlKz1jaGlsZFByZWZpeCtmb3JtYXRWYWx1ZSh2YWxbaV0sY2hpbGRQcmVmaXgsZmFsc2UpO2lmKGk8dmFsLmxlbmd0aC0xKXtmb3JtYXR0ZWRWYWx1ZSs9XCIsXCI7fVxyXG5mb3JtYXR0ZWRWYWx1ZSs9bGF5b3V0LmxpbmVCcmVhazt9XHJcbmZvcm1hdHRlZFZhbHVlKz1wcmVmaXgrXCJdXCI7fWVsc2UgaWYodmFsVHlwZSE9PVwibnVtYmVyXCImJnZhbFR5cGUhPT1cImJvb2xlYW5cIil7Zm9ybWF0dGVkVmFsdWU9XCJcXFwiXCIrZXNjYXBlTmV3TGluZXModG9TdHIodmFsKS5yZXBsYWNlKC9cXFwiL2csXCJcXFxcXFxcIlwiKSkrXCJcXFwiXCI7fWVsc2V7Zm9ybWF0dGVkVmFsdWU9dmFsO31cclxucmV0dXJuIGZvcm1hdHRlZFZhbHVlO31cclxuZm9yKGk9MCxsZW49ZGF0YVZhbHVlcy5sZW5ndGgtMTtpPD1sZW47aSsrKXtzdHIrPXRoaXMudGFiK1wiXFxcIlwiK2RhdGFWYWx1ZXNbaV1bMF0rXCJcXFwiXCIrdGhpcy5jb2xvbitmb3JtYXRWYWx1ZShkYXRhVmFsdWVzW2ldWzFdLHRoaXMudGFiLHRydWUpO2lmKGk8bGVuKXtzdHIrPVwiLFwiO31cclxuc3RyKz10aGlzLmxpbmVCcmVhazt9XHJcbnN0cis9XCJ9XCIrdGhpcy5saW5lQnJlYWs7cmV0dXJuIHN0cjt9O0pzb25MYXlvdXQucHJvdG90eXBlLmlnbm9yZXNUaHJvd2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2U7fTtKc29uTGF5b3V0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiSnNvbkxheW91dFwiO307SnNvbkxheW91dC5wcm90b3R5cGUuZ2V0Q29udGVudFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm5cImFwcGxpY2F0aW9uL2pzb25cIjt9O2xvZzRqYXZhc2NyaXB0Lkpzb25MYXlvdXQ9SnNvbkxheW91dDtmdW5jdGlvbiBIdHRwUG9zdERhdGFMYXlvdXQoKXt0aGlzLnNldEtleXMoKTt0aGlzLmN1c3RvbUZpZWxkcz1bXTt0aGlzLnJldHVybnNQb3N0RGF0YT10cnVlO31cclxuSHR0cFBvc3REYXRhTGF5b3V0LnByb3RvdHlwZT1uZXcgTGF5b3V0KCk7SHR0cFBvc3REYXRhTGF5b3V0LnByb3RvdHlwZS5hbGxvd0JhdGNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlO307SHR0cFBvc3REYXRhTGF5b3V0LnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24obG9nZ2luZ0V2ZW50KXt2YXIgZGF0YVZhbHVlcz10aGlzLmdldERhdGFWYWx1ZXMobG9nZ2luZ0V2ZW50KTt2YXIgcXVlcnlCaXRzPVtdO2Zvcih2YXIgaT0wLGxlbj1kYXRhVmFsdWVzLmxlbmd0aDtpPGxlbjtpKyspe3ZhciB2YWw9KGRhdGFWYWx1ZXNbaV1bMV1pbnN0YW5jZW9mIERhdGUpP1N0cmluZyhkYXRhVmFsdWVzW2ldWzFdLmdldFRpbWUoKSk6ZGF0YVZhbHVlc1tpXVsxXTtxdWVyeUJpdHMucHVzaCh1cmxFbmNvZGUoZGF0YVZhbHVlc1tpXVswXSkrXCI9XCIrdXJsRW5jb2RlKHZhbCkpO31cclxucmV0dXJuIHF1ZXJ5Qml0cy5qb2luKFwiJlwiKTt9O0h0dHBQb3N0RGF0YUxheW91dC5wcm90b3R5cGUuaWdub3Jlc1Rocm93YWJsZT1mdW5jdGlvbihsb2dnaW5nRXZlbnQpe3JldHVybiBmYWxzZTt9O0h0dHBQb3N0RGF0YUxheW91dC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkh0dHBQb3N0RGF0YUxheW91dFwiO307bG9nNGphdmFzY3JpcHQuSHR0cFBvc3REYXRhTGF5b3V0PUh0dHBQb3N0RGF0YUxheW91dDtmdW5jdGlvbiBmb3JtYXRPYmplY3RFeHBhbnNpb24ob2JqLGRlcHRoLGluZGVudGF0aW9uKXt2YXIgb2JqZWN0c0V4cGFuZGVkPVtdO2Z1bmN0aW9uIGRvRm9ybWF0KG9iaixkZXB0aCxpbmRlbnRhdGlvbil7dmFyIGksaixsZW4sY2hpbGREZXB0aCxjaGlsZEluZGVudGF0aW9uLGNoaWxkTGluZXMsZXhwYW5zaW9uLGNoaWxkRXhwYW5zaW9uO2lmKCFpbmRlbnRhdGlvbil7aW5kZW50YXRpb249XCJcIjt9XHJcbmZ1bmN0aW9uIGZvcm1hdFN0cmluZyh0ZXh0KXt2YXIgbGluZXM9c3BsaXRJbnRvTGluZXModGV4dCk7Zm9yKHZhciBqPTEsakxlbj1saW5lcy5sZW5ndGg7ajxqTGVuO2orKyl7bGluZXNbal09aW5kZW50YXRpb24rbGluZXNbal07fVxyXG5yZXR1cm4gbGluZXMuam9pbihuZXdMaW5lKTt9XHJcbmlmKG9iaj09PW51bGwpe3JldHVyblwibnVsbFwiO31lbHNlIGlmKHR5cGVvZiBvYmo9PVwidW5kZWZpbmVkXCIpe3JldHVyblwidW5kZWZpbmVkXCI7fWVsc2UgaWYodHlwZW9mIG9iaj09XCJzdHJpbmdcIil7cmV0dXJuIGZvcm1hdFN0cmluZyhvYmopO31lbHNlIGlmKHR5cGVvZiBvYmo9PVwib2JqZWN0XCImJmFycmF5X2NvbnRhaW5zKG9iamVjdHNFeHBhbmRlZCxvYmopKXt0cnl7ZXhwYW5zaW9uPXRvU3RyKG9iaik7fWNhdGNoKGV4KXtleHBhbnNpb249XCJFcnJvciBmb3JtYXR0aW5nIHByb3BlcnR5LiBEZXRhaWxzOiBcIitnZXRFeGNlcHRpb25TdHJpbmdSZXAoZXgpO31cclxucmV0dXJuIGV4cGFuc2lvbitcIiBbYWxyZWFkeSBleHBhbmRlZF1cIjt9ZWxzZSBpZigob2JqIGluc3RhbmNlb2YgQXJyYXkpJiZkZXB0aD4wKXtvYmplY3RzRXhwYW5kZWQucHVzaChvYmopO2V4cGFuc2lvbj1cIltcIituZXdMaW5lO2NoaWxkRGVwdGg9ZGVwdGgtMTtjaGlsZEluZGVudGF0aW9uPWluZGVudGF0aW9uK1wiICBcIjtjaGlsZExpbmVzPVtdO2ZvcihpPTAsbGVuPW9iai5sZW5ndGg7aTxsZW47aSsrKXt0cnl7Y2hpbGRFeHBhbnNpb249ZG9Gb3JtYXQob2JqW2ldLGNoaWxkRGVwdGgsY2hpbGRJbmRlbnRhdGlvbik7Y2hpbGRMaW5lcy5wdXNoKGNoaWxkSW5kZW50YXRpb24rY2hpbGRFeHBhbnNpb24pO31jYXRjaChleCl7Y2hpbGRMaW5lcy5wdXNoKGNoaWxkSW5kZW50YXRpb24rXCJFcnJvciBmb3JtYXR0aW5nIGFycmF5IG1lbWJlci4gRGV0YWlsczogXCIrXHJcbmdldEV4Y2VwdGlvblN0cmluZ1JlcChleCkrXCJcIik7fX1cclxuZXhwYW5zaW9uKz1jaGlsZExpbmVzLmpvaW4oXCIsXCIrbmV3TGluZSkrbmV3TGluZStpbmRlbnRhdGlvbitcIl1cIjtyZXR1cm4gZXhwYW5zaW9uO31lbHNlIGlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopPT1cIltvYmplY3QgRGF0ZV1cIil7cmV0dXJuIG9iai50b1N0cmluZygpO31lbHNlIGlmKHR5cGVvZiBvYmo9PVwib2JqZWN0XCImJmRlcHRoPjApe29iamVjdHNFeHBhbmRlZC5wdXNoKG9iaik7ZXhwYW5zaW9uPVwie1wiK25ld0xpbmU7Y2hpbGREZXB0aD1kZXB0aC0xO2NoaWxkSW5kZW50YXRpb249aW5kZW50YXRpb24rXCIgIFwiO2NoaWxkTGluZXM9W107Zm9yKGkgaW4gb2JqKXt0cnl7Y2hpbGRFeHBhbnNpb249ZG9Gb3JtYXQob2JqW2ldLGNoaWxkRGVwdGgsY2hpbGRJbmRlbnRhdGlvbik7Y2hpbGRMaW5lcy5wdXNoKGNoaWxkSW5kZW50YXRpb24raStcIjogXCIrY2hpbGRFeHBhbnNpb24pO31jYXRjaChleCl7Y2hpbGRMaW5lcy5wdXNoKGNoaWxkSW5kZW50YXRpb24raStcIjogRXJyb3IgZm9ybWF0dGluZyBwcm9wZXJ0eS4gRGV0YWlsczogXCIrXHJcbmdldEV4Y2VwdGlvblN0cmluZ1JlcChleCkpO319XHJcbmV4cGFuc2lvbis9Y2hpbGRMaW5lcy5qb2luKFwiLFwiK25ld0xpbmUpK25ld0xpbmUraW5kZW50YXRpb24rXCJ9XCI7cmV0dXJuIGV4cGFuc2lvbjt9ZWxzZXtyZXR1cm4gZm9ybWF0U3RyaW5nKHRvU3RyKG9iaikpO319XHJcbnJldHVybiBkb0Zvcm1hdChvYmosZGVwdGgsaW5kZW50YXRpb24pO31cclxudmFyIFNpbXBsZURhdGVGb3JtYXQ7KGZ1bmN0aW9uKCl7dmFyIHJlZ2V4PS8oJ1teJ10qJyl8KEcrfHkrfE0rfHcrfFcrfEQrfGQrfEYrfEUrfGErfEgrfGsrfEsrfGgrfG0rfHMrfFMrfForKXwoW2EtekEtWl0rKXwoW15hLXpBLVonXSspLzt2YXIgbW9udGhOYW1lcz1bXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl07dmFyIGRheU5hbWVzPVtcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdO3ZhciBURVhUMj0wLFRFWFQzPTEsTlVNQkVSPTIsWUVBUj0zLE1PTlRIPTQsVElNRVpPTkU9NTt2YXIgdHlwZXM9e0c6VEVYVDIseTpZRUFSLE06TU9OVEgsdzpOVU1CRVIsVzpOVU1CRVIsRDpOVU1CRVIsZDpOVU1CRVIsRjpOVU1CRVIsRTpURVhUMyxhOlRFWFQyLEg6TlVNQkVSLGs6TlVNQkVSLEs6TlVNQkVSLGg6TlVNQkVSLG06TlVNQkVSLHM6TlVNQkVSLFM6TlVNQkVSLFo6VElNRVpPTkV9O3ZhciBPTkVfREFZPTI0KjYwKjYwKjEwMDA7dmFyIE9ORV9XRUVLPTcqT05FX0RBWTt2YXIgREVGQVVMVF9NSU5JTUFMX0RBWVNfSU5fRklSU1RfV0VFSz0xO3ZhciBuZXdEYXRlQXRNaWRuaWdodD1mdW5jdGlvbih5ZWFyLG1vbnRoLGRheSl7dmFyIGQ9bmV3IERhdGUoeWVhcixtb250aCxkYXksMCwwLDApO2Quc2V0TWlsbGlzZWNvbmRzKDApO3JldHVybiBkO307RGF0ZS5wcm90b3R5cGUuZ2V0RGlmZmVyZW5jZT1mdW5jdGlvbihkYXRlKXtyZXR1cm4gdGhpcy5nZXRUaW1lKCktZGF0ZS5nZXRUaW1lKCk7fTtEYXRlLnByb3RvdHlwZS5pc0JlZm9yZT1mdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5nZXRUaW1lKCk8ZC5nZXRUaW1lKCk7fTtEYXRlLnByb3RvdHlwZS5nZXRVVENUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUuVVRDKHRoaXMuZ2V0RnVsbFllYXIoKSx0aGlzLmdldE1vbnRoKCksdGhpcy5nZXREYXRlKCksdGhpcy5nZXRIb3VycygpLHRoaXMuZ2V0TWludXRlcygpLHRoaXMuZ2V0U2Vjb25kcygpLHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkpO307RGF0ZS5wcm90b3R5cGUuZ2V0VGltZVNpbmNlPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLmdldFVUQ1RpbWUoKS1kLmdldFVUQ1RpbWUoKTt9O0RhdGUucHJvdG90eXBlLmdldFByZXZpb3VzU3VuZGF5PWZ1bmN0aW9uKCl7dmFyIG1pZGRheT1uZXcgRGF0ZSh0aGlzLmdldEZ1bGxZZWFyKCksdGhpcy5nZXRNb250aCgpLHRoaXMuZ2V0RGF0ZSgpLDEyLDAsMCk7dmFyIHByZXZpb3VzU3VuZGF5PW5ldyBEYXRlKG1pZGRheS5nZXRUaW1lKCktdGhpcy5nZXREYXkoKSpPTkVfREFZKTtyZXR1cm4gbmV3RGF0ZUF0TWlkbmlnaHQocHJldmlvdXNTdW5kYXkuZ2V0RnVsbFllYXIoKSxwcmV2aW91c1N1bmRheS5nZXRNb250aCgpLHByZXZpb3VzU3VuZGF5LmdldERhdGUoKSk7fTtEYXRlLnByb3RvdHlwZS5nZXRXZWVrSW5ZZWFyPWZ1bmN0aW9uKG1pbmltYWxEYXlzSW5GaXJzdFdlZWspe2lmKGlzVW5kZWZpbmVkKHRoaXMubWluaW1hbERheXNJbkZpcnN0V2Vlaykpe21pbmltYWxEYXlzSW5GaXJzdFdlZWs9REVGQVVMVF9NSU5JTUFMX0RBWVNfSU5fRklSU1RfV0VFSzt9XHJcbnZhciBwcmV2aW91c1N1bmRheT10aGlzLmdldFByZXZpb3VzU3VuZGF5KCk7dmFyIHN0YXJ0T2ZZZWFyPW5ld0RhdGVBdE1pZG5pZ2h0KHRoaXMuZ2V0RnVsbFllYXIoKSwwLDEpO3ZhciBudW1iZXJPZlN1bmRheXM9cHJldmlvdXNTdW5kYXkuaXNCZWZvcmUoc3RhcnRPZlllYXIpPzA6MStNYXRoLmZsb29yKHByZXZpb3VzU3VuZGF5LmdldFRpbWVTaW5jZShzdGFydE9mWWVhcikvT05FX1dFRUspO3ZhciBudW1iZXJPZkRheXNJbkZpcnN0V2Vlaz03LXN0YXJ0T2ZZZWFyLmdldERheSgpO3ZhciB3ZWVrSW5ZZWFyPW51bWJlck9mU3VuZGF5cztpZihudW1iZXJPZkRheXNJbkZpcnN0V2VlazxtaW5pbWFsRGF5c0luRmlyc3RXZWVrKXt3ZWVrSW5ZZWFyLS07fVxyXG5yZXR1cm4gd2Vla0luWWVhcjt9O0RhdGUucHJvdG90eXBlLmdldFdlZWtJbk1vbnRoPWZ1bmN0aW9uKG1pbmltYWxEYXlzSW5GaXJzdFdlZWspe2lmKGlzVW5kZWZpbmVkKHRoaXMubWluaW1hbERheXNJbkZpcnN0V2Vlaykpe21pbmltYWxEYXlzSW5GaXJzdFdlZWs9REVGQVVMVF9NSU5JTUFMX0RBWVNfSU5fRklSU1RfV0VFSzt9XHJcbnZhciBwcmV2aW91c1N1bmRheT10aGlzLmdldFByZXZpb3VzU3VuZGF5KCk7dmFyIHN0YXJ0T2ZNb250aD1uZXdEYXRlQXRNaWRuaWdodCh0aGlzLmdldEZ1bGxZZWFyKCksdGhpcy5nZXRNb250aCgpLDEpO3ZhciBudW1iZXJPZlN1bmRheXM9cHJldmlvdXNTdW5kYXkuaXNCZWZvcmUoc3RhcnRPZk1vbnRoKT8wOjErTWF0aC5mbG9vcihwcmV2aW91c1N1bmRheS5nZXRUaW1lU2luY2Uoc3RhcnRPZk1vbnRoKS9PTkVfV0VFSyk7dmFyIG51bWJlck9mRGF5c0luRmlyc3RXZWVrPTctc3RhcnRPZk1vbnRoLmdldERheSgpO3ZhciB3ZWVrSW5Nb250aD1udW1iZXJPZlN1bmRheXM7aWYobnVtYmVyT2ZEYXlzSW5GaXJzdFdlZWs+PW1pbmltYWxEYXlzSW5GaXJzdFdlZWspe3dlZWtJbk1vbnRoKys7fVxyXG5yZXR1cm4gd2Vla0luTW9udGg7fTtEYXRlLnByb3RvdHlwZS5nZXREYXlJblllYXI9ZnVuY3Rpb24oKXt2YXIgc3RhcnRPZlllYXI9bmV3RGF0ZUF0TWlkbmlnaHQodGhpcy5nZXRGdWxsWWVhcigpLDAsMSk7cmV0dXJuIDErTWF0aC5mbG9vcih0aGlzLmdldFRpbWVTaW5jZShzdGFydE9mWWVhcikvT05FX0RBWSk7fTtTaW1wbGVEYXRlRm9ybWF0PWZ1bmN0aW9uKGZvcm1hdFN0cmluZyl7dGhpcy5mb3JtYXRTdHJpbmc9Zm9ybWF0U3RyaW5nO307U2ltcGxlRGF0ZUZvcm1hdC5wcm90b3R5cGUuc2V0TWluaW1hbERheXNJbkZpcnN0V2Vlaz1mdW5jdGlvbihkYXlzKXt0aGlzLm1pbmltYWxEYXlzSW5GaXJzdFdlZWs9ZGF5czt9O1NpbXBsZURhdGVGb3JtYXQucHJvdG90eXBlLmdldE1pbmltYWxEYXlzSW5GaXJzdFdlZWs9ZnVuY3Rpb24oKXtyZXR1cm4gaXNVbmRlZmluZWQodGhpcy5taW5pbWFsRGF5c0luRmlyc3RXZWVrKT9ERUZBVUxUX01JTklNQUxfREFZU19JTl9GSVJTVF9XRUVLOnRoaXMubWluaW1hbERheXNJbkZpcnN0V2Vlazt9O3ZhciBwYWRXaXRoWmVyb2VzPWZ1bmN0aW9uKHN0cixsZW4pe3doaWxlKHN0ci5sZW5ndGg8bGVuKXtzdHI9XCIwXCIrc3RyO31cclxucmV0dXJuIHN0cjt9O3ZhciBmb3JtYXRUZXh0PWZ1bmN0aW9uKGRhdGEsbnVtYmVyT2ZMZXR0ZXJzLG1pbkxlbmd0aCl7cmV0dXJuKG51bWJlck9mTGV0dGVycz49NCk/ZGF0YTpkYXRhLnN1YnN0cigwLE1hdGgubWF4KG1pbkxlbmd0aCxudW1iZXJPZkxldHRlcnMpKTt9O3ZhciBmb3JtYXROdW1iZXI9ZnVuY3Rpb24oZGF0YSxudW1iZXJPZkxldHRlcnMpe3ZhciBkYXRhU3RyaW5nPVwiXCIrZGF0YTtyZXR1cm4gcGFkV2l0aFplcm9lcyhkYXRhU3RyaW5nLG51bWJlck9mTGV0dGVycyk7fTtTaW1wbGVEYXRlRm9ybWF0LnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oZGF0ZSl7dmFyIGZvcm1hdHRlZFN0cmluZz1cIlwiO3ZhciByZXN1bHQ7dmFyIHNlYXJjaFN0cmluZz10aGlzLmZvcm1hdFN0cmluZzt3aGlsZSgocmVzdWx0PXJlZ2V4LmV4ZWMoc2VhcmNoU3RyaW5nKSkpe3ZhciBxdW90ZWRTdHJpbmc9cmVzdWx0WzFdO3ZhciBwYXR0ZXJuTGV0dGVycz1yZXN1bHRbMl07dmFyIG90aGVyTGV0dGVycz1yZXN1bHRbM107dmFyIG90aGVyQ2hhcmFjdGVycz1yZXN1bHRbNF07aWYocXVvdGVkU3RyaW5nKXtpZihxdW90ZWRTdHJpbmc9PVwiJydcIil7Zm9ybWF0dGVkU3RyaW5nKz1cIidcIjt9ZWxzZXtmb3JtYXR0ZWRTdHJpbmcrPXF1b3RlZFN0cmluZy5zdWJzdHJpbmcoMSxxdW90ZWRTdHJpbmcubGVuZ3RoLTEpO319ZWxzZSBpZihvdGhlckxldHRlcnMpe31lbHNlIGlmKG90aGVyQ2hhcmFjdGVycyl7Zm9ybWF0dGVkU3RyaW5nKz1vdGhlckNoYXJhY3RlcnM7fWVsc2UgaWYocGF0dGVybkxldHRlcnMpe3ZhciBwYXR0ZXJuTGV0dGVyPXBhdHRlcm5MZXR0ZXJzLmNoYXJBdCgwKTt2YXIgbnVtYmVyT2ZMZXR0ZXJzPXBhdHRlcm5MZXR0ZXJzLmxlbmd0aDt2YXIgcmF3RGF0YT1cIlwiO3N3aXRjaChwYXR0ZXJuTGV0dGVyKXtjYXNlXCJHXCI6cmF3RGF0YT1cIkFEXCI7YnJlYWs7Y2FzZVwieVwiOnJhd0RhdGE9ZGF0ZS5nZXRGdWxsWWVhcigpO2JyZWFrO2Nhc2VcIk1cIjpyYXdEYXRhPWRhdGUuZ2V0TW9udGgoKTticmVhaztjYXNlXCJ3XCI6cmF3RGF0YT1kYXRlLmdldFdlZWtJblllYXIodGhpcy5nZXRNaW5pbWFsRGF5c0luRmlyc3RXZWVrKCkpO2JyZWFrO2Nhc2VcIldcIjpyYXdEYXRhPWRhdGUuZ2V0V2Vla0luTW9udGgodGhpcy5nZXRNaW5pbWFsRGF5c0luRmlyc3RXZWVrKCkpO2JyZWFrO2Nhc2VcIkRcIjpyYXdEYXRhPWRhdGUuZ2V0RGF5SW5ZZWFyKCk7YnJlYWs7Y2FzZVwiZFwiOnJhd0RhdGE9ZGF0ZS5nZXREYXRlKCk7YnJlYWs7Y2FzZVwiRlwiOnJhd0RhdGE9MStNYXRoLmZsb29yKChkYXRlLmdldERhdGUoKS0xKS83KTticmVhaztjYXNlXCJFXCI6cmF3RGF0YT1kYXlOYW1lc1tkYXRlLmdldERheSgpXTticmVhaztjYXNlXCJhXCI6cmF3RGF0YT0oZGF0ZS5nZXRIb3VycygpPj0xMik/XCJQTVwiOlwiQU1cIjticmVhaztjYXNlXCJIXCI6cmF3RGF0YT1kYXRlLmdldEhvdXJzKCk7YnJlYWs7Y2FzZVwia1wiOnJhd0RhdGE9ZGF0ZS5nZXRIb3VycygpfHwyNDticmVhaztjYXNlXCJLXCI6cmF3RGF0YT1kYXRlLmdldEhvdXJzKCklMTI7YnJlYWs7Y2FzZVwiaFwiOnJhd0RhdGE9KGRhdGUuZ2V0SG91cnMoKSUxMil8fDEyO2JyZWFrO2Nhc2VcIm1cIjpyYXdEYXRhPWRhdGUuZ2V0TWludXRlcygpO2JyZWFrO2Nhc2VcInNcIjpyYXdEYXRhPWRhdGUuZ2V0U2Vjb25kcygpO2JyZWFrO2Nhc2VcIlNcIjpyYXdEYXRhPWRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7YnJlYWs7Y2FzZVwiWlwiOnJhd0RhdGE9ZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO2JyZWFrO31cclxuc3dpdGNoKHR5cGVzW3BhdHRlcm5MZXR0ZXJdKXtjYXNlIFRFWFQyOmZvcm1hdHRlZFN0cmluZys9Zm9ybWF0VGV4dChyYXdEYXRhLG51bWJlck9mTGV0dGVycywyKTticmVhaztjYXNlIFRFWFQzOmZvcm1hdHRlZFN0cmluZys9Zm9ybWF0VGV4dChyYXdEYXRhLG51bWJlck9mTGV0dGVycywzKTticmVhaztjYXNlIE5VTUJFUjpmb3JtYXR0ZWRTdHJpbmcrPWZvcm1hdE51bWJlcihyYXdEYXRhLG51bWJlck9mTGV0dGVycyk7YnJlYWs7Y2FzZSBZRUFSOmlmKG51bWJlck9mTGV0dGVyczw9Myl7dmFyIGRhdGFTdHJpbmc9XCJcIityYXdEYXRhO2Zvcm1hdHRlZFN0cmluZys9ZGF0YVN0cmluZy5zdWJzdHIoMiwyKTt9ZWxzZXtmb3JtYXR0ZWRTdHJpbmcrPWZvcm1hdE51bWJlcihyYXdEYXRhLG51bWJlck9mTGV0dGVycyk7fVxyXG5icmVhaztjYXNlIE1PTlRIOmlmKG51bWJlck9mTGV0dGVycz49Myl7Zm9ybWF0dGVkU3RyaW5nKz1mb3JtYXRUZXh0KG1vbnRoTmFtZXNbcmF3RGF0YV0sbnVtYmVyT2ZMZXR0ZXJzLG51bWJlck9mTGV0dGVycyk7fWVsc2V7Zm9ybWF0dGVkU3RyaW5nKz1mb3JtYXROdW1iZXIocmF3RGF0YSsxLG51bWJlck9mTGV0dGVycyk7fVxyXG5icmVhaztjYXNlIFRJTUVaT05FOnZhciBpc1Bvc2l0aXZlPShyYXdEYXRhPjApO3ZhciBwcmVmaXg9aXNQb3NpdGl2ZT9cIi1cIjpcIitcIjt2YXIgYWJzRGF0YT1NYXRoLmFicyhyYXdEYXRhKTt2YXIgaG91cnM9XCJcIitNYXRoLmZsb29yKGFic0RhdGEvNjApO2hvdXJzPXBhZFdpdGhaZXJvZXMoaG91cnMsMik7dmFyIG1pbnV0ZXM9XCJcIisoYWJzRGF0YSU2MCk7bWludXRlcz1wYWRXaXRoWmVyb2VzKG1pbnV0ZXMsMik7Zm9ybWF0dGVkU3RyaW5nKz1wcmVmaXgraG91cnMrbWludXRlczticmVhazt9fVxyXG5zZWFyY2hTdHJpbmc9c2VhcmNoU3RyaW5nLnN1YnN0cihyZXN1bHQuaW5kZXgrcmVzdWx0WzBdLmxlbmd0aCk7fVxyXG5yZXR1cm4gZm9ybWF0dGVkU3RyaW5nO307fSkoKTtsb2c0amF2YXNjcmlwdC5TaW1wbGVEYXRlRm9ybWF0PVNpbXBsZURhdGVGb3JtYXQ7ZnVuY3Rpb24gUGF0dGVybkxheW91dChwYXR0ZXJuKXtpZihwYXR0ZXJuKXt0aGlzLnBhdHRlcm49cGF0dGVybjt9ZWxzZXt0aGlzLnBhdHRlcm49UGF0dGVybkxheW91dC5ERUZBVUxUX0NPTlZFUlNJT05fUEFUVEVSTjt9XHJcbnRoaXMuY3VzdG9tRmllbGRzPVtdO31cclxuUGF0dGVybkxheW91dC5UVENDX0NPTlZFUlNJT05fUEFUVEVSTj1cIiVyICVwICVjIC0gJW0lblwiO1BhdHRlcm5MYXlvdXQuREVGQVVMVF9DT05WRVJTSU9OX1BBVFRFUk49XCIlbSVuXCI7UGF0dGVybkxheW91dC5JU084NjAxX0RBVEVGT1JNQVQ9XCJ5eXl5LU1NLWRkIEhIOm1tOnNzLFNTU1wiO1BhdHRlcm5MYXlvdXQuREFURVRJTUVfREFURUZPUk1BVD1cImRkIE1NTSB5eXl5IEhIOm1tOnNzLFNTU1wiO1BhdHRlcm5MYXlvdXQuQUJTT0xVVEVUSU1FX0RBVEVGT1JNQVQ9XCJISDptbTpzcyxTU1NcIjtQYXR0ZXJuTGF5b3V0LnByb3RvdHlwZT1uZXcgTGF5b3V0KCk7UGF0dGVybkxheW91dC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7dmFyIHJlZ2V4PS8lKC0/WzAtOV0rKT8oXFwuP1swLTldKyk/KFthY2RmbU1ucHIlXSkoXFx7KFteXFx9XSspXFx9KT98KFteJV0rKS87dmFyIGZvcm1hdHRlZFN0cmluZz1cIlwiO3ZhciByZXN1bHQ7dmFyIHNlYXJjaFN0cmluZz10aGlzLnBhdHRlcm47d2hpbGUoKHJlc3VsdD1yZWdleC5leGVjKHNlYXJjaFN0cmluZykpKXt2YXIgbWF0Y2hlZFN0cmluZz1yZXN1bHRbMF07dmFyIHBhZGRpbmc9cmVzdWx0WzFdO3ZhciB0cnVuY2F0aW9uPXJlc3VsdFsyXTt2YXIgY29udmVyc2lvbkNoYXJhY3Rlcj1yZXN1bHRbM107dmFyIHNwZWNpZmllcj1yZXN1bHRbNV07dmFyIHRleHQ9cmVzdWx0WzZdO2lmKHRleHQpe2Zvcm1hdHRlZFN0cmluZys9XCJcIit0ZXh0O31lbHNle3ZhciByZXBsYWNlbWVudD1cIlwiO3N3aXRjaChjb252ZXJzaW9uQ2hhcmFjdGVyKXtjYXNlXCJhXCI6Y2FzZVwibVwiOnZhciBkZXB0aD0wO2lmKHNwZWNpZmllcil7ZGVwdGg9cGFyc2VJbnQoc3BlY2lmaWVyLDEwKTtpZihpc05hTihkZXB0aCkpe2hhbmRsZUVycm9yKFwiUGF0dGVybkxheW91dC5mb3JtYXQ6IGludmFsaWQgc3BlY2lmaWVyICdcIitcclxuc3BlY2lmaWVyK1wiJyBmb3IgY29udmVyc2lvbiBjaGFyYWN0ZXIgJ1wiK2NvbnZlcnNpb25DaGFyYWN0ZXIrXCInIC0gc2hvdWxkIGJlIGEgbnVtYmVyXCIpO2RlcHRoPTA7fX1cclxudmFyIG1lc3NhZ2VzPShjb252ZXJzaW9uQ2hhcmFjdGVyPT09XCJhXCIpP2xvZ2dpbmdFdmVudC5tZXNzYWdlc1swXTpsb2dnaW5nRXZlbnQubWVzc2FnZXM7Zm9yKHZhciBpPTAsbGVuPW1lc3NhZ2VzLmxlbmd0aDtpPGxlbjtpKyspe2lmKGk+MCYmKHJlcGxhY2VtZW50LmNoYXJBdChyZXBsYWNlbWVudC5sZW5ndGgtMSkhPT1cIiBcIikpe3JlcGxhY2VtZW50Kz1cIiBcIjt9XHJcbmlmKGRlcHRoPT09MCl7cmVwbGFjZW1lbnQrPW1lc3NhZ2VzW2ldO31lbHNle3JlcGxhY2VtZW50Kz1mb3JtYXRPYmplY3RFeHBhbnNpb24obWVzc2FnZXNbaV0sZGVwdGgpO319XHJcbmJyZWFrO2Nhc2VcImNcIjp2YXIgbG9nZ2VyTmFtZT1sb2dnaW5nRXZlbnQubG9nZ2VyLm5hbWU7aWYoc3BlY2lmaWVyKXt2YXIgcHJlY2lzaW9uPXBhcnNlSW50KHNwZWNpZmllciwxMCk7dmFyIGxvZ2dlck5hbWVCaXRzPWxvZ2dpbmdFdmVudC5sb2dnZXIubmFtZS5zcGxpdChcIi5cIik7aWYocHJlY2lzaW9uPj1sb2dnZXJOYW1lQml0cy5sZW5ndGgpe3JlcGxhY2VtZW50PWxvZ2dlck5hbWU7fWVsc2V7cmVwbGFjZW1lbnQ9bG9nZ2VyTmFtZUJpdHMuc2xpY2UobG9nZ2VyTmFtZUJpdHMubGVuZ3RoLXByZWNpc2lvbikuam9pbihcIi5cIik7fX1lbHNle3JlcGxhY2VtZW50PWxvZ2dlck5hbWU7fVxyXG5icmVhaztjYXNlXCJkXCI6dmFyIGRhdGVGb3JtYXQ9UGF0dGVybkxheW91dC5JU084NjAxX0RBVEVGT1JNQVQ7aWYoc3BlY2lmaWVyKXtkYXRlRm9ybWF0PXNwZWNpZmllcjtpZihkYXRlRm9ybWF0PT1cIklTTzg2MDFcIil7ZGF0ZUZvcm1hdD1QYXR0ZXJuTGF5b3V0LklTTzg2MDFfREFURUZPUk1BVDt9ZWxzZSBpZihkYXRlRm9ybWF0PT1cIkFCU09MVVRFXCIpe2RhdGVGb3JtYXQ9UGF0dGVybkxheW91dC5BQlNPTFVURVRJTUVfREFURUZPUk1BVDt9ZWxzZSBpZihkYXRlRm9ybWF0PT1cIkRBVEVcIil7ZGF0ZUZvcm1hdD1QYXR0ZXJuTGF5b3V0LkRBVEVUSU1FX0RBVEVGT1JNQVQ7fX1cclxucmVwbGFjZW1lbnQ9KG5ldyBTaW1wbGVEYXRlRm9ybWF0KGRhdGVGb3JtYXQpKS5mb3JtYXQobG9nZ2luZ0V2ZW50LnRpbWVTdGFtcCk7YnJlYWs7Y2FzZVwiZlwiOmlmKHRoaXMuaGFzQ3VzdG9tRmllbGRzKCkpe3ZhciBmaWVsZEluZGV4PTA7aWYoc3BlY2lmaWVyKXtmaWVsZEluZGV4PXBhcnNlSW50KHNwZWNpZmllciwxMCk7aWYoaXNOYU4oZmllbGRJbmRleCkpe2hhbmRsZUVycm9yKFwiUGF0dGVybkxheW91dC5mb3JtYXQ6IGludmFsaWQgc3BlY2lmaWVyICdcIitcclxuc3BlY2lmaWVyK1wiJyBmb3IgY29udmVyc2lvbiBjaGFyYWN0ZXIgJ2YnIC0gc2hvdWxkIGJlIGEgbnVtYmVyXCIpO31lbHNlIGlmKGZpZWxkSW5kZXg9PT0wKXtoYW5kbGVFcnJvcihcIlBhdHRlcm5MYXlvdXQuZm9ybWF0OiBpbnZhbGlkIHNwZWNpZmllciAnXCIrXHJcbnNwZWNpZmllcitcIicgZm9yIGNvbnZlcnNpb24gY2hhcmFjdGVyICdmJyAtIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm9cIik7fWVsc2UgaWYoZmllbGRJbmRleD50aGlzLmN1c3RvbUZpZWxkcy5sZW5ndGgpe2hhbmRsZUVycm9yKFwiUGF0dGVybkxheW91dC5mb3JtYXQ6IGludmFsaWQgc3BlY2lmaWVyICdcIitcclxuc3BlY2lmaWVyK1wiJyBmb3IgY29udmVyc2lvbiBjaGFyYWN0ZXIgJ2YnIC0gdGhlcmUgYXJlbid0IHRoYXQgbWFueSBjdXN0b20gZmllbGRzXCIpO31lbHNle2ZpZWxkSW5kZXg9ZmllbGRJbmRleC0xO319XHJcbnZhciB2YWw9dGhpcy5jdXN0b21GaWVsZHNbZmllbGRJbmRleF0udmFsdWU7aWYodHlwZW9mIHZhbD09XCJmdW5jdGlvblwiKXt2YWw9dmFsKHRoaXMsbG9nZ2luZ0V2ZW50KTt9XHJcbnJlcGxhY2VtZW50PXZhbDt9XHJcbmJyZWFrO2Nhc2VcIm5cIjpyZXBsYWNlbWVudD1uZXdMaW5lO2JyZWFrO2Nhc2VcInBcIjpyZXBsYWNlbWVudD1sb2dnaW5nRXZlbnQubGV2ZWwubmFtZTticmVhaztjYXNlXCJyXCI6cmVwbGFjZW1lbnQ9XCJcIitsb2dnaW5nRXZlbnQudGltZVN0YW1wLmdldERpZmZlcmVuY2UoYXBwbGljYXRpb25TdGFydERhdGUpO2JyZWFrO2Nhc2VcIiVcIjpyZXBsYWNlbWVudD1cIiVcIjticmVhaztkZWZhdWx0OnJlcGxhY2VtZW50PW1hdGNoZWRTdHJpbmc7YnJlYWs7fVxyXG52YXIgbDtpZih0cnVuY2F0aW9uKXtsPXBhcnNlSW50KHRydW5jYXRpb24uc3Vic3RyKDEpLDEwKTt2YXIgc3RyTGVuPXJlcGxhY2VtZW50Lmxlbmd0aDtpZihsPHN0ckxlbil7cmVwbGFjZW1lbnQ9cmVwbGFjZW1lbnQuc3Vic3RyaW5nKHN0ckxlbi1sLHN0ckxlbik7fX1cclxuaWYocGFkZGluZyl7aWYocGFkZGluZy5jaGFyQXQoMCk9PVwiLVwiKXtsPXBhcnNlSW50KHBhZGRpbmcuc3Vic3RyKDEpLDEwKTt3aGlsZShyZXBsYWNlbWVudC5sZW5ndGg8bCl7cmVwbGFjZW1lbnQrPVwiIFwiO319ZWxzZXtsPXBhcnNlSW50KHBhZGRpbmcsMTApO3doaWxlKHJlcGxhY2VtZW50Lmxlbmd0aDxsKXtyZXBsYWNlbWVudD1cIiBcIityZXBsYWNlbWVudDt9fX1cclxuZm9ybWF0dGVkU3RyaW5nKz1yZXBsYWNlbWVudDt9XHJcbnNlYXJjaFN0cmluZz1zZWFyY2hTdHJpbmcuc3Vic3RyKHJlc3VsdC5pbmRleCtyZXN1bHRbMF0ubGVuZ3RoKTt9XHJcbnJldHVybiBmb3JtYXR0ZWRTdHJpbmc7fTtQYXR0ZXJuTGF5b3V0LnByb3RvdHlwZS5pZ25vcmVzVGhyb3dhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRydWU7fTtQYXR0ZXJuTGF5b3V0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiUGF0dGVybkxheW91dFwiO307bG9nNGphdmFzY3JpcHQuUGF0dGVybkxheW91dD1QYXR0ZXJuTGF5b3V0O2Z1bmN0aW9uIEFsZXJ0QXBwZW5kZXIoKXt9XHJcbkFsZXJ0QXBwZW5kZXIucHJvdG90eXBlPW5ldyBBcHBlbmRlcigpO0FsZXJ0QXBwZW5kZXIucHJvdG90eXBlLmxheW91dD1uZXcgU2ltcGxlTGF5b3V0KCk7QWxlcnRBcHBlbmRlci5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7YWxlcnQodGhpcy5nZXRMYXlvdXQoKS5mb3JtYXRXaXRoRXhjZXB0aW9uKGxvZ2dpbmdFdmVudCkpO307QWxlcnRBcHBlbmRlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkFsZXJ0QXBwZW5kZXJcIjt9O2xvZzRqYXZhc2NyaXB0LkFsZXJ0QXBwZW5kZXI9QWxlcnRBcHBlbmRlcjtmdW5jdGlvbiBCcm93c2VyQ29uc29sZUFwcGVuZGVyKCl7fVxyXG5Ccm93c2VyQ29uc29sZUFwcGVuZGVyLnByb3RvdHlwZT1uZXcgbG9nNGphdmFzY3JpcHQuQXBwZW5kZXIoKTtCcm93c2VyQ29uc29sZUFwcGVuZGVyLnByb3RvdHlwZS5sYXlvdXQ9bmV3IE51bGxMYXlvdXQoKTtCcm93c2VyQ29uc29sZUFwcGVuZGVyLnByb3RvdHlwZS50aHJlc2hvbGQ9TGV2ZWwuREVCVUc7QnJvd3NlckNvbnNvbGVBcHBlbmRlci5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7dmFyIGFwcGVuZGVyPXRoaXM7dmFyIGdldEZvcm1hdHRlZE1lc3NhZ2U9ZnVuY3Rpb24oKXt2YXIgZm9ybWF0dGVkTWVzc2FnZT1hcHBlbmRlci5nZXRMYXlvdXQoKS5mb3JtYXRXaXRoRXhjZXB0aW9uKGxvZ2dpbmdFdmVudCk7cmV0dXJuKHR5cGVvZiBmb3JtYXR0ZWRNZXNzYWdlPT1cInN0cmluZ1wiKT9bZm9ybWF0dGVkTWVzc2FnZV06Zm9ybWF0dGVkTWVzc2FnZTt9O3ZhciBjb25zb2xlO2lmKChjb25zb2xlPXdpbmRvdy5jb25zb2xlKSYmY29uc29sZS5sb2cpe3ZhciBmb3JtYXR0ZWRNZXNzYWdlPWdldEZvcm1hdHRlZE1lc3NhZ2UoKTt2YXIgY29uc29sZU1ldGhvZE5hbWU7aWYoY29uc29sZS5kZWJ1ZyYmTGV2ZWwuREVCVUcuaXNHcmVhdGVyT3JFcXVhbChsb2dnaW5nRXZlbnQubGV2ZWwpKXtjb25zb2xlTWV0aG9kTmFtZT1cImRlYnVnXCI7fWVsc2UgaWYoY29uc29sZS5pbmZvJiZMZXZlbC5JTkZPLmVxdWFscyhsb2dnaW5nRXZlbnQubGV2ZWwpKXtjb25zb2xlTWV0aG9kTmFtZT1cImluZm9cIjt9ZWxzZSBpZihjb25zb2xlLndhcm4mJkxldmVsLldBUk4uZXF1YWxzKGxvZ2dpbmdFdmVudC5sZXZlbCkpe2NvbnNvbGVNZXRob2ROYW1lPVwid2FyblwiO31lbHNlIGlmKGNvbnNvbGUuZXJyb3ImJmxvZ2dpbmdFdmVudC5sZXZlbC5pc0dyZWF0ZXJPckVxdWFsKExldmVsLkVSUk9SKSl7Y29uc29sZU1ldGhvZE5hbWU9XCJlcnJvclwiO31lbHNle2NvbnNvbGVNZXRob2ROYW1lPVwibG9nXCI7fVxyXG5pZihjb25zb2xlW2NvbnNvbGVNZXRob2ROYW1lXS5hcHBseSl7Y29uc29sZVtjb25zb2xlTWV0aG9kTmFtZV0uYXBwbHkoY29uc29sZSxmb3JtYXR0ZWRNZXNzYWdlKTt9ZWxzZXtjb25zb2xlW2NvbnNvbGVNZXRob2ROYW1lXShmb3JtYXR0ZWRNZXNzYWdlKTt9fWVsc2UgaWYoKHR5cGVvZiBvcGVyYSE9XCJ1bmRlZmluZWRcIikmJm9wZXJhLnBvc3RFcnJvcil7b3BlcmEucG9zdEVycm9yKGdldEZvcm1hdHRlZE1lc3NhZ2UoKSk7fX07QnJvd3NlckNvbnNvbGVBcHBlbmRlci5wcm90b3R5cGUuZ3JvdXA9ZnVuY3Rpb24obmFtZSl7aWYod2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmdyb3VwKXt3aW5kb3cuY29uc29sZS5ncm91cChuYW1lKTt9fTtCcm93c2VyQ29uc29sZUFwcGVuZGVyLnByb3RvdHlwZS5ncm91cEVuZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5ncm91cEVuZCl7d2luZG93LmNvbnNvbGUuZ3JvdXBFbmQoKTt9fTtCcm93c2VyQ29uc29sZUFwcGVuZGVyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiQnJvd3NlckNvbnNvbGVBcHBlbmRlclwiO307bG9nNGphdmFzY3JpcHQuQnJvd3NlckNvbnNvbGVBcHBlbmRlcj1Ccm93c2VyQ29uc29sZUFwcGVuZGVyO3ZhciB4aHJGYWN0b3J5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO307dmFyIHhtbEh0dHBGYWN0b3JpZXM9W3hockZhY3RvcnksZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoXCJNc3htbDIuWE1MSFRUUFwiKTt9LGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIik7fV07dmFyIHdpdGhDcmVkZW50aWFsc1N1cHBvcnRlZD1mYWxzZTt2YXIgZ2V0WG1sSHR0cD1mdW5jdGlvbihlcnJvckhhbmRsZXIpe3ZhciB4bWxIdHRwPW51bGwsZmFjdG9yeTtmb3IodmFyIGk9MCxsZW49eG1sSHR0cEZhY3Rvcmllcy5sZW5ndGg7aTxsZW47aSsrKXtmYWN0b3J5PXhtbEh0dHBGYWN0b3JpZXNbaV07dHJ5e3htbEh0dHA9ZmFjdG9yeSgpO3dpdGhDcmVkZW50aWFsc1N1cHBvcnRlZD0oZmFjdG9yeT09eGhyRmFjdG9yeSYmKFwid2l0aENyZWRlbnRpYWxzXCJpbiB4bWxIdHRwKSk7Z2V0WG1sSHR0cD1mYWN0b3J5O3JldHVybiB4bWxIdHRwO31jYXRjaChlKXt9fVxyXG5pZihlcnJvckhhbmRsZXIpe2Vycm9ySGFuZGxlcigpO31lbHNle2hhbmRsZUVycm9yKFwiZ2V0WG1sSHR0cDogdW5hYmxlIHRvIG9idGFpbiBYTUxIdHRwUmVxdWVzdCBvYmplY3RcIik7fX07ZnVuY3Rpb24gaXNIdHRwUmVxdWVzdFN1Y2Nlc3NmdWwoeG1sSHR0cCl7cmV0dXJuIGlzVW5kZWZpbmVkKHhtbEh0dHAuc3RhdHVzKXx8eG1sSHR0cC5zdGF0dXM9PT0wfHwoeG1sSHR0cC5zdGF0dXM+PTIwMCYmeG1sSHR0cC5zdGF0dXM8MzAwKXx8eG1sSHR0cC5zdGF0dXM9PTEyMjM7fVxyXG5mdW5jdGlvbiBBamF4QXBwZW5kZXIodXJsLHdpdGhDcmVkZW50aWFscyl7dmFyIGFwcGVuZGVyPXRoaXM7dmFyIGlzU3VwcG9ydGVkPXRydWU7aWYoIXVybCl7aGFuZGxlRXJyb3IoXCJBamF4QXBwZW5kZXI6IFVSTCBtdXN0IGJlIHNwZWNpZmllZCBpbiBjb25zdHJ1Y3RvclwiKTtpc1N1cHBvcnRlZD1mYWxzZTt9XHJcbnZhciB0aW1lZD10aGlzLmRlZmF1bHRzLnRpbWVkO3ZhciB3YWl0Rm9yUmVzcG9uc2U9dGhpcy5kZWZhdWx0cy53YWl0Rm9yUmVzcG9uc2U7dmFyIGJhdGNoU2l6ZT10aGlzLmRlZmF1bHRzLmJhdGNoU2l6ZTt2YXIgdGltZXJJbnRlcnZhbD10aGlzLmRlZmF1bHRzLnRpbWVySW50ZXJ2YWw7dmFyIHJlcXVlc3RTdWNjZXNzQ2FsbGJhY2s9dGhpcy5kZWZhdWx0cy5yZXF1ZXN0U3VjY2Vzc0NhbGxiYWNrO3ZhciBmYWlsQ2FsbGJhY2s9dGhpcy5kZWZhdWx0cy5mYWlsQ2FsbGJhY2s7dmFyIHBvc3RWYXJOYW1lPXRoaXMuZGVmYXVsdHMucG9zdFZhck5hbWU7dmFyIHNlbmRBbGxPblVubG9hZD10aGlzLmRlZmF1bHRzLnNlbmRBbGxPblVubG9hZDt2YXIgY29udGVudFR5cGU9dGhpcy5kZWZhdWx0cy5jb250ZW50VHlwZTt2YXIgc2Vzc2lvbklkPW51bGw7dmFyIHF1ZXVlZExvZ2dpbmdFdmVudHM9W107dmFyIHF1ZXVlZFJlcXVlc3RzPVtdO3ZhciBoZWFkZXJzPVtdO3ZhciBzZW5kaW5nPWZhbHNlO3ZhciBpbml0aWFsaXplZD1mYWxzZTtmdW5jdGlvbiBjaGVja0NhbkNvbmZpZ3VyZShjb25maWdPcHRpb25OYW1lKXtpZihpbml0aWFsaXplZCl7aGFuZGxlRXJyb3IoXCJBamF4QXBwZW5kZXI6IGNvbmZpZ3VyYXRpb24gb3B0aW9uICdcIitcclxuY29uZmlnT3B0aW9uTmFtZStcIicgbWF5IG5vdCBiZSBzZXQgYWZ0ZXIgdGhlIGFwcGVuZGVyIGhhcyBiZWVuIGluaXRpYWxpemVkXCIpO3JldHVybiBmYWxzZTt9XHJcbnJldHVybiB0cnVlO31cclxudGhpcy5nZXRTZXNzaW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gc2Vzc2lvbklkO307dGhpcy5zZXRTZXNzaW9uSWQ9ZnVuY3Rpb24oc2Vzc2lvbklkUGFyYW0pe3Nlc3Npb25JZD1leHRyYWN0U3RyaW5nRnJvbVBhcmFtKHNlc3Npb25JZFBhcmFtLG51bGwpO3RoaXMubGF5b3V0LnNldEN1c3RvbUZpZWxkKFwic2Vzc2lvbmlkXCIsc2Vzc2lvbklkKTt9O3RoaXMuc2V0TGF5b3V0PWZ1bmN0aW9uKGxheW91dFBhcmFtKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcImxheW91dFwiKSl7dGhpcy5sYXlvdXQ9bGF5b3V0UGFyYW07aWYoc2Vzc2lvbklkIT09bnVsbCl7dGhpcy5zZXRTZXNzaW9uSWQoc2Vzc2lvbklkKTt9fX07dGhpcy5pc1RpbWVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRpbWVkO307dGhpcy5zZXRUaW1lZD1mdW5jdGlvbih0aW1lZFBhcmFtKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcInRpbWVkXCIpKXt0aW1lZD1ib29sKHRpbWVkUGFyYW0pO319O3RoaXMuZ2V0VGltZXJJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiB0aW1lckludGVydmFsO307dGhpcy5zZXRUaW1lckludGVydmFsPWZ1bmN0aW9uKHRpbWVySW50ZXJ2YWxQYXJhbSl7aWYoY2hlY2tDYW5Db25maWd1cmUoXCJ0aW1lckludGVydmFsXCIpKXt0aW1lckludGVydmFsPWV4dHJhY3RJbnRGcm9tUGFyYW0odGltZXJJbnRlcnZhbFBhcmFtLHRpbWVySW50ZXJ2YWwpO319O3RoaXMuaXNXYWl0Rm9yUmVzcG9uc2U9ZnVuY3Rpb24oKXtyZXR1cm4gd2FpdEZvclJlc3BvbnNlO307dGhpcy5zZXRXYWl0Rm9yUmVzcG9uc2U9ZnVuY3Rpb24od2FpdEZvclJlc3BvbnNlUGFyYW0pe2lmKGNoZWNrQ2FuQ29uZmlndXJlKFwid2FpdEZvclJlc3BvbnNlXCIpKXt3YWl0Rm9yUmVzcG9uc2U9Ym9vbCh3YWl0Rm9yUmVzcG9uc2VQYXJhbSk7fX07dGhpcy5nZXRCYXRjaFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gYmF0Y2hTaXplO307dGhpcy5zZXRCYXRjaFNpemU9ZnVuY3Rpb24oYmF0Y2hTaXplUGFyYW0pe2lmKGNoZWNrQ2FuQ29uZmlndXJlKFwiYmF0Y2hTaXplXCIpKXtiYXRjaFNpemU9ZXh0cmFjdEludEZyb21QYXJhbShiYXRjaFNpemVQYXJhbSxiYXRjaFNpemUpO319O3RoaXMuaXNTZW5kQWxsT25VbmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gc2VuZEFsbE9uVW5sb2FkO307dGhpcy5zZXRTZW5kQWxsT25VbmxvYWQ9ZnVuY3Rpb24oc2VuZEFsbE9uVW5sb2FkUGFyYW0pe2lmKGNoZWNrQ2FuQ29uZmlndXJlKFwic2VuZEFsbE9uVW5sb2FkXCIpKXtzZW5kQWxsT25VbmxvYWQ9ZXh0cmFjdEJvb2xlYW5Gcm9tUGFyYW0oc2VuZEFsbE9uVW5sb2FkUGFyYW0sc2VuZEFsbE9uVW5sb2FkKTt9fTt0aGlzLnNldFJlcXVlc3RTdWNjZXNzQ2FsbGJhY2s9ZnVuY3Rpb24ocmVxdWVzdFN1Y2Nlc3NDYWxsYmFja1BhcmFtKXtyZXF1ZXN0U3VjY2Vzc0NhbGxiYWNrPWV4dHJhY3RGdW5jdGlvbkZyb21QYXJhbShyZXF1ZXN0U3VjY2Vzc0NhbGxiYWNrUGFyYW0scmVxdWVzdFN1Y2Nlc3NDYWxsYmFjayk7fTt0aGlzLnNldEZhaWxDYWxsYmFjaz1mdW5jdGlvbihmYWlsQ2FsbGJhY2tQYXJhbSl7ZmFpbENhbGxiYWNrPWV4dHJhY3RGdW5jdGlvbkZyb21QYXJhbShmYWlsQ2FsbGJhY2tQYXJhbSxmYWlsQ2FsbGJhY2spO307dGhpcy5nZXRQb3N0VmFyTmFtZT1mdW5jdGlvbigpe3JldHVybiBwb3N0VmFyTmFtZTt9O3RoaXMuc2V0UG9zdFZhck5hbWU9ZnVuY3Rpb24ocG9zdFZhck5hbWVQYXJhbSl7aWYoY2hlY2tDYW5Db25maWd1cmUoXCJwb3N0VmFyTmFtZVwiKSl7cG9zdFZhck5hbWU9ZXh0cmFjdFN0cmluZ0Zyb21QYXJhbShwb3N0VmFyTmFtZVBhcmFtLHBvc3RWYXJOYW1lKTt9fTt0aGlzLmdldEhlYWRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gaGVhZGVyczt9O3RoaXMuYWRkSGVhZGVyPWZ1bmN0aW9uKG5hbWUsdmFsdWUpe2lmKG5hbWUudG9Mb3dlckNhc2UoKT09XCJjb250ZW50LXR5cGVcIil7Y29udGVudFR5cGU9dmFsdWU7fWVsc2V7aGVhZGVycy5wdXNoKHtuYW1lOm5hbWUsdmFsdWU6dmFsdWV9KTt9fTtmdW5jdGlvbiBzZW5kQWxsKCl7aWYoaXNTdXBwb3J0ZWQmJmVuYWJsZWQpe3NlbmRpbmc9dHJ1ZTt2YXIgY3VycmVudFJlcXVlc3RCYXRjaDtpZih3YWl0Rm9yUmVzcG9uc2Upe2lmKHF1ZXVlZFJlcXVlc3RzLmxlbmd0aD4wKXtjdXJyZW50UmVxdWVzdEJhdGNoPXF1ZXVlZFJlcXVlc3RzLnNoaWZ0KCk7c2VuZFJlcXVlc3QocHJlcGFyZVBvc3REYXRhKGN1cnJlbnRSZXF1ZXN0QmF0Y2gpLHNlbmRBbGwpO31lbHNle3NlbmRpbmc9ZmFsc2U7aWYodGltZWQpe3NjaGVkdWxlU2VuZGluZygpO319fWVsc2V7d2hpbGUoKGN1cnJlbnRSZXF1ZXN0QmF0Y2g9cXVldWVkUmVxdWVzdHMuc2hpZnQoKSkpe3NlbmRSZXF1ZXN0KHByZXBhcmVQb3N0RGF0YShjdXJyZW50UmVxdWVzdEJhdGNoKSk7fVxyXG5zZW5kaW5nPWZhbHNlO2lmKHRpbWVkKXtzY2hlZHVsZVNlbmRpbmcoKTt9fX19XHJcbnRoaXMuc2VuZEFsbD1zZW5kQWxsO2Z1bmN0aW9uIHNlbmRBbGxSZW1haW5pbmcoKXt2YXIgc2VuZGluZ0FueXRoaW5nPWZhbHNlO2lmKGlzU3VwcG9ydGVkJiZlbmFibGVkKXt2YXIgYWN0dWFsQmF0Y2hTaXplPWFwcGVuZGVyLmdldExheW91dCgpLmFsbG93QmF0Y2hpbmcoKT9iYXRjaFNpemU6MTt2YXIgY3VycmVudExvZ2dpbmdFdmVudDt2YXIgYmF0Y2hlZExvZ2dpbmdFdmVudHM9W107d2hpbGUoKGN1cnJlbnRMb2dnaW5nRXZlbnQ9cXVldWVkTG9nZ2luZ0V2ZW50cy5zaGlmdCgpKSl7YmF0Y2hlZExvZ2dpbmdFdmVudHMucHVzaChjdXJyZW50TG9nZ2luZ0V2ZW50KTtpZihxdWV1ZWRMb2dnaW5nRXZlbnRzLmxlbmd0aD49YWN0dWFsQmF0Y2hTaXplKXtxdWV1ZWRSZXF1ZXN0cy5wdXNoKGJhdGNoZWRMb2dnaW5nRXZlbnRzKTtiYXRjaGVkTG9nZ2luZ0V2ZW50cz1bXTt9fVxyXG5pZihiYXRjaGVkTG9nZ2luZ0V2ZW50cy5sZW5ndGg+MCl7cXVldWVkUmVxdWVzdHMucHVzaChiYXRjaGVkTG9nZ2luZ0V2ZW50cyk7fVxyXG5zZW5kaW5nQW55dGhpbmc9KHF1ZXVlZFJlcXVlc3RzLmxlbmd0aD4wKTt3YWl0Rm9yUmVzcG9uc2U9ZmFsc2U7dGltZWQ9ZmFsc2U7c2VuZEFsbCgpO31cclxucmV0dXJuIHNlbmRpbmdBbnl0aGluZzt9XHJcbnRoaXMuc2VuZEFsbFJlbWFpbmluZz1zZW5kQWxsUmVtYWluaW5nO2Z1bmN0aW9uIHByZXBhcmVQb3N0RGF0YShiYXRjaGVkTG9nZ2luZ0V2ZW50cyl7dmFyIGZvcm1hdHRlZE1lc3NhZ2VzPVtdO3ZhciBjdXJyZW50TG9nZ2luZ0V2ZW50O3ZhciBwb3N0RGF0YT1cIlwiO3doaWxlKChjdXJyZW50TG9nZ2luZ0V2ZW50PWJhdGNoZWRMb2dnaW5nRXZlbnRzLnNoaWZ0KCkpKXtmb3JtYXR0ZWRNZXNzYWdlcy5wdXNoKGFwcGVuZGVyLmdldExheW91dCgpLmZvcm1hdFdpdGhFeGNlcHRpb24oY3VycmVudExvZ2dpbmdFdmVudCkpO31cclxuaWYoYmF0Y2hlZExvZ2dpbmdFdmVudHMubGVuZ3RoPT0xKXtwb3N0RGF0YT1mb3JtYXR0ZWRNZXNzYWdlcy5qb2luKFwiXCIpO31lbHNle3Bvc3REYXRhPWFwcGVuZGVyLmdldExheW91dCgpLmJhdGNoSGVhZGVyK1xyXG5mb3JtYXR0ZWRNZXNzYWdlcy5qb2luKGFwcGVuZGVyLmdldExheW91dCgpLmJhdGNoU2VwYXJhdG9yKStcclxuYXBwZW5kZXIuZ2V0TGF5b3V0KCkuYmF0Y2hGb290ZXI7fVxyXG5pZihjb250ZW50VHlwZT09YXBwZW5kZXIuZGVmYXVsdHMuY29udGVudFR5cGUpe3Bvc3REYXRhPWFwcGVuZGVyLmdldExheW91dCgpLnJldHVybnNQb3N0RGF0YT9wb3N0RGF0YTp1cmxFbmNvZGUocG9zdFZhck5hbWUpK1wiPVwiK3VybEVuY29kZShwb3N0RGF0YSk7aWYocG9zdERhdGEubGVuZ3RoPjApe3Bvc3REYXRhKz1cIiZcIjt9XHJcbnBvc3REYXRhKz1cImxheW91dD1cIit1cmxFbmNvZGUoYXBwZW5kZXIuZ2V0TGF5b3V0KCkudG9TdHJpbmcoKSk7fVxyXG5yZXR1cm4gcG9zdERhdGE7fVxyXG5mdW5jdGlvbiBzY2hlZHVsZVNlbmRpbmcoKXt3aW5kb3cuc2V0VGltZW91dChzZW5kQWxsLHRpbWVySW50ZXJ2YWwpO31cclxuZnVuY3Rpb24geG1sSHR0cEVycm9ySGFuZGxlcigpe3ZhciBtc2c9XCJBamF4QXBwZW5kZXI6IGNvdWxkIG5vdCBjcmVhdGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LiBBamF4QXBwZW5kZXIgZGlzYWJsZWRcIjtoYW5kbGVFcnJvcihtc2cpO2lzU3VwcG9ydGVkPWZhbHNlO2lmKGZhaWxDYWxsYmFjayl7ZmFpbENhbGxiYWNrKG1zZyk7fX1cclxuZnVuY3Rpb24gc2VuZFJlcXVlc3QocG9zdERhdGEsc3VjY2Vzc0NhbGxiYWNrKXt0cnl7dmFyIHhtbEh0dHA9Z2V0WG1sSHR0cCh4bWxIdHRwRXJyb3JIYW5kbGVyKTtpZihpc1N1cHBvcnRlZCl7aWYod2l0aENyZWRlbnRpYWxzJiZ3aXRoQ3JlZGVudGlhbHNTdXBwb3J0ZWQpe3htbEh0dHAud2l0aENyZWRlbnRpYWxzPXRydWU7fVxyXG54bWxIdHRwLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKHhtbEh0dHAucmVhZHlTdGF0ZT09NCl7aWYoaXNIdHRwUmVxdWVzdFN1Y2Nlc3NmdWwoeG1sSHR0cCkpe2lmKHJlcXVlc3RTdWNjZXNzQ2FsbGJhY2spe3JlcXVlc3RTdWNjZXNzQ2FsbGJhY2soeG1sSHR0cCk7fVxyXG5pZihzdWNjZXNzQ2FsbGJhY2spe3N1Y2Nlc3NDYWxsYmFjayh4bWxIdHRwKTt9fWVsc2V7dmFyIG1zZz1cIkFqYXhBcHBlbmRlci5hcHBlbmQ6IFhNTEh0dHBSZXF1ZXN0IHJlcXVlc3QgdG8gVVJMIFwiK1xyXG51cmwrXCIgcmV0dXJuZWQgc3RhdHVzIGNvZGUgXCIreG1sSHR0cC5zdGF0dXM7aGFuZGxlRXJyb3IobXNnKTtpZihmYWlsQ2FsbGJhY2spe2ZhaWxDYWxsYmFjayhtc2cpO319XHJcbnhtbEh0dHAub25yZWFkeXN0YXRlY2hhbmdlPWVtcHR5RnVuY3Rpb247eG1sSHR0cD1udWxsO319O3htbEh0dHAub3BlbihcIlBPU1RcIix1cmwsdHJ1ZSk7dHJ5e2Zvcih2YXIgaT0wLGhlYWRlcjtoZWFkZXI9aGVhZGVyc1tpKytdOyl7eG1sSHR0cC5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlci5uYW1lLGhlYWRlci52YWx1ZSk7fVxyXG54bWxIdHRwLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixjb250ZW50VHlwZSk7fWNhdGNoKGhlYWRlckV4KXt2YXIgbXNnPVwiQWpheEFwcGVuZGVyLmFwcGVuZDogeW91ciBicm93c2VyJ3MgWE1MSHR0cFJlcXVlc3QgaW1wbGVtZW50YXRpb25cIitcIiBkb2VzIG5vdCBzdXBwb3J0IHNldFJlcXVlc3RIZWFkZXIsIHRoZXJlZm9yZSBjYW5ub3QgcG9zdCBkYXRhLiBBamF4QXBwZW5kZXIgZGlzYWJsZWRcIjtoYW5kbGVFcnJvcihtc2cpO2lzU3VwcG9ydGVkPWZhbHNlO2lmKGZhaWxDYWxsYmFjayl7ZmFpbENhbGxiYWNrKG1zZyk7fVxyXG5yZXR1cm47fVxyXG54bWxIdHRwLnNlbmQocG9zdERhdGEpO319Y2F0Y2goZXgpe3ZhciBlcnJNc2c9XCJBamF4QXBwZW5kZXIuYXBwZW5kOiBlcnJvciBzZW5kaW5nIGxvZyBtZXNzYWdlIHRvIFwiK3VybDtoYW5kbGVFcnJvcihlcnJNc2csZXgpO2lzU3VwcG9ydGVkPWZhbHNlO2lmKGZhaWxDYWxsYmFjayl7ZmFpbENhbGxiYWNrKGVyck1zZytcIi4gRGV0YWlsczogXCIrZ2V0RXhjZXB0aW9uU3RyaW5nUmVwKGV4KSk7fX19XHJcbnRoaXMuYXBwZW5kPWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7aWYoaXNTdXBwb3J0ZWQpe2lmKCFpbml0aWFsaXplZCl7aW5pdCgpO31cclxucXVldWVkTG9nZ2luZ0V2ZW50cy5wdXNoKGxvZ2dpbmdFdmVudCk7dmFyIGFjdHVhbEJhdGNoU2l6ZT10aGlzLmdldExheW91dCgpLmFsbG93QmF0Y2hpbmcoKT9iYXRjaFNpemU6MTtpZihxdWV1ZWRMb2dnaW5nRXZlbnRzLmxlbmd0aD49YWN0dWFsQmF0Y2hTaXplKXt2YXIgY3VycmVudExvZ2dpbmdFdmVudDt2YXIgYmF0Y2hlZExvZ2dpbmdFdmVudHM9W107d2hpbGUoKGN1cnJlbnRMb2dnaW5nRXZlbnQ9cXVldWVkTG9nZ2luZ0V2ZW50cy5zaGlmdCgpKSl7YmF0Y2hlZExvZ2dpbmdFdmVudHMucHVzaChjdXJyZW50TG9nZ2luZ0V2ZW50KTt9XHJcbnF1ZXVlZFJlcXVlc3RzLnB1c2goYmF0Y2hlZExvZ2dpbmdFdmVudHMpO2lmKCF0aW1lZCYmKCF3YWl0Rm9yUmVzcG9uc2V8fCh3YWl0Rm9yUmVzcG9uc2UmJiFzZW5kaW5nKSkpe3NlbmRBbGwoKTt9fX19O2Z1bmN0aW9uIGluaXQoKXtpbml0aWFsaXplZD10cnVlO2lmKHNlbmRBbGxPblVubG9hZCl7dmFyIG9sZEJlZm9yZVVubG9hZD13aW5kb3cub25iZWZvcmV1bmxvYWQ7d2luZG93Lm9uYmVmb3JldW5sb2FkPWZ1bmN0aW9uKCl7aWYob2xkQmVmb3JlVW5sb2FkKXtvbGRCZWZvcmVVbmxvYWQoKTt9XHJcbmlmKHNlbmRBbGxSZW1haW5pbmcoKSl7cmV0dXJuXCJTZW5kaW5nIGxvZyBtZXNzYWdlc1wiO319O31cclxuaWYodGltZWQpe3NjaGVkdWxlU2VuZGluZygpO319fVxyXG5BamF4QXBwZW5kZXIucHJvdG90eXBlPW5ldyBBcHBlbmRlcigpO0FqYXhBcHBlbmRlci5wcm90b3R5cGUuZGVmYXVsdHM9e3dhaXRGb3JSZXNwb25zZTpmYWxzZSx0aW1lZDpmYWxzZSx0aW1lckludGVydmFsOjEwMDAsYmF0Y2hTaXplOjEsc2VuZEFsbE9uVW5sb2FkOmZhbHNlLHJlcXVlc3RTdWNjZXNzQ2FsbGJhY2s6bnVsbCxmYWlsQ2FsbGJhY2s6bnVsbCxwb3N0VmFyTmFtZTpcImRhdGFcIixjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifTtBamF4QXBwZW5kZXIucHJvdG90eXBlLmxheW91dD1uZXcgSHR0cFBvc3REYXRhTGF5b3V0KCk7QWpheEFwcGVuZGVyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiQWpheEFwcGVuZGVyXCI7fTtsb2c0amF2YXNjcmlwdC5BamF4QXBwZW5kZXI9QWpheEFwcGVuZGVyO2Z1bmN0aW9uIHNldENvb2tpZShuYW1lLHZhbHVlLGRheXMscGF0aCl7dmFyIGV4cGlyZXM7cGF0aD1wYXRoP1wiOyBwYXRoPVwiK3BhdGg6XCJcIjtpZihkYXlzKXt2YXIgZGF0ZT1uZXcgRGF0ZSgpO2RhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSsoZGF5cyoyNCo2MCo2MCoxMDAwKSk7ZXhwaXJlcz1cIjsgZXhwaXJlcz1cIitkYXRlLnRvR01UU3RyaW5nKCk7fWVsc2V7ZXhwaXJlcz1cIlwiO31cclxuZG9jdW1lbnQuY29va2llPWVzY2FwZShuYW1lKStcIj1cIitlc2NhcGUodmFsdWUpK2V4cGlyZXMrcGF0aDt9XHJcbmZ1bmN0aW9uIGdldENvb2tpZShuYW1lKXt2YXIgbmFtZUVxdWFscz1lc2NhcGUobmFtZSkrXCI9XCI7dmFyIGNhPWRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIik7Zm9yKHZhciBpPTAsbGVuPWNhLmxlbmd0aDtpPGxlbjtpKyspe3ZhciBjPWNhW2ldO3doaWxlKGMuY2hhckF0KDApPT09XCIgXCIpe2M9Yy5zdWJzdHJpbmcoMSxjLmxlbmd0aCk7fVxyXG5pZihjLmluZGV4T2YobmFtZUVxdWFscyk9PT0wKXtyZXR1cm4gdW5lc2NhcGUoYy5zdWJzdHJpbmcobmFtZUVxdWFscy5sZW5ndGgsYy5sZW5ndGgpKTt9fVxyXG5yZXR1cm4gbnVsbDt9XHJcbmZ1bmN0aW9uIGdldEJhc2VVcmwoKXt2YXIgc2NyaXB0cz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtmb3IodmFyIGk9MCxsZW49c2NyaXB0cy5sZW5ndGg7aTxsZW47KytpKXtpZihzY3JpcHRzW2ldLnNyYy5pbmRleE9mKFwibG9nNGphdmFzY3JpcHRcIikhPS0xKXt2YXIgbGFzdFNsYXNoPXNjcmlwdHNbaV0uc3JjLmxhc3RJbmRleE9mKFwiL1wiKTtyZXR1cm4obGFzdFNsYXNoPT0tMSk/XCJcIjpzY3JpcHRzW2ldLnNyYy5zdWJzdHIoMCxsYXN0U2xhc2grMSk7fX1cclxucmV0dXJuIG51bGw7fVxyXG5mdW5jdGlvbiBpc0xvYWRlZCh3aW4pe3RyeXtyZXR1cm4gYm9vbCh3aW4ubG9hZGVkKTt9Y2F0Y2goZXgpe3JldHVybiBmYWxzZTt9fVxyXG52YXIgQ29uc29sZUFwcGVuZGVyOyhmdW5jdGlvbigpe3ZhciBnZXRDb25zb2xlSHRtbExpbmVzPWZ1bmN0aW9uKCl7cmV0dXJuWyc8IURPQ1RZUEUgaHRtbCBQVUJMSUMgXCItLy9XM0MvL0RURCBYSFRNTCAxLjAgU3RyaWN0Ly9FTlwiIFwiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxL0RURC94aHRtbDEtc3RyaWN0LmR0ZFwiPicsJzxodG1sIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiIGxhbmc9XCJlblwiIHhtbDpsYW5nPVwiZW5cIj4nLCc8aGVhZD4nLCc8dGl0bGU+bG9nNGphdmFzY3JpcHQ8L3RpdGxlPicsJzxtZXRhIGh0dHAtZXF1aXY9XCJDb250ZW50LVR5cGVcIiBjb250ZW50PVwidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XCIgLz4nLCc8IS0tIE1ha2UgSUU4IGJlaGF2ZSBsaWtlIElFNywgaGF2aW5nIGdvbmUgdG8gYWxsIHRoZSB0cm91YmxlIG9mIG1ha2luZyBJRSB3b3JrIC0tPicsJzxtZXRhIGh0dHAtZXF1aXY9XCJYLVVBLUNvbXBhdGlibGVcIiBjb250ZW50PVwiSUU9N1wiIC8+JywnPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+dmFyIGlzSWUgPSBmYWxzZSwgaXNJZVByZTcgPSBmYWxzZTs8L3NjcmlwdD4nLCc8IS0tW2lmIElFXT48c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj5pc0llID0gdHJ1ZTwvc2NyaXB0PjwhW2VuZGlmXS0tPicsJzwhLS1baWYgbHQgSUUgN10+PHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+aXNJZVByZTcgPSB0cnVlPC9zY3JpcHQ+PCFbZW5kaWZdLS0+JywnPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+JywnLy88IVtDREFUQVsnLCd2YXIgbG9nZ2luZ0VuYWJsZWQ9dHJ1ZTt2YXIgbG9nUXVldWVkRXZlbnRzVGltZXI9bnVsbDt2YXIgbG9nRW50cmllcz1bXTt2YXIgbG9nRW50cmllc0FuZFNlcGFyYXRvcnM9W107dmFyIGxvZ0l0ZW1zPVtdO3ZhciByZW5kZXJEZWxheT0xMDA7dmFyIHVucmVuZGVyZWRMb2dJdGVtc0V4aXN0PWZhbHNlO3ZhciByb290R3JvdXAsY3VycmVudEdyb3VwPW51bGw7dmFyIGxvYWRlZD1mYWxzZTt2YXIgY3VycmVudExvZ0l0ZW09bnVsbDt2YXIgbG9nTWFpbkNvbnRhaW5lcjtmdW5jdGlvbiBjb3B5UHJvcGVydGllcyhvYmoscHJvcHMpe2Zvcih2YXIgaSBpbiBwcm9wcyl7b2JqW2ldPXByb3BzW2ldO319JywnZnVuY3Rpb24gTG9nSXRlbSgpe30nLCdMb2dJdGVtLnByb3RvdHlwZT17bWFpbkNvbnRhaW5lcjpudWxsLHdyYXBwZWRDb250YWluZXI6bnVsbCx1bndyYXBwZWRDb250YWluZXI6bnVsbCxncm91cDpudWxsLGFwcGVuZFRvTG9nOmZ1bmN0aW9uKCl7Zm9yKHZhciBpPTAsbGVuPXRoaXMuZWxlbWVudENvbnRhaW5lcnMubGVuZ3RoO2k8bGVuO2krKyl7dGhpcy5lbGVtZW50Q29udGFpbmVyc1tpXS5hcHBlbmRUb0xvZygpO30nLCd0aGlzLmdyb3VwLnVwZGF0ZSgpO30sZG9SZW1vdmU6ZnVuY3Rpb24oZG9VcGRhdGUscmVtb3ZlRnJvbUdyb3VwKXtpZih0aGlzLnJlbmRlcmVkKXtmb3IodmFyIGk9MCxsZW49dGhpcy5lbGVtZW50Q29udGFpbmVycy5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLmVsZW1lbnRDb250YWluZXJzW2ldLnJlbW92ZSgpO30nLCd0aGlzLnVud3JhcHBlZEVsZW1lbnRDb250YWluZXI9bnVsbDt0aGlzLndyYXBwZWRFbGVtZW50Q29udGFpbmVyPW51bGw7dGhpcy5tYWluRWxlbWVudENvbnRhaW5lcj1udWxsO30nLCdpZih0aGlzLmdyb3VwJiZyZW1vdmVGcm9tR3JvdXApe3RoaXMuZ3JvdXAucmVtb3ZlQ2hpbGQodGhpcyxkb1VwZGF0ZSk7fScsJ2lmKHRoaXM9PT1jdXJyZW50TG9nSXRlbSl7Y3VycmVudExvZ0l0ZW09bnVsbDt9fSxyZW1vdmU6ZnVuY3Rpb24oZG9VcGRhdGUscmVtb3ZlRnJvbUdyb3VwKXt0aGlzLmRvUmVtb3ZlKGRvVXBkYXRlLHJlbW92ZUZyb21Hcm91cCk7fSxyZW5kZXI6ZnVuY3Rpb24oKXt9LGFjY2VwdDpmdW5jdGlvbih2aXNpdG9yKXt2aXNpdG9yLnZpc2l0KHRoaXMpO30sZ2V0VW53cmFwcGVkRG9tQ29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JvdXAudW53cmFwcGVkRWxlbWVudENvbnRhaW5lci5jb250ZW50RGl2O30sZ2V0V3JhcHBlZERvbUNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdyb3VwLndyYXBwZWRFbGVtZW50Q29udGFpbmVyLmNvbnRlbnREaXY7fSxnZXRNYWluRG9tQ29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JvdXAubWFpbkVsZW1lbnRDb250YWluZXIuY29udGVudERpdjt9fTtMb2dJdGVtLnNlcmlhbGl6ZWRJdGVtS2V5cz17TE9HX0VOVFJZOjAsR1JPVVBfU1RBUlQ6MSxHUk9VUF9FTkQ6Mn07ZnVuY3Rpb24gTG9nSXRlbUNvbnRhaW5lckVsZW1lbnQoKXt9JywnTG9nSXRlbUNvbnRhaW5lckVsZW1lbnQucHJvdG90eXBlPXthcHBlbmRUb0xvZzpmdW5jdGlvbigpe3ZhciBpbnNlcnRCZWZvcmVGaXJzdD0obmV3ZXN0QXRUb3AmJnRoaXMuY29udGFpbmVyRG9tTm9kZS5oYXNDaGlsZE5vZGVzKCkpO2lmKGluc2VydEJlZm9yZUZpcnN0KXt0aGlzLmNvbnRhaW5lckRvbU5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubWFpbkRpdix0aGlzLmNvbnRhaW5lckRvbU5vZGUuZmlyc3RDaGlsZCk7fWVsc2V7dGhpcy5jb250YWluZXJEb21Ob2RlLmFwcGVuZENoaWxkKHRoaXMubWFpbkRpdik7fX19O2Z1bmN0aW9uIFNlcGFyYXRvckVsZW1lbnRDb250YWluZXIoY29udGFpbmVyRG9tTm9kZSl7dGhpcy5jb250YWluZXJEb21Ob2RlPWNvbnRhaW5lckRvbU5vZGU7dGhpcy5tYWluRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5tYWluRGl2LmNsYXNzTmFtZT1cInNlcGFyYXRvclwiO3RoaXMubWFpbkRpdi5pbm5lckhUTUw9XCImbmJzcDtcIjt9JywnU2VwYXJhdG9yRWxlbWVudENvbnRhaW5lci5wcm90b3R5cGU9bmV3IExvZ0l0ZW1Db250YWluZXJFbGVtZW50KCk7U2VwYXJhdG9yRWxlbWVudENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5tYWluRGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5tYWluRGl2KTt0aGlzLm1haW5EaXY9bnVsbDt9O2Z1bmN0aW9uIFNlcGFyYXRvcigpe3RoaXMucmVuZGVyZWQ9ZmFsc2U7fScsJ1NlcGFyYXRvci5wcm90b3R5cGU9bmV3IExvZ0l0ZW0oKTtjb3B5UHJvcGVydGllcyhTZXBhcmF0b3IucHJvdG90eXBlLHtyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgY29udGFpbmVyRG9tTm9kZT10aGlzLmdyb3VwLmNvbnRlbnREaXY7aWYoaXNJZSl7dGhpcy51bndyYXBwZWRFbGVtZW50Q29udGFpbmVyPW5ldyBTZXBhcmF0b3JFbGVtZW50Q29udGFpbmVyKHRoaXMuZ2V0VW53cmFwcGVkRG9tQ29udGFpbmVyKCkpO3RoaXMud3JhcHBlZEVsZW1lbnRDb250YWluZXI9bmV3IFNlcGFyYXRvckVsZW1lbnRDb250YWluZXIodGhpcy5nZXRXcmFwcGVkRG9tQ29udGFpbmVyKCkpO3RoaXMuZWxlbWVudENvbnRhaW5lcnM9W3RoaXMudW53cmFwcGVkRWxlbWVudENvbnRhaW5lcix0aGlzLndyYXBwZWRFbGVtZW50Q29udGFpbmVyXTt9ZWxzZXt0aGlzLm1haW5FbGVtZW50Q29udGFpbmVyPW5ldyBTZXBhcmF0b3JFbGVtZW50Q29udGFpbmVyKHRoaXMuZ2V0TWFpbkRvbUNvbnRhaW5lcigpKTt0aGlzLmVsZW1lbnRDb250YWluZXJzPVt0aGlzLm1haW5FbGVtZW50Q29udGFpbmVyXTt9JywndGhpcy5jb250ZW50PXRoaXMuZm9ybWF0dGVkTWVzc2FnZTt0aGlzLnJlbmRlcmVkPXRydWU7fX0pO2Z1bmN0aW9uIEdyb3VwRWxlbWVudENvbnRhaW5lcihncm91cCxjb250YWluZXJEb21Ob2RlLGlzUm9vdCxpc1dyYXBwZWQpe3RoaXMuZ3JvdXA9Z3JvdXA7dGhpcy5jb250YWluZXJEb21Ob2RlPWNvbnRhaW5lckRvbU5vZGU7dGhpcy5pc1Jvb3Q9aXNSb290O3RoaXMuaXNXcmFwcGVkPWlzV3JhcHBlZDt0aGlzLmV4cGFuZGFibGU9ZmFsc2U7aWYodGhpcy5pc1Jvb3Qpe2lmKGlzSWUpe3RoaXMuY29udGVudERpdj1sb2dNYWluQ29udGFpbmVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3RoaXMuY29udGVudERpdi5pZD10aGlzLmlzV3JhcHBlZD9cImxvZ193cmFwcGVkXCI6XCJsb2dfdW53cmFwcGVkXCI7fWVsc2V7dGhpcy5jb250ZW50RGl2PWxvZ01haW5Db250YWluZXI7fX1lbHNle3ZhciBncm91cEVsZW1lbnRDb250YWluZXI9dGhpczt0aGlzLm1haW5EaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLm1haW5EaXYuY2xhc3NOYW1lPVwiZ3JvdXBcIjt0aGlzLmhlYWRpbmdEaXY9dGhpcy5tYWluRGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3RoaXMuaGVhZGluZ0Rpdi5jbGFzc05hbWU9XCJncm91cGhlYWRpbmdcIjt0aGlzLmV4cGFuZGVyPXRoaXMuaGVhZGluZ0Rpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSk7dGhpcy5leHBhbmRlci5jbGFzc05hbWU9XCJleHBhbmRlciB1bnNlbGVjdGFibGUgZ3JleWVkb3V0XCI7dGhpcy5leHBhbmRlci51bnNlbGVjdGFibGU9dHJ1ZTt2YXIgZXhwYW5kZXJUZXh0PXRoaXMuZ3JvdXAuZXhwYW5kZWQ/XCItXCI6XCIrXCI7dGhpcy5leHBhbmRlclRleHROb2RlPXRoaXMuZXhwYW5kZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZXhwYW5kZXJUZXh0KSk7dGhpcy5oZWFkaW5nRGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIFwiK3RoaXMuZ3JvdXAubmFtZSkpO3RoaXMuY29udGVudERpdj10aGlzLm1haW5EaXYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7dmFyIGNvbnRlbnRDc3NDbGFzcz10aGlzLmdyb3VwLmV4cGFuZGVkP1wiZXhwYW5kZWRcIjpcImNvbGxhcHNlZFwiO3RoaXMuY29udGVudERpdi5jbGFzc05hbWU9XCJncm91cGNvbnRlbnQgXCIrY29udGVudENzc0NsYXNzO3RoaXMuZXhwYW5kZXIub25jbGljaz1mdW5jdGlvbigpe2lmKGdyb3VwRWxlbWVudENvbnRhaW5lci5ncm91cC5leHBhbmRhYmxlKXtncm91cEVsZW1lbnRDb250YWluZXIuZ3JvdXAudG9nZ2xlRXhwYW5kZWQoKTt9fTt9fScsJ0dyb3VwRWxlbWVudENvbnRhaW5lci5wcm90b3R5cGU9bmV3IExvZ0l0ZW1Db250YWluZXJFbGVtZW50KCk7Y29weVByb3BlcnRpZXMoR3JvdXBFbGVtZW50Q29udGFpbmVyLnByb3RvdHlwZSx7dG9nZ2xlRXhwYW5kZWQ6ZnVuY3Rpb24oKXtpZighdGhpcy5pc1Jvb3Qpe3ZhciBvbGRDc3NDbGFzcyxuZXdDc3NDbGFzcyxleHBhbmRlclRleHQ7aWYodGhpcy5ncm91cC5leHBhbmRlZCl7bmV3Q3NzQ2xhc3M9XCJleHBhbmRlZFwiO29sZENzc0NsYXNzPVwiY29sbGFwc2VkXCI7ZXhwYW5kZXJUZXh0PVwiLVwiO31lbHNle25ld0Nzc0NsYXNzPVwiY29sbGFwc2VkXCI7b2xkQ3NzQ2xhc3M9XCJleHBhbmRlZFwiO2V4cGFuZGVyVGV4dD1cIitcIjt9JywncmVwbGFjZUNsYXNzKHRoaXMuY29udGVudERpdixuZXdDc3NDbGFzcyxvbGRDc3NDbGFzcyk7dGhpcy5leHBhbmRlclRleHROb2RlLm5vZGVWYWx1ZT1leHBhbmRlclRleHQ7fX0scmVtb3ZlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNSb290KXt0aGlzLmhlYWRpbmdEaXY9bnVsbDt0aGlzLmV4cGFuZGVyLm9uY2xpY2s9bnVsbDt0aGlzLmV4cGFuZGVyPW51bGw7dGhpcy5leHBhbmRlclRleHROb2RlPW51bGw7dGhpcy5jb250ZW50RGl2PW51bGw7dGhpcy5jb250YWluZXJEb21Ob2RlPW51bGw7dGhpcy5tYWluRGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5tYWluRGl2KTt0aGlzLm1haW5EaXY9bnVsbDt9fSxyZXZlcnNlQ2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgbm9kZT1udWxsO3ZhciBjaGlsZERvbU5vZGVzPVtdO3doaWxlKChub2RlPXRoaXMuY29udGVudERpdi5maXJzdENoaWxkKSl7dGhpcy5jb250ZW50RGl2LnJlbW92ZUNoaWxkKG5vZGUpO2NoaWxkRG9tTm9kZXMucHVzaChub2RlKTt9Jywnd2hpbGUoKG5vZGU9Y2hpbGREb21Ob2Rlcy5wb3AoKSkpe3RoaXMuY29udGVudERpdi5hcHBlbmRDaGlsZChub2RlKTt9fSx1cGRhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5pc1Jvb3Qpe2lmKHRoaXMuZ3JvdXAuZXhwYW5kYWJsZSl7cmVtb3ZlQ2xhc3ModGhpcy5leHBhbmRlcixcImdyZXllZG91dFwiKTt9ZWxzZXthZGRDbGFzcyh0aGlzLmV4cGFuZGVyLFwiZ3JleWVkb3V0XCIpO319fSxjbGVhcjpmdW5jdGlvbigpe2lmKHRoaXMuaXNSb290KXt0aGlzLmNvbnRlbnREaXYuaW5uZXJIVE1MPVwiXCI7fX19KTtmdW5jdGlvbiBHcm91cChuYW1lLGlzUm9vdCxpbml0aWFsbHlFeHBhbmRlZCl7dGhpcy5uYW1lPW5hbWU7dGhpcy5ncm91cD1udWxsO3RoaXMuaXNSb290PWlzUm9vdDt0aGlzLmluaXRpYWxseUV4cGFuZGVkPWluaXRpYWxseUV4cGFuZGVkO3RoaXMuZWxlbWVudENvbnRhaW5lcnM9W107dGhpcy5jaGlsZHJlbj1bXTt0aGlzLmV4cGFuZGVkPWluaXRpYWxseUV4cGFuZGVkO3RoaXMucmVuZGVyZWQ9ZmFsc2U7dGhpcy5leHBhbmRhYmxlPWZhbHNlO30nLCdHcm91cC5wcm90b3R5cGU9bmV3IExvZ0l0ZW0oKTtjb3B5UHJvcGVydGllcyhHcm91cC5wcm90b3R5cGUse2FkZENoaWxkOmZ1bmN0aW9uKGxvZ0l0ZW0pe3RoaXMuY2hpbGRyZW4ucHVzaChsb2dJdGVtKTtsb2dJdGVtLmdyb3VwPXRoaXM7fSxyZW5kZXI6ZnVuY3Rpb24oKXtpZihpc0llKXt2YXIgdW53cmFwcGVkRG9tQ29udGFpbmVyLHdyYXBwZWREb21Db250YWluZXI7aWYodGhpcy5pc1Jvb3Qpe3Vud3JhcHBlZERvbUNvbnRhaW5lcj1sb2dNYWluQ29udGFpbmVyO3dyYXBwZWREb21Db250YWluZXI9bG9nTWFpbkNvbnRhaW5lcjt9ZWxzZXt1bndyYXBwZWREb21Db250YWluZXI9dGhpcy5nZXRVbndyYXBwZWREb21Db250YWluZXIoKTt3cmFwcGVkRG9tQ29udGFpbmVyPXRoaXMuZ2V0V3JhcHBlZERvbUNvbnRhaW5lcigpO30nLCd0aGlzLnVud3JhcHBlZEVsZW1lbnRDb250YWluZXI9bmV3IEdyb3VwRWxlbWVudENvbnRhaW5lcih0aGlzLHVud3JhcHBlZERvbUNvbnRhaW5lcix0aGlzLmlzUm9vdCxmYWxzZSk7dGhpcy53cmFwcGVkRWxlbWVudENvbnRhaW5lcj1uZXcgR3JvdXBFbGVtZW50Q29udGFpbmVyKHRoaXMsd3JhcHBlZERvbUNvbnRhaW5lcix0aGlzLmlzUm9vdCx0cnVlKTt0aGlzLmVsZW1lbnRDb250YWluZXJzPVt0aGlzLnVud3JhcHBlZEVsZW1lbnRDb250YWluZXIsdGhpcy53cmFwcGVkRWxlbWVudENvbnRhaW5lcl07fWVsc2V7dmFyIG1haW5Eb21Db250YWluZXI9dGhpcy5pc1Jvb3Q/bG9nTWFpbkNvbnRhaW5lcjp0aGlzLmdldE1haW5Eb21Db250YWluZXIoKTt0aGlzLm1haW5FbGVtZW50Q29udGFpbmVyPW5ldyBHcm91cEVsZW1lbnRDb250YWluZXIodGhpcyxtYWluRG9tQ29udGFpbmVyLHRoaXMuaXNSb290LGZhbHNlKTt0aGlzLmVsZW1lbnRDb250YWluZXJzPVt0aGlzLm1haW5FbGVtZW50Q29udGFpbmVyXTt9JywndGhpcy5yZW5kZXJlZD10cnVlO30sdG9nZ2xlRXhwYW5kZWQ6ZnVuY3Rpb24oKXt0aGlzLmV4cGFuZGVkPSF0aGlzLmV4cGFuZGVkO2Zvcih2YXIgaT0wLGxlbj10aGlzLmVsZW1lbnRDb250YWluZXJzLmxlbmd0aDtpPGxlbjtpKyspe3RoaXMuZWxlbWVudENvbnRhaW5lcnNbaV0udG9nZ2xlRXhwYW5kZWQoKTt9fSxleHBhbmQ6ZnVuY3Rpb24oKXtpZighdGhpcy5leHBhbmRlZCl7dGhpcy50b2dnbGVFeHBhbmRlZCgpO319LGFjY2VwdDpmdW5jdGlvbih2aXNpdG9yKXt2aXNpdG9yLnZpc2l0R3JvdXAodGhpcyk7fSxyZXZlcnNlQ2hpbGRyZW46ZnVuY3Rpb24oKXtpZih0aGlzLnJlbmRlcmVkKXtmb3IodmFyIGk9MCxsZW49dGhpcy5lbGVtZW50Q29udGFpbmVycy5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLmVsZW1lbnRDb250YWluZXJzW2ldLnJldmVyc2VDaGlsZHJlbigpO319fSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgcHJldmlvdXNseUV4cGFuZGFibGU9dGhpcy5leHBhbmRhYmxlO3RoaXMuZXhwYW5kYWJsZT0odGhpcy5jaGlsZHJlbi5sZW5ndGghPT0wKTtpZih0aGlzLmV4cGFuZGFibGUhPT1wcmV2aW91c2x5RXhwYW5kYWJsZSl7Zm9yKHZhciBpPTAsbGVuPXRoaXMuZWxlbWVudENvbnRhaW5lcnMubGVuZ3RoO2k8bGVuO2krKyl7dGhpcy5lbGVtZW50Q29udGFpbmVyc1tpXS51cGRhdGUoKTt9fX0sZmxhdHRlbjpmdW5jdGlvbigpe3ZhciB2aXNpdG9yPW5ldyBHcm91cEZsYXR0ZW5lcigpO3RoaXMuYWNjZXB0KHZpc2l0b3IpO3JldHVybiB2aXNpdG9yLmxvZ0VudHJpZXNBbmRTZXBhcmF0b3JzO30scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oY2hpbGQsZG9VcGRhdGUpe2FycmF5X3JlbW92ZSh0aGlzLmNoaWxkcmVuLGNoaWxkKTtjaGlsZC5ncm91cD1udWxsO2lmKGRvVXBkYXRlKXt0aGlzLnVwZGF0ZSgpO319LHJlbW92ZTpmdW5jdGlvbihkb1VwZGF0ZSxyZW1vdmVGcm9tR3JvdXApe2Zvcih2YXIgaT0wLGxlbj10aGlzLmNoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspe3RoaXMuY2hpbGRyZW5baV0ucmVtb3ZlKGZhbHNlLGZhbHNlKTt9JywndGhpcy5jaGlsZHJlbj1bXTt0aGlzLnVwZGF0ZSgpO2lmKHRoaXM9PT1jdXJyZW50R3JvdXApe2N1cnJlbnRHcm91cD10aGlzLmdyb3VwO30nLCd0aGlzLmRvUmVtb3ZlKGRvVXBkYXRlLHJlbW92ZUZyb21Hcm91cCk7fSxzZXJpYWxpemU6ZnVuY3Rpb24oaXRlbXMpe2l0ZW1zLnB1c2goW0xvZ0l0ZW0uc2VyaWFsaXplZEl0ZW1LZXlzLkdST1VQX1NUQVJULHRoaXMubmFtZV0pO2Zvcih2YXIgaT0wLGxlbj10aGlzLmNoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspe3RoaXMuY2hpbGRyZW5baV0uc2VyaWFsaXplKGl0ZW1zKTt9JywnaWYodGhpcyE9PWN1cnJlbnRHcm91cCl7aXRlbXMucHVzaChbTG9nSXRlbS5zZXJpYWxpemVkSXRlbUtleXMuR1JPVVBfRU5EXSk7fX0sY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGk9MCxsZW49dGhpcy5lbGVtZW50Q29udGFpbmVycy5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLmVsZW1lbnRDb250YWluZXJzW2ldLmNsZWFyKCk7fX19KTtmdW5jdGlvbiBMb2dFbnRyeUVsZW1lbnRDb250YWluZXIoKXt9JywnTG9nRW50cnlFbGVtZW50Q29udGFpbmVyLnByb3RvdHlwZT1uZXcgTG9nSXRlbUNvbnRhaW5lckVsZW1lbnQoKTtjb3B5UHJvcGVydGllcyhMb2dFbnRyeUVsZW1lbnRDb250YWluZXIucHJvdG90eXBlLHtyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmRvUmVtb3ZlKCk7fSxkb1JlbW92ZTpmdW5jdGlvbigpe3RoaXMubWFpbkRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubWFpbkRpdik7dGhpcy5tYWluRGl2PW51bGw7dGhpcy5jb250ZW50RWxlbWVudD1udWxsO3RoaXMuY29udGFpbmVyRG9tTm9kZT1udWxsO30sc2V0Q29udGVudDpmdW5jdGlvbihjb250ZW50LHdyYXBwZWRDb250ZW50KXtpZihjb250ZW50PT09dGhpcy5mb3JtYXR0ZWRNZXNzYWdlKXt0aGlzLmNvbnRlbnRFbGVtZW50LmlubmVySFRNTD1cIlwiO3RoaXMuY29udGVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5mb3JtYXR0ZWRNZXNzYWdlKSk7fWVsc2V7dGhpcy5jb250ZW50RWxlbWVudC5pbm5lckhUTUw9Y29udGVudDt9fSxzZXRTZWFyY2hNYXRjaDpmdW5jdGlvbihpc01hdGNoKXt2YXIgb2xkQ3NzQ2xhc3M9aXNNYXRjaD9cInNlYXJjaG5vbm1hdGNoXCI6XCJzZWFyY2htYXRjaFwiO3ZhciBuZXdDc3NDbGFzcz1pc01hdGNoP1wic2VhcmNobWF0Y2hcIjpcInNlYXJjaG5vbm1hdGNoXCI7cmVwbGFjZUNsYXNzKHRoaXMubWFpbkRpdixuZXdDc3NDbGFzcyxvbGRDc3NDbGFzcyk7fSxjbGVhclNlYXJjaDpmdW5jdGlvbigpe3JlbW92ZUNsYXNzKHRoaXMubWFpbkRpdixcInNlYXJjaG1hdGNoXCIpO3JlbW92ZUNsYXNzKHRoaXMubWFpbkRpdixcInNlYXJjaG5vbm1hdGNoXCIpO319KTtmdW5jdGlvbiBMb2dFbnRyeVdyYXBwZWRFbGVtZW50Q29udGFpbmVyKGxvZ0VudHJ5LGNvbnRhaW5lckRvbU5vZGUpe3RoaXMubG9nRW50cnk9bG9nRW50cnk7dGhpcy5jb250YWluZXJEb21Ob2RlPWNvbnRhaW5lckRvbU5vZGU7dGhpcy5tYWluRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5tYWluRGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMubG9nRW50cnkuZm9ybWF0dGVkTWVzc2FnZSkpO3RoaXMubWFpbkRpdi5jbGFzc05hbWU9XCJsb2dlbnRyeSB3cmFwcGVkIFwiK3RoaXMubG9nRW50cnkubGV2ZWw7dGhpcy5jb250ZW50RWxlbWVudD10aGlzLm1haW5EaXY7fScsJ0xvZ0VudHJ5V3JhcHBlZEVsZW1lbnRDb250YWluZXIucHJvdG90eXBlPW5ldyBMb2dFbnRyeUVsZW1lbnRDb250YWluZXIoKTtMb2dFbnRyeVdyYXBwZWRFbGVtZW50Q29udGFpbmVyLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKGNvbnRlbnQsd3JhcHBlZENvbnRlbnQpe2lmKGNvbnRlbnQ9PT10aGlzLmZvcm1hdHRlZE1lc3NhZ2Upe3RoaXMuY29udGVudEVsZW1lbnQuaW5uZXJIVE1MPVwiXCI7dGhpcy5jb250ZW50RWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmZvcm1hdHRlZE1lc3NhZ2UpKTt9ZWxzZXt0aGlzLmNvbnRlbnRFbGVtZW50LmlubmVySFRNTD13cmFwcGVkQ29udGVudDt9fTtmdW5jdGlvbiBMb2dFbnRyeVVud3JhcHBlZEVsZW1lbnRDb250YWluZXIobG9nRW50cnksY29udGFpbmVyRG9tTm9kZSl7dGhpcy5sb2dFbnRyeT1sb2dFbnRyeTt0aGlzLmNvbnRhaW5lckRvbU5vZGU9Y29udGFpbmVyRG9tTm9kZTt0aGlzLm1haW5EaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLm1haW5EaXYuY2xhc3NOYW1lPVwibG9nZW50cnkgdW53cmFwcGVkIFwiK3RoaXMubG9nRW50cnkubGV2ZWw7dGhpcy5wcmU9dGhpcy5tYWluRGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIikpO3RoaXMucHJlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMubG9nRW50cnkuZm9ybWF0dGVkTWVzc2FnZSkpO3RoaXMucHJlLmNsYXNzTmFtZT1cInVud3JhcHBlZFwiO3RoaXMuY29udGVudEVsZW1lbnQ9dGhpcy5wcmU7fScsJ0xvZ0VudHJ5VW53cmFwcGVkRWxlbWVudENvbnRhaW5lci5wcm90b3R5cGU9bmV3IExvZ0VudHJ5RWxlbWVudENvbnRhaW5lcigpO0xvZ0VudHJ5VW53cmFwcGVkRWxlbWVudENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5kb1JlbW92ZSgpO3RoaXMucHJlPW51bGw7fTtmdW5jdGlvbiBMb2dFbnRyeU1haW5FbGVtZW50Q29udGFpbmVyKGxvZ0VudHJ5LGNvbnRhaW5lckRvbU5vZGUpe3RoaXMubG9nRW50cnk9bG9nRW50cnk7dGhpcy5jb250YWluZXJEb21Ob2RlPWNvbnRhaW5lckRvbU5vZGU7dGhpcy5tYWluRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5tYWluRGl2LmNsYXNzTmFtZT1cImxvZ2VudHJ5IG5vbmllbG9nZW50cnkgXCIrdGhpcy5sb2dFbnRyeS5sZXZlbDt0aGlzLmNvbnRlbnRFbGVtZW50PXRoaXMubWFpbkRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSk7dGhpcy5jb250ZW50RWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmxvZ0VudHJ5LmZvcm1hdHRlZE1lc3NhZ2UpKTt9JywnTG9nRW50cnlNYWluRWxlbWVudENvbnRhaW5lci5wcm90b3R5cGU9bmV3IExvZ0VudHJ5RWxlbWVudENvbnRhaW5lcigpO2Z1bmN0aW9uIExvZ0VudHJ5KGxldmVsLGZvcm1hdHRlZE1lc3NhZ2Upe3RoaXMubGV2ZWw9bGV2ZWw7dGhpcy5mb3JtYXR0ZWRNZXNzYWdlPWZvcm1hdHRlZE1lc3NhZ2U7dGhpcy5yZW5kZXJlZD1mYWxzZTt9JywnTG9nRW50cnkucHJvdG90eXBlPW5ldyBMb2dJdGVtKCk7Y29weVByb3BlcnRpZXMoTG9nRW50cnkucHJvdG90eXBlLHtyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgbG9nRW50cnk9dGhpczt2YXIgY29udGFpbmVyRG9tTm9kZT10aGlzLmdyb3VwLmNvbnRlbnREaXY7aWYoaXNJZSl7dGhpcy5mb3JtYXR0ZWRNZXNzYWdlPXRoaXMuZm9ybWF0dGVkTWVzc2FnZS5yZXBsYWNlKC9cXFxcclxcXFxuL2csXCJcXFxcclwiKTt0aGlzLnVud3JhcHBlZEVsZW1lbnRDb250YWluZXI9bmV3IExvZ0VudHJ5VW53cmFwcGVkRWxlbWVudENvbnRhaW5lcih0aGlzLHRoaXMuZ2V0VW53cmFwcGVkRG9tQ29udGFpbmVyKCkpO3RoaXMud3JhcHBlZEVsZW1lbnRDb250YWluZXI9bmV3IExvZ0VudHJ5V3JhcHBlZEVsZW1lbnRDb250YWluZXIodGhpcyx0aGlzLmdldFdyYXBwZWREb21Db250YWluZXIoKSk7dGhpcy5lbGVtZW50Q29udGFpbmVycz1bdGhpcy51bndyYXBwZWRFbGVtZW50Q29udGFpbmVyLHRoaXMud3JhcHBlZEVsZW1lbnRDb250YWluZXJdO31lbHNle3RoaXMubWFpbkVsZW1lbnRDb250YWluZXI9bmV3IExvZ0VudHJ5TWFpbkVsZW1lbnRDb250YWluZXIodGhpcyx0aGlzLmdldE1haW5Eb21Db250YWluZXIoKSk7dGhpcy5lbGVtZW50Q29udGFpbmVycz1bdGhpcy5tYWluRWxlbWVudENvbnRhaW5lcl07fScsJ3RoaXMuY29udGVudD10aGlzLmZvcm1hdHRlZE1lc3NhZ2U7dGhpcy5yZW5kZXJlZD10cnVlO30sc2V0Q29udGVudDpmdW5jdGlvbihjb250ZW50LHdyYXBwZWRDb250ZW50KXtpZihjb250ZW50IT10aGlzLmNvbnRlbnQpe2lmKGlzSWUmJihjb250ZW50IT09dGhpcy5mb3JtYXR0ZWRNZXNzYWdlKSl7Y29udGVudD1jb250ZW50LnJlcGxhY2UoL1xcXFxyXFxcXG4vZyxcIlxcXFxyXCIpO30nLCdmb3IodmFyIGk9MCxsZW49dGhpcy5lbGVtZW50Q29udGFpbmVycy5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLmVsZW1lbnRDb250YWluZXJzW2ldLnNldENvbnRlbnQoY29udGVudCx3cmFwcGVkQ29udGVudCk7fScsJ3RoaXMuY29udGVudD1jb250ZW50O319LGdldFNlYXJjaE1hdGNoZXM6ZnVuY3Rpb24oKXt2YXIgbWF0Y2hlcz1bXTt2YXIgaSxsZW47aWYoaXNJZSl7dmFyIHVud3JhcHBlZEVscz1nZXRFbGVtZW50c0J5Q2xhc3ModGhpcy51bndyYXBwZWRFbGVtZW50Q29udGFpbmVyLm1haW5EaXYsXCJzZWFyY2h0ZXJtXCIsXCJzcGFuXCIpO3ZhciB3cmFwcGVkRWxzPWdldEVsZW1lbnRzQnlDbGFzcyh0aGlzLndyYXBwZWRFbGVtZW50Q29udGFpbmVyLm1haW5EaXYsXCJzZWFyY2h0ZXJtXCIsXCJzcGFuXCIpO2ZvcihpPTAsbGVuPXVud3JhcHBlZEVscy5sZW5ndGg7aTxsZW47aSsrKXttYXRjaGVzW2ldPW5ldyBNYXRjaCh0aGlzLmxldmVsLG51bGwsdW53cmFwcGVkRWxzW2ldLHdyYXBwZWRFbHNbaV0pO319ZWxzZXt2YXIgZWxzPWdldEVsZW1lbnRzQnlDbGFzcyh0aGlzLm1haW5FbGVtZW50Q29udGFpbmVyLm1haW5EaXYsXCJzZWFyY2h0ZXJtXCIsXCJzcGFuXCIpO2ZvcihpPTAsbGVuPWVscy5sZW5ndGg7aTxsZW47aSsrKXttYXRjaGVzW2ldPW5ldyBNYXRjaCh0aGlzLmxldmVsLGVsc1tpXSk7fX0nLCdyZXR1cm4gbWF0Y2hlczt9LHNldFNlYXJjaE1hdGNoOmZ1bmN0aW9uKGlzTWF0Y2gpe2Zvcih2YXIgaT0wLGxlbj10aGlzLmVsZW1lbnRDb250YWluZXJzLmxlbmd0aDtpPGxlbjtpKyspe3RoaXMuZWxlbWVudENvbnRhaW5lcnNbaV0uc2V0U2VhcmNoTWF0Y2goaXNNYXRjaCk7fX0sY2xlYXJTZWFyY2g6ZnVuY3Rpb24oKXtmb3IodmFyIGk9MCxsZW49dGhpcy5lbGVtZW50Q29udGFpbmVycy5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLmVsZW1lbnRDb250YWluZXJzW2ldLmNsZWFyU2VhcmNoKCk7fX0sYWNjZXB0OmZ1bmN0aW9uKHZpc2l0b3Ipe3Zpc2l0b3IudmlzaXRMb2dFbnRyeSh0aGlzKTt9LHNlcmlhbGl6ZTpmdW5jdGlvbihpdGVtcyl7aXRlbXMucHVzaChbTG9nSXRlbS5zZXJpYWxpemVkSXRlbUtleXMuTE9HX0VOVFJZLHRoaXMubGV2ZWwsdGhpcy5mb3JtYXR0ZWRNZXNzYWdlXSk7fX0pO2Z1bmN0aW9uIExvZ0l0ZW1WaXNpdG9yKCl7fScsJ0xvZ0l0ZW1WaXNpdG9yLnByb3RvdHlwZT17dmlzaXQ6ZnVuY3Rpb24obG9nSXRlbSl7fSx2aXNpdFBhcmVudDpmdW5jdGlvbihsb2dJdGVtKXtpZihsb2dJdGVtLmdyb3VwKXtsb2dJdGVtLmdyb3VwLmFjY2VwdCh0aGlzKTt9fSx2aXNpdENoaWxkcmVuOmZ1bmN0aW9uKGxvZ0l0ZW0pe2Zvcih2YXIgaT0wLGxlbj1sb2dJdGVtLmNoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspe2xvZ0l0ZW0uY2hpbGRyZW5baV0uYWNjZXB0KHRoaXMpO319LHZpc2l0TG9nRW50cnk6ZnVuY3Rpb24obG9nRW50cnkpe3RoaXMudmlzaXQobG9nRW50cnkpO30sdmlzaXRTZXBhcmF0b3I6ZnVuY3Rpb24oc2VwYXJhdG9yKXt0aGlzLnZpc2l0KHNlcGFyYXRvcik7fSx2aXNpdEdyb3VwOmZ1bmN0aW9uKGdyb3VwKXt0aGlzLnZpc2l0KGdyb3VwKTt9fTtmdW5jdGlvbiBHcm91cEZsYXR0ZW5lcigpe3RoaXMubG9nRW50cmllc0FuZFNlcGFyYXRvcnM9W107fScsJ0dyb3VwRmxhdHRlbmVyLnByb3RvdHlwZT1uZXcgTG9nSXRlbVZpc2l0b3IoKTtHcm91cEZsYXR0ZW5lci5wcm90b3R5cGUudmlzaXRHcm91cD1mdW5jdGlvbihncm91cCl7dGhpcy52aXNpdENoaWxkcmVuKGdyb3VwKTt9O0dyb3VwRmxhdHRlbmVyLnByb3RvdHlwZS52aXNpdExvZ0VudHJ5PWZ1bmN0aW9uKGxvZ0VudHJ5KXt0aGlzLmxvZ0VudHJpZXNBbmRTZXBhcmF0b3JzLnB1c2gobG9nRW50cnkpO307R3JvdXBGbGF0dGVuZXIucHJvdG90eXBlLnZpc2l0U2VwYXJhdG9yPWZ1bmN0aW9uKHNlcGFyYXRvcil7dGhpcy5sb2dFbnRyaWVzQW5kU2VwYXJhdG9ycy5wdXNoKHNlcGFyYXRvcik7fTt3aW5kb3cub25sb2FkPWZ1bmN0aW9uKCl7aWYobG9jYXRpb24uc2VhcmNoKXt2YXIgcXVlcnlCaXRzPXVuZXNjYXBlKGxvY2F0aW9uLnNlYXJjaCkuc3Vic3RyKDEpLnNwbGl0KFwiJlwiKSxuYW1lVmFsdWVCaXRzO2Zvcih2YXIgaT0wLGxlbj1xdWVyeUJpdHMubGVuZ3RoO2k8bGVuO2krKyl7bmFtZVZhbHVlQml0cz1xdWVyeUJpdHNbaV0uc3BsaXQoXCI9XCIpO2lmKG5hbWVWYWx1ZUJpdHNbMF09PVwibG9nNGphdmFzY3JpcHRfZG9tYWluXCIpe2RvY3VtZW50LmRvbWFpbj1uYW1lVmFsdWVCaXRzWzFdO2JyZWFrO319fScsJ2xvZ01haW5Db250YWluZXI9JChcImxvZ1wiKTtpZihpc0llUHJlNyl7YWRkQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixcIm9sZEllXCIpO30nLCdyb290R3JvdXA9bmV3IEdyb3VwKFwicm9vdFwiLHRydWUpO3Jvb3RHcm91cC5yZW5kZXIoKTtjdXJyZW50R3JvdXA9cm9vdEdyb3VwO3NldENvbW1hbmRJbnB1dFdpZHRoKCk7c2V0TG9nQ29udGFpbmVySGVpZ2h0KCk7dG9nZ2xlTG9nZ2luZ0VuYWJsZWQoKTt0b2dnbGVTZWFyY2hFbmFibGVkKCk7dG9nZ2xlU2VhcmNoRmlsdGVyKCk7dG9nZ2xlU2VhcmNoSGlnaGxpZ2h0KCk7YXBwbHlGaWx0ZXJzKCk7Y2hlY2tBbGxMZXZlbHMoKTt0b2dnbGVXcmFwKCk7dG9nZ2xlTmV3ZXN0QXRUb3AoKTt0b2dnbGVTY3JvbGxUb0xhdGVzdCgpO3JlbmRlclF1ZXVlZExvZ0l0ZW1zKCk7bG9hZGVkPXRydWU7JChcImNvbW1hbmRcIikudmFsdWU9XCJcIjskKFwiY29tbWFuZFwiKS5hdXRvY29tcGxldGU9XCJvZmZcIjskKFwiY29tbWFuZFwiKS5vbmtleWRvd249ZnVuY3Rpb24oZXZ0KXtldnQ9Z2V0RXZlbnQoZXZ0KTtpZihldnQua2V5Q29kZT09MTB8fGV2dC5rZXlDb2RlPT0xMyl7ZXZhbENvbW1hbmRMaW5lKCk7c3RvcFByb3BhZ2F0aW9uKGV2dCk7fWVsc2UgaWYoZXZ0LmtleUNvZGU9PTI3KXt0aGlzLnZhbHVlPVwiXCI7dGhpcy5mb2N1cygpO31lbHNlIGlmKGV2dC5rZXlDb2RlPT0zOCYmY29tbWFuZEhpc3RvcnkubGVuZ3RoPjApe2N1cnJlbnRDb21tYW5kSW5kZXg9TWF0aC5tYXgoMCxjdXJyZW50Q29tbWFuZEluZGV4LTEpO3RoaXMudmFsdWU9Y29tbWFuZEhpc3RvcnlbY3VycmVudENvbW1hbmRJbmRleF07bW92ZUNhcmV0VG9FbmQodGhpcyk7fWVsc2UgaWYoZXZ0LmtleUNvZGU9PTQwJiZjb21tYW5kSGlzdG9yeS5sZW5ndGg+MCl7Y3VycmVudENvbW1hbmRJbmRleD1NYXRoLm1pbihjb21tYW5kSGlzdG9yeS5sZW5ndGgtMSxjdXJyZW50Q29tbWFuZEluZGV4KzEpO3RoaXMudmFsdWU9Y29tbWFuZEhpc3RvcnlbY3VycmVudENvbW1hbmRJbmRleF07bW92ZUNhcmV0VG9FbmQodGhpcyk7fX07JChcImNvbW1hbmRcIikub25rZXlwcmVzcz1mdW5jdGlvbihldnQpe2V2dD1nZXRFdmVudChldnQpO2lmKGV2dC5rZXlDb2RlPT0zOCYmY29tbWFuZEhpc3RvcnkubGVuZ3RoPjAmJmV2dC5wcmV2ZW50RGVmYXVsdCl7ZXZ0LnByZXZlbnREZWZhdWx0KCk7fX07JChcImNvbW1hbmRcIikub25rZXl1cD1mdW5jdGlvbihldnQpe2V2dD1nZXRFdmVudChldnQpO2lmKGV2dC5rZXlDb2RlPT0yNyYmZXZ0LnByZXZlbnREZWZhdWx0KXtldnQucHJldmVudERlZmF1bHQoKTt0aGlzLmZvY3VzKCk7fX07ZG9jdW1lbnQub25rZXlkb3duPWZ1bmN0aW9uIGtleUV2ZW50SGFuZGxlcihldnQpe2V2dD1nZXRFdmVudChldnQpO3N3aXRjaChldnQua2V5Q29kZSl7Y2FzZSA2OTppZihldnQuc2hpZnRLZXkmJihldnQuY3RybEtleXx8ZXZ0Lm1ldGFLZXkpKXtldmFsTGFzdENvbW1hbmQoKTtjYW5jZWxLZXlFdmVudChldnQpO3JldHVybiBmYWxzZTt9JywnYnJlYWs7Y2FzZSA3NTppZihldnQuc2hpZnRLZXkmJihldnQuY3RybEtleXx8ZXZ0Lm1ldGFLZXkpKXtmb2N1c1NlYXJjaCgpO2NhbmNlbEtleUV2ZW50KGV2dCk7cmV0dXJuIGZhbHNlO30nLCdicmVhaztjYXNlIDQwOmNhc2UgNzY6aWYoZXZ0LnNoaWZ0S2V5JiYoZXZ0LmN0cmxLZXl8fGV2dC5tZXRhS2V5KSl7Zm9jdXNDb21tYW5kTGluZSgpO2NhbmNlbEtleUV2ZW50KGV2dCk7cmV0dXJuIGZhbHNlO30nLCdicmVhazt9fTtzZXRUaW1lb3V0KHNldExvZ0NvbnRhaW5lckhlaWdodCwyMCk7c2V0U2hvd0NvbW1hbmRMaW5lKHNob3dDb21tYW5kTGluZSk7ZG9TZWFyY2goKTt9O3dpbmRvdy5vbnVubG9hZD1mdW5jdGlvbigpe2lmKG1haW5XaW5kb3dFeGlzdHMoKSl7YXBwZW5kZXIudW5sb2FkKCk7fScsJ2FwcGVuZGVyPW51bGw7fTtmdW5jdGlvbiB0b2dnbGVMb2dnaW5nRW5hYmxlZCgpe3NldExvZ2dpbmdFbmFibGVkKCQoXCJlbmFibGVMb2dnaW5nXCIpLmNoZWNrZWQpO30nLCdmdW5jdGlvbiBzZXRMb2dnaW5nRW5hYmxlZChlbmFibGUpe2xvZ2dpbmdFbmFibGVkPWVuYWJsZTt9JywndmFyIGFwcGVuZGVyPW51bGw7ZnVuY3Rpb24gc2V0QXBwZW5kZXIoYXBwZW5kZXJQYXJhbSl7YXBwZW5kZXI9YXBwZW5kZXJQYXJhbTt9JywnZnVuY3Rpb24gc2V0U2hvd0Nsb3NlQnV0dG9uKHNob3dDbG9zZUJ1dHRvbil7JChcImNsb3NlQnV0dG9uXCIpLnN0eWxlLmRpc3BsYXk9c2hvd0Nsb3NlQnV0dG9uP1wiaW5saW5lXCI6XCJub25lXCI7fScsJ2Z1bmN0aW9uIHNldFNob3dIaWRlQnV0dG9uKHNob3dIaWRlQnV0dG9uKXskKFwiaGlkZUJ1dHRvblwiKS5zdHlsZS5kaXNwbGF5PXNob3dIaWRlQnV0dG9uP1wiaW5saW5lXCI6XCJub25lXCI7fScsJ3ZhciBuZXdlc3RBdFRvcD1mYWxzZTtmdW5jdGlvbiBMb2dJdGVtQ29udGVudFJldmVyc2VyKCl7fScsJ0xvZ0l0ZW1Db250ZW50UmV2ZXJzZXIucHJvdG90eXBlPW5ldyBMb2dJdGVtVmlzaXRvcigpO0xvZ0l0ZW1Db250ZW50UmV2ZXJzZXIucHJvdG90eXBlLnZpc2l0R3JvdXA9ZnVuY3Rpb24oZ3JvdXApe2dyb3VwLnJldmVyc2VDaGlsZHJlbigpO3RoaXMudmlzaXRDaGlsZHJlbihncm91cCk7fTtmdW5jdGlvbiBzZXROZXdlc3RBdFRvcChpc05ld2VzdEF0VG9wKXt2YXIgb2xkTmV3ZXN0QXRUb3A9bmV3ZXN0QXRUb3A7dmFyIGksaUxlbixqLGpMZW47bmV3ZXN0QXRUb3A9Qm9vbGVhbihpc05ld2VzdEF0VG9wKTtpZihvbGROZXdlc3RBdFRvcCE9bmV3ZXN0QXRUb3Ape3ZhciB2aXNpdG9yPW5ldyBMb2dJdGVtQ29udGVudFJldmVyc2VyKCk7cm9vdEdyb3VwLmFjY2VwdCh2aXNpdG9yKTtpZihjdXJyZW50U2VhcmNoKXt2YXIgY3VycmVudE1hdGNoPWN1cnJlbnRTZWFyY2gubWF0Y2hlc1tjdXJyZW50TWF0Y2hJbmRleF07dmFyIG1hdGNoSW5kZXg9MDt2YXIgbWF0Y2hlcz1bXTt2YXIgYWN0T25Mb2dFbnRyeT1mdW5jdGlvbihsb2dFbnRyeSl7dmFyIGxvZ0VudHJ5TWF0Y2hlcz1sb2dFbnRyeS5nZXRTZWFyY2hNYXRjaGVzKCk7Zm9yKGo9MCxqTGVuPWxvZ0VudHJ5TWF0Y2hlcy5sZW5ndGg7ajxqTGVuO2orKyl7bWF0Y2hlc1ttYXRjaEluZGV4XT1sb2dFbnRyeU1hdGNoZXNbal07aWYoY3VycmVudE1hdGNoJiZsb2dFbnRyeU1hdGNoZXNbal0uZXF1YWxzKGN1cnJlbnRNYXRjaCkpe2N1cnJlbnRNYXRjaEluZGV4PW1hdGNoSW5kZXg7fScsJ21hdGNoSW5kZXgrKzt9fTtpZihuZXdlc3RBdFRvcCl7Zm9yKGk9bG9nRW50cmllcy5sZW5ndGgtMTtpPj0wO2ktLSl7YWN0T25Mb2dFbnRyeShsb2dFbnRyaWVzW2ldKTt9fWVsc2V7Zm9yKGk9MCxpTGVuPWxvZ0VudHJpZXMubGVuZ3RoO2k8aUxlbjtpKyspe2FjdE9uTG9nRW50cnkobG9nRW50cmllc1tpXSk7fX0nLCdjdXJyZW50U2VhcmNoLm1hdGNoZXM9bWF0Y2hlcztpZihjdXJyZW50TWF0Y2gpe2N1cnJlbnRNYXRjaC5zZXRDdXJyZW50KCk7fX1lbHNlIGlmKHNjcm9sbFRvTGF0ZXN0KXtkb1Njcm9sbFRvTGF0ZXN0KCk7fX0nLCckKFwibmV3ZXN0QXRUb3BcIikuY2hlY2tlZD1pc05ld2VzdEF0VG9wO30nLCdmdW5jdGlvbiB0b2dnbGVOZXdlc3RBdFRvcCgpe3ZhciBpc05ld2VzdEF0VG9wPSQoXCJuZXdlc3RBdFRvcFwiKS5jaGVja2VkO3NldE5ld2VzdEF0VG9wKGlzTmV3ZXN0QXRUb3ApO30nLCd2YXIgc2Nyb2xsVG9MYXRlc3Q9dHJ1ZTtmdW5jdGlvbiBzZXRTY3JvbGxUb0xhdGVzdChpc1Njcm9sbFRvTGF0ZXN0KXtzY3JvbGxUb0xhdGVzdD1pc1Njcm9sbFRvTGF0ZXN0O2lmKHNjcm9sbFRvTGF0ZXN0KXtkb1Njcm9sbFRvTGF0ZXN0KCk7fScsJyQoXCJzY3JvbGxUb0xhdGVzdFwiKS5jaGVja2VkPWlzU2Nyb2xsVG9MYXRlc3Q7fScsJ2Z1bmN0aW9uIHRvZ2dsZVNjcm9sbFRvTGF0ZXN0KCl7dmFyIGlzU2Nyb2xsVG9MYXRlc3Q9JChcInNjcm9sbFRvTGF0ZXN0XCIpLmNoZWNrZWQ7c2V0U2Nyb2xsVG9MYXRlc3QoaXNTY3JvbGxUb0xhdGVzdCk7fScsJ2Z1bmN0aW9uIGRvU2Nyb2xsVG9MYXRlc3QoKXt2YXIgbD1sb2dNYWluQ29udGFpbmVyO2lmKHR5cGVvZiBsLnNjcm9sbFRvcCE9XCJ1bmRlZmluZWRcIil7aWYobmV3ZXN0QXRUb3Ape2wuc2Nyb2xsVG9wPTA7fWVsc2V7dmFyIGxhdGVzdExvZ0VudHJ5PWwubGFzdENoaWxkO2lmKGxhdGVzdExvZ0VudHJ5KXtsLnNjcm9sbFRvcD1sLnNjcm9sbEhlaWdodDt9fX19JywndmFyIGNsb3NlSWZPcGVuZXJDbG9zZXM9dHJ1ZTtmdW5jdGlvbiBzZXRDbG9zZUlmT3BlbmVyQ2xvc2VzKGlzQ2xvc2VJZk9wZW5lckNsb3Nlcyl7Y2xvc2VJZk9wZW5lckNsb3Nlcz1pc0Nsb3NlSWZPcGVuZXJDbG9zZXM7fScsJ3ZhciBtYXhNZXNzYWdlcz1udWxsO2Z1bmN0aW9uIHNldE1heE1lc3NhZ2VzKG1heCl7bWF4TWVzc2FnZXM9bWF4O3BydW5lTG9nRW50cmllcygpO30nLCd2YXIgc2hvd0NvbW1hbmRMaW5lPWZhbHNlO2Z1bmN0aW9uIHNldFNob3dDb21tYW5kTGluZShpc1Nob3dDb21tYW5kTGluZSl7c2hvd0NvbW1hbmRMaW5lPWlzU2hvd0NvbW1hbmRMaW5lO2lmKGxvYWRlZCl7JChcImNvbW1hbmRMaW5lXCIpLnN0eWxlLmRpc3BsYXk9c2hvd0NvbW1hbmRMaW5lP1wiYmxvY2tcIjpcIm5vbmVcIjtzZXRDb21tYW5kSW5wdXRXaWR0aCgpO3NldExvZ0NvbnRhaW5lckhlaWdodCgpO319JywnZnVuY3Rpb24gZm9jdXNDb21tYW5kTGluZSgpe2lmKGxvYWRlZCl7JChcImNvbW1hbmRcIikuZm9jdXMoKTt9fScsJ2Z1bmN0aW9uIGZvY3VzU2VhcmNoKCl7aWYobG9hZGVkKXskKFwic2VhcmNoQm94XCIpLmZvY3VzKCk7fX0nLCdmdW5jdGlvbiBnZXRMb2dJdGVtcygpe3ZhciBpdGVtcz1bXTtmb3IodmFyIGk9MCxsZW49bG9nSXRlbXMubGVuZ3RoO2k8bGVuO2krKyl7bG9nSXRlbXNbaV0uc2VyaWFsaXplKGl0ZW1zKTt9JywncmV0dXJuIGl0ZW1zO30nLCdmdW5jdGlvbiBzZXRMb2dJdGVtcyhpdGVtcyl7dmFyIGxvZ2dpbmdSZWFsbHlFbmFibGVkPWxvZ2dpbmdFbmFibGVkO2xvZ2dpbmdFbmFibGVkPXRydWU7Zm9yKHZhciBpPTAsbGVuPWl0ZW1zLmxlbmd0aDtpPGxlbjtpKyspe3N3aXRjaChpdGVtc1tpXVswXSl7Y2FzZSBMb2dJdGVtLnNlcmlhbGl6ZWRJdGVtS2V5cy5MT0dfRU5UUlk6bG9nKGl0ZW1zW2ldWzFdLGl0ZW1zW2ldWzJdKTticmVhaztjYXNlIExvZ0l0ZW0uc2VyaWFsaXplZEl0ZW1LZXlzLkdST1VQX1NUQVJUOmdyb3VwKGl0ZW1zW2ldWzFdKTticmVhaztjYXNlIExvZ0l0ZW0uc2VyaWFsaXplZEl0ZW1LZXlzLkdST1VQX0VORDpncm91cEVuZCgpO2JyZWFrO319JywnbG9nZ2luZ0VuYWJsZWQ9bG9nZ2luZ1JlYWxseUVuYWJsZWQ7fScsJ2Z1bmN0aW9uIGxvZyhsb2dMZXZlbCxmb3JtYXR0ZWRNZXNzYWdlKXtpZihsb2dnaW5nRW5hYmxlZCl7dmFyIGxvZ0VudHJ5PW5ldyBMb2dFbnRyeShsb2dMZXZlbCxmb3JtYXR0ZWRNZXNzYWdlKTtsb2dFbnRyaWVzLnB1c2gobG9nRW50cnkpO2xvZ0VudHJpZXNBbmRTZXBhcmF0b3JzLnB1c2gobG9nRW50cnkpO2xvZ0l0ZW1zLnB1c2gobG9nRW50cnkpO2N1cnJlbnRHcm91cC5hZGRDaGlsZChsb2dFbnRyeSk7aWYobG9hZGVkKXtpZihsb2dRdWV1ZWRFdmVudHNUaW1lciE9PW51bGwpe2NsZWFyVGltZW91dChsb2dRdWV1ZWRFdmVudHNUaW1lcik7fScsJ2xvZ1F1ZXVlZEV2ZW50c1RpbWVyPXNldFRpbWVvdXQocmVuZGVyUXVldWVkTG9nSXRlbXMscmVuZGVyRGVsYXkpO3VucmVuZGVyZWRMb2dJdGVtc0V4aXN0PXRydWU7fX19JywnZnVuY3Rpb24gcmVuZGVyUXVldWVkTG9nSXRlbXMoKXtsb2dRdWV1ZWRFdmVudHNUaW1lcj1udWxsO3ZhciBwcnVuZWQ9cHJ1bmVMb2dFbnRyaWVzKCk7dmFyIGluaXRpYWxseUhhc01hdGNoZXM9Y3VycmVudFNlYXJjaD9jdXJyZW50U2VhcmNoLmhhc01hdGNoZXMoKTpmYWxzZTtmb3IodmFyIGk9MCxsZW49bG9nSXRlbXMubGVuZ3RoO2k8bGVuO2krKyl7aWYoIWxvZ0l0ZW1zW2ldLnJlbmRlcmVkKXtsb2dJdGVtc1tpXS5yZW5kZXIoKTtsb2dJdGVtc1tpXS5hcHBlbmRUb0xvZygpO2lmKGN1cnJlbnRTZWFyY2gmJihsb2dJdGVtc1tpXWluc3RhbmNlb2YgTG9nRW50cnkpKXtjdXJyZW50U2VhcmNoLmFwcGx5VG8obG9nSXRlbXNbaV0pO319fScsJ2lmKGN1cnJlbnRTZWFyY2gpe2lmKHBydW5lZCl7aWYoY3VycmVudFNlYXJjaC5oYXNWaXNpYmxlTWF0Y2hlcygpKXtpZihjdXJyZW50TWF0Y2hJbmRleD09PW51bGwpe3NldEN1cnJlbnRNYXRjaEluZGV4KDApO30nLCdkaXNwbGF5TWF0Y2hlcygpO31lbHNle2Rpc3BsYXlOb01hdGNoZXMoKTt9fWVsc2UgaWYoIWluaXRpYWxseUhhc01hdGNoZXMmJmN1cnJlbnRTZWFyY2guaGFzVmlzaWJsZU1hdGNoZXMoKSl7c2V0Q3VycmVudE1hdGNoSW5kZXgoMCk7ZGlzcGxheU1hdGNoZXMoKTt9fScsJ2lmKHNjcm9sbFRvTGF0ZXN0KXtkb1Njcm9sbFRvTGF0ZXN0KCk7fScsJ3VucmVuZGVyZWRMb2dJdGVtc0V4aXN0PWZhbHNlO30nLCdmdW5jdGlvbiBwcnVuZUxvZ0VudHJpZXMoKXtpZigobWF4TWVzc2FnZXMhPT1udWxsKSYmKGxvZ0VudHJpZXNBbmRTZXBhcmF0b3JzLmxlbmd0aD5tYXhNZXNzYWdlcykpe3ZhciBudW1iZXJUb0RlbGV0ZT1sb2dFbnRyaWVzQW5kU2VwYXJhdG9ycy5sZW5ndGgtbWF4TWVzc2FnZXM7dmFyIHBydW5lZExvZ0VudHJpZXM9bG9nRW50cmllc0FuZFNlcGFyYXRvcnMuc2xpY2UoMCxudW1iZXJUb0RlbGV0ZSk7aWYoY3VycmVudFNlYXJjaCl7Y3VycmVudFNlYXJjaC5yZW1vdmVNYXRjaGVzKHBydW5lZExvZ0VudHJpZXMpO30nLCd2YXIgZ3JvdXA7Zm9yKHZhciBpPTA7aTxudW1iZXJUb0RlbGV0ZTtpKyspe2dyb3VwPWxvZ0VudHJpZXNBbmRTZXBhcmF0b3JzW2ldLmdyb3VwO2FycmF5X3JlbW92ZShsb2dJdGVtcyxsb2dFbnRyaWVzQW5kU2VwYXJhdG9yc1tpXSk7YXJyYXlfcmVtb3ZlKGxvZ0VudHJpZXMsbG9nRW50cmllc0FuZFNlcGFyYXRvcnNbaV0pO2xvZ0VudHJpZXNBbmRTZXBhcmF0b3JzW2ldLnJlbW92ZSh0cnVlLHRydWUpO2lmKGdyb3VwLmNoaWxkcmVuLmxlbmd0aD09PTAmJmdyb3VwIT09Y3VycmVudEdyb3VwJiZncm91cCE9PXJvb3RHcm91cCl7YXJyYXlfcmVtb3ZlKGxvZ0l0ZW1zLGdyb3VwKTtncm91cC5yZW1vdmUodHJ1ZSx0cnVlKTt9fScsJ2xvZ0VudHJpZXNBbmRTZXBhcmF0b3JzPWFycmF5X3JlbW92ZUZyb21TdGFydChsb2dFbnRyaWVzQW5kU2VwYXJhdG9ycyxudW1iZXJUb0RlbGV0ZSk7cmV0dXJuIHRydWU7fScsJ3JldHVybiBmYWxzZTt9JywnZnVuY3Rpb24gZ3JvdXAobmFtZSxzdGFydEV4cGFuZGVkKXtpZihsb2dnaW5nRW5hYmxlZCl7aW5pdGlhbGx5RXhwYW5kZWQ9KHR5cGVvZiBzdGFydEV4cGFuZGVkPT09XCJ1bmRlZmluZWRcIik/dHJ1ZTpCb29sZWFuKHN0YXJ0RXhwYW5kZWQpO3ZhciBuZXdHcm91cD1uZXcgR3JvdXAobmFtZSxmYWxzZSxpbml0aWFsbHlFeHBhbmRlZCk7Y3VycmVudEdyb3VwLmFkZENoaWxkKG5ld0dyb3VwKTtjdXJyZW50R3JvdXA9bmV3R3JvdXA7bG9nSXRlbXMucHVzaChuZXdHcm91cCk7aWYobG9hZGVkKXtpZihsb2dRdWV1ZWRFdmVudHNUaW1lciE9PW51bGwpe2NsZWFyVGltZW91dChsb2dRdWV1ZWRFdmVudHNUaW1lcik7fScsJ2xvZ1F1ZXVlZEV2ZW50c1RpbWVyPXNldFRpbWVvdXQocmVuZGVyUXVldWVkTG9nSXRlbXMscmVuZGVyRGVsYXkpO3VucmVuZGVyZWRMb2dJdGVtc0V4aXN0PXRydWU7fX19JywnZnVuY3Rpb24gZ3JvdXBFbmQoKXtjdXJyZW50R3JvdXA9KGN1cnJlbnRHcm91cD09PXJvb3RHcm91cCk/cm9vdEdyb3VwOmN1cnJlbnRHcm91cC5ncm91cDt9JywnZnVuY3Rpb24gbWFpblBhZ2VSZWxvYWRlZCgpe2N1cnJlbnRHcm91cD1yb290R3JvdXA7dmFyIHNlcGFyYXRvcj1uZXcgU2VwYXJhdG9yKCk7bG9nRW50cmllc0FuZFNlcGFyYXRvcnMucHVzaChzZXBhcmF0b3IpO2xvZ0l0ZW1zLnB1c2goc2VwYXJhdG9yKTtjdXJyZW50R3JvdXAuYWRkQ2hpbGQoc2VwYXJhdG9yKTt9JywnZnVuY3Rpb24gY2xvc2VXaW5kb3coKXtpZihhcHBlbmRlciYmbWFpbldpbmRvd0V4aXN0cygpKXthcHBlbmRlci5jbG9zZSh0cnVlKTt9ZWxzZXt3aW5kb3cuY2xvc2UoKTt9fScsJ2Z1bmN0aW9uIGhpZGUoKXtpZihhcHBlbmRlciYmbWFpbldpbmRvd0V4aXN0cygpKXthcHBlbmRlci5oaWRlKCk7fX0nLCd2YXIgbWFpbldpbmRvdz13aW5kb3c7dmFyIHdpbmRvd0lkPVwibG9nNGphdmFzY3JpcHRDb25zb2xlV2luZG93X1wiK25ldyBEYXRlKCkuZ2V0VGltZSgpK1wiX1wiKyhcIlwiK01hdGgucmFuZG9tKCkpLnN1YnN0cigyKTtmdW5jdGlvbiBzZXRNYWluV2luZG93KHdpbil7bWFpbldpbmRvdz13aW47bWFpbldpbmRvd1t3aW5kb3dJZF09d2luZG93O2lmKG9wZW5lciYmY2xvc2VJZk9wZW5lckNsb3Nlcyl7cG9sbE9wZW5lcigpO319JywnZnVuY3Rpb24gcG9sbE9wZW5lcigpe2lmKGNsb3NlSWZPcGVuZXJDbG9zZXMpe2lmKG1haW5XaW5kb3dFeGlzdHMoKSl7c2V0VGltZW91dChwb2xsT3BlbmVyLDUwMCk7fWVsc2V7Y2xvc2VXaW5kb3coKTt9fX0nLCdmdW5jdGlvbiBtYWluV2luZG93RXhpc3RzKCl7dHJ5e3JldHVybihtYWluV2luZG93JiYhbWFpbldpbmRvdy5jbG9zZWQmJm1haW5XaW5kb3dbd2luZG93SWRdPT13aW5kb3cpO31jYXRjaChleCl7fScsJ3JldHVybiBmYWxzZTt9JywndmFyIGxvZ0xldmVscz1bXCJUUkFDRVwiLFwiREVCVUdcIixcIklORk9cIixcIldBUk5cIixcIkVSUk9SXCIsXCJGQVRBTFwiXTtmdW5jdGlvbiBnZXRDaGVja0JveChsb2dMZXZlbCl7cmV0dXJuICQoXCJzd2l0Y2hfXCIrbG9nTGV2ZWwpO30nLCdmdW5jdGlvbiBnZXRJZVdyYXBwZWRMb2dDb250YWluZXIoKXtyZXR1cm4gJChcImxvZ193cmFwcGVkXCIpO30nLCdmdW5jdGlvbiBnZXRJZVVud3JhcHBlZExvZ0NvbnRhaW5lcigpe3JldHVybiAkKFwibG9nX3Vud3JhcHBlZFwiKTt9JywnZnVuY3Rpb24gYXBwbHlGaWx0ZXJzKCl7Zm9yKHZhciBpPTA7aTxsb2dMZXZlbHMubGVuZ3RoO2krKyl7aWYoZ2V0Q2hlY2tCb3gobG9nTGV2ZWxzW2ldKS5jaGVja2VkKXthZGRDbGFzcyhsb2dNYWluQ29udGFpbmVyLGxvZ0xldmVsc1tpXSk7fWVsc2V7cmVtb3ZlQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixsb2dMZXZlbHNbaV0pO319JywndXBkYXRlU2VhcmNoRnJvbUZpbHRlcnMoKTt9JywnZnVuY3Rpb24gdG9nZ2xlQWxsTGV2ZWxzKCl7dmFyIHR1cm5Pbj0kKFwic3dpdGNoX0FMTFwiKS5jaGVja2VkO2Zvcih2YXIgaT0wO2k8bG9nTGV2ZWxzLmxlbmd0aDtpKyspe2dldENoZWNrQm94KGxvZ0xldmVsc1tpXSkuY2hlY2tlZD10dXJuT247aWYodHVybk9uKXthZGRDbGFzcyhsb2dNYWluQ29udGFpbmVyLGxvZ0xldmVsc1tpXSk7fWVsc2V7cmVtb3ZlQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixsb2dMZXZlbHNbaV0pO319fScsJ2Z1bmN0aW9uIGNoZWNrQWxsTGV2ZWxzKCl7Zm9yKHZhciBpPTA7aTxsb2dMZXZlbHMubGVuZ3RoO2krKyl7aWYoIWdldENoZWNrQm94KGxvZ0xldmVsc1tpXSkuY2hlY2tlZCl7Z2V0Q2hlY2tCb3goXCJBTExcIikuY2hlY2tlZD1mYWxzZTtyZXR1cm47fX0nLCdnZXRDaGVja0JveChcIkFMTFwiKS5jaGVja2VkPXRydWU7fScsJ2Z1bmN0aW9uIGNsZWFyTG9nKCl7cm9vdEdyb3VwLmNsZWFyKCk7Y3VycmVudEdyb3VwPXJvb3RHcm91cDtsb2dFbnRyaWVzPVtdO2xvZ0l0ZW1zPVtdO2xvZ0VudHJpZXNBbmRTZXBhcmF0b3JzPVtdO2RvU2VhcmNoKCk7fScsJ2Z1bmN0aW9uIHRvZ2dsZVdyYXAoKXt2YXIgZW5hYmxlPSQoXCJ3cmFwXCIpLmNoZWNrZWQ7aWYoZW5hYmxlKXthZGRDbGFzcyhsb2dNYWluQ29udGFpbmVyLFwid3JhcFwiKTt9ZWxzZXtyZW1vdmVDbGFzcyhsb2dNYWluQ29udGFpbmVyLFwid3JhcFwiKTt9JywncmVmcmVzaEN1cnJlbnRNYXRjaCgpO30nLCd2YXIgc2VhcmNoVGltZXI9bnVsbDtmdW5jdGlvbiBzY2hlZHVsZVNlYXJjaCgpe3RyeXtjbGVhclRpbWVvdXQoc2VhcmNoVGltZXIpO31jYXRjaChleCl7fScsJ3NlYXJjaFRpbWVyPXNldFRpbWVvdXQoZG9TZWFyY2gsNTAwKTt9JywnZnVuY3Rpb24gU2VhcmNoKHNlYXJjaFRlcm0saXNSZWdleCxzZWFyY2hSZWdleCxpc0Nhc2VTZW5zaXRpdmUpe3RoaXMuc2VhcmNoVGVybT1zZWFyY2hUZXJtO3RoaXMuaXNSZWdleD1pc1JlZ2V4O3RoaXMuc2VhcmNoUmVnZXg9c2VhcmNoUmVnZXg7dGhpcy5pc0Nhc2VTZW5zaXRpdmU9aXNDYXNlU2Vuc2l0aXZlO3RoaXMubWF0Y2hlcz1bXTt9JywnU2VhcmNoLnByb3RvdHlwZT17aGFzTWF0Y2hlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hdGNoZXMubGVuZ3RoPjA7fSxoYXNWaXNpYmxlTWF0Y2hlczpmdW5jdGlvbigpe2lmKHRoaXMuaGFzTWF0Y2hlcygpKXtmb3IodmFyIGk9MDtpPHRoaXMubWF0Y2hlcy5sZW5ndGg7aSsrKXtpZih0aGlzLm1hdGNoZXNbaV0uaXNWaXNpYmxlKCkpe3JldHVybiB0cnVlO319fScsJ3JldHVybiBmYWxzZTt9LG1hdGNoOmZ1bmN0aW9uKGxvZ0VudHJ5KXt2YXIgZW50cnlUZXh0PVN0cmluZyhsb2dFbnRyeS5mb3JtYXR0ZWRNZXNzYWdlKTt2YXIgbWF0Y2hlc1NlYXJjaD1mYWxzZTtpZih0aGlzLmlzUmVnZXgpe21hdGNoZXNTZWFyY2g9dGhpcy5zZWFyY2hSZWdleC50ZXN0KGVudHJ5VGV4dCk7fWVsc2UgaWYodGhpcy5pc0Nhc2VTZW5zaXRpdmUpe21hdGNoZXNTZWFyY2g9KGVudHJ5VGV4dC5pbmRleE9mKHRoaXMuc2VhcmNoVGVybSk+LTEpO31lbHNle21hdGNoZXNTZWFyY2g9KGVudHJ5VGV4dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGhpcy5zZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpPi0xKTt9JywncmV0dXJuIG1hdGNoZXNTZWFyY2g7fSxnZXROZXh0VmlzaWJsZU1hdGNoSW5kZXg6ZnVuY3Rpb24oKXtmb3IodmFyIGk9Y3VycmVudE1hdGNoSW5kZXgrMTtpPHRoaXMubWF0Y2hlcy5sZW5ndGg7aSsrKXtpZih0aGlzLm1hdGNoZXNbaV0uaXNWaXNpYmxlKCkpe3JldHVybiBpO319JywnZm9yKGk9MDtpPD1jdXJyZW50TWF0Y2hJbmRleDtpKyspe2lmKHRoaXMubWF0Y2hlc1tpXS5pc1Zpc2libGUoKSl7cmV0dXJuIGk7fX0nLCdyZXR1cm4tMTt9LGdldFByZXZpb3VzVmlzaWJsZU1hdGNoSW5kZXg6ZnVuY3Rpb24oKXtmb3IodmFyIGk9Y3VycmVudE1hdGNoSW5kZXgtMTtpPj0wO2ktLSl7aWYodGhpcy5tYXRjaGVzW2ldLmlzVmlzaWJsZSgpKXtyZXR1cm4gaTt9fScsJ2Zvcih2YXIgaT10aGlzLm1hdGNoZXMubGVuZ3RoLTE7aT49Y3VycmVudE1hdGNoSW5kZXg7aS0tKXtpZih0aGlzLm1hdGNoZXNbaV0uaXNWaXNpYmxlKCkpe3JldHVybiBpO319JywncmV0dXJuLTE7fSxhcHBseVRvOmZ1bmN0aW9uKGxvZ0VudHJ5KXt2YXIgZG9lc01hdGNoPXRoaXMubWF0Y2gobG9nRW50cnkpO2lmKGRvZXNNYXRjaCl7bG9nRW50cnkuZ3JvdXAuZXhwYW5kKCk7bG9nRW50cnkuc2V0U2VhcmNoTWF0Y2godHJ1ZSk7dmFyIGxvZ0VudHJ5Q29udGVudDt2YXIgd3JhcHBlZExvZ0VudHJ5Q29udGVudDt2YXIgc2VhcmNoVGVybVJlcGxhY2VtZW50U3RhcnRUYWc9XCI8c3BhbiBjbGFzcz1cXFxcXFxcInNlYXJjaHRlcm1cXFxcXFxcIj5cIjt2YXIgc2VhcmNoVGVybVJlcGxhY2VtZW50RW5kVGFnPVwiPFwiK1wiL3NwYW4+XCI7dmFyIHByZVRhZ05hbWU9aXNJZT9cInByZVwiOlwic3BhblwiO3ZhciBwcmVTdGFydFRhZz1cIjxcIitwcmVUYWdOYW1lK1wiIGNsYXNzPVxcXFxcXFwicHJlXFxcXFxcXCI+XCI7dmFyIHByZUVuZFRhZz1cIjxcIitcIi9cIitwcmVUYWdOYW1lK1wiPlwiO3ZhciBzdGFydEluZGV4PTA7dmFyIHNlYXJjaEluZGV4LG1hdGNoZWRUZXh0LHRleHRCZWZvcmVNYXRjaDtpZih0aGlzLmlzUmVnZXgpe3ZhciBmbGFncz10aGlzLmlzQ2FzZVNlbnNpdGl2ZT9cImdcIjpcImdpXCI7dmFyIGNhcHR1cmluZ1JlZ2V4PW5ldyBSZWdFeHAoXCIoXCIrdGhpcy5zZWFyY2hSZWdleC5zb3VyY2UrXCIpXCIsZmxhZ3MpO3ZhciBybmQ9KFwiXCIrTWF0aC5yYW5kb20oKSkuc3Vic3RyKDIpO3ZhciBzdGFydFRva2VuPVwiJSVzXCIrcm5kK1wiJSVcIjt2YXIgZW5kVG9rZW49XCIlJWVcIitybmQrXCIlJVwiO2xvZ0VudHJ5Q29udGVudD1sb2dFbnRyeS5mb3JtYXR0ZWRNZXNzYWdlLnJlcGxhY2UoY2FwdHVyaW5nUmVnZXgsc3RhcnRUb2tlbitcIiQxXCIrZW5kVG9rZW4pO2xvZ0VudHJ5Q29udGVudD1lc2NhcGVIdG1sKGxvZ0VudHJ5Q29udGVudCk7dmFyIHJlc3VsdDt2YXIgc2VhcmNoU3RyaW5nPWxvZ0VudHJ5Q29udGVudDtsb2dFbnRyeUNvbnRlbnQ9XCJcIjt3cmFwcGVkTG9nRW50cnlDb250ZW50PVwiXCI7d2hpbGUoKHNlYXJjaEluZGV4PXNlYXJjaFN0cmluZy5pbmRleE9mKHN0YXJ0VG9rZW4sc3RhcnRJbmRleCkpPi0xKXt2YXIgZW5kVG9rZW5JbmRleD1zZWFyY2hTdHJpbmcuaW5kZXhPZihlbmRUb2tlbixzZWFyY2hJbmRleCk7bWF0Y2hlZFRleHQ9c2VhcmNoU3RyaW5nLnN1YnN0cmluZyhzZWFyY2hJbmRleCtzdGFydFRva2VuLmxlbmd0aCxlbmRUb2tlbkluZGV4KTt0ZXh0QmVmb3JlTWF0Y2g9c2VhcmNoU3RyaW5nLnN1YnN0cmluZyhzdGFydEluZGV4LHNlYXJjaEluZGV4KTtsb2dFbnRyeUNvbnRlbnQrPXByZVN0YXJ0VGFnK3RleHRCZWZvcmVNYXRjaCtwcmVFbmRUYWc7bG9nRW50cnlDb250ZW50Kz1zZWFyY2hUZXJtUmVwbGFjZW1lbnRTdGFydFRhZytwcmVTdGFydFRhZyttYXRjaGVkVGV4dCsnLCdwcmVFbmRUYWcrc2VhcmNoVGVybVJlcGxhY2VtZW50RW5kVGFnO2lmKGlzSWUpe3dyYXBwZWRMb2dFbnRyeUNvbnRlbnQrPXRleHRCZWZvcmVNYXRjaCtzZWFyY2hUZXJtUmVwbGFjZW1lbnRTdGFydFRhZysnLCdtYXRjaGVkVGV4dCtzZWFyY2hUZXJtUmVwbGFjZW1lbnRFbmRUYWc7fScsJ3N0YXJ0SW5kZXg9ZW5kVG9rZW5JbmRleCtlbmRUb2tlbi5sZW5ndGg7fScsJ2xvZ0VudHJ5Q29udGVudCs9cHJlU3RhcnRUYWcrc2VhcmNoU3RyaW5nLnN1YnN0cihzdGFydEluZGV4KStwcmVFbmRUYWc7aWYoaXNJZSl7d3JhcHBlZExvZ0VudHJ5Q29udGVudCs9c2VhcmNoU3RyaW5nLnN1YnN0cihzdGFydEluZGV4KTt9fWVsc2V7bG9nRW50cnlDb250ZW50PVwiXCI7d3JhcHBlZExvZ0VudHJ5Q29udGVudD1cIlwiO3ZhciBzZWFyY2hUZXJtUmVwbGFjZW1lbnRMZW5ndGg9c2VhcmNoVGVybVJlcGxhY2VtZW50U3RhcnRUYWcubGVuZ3RoKycsJ3RoaXMuc2VhcmNoVGVybS5sZW5ndGgrc2VhcmNoVGVybVJlcGxhY2VtZW50RW5kVGFnLmxlbmd0aDt2YXIgc2VhcmNoVGVybUxlbmd0aD10aGlzLnNlYXJjaFRlcm0ubGVuZ3RoO3ZhciBzZWFyY2hUZXJtTG93ZXJDYXNlPXRoaXMuc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpO3ZhciBsb2dUZXh0TG93ZXJDYXNlPWxvZ0VudHJ5LmZvcm1hdHRlZE1lc3NhZ2UudG9Mb3dlckNhc2UoKTt3aGlsZSgoc2VhcmNoSW5kZXg9bG9nVGV4dExvd2VyQ2FzZS5pbmRleE9mKHNlYXJjaFRlcm1Mb3dlckNhc2Usc3RhcnRJbmRleCkpPi0xKXttYXRjaGVkVGV4dD1lc2NhcGVIdG1sKGxvZ0VudHJ5LmZvcm1hdHRlZE1lc3NhZ2Uuc3Vic3RyKHNlYXJjaEluZGV4LHRoaXMuc2VhcmNoVGVybS5sZW5ndGgpKTt0ZXh0QmVmb3JlTWF0Y2g9ZXNjYXBlSHRtbChsb2dFbnRyeS5mb3JtYXR0ZWRNZXNzYWdlLnN1YnN0cmluZyhzdGFydEluZGV4LHNlYXJjaEluZGV4KSk7dmFyIHNlYXJjaFRlcm1SZXBsYWNlbWVudD1zZWFyY2hUZXJtUmVwbGFjZW1lbnRTdGFydFRhZysnLCdwcmVTdGFydFRhZyttYXRjaGVkVGV4dCtwcmVFbmRUYWcrc2VhcmNoVGVybVJlcGxhY2VtZW50RW5kVGFnO2xvZ0VudHJ5Q29udGVudCs9cHJlU3RhcnRUYWcrdGV4dEJlZm9yZU1hdGNoK3ByZUVuZFRhZytzZWFyY2hUZXJtUmVwbGFjZW1lbnQ7aWYoaXNJZSl7d3JhcHBlZExvZ0VudHJ5Q29udGVudCs9dGV4dEJlZm9yZU1hdGNoK3NlYXJjaFRlcm1SZXBsYWNlbWVudFN0YXJ0VGFnKycsJ21hdGNoZWRUZXh0K3NlYXJjaFRlcm1SZXBsYWNlbWVudEVuZFRhZzt9Jywnc3RhcnRJbmRleD1zZWFyY2hJbmRleCtzZWFyY2hUZXJtTGVuZ3RoO30nLCd2YXIgdGV4dEFmdGVyTGFzdE1hdGNoPWVzY2FwZUh0bWwobG9nRW50cnkuZm9ybWF0dGVkTWVzc2FnZS5zdWJzdHIoc3RhcnRJbmRleCkpO2xvZ0VudHJ5Q29udGVudCs9cHJlU3RhcnRUYWcrdGV4dEFmdGVyTGFzdE1hdGNoK3ByZUVuZFRhZztpZihpc0llKXt3cmFwcGVkTG9nRW50cnlDb250ZW50Kz10ZXh0QWZ0ZXJMYXN0TWF0Y2g7fX0nLCdsb2dFbnRyeS5zZXRDb250ZW50KGxvZ0VudHJ5Q29udGVudCx3cmFwcGVkTG9nRW50cnlDb250ZW50KTt2YXIgbG9nRW50cnlNYXRjaGVzPWxvZ0VudHJ5LmdldFNlYXJjaE1hdGNoZXMoKTt0aGlzLm1hdGNoZXM9dGhpcy5tYXRjaGVzLmNvbmNhdChsb2dFbnRyeU1hdGNoZXMpO31lbHNle2xvZ0VudHJ5LnNldFNlYXJjaE1hdGNoKGZhbHNlKTtsb2dFbnRyeS5zZXRDb250ZW50KGxvZ0VudHJ5LmZvcm1hdHRlZE1lc3NhZ2UsbG9nRW50cnkuZm9ybWF0dGVkTWVzc2FnZSk7fScsJ3JldHVybiBkb2VzTWF0Y2g7fSxyZW1vdmVNYXRjaGVzOmZ1bmN0aW9uKGxvZ0VudHJpZXMpe3ZhciBtYXRjaGVzVG9SZW1vdmVDb3VudD0wO3ZhciBjdXJyZW50TWF0Y2hSZW1vdmVkPWZhbHNlO3ZhciBtYXRjaGVzVG9SZW1vdmU9W107dmFyIGksaUxlbixqLGpMZW47Zm9yKGk9MCxpTGVuPXRoaXMubWF0Y2hlcy5sZW5ndGg7aTxpTGVuO2krKyl7Zm9yKGo9MCxqTGVuPWxvZ0VudHJpZXMubGVuZ3RoO2o8akxlbjtqKyspe2lmKHRoaXMubWF0Y2hlc1tpXS5iZWxvbmdzVG8obG9nRW50cmllc1tqXSkpe21hdGNoZXNUb1JlbW92ZS5wdXNoKHRoaXMubWF0Y2hlc1tpXSk7aWYoaT09PWN1cnJlbnRNYXRjaEluZGV4KXtjdXJyZW50TWF0Y2hSZW1vdmVkPXRydWU7fX19fScsJ3ZhciBuZXdNYXRjaD1jdXJyZW50TWF0Y2hSZW1vdmVkP251bGw6dGhpcy5tYXRjaGVzW2N1cnJlbnRNYXRjaEluZGV4XTtpZihjdXJyZW50TWF0Y2hSZW1vdmVkKXtmb3IoaT1jdXJyZW50TWF0Y2hJbmRleCxpTGVuPXRoaXMubWF0Y2hlcy5sZW5ndGg7aTxpTGVuO2krKyl7aWYodGhpcy5tYXRjaGVzW2ldLmlzVmlzaWJsZSgpJiYhYXJyYXlfY29udGFpbnMobWF0Y2hlc1RvUmVtb3ZlLHRoaXMubWF0Y2hlc1tpXSkpe25ld01hdGNoPXRoaXMubWF0Y2hlc1tpXTticmVhazt9fX0nLCdmb3IoaT0wLGlMZW49bWF0Y2hlc1RvUmVtb3ZlLmxlbmd0aDtpPGlMZW47aSsrKXthcnJheV9yZW1vdmUodGhpcy5tYXRjaGVzLG1hdGNoZXNUb1JlbW92ZVtpXSk7bWF0Y2hlc1RvUmVtb3ZlW2ldLnJlbW92ZSgpO30nLCdpZih0aGlzLmhhc1Zpc2libGVNYXRjaGVzKCkpe2lmKG5ld01hdGNoPT09bnVsbCl7c2V0Q3VycmVudE1hdGNoSW5kZXgoMCk7fWVsc2V7dmFyIG5ld01hdGNoSW5kZXg9MDtmb3IoaT0wLGlMZW49dGhpcy5tYXRjaGVzLmxlbmd0aDtpPGlMZW47aSsrKXtpZihuZXdNYXRjaD09PXRoaXMubWF0Y2hlc1tpXSl7bmV3TWF0Y2hJbmRleD1pO2JyZWFrO319Jywnc2V0Q3VycmVudE1hdGNoSW5kZXgobmV3TWF0Y2hJbmRleCk7fX1lbHNle2N1cnJlbnRNYXRjaEluZGV4PW51bGw7ZGlzcGxheU5vTWF0Y2hlcygpO319fTtmdW5jdGlvbiBnZXRQYWdlT2Zmc2V0VG9wKGVsLGNvbnRhaW5lcil7dmFyIGN1cnJlbnRFbD1lbDt2YXIgeT0wO3doaWxlKGN1cnJlbnRFbCYmY3VycmVudEVsIT1jb250YWluZXIpe3krPWN1cnJlbnRFbC5vZmZzZXRUb3A7Y3VycmVudEVsPWN1cnJlbnRFbC5vZmZzZXRQYXJlbnQ7fScsJ3JldHVybiB5O30nLCdmdW5jdGlvbiBzY3JvbGxJbnRvVmlldyhlbCl7dmFyIGxvZ0NvbnRhaW5lcj1sb2dNYWluQ29udGFpbmVyO2lmKCEkKFwid3JhcFwiKS5jaGVja2VkKXt2YXIgbG9nQ29udGFpbmVyTGVmdD1sb2dDb250YWluZXIuc2Nyb2xsTGVmdDt2YXIgbG9nQ29udGFpbmVyUmlnaHQ9bG9nQ29udGFpbmVyTGVmdCtsb2dDb250YWluZXIub2Zmc2V0V2lkdGg7dmFyIGVsTGVmdD1lbC5vZmZzZXRMZWZ0O3ZhciBlbFJpZ2h0PWVsTGVmdCtlbC5vZmZzZXRXaWR0aDtpZihlbExlZnQ8bG9nQ29udGFpbmVyTGVmdHx8ZWxSaWdodD5sb2dDb250YWluZXJSaWdodCl7bG9nQ29udGFpbmVyLnNjcm9sbExlZnQ9ZWxMZWZ0LShsb2dDb250YWluZXIub2Zmc2V0V2lkdGgtZWwub2Zmc2V0V2lkdGgpLzI7fX0nLCd2YXIgbG9nQ29udGFpbmVyVG9wPWxvZ0NvbnRhaW5lci5zY3JvbGxUb3A7dmFyIGxvZ0NvbnRhaW5lckJvdHRvbT1sb2dDb250YWluZXJUb3ArbG9nQ29udGFpbmVyLm9mZnNldEhlaWdodDt2YXIgZWxUb3A9Z2V0UGFnZU9mZnNldFRvcChlbCktZ2V0VG9vbEJhcnNIZWlnaHQoKTt2YXIgZWxCb3R0b209ZWxUb3ArZWwub2Zmc2V0SGVpZ2h0O2lmKGVsVG9wPGxvZ0NvbnRhaW5lclRvcHx8ZWxCb3R0b20+bG9nQ29udGFpbmVyQm90dG9tKXtsb2dDb250YWluZXIuc2Nyb2xsVG9wPWVsVG9wLShsb2dDb250YWluZXIub2Zmc2V0SGVpZ2h0LWVsLm9mZnNldEhlaWdodCkvMjt9fScsJ2Z1bmN0aW9uIE1hdGNoKGxvZ0VudHJ5TGV2ZWwsc3BhbkluTWFpbkRpdixzcGFuSW5VbndyYXBwZWRQcmUsc3BhbkluV3JhcHBlZERpdil7dGhpcy5sb2dFbnRyeUxldmVsPWxvZ0VudHJ5TGV2ZWw7dGhpcy5zcGFuSW5NYWluRGl2PXNwYW5Jbk1haW5EaXY7aWYoaXNJZSl7dGhpcy5zcGFuSW5VbndyYXBwZWRQcmU9c3BhbkluVW53cmFwcGVkUHJlO3RoaXMuc3BhbkluV3JhcHBlZERpdj1zcGFuSW5XcmFwcGVkRGl2O30nLCd0aGlzLm1haW5TcGFuPWlzSWU/c3BhbkluVW53cmFwcGVkUHJlOnNwYW5Jbk1haW5EaXY7fScsJ01hdGNoLnByb3RvdHlwZT17ZXF1YWxzOmZ1bmN0aW9uKG1hdGNoKXtyZXR1cm4gdGhpcy5tYWluU3Bhbj09PW1hdGNoLm1haW5TcGFuO30sc2V0Q3VycmVudDpmdW5jdGlvbigpe2lmKGlzSWUpe2FkZENsYXNzKHRoaXMuc3BhbkluVW53cmFwcGVkUHJlLFwiY3VycmVudG1hdGNoXCIpO2FkZENsYXNzKHRoaXMuc3BhbkluV3JhcHBlZERpdixcImN1cnJlbnRtYXRjaFwiKTt2YXIgZWxlbWVudFRvU2Nyb2xsPSQoXCJ3cmFwXCIpLmNoZWNrZWQ/dGhpcy5zcGFuSW5XcmFwcGVkRGl2OnRoaXMuc3BhbkluVW53cmFwcGVkUHJlO3Njcm9sbEludG9WaWV3KGVsZW1lbnRUb1Njcm9sbCk7fWVsc2V7YWRkQ2xhc3ModGhpcy5zcGFuSW5NYWluRGl2LFwiY3VycmVudG1hdGNoXCIpO3Njcm9sbEludG9WaWV3KHRoaXMuc3BhbkluTWFpbkRpdik7fX0sYmVsb25nc1RvOmZ1bmN0aW9uKGxvZ0VudHJ5KXtpZihpc0llKXtyZXR1cm4gaXNEZXNjZW5kYW50KHRoaXMuc3BhbkluVW53cmFwcGVkUHJlLGxvZ0VudHJ5LnVud3JhcHBlZFByZSk7fWVsc2V7cmV0dXJuIGlzRGVzY2VuZGFudCh0aGlzLnNwYW5Jbk1haW5EaXYsbG9nRW50cnkubWFpbkRpdik7fX0sc2V0Tm90Q3VycmVudDpmdW5jdGlvbigpe2lmKGlzSWUpe3JlbW92ZUNsYXNzKHRoaXMuc3BhbkluVW53cmFwcGVkUHJlLFwiY3VycmVudG1hdGNoXCIpO3JlbW92ZUNsYXNzKHRoaXMuc3BhbkluV3JhcHBlZERpdixcImN1cnJlbnRtYXRjaFwiKTt9ZWxzZXtyZW1vdmVDbGFzcyh0aGlzLnNwYW5Jbk1haW5EaXYsXCJjdXJyZW50bWF0Y2hcIik7fX0saXNPcnBoYW46ZnVuY3Rpb24oKXtyZXR1cm4gaXNPcnBoYW4odGhpcy5tYWluU3Bhbik7fSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0Q2hlY2tCb3godGhpcy5sb2dFbnRyeUxldmVsKS5jaGVja2VkO30scmVtb3ZlOmZ1bmN0aW9uKCl7aWYoaXNJZSl7dGhpcy5zcGFuSW5VbndyYXBwZWRQcmU9bnVsbDt0aGlzLnNwYW5JbldyYXBwZWREaXY9bnVsbDt9ZWxzZXt0aGlzLnNwYW5Jbk1haW5EaXY9bnVsbDt9fX07dmFyIGN1cnJlbnRTZWFyY2g9bnVsbDt2YXIgY3VycmVudE1hdGNoSW5kZXg9bnVsbDtmdW5jdGlvbiBkb1NlYXJjaCgpe3ZhciBzZWFyY2hCb3g9JChcInNlYXJjaEJveFwiKTt2YXIgc2VhcmNoVGVybT1zZWFyY2hCb3gudmFsdWU7dmFyIGlzUmVnZXg9JChcInNlYXJjaFJlZ2V4XCIpLmNoZWNrZWQ7dmFyIGlzQ2FzZVNlbnNpdGl2ZT0kKFwic2VhcmNoQ2FzZVNlbnNpdGl2ZVwiKS5jaGVja2VkO3ZhciBpO2lmKHNlYXJjaFRlcm09PT1cIlwiKXskKFwic2VhcmNoUmVzZXRcIikuZGlzYWJsZWQ9dHJ1ZTskKFwic2VhcmNoTmF2XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7cmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSxcInNlYXJjaGluZ1wiKTtyZW1vdmVDbGFzcyhzZWFyY2hCb3gsXCJoYXNtYXRjaGVzXCIpO3JlbW92ZUNsYXNzKHNlYXJjaEJveCxcIm5vbWF0Y2hlc1wiKTtmb3IoaT0wO2k8bG9nRW50cmllcy5sZW5ndGg7aSsrKXtsb2dFbnRyaWVzW2ldLmNsZWFyU2VhcmNoKCk7bG9nRW50cmllc1tpXS5zZXRDb250ZW50KGxvZ0VudHJpZXNbaV0uZm9ybWF0dGVkTWVzc2FnZSxsb2dFbnRyaWVzW2ldLmZvcm1hdHRlZE1lc3NhZ2UpO30nLCdjdXJyZW50U2VhcmNoPW51bGw7c2V0TG9nQ29udGFpbmVySGVpZ2h0KCk7fWVsc2V7JChcInNlYXJjaFJlc2V0XCIpLmRpc2FibGVkPWZhbHNlOyQoXCJzZWFyY2hOYXZcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7dmFyIHNlYXJjaFJlZ2V4O3ZhciByZWdleFZhbGlkO2lmKGlzUmVnZXgpe3RyeXtzZWFyY2hSZWdleD1pc0Nhc2VTZW5zaXRpdmU/bmV3IFJlZ0V4cChzZWFyY2hUZXJtLFwiZ1wiKTpuZXcgUmVnRXhwKHNlYXJjaFRlcm0sXCJnaVwiKTtyZWdleFZhbGlkPXRydWU7cmVwbGFjZUNsYXNzKHNlYXJjaEJveCxcInZhbGlkcmVnZXhcIixcImludmFsaWRyZWdleFwiKTtzZWFyY2hCb3gudGl0bGU9XCJWYWxpZCByZWdleFwiO31jYXRjaChleCl7cmVnZXhWYWxpZD1mYWxzZTtyZXBsYWNlQ2xhc3Moc2VhcmNoQm94LFwiaW52YWxpZHJlZ2V4XCIsXCJ2YWxpZHJlZ2V4XCIpO3NlYXJjaEJveC50aXRsZT1cIkludmFsaWQgcmVnZXg6IFwiKyhleC5tZXNzYWdlP2V4Lm1lc3NhZ2U6KGV4LmRlc2NyaXB0aW9uP2V4LmRlc2NyaXB0aW9uOlwidW5rbm93biBlcnJvclwiKSk7cmV0dXJuO319ZWxzZXtzZWFyY2hCb3gudGl0bGU9XCJcIjtyZW1vdmVDbGFzcyhzZWFyY2hCb3gsXCJ2YWxpZHJlZ2V4XCIpO3JlbW92ZUNsYXNzKHNlYXJjaEJveCxcImludmFsaWRyZWdleFwiKTt9JywnYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSxcInNlYXJjaGluZ1wiKTtjdXJyZW50U2VhcmNoPW5ldyBTZWFyY2goc2VhcmNoVGVybSxpc1JlZ2V4LHNlYXJjaFJlZ2V4LGlzQ2FzZVNlbnNpdGl2ZSk7Zm9yKGk9MDtpPGxvZ0VudHJpZXMubGVuZ3RoO2krKyl7Y3VycmVudFNlYXJjaC5hcHBseVRvKGxvZ0VudHJpZXNbaV0pO30nLCdzZXRMb2dDb250YWluZXJIZWlnaHQoKTtpZihjdXJyZW50U2VhcmNoLmhhc1Zpc2libGVNYXRjaGVzKCkpe3NldEN1cnJlbnRNYXRjaEluZGV4KDApO2Rpc3BsYXlNYXRjaGVzKCk7fWVsc2V7ZGlzcGxheU5vTWF0Y2hlcygpO319fScsJ2Z1bmN0aW9uIHVwZGF0ZVNlYXJjaEZyb21GaWx0ZXJzKCl7aWYoY3VycmVudFNlYXJjaCl7aWYoY3VycmVudFNlYXJjaC5oYXNNYXRjaGVzKCkpe2lmKGN1cnJlbnRNYXRjaEluZGV4PT09bnVsbCl7Y3VycmVudE1hdGNoSW5kZXg9MDt9JywndmFyIGN1cnJlbnRNYXRjaD1jdXJyZW50U2VhcmNoLm1hdGNoZXNbY3VycmVudE1hdGNoSW5kZXhdO2lmKGN1cnJlbnRNYXRjaC5pc1Zpc2libGUoKSl7ZGlzcGxheU1hdGNoZXMoKTtzZXRDdXJyZW50TWF0Y2hJbmRleChjdXJyZW50TWF0Y2hJbmRleCk7fWVsc2V7Y3VycmVudE1hdGNoLnNldE5vdEN1cnJlbnQoKTt2YXIgbmV4dFZpc2libGVNYXRjaEluZGV4PWN1cnJlbnRTZWFyY2guZ2V0TmV4dFZpc2libGVNYXRjaEluZGV4KCk7aWYobmV4dFZpc2libGVNYXRjaEluZGV4Pi0xKXtzZXRDdXJyZW50TWF0Y2hJbmRleChuZXh0VmlzaWJsZU1hdGNoSW5kZXgpO2Rpc3BsYXlNYXRjaGVzKCk7fWVsc2V7ZGlzcGxheU5vTWF0Y2hlcygpO319fWVsc2V7ZGlzcGxheU5vTWF0Y2hlcygpO319fScsJ2Z1bmN0aW9uIHJlZnJlc2hDdXJyZW50TWF0Y2goKXtpZihjdXJyZW50U2VhcmNoJiZjdXJyZW50U2VhcmNoLmhhc1Zpc2libGVNYXRjaGVzKCkpe3NldEN1cnJlbnRNYXRjaEluZGV4KGN1cnJlbnRNYXRjaEluZGV4KTt9fScsJ2Z1bmN0aW9uIGRpc3BsYXlNYXRjaGVzKCl7cmVwbGFjZUNsYXNzKCQoXCJzZWFyY2hCb3hcIiksXCJoYXNtYXRjaGVzXCIsXCJub21hdGNoZXNcIik7JChcInNlYXJjaEJveFwiKS50aXRsZT1cIlwiK2N1cnJlbnRTZWFyY2gubWF0Y2hlcy5sZW5ndGgrXCIgbWF0Y2hlcyBmb3VuZFwiOyQoXCJzZWFyY2hOYXZcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7c2V0TG9nQ29udGFpbmVySGVpZ2h0KCk7fScsJ2Z1bmN0aW9uIGRpc3BsYXlOb01hdGNoZXMoKXtyZXBsYWNlQ2xhc3MoJChcInNlYXJjaEJveFwiKSxcIm5vbWF0Y2hlc1wiLFwiaGFzbWF0Y2hlc1wiKTskKFwic2VhcmNoQm94XCIpLnRpdGxlPVwiTm8gbWF0Y2hlcyBmb3VuZFwiOyQoXCJzZWFyY2hOYXZcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtzZXRMb2dDb250YWluZXJIZWlnaHQoKTt9JywnZnVuY3Rpb24gdG9nZ2xlU2VhcmNoRW5hYmxlZChlbmFibGUpe2VuYWJsZT0odHlwZW9mIGVuYWJsZT09XCJ1bmRlZmluZWRcIik/ISQoXCJzZWFyY2hEaXNhYmxlXCIpLmNoZWNrZWQ6ZW5hYmxlOyQoXCJzZWFyY2hCb3hcIikuZGlzYWJsZWQ9IWVuYWJsZTskKFwic2VhcmNoUmVzZXRcIikuZGlzYWJsZWQ9IWVuYWJsZTskKFwic2VhcmNoUmVnZXhcIikuZGlzYWJsZWQ9IWVuYWJsZTskKFwic2VhcmNoTmV4dFwiKS5kaXNhYmxlZD0hZW5hYmxlOyQoXCJzZWFyY2hQcmV2aW91c1wiKS5kaXNhYmxlZD0hZW5hYmxlOyQoXCJzZWFyY2hDYXNlU2Vuc2l0aXZlXCIpLmRpc2FibGVkPSFlbmFibGU7JChcInNlYXJjaE5hdlwiKS5zdHlsZS5kaXNwbGF5PShlbmFibGUmJigkKFwic2VhcmNoQm94XCIpLnZhbHVlIT09XCJcIikmJmN1cnJlbnRTZWFyY2gmJmN1cnJlbnRTZWFyY2guaGFzVmlzaWJsZU1hdGNoZXMoKSk/XCJibG9ja1wiOlwibm9uZVwiO2lmKGVuYWJsZSl7cmVtb3ZlQ2xhc3MoJChcInNlYXJjaFwiKSxcImdyZXllZG91dFwiKTthZGRDbGFzcyhkb2N1bWVudC5ib2R5LFwic2VhcmNoaW5nXCIpO2lmKCQoXCJzZWFyY2hIaWdobGlnaHRcIikuY2hlY2tlZCl7YWRkQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixcInNlYXJjaGhpZ2hsaWdodFwiKTt9ZWxzZXtyZW1vdmVDbGFzcyhsb2dNYWluQ29udGFpbmVyLFwic2VhcmNoaGlnaGxpZ2h0XCIpO30nLCdpZigkKFwic2VhcmNoRmlsdGVyXCIpLmNoZWNrZWQpe2FkZENsYXNzKGxvZ01haW5Db250YWluZXIsXCJzZWFyY2hmaWx0ZXJcIik7fWVsc2V7cmVtb3ZlQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixcInNlYXJjaGZpbHRlclwiKTt9JywnJChcInNlYXJjaERpc2FibGVcIikuY2hlY2tlZD0hZW5hYmxlO31lbHNle2FkZENsYXNzKCQoXCJzZWFyY2hcIiksXCJncmV5ZWRvdXRcIik7cmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSxcInNlYXJjaGluZ1wiKTtyZW1vdmVDbGFzcyhsb2dNYWluQ29udGFpbmVyLFwic2VhcmNoaGlnaGxpZ2h0XCIpO3JlbW92ZUNsYXNzKGxvZ01haW5Db250YWluZXIsXCJzZWFyY2hmaWx0ZXJcIik7fScsJ3NldExvZ0NvbnRhaW5lckhlaWdodCgpO30nLCdmdW5jdGlvbiB0b2dnbGVTZWFyY2hGaWx0ZXIoKXt2YXIgZW5hYmxlPSQoXCJzZWFyY2hGaWx0ZXJcIikuY2hlY2tlZDtpZihlbmFibGUpe2FkZENsYXNzKGxvZ01haW5Db250YWluZXIsXCJzZWFyY2hmaWx0ZXJcIik7fWVsc2V7cmVtb3ZlQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixcInNlYXJjaGZpbHRlclwiKTt9JywncmVmcmVzaEN1cnJlbnRNYXRjaCgpO30nLCdmdW5jdGlvbiB0b2dnbGVTZWFyY2hIaWdobGlnaHQoKXt2YXIgZW5hYmxlPSQoXCJzZWFyY2hIaWdobGlnaHRcIikuY2hlY2tlZDtpZihlbmFibGUpe2FkZENsYXNzKGxvZ01haW5Db250YWluZXIsXCJzZWFyY2hoaWdobGlnaHRcIik7fWVsc2V7cmVtb3ZlQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixcInNlYXJjaGhpZ2hsaWdodFwiKTt9fScsJ2Z1bmN0aW9uIGNsZWFyU2VhcmNoKCl7JChcInNlYXJjaEJveFwiKS52YWx1ZT1cIlwiO2RvU2VhcmNoKCk7fScsJ2Z1bmN0aW9uIHNlYXJjaE5leHQoKXtpZihjdXJyZW50U2VhcmNoIT09bnVsbCYmY3VycmVudE1hdGNoSW5kZXghPT1udWxsKXtjdXJyZW50U2VhcmNoLm1hdGNoZXNbY3VycmVudE1hdGNoSW5kZXhdLnNldE5vdEN1cnJlbnQoKTt2YXIgbmV4dE1hdGNoSW5kZXg9Y3VycmVudFNlYXJjaC5nZXROZXh0VmlzaWJsZU1hdGNoSW5kZXgoKTtpZihuZXh0TWF0Y2hJbmRleD5jdXJyZW50TWF0Y2hJbmRleHx8Y29uZmlybShcIlJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgcGFnZS4gU3RhcnQgZnJvbSB0aGUgdG9wP1wiKSl7c2V0Q3VycmVudE1hdGNoSW5kZXgobmV4dE1hdGNoSW5kZXgpO319fScsJ2Z1bmN0aW9uIHNlYXJjaFByZXZpb3VzKCl7aWYoY3VycmVudFNlYXJjaCE9PW51bGwmJmN1cnJlbnRNYXRjaEluZGV4IT09bnVsbCl7Y3VycmVudFNlYXJjaC5tYXRjaGVzW2N1cnJlbnRNYXRjaEluZGV4XS5zZXROb3RDdXJyZW50KCk7dmFyIHByZXZpb3VzTWF0Y2hJbmRleD1jdXJyZW50U2VhcmNoLmdldFByZXZpb3VzVmlzaWJsZU1hdGNoSW5kZXgoKTtpZihwcmV2aW91c01hdGNoSW5kZXg8Y3VycmVudE1hdGNoSW5kZXh8fGNvbmZpcm0oXCJSZWFjaGVkIHRoZSBzdGFydCBvZiB0aGUgcGFnZS4gQ29udGludWUgZnJvbSB0aGUgYm90dG9tP1wiKSl7c2V0Q3VycmVudE1hdGNoSW5kZXgocHJldmlvdXNNYXRjaEluZGV4KTt9fX0nLCdmdW5jdGlvbiBzZXRDdXJyZW50TWF0Y2hJbmRleChpbmRleCl7Y3VycmVudE1hdGNoSW5kZXg9aW5kZXg7Y3VycmVudFNlYXJjaC5tYXRjaGVzW2N1cnJlbnRNYXRjaEluZGV4XS5zZXRDdXJyZW50KCk7fScsJ2Z1bmN0aW9uIGFkZENsYXNzKGVsLGNzc0NsYXNzKXtpZighaGFzQ2xhc3MoZWwsY3NzQ2xhc3MpKXtpZihlbC5jbGFzc05hbWUpe2VsLmNsYXNzTmFtZSs9XCIgXCIrY3NzQ2xhc3M7fWVsc2V7ZWwuY2xhc3NOYW1lPWNzc0NsYXNzO319fScsJ2Z1bmN0aW9uIGhhc0NsYXNzKGVsLGNzc0NsYXNzKXtpZihlbC5jbGFzc05hbWUpe3ZhciBjbGFzc05hbWVzPWVsLmNsYXNzTmFtZS5zcGxpdChcIiBcIik7cmV0dXJuIGFycmF5X2NvbnRhaW5zKGNsYXNzTmFtZXMsY3NzQ2xhc3MpO30nLCdyZXR1cm4gZmFsc2U7fScsJ2Z1bmN0aW9uIHJlbW92ZUNsYXNzKGVsLGNzc0NsYXNzKXtpZihoYXNDbGFzcyhlbCxjc3NDbGFzcykpe3ZhciBleGlzdGluZ0NsYXNzZXM9ZWwuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKTt2YXIgbmV3Q2xhc3Nlcz1bXTtmb3IodmFyIGk9MCxsZW49ZXhpc3RpbmdDbGFzc2VzLmxlbmd0aDtpPGxlbjtpKyspe2lmKGV4aXN0aW5nQ2xhc3Nlc1tpXSE9Y3NzQ2xhc3Mpe25ld0NsYXNzZXNbbmV3Q2xhc3Nlcy5sZW5ndGhdPWV4aXN0aW5nQ2xhc3Nlc1tpXTt9fScsJ2VsLmNsYXNzTmFtZT1uZXdDbGFzc2VzLmpvaW4oXCIgXCIpO319JywnZnVuY3Rpb24gcmVwbGFjZUNsYXNzKGVsLG5ld0Nzc0NsYXNzLG9sZENzc0NsYXNzKXtyZW1vdmVDbGFzcyhlbCxvbGRDc3NDbGFzcyk7YWRkQ2xhc3MoZWwsbmV3Q3NzQ2xhc3MpO30nLCdmdW5jdGlvbiBnZXRFbGVtZW50c0J5Q2xhc3MoZWwsY3NzQ2xhc3MsdGFnTmFtZSl7dmFyIGVsZW1lbnRzPWVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpO3ZhciBtYXRjaGVzPVtdO2Zvcih2YXIgaT0wLGxlbj1lbGVtZW50cy5sZW5ndGg7aTxsZW47aSsrKXtpZihoYXNDbGFzcyhlbGVtZW50c1tpXSxjc3NDbGFzcykpe21hdGNoZXMucHVzaChlbGVtZW50c1tpXSk7fX0nLCdyZXR1cm4gbWF0Y2hlczt9JywnZnVuY3Rpb24gJChpZCl7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTt9JywnZnVuY3Rpb24gaXNEZXNjZW5kYW50KG5vZGUsYW5jZXN0b3JOb2RlKXt3aGlsZShub2RlIT1udWxsKXtpZihub2RlPT09YW5jZXN0b3JOb2RlKXtyZXR1cm4gdHJ1ZTt9Jywnbm9kZT1ub2RlLnBhcmVudE5vZGU7fScsJ3JldHVybiBmYWxzZTt9JywnZnVuY3Rpb24gaXNPcnBoYW4obm9kZSl7dmFyIGN1cnJlbnROb2RlPW5vZGU7d2hpbGUoY3VycmVudE5vZGUpe2lmKGN1cnJlbnROb2RlPT1kb2N1bWVudC5ib2R5KXtyZXR1cm4gZmFsc2U7fScsJ2N1cnJlbnROb2RlPWN1cnJlbnROb2RlLnBhcmVudE5vZGU7fScsJ3JldHVybiB0cnVlO30nLCdmdW5jdGlvbiBlc2NhcGVIdG1sKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKC9bPF0vZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKTt9JywnZnVuY3Rpb24gZ2V0V2luZG93V2lkdGgoKXtpZih3aW5kb3cuaW5uZXJXaWR0aCl7cmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoO31lbHNlIGlmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKXtyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO31lbHNlIGlmKGRvY3VtZW50LmJvZHkpe3JldHVybiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO30nLCdyZXR1cm4gMDt9JywnZnVuY3Rpb24gZ2V0V2luZG93SGVpZ2h0KCl7aWYod2luZG93LmlubmVySGVpZ2h0KXtyZXR1cm4gd2luZG93LmlubmVySGVpZ2h0O31lbHNlIGlmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCl7cmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7fWVsc2UgaWYoZG9jdW1lbnQuYm9keSl7cmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O30nLCdyZXR1cm4gMDt9JywnZnVuY3Rpb24gZ2V0VG9vbEJhcnNIZWlnaHQoKXtyZXR1cm4gJChcInN3aXRjaGVzXCIpLm9mZnNldEhlaWdodDt9JywnZnVuY3Rpb24gZ2V0Q2hyb21lSGVpZ2h0KCl7dmFyIGhlaWdodD1nZXRUb29sQmFyc0hlaWdodCgpO2lmKHNob3dDb21tYW5kTGluZSl7aGVpZ2h0Kz0kKFwiY29tbWFuZExpbmVcIikub2Zmc2V0SGVpZ2h0O30nLCdyZXR1cm4gaGVpZ2h0O30nLCdmdW5jdGlvbiBzZXRMb2dDb250YWluZXJIZWlnaHQoKXtpZihsb2dNYWluQ29udGFpbmVyKXt2YXIgd2luZG93SGVpZ2h0PWdldFdpbmRvd0hlaWdodCgpOyQoXCJib2R5XCIpLnN0eWxlLmhlaWdodD1nZXRXaW5kb3dIZWlnaHQoKStcInB4XCI7bG9nTWFpbkNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9XCJcIisnLCdNYXRoLm1heCgwLHdpbmRvd0hlaWdodC1nZXRDaHJvbWVIZWlnaHQoKSkrXCJweFwiO319JywnZnVuY3Rpb24gc2V0Q29tbWFuZElucHV0V2lkdGgoKXtpZihzaG93Q29tbWFuZExpbmUpeyQoXCJjb21tYW5kXCIpLnN0eWxlLndpZHRoPVwiXCIrTWF0aC5tYXgoMCwkKFwiY29tbWFuZExpbmVDb250YWluZXJcIikub2Zmc2V0V2lkdGgtJywnKCQoXCJldmFsdWF0ZUJ1dHRvblwiKS5vZmZzZXRXaWR0aCsxMykpK1wicHhcIjt9fScsJ3dpbmRvdy5vbnJlc2l6ZT1mdW5jdGlvbigpe3NldENvbW1hbmRJbnB1dFdpZHRoKCk7c2V0TG9nQ29udGFpbmVySGVpZ2h0KCk7fTtpZighQXJyYXkucHJvdG90eXBlLnB1c2gpe0FycmF5LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBpPTAsbGVuPWFyZ3VtZW50cy5sZW5ndGg7aTxsZW47aSsrKXt0aGlzW3RoaXMubGVuZ3RoXT1hcmd1bWVudHNbaV07fScsJ3JldHVybiB0aGlzLmxlbmd0aDt9O30nLCdpZighQXJyYXkucHJvdG90eXBlLnBvcCl7QXJyYXkucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoPjApe3ZhciB2YWw9dGhpc1t0aGlzLmxlbmd0aC0xXTt0aGlzLmxlbmd0aD10aGlzLmxlbmd0aC0xO3JldHVybiB2YWw7fX07fScsJ2lmKCFBcnJheS5wcm90b3R5cGUuc2hpZnQpe0FycmF5LnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoPjApe3ZhciBmaXJzdEl0ZW09dGhpc1swXTtmb3IodmFyIGk9MCxsZW49dGhpcy5sZW5ndGgtMTtpPGxlbjtpKyspe3RoaXNbaV09dGhpc1tpKzFdO30nLCd0aGlzLmxlbmd0aD10aGlzLmxlbmd0aC0xO3JldHVybiBmaXJzdEl0ZW07fX07fScsJ2lmKCFBcnJheS5wcm90b3R5cGUuc3BsaWNlKXtBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKHN0YXJ0SW5kZXgsZGVsZXRlQ291bnQpe3ZhciBpdGVtc0FmdGVyRGVsZXRlZD10aGlzLnNsaWNlKHN0YXJ0SW5kZXgrZGVsZXRlQ291bnQpO3ZhciBpdGVtc0RlbGV0ZWQ9dGhpcy5zbGljZShzdGFydEluZGV4LHN0YXJ0SW5kZXgrZGVsZXRlQ291bnQpO3RoaXMubGVuZ3RoPXN0YXJ0SW5kZXg7dmFyIGFyZ3VtZW50c0FycmF5PVtdO2Zvcih2YXIgaT0wLGxlbj1hcmd1bWVudHMubGVuZ3RoO2k8bGVuO2krKyl7YXJndW1lbnRzQXJyYXlbaV09YXJndW1lbnRzW2ldO30nLCd2YXIgaXRlbXNUb0FwcGVuZD0oYXJndW1lbnRzQXJyYXkubGVuZ3RoPjIpP2l0ZW1zQWZ0ZXJEZWxldGVkPWFyZ3VtZW50c0FycmF5LnNsaWNlKDIpLmNvbmNhdChpdGVtc0FmdGVyRGVsZXRlZCk6aXRlbXNBZnRlckRlbGV0ZWQ7Zm9yKGk9MCxsZW49aXRlbXNUb0FwcGVuZC5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLnB1c2goaXRlbXNUb0FwcGVuZFtpXSk7fScsJ3JldHVybiBpdGVtc0RlbGV0ZWQ7fTt9JywnZnVuY3Rpb24gYXJyYXlfcmVtb3ZlKGFycix2YWwpe3ZhciBpbmRleD0tMTtmb3IodmFyIGk9MCxsZW49YXJyLmxlbmd0aDtpPGxlbjtpKyspe2lmKGFycltpXT09PXZhbCl7aW5kZXg9aTticmVhazt9fScsJ2lmKGluZGV4Pj0wKXthcnIuc3BsaWNlKGluZGV4LDEpO3JldHVybiBpbmRleDt9ZWxzZXtyZXR1cm4gZmFsc2U7fX0nLCdmdW5jdGlvbiBhcnJheV9yZW1vdmVGcm9tU3RhcnQoYXJyYXksbnVtYmVyVG9SZW1vdmUpe2lmKEFycmF5LnByb3RvdHlwZS5zcGxpY2Upe2FycmF5LnNwbGljZSgwLG51bWJlclRvUmVtb3ZlKTt9ZWxzZXtmb3IodmFyIGk9bnVtYmVyVG9SZW1vdmUsbGVuPWFycmF5Lmxlbmd0aDtpPGxlbjtpKyspe2FycmF5W2ktbnVtYmVyVG9SZW1vdmVdPWFycmF5W2ldO30nLCdhcnJheS5sZW5ndGg9YXJyYXkubGVuZ3RoLW51bWJlclRvUmVtb3ZlO30nLCdyZXR1cm4gYXJyYXk7fScsJ2Z1bmN0aW9uIGFycmF5X2NvbnRhaW5zKGFycix2YWwpe2Zvcih2YXIgaT0wLGxlbj1hcnIubGVuZ3RoO2k8bGVuO2krKyl7aWYoYXJyW2ldPT12YWwpe3JldHVybiB0cnVlO319JywncmV0dXJuIGZhbHNlO30nLCdmdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoZXgpe2lmKGV4Lm1lc3NhZ2Upe3JldHVybiBleC5tZXNzYWdlO31lbHNlIGlmKGV4LmRlc2NyaXB0aW9uKXtyZXR1cm4gZXguZGVzY3JpcHRpb247fScsJ3JldHVyblwiXCIrZXg7fScsJ2Z1bmN0aW9uIG1vdmVDYXJldFRvRW5kKGlucHV0KXtpZihpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSl7aW5wdXQuZm9jdXMoKTt2YXIgbGVuZ3RoPWlucHV0LnZhbHVlLmxlbmd0aDtpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZShsZW5ndGgsbGVuZ3RoKTt9ZWxzZSBpZihpbnB1dC5jcmVhdGVUZXh0UmFuZ2Upe3ZhciByYW5nZT1pbnB1dC5jcmVhdGVUZXh0UmFuZ2UoKTtyYW5nZS5jb2xsYXBzZShmYWxzZSk7cmFuZ2Uuc2VsZWN0KCk7fScsJ2lucHV0LmZvY3VzKCk7fScsJ2Z1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihldnQpe2lmKGV2dC5zdG9wUHJvcGFnYXRpb24pe2V2dC5zdG9wUHJvcGFnYXRpb24oKTt9ZWxzZSBpZih0eXBlb2YgZXZ0LmNhbmNlbEJ1YmJsZSE9XCJ1bmRlZmluZWRcIil7ZXZ0LmNhbmNlbEJ1YmJsZT10cnVlO319JywnZnVuY3Rpb24gZ2V0RXZlbnQoZXZ0KXtyZXR1cm4gZXZ0P2V2dDpldmVudDt9JywnZnVuY3Rpb24gZ2V0VGFyZ2V0KGV2dCl7cmV0dXJuIGV2dC50YXJnZXQ/ZXZ0LnRhcmdldDpldnQuc3JjRWxlbWVudDt9JywnZnVuY3Rpb24gZ2V0UmVsYXRlZFRhcmdldChldnQpe2lmKGV2dC5yZWxhdGVkVGFyZ2V0KXtyZXR1cm4gZXZ0LnJlbGF0ZWRUYXJnZXQ7fWVsc2UgaWYoZXZ0LnNyY0VsZW1lbnQpe3N3aXRjaChldnQudHlwZSl7Y2FzZVwibW91c2VvdmVyXCI6cmV0dXJuIGV2dC5mcm9tRWxlbWVudDtjYXNlXCJtb3VzZW91dFwiOnJldHVybiBldnQudG9FbGVtZW50O2RlZmF1bHQ6cmV0dXJuIGV2dC5zcmNFbGVtZW50O319fScsJ2Z1bmN0aW9uIGNhbmNlbEtleUV2ZW50KGV2dCl7ZXZ0LnJldHVyblZhbHVlPWZhbHNlO3N0b3BQcm9wYWdhdGlvbihldnQpO30nLCdmdW5jdGlvbiBldmFsQ29tbWFuZExpbmUoKXt2YXIgZXhwcj0kKFwiY29tbWFuZFwiKS52YWx1ZTtldmFsQ29tbWFuZChleHByKTskKFwiY29tbWFuZFwiKS52YWx1ZT1cIlwiO30nLCdmdW5jdGlvbiBldmFsTGFzdENvbW1hbmQoKXtpZihsYXN0Q29tbWFuZCE9bnVsbCl7ZXZhbENvbW1hbmQobGFzdENvbW1hbmQpO319JywndmFyIGxhc3RDb21tYW5kPW51bGw7dmFyIGNvbW1hbmRIaXN0b3J5PVtdO3ZhciBjdXJyZW50Q29tbWFuZEluZGV4PTA7ZnVuY3Rpb24gZXZhbENvbW1hbmQoZXhwcil7aWYoYXBwZW5kZXIpe2FwcGVuZGVyLmV2YWxDb21tYW5kQW5kQXBwZW5kKGV4cHIpO31lbHNle3ZhciBwcmVmaXg9XCI+Pj4gXCIrZXhwcitcIlxcXFxyXFxcXG5cIjt0cnl7bG9nKFwiSU5GT1wiLHByZWZpeCtldmFsKGV4cHIpKTt9Y2F0Y2goZXgpe2xvZyhcIkVSUk9SXCIscHJlZml4K1wiRXJyb3I6IFwiK2dldEVycm9yTWVzc2FnZShleCkpO319JywnaWYoZXhwciE9Y29tbWFuZEhpc3RvcnlbY29tbWFuZEhpc3RvcnkubGVuZ3RoLTFdKXtjb21tYW5kSGlzdG9yeS5wdXNoKGV4cHIpO2lmKGFwcGVuZGVyKXthcHBlbmRlci5zdG9yZUNvbW1hbmRIaXN0b3J5KGNvbW1hbmRIaXN0b3J5KTt9fScsJ2N1cnJlbnRDb21tYW5kSW5kZXg9KGV4cHI9PWNvbW1hbmRIaXN0b3J5W2N1cnJlbnRDb21tYW5kSW5kZXhdKT9jdXJyZW50Q29tbWFuZEluZGV4KzE6Y29tbWFuZEhpc3RvcnkubGVuZ3RoO2xhc3RDb21tYW5kPWV4cHI7fScsJy8vXV0+JywnPC9zY3JpcHQ+JywnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPicsJ2JvZHl7YmFja2dyb3VuZC1jb2xvcjp3aGl0ZTtjb2xvcjpibGFjaztwYWRkaW5nOjA7bWFyZ2luOjA7Zm9udC1mYW1pbHk6dGFob21hLHZlcmRhbmEsYXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWY7b3ZlcmZsb3c6aGlkZGVufWRpdiNzd2l0Y2hlc0NvbnRhaW5lciBpbnB1dHttYXJnaW4tYm90dG9tOjB9ZGl2LnRvb2xiYXJ7Ym9yZGVyLXRvcDpzb2xpZCAjZmZmZmZmIDFweDtib3JkZXItYm90dG9tOnNvbGlkICNhY2E4OTkgMXB4O2JhY2tncm91bmQtY29sb3I6I2YxZWZlNztwYWRkaW5nOjNweCA1cHg7Zm9udC1zaXplOjY4Ljc1JX1kaXYudG9vbGJhcixkaXYjc2VhcmNoIGlucHV0e2ZvbnQtZmFtaWx5OnRhaG9tYSx2ZXJkYW5hLGFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmfWRpdi50b29sYmFyIGlucHV0LmJ1dHRvbntwYWRkaW5nOjAgNXB4O2ZvbnQtc2l6ZToxMDAlfWRpdi50b29sYmFyIGlucHV0LmhpZGRlbntkaXNwbGF5Om5vbmV9ZGl2I3N3aXRjaGVzIGlucHV0I2NsZWFyQnV0dG9ue21hcmdpbi1sZWZ0OjIwcHh9ZGl2I2xldmVscyBsYWJlbHtmb250LXdlaWdodDpib2xkfWRpdiNsZXZlbHMgbGFiZWwsZGl2I29wdGlvbnMgbGFiZWx7bWFyZ2luLXJpZ2h0OjVweH1kaXYjbGV2ZWxzIGxhYmVsI3dyYXBMYWJlbHtmb250LXdlaWdodDpub3JtYWx9ZGl2I3NlYXJjaCBsYWJlbHttYXJnaW4tcmlnaHQ6MTBweH1kaXYjc2VhcmNoIGxhYmVsLnNlYXJjaGJveGxhYmVse21hcmdpbi1yaWdodDowfWRpdiNzZWFyY2ggaW5wdXR7Zm9udC1zaXplOjEwMCV9ZGl2I3NlYXJjaCBpbnB1dC52YWxpZHJlZ2V4e2NvbG9yOmdyZWVufWRpdiNzZWFyY2ggaW5wdXQuaW52YWxpZHJlZ2V4e2NvbG9yOnJlZH1kaXYjc2VhcmNoIGlucHV0Lm5vbWF0Y2hlc3tjb2xvcjp3aGl0ZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZjY2NjZ9ZGl2I3NlYXJjaCBpbnB1dC5ub21hdGNoZXN7Y29sb3I6d2hpdGU7YmFja2dyb3VuZC1jb2xvcjojZmY2NjY2fWRpdiNzZWFyY2hOYXZ7ZGlzcGxheTpub25lfWRpdiNjb21tYW5kTGluZXtkaXNwbGF5Om5vbmV9ZGl2I2NvbW1hbmRMaW5lIGlucHV0I2NvbW1hbmR7Zm9udC1zaXplOjEwMCU7Zm9udC1mYW1pbHk6Q291cmllciBOZXcsQ291cmllcn1kaXYjY29tbWFuZExpbmUgaW5wdXQjZXZhbHVhdGVCdXR0b257fSouZ3JleWVkb3V0e2NvbG9yOmdyYXkgIWltcG9ydGFudDtib3JkZXItY29sb3I6Z3JheSAhaW1wb3J0YW50fSouZ3JleWVkb3V0ICouYWx3YXlzZW5hYmxlZHtjb2xvcjpibGFja30qLnVuc2VsZWN0YWJsZXsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX1kaXYjbG9ne2ZvbnQtZmFtaWx5OkNvdXJpZXIgTmV3LENvdXJpZXI7Zm9udC1zaXplOjc1JTt3aWR0aDoxMDAlO292ZXJmbG93OmF1dG87Y2xlYXI6Ym90aDtwb3NpdGlvbjpyZWxhdGl2ZX1kaXYuZ3JvdXB7Ym9yZGVyLWNvbG9yOiNjY2NjY2M7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci13aWR0aDoxcHggMCAxcHggMXB4O292ZXJmbG93OnZpc2libGV9ZGl2Lm9sZEllIGRpdi5ncm91cCxkaXYub2xkSWUgZGl2Lmdyb3VwICosZGl2Lm9sZEllICoubG9nZW50cnl7aGVpZ2h0OjElfWRpdi5ncm91cCBkaXYuZ3JvdXBoZWFkaW5nIHNwYW4uZXhwYW5kZXJ7Ym9yZGVyOnNvbGlkIGJsYWNrIDFweDtmb250LWZhbWlseTpDb3VyaWVyIE5ldyxDb3VyaWVyO2ZvbnQtc2l6ZTowLjgzM2VtO2JhY2tncm91bmQtY29sb3I6I2VlZWVlZTtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6LTFweDtjb2xvcjpibGFjaztwYWRkaW5nOjAgMnB4O2N1cnNvcjpwb2ludGVyO2N1cnNvcjpoYW5kO2hlaWdodDoxJX1kaXYuZ3JvdXAgZGl2Lmdyb3VwY29udGVudHttYXJnaW4tbGVmdDoxMHB4O3BhZGRpbmctYm90dG9tOjJweDtvdmVyZmxvdzp2aXNpYmxlfWRpdi5ncm91cCBkaXYuZXhwYW5kZWR7ZGlzcGxheTpibG9ja31kaXYuZ3JvdXAgZGl2LmNvbGxhcHNlZHtkaXNwbGF5Om5vbmV9Ki5sb2dlbnRyeXtvdmVyZmxvdzp2aXNpYmxlO2Rpc3BsYXk6bm9uZTt3aGl0ZS1zcGFjZTpwcmV9c3Bhbi5wcmV7d2hpdGUtc3BhY2U6cHJlfXByZS51bndyYXBwZWR7ZGlzcGxheTppbmxpbmUgIWltcG9ydGFudH1wcmUudW53cmFwcGVkIHByZS5wcmUsZGl2LndyYXBwZWQgcHJlLnByZXtkaXNwbGF5OmlubGluZX1kaXYud3JhcHBlZCBwcmUucHJle3doaXRlLXNwYWNlOm5vcm1hbH1kaXYud3JhcHBlZHtkaXNwbGF5Om5vbmV9Ym9keS5zZWFyY2hpbmcgKi5sb2dlbnRyeSBzcGFuLmN1cnJlbnRtYXRjaHtjb2xvcjp3aGl0ZSAhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6Z3JlZW4gIWltcG9ydGFudH1ib2R5LnNlYXJjaGluZyBkaXYuc2VhcmNoaGlnaGxpZ2h0ICoubG9nZW50cnkgc3Bhbi5zZWFyY2h0ZXJte2NvbG9yOmJsYWNrO2JhY2tncm91bmQtY29sb3I6eWVsbG93fWRpdi53cmFwICoubG9nZW50cnl7d2hpdGUtc3BhY2U6bm9ybWFsICFpbXBvcnRhbnQ7Ym9yZGVyLXdpZHRoOjAgMCAxcHggMDtib3JkZXItY29sb3I6I2RkZGRkZDtib3JkZXItc3R5bGU6ZG90dGVkfWRpdi53cmFwICNsb2dfd3JhcHBlZCwjbG9nX3Vud3JhcHBlZHtkaXNwbGF5OmJsb2NrfWRpdi53cmFwICNsb2dfdW53cmFwcGVkLCNsb2dfd3JhcHBlZHtkaXNwbGF5Om5vbmV9ZGl2LndyYXAgKi5sb2dlbnRyeSBzcGFuLnByZXtvdmVyZmxvdzp2aXNpYmxlO3doaXRlLXNwYWNlOm5vcm1hbH1kaXYud3JhcCAqLmxvZ2VudHJ5IHByZS51bndyYXBwZWR7ZGlzcGxheTpub25lfWRpdi53cmFwICoubG9nZW50cnkgc3Bhbi53cmFwcGVke2Rpc3BsYXk6aW5saW5lfWRpdi5zZWFyY2hmaWx0ZXIgKi5zZWFyY2hub25tYXRjaHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH1kaXYjbG9nICouVFJBQ0UsbGFiZWwjbGFiZWxfVFJBQ0V7Y29sb3I6IzY2NjY2Nn1kaXYjbG9nICouREVCVUcsbGFiZWwjbGFiZWxfREVCVUd7Y29sb3I6Z3JlZW59ZGl2I2xvZyAqLklORk8sbGFiZWwjbGFiZWxfSU5GT3tjb2xvcjojMDAwMDk5fWRpdiNsb2cgKi5XQVJOLGxhYmVsI2xhYmVsX1dBUk57Y29sb3I6Izk5OTkwMH1kaXYjbG9nICouRVJST1IsbGFiZWwjbGFiZWxfRVJST1J7Y29sb3I6cmVkfWRpdiNsb2cgKi5GQVRBTCxsYWJlbCNsYWJlbF9GQVRBTHtjb2xvcjojNjYwMDY2fWRpdi5UUkFDRSNsb2cgKi5UUkFDRSxkaXYuREVCVUcjbG9nICouREVCVUcsZGl2LklORk8jbG9nICouSU5GTyxkaXYuV0FSTiNsb2cgKi5XQVJOLGRpdi5FUlJPUiNsb2cgKi5FUlJPUixkaXYuRkFUQUwjbG9nICouRkFUQUx7ZGlzcGxheTpibG9ja31kaXYjbG9nIGRpdi5zZXBhcmF0b3J7YmFja2dyb3VuZC1jb2xvcjojY2NjY2NjO21hcmdpbjo1cHggMDtsaW5lLWhlaWdodDoxcHh9JywnPC9zdHlsZT4nLCc8L2hlYWQ+JywnPGJvZHkgaWQ9XCJib2R5XCI+JywnPGRpdiBpZD1cInN3aXRjaGVzQ29udGFpbmVyXCI+JywnPGRpdiBpZD1cInN3aXRjaGVzXCI+JywnPGRpdiBpZD1cImxldmVsc1wiIGNsYXNzPVwidG9vbGJhclwiPicsJ0ZpbHRlcnM6JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwic3dpdGNoX1RSQUNFXCIgb25jbGljaz1cImFwcGx5RmlsdGVycygpOyBjaGVja0FsbExldmVscygpXCIgY2hlY2tlZD1cImNoZWNrZWRcIiB0aXRsZT1cIlNob3cvaGlkZSB0cmFjZSBtZXNzYWdlc1wiIC8+PGxhYmVsIGZvcj1cInN3aXRjaF9UUkFDRVwiIGlkPVwibGFiZWxfVFJBQ0VcIj50cmFjZTwvbGFiZWw+JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwic3dpdGNoX0RFQlVHXCIgb25jbGljaz1cImFwcGx5RmlsdGVycygpOyBjaGVja0FsbExldmVscygpXCIgY2hlY2tlZD1cImNoZWNrZWRcIiB0aXRsZT1cIlNob3cvaGlkZSBkZWJ1ZyBtZXNzYWdlc1wiIC8+PGxhYmVsIGZvcj1cInN3aXRjaF9ERUJVR1wiIGlkPVwibGFiZWxfREVCVUdcIj5kZWJ1ZzwvbGFiZWw+JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwic3dpdGNoX0lORk9cIiBvbmNsaWNrPVwiYXBwbHlGaWx0ZXJzKCk7IGNoZWNrQWxsTGV2ZWxzKClcIiBjaGVja2VkPVwiY2hlY2tlZFwiIHRpdGxlPVwiU2hvdy9oaWRlIGluZm8gbWVzc2FnZXNcIiAvPjxsYWJlbCBmb3I9XCJzd2l0Y2hfSU5GT1wiIGlkPVwibGFiZWxfSU5GT1wiPmluZm88L2xhYmVsPicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInN3aXRjaF9XQVJOXCIgb25jbGljaz1cImFwcGx5RmlsdGVycygpOyBjaGVja0FsbExldmVscygpXCIgY2hlY2tlZD1cImNoZWNrZWRcIiB0aXRsZT1cIlNob3cvaGlkZSB3YXJuIG1lc3NhZ2VzXCIgLz48bGFiZWwgZm9yPVwic3dpdGNoX1dBUk5cIiBpZD1cImxhYmVsX1dBUk5cIj53YXJuPC9sYWJlbD4nLCc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJzd2l0Y2hfRVJST1JcIiBvbmNsaWNrPVwiYXBwbHlGaWx0ZXJzKCk7IGNoZWNrQWxsTGV2ZWxzKClcIiBjaGVja2VkPVwiY2hlY2tlZFwiIHRpdGxlPVwiU2hvdy9oaWRlIGVycm9yIG1lc3NhZ2VzXCIgLz48bGFiZWwgZm9yPVwic3dpdGNoX0VSUk9SXCIgaWQ9XCJsYWJlbF9FUlJPUlwiPmVycm9yPC9sYWJlbD4nLCc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJzd2l0Y2hfRkFUQUxcIiBvbmNsaWNrPVwiYXBwbHlGaWx0ZXJzKCk7IGNoZWNrQWxsTGV2ZWxzKClcIiBjaGVja2VkPVwiY2hlY2tlZFwiIHRpdGxlPVwiU2hvdy9oaWRlIGZhdGFsIG1lc3NhZ2VzXCIgLz48bGFiZWwgZm9yPVwic3dpdGNoX0ZBVEFMXCIgaWQ9XCJsYWJlbF9GQVRBTFwiPmZhdGFsPC9sYWJlbD4nLCc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJzd2l0Y2hfQUxMXCIgb25jbGljaz1cInRvZ2dsZUFsbExldmVscygpOyBhcHBseUZpbHRlcnMoKVwiIGNoZWNrZWQ9XCJjaGVja2VkXCIgdGl0bGU9XCJTaG93L2hpZGUgYWxsIG1lc3NhZ2VzXCIgLz48bGFiZWwgZm9yPVwic3dpdGNoX0FMTFwiIGlkPVwibGFiZWxfQUxMXCI+YWxsPC9sYWJlbD4nLCc8L2Rpdj4nLCc8ZGl2IGlkPVwic2VhcmNoXCIgY2xhc3M9XCJ0b29sYmFyXCI+JywnPGxhYmVsIGZvcj1cInNlYXJjaEJveFwiIGNsYXNzPVwic2VhcmNoYm94bGFiZWxcIj5TZWFyY2g6PC9sYWJlbD4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJzZWFyY2hCb3hcIiBvbmNsaWNrPVwidG9nZ2xlU2VhcmNoRW5hYmxlZCh0cnVlKVwiIG9ua2V5dXA9XCJzY2hlZHVsZVNlYXJjaCgpXCIgc2l6ZT1cIjIwXCIgLz4nLCc8aW5wdXQgdHlwZT1cImJ1dHRvblwiIGlkPVwic2VhcmNoUmVzZXRcIiBkaXNhYmxlZD1cImRpc2FibGVkXCIgdmFsdWU9XCJSZXNldFwiIG9uY2xpY2s9XCJjbGVhclNlYXJjaCgpXCIgY2xhc3M9XCJidXR0b25cIiB0aXRsZT1cIlJlc2V0IHRoZSBzZWFyY2hcIiAvPicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInNlYXJjaFJlZ2V4XCIgb25jbGljaz1cImRvU2VhcmNoKClcIiB0aXRsZT1cIklmIGNoZWNrZWQsIHNlYXJjaCBpcyB0cmVhdGVkIGFzIGEgcmVndWxhciBleHByZXNzaW9uXCIgLz48bGFiZWwgZm9yPVwic2VhcmNoUmVnZXhcIj5SZWdleDwvbGFiZWw+JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwic2VhcmNoQ2FzZVNlbnNpdGl2ZVwiIG9uY2xpY2s9XCJkb1NlYXJjaCgpXCIgdGl0bGU9XCJJZiBjaGVja2VkLCBzZWFyY2ggaXMgY2FzZSBzZW5zaXRpdmVcIiAvPjxsYWJlbCBmb3I9XCJzZWFyY2hDYXNlU2Vuc2l0aXZlXCI+TWF0Y2ggY2FzZTwvbGFiZWw+JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwic2VhcmNoRGlzYWJsZVwiIG9uY2xpY2s9XCJ0b2dnbGVTZWFyY2hFbmFibGVkKClcIiB0aXRsZT1cIkVuYWJsZS9kaXNhYmxlIHNlYXJjaFwiIC8+PGxhYmVsIGZvcj1cInNlYXJjaERpc2FibGVcIiBjbGFzcz1cImFsd2F5c2VuYWJsZWRcIj5EaXNhYmxlPC9sYWJlbD4nLCc8ZGl2IGlkPVwic2VhcmNoTmF2XCI+JywnPGlucHV0IHR5cGU9XCJidXR0b25cIiBpZD1cInNlYXJjaE5leHRcIiBkaXNhYmxlZD1cImRpc2FibGVkXCIgdmFsdWU9XCJOZXh0XCIgb25jbGljaz1cInNlYXJjaE5leHQoKVwiIGNsYXNzPVwiYnV0dG9uXCIgdGl0bGU9XCJHbyB0byB0aGUgbmV4dCBtYXRjaGluZyBsb2cgZW50cnlcIiAvPicsJzxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJzZWFyY2hQcmV2aW91c1wiIGRpc2FibGVkPVwiZGlzYWJsZWRcIiB2YWx1ZT1cIlByZXZpb3VzXCIgb25jbGljaz1cInNlYXJjaFByZXZpb3VzKClcIiBjbGFzcz1cImJ1dHRvblwiIHRpdGxlPVwiR28gdG8gdGhlIHByZXZpb3VzIG1hdGNoaW5nIGxvZyBlbnRyeVwiIC8+JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwic2VhcmNoRmlsdGVyXCIgb25jbGljaz1cInRvZ2dsZVNlYXJjaEZpbHRlcigpXCIgdGl0bGU9XCJJZiBjaGVja2VkLCBub24tbWF0Y2hpbmcgbG9nIGVudHJpZXMgYXJlIGZpbHRlcmVkIG91dFwiIC8+PGxhYmVsIGZvcj1cInNlYXJjaEZpbHRlclwiPkZpbHRlcjwvbGFiZWw+JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwic2VhcmNoSGlnaGxpZ2h0XCIgb25jbGljaz1cInRvZ2dsZVNlYXJjaEhpZ2hsaWdodCgpXCIgdGl0bGU9XCJIaWdobGlnaHQgbWF0Y2hlZCBzZWFyY2ggdGVybXNcIiAvPjxsYWJlbCBmb3I9XCJzZWFyY2hIaWdobGlnaHRcIiBjbGFzcz1cImFsd2F5c2VuYWJsZWRcIj5IaWdobGlnaHQgYWxsPC9sYWJlbD4nLCc8L2Rpdj4nLCc8L2Rpdj4nLCc8ZGl2IGlkPVwib3B0aW9uc1wiIGNsYXNzPVwidG9vbGJhclwiPicsJ09wdGlvbnM6JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiZW5hYmxlTG9nZ2luZ1wiIG9uY2xpY2s9XCJ0b2dnbGVMb2dnaW5nRW5hYmxlZCgpXCIgY2hlY2tlZD1cImNoZWNrZWRcIiB0aXRsZT1cIkVuYWJsZS9kaXNhYmxlIGxvZ2dpbmdcIiAvPjxsYWJlbCBmb3I9XCJlbmFibGVMb2dnaW5nXCIgaWQ9XCJlbmFibGVMb2dnaW5nTGFiZWxcIj5Mb2c8L2xhYmVsPicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIndyYXBcIiBvbmNsaWNrPVwidG9nZ2xlV3JhcCgpXCIgdGl0bGU9XCJFbmFibGUgLyBkaXNhYmxlIHdvcmQgd3JhcFwiIC8+PGxhYmVsIGZvcj1cIndyYXBcIiBpZD1cIndyYXBMYWJlbFwiPldyYXA8L2xhYmVsPicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIm5ld2VzdEF0VG9wXCIgb25jbGljaz1cInRvZ2dsZU5ld2VzdEF0VG9wKClcIiB0aXRsZT1cIklmIGNoZWNrZWQsIGNhdXNlcyBuZXdlc3QgbWVzc2FnZXMgdG8gYXBwZWFyIGF0IHRoZSB0b3BcIiAvPjxsYWJlbCBmb3I9XCJuZXdlc3RBdFRvcFwiIGlkPVwibmV3ZXN0QXRUb3BMYWJlbFwiPk5ld2VzdCBhdCB0aGUgdG9wPC9sYWJlbD4nLCc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJzY3JvbGxUb0xhdGVzdFwiIG9uY2xpY2s9XCJ0b2dnbGVTY3JvbGxUb0xhdGVzdCgpXCIgY2hlY2tlZD1cImNoZWNrZWRcIiB0aXRsZT1cIklmIGNoZWNrZWQsIHdpbmRvdyBhdXRvbWF0aWNhbGx5IHNjcm9sbHMgdG8gYSBuZXcgbWVzc2FnZSB3aGVuIGl0IGlzIGFkZGVkXCIgLz48bGFiZWwgZm9yPVwic2Nyb2xsVG9MYXRlc3RcIiBpZD1cInNjcm9sbFRvTGF0ZXN0TGFiZWxcIj5TY3JvbGwgdG8gbGF0ZXN0PC9sYWJlbD4nLCc8aW5wdXQgdHlwZT1cImJ1dHRvblwiIGlkPVwiY2xlYXJCdXR0b25cIiB2YWx1ZT1cIkNsZWFyXCIgb25jbGljaz1cImNsZWFyTG9nKClcIiBjbGFzcz1cImJ1dHRvblwiIHRpdGxlPVwiQ2xlYXIgYWxsIGxvZyBtZXNzYWdlc1wiICAvPicsJzxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJoaWRlQnV0dG9uXCIgdmFsdWU9XCJIaWRlXCIgb25jbGljaz1cImhpZGUoKVwiIGNsYXNzPVwiaGlkZGVuIGJ1dHRvblwiIHRpdGxlPVwiSGlkZSB0aGUgY29uc29sZVwiIC8+JywnPGlucHV0IHR5cGU9XCJidXR0b25cIiBpZD1cImNsb3NlQnV0dG9uXCIgdmFsdWU9XCJDbG9zZVwiIG9uY2xpY2s9XCJjbG9zZVdpbmRvdygpXCIgY2xhc3M9XCJoaWRkZW4gYnV0dG9uXCIgdGl0bGU9XCJDbG9zZSB0aGUgd2luZG93XCIgLz4nLCc8L2Rpdj4nLCc8L2Rpdj4nLCc8L2Rpdj4nLCc8ZGl2IGlkPVwibG9nXCIgY2xhc3M9XCJUUkFDRSBERUJVRyBJTkZPIFdBUk4gRVJST1IgRkFUQUxcIj48L2Rpdj4nLCc8ZGl2IGlkPVwiY29tbWFuZExpbmVcIiBjbGFzcz1cInRvb2xiYXJcIj4nLCc8ZGl2IGlkPVwiY29tbWFuZExpbmVDb250YWluZXJcIj4nLCc8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImNvbW1hbmRcIiB0aXRsZT1cIkVudGVyIGEgSmF2YVNjcmlwdCBjb21tYW5kIGhlcmUgYW5kIGhpdCByZXR1cm4gb3IgcHJlc3MgXFwnRXZhbHVhdGVcXCdcIiAvPicsJzxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJldmFsdWF0ZUJ1dHRvblwiIHZhbHVlPVwiRXZhbHVhdGVcIiBjbGFzcz1cImJ1dHRvblwiIHRpdGxlPVwiRXZhbHVhdGUgdGhlIGNvbW1hbmRcIiBvbmNsaWNrPVwiZXZhbENvbW1hbmRMaW5lKClcIiAvPicsJzwvZGl2PicsJzwvZGl2PicsJzwvYm9keT4nLCc8L2h0bWw+JywnJ107fTt2YXIgZGVmYXVsdENvbW1hbmRMaW5lRnVuY3Rpb25zPVtdO0NvbnNvbGVBcHBlbmRlcj1mdW5jdGlvbigpe307dmFyIGNvbnNvbGVBcHBlbmRlcklkQ291bnRlcj0xO0NvbnNvbGVBcHBlbmRlci5wcm90b3R5cGU9bmV3IEFwcGVuZGVyKCk7Q29uc29sZUFwcGVuZGVyLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oaW5QYWdlLGNvbnRhaW5lcixsYXp5SW5pdCxpbml0aWFsbHlNaW5pbWl6ZWQsdXNlRG9jdW1lbnRXcml0ZSx3aWR0aCxoZWlnaHQsZm9jdXNDb25zb2xlV2luZG93KXt2YXIgYXBwZW5kZXI9dGhpczt2YXIgaW5pdGlhbGl6ZWQ9ZmFsc2U7dmFyIGNvbnNvbGVXaW5kb3dDcmVhdGVkPWZhbHNlO3ZhciBjb25zb2xlV2luZG93TG9hZGVkPWZhbHNlO3ZhciBjb25zb2xlQ2xvc2VkPWZhbHNlO3ZhciBxdWV1ZWRMb2dnaW5nRXZlbnRzPVtdO3ZhciBpc1N1cHBvcnRlZD10cnVlO3ZhciBjb25zb2xlQXBwZW5kZXJJZD1jb25zb2xlQXBwZW5kZXJJZENvdW50ZXIrKztpbml0aWFsbHlNaW5pbWl6ZWQ9ZXh0cmFjdEJvb2xlYW5Gcm9tUGFyYW0oaW5pdGlhbGx5TWluaW1pemVkLHRoaXMuZGVmYXVsdHMuaW5pdGlhbGx5TWluaW1pemVkKTtsYXp5SW5pdD1leHRyYWN0Qm9vbGVhbkZyb21QYXJhbShsYXp5SW5pdCx0aGlzLmRlZmF1bHRzLmxhenlJbml0KTt1c2VEb2N1bWVudFdyaXRlPWV4dHJhY3RCb29sZWFuRnJvbVBhcmFtKHVzZURvY3VtZW50V3JpdGUsdGhpcy5kZWZhdWx0cy51c2VEb2N1bWVudFdyaXRlKTt2YXIgbmV3ZXN0TWVzc2FnZUF0VG9wPXRoaXMuZGVmYXVsdHMubmV3ZXN0TWVzc2FnZUF0VG9wO3ZhciBzY3JvbGxUb0xhdGVzdE1lc3NhZ2U9dGhpcy5kZWZhdWx0cy5zY3JvbGxUb0xhdGVzdE1lc3NhZ2U7d2lkdGg9d2lkdGg/d2lkdGg6dGhpcy5kZWZhdWx0cy53aWR0aDtoZWlnaHQ9aGVpZ2h0P2hlaWdodDp0aGlzLmRlZmF1bHRzLmhlaWdodDt2YXIgbWF4TWVzc2FnZXM9dGhpcy5kZWZhdWx0cy5tYXhNZXNzYWdlczt2YXIgc2hvd0NvbW1hbmRMaW5lPXRoaXMuZGVmYXVsdHMuc2hvd0NvbW1hbmRMaW5lO3ZhciBjb21tYW5kTGluZU9iamVjdEV4cGFuc2lvbkRlcHRoPXRoaXMuZGVmYXVsdHMuY29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aDt2YXIgc2hvd0hpZGVCdXR0b249dGhpcy5kZWZhdWx0cy5zaG93SGlkZUJ1dHRvbjt2YXIgc2hvd0Nsb3NlQnV0dG9uPXRoaXMuZGVmYXVsdHMuc2hvd0Nsb3NlQnV0dG9uO3ZhciBzaG93TG9nRW50cnlEZWxldGVCdXR0b25zPXRoaXMuZGVmYXVsdHMuc2hvd0xvZ0VudHJ5RGVsZXRlQnV0dG9uczt0aGlzLnNldExheW91dCh0aGlzLmRlZmF1bHRzLmxheW91dCk7dmFyIGluaXQsY3JlYXRlV2luZG93LHNhZmVUb0FwcGVuZCxnZXRDb25zb2xlV2luZG93LG9wZW47dmFyIGFwcGVuZGVyTmFtZT1pblBhZ2U/XCJJblBhZ2VBcHBlbmRlclwiOlwiUG9wVXBBcHBlbmRlclwiO3ZhciBjaGVja0NhbkNvbmZpZ3VyZT1mdW5jdGlvbihjb25maWdPcHRpb25OYW1lKXtpZihjb25zb2xlV2luZG93Q3JlYXRlZCl7aGFuZGxlRXJyb3IoYXBwZW5kZXJOYW1lK1wiOiBjb25maWd1cmF0aW9uIG9wdGlvbiAnXCIrY29uZmlnT3B0aW9uTmFtZStcIicgbWF5IG5vdCBiZSBzZXQgYWZ0ZXIgdGhlIGFwcGVuZGVyIGhhcyBiZWVuIGluaXRpYWxpemVkXCIpO3JldHVybiBmYWxzZTt9XHJcbnJldHVybiB0cnVlO307dmFyIGNvbnNvbGVXaW5kb3dFeGlzdHM9ZnVuY3Rpb24oKXtyZXR1cm4oY29uc29sZVdpbmRvd0xvYWRlZCYmaXNTdXBwb3J0ZWQmJiFjb25zb2xlQ2xvc2VkKTt9O3RoaXMuaXNOZXdlc3RNZXNzYWdlQXRUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3ZXN0TWVzc2FnZUF0VG9wO307dGhpcy5zZXROZXdlc3RNZXNzYWdlQXRUb3A9ZnVuY3Rpb24obmV3ZXN0TWVzc2FnZUF0VG9wUGFyYW0pe25ld2VzdE1lc3NhZ2VBdFRvcD1ib29sKG5ld2VzdE1lc3NhZ2VBdFRvcFBhcmFtKTtpZihjb25zb2xlV2luZG93RXhpc3RzKCkpe2dldENvbnNvbGVXaW5kb3coKS5zZXROZXdlc3RBdFRvcChuZXdlc3RNZXNzYWdlQXRUb3ApO319O3RoaXMuaXNTY3JvbGxUb0xhdGVzdE1lc3NhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gc2Nyb2xsVG9MYXRlc3RNZXNzYWdlO307dGhpcy5zZXRTY3JvbGxUb0xhdGVzdE1lc3NhZ2U9ZnVuY3Rpb24oc2Nyb2xsVG9MYXRlc3RNZXNzYWdlUGFyYW0pe3Njcm9sbFRvTGF0ZXN0TWVzc2FnZT1ib29sKHNjcm9sbFRvTGF0ZXN0TWVzc2FnZVBhcmFtKTtpZihjb25zb2xlV2luZG93RXhpc3RzKCkpe2dldENvbnNvbGVXaW5kb3coKS5zZXRTY3JvbGxUb0xhdGVzdChzY3JvbGxUb0xhdGVzdE1lc3NhZ2UpO319O3RoaXMuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gd2lkdGg7fTt0aGlzLnNldFdpZHRoPWZ1bmN0aW9uKHdpZHRoUGFyYW0pe2lmKGNoZWNrQ2FuQ29uZmlndXJlKFwid2lkdGhcIikpe3dpZHRoPWV4dHJhY3RTdHJpbmdGcm9tUGFyYW0od2lkdGhQYXJhbSx3aWR0aCk7fX07dGhpcy5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gaGVpZ2h0O307dGhpcy5zZXRIZWlnaHQ9ZnVuY3Rpb24oaGVpZ2h0UGFyYW0pe2lmKGNoZWNrQ2FuQ29uZmlndXJlKFwiaGVpZ2h0XCIpKXtoZWlnaHQ9ZXh0cmFjdFN0cmluZ0Zyb21QYXJhbShoZWlnaHRQYXJhbSxoZWlnaHQpO319O3RoaXMuZ2V0TWF4TWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbWF4TWVzc2FnZXM7fTt0aGlzLnNldE1heE1lc3NhZ2VzPWZ1bmN0aW9uKG1heE1lc3NhZ2VzUGFyYW0pe21heE1lc3NhZ2VzPWV4dHJhY3RJbnRGcm9tUGFyYW0obWF4TWVzc2FnZXNQYXJhbSxtYXhNZXNzYWdlcyk7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXtnZXRDb25zb2xlV2luZG93KCkuc2V0TWF4TWVzc2FnZXMobWF4TWVzc2FnZXMpO319O3RoaXMuaXNTaG93Q29tbWFuZExpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gc2hvd0NvbW1hbmRMaW5lO307dGhpcy5zZXRTaG93Q29tbWFuZExpbmU9ZnVuY3Rpb24oc2hvd0NvbW1hbmRMaW5lUGFyYW0pe3Nob3dDb21tYW5kTGluZT1ib29sKHNob3dDb21tYW5kTGluZVBhcmFtKTtpZihjb25zb2xlV2luZG93RXhpc3RzKCkpe2dldENvbnNvbGVXaW5kb3coKS5zZXRTaG93Q29tbWFuZExpbmUoc2hvd0NvbW1hbmRMaW5lKTt9fTt0aGlzLmlzU2hvd0hpZGVCdXR0b249ZnVuY3Rpb24oKXtyZXR1cm4gc2hvd0hpZGVCdXR0b247fTt0aGlzLnNldFNob3dIaWRlQnV0dG9uPWZ1bmN0aW9uKHNob3dIaWRlQnV0dG9uUGFyYW0pe3Nob3dIaWRlQnV0dG9uPWJvb2woc2hvd0hpZGVCdXR0b25QYXJhbSk7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXtnZXRDb25zb2xlV2luZG93KCkuc2V0U2hvd0hpZGVCdXR0b24oc2hvd0hpZGVCdXR0b24pO319O3RoaXMuaXNTaG93Q2xvc2VCdXR0b249ZnVuY3Rpb24oKXtyZXR1cm4gc2hvd0Nsb3NlQnV0dG9uO307dGhpcy5zZXRTaG93Q2xvc2VCdXR0b249ZnVuY3Rpb24oc2hvd0Nsb3NlQnV0dG9uUGFyYW0pe3Nob3dDbG9zZUJ1dHRvbj1ib29sKHNob3dDbG9zZUJ1dHRvblBhcmFtKTtpZihjb25zb2xlV2luZG93RXhpc3RzKCkpe2dldENvbnNvbGVXaW5kb3coKS5zZXRTaG93Q2xvc2VCdXR0b24oc2hvd0Nsb3NlQnV0dG9uKTt9fTt0aGlzLmdldENvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGg9ZnVuY3Rpb24oKXtyZXR1cm4gY29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aDt9O3RoaXMuc2V0Q29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aD1mdW5jdGlvbihjb21tYW5kTGluZU9iamVjdEV4cGFuc2lvbkRlcHRoUGFyYW0pe2NvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGg9ZXh0cmFjdEludEZyb21QYXJhbShjb21tYW5kTGluZU9iamVjdEV4cGFuc2lvbkRlcHRoUGFyYW0sY29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aCk7fTt2YXIgbWluaW1pemVkPWluaXRpYWxseU1pbmltaXplZDt0aGlzLmlzSW5pdGlhbGx5TWluaW1pemVkPWZ1bmN0aW9uKCl7cmV0dXJuIGluaXRpYWxseU1pbmltaXplZDt9O3RoaXMuc2V0SW5pdGlhbGx5TWluaW1pemVkPWZ1bmN0aW9uKGluaXRpYWxseU1pbmltaXplZFBhcmFtKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcImluaXRpYWxseU1pbmltaXplZFwiKSl7aW5pdGlhbGx5TWluaW1pemVkPWJvb2woaW5pdGlhbGx5TWluaW1pemVkUGFyYW0pO21pbmltaXplZD1pbml0aWFsbHlNaW5pbWl6ZWQ7fX07dGhpcy5pc1VzZURvY3VtZW50V3JpdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdXNlRG9jdW1lbnRXcml0ZTt9O3RoaXMuc2V0VXNlRG9jdW1lbnRXcml0ZT1mdW5jdGlvbih1c2VEb2N1bWVudFdyaXRlUGFyYW0pe2lmKGNoZWNrQ2FuQ29uZmlndXJlKFwidXNlRG9jdW1lbnRXcml0ZVwiKSl7dXNlRG9jdW1lbnRXcml0ZT1ib29sKHVzZURvY3VtZW50V3JpdGVQYXJhbSk7fX07ZnVuY3Rpb24gUXVldWVkTG9nZ2luZ0V2ZW50KGxvZ2dpbmdFdmVudCxmb3JtYXR0ZWRNZXNzYWdlKXt0aGlzLmxvZ2dpbmdFdmVudD1sb2dnaW5nRXZlbnQ7dGhpcy5sZXZlbE5hbWU9bG9nZ2luZ0V2ZW50LmxldmVsLm5hbWU7dGhpcy5mb3JtYXR0ZWRNZXNzYWdlPWZvcm1hdHRlZE1lc3NhZ2U7fVxyXG5RdWV1ZWRMb2dnaW5nRXZlbnQucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbigpe2dldENvbnNvbGVXaW5kb3coKS5sb2codGhpcy5sZXZlbE5hbWUsdGhpcy5mb3JtYXR0ZWRNZXNzYWdlKTt9O2Z1bmN0aW9uIFF1ZXVlZEdyb3VwKG5hbWUsaW5pdGlhbGx5RXhwYW5kZWQpe3RoaXMubmFtZT1uYW1lO3RoaXMuaW5pdGlhbGx5RXhwYW5kZWQ9aW5pdGlhbGx5RXhwYW5kZWQ7fVxyXG5RdWV1ZWRHcm91cC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKCl7Z2V0Q29uc29sZVdpbmRvdygpLmdyb3VwKHRoaXMubmFtZSx0aGlzLmluaXRpYWxseUV4cGFuZGVkKTt9O2Z1bmN0aW9uIFF1ZXVlZEdyb3VwRW5kKCl7fVxyXG5RdWV1ZWRHcm91cEVuZC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKCl7Z2V0Q29uc29sZVdpbmRvdygpLmdyb3VwRW5kKCk7fTt2YXIgY2hlY2tBbmRBcHBlbmQ9ZnVuY3Rpb24oKXtzYWZlVG9BcHBlbmQoKTtpZighaW5pdGlhbGl6ZWQpe2luaXQoKTt9ZWxzZSBpZihjb25zb2xlQ2xvc2VkJiZyZW9wZW5XaGVuQ2xvc2VkKXtjcmVhdGVXaW5kb3coKTt9XHJcbmlmKHNhZmVUb0FwcGVuZCgpKXthcHBlbmRRdWV1ZWRMb2dnaW5nRXZlbnRzKCk7fX07dGhpcy5hcHBlbmQ9ZnVuY3Rpb24obG9nZ2luZ0V2ZW50KXtpZihpc1N1cHBvcnRlZCl7dmFyIGZvcm1hdHRlZE1lc3NhZ2U9YXBwZW5kZXIuZ2V0TGF5b3V0KCkuZm9ybWF0V2l0aEV4Y2VwdGlvbihsb2dnaW5nRXZlbnQpO3F1ZXVlZExvZ2dpbmdFdmVudHMucHVzaChuZXcgUXVldWVkTG9nZ2luZ0V2ZW50KGxvZ2dpbmdFdmVudCxmb3JtYXR0ZWRNZXNzYWdlKSk7Y2hlY2tBbmRBcHBlbmQoKTt9fTt0aGlzLmdyb3VwPWZ1bmN0aW9uKG5hbWUsaW5pdGlhbGx5RXhwYW5kZWQpe2lmKGlzU3VwcG9ydGVkKXtxdWV1ZWRMb2dnaW5nRXZlbnRzLnB1c2gobmV3IFF1ZXVlZEdyb3VwKG5hbWUsaW5pdGlhbGx5RXhwYW5kZWQpKTtjaGVja0FuZEFwcGVuZCgpO319O3RoaXMuZ3JvdXBFbmQ9ZnVuY3Rpb24oKXtpZihpc1N1cHBvcnRlZCl7cXVldWVkTG9nZ2luZ0V2ZW50cy5wdXNoKG5ldyBRdWV1ZWRHcm91cEVuZCgpKTtjaGVja0FuZEFwcGVuZCgpO319O3ZhciBhcHBlbmRRdWV1ZWRMb2dnaW5nRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGN1cnJlbnRMb2dnaW5nRXZlbnQ7d2hpbGUocXVldWVkTG9nZ2luZ0V2ZW50cy5sZW5ndGg+MCl7cXVldWVkTG9nZ2luZ0V2ZW50cy5zaGlmdCgpLmFwcGVuZCgpO31cclxuaWYoZm9jdXNDb25zb2xlV2luZG93KXtnZXRDb25zb2xlV2luZG93KCkuZm9jdXMoKTt9fTt0aGlzLnNldEFkZGVkVG9Mb2dnZXI9ZnVuY3Rpb24obG9nZ2VyKXt0aGlzLmxvZ2dlcnMucHVzaChsb2dnZXIpO2lmKGVuYWJsZWQmJiFsYXp5SW5pdCl7aW5pdCgpO319O3RoaXMuY2xlYXI9ZnVuY3Rpb24oKXtpZihjb25zb2xlV2luZG93RXhpc3RzKCkpe2dldENvbnNvbGVXaW5kb3coKS5jbGVhckxvZygpO31cclxucXVldWVkTG9nZ2luZ0V2ZW50cy5sZW5ndGg9MDt9O3RoaXMuZm9jdXM9ZnVuY3Rpb24oKXtpZihjb25zb2xlV2luZG93RXhpc3RzKCkpe2dldENvbnNvbGVXaW5kb3coKS5mb2N1cygpO319O3RoaXMuZm9jdXNDb21tYW5kTGluZT1mdW5jdGlvbigpe2lmKGNvbnNvbGVXaW5kb3dFeGlzdHMoKSl7Z2V0Q29uc29sZVdpbmRvdygpLmZvY3VzQ29tbWFuZExpbmUoKTt9fTt0aGlzLmZvY3VzU2VhcmNoPWZ1bmN0aW9uKCl7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXtnZXRDb25zb2xlV2luZG93KCkuZm9jdXNTZWFyY2goKTt9fTt2YXIgY29tbWFuZFdpbmRvdz13aW5kb3c7dGhpcy5nZXRDb21tYW5kV2luZG93PWZ1bmN0aW9uKCl7cmV0dXJuIGNvbW1hbmRXaW5kb3c7fTt0aGlzLnNldENvbW1hbmRXaW5kb3c9ZnVuY3Rpb24oY29tbWFuZFdpbmRvd1BhcmFtKXtjb21tYW5kV2luZG93PWNvbW1hbmRXaW5kb3dQYXJhbTt9O3RoaXMuZXhlY3V0ZUxhc3RDb21tYW5kPWZ1bmN0aW9uKCl7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXtnZXRDb25zb2xlV2luZG93KCkuZXZhbExhc3RDb21tYW5kKCk7fX07dmFyIGNvbW1hbmRMYXlvdXQ9bmV3IFBhdHRlcm5MYXlvdXQoXCIlbVwiKTt0aGlzLmdldENvbW1hbmRMYXlvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gY29tbWFuZExheW91dDt9O3RoaXMuc2V0Q29tbWFuZExheW91dD1mdW5jdGlvbihjb21tYW5kTGF5b3V0UGFyYW0pe2NvbW1hbmRMYXlvdXQ9Y29tbWFuZExheW91dFBhcmFtO307dGhpcy5ldmFsQ29tbWFuZEFuZEFwcGVuZD1mdW5jdGlvbihleHByKXt2YXIgY29tbWFuZFJldHVyblZhbHVlPXthcHBlbmRSZXN1bHQ6dHJ1ZSxpc0Vycm9yOmZhbHNlfTt2YXIgY29tbWFuZE91dHB1dD1cIlwiO3RyeXt2YXIgcmVzdWx0LGk7aWYoIWNvbW1hbmRXaW5kb3cuZXZhbCYmY29tbWFuZFdpbmRvdy5leGVjU2NyaXB0KXtjb21tYW5kV2luZG93LmV4ZWNTY3JpcHQoXCJudWxsXCIpO31cclxudmFyIGNvbW1hbmRMaW5lRnVuY3Rpb25zSGFzaD17fTtmb3IoaT0wLGxlbj1jb21tYW5kTGluZUZ1bmN0aW9ucy5sZW5ndGg7aTxsZW47aSsrKXtjb21tYW5kTGluZUZ1bmN0aW9uc0hhc2hbY29tbWFuZExpbmVGdW5jdGlvbnNbaV1bMF1dPWNvbW1hbmRMaW5lRnVuY3Rpb25zW2ldWzFdO31cclxudmFyIG9iamVjdHNUb1Jlc3RvcmU9W107dmFyIGFkZE9iamVjdFRvUmVzdG9yZT1mdW5jdGlvbihuYW1lKXtvYmplY3RzVG9SZXN0b3JlLnB1c2goW25hbWUsY29tbWFuZFdpbmRvd1tuYW1lXV0pO307YWRkT2JqZWN0VG9SZXN0b3JlKFwiYXBwZW5kZXJcIik7Y29tbWFuZFdpbmRvdy5hcHBlbmRlcj1hcHBlbmRlcjthZGRPYmplY3RUb1Jlc3RvcmUoXCJjb21tYW5kUmV0dXJuVmFsdWVcIik7Y29tbWFuZFdpbmRvdy5jb21tYW5kUmV0dXJuVmFsdWU9Y29tbWFuZFJldHVyblZhbHVlO2FkZE9iamVjdFRvUmVzdG9yZShcImNvbW1hbmRMaW5lRnVuY3Rpb25zSGFzaFwiKTtjb21tYW5kV2luZG93LmNvbW1hbmRMaW5lRnVuY3Rpb25zSGFzaD1jb21tYW5kTGluZUZ1bmN0aW9uc0hhc2g7dmFyIGFkZEZ1bmN0aW9uVG9XaW5kb3c9ZnVuY3Rpb24obmFtZSl7YWRkT2JqZWN0VG9SZXN0b3JlKG5hbWUpO2NvbW1hbmRXaW5kb3dbbmFtZV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21tYW5kTGluZUZ1bmN0aW9uc0hhc2hbbmFtZV0oYXBwZW5kZXIsYXJndW1lbnRzLGNvbW1hbmRSZXR1cm5WYWx1ZSk7fTt9O2ZvcihpPTAsbGVuPWNvbW1hbmRMaW5lRnVuY3Rpb25zLmxlbmd0aDtpPGxlbjtpKyspe2FkZEZ1bmN0aW9uVG9XaW5kb3coY29tbWFuZExpbmVGdW5jdGlvbnNbaV1bMF0pO31cclxuaWYoY29tbWFuZFdpbmRvdz09PXdpbmRvdyYmY29tbWFuZFdpbmRvdy5leGVjU2NyaXB0KXthZGRPYmplY3RUb1Jlc3RvcmUoXCJldmFsRXhwclwiKTthZGRPYmplY3RUb1Jlc3RvcmUoXCJyZXN1bHRcIik7d2luZG93LmV2YWxFeHByPWV4cHI7Y29tbWFuZFdpbmRvdy5leGVjU2NyaXB0KFwid2luZG93LnJlc3VsdD1ldmFsKHdpbmRvdy5ldmFsRXhwcik7XCIpO3Jlc3VsdD13aW5kb3cucmVzdWx0O31lbHNle3Jlc3VsdD1jb21tYW5kV2luZG93LmV2YWwoZXhwcik7fVxyXG5jb21tYW5kT3V0cHV0PWlzVW5kZWZpbmVkKHJlc3VsdCk/cmVzdWx0OmZvcm1hdE9iamVjdEV4cGFuc2lvbihyZXN1bHQsY29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aCk7Zm9yKGk9MCxsZW49b2JqZWN0c1RvUmVzdG9yZS5sZW5ndGg7aTxsZW47aSsrKXtjb21tYW5kV2luZG93W29iamVjdHNUb1Jlc3RvcmVbaV1bMF1dPW9iamVjdHNUb1Jlc3RvcmVbaV1bMV07fX1jYXRjaChleCl7Y29tbWFuZE91dHB1dD1cIkVycm9yIGV2YWx1YXRpbmcgY29tbWFuZDogXCIrZ2V0RXhjZXB0aW9uU3RyaW5nUmVwKGV4KTtjb21tYW5kUmV0dXJuVmFsdWUuaXNFcnJvcj10cnVlO31cclxuaWYoY29tbWFuZFJldHVyblZhbHVlLmFwcGVuZFJlc3VsdCl7dmFyIG1lc3NhZ2U9XCI+Pj4gXCIrZXhwcjtpZighaXNVbmRlZmluZWQoY29tbWFuZE91dHB1dCkpe21lc3NhZ2UrPW5ld0xpbmUrY29tbWFuZE91dHB1dDt9XHJcbnZhciBsZXZlbD1jb21tYW5kUmV0dXJuVmFsdWUuaXNFcnJvcj9MZXZlbC5FUlJPUjpMZXZlbC5JTkZPO3ZhciBsb2dnaW5nRXZlbnQ9bmV3IExvZ2dpbmdFdmVudChudWxsLG5ldyBEYXRlKCksbGV2ZWwsW21lc3NhZ2VdLG51bGwpO3ZhciBtYWluTGF5b3V0PXRoaXMuZ2V0TGF5b3V0KCk7dGhpcy5zZXRMYXlvdXQoY29tbWFuZExheW91dCk7dGhpcy5hcHBlbmQobG9nZ2luZ0V2ZW50KTt0aGlzLnNldExheW91dChtYWluTGF5b3V0KTt9fTt2YXIgY29tbWFuZExpbmVGdW5jdGlvbnM9ZGVmYXVsdENvbW1hbmRMaW5lRnVuY3Rpb25zLmNvbmNhdChbXSk7dGhpcy5hZGRDb21tYW5kTGluZUZ1bmN0aW9uPWZ1bmN0aW9uKGZ1bmN0aW9uTmFtZSxjb21tYW5kTGluZUZ1bmN0aW9uKXtjb21tYW5kTGluZUZ1bmN0aW9ucy5wdXNoKFtmdW5jdGlvbk5hbWUsY29tbWFuZExpbmVGdW5jdGlvbl0pO307dmFyIGNvbW1hbmRIaXN0b3J5Q29va2llTmFtZT1cImxvZzRqYXZhc2NyaXB0Q29tbWFuZEhpc3RvcnlcIjt0aGlzLnN0b3JlQ29tbWFuZEhpc3Rvcnk9ZnVuY3Rpb24oY29tbWFuZEhpc3Rvcnkpe3NldENvb2tpZShjb21tYW5kSGlzdG9yeUNvb2tpZU5hbWUsY29tbWFuZEhpc3Rvcnkuam9pbihcIixcIikpO307dmFyIHdyaXRlSHRtbD1mdW5jdGlvbihkb2Mpe3ZhciBsaW5lcz1nZXRDb25zb2xlSHRtbExpbmVzKCk7ZG9jLm9wZW4oKTtmb3IodmFyIGk9MCxsZW49bGluZXMubGVuZ3RoO2k8bGVuO2krKyl7ZG9jLndyaXRlbG4obGluZXNbaV0pO31cclxuZG9jLmNsb3NlKCk7fTt0aGlzLnNldEV2ZW50VHlwZXMoW1wibG9hZFwiLFwidW5sb2FkXCJdKTt2YXIgY29uc29sZVdpbmRvd0xvYWRIYW5kbGVyPWZ1bmN0aW9uKCl7dmFyIHdpbj1nZXRDb25zb2xlV2luZG93KCk7d2luLnNldEFwcGVuZGVyKGFwcGVuZGVyKTt3aW4uc2V0TmV3ZXN0QXRUb3AobmV3ZXN0TWVzc2FnZUF0VG9wKTt3aW4uc2V0U2Nyb2xsVG9MYXRlc3Qoc2Nyb2xsVG9MYXRlc3RNZXNzYWdlKTt3aW4uc2V0TWF4TWVzc2FnZXMobWF4TWVzc2FnZXMpO3dpbi5zZXRTaG93Q29tbWFuZExpbmUoc2hvd0NvbW1hbmRMaW5lKTt3aW4uc2V0U2hvd0hpZGVCdXR0b24oc2hvd0hpZGVCdXR0b24pO3dpbi5zZXRTaG93Q2xvc2VCdXR0b24oc2hvd0Nsb3NlQnV0dG9uKTt3aW4uc2V0TWFpbldpbmRvdyh3aW5kb3cpO3ZhciBzdG9yZWRWYWx1ZT1nZXRDb29raWUoY29tbWFuZEhpc3RvcnlDb29raWVOYW1lKTtpZihzdG9yZWRWYWx1ZSl7d2luLmNvbW1hbmRIaXN0b3J5PXN0b3JlZFZhbHVlLnNwbGl0KFwiLFwiKTt3aW4uY3VycmVudENvbW1hbmRJbmRleD13aW4uY29tbWFuZEhpc3RvcnkubGVuZ3RoO31cclxuYXBwZW5kZXIuZGlzcGF0Y2hFdmVudChcImxvYWRcIix7XCJ3aW5cIjp3aW59KTt9O3RoaXMudW5sb2FkPWZ1bmN0aW9uKCl7bG9nTG9nLmRlYnVnKFwidW5sb2FkIFwiK3RoaXMrXCIsIGNhbGxlcjogXCIrdGhpcy51bmxvYWQuY2FsbGVyKTtpZighY29uc29sZUNsb3NlZCl7bG9nTG9nLmRlYnVnKFwicmVhbGx5IGRvaW5nIHVubG9hZCBcIit0aGlzKTtjb25zb2xlQ2xvc2VkPXRydWU7Y29uc29sZVdpbmRvd0xvYWRlZD1mYWxzZTtjb25zb2xlV2luZG93Q3JlYXRlZD1mYWxzZTthcHBlbmRlci5kaXNwYXRjaEV2ZW50KFwidW5sb2FkXCIse30pO319O3ZhciBwb2xsQ29uc29sZVdpbmRvdz1mdW5jdGlvbih3aW5kb3dUZXN0LGludGVydmFsLHN1Y2Nlc3NDYWxsYmFjayxlcnJvck1lc3NhZ2Upe2Z1bmN0aW9uIGRvUG9sbCgpe3RyeXtpZihjb25zb2xlQ2xvc2VkKXtjbGVhckludGVydmFsKHBvbGwpO31cclxuaWYod2luZG93VGVzdChnZXRDb25zb2xlV2luZG93KCkpKXtjbGVhckludGVydmFsKHBvbGwpO3N1Y2Nlc3NDYWxsYmFjaygpO319Y2F0Y2goZXgpe2NsZWFySW50ZXJ2YWwocG9sbCk7aXNTdXBwb3J0ZWQ9ZmFsc2U7aGFuZGxlRXJyb3IoZXJyb3JNZXNzYWdlLGV4KTt9fVxyXG52YXIgcG9sbD1zZXRJbnRlcnZhbChkb1BvbGwsaW50ZXJ2YWwpO307dmFyIGdldENvbnNvbGVVcmw9ZnVuY3Rpb24oKXt2YXIgZG9jdW1lbnREb21haW5TZXQ9KGRvY3VtZW50LmRvbWFpbiE9bG9jYXRpb24uaG9zdG5hbWUpO3JldHVybiB1c2VEb2N1bWVudFdyaXRlP1wiXCI6Z2V0QmFzZVVybCgpK1wiY29uc29sZS5odG1sXCIrXHJcbihkb2N1bWVudERvbWFpblNldD9cIj9sb2c0amF2YXNjcmlwdF9kb21haW49XCIrZXNjYXBlKGRvY3VtZW50LmRvbWFpbik6XCJcIik7fTtpZihpblBhZ2Upe3ZhciBjb250YWluZXJFbGVtZW50PW51bGw7dmFyIGNzc1Byb3BlcnRpZXM9W107dGhpcy5hZGRDc3NQcm9wZXJ0eT1mdW5jdGlvbihuYW1lLHZhbHVlKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcImNzc1Byb3BlcnRpZXNcIikpe2Nzc1Byb3BlcnRpZXMucHVzaChbbmFtZSx2YWx1ZV0pO319O3ZhciB3aW5kb3dDcmVhdGlvblN0YXJ0ZWQ9ZmFsc2U7dmFyIGlmcmFtZUNvbnRhaW5lckRpdjt2YXIgaWZyYW1lSWQ9dW5pcXVlSWQrXCJfSW5QYWdlQXBwZW5kZXJfXCIrY29uc29sZUFwcGVuZGVySWQ7dGhpcy5oaWRlPWZ1bmN0aW9uKCl7aWYoaW5pdGlhbGl6ZWQmJmNvbnNvbGVXaW5kb3dDcmVhdGVkKXtpZihjb25zb2xlV2luZG93RXhpc3RzKCkpe2dldENvbnNvbGVXaW5kb3coKS4kKFwiY29tbWFuZFwiKS5ibHVyKCk7fVxyXG5pZnJhbWVDb250YWluZXJEaXYuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjttaW5pbWl6ZWQ9dHJ1ZTt9fTt0aGlzLnNob3c9ZnVuY3Rpb24oKXtpZihpbml0aWFsaXplZCl7aWYoY29uc29sZVdpbmRvd0NyZWF0ZWQpe2lmcmFtZUNvbnRhaW5lckRpdi5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjt0aGlzLnNldFNob3dDb21tYW5kTGluZShzaG93Q29tbWFuZExpbmUpO21pbmltaXplZD1mYWxzZTt9ZWxzZSBpZighd2luZG93Q3JlYXRpb25TdGFydGVkKXtjcmVhdGVXaW5kb3codHJ1ZSk7fX19O3RoaXMuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIW1pbmltaXplZCYmIWNvbnNvbGVDbG9zZWQ7fTt0aGlzLmNsb3NlPWZ1bmN0aW9uKGZyb21CdXR0b24pe2lmKCFjb25zb2xlQ2xvc2VkJiYoIWZyb21CdXR0b258fGNvbmZpcm0oXCJUaGlzIHdpbGwgcGVybWFuZW50bHkgcmVtb3ZlIHRoZSBjb25zb2xlIGZyb20gdGhlIHBhZ2UuIE5vIG1vcmUgbWVzc2FnZXMgd2lsbCBiZSBsb2dnZWQuIERvIHlvdSB3aXNoIHRvIGNvbnRpbnVlP1wiKSkpe2lmcmFtZUNvbnRhaW5lckRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlmcmFtZUNvbnRhaW5lckRpdik7dGhpcy51bmxvYWQoKTt9fTtvcGVuPWZ1bmN0aW9uKCl7dmFyIGluaXRFcnJvck1lc3NhZ2U9XCJJblBhZ2VBcHBlbmRlci5vcGVuOiB1bmFibGUgdG8gY3JlYXRlIGNvbnNvbGUgaWZyYW1lXCI7ZnVuY3Rpb24gZmluYWxJbml0KCl7dHJ5e2lmKCFpbml0aWFsbHlNaW5pbWl6ZWQpe2FwcGVuZGVyLnNob3coKTt9XHJcbmNvbnNvbGVXaW5kb3dMb2FkSGFuZGxlcigpO2NvbnNvbGVXaW5kb3dMb2FkZWQ9dHJ1ZTthcHBlbmRRdWV1ZWRMb2dnaW5nRXZlbnRzKCk7fWNhdGNoKGV4KXtpc1N1cHBvcnRlZD1mYWxzZTtoYW5kbGVFcnJvcihpbml0RXJyb3JNZXNzYWdlLGV4KTt9fVxyXG5mdW5jdGlvbiB3cml0ZVRvRG9jdW1lbnQoKXt0cnl7dmFyIHdpbmRvd1Rlc3Q9ZnVuY3Rpb24od2luKXtyZXR1cm4gaXNMb2FkZWQod2luKTt9O2lmKHVzZURvY3VtZW50V3JpdGUpe3dyaXRlSHRtbChnZXRDb25zb2xlV2luZG93KCkuZG9jdW1lbnQpO31cclxuaWYod2luZG93VGVzdChnZXRDb25zb2xlV2luZG93KCkpKXtmaW5hbEluaXQoKTt9ZWxzZXtwb2xsQ29uc29sZVdpbmRvdyh3aW5kb3dUZXN0LDEwMCxmaW5hbEluaXQsaW5pdEVycm9yTWVzc2FnZSk7fX1jYXRjaChleCl7aXNTdXBwb3J0ZWQ9ZmFsc2U7aGFuZGxlRXJyb3IoaW5pdEVycm9yTWVzc2FnZSxleCk7fX1cclxubWluaW1pemVkPWZhbHNlO2lmcmFtZUNvbnRhaW5lckRpdj1jb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO2lmcmFtZUNvbnRhaW5lckRpdi5zdHlsZS53aWR0aD13aWR0aDtpZnJhbWVDb250YWluZXJEaXYuc3R5bGUuaGVpZ2h0PWhlaWdodDtpZnJhbWVDb250YWluZXJEaXYuc3R5bGUuYm9yZGVyPVwic29saWQgZ3JheSAxcHhcIjtmb3IodmFyIGk9MCxsZW49Y3NzUHJvcGVydGllcy5sZW5ndGg7aTxsZW47aSsrKXtpZnJhbWVDb250YWluZXJEaXYuc3R5bGVbY3NzUHJvcGVydGllc1tpXVswXV09Y3NzUHJvcGVydGllc1tpXVsxXTt9XHJcbnZhciBpZnJhbWVTcmM9dXNlRG9jdW1lbnRXcml0ZT9cIlwiOlwiIHNyYz0nXCIrZ2V0Q29uc29sZVVybCgpK1wiJ1wiO2lmcmFtZUNvbnRhaW5lckRpdi5pbm5lckhUTUw9XCI8aWZyYW1lIGlkPSdcIitpZnJhbWVJZCtcIicgbmFtZT0nXCIraWZyYW1lSWQrXCInIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnIGZyYW1lYm9yZGVyPScwJ1wiK2lmcmFtZVNyYytcIiBzY3JvbGxpbmc9J25vJz48L2lmcmFtZT5cIjtjb25zb2xlQ2xvc2VkPWZhbHNlO3ZhciBpZnJhbWVEb2N1bWVudEV4aXN0c1Rlc3Q9ZnVuY3Rpb24od2luKXt0cnl7cmV0dXJuIGJvb2wod2luKSYmYm9vbCh3aW4uZG9jdW1lbnQpO31jYXRjaChleCl7cmV0dXJuIGZhbHNlO319O2lmKGlmcmFtZURvY3VtZW50RXhpc3RzVGVzdChnZXRDb25zb2xlV2luZG93KCkpKXt3cml0ZVRvRG9jdW1lbnQoKTt9ZWxzZXtwb2xsQ29uc29sZVdpbmRvdyhpZnJhbWVEb2N1bWVudEV4aXN0c1Rlc3QsMTAwLHdyaXRlVG9Eb2N1bWVudCxpbml0RXJyb3JNZXNzYWdlKTt9XHJcbmNvbnNvbGVXaW5kb3dDcmVhdGVkPXRydWU7fTtjcmVhdGVXaW5kb3c9ZnVuY3Rpb24oc2hvdyl7aWYoc2hvd3x8IWluaXRpYWxseU1pbmltaXplZCl7dmFyIHBhZ2VMb2FkSGFuZGxlcj1mdW5jdGlvbigpe2lmKCFjb250YWluZXIpe2NvbnRhaW5lckVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjb250YWluZXJFbGVtZW50LnN0eWxlLnBvc2l0aW9uPVwiZml4ZWRcIjtjb250YWluZXJFbGVtZW50LnN0eWxlLmxlZnQ9XCIwXCI7Y29udGFpbmVyRWxlbWVudC5zdHlsZS5yaWdodD1cIjBcIjtjb250YWluZXJFbGVtZW50LnN0eWxlLmJvdHRvbT1cIjBcIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lckVsZW1lbnQpO2FwcGVuZGVyLmFkZENzc1Byb3BlcnR5KFwiYm9yZGVyV2lkdGhcIixcIjFweCAwIDAgMFwiKTthcHBlbmRlci5hZGRDc3NQcm9wZXJ0eShcInpJbmRleFwiLDEwMDAwMDApO29wZW4oKTt9ZWxzZXt0cnl7dmFyIGVsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcik7aWYoZWwubm9kZVR5cGU9PTEpe2NvbnRhaW5lckVsZW1lbnQ9ZWw7fVxyXG5vcGVuKCk7fWNhdGNoKGV4KXtoYW5kbGVFcnJvcihcIkluUGFnZUFwcGVuZGVyLmluaXQ6IGludmFsaWQgY29udGFpbmVyIGVsZW1lbnQgJ1wiK2NvbnRhaW5lcitcIicgc3VwcGxpZWRcIixleCk7fX19O2lmKHBhZ2VMb2FkZWQmJmNvbnRhaW5lciYmY29udGFpbmVyLmFwcGVuZENoaWxkKXtjb250YWluZXJFbGVtZW50PWNvbnRhaW5lcjtvcGVuKCk7fWVsc2UgaWYocGFnZUxvYWRlZCl7cGFnZUxvYWRIYW5kbGVyKCk7fWVsc2V7bG9nNGphdmFzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixwYWdlTG9hZEhhbmRsZXIpO31cclxud2luZG93Q3JlYXRpb25TdGFydGVkPXRydWU7fX07aW5pdD1mdW5jdGlvbigpe2NyZWF0ZVdpbmRvdygpO2luaXRpYWxpemVkPXRydWU7fTtnZXRDb25zb2xlV2luZG93PWZ1bmN0aW9uKCl7dmFyIGlmcmFtZT13aW5kb3cuZnJhbWVzW2lmcmFtZUlkXTtpZihpZnJhbWUpe3JldHVybiBpZnJhbWU7fX07c2FmZVRvQXBwZW5kPWZ1bmN0aW9uKCl7aWYoaXNTdXBwb3J0ZWQmJiFjb25zb2xlQ2xvc2VkKXtpZihjb25zb2xlV2luZG93Q3JlYXRlZCYmIWNvbnNvbGVXaW5kb3dMb2FkZWQmJmdldENvbnNvbGVXaW5kb3coKSYmaXNMb2FkZWQoZ2V0Q29uc29sZVdpbmRvdygpKSl7Y29uc29sZVdpbmRvd0xvYWRlZD10cnVlO31cclxucmV0dXJuIGNvbnNvbGVXaW5kb3dMb2FkZWQ7fVxyXG5yZXR1cm4gZmFsc2U7fTt9ZWxzZXt2YXIgdXNlT2xkUG9wVXA9YXBwZW5kZXIuZGVmYXVsdHMudXNlT2xkUG9wVXA7dmFyIGNvbXBsYWluQWJvdXRQb3BVcEJsb2NraW5nPWFwcGVuZGVyLmRlZmF1bHRzLmNvbXBsYWluQWJvdXRQb3BVcEJsb2NraW5nO3ZhciByZW9wZW5XaGVuQ2xvc2VkPXRoaXMuZGVmYXVsdHMucmVvcGVuV2hlbkNsb3NlZDt0aGlzLmlzVXNlT2xkUG9wVXA9ZnVuY3Rpb24oKXtyZXR1cm4gdXNlT2xkUG9wVXA7fTt0aGlzLnNldFVzZU9sZFBvcFVwPWZ1bmN0aW9uKHVzZU9sZFBvcFVwUGFyYW0pe2lmKGNoZWNrQ2FuQ29uZmlndXJlKFwidXNlT2xkUG9wVXBcIikpe3VzZU9sZFBvcFVwPWJvb2wodXNlT2xkUG9wVXBQYXJhbSk7fX07dGhpcy5pc0NvbXBsYWluQWJvdXRQb3BVcEJsb2NraW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbXBsYWluQWJvdXRQb3BVcEJsb2NraW5nO307dGhpcy5zZXRDb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZz1mdW5jdGlvbihjb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZ1BhcmFtKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcImNvbXBsYWluQWJvdXRQb3BVcEJsb2NraW5nXCIpKXtjb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZz1ib29sKGNvbXBsYWluQWJvdXRQb3BVcEJsb2NraW5nUGFyYW0pO319O3RoaXMuaXNGb2N1c1BvcFVwPWZ1bmN0aW9uKCl7cmV0dXJuIGZvY3VzQ29uc29sZVdpbmRvdzt9O3RoaXMuc2V0Rm9jdXNQb3BVcD1mdW5jdGlvbihmb2N1c1BvcFVwUGFyYW0pe2ZvY3VzQ29uc29sZVdpbmRvdz1ib29sKGZvY3VzUG9wVXBQYXJhbSk7fTt0aGlzLmlzUmVvcGVuV2hlbkNsb3NlZD1mdW5jdGlvbigpe3JldHVybiByZW9wZW5XaGVuQ2xvc2VkO307dGhpcy5zZXRSZW9wZW5XaGVuQ2xvc2VkPWZ1bmN0aW9uKHJlb3BlbldoZW5DbG9zZWRQYXJhbSl7cmVvcGVuV2hlbkNsb3NlZD1ib29sKHJlb3BlbldoZW5DbG9zZWRQYXJhbSk7fTt0aGlzLmNsb3NlPWZ1bmN0aW9uKCl7bG9nTG9nLmRlYnVnKFwiY2xvc2UgXCIrdGhpcyk7dHJ5e3BvcFVwLmNsb3NlKCk7dGhpcy51bmxvYWQoKTt9Y2F0Y2goZXgpe319O3RoaXMuaGlkZT1mdW5jdGlvbigpe2xvZ0xvZy5kZWJ1ZyhcImhpZGUgXCIrdGhpcyk7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXt0aGlzLmNsb3NlKCk7fX07dGhpcy5zaG93PWZ1bmN0aW9uKCl7bG9nTG9nLmRlYnVnKFwic2hvdyBcIit0aGlzKTtpZighY29uc29sZVdpbmRvd0NyZWF0ZWQpe29wZW4oKTt9fTt0aGlzLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiBzYWZlVG9BcHBlbmQoKTt9O3ZhciBwb3BVcDtvcGVuPWZ1bmN0aW9uKCl7dmFyIHdpbmRvd1Byb3BlcnRpZXM9XCJ3aWR0aD1cIit3aWR0aCtcIixoZWlnaHQ9XCIraGVpZ2h0K1wiLHN0YXR1cyxyZXNpemFibGVcIjt2YXIgZnJhbWVJbmZvPVwiXCI7dHJ5e3ZhciBmcmFtZUVsPXdpbmRvdy5mcmFtZUVsZW1lbnQ7aWYoZnJhbWVFbCl7ZnJhbWVJbmZvPVwiX1wiK2ZyYW1lRWwudGFnTmFtZStcIl9cIisoZnJhbWVFbC5uYW1lfHxmcmFtZUVsLmlkfHxcIlwiKTt9fWNhdGNoKGUpe2ZyYW1lSW5mbz1cIl9pbmFjY2Vzc2libGVQYXJlbnRGcmFtZVwiO31cclxudmFyIHdpbmRvd05hbWU9XCJQb3BVcF9cIitsb2NhdGlvbi5ob3N0LnJlcGxhY2UoL1teYS16MC05XS9naSxcIl9cIikrXCJfXCIrY29uc29sZUFwcGVuZGVySWQrZnJhbWVJbmZvO2lmKCF1c2VPbGRQb3BVcHx8IXVzZURvY3VtZW50V3JpdGUpe3dpbmRvd05hbWU9d2luZG93TmFtZStcIl9cIit1bmlxdWVJZDt9XHJcbnZhciBjaGVja1BvcFVwQ2xvc2VkPWZ1bmN0aW9uKHdpbil7aWYoY29uc29sZUNsb3NlZCl7cmV0dXJuIHRydWU7fWVsc2V7dHJ5e3JldHVybiBib29sKHdpbikmJndpbi5jbG9zZWQ7fWNhdGNoKGV4KXt9fVxyXG5yZXR1cm4gZmFsc2U7fTt2YXIgcG9wVXBDbG9zZWRDYWxsYmFjaz1mdW5jdGlvbigpe2lmKCFjb25zb2xlQ2xvc2VkKXthcHBlbmRlci51bmxvYWQoKTt9fTtmdW5jdGlvbiBmaW5hbEluaXQoKXtnZXRDb25zb2xlV2luZG93KCkuc2V0Q2xvc2VJZk9wZW5lckNsb3NlcyghdXNlT2xkUG9wVXB8fCF1c2VEb2N1bWVudFdyaXRlKTtjb25zb2xlV2luZG93TG9hZEhhbmRsZXIoKTtjb25zb2xlV2luZG93TG9hZGVkPXRydWU7YXBwZW5kUXVldWVkTG9nZ2luZ0V2ZW50cygpO3BvbGxDb25zb2xlV2luZG93KGNoZWNrUG9wVXBDbG9zZWQsNTAwLHBvcFVwQ2xvc2VkQ2FsbGJhY2ssXCJQb3BVcEFwcGVuZGVyLmNoZWNrUG9wVXBDbG9zZWQ6IGVycm9yIGNoZWNraW5nIHBvcC11cCB3aW5kb3dcIik7fVxyXG50cnl7cG9wVXA9d2luZG93Lm9wZW4oZ2V0Q29uc29sZVVybCgpLHdpbmRvd05hbWUsd2luZG93UHJvcGVydGllcyk7Y29uc29sZUNsb3NlZD1mYWxzZTtjb25zb2xlV2luZG93Q3JlYXRlZD10cnVlO2lmKHBvcFVwJiZwb3BVcC5kb2N1bWVudCl7aWYodXNlRG9jdW1lbnRXcml0ZSYmdXNlT2xkUG9wVXAmJmlzTG9hZGVkKHBvcFVwKSl7cG9wVXAubWFpblBhZ2VSZWxvYWRlZCgpO2ZpbmFsSW5pdCgpO31lbHNle2lmKHVzZURvY3VtZW50V3JpdGUpe3dyaXRlSHRtbChwb3BVcC5kb2N1bWVudCk7fVxyXG52YXIgcG9wVXBMb2FkZWRUZXN0PWZ1bmN0aW9uKHdpbil7cmV0dXJuIGJvb2wod2luKSYmaXNMb2FkZWQod2luKTt9O2lmKGlzTG9hZGVkKHBvcFVwKSl7ZmluYWxJbml0KCk7fWVsc2V7cG9sbENvbnNvbGVXaW5kb3cocG9wVXBMb2FkZWRUZXN0LDEwMCxmaW5hbEluaXQsXCJQb3BVcEFwcGVuZGVyLmluaXQ6IHVuYWJsZSB0byBjcmVhdGUgY29uc29sZSB3aW5kb3dcIik7fX19ZWxzZXtpc1N1cHBvcnRlZD1mYWxzZTtsb2dMb2cud2FybihcIlBvcFVwQXBwZW5kZXIuaW5pdDogcG9wLXVwcyBibG9ja2VkLCBwbGVhc2UgdW5ibG9jayB0byB1c2UgUG9wVXBBcHBlbmRlclwiKTtpZihjb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZyl7aGFuZGxlRXJyb3IoXCJsb2c0amF2YXNjcmlwdDogcG9wLXVwIHdpbmRvd3MgYXBwZWFyIHRvIGJlIGJsb2NrZWQuIFBsZWFzZSB1bmJsb2NrIHRoZW0gdG8gdXNlIHBvcC11cCBsb2dnaW5nLlwiKTt9fX1jYXRjaChleCl7aGFuZGxlRXJyb3IoXCJQb3BVcEFwcGVuZGVyLmluaXQ6IGVycm9yIGNyZWF0aW5nIHBvcC11cFwiLGV4KTt9fTtjcmVhdGVXaW5kb3c9ZnVuY3Rpb24oKXtpZighaW5pdGlhbGx5TWluaW1pemVkKXtvcGVuKCk7fX07aW5pdD1mdW5jdGlvbigpe2NyZWF0ZVdpbmRvdygpO2luaXRpYWxpemVkPXRydWU7fTtnZXRDb25zb2xlV2luZG93PWZ1bmN0aW9uKCl7cmV0dXJuIHBvcFVwO307c2FmZVRvQXBwZW5kPWZ1bmN0aW9uKCl7aWYoaXNTdXBwb3J0ZWQmJiFpc1VuZGVmaW5lZChwb3BVcCkmJiFjb25zb2xlQ2xvc2VkKXtpZihwb3BVcC5jbG9zZWR8fChjb25zb2xlV2luZG93TG9hZGVkJiZpc1VuZGVmaW5lZChwb3BVcC5jbG9zZWQpKSl7YXBwZW5kZXIudW5sb2FkKCk7bG9nTG9nLmRlYnVnKFwiUG9wVXBBcHBlbmRlcjogcG9wLXVwIGNsb3NlZFwiKTtyZXR1cm4gZmFsc2U7fVxyXG5pZighY29uc29sZVdpbmRvd0xvYWRlZCYmaXNMb2FkZWQocG9wVXApKXtjb25zb2xlV2luZG93TG9hZGVkPXRydWU7fX1cclxucmV0dXJuIGlzU3VwcG9ydGVkJiZjb25zb2xlV2luZG93TG9hZGVkJiYhY29uc29sZUNsb3NlZDt9O31cclxudGhpcy5nZXRDb25zb2xlV2luZG93PWdldENvbnNvbGVXaW5kb3c7fTtDb25zb2xlQXBwZW5kZXIuYWRkR2xvYmFsQ29tbWFuZExpbmVGdW5jdGlvbj1mdW5jdGlvbihmdW5jdGlvbk5hbWUsY29tbWFuZExpbmVGdW5jdGlvbil7ZGVmYXVsdENvbW1hbmRMaW5lRnVuY3Rpb25zLnB1c2goW2Z1bmN0aW9uTmFtZSxjb21tYW5kTGluZUZ1bmN0aW9uXSk7fTtmdW5jdGlvbiBQb3BVcEFwcGVuZGVyKGxhenlJbml0LGluaXRpYWxseU1pbmltaXplZCx1c2VEb2N1bWVudFdyaXRlLHdpZHRoLGhlaWdodCl7dGhpcy5jcmVhdGUoZmFsc2UsbnVsbCxsYXp5SW5pdCxpbml0aWFsbHlNaW5pbWl6ZWQsdXNlRG9jdW1lbnRXcml0ZSx3aWR0aCxoZWlnaHQsdGhpcy5kZWZhdWx0cy5mb2N1c1BvcFVwKTt9XHJcblBvcFVwQXBwZW5kZXIucHJvdG90eXBlPW5ldyBDb25zb2xlQXBwZW5kZXIoKTtQb3BVcEFwcGVuZGVyLnByb3RvdHlwZS5kZWZhdWx0cz17bGF5b3V0Om5ldyBQYXR0ZXJuTGF5b3V0KFwiJWR7SEg6bW06c3N9ICUtNXAgLSAlbXsxfSVuXCIpLGluaXRpYWxseU1pbmltaXplZDpmYWxzZSxmb2N1c1BvcFVwOmZhbHNlLGxhenlJbml0OnRydWUsdXNlT2xkUG9wVXA6dHJ1ZSxjb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZzp0cnVlLG5ld2VzdE1lc3NhZ2VBdFRvcDpmYWxzZSxzY3JvbGxUb0xhdGVzdE1lc3NhZ2U6dHJ1ZSx3aWR0aDpcIjYwMFwiLGhlaWdodDpcIjQwMFwiLHJlb3BlbldoZW5DbG9zZWQ6ZmFsc2UsbWF4TWVzc2FnZXM6bnVsbCxzaG93Q29tbWFuZExpbmU6dHJ1ZSxjb21tYW5kTGluZU9iamVjdEV4cGFuc2lvbkRlcHRoOjEsc2hvd0hpZGVCdXR0b246ZmFsc2Usc2hvd0Nsb3NlQnV0dG9uOnRydWUsc2hvd0xvZ0VudHJ5RGVsZXRlQnV0dG9uczp0cnVlLHVzZURvY3VtZW50V3JpdGU6dHJ1ZX07UG9wVXBBcHBlbmRlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlBvcFVwQXBwZW5kZXJcIjt9O2xvZzRqYXZhc2NyaXB0LlBvcFVwQXBwZW5kZXI9UG9wVXBBcHBlbmRlcjtmdW5jdGlvbiBJblBhZ2VBcHBlbmRlcihjb250YWluZXIsbGF6eUluaXQsaW5pdGlhbGx5TWluaW1pemVkLHVzZURvY3VtZW50V3JpdGUsd2lkdGgsaGVpZ2h0KXt0aGlzLmNyZWF0ZSh0cnVlLGNvbnRhaW5lcixsYXp5SW5pdCxpbml0aWFsbHlNaW5pbWl6ZWQsdXNlRG9jdW1lbnRXcml0ZSx3aWR0aCxoZWlnaHQsZmFsc2UpO31cclxuSW5QYWdlQXBwZW5kZXIucHJvdG90eXBlPW5ldyBDb25zb2xlQXBwZW5kZXIoKTtJblBhZ2VBcHBlbmRlci5wcm90b3R5cGUuZGVmYXVsdHM9e2xheW91dDpuZXcgUGF0dGVybkxheW91dChcIiVke0hIOm1tOnNzfSAlLTVwIC0gJW17MX0lblwiKSxpbml0aWFsbHlNaW5pbWl6ZWQ6ZmFsc2UsbGF6eUluaXQ6dHJ1ZSxuZXdlc3RNZXNzYWdlQXRUb3A6ZmFsc2Usc2Nyb2xsVG9MYXRlc3RNZXNzYWdlOnRydWUsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMjIwcHhcIixtYXhNZXNzYWdlczpudWxsLHNob3dDb21tYW5kTGluZTp0cnVlLGNvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGg6MSxzaG93SGlkZUJ1dHRvbjpmYWxzZSxzaG93Q2xvc2VCdXR0b246ZmFsc2Usc2hvd0xvZ0VudHJ5RGVsZXRlQnV0dG9uczp0cnVlLHVzZURvY3VtZW50V3JpdGU6dHJ1ZX07SW5QYWdlQXBwZW5kZXIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJJblBhZ2VBcHBlbmRlclwiO307bG9nNGphdmFzY3JpcHQuSW5QYWdlQXBwZW5kZXI9SW5QYWdlQXBwZW5kZXI7bG9nNGphdmFzY3JpcHQuSW5saW5lQXBwZW5kZXI9SW5QYWdlQXBwZW5kZXI7fSkoKTtmdW5jdGlvbiBwYWRXaXRoU3BhY2VzKHN0cixsZW4pe2lmKHN0ci5sZW5ndGg8bGVuKXt2YXIgc3BhY2VzPVtdO3ZhciBudW1iZXJPZlNwYWNlcz1NYXRoLm1heCgwLGxlbi1zdHIubGVuZ3RoKTtmb3IodmFyIGk9MDtpPG51bWJlck9mU3BhY2VzO2krKyl7c3BhY2VzW2ldPVwiIFwiO31cclxuc3RyKz1zcGFjZXMuam9pbihcIlwiKTt9XHJcbnJldHVybiBzdHI7fVxyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBkaXIob2JqKXt2YXIgbWF4TGVuPTA7Zm9yKHZhciBwIGluIG9iail7bWF4TGVuPU1hdGgubWF4KHRvU3RyKHApLmxlbmd0aCxtYXhMZW4pO31cclxudmFyIHByb3BMaXN0PVtdO2ZvcihwIGluIG9iail7dmFyIHByb3BOYW1lU3RyPVwiICBcIitwYWRXaXRoU3BhY2VzKHRvU3RyKHApLG1heExlbisyKTt2YXIgcHJvcFZhbDt0cnl7cHJvcFZhbD1zcGxpdEludG9MaW5lcyh0b1N0cihvYmpbcF0pKS5qb2luKHBhZFdpdGhTcGFjZXMobmV3TGluZSxtYXhMZW4rNikpO31jYXRjaChleCl7cHJvcFZhbD1cIltFcnJvciBvYnRhaW5pbmcgcHJvcGVydHkuIERldGFpbHM6IFwiK2dldEV4Y2VwdGlvbk1lc3NhZ2UoZXgpK1wiXVwiO31cclxucHJvcExpc3QucHVzaChwcm9wTmFtZVN0citwcm9wVmFsKTt9XHJcbnJldHVybiBwcm9wTGlzdC5qb2luKG5ld0xpbmUpO31cclxudmFyIG5vZGVUeXBlcz17RUxFTUVOVF9OT0RFOjEsQVRUUklCVVRFX05PREU6MixURVhUX05PREU6MyxDREFUQV9TRUNUSU9OX05PREU6NCxFTlRJVFlfUkVGRVJFTkNFX05PREU6NSxFTlRJVFlfTk9ERTo2LFBST0NFU1NJTkdfSU5TVFJVQ1RJT05fTk9ERTo3LENPTU1FTlRfTk9ERTo4LERPQ1VNRU5UX05PREU6OSxET0NVTUVOVF9UWVBFX05PREU6MTAsRE9DVU1FTlRfRlJBR01FTlRfTk9ERToxMSxOT1RBVElPTl9OT0RFOjEyfTt2YXIgcHJlRm9ybWF0dGVkRWxlbWVudHM9W1wic2NyaXB0XCIsXCJwcmVcIl07dmFyIGVtcHR5RWxlbWVudHM9W1wiYnJcIixcImltZ1wiLFwiaHJcIixcInBhcmFtXCIsXCJsaW5rXCIsXCJhcmVhXCIsXCJpbnB1dFwiLFwiY29sXCIsXCJiYXNlXCIsXCJtZXRhXCJdO3ZhciBpbmRlbnRhdGlvblVuaXQ9XCIgIFwiO2Z1bmN0aW9uIGdldFhodG1sKHJvb3ROb2RlLGluY2x1ZGVSb290Tm9kZSxpbmRlbnRhdGlvbixzdGFydE5ld0xpbmUscHJlZm9ybWF0dGVkKXtpbmNsdWRlUm9vdE5vZGU9KHR5cGVvZiBpbmNsdWRlUm9vdE5vZGU9PVwidW5kZWZpbmVkXCIpP3RydWU6ISFpbmNsdWRlUm9vdE5vZGU7aWYodHlwZW9mIGluZGVudGF0aW9uIT1cInN0cmluZ1wiKXtpbmRlbnRhdGlvbj1cIlwiO31cclxuc3RhcnROZXdMaW5lPSEhc3RhcnROZXdMaW5lO3ByZWZvcm1hdHRlZD0hIXByZWZvcm1hdHRlZDt2YXIgeGh0bWw7ZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKG5vZGUpe3JldHVybigobm9kZS5ub2RlVHlwZT09bm9kZVR5cGVzLlRFWFRfTk9ERSkmJi9eWyBcXHRcXHJcXG5dKiQvLnRlc3Qobm9kZS5ub2RlVmFsdWUpKTt9XHJcbmZ1bmN0aW9uIGZpeEF0dHJpYnV0ZVZhbHVlKGF0dHJWYWx1ZSl7cmV0dXJuIGF0dHJWYWx1ZS50b1N0cmluZygpLnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKTt9XHJcbmZ1bmN0aW9uIGdldFN0eWxlQXR0cmlidXRlVmFsdWUoZWwpe3ZhciBzdHlsZVBhaXJzPWVsLnN0eWxlLmNzc1RleHQuc3BsaXQoXCI7XCIpO3ZhciBzdHlsZVZhbHVlPVwiXCI7dmFyIGlzRmlyc3Q9dHJ1ZTtmb3IodmFyIGo9MCxsZW49c3R5bGVQYWlycy5sZW5ndGg7ajxsZW47aisrKXt2YXIgbmFtZVZhbHVlQml0cz1zdHlsZVBhaXJzW2pdLnNwbGl0KFwiOlwiKTt2YXIgcHJvcHM9W107aWYoIS9eXFxzKiQvLnRlc3QobmFtZVZhbHVlQml0c1swXSkpe3Byb3BzLnB1c2godHJpbShuYW1lVmFsdWVCaXRzWzBdKS50b0xvd2VyQ2FzZSgpK1wiOlwiK3RyaW0obmFtZVZhbHVlQml0c1sxXSkpO31cclxuc3R5bGVWYWx1ZT1wcm9wcy5qb2luKFwiO1wiKTt9XHJcbnJldHVybiBzdHlsZVZhbHVlO31cclxuZnVuY3Rpb24gZ2V0TmFtZXNwYWNlKGVsKXtpZihlbC5wcmVmaXgpe3JldHVybiBlbC5wcmVmaXg7fWVsc2UgaWYoZWwub3V0ZXJIVE1MKXt2YXIgcmVnZXg9bmV3IFJlZ0V4cChcIjwoW146XSspOlwiK2VsLnRhZ05hbWUrXCJbXj5dKj5cIixcImlcIik7aWYocmVnZXgudGVzdChlbC5vdXRlckhUTUwpKXtyZXR1cm4gUmVnRXhwLiQxLnRvTG93ZXJDYXNlKCk7fX1cclxucmV0dXJuXCJcIjt9XHJcbnZhciBsdD1cIjxcIjt2YXIgZ3Q9XCI+XCI7aWYoaW5jbHVkZVJvb3ROb2RlJiZyb290Tm9kZS5ub2RlVHlwZSE9bm9kZVR5cGVzLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUpe3N3aXRjaChyb290Tm9kZS5ub2RlVHlwZSl7Y2FzZSBub2RlVHlwZXMuRUxFTUVOVF9OT0RFOnZhciB0YWdOYW1lPXJvb3ROb2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKTt4aHRtbD1zdGFydE5ld0xpbmU/bmV3TGluZStpbmRlbnRhdGlvbjpcIlwiO3hodG1sKz1sdDt2YXIgcHJlZml4PWdldE5hbWVzcGFjZShyb290Tm9kZSk7dmFyIGhhc1ByZWZpeD0hIXByZWZpeDtpZihoYXNQcmVmaXgpe3hodG1sKz1wcmVmaXgrXCI6XCI7fVxyXG54aHRtbCs9dGFnTmFtZTtmb3IoaT0wLGxlbj1yb290Tm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDtpPGxlbjtpKyspe3ZhciBjdXJyZW50QXR0cj1yb290Tm9kZS5hdHRyaWJ1dGVzW2ldO2lmKCFjdXJyZW50QXR0ci5zcGVjaWZpZWR8fGN1cnJlbnRBdHRyLm5vZGVWYWx1ZT09PW51bGx8fGN1cnJlbnRBdHRyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1cInN0eWxlXCJ8fHR5cGVvZiBjdXJyZW50QXR0ci5ub2RlVmFsdWUhPT1cInN0cmluZ1wifHxjdXJyZW50QXR0ci5ub2RlTmFtZS5pbmRleE9mKFwiX21velwiKT09PTApe2NvbnRpbnVlO31cclxueGh0bWwrPVwiIFwiK2N1cnJlbnRBdHRyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkrXCI9XFxcIlwiO3hodG1sKz1maXhBdHRyaWJ1dGVWYWx1ZShjdXJyZW50QXR0ci5ub2RlVmFsdWUpO3hodG1sKz1cIlxcXCJcIjt9XHJcbmlmKHJvb3ROb2RlLnN0eWxlLmNzc1RleHQpe3ZhciBzdHlsZVZhbHVlPWdldFN0eWxlQXR0cmlidXRlVmFsdWUocm9vdE5vZGUpO2lmKHN0eWxlVmFsdWUhPT1cIlwiKXt4aHRtbCs9XCIgc3R5bGU9XFxcIlwiK2dldFN0eWxlQXR0cmlidXRlVmFsdWUocm9vdE5vZGUpK1wiXFxcIlwiO319XHJcbmlmKGFycmF5X2NvbnRhaW5zKGVtcHR5RWxlbWVudHMsdGFnTmFtZSl8fChoYXNQcmVmaXgmJiFyb290Tm9kZS5oYXNDaGlsZE5vZGVzKCkpKXt4aHRtbCs9XCIvXCIrZ3Q7fWVsc2V7eGh0bWwrPWd0O3ZhciBjaGlsZFN0YXJ0TmV3TGluZT0hKHJvb3ROb2RlLmNoaWxkTm9kZXMubGVuZ3RoPT09MSYmcm9vdE5vZGUuY2hpbGROb2Rlc1swXS5ub2RlVHlwZT09PW5vZGVUeXBlcy5URVhUX05PREUpO3ZhciBjaGlsZFByZWZvcm1hdHRlZD1hcnJheV9jb250YWlucyhwcmVGb3JtYXR0ZWRFbGVtZW50cyx0YWdOYW1lKTtmb3IodmFyIGk9MCxsZW49cm9vdE5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7aTxsZW47aSsrKXt4aHRtbCs9Z2V0WGh0bWwocm9vdE5vZGUuY2hpbGROb2Rlc1tpXSx0cnVlLGluZGVudGF0aW9uK2luZGVudGF0aW9uVW5pdCxjaGlsZFN0YXJ0TmV3TGluZSxjaGlsZFByZWZvcm1hdHRlZCk7fVxyXG52YXIgZW5kVGFnPWx0K1wiL1wiK3RhZ05hbWUrZ3Q7eGh0bWwrPWNoaWxkU3RhcnROZXdMaW5lP25ld0xpbmUraW5kZW50YXRpb24rZW5kVGFnOmVuZFRhZzt9XHJcbnJldHVybiB4aHRtbDtjYXNlIG5vZGVUeXBlcy5URVhUX05PREU6aWYoaXNXaGl0ZXNwYWNlKHJvb3ROb2RlKSl7eGh0bWw9XCJcIjt9ZWxzZXtpZihwcmVmb3JtYXR0ZWQpe3hodG1sPXJvb3ROb2RlLm5vZGVWYWx1ZTt9ZWxzZXt2YXIgbGluZXM9c3BsaXRJbnRvTGluZXModHJpbShyb290Tm9kZS5ub2RlVmFsdWUpKTt2YXIgdHJpbW1lZExpbmVzPVtdO2Zvcih2YXIgaT0wLGxlbj1saW5lcy5sZW5ndGg7aTxsZW47aSsrKXt0cmltbWVkTGluZXNbaV09dHJpbShsaW5lc1tpXSk7fVxyXG54aHRtbD10cmltbWVkTGluZXMuam9pbihuZXdMaW5lK2luZGVudGF0aW9uKTt9XHJcbmlmKHN0YXJ0TmV3TGluZSl7eGh0bWw9bmV3TGluZStpbmRlbnRhdGlvbit4aHRtbDt9fVxyXG5yZXR1cm4geGh0bWw7Y2FzZSBub2RlVHlwZXMuQ0RBVEFfU0VDVElPTl9OT0RFOnJldHVyblwiPCFbQ0RBXCIrXCJUQVtcIityb290Tm9kZS5ub2RlVmFsdWUrXCJdXCIrXCJdPlwiK25ld0xpbmU7Y2FzZSBub2RlVHlwZXMuRE9DVU1FTlRfTk9ERTp4aHRtbD1cIlwiO2Zvcih2YXIgaT0wLGxlbj1yb290Tm9kZS5jaGlsZE5vZGVzLmxlbmd0aDtpPGxlbjtpKyspe3hodG1sKz1nZXRYaHRtbChyb290Tm9kZS5jaGlsZE5vZGVzW2ldLHRydWUsaW5kZW50YXRpb24pO31cclxucmV0dXJuIHhodG1sO2RlZmF1bHQ6cmV0dXJuXCJcIjt9fWVsc2V7eGh0bWw9XCJcIjtmb3IodmFyIGk9MCxsZW49cm9vdE5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7aTxsZW47aSsrKXt4aHRtbCs9Z2V0WGh0bWwocm9vdE5vZGUuY2hpbGROb2Rlc1tpXSx0cnVlLGluZGVudGF0aW9uK2luZGVudGF0aW9uVW5pdCk7fVxyXG5yZXR1cm4geGh0bWw7fX1cclxuZnVuY3Rpb24gY3JlYXRlQ29tbWFuZExpbmVGdW5jdGlvbnMoKXtDb25zb2xlQXBwZW5kZXIuYWRkR2xvYmFsQ29tbWFuZExpbmVGdW5jdGlvbihcIiRcIixmdW5jdGlvbihhcHBlbmRlcixhcmdzLHJldHVyblZhbHVlKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXJnc1swXSk7fSk7Q29uc29sZUFwcGVuZGVyLmFkZEdsb2JhbENvbW1hbmRMaW5lRnVuY3Rpb24oXCJkaXJcIixmdW5jdGlvbihhcHBlbmRlcixhcmdzLHJldHVyblZhbHVlKXt2YXIgbGluZXM9W107Zm9yKHZhciBpPTAsbGVuPWFyZ3MubGVuZ3RoO2k8bGVuO2krKyl7bGluZXNbaV09ZGlyKGFyZ3NbaV0pO31cclxucmV0dXJuIGxpbmVzLmpvaW4obmV3TGluZStuZXdMaW5lKTt9KTtDb25zb2xlQXBwZW5kZXIuYWRkR2xvYmFsQ29tbWFuZExpbmVGdW5jdGlvbihcImRpcnhtbFwiLGZ1bmN0aW9uKGFwcGVuZGVyLGFyZ3MscmV0dXJuVmFsdWUpe3ZhciBsaW5lcz1bXTtmb3IodmFyIGk9MCxsZW49YXJncy5sZW5ndGg7aTxsZW47aSsrKXt2YXIgd2luPWFwcGVuZGVyLmdldENvbW1hbmRXaW5kb3coKTtsaW5lc1tpXT1nZXRYaHRtbChhcmdzW2ldKTt9XHJcbnJldHVybiBsaW5lcy5qb2luKG5ld0xpbmUrbmV3TGluZSk7fSk7Q29uc29sZUFwcGVuZGVyLmFkZEdsb2JhbENvbW1hbmRMaW5lRnVuY3Rpb24oXCJjZFwiLGZ1bmN0aW9uKGFwcGVuZGVyLGFyZ3MscmV0dXJuVmFsdWUpe3ZhciB3aW4sbWVzc2FnZTtpZihhcmdzLmxlbmd0aD09PTB8fGFyZ3NbMF09PT1cIlwiKXt3aW49d2luZG93O21lc3NhZ2U9XCJDb21tYW5kIGxpbmUgc2V0IHRvIHJ1biBpbiBtYWluIHdpbmRvd1wiO31lbHNle2lmKGFyZ3NbMF0ud2luZG93PT1hcmdzWzBdKXt3aW49YXJnc1swXTttZXNzYWdlPVwiQ29tbWFuZCBsaW5lIHNldCB0byBydW4gaW4gZnJhbWUgJ1wiK2FyZ3NbMF0ubmFtZStcIidcIjt9ZWxzZXt3aW49d2luZG93LmZyYW1lc1thcmdzWzBdXTtpZih3aW4pe21lc3NhZ2U9XCJDb21tYW5kIGxpbmUgc2V0IHRvIHJ1biBpbiBmcmFtZSAnXCIrYXJnc1swXStcIidcIjt9ZWxzZXtyZXR1cm5WYWx1ZS5pc0Vycm9yPXRydWU7bWVzc2FnZT1cIkZyYW1lICdcIithcmdzWzBdK1wiJyBkb2VzIG5vdCBleGlzdFwiO3dpbj1hcHBlbmRlci5nZXRDb21tYW5kV2luZG93KCk7fX19XHJcbmFwcGVuZGVyLnNldENvbW1hbmRXaW5kb3cod2luKTtyZXR1cm4gbWVzc2FnZTt9KTtDb25zb2xlQXBwZW5kZXIuYWRkR2xvYmFsQ29tbWFuZExpbmVGdW5jdGlvbihcImNsZWFyXCIsZnVuY3Rpb24oYXBwZW5kZXIsYXJncyxyZXR1cm5WYWx1ZSl7cmV0dXJuVmFsdWUuYXBwZW5kUmVzdWx0PWZhbHNlO2FwcGVuZGVyLmNsZWFyKCk7fSk7Q29uc29sZUFwcGVuZGVyLmFkZEdsb2JhbENvbW1hbmRMaW5lRnVuY3Rpb24oXCJrZXlzXCIsZnVuY3Rpb24oYXBwZW5kZXIsYXJncyxyZXR1cm5WYWx1ZSl7dmFyIGtleXM9W107Zm9yKHZhciBrIGluIGFyZ3NbMF0pe2tleXMucHVzaChrKTt9XHJcbnJldHVybiBrZXlzO30pO0NvbnNvbGVBcHBlbmRlci5hZGRHbG9iYWxDb21tYW5kTGluZUZ1bmN0aW9uKFwidmFsdWVzXCIsZnVuY3Rpb24oYXBwZW5kZXIsYXJncyxyZXR1cm5WYWx1ZSl7dmFyIHZhbHVlcz1bXTtmb3IodmFyIGsgaW4gYXJnc1swXSl7dHJ5e3ZhbHVlcy5wdXNoKGFyZ3NbMF1ba10pO31jYXRjaChleCl7bG9nTG9nLndhcm4oXCJ2YWx1ZXMoKTogVW5hYmxlIHRvIG9idGFpbiB2YWx1ZSBmb3Iga2V5IFwiK2srXCIuIERldGFpbHM6IFwiK2dldEV4Y2VwdGlvbk1lc3NhZ2UoZXgpKTt9fVxyXG5yZXR1cm4gdmFsdWVzO30pO0NvbnNvbGVBcHBlbmRlci5hZGRHbG9iYWxDb21tYW5kTGluZUZ1bmN0aW9uKFwiZXhwYW5zaW9uRGVwdGhcIixmdW5jdGlvbihhcHBlbmRlcixhcmdzLHJldHVyblZhbHVlKXt2YXIgZXhwYW5zaW9uRGVwdGg9cGFyc2VJbnQoYXJnc1swXSwxMCk7aWYoaXNOYU4oZXhwYW5zaW9uRGVwdGgpfHxleHBhbnNpb25EZXB0aDwwKXtyZXR1cm5WYWx1ZS5pc0Vycm9yPXRydWU7cmV0dXJuXCJcIithcmdzWzBdK1wiIGlzIG5vdCBhIHZhbGlkIGV4cGFuc2lvbiBkZXB0aFwiO31lbHNle2FwcGVuZGVyLnNldENvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGgoZXhwYW5zaW9uRGVwdGgpO3JldHVyblwiT2JqZWN0IGV4cGFuc2lvbiBkZXB0aCBzZXQgdG8gXCIrZXhwYW5zaW9uRGVwdGg7fX0pO31cclxuZnVuY3Rpb24gaW5pdCgpe2NyZWF0ZUNvbW1hbmRMaW5lRnVuY3Rpb25zKCk7fVxyXG5pbml0KCk7fSkoKTtsb2c0amF2YXNjcmlwdC5zZXREb2N1bWVudFJlYWR5PWZ1bmN0aW9uKCl7cGFnZUxvYWRlZD10cnVlO2xvZzRqYXZhc2NyaXB0LmRpc3BhdGNoRXZlbnQoXCJsb2FkXCIse30pO307aWYod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGxvZzRqYXZhc2NyaXB0LnNldERvY3VtZW50UmVhZHksZmFsc2UpO31lbHNlIGlmKHdpbmRvdy5hdHRhY2hFdmVudCl7d2luZG93LmF0dGFjaEV2ZW50KFwib25sb2FkXCIsbG9nNGphdmFzY3JpcHQuc2V0RG9jdW1lbnRSZWFkeSk7fWVsc2V7dmFyIG9sZE9ubG9hZD13aW5kb3cub25sb2FkO2lmKHR5cGVvZiB3aW5kb3cub25sb2FkIT1cImZ1bmN0aW9uXCIpe3dpbmRvdy5vbmxvYWQ9bG9nNGphdmFzY3JpcHQuc2V0RG9jdW1lbnRSZWFkeTt9ZWxzZXt3aW5kb3cub25sb2FkPWZ1bmN0aW9uKGV2dCl7aWYob2xkT25sb2FkKXtvbGRPbmxvYWQoZXZ0KTt9XHJcbmxvZzRqYXZhc2NyaXB0LnNldERvY3VtZW50UmVhZHkoKTt9O319XHJcbndpbmRvdy5sb2c0amF2YXNjcmlwdD1sb2c0amF2YXNjcmlwdDtyZXR1cm4gbG9nNGphdmFzY3JpcHQ7fSkoKTtcclxuXG5cInVzZSBzdHJpY3RcIlxyXG4vLyBNb2R1bGUgZXhwb3J0IHBhdHRlcm4gZnJvbVxyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanNcclxuOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcclxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcclxuICAgICAgICAvLyBsaWtlIE5vZGUuXHJcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXHJcbiAgICAgICAgcm9vdC5zdG9yZSA9IGZhY3RvcnkoKTtcclxuICB9XHJcbn0odGhpcywgZnVuY3Rpb24gKCkge1xyXG5cdFxyXG5cdC8vIFN0b3JlLmpzXHJcblx0dmFyIHN0b3JlID0ge30sXHJcblx0XHR3aW4gPSAodHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbCksXHJcblx0XHRkb2MgPSB3aW4uZG9jdW1lbnQsXHJcblx0XHRsb2NhbFN0b3JhZ2VOYW1lID0gJ2xvY2FsU3RvcmFnZScsXHJcblx0XHRzY3JpcHRUYWcgPSAnc2NyaXB0JyxcclxuXHRcdHN0b3JhZ2VcclxuXHJcblx0c3RvcmUuZGlzYWJsZWQgPSBmYWxzZVxyXG5cdHN0b3JlLnZlcnNpb24gPSAnMS4zLjIwJ1xyXG5cdHN0b3JlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHt9XHJcblx0c3RvcmUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBkZWZhdWx0VmFsKSB7fVxyXG5cdHN0b3JlLmhhcyA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gc3RvcmUuZ2V0KGtleSkgIT09IHVuZGVmaW5lZCB9XHJcblx0c3RvcmUucmVtb3ZlID0gZnVuY3Rpb24oa2V5KSB7fVxyXG5cdHN0b3JlLmNsZWFyID0gZnVuY3Rpb24oKSB7fVxyXG5cdHN0b3JlLnRyYW5zYWN0ID0gZnVuY3Rpb24oa2V5LCBkZWZhdWx0VmFsLCB0cmFuc2FjdGlvbkZuKSB7XHJcblx0XHRpZiAodHJhbnNhY3Rpb25GbiA9PSBudWxsKSB7XHJcblx0XHRcdHRyYW5zYWN0aW9uRm4gPSBkZWZhdWx0VmFsXHJcblx0XHRcdGRlZmF1bHRWYWwgPSBudWxsXHJcblx0XHR9XHJcblx0XHRpZiAoZGVmYXVsdFZhbCA9PSBudWxsKSB7XHJcblx0XHRcdGRlZmF1bHRWYWwgPSB7fVxyXG5cdFx0fVxyXG5cdFx0dmFyIHZhbCA9IHN0b3JlLmdldChrZXksIGRlZmF1bHRWYWwpXHJcblx0XHR0cmFuc2FjdGlvbkZuKHZhbClcclxuXHRcdHN0b3JlLnNldChrZXksIHZhbClcclxuXHR9XHJcblx0c3RvcmUuZ2V0QWxsID0gZnVuY3Rpb24oKSB7fVxyXG5cdHN0b3JlLmZvckVhY2ggPSBmdW5jdGlvbigpIHt9XHJcblxyXG5cdHN0b3JlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpXHJcblx0fVxyXG5cdHN0b3JlLmRlc2VyaWFsaXplID0gZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHsgcmV0dXJuIHVuZGVmaW5lZCB9XHJcblx0XHR0cnkgeyByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSkgfVxyXG5cdFx0Y2F0Y2goZSkgeyByZXR1cm4gdmFsdWUgfHwgdW5kZWZpbmVkIH1cclxuXHR9XHJcblxyXG5cdC8vIEZ1bmN0aW9ucyB0byBlbmNhcHN1bGF0ZSBxdWVzdGlvbmFibGUgRmlyZUZveCAzLjYuMTMgYmVoYXZpb3JcclxuXHQvLyB3aGVuIGFib3V0LmNvbmZpZzo6ZG9tLnN0b3JhZ2UuZW5hYmxlZCA9PT0gZmFsc2VcclxuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcmN1c3dlc3Rpbi9zdG9yZS5qcy9pc3N1ZXMjaXNzdWUvMTNcclxuXHRmdW5jdGlvbiBpc0xvY2FsU3RvcmFnZU5hbWVTdXBwb3J0ZWQoKSB7XHJcblx0XHR0cnkgeyByZXR1cm4gKGxvY2FsU3RvcmFnZU5hbWUgaW4gd2luICYmIHdpbltsb2NhbFN0b3JhZ2VOYW1lXSkgfVxyXG5cdFx0Y2F0Y2goZXJyKSB7IHJldHVybiBmYWxzZSB9XHJcblx0fVxyXG5cclxuXHRpZiAoaXNMb2NhbFN0b3JhZ2VOYW1lU3VwcG9ydGVkKCkpIHtcclxuXHRcdHN0b3JhZ2UgPSB3aW5bbG9jYWxTdG9yYWdlTmFtZV1cclxuXHRcdHN0b3JlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsKSB7XHJcblx0XHRcdGlmICh2YWwgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gc3RvcmUucmVtb3ZlKGtleSkgfVxyXG5cdFx0XHRzdG9yYWdlLnNldEl0ZW0oa2V5LCBzdG9yZS5zZXJpYWxpemUodmFsKSlcclxuXHRcdFx0cmV0dXJuIHZhbFxyXG5cdFx0fVxyXG5cdFx0c3RvcmUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBkZWZhdWx0VmFsKSB7XHJcblx0XHRcdHZhciB2YWwgPSBzdG9yZS5kZXNlcmlhbGl6ZShzdG9yYWdlLmdldEl0ZW0oa2V5KSlcclxuXHRcdFx0cmV0dXJuICh2YWwgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWwgOiB2YWwpXHJcblx0XHR9XHJcblx0XHRzdG9yZS5yZW1vdmUgPSBmdW5jdGlvbihrZXkpIHsgc3RvcmFnZS5yZW1vdmVJdGVtKGtleSkgfVxyXG5cdFx0c3RvcmUuY2xlYXIgPSBmdW5jdGlvbigpIHsgc3RvcmFnZS5jbGVhcigpIH1cclxuXHRcdHN0b3JlLmdldEFsbCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgcmV0ID0ge31cclxuXHRcdFx0c3RvcmUuZm9yRWFjaChmdW5jdGlvbihrZXksIHZhbCkge1xyXG5cdFx0XHRcdHJldFtrZXldID0gdmFsXHJcblx0XHRcdH0pXHJcblx0XHRcdHJldHVybiByZXRcclxuXHRcdH1cclxuXHRcdHN0b3JlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG5cdFx0XHRmb3IgKHZhciBpPTA7IGk8c3RvcmFnZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBrZXkgPSBzdG9yYWdlLmtleShpKVxyXG5cdFx0XHRcdGNhbGxiYWNrKGtleSwgc3RvcmUuZ2V0KGtleSkpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9IGVsc2UgaWYgKGRvYyAmJiBkb2MuZG9jdW1lbnRFbGVtZW50LmFkZEJlaGF2aW9yKSB7XHJcblx0XHR2YXIgc3RvcmFnZU93bmVyLFxyXG5cdFx0XHRzdG9yYWdlQ29udGFpbmVyXHJcblx0XHQvLyBTaW5jZSAjdXNlckRhdGEgc3RvcmFnZSBhcHBsaWVzIG9ubHkgdG8gc3BlY2lmaWMgcGF0aHMsIHdlIG5lZWQgdG9cclxuXHRcdC8vIHNvbWVob3cgbGluayBvdXIgZGF0YSB0byBhIHNwZWNpZmljIHBhdGguICBXZSBjaG9vc2UgL2Zhdmljb24uaWNvXHJcblx0XHQvLyBhcyBhIHByZXR0eSBzYWZlIG9wdGlvbiwgc2luY2UgYWxsIGJyb3dzZXJzIGFscmVhZHkgbWFrZSBhIHJlcXVlc3QgdG9cclxuXHRcdC8vIHRoaXMgVVJMIGFueXdheSBhbmQgYmVpbmcgYSA0MDQgd2lsbCBub3QgaHVydCB1cyBoZXJlLiAgV2Ugd3JhcCBhblxyXG5cdFx0Ly8gaWZyYW1lIHBvaW50aW5nIHRvIHRoZSBmYXZpY29uIGluIGFuIEFjdGl2ZVhPYmplY3QoaHRtbGZpbGUpIG9iamVjdFxyXG5cdFx0Ly8gKHNlZTogaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2FhNzUyNTc0KHY9VlMuODUpLmFzcHgpXHJcblx0XHQvLyBzaW5jZSB0aGUgaWZyYW1lIGFjY2VzcyBydWxlcyBhcHBlYXIgdG8gYWxsb3cgZGlyZWN0IGFjY2VzcyBhbmRcclxuXHRcdC8vIG1hbmlwdWxhdGlvbiBvZiB0aGUgZG9jdW1lbnQgZWxlbWVudCwgZXZlbiBmb3IgYSA0MDQgcGFnZS4gIFRoaXNcclxuXHRcdC8vIGRvY3VtZW50IGNhbiBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgZG9jdW1lbnQgKHdoaWNoIHdvdWxkXHJcblx0XHQvLyBoYXZlIGJlZW4gbGltaXRlZCB0byB0aGUgY3VycmVudCBwYXRoKSB0byBwZXJmb3JtICN1c2VyRGF0YSBzdG9yYWdlLlxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0c3RvcmFnZUNvbnRhaW5lciA9IG5ldyBBY3RpdmVYT2JqZWN0KCdodG1sZmlsZScpXHJcblx0XHRcdHN0b3JhZ2VDb250YWluZXIub3BlbigpXHJcblx0XHRcdHN0b3JhZ2VDb250YWluZXIud3JpdGUoJzwnK3NjcmlwdFRhZysnPmRvY3VtZW50Lnc9d2luZG93PC8nK3NjcmlwdFRhZysnPjxpZnJhbWUgc3JjPVwiL2Zhdmljb24uaWNvXCI+PC9pZnJhbWU+JylcclxuXHRcdFx0c3RvcmFnZUNvbnRhaW5lci5jbG9zZSgpXHJcblx0XHRcdHN0b3JhZ2VPd25lciA9IHN0b3JhZ2VDb250YWluZXIudy5mcmFtZXNbMF0uZG9jdW1lbnRcclxuXHRcdFx0c3RvcmFnZSA9IHN0b3JhZ2VPd25lci5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdFx0fSBjYXRjaChlKSB7XHJcblx0XHRcdC8vIHNvbWVob3cgQWN0aXZlWE9iamVjdCBpbnN0YW50aWF0aW9uIGZhaWxlZCAocGVyaGFwcyBzb21lIHNwZWNpYWxcclxuXHRcdFx0Ly8gc2VjdXJpdHkgc2V0dGluZ3Mgb3Igb3RoZXJ3c2UpLCBmYWxsIGJhY2sgdG8gcGVyLXBhdGggc3RvcmFnZVxyXG5cdFx0XHRzdG9yYWdlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0XHRcdHN0b3JhZ2VPd25lciA9IGRvYy5ib2R5XHJcblx0XHR9XHJcblx0XHR2YXIgd2l0aElFU3RvcmFnZSA9IGZ1bmN0aW9uKHN0b3JlRnVuY3Rpb24pIHtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKVxyXG5cdFx0XHRcdGFyZ3MudW5zaGlmdChzdG9yYWdlKVxyXG5cdFx0XHRcdC8vIFNlZSBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzEwODEodj1WUy44NSkuYXNweFxyXG5cdFx0XHRcdC8vIGFuZCBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzE0MjQodj1WUy44NSkuYXNweFxyXG5cdFx0XHRcdHN0b3JhZ2VPd25lci5hcHBlbmRDaGlsZChzdG9yYWdlKVxyXG5cdFx0XHRcdHN0b3JhZ2UuYWRkQmVoYXZpb3IoJyNkZWZhdWx0I3VzZXJEYXRhJylcclxuXHRcdFx0XHRzdG9yYWdlLmxvYWQobG9jYWxTdG9yYWdlTmFtZSlcclxuXHRcdFx0XHR2YXIgcmVzdWx0ID0gc3RvcmVGdW5jdGlvbi5hcHBseShzdG9yZSwgYXJncylcclxuXHRcdFx0XHRzdG9yYWdlT3duZXIucmVtb3ZlQ2hpbGQoc3RvcmFnZSlcclxuXHRcdFx0XHRyZXR1cm4gcmVzdWx0XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBJbiBJRTcsIGtleXMgY2Fubm90IHN0YXJ0IHdpdGggYSBkaWdpdCBvciBjb250YWluIGNlcnRhaW4gY2hhcnMuXHJcblx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcmN1c3dlc3Rpbi9zdG9yZS5qcy9pc3N1ZXMvNDBcclxuXHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFyY3Vzd2VzdGluL3N0b3JlLmpzL2lzc3Vlcy84M1xyXG5cdFx0dmFyIGZvcmJpZGRlbkNoYXJzUmVnZXggPSBuZXcgUmVnRXhwKFwiWyFcXFwiIyQlJicoKSorLC9cXFxcXFxcXDo7PD0+P0BbXFxcXF1eYHt8fX5dXCIsIFwiZ1wiKVxyXG5cdFx0dmFyIGllS2V5Rml4ID0gZnVuY3Rpb24oa2V5KSB7XHJcblx0XHRcdHJldHVybiBrZXkucmVwbGFjZSgvXmQvLCAnX19fJCYnKS5yZXBsYWNlKGZvcmJpZGRlbkNoYXJzUmVnZXgsICdfX18nKVxyXG5cdFx0fVxyXG5cdFx0c3RvcmUuc2V0ID0gd2l0aElFU3RvcmFnZShmdW5jdGlvbihzdG9yYWdlLCBrZXksIHZhbCkge1xyXG5cdFx0XHRrZXkgPSBpZUtleUZpeChrZXkpXHJcblx0XHRcdGlmICh2YWwgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gc3RvcmUucmVtb3ZlKGtleSkgfVxyXG5cdFx0XHRzdG9yYWdlLnNldEF0dHJpYnV0ZShrZXksIHN0b3JlLnNlcmlhbGl6ZSh2YWwpKVxyXG5cdFx0XHRzdG9yYWdlLnNhdmUobG9jYWxTdG9yYWdlTmFtZSlcclxuXHRcdFx0cmV0dXJuIHZhbFxyXG5cdFx0fSlcclxuXHRcdHN0b3JlLmdldCA9IHdpdGhJRVN0b3JhZ2UoZnVuY3Rpb24oc3RvcmFnZSwga2V5LCBkZWZhdWx0VmFsKSB7XHJcblx0XHRcdGtleSA9IGllS2V5Rml4KGtleSlcclxuXHRcdFx0dmFyIHZhbCA9IHN0b3JlLmRlc2VyaWFsaXplKHN0b3JhZ2UuZ2V0QXR0cmlidXRlKGtleSkpXHJcblx0XHRcdHJldHVybiAodmFsID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsIDogdmFsKVxyXG5cdFx0fSlcclxuXHRcdHN0b3JlLnJlbW92ZSA9IHdpdGhJRVN0b3JhZ2UoZnVuY3Rpb24oc3RvcmFnZSwga2V5KSB7XHJcblx0XHRcdGtleSA9IGllS2V5Rml4KGtleSlcclxuXHRcdFx0c3RvcmFnZS5yZW1vdmVBdHRyaWJ1dGUoa2V5KVxyXG5cdFx0XHRzdG9yYWdlLnNhdmUobG9jYWxTdG9yYWdlTmFtZSlcclxuXHRcdH0pXHJcblx0XHRzdG9yZS5jbGVhciA9IHdpdGhJRVN0b3JhZ2UoZnVuY3Rpb24oc3RvcmFnZSkge1xyXG5cdFx0XHR2YXIgYXR0cmlidXRlcyA9IHN0b3JhZ2UuWE1MRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmF0dHJpYnV0ZXNcclxuXHRcdFx0c3RvcmFnZS5sb2FkKGxvY2FsU3RvcmFnZU5hbWUpXHJcblx0XHRcdGZvciAodmFyIGk9YXR0cmlidXRlcy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XHJcblx0XHRcdFx0c3RvcmFnZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlc1tpXS5uYW1lKVxyXG5cdFx0XHR9XHJcblx0XHRcdHN0b3JhZ2Uuc2F2ZShsb2NhbFN0b3JhZ2VOYW1lKVxyXG5cdFx0fSlcclxuXHRcdHN0b3JlLmdldEFsbCA9IGZ1bmN0aW9uKHN0b3JhZ2UpIHtcclxuXHRcdFx0dmFyIHJldCA9IHt9XHJcblx0XHRcdHN0b3JlLmZvckVhY2goZnVuY3Rpb24oa2V5LCB2YWwpIHtcclxuXHRcdFx0XHRyZXRba2V5XSA9IHZhbFxyXG5cdFx0XHR9KVxyXG5cdFx0XHRyZXR1cm4gcmV0XHJcblx0XHR9XHJcblx0XHRzdG9yZS5mb3JFYWNoID0gd2l0aElFU3RvcmFnZShmdW5jdGlvbihzdG9yYWdlLCBjYWxsYmFjaykge1xyXG5cdFx0XHR2YXIgYXR0cmlidXRlcyA9IHN0b3JhZ2UuWE1MRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmF0dHJpYnV0ZXNcclxuXHRcdFx0Zm9yICh2YXIgaT0wLCBhdHRyOyBhdHRyPWF0dHJpYnV0ZXNbaV07ICsraSkge1xyXG5cdFx0XHRcdGNhbGxiYWNrKGF0dHIubmFtZSwgc3RvcmUuZGVzZXJpYWxpemUoc3RvcmFnZS5nZXRBdHRyaWJ1dGUoYXR0ci5uYW1lKSkpXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHR0cnkge1xyXG5cdFx0dmFyIHRlc3RLZXkgPSAnX19zdG9yZWpzX18nXHJcblx0XHRzdG9yZS5zZXQodGVzdEtleSwgdGVzdEtleSlcclxuXHRcdGlmIChzdG9yZS5nZXQodGVzdEtleSkgIT0gdGVzdEtleSkgeyBzdG9yZS5kaXNhYmxlZCA9IHRydWUgfVxyXG5cdFx0c3RvcmUucmVtb3ZlKHRlc3RLZXkpXHJcblx0fSBjYXRjaChlKSB7XHJcblx0XHRzdG9yZS5kaXNhYmxlZCA9IHRydWVcclxuXHR9XHJcblx0c3RvcmUuZW5hYmxlZCA9ICFzdG9yZS5kaXNhYmxlZFxyXG5cdFxyXG5cdHJldHVybiBzdG9yZVxyXG59KSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
