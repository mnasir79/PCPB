!function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?$e(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.5/"+(e?e+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent($e(o[r]));return new t(s)}}function n(e){if(null==e||L(e))return!1;if(Gr(e)||w(e)||Rr&&e instanceof Rr)return!0;var t="length"in Object(e)&&e.length;return x(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,i){var o,a;if(e)if(C(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(i,e[o],o,e);else if(Gr(e)||n(e)){var s="object"!=typeof e;for(o=0,a=e.length;a>o;o++)(s||o in e)&&t.call(i,e[o],o,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else if(b(e))for(o in e)t.call(i,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e);else for(o in e)Mr.call(e,o)&&t.call(i,e[o],o,e);return e}function i(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function o(e){return function(t,n){e(n,t)}}function a(){return++qr}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;o>i;++i){var a=t[i];if(y(a)||C(a))for(var u=Object.keys(a),c=0,h=u.length;h>c;c++){var p=u[c],d=a[p];n&&y(d)?E(d)?e[p]=new Date(d.valueOf()):S(d)?e[p]=new RegExp(d):d.nodeName?e[p]=d.cloneNode(!0):R(d)?e[p]=d.clone():(y(e[p])||(e[p]=Gr(d)?[]:{}),l(e[p],[d],!0)):e[p]=d}}return s(e,r),e}function u(e){return l(e,Pr.call(arguments,1),!1)}function c(e){return l(e,Pr.call(arguments,1),!0)}function h(e){return parseInt(e,10)}function p(e,t){return u(Object.create(e),t)}function d(){}function f(e){return e}function g(e){return function(){return e}}function m(e){return C(e.toString)&&e.toString!==Br}function v(e){return"undefined"==typeof e}function $(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function b(e){return null!==e&&"object"==typeof e&&!Ur(e)}function w(e){return"string"==typeof e}function x(e){return"number"==typeof e}function E(e){return"[object Date]"===Br.call(e)}function C(e){return"function"==typeof e}function S(e){return"[object RegExp]"===Br.call(e)}function L(e){return e&&e.window===e}function A(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"[object File]"===Br.call(e)}function M(e){return"[object FormData]"===Br.call(e)}function k(e){return"[object Blob]"===Br.call(e)}function I(e){return"boolean"==typeof e}function N(e){return e&&C(e.then)}function D(e){return e&&x(e.length)&&zr.test(Br.call(e))}function O(e){return"[object ArrayBuffer]"===Br.call(e)}function R(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function j(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function F(e){return kr(e.nodeName||e[0]&&e[0].nodeName)}function P(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function _(e,t){function n(e,t){var n,r=t.$$hashKey;if(Gr(e))for(var o=0,a=e.length;a>o;o++)t.push(i(e[o]));else if(b(e))for(n in e)t[n]=i(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));else for(n in e)Mr.call(e,n)&&(t[n]=i(e[n]));return s(t,r),t}function i(e){if(!y(e))return e;var t=a.indexOf(e);if(-1!==t)return l[t];if(L(e)||A(e))throw Hr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=o(e);return void 0===i&&(i=Gr(e)?[]:Object.create(Ur(e)),r=!0),a.push(e),l.push(i),r?n(e,i):i}function o(e){switch(Br.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(i(e.buffer));case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}return C(e.cloneNode)?e.cloneNode(!0):void 0}var a=[],l=[];if(t){if(D(t)||O(t))throw Hr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Hr("cpi","Can't copy! Source and destination are identical.");return Gr(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),l.push(t),n(e,t)}return i(e)}function V(e,t){if(Gr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function B(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!Gr(e)){if(E(e))return E(t)?B(e.getTime(),t.getTime()):!1;if(S(e))return S(t)?e.toString()==t.toString():!1;if(A(e)||A(t)||L(e)||L(t)||Gr(t)||E(t)||S(t))return!1;i=ge();for(r in e)if("$"!==r.charAt(0)&&!C(e[r])){if(!B(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&$(t[r])&&!C(t[r]))return!1;return!0}if(!Gr(t))return!1;if((n=e.length)==t.length){for(r=0;n>r;r++)if(!B(e[r],t[r]))return!1;return!0}}return!1}function U(e,t,n){return e.concat(Pr.call(t,n))}function H(e,t){return Pr.call(e,t||0)}function W(e,t){var n=arguments.length>2?H(arguments,2):[];return!C(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,U(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:L(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":A(n)&&(r="$SCOPE"),r}function G(e,t){return v(e)?void 0:(x(t)||(t=t?2:null),JSON.stringify(e,q,t))}function z(e){return w(e)?JSON.parse(e):e}function K(e,t){e=e.replace(Qr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function X(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function J(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=K(t,r);return X(e,n*(i-r))}function Y(e){e=Rr(e).clone();try{e.empty()}catch(t){}var n=Rr("<div>").append(e).html();try{return e[0].nodeType===ii?kr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+kr(t)})}catch(t){return kr(n)}}function Q(e){try{return decodeURIComponent(e)}catch(t){}}function Z(e){var t={};return r((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=Q(r),$(r)&&(i=$(i)?Q(i):!0,Mr.call(t,r)?Gr(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function ee(e){var t=[];return r(e,function(e,n){Gr(e)?r(e,function(e){t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}):t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}),t.length?t.join("&"):""}function te(e){return ne(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ne(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function re(e,t){var n,r,i=Zr.length;for(r=0;i>r;++r)if(n=Zr[r]+t,w(n=e.getAttribute(n)))return n;return null}function ie(e,t){var n,i,o={};r(Zr,function(t){var r=t+"app";!n&&e.hasAttribute&&e.hasAttribute(r)&&(n=e,i=e.getAttribute(r))}),r(Zr,function(t){var r,o=t+"app";!n&&(r=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(o.strictDi=null!==re(n,"strict-di"),t(n,i?[i]:[],o))}function oe(t,n,i){y(i)||(i={});var o={strictDi:!1};i=u(o,i);var a=function(){if(t=Rr(t),t.injector()){var r=t[0]===e.document?"document":Y(t);throw Hr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=nt(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?a():(e.name=e.name.replace(l,""),Wr.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),a()},void(C(Wr.resumeDeferredBootstrap)&&Wr.resumeDeferredBootstrap()))}function ae(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function se(e){var t=Wr.element(e).injector();if(!t)throw Hr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function le(e,t){return t=t||"_",e.replace(ei,function(e,n){return(n?t:"")+e.toLowerCase()})}function ue(){var t;if(!ti){var n=Yr();jr=v(n)?e.jQuery:n?e[n]:void 0,jr&&jr.fn.on?(Rr=jr,u(jr.fn,{scope:Ei.scope,isolateScope:Ei.isolateScope,controller:Ei.controller,injector:Ei.injector,inheritedData:Ei.inheritedData}),t=jr.cleanData,jr.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)n=jr._data(r,"events"),n&&n.$destroy&&jr(r).triggerHandler("$destroy");t(e)}):Rr=Me,Wr.element=Rr,ti=!0}}function ce(e,t,n){if(!e)throw Hr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function he(e,t,n){return n&&Gr(e)&&(e=e[e.length-1]),ce(C(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function pe(e,t){if("hasOwnProperty"===e)throw Hr("badname","hasOwnProperty is not a valid {0} name",t)}function de(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&C(e)?W(o,e):e}function fe(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Rr(Pr.call(e,0,i))),t.push(n));return t||e}function ge(){return Object.create(null)}function me(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),c}}function n(e,n){return function(r,o){return o&&C(o)&&(o.$$moduleName=t),i.push([e,n,arguments]),c}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var i=[],s=[],l=[],u=e("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c})}})}function ve(e){var t=[];return JSON.stringify(e,function(e,n){if(n=q(e,n),y(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function $e(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?ve(e):e}function ye(n){u(n,{bootstrap:oe,copy:_,extend:u,merge:c,equals:B,element:Rr,forEach:r,injector:nt,noop:d,bind:W,toJson:G,fromJson:z,identity:f,isUndefined:v,isDefined:$,isString:w,isFunction:C,isObject:y,isNumber:x,isElement:R,isArray:Gr,version:li,isDate:E,lowercase:kr,uppercase:Ir,callbacks:{counter:0},getTestability:se,$$minErr:t,$$csp:Jr,reloadWithDebugInfo:ae}),(Fr=me(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:En}),e.provider("$compile",dt).directive({a:Io,input:Jo,textarea:Jo,form:jo,script:qa,select:Ka,style:Ja,option:Xa,ngBind:Zo,ngBindHtml:ta,ngBindTemplate:ea,ngClass:ra,ngClassEven:oa,ngClassOdd:ia,ngCloak:aa,ngController:sa,ngForm:Fo,ngHide:Pa,ngIf:ca,ngInclude:ha,ngInit:da,ngNonBindable:Ma,ngPluralize:Da,ngRepeat:Oa,ngShow:Fa,ngStyle:_a,ngSwitch:Va,ngSwitchWhen:Ba,ngSwitchDefault:Ua,ngOptions:Na,ngTransclude:Wa,ngModel:La,ngList:fa,ngChange:na,pattern:Qa,ngPattern:Qa,required:Ya,ngRequired:Ya,minlength:es,ngMinlength:es,maxlength:Za,ngMaxlength:Za,ngValue:Qo,ngModelOptions:Ta}).directive({ngInclude:pa}).directive(No).directive(la),e.provider({$anchorScroll:rt,$animate:_i,$animateCss:Ui,$$animateJs:Fi,$$animateQueue:Pi,$$AnimateRunner:Bi,$$animateAsyncRun:Vi,$browser:ut,$cacheFactory:ct,$controller:yt,$document:bt,$exceptionHandler:wt,$filter:Fn,$$forceReflow:Ki,$interpolate:Rt,$interval:jt,$http:It,$httpParamSerializer:Et,$httpParamSerializerJQLike:Ct,$httpBackend:Dt,$xhrFactory:Nt,$location:Jt,$log:Yt,$parse:vn,$rootScope:xn,$q:$n,$$q:yn,$sce:An,$sceDelegate:Ln,$sniffer:Tn,$templateCache:ht,$templateRequest:Mn,$$testability:kn,$timeout:In,$window:On,$$rAF:wn,$$jqLite:Je,$$HashMap:Ai,$$cookieReader:jn})}])}function be(){return++ci}function we(e){return e.replace(di,function(e,t,n,r){return r?n.toUpperCase():n}).replace(fi,"Moz$1")}function xe(e){return!$i.test(e)}function Ee(e){var t=e.nodeType;return t===ni||!t||t===ai}function Ce(e){for(var t in ui[e.ng339])return!0;return!1}function Se(e){for(var t=0,n=e.length;n>t;t++)De(e[t])}function Le(e,t){var n,i,o,a,s=t.createDocumentFragment(),l=[];if(xe(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),i=(yi.exec(e)||["",""])[1].toLowerCase(),o=wi[i]||wi._default,n.innerHTML=o[1]+e.replace(bi,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;l=U(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(l,function(e){s.appendChild(e)}),s}function Ae(t,n){n=n||e.document;var r;return(r=vi.exec(t))?[n.createElement(r[1])]:(r=Le(t,n))?r.childNodes:[]}function Te(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Me(e){if(e instanceof Me)return e;var t;if(w(e)&&(e=Kr(e),t=!0),!(this instanceof Me)){if(t&&"<"!=e.charAt(0))throw mi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Me(e)}t?_e(this,Ae(e)):_e(this,e)}function ke(e){return e.cloneNode(!0)}function Ie(e,t){if(t||De(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)De(n[r])}function Ne(e,t,n,i){if($(i))throw mi("offargs","jqLite#off() does not support the `selector` argument");var o=Oe(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var l=function(t){var r=a[t];$(n)&&P(r||[],n),$(n)&&r&&r.length>0||(pi(e,t,s),delete a[t])};r(t.split(" "),function(e){l(e),gi[e]&&l(gi[e])})}else for(t in a)"$destroy"!==t&&pi(e,t,s),delete a[t]}function De(e,t){var n=e.ng339,r=n&&ui[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Ne(e)),delete ui[n],e.ng339=void 0}}function Oe(e,t){var n=e.ng339,r=n&&ui[n];return t&&!r&&(e.ng339=n=be(),r=ui[n]={events:{},data:{},handle:void 0}),r}function Re(e,t,n){if(Ee(e)){var r=$(n),i=!r&&t&&!y(t),o=!t,a=Oe(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];u(s,t)}}}function je(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Fe(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Kr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Kr(t)+" "," ")))})}function Pe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Kr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Kr(n))}}function _e(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Ve(e,t){return Be(e,"$"+(t||"ngController")+"Controller")}function Be(e,t,n){e.nodeType==ai&&(e=e.documentElement);for(var r=Gr(t)?t:[t];e;){for(var i=0,o=r.length;o>i;i++)if($(n=Rr.data(e,r[i])))return n;e=e.parentNode||e.nodeType===si&&e.host}}function Ue(e){for(Ie(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function He(e,t){t||Ie(e);var n=e.parentNode;n&&n.removeChild(e)}function We(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Rr(n).on("load",t)}function qe(e,t){var n=Ci[t.toLowerCase()];return n&&Si[F(e)]&&n}function Ge(e){return Li[e]}function ze(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||Ke;o>1&&(i=V(i));for(var l=0;o>l;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function Ke(e,t,n){n.call(e,t)}function Xe(e,t,n){var r=t.relatedTarget;r&&(r===e||xi.call(e,r))||n.call(e,t)}function Je(){this.$get=function(){return u(Me,{hasClass:function(e,t){return e.attr&&(e=e[0]),je(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Pe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Fe(e,t)}})}}function Ye(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||a)():r+":"+e}function Qe(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Ze(e){var t=Function.prototype.toString.call(e).replace(Ni,""),n=t.match(Ti)||t.match(Mi);return n}function et(e){var t=Ze(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function tt(e,t,n){var i,o,a;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw w(n)&&n||(n=e.name||et(e)),Di("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=Ze(e),r(o[1].split(ki),function(e){e.replace(Ii,function(e,t,n){i.push(n)})})}e.$inject=i}}else Gr(e)?(a=e.length-1,he(e[a],"fn"),i=e.slice(0,a)):he(e,"fn",!0);return i}function nt(e,t){function n(e){return function(t,n){return y(t)?void r(t,o(e)):e(t,n)}}function i(e,t){if(pe(e,"service"),(C(t)||Gr(t))&&(t=E.instantiate(t)),!t.$get)throw Di("pget","Provider '{0}' must define $get factory method.",e);return x[e+m]=t}function a(e,t){return function(){var n=A.invoke(t,this);if(v(n))throw Di("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return s(e,g(t),!1)}function c(e,t){pe(e,"constant"),x[e]=t,S[e]=t}function h(e,t){var n=E.get(e+m),r=n.$get;n.$get=function(){var e=A.invoke(r,n);return A.invoke(t,null,{$delegate:e})}}function p(e){ce(v(e)||Gr(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=E.get(r[0]);i[r[1]].apply(i,r[2])}}if(!b.get(e)){b.put(e,!0);try{w(e)?(t=Fr(e),n=n.concat(p(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):C(e)?n.push(E.invoke(e)):Gr(e)?n.push(E.invoke(e)):he(e,"module")}catch(i){throw Gr(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Di("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function d(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===f)throw Di("cdep","Circular dependency found: {0}",t+" <- "+$.join(" <- "));return e[t]}try{return $.unshift(t),e[t]=f,e[t]=n(t,r)}catch(i){throw e[t]===f&&delete e[t],i}finally{$.shift()}}function i(e,n,i){for(var o=[],a=nt.$$annotate(e,t,i),s=0,l=a.length;l>s;s++){var u=a[s];if("string"!=typeof u)throw Di("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:r(u,i))}return o}function o(e){return 11>=Or?!1:"function"==typeof e&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(e))}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=i(e,n,r);return Gr(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var r=Gr(e)?e[e.length-1]:e,o=i(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:nt.$$annotate,has:function(t){return x.hasOwnProperty(t+m)||e.hasOwnProperty(t)}}}t=t===!0;var f={},m="Provider",$=[],b=new Qe([],!0),x={$provide:{provider:n(i),factory:n(s),service:n(l),value:n(u),constant:n(c),decorator:h}},E=x.$injector=d(x,function(e,t){throw Wr.isString(t)&&$.push(t),Di("unpr","Unknown provider: {0}",$.join(" <- "))}),S={},L=d(S,function(e,t){var n=E.get(e+m,t);return A.invoke(n.$get,n,void 0,e)}),A=L;x["$injector"+m]={$get:g(L)};var T=p(e);return A=L.get("$injector"),A.strictDi=t,r(T,function(e){e&&A.invoke(e)}),A}function rt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===F(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(C(e))e=e();else if(R(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else x(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=w(e)?e:n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=i(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||We(function(){r.$evalAsync(s)})}),s}]}function it(e,t){return e||t?e?t?(Gr(e)&&(e=e.join(" ")),Gr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ot(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Ri)return n}}function at(e){w(e)&&(e=e.split(" "));var t=ge();return r(e,function(e){e.length&&(t[e]=!0)}),t}function st(e){return y(e)?e:{}}function lt(e,t,n,i){function o(e){try{e.apply(null,H(arguments,1))}finally{if($--,0===$)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){C=null,l(),u()}function l(){b=S(),b=v(b)?null:b,B(b,T)&&(b=T),T=b}function u(){x===c.url()&&w===b||(x=c.url(),w=b,r(L,function(e){e(c.url(),b)}))}var c=this,h=e.location,p=e.history,f=e.setTimeout,g=e.clearTimeout,m={};c.isMock=!1;var $=0,y=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){$++},c.notifyWhenNoOutstandingRequests=function(e){0===$?e():y.push(e)};var b,w,x=h.href,E=t.find("base"),C=null,S=i.history?function(){try{return p.state}catch(e){}}:d;l(),w=b,c.url=function(t,n,r){if(v(r)&&(r=null),h!==e.location&&(h=e.location),p!==e.history&&(p=e.history),t){var o=w===r;if(x===t&&(!i.history||o))return c;var s=x&&Bt(x)===Bt(t);return x=t,w=r,!i.history||s&&o?(s&&!C||(C=t),n?h.replace(t):s?h.hash=a(t):h.href=t,h.href!==t&&(C=t)):(p[n?"replaceState":"pushState"](r,"",t),l(),w=b),c}return C||h.href.replace(/%27/g,"'")},c.state=function(){return b};var L=[],A=!1,T=null;c.onUrlChange=function(t){return A||(i.history&&Rr(e).on("popstate",s),Rr(e).on("hashchange",s),A=!0),L.push(t),t},c.$$applicationDestroyed=function(){Rr(e).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var e=E.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return $++,n=f(function(){delete m[n],o(e)},t||0),m[n]=!0,n},c.defer.cancel=function(e){return m[e]?(delete m[e],g(e),o(d),!0):!1}}function ut(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new lt(e,r,t,n)}]}function ct(){this.$get=function(){function e(e,r){function i(e){e!=p&&(d?d==e&&(d=e.n):d=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=u({},r,{id:e}),l=ge(),c=r&&r.capacity||Number.MAX_VALUE,h=ge(),p=null,d=null;return n[e]={put:function(e,t){if(!v(t)){if(c<Number.MAX_VALUE){var n=h[e]||(h[e]={key:e});i(n)}return e in l||a++,l[e]=t,a>c&&this.remove(d.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=h[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=h[e];if(!t)return;t==p&&(p=t.p),t==d&&(d=t.n),o(t.n,t.p),delete h[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=ge(),a=0,h=ge(),p=d=null},destroy:function(){l=null,s=null,h=null,delete n[e]},info:function(){return u({},s,{size:a})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function ht(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function pt(){}function dt(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=ge();return r(e,function(e,r){if(e in S)return void(o[r]=S[e]);var a=e.match(i);if(!a)throw Hi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(S[e]=o[r])}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),y(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),y(n.bindToController)){var r=e.controller,o=e.controllerAs;if(!r)throw Hi("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!$t(r,o))throw Hi("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function s(e){var t=e.charAt(0);if(!t||t!==kr(t))throw Hi("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Hi("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var l={},c="Directive",h=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,m=/(([\w\-]+)(?:\:([^;]+))?;?)/,b=j("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,E=/^(on[a-z]+|formaction)$/,S=ge();this.directive=function M(e,n){return pe(e,"directive"),w(e)?(s(e),ce(n,"directiveFactory"),l.hasOwnProperty(e)||(l[e]=[],t.factory(e+c,["$injector","$exceptionHandler",function(t,n){var i=[];return r(l[e],function(r,o){try{var a=t.invoke(r);C(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(s){n(s)}}),i}])),l[e].push(n)):r(e,o(M)),this},this.component=function(e,t){function n(e){function n(t){return C(t)||Gr(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:i,controllerAs:$t(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var i=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,C(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return $(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var L=!0;this.debugInfoEnabled=function(e){return $(e)?(L=e,this):L};var T=10;this.onChangesTtl=function(e){return arguments.length?(T=e,this):T},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,i,o,s,g,$,S,M,k){function N(){try{if(!--ye)throw me=void 0,Hi("infchng","{0} $onChanges() iterations reached. Aborting!\n",T);$.$apply(function(){for(var e=0,t=me.length;t>e;++e)me[e]();me=void 0})}finally{ye++}}function D(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function O(e,t,n){$e.innerHTML="<span "+t+">";var r=$e.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function R(e,t){try{e.addClass(t)}catch(n){}}function j(t,n,r,i,o){t instanceof Rr||(t=Rr(t));for(var a=/\S+/,s=0,l=t.length;l>s;s++){var u=t[s];u.nodeType===ii&&u.nodeValue.match(a)&&Te(u,t[s]=e.document.createElement("span"))}var c=V(t,n,t,r,i,o);j.$$addScopeClass(t);var h=null;return function(e,n,r){ce(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,s=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),h||(h=_(s));var l;if(l="html"!==h?Rr(ae(h,Rr("<div>").append(t).html())):n?Ei.clone.call(t):t,a)for(var u in a)l.data("$"+u+"Controller",a[u].instance);return j.$$addScopeInfo(l,e),n&&n(l,e),c&&c(e,l,l,i),l}}function _(e){var t=e&&e[0];return t&&"foreignobject"!==F(t)&&Br.call(t).match(/SVG/)?"svg":"html"}function V(e,t,n,r,i,o){function a(e,n,r,i){var o,a,s,l,u,c,h,p,g;if(d){var m=n.length;for(g=new Array(m),u=0;u<f.length;u+=3)h=f[u],g[h]=n[h]}else g=n;for(u=0,c=f.length;c>u;)s=g[f[u++]],o=f[u++],a=f[u++],o?(o.scope?(l=e.$new(),j.$$addScopeInfo(Rr(s),l)):l=e,p=o.transcludeOnThisElement?U(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?U(e,t):null,o(a,l,s,r,p)):a&&a(e,s.childNodes,void 0,i)}for(var s,l,u,c,h,p,d,f=[],g=0;g<e.length;g++)s=new D,l=W(e[g],[],s,0===g?r:void 0,i),u=l.length?K(l,e[g],s,t,n,null,[],[],o):null,u&&u.scope&&j.$$addScopeClass(s.$$element),h=u&&u.terminal||!(c=e[g].childNodes)||!c.length?null:V(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||h)&&(f.push(g,u,h),p=!0,d=d||u),o=null;return p?a:null}function U(e,t,n){function r(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=ge();for(var o in t.$$slots)t.$$slots[o]?i[o]=U(e,t.$$slots[o],n):i[o]=null;return r}function W(e,t,n,r,i){var o,a,s=e.nodeType,l=n.$attr;switch(s){case ni:Z(t,gt(F(e)),"E",r,i);for(var u,c,p,d,f,g,v=e.attributes,$=0,b=v&&v.length;b>$;$++){var x=!1,E=!1;u=v[$],c=u.name,f=Kr(u.value),d=gt(c),(g=Ce.test(d))&&(c=c.replace(qi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var C=d.match(Se);C&&ee(C[1])&&(x=c,E=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),p=gt(c.toLowerCase()),l[p]=c,!g&&n.hasOwnProperty(p)||(n[p]=f,qe(e,p)&&(n[p]=!0)),ue(e,t,f,p,g),Z(t,p,"A",r,i,x,E)}if(a=e.className,y(a)&&(a=a.animVal),w(a)&&""!==a)for(;o=m.exec(a);)p=gt(o[2]),Z(t,p,"C",r,i)&&(n[p]=Kr(o[3])),a=a.substr(o.index+o[0].length);break;case ii:if(11===Or)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===ii;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);oe(t,e.nodeValue);break;case oi:try{o=h.exec(e.nodeValue),o&&(p=gt(o[1]),Z(t,p,"M",r,i)&&(n[p]=Kr(o[2])))}catch(S){}}return t.sort(re),t}function q(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Hi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==ni&&(e.hasAttribute(t)&&i++,
e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Rr(r)}function G(e,t,n){return function(r,i,o,a,s){return i=q(i[0],t,n),e(r,i,o,a,s)}}function z(e,t,n,r,i,o){var a;return e?j(t,n,r,i,o):function(){return a||(a=j(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function K(e,t,n,o,a,s,l,c,h){function p(e,t,n,r){e&&(n&&(e=G(e,n,r)),e.require=f.require,e.directiveName=g,(S===f||f.$$isolateScope)&&(e=pe(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=G(t,n,r)),t.require=f.require,t.directiveName=g,(S===f||f.$$isolateScope)&&(t=pe(t,{isolateScope:!0})),c.push(t))}function d(e,i,o,a,s){function h(e,t,n,r){var i;if(A(e)||(r=n,n=t,t=e,e=void 0),I&&(i=$),n||(n=I?w.parent():w),!r)return s(e,t,i,n,P);var o=s.$$slots[r];if(o)return o(e,t,i,n,P);if(v(o))throw Hi("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,Y(w))}var p,d,f,g,m,$,b,w,T,M;t===o?(T=n,w=n.$$element):(w=Rr(o),T=new D(w,n)),m=i,S?g=i.$new(!0):x&&(m=i.$parent),s&&(b=h,b.$$boundTransclude=s,b.isSlotFilled=function(e){return!!s.$$slots[e]}),E&&($=J(w,T,b,E,g,i,S)),S&&(j.$$addScopeInfo(w,g,!0,!(L&&(L===S||L===S.$$originalDirective))),j.$$addScopeClass(w,!0),g.$$isolateBindings=S.$$isolateBindings,M=fe(i,T,g,g.$$isolateBindings,S),M.removeWatches&&g.$on("$destroy",M.removeWatches));for(var k in $){var N=E[k],O=$[k],R=N.$$bindings.bindToController;O.identifier&&R?O.bindingInfo=fe(m,T,O.instance,R,N):O.bindingInfo={};var F=O();F!==O.instance&&(O.instance=F,w.data("$"+N.name+"Controller",F),O.bindingInfo.removeWatches&&O.bindingInfo.removeWatches(),O.bindingInfo=fe(m,T,O.instance,R,N))}for(r(E,function(e,t){var n=e.require;e.bindToController&&!Gr(n)&&y(n)&&u($[t].instance,X(t,n,w,$))}),r($,function(e){var t=e.instance;C(t.$onChanges)&&t.$onChanges(e.bindingInfo.initialChanges),C(t.$onInit)&&t.$onInit(),C(t.$onDestroy)&&m.$on("$destroy",function(){t.$onDestroy()})}),p=0,d=l.length;d>p;p++)f=l[p],de(f,f.isolateScope?g:i,w,T,f.require&&X(f.directiveName,f.require,w,$),b);var P=i;for(S&&(S.template||null===S.templateUrl)&&(P=g),e&&e(P,o.childNodes,void 0,s),p=c.length-1;p>=0;p--)f=c[p],de(f,f.isolateScope?g:i,w,T,f.require&&X(f.directiveName,f.require,w,$),b);r($,function(e){var t=e.instance;C(t.$postLink)&&t.$postLink()})}h=h||{};for(var f,g,m,$,b,w=-Number.MAX_VALUE,x=h.newScopeDirective,E=h.controllerDirectives,S=h.newIsolateScopeDirective,L=h.templateDirective,T=h.nonTlbTranscludeDirective,M=!1,k=!1,I=h.hasElementTranscludeDirective,N=n.$$element=Rr(t),O=s,R=o,P=!1,_=!1,V=0,B=e.length;B>V;V++){f=e[V];var U=f.$$start,K=f.$$end;if(U&&(N=q(t,U,K)),m=void 0,w>f.priority)break;if((b=f.scope)&&(f.templateUrl||(y(b)?(ie("new/isolated scope",S||x,f,N),S=f):ie("new/isolated scope",S,f,N)),x=x||f),g=f.name,!P&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(var Z,ee=V+1;Z=e[ee++];)if(Z.transclude&&!Z.$$tlb||Z.replace&&(Z.templateUrl||Z.template)){_=!0;break}P=!0}if(!f.templateUrl&&f.controller&&(b=f.controller,E=E||ge(),ie("'"+g+"' controller",E[g],f,N),E[g]=f),b=f.transclude)if(M=!0,f.$$tlb||(ie("transclusion",T,f,N),T=f),"element"==b)I=!0,w=f.priority,m=N,N=n.$$element=Rr(j.$$createComment(g,n[g])),t=N[0],he(a,H(m),t),m[0].$$parentNode=m[0].parentNode,R=z(_,m,o,w,O&&O.name,{nonTlbTranscludeDirective:T});else{var re=ge();if(m=Rr(ke(t)).contents(),y(b)){m=[];var oe=ge(),se=ge();r(b,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,oe[e]=t,re[t]=null,se[t]=n}),r(N.contents(),function(e){var t=oe[gt(F(e))];t?(se[t]=!0,re[t]=re[t]||[],re[t].push(e)):m.push(e)}),r(se,function(e,t){if(!e)throw Hi("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var le in re)re[le]&&(re[le]=z(_,re[le],o))}N.empty(),R=z(_,m,o,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),R.$$slots=re}if(f.template)if(k=!0,ie("template",L,f,N),L=f,b=C(f.template)?f.template(N,n):f.template,b=Ee(b),f.replace){if(O=f,m=xe(b)?[]:vt(ae(f.templateNamespace,Kr(b))),t=m[0],1!=m.length||t.nodeType!==ni)throw Hi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");he(a,N,t);var ue={$attr:{}},ce=W(t,[],ue),me=e.splice(V+1,e.length-(V+1));(S||x)&&Q(ce,S,x),e=e.concat(ce).concat(me),te(n,ue),B=e.length}else N.html(b);if(f.templateUrl)k=!0,ie("template",L,f,N),L=f,f.replace&&(O=f),d=ne(e.splice(V,e.length-V),N,n,a,M&&R,l,c,{controllerDirectives:E,newScopeDirective:x!==f&&x,newIsolateScopeDirective:S,templateDirective:L,nonTlbTranscludeDirective:T}),B=e.length;else if(f.compile)try{$=f.compile(N,n,R),C($)?p(null,$,U,K):$&&p($.pre,$.post,U,K)}catch(ve){i(ve,Y(N))}f.terminal&&(d.terminal=!0,w=Math.max(w,f.priority))}return d.scope=x&&x.scope===!0,d.transcludeOnThisElement=M,d.templateOnThisElement=k,d.transclude=R,h.hasElementTranscludeDirective=I,d}function X(e,t,n,i){var o;if(w(t)){var a=t.match(x),s=t.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(o=i&&i[s],o=o&&o.instance),!o){var c="$"+s+"Controller";o=l?n.inheritedData(c):n.data(c)}if(!o&&!u)throw Hi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(Gr(t)){o=[];for(var h=0,p=t.length;p>h;h++)o[h]=X(e,t[h],n,i)}else y(t)&&(o={},r(t,function(t,r){o[r]=X(e,t,n,i)}));return o||null}function J(e,t,n,r,i,o,a){var s=ge();for(var l in r){var u=r[l],c={$scope:u===a||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},h=u.controller;"@"==h&&(h=t[u.name]);var p=g(h,c,!0,u.controllerAs);s[u.name]=p,e.data("$"+u.name+"Controller",p.instance)}return s}function Q(e,t,n){for(var r=0,i=e.length;i>r;r++)e[r]=p(e[r],{$$isolateScope:t,$$newScope:n})}function Z(e,n,r,o,s,u,h){if(n===s)return null;var d=null;if(l.hasOwnProperty(n))for(var f,g=t.get(n+c),m=0,$=g.length;$>m;m++)try{if(f=g[m],(v(o)||o>f.priority)&&-1!=f.restrict.indexOf(r)){if(u&&(f=p(f,{$$start:u,$$end:h})),!f.$$bindings){var b=f.$$bindings=a(f,f.name);y(b.isolateScope)&&(f.$$isolateBindings=b.isolateScope)}e.push(f),d=f}}catch(w){i(w)}return d}function ee(e){if(l.hasOwnProperty(e))for(var n,r=t.get(e+c),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function te(e,t){var n=t.$attr,i=e.$attr,o=e.$$element;r(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),r(t,function(t,r){"class"==r?(R(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==r?(o.attr("style",o.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==r.charAt(0)||e.hasOwnProperty(r)||(e[r]=t,i[r]=n[r])})}function ne(e,t,n,i,a,s,l,u){var c,h,d=[],f=t[0],g=e.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=C(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,$=g.templateNamespace;return t.empty(),o(v).then(function(o){var p,b,w,x;if(o=Ee(o),g.replace){if(w=xe(o)?[]:vt(ae($,Kr(o))),p=w[0],1!=w.length||p.nodeType!==ni)throw Hi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);b={$attr:{}},he(i,t,p);var E=W(p,[],b);y(g.scope)&&Q(E,!0),e=E.concat(e),te(n,b)}else p=f,t.html(o);for(e.unshift(m),c=K(e,p,n,a,t,g,s,l,u),r(i,function(e,n){e==p&&(i[n]=t[0])}),h=V(t[0].childNodes,a);d.length;){var C=d.shift(),S=d.shift(),L=d.shift(),A=d.shift(),T=t[0];if(!C.$$destroyed){if(S!==f){var M=S.className;u.hasElementTranscludeDirective&&g.replace||(T=ke(p)),he(L,Rr(S),T),R(Rr(T),M)}x=c.transcludeOnThisElement?U(C,c.transclude,A):A,c(h,C,T,i,x)}}d=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(d?d.push(t,n,r,o):(c.transcludeOnThisElement&&(o=U(t,c.transclude,i)),c(h,t,n,r,o)))}}function re(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ie(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Hi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,Y(r))}function oe(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&j.$$addBindingClass(t),function(e,t){var i=t.parent();n||j.$$addBindingClass(i),j.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function ae(t,n){switch(t=kr(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function se(e,t){if("srcdoc"==t)return S.HTML;var n=F(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?S.RESOURCE_URL:void 0}function ue(e,t,r,i,o){var a=se(e,i);o=b[i]||o;var s=n(r,!0,a,o);if(s){if("multiple"===i&&"select"===F(e))throw Hi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Y(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers=ge());if(E.test(i))throw Hi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==r&&(s=c&&n(c,!0,a,o),r=c),s&&(l[i]=s(e),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function he(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var u=i,c=u+s-1,h=t.length;h>u;u++,c++)h>c?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var p=e.document.createDocumentFragment();for(i=0;s>i;i++)p.appendChild(n[i]);for(Rr.hasData(a)&&(Rr.data(r,Rr.data(a)),Rr(a).off("$destroy")),Rr.cleanData(p.querySelectorAll("*")),i=1;s>i;i++)delete n[i];n[0]=r,n.length=1}function pe(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function de(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,Y(n))}}function fe(e,t,i,o,a){function l(t,n,r){C(i.$onChanges)&&n!==r&&(me||(e.$$postDigest(N),me=[]),c||(c={},me.push(u)),c[t]&&(r=c[t].previousValue),c[t]=new ft(r,n))}function u(){i.$onChanges(c),c=void 0}var c,h=[],p={};return r(o,function(r,o){var u,c,f,g,m,v=r.attrName,$=r.optional,y=r.mode;switch(y){case"@":$||Mr.call(t,v)||(i[o]=t[v]=void 0),t.$observe(v,function(e){if(w(e)||I(e)){var t=i[o];l(o,e,t),i[o]=e}}),t.$$observers[v].$$scope=e,u=t[v],w(u)?i[o]=n(u)(e):I(u)&&(i[o]=u),p[o]=new ft(Wi,i[o]);break;case"=":if(!Mr.call(t,v)){if($)break;t[v]=void 0}if($&&!t[v])break;c=s(t[v]),g=c.literal?B:function(e,t){return e===t||e!==e&&t!==t},f=c.assign||function(){throw u=i[o]=c(e),Hi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},u=i[o]=c(e);var b=function(t){return g(t,i[o])||(g(t,u)?f(e,t=i[o]):i[o]=t),u=t};b.$stateful=!0,m=r.collection?e.$watchCollection(t[v],b):e.$watch(s(t[v],b),null,c.literal),h.push(m);break;case"<":if(!Mr.call(t,v)){if($)break;t[v]=void 0}if($&&!t[v])break;c=s(t[v]),i[o]=c(e),p[o]=new ft(Wi,i[o]),m=e.$watch(c,function(e,t){e===t&&(t=i[o]),l(o,e,t),i[o]=e},c.literal),h.push(m);break;case"&":if(c=t.hasOwnProperty(v)?s(t[v]):d,c===d&&$)break;i[o]=function(t){return c(e,t)}}}),{initialChanges:p,removeWatches:h.length&&function(){for(var e=0,t=h.length;t>e;++e)h[e]()}}}var me,ve=/^\w/,$e=e.document.createElement("div"),ye=T;D.prototype={$normalize:gt,$addClass:function(e){e&&e.length>0&&M.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&M.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=mt(e,t);n&&n.length&&M.addClass(this.$$element,n);var r=mt(t,e);r&&r.length&&M.removeClass(this.$$element,r)},$set:function(e,t,n,o){var a,s=this.$$element[0],l=qe(s,e),u=Ge(e),c=e;if(l?(this.$$element.prop(e,t),o=l):u&&(this[u]=t,c=u),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=le(e,"-"))),a=F(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=k(t,"src"===e);else if("img"===a&&"srcset"===e){for(var h="",p=Kr(t),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(p)?d:/(,)/,g=p.split(f),m=Math.floor(g.length/2),$=0;m>$;$++){var y=2*$;h+=k(Kr(g[y]),!0),h+=" "+Kr(g[y+1])}var b=Kr(g[2*$]).split(/\s/);h+=k(Kr(b[0]),!0),2===b.length&&(h+=" "+Kr(b[1])),this[e]=t=h}n!==!1&&(null===t||v(t)?this.$$element.removeAttr(o):ve.test(o)?this.$$element.attr(o,t):O(this.$$element[0],o,t));var w=this.$$observers;w&&r(w[c],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ge()),i=r[e]||(r[e]=[]);return i.push(t),$.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){P(i,t)}}};var be=n.startSymbol(),we=n.endSymbol(),Ee="{{"==be&&"}}"==we?f:function(e){return e.replace(/\{\{/g,be).replace(/}}/g,we)},Ce=/^ngAttr[A-Z]/,Se=/^(.+)Start$/;return j.$$addBindingInfo=L?function(e,t){var n=e.data("$binding")||[];Gr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:d,j.$$addBindingClass=L?function(e){R(e,"ng-binding")}:d,j.$$addScopeInfo=L?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:d,j.$$addScopeClass=L?function(e,t){R(e,t?"ng-isolate-scope":"ng-scope")}:d,j.$$createComment=function(t,n){var r="";return L&&(r=" "+(t||"")+": "+(n||"")+" "),e.document.createComment(r)},j}]}function ft(e,t){this.previousValue=e,this.currentValue=t}function gt(e){return we(e.replace(qi,""))}function mt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function vt(e){e=Rr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===oi&&_r.call(e,t,1)}return e}function $t(e,t){if(t&&w(t))return t;if(w(e)){var n=zi.exec(e);if(n)return n[3]}}function yt(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){pe(t,"controller"),y(t)?u(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(e,n,r,i){if(!e||!y(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);e.$scope[n]=r}return function(t,a,s,l){var c,h,p,d;if(s=s===!0,l&&w(l)&&(d=l),w(t)){if(h=t.match(zi),!h)throw Gi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);p=h[1],d=d||h[3],t=e.hasOwnProperty(p)?e[p]:de(a.$scope,p,!0)||(n?de(i,p,!0):void 0),he(t,p,!0)}if(s){var f=(Gr(t)?t[t.length-1]:t).prototype;c=Object.create(f||null),d&&o(a,d,c,p||t.name);var g;return g=u(function(){var e=r.invoke(t,c,a,p);return e!==c&&(y(e)||C(e))&&(c=e,d&&o(a,d,c,p||t.name)),c},{instance:c,identifier:d})}return c=r.instantiate(t,a,p),d&&o(a,d,c,p||t.name),c}}]}function bt(){this.$get=["$window",function(e){return Rr(e.document)}]}function wt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function xt(e){return y(e)?E(e)?e.toISOString():G(e):e}function Et(){this.$get=function(){return function(e){if(!e)return"";var t=[];return i(e,function(e,n){null===e||v(e)||(Gr(e)?r(e,function(e){t.push(ne(n)+"="+ne(xt(e)))}):t.push(ne(n)+"="+ne(xt(e))))}),t.join("&")}}}function Ct(){this.$get=function(){return function(e){function t(e,o,a){null===e||v(e)||(Gr(e)?r(e,function(e,n){t(e,o+"["+(y(e)?n:"")+"]")}):y(e)&&!E(e)?i(e,function(e,n){t(e,o+(a?"":"[")+n+(a?"":"]"))}):n.push(ne(o)+"="+ne(xt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function St(e,t){if(w(e)){var n=e.replace(Zi,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Xi)||Lt(n))&&(e=z(n))}}return e}function Lt(e){var t=e.match(Yi);return t&&Qi[t[0]].test(e)}function At(e){function t(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}var n,i=ge();return w(e)?r(e.split("\n"),function(e){n=e.indexOf(":"),t(kr(Kr(e.substr(0,n))),Kr(e.substr(n+1)))}):y(e)&&r(e,function(e,n){t(kr(n),Kr(e))}),i}function Tt(e){var t;return function(n){if(t||(t=At(e)),n){var r=t[kr(n)];return void 0===r&&(r=null),r}return t}}function Mt(e,t,n,i){return C(i)?i(e,t,n):(r(i,function(r){e=r(e,t,n)}),e)}function kt(e){return e>=200&&300>e}function It(){var e=this.defaults={transformResponse:[St],transformRequest:[function(e){return!y(e)||T(e)||k(e)||M(e)?e:G(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:V(Ji),put:V(Ji),patch:V(Ji)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return $(e)?(n=!!e,this):n};var i=!0;this.useLegacyPromiseExtensions=function(e){return $(e)?(i=!!e,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,c,h,p){function d(n){function o(e){var t=u({},e);return t.data=Mt(e.data,e.headers,e.status,l.transformResponse),kt(e.status)?t:h.reject(t)}function a(e,t){var n,i={};return r(e,function(e,r){C(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function s(t){var n,r,i,o=e.headers,s=u({},t.headers);o=u({},o.common,o[kr(t.method)]);e:for(n in o){r=kr(n);for(i in s)if(kr(i)===r)continue e;s[n]=o[n]}return a(s,V(t))}if(!y(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!w(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var l=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);l.headers=s(n),l.method=Ir(l.method),l.paramSerializer=w(l.paramSerializer)?p.get(l.paramSerializer):l.paramSerializer;var c=function(t){var n=t.headers,i=Mt(t.data,Tt(n),void 0,t.transformRequest);return v(i)&&r(n,function(e,t){"content-type"===kr(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,i).then(o,o)},d=[c,void 0],f=h.when(l);for(r(E,function(e){(e.request||e.requestError)&&d.unshift(e.request,e.requestError),(e.response||e.responseError)&&d.push(e.response,e.responseError)});d.length;){var g=d.shift(),$=d.shift();f=f.then(g,$)}return i?(f.success=function(e){return he(e,"fn"),f.then(function(t){e(t.data,t.status,t.headers,l)}),f},f.error=function(e){return he(e,"fn"),f.then(null,function(t){e(t.data,t.status,t.headers,l)}),f}):(f.success=to("success"),f.error=to("error")),f}function f(e){r(arguments,function(e){d[e]=function(t,n){return d(u({},n||{},{method:e,url:t}))}})}function g(e){r(arguments,function(e){d[e]=function(t,n,r){return d(u({},r||{},{method:e,url:t,data:n}))}})}function m(t,i){function o(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),t}}function l(e,t,r,i){function o(){u(t,e,r,i)}g&&(kt(e)?g.put(S,[e,t,At(r),i]):g.remove(S)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function u(e,n,r,i){n=n>=-1?n:0,(kt(n)?w.resolve:w.reject)({data:e,status:n,headers:Tt(r),config:t,statusText:i})}function p(e){u(e.data,e.status,V(e.headers()),e.statusText)}function f(){var e=d.pendingRequests.indexOf(t);-1!==e&&d.pendingRequests.splice(e,1)}var g,m,w=h.defer(),E=w.promise,C=t.headers,S=b(t.url,t.paramSerializer(t.params));if(d.pendingRequests.push(t),E.then(f,f),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(g=y(t.cache)?t.cache:y(e.cache)?e.cache:x),g&&(m=g.get(S),$(m)?N(m)?m.then(p,p):Gr(m)?u(m[1],m[0],V(m[2]),m[3]):u(m,200,{},"OK"):g.put(S,E)),v(m)){var L=Dn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;L&&(C[t.xsrfHeaderName||e.xsrfHeaderName]=L),a(t.method,S,i,l,C,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))}return E}function b(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var x=l("$http");e.paramSerializer=w(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var E=[];return r(o,function(e){E.unshift(w(e)?p.get(e):p.invoke(e))}),d.pendingRequests=[],f("get","delete","head","jsonp"),g("post","put","patch"),d.defaults=e,d}]}function Nt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Dt(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return Ot(e,r,e.defer,t.angular.callbacks,n[0])}]}function Ot(e,t,n,i,o){function a(e,t,n){var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){pi(r,"load",a),pi(r,"error",a),o.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},hi(r,"load",a),hi(r,"error",a),o.body.appendChild(r),a}return function(o,s,l,u,c,h,p,f,g,m){function y(){x&&x(),E&&E.abort()}function b(t,r,i,o,a){$(L)&&n.cancel(L),x=E=null,t(r,i,o,a),e.$$completeOutstandingRequest(d)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==kr(o)){var w="_"+(i.counter++).toString(36);i[w]=function(e){i[w].data=e,i[w].called=!0};var x=a(s.replace("JSON_CALLBACK","angular.callbacks."+w),w,function(e,t){b(u,e,i[w].data,"",t),i[w]=d})}else{var E=t(o,s);E.open(o,s,!0),r(c,function(e,t){$(e)&&E.setRequestHeader(t,e)}),E.onload=function(){var e=E.statusText||"",t="response"in E?E.response:E.responseText,n=1223===E.status?204:E.status;0===n&&(n=t?200:"file"==Nn(s).protocol?404:0),b(u,n,t,E.getAllResponseHeaders(),e)};var C=function(){b(u,-1,null,null,"")};if(E.onerror=C,E.onabort=C,r(g,function(e,t){E.addEventListener(t,e)}),r(m,function(e,t){E.upload.addEventListener(t,e)}),p&&(E.withCredentials=!0),f)try{E.responseType=f}catch(S){if("json"!==f)throw S}E.send(v(l)?null:l)}if(h>0)var L=n(y,h);else N(h)&&h.then(y)}}function Rt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(d,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=G(e)}return e}function l(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function c(o,c,d,f){function m(e){try{return e=N(e),f&&!$(e)?e:s(e)}catch(t){r(no.interr(o,t))}}if(!o.length||-1===o.indexOf(e)){var y;if(!c){var b=a(o);y=g(b),y.exp=o,y.expressions=[],y.$$watchDelegate=l}return y}f=!!f;for(var w,x,E,S=0,L=[],A=[],T=o.length,M=[],k=[];T>S;){if(-1==(w=o.indexOf(e,S))||-1==(x=o.indexOf(t,w+h))){S!==T&&M.push(a(o.substring(S)));break}S!==w&&M.push(a(o.substring(S,w))),E=o.substring(w+h,x),L.push(E),A.push(n(E,m)),S=x+p,k.push(M.length),M.push("")}if(d&&M.length>1&&no.throwNoconcat(o),!c||L.length){var I=function(e){for(var t=0,n=L.length;n>t;t++){if(f&&v(e[t]))return;M[k[t]]=e[t]}return M.join("")},N=function(e){return d?i.getTrusted(d,e):i.valueOf(e)};return u(function(e){var t=0,n=L.length,i=new Array(n);try{for(;n>t;t++)i[t]=A[t](e);return I(i)}catch(a){r(no.interr(o,a))}},{exp:o,expressions:L,$$watchDelegate:function(e,t){var n;return e.$watchGroup(A,function(r,i){var o=I(r);C(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var h=e.length,p=t.length,d=new RegExp(e.replace(/./g,o),"g"),f=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function jt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,l,u){function c(){h?o.apply(null,p):o(g)}var h=arguments.length>4,p=h?H(arguments,4):[],d=t.setInterval,f=t.clearInterval,g=0,m=$(u)&&!u,v=(m?r:n).defer(),y=v.promise;return l=$(l)?l:0,y.$$intervalId=d(function(){m?i.defer(c):e.$evalAsync(c),v.notify(g++),l>0&&g>=l&&(v.resolve(g),f(y.$$intervalId),delete a[y.$$intervalId]),m||e.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},o}]}function Ft(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=te(t[n]);return t.join("/")}function Pt(e,t){var n=Nn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=h(n.port)||io[n.protocol]||null}function _t(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Nn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=Z(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Vt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function Bt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Ut(e){return e.replace(/(#.+)|#$/,"$1")}function Ht(e){return e.substr(0,Bt(e).lastIndexOf("/")+1)}function Wt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function qt(e,t,n){this.$$html5=!0,n=n||"",Pt(e,this),this.$$parse=function(e){var n=Vt(t,e);if(!w(n))throw oo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);_t(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ee(this.$$search),n=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ft(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return $(o=Vt(e,r))?(a=o,s=$(o=Vt(n,o))?t+(Vt("/",o)||o):e+a):$(o=Vt(t,r))?s=t+o:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Gt(e,t,n){Pt(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=Vt(e,r)||Vt(t,r);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(e=r,this.replace())):(o=Vt(n,a),v(o)&&(o=a)),_t(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ft(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Bt(e)==Bt(t)?(this.$$parse(t),!0):!1}}function zt(e,t,n){this.$$html5=!0,Gt.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==Bt(r)?o=r:(a=Vt(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ft(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Kt(e){return function(){return this[e]}}function Xt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Jt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return $(t)?(e=t,this):e},this.html5Mode=function(e){return I(e)?(t.enabled=e,this):y(e)?(I(e.enabled)&&(t.enabled=e.enabled),I(e.requireBase)&&(t.requireBase=e.requireBase),I(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,h,p=r.baseHref(),d=r.url();if(t.enabled){if(!p&&t.requireBase)throw oo("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=Wt(d)+(p||"/"),c=i.history?qt:zt}else h=Bt(d),c=Gt;var f=Ht(h);u=new c(h,f,"#"+e),u.$$parseLinkUrl(d,d),u.$$state=r.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Rr(e.target);"a"!==F(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Nn(s.animVal).href),g.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(e.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Ut(u.absUrl())!=Ut(d)&&r.url(u.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){return v(Vt(f,e))?void(a.location.href=e):(n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;e=Ut(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(m=!1,l(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Ut(r.url()),t=Ut(u.absUrl()),o=r.state(),a=u.$$replace,c=e!==t||u.$$html5&&i.history&&o!==u.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function Yt(){var e=!0,t=this;this.debugEnabled=function(t){return $(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||d,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var e=[];return r(arguments,function(t){e.push(i(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Qt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw so("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Zt(e){return e+""}function en(e,t){if(e){if(e.constructor===e)throw so("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw so("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw so("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw so("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function tn(e,t){if(e){if(e.constructor===e)throw so("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===lo||e===uo||e===co)throw so("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function nn(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw so("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function rn(e,t){return"undefined"!=typeof e?e:t}function on(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function an(e,t){var n=e(t);return!n.$stateful}function sn(e,t){var n,i;switch(e.type){case go.Program:n=!0,r(e.body,function(e){sn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case go.Literal:e.constant=!0,e.toWatch=[];break;case go.UnaryExpression:sn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case go.BinaryExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case go.LogicalExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case go.ConditionalExpression:sn(e.test,t),sn(e.alternate,t),sn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case go.Identifier:e.constant=!1,e.toWatch=[e];break;case go.MemberExpression:sn(e.object,t),e.computed&&sn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case go.CallExpression:n=e.filter?an(t,e.callee.name):!1,i=[],r(e.arguments,function(e){sn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&an(t,e.callee.name)?i:[e];break;case go.AssignmentExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case go.ArrayExpression:n=!0,i=[],r(e.elements,function(e){
sn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case go.ObjectExpression:n=!0,i=[],r(e.properties,function(e){sn(e.value,t),n=n&&e.value.constant,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case go.ThisExpression:e.constant=!1,e.toWatch=[];break;case go.LocalsExpression:e.constant=!1,e.toWatch=[]}}function ln(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function un(e){return e.type===go.Identifier||e.type===go.MemberExpression}function cn(e){return 1===e.body.length&&un(e.body[0].expression)?{type:go.AssignmentExpression,left:e.body[0].expression,right:{type:go.NGValueParameter},operator:"="}:void 0}function hn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===go.Literal||e.body[0].expression.type===go.ArrayExpression||e.body[0].expression.type===go.ObjectExpression)}function pn(e){return e.constant}function dn(e,t){this.astBuilder=e,this.$filter=t}function fn(e,t){this.astBuilder=e,this.$filter=t}function gn(e){return"constructor"==e}function mn(e){return C(e.valueOf)?e.valueOf():vo.call(e)}function vn(){var e,t,n=ge(),i=ge(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(a){function s(e,t,r){var o,s,u;switch(r=r||b,typeof e){case"string":e=e.trim(),u=e;var m=r?i:n;if(o=m[u],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2));var $=r?y:v,w=new fo($),x=new mo(w,a,$);o=x.parse(e),o.constant?o.$$watchDelegate=f:s?o.$$watchDelegate=o.literal?p:h:o.inputs&&(o.$$watchDelegate=c),r&&(o=l(o)),m[u]=o}return g(o,t);case"function":return g(e,t);default:return g(d,t)}}function l(e){function t(t,n,r,i){var o=b;b=!0;try{return e(t,n,r,i)}finally{b=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function u(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=mn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function c(e,t,n,r,i){var o,a=r.inputs;if(1===a.length){var s=u;return a=a[0],e.$watch(function(e){var t=a(e);return u(t,s)||(o=r(e,void 0,void 0,[t]),s=t&&mn(t)),o},t,n,i)}for(var l=[],c=[],h=0,p=a.length;p>h;h++)l[h]=u,c[h]=null;return e.$watch(function(e){for(var t=!1,n=0,i=a.length;i>n;n++){var s=a[n](e);(t||(t=!u(s,l[n])))&&(c[n]=s,l[n]=s&&mn(s))}return t&&(o=r(e,void 0,void 0,c)),o},t,n,i)}function h(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,C(t)&&t.apply(this,arguments),$(e)&&r.$$postDigest(function(){$(o)&&i()})},n)}function p(e,t,n,i){function o(e){var t=!0;return r(e,function(e){$(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return i(e)},function(e,n,r){s=e,C(t)&&t.call(this,e,n,r),o(e)&&r.$$postDigest(function(){o(s)&&a()})},n)}function f(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function g(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==p&&n!==h,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return $(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==c?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=c,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var m=Jr().noUnsafeEval,v={csp:m,expensiveChecks:!1,literals:_(o),isIdentifierStart:C(e)&&e,isIdentifierContinue:C(t)&&t},y={csp:m,expensiveChecks:!0,literals:_(o),isIdentifierStart:C(e)&&e,isIdentifierContinue:C(t)&&t},b=!1;return s.$$runningExpensiveChecks=function(){return b},s}]}function $n(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return bn(function(t){e.$evalAsync(t)},t)}]}function yn(){this.$get=["$browser","$exceptionHandler",function(e,t){return bn(function(t){e.defer(t)},t)}]}function bn(e,n){function i(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function a(e){var t,r,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=i.length;a>o;++o){r=i[o][0],t=i[o][e.status];try{C(t)?r.resolve(t(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(s){r.reject(s),n(s)}}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){a(t)}))}function l(){this.promise=new i}function c(e){var t=new l,n=0,i=Gr(e)?[]:{};return r(e,function(e,r){n++,m(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var h=t("$q",TypeError),p=function(){var e=new l;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e};u(i.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&s(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}}),u(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,a.$$resolve(e))}function r(e){l||(l=!0,a.$$reject(e))}var i,a=this,l=!1;try{(y(e)||C(e))&&(i=e&&e.then),C(i)?(this.promise.$$state.status=-1,i.call(e,t,r,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(u){r(u),n(u)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;a>o;o++){i=r[o][0],e=r[o][3];try{i.notify(C(e)?e(t):t)}catch(s){n(s)}}})}});var d=function(e){var t=new l;return t.reject(e),t.promise},f=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},g=function(e,t,n){var r=null;try{C(n)&&(r=n())}catch(i){return f(i,!1)}return N(r)?r.then(function(){return f(e,t)},function(e){return f(e,!1)}):f(e,t)},m=function(e,t,n,r){var i=new l;return i.resolve(e),i.promise.then(t,n,r)},$=m,b=function(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!C(e))throw h("norslvr","Expected resolverFn, got '{0}'",e);var r=new l;return e(t,n),r.promise};return b.prototype=i.prototype,b.defer=p,b.reject=d,b.when=m,b.resolve=$,b.all=c,b}function wn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function xn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return t.prototype=e,t}var i=10,o=t("$rootScope"),s=null,l=null;this.digestTtl=function(e){return arguments.length&&(i=e),i},this.$get=["$exceptionHandler","$parse","$browser",function(t,u,c){function h(e){e.currentScope.$$destroyed=!0}function p(e){9===Or&&(e.$$childHead&&p(e.$$childHead),e.$$nextSibling&&p(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(e){if(S.$$phase)throw o("inprog","{0} already in progress",S.$$phase);S.$$phase=e}function m(){S.$$phase=null}function $(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function b(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function w(){}function x(){for(;T.length;)try{T.shift()()}catch(e){t(e)}l=null}function E(){null===l&&(l=c.defer(function(){S.$apply(x)}))}f.prototype={constructor:f,$new:function(t,n){var r;return n=n||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",h),r},$watch:function(e,t,n,r){var i=u(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,a=o.$$watchers,l={fn:t,last:w,get:i,exp:r||e,eq:!!n};return s=null,C(t)||(l.fn=d),a||(a=o.$$watchers=[]),a.unshift(l),$(this,1),function(){P(a,l)>=0&&$(o,-1),s=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(o,o,s)):t(o,i,s)}var i=new Array(e.length),o=new Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(o,o,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){o[0]=e,i[0]=n,t(o,e===n?o:i,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){o[t]=e,i[t]=r,l||(l=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function r(e){o=e;var t,r,i,s,l;if(!v(o)){if(y(o))if(n(o)){a!==d&&(a=d,m=a.length=0,h++),t=o.length,m!==t&&(h++,a.length=m=t);for(var u=0;t>u;u++)l=a[u],s=o[u],i=l!==l&&s!==s,i||l===s||(h++,a[u]=s)}else{a!==f&&(a=f={},m=0,h++),t=0;for(r in o)Mr.call(o,r)&&(t++,s=o[r],l=a[r],r in a?(i=l!==l&&s!==s,i||l===s||(h++,a[r]=s)):(m++,a[r]=s,h++));if(m>t){h++;for(r in a)Mr.call(o,r)||(m--,delete a[r])}}else a!==o&&(a=o,h++);return h}}function i(){if(g?(g=!1,t(o,o,l)):t(o,s,l),c)if(y(o))if(n(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var r in o)Mr.call(o,r)&&(s[r]=o[r])}else s=o}r.$stateful=!0;var o,a,s,l=this,c=t.length>1,h=0,p=u(e,r),d=[],f={},g=!0,m=0;return this.$watch(p,i)},$digest:function(){var e,n,r,a,u,h,p,d,f,v,$,y,b=i,E=this,T=[];g("$digest"),c.$$checkUrlChange(),this===S&&null!==l&&(c.defer.cancel(l),x()),s=null;do{for(d=!1,v=E;L.length;){try{y=L.shift(),y.scope.$eval(y.expression,y.locals)}catch(M){t(M)}s=null}e:do{if(h=v.$$watchers)for(p=h.length;p--;)try{if(e=h[p])if(u=e.get,(n=u(v))===(r=e.last)||(e.eq?B(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))){if(e===s){d=!1;break e}}else d=!0,s=e,e.last=e.eq?_(n,null):n,a=e.fn,a(n,r===w?n:r,v),5>b&&($=4-b,T[$]||(T[$]=[]),T[$].push({msg:C(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:r}))}catch(M){t(M)}if(!(f=v.$$watchersCount&&v.$$childHead||v!==E&&v.$$nextSibling))for(;v!==E&&!(f=v.$$nextSibling);)v=v.$parent}while(v=f);if((d||L.length)&&!b--)throw m(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",i,T)}while(d||L.length);for(m();A.length;)try{A.shift()()}catch(M){t(M)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&c.$$applicationDestroyed(),$(this,-this.$$watchersCount);for(var t in this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=d,this.$on=this.$watch=this.$watchGroup=function(){return d},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){S.$$phase||L.length||c.defer(function(){L.length&&S.$digest()}),L.push({scope:this,expression:u(e),locals:t})},$$postDigest:function(e){A.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{m()}}catch(n){t(n)}finally{try{S.$digest()}catch(n){throw t(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&T.push(t),e=u(e),E()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,b(i,1,e))}},$emit:function(e,n){var r,i,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=U([u],arguments,1);do{for(r=s.$$listeners[e]||a,u.currentScope=s,i=0,o=r.length;o>i;i++)if(r[i])try{r[i].apply(null,c)}catch(h){t(h)}else r.splice(i,1),i--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,n){var r=this,i=r,o=r,a={name:e,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return a;for(var s,l,u,c=U([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[e]||[],l=0,u=s.length;u>l;l++)if(s[l])try{s[l].apply(null,c)}catch(h){t(h)}else s.splice(l,1),l--,u--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var S=new f,L=S.$$asyncQueue=[],A=S.$$postDigestQueue=[],T=S.$$applyAsyncQueue=[];return S}]}function En(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return $(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=Nn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Cn(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw $o("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Xr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw $o("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Sn(e){var t=[];return $(e)&&r(e,function(e){t.push(Cn(e))}),t}function Ln(){this.SCE_CONTEXTS=yo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Sn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Sn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Dn(t):!!e.exec(t.href)}function i(n){var i,o,a=Nn(n.toString()),s=!1;for(i=0,o=e.length;o>i;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;o>i;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=h.hasOwnProperty(e)?h[e]:null;if(!n)throw $o("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw $o("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||v(t)||""===t)return t;var n=h.hasOwnProperty(e)?h[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===yo.RESOURCE_URL){if(i(t))return t;throw $o("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===yo.HTML)return u(t);throw $o("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw $o("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),h={};return h[yo.HTML]=o(c),h[yo.CSS]=o(c),h[yo.URL]=o(c),h[yo.JS]=o(c),h[yo.RESOURCE_URL]=o(h[yo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function An(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Or)throw $o("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=V(yo);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=f),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return r(yo,function(e,t){var n=kr(t);i[we("parse_as_"+n)]=function(t){return o(e,t)},i[we("get_trusted_"+n)]=function(t){return a(e,t)},i[we("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function Tn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=e.chrome&&e.chrome.app&&e.chrome.app.runtime,a=!o&&e.history&&e.history.pushState,s=h((/android (\d+)/.exec(kr((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),u=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,p=u.body&&u.body.style,d=!1,f=!1;if(p){for(var g in p)if(r=c.exec(g)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),d=!!("transition"in p||n+"Transition"in p),f=!!("animation"in p||n+"Animation"in p),!s||d&&f||(d=w(p.webkitTransition),f=w(p.webkitAnimation))}return{history:!(!a||4>s||l),hasEvent:function(e){if("input"===e&&11>=Or)return!1;if(v(i[e])){var t=u.createElement("div");i[e]="on"+e in t}return i[e]},csp:Jr(),vendorPrefix:n,transitions:d,animations:f,android:s}}]}function Mn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function o(a,s){function l(e){if(!s)throw bo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return r.reject(e)}o.totalPendingRequests++,w(a)&&t.get(a)||(a=i.getTrustedResourceUrl(a));var c=n.defaults&&n.defaults.transformResponse;return Gr(c)?c=c.filter(function(e){return e!==St}):c===St&&(c=null),n.get(a,u({cache:t,transformResponse:c},e))["finally"](function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},l)}return o.totalPendingRequests=0,o}]}function kn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),o=[];return r(i,function(e){var i=Wr.element(e).data("$binding");i&&r(i,function(r){if(n){var i=new RegExp("(^|\\s)"+Xr(t)+"(\\s|\\||$)");i.test(r)&&o.push(e)}else-1!=r.indexOf(t)&&o.push(e)})}),o},i.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function In(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){C(o)||(l=s,s=o,o=d);var u,c=H(arguments,3),h=$(l)&&!l,p=(h?r:n).defer(),f=p.promise;return u=t.defer(function(){try{p.resolve(o.apply(null,c))}catch(t){p.reject(t),i(t)}finally{delete a[f.$$timeoutId]}h||e.$apply()},s),f.$$timeoutId=u,a[u]=p,f}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function Nn(e){var t=e;return Or&&(wo.setAttribute("href",t),t=wo.href),wo.setAttribute("href",t),{href:wo.href,protocol:wo.protocol?wo.protocol.replace(/:$/,""):"",host:wo.host,search:wo.search?wo.search.replace(/^\?/,""):"",hash:wo.hash?wo.hash.replace(/^#/,""):"",hostname:wo.hostname,port:wo.port,pathname:"/"===wo.pathname.charAt(0)?wo.pathname:"/"+wo.pathname}}function Dn(e){var t=w(e)?Nn(e):e;return t.protocol===xo.protocol&&t.host===xo.host}function On(){this.$get=g(e)}function Rn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,l,u=n.cookie||"";if(u!==i)for(i=u,e=i.split("; "),r={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(l=t(o.substring(0,s)),v(r[l])&&(r[l]=t(o.substring(s+1))));return r}}function jn(){this.$get=Rn}function Fn(e){function t(i,o){if(y(i)){var a={};return r(i,function(e,n){a[n]=t(n,e)}),a}return e.factory(i+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Un),t("date",rr),t("filter",Pn),t("json",ir),t("limitTo",or),t("lowercase",Mo),t("number",Hn),t("orderBy",ar),t("uppercase",ko)}function Pn(){return function(e,r,i){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}var o,a,s=Bn(r);switch(s){case"function":o=r;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=_n(r,i,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function _n(e,t,n){var r,i=y(e)&&"$"in e;return t===!0?t=B:C(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:y(t)||y(e)&&!m(e)?!1:(e=kr(""+e),t=kr(""+t),-1!==e.indexOf(t))}),r=function(r){return i&&!y(r)?Vn(r,e.$,t,!1):Vn(r,e,t,n)}}function Vn(e,t,n,r,i){var o=Bn(e),a=Bn(t);if("string"===a&&"!"===t.charAt(0))return!Vn(e,t.substring(1),n,r);if(Gr(e))return e.some(function(e){return Vn(e,t,n,r)});switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Vn(e[s],t,n,!0))return!0;return i?!1:Vn(e,t,n,!1)}if("object"===a){for(s in t){var l=t[s];if(!C(l)&&!v(l)){var u="$"===s,c=u?e:e[s];if(!Vn(c,l,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Bn(e){return null===e?"null":typeof e}function Un(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Gn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Hn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Gn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Wn(e){var t,n,r,i,o,a=0;for((n=e.indexOf(Co))>-1&&(e=e.replace(Co,"")),(r=e.search(/e/i))>0?(0>n&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):0>n&&(n=e.length),r=0;e.charAt(r)==So;r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==So;)o--;for(n-=r,t=[],i=0;o>=r;r++,i++)t[i]=+e.charAt(r)}return n>Eo&&(t=t.splice(0,Eo-1),a=n-1,n=1),{d:t,e:a,i:n}}function qn(e,t,n,r){var i=e.d,o=i.length-e.i;t=v(t)?Math.min(Math.max(n,o),r):+t;var a=t+e.i,s=i[a];if(a>0){i.splice(Math.max(e.i,a));for(var l=a;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var u=1;a>u;u++)i[u]=0}if(s>=5)if(0>a-1){for(var c=0;c>a;c--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var h=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);h&&(i.unshift(h),e.i++)}function Gn(e,t,n,r,i){if(!w(e)&&!x(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="∞";else{o=Wn(l),qn(o,i,t.minFrac,t.maxFrac);var c=o.d,h=o.i,p=o.e,d=[];for(s=c.reduce(function(e,t){return e&&!t},!0);0>h;)c.unshift(0),h++;h>0?d=c.splice(h):(d=c,c=[0]);var f=[];for(c.length>=t.lgSize&&f.unshift(c.splice(-t.lgSize).join(""));c.length>t.gSize;)f.unshift(c.splice(-t.gSize).join(""));c.length&&f.unshift(c.join("")),u=f.join(n),d.length&&(u+=r+d.join("")),p&&(u+="e+"+p)}return 0>e&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function zn(e,t,n,r){var i="";for((0>e||r&&0>=e)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=So+e;return n&&(e=e.substr(e.length-t)),i+e}function Kn(e,t,n,r,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),zn(a,t,r,i)}}function Xn(e,t,n){return function(r,i){var o=r["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=Ir(a+e);return i[s][o]}}function Jn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=zn(Math[r>0?"floor":"ceil"](r/60),2)+zn(Math.abs(r%60),2)}function Yn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Qn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Zn(e){return function(t){var n=Yn(t.getFullYear()),r=Qn(t),i=+r-+n,o=1+Math.round(i/6048e5);return zn(o,e)}}function er(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function tr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function nr(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function rr(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=h(t[9]+t[10]),o=h(t[9]+t[11])),a.call(r,h(t[1]),h(t[2])-1,h(t[3]));var l=h(t[4]||0)-i,u=h(t[5]||0)-o,c=h(t[6]||0),p=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,p),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var a,s,l="",u=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,w(n)&&(n=To.test(n)?h(n):t(n)),x(n)&&(n=new Date(n)),!E(n)||!isFinite(n.getTime()))return n;for(;i;)s=Ao.exec(i),s?(u=U(u,s,1),i=u.pop()):(u.push(i),i=null);var c=n.getTimezoneOffset();return o&&(c=K(o,c),n=J(n,o,!0)),r(u,function(t){a=Lo[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ir(){return function(e,t){return v(t)&&(t=2),G(e,t)}}function or(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):h(t),isNaN(t)?e:(x(e)&&(e=e.toString()),Gr(e)||w(e)?(n=!n||isNaN(n)?0:h(n),n=0>n?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function ar(e){function r(t,n){return n=n?-1:1,t.map(function(t){var r=1,i=f;if(C(t))i=t;else if(w(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var o=i();i=function(e){return e[o]}}return{get:i,descending:r*n}})}function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),i(e))?e:m(e)&&(e=e.toString(),i(e))?e:t}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=o(e,t)),{value:e,type:n}}function s(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,i,o){function l(e,t){return{value:e,predicateValues:c.map(function(n){return a(n.get(e),t)})}}function u(e,t){for(var n=0,r=0,i=c.length;i>r&&!(n=s(e.predicateValues[r],t.predicateValues[r])*c[r].descending);++r);return n}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);Gr(i)||(i=[i]),0===i.length&&(i=["+"]);var c=r(i,o);c.push({get:function(){return{}},descending:o?-1:1});var h=Array.prototype.map.call(e,l);return h.sort(u),e=h.map(function(e){return e.value})}}function sr(e){return C(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function lr(e,t){e.$name=t}function ur(e,t,n,i,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(t.name||t.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Do,a.$rollbackViewValue=function(){r(s,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){r(s,function(e){e.$commitViewValue()})},a.$addControl=function(e){pe(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],r(a.$pending,function(t,n){a.$setValidity(n,null,e)}),r(a.$error,function(t,n){a.$setValidity(n,null,e)}),r(a.$$success,function(t,n){a.$setValidity(n,null,e)}),P(s,e),e.$$parentForm=Do},Cr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(P(r,n),0===r.length&&delete e[t])},$animate:i}),a.$setDirty=function(){i.removeClass(e,va),i.addClass(e,$a),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){i.setClass(e,va,$a+" "+Oo),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,r(s,function(e){e.$setPristine()})},a.$setUntouched=function(){r(s,function(e){e.$setUntouched()})},a.$setSubmitted=function(){i.addClass(e,Oo),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function cr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function hr(e,t,n,r,i,o){pr(e,t,n,r,i,o),cr(r)}function pr(e,t,n,r,i,o){var a=kr(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Kr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),Ko[a]&&r.$$hasNativeValidators&&a===n.type&&t.on(zo,function(e){if(!l){var t=this[Tr],n=t.badInput,r=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function dr(e,t){if(E(e))return e;if(w(e)){Wo.lastIndex=0;var n=Wo.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=Yn(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return NaN}function fr(e,t){return function(n,i){var o,a;if(E(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Po.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function gr(e,t,n,r){return function(i,o,a,s,l,u,c){function h(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return $(e)&&!E(e)?n(e)||void 0:e}mr(i,o,a,s),pr(i,o,a,s,l,u);var d,f=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,d);return f&&(r=J(r,f)),r}}),s.$formatters.push(function(e){if(e&&!E(e))throw Ca("datefmt","Expected `{0}` to be a date",e);return h(e)?(d=e,d&&f&&(d=J(d,f,!0)),c("date")(e,r,f)):(d=null,"")}),$(a.min)||a.ngMin){var g;s.$validators.min=function(e){return!h(e)||v(g)||n(e)>=g},a.$observe("min",function(e){g=p(e),s.$validate()})}if($(a.max)||a.ngMax){var m;s.$validators.max=function(e){return!h(e)||v(m)||n(e)<=m},a.$observe("max",function(e){m=p(e),s.$validate()})}}}function mr(e,t,n,r){var i=t[0],o=r.$$hasNativeValidators=y(i.validity);o&&r.$parsers.push(function(e){var n=t.prop(Tr)||{};return n.badInput||n.typeMismatch?void 0:e})}function vr(e,t,n,r,i,o){if(mr(e,t,n,r),pr(e,t,n,r,i,o),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Bo.test(e)?parseFloat(e):void 0}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!x(e))throw Ca("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),$(n.min)||n.ngMin){var a;r.$validators.min=function(e){return r.$isEmpty(e)||v(a)||e>=a;
},n.$observe("min",function(e){$(e)&&!x(e)&&(e=parseFloat(e,10)),a=x(e)&&!isNaN(e)?e:void 0,r.$validate()})}if($(n.max)||n.ngMax){var s;r.$validators.max=function(e){return r.$isEmpty(e)||v(s)||s>=e},n.$observe("max",function(e){$(e)&&!x(e)&&(e=parseFloat(e,10)),s=x(e)&&!isNaN(e)?e:void 0,r.$validate()})}}function $r(e,t,n,r,i,o){pr(e,t,n,r,i,o),cr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||_o.test(n)}}function yr(e,t,n,r,i,o){pr(e,t,n,r,i,o),cr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Vo.test(n)}}function br(e,t,n,r){v(n.name)&&t.attr("name",a());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function wr(e,t,n,r,i){var o;if($(r)){if(o=e(r),!o.constant)throw Ca("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function xr(e,t,n,r,i,o,a,s){var l=wr(s,e,"ngTrueValue",n.ngTrueValue,!0),u=wr(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return B(e,l)}),r.$parsers.push(function(e){return e?l:u})}function Er(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function o(e){var t=[];return Gr(e)?(r(e,function(e){t=t.concat(o(e))}),t):w(e)?e.split(" "):y(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function u(e){var t=h(e,1);l.$addClass(t)}function c(e){var t=h(e,-1);l.$removeClass(t)}function h(e,t){var n=s.data("$classCounts")||ge(),i=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function p(e,t){var r=i(t,e),o=i(e,t);r=h(r,1),o=h(o,-1),r&&r.length&&n.addClass(s,r),o&&o.length&&n.removeClass(s,o)}function d(e){if(t===!0||a.$index%2===t){var n=o(e||[]);if(f){if(!B(e,f)){var r=o(f);p(r,n)}}else u(n)}f=Gr(e)?e.map(function(e){return V(e)}):V(e)}var f;a.$watch(l[e],d,!0),l.$observe("class",function(t){d(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var i=1&n;if(i!==(1&r)){var s=o(a.$eval(l[e]));i===t?u(s):c(s)}})}}}]}function Cr(e){function t(e,t,s){v(t)?n("$pending",e,s):r("$pending",e,s),I(t)?t?(c(a.$error,e,s),u(a.$$success,e,s)):(u(a.$error,e,s),c(a.$$success,e,s)):(c(a.$error,e,s),c(a.$$success,e,s)),a.$pending?(i(wa,!0),a.$valid=a.$invalid=void 0,o("",null)):(i(wa,!1),a.$valid=Sr(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var l;l=a.$pending&&a.$pending[e]?void 0:a.$error[e]?!1:a.$$success[e]?!0:null,o(e,l),a.$$parentForm.$setValidity(e,l,a)}function n(e,t,n){a[e]||(a[e]={}),u(a[e],t,n)}function r(e,t,n){a[e]&&c(a[e],t,n),Sr(a[e])&&(a[e]=void 0)}function i(e,t){t&&!l[e]?(h.addClass(s,e),l[e]=!0):!t&&l[e]&&(h.removeClass(s,e),l[e]=!1)}function o(e,t){e=e?"-"+le(e,"-"):"",i(ga+e,t===!0),i(ma+e,t===!1)}var a=e.ctrl,s=e.$element,l={},u=e.set,c=e.unset,h=e.$animate;l[ma]=!(l[ga]=s.hasClass(ga)),a.$setValidity=t}function Sr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Lr(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var Ar=/^\/(.+)\/([a-z]*)$/,Tr="validity",Mr=Object.prototype.hasOwnProperty,kr=function(e){return w(e)?e.toLowerCase():e},Ir=function(e){return w(e)?e.toUpperCase():e},Nr=function(e){return w(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Dr=function(e){return w(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(kr=Nr,Ir=Dr);var Or,Rr,jr,Fr,Pr=[].slice,_r=[].splice,Vr=[].push,Br=Object.prototype.toString,Ur=Object.getPrototypeOf,Hr=t("ng"),Wr=e.angular||(e.angular={}),qr=0;Or=e.document.documentMode,d.$inject=[],f.$inject=[];var Gr=Array.isArray,zr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Kr=function(e){return w(e)?e.trim():e},Xr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Jr=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!$(Jr.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Jr.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else Jr.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Jr.rules},Yr=function(){if($(Yr.name_))return Yr.name_;var t,n,r,i,o=Zr.length;for(n=0;o>n;++n)if(r=Zr[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return Yr.name_=i},Qr=/:/g,Zr=["ng-","data-ng-","ng:","x-ng-"],ei=/[A-Z]/g,ti=!1,ni=1,ri=2,ii=3,oi=8,ai=9,si=11,li={full:"1.5.5",major:1,minor:5,dot:5,codeName:"material-conspiration"};Me.expando="ng339";var ui=Me.cache={},ci=1,hi=function(e,t,n){e.addEventListener(t,n,!1)},pi=function(e,t,n){e.removeEventListener(t,n,!1)};Me._data=function(e){return this.cache[e[this.expando]]||{}};var di=/([\:\-\_]+(.))/g,fi=/^moz([A-Z])/,gi={mouseleave:"mouseout",mouseenter:"mouseover"},mi=t("jqLite"),vi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,$i=/<|&#?\w+;/,yi=/<([\w:-]+)/,bi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wi.optgroup=wi.option,wi.tbody=wi.tfoot=wi.colgroup=wi.caption=wi.thead,wi.th=wi.td;var xi=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ei=Me.prototype={ready:function(t){function n(){r||(r=!0,t())}var r=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),Me(e).on("load",n))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Rr(e>=0?this[e]:this[this.length+e])},length:0,push:Vr,sort:[].sort,splice:[].splice},Ci={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Ci[kr(e)]=e});var Si={};r("input,select,option,textarea,button,form,details".split(","),function(e){Si[e]=!0});var Li={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Re,removeData:De,hasData:Ce,cleanData:Se},function(e,t){Me[t]=e}),r({data:Re,inheritedData:Be,scope:function(e){return Rr.data(e,"$scope")||Be(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Rr.data(e,"$isolateScope")||Rr.data(e,"$isolateScopeNoTemplate")},controller:Ve,injector:function(e){return Be(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:je,css:function(e,t,n){return t=we(t),$(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==ii&&r!==ri&&r!==oi){var i=kr(t);if(Ci[i]){if(!$(n))return e[t]||(e.attributes.getNamedItem(t)||d).specified?i:void 0;n?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if($(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?void 0:o}}},prop:function(e,t,n){return $(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===ni||n===ii?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===F(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(Ie(e,!0),void(e.innerHTML=t))},empty:Ue},function(e,t){Me.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Ue&&v(2==e.length&&e!==je&&e!==Ve?t:n)){if(y(t)){for(r=0;o>r;r++)if(e===Re)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=v(a)?Math.min(o,1):o,l=0;s>l;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(r=0;o>r;r++)e(this[r],t,n);return this}}),r({removeData:De,on:function(e,t,n,r){if($(r))throw mi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ee(e)){var i=Oe(e,!0),o=i.events,a=i.handle;a||(a=i.handle=ze(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,u=function(t,r,i){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||i||hi(e,t,a)),s.push(n)};l--;)t=s[l],gi[t]?(u(gi[t],Xe),u(t,void 0,!0)):u(t)}},off:Ne,one:function(e,t,n){e=Rr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;Ie(e),r(new Me(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===ni&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===ni||n===si){t=new Me(t);for(var r=0,i=t.length;i>r;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===ni){var n=e.firstChild;r(new Me(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Te(e,Rr(t).eq(0).clone()[0])},remove:He,detach:function(e){He(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Me(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Pe,removeClass:Fe,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;v(r)&&(r=!je(e,t)),(r?Pe:Fe)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==si?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ke,triggerHandler:function(e,t,n){var i,o,a,s=t.type||t,l=Oe(e),c=l&&l.events,h=c&&c[s];h&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:d,type:s,target:e},t.type&&(i=u(i,t)),o=V(h),a=n?[i].concat(n):[i],r(o,function(t){i.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Me.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)v(i)?(i=e(this[o],t,n,r),$(i)&&(i=Rr(i))):_e(i,e(this[o],t,n,r));return $(i)?i:this},Me.prototype.bind=Me.prototype.on,Me.prototype.unbind=Me.prototype.off}),Qe.prototype={put:function(e,t){this[Ye(e,this.nextUid)]=t},get:function(e){return this[Ye(e,this.nextUid)]},remove:function(e){var t=this[e=Ye(e,this.nextUid)];return delete this[e],t}};var Ai=[function(){this.$get=[function(){return Qe}]}],Ti=/^([^\(]+?)=>/,Mi=/^[^\(]*\(\s*([^\)]*)\)/m,ki=/,/,Ii=/^\s*(_?)(\S+?)\1\s*$/,Ni=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Di=t("$injector");nt.$$annotate=tt;var Oi=t("$animate"),Ri=1,ji="ng-animate",Fi=function(){this.$get=d},Pi=function(){var e=new Qe,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(e,t,n){var i=!1;return t&&(t=w(t)?t.split(" "):Gr(t)?t:[],r(t,function(t){t&&(i=!0,e[t]=n)})),i}function a(){r(t,function(t){var n=e.get(t);if(n){var i=at(t.attr("class")),o="",a="";r(n,function(e,t){var n=!!i[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),r(t,function(e){o&&Pe(e,o),a&&Fe(e,a)}),e.remove(t)}}),t.length=0}function s(n,r,s){var l=e.get(n)||{},u=o(l,r,!0),c=o(l,s,!1);(u||c)&&(e.put(n,l),t.push(n),1===t.length&&i.$$postDigest(a))}return{enabled:d,on:d,off:d,pin:d,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},_i=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Oi("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+ji+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Oi("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ji)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=ot(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Rr(r),i=i&&Rr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",st(o))},move:function(n,r,i,o){return r=r&&Rr(r),i=i&&Rr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",st(o))},leave:function(t,n){return e.push(t,"leave",st(n),function(){t.remove()})},addClass:function(t,n,r){return r=st(r),r.addClass=it(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=st(r),r.removeClass=it(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=st(i),i.addClass=it(i.addClass,n),i.removeClass=it(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=st(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=it(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Vi=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Bi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,o){function a(e){this.setHost(e);var t=n(),r=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?r(e):t(e)},this._state=0}var s=0,l=1,u=2;return a.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},a.all=function(e,t){function n(n){o=o&&n,++i===e.length&&t(o)}var i=0,o=!0;r(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===u?e():this._doneCallbacks.push(e)},progress:d,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==u&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=u)}},a}]},Ui=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=_(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:i,end:i}}}]},Hi=t("$compile"),Wi=new pt;dt.$inject=["$provide","$$sanitizeUriProvider"],ft.prototype.isFirstChange=function(){return this.previousValue===Wi};var qi=/^((?:x|data)[\:\-_])/i,Gi=t("$controller"),zi=/^(\S+)(\s+as\s+([\w$]+))?$/,Ki=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Rr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Xi="application/json",Ji={"Content-Type":Xi+";charset=utf-8"},Yi=/^\[|^\{(?!\{)/,Qi={"[":/]$/,"{":/}$/},Zi=/^\)\]\}',?\n/,eo=t("$http"),to=function(e){return function(){throw eo("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},no=Wr.$interpolateMinErr=t("$interpolate");no.throwNoconcat=function(e){throw no("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},no.interr=function(e,t){return no("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ro=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,io={http:80,https:443,ftp:21},oo=t("$location"),ao={$$html5:!1,$$replace:!1,absUrl:Kt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=ro.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Kt("$$protocol"),host:Kt("$$host"),port:Kt("$$port"),path:Xt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||x(e))e=e.toString(),this.$$search=Z(e);else{if(!y(e))throw oo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=_(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Xt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([zt,Gt,qt],function(e){e.prototype=Object.create(ao),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==qt||!this.$$html5)throw oo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var so=t("$parse"),lo=Function.prototype.call,uo=Function.prototype.apply,co=Function.prototype.bind,ho=ge();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){ho[e]=!0});var po={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},fo=function(e){this.options=e};fo.prototype={constructor:fo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=ho[t],o=ho[n],a=ho[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&56319>=n&&r>=56320&&57343>=r?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=$(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw so("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=kr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=po[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var go=function(e,t){this.lexer=e,this.options=t};go.Program="Program",go.ExpressionStatement="ExpressionStatement",go.AssignmentExpression="AssignmentExpression",go.ConditionalExpression="ConditionalExpression",go.LogicalExpression="LogicalExpression",go.BinaryExpression="BinaryExpression",go.UnaryExpression="UnaryExpression",go.CallExpression="CallExpression",go.MemberExpression="MemberExpression",go.Identifier="Identifier",go.Literal="Literal",go.ArrayExpression="ArrayExpression",go.Property="Property",go.ObjectExpression="ObjectExpression",go.ThisExpression="ThisExpression",go.LocalsExpression="LocalsExpression",go.NGValueParameter="NGValueParameter",go.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:go.Program,body:e}},expressionStatement:function(){return{type:go.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:go.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:go.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:go.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:go.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:go.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:go.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:go.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:go.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:go.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=_(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:go.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:go.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:go.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:go.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:go.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:go.Identifier,name:e.text}},constant:function(){return{type:go.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:go.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:go.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:go.ObjectExpression,properties:t}},throwError:function(e,t){throw so("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw so("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw so("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},selfReferential:{"this":{type:go.ThisExpression},$locals:{type:go.LocalsExpression}}},dn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},sn(i,n.$filter);var o,a="";if(this.stage="assign",o=cn(i)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var l=ln(i.body);n.stage="inputs",r(l,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,Qt,en,tn,Zt,nn,rn,on,e);return this.state=this.stage=void 0,c.literal=hn(i),c.constant=pn(i),c},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,o,a){var s,l,u,c,h=this;if(i=i||d,!a&&$(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,o,!0));switch(e.type){case go.Program:r(e.body,function(t,n){h.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case go.Literal:c=this.escape(e.value),this.assign(t,c),i(c);break;case go.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),i(c);break;case go.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,c),i(c);break;case go.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),i(t);break;case go.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),i(t);break;case go.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),Qt(e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){h.if_("inputs"===h.stage||"s",function(){o&&1!==o&&h.if_(h.not(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),(h.state.expensiveChecks||gn(e.name))&&h.addEnsureSafeObject(t),i(t);break;case go.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,function(){h.if_(h.notNull(s),function(){o&&1!==o&&h.addEnsureSafeAssignContext(s),e.computed?(l=h.nextId(),h.recurse(e.property,l),h.getStringValue(l),h.addEnsureSafeMemberName(l),o&&1!==o&&h.if_(h.not(h.computedMember(s,l)),h.lazyAssign(h.computedMember(s,l),"{}")),c=h.ensureSafeObject(h.computedMember(s,l)),h.assign(t,c),n&&(n.computed=!0,n.name=l)):(Qt(e.property.name),o&&1!==o&&h.if_(h.not(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),c=h.nonComputedMember(s,e.property.name),(h.state.expensiveChecks||gn(e.property.name))&&(c=h.ensureSafeObject(c)),h.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){h.assign(t,"undefined")}),i(t)},!!o);break;case go.CallExpression:t=t||this.nextId(),e.filter?(l=h.filter(e.callee.name),u=[],r(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",h.assign(t,c),i(t)):(l=h.nextId(),s={},u=[],
h.recurse(e.callee,l,s,function(){h.if_(h.notNull(l),function(){h.addEnsureSafeFunction(l),r(e.arguments,function(e){h.recurse(e,h.nextId(),void 0,function(e){u.push(h.ensureSafeObject(e))})}),s.name?(h.state.expensiveChecks||h.addEnsureSafeObject(s.context),c=h.member(s.context,s.name,s.computed)+"("+u.join(",")+")"):c=l+"("+u.join(",")+")",c=h.ensureSafeObject(c),h.assign(t,c)},function(){h.assign(t,"undefined")}),i(t)}));break;case go.AssignmentExpression:if(l=this.nextId(),s={},!un(e.left))throw so("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(e.right,l),h.addEnsureSafeObject(h.member(s.context,s.name,s.computed)),h.addEnsureSafeAssignContext(s.context),c=h.member(s.context,s.name,s.computed)+e.operator+l,h.assign(t,c),i(t||c)})},1);break;case go.ArrayExpression:u=[],r(e.elements,function(e){h.recurse(e,h.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),i(c);break;case go.ObjectExpression:u=[],r(e.properties,function(e){h.recurse(e.value,h.nextId(),void 0,function(t){u.push(h.escape(e.key.type===go.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+u.join(",")+"}",this.assign(t,c),i(c);break;case go.ThisExpression:this.assign(t,"s"),i("s");break;case go.LocalsExpression:this.assign(t,"l"),i("l");break;case go.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw so("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},fn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,sn(i,n.$filter);var o,a;(o=cn(i))&&(a=this.recurse(o));var s,l=ln(i.body);l&&(s=[],r(l,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var u=[];r(i.body,function(e){u.push(n.recurse(e.expression))});var c=0===i.body.length?d:1===i.body.length?u[0]:function(e,t){var n;return r(u,function(r){n=r(e,t)}),n};return a&&(c.assign=function(e,t,n){return a(e,n,t)}),s&&(c.inputs=s),c.literal=hn(i),c.constant=pn(i),c},recurse:function(e,t,n){var i,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case go.Literal:return this.value(e.value,t);case go.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case go.BinaryExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case go.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case go.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case go.Identifier:return Qt(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||gn(e.name),t,n,s.expression);case go.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(Qt(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,n,s.expression):this.nonComputedMember(i,o,s.expensiveChecks,t,n,s.expression);case go.CallExpression:return a=[],r(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,r,i){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,r,i));var u=o.apply(void 0,s,i);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,r,i){var l,u=o(e,n,r,i);if(null!=u.value){en(u.context,s.expression),tn(u.value,s.expression);for(var c=[],h=0;h<a.length;++h)c.push(en(a[h](e,n,r,i),s.expression));l=en(u.value.apply(u.context,c),s.expression)}return t?{value:l}:l};case go.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,r,a){var l=i(e,n,r,a),u=o(e,n,r,a);return en(l.value,s.expression),nn(l.context),l.context[l.name]=u,t?{value:u}:u};case go.ArrayExpression:return a=[],r(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case go.ObjectExpression:return a=[],r(e.properties,function(e){a.push({key:e.key.type===go.Identifier?e.key.name:""+e.key.value,value:s.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case go.ThisExpression:return function(e){return t?{value:e}:e};case go.LocalsExpression:return function(e,n){return t?{value:n}:n};case go.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=$(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=$(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=on(s,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=($(s)?s:0)-($(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(o,a,s,l){var u=a&&e in a?a:o;r&&1!==r&&u&&!u[e]&&(u[e]={});var c=u?u[e]:void 0;return t&&en(c,i),n?{context:u,name:e,value:c}:c}},computedMember:function(e,t,n,r,i){return function(o,a,s,l){var u,c,h=e(o,a,s,l);return null!=h&&(u=t(o,a,s,l),u=Zt(u),Qt(u,i),r&&1!==r&&(nn(h),h&&!h[u]&&(h[u]={})),c=h[u],en(c,i)),n?{context:h,name:u,value:c}:c}},nonComputedMember:function(e,t,n,r,i,o){return function(a,s,l,u){var c=e(a,s,l,u);i&&1!==i&&(nn(c),c&&!c[t]&&(c[t]={}));var h=null!=c?c[t]:void 0;return(n||gn(t))&&en(h,o),r?{context:c,name:t,value:h}:h}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var mo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new go(e,n),this.astCompiler=n.csp?new fn(this.ast,t):new dn(this.ast,t)};mo.prototype={constructor:mo,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var vo=Object.prototype.valueOf,$o=t("$sce"),yo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},bo=t("$compile"),wo=e.document.createElement("a"),xo=Nn(e.location.href);Rn.$inject=["$document"],Fn.$inject=["$provide"];var Eo=22,Co=".",So="0";Un.$inject=["$locale"],Hn.$inject=["$locale"];var Lo={yyyy:Kn("FullYear",4,0,!1,!0),yy:Kn("FullYear",2,0,!0,!0),y:Kn("FullYear",1,0,!1,!0),MMMM:Xn("Month"),MMM:Xn("Month",!0),MM:Kn("Month",2,1),M:Kn("Month",1,1),LLLL:Xn("Month",!1,!0),dd:Kn("Date",2),d:Kn("Date",1),HH:Kn("Hours",2),H:Kn("Hours",1),hh:Kn("Hours",2,-12),h:Kn("Hours",1,-12),mm:Kn("Minutes",2),m:Kn("Minutes",1),ss:Kn("Seconds",2),s:Kn("Seconds",1),sss:Kn("Milliseconds",3),EEEE:Xn("Day"),EEE:Xn("Day",!0),a:er,Z:Jn,ww:Zn(2),w:Zn(1),G:tr,GG:tr,GGG:tr,GGGG:nr},Ao=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,To=/^\-?\d+$/;rr.$inject=["$locale"];var Mo=g(kr),ko=g(Ir);ar.$inject=["$parse"];var Io=g({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Br.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),No={};r(Ci,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=gt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),No[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(Li,function(e,t){No[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Ar);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=gt("ng-"+e);No[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Br.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(Or&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var Do={$addControl:d,$$renameControl:lr,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d,$setSubmitted:d},Oo="ng-submitted";ur.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ro=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||d}var i={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:ur,compile:function(n,i){n.addClass(va).addClass(ga);var o=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};hi(n[0],"submit",l),n.on("$destroy",function(){t(function(){pi(n[0],"submit",l)},0,!1)})}var c=a[1]||s.$$parentForm;c.$addControl(s);var h=o?r(s.$name):d;o&&(h(e,s),i.$observe(o,function(t){s.$name!==t&&(h(e,void 0),s.$$parentForm.$$renameControl(s,t),(h=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),h(e,void 0),u(s,Do)})}}}};return i}]},jo=Ro(),Fo=Ro(!0),Po=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,_o=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Vo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Bo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Uo=/^(\d{4,})-(\d{2})-(\d{2})$/,Ho=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Wo=/^(\d{4,})-W(\d\d)$/,qo=/^(\d{4,})-(\d\d)$/,Go=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,zo="keydown wheel mousedown",Ko=ge();r("date,datetime-local,month,time,week".split(","),function(e){Ko[e]=!0});var Xo={text:hr,date:gr("date",Uo,fr(Uo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":gr("datetimelocal",Ho,fr(Ho,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:gr("time",Go,fr(Go,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:gr("week",Wo,dr,"yyyy-Www"),month:gr("month",qo,fr(qo,["yyyy","MM"]),"yyyy-MM"),number:vr,url:$r,email:yr,radio:br,checkbox:xr,hidden:d,button:d,submit:d,reset:d,file:d},Jo=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Xo[kr(a.type)]||Xo.text)(i,o,a,s[0],t,e,n,r)}}}}],Yo=/^(true|false|\d+)$/,Qo=function(){return{restrict:"A",priority:100,compile:function(e,t){return Yo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Zo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=v(e)?"":e})}}}}],ea=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=v(e)?"":e})}}}}],ta=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],na=g({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ra=Er("",!0),ia=Er("Odd",0),oa=Er("Even",1),aa=sr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),sa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],la={},ua={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=gt("ng-"+e);la[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};ua[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var ca=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=fe(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],ha=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Wr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var h,p,d,f=0,g=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).then(function(){p=null}),p=d,d=null)};r.$watch(o,function(o){var l=function(){!$(s)||s&&!r.$eval(s)||t()},p=++f;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&p===f){var t=r.$new();u.template=e;var s=c(t,function(e){g(),n.enter(e,null,i).then(l)});h=t,d=s,h.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||p===f&&(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],pa=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return Br.call(r[0]).match(/SVG/)?(r.empty(),void t(Le(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],da=sr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),fa=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var o=t.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?Kr(o):o,l=function(e){if(!v(e)){var t=[];return e&&r(e.split(s),function(e){e&&t.push(a?Kr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return Gr(e)?e.join(o):void 0}),i.$isEmpty=function(e){return!e||!e.length}}}},ga="ng-valid",ma="ng-invalid",va="ng-pristine",$a="ng-dirty",ya="ng-untouched",ba="ng-touched",wa="ng-pending",xa="ng-empty",Ea="ng-not-empty",Ca=t("ngModel"),Sa=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,i,o,a,s,l,u,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(e),this.$$parentForm=Do;var h,p=o(n.ngModel),f=p.assign,g=p,m=f,y=null,b=this;this.$$setOptions=function(e){if(b.$options=e,e&&e.getterSetter){var t=o(n.ngModel+"()"),r=o(n.ngModel+"($$$p)");g=function(e){var n=p(e);return C(n)&&(n=t(e)),n},m=function(e,t){C(p(e))?r(e,{$$$p:t}):f(e,t)}}else if(!p.assign)throw Ca("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,Y(i))},this.$render=d,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){b.$isEmpty(e)?(a.removeClass(i,Ea),a.addClass(i,xa)):(a.removeClass(i,xa),a.addClass(i,Ea))};var w=0;Cr({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,a.removeClass(i,$a),a.addClass(i,va)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,a.removeClass(i,va),a.addClass(i,$a),b.$$parentForm.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,a.setClass(i,ya,ba)},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,a.setClass(i,ba,ya)},this.$rollbackViewValue=function(){s.cancel(y),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!x(b.$modelValue)||!isNaN(b.$modelValue)){var e=b.$$lastCommittedViewValue,t=b.$$rawModelValue,n=b.$valid,r=b.$modelValue,i=b.$options&&b.$options.allowInvalid;b.$$runValidators(t,e,function(e){i||n===e||(b.$modelValue=e?t:void 0,b.$modelValue!==r&&b.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function i(){var e=b.$$parserName||"parse";return v(h)?(s(e,null),!0):(h||(r(b.$validators,function(e,t){s(t,null)}),r(b.$asyncValidators,function(e,t){s(t,null)})),s(e,h),h)}function o(){var n=!0;return r(b.$validators,function(r,i){var o=r(e,t);n=n&&o,s(i,o)}),n?!0:(r(b.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],i=!0;r(b.$asyncValidators,function(r,o){var a=r(e,t);if(!N(a))throw Ca("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){i=!1,s(o,!1)}))}),n.length?u.all(n).then(function(){l(i)},d):l(!0)}function s(e,t){c===w&&b.$setValidity(e,t)}function l(e){c===w&&n(e)}w++;var c=w;return i()&&o()?void a():void l(!1)},this.$commitViewValue=function(){var e=b.$viewValue;s.cancel(y),(b.$$lastCommittedViewValue!==e||""===e&&b.$$hasNativeValidators)&&(b.$$updateEmptyClasses(e),b.$$lastCommittedViewValue=e,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){b.$modelValue!==o&&b.$$writeModelToScope()}var n=b.$$lastCommittedViewValue,r=n;if(h=v(r)?void 0:!0)for(var i=0;i<b.$parsers.length;i++)if(r=b.$parsers[i](r),v(r)){h=!1;break}x(b.$modelValue)&&isNaN(b.$modelValue)&&(b.$modelValue=g(e));var o=b.$modelValue,a=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=r,a&&(b.$modelValue=r,t()),b.$$runValidators(r,b.$$lastCommittedViewValue,function(e){a||(b.$modelValue=e?r:void 0,t())})},this.$$writeModelToScope=function(){m(e,b.$modelValue),r(b.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){b.$viewValue=e,b.$options&&!b.$options.updateOnDefault||b.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=b.$options;i&&$(i.debounce)&&(n=i.debounce,x(n)?r=n:x(n[t])?r=n[t]:x(n["default"])&&(r=n["default"])),s.cancel(y),r?y=s(function(){b.$commitViewValue()},r):l.$$phase?b.$commitViewValue():e.$apply(function(){b.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==b.$modelValue&&(b.$modelValue===b.$modelValue||t===t)){b.$modelValue=b.$$rawModelValue=t,h=void 0;for(var n=b.$formatters,r=n.length,i=t;r--;)i=n[r](i);b.$viewValue!==i&&(b.$$updateEmptyClasses(i),b.$viewValue=b.$$lastCommittedViewValue=i,b.$render(),b.$$runValidators(t,i,d))}return t})}],La=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Sa,priority:1,compile:function(t){return t.addClass(va).addClass(ya).addClass(ga),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Aa=/(\s+|^)default(\s+|$)/,Ta=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=_(e.$eval(t.ngModelOptions)),$(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Kr(this.$options.updateOn.replace(Aa,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ma=sr({terminal:!0,priority:1e3}),ka=t("ngOptions"),Ia=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Na=["$compile","$document","$parse",function(t,i,o){function a(e,t,r){function i(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!u&&n(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var s=e.match(Ia);if(!s)throw ka("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Y(t));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],h=s[9],p=o(s[2]?s[1]:l),d=c&&o(c),f=d||p,g=h&&o(h),m=h?function(e,t){return g(r,t)}:function(e){return Ye(e)},v=function(e,t){return m(e,E(e,t))},$=o(s[2]||s[1]),y=o(s[3]||""),b=o(s[4]||""),w=o(s[8]),x={},E=u?function(e,t){return x[u]=t,x[l]=e,x}:function(e){return x[l]=e,x};return{trackBy:h,getTrackByValue:v,getWatchables:o(w,function(e){var t=[];e=e||[];for(var n=a(e),i=n.length,o=0;i>o;o++){var l=e===n?o:n[o],u=e[l],c=E(u,l),h=m(u,c);if(t.push(h),s[2]||s[1]){var p=$(r,c);t.push(p)}if(s[4]){var d=b(r,c);t.push(d)}}return t}),getOptions:function(){for(var e=[],t={},n=w(r)||[],o=a(n),s=o.length,l=0;s>l;l++){var u=n===o?l:o[l],c=n[u],p=E(c,u),d=f(r,p),g=m(d,p),x=$(r,p),C=y(r,p),S=b(r,p),L=new i(g,d,x,C,S);e.push(L),t[g]=L}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return h?Wr.copy(e.viewValue):e.viewValue}}}}}function s(e,n,o,s){function c(e,t){var n=l.cloneNode(!1);t.appendChild(n),h(e,n)}function h(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function p(){var e=E&&f.readValue();if(E)for(var t=E.items.length-1;t>=0;t--){var r=E.items[t];He(r.group?r.element.parentNode:r.element)}E=C.getOptions();var i={};if(w&&n.prepend(d),E.items.forEach(function(e){var t;$(e.group)?(t=i[e.group],t||(t=u.cloneNode(!1),S.appendChild(t),t.label=e.group,i[e.group]=t),c(e,t)):c(e,S)}),n[0].appendChild(S),g.$render(),!g.$isEmpty(e)){var o=f.readValue(),a=C.trackBy||m;(a?B(e,o):e===o)||(g.$setViewValue(o),g.$render())}}for(var d,f=s[0],g=s[1],m=o.multiple,v=0,y=n.children(),b=y.length;b>v;v++)if(""===y[v].value){d=y.eq(v);break}var w=!!d,x=Rr(l.cloneNode(!1));x.val("?");var E,C=a(o.ngOptions,n,e),S=i[0].createDocumentFragment(),L=function(){w||n.prepend(d),n.val(""),d.prop("selected",!0),d.attr("selected",!0)},A=function(){w||d.remove()},T=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},M=function(){x.remove()};m?(g.$isEmpty=function(e){return!e||0===e.length},f.writeValue=function(e){E.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=E.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},f.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){var n=E.selectValueMap[e];n&&!n.disabled&&t.push(E.getViewValueFromOption(n))}),t},C.trackBy&&e.$watchCollection(function(){return Gr(g.$viewValue)?g.$viewValue.map(function(e){return C.getTrackByValue(e)}):void 0},function(){g.$render()})):(f.writeValue=function(e){var t=E.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(M(),A(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||w?(M(),L()):(A(),T())},f.readValue=function(){var e=E.selectValueMap[n.val()];return e&&!e.disabled?(A(),M(),E.getViewValueFromOption(e)):null},C.trackBy&&e.$watch(function(){return C.getTrackByValue(g.$viewValue)},function(){g.$render()})),w?(d.remove(),t(d)(e),d.removeClass("ng-scope")):d=Rr(l.cloneNode(!1)),n.empty(),p(),e.$watchCollection(C.getWatchables,p)}var l=e.document.createElement("option"),u=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=d},post:s}}}],Da=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,h=l.count,p=l.$attr.when&&s.attr(l.$attr.when),f=l.offset||0,g=a.$eval(p)||{},m={},$=t.startSymbol(),y=t.endSymbol(),b=$+h+"-"+f+y,w=Wr.noop;r(l,function(e,t){var n=o.exec(t);if(n){var r=(n[1]?"-":"")+kr(n[2]);g[r]=s.attr(l.$attr[t])}}),r(g,function(e,n){m[n]=t(e.replace(i,b))}),a.$watch(h,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in g||(r=e.pluralCat(r-f)),r!==c&&!(i&&x(c)&&isNaN(c))){w();var o=m[r];v(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),w=d,u()):w=a.$watch(o,u),c=r}})}}}],Oa=["$parse","$animate","$compile",function(e,i,o){var a="$$NG_REMOVED",s=t("ngRepeat"),l=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,h){var p=h.ngRepeat,d=o.$$createComment("end ngRepeat",p),f=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=f[1],m=f[2],v=f[3],$=f[4];if(f=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!f)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var y=f[3]||f[1],b=f[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var w,x,E,C,S={$id:Ye};return $?w=e($):(E=function(e,t){return Ye(t)},C=function(e){return e}),function(e,t,o,h,f){w&&(x=function(t,n,r){return b&&(S[b]=t),S[y]=n,S.$index=r,w(e,S)});var g=ge();e.$watchCollection(m,function(o){var h,m,$,w,S,L,A,T,M,k,I,N,D=t[0],O=ge();if(v&&(e[v]=o),n(o))M=o,T=x||E;else{T=x||C,M=[];for(var R in o)Mr.call(o,R)&&"$"!==R.charAt(0)&&M.push(R)}for(w=M.length,I=new Array(w),h=0;w>h;h++)if(S=o===M?h:M[h],L=o[S],A=T(S,L,h),g[A])k=g[A],delete g[A],O[A]=k,I[h]=k;else{if(O[A])throw r(I,function(e){e&&e.scope&&(g[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,A,L);I[h]={id:A,scope:void 0,clone:void 0},O[A]=!0}for(var j in g){if(k=g[j],N=fe(k.clone),i.leave(N),N[0].parentNode)for(h=0,m=N.length;m>h;h++)N[h][a]=!0;k.scope.$destroy()}for(h=0;w>h;h++)if(S=o===M?h:M[h],L=o[S],k=I[h],k.scope){$=D;do $=$.nextSibling;while($&&$[a]);u(k)!=$&&i.move(fe(k.clone),null,D),D=c(k),l(k.scope,h,y,L,b,S,w)}else f(function(e,t){k.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,i.enter(e,null,D),D=n,k.clone=e,O[k.id]=k,l(k.scope,h,y,L,b,S,w)});g=O})}}}}],Ra="ng-hide",ja="ng-hide-animate",Fa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Ra,{tempClasses:ja})})}}}],Pa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Ra,{tempClasses:ja})})}}}],_a=sr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Va=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,a){var s=o.ngSwitch||o.on,l=[],u=[],c=[],h=[],p=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var i,o;for(i=0,o=c.length;o>i;++i)e.cancel(c[i]);for(c.length=0,i=0,o=h.length;o>i;++i){var s=fe(u[i].clone);h[i].$destroy();var d=c[i]=e.leave(s);d.then(p(c,i))}u.length=0,h.length=0,(l=a.cases["!"+n]||a.cases["?"])&&r(l,function(n){n.transclude(function(r,i){h.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");
var a={clone:r};u.push(a),e.enter(r,o.parent(),o)})})})}}}],Ba=sr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Ua=sr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ha=t("ngTransclude"),Wa=sr({restrict:"EAC",link:function(e,t,n,r,i){function o(e){e.length&&(t.empty(),t.append(e))}if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!i)throw Ha("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Y(t));var a=n.ngTransclude||n.ngTranscludeSlot;i(o,null,a)}}),qa=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ga={$setViewValue:d,$render:d},za=["$element","$scope",function(t,n){var r=this,i=new Qe;r.ngModelCtrl=Ga,r.unknownOption=Rr(e.document.createElement("option")),r.renderUnknownOption=function(e){var n="? "+Ye(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},n.$on("$destroy",function(){r.renderUnknownOption=d}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(t[0].nodeType!==oi){pe(e,'"option value"'),""===e&&(r.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),r.ngModelCtrl.$render(),Lr(t)}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(r.emptyOption=void 0)):i.put(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.registerOption=function(e,t,n,i,o){if(i){var a;n.$observe("value",function(e){$(a)&&r.removeOption(a),a=e,r.addOption(e,t)})}else o?e.$watch(o,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Ka=function(){function e(e,t,n,i){var o=i[1];if(o){var a=i[0];if(a.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Qe(e);r(t.find("option"),function(e){e.selected=$(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||B(s,o.$viewValue)||(s=V(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:za,priority:1,link:{pre:e,post:t}}},Xa=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if($(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,r,i)}}}}],Ja=g({restrict:"E",terminal:!1}),Ya=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Qa=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(w(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,Y(n));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||v(o)||o.test(t)}}}}},Za=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=h(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},es=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=h(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(ue(),ye(Wr),Wr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var i=Math.pow(10,r),o=(e*i|0)%i;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var i=0|e,o=n(e,t);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),void Rr(e.document).ready(function(){ie(e.document,oe)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("chromeStorage",[]).factory("chromeStorage",function(e){var t=null;try{t=chrome.storage.local}catch(n){console.log("could not initiate chrome local storage: "+n)}var r=null,i={},o=function(n){var r=e.defer();return t.getBytesInUse(n,function(e){chrome.runtime.lasterror?(console.log("error retrieving bytes in use for keys "+n),r.reject(chrome.runtime.lasterror.message)):(console.log("retrieved bytes in use for keys "+n+": "+e),r.resolve(e))}),r.promise};return{getDebuggingTotalBytesInUse:function(){return r},getDebuggingCache:function(){return i},getDebuggingPercentUsed:function(){var e=r/t.QUOTA_BYTES;return e},getDebuggingSizeOf:function(e){return angular.toJson(i[e]).length},updateDebuggingCache:function(){var n=e.defer();t.get(null,function(e){chrome.runtime.lasterror?n.reject(chrome.runtime.lasterror.message):n.resolve(e)}),n.promise.then(function(e){i=e})},updateDebuggingTotalBytes:function(){o(null).then(function(e){console.log("total bytes in use: "+e),r=e})},clearCache:function(){t.clear(function(){chrome.runtime.lastError?console.error("error clearing local cache"+chrome.runtime.lastError):console.log("cache has been cleared")})},drop:function(e){t.remove(e,function(){chrome.runtime.lasterror&&console.error(chrome.runtime.lasterror.message)})},get:function(n){var r=e.defer();return t.get(n,function(e){var t=e[n];r.resolve(t)}),r.promise},getOrElse:function(n,r){var i=e.defer();return t.get(n,function(e){var o=e[n];void 0==o||null==o?r().then(function(e){o=e;var r={};r[n]=o,t.set(r,function(){chrome.runtime.lasterror&&console.error(chrome.runtime.lasterror.message)}),i.resolve(o)}):i.resolve(o)}),i.promise},set:function(e,n){var r={};r[e]=n,t.set(r,function(){chrome.runtime.lasterror&&console.error(chrome.runtime.lasterror.message)})},forceGet:function(n,r){var i=e.defer();return r().then(function(e){keyValue=e;var r={};r[n]=keyValue,t.set(r,function(){chrome.runtime.lasterror&&console.error(chrome.runtime.lasterror.message)}),i.resolve(keyValue)}),i.promise},getQuota:function(){return t.QUOTA_BYTES}}}),Array.prototype.push||(Array.prototype.push=function(){for(var e=0,t=arguments.length;t>e;e++)this[this.length]=arguments[e];return this.length}),Array.prototype.shift||(Array.prototype.shift=function(){if(this.length>0){for(var e=this[0],t=0,n=this.length-1;n>t;t++)this[t]=this[t+1];return this.length=this.length-1,e}}),Array.prototype.splice||(Array.prototype.splice=function(e,t){var n=this.slice(e+t),r=this.slice(e,e+t);this.length=e;for(var i=[],o=0,a=arguments.length;a>o;o++)i[o]=arguments[o];var s=i.length>2?n=i.slice(2).concat(n):n;for(o=0,a=s.length;a>o;o++)this.push(s[o]);return r});var log4javascript=function(){function isUndefined(e){return"undefined"==typeof e}function EventSupport(){}function Log4JavaScript(){}function toStr(e){return e&&e.toString?e.toString():String(e)}function getExceptionMessage(e){return e.message?e.message:e.description?e.description:toStr(e)}function getUrlFileName(e){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return e.substr(t+1)}function getExceptionStringRep(e){if(e){var t="Exception: "+getExceptionMessage(e);try{e.lineNumber&&(t+=" on line number "+e.lineNumber),e.fileName&&(t+=" in file "+getUrlFileName(e.fileName))}catch(n){logLog.warn("Unable to obtain file and line information for error")}return showStackTraces&&e.stack&&(t+=newLine+"Stack trace:"+newLine+e.stack),t}return null}function bool(e){return Boolean(e)}function trim(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function splitIntoLines(e){var t=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.split("\n")}function array_remove(e,t){for(var n=-1,r=0,i=e.length;i>r;r++)if(e[r]===t){n=r;break}return n>=0?(e.splice(n,1),!0):!1}function array_contains(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]==t)return!0;return!1}function extractBooleanFromParam(e,t){return isUndefined(e)?t:bool(e)}function extractStringFromParam(e,t){return isUndefined(e)?t:String(e)}function extractIntFromParam(e,t){if(isUndefined(e))return t;try{var n=parseInt(e,10);return isNaN(n)?t:n}catch(r){return logLog.warn("Invalid int param "+e,r),t}}function extractFunctionFromParam(e,t){return"function"==typeof e?e:t}function isError(e){return e instanceof Error}function getListenersPropertyName(e){return"__log4javascript_listeners__"+e}function addEvent(e,t,n,r,i){if(i=i?i:window,e.addEventListener)e.addEventListener(t,n,r);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var o=getListenersPropertyName(t);e[o]||(e[o]=[],e["on"+t]=function(e){e=getEvent(e,i);for(var n,r=getListenersPropertyName(t),o=this[r].concat([]);n=o.shift();)n.call(this,e)}),e[o].push(n)}}function removeEvent(e,t,n,r){if(e.removeEventListener)e.removeEventListener(t,n,r);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=getListenersPropertyName(t);e[i]&&array_remove(e[i],n)}}function getEvent(e,t){return t=t?t:window,e?e:t.event}function stopEventPropagation(e){e.stopPropagation?e.stopPropagation():"undefined"!=typeof e.cancelBubble&&(e.cancelBubble=!0),e.returnValue=!1}function handleError(e,t){logLog.error(e,t),log4javascript.dispatchEvent("error",{message:e,exception:t})}function Timer(e,t){this.name=e,this.level=isUndefined(t)?Level.INFO:t,this.start=new Date}function Logger(e){this.name=e,this.parent=null,this.children=[];var t=[],n=null,r=this.name===rootLoggerName,i=this.name===nullLoggerName,o=null,a=!1;this.addChild=function(e){this.children.push(e),e.parent=this,e.invalidateAppenderCache()};var s=!0;this.getAdditivity=function(){return s},this.setAdditivity=function(e){var t=s!=e;s=e,t&&this.invalidateAppenderCache()},this.addAppender=function(e){i?handleError("Logger.addAppender: you may not add an appender to the null logger"):e instanceof log4javascript.Appender?array_contains(t,e)||(t.push(e),e.setAddedToLogger(this),this.invalidateAppenderCache()):handleError("Logger.addAppender: appender supplied ('"+toStr(e)+"') is not a subclass of Appender")},this.removeAppender=function(e){array_remove(t,e),e.setRemovedFromLogger(this),this.invalidateAppenderCache()},this.removeAllAppenders=function(){var e=t.length;if(e>0){for(var n=0;e>n;n++)t[n].setRemovedFromLogger(this);t.length=0,this.invalidateAppenderCache()}},this.getEffectiveAppenders=function(){if(null===o||a){var e=r||!this.getAdditivity()?[]:this.parent.getEffectiveAppenders();o=e.concat(t),a=!1}return o},this.invalidateAppenderCache=function(){a=!0;for(var e=0,t=this.children.length;t>e;e++)this.children[e].invalidateAppenderCache()},this.log=function(e,t){if(enabled&&e.isGreaterOrEqual(this.getEffectiveLevel())){var n,r=t.length-1,i=t[r];t.length>1&&isError(i)&&(n=i,r--);for(var o=[],a=0;r>=a;a++)o[a]=t[a];var s=new LoggingEvent(this,new Date,e,o,n);this.callAppenders(s)}},this.callAppenders=function(e){for(var t=this.getEffectiveAppenders(),n=0,r=t.length;r>n;n++)t[n].doAppend(e)},this.setLevel=function(e){r&&null===e?handleError("Logger.setLevel: you cannot set the level of the root logger to null"):e instanceof Level?n=e:handleError("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")},this.getLevel=function(){return n},this.getEffectiveLevel=function(){for(var e=this;null!==e;e=e.parent){var t=e.getLevel();if(null!==t)return t}},this.group=function(e,t){if(enabled)for(var n=this.getEffectiveAppenders(),r=0,i=n.length;i>r;r++)n[r].group(e,t)},this.groupEnd=function(){if(enabled)for(var e=this.getEffectiveAppenders(),t=0,n=e.length;n>t;t++)e[t].groupEnd()};var l={};this.time=function(e,t){enabled&&(isUndefined(e)?handleError("Logger.time: a name for the timer must be supplied"):!t||t instanceof Level?l[e]=new Timer(e,t):handleError("Logger.time: level supplied to timer "+e+" is not an instance of log4javascript.Level"))},this.timeEnd=function(e){if(enabled)if(isUndefined(e))handleError("Logger.timeEnd: a name for the timer must be supplied");else if(l[e]){var t=l[e],n=t.getElapsedTime();this.log(t.level,["Timer "+toStr(e)+" completed in "+n+"ms"]),delete l[e]}else logLog.warn("Logger.timeEnd: no timer found with name "+e)},this.assert=function(e){if(enabled&&!e){for(var t=[],n=1,r=arguments.length;r>n;n++)t.push(arguments[n]);t=t.length>0?t:["Assertion Failure"],t.push(newLine),t.push(e),this.log(Level.ERROR,t)}},this.toString=function(){return"Logger["+this.name+"]"}}function SimpleLayout(){this.customFields=[]}function NullLayout(){this.customFields=[]}function XmlLayout(e){this.combineMessages=extractBooleanFromParam(e,!0),this.customFields=[]}function escapeNewLines(e){return e.replace(/\r\n|\r|\n/g,"\\r\\n")}function JsonLayout(e,t){this.readable=extractBooleanFromParam(e,!1),this.combineMessages=extractBooleanFromParam(t,!0),this.batchHeader=this.readable?"["+newLine:"[",this.batchFooter=this.readable?"]"+newLine:"]",this.batchSeparator=this.readable?","+newLine:",",this.setKeys(),this.colon=this.readable?": ":":",this.tab=this.readable?"	":"",this.lineBreak=this.readable?newLine:"",this.customFields=[]}function HttpPostDataLayout(){this.setKeys(),this.customFields=[],this.returnsPostData=!0}function formatObjectExpansion(e,t,n){function r(e,t,n){function o(e){for(var t=splitIntoLines(e),r=1,i=t.length;i>r;r++)t[r]=n+t[r];return t.join(newLine)}var a,s,l,u,c,h,p;if(n||(n=""),null===e)return"null";if("undefined"==typeof e)return"undefined";if("string"==typeof e)return o(e);if("object"==typeof e&&array_contains(i,e)){try{h=toStr(e)}catch(d){h="Error formatting property. Details: "+getExceptionStringRep(d)}return h+" [already expanded]"}if(e instanceof Array&&t>0){for(i.push(e),h="["+newLine,l=t-1,u=n+"  ",c=[],a=0,s=e.length;s>a;a++)try{p=r(e[a],l,u),c.push(u+p)}catch(d){c.push(u+"Error formatting array member. Details: "+getExceptionStringRep(d))}return h+=c.join(","+newLine)+newLine+n+"]"}if("[object Date]"==Object.prototype.toString.call(e))return e.toString();if("object"==typeof e&&t>0){i.push(e),h="{"+newLine,l=t-1,u=n+"  ",c=[];for(a in e)try{p=r(e[a],l,u),c.push(u+a+": "+p)}catch(d){c.push(u+a+": Error formatting property. Details: "+getExceptionStringRep(d))}return h+=c.join(","+newLine)+newLine+n+"}"}return o(toStr(e))}var i=[];return r(e,t,n)}function PatternLayout(e){e?this.pattern=e:this.pattern=PatternLayout.DEFAULT_CONVERSION_PATTERN,this.customFields=[]}function AlertAppender(){}function BrowserConsoleAppender(){}function isHttpRequestSuccessful(e){return isUndefined(e.status)||0===e.status||e.status>=200&&e.status<300||1223==e.status}function AjaxAppender(e,t){function n(e){return L?(handleError("AjaxAppender: configuration option '"+e+"' may not be set after the appender has been initialized"),!1):!0}function r(){if(h&&enabled){S=!0;var e;if(d)E.length>0?(e=E.shift(),l(o(e),r)):(S=!1,p&&a());else{for(;e=E.shift();)l(o(e));S=!1,p&&a()}}}function i(){var e=!1;if(h&&enabled){for(var t,n=c.getLayout().allowBatching()?f:1,i=[];t=x.shift();)i.push(t),x.length>=n&&(E.push(i),i=[]);i.length>0&&E.push(i),e=E.length>0,d=!1,p=!1,r()}return e}function o(e){for(var t,n=[],r="";t=e.shift();)n.push(c.getLayout().formatWithException(t));return r=1==e.length?n.join(""):c.getLayout().batchHeader+n.join(c.getLayout().batchSeparator)+c.getLayout().batchFooter,b==c.defaults.contentType&&(r=c.getLayout().returnsPostData?r:urlEncode($)+"="+urlEncode(r),r.length>0&&(r+="&"),r+="layout="+urlEncode(c.getLayout().toString())),r}function a(){window.setTimeout(r,g)}function s(){var e="AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled";handleError(e),h=!1,v&&v(e)}function l(n,r){try{var i=getXmlHttp(s);if(h){t&&withCredentialsSupported&&(i.withCredentials=!0),i.onreadystatechange=function(){if(4==i.readyState){if(isHttpRequestSuccessful(i))m&&m(i),r&&r(i);else{var t="AjaxAppender.append: XMLHttpRequest request to URL "+e+" returned status code "+i.status;handleError(t),v&&v(t)}i.onreadystatechange=emptyFunction,i=null}},i.open("POST",e,!0);try{for(var o,a=0;o=C[a++];)i.setRequestHeader(o.name,o.value);i.setRequestHeader("Content-Type",b)}catch(l){var u="AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled";return handleError(u),h=!1,void(v&&v(u))}i.send(n)}}catch(c){var p="AjaxAppender.append: error sending log message to "+e;handleError(p,c),h=!1,v&&v(p+". Details: "+getExceptionStringRep(c))}}function u(){if(L=!0,y){var e=window.onbeforeunload;window.onbeforeunload=function(){return e&&e(),i()?"Sending log messages":void 0}}p&&a()}var c=this,h=!0;e||(handleError("AjaxAppender: URL must be specified in constructor"),h=!1);var p=this.defaults.timed,d=this.defaults.waitForResponse,f=this.defaults.batchSize,g=this.defaults.timerInterval,m=this.defaults.requestSuccessCallback,v=this.defaults.failCallback,$=this.defaults.postVarName,y=this.defaults.sendAllOnUnload,b=this.defaults.contentType,w=null,x=[],E=[],C=[],S=!1,L=!1;this.getSessionId=function(){return w},this.setSessionId=function(e){w=extractStringFromParam(e,null),this.layout.setCustomField("sessionid",w)},this.setLayout=function(e){n("layout")&&(this.layout=e,null!==w&&this.setSessionId(w))},this.isTimed=function(){return p},this.setTimed=function(e){n("timed")&&(p=bool(e))},this.getTimerInterval=function(){return g},this.setTimerInterval=function(e){n("timerInterval")&&(g=extractIntFromParam(e,g))},this.isWaitForResponse=function(){return d},this.setWaitForResponse=function(e){n("waitForResponse")&&(d=bool(e))},this.getBatchSize=function(){return f},this.setBatchSize=function(e){n("batchSize")&&(f=extractIntFromParam(e,f))},this.isSendAllOnUnload=function(){return y},this.setSendAllOnUnload=function(e){n("sendAllOnUnload")&&(y=extractBooleanFromParam(e,y))},this.setRequestSuccessCallback=function(e){m=extractFunctionFromParam(e,m)},this.setFailCallback=function(e){v=extractFunctionFromParam(e,v)},this.getPostVarName=function(){return $},this.setPostVarName=function(e){n("postVarName")&&($=extractStringFromParam(e,$))},this.getHeaders=function(){return C},this.addHeader=function(e,t){"content-type"==e.toLowerCase()?b=t:C.push({name:e,value:t})},this.sendAll=r,this.sendAllRemaining=i,this.append=function(e){if(h){L||u(),x.push(e);var t=this.getLayout().allowBatching()?f:1;if(x.length>=t){for(var n,i=[];n=x.shift();)i.push(n);E.push(i),p||d&&(!d||S)||r()}}}}function setCookie(e,t,n,r){var i;if(r=r?"; path="+r:"",n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()}else i="";document.cookie=escape(e)+"="+escape(t)+i+r}function getCookie(e){for(var t=escape(e)+"=",n=document.cookie.split(";"),r=0,i=n.length;i>r;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return unescape(o.substring(t.length,o.length))}return null}function getBaseUrl(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;n>t;++t)if(-1!=e[t].src.indexOf("log4javascript")){var r=e[t].src.lastIndexOf("/");return-1==r?"":e[t].src.substr(0,r+1)}return null}function isLoaded(e){try{return bool(e.loaded)}catch(t){return!1}}function padWithSpaces(e,t){if(e.length<t){for(var n=[],r=Math.max(0,t-e.length),i=0;r>i;i++)n[i]=" ";e+=n.join("")}return e}EventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(e){if(e instanceof Array){this.eventTypes=e,this.eventListeners={};for(var t=0,n=this.eventTypes.length;n>t;t++)this.eventListeners[this.eventTypes[t]]=[]}else handleError("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+e+"'"),this.eventListeners[e].push(t)):handleError("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+e+"'"),array_remove(this.eventListeners[e],t)):handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(e,t){if(array_contains(this.eventTypes,e))for(var n=this.eventListeners[e],r=0,i=n.length;i>r;r++)n[r](this,e,t);else handleError("log4javascript.EventSupport ["+this+"]: dispatchEvent: no event called '"+e+"'")}};var applicationStartDate=new Date,uniqueId="log4javascript_"+applicationStartDate.getTime()+"_"+Math.floor(1e8*Math.random()),emptyFunction=function(){},newLine="\r\n",pageLoaded=!1;Log4JavaScript.prototype=new EventSupport,log4javascript=new Log4JavaScript,log4javascript.version="1.4.9",log4javascript.edition="log4javascript";var urlEncode="undefined"!=typeof window.encodeURIComponent?function(e){return encodeURIComponent(e)}:function(e){return escape(e).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")},urlDecode="undefined"!=typeof window.decodeURIComponent?function(e){return decodeURIComponent(e)}:function(e){return unescape(e).replace(/%2B/g,"+").replace(/%22/g,'"').replace(/%27/g,"'").replace(/%2F/g,"/").replace(/%3D/g,"=")};Function.prototype.apply||(Function.prototype.apply=function(obj,args){var methodName="__apply__";"undefined"!=typeof obj[methodName]&&(methodName+=String(Math.random()).substr(2)),obj[methodName]=this;for(var argsStrings=[],i=0,len=args.length;len>i;i++)argsStrings[i]="args["+i+"]";var script="obj."+methodName+"("+argsStrings.join(",")+")",returnValue=eval(script);return delete obj[methodName],returnValue}),Function.prototype.call||(Function.prototype.call=function(e){for(var t=[],n=1,r=arguments.length;r>n;n++)t[n-1]=arguments[n];return this.apply(e,t)});var logLog={quietMode:!1,debugMessages:[],setQuietMode:function(e){this.quietMode=bool(e)},numberOfErrors:0,alertAllErrors:!1,setAlertAllErrors:function(e){this.alertAllErrors=e},debug:function(e){this.debugMessages.push(e)},displayDebug:function(){alert(this.debugMessages.join(newLine))},warn:function(e,t){},error:function(e,t){if((1==++this.numberOfErrors||this.alertAllErrors)&&!this.quietMode){var n="log4javascript error: "+e;t&&(n+=newLine+newLine+"Original error: "+getExceptionStringRep(t)),alert(n)}}};log4javascript.logLog=logLog,log4javascript.setEventTypes(["load","error"]),log4javascript.handleError=handleError;var enabled=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);log4javascript.setEnabled=function(e){enabled=bool(e)},log4javascript.isEnabled=function(){return enabled};var useTimeStampsInMilliseconds=!0;log4javascript.setTimeStampsInMilliseconds=function(e){useTimeStampsInMilliseconds=bool(e)},log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds},log4javascript.evalInScope=function(expr){return eval(expr)};var showStackTraces=!1;log4javascript.setShowStackTraces=function(e){showStackTraces=bool(e)};var Level=function(e,t){this.level=e,this.name=t};Level.prototype={toString:function(){return this.name},equals:function(e){return this.level==e.level},isGreaterOrEqual:function(e){return this.level>=e.level}},Level.ALL=new Level(Number.MIN_VALUE,"ALL"),Level.TRACE=new Level(1e4,"TRACE"),Level.DEBUG=new Level(2e4,"DEBUG"),Level.INFO=new Level(3e4,"INFO"),Level.WARN=new Level(4e4,"WARN"),Level.ERROR=new Level(5e4,"ERROR"),Level.FATAL=new Level(6e4,"FATAL"),Level.OFF=new Level(Number.MAX_VALUE,"OFF"),log4javascript.Level=Level,Timer.prototype.getElapsedTime=function(){return(new Date).getTime()-this.start.getTime()};var anonymousLoggerName="[anonymous]",defaultLoggerName="[default]",nullLoggerName="[null]",rootLoggerName="root";Logger.prototype={trace:function(){this.log(Level.TRACE,arguments)},debug:function(){this.log(Level.DEBUG,arguments)},info:function(){this.log(Level.INFO,arguments)},warn:function(){this.log(Level.WARN,arguments)},error:function(){this.log(Level.ERROR,arguments)},fatal:function(){this.log(Level.FATAL,arguments)},isEnabledFor:function(e){return e.isGreaterOrEqual(this.getEffectiveLevel())},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE)},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG)},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO)},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN)},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR)},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL)}},Logger.prototype.trace.isEntryPoint=!0,Logger.prototype.debug.isEntryPoint=!0,Logger.prototype.info.isEntryPoint=!0,Logger.prototype.warn.isEntryPoint=!0,Logger.prototype.error.isEntryPoint=!0,Logger.prototype.fatal.isEntryPoint=!0;var loggers={},loggerNames=[],ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG,rootLogger=new Logger(rootLoggerName);rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),log4javascript.getRootLogger=function(){return rootLogger},log4javascript.getLogger=function(e){if("string"!=typeof e&&(e=anonymousLoggerName,logLog.warn("log4javascript.getLogger: non-string logger name "+toStr(e)+" supplied, returning anonymous logger")),e==rootLoggerName&&handleError("log4javascript.getLogger: root logger may not be obtained by name"),!loggers[e]){var t=new Logger(e);loggers[e]=t,loggerNames.push(e);var n,r=e.lastIndexOf(".");if(r>-1){var i=e.substring(0,r);n=log4javascript.getLogger(i)}else n=rootLogger;n.addChild(t)}return loggers[e]};var defaultLogger=null;log4javascript.getDefaultLogger=function(){if(!defaultLogger){defaultLogger=log4javascript.getLogger(defaultLoggerName);var e=new log4javascript.PopUpAppender;defaultLogger.addAppender(e)}return defaultLogger};var nullLogger=null;log4javascript.getNullLogger=function(){return nullLogger||(nullLogger=new Logger(nullLoggerName),nullLogger.setLevel(Level.OFF)),nullLogger},log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),loggers={}};var LoggingEvent=function(e,t,n,r,i){this.logger=e,this.timeStamp=t,this.timeStampInMilliseconds=t.getTime(),this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1e3),this.milliseconds=this.timeStamp.getMilliseconds(),this.level=n,this.messages=r,this.exception=i};LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):""},getCombinedMessages:function(){return 1==this.messages.length?this.messages[0]:this.messages.join(newLine)},toString:function(){return"LoggingEvent["+this.level+"]"}},log4javascript.LoggingEvent=LoggingEvent;var Layout=function(){};Layout.prototype={defaults:{loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url"},loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url",batchHeader:"",batchFooter:"",batchSeparator:"",returnsPostData:!1,overrideTimeStampsSetting:!1,useTimeStampsInMilliseconds:null,format:function(){handleError("Layout.format: layout supplied has no format() method")},ignoresThrowable:function(){handleError("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},getContentType:function(){return"text/plain"},allowBatching:function(){return!0},setTimeStampsInMilliseconds:function(e){this.overrideTimeStampsSetting=!0,this.useTimeStampsInMilliseconds=bool(e)},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds},getTimeStampValue:function(e){return this.isTimeStampsInMilliseconds()?e.timeStampInMilliseconds:e.timeStampInSeconds},getDataValues:function(e,t){var n=[[this.loggerKey,e.logger.name],[this.timeStampKey,this.getTimeStampValue(e)],[this.levelKey,e.level.name],[this.urlKey,window.location.href],[this.messageKey,t?e.getCombinedMessages():e.messages]];if(this.isTimeStampsInMilliseconds()||n.push([this.millisecondsKey,e.milliseconds]),e.exception&&n.push([this.exceptionKey,getExceptionStringRep(e.exception)]),this.hasCustomFields())for(var r=0,i=this.customFields.length;i>r;r++){var o=this.customFields[r].value;"function"==typeof o&&(o=o(this,e)),n.push([this.customFields[r].name,o])}return n},setKeys:function(e,t,n,r,i,o,a){this.loggerKey=extractStringFromParam(e,this.defaults.loggerKey),this.timeStampKey=extractStringFromParam(t,this.defaults.timeStampKey),this.levelKey=extractStringFromParam(n,this.defaults.levelKey),this.messageKey=extractStringFromParam(r,this.defaults.messageKey),this.exceptionKey=extractStringFromParam(i,this.defaults.exceptionKey),this.urlKey=extractStringFromParam(o,this.defaults.urlKey),this.millisecondsKey=extractStringFromParam(a,this.defaults.millisecondsKey)},setCustomField:function(e,t){for(var n=!1,r=0,i=this.customFields.length;i>r;r++)this.customFields[r].name===e&&(this.customFields[r].value=t,n=!0);n||this.customFields.push({name:e,value:t})},hasCustomFields:function(){return this.customFields.length>0},formatWithException:function(e){var t=this.format(e);return e.exception&&this.ignoresThrowable()&&(t+=e.getThrowableStrRep()),t},toString:function(){handleError("Layout.toString: all layouts must override this method")}},log4javascript.Layout=Layout;var Appender=function(){};Appender.prototype=new EventSupport,Appender.prototype.layout=new PatternLayout,Appender.prototype.threshold=Level.ALL,Appender.prototype.loggers=[],Appender.prototype.doAppend=function(e){enabled&&e.level.level>=this.threshold.level&&this.append(e);
},Appender.prototype.append=function(e){},Appender.prototype.setLayout=function(e){e instanceof Layout?this.layout=e:handleError("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")},Appender.prototype.getLayout=function(){return this.layout},Appender.prototype.setThreshold=function(e){e instanceof Level?this.threshold=e:handleError("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")},Appender.prototype.getThreshold=function(){return this.threshold},Appender.prototype.setAddedToLogger=function(e){this.loggers.push(e)},Appender.prototype.setRemovedFromLogger=function(e){array_remove(this.loggers,e)},Appender.prototype.group=emptyFunction,Appender.prototype.groupEnd=emptyFunction,Appender.prototype.toString=function(){handleError("Appender.toString: all appenders must override this method")},log4javascript.Appender=Appender,SimpleLayout.prototype=new Layout,SimpleLayout.prototype.format=function(e){return e.level.name+" - "+e.getCombinedMessages()},SimpleLayout.prototype.ignoresThrowable=function(){return!0},SimpleLayout.prototype.toString=function(){return"SimpleLayout"},log4javascript.SimpleLayout=SimpleLayout,NullLayout.prototype=new Layout,NullLayout.prototype.format=function(e){return e.messages},NullLayout.prototype.ignoresThrowable=function(){return!0},NullLayout.prototype.formatWithException=function(e){var t=e.messages,n=e.exception;return n?t.concat([n]):t},NullLayout.prototype.toString=function(){return"NullLayout"},log4javascript.NullLayout=NullLayout,XmlLayout.prototype=new Layout,XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages},XmlLayout.prototype.getContentType=function(){return"text/xml"},XmlLayout.prototype.escapeCdata=function(e){return e.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")},XmlLayout.prototype.format=function(e){function t(e){return e="string"==typeof e?e:toStr(e),"<log4javascript:message><![CDATA["+i.escapeCdata(e)+"]]></log4javascript:message>"}var n,r,i=this,o='<log4javascript:event logger="'+e.logger.name+'" timestamp="'+this.getTimeStampValue(e)+'"';if(this.isTimeStampsInMilliseconds()||(o+=' milliseconds="'+e.milliseconds+'"'),o+=' level="'+e.level.name+'">'+newLine,this.combineMessages)o+=t(e.getCombinedMessages());else{for(o+="<log4javascript:messages>"+newLine,n=0,r=e.messages.length;r>n;n++)o+=t(e.messages[n])+newLine;o+="</log4javascript:messages>"+newLine}if(this.hasCustomFields())for(n=0,r=this.customFields.length;r>n;n++)o+='<log4javascript:customfield name="'+this.customFields[n].name+'"><![CDATA['+this.customFields[n].value.toString()+"]]></log4javascript:customfield>"+newLine;return e.exception&&(o+="<log4javascript:exception><![CDATA["+getExceptionStringRep(e.exception)+"]]></log4javascript:exception>"+newLine),o+="</log4javascript:event>"+newLine+newLine},XmlLayout.prototype.ignoresThrowable=function(){return!1},XmlLayout.prototype.toString=function(){return"XmlLayout"},log4javascript.XmlLayout=XmlLayout,JsonLayout.prototype=new Layout,JsonLayout.prototype.isReadable=function(){return this.readable},JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages},JsonLayout.prototype.format=function(e){function t(e,n,r){var o,a=typeof e;if(e instanceof Date)o=String(e.getTime());else if(r&&e instanceof Array){o="["+i.lineBreak;for(var s=0,l=e.length;l>s;s++){var u=n+i.tab;o+=u+t(e[s],u,!1),s<e.length-1&&(o+=","),o+=i.lineBreak}o+=n+"]"}else o="number"!==a&&"boolean"!==a?'"'+escapeNewLines(toStr(e).replace(/\"/g,'\\"'))+'"':e;return o}var n,r,i=this,o=this.getDataValues(e,this.combineMessages),a="{"+this.lineBreak;for(n=0,r=o.length-1;r>=n;n++)a+=this.tab+'"'+o[n][0]+'"'+this.colon+t(o[n][1],this.tab,!0),r>n&&(a+=","),a+=this.lineBreak;return a+="}"+this.lineBreak},JsonLayout.prototype.ignoresThrowable=function(){return!1},JsonLayout.prototype.toString=function(){return"JsonLayout"},JsonLayout.prototype.getContentType=function(){return"application/json"},log4javascript.JsonLayout=JsonLayout,HttpPostDataLayout.prototype=new Layout,HttpPostDataLayout.prototype.allowBatching=function(){return!1},HttpPostDataLayout.prototype.format=function(e){for(var t=this.getDataValues(e),n=[],r=0,i=t.length;i>r;r++){var o=t[r][1]instanceof Date?String(t[r][1].getTime()):t[r][1];n.push(urlEncode(t[r][0])+"="+urlEncode(o))}return n.join("&")},HttpPostDataLayout.prototype.ignoresThrowable=function(e){return!1},HttpPostDataLayout.prototype.toString=function(){return"HttpPostDataLayout"},log4javascript.HttpPostDataLayout=HttpPostDataLayout;var SimpleDateFormat;!function(){var e=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=0,i=1,o=2,a=3,s=4,l=5,u={G:r,y:a,M:s,w:o,W:o,D:o,d:o,F:o,E:i,a:r,H:o,k:o,K:o,h:o,m:o,s:o,S:o,Z:l},c=864e5,h=7*c,p=1,d=function(e,t,n){var r=new Date(e,t,n,0,0,0);return r.setMilliseconds(0),r};Date.prototype.getDifference=function(e){return this.getTime()-e.getTime()},Date.prototype.isBefore=function(e){return this.getTime()<e.getTime()},Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())},Date.prototype.getTimeSince=function(e){return this.getUTCTime()-e.getUTCTime()},Date.prototype.getPreviousSunday=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0),t=new Date(e.getTime()-this.getDay()*c);return d(t.getFullYear(),t.getMonth(),t.getDate())},Date.prototype.getWeekInYear=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=p);var t=this.getPreviousSunday(),n=d(this.getFullYear(),0,1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/h),i=7-n.getDay(),o=r;return e>i&&o--,o},Date.prototype.getWeekInMonth=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=p);var t=this.getPreviousSunday(),n=d(this.getFullYear(),this.getMonth(),1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/h),i=7-n.getDay(),o=r;return i>=e&&o++,o},Date.prototype.getDayInYear=function(){var e=d(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(e)/c)},SimpleDateFormat=function(e){this.formatString=e},SimpleDateFormat.prototype.setMinimalDaysInFirstWeek=function(e){this.minimalDaysInFirstWeek=e},SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?p:this.minimalDaysInFirstWeek};var f=function(e,t){for(;e.length<t;)e="0"+e;return e},g=function(e,t,n){return t>=4?e:e.substr(0,Math.max(n,t))},m=function(e,t){var n=""+e;return f(n,t)};SimpleDateFormat.prototype.format=function(c){for(var h,p="",d=this.formatString;h=e.exec(d);){var v=h[1],$=h[2],y=h[3],b=h[4];if(v)p+="''"==v?"'":v.substring(1,v.length-1);else if(y);else if(b)p+=b;else if($){var w=$.charAt(0),x=$.length,E="";switch(w){case"G":E="AD";break;case"y":E=c.getFullYear();break;case"M":E=c.getMonth();break;case"w":E=c.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case"W":E=c.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case"D":E=c.getDayInYear();break;case"d":E=c.getDate();break;case"F":E=1+Math.floor((c.getDate()-1)/7);break;case"E":E=n[c.getDay()];break;case"a":E=c.getHours()>=12?"PM":"AM";break;case"H":E=c.getHours();break;case"k":E=c.getHours()||24;break;case"K":E=c.getHours()%12;break;case"h":E=c.getHours()%12||12;break;case"m":E=c.getMinutes();break;case"s":E=c.getSeconds();break;case"S":E=c.getMilliseconds();break;case"Z":E=c.getTimezoneOffset()}switch(u[w]){case r:p+=g(E,x,2);break;case i:p+=g(E,x,3);break;case o:p+=m(E,x);break;case a:if(3>=x){var C=""+E;p+=C.substr(2,2)}else p+=m(E,x);break;case s:p+=x>=3?g(t[E],x,x):m(E+1,x);break;case l:var S=E>0,L=S?"-":"+",A=Math.abs(E),T=""+Math.floor(A/60);T=f(T,2);var M=""+A%60;M=f(M,2),p+=L+T+M}}d=d.substr(h.index+h[0].length)}return p}}(),log4javascript.SimpleDateFormat=SimpleDateFormat,PatternLayout.TTCC_CONVERSION_PATTERN="%r %p %c - %m%n",PatternLayout.DEFAULT_CONVERSION_PATTERN="%m%n",PatternLayout.ISO8601_DATEFORMAT="yyyy-MM-dd HH:mm:ss,SSS",PatternLayout.DATETIME_DATEFORMAT="dd MMM yyyy HH:mm:ss,SSS",PatternLayout.ABSOLUTETIME_DATEFORMAT="HH:mm:ss,SSS",PatternLayout.prototype=new Layout,PatternLayout.prototype.format=function(e){for(var t,n=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,r="",i=this.pattern;t=n.exec(i);){var o=t[0],a=t[1],s=t[2],l=t[3],u=t[5],c=t[6];if(c)r+=""+c;else{var h="";switch(l){case"a":case"m":var p=0;u&&(p=parseInt(u,10),isNaN(p)&&(handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character '"+l+"' - should be a number"),p=0));for(var d="a"===l?e.messages[0]:e.messages,f=0,g=d.length;g>f;f++)f>0&&" "!==h.charAt(h.length-1)&&(h+=" "),h+=0===p?d[f]:formatObjectExpansion(d[f],p);break;case"c":var m=e.logger.name;if(u){var v=parseInt(u,10),$=e.logger.name.split(".");h=v>=$.length?m:$.slice($.length-v).join(".")}else h=m;break;case"d":var y=PatternLayout.ISO8601_DATEFORMAT;u&&(y=u,"ISO8601"==y?y=PatternLayout.ISO8601_DATEFORMAT:"ABSOLUTE"==y?y=PatternLayout.ABSOLUTETIME_DATEFORMAT:"DATE"==y&&(y=PatternLayout.DATETIME_DATEFORMAT)),h=new SimpleDateFormat(y).format(e.timeStamp);break;case"f":if(this.hasCustomFields()){var b=0;u&&(b=parseInt(u,10),isNaN(b)?handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character 'f' - should be a number"):0===b?handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character 'f' - must be greater than zero"):b>this.customFields.length?handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character 'f' - there aren't that many custom fields"):b-=1);var w=this.customFields[b].value;"function"==typeof w&&(w=w(this,e)),h=w}break;case"n":h=newLine;break;case"p":h=e.level.name;break;case"r":h=""+e.timeStamp.getDifference(applicationStartDate);break;case"%":h="%";break;default:h=o}var x;if(s){x=parseInt(s.substr(1),10);var E=h.length;E>x&&(h=h.substring(E-x,E))}if(a)if("-"==a.charAt(0))for(x=parseInt(a.substr(1),10);h.length<x;)h+=" ";else for(x=parseInt(a,10);h.length<x;)h=" "+h;r+=h}i=i.substr(t.index+t[0].length)}return r},PatternLayout.prototype.ignoresThrowable=function(){return!0},PatternLayout.prototype.toString=function(){return"PatternLayout"},log4javascript.PatternLayout=PatternLayout,AlertAppender.prototype=new Appender,AlertAppender.prototype.layout=new SimpleLayout,AlertAppender.prototype.append=function(e){alert(this.getLayout().formatWithException(e))},AlertAppender.prototype.toString=function(){return"AlertAppender"},log4javascript.AlertAppender=AlertAppender,BrowserConsoleAppender.prototype=new log4javascript.Appender,BrowserConsoleAppender.prototype.layout=new NullLayout,BrowserConsoleAppender.prototype.threshold=Level.DEBUG,BrowserConsoleAppender.prototype.append=function(e){var t,n=this,r=function(){var t=n.getLayout().formatWithException(e);return"string"==typeof t?[t]:t};if((t=window.console)&&t.log){var i,o=r();i=t.debug&&Level.DEBUG.isGreaterOrEqual(e.level)?"debug":t.info&&Level.INFO.equals(e.level)?"info":t.warn&&Level.WARN.equals(e.level)?"warn":t.error&&e.level.isGreaterOrEqual(Level.ERROR)?"error":"log",t[i].apply?t[i].apply(t,o):t[i](o)}else"undefined"!=typeof opera&&opera.postError&&opera.postError(r())},BrowserConsoleAppender.prototype.group=function(e){window.console&&window.console.group&&window.console.group(e)},BrowserConsoleAppender.prototype.groupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},BrowserConsoleAppender.prototype.toString=function(){return"BrowserConsoleAppender"},log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xhrFactory=function(){return new XMLHttpRequest},xmlHttpFactories=[xhrFactory,function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],withCredentialsSupported=!1,getXmlHttp=function(e){for(var t,n=null,r=0,i=xmlHttpFactories.length;i>r;r++){t=xmlHttpFactories[r];try{return n=t(),withCredentialsSupported=t==xhrFactory&&"withCredentials"in n,getXmlHttp=t,n}catch(o){}}e?e():handleError("getXmlHttp: unable to obtain XMLHttpRequest object")};AjaxAppender.prototype=new Appender,AjaxAppender.prototype.defaults={waitForResponse:!1,timed:!1,timerInterval:1e3,batchSize:1,sendAllOnUnload:!1,requestSuccessCallback:null,failCallback:null,postVarName:"data",contentType:"application/x-www-form-urlencoded"},AjaxAppender.prototype.layout=new HttpPostDataLayout,AjaxAppender.prototype.toString=function(){return"AjaxAppender"},log4javascript.AjaxAppender=AjaxAppender;var ConsoleAppender;if(function(){function e(e,t,n,r,i){this.create(!1,null,e,t,n,r,i,this.defaults.focusPopUp)}function t(e,t,n,r,i,o){this.create(!0,e,t,n,r,i,o,!1)}var n=function(){return['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"<!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work -->",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;</script>','<!--[if IE]><script type="text/javascript">isIe = true</script><![endif]-->','<!--[if lt IE 7]><script type="text/javascript">isIePre7 = true</script><![endif]-->','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}","function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}","if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}','GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}","this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}","this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}','LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}','LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}','logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}","var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}","matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}","var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}","return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}","logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}","displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}","var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}','function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}','function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}","searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}","return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+","preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}","logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}","var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}","setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}","this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}','currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}','addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}","function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}','function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}','if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}','function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}','function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}","function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}","currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}","return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-','($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}","this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}","return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}","return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}","currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]>","</script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}","</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>','<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>','<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />','<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>','<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>','<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>','<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />','<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />','<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];
},r=[];ConsoleAppender=function(){};var i=1;ConsoleAppender.prototype=new Appender,ConsoleAppender.prototype.create=function(e,t,o,a,s,l,u,c){function h(e,t){this.loggingEvent=e,this.levelName=e.level.name,this.formattedMessage=t}function p(e,t){this.name=e,this.initiallyExpanded=t}function d(){}var f=this,g=!1,m=!1,v=!1,$=!1,y=[],b=!0,w=i++;a=extractBooleanFromParam(a,this.defaults.initiallyMinimized),o=extractBooleanFromParam(o,this.defaults.lazyInit),s=extractBooleanFromParam(s,this.defaults.useDocumentWrite);var x=this.defaults.newestMessageAtTop,E=this.defaults.scrollToLatestMessage;l=l?l:this.defaults.width,u=u?u:this.defaults.height;var C=this.defaults.maxMessages,S=this.defaults.showCommandLine,L=this.defaults.commandLineObjectExpansionDepth,A=this.defaults.showHideButton,T=this.defaults.showCloseButton;this.defaults.showLogEntryDeleteButtons;this.setLayout(this.defaults.layout);var M,k,I,N,D,O=e?"InPageAppender":"PopUpAppender",R=function(e){return m?(handleError(O+": configuration option '"+e+"' may not be set after the appender has been initialized"),!1):!0},j=function(){return v&&b&&!$};this.isNewestMessageAtTop=function(){return x},this.setNewestMessageAtTop=function(e){x=bool(e),j()&&N().setNewestAtTop(x)},this.isScrollToLatestMessage=function(){return E},this.setScrollToLatestMessage=function(e){E=bool(e),j()&&N().setScrollToLatest(E)},this.getWidth=function(){return l},this.setWidth=function(e){R("width")&&(l=extractStringFromParam(e,l))},this.getHeight=function(){return u},this.setHeight=function(e){R("height")&&(u=extractStringFromParam(e,u))},this.getMaxMessages=function(){return C},this.setMaxMessages=function(e){C=extractIntFromParam(e,C),j()&&N().setMaxMessages(C)},this.isShowCommandLine=function(){return S},this.setShowCommandLine=function(e){S=bool(e),j()&&N().setShowCommandLine(S)},this.isShowHideButton=function(){return A},this.setShowHideButton=function(e){A=bool(e),j()&&N().setShowHideButton(A)},this.isShowCloseButton=function(){return T},this.setShowCloseButton=function(e){T=bool(e),j()&&N().setShowCloseButton(T)},this.getCommandLineObjectExpansionDepth=function(){return L},this.setCommandLineObjectExpansionDepth=function(e){L=extractIntFromParam(e,L)};var F=a;this.isInitiallyMinimized=function(){return a},this.setInitiallyMinimized=function(e){R("initiallyMinimized")&&(a=bool(e),F=a)},this.isUseDocumentWrite=function(){return s},this.setUseDocumentWrite=function(e){R("useDocumentWrite")&&(s=bool(e))},h.prototype.append=function(){N().log(this.levelName,this.formattedMessage)},p.prototype.append=function(){N().group(this.name,this.initiallyExpanded)},d.prototype.append=function(){N().groupEnd()};var P=function(){I(),g?$&&te&&k():M(),I()&&_()};this.append=function(e){if(b){var t=f.getLayout().formatWithException(e);y.push(new h(e,t)),P()}},this.group=function(e,t){b&&(y.push(new p(e,t)),P())},this.groupEnd=function(){b&&(y.push(new d),P())};var _=function(){for(;y.length>0;)y.shift().append();c&&N().focus()};this.setAddedToLogger=function(e){this.loggers.push(e),enabled&&!o&&M()},this.clear=function(){j()&&N().clearLog(),y.length=0},this.focus=function(){j()&&N().focus()},this.focusCommandLine=function(){j()&&N().focusCommandLine()},this.focusSearch=function(){j()&&N().focusSearch()};var V=window;this.getCommandWindow=function(){return V},this.setCommandWindow=function(e){V=e},this.executeLastCommand=function(){j()&&N().evalLastCommand()};var B=new PatternLayout("%m");this.getCommandLayout=function(){return B},this.setCommandLayout=function(e){B=e},this.evalCommandAndAppend=function(e){var t={appendResult:!0,isError:!1},n="";try{var r,i;!V.eval&&V.execScript&&V.execScript("null");var o={};for(i=0,len=U.length;i<len;i++)o[U[i][0]]=U[i][1];var a=[],s=function(e){a.push([e,V[e]])};s("appender"),V.appender=f,s("commandReturnValue"),V.commandReturnValue=t,s("commandLineFunctionsHash"),V.commandLineFunctionsHash=o;var l=function(e){s(e),V[e]=function(){return this.commandLineFunctionsHash[e](f,arguments,t)}};for(i=0,len=U.length;i<len;i++)l(U[i][0]);for(V===window&&V.execScript?(s("evalExpr"),s("result"),window.evalExpr=e,V.execScript("window.result=eval(window.evalExpr);"),r=window.result):r=V.eval(e),n=isUndefined(r)?r:formatObjectExpansion(r,L),i=0,len=a.length;i<len;i++)V[a[i][0]]=a[i][1]}catch(u){n="Error evaluating command: "+getExceptionStringRep(u),t.isError=!0}if(t.appendResult){var c=">>> "+e;isUndefined(n)||(c+=newLine+n);var h=t.isError?Level.ERROR:Level.INFO,p=new LoggingEvent(null,new Date,h,[c],null),d=this.getLayout();this.setLayout(B),this.append(p),this.setLayout(d)}};var U=r.concat([]);this.addCommandLineFunction=function(e,t){U.push([e,t])};var H="log4javascriptCommandHistory";this.storeCommandHistory=function(e){setCookie(H,e.join(","))};var W=function(e){var t=n();e.open();for(var r=0,i=t.length;i>r;r++)e.writeln(t[r]);e.close()};this.setEventTypes(["load","unload"]);var q=function(){var e=N();e.setAppender(f),e.setNewestAtTop(x),e.setScrollToLatest(E),e.setMaxMessages(C),e.setShowCommandLine(S),e.setShowHideButton(A),e.setShowCloseButton(T),e.setMainWindow(window);var t=getCookie(H);t&&(e.commandHistory=t.split(","),e.currentCommandIndex=e.commandHistory.length),f.dispatchEvent("load",{win:e})};this.unload=function(){logLog.debug("unload "+this+", caller: "+this.unload.caller),$||(logLog.debug("really doing unload "+this),$=!0,v=!1,m=!1,f.dispatchEvent("unload",{}))};var G=function(e,t,n,r){function i(){try{$&&clearInterval(o),e(N())&&(clearInterval(o),n())}catch(t){clearInterval(o),b=!1,handleError(r,t)}}var o=setInterval(i,t)},z=function(){var e=document.domain!=location.hostname;return s?"":getBaseUrl()+"console.html"+(e?"?log4javascript_domain="+escape(document.domain):"")};if(e){var K=null,X=[];this.addCssProperty=function(e,t){R("cssProperties")&&X.push([e,t])};var J,Y=!1,Q=uniqueId+"_InPageAppender_"+w;this.hide=function(){g&&m&&(j()&&N().$("command").blur(),J.style.display="none",F=!0)},this.show=function(){g&&(m?(J.style.display="block",this.setShowCommandLine(S),F=!1):Y||k(!0))},this.isVisible=function(){return!F&&!$},this.close=function(e){$||e&&!confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")||(J.parentNode.removeChild(J),this.unload())},D=function(){function e(){try{a||f.show(),q(),v=!0,_()}catch(e){b=!1,handleError(n,e)}}function t(){try{var t=function(e){return isLoaded(e)};s&&W(N().document),t(N())?e():G(t,100,e,n)}catch(r){b=!1,handleError(n,r)}}var n="InPageAppender.open: unable to create console iframe";F=!1,J=K.appendChild(document.createElement("div")),J.style.width=l,J.style.height=u,J.style.border="solid gray 1px";for(var r=0,i=X.length;i>r;r++)J.style[X[r][0]]=X[r][1];var o=s?"":" src='"+z()+"'";J.innerHTML="<iframe id='"+Q+"' name='"+Q+"' width='100%' height='100%' frameborder='0'"+o+" scrolling='no'></iframe>",$=!1;var c=function(e){try{return bool(e)&&bool(e.document)}catch(t){return!1}};c(N())?t():G(c,100,t,n),m=!0},k=function(e){if(e||!a){var n=function(){if(t)try{var e=document.getElementById(t);1==e.nodeType&&(K=e),D()}catch(n){handleError("InPageAppender.init: invalid container element '"+t+"' supplied",n)}else K=document.createElement("div"),K.style.position="fixed",K.style.left="0",K.style.right="0",K.style.bottom="0",document.body.appendChild(K),f.addCssProperty("borderWidth","1px 0 0 0"),f.addCssProperty("zIndex",1e6),D()};pageLoaded&&t&&t.appendChild?(K=t,D()):pageLoaded?n():log4javascript.addEventListener("load",n),Y=!0}},M=function(){k(),g=!0},N=function(){var e=window.frames[Q];return e?e:void 0},I=function(){return b&&!$?(m&&!v&&N()&&isLoaded(N())&&(v=!0),v):!1}}else{var Z=f.defaults.useOldPopUp,ee=f.defaults.complainAboutPopUpBlocking,te=this.defaults.reopenWhenClosed;this.isUseOldPopUp=function(){return Z},this.setUseOldPopUp=function(e){R("useOldPopUp")&&(Z=bool(e))},this.isComplainAboutPopUpBlocking=function(){return ee},this.setComplainAboutPopUpBlocking=function(e){R("complainAboutPopUpBlocking")&&(ee=bool(e))},this.isFocusPopUp=function(){return c},this.setFocusPopUp=function(e){c=bool(e)},this.isReopenWhenClosed=function(){return te},this.setReopenWhenClosed=function(e){te=bool(e)},this.close=function(){logLog.debug("close "+this);try{ne.close(),this.unload()}catch(e){}},this.hide=function(){logLog.debug("hide "+this),j()&&this.close()},this.show=function(){logLog.debug("show "+this),m||D()},this.isVisible=function(){return I()};var ne;D=function(){function e(){N().setCloseIfOpenerCloses(!Z||!s),q(),v=!0,_(),G(a,500,c,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var t="width="+l+",height="+u+",status,resizable",n="";try{var r=window.frameElement;r&&(n="_"+r.tagName+"_"+(r.name||r.id||""))}catch(i){n="_inaccessibleParentFrame"}var o="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+w+n;Z&&s||(o=o+"_"+uniqueId);var a=function(e){if($)return!0;try{return bool(e)&&e.closed}catch(t){}return!1},c=function(){$||f.unload()};try{if(ne=window.open(z(),o,t),$=!1,m=!0,ne&&ne.document)if(s&&Z&&isLoaded(ne))ne.mainPageReloaded(),e();else{s&&W(ne.document);var h=function(e){return bool(e)&&isLoaded(e)};isLoaded(ne)?e():G(h,100,e,"PopUpAppender.init: unable to create console window")}else b=!1,logLog.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),ee&&handleError("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging.")}catch(p){handleError("PopUpAppender.init: error creating pop-up",p)}},k=function(){a||D()},M=function(){k(),g=!0},N=function(){return ne},I=function(){if(b&&!isUndefined(ne)&&!$){if(ne.closed||v&&isUndefined(ne.closed))return f.unload(),logLog.debug("PopUpAppender: pop-up closed"),!1;!v&&isLoaded(ne)&&(v=!0)}return b&&v&&!$}}this.getConsoleWindow=N},ConsoleAppender.addGlobalCommandLineFunction=function(e,t){r.push([e,t])},e.prototype=new ConsoleAppender,e.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,focusPopUp:!1,lazyInit:!0,useOldPopUp:!0,complainAboutPopUpBlocking:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"600",height:"400",reopenWhenClosed:!1,maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!0,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},e.prototype.toString=function(){return"PopUpAppender"},log4javascript.PopUpAppender=e,t.prototype=new ConsoleAppender,t.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,lazyInit:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"100%",height:"220px",maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!1,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},t.prototype.toString=function(){return"InPageAppender"},log4javascript.InPageAppender=t,log4javascript.InlineAppender=t}(),function(){function e(e){var t=0;for(var n in e)t=Math.max(toStr(n).length,t);var r=[];for(n in e){var i,o="  "+padWithSpaces(toStr(n),t+2);try{i=splitIntoLines(toStr(e[n])).join(padWithSpaces(newLine,t+6))}catch(a){i="[Error obtaining property. Details: "+getExceptionMessage(a)+"]"}r.push(o+i)}return r.join(newLine)}function t(e,n,r,l,u){function c(e){return e.nodeType==i.TEXT_NODE&&/^[ \t\r\n]*$/.test(e.nodeValue)}function h(e){return e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function p(e){for(var t=e.style.cssText.split(";"),n="",r=0,i=t.length;i>r;r++){var o=t[r].split(":"),a=[];/^\s*$/.test(o[0])||a.push(trim(o[0]).toLowerCase()+":"+trim(o[1])),n=a.join(";")}return n}function d(e){if(e.prefix)return e.prefix;if(e.outerHTML){var t=new RegExp("<([^:]+):"+e.tagName+"[^>]*>","i");if(t.test(e.outerHTML))return RegExp.$1.toLowerCase()}return""}n="undefined"==typeof n?!0:!!n,"string"!=typeof r&&(r=""),l=!!l,u=!!u;var f,g="<",m=">";if(!n||e.nodeType==i.DOCUMENT_FRAGMENT_NODE){f="";for(var v=0,$=e.childNodes.length;$>v;v++)f+=t(e.childNodes[v],!0,r+s);return f}switch(e.nodeType){case i.ELEMENT_NODE:var y=e.tagName.toLowerCase();f=l?newLine+r:"",f+=g;var b=d(e),w=!!b;for(w&&(f+=b+":"),f+=y,v=0,$=e.attributes.length;$>v;v++){var x=e.attributes[v];x.specified&&null!==x.nodeValue&&"style"!==x.nodeName.toLowerCase()&&"string"==typeof x.nodeValue&&0!==x.nodeName.indexOf("_moz")&&(f+=" "+x.nodeName.toLowerCase()+'="',f+=h(x.nodeValue),f+='"')}if(e.style.cssText){var E=p(e);""!==E&&(f+=' style="'+p(e)+'"')}if(array_contains(a,y)||w&&!e.hasChildNodes())f+="/"+m;else{f+=m;for(var C=!(1===e.childNodes.length&&e.childNodes[0].nodeType===i.TEXT_NODE),S=array_contains(o,y),v=0,$=e.childNodes.length;$>v;v++)f+=t(e.childNodes[v],!0,r+s,C,S);var L=g+"/"+y+m;f+=C?newLine+r+L:L}return f;case i.TEXT_NODE:if(c(e))f="";else{if(u)f=e.nodeValue;else{for(var A=splitIntoLines(trim(e.nodeValue)),T=[],v=0,$=A.length;$>v;v++)T[v]=trim(A[v]);f=T.join(newLine+r)}l&&(f=newLine+r+f)}return f;case i.CDATA_SECTION_NODE:return"<![CDATA["+e.nodeValue+"]]>"+newLine;case i.DOCUMENT_NODE:f="";for(var v=0,$=e.childNodes.length;$>v;v++)f+=t(e.childNodes[v],!0,r);return f;default:return""}}function n(){ConsoleAppender.addGlobalCommandLineFunction("$",function(e,t,n){return document.getElementById(t[0])}),ConsoleAppender.addGlobalCommandLineFunction("dir",function(t,n,r){for(var i=[],o=0,a=n.length;a>o;o++)i[o]=e(n[o]);return i.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("dirxml",function(e,n,r){for(var i=[],o=0,a=n.length;a>o;o++){e.getCommandWindow();i[o]=t(n[o])}return i.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("cd",function(e,t,n){var r,i;return 0===t.length||""===t[0]?(r=window,i="Command line set to run in main window"):t[0].window==t[0]?(r=t[0],i="Command line set to run in frame '"+t[0].name+"'"):(r=window.frames[t[0]],r?i="Command line set to run in frame '"+t[0]+"'":(n.isError=!0,i="Frame '"+t[0]+"' does not exist",r=e.getCommandWindow())),e.setCommandWindow(r),i}),ConsoleAppender.addGlobalCommandLineFunction("clear",function(e,t,n){n.appendResult=!1,e.clear()}),ConsoleAppender.addGlobalCommandLineFunction("keys",function(e,t,n){var r=[];for(var i in t[0])r.push(i);return r}),ConsoleAppender.addGlobalCommandLineFunction("values",function(e,t,n){var r=[];for(var i in t[0])try{r.push(t[0][i])}catch(o){logLog.warn("values(): Unable to obtain value for key "+i+". Details: "+getExceptionMessage(o))}return r}),ConsoleAppender.addGlobalCommandLineFunction("expansionDepth",function(e,t,n){var r=parseInt(t[0],10);return isNaN(r)||0>r?(n.isError=!0,""+t[0]+" is not a valid expansion depth"):(e.setCommandLineObjectExpansionDepth(r),"Object expansion depth set to "+r)})}function r(){n()}var i={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o=["script","pre"],a=["br","img","hr","param","link","area","input","col","base","meta"],s="  ";r()}(),log4javascript.setDocumentReady=function(){pageLoaded=!0,log4javascript.dispatchEvent("load",{})},window.addEventListener)window.addEventListener("load",log4javascript.setDocumentReady,!1);else if(window.attachEvent)window.attachEvent("onload",log4javascript.setDocumentReady);else{var oldOnload=window.onload;"function"!=typeof window.onload?window.onload=log4javascript.setDocumentReady:window.onload=function(e){oldOnload&&oldOnload(e),log4javascript.setDocumentReady()}}return window.log4javascript=log4javascript,log4javascript}();!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.store=t()}(this,function(){function e(){try{return o in r&&r[o]}catch(e){return!1}}var t,n={},r="undefined"!=typeof window?window:global,i=r.document,o="localStorage",a="script";if(n.disabled=!1,n.version="1.3.20",n.set=function(e,t){},n.get=function(e,t){},n.has=function(e){return void 0!==n.get(e)},n.remove=function(e){},n.clear=function(){},n.transact=function(e,t,r){null==r&&(r=t,t=null),null==t&&(t={});var i=n.get(e,t);r(i),n.set(e,i)},n.getAll=function(){},n.forEach=function(){},n.serialize=function(e){return JSON.stringify(e)},n.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},e())t=r[o],n.set=function(e,r){return void 0===r?n.remove(e):(t.setItem(e,n.serialize(r)),r)},n.get=function(e,r){var i=n.deserialize(t.getItem(e));return void 0===i?r:i},n.remove=function(e){t.removeItem(e)},n.clear=function(){t.clear()},n.getAll=function(){var e={};return n.forEach(function(t,n){e[t]=n}),e},n.forEach=function(e){for(var r=0;r<t.length;r++){var i=t.key(r);e(i,n.get(i))}};else if(i&&i.documentElement.addBehavior){var s,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+a+">document.w=window</"+a+'><iframe src="/favicon.ico"></iframe>'),l.close(),s=l.w.frames[0].document,t=s.createElement("div")}catch(u){t=i.createElement("div"),s=i.body}var c=function(e){return function(){var r=Array.prototype.slice.call(arguments,0);r.unshift(t),s.appendChild(t),t.addBehavior("#default#userData"),t.load(o);var i=e.apply(n,r);return s.removeChild(t),i}},h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),p=function(e){return e.replace(/^d/,"___$&").replace(h,"___")};n.set=c(function(e,t,r){return t=p(t),void 0===r?n.remove(t):(e.setAttribute(t,n.serialize(r)),e.save(o),r)}),n.get=c(function(e,t,r){t=p(t);var i=n.deserialize(e.getAttribute(t));return void 0===i?r:i}),n.remove=c(function(e,t){t=p(t),e.removeAttribute(t),e.save(o)}),n.clear=c(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(o);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(o)}),n.getAll=function(e){var t={};return n.forEach(function(e,n){t[e]=n}),t},n.forEach=c(function(e,t){for(var r,i=e.XMLDocument.documentElement.attributes,o=0;r=i[o];++o)t(r.name,n.deserialize(e.getAttribute(r.name)))})}try{var d="__storejs__";n.set(d,d),n.get(d)!=d&&(n.disabled=!0),n.remove(d)}catch(u){n.disabled=!0}return n.enabled=!n.disabled,n});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvYmFja2dyb3VuZC12ZW5kb3IuanMiXSwibmFtZXMiOlsid2luZG93IiwibWluRXJyIiwibW9kdWxlIiwiRXJyb3JDb25zdHJ1Y3RvciIsIkVycm9yIiwicGFyYW1QcmVmaXgiLCJpIiwiU0tJUF9JTkRFWEVTIiwidGVtcGxhdGVBcmdzIiwiYXJndW1lbnRzIiwiY29kZSIsIm1lc3NhZ2UiLCJ0ZW1wbGF0ZSIsInJlcGxhY2UiLCJtYXRjaCIsImluZGV4Iiwic2xpY2UiLCJzaGlmdGVkSW5kZXgiLCJsZW5ndGgiLCJ0b0RlYnVnU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaXNBcnJheUxpa2UiLCJvYmoiLCJpc1dpbmRvdyIsImlzQXJyYXkiLCJpc1N0cmluZyIsImpxTGl0ZSIsIk9iamVjdCIsImlzTnVtYmVyIiwiQXJyYXkiLCJpdGVtIiwiZm9yRWFjaCIsIml0ZXJhdG9yIiwiY29udGV4dCIsImtleSIsImlzRnVuY3Rpb24iLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpc1ByaW1pdGl2ZSIsImlzQmxhbmtPYmplY3QiLCJmb3JFYWNoU29ydGVkIiwia2V5cyIsInNvcnQiLCJyZXZlcnNlUGFyYW1zIiwiaXRlcmF0b3JGbiIsInZhbHVlIiwibmV4dFVpZCIsInVpZCIsInNldEhhc2hLZXkiLCJoIiwiJCRoYXNoS2V5IiwiYmFzZUV4dGVuZCIsImRzdCIsIm9ianMiLCJkZWVwIiwiaWkiLCJpc09iamVjdCIsImoiLCJqaiIsInNyYyIsImlzRGF0ZSIsIkRhdGUiLCJ2YWx1ZU9mIiwiaXNSZWdFeHAiLCJSZWdFeHAiLCJub2RlTmFtZSIsImNsb25lTm9kZSIsImlzRWxlbWVudCIsImNsb25lIiwiZXh0ZW5kIiwibWVyZ2UiLCJ0b0ludCIsInN0ciIsInBhcnNlSW50IiwiaW5oZXJpdCIsInBhcmVudCIsImV4dHJhIiwiY3JlYXRlIiwibm9vcCIsImlkZW50aXR5IiwiJCIsInZhbHVlRm4iLCJoYXNDdXN0b21Ub1N0cmluZyIsInRvU3RyaW5nIiwiaXNVbmRlZmluZWQiLCJpc0RlZmluZWQiLCJnZXRQcm90b3R5cGVPZiIsImlzU2NvcGUiLCIkZXZhbEFzeW5jIiwiJHdhdGNoIiwiaXNGaWxlIiwiaXNGb3JtRGF0YSIsImlzQmxvYiIsImlzQm9vbGVhbiIsImlzUHJvbWlzZUxpa2UiLCJ0aGVuIiwiaXNUeXBlZEFycmF5IiwiVFlQRURfQVJSQVlfUkVHRVhQIiwidGVzdCIsImlzQXJyYXlCdWZmZXIiLCJub2RlIiwicHJvcCIsImF0dHIiLCJmaW5kIiwibWFrZU1hcCIsIml0ZW1zIiwic3BsaXQiLCJub2RlTmFtZV8iLCJlbGVtZW50IiwibG93ZXJjYXNlIiwiYXJyYXlSZW1vdmUiLCJhcnJheSIsImluZGV4T2YiLCJzcGxpY2UiLCJjb3B5Iiwic291cmNlIiwiZGVzdGluYXRpb24iLCJjb3B5UmVjdXJzZSIsInB1c2giLCJjb3B5RWxlbWVudCIsInN0YWNrU291cmNlIiwic3RhY2tEZXN0IiwibmdNaW5FcnIiLCJuZWVkc1JlY3Vyc2UiLCJjb3B5VHlwZSIsInVuZGVmaW5lZCIsImNvbnN0cnVjdG9yIiwiYnVmZmVyIiwiY29waWVkIiwiQXJyYXlCdWZmZXIiLCJieXRlTGVuZ3RoIiwiVWludDhBcnJheSIsInNldCIsInJlIiwibGFzdEluZGV4IiwidHlwZSIsInNoYWxsb3dDb3B5IiwiY2hhckF0IiwiZXF1YWxzIiwibzEiLCJvMiIsImtleVNldCIsInQxIiwidDIiLCJnZXRUaW1lIiwiY3JlYXRlTWFwIiwiY29uY2F0IiwiYXJyYXkxIiwiYXJyYXkyIiwic2xpY2VBcmdzIiwiYXJncyIsInN0YXJ0SW5kZXgiLCJiaW5kIiwic2VsZiIsImZuIiwiY3VycnlBcmdzIiwiYXBwbHkiLCJ0b0pzb25SZXBsYWNlciIsInZhbCIsImRvY3VtZW50IiwidG9Kc29uIiwicHJldHR5IiwiSlNPTiIsInN0cmluZ2lmeSIsImZyb21Kc29uIiwianNvbiIsInBhcnNlIiwidGltZXpvbmVUb09mZnNldCIsInRpbWV6b25lIiwiZmFsbGJhY2siLCJBTExfQ09MT05TIiwicmVxdWVzdGVkVGltZXpvbmVPZmZzZXQiLCJpc05hTiIsImFkZERhdGVNaW51dGVzIiwiZGF0ZSIsIm1pbnV0ZXMiLCJzZXRNaW51dGVzIiwiZ2V0TWludXRlcyIsImNvbnZlcnRUaW1lem9uZVRvTG9jYWwiLCJyZXZlcnNlIiwiZGF0ZVRpbWV6b25lT2Zmc2V0IiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJ0aW1lem9uZU9mZnNldCIsInN0YXJ0aW5nVGFnIiwiZW1wdHkiLCJlIiwiZWxlbUh0bWwiLCJhcHBlbmQiLCJodG1sIiwibm9kZVR5cGUiLCJOT0RFX1RZUEVfVEVYVCIsInRyeURlY29kZVVSSUNvbXBvbmVudCIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlS2V5VmFsdWUiLCJrZXlWYWx1ZSIsInNwbGl0UG9pbnQiLCJzdWJzdHJpbmciLCJ0b0tleVZhbHVlIiwicGFydHMiLCJhcnJheVZhbHVlIiwiZW5jb2RlVXJpUXVlcnkiLCJqb2luIiwiZW5jb2RlVXJpU2VnbWVudCIsInBjdEVuY29kZVNwYWNlcyIsImdldE5nQXR0cmlidXRlIiwibmdBdHRyIiwibmdBdHRyUHJlZml4ZXMiLCJnZXRBdHRyaWJ1dGUiLCJhbmd1bGFySW5pdCIsImJvb3RzdHJhcCIsImFwcEVsZW1lbnQiLCJjb25maWciLCJwcmVmaXgiLCJuYW1lIiwiaGFzQXR0cmlidXRlIiwiY2FuZGlkYXRlIiwicXVlcnlTZWxlY3RvciIsInN0cmljdERpIiwibW9kdWxlcyIsImRlZmF1bHRDb25maWciLCJkb0Jvb3RzdHJhcCIsImluamVjdG9yIiwidGFnIiwidW5zaGlmdCIsIiRwcm92aWRlIiwiZGVidWdJbmZvRW5hYmxlZCIsIiRjb21waWxlUHJvdmlkZXIiLCJjcmVhdGVJbmplY3RvciIsImludm9rZSIsInNjb3BlIiwiY29tcGlsZSIsIiRhcHBseSIsImRhdGEiLCJOR19FTkFCTEVfREVCVUdfSU5GTyIsIk5HX0RFRkVSX0JPT1RTVFJBUCIsImFuZ3VsYXIiLCJyZXN1bWVCb290c3RyYXAiLCJleHRyYU1vZHVsZXMiLCJyZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCIsInJlbG9hZFdpdGhEZWJ1Z0luZm8iLCJsb2NhdGlvbiIsInJlbG9hZCIsImdldFRlc3RhYmlsaXR5Iiwicm9vdEVsZW1lbnQiLCJnZXQiLCJzbmFrZV9jYXNlIiwic2VwYXJhdG9yIiwiU05BS0VfQ0FTRV9SRUdFWFAiLCJsZXR0ZXIiLCJwb3MiLCJ0b0xvd2VyQ2FzZSIsImJpbmRKUXVlcnkiLCJvcmlnaW5hbENsZWFuRGF0YSIsImJpbmRKUXVlcnlGaXJlZCIsImpxTmFtZSIsImpxIiwialF1ZXJ5Iiwib24iLCJKUUxpdGVQcm90b3R5cGUiLCJpc29sYXRlU2NvcGUiLCJjb250cm9sbGVyIiwiaW5oZXJpdGVkRGF0YSIsImNsZWFuRGF0YSIsImVsZW1zIiwiZXZlbnRzIiwiZWxlbSIsIl9kYXRhIiwiJGRlc3Ryb3kiLCJ0cmlnZ2VySGFuZGxlciIsIkpRTGl0ZSIsImFzc2VydEFyZyIsImFyZyIsInJlYXNvbiIsImFzc2VydEFyZ0ZuIiwiYWNjZXB0QXJyYXlBbm5vdGF0aW9uIiwiYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkiLCJnZXR0ZXIiLCJwYXRoIiwiYmluZEZuVG9TY29wZSIsImxhc3RJbnN0YW5jZSIsImxlbiIsImdldEJsb2NrTm9kZXMiLCJub2RlcyIsImJsb2NrTm9kZXMiLCJlbmROb2RlIiwibmV4dFNpYmxpbmciLCJzZXR1cE1vZHVsZUxvYWRlciIsImVuc3VyZSIsImZhY3RvcnkiLCIkaW5qZWN0b3JNaW5FcnIiLCIkJG1pbkVyciIsInJlcXVpcmVzIiwiY29uZmlnRm4iLCJpbnZva2VMYXRlciIsInByb3ZpZGVyIiwibWV0aG9kIiwiaW5zZXJ0TWV0aG9kIiwicXVldWUiLCJpbnZva2VRdWV1ZSIsIm1vZHVsZUluc3RhbmNlIiwiaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lIiwicmVjaXBlTmFtZSIsImZhY3RvcnlGdW5jdGlvbiIsIiQkbW9kdWxlTmFtZSIsImNvbmZpZ0Jsb2NrcyIsInJ1bkJsb2NrcyIsIl9pbnZva2VRdWV1ZSIsIl9jb25maWdCbG9ja3MiLCJfcnVuQmxvY2tzIiwic2VydmljZSIsImNvbnN0YW50IiwiZGVjb3JhdG9yIiwiYW5pbWF0aW9uIiwiZmlsdGVyIiwiZGlyZWN0aXZlIiwiY29tcG9uZW50IiwicnVuIiwiYmxvY2siLCJ0aGlzIiwic2VyaWFsaXplT2JqZWN0Iiwic2VlbiIsInB1Ymxpc2hFeHRlcm5hbEFQSSIsInZlcnNpb24iLCJ1cHBlcmNhc2UiLCJjYWxsYmFja3MiLCJjb3VudGVyIiwiJCRjc3AiLCJjc3AiLCJhbmd1bGFyTW9kdWxlIiwiJCRzYW5pdGl6ZVVyaSIsIiQkU2FuaXRpemVVcmlQcm92aWRlciIsIiRDb21waWxlUHJvdmlkZXIiLCJhIiwiaHRtbEFuY2hvckRpcmVjdGl2ZSIsImlucHV0IiwiaW5wdXREaXJlY3RpdmUiLCJ0ZXh0YXJlYSIsImZvcm0iLCJmb3JtRGlyZWN0aXZlIiwic2NyaXB0Iiwic2NyaXB0RGlyZWN0aXZlIiwic2VsZWN0Iiwic2VsZWN0RGlyZWN0aXZlIiwic3R5bGUiLCJzdHlsZURpcmVjdGl2ZSIsIm9wdGlvbiIsIm9wdGlvbkRpcmVjdGl2ZSIsIm5nQmluZCIsIm5nQmluZERpcmVjdGl2ZSIsIm5nQmluZEh0bWwiLCJuZ0JpbmRIdG1sRGlyZWN0aXZlIiwibmdCaW5kVGVtcGxhdGUiLCJuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSIsIm5nQ2xhc3MiLCJuZ0NsYXNzRGlyZWN0aXZlIiwibmdDbGFzc0V2ZW4iLCJuZ0NsYXNzRXZlbkRpcmVjdGl2ZSIsIm5nQ2xhc3NPZGQiLCJuZ0NsYXNzT2RkRGlyZWN0aXZlIiwibmdDbG9hayIsIm5nQ2xvYWtEaXJlY3RpdmUiLCJuZ0NvbnRyb2xsZXIiLCJuZ0NvbnRyb2xsZXJEaXJlY3RpdmUiLCJuZ0Zvcm0iLCJuZ0Zvcm1EaXJlY3RpdmUiLCJuZ0hpZGUiLCJuZ0hpZGVEaXJlY3RpdmUiLCJuZ0lmIiwibmdJZkRpcmVjdGl2ZSIsIm5nSW5jbHVkZSIsIm5nSW5jbHVkZURpcmVjdGl2ZSIsIm5nSW5pdCIsIm5nSW5pdERpcmVjdGl2ZSIsIm5nTm9uQmluZGFibGUiLCJuZ05vbkJpbmRhYmxlRGlyZWN0aXZlIiwibmdQbHVyYWxpemUiLCJuZ1BsdXJhbGl6ZURpcmVjdGl2ZSIsIm5nUmVwZWF0IiwibmdSZXBlYXREaXJlY3RpdmUiLCJuZ1Nob3ciLCJuZ1Nob3dEaXJlY3RpdmUiLCJuZ1N0eWxlIiwibmdTdHlsZURpcmVjdGl2ZSIsIm5nU3dpdGNoIiwibmdTd2l0Y2hEaXJlY3RpdmUiLCJuZ1N3aXRjaFdoZW4iLCJuZ1N3aXRjaFdoZW5EaXJlY3RpdmUiLCJuZ1N3aXRjaERlZmF1bHQiLCJuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUiLCJuZ09wdGlvbnMiLCJuZ09wdGlvbnNEaXJlY3RpdmUiLCJuZ1RyYW5zY2x1ZGUiLCJuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUiLCJuZ01vZGVsIiwibmdNb2RlbERpcmVjdGl2ZSIsIm5nTGlzdCIsIm5nTGlzdERpcmVjdGl2ZSIsIm5nQ2hhbmdlIiwibmdDaGFuZ2VEaXJlY3RpdmUiLCJwYXR0ZXJuIiwicGF0dGVybkRpcmVjdGl2ZSIsIm5nUGF0dGVybiIsInJlcXVpcmVkIiwicmVxdWlyZWREaXJlY3RpdmUiLCJuZ1JlcXVpcmVkIiwibWlubGVuZ3RoIiwibWlubGVuZ3RoRGlyZWN0aXZlIiwibmdNaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJtYXhsZW5ndGhEaXJlY3RpdmUiLCJuZ01heGxlbmd0aCIsIm5nVmFsdWUiLCJuZ1ZhbHVlRGlyZWN0aXZlIiwibmdNb2RlbE9wdGlvbnMiLCJuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZSIsIm5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlIiwibmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMiLCJuZ0V2ZW50RGlyZWN0aXZlcyIsIiRhbmNob3JTY3JvbGwiLCIkQW5jaG9yU2Nyb2xsUHJvdmlkZXIiLCIkYW5pbWF0ZSIsIiRBbmltYXRlUHJvdmlkZXIiLCIkYW5pbWF0ZUNzcyIsIiRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyIiwiJCRhbmltYXRlSnMiLCIkJENvcmVBbmltYXRlSnNQcm92aWRlciIsIiQkYW5pbWF0ZVF1ZXVlIiwiJCRDb3JlQW5pbWF0ZVF1ZXVlUHJvdmlkZXIiLCIkJEFuaW1hdGVSdW5uZXIiLCIkJEFuaW1hdGVSdW5uZXJGYWN0b3J5UHJvdmlkZXIiLCIkJGFuaW1hdGVBc3luY1J1biIsIiQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeVByb3ZpZGVyIiwiJGJyb3dzZXIiLCIkQnJvd3NlclByb3ZpZGVyIiwiJGNhY2hlRmFjdG9yeSIsIiRDYWNoZUZhY3RvcnlQcm92aWRlciIsIiRjb250cm9sbGVyIiwiJENvbnRyb2xsZXJQcm92aWRlciIsIiRkb2N1bWVudCIsIiREb2N1bWVudFByb3ZpZGVyIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyIiwiJGZpbHRlciIsIiRGaWx0ZXJQcm92aWRlciIsIiQkZm9yY2VSZWZsb3ciLCIkJEZvcmNlUmVmbG93UHJvdmlkZXIiLCIkaW50ZXJwb2xhdGUiLCIkSW50ZXJwb2xhdGVQcm92aWRlciIsIiRpbnRlcnZhbCIsIiRJbnRlcnZhbFByb3ZpZGVyIiwiJGh0dHAiLCIkSHR0cFByb3ZpZGVyIiwiJGh0dHBQYXJhbVNlcmlhbGl6ZXIiLCIkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyIiwiJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UiLCIkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyIiwiJGh0dHBCYWNrZW5kIiwiJEh0dHBCYWNrZW5kUHJvdmlkZXIiLCIkeGhyRmFjdG9yeSIsIiR4aHJGYWN0b3J5UHJvdmlkZXIiLCIkbG9jYXRpb24iLCIkTG9jYXRpb25Qcm92aWRlciIsIiRsb2ciLCIkTG9nUHJvdmlkZXIiLCIkcGFyc2UiLCIkUGFyc2VQcm92aWRlciIsIiRyb290U2NvcGUiLCIkUm9vdFNjb3BlUHJvdmlkZXIiLCIkcSIsIiRRUHJvdmlkZXIiLCIkJHEiLCIkJFFQcm92aWRlciIsIiRzY2UiLCIkU2NlUHJvdmlkZXIiLCIkc2NlRGVsZWdhdGUiLCIkU2NlRGVsZWdhdGVQcm92aWRlciIsIiRzbmlmZmVyIiwiJFNuaWZmZXJQcm92aWRlciIsIiR0ZW1wbGF0ZUNhY2hlIiwiJFRlbXBsYXRlQ2FjaGVQcm92aWRlciIsIiR0ZW1wbGF0ZVJlcXVlc3QiLCIkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIiLCIkJHRlc3RhYmlsaXR5IiwiJCRUZXN0YWJpbGl0eVByb3ZpZGVyIiwiJHRpbWVvdXQiLCIkVGltZW91dFByb3ZpZGVyIiwiJHdpbmRvdyIsIiRXaW5kb3dQcm92aWRlciIsIiQkckFGIiwiJCRSQUZQcm92aWRlciIsIiQkanFMaXRlIiwiJCRqcUxpdGVQcm92aWRlciIsIiQkSGFzaE1hcCIsIiQkSGFzaE1hcFByb3ZpZGVyIiwiJCRjb29raWVSZWFkZXIiLCIkJENvb2tpZVJlYWRlclByb3ZpZGVyIiwianFOZXh0SWQiLCJqcUlkIiwiY2FtZWxDYXNlIiwiU1BFQ0lBTF9DSEFSU19SRUdFWFAiLCJfIiwib2Zmc2V0IiwidG9VcHBlckNhc2UiLCJNT1pfSEFDS19SRUdFWFAiLCJqcUxpdGVJc1RleHROb2RlIiwiSFRNTF9SRUdFWFAiLCJqcUxpdGVBY2NlcHRzRGF0YSIsIk5PREVfVFlQRV9FTEVNRU5UIiwiTk9ERV9UWVBFX0RPQ1VNRU5UIiwianFMaXRlSGFzRGF0YSIsImpxQ2FjaGUiLCJuZzMzOSIsImpxTGl0ZUNsZWFuRGF0YSIsImpxTGl0ZVJlbW92ZURhdGEiLCJqcUxpdGVCdWlsZEZyYWdtZW50IiwidG1wIiwid3JhcCIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZVRleHROb2RlIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVFbGVtZW50IiwiVEFHX05BTUVfUkVHRVhQIiwiZXhlYyIsIndyYXBNYXAiLCJfZGVmYXVsdCIsImlubmVySFRNTCIsIlhIVE1MX1RBR19SRUdFWFAiLCJsYXN0Q2hpbGQiLCJjaGlsZE5vZGVzIiwiZmlyc3RDaGlsZCIsInRleHRDb250ZW50IiwianFMaXRlUGFyc2VIVE1MIiwicGFyc2VkIiwiU0lOR0xFX1RBR19SRUdFWFAiLCJqcUxpdGVXcmFwTm9kZSIsIndyYXBwZXIiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwiYXJnSXNTdHJpbmciLCJ0cmltIiwianFMaXRlTWluRXJyIiwianFMaXRlQWRkTm9kZXMiLCJqcUxpdGVDbG9uZSIsImpxTGl0ZURlYWxvYyIsIm9ubHlEZXNjZW5kYW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkZXNjZW5kYW50cyIsImwiLCJqcUxpdGVPZmYiLCJ1bnN1cHBvcnRlZCIsImV4cGFuZG9TdG9yZSIsImpxTGl0ZUV4cGFuZG9TdG9yZSIsImhhbmRsZSIsInJlbW92ZUhhbmRsZXIiLCJsaXN0ZW5lckZucyIsInJlbW92ZUV2ZW50TGlzdGVuZXJGbiIsIk1PVVNFX0VWRU5UX01BUCIsImV4cGFuZG9JZCIsImNyZWF0ZUlmTmVjZXNzYXJ5IiwianFMaXRlRGF0YSIsImlzU2ltcGxlU2V0dGVyIiwiaXNTaW1wbGVHZXR0ZXIiLCJtYXNzR2V0dGVyIiwianFMaXRlSGFzQ2xhc3MiLCJzZWxlY3RvciIsImpxTGl0ZVJlbW92ZUNsYXNzIiwiY3NzQ2xhc3NlcyIsInNldEF0dHJpYnV0ZSIsImNzc0NsYXNzIiwianFMaXRlQWRkQ2xhc3MiLCJleGlzdGluZ0NsYXNzZXMiLCJyb290IiwiZWxlbWVudHMiLCJqcUxpdGVDb250cm9sbGVyIiwianFMaXRlSW5oZXJpdGVkRGF0YSIsImRvY3VtZW50RWxlbWVudCIsIm5hbWVzIiwiTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UIiwiaG9zdCIsImpxTGl0ZUVtcHR5IiwicmVtb3ZlQ2hpbGQiLCJqcUxpdGVSZW1vdmUiLCJrZWVwRGF0YSIsImpxTGl0ZURvY3VtZW50TG9hZGVkIiwiYWN0aW9uIiwid2luIiwicmVhZHlTdGF0ZSIsInNldFRpbWVvdXQiLCJnZXRCb29sZWFuQXR0ck5hbWUiLCJib29sZWFuQXR0ciIsIkJPT0xFQU5fQVRUUiIsIkJPT0xFQU5fRUxFTUVOVFMiLCJnZXRBbGlhc2VkQXR0ck5hbWUiLCJBTElBU0VEX0FUVFIiLCJjcmVhdGVFdmVudEhhbmRsZXIiLCJldmVudEhhbmRsZXIiLCJldmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJldmVudEZucyIsImV2ZW50Rm5zTGVuZ3RoIiwiaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwib3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsImhhbmRsZXJXcmFwcGVyIiwic3BlY2lhbEhhbmRsZXJXcmFwcGVyIiwiZGVmYXVsdEhhbmRsZXJXcmFwcGVyIiwiaGFuZGxlciIsInNwZWNpYWxNb3VzZUhhbmRsZXJXcmFwcGVyIiwidGFyZ2V0IiwicmVsYXRlZCIsInJlbGF0ZWRUYXJnZXQiLCJqcUxpdGVDb250YWlucyIsIiRnZXQiLCJoYXNDbGFzcyIsImNsYXNzZXMiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaGFzaEtleSIsIm5leHRVaWRGbiIsIm9ialR5cGUiLCJIYXNoTWFwIiwiaXNvbGF0ZWRVaWQiLCJwdXQiLCJleHRyYWN0QXJncyIsImZuVGV4dCIsIkZ1bmN0aW9uIiwicHJvdG90eXBlIiwiU1RSSVBfQ09NTUVOVFMiLCJBUlJPV19BUkciLCJGTl9BUkdTIiwiYW5vbkZuIiwiYW5ub3RhdGUiLCIkaW5qZWN0IiwiYXJnRGVjbCIsImxhc3QiLCJGTl9BUkdfU1BMSVQiLCJGTl9BUkciLCJhbGwiLCJ1bmRlcnNjb3JlIiwibW9kdWxlc1RvTG9hZCIsInN1cHBvcnRPYmplY3QiLCJkZWxlZ2F0ZSIsInByb3ZpZGVyXyIsInByb3ZpZGVySW5qZWN0b3IiLCJpbnN0YW50aWF0ZSIsInByb3ZpZGVyQ2FjaGUiLCJwcm92aWRlclN1ZmZpeCIsImVuZm9yY2VSZXR1cm5WYWx1ZSIsInJlc3VsdCIsImluc3RhbmNlSW5qZWN0b3IiLCJmYWN0b3J5Rm4iLCJlbmZvcmNlIiwiJGluamVjdG9yIiwiaW5zdGFuY2VDYWNoZSIsInNlcnZpY2VOYW1lIiwiZGVjb3JGbiIsIm9yaWdQcm92aWRlciIsIm9yaWckZ2V0Iiwib3JpZ0luc3RhbmNlIiwiJGRlbGVnYXRlIiwibG9hZE1vZHVsZXMiLCJtb2R1bGVGbiIsInJ1bkludm9rZVF1ZXVlIiwiaW52b2tlQXJncyIsImxvYWRlZE1vZHVsZXMiLCJzdGFjayIsImNyZWF0ZUludGVybmFsSW5qZWN0b3IiLCJjYWNoZSIsImdldFNlcnZpY2UiLCJjYWxsZXIiLCJJTlNUQU5USUFUSU5HIiwiZXJyIiwic2hpZnQiLCJpbmplY3Rpb25BcmdzIiwibG9jYWxzIiwiJCRhbm5vdGF0ZSIsImlzQ2xhc3MiLCJmdW5jIiwibXNpZSIsIlR5cGUiLCJjdG9yIiwiaGFzIiwicHJvdG9JbnN0YW5jZUluamVjdG9yIiwiYXV0b1Njcm9sbGluZ0VuYWJsZWQiLCJkaXNhYmxlQXV0b1Njcm9sbGluZyIsImdldEZpcnN0QW5jaG9yIiwibGlzdCIsInNvbWUiLCJnZXRZT2Zmc2V0Iiwic2Nyb2xsIiwieU9mZnNldCIsImdldENvbXB1dGVkU3R5bGUiLCJwb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJvdHRvbSIsInNjcm9sbFRvIiwic2Nyb2xsSW50b1ZpZXciLCJlbGVtVG9wIiwidG9wIiwic2Nyb2xsQnkiLCJoYXNoIiwiZWxtIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRFbGVtZW50c0J5TmFtZSIsIm5ld1ZhbCIsIm9sZFZhbCIsIm1lcmdlQ2xhc3NlcyIsImIiLCJleHRyYWN0RWxlbWVudE5vZGUiLCJFTEVNRU5UX05PREUiLCJzcGxpdENsYXNzZXMiLCJrbGFzcyIsInByZXBhcmVBbmltYXRlT3B0aW9ucyIsIm9wdGlvbnMiLCJCcm93c2VyIiwiY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QiLCJvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCIsIm91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcyIsInBvcCIsImVycm9yIiwiZ2V0SGFzaCIsInVybCIsInN1YnN0ciIsImNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlIiwicGVuZGluZ0xvY2F0aW9uIiwiY2FjaGVTdGF0ZSIsImZpcmVVcmxDaGFuZ2UiLCJjYWNoZWRTdGF0ZSIsImdldEN1cnJlbnRTdGF0ZSIsImxhc3RDYWNoZWRTdGF0ZSIsImxhc3RCcm93c2VyVXJsIiwibGFzdEhpc3RvcnlTdGF0ZSIsInVybENoYW5nZUxpc3RlbmVycyIsImxpc3RlbmVyIiwiaGlzdG9yeSIsImNsZWFyVGltZW91dCIsInBlbmRpbmdEZWZlcklkcyIsImlzTW9jayIsIiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QiLCIkJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50Iiwibm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyIsImNhbGxiYWNrIiwiaHJlZiIsImJhc2VFbGVtZW50Iiwic3RhdGUiLCJzYW1lU3RhdGUiLCJzYW1lQmFzZSIsInN0cmlwSGFzaCIsInVybENoYW5nZUluaXQiLCJvblVybENoYW5nZSIsIiQkYXBwbGljYXRpb25EZXN0cm95ZWQiLCJvZmYiLCIkJGNoZWNrVXJsQ2hhbmdlIiwiYmFzZUhyZWYiLCJkZWZlciIsImRlbGF5IiwidGltZW91dElkIiwiY2FuY2VsIiwiZGVmZXJJZCIsImNhY2hlRmFjdG9yeSIsImNhY2hlSWQiLCJyZWZyZXNoIiwiZW50cnkiLCJmcmVzaEVuZCIsInN0YWxlRW5kIiwibiIsImxpbmsiLCJwIiwibmV4dEVudHJ5IiwicHJldkVudHJ5IiwiY2FjaGVzIiwic2l6ZSIsInN0YXRzIiwiaWQiLCJjYXBhY2l0eSIsIk51bWJlciIsIk1BWF9WQUxVRSIsImxydUhhc2giLCJscnVFbnRyeSIsInJlbW92ZSIsInJlbW92ZUFsbCIsImRlc3Ryb3kiLCJpbmZvIiwiVU5JTklUSUFMSVpFRF9WQUxVRSIsIiQkc2FuaXRpemVVcmlQcm92aWRlciIsInBhcnNlSXNvbGF0ZUJpbmRpbmdzIiwiZGlyZWN0aXZlTmFtZSIsImlzQ29udHJvbGxlciIsIkxPQ0FMX1JFR0VYUCIsImJpbmRpbmdzIiwiZGVmaW5pdGlvbiIsInNjb3BlTmFtZSIsImJpbmRpbmdDYWNoZSIsIiRjb21waWxlTWluRXJyIiwibW9kZSIsImNvbGxlY3Rpb24iLCJvcHRpb25hbCIsImF0dHJOYW1lIiwicGFyc2VEaXJlY3RpdmVCaW5kaW5ncyIsImJpbmRUb0NvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJpZGVudGlmaWVyRm9yQ29udHJvbGxlciIsImFzc2VydFZhbGlkRGlyZWN0aXZlTmFtZSIsImhhc0RpcmVjdGl2ZXMiLCJTdWZmaXgiLCJDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAiLCJDTEFTU19ESVJFQ1RJVkVfUkVHRVhQIiwiQUxMX09SX05PVEhJTkdfQVRUUlMiLCJSRVFVSVJFX1BSRUZJWF9SRUdFWFAiLCJFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQIiwicmVnaXN0ZXJEaXJlY3RpdmUiLCJkaXJlY3RpdmVGYWN0b3J5IiwiZGlyZWN0aXZlcyIsInByaW9yaXR5IiwicmVxdWlyZSIsInJlc3RyaWN0IiwibWFrZUluamVjdGFibGUiLCJ0RWxlbWVudCIsInRBdHRycyIsIiRlbGVtZW50IiwiJGF0dHJzIiwidGVtcGxhdGVVcmwiLCJkZG8iLCJ0cmFuc2NsdWRlIiwiYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QiLCJyZWdleHAiLCJpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QiLCJlbmFibGVkIiwiVFRMIiwib25DaGFuZ2VzVHRsIiwiZmx1c2hPbkNoYW5nZXNRdWV1ZSIsIm9uQ2hhbmdlc1F1ZXVlIiwiQXR0cmlidXRlcyIsImF0dHJpYnV0ZXNUb0NvcHkiLCIkYXR0ciIsIiQkZWxlbWVudCIsInNldFNwZWNpYWxBdHRyIiwic3BlY2lhbEF0dHJIb2xkZXIiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlIiwicmVtb3ZlTmFtZWRJdGVtIiwic2V0TmFtZWRJdGVtIiwic2FmZUFkZENsYXNzIiwiY2xhc3NOYW1lIiwiJGNvbXBpbGVOb2RlcyIsInRyYW5zY2x1ZGVGbiIsIm1heFByaW9yaXR5IiwiaWdub3JlRGlyZWN0aXZlIiwicHJldmlvdXNDb21waWxlQ29udGV4dCIsIk5PVF9FTVBUWSIsImRvbU5vZGUiLCJub2RlVmFsdWUiLCJjb21wb3NpdGVMaW5rRm4iLCJjb21waWxlTm9kZXMiLCIkJGFkZFNjb3BlQ2xhc3MiLCJuYW1lc3BhY2UiLCJjbG9uZUNvbm5lY3RGbiIsIm5lZWRzTmV3U2NvcGUiLCIkcGFyZW50IiwiJG5ldyIsInBhcmVudEJvdW5kVHJhbnNjbHVkZUZuIiwidHJhbnNjbHVkZUNvbnRyb2xsZXJzIiwiZnV0dXJlUGFyZW50RWxlbWVudCIsIiQkYm91bmRUcmFuc2NsdWRlIiwiZGV0ZWN0TmFtZXNwYWNlRm9yQ2hpbGRFbGVtZW50cyIsIiRsaW5rTm9kZSIsIndyYXBUZW1wbGF0ZSIsImNvbnRyb2xsZXJOYW1lIiwiaW5zdGFuY2UiLCIkJGFkZFNjb3BlSW5mbyIsInBhcmVudEVsZW1lbnQiLCJub2RlTGlzdCIsIiRyb290RWxlbWVudCIsIm5vZGVMaW5rRm4iLCJjaGlsZExpbmtGbiIsImNoaWxkU2NvcGUiLCJpZHgiLCJjaGlsZEJvdW5kVHJhbnNjbHVkZUZuIiwic3RhYmxlTm9kZUxpc3QiLCJub2RlTGlua0ZuRm91bmQiLCJub2RlTGlzdExlbmd0aCIsImxpbmtGbnMiLCJ0cmFuc2NsdWRlT25UaGlzRWxlbWVudCIsImNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuIiwidGVtcGxhdGVPblRoaXNFbGVtZW50IiwiYXR0cnMiLCJsaW5rRm5Gb3VuZCIsImNvbGxlY3REaXJlY3RpdmVzIiwiYXBwbHlEaXJlY3RpdmVzVG9Ob2RlIiwidGVybWluYWwiLCJwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuIiwiYm91bmRUcmFuc2NsdWRlRm4iLCJ0cmFuc2NsdWRlZFNjb3BlIiwiY2xvbmVGbiIsImNvbnRyb2xsZXJzIiwiY29udGFpbmluZ1Njb3BlIiwiJCR0cmFuc2NsdWRlZCIsImJvdW5kU2xvdHMiLCIkJHNsb3RzIiwic2xvdE5hbWUiLCJhdHRyc01hcCIsImFkZERpcmVjdGl2ZSIsImRpcmVjdGl2ZU5vcm1hbGl6ZSIsIm5OYW1lIiwibmdBdHRyTmFtZSIsImlzTmdBdHRyIiwibkF0dHJzIiwiYXR0clN0YXJ0TmFtZSIsImF0dHJFbmROYW1lIiwiTkdfQVRUUl9CSU5ESU5HIiwiUFJFRklYX1JFR0VYUCIsIm11bHRpRWxlbWVudE1hdGNoIiwiTVVMVElfRUxFTUVOVF9ESVJfUkUiLCJkaXJlY3RpdmVJc011bHRpRWxlbWVudCIsImFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZSIsImFuaW1WYWwiLCJhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUiLCJOT0RFX1RZUEVfQ09NTUVOVCIsImJ5UHJpb3JpdHkiLCJncm91cFNjYW4iLCJhdHRyU3RhcnQiLCJhdHRyRW5kIiwiZGVwdGgiLCJncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlciIsImxpbmtGbiIsImNvbXBpbGF0aW9uR2VuZXJhdG9yIiwiZWFnZXIiLCJjb21waWxlZCIsImNvbXBpbGVOb2RlIiwidGVtcGxhdGVBdHRycyIsImpxQ29sbGVjdGlvbiIsIm9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSIsInByZUxpbmtGbnMiLCJwb3N0TGlua0ZucyIsImFkZExpbmtGbnMiLCJwcmUiLCJwb3N0IiwibmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIiwiJCRpc29sYXRlU2NvcGUiLCJjbG9uZUFuZEFubm90YXRlRm4iLCJsaW5rTm9kZSIsImNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlIiwiY2xvbmVBdHRhY2hGbiIsImhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlIiwiZWxlbWVudENvbnRyb2xsZXJzIiwic2NvcGVUb0NoaWxkIiwic2xvdFRyYW5zY2x1ZGVGbiIsImNvbnRyb2xsZXJTY29wZSIsInNjb3BlQmluZGluZ0luZm8iLCJuZXdTY29wZURpcmVjdGl2ZSIsImlzU2xvdEZpbGxlZCIsImNvbnRyb2xsZXJEaXJlY3RpdmVzIiwic2V0dXBDb250cm9sbGVycyIsInRlbXBsYXRlRGlyZWN0aXZlIiwiJCRvcmlnaW5hbERpcmVjdGl2ZSIsIiQkaXNvbGF0ZUJpbmRpbmdzIiwiaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzIiwicmVtb3ZlV2F0Y2hlcyIsIiRvbiIsImNvbnRyb2xsZXJEaXJlY3RpdmUiLCIkJGJpbmRpbmdzIiwiaWRlbnRpZmllciIsImJpbmRpbmdJbmZvIiwiY29udHJvbGxlclJlc3VsdCIsImdldENvbnRyb2xsZXJzIiwiY29udHJvbGxlckluc3RhbmNlIiwiJG9uQ2hhbmdlcyIsImluaXRpYWxDaGFuZ2VzIiwiJG9uSW5pdCIsIiRvbkRlc3Ryb3kiLCJpbnZva2VMaW5rRm4iLCIkcG9zdExpbmsiLCIkdGVtcGxhdGUiLCJkaXJlY3RpdmVWYWx1ZSIsInRlcm1pbmFsUHJpb3JpdHkiLCJub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIiwiaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSIsImhhc1RlbXBsYXRlIiwiJGNvbXBpbGVOb2RlIiwicmVwbGFjZURpcmVjdGl2ZSIsImNoaWxkVHJhbnNjbHVkZUZuIiwiZGlkU2NhbkZvck11bHRpcGxlVHJhbnNjbHVzaW9uIiwibWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciIsIiQkc3RhcnQiLCIkJGVuZCIsImFzc2VydE5vRHVwbGljYXRlIiwiJCR0bGIiLCJjYW5kaWRhdGVEaXJlY3RpdmUiLCJzY2FubmluZ0luZGV4IiwiJCRjcmVhdGVDb21tZW50IiwicmVwbGFjZVdpdGgiLCIkJHBhcmVudE5vZGUiLCJzbG90cyIsImNvbnRlbnRzIiwic2xvdE1hcCIsImZpbGxlZFNsb3RzIiwiZWxlbWVudFNlbGVjdG9yIiwiZmlsbGVkIiwiJCRuZXdTY29wZSIsImRlbm9ybWFsaXplVGVtcGxhdGUiLCJyZW1vdmVDb21tZW50cyIsInRlbXBsYXRlTmFtZXNwYWNlIiwibmV3VGVtcGxhdGVBdHRycyIsInRlbXBsYXRlRGlyZWN0aXZlcyIsInVucHJvY2Vzc2VkRGlyZWN0aXZlcyIsIm1hcmtEaXJlY3RpdmVTY29wZSIsIm1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzIiwiY29tcGlsZVRlbXBsYXRlVXJsIiwiTWF0aCIsIm1heCIsImluaGVyaXRUeXBlIiwiZGF0YU5hbWUiLCJwcm9wZXJ0eSIsImNvbnRyb2xsZXJLZXkiLCIkc2NvcGUiLCIkdHJhbnNjbHVkZSIsIm5ld1Njb3BlIiwidERpcmVjdGl2ZXMiLCJzdGFydEF0dHJOYW1lIiwiZW5kQXR0ck5hbWUiLCJtdWx0aUVsZW1lbnQiLCJzcmNBdHRyIiwiZHN0QXR0ciIsIiRzZXQiLCJhZnRlclRlbXBsYXRlTm9kZUxpbmtGbiIsImFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiIsImxpbmtRdWV1ZSIsImJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUiLCJvcmlnQXN5bmNEaXJlY3RpdmUiLCJkZXJpdmVkU3luY0RpcmVjdGl2ZSIsImNvbnRlbnQiLCJ0ZW1wVGVtcGxhdGVBdHRycyIsImJlZm9yZVRlbXBsYXRlTGlua05vZGUiLCJsaW5rUm9vdEVsZW1lbnQiLCIkJGRlc3Ryb3llZCIsIm9sZENsYXNzZXMiLCJpZ25vcmVDaGlsZExpbmtGbiIsImRpZmYiLCJ3aGF0IiwicHJldmlvdXNEaXJlY3RpdmUiLCJ3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZCIsIm1vZHVsZU5hbWUiLCJ0ZXh0IiwiaW50ZXJwb2xhdGVGbiIsInRlbXBsYXRlTm9kZSIsInRlbXBsYXRlTm9kZVBhcmVudCIsImhhc0NvbXBpbGVQYXJlbnQiLCIkJGFkZEJpbmRpbmdDbGFzcyIsIiQkYWRkQmluZGluZ0luZm8iLCJleHByZXNzaW9ucyIsImdldFRydXN0ZWRDb250ZXh0IiwiYXR0ck5vcm1hbGl6ZWROYW1lIiwiSFRNTCIsIlJFU09VUkNFX1VSTCIsImFsbE9yTm90aGluZyIsInRydXN0ZWRDb250ZXh0IiwiJCRvYnNlcnZlcnMiLCJuZXdWYWx1ZSIsIiQkaW50ZXIiLCIkJHNjb3BlIiwib2xkVmFsdWUiLCIkdXBkYXRlQ2xhc3MiLCJlbGVtZW50c1RvUmVtb3ZlIiwibmV3Tm9kZSIsImZpcnN0RWxlbWVudFRvUmVtb3ZlIiwicmVtb3ZlQ291bnQiLCJqMiIsImhhc0RhdGEiLCJhbm5vdGF0aW9uIiwicmVjb3JkQ2hhbmdlcyIsImN1cnJlbnRWYWx1ZSIsInByZXZpb3VzVmFsdWUiLCIkJHBvc3REaWdlc3QiLCJjaGFuZ2VzIiwidHJpZ2dlck9uQ2hhbmdlc0hvb2siLCJTaW1wbGVDaGFuZ2UiLCJyZW1vdmVXYXRjaENvbGxlY3Rpb24iLCJsYXN0VmFsdWUiLCJwYXJlbnRHZXQiLCJwYXJlbnRTZXQiLCJjb21wYXJlIiwicmVtb3ZlV2F0Y2giLCIkb2JzZXJ2ZSIsIl9VTklOSVRJQUxJWkVEX1ZBTFVFIiwibGl0ZXJhbCIsImFzc2lnbiIsInBhcmVudFZhbHVlV2F0Y2giLCJwYXJlbnRWYWx1ZSIsIiRzdGF0ZWZ1bCIsIiR3YXRjaENvbGxlY3Rpb24iLCJTSU1QTEVfQVRUUl9OQU1FIiwiJG5vcm1hbGl6ZSIsIiRhZGRDbGFzcyIsImNsYXNzVmFsIiwiJHJlbW92ZUNsYXNzIiwibmV3Q2xhc3NlcyIsInRvQWRkIiwidG9rZW5EaWZmZXJlbmNlIiwidG9SZW1vdmUiLCJ3cml0ZUF0dHIiLCJib29sZWFuS2V5IiwiYWxpYXNlZEtleSIsIm9ic2VydmVyIiwidHJpbW1lZFNyY3NldCIsInNyY1BhdHRlcm4iLCJyYXdVcmlzIiwibmJyVXJpc1dpdGgycGFydHMiLCJmbG9vciIsImlubmVySWR4IiwibGFzdFR1cGxlIiwicmVtb3ZlQXR0ciIsImxpc3RlbmVycyIsInN0YXJ0U3ltYm9sIiwiZW5kU3ltYm9sIiwiYmluZGluZyIsImlzb2xhdGVkIiwibm9UZW1wbGF0ZSIsImNvbW1lbnQiLCJjcmVhdGVDb21tZW50IiwicHJldmlvdXMiLCJjdXJyZW50Iiwic3RyMSIsInN0cjIiLCJ2YWx1ZXMiLCJ0b2tlbnMxIiwidG9rZW5zMiIsIm91dGVyIiwidG9rZW4iLCJqcU5vZGVzIiwiaWRlbnQiLCJDTlRSTF9SRUciLCJnbG9iYWxzIiwicmVnaXN0ZXIiLCJhbGxvd0dsb2JhbHMiLCJhZGRJZGVudGlmaWVyIiwiZXhwcmVzc2lvbiIsImxhdGVyIiwiJGNvbnRyb2xsZXJNaW5FcnIiLCJjb250cm9sbGVyUHJvdG90eXBlIiwiZXhjZXB0aW9uIiwiY2F1c2UiLCJzZXJpYWxpemVWYWx1ZSIsInYiLCJ0b0lTT1N0cmluZyIsInBhcmFtcyIsInNlcmlhbGl6ZSIsInRvU2VyaWFsaXplIiwidG9wTGV2ZWwiLCJkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtIiwiaGVhZGVycyIsInRlbXBEYXRhIiwiSlNPTl9QUk9URUNUSU9OX1BSRUZJWCIsImNvbnRlbnRUeXBlIiwiQVBQTElDQVRJT05fSlNPTiIsImlzSnNvbkxpa2UiLCJqc29uU3RhcnQiLCJKU09OX1NUQVJUIiwiSlNPTl9FTkRTIiwicGFyc2VIZWFkZXJzIiwiZmlsbEluUGFyc2VkIiwibGluZSIsImhlYWRlclZhbCIsImhlYWRlcktleSIsImhlYWRlcnNHZXR0ZXIiLCJoZWFkZXJzT2JqIiwidHJhbnNmb3JtRGF0YSIsInN0YXR1cyIsImZucyIsImlzU3VjY2VzcyIsImRlZmF1bHRzIiwidHJhbnNmb3JtUmVzcG9uc2UiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiZCIsImNvbW1vbiIsIkFjY2VwdCIsIkNPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OIiwicGF0Y2giLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwicGFyYW1TZXJpYWxpemVyIiwidXNlQXBwbHlBc3luYyIsInVzZUxlZ2FjeVByb21pc2UiLCJ1c2VMZWdhY3lQcm9taXNlRXh0ZW5zaW9ucyIsImludGVyY2VwdG9yRmFjdG9yaWVzIiwiaW50ZXJjZXB0b3JzIiwicmVxdWVzdENvbmZpZyIsInJlc3BvbnNlIiwicmVzcCIsInJlamVjdCIsImV4ZWN1dGVIZWFkZXJGbnMiLCJoZWFkZXJDb250ZW50IiwicHJvY2Vzc2VkSGVhZGVycyIsImhlYWRlckZuIiwiaGVhZGVyIiwibWVyZ2VIZWFkZXJzIiwiZGVmSGVhZGVyTmFtZSIsImxvd2VyY2FzZURlZkhlYWRlck5hbWUiLCJyZXFIZWFkZXJOYW1lIiwiZGVmSGVhZGVycyIsInJlcUhlYWRlcnMiLCJkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbiIsInNlcnZlclJlcXVlc3QiLCJyZXFEYXRhIiwid2l0aENyZWRlbnRpYWxzIiwic2VuZFJlcSIsImNoYWluIiwicHJvbWlzZSIsIndoZW4iLCJyZXZlcnNlZEludGVyY2VwdG9ycyIsImludGVyY2VwdG9yIiwicmVxdWVzdCIsInJlcXVlc3RFcnJvciIsInJlc3BvbnNlRXJyb3IiLCJ0aGVuRm4iLCJyZWplY3RGbiIsInN1Y2Nlc3MiLCIkaHR0cE1pbkVyckxlZ2FjeUZuIiwiY3JlYXRlU2hvcnRNZXRob2RzIiwiY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEiLCJjcmVhdGVBcHBseUhhbmRsZXJzIiwiZXZlbnRIYW5kbGVycyIsImFwcGx5SGFuZGxlcnMiLCJjYWxsRXZlbnRIYW5kbGVyIiwiJGFwcGx5QXN5bmMiLCIkJHBoYXNlIiwiZG9uZSIsImhlYWRlcnNTdHJpbmciLCJzdGF0dXNUZXh0IiwicmVzb2x2ZUh0dHBQcm9taXNlIiwicmVzb2x2ZVByb21pc2UiLCJkZWZlcnJlZCIsInJlc29sdmUiLCJyZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQiLCJyZW1vdmVQZW5kaW5nUmVxIiwicGVuZGluZ1JlcXVlc3RzIiwiY2FjaGVkUmVzcCIsImJ1aWxkVXJsIiwiZGVmYXVsdENhY2hlIiwieHNyZlZhbHVlIiwidXJsSXNTYW1lT3JpZ2luIiwidGltZW91dCIsInJlc3BvbnNlVHlwZSIsInVwbG9hZEV2ZW50SGFuZGxlcnMiLCJzZXJpYWxpemVkUGFyYW1zIiwiaW50ZXJjZXB0b3JGYWN0b3J5IiwiWE1MSHR0cFJlcXVlc3QiLCJjcmVhdGVIdHRwQmFja2VuZCIsImNyZWF0ZVhociIsIiRicm93c2VyRGVmZXIiLCJyYXdEb2N1bWVudCIsImpzb25wUmVxIiwiY2FsbGJhY2tJZCIsImFzeW5jIiwiYm9keSIsImNhbGxlZCIsImFkZEV2ZW50TGlzdGVuZXJGbiIsInRpbWVvdXRSZXF1ZXN0IiwianNvbnBEb25lIiwieGhyIiwiYWJvcnQiLCJjb21wbGV0ZVJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsInJlc3BvbnNlVGV4dCIsInVybFJlc29sdmUiLCJwcm90b2NvbCIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsIm9uZXJyb3IiLCJvbmFib3J0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInVwbG9hZCIsInNlbmQiLCJlc2NhcGUiLCJjaCIsInVuZXNjYXBlVGV4dCIsImVzY2FwZWRTdGFydFJlZ2V4cCIsImVzY2FwZWRFbmRSZWdleHAiLCJjb25zdGFudFdhdGNoRGVsZWdhdGUiLCJvYmplY3RFcXVhbGl0eSIsImNvbnN0YW50SW50ZXJwIiwidW53YXRjaCIsIm11c3RIYXZlRXhwcmVzc2lvbiIsInBhcnNlU3RyaW5naWZ5SW50ZXJjZXB0b3IiLCJnZXRWYWx1ZSIsIiRpbnRlcnBvbGF0ZU1pbkVyciIsImludGVyciIsInVuZXNjYXBlZFRleHQiLCJleHAiLCIkJHdhdGNoRGVsZWdhdGUiLCJlbmRJbmRleCIsInBhcnNlRm5zIiwidGV4dExlbmd0aCIsImV4cHJlc3Npb25Qb3NpdGlvbnMiLCJzdGFydFN5bWJvbExlbmd0aCIsImVuZFN5bWJvbExlbmd0aCIsInRocm93Tm9jb25jYXQiLCJjb21wdXRlIiwiZ2V0VHJ1c3RlZCIsIiR3YXRjaEdyb3VwIiwib2xkVmFsdWVzIiwiY3VyclZhbHVlIiwiaW50ZXJ2YWwiLCJjb3VudCIsImludm9rZUFwcGx5IiwiaGFzUGFyYW1zIiwiaXRlcmF0aW9uIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic2tpcEFwcGx5IiwiJCRpbnRlcnZhbElkIiwibm90aWZ5IiwiaW50ZXJ2YWxzIiwiZW5jb2RlUGF0aCIsInNlZ21lbnRzIiwicGFyc2VBYnNvbHV0ZVVybCIsImFic29sdXRlVXJsIiwibG9jYXRpb25PYmoiLCJwYXJzZWRVcmwiLCIkJHByb3RvY29sIiwiJCRob3N0IiwiaG9zdG5hbWUiLCIkJHBvcnQiLCJwb3J0IiwiREVGQVVMVF9QT1JUUyIsInBhcnNlQXBwVXJsIiwicmVsYXRpdmVVcmwiLCJwcmVmaXhlZCIsIiQkcGF0aCIsInBhdGhuYW1lIiwiJCRzZWFyY2giLCJzZWFyY2giLCIkJGhhc2giLCJiZWdpbnNXaXRoIiwiYmVnaW4iLCJ3aG9sZSIsInRyaW1FbXB0eUhhc2giLCJzdHJpcEZpbGUiLCJsYXN0SW5kZXhPZiIsInNlcnZlckJhc2UiLCJMb2NhdGlvbkh0bWw1VXJsIiwiYXBwQmFzZSIsImFwcEJhc2VOb0ZpbGUiLCJiYXNlUHJlZml4IiwiJCRodG1sNSIsIiQkcGFyc2UiLCJwYXRoVXJsIiwiJGxvY2F0aW9uTWluRXJyIiwiJCRjb21wb3NlIiwiJCR1cmwiLCIkJGFic1VybCIsIiQkcGFyc2VMaW5rVXJsIiwicmVsSHJlZiIsImFwcFVybCIsInByZXZBcHBVcmwiLCJyZXdyaXR0ZW5VcmwiLCJMb2NhdGlvbkhhc2hiYW5nVXJsIiwiaGFzaFByZWZpeCIsInJlbW92ZVdpbmRvd3NEcml2ZU5hbWUiLCJiYXNlIiwiZmlyc3RQYXRoU2VnbWVudE1hdGNoIiwid2luZG93c0ZpbGVQYXRoRXhwIiwid2l0aG91dEhhc2hVcmwiLCJ3aXRob3V0QmFzZVVybCIsIkxvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsIiwibG9jYXRpb25HZXR0ZXIiLCJsb2NhdGlvbkdldHRlclNldHRlciIsInByZXByb2Nlc3MiLCJodG1sNU1vZGUiLCJyZXF1aXJlQmFzZSIsInJld3JpdGVMaW5rcyIsInNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2siLCJvbGRVcmwiLCJvbGRTdGF0ZSIsIiQkc3RhdGUiLCJhZnRlckxvY2F0aW9uQ2hhbmdlIiwiJGJyb2FkY2FzdCIsImFic1VybCIsIkxvY2F0aW9uTW9kZSIsImluaXRpYWxVcmwiLCJJR05PUkVfVVJJX1JFR0VYUCIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hpZnRLZXkiLCJ3aGljaCIsImJ1dHRvbiIsImFic0hyZWYiLCJwcmV2ZW50RGVmYXVsdCIsImluaXRpYWxpemluZyIsIm5ld1VybCIsIm5ld1N0YXRlIiwiJGRpZ2VzdCIsImN1cnJlbnRSZXBsYWNlIiwiJCRyZXBsYWNlIiwidXJsT3JTdGF0ZUNoYW5nZWQiLCJkZWJ1ZyIsImRlYnVnRW5hYmxlZCIsImZsYWciLCJmb3JtYXRFcnJvciIsInNvdXJjZVVSTCIsImNvbnNvbGVMb2ciLCJjb25zb2xlIiwibG9nRm4iLCJsb2ciLCJoYXNBcHBseSIsImFyZzEiLCJhcmcyIiwid2FybiIsImVuc3VyZVNhZmVNZW1iZXJOYW1lIiwiZnVsbEV4cHJlc3Npb24iLCIkcGFyc2VNaW5FcnIiLCJnZXRTdHJpbmdWYWx1ZSIsImVuc3VyZVNhZmVPYmplY3QiLCJjaGlsZHJlbiIsImVuc3VyZVNhZmVGdW5jdGlvbiIsIkNBTEwiLCJBUFBMWSIsIkJJTkQiLCJlbnN1cmVTYWZlQXNzaWduQ29udGV4dCIsImlmRGVmaW5lZCIsInBsdXNGbiIsInIiLCJpc1N0YXRlbGVzcyIsImZpbHRlck5hbWUiLCJmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zIiwiYXN0IiwiYWxsQ29uc3RhbnRzIiwiYXJnc1RvV2F0Y2giLCJBU1QiLCJQcm9ncmFtIiwiZXhwciIsIkxpdGVyYWwiLCJ0b1dhdGNoIiwiVW5hcnlFeHByZXNzaW9uIiwiYXJndW1lbnQiLCJCaW5hcnlFeHByZXNzaW9uIiwibGVmdCIsInJpZ2h0IiwiTG9naWNhbEV4cHJlc3Npb24iLCJDb25kaXRpb25hbEV4cHJlc3Npb24iLCJhbHRlcm5hdGUiLCJjb25zZXF1ZW50IiwiSWRlbnRpZmllciIsIk1lbWJlckV4cHJlc3Npb24iLCJvYmplY3QiLCJjb21wdXRlZCIsIkNhbGxFeHByZXNzaW9uIiwiY2FsbGVlIiwiQXNzaWdubWVudEV4cHJlc3Npb24iLCJBcnJheUV4cHJlc3Npb24iLCJPYmplY3RFeHByZXNzaW9uIiwicHJvcGVydGllcyIsIlRoaXNFeHByZXNzaW9uIiwiTG9jYWxzRXhwcmVzc2lvbiIsImdldElucHV0cyIsImxhc3RFeHByZXNzaW9uIiwiaXNBc3NpZ25hYmxlIiwiYXNzaWduYWJsZUFTVCIsIk5HVmFsdWVQYXJhbWV0ZXIiLCJvcGVyYXRvciIsImlzTGl0ZXJhbCIsImlzQ29uc3RhbnQiLCJBU1RDb21waWxlciIsImFzdEJ1aWxkZXIiLCJBU1RJbnRlcnByZXRlciIsImlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lIiwiZ2V0VmFsdWVPZiIsIm9iamVjdFZhbHVlT2YiLCJpZGVudFN0YXJ0IiwiaWRlbnRDb250aW51ZSIsImNhY2hlRGVmYXVsdCIsImNhY2hlRXhwZW5zaXZlIiwibGl0ZXJhbHMiLCJ0cnVlIiwiZmFsc2UiLCJudWxsIiwiYWRkTGl0ZXJhbCIsImxpdGVyYWxOYW1lIiwibGl0ZXJhbFZhbHVlIiwic2V0SWRlbnRpZmllckZucyIsImlkZW50aWZpZXJTdGFydCIsImlkZW50aWZpZXJDb250aW51ZSIsImludGVyY2VwdG9yRm4iLCJleHBlbnNpdmVDaGVja3MiLCJwYXJzZWRFeHByZXNzaW9uIiwib25lVGltZSIsImNhY2hlS2V5IiwicnVubmluZ0NoZWNrc0VuYWJsZWQiLCJwYXJzZU9wdGlvbnMiLCIkcGFyc2VPcHRpb25zRXhwZW5zaXZlIiwiJHBhcnNlT3B0aW9ucyIsImxleGVyIiwiTGV4ZXIiLCJwYXJzZXIiLCJQYXJzZXIiLCJvbmVUaW1lTGl0ZXJhbFdhdGNoRGVsZWdhdGUiLCJvbmVUaW1lV2F0Y2hEZWxlZ2F0ZSIsImlucHV0cyIsImlucHV0c1dhdGNoRGVsZWdhdGUiLCJleHBlbnNpdmVDaGVja3NJbnRlcmNlcHRvciIsImFkZEludGVyY2VwdG9yIiwiZXhwZW5zaXZlQ2hlY2tGbiIsImV4cGVuc2l2ZUNoZWNrT2xkVmFsdWUiLCJleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrIiwib2xkVmFsdWVPZlZhbHVlIiwicHJldHR5UHJpbnRFeHByZXNzaW9uIiwibGFzdFJlc3VsdCIsImlucHV0RXhwcmVzc2lvbnMiLCJvbGRJbnB1dFZhbHVlT2YiLCJuZXdJbnB1dFZhbHVlIiwib2xkSW5wdXRWYWx1ZU9mVmFsdWVzIiwib2xkSW5wdXRWYWx1ZXMiLCJjaGFuZ2VkIiwib2xkIiwiaXNBbGxEZWZpbmVkIiwiYWxsRGVmaW5lZCIsIndhdGNoRGVsZWdhdGUiLCJ1c2VJbnB1dHMiLCJyZWd1bGFyV2F0Y2giLCJub1Vuc2FmZUV2YWwiLCJpc0lkZW50aWZpZXJTdGFydCIsImlzSWRlbnRpZmllckNvbnRpbnVlIiwiJCRydW5uaW5nRXhwZW5zaXZlQ2hlY2tzIiwicUZhY3RvcnkiLCJuZXh0VGljayIsImV4Y2VwdGlvbkhhbmRsZXIiLCJQcm9taXNlIiwic2ltcGxlQmluZCIsInByb2Nlc3NRdWV1ZSIsInBlbmRpbmciLCJwcm9jZXNzU2NoZWR1bGVkIiwic2NoZWR1bGVQcm9jZXNzUXVldWUiLCJEZWZlcnJlZCIsInByb21pc2VzIiwicmVzdWx0cyIsIiRxTWluRXJyIiwiVHlwZUVycm9yIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwicHJvZ3Jlc3NCYWNrIiwiY2F0Y2giLCJmaW5hbGx5IiwiaGFuZGxlQ2FsbGJhY2siLCIkJHJlamVjdCIsIiQkcmVzb2x2ZSIsInRoYXQiLCJyZWplY3RQcm9taXNlIiwicHJvZ3Jlc3MiLCJtYWtlUHJvbWlzZSIsInJlc29sdmVkIiwiaXNSZXNvbHZlZCIsImNhbGxiYWNrT3V0cHV0IiwiZXJyYmFjayIsIiRRIiwicmVzb2x2ZXIiLCJyZXNvbHZlRm4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmFmU3VwcG9ydGVkIiwicmFmIiwidGltZXIiLCJzdXBwb3J0ZWQiLCJjcmVhdGVDaGlsZFNjb3BlQ2xhc3MiLCJDaGlsZFNjb3BlIiwiJCR3YXRjaGVycyIsIiQkbmV4dFNpYmxpbmciLCIkJGNoaWxkSGVhZCIsIiQkY2hpbGRUYWlsIiwiJCRsaXN0ZW5lcnMiLCIkJGxpc3RlbmVyQ291bnQiLCIkJHdhdGNoZXJzQ291bnQiLCIkaWQiLCIkJENoaWxkU2NvcGUiLCIkcm9vdFNjb3BlTWluRXJyIiwibGFzdERpcnR5V2F0Y2giLCJhcHBseUFzeW5jSWQiLCJkaWdlc3RUdGwiLCJkZXN0cm95Q2hpbGRTY29wZSIsIiRldmVudCIsImN1cnJlbnRTY29wZSIsImNsZWFuVXBTY29wZSIsIiQkcHJldlNpYmxpbmciLCIkcm9vdCIsIlNjb3BlIiwiYmVnaW5QaGFzZSIsInBoYXNlIiwiY2xlYXJQaGFzZSIsImluY3JlbWVudFdhdGNoZXJzQ291bnQiLCJkZWNyZW1lbnRMaXN0ZW5lckNvdW50IiwiaW5pdFdhdGNoVmFsIiwiZmx1c2hBcHBseUFzeW5jIiwiYXBwbHlBc3luY1F1ZXVlIiwic2NoZWR1bGVBcHBseUFzeW5jIiwiaXNvbGF0ZSIsImNoaWxkIiwid2F0Y2hFeHAiLCJ3YXRjaGVyIiwiZXEiLCJ3YXRjaEV4cHJlc3Npb25zIiwid2F0Y2hHcm91cEFjdGlvbiIsImNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkIiwiZmlyc3RSdW4iLCJuZXdWYWx1ZXMiLCJkZXJlZ2lzdGVyRm5zIiwic2hvdWxkQ2FsbCIsInVud2F0Y2hGbiIsIiR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvciIsIl92YWx1ZSIsIm5ld0xlbmd0aCIsImJvdGhOYU4iLCJuZXdJdGVtIiwib2xkSXRlbSIsImludGVybmFsQXJyYXkiLCJvbGRMZW5ndGgiLCJjaGFuZ2VEZXRlY3RlZCIsImludGVybmFsT2JqZWN0IiwiJHdhdGNoQ29sbGVjdGlvbkFjdGlvbiIsImluaXRSdW4iLCJ2ZXJ5T2xkVmFsdWUiLCJ0cmFja1ZlcnlPbGRWYWx1ZSIsImNoYW5nZURldGVjdG9yIiwid2F0Y2giLCJ3YXRjaGVycyIsImRpcnR5IiwibmV4dCIsImxvZ0lkeCIsImFzeW5jVGFzayIsInR0bCIsIndhdGNoTG9nIiwiYXN5bmNRdWV1ZSIsIiRldmFsIiwidHJhdmVyc2VTY29wZXNMb29wIiwibXNnIiwicG9zdERpZ2VzdFF1ZXVlIiwiZXZlbnROYW1lIiwiJGFwcGx5QXN5bmNFeHByZXNzaW9uIiwibmFtZWRMaXN0ZW5lcnMiLCJpbmRleE9mTGlzdGVuZXIiLCIkZW1pdCIsInRhcmdldFNjb3BlIiwibGlzdGVuZXJBcmdzIiwiJCRhc3luY1F1ZXVlIiwiJCRwb3N0RGlnZXN0UXVldWUiLCIkJGFwcGx5QXN5bmNRdWV1ZSIsInVyaSIsImlzSW1hZ2UiLCJub3JtYWxpemVkVmFsIiwicmVnZXgiLCJhZGp1c3RNYXRjaGVyIiwibWF0Y2hlciIsIiRzY2VNaW5FcnIiLCJlc2NhcGVGb3JSZWdleHAiLCJhZGp1c3RNYXRjaGVycyIsIm1hdGNoZXJzIiwiYWRqdXN0ZWRNYXRjaGVycyIsIlNDRV9DT05URVhUUyIsInJlc291cmNlVXJsV2hpdGVsaXN0IiwicmVzb3VyY2VVcmxCbGFja2xpc3QiLCJtYXRjaFVybCIsImlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kiLCJhbGxvd2VkIiwiZ2VuZXJhdGVIb2xkZXJUeXBlIiwiQmFzZSIsImhvbGRlclR5cGUiLCJ0cnVzdGVkVmFsdWUiLCIkJHVud3JhcFRydXN0ZWRWYWx1ZSIsInRydXN0QXMiLCJDb25zdHJ1Y3RvciIsImJ5VHlwZSIsIm1heWJlVHJ1c3RlZCIsInRydXN0ZWRWYWx1ZUhvbGRlckJhc2UiLCJodG1sU2FuaXRpemVyIiwiQ1NTIiwiVVJMIiwiSlMiLCJzY2UiLCJpc0VuYWJsZWQiLCJwYXJzZUFzIiwiZW51bVZhbHVlIiwibE5hbWUiLCJ2ZW5kb3JQcmVmaXgiLCJldmVudFN1cHBvcnQiLCJpc0Nocm9tZVBhY2thZ2VkQXBwIiwiY2hyb21lIiwiYXBwIiwicnVudGltZSIsImhhc0hpc3RvcnlQdXNoU3RhdGUiLCJwdXNoU3RhdGUiLCJhbmRyb2lkIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiYm94ZWUiLCJ2ZW5kb3JSZWdleCIsImJvZHlTdHlsZSIsInRyYW5zaXRpb25zIiwiYW5pbWF0aW9ucyIsIndlYmtpdFRyYW5zaXRpb24iLCJ3ZWJraXRBbmltYXRpb24iLCJoYXNFdmVudCIsImRpdkVsbSIsImh0dHBPcHRpb25zIiwiaGFuZGxlUmVxdWVzdEZuIiwidHBsIiwiaWdub3JlUmVxdWVzdEVycm9yIiwiaGFuZGxlRXJyb3IiLCIkdGVtcGxhdGVSZXF1ZXN0TWluRXJyIiwidG90YWxQZW5kaW5nUmVxdWVzdHMiLCJnZXRUcnVzdGVkUmVzb3VyY2VVcmwiLCJ0cmFuc2Zvcm1lciIsInRlc3RhYmlsaXR5IiwiZmluZEJpbmRpbmdzIiwib3B0X2V4YWN0TWF0Y2giLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibWF0Y2hlcyIsImRhdGFCaW5kaW5nIiwiYmluZGluZ05hbWUiLCJmaW5kTW9kZWxzIiwicHJlZml4ZXMiLCJhdHRyaWJ1dGVFcXVhbHMiLCJnZXRMb2NhdGlvbiIsInNldExvY2F0aW9uIiwid2hlblN0YWJsZSIsImRlZmVycmVkcyIsIiQkdGltZW91dElkIiwidXJsUGFyc2luZ05vZGUiLCJyZXF1ZXN0VXJsIiwib3JpZ2luVXJsIiwiJCRDb29raWVSZWFkZXIiLCJzYWZlRGVjb2RlVVJJQ29tcG9uZW50IiwibGFzdENvb2tpZXMiLCJsYXN0Q29va2llU3RyaW5nIiwiY29va2llQXJyYXkiLCJjb29raWUiLCJjdXJyZW50Q29va2llU3RyaW5nIiwiZmlsdGVycyIsInN1ZmZpeCIsImN1cnJlbmN5RmlsdGVyIiwiZGF0ZUZpbHRlciIsImZpbHRlckZpbHRlciIsImpzb25GaWx0ZXIiLCJsaW1pdFRvRmlsdGVyIiwibG93ZXJjYXNlRmlsdGVyIiwibnVtYmVyRmlsdGVyIiwib3JkZXJCeUZpbHRlciIsInVwcGVyY2FzZUZpbHRlciIsImNvbXBhcmF0b3IiLCJwcmVkaWNhdGVGbiIsIm1hdGNoQWdhaW5zdEFueVByb3AiLCJleHByZXNzaW9uVHlwZSIsImdldFR5cGVGb3JGaWx0ZXIiLCJjcmVhdGVQcmVkaWNhdGVGbiIsInNob3VsZE1hdGNoUHJpbWl0aXZlcyIsImFjdHVhbCIsImV4cGVjdGVkIiwiZGVlcENvbXBhcmUiLCJkb250TWF0Y2hXaG9sZU9iamVjdCIsImFjdHVhbFR5cGUiLCJleHBlY3RlZFR5cGUiLCJleHBlY3RlZFZhbCIsIm1hdGNoQW55UHJvcGVydHkiLCJhY3R1YWxWYWwiLCIkbG9jYWxlIiwiZm9ybWF0cyIsIk5VTUJFUl9GT1JNQVRTIiwiYW1vdW50IiwiY3VycmVuY3lTeW1ib2wiLCJmcmFjdGlvblNpemUiLCJDVVJSRU5DWV9TWU0iLCJQQVRURVJOUyIsIm1heEZyYWMiLCJmb3JtYXROdW1iZXIiLCJHUk9VUF9TRVAiLCJERUNJTUFMX1NFUCIsIm51bWJlciIsIm51bVN0ciIsImRpZ2l0cyIsIm51bWJlck9mSW50ZWdlckRpZ2l0cyIsInplcm9zIiwiZXhwb25lbnQiLCJaRVJPX0NIQVIiLCJNQVhfRElHSVRTIiwicm91bmROdW1iZXIiLCJwYXJzZWROdW1iZXIiLCJtaW5GcmFjIiwiZnJhY3Rpb25MZW4iLCJtaW4iLCJyb3VuZEF0IiwiZGlnaXQiLCJrIiwiY2FycnkiLCJyZWR1Y2VSaWdodCIsImdyb3VwU2VwIiwiZGVjaW1hbFNlcCIsImlzSW5maW5pdHkiLCJpc0Zpbml0ZSIsImlzWmVybyIsImFicyIsImZvcm1hdHRlZFRleHQiLCJpbnRlZ2VyTGVuIiwiZGVjaW1hbHMiLCJyZWR1Y2UiLCJncm91cHMiLCJsZ1NpemUiLCJnU2l6ZSIsIm5lZ1ByZSIsIm5lZ1N1ZiIsInBvc1ByZSIsInBvc1N1ZiIsInBhZE51bWJlciIsIm51bSIsIm5lZ1dyYXAiLCJuZWciLCJkYXRlR2V0dGVyIiwiZGF0ZVN0ckdldHRlciIsInNob3J0Rm9ybSIsInN0YW5kQWxvbmUiLCJwcm9wUHJlZml4IiwidGltZVpvbmVHZXR0ZXIiLCJ6b25lIiwicGFkZGVkWm9uZSIsImdldEZpcnN0VGh1cnNkYXlPZlllYXIiLCJ5ZWFyIiwiZGF5T2ZXZWVrT25GaXJzdCIsImdldERheSIsImdldFRodXJzZGF5VGhpc1dlZWsiLCJkYXRldGltZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwid2Vla0dldHRlciIsImZpcnN0VGh1cnMiLCJ0aGlzVGh1cnMiLCJyb3VuZCIsImFtcG1HZXR0ZXIiLCJnZXRIb3VycyIsIkFNUE1TIiwiZXJhR2V0dGVyIiwiRVJBUyIsImxvbmdFcmFHZXR0ZXIiLCJFUkFOQU1FUyIsImpzb25TdHJpbmdUb0RhdGUiLCJzdHJpbmciLCJSX0lTTzg2MDFfU1RSIiwidHpIb3VyIiwidHpNaW4iLCJkYXRlU2V0dGVyIiwic2V0VVRDRnVsbFllYXIiLCJzZXRGdWxsWWVhciIsInRpbWVTZXR0ZXIiLCJzZXRVVENIb3VycyIsInNldEhvdXJzIiwibSIsInMiLCJtcyIsInBhcnNlRmxvYXQiLCJmb3JtYXQiLCJEQVRFVElNRV9GT1JNQVRTIiwiTlVNQkVSX1NUUklORyIsIkRBVEVfRk9STUFUU19TUExJVCIsIkRBVEVfRk9STUFUUyIsInNwYWNpbmciLCJsaW1pdCIsIkluZmluaXR5IiwicHJvY2Vzc1ByZWRpY2F0ZXMiLCJzb3J0UHJlZGljYXRlIiwicmV2ZXJzZU9yZGVyIiwibWFwIiwicHJlZGljYXRlIiwiZGVzY2VuZGluZyIsIm9iamVjdFZhbHVlIiwiZ2V0UHJlZGljYXRlVmFsdWUiLCJ2MSIsInYyIiwiZ2V0Q29tcGFyaXNvbk9iamVjdCIsInByZWRpY2F0ZVZhbHVlcyIsInByZWRpY2F0ZXMiLCJkb0NvbXBhcmlzb24iLCJjb21wYXJlVmFsdWVzIiwibmdEaXJlY3RpdmUiLCJudWxsRm9ybVJlbmFtZUNvbnRyb2wiLCJjb250cm9sIiwiJG5hbWUiLCJGb3JtQ29udHJvbGxlciIsImNvbnRyb2xzIiwiJGVycm9yIiwiJCRzdWNjZXNzIiwiJHBlbmRpbmciLCIkZGlydHkiLCIkcHJpc3RpbmUiLCIkdmFsaWQiLCIkaW52YWxpZCIsIiRzdWJtaXR0ZWQiLCIkJHBhcmVudEZvcm0iLCJudWxsRm9ybUN0cmwiLCIkcm9sbGJhY2tWaWV3VmFsdWUiLCIkY29tbWl0Vmlld1ZhbHVlIiwiJGFkZENvbnRyb2wiLCIkJHJlbmFtZUNvbnRyb2wiLCJuZXdOYW1lIiwib2xkTmFtZSIsIiRyZW1vdmVDb250cm9sIiwiJHNldFZhbGlkaXR5IiwiYWRkU2V0VmFsaWRpdHlNZXRob2QiLCJjdHJsIiwidW5zZXQiLCIkc2V0RGlydHkiLCJQUklTVElORV9DTEFTUyIsIkRJUlRZX0NMQVNTIiwiJHNldFByaXN0aW5lIiwic2V0Q2xhc3MiLCJTVUJNSVRURURfQ0xBU1MiLCIkc2V0VW50b3VjaGVkIiwiJHNldFN1Ym1pdHRlZCIsInN0cmluZ0Jhc2VkSW5wdXRUeXBlIiwiJGZvcm1hdHRlcnMiLCIkaXNFbXB0eSIsInRleHRJbnB1dFR5cGUiLCJiYXNlSW5wdXRUeXBlIiwiY29tcG9zaW5nIiwiZXYiLCJuZ1RyaW0iLCIkdmlld1ZhbHVlIiwiJCRoYXNOYXRpdmVWYWxpZGF0b3JzIiwiJHNldFZpZXdWYWx1ZSIsImRlZmVyTGlzdGVuZXIiLCJvcmlnVmFsdWUiLCJrZXlDb2RlIiwiUEFSVElBTF9WQUxJREFUSU9OX1RZUEVTIiwiUEFSVElBTF9WQUxJREFUSU9OX0VWRU5UUyIsInZhbGlkaXR5IiwiVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkiLCJvcmlnQmFkSW5wdXQiLCJiYWRJbnB1dCIsIm9yaWdUeXBlTWlzbWF0Y2giLCJ0eXBlTWlzbWF0Y2giLCIkcmVuZGVyIiwid2Vla1BhcnNlciIsImlzb1dlZWsiLCJleGlzdGluZ0RhdGUiLCJXRUVLX1JFR0VYUCIsIndlZWsiLCJob3VycyIsInNlY29uZHMiLCJtaWxsaXNlY29uZHMiLCJhZGREYXlzIiwiZ2V0U2Vjb25kcyIsImdldE1pbGxpc2Vjb25kcyIsIk5hTiIsImNyZWF0ZURhdGVQYXJzZXIiLCJtYXBwaW5nIiwiaXNvIiwiSVNPX0RBVEVfUkVHRVhQIiwieXl5eSIsIk1NIiwiZGQiLCJISCIsIm1tIiwic3MiLCJzc3MiLCJwYXJ0IiwiY3JlYXRlRGF0ZUlucHV0VHlwZSIsInBhcnNlRGF0ZSIsImlzVmFsaWREYXRlIiwicGFyc2VPYnNlcnZlZERhdGVWYWx1ZSIsImJhZElucHV0Q2hlY2tlciIsInByZXZpb3VzRGF0ZSIsIiRvcHRpb25zIiwiJCRwYXJzZXJOYW1lIiwiJHBhcnNlcnMiLCJwYXJzZWREYXRlIiwibmdNb2RlbE1pbkVyciIsIm5nTWluIiwibWluVmFsIiwiJHZhbGlkYXRvcnMiLCIkdmFsaWRhdGUiLCJuZ01heCIsIm1heFZhbCIsIm5hdGl2ZVZhbGlkYXRpb24iLCJudW1iZXJJbnB1dFR5cGUiLCJOVU1CRVJfUkVHRVhQIiwidXJsSW5wdXRUeXBlIiwibW9kZWxWYWx1ZSIsInZpZXdWYWx1ZSIsIlVSTF9SRUdFWFAiLCJlbWFpbElucHV0VHlwZSIsImVtYWlsIiwiRU1BSUxfUkVHRVhQIiwicmFkaW9JbnB1dFR5cGUiLCJjaGVja2VkIiwicGFyc2VDb25zdGFudEV4cHIiLCJwYXJzZUZuIiwiY2hlY2tib3hJbnB1dFR5cGUiLCJ0cnVlVmFsdWUiLCJuZ1RydWVWYWx1ZSIsImZhbHNlVmFsdWUiLCJuZ0ZhbHNlVmFsdWUiLCJjbGFzc0RpcmVjdGl2ZSIsImFycmF5RGlmZmVyZW5jZSIsImFycmF5Q2xhc3NlcyIsImFkZENsYXNzZXMiLCJkaWdlc3RDbGFzc0NvdW50cyIsInJlbW92ZUNsYXNzZXMiLCJjbGFzc0NvdW50cyIsImNsYXNzZXNUb1VwZGF0ZSIsInVwZGF0ZUNsYXNzZXMiLCJuZ0NsYXNzV2F0Y2hBY3Rpb24iLCIkaW5kZXgiLCJvbGQkaW5kZXgiLCJtb2QiLCJzZXRWYWxpZGl0eSIsInZhbGlkYXRpb25FcnJvcktleSIsImNyZWF0ZUFuZFNldCIsInVuc2V0QW5kQ2xlYW51cCIsImNhY2hlZFRvZ2dsZUNsYXNzIiwiUEVORElOR19DTEFTUyIsInRvZ2dsZVZhbGlkYXRpb25Dc3MiLCJpc09iamVjdEVtcHR5IiwiY29tYmluZWRTdGF0ZSIsInN3aXRjaFZhbHVlIiwiY2xhc3NDYWNoZSIsImlzVmFsaWQiLCJWQUxJRF9DTEFTUyIsIklOVkFMSURfQ0xBU1MiLCJjaHJvbWVIYWNrIiwib3B0aW9uRWxlbWVudCIsInNlbGVjdGVkIiwiUkVHRVhfU1RSSU5HX1JFR0VYUCIsIm1hbnVhbExvd2VyY2FzZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJtYW51YWxVcHBlcmNhc2UiLCJkb2N1bWVudE1vZGUiLCJydWxlcyIsIm5nQ3NwRWxlbWVudCIsIm5nQ3NwQXR0cmlidXRlIiwibm9JbmxpbmVTdHlsZSIsIm5hbWVfIiwiZWwiLCJOT0RFX1RZUEVfQVRUUklCVVRFIiwiZnVsbCIsIm1ham9yIiwibWlub3IiLCJkb3QiLCJjb2RlTmFtZSIsImV4cGFuZG8iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibW91c2VsZWF2ZSIsIm1vdXNlZW50ZXIiLCJ0aGVhZCIsImNvbCIsInRyIiwidGQiLCJvcHRncm91cCIsInRib2R5IiwidGZvb3QiLCJjb2xncm91cCIsImNhcHRpb24iLCJ0aCIsIk5vZGUiLCJjb250YWlucyIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwicmVhZHkiLCJ0cmlnZ2VyIiwiZmlyZWQiLCJyZW1vdmVEYXRhIiwicmVtb3ZlQXR0cmlidXRlIiwiY3NzIiwibG93ZXJjYXNlZE5hbWUiLCJnZXROYW1lZEl0ZW0iLCJzcGVjaWZpZWQiLCJyZXQiLCJnZXRUZXh0IiwiJGR2IiwibXVsdGlwbGUiLCJub2RlQ291bnQiLCJ0eXBlcyIsImFkZEhhbmRsZXIiLCJub0V2ZW50TGlzdGVuZXIiLCJvbmUiLCJvbkZuIiwicmVwbGFjZU5vZGUiLCJpbnNlcnRCZWZvcmUiLCJjb250ZW50RG9jdW1lbnQiLCJwcmVwZW5kIiwid3JhcE5vZGUiLCJkZXRhY2giLCJhZnRlciIsIm5ld0VsZW1lbnQiLCJ0b2dnbGVDbGFzcyIsImNvbmRpdGlvbiIsImNsYXNzQ29uZGl0aW9uIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJleHRyYVBhcmFtZXRlcnMiLCJkdW1teUV2ZW50IiwiZXZlbnRGbnNDb3B5IiwiaGFuZGxlckFyZ3MiLCJhcmczIiwidW5iaW5kIiwiJGFuaW1hdGVNaW5FcnIiLCJOR19BTklNQVRFX0NMQVNTTkFNRSIsInBvc3REaWdlc3RFbGVtZW50cyIsInVwZGF0ZURhdGEiLCJoYW5kbGVDU1NDbGFzc0NoYW5nZXMiLCJleGlzdGluZyIsImFkZFJlbW92ZUNsYXNzZXNQb3N0RGlnZXN0IiwiYWRkIiwiY2xhc3Nlc0FkZGVkIiwiY2xhc3Nlc1JlbW92ZWQiLCJwaW4iLCJkb21PcGVyYXRpb24iLCJmcm9tIiwidG8iLCJydW5uZXIiLCJjb21wbGV0ZSIsIiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnMiLCJjbGFzc05hbWVGaWx0ZXIiLCIkJGNsYXNzTmFtZUZpbHRlciIsInJlc2VydmVkUmVnZXgiLCJkb21JbnNlcnQiLCJhZnRlckVsZW1lbnQiLCJhZnRlck5vZGUiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiZW5kIiwiZW50ZXIiLCJtb3ZlIiwibGVhdmUiLCJhZGRjbGFzcyIsImFuaW1hdGUiLCJ0ZW1wQ2xhc3NlcyIsIndhaXRGb3JUaWNrIiwid2FpdFF1ZXVlIiwicGFzc2VkIiwiQW5pbWF0ZVJ1bm5lciIsInNldEhvc3QiLCJyYWZUaWNrIiwidGltZW91dFRpY2siLCJfZG9uZUNhbGxiYWNrcyIsIl90aWNrIiwiZG9jIiwiaGlkZGVuIiwiX3N0YXRlIiwiSU5JVElBTF9TVEFURSIsIkRPTkVfUEVORElOR19TVEFURSIsIkRPTkVfQ09NUExFVEVfU1RBVEUiLCJydW5uZXJzIiwib25Qcm9ncmVzcyIsImdldFByb21pc2UiLCJyZXNvbHZlSGFuZGxlciIsInJlamVjdEhhbmRsZXIiLCJwYXVzZSIsInJlc3VtZSIsIl9yZXNvbHZlIiwiaW5pdGlhbE9wdGlvbnMiLCJhcHBseUFuaW1hdGlvbkNvbnRlbnRzIiwiY2xvc2VkIiwiJCRwcmVwYXJlZCIsImNsZWFudXBTdHlsZXMiLCJzdGFydCIsImlzRmlyc3RDaGFuZ2UiLCJvZmZzZXRXaWR0aCIsIkNvbnRlbnQtVHlwZSIsIlsiLCJ7IiwiJGh0dHBNaW5FcnIiLCJQQVRIX01BVENIIiwiaHR0cCIsImh0dHBzIiwiZnRwIiwibG9jYXRpb25Qcm90b3R5cGUiLCJwYXJhbVZhbHVlIiwiTG9jYXRpb24iLCJPUEVSQVRPUlMiLCJFU0NBUEUiLCJmIiwidCIsIiciLCJcIiIsImxleCIsInRva2VucyIsInJlYWRTdHJpbmciLCJwZWVrIiwicmVhZE51bWJlciIsInBlZWtNdWx0aWNoYXIiLCJyZWFkSWRlbnQiLCJpcyIsImlzV2hpdGVzcGFjZSIsImNoMiIsImNoMyIsIm9wMSIsIm9wMiIsIm9wMyIsInRocm93RXJyb3IiLCJjaGFycyIsImNvZGVQb2ludEF0IiwiaXNWYWxpZElkZW50aWZpZXJTdGFydCIsImlzVmFsaWRJZGVudGlmaWVyQ29udGludWUiLCJjcCIsImNwMSIsImNwMiIsImlzRXhwT3BlcmF0b3IiLCJjb2xTdHIiLCJwZWVrQ2giLCJxdW90ZSIsInJhd1N0cmluZyIsImhleCIsInJlcCIsIkV4cHJlc3Npb25TdGF0ZW1lbnQiLCJQcm9wZXJ0eSIsInByb2dyYW0iLCJleHByZXNzaW9uU3RhdGVtZW50IiwiZXhwZWN0IiwiZmlsdGVyQ2hhaW4iLCJhc3NpZ25tZW50IiwidGVybmFyeSIsImxvZ2ljYWxPUiIsImNvbnN1bWUiLCJsb2dpY2FsQU5EIiwiZXF1YWxpdHkiLCJyZWxhdGlvbmFsIiwiYWRkaXRpdmUiLCJtdWx0aXBsaWNhdGl2ZSIsInVuYXJ5IiwicHJpbWFyeSIsImFycmF5RGVjbGFyYXRpb24iLCJzZWxmUmVmZXJlbnRpYWwiLCJwYXJzZUFyZ3VtZW50cyIsImJhc2VFeHByZXNzaW9uIiwicGVla1Rva2VuIiwia2luZCIsImUxIiwiZTIiLCJlMyIsImU0IiwicGVla0FoZWFkIiwiJGxvY2FscyIsIm5leHRJZCIsInZhcnMiLCJvd24iLCJhc3NpZ25hYmxlIiwic3RhZ2UiLCJjb21wdXRpbmciLCJyZWN1cnNlIiwicmV0dXJuXyIsImdlbmVyYXRlRnVuY3Rpb24iLCJmbktleSIsImludG9JZCIsIndhdGNoSWQiLCJmblN0cmluZyIsIlVTRSIsIlNUUklDVCIsImZpbHRlclByZWZpeCIsIndhdGNoRm5zIiwidmFyc1ByZWZpeCIsInNlY3Rpb24iLCJuYW1lSWQiLCJyZWN1cnNpb25GbiIsInNraXBXYXRjaElkQ2hlY2siLCJpZl8iLCJsYXp5QXNzaWduIiwiY29tcHV0ZWRNZW1iZXIiLCJsYXp5UmVjdXJzZSIsInBsdXMiLCJub3QiLCJnZXRIYXNPd25Qcm9wZXJ0eSIsIm5vbkNvbXB1dGVkTWVtYmVyIiwiYWRkRW5zdXJlU2FmZU9iamVjdCIsIm5vdE51bGwiLCJhZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dCIsImFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lIiwiYWRkRW5zdXJlU2FmZUZ1bmN0aW9uIiwibWVtYmVyIiwiZGVmYXVsdFZhbHVlIiwiU0FGRV9JREVOVElGSUVSIiwiVU5TQUZFX0NIQVJBQ1RFUlMiLCJzdHJpbmdFc2NhcGVGbiIsInN0cmluZ0VzY2FwZVJlZ2V4IiwiYyIsInNraXAiLCJpbml0IiwicmhzIiwibGhzIiwidW5hcnkrIiwidW5hcnktIiwidW5hcnkhIiwiYmluYXJ5KyIsImJpbmFyeS0iLCJiaW5hcnkqIiwiYmluYXJ5LyIsImJpbmFyeSUiLCJiaW5hcnk9PT0iLCJiaW5hcnkhPT0iLCJiaW5hcnk9PSIsImJpbmFyeSE9IiwiYmluYXJ5PCIsImJpbmFyeT4iLCJiaW5hcnk8PSIsImJpbmFyeT49IiwiYmluYXJ5JiYiLCJiaW5hcnl8fCIsInRlcm5hcnk/OiIsImFzdENvbXBpbGVyIiwieXkiLCJ5IiwiTU1NTSIsIk1NTSIsIk0iLCJMTExMIiwiSCIsImhoIiwiRUVFRSIsIkVFRSIsIloiLCJ3dyIsInciLCJHIiwiR0ciLCJHR0ciLCJHR0dHIiwieGxpbmtIcmVmIiwicHJvcE5hbWUiLCJkZWZhdWx0TGlua0ZuIiwibm9ybWFsaXplZCIsImh0bWxBdHRyIiwiZm9ybURpcmVjdGl2ZUZhY3RvcnkiLCJpc05nRm9ybSIsImdldFNldHRlciIsImZvcm1FbGVtZW50IiwibmFtZUF0dHIiLCJjdHJscyIsImhhbmRsZUZvcm1TdWJtaXNzaW9uIiwicGFyZW50Rm9ybUN0cmwiLCJzZXR0ZXIiLCJEQVRFX1JFR0VYUCIsIkRBVEVUSU1FTE9DQUxfUkVHRVhQIiwiTU9OVEhfUkVHRVhQIiwiVElNRV9SRUdFWFAiLCJpbnB1dFR5cGUiLCJkYXRldGltZS1sb2NhbCIsInRpbWUiLCJtb250aCIsInJhZGlvIiwiY2hlY2tib3giLCJzdWJtaXQiLCJyZXNldCIsImZpbGUiLCJDT05TVEFOVF9WQUxVRV9SRUdFWFAiLCJ0cGxBdHRyIiwiJGNvbXBpbGUiLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJuZ0JpbmRIdG1sR2V0dGVyIiwibmdCaW5kSHRtbFdhdGNoIiwiZ2V0VHJ1c3RlZEh0bWwiLCIkdmlld0NoYW5nZUxpc3RlbmVycyIsImZvcmNlQXN5bmNFdmVudHMiLCJibHVyIiwiZm9jdXMiLCJwcmV2aW91c0VsZW1lbnRzIiwic3JjRXhwIiwib25sb2FkRXhwIiwiYXV0b1Njcm9sbEV4cCIsImF1dG9zY3JvbGwiLCJwcmV2aW91c0VsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsImNoYW5nZUNvdW50ZXIiLCJjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50IiwiYWZ0ZXJBbmltYXRpb24iLCJ0aGlzQ2hhbmdlSWQiLCJ0cmltVmFsdWVzIiwiVU5UT1VDSEVEX0NMQVNTIiwiVE9VQ0hFRF9DTEFTUyIsIkVNUFRZX0NMQVNTIiwiTk9UX0VNUFRZX0NMQVNTIiwiTmdNb2RlbENvbnRyb2xsZXIiLCIkbW9kZWxWYWx1ZSIsIiQkcmF3TW9kZWxWYWx1ZSIsIiRhc3luY1ZhbGlkYXRvcnMiLCIkdW50b3VjaGVkIiwiJHRvdWNoZWQiLCJwYXJzZXJWYWxpZCIsInBhcnNlZE5nTW9kZWwiLCJwYXJzZWROZ01vZGVsQXNzaWduIiwibmdNb2RlbEdldCIsIm5nTW9kZWxTZXQiLCJwZW5kaW5nRGVib3VuY2UiLCIkJHNldE9wdGlvbnMiLCJnZXR0ZXJTZXR0ZXIiLCJpbnZva2VNb2RlbEdldHRlciIsImludm9rZU1vZGVsU2V0dGVyIiwiJCQkcCIsIiQkdXBkYXRlRW1wdHlDbGFzc2VzIiwiY3VycmVudFZhbGlkYXRpb25SdW5JZCIsIiRzZXRUb3VjaGVkIiwiJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlIiwicHJldlZhbGlkIiwicHJldk1vZGVsVmFsdWUiLCJhbGxvd0ludmFsaWQiLCIkJHJ1blZhbGlkYXRvcnMiLCJhbGxWYWxpZCIsIiQkd3JpdGVNb2RlbFRvU2NvcGUiLCJkb25lQ2FsbGJhY2siLCJwcm9jZXNzUGFyc2VFcnJvcnMiLCJlcnJvcktleSIsInByb2Nlc3NTeW5jVmFsaWRhdG9ycyIsInN5bmNWYWxpZGF0b3JzVmFsaWQiLCJ2YWxpZGF0b3IiLCJwcm9jZXNzQXN5bmNWYWxpZGF0b3JzIiwidmFsaWRhdG9yUHJvbWlzZXMiLCJ2YWxpZGF0aW9uRG9uZSIsImxvY2FsVmFsaWRhdGlvblJ1bklkIiwiJCRwYXJzZUFuZFZhbGlkYXRlIiwid3JpdGVUb01vZGVsSWZOZWVkZWQiLCJ1cGRhdGVPbkRlZmF1bHQiLCIkJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0IiwiZGVib3VuY2UiLCJkZWJvdW5jZURlbGF5IiwiZm9ybWF0dGVycyIsIm1vZGVsQ3RybCIsImZvcm1DdHJsIiwidXBkYXRlT24iLCJERUZBVUxUX1JFR0VYUCIsIm5nT3B0aW9uc01pbkVyciIsIk5HX09QVElPTlNfUkVHRVhQIiwicGFyc2VPcHRpb25zRXhwcmVzc2lvbiIsIm9wdGlvbnNFeHAiLCJzZWxlY3RFbGVtZW50IiwiT3B0aW9uIiwic2VsZWN0VmFsdWUiLCJsYWJlbCIsImdyb3VwIiwiZGlzYWJsZWQiLCJnZXRPcHRpb25WYWx1ZXNLZXlzIiwib3B0aW9uVmFsdWVzIiwib3B0aW9uVmFsdWVzS2V5cyIsImtleU5hbWUiLCJpdGVtS2V5IiwidmFsdWVOYW1lIiwic2VsZWN0QXMiLCJ0cmFja0J5Iiwic2VsZWN0QXNGbiIsInZpZXdWYWx1ZUZuIiwidHJhY2tCeUZuIiwiZ2V0VHJhY2tCeVZhbHVlRm4iLCJnZXRUcmFja0J5VmFsdWUiLCJnZXRMb2NhbHMiLCJkaXNwbGF5Rm4iLCJncm91cEJ5Rm4iLCJkaXNhYmxlV2hlbkZuIiwidmFsdWVzRm4iLCJnZXRXYXRjaGFibGVzIiwid2F0Y2hlZEFycmF5Iiwib3B0aW9uVmFsdWVzTGVuZ3RoIiwiZGlzYWJsZVdoZW4iLCJnZXRPcHRpb25zIiwib3B0aW9uSXRlbXMiLCJzZWxlY3RWYWx1ZU1hcCIsIm9wdGlvbkl0ZW0iLCJnZXRPcHRpb25Gcm9tVmlld1ZhbHVlIiwiZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbiIsIm5nT3B0aW9uc1Bvc3RMaW5rIiwiYWRkT3B0aW9uRWxlbWVudCIsIm9wdGlvblRlbXBsYXRlIiwidXBkYXRlT3B0aW9uRWxlbWVudCIsInVwZGF0ZU9wdGlvbnMiLCJzZWxlY3RDdHJsIiwicmVhZFZhbHVlIiwiZ3JvdXBFbGVtZW50TWFwIiwicHJvdmlkZWRFbXB0eU9wdGlvbiIsImVtcHR5T3B0aW9uIiwiZ3JvdXBFbGVtZW50Iiwib3B0R3JvdXBUZW1wbGF0ZSIsImxpc3RGcmFnbWVudCIsIm5nTW9kZWxDdHJsIiwibmV4dFZhbHVlIiwiaXNOb3RQcmltaXRpdmUiLCJ1bmtub3duT3B0aW9uIiwicmVuZGVyRW1wdHlPcHRpb24iLCJyZW1vdmVFbXB0eU9wdGlvbiIsInJlbmRlclVua25vd25PcHRpb24iLCJyZW1vdmVVbmtub3duT3B0aW9uIiwid3JpdGVWYWx1ZSIsInNlbGVjdGVkVmFsdWVzIiwic2VsZWN0aW9ucyIsInNlbGVjdGVkT3B0aW9uIiwicmVnaXN0ZXJPcHRpb24iLCJCUkFDRSIsIklTX1dIRU4iLCJ1cGRhdGVFbGVtZW50VGV4dCIsIm5ld1RleHQiLCJsYXN0Q291bnQiLCJudW1iZXJFeHAiLCJ3aGVuRXhwIiwid2hlbnMiLCJ3aGVuc0V4cEZucyIsImJyYWNlUmVwbGFjZW1lbnQiLCJ3YXRjaFJlbW92ZXIiLCJhdHRyaWJ1dGVOYW1lIiwidG1wTWF0Y2giLCJ3aGVuS2V5IiwiY291bnRJc05hTiIsInBsdXJhbENhdCIsIndoZW5FeHBGbiIsIk5HX1JFTU9WRUQiLCJuZ1JlcGVhdE1pbkVyciIsInVwZGF0ZVNjb3BlIiwidmFsdWVJZGVudGlmaWVyIiwia2V5SWRlbnRpZmllciIsImFycmF5TGVuZ3RoIiwiJGZpcnN0IiwiJGxhc3QiLCIkbWlkZGxlIiwiJG9kZCIsIiRldmVuIiwiZ2V0QmxvY2tTdGFydCIsImdldEJsb2NrRW5kIiwibmdSZXBlYXRFbmRDb21tZW50IiwiYWxpYXNBcyIsInRyYWNrQnlFeHAiLCJ0cmFja0J5RXhwR2V0dGVyIiwidHJhY2tCeUlkRXhwRm4iLCJ0cmFja0J5SWRBcnJheUZuIiwidHJhY2tCeUlkT2JqRm4iLCJoYXNoRm5Mb2NhbHMiLCJsYXN0QmxvY2tNYXAiLCJuZXh0Tm9kZSIsImNvbGxlY3Rpb25MZW5ndGgiLCJ0cmFja0J5SWQiLCJ0cmFja0J5SWRGbiIsImNvbGxlY3Rpb25LZXlzIiwibmV4dEJsb2NrT3JkZXIiLCJwcmV2aW91c05vZGUiLCJuZXh0QmxvY2tNYXAiLCJibG9ja0tleSIsIk5HX0hJREVfQ0xBU1MiLCJOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTIiwibmV3U3R5bGVzIiwib2xkU3R5bGVzIiwiY2FzZXMiLCJuZ1N3aXRjaENvbnRyb2xsZXIiLCJ3YXRjaEV4cHIiLCJzZWxlY3RlZFRyYW5zY2x1ZGVzIiwic2VsZWN0ZWRFbGVtZW50cyIsInByZXZpb3VzTGVhdmVBbmltYXRpb25zIiwic2VsZWN0ZWRTY29wZXMiLCJzcGxpY2VGYWN0b3J5Iiwic2VsZWN0ZWRUcmFuc2NsdWRlIiwiY2FzZUVsZW1lbnQiLCJzZWxlY3RlZFNjb3BlIiwiYW5jaG9yIiwibmdUcmFuc2NsdWRlTWluRXJyIiwibmdUcmFuc2NsdWRlQ2xvbmVBdHRhY2hGbiIsIm5nVHJhbnNjbHVkZVNsb3QiLCJub29wTmdNb2RlbENvbnRyb2xsZXIiLCJTZWxlY3RDb250cm9sbGVyIiwib3B0aW9uc01hcCIsInVua25vd25WYWwiLCJoYXNPcHRpb24iLCJhZGRPcHRpb24iLCJyZW1vdmVPcHRpb24iLCJvcHRpb25TY29wZSIsIm9wdGlvbkF0dHJzIiwiaW50ZXJwb2xhdGVWYWx1ZUZuIiwiaW50ZXJwb2xhdGVUZXh0Rm4iLCJzZWxlY3RQcmVMaW5rIiwibGFzdFZpZXciLCJsYXN0Vmlld1JlZiIsInNlbGVjdFBvc3RMaW5rIiwic2VsZWN0Q3RybE5hbWUiLCJwYXR0ZXJuRXhwIiwiaW50VmFsIiwiZ2V0RGVjaW1hbHMiLCJnZXRWRiIsIm9wdF9wcmVjaXNpb24iLCJwb3ciLCJQTFVSQUxfQ0FURUdPUlkiLCJaRVJPIiwiT05FIiwiVFdPIiwiRkVXIiwiTUFOWSIsIk9USEVSIiwiREFZIiwiRklSU1REQVlPRldFRUsiLCJNT05USCIsIlNIT1JUREFZIiwiU0hPUlRNT05USCIsIlNUQU5EQUxPTkVNT05USCIsIldFRUtFTkRSQU5HRSIsImZ1bGxEYXRlIiwibG9uZ0RhdGUiLCJtZWRpdW0iLCJtZWRpdW1EYXRlIiwibWVkaXVtVGltZSIsInNob3J0Iiwic2hvcnREYXRlIiwic2hvcnRUaW1lIiwibWluSW50IiwibG9jYWxlSUQiLCJ2ZiIsImhlYWQiLCJhcmVhIiwic3RvcmFnZSIsImxvY2FsIiwidG90YWxCeXRlcyIsImdldEJ5dGVzSW5Vc2UiLCJieXRlc0luVXNlIiwibGFzdGVycm9yIiwiZ2V0RGVidWdnaW5nVG90YWxCeXRlc0luVXNlIiwiZ2V0RGVidWdnaW5nQ2FjaGUiLCJnZXREZWJ1Z2dpbmdQZXJjZW50VXNlZCIsInBlcmNlbnQiLCJRVU9UQV9CWVRFUyIsImdldERlYnVnZ2luZ1NpemVPZiIsInVwZGF0ZURlYnVnZ2luZ0NhY2hlIiwidXBkYXRlRGVidWdnaW5nVG90YWxCeXRlcyIsImNsZWFyQ2FjaGUiLCJjbGVhciIsImxhc3RFcnJvciIsImRyb3AiLCJnZXRPckVsc2UiLCJzYXZlT2JqZWN0IiwiZm9yY2VHZXQiLCJnZXRRdW90YSIsImZpcnN0SXRlbSIsImRlbGV0ZUNvdW50IiwiaXRlbXNBZnRlckRlbGV0ZWQiLCJpdGVtc0RlbGV0ZWQiLCJhcmd1bWVudHNBcnJheSIsIml0ZW1zVG9BcHBlbmQiLCJsb2c0amF2YXNjcmlwdCIsIkV2ZW50U3VwcG9ydCIsIkxvZzRKYXZhU2NyaXB0IiwidG9TdHIiLCJnZXRFeGNlcHRpb25NZXNzYWdlIiwiZXgiLCJkZXNjcmlwdGlvbiIsImdldFVybEZpbGVOYW1lIiwibGFzdFNsYXNoSW5kZXgiLCJnZXRFeGNlcHRpb25TdHJpbmdSZXAiLCJleFN0ciIsImxpbmVOdW1iZXIiLCJmaWxlTmFtZSIsImxvY2FsRXgiLCJsb2dMb2ciLCJzaG93U3RhY2tUcmFjZXMiLCJuZXdMaW5lIiwiYm9vbCIsIkJvb2xlYW4iLCJzcGxpdEludG9MaW5lcyIsInRleHQyIiwiYXJyYXlfcmVtb3ZlIiwiYXJyIiwiYXJyYXlfY29udGFpbnMiLCJleHRyYWN0Qm9vbGVhbkZyb21QYXJhbSIsInBhcmFtIiwiZXh0cmFjdFN0cmluZ0Zyb21QYXJhbSIsImV4dHJhY3RJbnRGcm9tUGFyYW0iLCJleHRyYWN0RnVuY3Rpb25Gcm9tUGFyYW0iLCJpc0Vycm9yIiwiZ2V0TGlzdGVuZXJzUHJvcGVydHlOYW1lIiwiYWRkRXZlbnQiLCJ1c2VDYXB0dXJlIiwiYXR0YWNoRXZlbnQiLCJwcm9wZXJ0eU5hbWUiLCJldnQiLCJnZXRFdmVudCIsImN1cnJlbnRMaXN0ZW5lciIsImxpc3RlbmVyc1Byb3BlcnR5TmFtZSIsInJlbW92ZUV2ZW50IiwiZGV0YWNoRXZlbnQiLCJzdG9wRXZlbnRQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsInJldHVyblZhbHVlIiwiZGlzcGF0Y2hFdmVudCIsIlRpbWVyIiwibGV2ZWwiLCJMZXZlbCIsIklORk8iLCJMb2dnZXIiLCJhcHBlbmRlcnMiLCJsb2dnZXJMZXZlbCIsImlzUm9vdCIsInJvb3RMb2dnZXJOYW1lIiwiaXNOdWxsIiwibnVsbExvZ2dlck5hbWUiLCJhcHBlbmRlckNhY2hlIiwiYXBwZW5kZXJDYWNoZUludmFsaWRhdGVkIiwiYWRkQ2hpbGQiLCJjaGlsZExvZ2dlciIsImludmFsaWRhdGVBcHBlbmRlckNhY2hlIiwiZ2V0QWRkaXRpdml0eSIsInNldEFkZGl0aXZpdHkiLCJhZGRpdGl2aXR5IiwidmFsdWVDaGFuZ2VkIiwiYWRkQXBwZW5kZXIiLCJhcHBlbmRlciIsIkFwcGVuZGVyIiwic2V0QWRkZWRUb0xvZ2dlciIsInJlbW92ZUFwcGVuZGVyIiwic2V0UmVtb3ZlZEZyb21Mb2dnZXIiLCJyZW1vdmVBbGxBcHBlbmRlcnMiLCJhcHBlbmRlckNvdW50IiwiZ2V0RWZmZWN0aXZlQXBwZW5kZXJzIiwicGFyZW50RWZmZWN0aXZlQXBwZW5kZXJzIiwiaXNHcmVhdGVyT3JFcXVhbCIsImdldEVmZmVjdGl2ZUxldmVsIiwiZmluYWxQYXJhbUluZGV4IiwibGFzdFBhcmFtIiwibWVzc2FnZXMiLCJsb2dnaW5nRXZlbnQiLCJMb2dnaW5nRXZlbnQiLCJjYWxsQXBwZW5kZXJzIiwiZWZmZWN0aXZlQXBwZW5kZXJzIiwiZG9BcHBlbmQiLCJzZXRMZXZlbCIsImdldExldmVsIiwibG9nZ2VyIiwiaW5pdGlhbGx5RXhwYW5kZWQiLCJncm91cEVuZCIsInRpbWVycyIsInRpbWVFbmQiLCJnZXRFbGFwc2VkVGltZSIsImFzc2VydCIsIkVSUk9SIiwiU2ltcGxlTGF5b3V0IiwiY3VzdG9tRmllbGRzIiwiTnVsbExheW91dCIsIlhtbExheW91dCIsImNvbWJpbmVNZXNzYWdlcyIsImVzY2FwZU5ld0xpbmVzIiwiSnNvbkxheW91dCIsInJlYWRhYmxlIiwiYmF0Y2hIZWFkZXIiLCJiYXRjaEZvb3RlciIsImJhdGNoU2VwYXJhdG9yIiwic2V0S2V5cyIsImNvbG9uIiwidGFiIiwibGluZUJyZWFrIiwiSHR0cFBvc3REYXRhTGF5b3V0IiwicmV0dXJuc1Bvc3REYXRhIiwiZm9ybWF0T2JqZWN0RXhwYW5zaW9uIiwiaW5kZW50YXRpb24iLCJkb0Zvcm1hdCIsImZvcm1hdFN0cmluZyIsImxpbmVzIiwiakxlbiIsImNoaWxkRGVwdGgiLCJjaGlsZEluZGVudGF0aW9uIiwiY2hpbGRMaW5lcyIsImV4cGFuc2lvbiIsImNoaWxkRXhwYW5zaW9uIiwib2JqZWN0c0V4cGFuZGVkIiwiUGF0dGVybkxheW91dCIsIkRFRkFVTFRfQ09OVkVSU0lPTl9QQVRURVJOIiwiQWxlcnRBcHBlbmRlciIsIkJyb3dzZXJDb25zb2xlQXBwZW5kZXIiLCJpc0h0dHBSZXF1ZXN0U3VjY2Vzc2Z1bCIsInhtbEh0dHAiLCJBamF4QXBwZW5kZXIiLCJjaGVja0NhbkNvbmZpZ3VyZSIsImNvbmZpZ09wdGlvbk5hbWUiLCJpbml0aWFsaXplZCIsInNlbmRBbGwiLCJpc1N1cHBvcnRlZCIsInNlbmRpbmciLCJjdXJyZW50UmVxdWVzdEJhdGNoIiwid2FpdEZvclJlc3BvbnNlIiwicXVldWVkUmVxdWVzdHMiLCJzZW5kUmVxdWVzdCIsInByZXBhcmVQb3N0RGF0YSIsInRpbWVkIiwic2NoZWR1bGVTZW5kaW5nIiwic2VuZEFsbFJlbWFpbmluZyIsInNlbmRpbmdBbnl0aGluZyIsImN1cnJlbnRMb2dnaW5nRXZlbnQiLCJhY3R1YWxCYXRjaFNpemUiLCJnZXRMYXlvdXQiLCJhbGxvd0JhdGNoaW5nIiwiYmF0Y2hTaXplIiwiYmF0Y2hlZExvZ2dpbmdFdmVudHMiLCJxdWV1ZWRMb2dnaW5nRXZlbnRzIiwiZm9ybWF0dGVkTWVzc2FnZXMiLCJwb3N0RGF0YSIsImZvcm1hdFdpdGhFeGNlcHRpb24iLCJ1cmxFbmNvZGUiLCJwb3N0VmFyTmFtZSIsInRpbWVySW50ZXJ2YWwiLCJ4bWxIdHRwRXJyb3JIYW5kbGVyIiwiZmFpbENhbGxiYWNrIiwic3VjY2Vzc0NhbGxiYWNrIiwiZ2V0WG1sSHR0cCIsIndpdGhDcmVkZW50aWFsc1N1cHBvcnRlZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlcXVlc3RTdWNjZXNzQ2FsbGJhY2siLCJlbXB0eUZ1bmN0aW9uIiwiaGVhZGVyRXgiLCJlcnJNc2ciLCJzZW5kQWxsT25VbmxvYWQiLCJvbGRCZWZvcmVVbmxvYWQiLCJvbmJlZm9yZXVubG9hZCIsInNlc3Npb25JZCIsImdldFNlc3Npb25JZCIsInNldFNlc3Npb25JZCIsInNlc3Npb25JZFBhcmFtIiwibGF5b3V0Iiwic2V0Q3VzdG9tRmllbGQiLCJzZXRMYXlvdXQiLCJsYXlvdXRQYXJhbSIsImlzVGltZWQiLCJzZXRUaW1lZCIsInRpbWVkUGFyYW0iLCJnZXRUaW1lckludGVydmFsIiwic2V0VGltZXJJbnRlcnZhbCIsInRpbWVySW50ZXJ2YWxQYXJhbSIsImlzV2FpdEZvclJlc3BvbnNlIiwic2V0V2FpdEZvclJlc3BvbnNlIiwid2FpdEZvclJlc3BvbnNlUGFyYW0iLCJnZXRCYXRjaFNpemUiLCJzZXRCYXRjaFNpemUiLCJiYXRjaFNpemVQYXJhbSIsImlzU2VuZEFsbE9uVW5sb2FkIiwic2V0U2VuZEFsbE9uVW5sb2FkIiwic2VuZEFsbE9uVW5sb2FkUGFyYW0iLCJzZXRSZXF1ZXN0U3VjY2Vzc0NhbGxiYWNrIiwicmVxdWVzdFN1Y2Nlc3NDYWxsYmFja1BhcmFtIiwic2V0RmFpbENhbGxiYWNrIiwiZmFpbENhbGxiYWNrUGFyYW0iLCJnZXRQb3N0VmFyTmFtZSIsInNldFBvc3RWYXJOYW1lIiwicG9zdFZhck5hbWVQYXJhbSIsImdldEhlYWRlcnMiLCJhZGRIZWFkZXIiLCJzZXRDb29raWUiLCJkYXlzIiwiZXhwaXJlcyIsInNldFRpbWUiLCJ0b0dNVFN0cmluZyIsImdldENvb2tpZSIsIm5hbWVFcXVhbHMiLCJjYSIsInVuZXNjYXBlIiwiZ2V0QmFzZVVybCIsInNjcmlwdHMiLCJsYXN0U2xhc2giLCJpc0xvYWRlZCIsImxvYWRlZCIsInBhZFdpdGhTcGFjZXMiLCJzcGFjZXMiLCJudW1iZXJPZlNwYWNlcyIsImV2ZW50VHlwZXMiLCJldmVudExpc3RlbmVycyIsInNldEV2ZW50VHlwZXMiLCJldmVudFR5cGVzUGFyYW0iLCJldmVudFR5cGUiLCJldmVudEFyZ3MiLCJhcHBsaWNhdGlvblN0YXJ0RGF0ZSIsInVuaXF1ZUlkIiwicmFuZG9tIiwicGFnZUxvYWRlZCIsImVkaXRpb24iLCJ1cmxEZWNvZGUiLCJtZXRob2ROYW1lIiwiYXJnc1N0cmluZ3MiLCJldmFsIiwicXVpZXRNb2RlIiwiZGVidWdNZXNzYWdlcyIsInNldFF1aWV0TW9kZSIsIm51bWJlck9mRXJyb3JzIiwiYWxlcnRBbGxFcnJvcnMiLCJzZXRBbGVydEFsbEVycm9ycyIsImRpc3BsYXlEZWJ1ZyIsImFsZXJ0IiwiYWxlcnRNZXNzYWdlIiwibG9nNGphdmFzY3JpcHRfZGlzYWJsZWQiLCJzZXRFbmFibGVkIiwiZW5hYmxlIiwidXNlVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzIiwic2V0VGltZVN0YW1wc0luTWlsbGlzZWNvbmRzIiwidGltZVN0YW1wc0luTWlsbGlzZWNvbmRzIiwiaXNUaW1lU3RhbXBzSW5NaWxsaXNlY29uZHMiLCJldmFsSW5TY29wZSIsInNldFNob3dTdGFja1RyYWNlcyIsInNob3ciLCJBTEwiLCJNSU5fVkFMVUUiLCJUUkFDRSIsIkRFQlVHIiwiV0FSTiIsIkZBVEFMIiwiT0ZGIiwiYW5vbnltb3VzTG9nZ2VyTmFtZSIsImRlZmF1bHRMb2dnZXJOYW1lIiwidHJhY2UiLCJmYXRhbCIsImlzRW5hYmxlZEZvciIsImlzVHJhY2VFbmFibGVkIiwiaXNEZWJ1Z0VuYWJsZWQiLCJpc0luZm9FbmFibGVkIiwiaXNXYXJuRW5hYmxlZCIsImlzRXJyb3JFbmFibGVkIiwiaXNGYXRhbEVuYWJsZWQiLCJpc0VudHJ5UG9pbnQiLCJsb2dnZXJzIiwibG9nZ2VyTmFtZXMiLCJST09UX0xPR0dFUl9ERUZBVUxUX0xFVkVMIiwicm9vdExvZ2dlciIsImdldFJvb3RMb2dnZXIiLCJnZXRMb2dnZXIiLCJsb2dnZXJOYW1lIiwicGFyZW50TG9nZ2VyIiwibGFzdERvdEluZGV4IiwicGFyZW50TG9nZ2VyTmFtZSIsImRlZmF1bHRMb2dnZXIiLCJnZXREZWZhdWx0TG9nZ2VyIiwiUG9wVXBBcHBlbmRlciIsIm51bGxMb2dnZXIiLCJnZXROdWxsTG9nZ2VyIiwicmVzZXRDb25maWd1cmF0aW9uIiwidGltZVN0YW1wIiwidGltZVN0YW1wSW5NaWxsaXNlY29uZHMiLCJ0aW1lU3RhbXBJblNlY29uZHMiLCJnZXRUaHJvd2FibGVTdHJSZXAiLCJnZXRDb21iaW5lZE1lc3NhZ2VzIiwiTGF5b3V0IiwibG9nZ2VyS2V5IiwidGltZVN0YW1wS2V5IiwibWlsbGlzZWNvbmRzS2V5IiwibGV2ZWxLZXkiLCJtZXNzYWdlS2V5IiwiZXhjZXB0aW9uS2V5IiwidXJsS2V5Iiwib3ZlcnJpZGVUaW1lU3RhbXBzU2V0dGluZyIsImlnbm9yZXNUaHJvd2FibGUiLCJnZXRDb250ZW50VHlwZSIsImdldFRpbWVTdGFtcFZhbHVlIiwiZ2V0RGF0YVZhbHVlcyIsImRhdGFWYWx1ZXMiLCJoYXNDdXN0b21GaWVsZHMiLCJmaWVsZFVwZGF0ZWQiLCJmb3JtYXR0ZWQiLCJ0aHJlc2hvbGQiLCJzZXRUaHJlc2hvbGQiLCJnZXRUaHJlc2hvbGQiLCJpc0NvbWJpbmVkTWVzc2FnZXMiLCJlc2NhcGVDZGF0YSIsImZvcm1hdE1lc3NhZ2UiLCJpc1JlYWRhYmxlIiwiZm9ybWF0VmFsdWUiLCJleHBhbmQiLCJmb3JtYXR0ZWRWYWx1ZSIsInZhbFR5cGUiLCJjaGlsZFByZWZpeCIsInF1ZXJ5Qml0cyIsIlNpbXBsZURhdGVGb3JtYXQiLCJtb250aE5hbWVzIiwiZGF5TmFtZXMiLCJURVhUMiIsIlRFWFQzIiwiTlVNQkVSIiwiWUVBUiIsIlRJTUVaT05FIiwiVyIsIkQiLCJGIiwiRSIsIksiLCJTIiwiT05FX0RBWSIsIk9ORV9XRUVLIiwiREVGQVVMVF9NSU5JTUFMX0RBWVNfSU5fRklSU1RfV0VFSyIsIm5ld0RhdGVBdE1pZG5pZ2h0IiwiZGF5Iiwic2V0TWlsbGlzZWNvbmRzIiwiZ2V0RGlmZmVyZW5jZSIsImlzQmVmb3JlIiwiZ2V0VVRDVGltZSIsIlVUQyIsImdldFRpbWVTaW5jZSIsImdldFByZXZpb3VzU3VuZGF5IiwibWlkZGF5IiwicHJldmlvdXNTdW5kYXkiLCJnZXRXZWVrSW5ZZWFyIiwibWluaW1hbERheXNJbkZpcnN0V2VlayIsInN0YXJ0T2ZZZWFyIiwibnVtYmVyT2ZTdW5kYXlzIiwibnVtYmVyT2ZEYXlzSW5GaXJzdFdlZWsiLCJ3ZWVrSW5ZZWFyIiwiZ2V0V2Vla0luTW9udGgiLCJzdGFydE9mTW9udGgiLCJ3ZWVrSW5Nb250aCIsImdldERheUluWWVhciIsInNldE1pbmltYWxEYXlzSW5GaXJzdFdlZWsiLCJnZXRNaW5pbWFsRGF5c0luRmlyc3RXZWVrIiwicGFkV2l0aFplcm9lcyIsImZvcm1hdFRleHQiLCJudW1iZXJPZkxldHRlcnMiLCJtaW5MZW5ndGgiLCJkYXRhU3RyaW5nIiwiZm9ybWF0dGVkU3RyaW5nIiwic2VhcmNoU3RyaW5nIiwicXVvdGVkU3RyaW5nIiwicGF0dGVybkxldHRlcnMiLCJvdGhlckxldHRlcnMiLCJvdGhlckNoYXJhY3RlcnMiLCJwYXR0ZXJuTGV0dGVyIiwicmF3RGF0YSIsImlzUG9zaXRpdmUiLCJhYnNEYXRhIiwiVFRDQ19DT05WRVJTSU9OX1BBVFRFUk4iLCJJU084NjAxX0RBVEVGT1JNQVQiLCJEQVRFVElNRV9EQVRFRk9STUFUIiwiQUJTT0xVVEVUSU1FX0RBVEVGT1JNQVQiLCJtYXRjaGVkU3RyaW5nIiwicGFkZGluZyIsInRydW5jYXRpb24iLCJjb252ZXJzaW9uQ2hhcmFjdGVyIiwic3BlY2lmaWVyIiwicmVwbGFjZW1lbnQiLCJwcmVjaXNpb24iLCJsb2dnZXJOYW1lQml0cyIsImRhdGVGb3JtYXQiLCJmaWVsZEluZGV4Iiwic3RyTGVuIiwiZ2V0Rm9ybWF0dGVkTWVzc2FnZSIsImZvcm1hdHRlZE1lc3NhZ2UiLCJjb25zb2xlTWV0aG9kTmFtZSIsIm9wZXJhIiwicG9zdEVycm9yIiwieGhyRmFjdG9yeSIsInhtbEh0dHBGYWN0b3JpZXMiLCJBY3RpdmVYT2JqZWN0IiwiZXJyb3JIYW5kbGVyIiwiQ29uc29sZUFwcGVuZGVyIiwibGF6eUluaXQiLCJpbml0aWFsbHlNaW5pbWl6ZWQiLCJ1c2VEb2N1bWVudFdyaXRlIiwid2lkdGgiLCJoZWlnaHQiLCJmb2N1c1BvcFVwIiwiSW5QYWdlQXBwZW5kZXIiLCJjb250YWluZXIiLCJnZXRDb25zb2xlSHRtbExpbmVzIiwiZGVmYXVsdENvbW1hbmRMaW5lRnVuY3Rpb25zIiwiY29uc29sZUFwcGVuZGVySWRDb3VudGVyIiwiaW5QYWdlIiwiZm9jdXNDb25zb2xlV2luZG93IiwiUXVldWVkTG9nZ2luZ0V2ZW50IiwibGV2ZWxOYW1lIiwiUXVldWVkR3JvdXAiLCJRdWV1ZWRHcm91cEVuZCIsImNvbnNvbGVXaW5kb3dDcmVhdGVkIiwiY29uc29sZVdpbmRvd0xvYWRlZCIsImNvbnNvbGVDbG9zZWQiLCJjb25zb2xlQXBwZW5kZXJJZCIsIm5ld2VzdE1lc3NhZ2VBdFRvcCIsInNjcm9sbFRvTGF0ZXN0TWVzc2FnZSIsIm1heE1lc3NhZ2VzIiwic2hvd0NvbW1hbmRMaW5lIiwiY29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aCIsInNob3dIaWRlQnV0dG9uIiwic2hvd0Nsb3NlQnV0dG9uIiwic2hvd0xvZ0VudHJ5RGVsZXRlQnV0dG9ucyIsImNyZWF0ZVdpbmRvdyIsInNhZmVUb0FwcGVuZCIsImdldENvbnNvbGVXaW5kb3ciLCJhcHBlbmRlck5hbWUiLCJjb25zb2xlV2luZG93RXhpc3RzIiwiaXNOZXdlc3RNZXNzYWdlQXRUb3AiLCJzZXROZXdlc3RNZXNzYWdlQXRUb3AiLCJuZXdlc3RNZXNzYWdlQXRUb3BQYXJhbSIsInNldE5ld2VzdEF0VG9wIiwiaXNTY3JvbGxUb0xhdGVzdE1lc3NhZ2UiLCJzZXRTY3JvbGxUb0xhdGVzdE1lc3NhZ2UiLCJzY3JvbGxUb0xhdGVzdE1lc3NhZ2VQYXJhbSIsInNldFNjcm9sbFRvTGF0ZXN0IiwiZ2V0V2lkdGgiLCJzZXRXaWR0aCIsIndpZHRoUGFyYW0iLCJnZXRIZWlnaHQiLCJzZXRIZWlnaHQiLCJoZWlnaHRQYXJhbSIsImdldE1heE1lc3NhZ2VzIiwic2V0TWF4TWVzc2FnZXMiLCJtYXhNZXNzYWdlc1BhcmFtIiwiaXNTaG93Q29tbWFuZExpbmUiLCJzZXRTaG93Q29tbWFuZExpbmUiLCJzaG93Q29tbWFuZExpbmVQYXJhbSIsImlzU2hvd0hpZGVCdXR0b24iLCJzZXRTaG93SGlkZUJ1dHRvbiIsInNob3dIaWRlQnV0dG9uUGFyYW0iLCJpc1Nob3dDbG9zZUJ1dHRvbiIsInNldFNob3dDbG9zZUJ1dHRvbiIsInNob3dDbG9zZUJ1dHRvblBhcmFtIiwiZ2V0Q29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aCIsInNldENvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGgiLCJjb21tYW5kTGluZU9iamVjdEV4cGFuc2lvbkRlcHRoUGFyYW0iLCJtaW5pbWl6ZWQiLCJpc0luaXRpYWxseU1pbmltaXplZCIsInNldEluaXRpYWxseU1pbmltaXplZCIsImluaXRpYWxseU1pbmltaXplZFBhcmFtIiwiaXNVc2VEb2N1bWVudFdyaXRlIiwic2V0VXNlRG9jdW1lbnRXcml0ZSIsInVzZURvY3VtZW50V3JpdGVQYXJhbSIsImNoZWNrQW5kQXBwZW5kIiwicmVvcGVuV2hlbkNsb3NlZCIsImFwcGVuZFF1ZXVlZExvZ2dpbmdFdmVudHMiLCJjbGVhckxvZyIsImZvY3VzQ29tbWFuZExpbmUiLCJmb2N1c1NlYXJjaCIsImNvbW1hbmRXaW5kb3ciLCJnZXRDb21tYW5kV2luZG93Iiwic2V0Q29tbWFuZFdpbmRvdyIsImNvbW1hbmRXaW5kb3dQYXJhbSIsImV4ZWN1dGVMYXN0Q29tbWFuZCIsImV2YWxMYXN0Q29tbWFuZCIsImNvbW1hbmRMYXlvdXQiLCJnZXRDb21tYW5kTGF5b3V0Iiwic2V0Q29tbWFuZExheW91dCIsImNvbW1hbmRMYXlvdXRQYXJhbSIsImV2YWxDb21tYW5kQW5kQXBwZW5kIiwiY29tbWFuZFJldHVyblZhbHVlIiwiYXBwZW5kUmVzdWx0IiwiY29tbWFuZE91dHB1dCIsImV4ZWNTY3JpcHQiLCJjb21tYW5kTGluZUZ1bmN0aW9uc0hhc2giLCJjb21tYW5kTGluZUZ1bmN0aW9ucyIsIm9iamVjdHNUb1Jlc3RvcmUiLCJhZGRPYmplY3RUb1Jlc3RvcmUiLCJhZGRGdW5jdGlvblRvV2luZG93IiwiZXZhbEV4cHIiLCJtYWluTGF5b3V0IiwiYWRkQ29tbWFuZExpbmVGdW5jdGlvbiIsImZ1bmN0aW9uTmFtZSIsImNvbW1hbmRMaW5lRnVuY3Rpb24iLCJjb21tYW5kSGlzdG9yeUNvb2tpZU5hbWUiLCJzdG9yZUNvbW1hbmRIaXN0b3J5IiwiY29tbWFuZEhpc3RvcnkiLCJ3cml0ZUh0bWwiLCJ3cml0ZWxuIiwiY2xvc2UiLCJjb25zb2xlV2luZG93TG9hZEhhbmRsZXIiLCJzZXRBcHBlbmRlciIsInNldE1haW5XaW5kb3ciLCJzdG9yZWRWYWx1ZSIsImN1cnJlbnRDb21tYW5kSW5kZXgiLCJ1bmxvYWQiLCJwb2xsQ29uc29sZVdpbmRvdyIsIndpbmRvd1Rlc3QiLCJlcnJvck1lc3NhZ2UiLCJkb1BvbGwiLCJwb2xsIiwiZ2V0Q29uc29sZVVybCIsImRvY3VtZW50RG9tYWluU2V0IiwiZG9tYWluIiwiY29udGFpbmVyRWxlbWVudCIsImNzc1Byb3BlcnRpZXMiLCJhZGRDc3NQcm9wZXJ0eSIsImlmcmFtZUNvbnRhaW5lckRpdiIsIndpbmRvd0NyZWF0aW9uU3RhcnRlZCIsImlmcmFtZUlkIiwiaGlkZSIsImRpc3BsYXkiLCJpc1Zpc2libGUiLCJmcm9tQnV0dG9uIiwiY29uZmlybSIsImZpbmFsSW5pdCIsImluaXRFcnJvck1lc3NhZ2UiLCJ3cml0ZVRvRG9jdW1lbnQiLCJib3JkZXIiLCJpZnJhbWVTcmMiLCJpZnJhbWVEb2N1bWVudEV4aXN0c1Rlc3QiLCJwYWdlTG9hZEhhbmRsZXIiLCJpZnJhbWUiLCJmcmFtZXMiLCJ1c2VPbGRQb3BVcCIsImNvbXBsYWluQWJvdXRQb3BVcEJsb2NraW5nIiwiaXNVc2VPbGRQb3BVcCIsInNldFVzZU9sZFBvcFVwIiwidXNlT2xkUG9wVXBQYXJhbSIsImlzQ29tcGxhaW5BYm91dFBvcFVwQmxvY2tpbmciLCJzZXRDb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZyIsImNvbXBsYWluQWJvdXRQb3BVcEJsb2NraW5nUGFyYW0iLCJpc0ZvY3VzUG9wVXAiLCJzZXRGb2N1c1BvcFVwIiwiZm9jdXNQb3BVcFBhcmFtIiwiaXNSZW9wZW5XaGVuQ2xvc2VkIiwic2V0UmVvcGVuV2hlbkNsb3NlZCIsInJlb3BlbldoZW5DbG9zZWRQYXJhbSIsInBvcFVwIiwic2V0Q2xvc2VJZk9wZW5lckNsb3NlcyIsImNoZWNrUG9wVXBDbG9zZWQiLCJwb3BVcENsb3NlZENhbGxiYWNrIiwid2luZG93UHJvcGVydGllcyIsImZyYW1lSW5mbyIsImZyYW1lRWwiLCJmcmFtZUVsZW1lbnQiLCJ0YWdOYW1lIiwid2luZG93TmFtZSIsIm1haW5QYWdlUmVsb2FkZWQiLCJwb3BVcExvYWRlZFRlc3QiLCJhZGRHbG9iYWxDb21tYW5kTGluZUZ1bmN0aW9uIiwiSW5saW5lQXBwZW5kZXIiLCJkaXIiLCJtYXhMZW4iLCJwcm9wTGlzdCIsInByb3BWYWwiLCJwcm9wTmFtZVN0ciIsImdldFhodG1sIiwicm9vdE5vZGUiLCJpbmNsdWRlUm9vdE5vZGUiLCJzdGFydE5ld0xpbmUiLCJwcmVmb3JtYXR0ZWQiLCJub2RlVHlwZXMiLCJURVhUX05PREUiLCJmaXhBdHRyaWJ1dGVWYWx1ZSIsImF0dHJWYWx1ZSIsImdldFN0eWxlQXR0cmlidXRlVmFsdWUiLCJzdHlsZVBhaXJzIiwiY3NzVGV4dCIsInN0eWxlVmFsdWUiLCJuYW1lVmFsdWVCaXRzIiwicHJvcHMiLCJnZXROYW1lc3BhY2UiLCJvdXRlckhUTUwiLCIkMSIsInhodG1sIiwibHQiLCJndCIsIkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUiLCJpbmRlbnRhdGlvblVuaXQiLCJoYXNQcmVmaXgiLCJjdXJyZW50QXR0ciIsImVtcHR5RWxlbWVudHMiLCJoYXNDaGlsZE5vZGVzIiwiY2hpbGRTdGFydE5ld0xpbmUiLCJjaGlsZFByZWZvcm1hdHRlZCIsInByZUZvcm1hdHRlZEVsZW1lbnRzIiwiZW5kVGFnIiwidHJpbW1lZExpbmVzIiwiQ0RBVEFfU0VDVElPTl9OT0RFIiwiRE9DVU1FTlRfTk9ERSIsImNyZWF0ZUNvbW1hbmRMaW5lRnVuY3Rpb25zIiwiZXhwYW5zaW9uRGVwdGgiLCJBVFRSSUJVVEVfTk9ERSIsIkVOVElUWV9SRUZFUkVOQ0VfTk9ERSIsIkVOVElUWV9OT0RFIiwiUFJPQ0VTU0lOR19JTlNUUlVDVElPTl9OT0RFIiwiQ09NTUVOVF9OT0RFIiwiRE9DVU1FTlRfVFlQRV9OT0RFIiwiTk9UQVRJT05fTk9ERSIsInNldERvY3VtZW50UmVhZHkiLCJvbGRPbmxvYWQiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwic3RvcmUiLCJpc0xvY2FsU3RvcmFnZU5hbWVTdXBwb3J0ZWQiLCJsb2NhbFN0b3JhZ2VOYW1lIiwiZ2xvYmFsIiwic2NyaXB0VGFnIiwiZGVmYXVsdFZhbCIsInRyYW5zYWN0IiwidHJhbnNhY3Rpb25GbiIsImdldEFsbCIsImRlc2VyaWFsaXplIiwic2V0SXRlbSIsImdldEl0ZW0iLCJyZW1vdmVJdGVtIiwiYWRkQmVoYXZpb3IiLCJzdG9yYWdlT3duZXIiLCJzdG9yYWdlQ29udGFpbmVyIiwid3JpdGUiLCJ3aXRoSUVTdG9yYWdlIiwic3RvcmVGdW5jdGlvbiIsImxvYWQiLCJmb3JiaWRkZW5DaGFyc1JlZ2V4IiwiaWVLZXlGaXgiLCJzYXZlIiwiWE1MRG9jdW1lbnQiLCJ0ZXN0S2V5Il0sIm1hcHBpbmdzIjoiQ0FLQSxTQUFVQSxHQUFTLFlBZ0NuQixTQUFTQyxHQUFPQyxFQUFRQyxHQUV0QixNQURBQSxHQUFtQkEsR0FBb0JDLE1BQ2hDLFdBQ0wsR0FNRUMsR0FBYUMsRUFOWEMsRUFBZSxFQUVmQyxFQUFlQyxVQUNqQkMsRUFBT0YsRUFBYSxHQUNwQkcsRUFBVSxLQUFPVCxFQUFTQSxFQUFTLElBQU0sSUFBTVEsRUFBTyxLQUN0REUsRUFBV0osRUFBYSxFQWlCMUIsS0FkQUcsR0FBV0MsRUFBU0MsUUFBUSxXQUFZLFNBQVNDLEdBQy9DLEdBQUlDLElBQVNELEVBQU1FLE1BQU0sRUFBRyxJQUMxQkMsRUFBZUYsRUFBUVIsQ0FFekIsT0FBSVUsR0FBZVQsRUFBYVUsT0FDdkJDLEdBQWNYLEVBQWFTLElBRzdCSCxJQUdUSCxHQUFXLHdDQUNSVCxFQUFTQSxFQUFTLElBQU0sSUFBTVEsRUFFNUJKLEVBQUlDLEVBQWNGLEVBQWMsSUFBS0MsRUFBSUUsRUFBYVUsT0FBUVosSUFBS0QsRUFBYyxJQUNwRk0sR0FBV04sRUFBYyxLQUFPQyxFQUFJQyxHQUFnQixJQUNsRGEsbUJBQW1CRCxHQUFjWCxFQUFhRixJQUdsRCxPQUFPLElBQUlILEdBQWlCUSxJQXNMaEMsUUFBU1UsR0FBWUMsR0FHbkIsR0FBVyxNQUFQ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cXFCLEtBQUtwQixLQUVkRixFQUFNUSxPQUFTLFNBQVN2cEIsR0FDdkIsR0FBSW5oQixLQUlKLE9BSEFrcUMsR0FBTWpxRyxRQUFRLFNBQVNHLEVBQUs0SCxHQUMzQmc0RCxFQUFJNS9ELEdBQU80SCxJQUVMZzRELEdBRVJrcUMsRUFBTWpxRyxRQUFVa3JHLEVBQWMsU0FBU2hxQixFQUFTeDBELEdBRS9DLElBQUssR0FBU25vQixHQURWb3VCLEVBQWF1dUQsRUFBUXNxQixZQUFZdnBGLGdCQUFnQjBRLFdBQzVDcDBCLEVBQUUsRUFBU2dHLEVBQUtvdUIsRUFBV3AwQixLQUFNQSxFQUN6Q211QixFQUFTbm9CLEVBQUsrRyxLQUFNMitGLEVBQU1TLFlBQVl4cEIsRUFBUWwyRSxhQUFhekcsRUFBSytHLFVBS25FLElBQ0MsR0FBSW1nRyxHQUFVLGFBQ2R4QixHQUFNNWpHLElBQUlvbEcsRUFBU0EsR0FDZnhCLEVBQU01OEYsSUFBSW8rRixJQUFZQSxJQUFXeEIsRUFBTTF6QixVQUFXLEdBQ3REMHpCLEVBQU1qN0UsT0FBT3k4RSxHQUNaLE1BQU0vaEcsR0FDUHVnRyxFQUFNMXpCLFVBQVcsRUFJbEIsTUFGQTB6QixHQUFNajRFLFNBQVdpNEUsRUFBTTF6QixTQUVoQjB6QiIsImZpbGUiOiJzY3JpcHRzL2JhY2tncm91bmQtdmVuZG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS41LjVcclxuICogKGMpIDIwMTAtMjAxNiBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcclxuICogTGljZW5zZTogTUlUXHJcbiAqL1xyXG4oZnVuY3Rpb24od2luZG93KSB7J3VzZSBzdHJpY3QnO1xyXG5cclxuLyoqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBUaGlzIG9iamVjdCBwcm92aWRlcyBhIHV0aWxpdHkgZm9yIHByb2R1Y2luZyByaWNoIEVycm9yIG1lc3NhZ2VzIHdpdGhpblxyXG4gKiBBbmd1bGFyLiBJdCBjYW4gYmUgY2FsbGVkIGFzIGZvbGxvd3M6XHJcbiAqXHJcbiAqIHZhciBleGFtcGxlTWluRXJyID0gbWluRXJyKCdleGFtcGxlJyk7XHJcbiAqIHRocm93IGV4YW1wbGVNaW5FcnIoJ29uZScsICdUaGlzIHswfSBpcyB7MX0nLCBmb28sIGJhcik7XHJcbiAqXHJcbiAqIFRoZSBhYm92ZSBjcmVhdGVzIGFuIGluc3RhbmNlIG9mIG1pbkVyciBpbiB0aGUgZXhhbXBsZSBuYW1lc3BhY2UuIFRoZVxyXG4gKiByZXN1bHRpbmcgZXJyb3Igd2lsbCBoYXZlIGEgbmFtZXNwYWNlZCBlcnJvciBjb2RlIG9mIGV4YW1wbGUub25lLiAgVGhlXHJcbiAqIHJlc3VsdGluZyBlcnJvciB3aWxsIHJlcGxhY2UgezB9IHdpdGggdGhlIHZhbHVlIG9mIGZvbywgYW5kIHsxfSB3aXRoIHRoZVxyXG4gKiB2YWx1ZSBvZiBiYXIuIFRoZSBvYmplY3QgaXMgbm90IHJlc3RyaWN0ZWQgaW4gdGhlIG51bWJlciBvZiBhcmd1bWVudHMgaXQgY2FuXHJcbiAqIHRha2UuXHJcbiAqXHJcbiAqIElmIGZld2VyIGFyZ3VtZW50cyBhcmUgc3BlY2lmaWVkIHRoYW4gbmVjZXNzYXJ5IGZvciBpbnRlcnBvbGF0aW9uLCB0aGUgZXh0cmFcclxuICogaW50ZXJwb2xhdGlvbiBtYXJrZXJzIHdpbGwgYmUgcHJlc2VydmVkIGluIHRoZSBmaW5hbCBzdHJpbmcuXHJcbiAqXHJcbiAqIFNpbmNlIGRhdGEgd2lsbCBiZSBwYXJzZWQgc3RhdGljYWxseSBkdXJpbmcgYSBidWlsZCBzdGVwLCBzb21lIHJlc3RyaWN0aW9uc1xyXG4gKiBhcmUgYXBwbGllZCB3aXRoIHJlc3BlY3QgdG8gaG93IG1pbkVyciBpbnN0YW5jZXMgYXJlIGNyZWF0ZWQgYW5kIGNhbGxlZC5cclxuICogSW5zdGFuY2VzIHNob3VsZCBoYXZlIG5hbWVzIG9mIHRoZSBmb3JtIG5hbWVzcGFjZU1pbkVyciBmb3IgYSBtaW5FcnIgY3JlYXRlZFxyXG4gKiB1c2luZyBtaW5FcnIoJ25hbWVzcGFjZScpIC4gRXJyb3IgY29kZXMsIG5hbWVzcGFjZXMgYW5kIHRlbXBsYXRlIHN0cmluZ3NcclxuICogc2hvdWxkIGFsbCBiZSBzdGF0aWMgc3RyaW5ncywgbm90IHZhcmlhYmxlcyBvciBnZW5lcmFsIGV4cHJlc3Npb25zLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlIFRoZSBuYW1lc3BhY2UgdG8gdXNlIGZvciB0aGUgbmV3IG1pbkVyciBpbnN0YW5jZS5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gRXJyb3JDb25zdHJ1Y3RvciBDdXN0b20gZXJyb3IgY29uc3RydWN0b3IgdG8gYmUgaW5zdGFudGlhdGVkIHdoZW4gcmV0dXJuaW5nXHJcbiAqICAgZXJyb3IgZnJvbSByZXR1cm5lZCBmdW5jdGlvbiwgZm9yIGNhc2VzIHdoZW4gYSBwYXJ0aWN1bGFyIHR5cGUgb2YgZXJyb3IgaXMgdXNlZnVsLlxyXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29kZTpzdHJpbmcsIHRlbXBsYXRlOnN0cmluZywgLi4udGVtcGxhdGVBcmdzKTogRXJyb3J9IG1pbkVyciBpbnN0YW5jZVxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIG1pbkVycihtb2R1bGUsIEVycm9yQ29uc3RydWN0b3IpIHtcclxuICBFcnJvckNvbnN0cnVjdG9yID0gRXJyb3JDb25zdHJ1Y3RvciB8fCBFcnJvcjtcclxuICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgU0tJUF9JTkRFWEVTID0gMjtcclxuXHJcbiAgICB2YXIgdGVtcGxhdGVBcmdzID0gYXJndW1lbnRzLFxyXG4gICAgICBjb2RlID0gdGVtcGxhdGVBcmdzWzBdLFxyXG4gICAgICBtZXNzYWdlID0gJ1snICsgKG1vZHVsZSA/IG1vZHVsZSArICc6JyA6ICcnKSArIGNvZGUgKyAnXSAnLFxyXG4gICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQXJnc1sxXSxcclxuICAgICAgcGFyYW1QcmVmaXgsIGk7XHJcblxyXG4gICAgbWVzc2FnZSArPSB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtcXGQrXFx9L2csIGZ1bmN0aW9uKG1hdGNoKSB7XHJcbiAgICAgIHZhciBpbmRleCA9ICttYXRjaC5zbGljZSgxLCAtMSksXHJcbiAgICAgICAgc2hpZnRlZEluZGV4ID0gaW5kZXggKyBTS0lQX0lOREVYRVM7XHJcblxyXG4gICAgICBpZiAoc2hpZnRlZEluZGV4IDwgdGVtcGxhdGVBcmdzLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB0b0RlYnVnU3RyaW5nKHRlbXBsYXRlQXJnc1tzaGlmdGVkSW5kZXhdKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG1hdGNoO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWVzc2FnZSArPSAnXFxuaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuNS41LycgK1xyXG4gICAgICAobW9kdWxlID8gbW9kdWxlICsgJy8nIDogJycpICsgY29kZTtcclxuXHJcbiAgICBmb3IgKGkgPSBTS0lQX0lOREVYRVMsIHBhcmFtUHJlZml4ID0gJz8nOyBpIDwgdGVtcGxhdGVBcmdzLmxlbmd0aDsgaSsrLCBwYXJhbVByZWZpeCA9ICcmJykge1xyXG4gICAgICBtZXNzYWdlICs9IHBhcmFtUHJlZml4ICsgJ3AnICsgKGkgLSBTS0lQX0lOREVYRVMpICsgJz0nICtcclxuICAgICAgICBlbmNvZGVVUklDb21wb25lbnQodG9EZWJ1Z1N0cmluZyh0ZW1wbGF0ZUFyZ3NbaV0pKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IEVycm9yQ29uc3RydWN0b3IobWVzc2FnZSk7XHJcbiAgfTtcclxufVxyXG5cclxuLyogV2UgbmVlZCB0byB0ZWxsIGpzaGludCB3aGF0IHZhcmlhYmxlcyBhcmUgYmVpbmcgZXhwb3J0ZWQgKi9cclxuLyogZ2xvYmFsIGFuZ3VsYXI6IHRydWUsXHJcbiAgbXNpZTogdHJ1ZSxcclxuICBqcUxpdGU6IHRydWUsXHJcbiAgalF1ZXJ5OiB0cnVlLFxyXG4gIHNsaWNlOiB0cnVlLFxyXG4gIHNwbGljZTogdHJ1ZSxcclxuICBwdXNoOiB0cnVlLFxyXG4gIHRvU3RyaW5nOiB0cnVlLFxyXG4gIG5nTWluRXJyOiB0cnVlLFxyXG4gIGFuZ3VsYXJNb2R1bGU6IHRydWUsXHJcbiAgdWlkOiB0cnVlLFxyXG4gIFJFR0VYX1NUUklOR19SRUdFWFA6IHRydWUsXHJcbiAgVkFMSURJVFlfU1RBVEVfUFJPUEVSVFk6IHRydWUsXHJcblxyXG4gIGxvd2VyY2FzZTogdHJ1ZSxcclxuICB1cHBlcmNhc2U6IHRydWUsXHJcbiAgbWFudWFsTG93ZXJjYXNlOiB0cnVlLFxyXG4gIG1hbnVhbFVwcGVyY2FzZTogdHJ1ZSxcclxuICBub2RlTmFtZV86IHRydWUsXHJcbiAgaXNBcnJheUxpa2U6IHRydWUsXHJcbiAgZm9yRWFjaDogdHJ1ZSxcclxuICBmb3JFYWNoU29ydGVkOiB0cnVlLFxyXG4gIHJldmVyc2VQYXJhbXM6IHRydWUsXHJcbiAgbmV4dFVpZDogdHJ1ZSxcclxuICBzZXRIYXNoS2V5OiB0cnVlLFxyXG4gIGV4dGVuZDogdHJ1ZSxcclxuICB0b0ludDogdHJ1ZSxcclxuICBpbmhlcml0OiB0cnVlLFxyXG4gIG1lcmdlOiB0cnVlLFxyXG4gIG5vb3A6IHRydWUsXHJcbiAgaWRlbnRpdHk6IHRydWUsXHJcbiAgdmFsdWVGbjogdHJ1ZSxcclxuICBpc1VuZGVmaW5lZDogdHJ1ZSxcclxuICBpc0RlZmluZWQ6IHRydWUsXHJcbiAgaXNPYmplY3Q6IHRydWUsXHJcbiAgaXNCbGFua09iamVjdDogdHJ1ZSxcclxuICBpc1N0cmluZzogdHJ1ZSxcclxuICBpc051bWJlcjogdHJ1ZSxcclxuICBpc0RhdGU6IHRydWUsXHJcbiAgaXNBcnJheTogdHJ1ZSxcclxuICBpc0Z1bmN0aW9uOiB0cnVlLFxyXG4gIGlzUmVnRXhwOiB0cnVlLFxyXG4gIGlzV2luZG93OiB0cnVlLFxyXG4gIGlzU2NvcGU6IHRydWUsXHJcbiAgaXNGaWxlOiB0cnVlLFxyXG4gIGlzRm9ybURhdGE6IHRydWUsXHJcbiAgaXNCbG9iOiB0cnVlLFxyXG4gIGlzQm9vbGVhbjogdHJ1ZSxcclxuICBpc1Byb21pc2VMaWtlOiB0cnVlLFxyXG4gIHRyaW06IHRydWUsXHJcbiAgZXNjYXBlRm9yUmVnZXhwOiB0cnVlLFxyXG4gIGlzRWxlbWVudDogdHJ1ZSxcclxuICBtYWtlTWFwOiB0cnVlLFxyXG4gIGluY2x1ZGVzOiB0cnVlLFxyXG4gIGFycmF5UmVtb3ZlOiB0cnVlLFxyXG4gIGNvcHk6IHRydWUsXHJcbiAgc2hhbGxvd0NvcHk6IHRydWUsXHJcbiAgZXF1YWxzOiB0cnVlLFxyXG4gIGNzcDogdHJ1ZSxcclxuICBqcTogdHJ1ZSxcclxuICBjb25jYXQ6IHRydWUsXHJcbiAgc2xpY2VBcmdzOiB0cnVlLFxyXG4gIGJpbmQ6IHRydWUsXHJcbiAgdG9Kc29uUmVwbGFjZXI6IHRydWUsXHJcbiAgdG9Kc29uOiB0cnVlLFxyXG4gIGZyb21Kc29uOiB0cnVlLFxyXG4gIGNvbnZlcnRUaW1lem9uZVRvTG9jYWw6IHRydWUsXHJcbiAgdGltZXpvbmVUb09mZnNldDogdHJ1ZSxcclxuICBzdGFydGluZ1RhZzogdHJ1ZSxcclxuICB0cnlEZWNvZGVVUklDb21wb25lbnQ6IHRydWUsXHJcbiAgcGFyc2VLZXlWYWx1ZTogdHJ1ZSxcclxuICB0b0tleVZhbHVlOiB0cnVlLFxyXG4gIGVuY29kZVVyaVNlZ21lbnQ6IHRydWUsXHJcbiAgZW5jb2RlVXJpUXVlcnk6IHRydWUsXHJcbiAgYW5ndWxhckluaXQ6IHRydWUsXHJcbiAgYm9vdHN0cmFwOiB0cnVlLFxyXG4gIGdldFRlc3RhYmlsaXR5OiB0cnVlLFxyXG4gIHNuYWtlX2Nhc2U6IHRydWUsXHJcbiAgYmluZEpRdWVyeTogdHJ1ZSxcclxuICBhc3NlcnRBcmc6IHRydWUsXHJcbiAgYXNzZXJ0QXJnRm46IHRydWUsXHJcbiAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHk6IHRydWUsXHJcbiAgZ2V0dGVyOiB0cnVlLFxyXG4gIGdldEJsb2NrTm9kZXM6IHRydWUsXHJcbiAgaGFzT3duUHJvcGVydHk6IHRydWUsXHJcbiAgY3JlYXRlTWFwOiB0cnVlLFxyXG5cclxuICBOT0RFX1RZUEVfRUxFTUVOVDogdHJ1ZSxcclxuICBOT0RFX1RZUEVfQVRUUklCVVRFOiB0cnVlLFxyXG4gIE5PREVfVFlQRV9URVhUOiB0cnVlLFxyXG4gIE5PREVfVFlQRV9DT01NRU5UOiB0cnVlLFxyXG4gIE5PREVfVFlQRV9ET0NVTUVOVDogdHJ1ZSxcclxuICBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQ6IHRydWUsXHJcbiovXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbW9kdWxlXHJcbiAqIEBuYW1lIG5nXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGluc3RhbGxhdGlvblxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogIyBuZyAoY29yZSBtb2R1bGUpXHJcbiAqIFRoZSBuZyBtb2R1bGUgaXMgbG9hZGVkIGJ5IGRlZmF1bHQgd2hlbiBhbiBBbmd1bGFySlMgYXBwbGljYXRpb24gaXMgc3RhcnRlZC4gVGhlIG1vZHVsZSBpdHNlbGZcclxuICogY29udGFpbnMgdGhlIGVzc2VudGlhbCBjb21wb25lbnRzIGZvciBhbiBBbmd1bGFySlMgYXBwbGljYXRpb24gdG8gZnVuY3Rpb24uIFRoZSB0YWJsZSBiZWxvd1xyXG4gKiBsaXN0cyBhIGhpZ2ggbGV2ZWwgYnJlYWtkb3duIG9mIGVhY2ggb2YgdGhlIHNlcnZpY2VzL2ZhY3RvcmllcywgZmlsdGVycywgZGlyZWN0aXZlcyBhbmQgdGVzdGluZ1xyXG4gKiBjb21wb25lbnRzIGF2YWlsYWJsZSB3aXRoaW4gdGhpcyBjb3JlIG1vZHVsZS5cclxuICpcclxuICogPGRpdiBkb2MtbW9kdWxlLWNvbXBvbmVudHM9XCJuZ1wiPjwvZGl2PlxyXG4gKi9cclxuXHJcbnZhciBSRUdFWF9TVFJJTkdfUkVHRVhQID0gL15cXC8oLispXFwvKFthLXpdKikkLztcclxuXHJcbi8vIFRoZSBuYW1lIG9mIGEgZm9ybSBjb250cm9sJ3MgVmFsaWRpdHlTdGF0ZSBwcm9wZXJ0eS5cclxuLy8gVGhpcyBpcyB1c2VkIHNvIHRoYXQgaXQncyBwb3NzaWJsZSBmb3IgaW50ZXJuYWwgdGVzdHMgdG8gY3JlYXRlIG1vY2sgVmFsaWRpdHlTdGF0ZXMuXHJcbnZhciBWQUxJRElUWV9TVEFURV9QUk9QRVJUWSA9ICd2YWxpZGl0eSc7XHJcblxyXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xyXG5cclxudmFyIGxvd2VyY2FzZSA9IGZ1bmN0aW9uKHN0cmluZykge3JldHVybiBpc1N0cmluZyhzdHJpbmcpID8gc3RyaW5nLnRvTG93ZXJDYXNlKCkgOiBzdHJpbmc7fTtcclxudmFyIHVwcGVyY2FzZSA9IGZ1bmN0aW9uKHN0cmluZykge3JldHVybiBpc1N0cmluZyhzdHJpbmcpID8gc3RyaW5nLnRvVXBwZXJDYXNlKCkgOiBzdHJpbmc7fTtcclxuXHJcblxyXG52YXIgbWFudWFsTG93ZXJjYXNlID0gZnVuY3Rpb24ocykge1xyXG4gIC8qIGpzaGludCBiaXR3aXNlOiBmYWxzZSAqL1xyXG4gIHJldHVybiBpc1N0cmluZyhzKVxyXG4gICAgICA/IHMucmVwbGFjZSgvW0EtWl0vZywgZnVuY3Rpb24oY2gpIHtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaC5jaGFyQ29kZUF0KDApIHwgMzIpO30pXHJcbiAgICAgIDogcztcclxufTtcclxudmFyIG1hbnVhbFVwcGVyY2FzZSA9IGZ1bmN0aW9uKHMpIHtcclxuICAvKiBqc2hpbnQgYml0d2lzZTogZmFsc2UgKi9cclxuICByZXR1cm4gaXNTdHJpbmcocylcclxuICAgICAgPyBzLnJlcGxhY2UoL1thLXpdL2csIGZ1bmN0aW9uKGNoKSB7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2guY2hhckNvZGVBdCgwKSAmIH4zMik7fSlcclxuICAgICAgOiBzO1xyXG59O1xyXG5cclxuXHJcbi8vIFN0cmluZyN0b0xvd2VyQ2FzZSBhbmQgU3RyaW5nI3RvVXBwZXJDYXNlIGRvbid0IHByb2R1Y2UgY29ycmVjdCByZXN1bHRzIGluIGJyb3dzZXJzIHdpdGggVHVya2lzaFxyXG4vLyBsb2NhbGUsIGZvciB0aGlzIHJlYXNvbiB3ZSBuZWVkIHRvIGRldGVjdCB0aGlzIGNhc2UgYW5kIHJlZGVmaW5lIGxvd2VyY2FzZS91cHBlcmNhc2UgbWV0aG9kc1xyXG4vLyB3aXRoIGNvcnJlY3QgYnV0IHNsb3dlciBhbHRlcm5hdGl2ZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMTM4N1xyXG5pZiAoJ2knICE9PSAnSScudG9Mb3dlckNhc2UoKSkge1xyXG4gIGxvd2VyY2FzZSA9IG1hbnVhbExvd2VyY2FzZTtcclxuICB1cHBlcmNhc2UgPSBtYW51YWxVcHBlcmNhc2U7XHJcbn1cclxuXHJcblxyXG52YXJcclxuICAgIG1zaWUsICAgICAgICAgICAgIC8vIGhvbGRzIG1ham9yIHZlcnNpb24gbnVtYmVyIGZvciBJRSwgb3IgTmFOIGlmIFVBIGlzIG5vdCBJRS5cclxuICAgIGpxTGl0ZSwgICAgICAgICAgIC8vIGRlbGF5IGJpbmRpbmcgc2luY2UgalF1ZXJ5IGNvdWxkIGJlIGxvYWRlZCBhZnRlciB1cy5cclxuICAgIGpRdWVyeSwgICAgICAgICAgIC8vIGRlbGF5IGJpbmRpbmdcclxuICAgIHNsaWNlICAgICAgICAgICAgID0gW10uc2xpY2UsXHJcbiAgICBzcGxpY2UgICAgICAgICAgICA9IFtdLnNwbGljZSxcclxuICAgIHB1c2ggICAgICAgICAgICAgID0gW10ucHVzaCxcclxuICAgIHRvU3RyaW5nICAgICAgICAgID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcclxuICAgIGdldFByb3RvdHlwZU9mICAgID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLFxyXG4gICAgbmdNaW5FcnIgICAgICAgICAgPSBtaW5FcnIoJ25nJyksXHJcblxyXG4gICAgLyoqIEBuYW1lIGFuZ3VsYXIgKi9cclxuICAgIGFuZ3VsYXIgICAgICAgICAgID0gd2luZG93LmFuZ3VsYXIgfHwgKHdpbmRvdy5hbmd1bGFyID0ge30pLFxyXG4gICAgYW5ndWxhck1vZHVsZSxcclxuICAgIHVpZCAgICAgICAgICAgICAgID0gMDtcclxuXHJcbi8qKlxyXG4gKiBkb2N1bWVudE1vZGUgaXMgYW4gSUUtb25seSBwcm9wZXJ0eVxyXG4gKiBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvY2MxOTY5ODgodj12cy44NSkuYXNweFxyXG4gKi9cclxubXNpZSA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudE1vZGU7XHJcblxyXG5cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gb2JqXHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBgb2JqYCBpcyBhbiBhcnJheSBvciBhcnJheS1saWtlIG9iamVjdCAoTm9kZUxpc3QsIEFyZ3VtZW50cyxcclxuICogICAgICAgICAgICAgICAgICAgU3RyaW5nIC4uLilcclxuICovXHJcbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKG9iaikge1xyXG5cclxuICAvLyBgbnVsbGAsIGB1bmRlZmluZWRgIGFuZCBgd2luZG93YCBhcmUgbm90IGFycmF5LWxpa2VcclxuICBpZiAob2JqID09IG51bGwgfHwgaXNXaW5kb3cob2JqKSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAvLyBhcnJheXMsIHN0cmluZ3MgYW5kIGpRdWVyeS9qcUxpdGUgb2JqZWN0cyBhcmUgYXJyYXkgbGlrZVxyXG4gIC8vICoganFMaXRlIGlzIGVpdGhlciB0aGUgalF1ZXJ5IG9yIGpxTGl0ZSBjb25zdHJ1Y3RvciBmdW5jdGlvblxyXG4gIC8vICogd2UgaGF2ZSB0byBjaGVjayB0aGUgZXhpc3RlbmNlIG9mIGpxTGl0ZSBmaXJzdCBhcyB0aGlzIG1ldGhvZCBpcyBjYWxsZWRcclxuICAvLyAgIHZpYSB0aGUgZm9yRWFjaCBtZXRob2Qgd2hlbiBjb25zdHJ1Y3RpbmcgdGhlIGpxTGl0ZSBvYmplY3QgaW4gdGhlIGZpcnN0IHBsYWNlXHJcbiAgaWYgKGlzQXJyYXkob2JqKSB8fCBpc1N0cmluZyhvYmopIHx8IChqcUxpdGUgJiYgb2JqIGluc3RhbmNlb2YganFMaXRlKSkgcmV0dXJuIHRydWU7XHJcblxyXG4gIC8vIFN1cHBvcnQ6IGlPUyA4LjIgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxyXG4gIC8vIFwibGVuZ3RoXCIgaW4gb2JqIHVzZWQgdG8gcHJldmVudCBKSVQgZXJyb3IgKGdoLTExNTA4KVxyXG4gIHZhciBsZW5ndGggPSBcImxlbmd0aFwiIGluIE9iamVjdChvYmopICYmIG9iai5sZW5ndGg7XHJcblxyXG4gIC8vIE5vZGVMaXN0IG9iamVjdHMgKHdpdGggYGl0ZW1gIG1ldGhvZCkgYW5kXHJcbiAgLy8gb3RoZXIgb2JqZWN0cyB3aXRoIHN1aXRhYmxlIGxlbmd0aCBjaGFyYWN0ZXJpc3RpY3MgYXJlIGFycmF5LWxpa2VcclxuICByZXR1cm4gaXNOdW1iZXIobGVuZ3RoKSAmJlxyXG4gICAgKGxlbmd0aCA+PSAwICYmICgobGVuZ3RoIC0gMSkgaW4gb2JqIHx8IG9iaiBpbnN0YW5jZW9mIEFycmF5KSB8fCB0eXBlb2Ygb2JqLml0ZW0gPT0gJ2Z1bmN0aW9uJyk7XHJcblxyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuZm9yRWFjaFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBJbnZva2VzIHRoZSBgaXRlcmF0b3JgIGZ1bmN0aW9uIG9uY2UgZm9yIGVhY2ggaXRlbSBpbiBgb2JqYCBjb2xsZWN0aW9uLCB3aGljaCBjYW4gYmUgZWl0aGVyIGFuXHJcbiAqIG9iamVjdCBvciBhbiBhcnJheS4gVGhlIGBpdGVyYXRvcmAgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIGBpdGVyYXRvcih2YWx1ZSwga2V5LCBvYmopYCwgd2hlcmUgYHZhbHVlYFxyXG4gKiBpcyB0aGUgdmFsdWUgb2YgYW4gb2JqZWN0IHByb3BlcnR5IG9yIGFuIGFycmF5IGVsZW1lbnQsIGBrZXlgIGlzIHRoZSBvYmplY3QgcHJvcGVydHkga2V5IG9yXHJcbiAqIGFycmF5IGVsZW1lbnQgaW5kZXggYW5kIG9iaiBpcyB0aGUgYG9iamAgaXRzZWxmLiBTcGVjaWZ5aW5nIGEgYGNvbnRleHRgIGZvciB0aGUgZnVuY3Rpb24gaXMgb3B0aW9uYWwuXHJcbiAqXHJcbiAqIEl0IGlzIHdvcnRoIG5vdGluZyB0aGF0IGAuZm9yRWFjaGAgZG9lcyBub3QgaXRlcmF0ZSBvdmVyIGluaGVyaXRlZCBwcm9wZXJ0aWVzIGJlY2F1c2UgaXQgZmlsdGVyc1xyXG4gKiB1c2luZyB0aGUgYGhhc093blByb3BlcnR5YCBtZXRob2QuXHJcbiAqXHJcbiAqIFVubGlrZSBFUzI2MidzXHJcbiAqIFtBcnJheS5wcm90b3R5cGUuZm9yRWFjaF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTE1LjQuNC4xOCksXHJcbiAqIHByb3ZpZGluZyAndW5kZWZpbmVkJyBvciAnbnVsbCcgdmFsdWVzIGZvciBgb2JqYCB3aWxsIG5vdCB0aHJvdyBhIFR5cGVFcnJvciwgYnV0IHJhdGhlciBqdXN0XHJcbiAqIHJldHVybiB0aGUgdmFsdWUgcHJvdmlkZWQuXHJcbiAqXHJcbiAgIGBgYGpzXHJcbiAgICAgdmFyIHZhbHVlcyA9IHtuYW1lOiAnbWlza28nLCBnZW5kZXI6ICdtYWxlJ307XHJcbiAgICAgdmFyIGxvZyA9IFtdO1xyXG4gICAgIGFuZ3VsYXIuZm9yRWFjaCh2YWx1ZXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgIHRoaXMucHVzaChrZXkgKyAnOiAnICsgdmFsdWUpO1xyXG4gICAgIH0sIGxvZyk7XHJcbiAgICAgZXhwZWN0KGxvZykudG9FcXVhbChbJ25hbWU6IG1pc2tvJywgJ2dlbmRlcjogbWFsZSddKTtcclxuICAgYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogT2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cclxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3IgSXRlcmF0b3IgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29udGV4dCBPYmplY3QgdG8gYmVjb21lIGNvbnRleHQgKGB0aGlzYCkgZm9yIHRoZSBpdGVyYXRvciBmdW5jdGlvbi5cclxuICogQHJldHVybnMge09iamVjdHxBcnJheX0gUmVmZXJlbmNlIHRvIGBvYmpgLlxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xyXG4gIHZhciBrZXksIGxlbmd0aDtcclxuICBpZiAob2JqKSB7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihvYmopKSB7XHJcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xyXG4gICAgICAgIC8vIE5lZWQgdG8gY2hlY2sgaWYgaGFzT3duUHJvcGVydHkgZXhpc3RzLFxyXG4gICAgICAgIC8vIGFzIG9uIElFOCB0aGUgcmVzdWx0IG9mIHF1ZXJ5U2VsZWN0b3JBbGwgaXMgYW4gb2JqZWN0IHdpdGhvdXQgYSBoYXNPd25Qcm9wZXJ0eSBmdW5jdGlvblxyXG4gICAgICAgIGlmIChrZXkgIT0gJ3Byb3RvdHlwZScgJiYga2V5ICE9ICdsZW5ndGgnICYmIGtleSAhPSAnbmFtZScgJiYgKCFvYmouaGFzT3duUHJvcGVydHkgfHwgb2JqLmhhc093blByb3BlcnR5KGtleSkpKSB7XHJcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqKSB8fCBpc0FycmF5TGlrZShvYmopKSB7XHJcbiAgICAgIHZhciBpc1ByaW1pdGl2ZSA9IHR5cGVvZiBvYmogIT09ICdvYmplY3QnO1xyXG4gICAgICBmb3IgKGtleSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGtleSA8IGxlbmd0aDsga2V5KyspIHtcclxuICAgICAgICBpZiAoaXNQcmltaXRpdmUgfHwga2V5IGluIG9iaikge1xyXG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChvYmouZm9yRWFjaCAmJiBvYmouZm9yRWFjaCAhPT0gZm9yRWFjaCkge1xyXG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0LCBvYmopO1xyXG4gICAgfSBlbHNlIGlmIChpc0JsYW5rT2JqZWN0KG9iaikpIHtcclxuICAgICAgLy8gY3JlYXRlTWFwKCkgZmFzdCBwYXRoIC0tLSBTYWZlIHRvIGF2b2lkIGhhc093blByb3BlcnR5IGNoZWNrIGJlY2F1c2UgcHJvdG90eXBlIGNoYWluIGlzIGVtcHR5XHJcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xyXG4gICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqLmhhc093blByb3BlcnR5ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIC8vIFNsb3cgcGF0aCBmb3Igb2JqZWN0cyBpbmhlcml0aW5nIE9iamVjdC5wcm90b3R5cGUsIGhhc093blByb3BlcnR5IGNoZWNrIG5lZWRlZFxyXG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFNsb3cgcGF0aCBmb3Igb2JqZWN0cyB3aGljaCBkbyBub3QgaGF2ZSBhIG1ldGhvZCBgaGFzT3duUHJvcGVydHlgXHJcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmb3JFYWNoU29ydGVkKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcclxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaikuc29ydCgpO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5c1tpXV0sIGtleXNbaV0pO1xyXG4gIH1cclxuICByZXR1cm4ga2V5cztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiB3aGVuIHVzaW5nIGZvckVhY2ggdGhlIHBhcmFtcyBhcmUgdmFsdWUsIGtleSwgYnV0IGl0IGlzIG9mdGVuIHVzZWZ1bCB0byBoYXZlIGtleSwgdmFsdWUuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nLCAqKX0gaXRlcmF0b3JGblxyXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKiwgc3RyaW5nKX1cclxuICovXHJcbmZ1bmN0aW9uIHJldmVyc2VQYXJhbXMoaXRlcmF0b3JGbikge1xyXG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSwga2V5KSB7aXRlcmF0b3JGbihrZXksIHZhbHVlKTt9O1xyXG59XHJcblxyXG4vKipcclxuICogQSBjb25zaXN0ZW50IHdheSBvZiBjcmVhdGluZyB1bmlxdWUgSURzIGluIGFuZ3VsYXIuXHJcbiAqXHJcbiAqIFVzaW5nIHNpbXBsZSBudW1iZXJzIGFsbG93cyB1cyB0byBnZW5lcmF0ZSAyOC42IG1pbGxpb24gdW5pcXVlIGlkcyBwZXIgc2Vjb25kIGZvciAxMCB5ZWFycyBiZWZvcmVcclxuICogd2UgaGl0IG51bWJlciBwcmVjaXNpb24gaXNzdWVzIGluIEphdmFTY3JpcHQuXHJcbiAqXHJcbiAqIE1hdGgucG93KDIsNTMpIC8gNjAgLyA2MCAvIDI0IC8gMzY1IC8gMTAgPSAyOC42TVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbiB1bmlxdWUgYWxwaGEtbnVtZXJpYyBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIG5leHRVaWQoKSB7XHJcbiAgcmV0dXJuICsrdWlkO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFNldCBvciBjbGVhciB0aGUgaGFzaGtleSBmb3IgYW4gb2JqZWN0LlxyXG4gKiBAcGFyYW0gb2JqIG9iamVjdFxyXG4gKiBAcGFyYW0gaCB0aGUgaGFzaGtleSAoIXRydXRoeSB0byBkZWxldGUgdGhlIGhhc2hrZXkpXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRIYXNoS2V5KG9iaiwgaCkge1xyXG4gIGlmIChoKSB7XHJcbiAgICBvYmouJCRoYXNoS2V5ID0gaDtcclxuICB9IGVsc2Uge1xyXG4gICAgZGVsZXRlIG9iai4kJGhhc2hLZXk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYmFzZUV4dGVuZChkc3QsIG9ianMsIGRlZXApIHtcclxuICB2YXIgaCA9IGRzdC4kJGhhc2hLZXk7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IG9ianMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xyXG4gICAgdmFyIG9iaiA9IG9ianNbaV07XHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iaikgJiYgIWlzRnVuY3Rpb24ob2JqKSkgY29udGludWU7XHJcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XHJcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSBrZXlzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcclxuICAgICAgdmFyIGtleSA9IGtleXNbal07XHJcbiAgICAgIHZhciBzcmMgPSBvYmpba2V5XTtcclxuXHJcbiAgICAgIGlmIChkZWVwICYmIGlzT2JqZWN0KHNyYykpIHtcclxuICAgICAgICBpZiAoaXNEYXRlKHNyYykpIHtcclxuICAgICAgICAgIGRzdFtrZXldID0gbmV3IERhdGUoc3JjLnZhbHVlT2YoKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlZ0V4cChzcmMpKSB7XHJcbiAgICAgICAgICBkc3Rba2V5XSA9IG5ldyBSZWdFeHAoc3JjKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNyYy5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgZHN0W2tleV0gPSBzcmMuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KHNyYykpIHtcclxuICAgICAgICAgIGRzdFtrZXldID0gc3JjLmNsb25lKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmICghaXNPYmplY3QoZHN0W2tleV0pKSBkc3Rba2V5XSA9IGlzQXJyYXkoc3JjKSA/IFtdIDoge307XHJcbiAgICAgICAgICBiYXNlRXh0ZW5kKGRzdFtrZXldLCBbc3JjXSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRzdFtrZXldID0gc3JjO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRIYXNoS2V5KGRzdCwgaCk7XHJcbiAgcmV0dXJuIGRzdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmV4dGVuZFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFeHRlbmRzIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgYGRzdGAgYnkgY29weWluZyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGZyb20gdGhlIGBzcmNgIG9iamVjdChzKVxyXG4gKiB0byBgZHN0YC4gWW91IGNhbiBzcGVjaWZ5IG11bHRpcGxlIGBzcmNgIG9iamVjdHMuIElmIHlvdSB3YW50IHRvIHByZXNlcnZlIG9yaWdpbmFsIG9iamVjdHMsIHlvdSBjYW4gZG8gc29cclxuICogYnkgcGFzc2luZyBhbiBlbXB0eSBvYmplY3QgYXMgdGhlIHRhcmdldDogYHZhciBvYmplY3QgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb2JqZWN0MSwgb2JqZWN0MilgLlxyXG4gKlxyXG4gKiAqKk5vdGU6KiogS2VlcCBpbiBtaW5kIHRoYXQgYGFuZ3VsYXIuZXh0ZW5kYCBkb2VzIG5vdCBzdXBwb3J0IHJlY3Vyc2l2ZSBtZXJnZSAoZGVlcCBjb3B5KS4gVXNlXHJcbiAqIHtAbGluayBhbmd1bGFyLm1lcmdlfSBmb3IgdGhpcy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGRzdCBEZXN0aW5hdGlvbiBvYmplY3QuXHJcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzcmMgU291cmNlIG9iamVjdChzKS5cclxuICogQHJldHVybnMge09iamVjdH0gUmVmZXJlbmNlIHRvIGBkc3RgLlxyXG4gKi9cclxuZnVuY3Rpb24gZXh0ZW5kKGRzdCkge1xyXG4gIHJldHVybiBiYXNlRXh0ZW5kKGRzdCwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBmYWxzZSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuKiBAbmdkb2MgZnVuY3Rpb25cclxuKiBAbmFtZSBhbmd1bGFyLm1lcmdlXHJcbiogQG1vZHVsZSBuZ1xyXG4qIEBraW5kIGZ1bmN0aW9uXHJcbipcclxuKiBAZGVzY3JpcHRpb25cclxuKiBEZWVwbHkgZXh0ZW5kcyB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGBkc3RgIGJ5IGNvcHlpbmcgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBmcm9tIHRoZSBgc3JjYCBvYmplY3QocylcclxuKiB0byBgZHN0YC4gWW91IGNhbiBzcGVjaWZ5IG11bHRpcGxlIGBzcmNgIG9iamVjdHMuIElmIHlvdSB3YW50IHRvIHByZXNlcnZlIG9yaWdpbmFsIG9iamVjdHMsIHlvdSBjYW4gZG8gc29cclxuKiBieSBwYXNzaW5nIGFuIGVtcHR5IG9iamVjdCBhcyB0aGUgdGFyZ2V0OiBgdmFyIG9iamVjdCA9IGFuZ3VsYXIubWVyZ2Uoe30sIG9iamVjdDEsIG9iamVjdDIpYC5cclxuKlxyXG4qIFVubGlrZSB7QGxpbmsgYW5ndWxhci5leHRlbmQgZXh0ZW5kKCl9LCBgbWVyZ2UoKWAgcmVjdXJzaXZlbHkgZGVzY2VuZHMgaW50byBvYmplY3QgcHJvcGVydGllcyBvZiBzb3VyY2VcclxuKiBvYmplY3RzLCBwZXJmb3JtaW5nIGEgZGVlcCBjb3B5LlxyXG4qXHJcbiogQHBhcmFtIHtPYmplY3R9IGRzdCBEZXN0aW5hdGlvbiBvYmplY3QuXHJcbiogQHBhcmFtIHsuLi5PYmplY3R9IHNyYyBTb3VyY2Ugb2JqZWN0KHMpLlxyXG4qIEByZXR1cm5zIHtPYmplY3R9IFJlZmVyZW5jZSB0byBgZHN0YC5cclxuKi9cclxuZnVuY3Rpb24gbWVyZ2UoZHN0KSB7XHJcbiAgcmV0dXJuIGJhc2VFeHRlbmQoZHN0LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIHRydWUpO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHRvSW50KHN0cikge1xyXG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGluaGVyaXQocGFyZW50LCBleHRyYSkge1xyXG4gIHJldHVybiBleHRlbmQoT2JqZWN0LmNyZWF0ZShwYXJlbnQpLCBleHRyYSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5ub29wXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBubyBvcGVyYXRpb25zLiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VmdWwgd2hlbiB3cml0aW5nIGNvZGUgaW4gdGhlXHJcbiAqIGZ1bmN0aW9uYWwgc3R5bGUuXHJcbiAgIGBgYGpzXHJcbiAgICAgZnVuY3Rpb24gZm9vKGNhbGxiYWNrKSB7XHJcbiAgICAgICB2YXIgcmVzdWx0ID0gY2FsY3VsYXRlUmVzdWx0KCk7XHJcbiAgICAgICAoY2FsbGJhY2sgfHwgYW5ndWxhci5ub29wKShyZXN1bHQpO1xyXG4gICAgIH1cclxuICAgYGBgXHJcbiAqL1xyXG5mdW5jdGlvbiBub29wKCkge31cclxubm9vcC4kaW5qZWN0ID0gW107XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmlkZW50aXR5XHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGl0cyBmaXJzdCBhcmd1bWVudC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VmdWwgd2hlbiB3cml0aW5nIGNvZGUgaW4gdGhlXHJcbiAqIGZ1bmN0aW9uYWwgc3R5bGUuXHJcbiAqXHJcbiAgIGBgYGpzXHJcbiAgICAgZnVuY3Rpb24gdHJhbnNmb3JtZXIodHJhbnNmb3JtYXRpb25GbiwgdmFsdWUpIHtcclxuICAgICAgIHJldHVybiAodHJhbnNmb3JtYXRpb25GbiB8fCBhbmd1bGFyLmlkZW50aXR5KSh2YWx1ZSk7XHJcbiAgICAgfTtcclxuICAgYGBgXHJcbiAgKiBAcGFyYW0geyp9IHZhbHVlIHRvIGJlIHJldHVybmVkLlxyXG4gICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBwYXNzZWQgaW4uXHJcbiAqL1xyXG5mdW5jdGlvbiBpZGVudGl0eSgkKSB7cmV0dXJuICQ7fVxyXG5pZGVudGl0eS4kaW5qZWN0ID0gW107XHJcblxyXG5cclxuZnVuY3Rpb24gdmFsdWVGbih2YWx1ZSkge3JldHVybiBmdW5jdGlvbiB2YWx1ZVJlZigpIHtyZXR1cm4gdmFsdWU7fTt9XHJcblxyXG5mdW5jdGlvbiBoYXNDdXN0b21Ub1N0cmluZyhvYmopIHtcclxuICByZXR1cm4gaXNGdW5jdGlvbihvYmoudG9TdHJpbmcpICYmIG9iai50b1N0cmluZyAhPT0gdG9TdHJpbmc7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuaXNVbmRlZmluZWRcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyB1bmRlZmluZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIHVuZGVmaW5lZC5cclxuICovXHJcbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCc7fVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc0RlZmluZWRcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBkZWZpbmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBkZWZpbmVkLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNEZWZpbmVkKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCc7fVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc09iamVjdFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGFuIGBPYmplY3RgLiBVbmxpa2UgYHR5cGVvZmAgaW4gSmF2YVNjcmlwdCwgYG51bGxgcyBhcmUgbm90XHJcbiAqIGNvbnNpZGVyZWQgdG8gYmUgb2JqZWN0cy4gTm90ZSB0aGF0IEphdmFTY3JpcHQgYXJyYXlzIGFyZSBvYmplY3RzLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgT2JqZWN0YCBidXQgbm90IGBudWxsYC5cclxuICovXHJcbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XHJcbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vaXNvYmplY3Q0XHJcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYSBudWxsIHByb3RvdHlwZVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBPYmplY3RgIHdpdGggYSBudWxsIHByb3RvdHlwZVxyXG4gKi9cclxuZnVuY3Rpb24gaXNCbGFua09iamVjdCh2YWx1ZSkge1xyXG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICFnZXRQcm90b3R5cGVPZih2YWx1ZSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuaXNTdHJpbmdcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBTdHJpbmdgLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBTdHJpbmdgLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJzt9XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmlzTnVtYmVyXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgTnVtYmVyYC5cclxuICpcclxuICogVGhpcyBpbmNsdWRlcyB0aGUgXCJzcGVjaWFsXCIgbnVtYmVycyBgTmFOYCwgYCtJbmZpbml0eWAgYW5kIGAtSW5maW5pdHlgLlxyXG4gKlxyXG4gKiBJZiB5b3Ugd2lzaCB0byBleGNsdWRlIHRoZXNlIHRoZW4geW91IGNhbiB1c2UgdGhlIG5hdGl2ZVxyXG4gKiBbYGlzRmluaXRlJ10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvaXNGaW5pdGUpXHJcbiAqIG1ldGhvZC5cclxuICpcclxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgTnVtYmVyYC5cclxuICovXHJcbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7fVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc0RhdGVcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHZhbHVlIGlzIGEgZGF0ZS5cclxuICpcclxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgRGF0ZWAuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IERhdGVdJztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc0FycmF5XHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYW4gYEFycmF5YC5cclxuICpcclxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYW4gYEFycmF5YC5cclxuICovXHJcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc0Z1bmN0aW9uXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgRnVuY3Rpb25gLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBGdW5jdGlvbmAuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJzt9XHJcblxyXG5cclxuLyoqXHJcbiAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYFJlZ0V4cGAuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQ2hlY2tzIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iamVjdC5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmogT2JqZWN0IHRvIGNoZWNrXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iai5cclxuICovXHJcbmZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xyXG4gIHJldHVybiBvYmogJiYgb2JqLndpbmRvdyA9PT0gb2JqO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNTY29wZShvYmopIHtcclxuICByZXR1cm4gb2JqICYmIG9iai4kZXZhbEFzeW5jICYmIG9iai4kd2F0Y2g7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBpc0ZpbGUob2JqKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNGb3JtRGF0YShvYmopIHtcclxuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGb3JtRGF0YV0nO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNCbG9iKG9iaikge1xyXG4gIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJsb2JdJztcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xyXG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGlzUHJvbWlzZUxpa2Uob2JqKSB7XHJcbiAgcmV0dXJuIG9iaiAmJiBpc0Z1bmN0aW9uKG9iai50aGVuKTtcclxufVxyXG5cclxuXHJcbnZhciBUWVBFRF9BUlJBWV9SRUdFWFAgPSAvXlxcW29iamVjdCAoPzpVaW50OHxVaW50OENsYW1wZWR8VWludDE2fFVpbnQzMnxJbnQ4fEludDE2fEludDMyfEZsb2F0MzJ8RmxvYXQ2NClBcnJheVxcXSQvO1xyXG5mdW5jdGlvbiBpc1R5cGVkQXJyYXkodmFsdWUpIHtcclxuICByZXR1cm4gdmFsdWUgJiYgaXNOdW1iZXIodmFsdWUubGVuZ3RoKSAmJiBUWVBFRF9BUlJBWV9SRUdFWFAudGVzdCh0b1N0cmluZy5jYWxsKHZhbHVlKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIob2JqKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcclxufVxyXG5cclxuXHJcbnZhciB0cmltID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gdmFsdWUudHJpbSgpIDogdmFsdWU7XHJcbn07XHJcblxyXG4vLyBDb3BpZWQgZnJvbTpcclxuLy8gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9sb2NhbF9jbG9zdXJlX2dvb2dfc3RyaW5nX3N0cmluZy5qcy5zb3VyY2UuaHRtbCNsaW5lMTAyMVxyXG4vLyBQcmVyZXE6IHMgaXMgYSBzdHJpbmcuXHJcbnZhciBlc2NhcGVGb3JSZWdleHAgPSBmdW5jdGlvbihzKSB7XHJcbiAgcmV0dXJuIHMucmVwbGFjZSgvKFstKClcXFtcXF17fSs/Ki4kXFxefCw6IzwhXFxcXF0pL2csICdcXFxcJDEnKS5cclxuICAgICAgICAgICByZXBsYWNlKC9cXHgwOC9nLCAnXFxcXHgwOCcpO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc0VsZW1lbnRcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIERPTSBlbGVtZW50IChvciB3cmFwcGVkIGpRdWVyeSBlbGVtZW50KS5cclxuICpcclxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCAob3Igd3JhcHBlZCBqUXVlcnkgZWxlbWVudCkuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0VsZW1lbnQobm9kZSkge1xyXG4gIHJldHVybiAhIShub2RlICYmXHJcbiAgICAobm9kZS5ub2RlTmFtZSAgLy8gd2UgYXJlIGEgZGlyZWN0IGVsZW1lbnRcclxuICAgIHx8IChub2RlLnByb3AgJiYgbm9kZS5hdHRyICYmIG5vZGUuZmluZCkpKTsgIC8vIHdlIGhhdmUgYW4gb24gYW5kIGZpbmQgbWV0aG9kIHBhcnQgb2YgalF1ZXJ5IEFQSVxyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHN0ciAna2V5MSxrZXkyLC4uLidcclxuICogQHJldHVybnMge29iamVjdH0gaW4gdGhlIGZvcm0gb2Yge2tleTE6dHJ1ZSwga2V5Mjp0cnVlLCAuLi59XHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlTWFwKHN0cikge1xyXG4gIHZhciBvYmogPSB7fSwgaXRlbXMgPSBzdHIuc3BsaXQoJywnKSwgaTtcclxuICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgIG9ialtpdGVtc1tpXV0gPSB0cnVlO1xyXG4gIH1cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gbm9kZU5hbWVfKGVsZW1lbnQpIHtcclxuICByZXR1cm4gbG93ZXJjYXNlKGVsZW1lbnQubm9kZU5hbWUgfHwgKGVsZW1lbnRbMF0gJiYgZWxlbWVudFswXS5ub2RlTmFtZSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgb2JqKSB7XHJcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYXJyYXksIG9iaikgIT0gLTE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFycmF5UmVtb3ZlKGFycmF5LCB2YWx1ZSkge1xyXG4gIHZhciBpbmRleCA9IGFycmF5LmluZGV4T2YodmFsdWUpO1xyXG4gIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIH1cclxuICByZXR1cm4gaW5kZXg7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5jb3B5XHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIENyZWF0ZXMgYSBkZWVwIGNvcHkgb2YgYHNvdXJjZWAsIHdoaWNoIHNob3VsZCBiZSBhbiBvYmplY3Qgb3IgYW4gYXJyYXkuXHJcbiAqXHJcbiAqICogSWYgbm8gZGVzdGluYXRpb24gaXMgc3VwcGxpZWQsIGEgY29weSBvZiB0aGUgb2JqZWN0IG9yIGFycmF5IGlzIGNyZWF0ZWQuXHJcbiAqICogSWYgYSBkZXN0aW5hdGlvbiBpcyBwcm92aWRlZCwgYWxsIG9mIGl0cyBlbGVtZW50cyAoZm9yIGFycmF5cykgb3IgcHJvcGVydGllcyAoZm9yIG9iamVjdHMpXHJcbiAqICAgYXJlIGRlbGV0ZWQgYW5kIHRoZW4gYWxsIGVsZW1lbnRzL3Byb3BlcnRpZXMgZnJvbSB0aGUgc291cmNlIGFyZSBjb3BpZWQgdG8gaXQuXHJcbiAqICogSWYgYHNvdXJjZWAgaXMgbm90IGFuIG9iamVjdCBvciBhcnJheSAoaW5jLiBgbnVsbGAgYW5kIGB1bmRlZmluZWRgKSwgYHNvdXJjZWAgaXMgcmV0dXJuZWQuXHJcbiAqICogSWYgYHNvdXJjZWAgaXMgaWRlbnRpY2FsIHRvICdkZXN0aW5hdGlvbicgYW4gZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHNvdXJjZSBUaGUgc291cmNlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIG1ha2UgYSBjb3B5LlxyXG4gKiAgICAgICAgICAgICAgICAgICBDYW4gYmUgYW55IHR5cGUsIGluY2x1ZGluZyBwcmltaXRpdmVzLCBgbnVsbGAsIGFuZCBgdW5kZWZpbmVkYC5cclxuICogQHBhcmFtIHsoT2JqZWN0fEFycmF5KT19IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIGludG8gd2hpY2ggdGhlIHNvdXJjZSBpcyBjb3BpZWQuIElmXHJcbiAqICAgICBwcm92aWRlZCwgbXVzdCBiZSBvZiB0aGUgc2FtZSB0eXBlIGFzIGBzb3VyY2VgLlxyXG4gKiBAcmV0dXJucyB7Kn0gVGhlIGNvcHkgb3IgdXBkYXRlZCBgZGVzdGluYXRpb25gLCBpZiBgZGVzdGluYXRpb25gIHdhcyBzcGVjaWZpZWQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiA8ZXhhbXBsZSBtb2R1bGU9XCJjb3B5RXhhbXBsZVwiPlxyXG4gPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiA8Zm9ybSBub3ZhbGlkYXRlIGNsYXNzPVwic2ltcGxlLWZvcm1cIj5cclxuIE5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlci5uYW1lXCIgLz48YnIgLz5cclxuIEUtbWFpbDogPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5nLW1vZGVsPVwidXNlci5lbWFpbFwiIC8+PGJyIC8+XHJcbiBHZW5kZXI6IDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cInVzZXIuZ2VuZGVyXCIgdmFsdWU9XCJtYWxlXCIgLz5tYWxlXHJcbiA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJ1c2VyLmdlbmRlclwiIHZhbHVlPVwiZmVtYWxlXCIgLz5mZW1hbGU8YnIgLz5cclxuIDxidXR0b24gbmctY2xpY2s9XCJyZXNldCgpXCI+UkVTRVQ8L2J1dHRvbj5cclxuIDxidXR0b24gbmctY2xpY2s9XCJ1cGRhdGUodXNlcilcIj5TQVZFPC9idXR0b24+XHJcbiA8L2Zvcm0+XHJcbiA8cHJlPmZvcm0gPSB7e3VzZXIgfCBqc29ufX08L3ByZT5cclxuIDxwcmU+bWFzdGVyID0ge3ttYXN0ZXIgfCBqc29ufX08L3ByZT5cclxuIDwvZGl2PlxyXG5cclxuIDxzY3JpcHQ+XHJcbiAgYW5ndWxhci5tb2R1bGUoJ2NvcHlFeGFtcGxlJywgW10pXHJcbiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAkc2NvcGUubWFzdGVyPSB7fTtcclxuXHJcbiAgICAgICRzY29wZS51cGRhdGUgPSBmdW5jdGlvbih1c2VyKSB7XHJcbiAgICAgICAgLy8gRXhhbXBsZSB3aXRoIDEgYXJndW1lbnRcclxuICAgICAgICAkc2NvcGUubWFzdGVyPSBhbmd1bGFyLmNvcHkodXNlcik7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBFeGFtcGxlIHdpdGggMiBhcmd1bWVudHNcclxuICAgICAgICBhbmd1bGFyLmNvcHkoJHNjb3BlLm1hc3RlciwgJHNjb3BlLnVzZXIpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgJHNjb3BlLnJlc2V0KCk7XHJcbiAgICB9XSk7XHJcbiA8L3NjcmlwdD5cclxuIDwvZmlsZT5cclxuIDwvZXhhbXBsZT5cclxuICovXHJcbmZ1bmN0aW9uIGNvcHkoc291cmNlLCBkZXN0aW5hdGlvbikge1xyXG4gIHZhciBzdGFja1NvdXJjZSA9IFtdO1xyXG4gIHZhciBzdGFja0Rlc3QgPSBbXTtcclxuXHJcbiAgaWYgKGRlc3RpbmF0aW9uKSB7XHJcbiAgICBpZiAoaXNUeXBlZEFycmF5KGRlc3RpbmF0aW9uKSB8fCBpc0FycmF5QnVmZmVyKGRlc3RpbmF0aW9uKSkge1xyXG4gICAgICB0aHJvdyBuZ01pbkVycignY3B0YScsIFwiQ2FuJ3QgY29weSEgVHlwZWRBcnJheSBkZXN0aW5hdGlvbiBjYW5ub3QgYmUgbXV0YXRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlID09PSBkZXN0aW5hdGlvbikge1xyXG4gICAgICB0aHJvdyBuZ01pbkVycignY3BpJywgXCJDYW4ndCBjb3B5ISBTb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGFyZSBpZGVudGljYWwuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVtcHR5IHRoZSBkZXN0aW5hdGlvbiBvYmplY3RcclxuICAgIGlmIChpc0FycmF5KGRlc3RpbmF0aW9uKSkge1xyXG4gICAgICBkZXN0aW5hdGlvbi5sZW5ndGggPSAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yRWFjaChkZXN0aW5hdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgIGlmIChrZXkgIT09ICckJGhhc2hLZXknKSB7XHJcbiAgICAgICAgICBkZWxldGUgZGVzdGluYXRpb25ba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YWNrU291cmNlLnB1c2goc291cmNlKTtcclxuICAgIHN0YWNrRGVzdC5wdXNoKGRlc3RpbmF0aW9uKTtcclxuICAgIHJldHVybiBjb3B5UmVjdXJzZShzb3VyY2UsIGRlc3RpbmF0aW9uKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjb3B5RWxlbWVudChzb3VyY2UpO1xyXG5cclxuICBmdW5jdGlvbiBjb3B5UmVjdXJzZShzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XHJcbiAgICB2YXIgaCA9IGRlc3RpbmF0aW9uLiQkaGFzaEtleTtcclxuICAgIHZhciBrZXk7XHJcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHNvdXJjZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgZGVzdGluYXRpb24ucHVzaChjb3B5RWxlbWVudChzb3VyY2VbaV0pKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChpc0JsYW5rT2JqZWN0KHNvdXJjZSkpIHtcclxuICAgICAgLy8gY3JlYXRlTWFwKCkgZmFzdCBwYXRoIC0tLSBTYWZlIHRvIGF2b2lkIGhhc093blByb3BlcnR5IGNoZWNrIGJlY2F1c2UgcHJvdG90eXBlIGNoYWluIGlzIGVtcHR5XHJcbiAgICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xyXG4gICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjb3B5RWxlbWVudChzb3VyY2Vba2V5XSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoc291cmNlICYmIHR5cGVvZiBzb3VyY2UuaGFzT3duUHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgLy8gU2xvdyBwYXRoLCB3aGljaCBtdXN0IHJlbHkgb24gaGFzT3duUHJvcGVydHlcclxuICAgICAgZm9yIChrZXkgaW4gc291cmNlKSB7XHJcbiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICBkZXN0aW5hdGlvbltrZXldID0gY29weUVsZW1lbnQoc291cmNlW2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gU2xvd2VzdCBwYXRoIC0tLSBoYXNPd25Qcm9wZXJ0eSBjYW4ndCBiZSBjYWxsZWQgYXMgYSBtZXRob2RcclxuICAgICAgZm9yIChrZXkgaW4gc291cmNlKSB7XHJcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XHJcbiAgICAgICAgICBkZXN0aW5hdGlvbltrZXldID0gY29weUVsZW1lbnQoc291cmNlW2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0SGFzaEtleShkZXN0aW5hdGlvbiwgaCk7XHJcbiAgICByZXR1cm4gZGVzdGluYXRpb247XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb3B5RWxlbWVudChzb3VyY2UpIHtcclxuICAgIC8vIFNpbXBsZSB2YWx1ZXNcclxuICAgIGlmICghaXNPYmplY3Qoc291cmNlKSkge1xyXG4gICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFscmVhZHkgY29waWVkIHZhbHVlc1xyXG4gICAgdmFyIGluZGV4ID0gc3RhY2tTb3VyY2UuaW5kZXhPZihzb3VyY2UpO1xyXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICByZXR1cm4gc3RhY2tEZXN0W2luZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNXaW5kb3coc291cmNlKSB8fCBpc1Njb3BlKHNvdXJjZSkpIHtcclxuICAgICAgdGhyb3cgbmdNaW5FcnIoJ2Nwd3MnLFxyXG4gICAgICAgIFwiQ2FuJ3QgY29weSEgTWFraW5nIGNvcGllcyBvZiBXaW5kb3cgb3IgU2NvcGUgaW5zdGFuY2VzIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBuZWVkc1JlY3Vyc2UgPSBmYWxzZTtcclxuICAgIHZhciBkZXN0aW5hdGlvbiA9IGNvcHlUeXBlKHNvdXJjZSk7XHJcblxyXG4gICAgaWYgKGRlc3RpbmF0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgZGVzdGluYXRpb24gPSBpc0FycmF5KHNvdXJjZSkgPyBbXSA6IE9iamVjdC5jcmVhdGUoZ2V0UHJvdG90eXBlT2Yoc291cmNlKSk7XHJcbiAgICAgIG5lZWRzUmVjdXJzZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpO1xyXG4gICAgc3RhY2tEZXN0LnB1c2goZGVzdGluYXRpb24pO1xyXG5cclxuICAgIHJldHVybiBuZWVkc1JlY3Vyc2VcclxuICAgICAgPyBjb3B5UmVjdXJzZShzb3VyY2UsIGRlc3RpbmF0aW9uKVxyXG4gICAgICA6IGRlc3RpbmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29weVR5cGUoc291cmNlKSB7XHJcbiAgICBzd2l0Y2ggKHRvU3RyaW5nLmNhbGwoc291cmNlKSkge1xyXG4gICAgICBjYXNlICdbb2JqZWN0IEludDhBcnJheV0nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IEludDE2QXJyYXldJzpcclxuICAgICAgY2FzZSAnW29iamVjdCBJbnQzMkFycmF5XSc6XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgRmxvYXQzMkFycmF5XSc6XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSc6XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgVWludDhBcnJheV0nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSc6XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgVWludDE2QXJyYXldJzpcclxuICAgICAgY2FzZSAnW29iamVjdCBVaW50MzJBcnJheV0nOlxyXG4gICAgICAgIHJldHVybiBuZXcgc291cmNlLmNvbnN0cnVjdG9yKGNvcHlFbGVtZW50KHNvdXJjZS5idWZmZXIpKTtcclxuXHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgQXJyYXlCdWZmZXJdJzpcclxuICAgICAgICAvL1N1cHBvcnQ6IElFMTBcclxuICAgICAgICBpZiAoIXNvdXJjZS5zbGljZSkge1xyXG4gICAgICAgICAgdmFyIGNvcGllZCA9IG5ldyBBcnJheUJ1ZmZlcihzb3VyY2UuYnl0ZUxlbmd0aCk7XHJcbiAgICAgICAgICBuZXcgVWludDhBcnJheShjb3BpZWQpLnNldChuZXcgVWludDhBcnJheShzb3VyY2UpKTtcclxuICAgICAgICAgIHJldHVybiBjb3BpZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzb3VyY2Uuc2xpY2UoMCk7XHJcblxyXG4gICAgICBjYXNlICdbb2JqZWN0IEJvb2xlYW5dJzpcclxuICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcclxuICAgICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcclxuICAgICAgY2FzZSAnW29iamVjdCBEYXRlXSc6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBzb3VyY2UuY29uc3RydWN0b3Ioc291cmNlLnZhbHVlT2YoKSk7XHJcblxyXG4gICAgICBjYXNlICdbb2JqZWN0IFJlZ0V4cF0nOlxyXG4gICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoc291cmNlLnNvdXJjZSwgc291cmNlLnRvU3RyaW5nKCkubWF0Y2goL1teXFwvXSokLylbMF0pO1xyXG4gICAgICAgIHJlLmxhc3RJbmRleCA9IHNvdXJjZS5sYXN0SW5kZXg7XHJcbiAgICAgICAgcmV0dXJuIHJlO1xyXG5cclxuICAgICAgY2FzZSAnW29iamVjdCBCbG9iXSc6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBzb3VyY2UuY29uc3RydWN0b3IoW3NvdXJjZV0sIHt0eXBlOiBzb3VyY2UudHlwZX0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0Z1bmN0aW9uKHNvdXJjZS5jbG9uZU5vZGUpKSB7XHJcbiAgICAgIHJldHVybiBzb3VyY2UuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBzaGFsbG93IGNvcHkgb2YgYW4gb2JqZWN0LCBhbiBhcnJheSBvciBhIHByaW1pdGl2ZS5cclxuICpcclxuICogQXNzdW1lcyB0aGF0IHRoZXJlIGFyZSBubyBwcm90byBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxyXG4gKi9cclxuZnVuY3Rpb24gc2hhbGxvd0NvcHkoc3JjLCBkc3QpIHtcclxuICBpZiAoaXNBcnJheShzcmMpKSB7XHJcbiAgICBkc3QgPSBkc3QgfHwgW107XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc3JjLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgZHN0W2ldID0gc3JjW2ldO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc3JjKSkge1xyXG4gICAgZHN0ID0gZHN0IHx8IHt9O1xyXG5cclxuICAgIGZvciAodmFyIGtleSBpbiBzcmMpIHtcclxuICAgICAgaWYgKCEoa2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykpIHtcclxuICAgICAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZHN0IHx8IHNyYztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5lcXVhbHNcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiB0d28gb2JqZWN0cyBvciB0d28gdmFsdWVzIGFyZSBlcXVpdmFsZW50LiBTdXBwb3J0cyB2YWx1ZSB0eXBlcywgcmVndWxhclxyXG4gKiBleHByZXNzaW9ucywgYXJyYXlzIGFuZCBvYmplY3RzLlxyXG4gKlxyXG4gKiBUd28gb2JqZWN0cyBvciB2YWx1ZXMgYXJlIGNvbnNpZGVyZWQgZXF1aXZhbGVudCBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxyXG4gKlxyXG4gKiAqIEJvdGggb2JqZWN0cyBvciB2YWx1ZXMgcGFzcyBgPT09YCBjb21wYXJpc29uLlxyXG4gKiAqIEJvdGggb2JqZWN0cyBvciB2YWx1ZXMgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYW5kIGFsbCBvZiB0aGVpciBwcm9wZXJ0aWVzIGFyZSBlcXVhbCBieVxyXG4gKiAgIGNvbXBhcmluZyB0aGVtIHdpdGggYGFuZ3VsYXIuZXF1YWxzYC5cclxuICogKiBCb3RoIHZhbHVlcyBhcmUgTmFOLiAoSW4gSmF2YVNjcmlwdCwgTmFOID09IE5hTiA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byBOYU4gYXMgZXF1YWwpXHJcbiAqICogQm90aCB2YWx1ZXMgcmVwcmVzZW50IHRoZSBzYW1lIHJlZ3VsYXIgZXhwcmVzc2lvbiAoSW4gSmF2YVNjcmlwdCxcclxuICogICAvYWJjLyA9PSAvYWJjLyA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byByZWd1bGFyIGV4cHJlc3Npb25zIGFzIGVxdWFsIHdoZW4gdGhlaXIgdGV4dHVhbFxyXG4gKiAgIHJlcHJlc2VudGF0aW9uIG1hdGNoZXMpLlxyXG4gKlxyXG4gKiBEdXJpbmcgYSBwcm9wZXJ0eSBjb21wYXJpc29uLCBwcm9wZXJ0aWVzIG9mIGBmdW5jdGlvbmAgdHlwZSBhbmQgcHJvcGVydGllcyB3aXRoIG5hbWVzXHJcbiAqIHRoYXQgYmVnaW4gd2l0aCBgJGAgYXJlIGlnbm9yZWQuXHJcbiAqXHJcbiAqIFNjb3BlIGFuZCBET01XaW5kb3cgb2JqZWN0cyBhcmUgYmVpbmcgY29tcGFyZWQgb25seSBieSBpZGVudGlmeSAoYD09PWApLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IG8xIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxyXG4gKiBAcGFyYW0geyp9IG8yIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBhcmd1bWVudHMgYXJlIGVxdWFsLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJlcXVhbHNFeGFtcGxlXCIgbmFtZT1cImVxdWFsc0V4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgIDxmb3JtIG5vdmFsaWRhdGU+XHJcbiAgICAgICAgICA8aDM+VXNlciAxPC9oMz5cclxuICAgICAgICAgIE5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlcjEubmFtZVwiPlxyXG4gICAgICAgICAgQWdlOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwidXNlcjEuYWdlXCI+XHJcblxyXG4gICAgICAgICAgPGgzPlVzZXIgMjwvaDM+XHJcbiAgICAgICAgICBOYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIyLm5hbWVcIj5cclxuICAgICAgICAgIEFnZTogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cInVzZXIyLmFnZVwiPlxyXG5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxici8+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJDb21wYXJlXCIgbmctY2xpY2s9XCJjb21wYXJlKClcIj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgVXNlciAxOiA8cHJlPnt7dXNlcjEgfCBqc29ufX08L3ByZT5cclxuICAgICAgICAgIFVzZXIgMjogPHByZT57e3VzZXIyIHwganNvbn19PC9wcmU+XHJcbiAgICAgICAgICBFcXVhbDogPHByZT57e3Jlc3VsdH19PC9wcmU+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZXF1YWxzRXhhbXBsZScsIFtdKS5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAkc2NvcGUudXNlcjEgPSB7fTtcclxuICAgICAgICAgICRzY29wZS51c2VyMiA9IHt9O1xyXG4gICAgICAgICAgJHNjb3BlLnJlc3VsdDtcclxuICAgICAgICAgICRzY29wZS5jb21wYXJlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5yZXN1bHQgPSBhbmd1bGFyLmVxdWFscygkc2NvcGUudXNlcjEsICRzY29wZS51c2VyMik7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxuICAgIDwvZmlsZT5cclxuICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5mdW5jdGlvbiBlcXVhbHMobzEsIG8yKSB7XHJcbiAgaWYgKG8xID09PSBvMikgcmV0dXJuIHRydWU7XHJcbiAgaWYgKG8xID09PSBudWxsIHx8IG8yID09PSBudWxsKSByZXR1cm4gZmFsc2U7XHJcbiAgaWYgKG8xICE9PSBvMSAmJiBvMiAhPT0gbzIpIHJldHVybiB0cnVlOyAvLyBOYU4gPT09IE5hTlxyXG4gIHZhciB0MSA9IHR5cGVvZiBvMSwgdDIgPSB0eXBlb2YgbzIsIGxlbmd0aCwga2V5LCBrZXlTZXQ7XHJcbiAgaWYgKHQxID09IHQyICYmIHQxID09ICdvYmplY3QnKSB7XHJcbiAgICBpZiAoaXNBcnJheShvMSkpIHtcclxuICAgICAgaWYgKCFpc0FycmF5KG8yKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBpZiAoKGxlbmd0aCA9IG8xLmxlbmd0aCkgPT0gbzIubGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yIChrZXkgPSAwOyBrZXkgPCBsZW5ndGg7IGtleSsrKSB7XHJcbiAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChpc0RhdGUobzEpKSB7XHJcbiAgICAgIGlmICghaXNEYXRlKG8yKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICByZXR1cm4gZXF1YWxzKG8xLmdldFRpbWUoKSwgbzIuZ2V0VGltZSgpKTtcclxuICAgIH0gZWxzZSBpZiAoaXNSZWdFeHAobzEpKSB7XHJcbiAgICAgIGlmICghaXNSZWdFeHAobzIpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIHJldHVybiBvMS50b1N0cmluZygpID09IG8yLnRvU3RyaW5nKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoaXNTY29wZShvMSkgfHwgaXNTY29wZShvMikgfHwgaXNXaW5kb3cobzEpIHx8IGlzV2luZG93KG8yKSB8fFxyXG4gICAgICAgIGlzQXJyYXkobzIpIHx8IGlzRGF0ZShvMikgfHwgaXNSZWdFeHAobzIpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGtleVNldCA9IGNyZWF0ZU1hcCgpO1xyXG4gICAgICBmb3IgKGtleSBpbiBvMSkge1xyXG4gICAgICAgIGlmIChrZXkuY2hhckF0KDApID09PSAnJCcgfHwgaXNGdW5jdGlvbihvMVtrZXldKSkgY29udGludWU7XHJcbiAgICAgICAgaWYgKCFlcXVhbHMobzFba2V5XSwgbzJba2V5XSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBrZXlTZXRba2V5XSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChrZXkgaW4gbzIpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4ga2V5U2V0KSAmJlxyXG4gICAgICAgICAgICBrZXkuY2hhckF0KDApICE9PSAnJCcgJiZcclxuICAgICAgICAgICAgaXNEZWZpbmVkKG8yW2tleV0pICYmXHJcbiAgICAgICAgICAgICFpc0Z1bmN0aW9uKG8yW2tleV0pKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxudmFyIGNzcCA9IGZ1bmN0aW9uKCkge1xyXG4gIGlmICghaXNEZWZpbmVkKGNzcC5ydWxlcykpIHtcclxuXHJcblxyXG4gICAgdmFyIG5nQ3NwRWxlbWVudCA9ICh3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25nLWNzcF0nKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1uZy1jc3BdJykpO1xyXG5cclxuICAgIGlmIChuZ0NzcEVsZW1lbnQpIHtcclxuICAgICAgdmFyIG5nQ3NwQXR0cmlidXRlID0gbmdDc3BFbGVtZW50LmdldEF0dHJpYnV0ZSgnbmctY3NwJykgfHxcclxuICAgICAgICAgICAgICAgICAgICBuZ0NzcEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW5nLWNzcCcpO1xyXG4gICAgICBjc3AucnVsZXMgPSB7XHJcbiAgICAgICAgbm9VbnNhZmVFdmFsOiAhbmdDc3BBdHRyaWJ1dGUgfHwgKG5nQ3NwQXR0cmlidXRlLmluZGV4T2YoJ25vLXVuc2FmZS1ldmFsJykgIT09IC0xKSxcclxuICAgICAgICBub0lubGluZVN0eWxlOiAhbmdDc3BBdHRyaWJ1dGUgfHwgKG5nQ3NwQXR0cmlidXRlLmluZGV4T2YoJ25vLWlubGluZS1zdHlsZScpICE9PSAtMSlcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNzcC5ydWxlcyA9IHtcclxuICAgICAgICBub1Vuc2FmZUV2YWw6IG5vVW5zYWZlRXZhbCgpLFxyXG4gICAgICAgIG5vSW5saW5lU3R5bGU6IGZhbHNlXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY3NwLnJ1bGVzO1xyXG5cclxuICBmdW5jdGlvbiBub1Vuc2FmZUV2YWwoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvKiBqc2hpbnQgLVcwMzEsIC1XMDU0ICovXHJcbiAgICAgIG5ldyBGdW5jdGlvbignJyk7XHJcbiAgICAgIC8qIGpzaGludCArVzAzMSwgK1cwNTQgKi9cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBuYW1lIG5nSnFcclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdKcSB0aGUgbmFtZSBvZiB0aGUgbGlicmFyeSBhdmFpbGFibGUgdW5kZXIgYHdpbmRvd2BcclxuICogdG8gYmUgdXNlZCBmb3IgYW5ndWxhci5lbGVtZW50XHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2UgdGhpcyBkaXJlY3RpdmUgdG8gZm9yY2UgdGhlIGFuZ3VsYXIuZWxlbWVudCBsaWJyYXJ5LiAgVGhpcyBzaG91bGQgYmVcclxuICogdXNlZCB0byBmb3JjZSBlaXRoZXIganFMaXRlIGJ5IGxlYXZpbmcgbmctanEgYmxhbmsgb3Igc2V0dGluZyB0aGUgbmFtZSBvZlxyXG4gKiB0aGUganF1ZXJ5IHZhcmlhYmxlIHVuZGVyIHdpbmRvdyAoZWcuIGpRdWVyeSkuXHJcbiAqXHJcbiAqIFNpbmNlIGFuZ3VsYXIgbG9va3MgZm9yIHRoaXMgZGlyZWN0aXZlIHdoZW4gaXQgaXMgbG9hZGVkIChkb2Vzbid0IHdhaXQgZm9yIHRoZVxyXG4gKiBET01Db250ZW50TG9hZGVkIGV2ZW50KSwgaXQgbXVzdCBiZSBwbGFjZWQgb24gYW4gZWxlbWVudCB0aGF0IGNvbWVzIGJlZm9yZSB0aGUgc2NyaXB0XHJcbiAqIHdoaWNoIGxvYWRzIGFuZ3VsYXIuIEFsc28sIG9ubHkgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGBuZy1qcWAgd2lsbCBiZSB1c2VkIGFuZCBhbGxcclxuICogb3RoZXJzIGlnbm9yZWQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gZm9yY2UganFMaXRlIHVzaW5nIHRoZSBgbmdKcWAgZGlyZWN0aXZlIHRvIHRoZSBgaHRtbGAgdGFnLlxyXG4gYGBgaHRtbFxyXG4gPCFkb2N0eXBlIGh0bWw+XHJcbiA8aHRtbCBuZy1hcHAgbmctanE+XHJcbiAuLi5cclxuIC4uLlxyXG4gPC9odG1sPlxyXG4gYGBgXHJcbiAqIEBleGFtcGxlXHJcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGEgalF1ZXJ5IGJhc2VkIGxpYnJhcnkgb2YgYSBkaWZmZXJlbnQgbmFtZS5cclxuICogVGhlIGxpYnJhcnkgbmFtZSBtdXN0IGJlIGF2YWlsYWJsZSBhdCB0aGUgdG9wIG1vc3QgJ3dpbmRvdycuXHJcbiBgYGBodG1sXHJcbiA8IWRvY3R5cGUgaHRtbD5cclxuIDxodG1sIG5nLWFwcCBuZy1qcT1cImpRdWVyeUxpYlwiPlxyXG4gLi4uXHJcbiAuLi5cclxuIDwvaHRtbD5cclxuIGBgYFxyXG4gKi9cclxudmFyIGpxID0gZnVuY3Rpb24oKSB7XHJcbiAgaWYgKGlzRGVmaW5lZChqcS5uYW1lXykpIHJldHVybiBqcS5uYW1lXztcclxuICB2YXIgZWw7XHJcbiAgdmFyIGksIGlpID0gbmdBdHRyUHJlZml4ZXMubGVuZ3RoLCBwcmVmaXgsIG5hbWU7XHJcbiAgZm9yIChpID0gMDsgaSA8IGlpOyArK2kpIHtcclxuICAgIHByZWZpeCA9IG5nQXR0clByZWZpeGVzW2ldO1xyXG4gICAgaWYgKGVsID0gd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1snICsgcHJlZml4LnJlcGxhY2UoJzonLCAnXFxcXDonKSArICdqcV0nKSkge1xyXG4gICAgICBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKHByZWZpeCArICdqcScpO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiAoanEubmFtZV8gPSBuYW1lKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNvbmNhdChhcnJheTEsIGFycmF5MiwgaW5kZXgpIHtcclxuICByZXR1cm4gYXJyYXkxLmNvbmNhdChzbGljZS5jYWxsKGFycmF5MiwgaW5kZXgpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2xpY2VBcmdzKGFyZ3MsIHN0YXJ0SW5kZXgpIHtcclxuICByZXR1cm4gc2xpY2UuY2FsbChhcmdzLCBzdGFydEluZGV4IHx8IDApO1xyXG59XHJcblxyXG5cclxuLyoganNoaW50IC1XMTAxICovXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5iaW5kXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYWxscyBmdW5jdGlvbiBgZm5gIGJvdW5kIHRvIGBzZWxmYCAoYHNlbGZgIGJlY29tZXMgdGhlIGB0aGlzYCBmb3JcclxuICogYGZuYCkuIFlvdSBjYW4gc3VwcGx5IG9wdGlvbmFsIGBhcmdzYCB0aGF0IGFyZSBwcmVib3VuZCB0byB0aGUgZnVuY3Rpb24uIFRoaXMgZmVhdHVyZSBpcyBhbHNvXHJcbiAqIGtub3duIGFzIFtwYXJ0aWFsIGFwcGxpY2F0aW9uXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BhcnRpYWxfYXBwbGljYXRpb24pLCBhc1xyXG4gKiBkaXN0aW5ndWlzaGVkIGZyb20gW2Z1bmN0aW9uIGN1cnJ5aW5nXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0N1cnJ5aW5nI0NvbnRyYXN0X3dpdGhfcGFydGlhbF9mdW5jdGlvbl9hcHBsaWNhdGlvbikuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZWxmIENvbnRleHQgd2hpY2ggYGZuYCBzaG91bGQgYmUgZXZhbHVhdGVkIGluLlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGZuIEZ1bmN0aW9uIHRvIGJlIGJvdW5kLlxyXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgT3B0aW9uYWwgYXJndW1lbnRzIHRvIGJlIHByZWJvdW5kIHRvIHRoZSBgZm5gIGZ1bmN0aW9uIGNhbGwuXHJcbiAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBGdW5jdGlvbiB0aGF0IHdyYXBzIHRoZSBgZm5gIHdpdGggYWxsIHRoZSBzcGVjaWZpZWQgYmluZGluZ3MuXHJcbiAqL1xyXG4vKiBqc2hpbnQgK1cxMDEgKi9cclxuZnVuY3Rpb24gYmluZChzZWxmLCBmbikge1xyXG4gIHZhciBjdXJyeUFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IHNsaWNlQXJncyhhcmd1bWVudHMsIDIpIDogW107XHJcbiAgaWYgKGlzRnVuY3Rpb24oZm4pICYmICEoZm4gaW5zdGFuY2VvZiBSZWdFeHApKSB7XHJcbiAgICByZXR1cm4gY3VycnlBcmdzLmxlbmd0aFxyXG4gICAgICA/IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcclxuICAgICAgICAgICAgPyBmbi5hcHBseShzZWxmLCBjb25jYXQoY3VycnlBcmdzLCBhcmd1bWVudHMsIDApKVxyXG4gICAgICAgICAgICA6IGZuLmFwcGx5KHNlbGYsIGN1cnJ5QXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcclxuICAgICAgICAgICAgPyBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIDogZm4uY2FsbChzZWxmKTtcclxuICAgICAgICB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBpbiBJRSwgbmF0aXZlIG1ldGhvZHMgYXJlIG5vdCBmdW5jdGlvbnMgc28gdGhleSBjYW5ub3QgYmUgYm91bmQgKG5vdGU6IHRoZXkgZG9uJ3QgbmVlZCB0byBiZSlcclxuICAgIHJldHVybiBmbjtcclxuICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiB0b0pzb25SZXBsYWNlcihrZXksIHZhbHVlKSB7XHJcbiAgdmFyIHZhbCA9IHZhbHVlO1xyXG5cclxuICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykge1xyXG4gICAgdmFsID0gdW5kZWZpbmVkO1xyXG4gIH0gZWxzZSBpZiAoaXNXaW5kb3codmFsdWUpKSB7XHJcbiAgICB2YWwgPSAnJFdJTkRPVyc7XHJcbiAgfSBlbHNlIGlmICh2YWx1ZSAmJiAgd2luZG93LmRvY3VtZW50ID09PSB2YWx1ZSkge1xyXG4gICAgdmFsID0gJyRET0NVTUVOVCc7XHJcbiAgfSBlbHNlIGlmIChpc1Njb3BlKHZhbHVlKSkge1xyXG4gICAgdmFsID0gJyRTQ09QRSc7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdmFsO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLnRvSnNvblxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTZXJpYWxpemVzIGlucHV0IGludG8gYSBKU09OLWZvcm1hdHRlZCBzdHJpbmcuIFByb3BlcnRpZXMgd2l0aCBsZWFkaW5nICQkIGNoYXJhY3RlcnMgd2lsbCBiZVxyXG4gKiBzdHJpcHBlZCBzaW5jZSBhbmd1bGFyIHVzZXMgdGhpcyBub3RhdGlvbiBpbnRlcm5hbGx5LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheXxEYXRlfHN0cmluZ3xudW1iZXJ9IG9iaiBJbnB1dCB0byBiZSBzZXJpYWxpemVkIGludG8gSlNPTi5cclxuICogQHBhcmFtIHtib29sZWFufG51bWJlcn0gW3ByZXR0eT0yXSBJZiBzZXQgdG8gdHJ1ZSwgdGhlIEpTT04gb3V0cHV0IHdpbGwgY29udGFpbiBuZXdsaW5lcyBhbmQgd2hpdGVzcGFjZS5cclxuICogICAgSWYgc2V0IHRvIGFuIGludGVnZXIsIHRoZSBKU09OIG91dHB1dCB3aWxsIGNvbnRhaW4gdGhhdCBtYW55IHNwYWNlcyBwZXIgaW5kZW50YXRpb24uXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBKU09OLWlmaWVkIHN0cmluZyByZXByZXNlbnRpbmcgYG9iamAuXHJcbiAqL1xyXG5mdW5jdGlvbiB0b0pzb24ob2JqLCBwcmV0dHkpIHtcclxuICBpZiAoaXNVbmRlZmluZWQob2JqKSkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICBpZiAoIWlzTnVtYmVyKHByZXR0eSkpIHtcclxuICAgIHByZXR0eSA9IHByZXR0eSA/IDIgOiBudWxsO1xyXG4gIH1cclxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCB0b0pzb25SZXBsYWNlciwgcHJldHR5KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5mcm9tSnNvblxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXNlcmlhbGl6ZXMgYSBKU09OIHN0cmluZy5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGpzb24gSlNPTiBzdHJpbmcgdG8gZGVzZXJpYWxpemUuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R8QXJyYXl8c3RyaW5nfG51bWJlcn0gRGVzZXJpYWxpemVkIEpTT04gc3RyaW5nLlxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbUpzb24oanNvbikge1xyXG4gIHJldHVybiBpc1N0cmluZyhqc29uKVxyXG4gICAgICA/IEpTT04ucGFyc2UoanNvbilcclxuICAgICAgOiBqc29uO1xyXG59XHJcblxyXG5cclxudmFyIEFMTF9DT0xPTlMgPSAvOi9nO1xyXG5mdW5jdGlvbiB0aW1lem9uZVRvT2Zmc2V0KHRpbWV6b25lLCBmYWxsYmFjaykge1xyXG4gIC8vIElFL0VkZ2UgZG8gbm90IFwidW5kZXJzdGFuZFwiIGNvbG9uIChgOmApIGluIHRpbWV6b25lXHJcbiAgdGltZXpvbmUgPSB0aW1lem9uZS5yZXBsYWNlKEFMTF9DT0xPTlMsICcnKTtcclxuICB2YXIgcmVxdWVzdGVkVGltZXpvbmVPZmZzZXQgPSBEYXRlLnBhcnNlKCdKYW4gMDEsIDE5NzAgMDA6MDA6MDAgJyArIHRpbWV6b25lKSAvIDYwMDAwO1xyXG4gIHJldHVybiBpc05hTihyZXF1ZXN0ZWRUaW1lem9uZU9mZnNldCkgPyBmYWxsYmFjayA6IHJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYWRkRGF0ZU1pbnV0ZXMoZGF0ZSwgbWludXRlcykge1xyXG4gIGRhdGUgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XHJcbiAgZGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgbWludXRlcyk7XHJcbiAgcmV0dXJuIGRhdGU7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKGRhdGUsIHRpbWV6b25lLCByZXZlcnNlKSB7XHJcbiAgcmV2ZXJzZSA9IHJldmVyc2UgPyAtMSA6IDE7XHJcbiAgdmFyIGRhdGVUaW1lem9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcclxuICB2YXIgdGltZXpvbmVPZmZzZXQgPSB0aW1lem9uZVRvT2Zmc2V0KHRpbWV6b25lLCBkYXRlVGltZXpvbmVPZmZzZXQpO1xyXG4gIHJldHVybiBhZGREYXRlTWludXRlcyhkYXRlLCByZXZlcnNlICogKHRpbWV6b25lT2Zmc2V0IC0gZGF0ZVRpbWV6b25lT2Zmc2V0KSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlbGVtZW50LlxyXG4gKi9cclxuZnVuY3Rpb24gc3RhcnRpbmdUYWcoZWxlbWVudCkge1xyXG4gIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCkuY2xvbmUoKTtcclxuICB0cnkge1xyXG4gICAgLy8gdHVybnMgb3V0IElFIGRvZXMgbm90IGxldCB5b3Ugc2V0IC5odG1sKCkgb24gZWxlbWVudHMgd2hpY2hcclxuICAgIC8vIGFyZSBub3QgYWxsb3dlZCB0byBoYXZlIGNoaWxkcmVuLiBTbyB3ZSBqdXN0IGlnbm9yZSBpdC5cclxuICAgIGVsZW1lbnQuZW1wdHkoKTtcclxuICB9IGNhdGNoIChlKSB7fVxyXG4gIHZhciBlbGVtSHRtbCA9IGpxTGl0ZSgnPGRpdj4nKS5hcHBlbmQoZWxlbWVudCkuaHRtbCgpO1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gZWxlbWVudFswXS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQgPyBsb3dlcmNhc2UoZWxlbUh0bWwpIDpcclxuICAgICAgICBlbGVtSHRtbC5cclxuICAgICAgICAgIG1hdGNoKC9eKDxbXj5dKz4pLylbMV0uXHJcbiAgICAgICAgICByZXBsYWNlKC9ePChbXFx3XFwtXSspLywgZnVuY3Rpb24obWF0Y2gsIG5vZGVOYW1lKSB7cmV0dXJuICc8JyArIGxvd2VyY2FzZShub2RlTmFtZSk7fSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGxvd2VyY2FzZShlbGVtSHRtbCk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8qKlxyXG4gKiBUcmllcyB0byBkZWNvZGUgdGhlIFVSSSBjb21wb25lbnQgd2l0aG91dCB0aHJvd2luZyBhbiBleGNlcHRpb24uXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSBzdHIgdmFsdWUgcG90ZW50aWFsIFVSSSBjb21wb25lbnQgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgY2FuIGJlIGRlY29kZWRcclxuICogd2l0aCB0aGUgZGVjb2RlVVJJQ29tcG9uZW50IGZ1bmN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIC8vIElnbm9yZSBhbnkgaW52YWxpZCB1cmkgY29tcG9uZW50XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFBhcnNlcyBhbiBlc2NhcGVkIHVybCBxdWVyeSBzdHJpbmcgaW50byBrZXktdmFsdWUgcGFpcnMuXHJcbiAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZyxib29sZWFufEFycmF5Pn1cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlS2V5VmFsdWUoLyoqc3RyaW5nKi9rZXlWYWx1ZSkge1xyXG4gIHZhciBvYmogPSB7fTtcclxuICBmb3JFYWNoKChrZXlWYWx1ZSB8fCBcIlwiKS5zcGxpdCgnJicpLCBmdW5jdGlvbihrZXlWYWx1ZSkge1xyXG4gICAgdmFyIHNwbGl0UG9pbnQsIGtleSwgdmFsO1xyXG4gICAgaWYgKGtleVZhbHVlKSB7XHJcbiAgICAgIGtleSA9IGtleVZhbHVlID0ga2V5VmFsdWUucmVwbGFjZSgvXFwrL2csJyUyMCcpO1xyXG4gICAgICBzcGxpdFBvaW50ID0ga2V5VmFsdWUuaW5kZXhPZignPScpO1xyXG4gICAgICBpZiAoc3BsaXRQb2ludCAhPT0gLTEpIHtcclxuICAgICAgICBrZXkgPSBrZXlWYWx1ZS5zdWJzdHJpbmcoMCwgc3BsaXRQb2ludCk7XHJcbiAgICAgICAgdmFsID0ga2V5VmFsdWUuc3Vic3RyaW5nKHNwbGl0UG9pbnQgKyAxKTtcclxuICAgICAgfVxyXG4gICAgICBrZXkgPSB0cnlEZWNvZGVVUklDb21wb25lbnQoa2V5KTtcclxuICAgICAgaWYgKGlzRGVmaW5lZChrZXkpKSB7XHJcbiAgICAgICAgdmFsID0gaXNEZWZpbmVkKHZhbCkgPyB0cnlEZWNvZGVVUklDb21wb25lbnQodmFsKSA6IHRydWU7XHJcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgICAgb2JqW2tleV0gPSB2YWw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KG9ialtrZXldKSkge1xyXG4gICAgICAgICAgb2JqW2tleV0ucHVzaCh2YWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBvYmpba2V5XSA9IFtvYmpba2V5XSx2YWxdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvS2V5VmFsdWUob2JqKSB7XHJcbiAgdmFyIHBhcnRzID0gW107XHJcbiAgZm9yRWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbihhcnJheVZhbHVlKSB7XHJcbiAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksIHRydWUpICtcclxuICAgICAgICAgICAgICAgICAgIChhcnJheVZhbHVlID09PSB0cnVlID8gJycgOiAnPScgKyBlbmNvZGVVcmlRdWVyeShhcnJheVZhbHVlLCB0cnVlKSkpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwgdHJ1ZSkgK1xyXG4gICAgICAgICAgICAgICAodmFsdWUgPT09IHRydWUgPyAnJyA6ICc9JyArIGVuY29kZVVyaVF1ZXJ5KHZhbHVlLCB0cnVlKSkpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiBwYXJ0cy5sZW5ndGggPyBwYXJ0cy5qb2luKCcmJykgOiAnJztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBXZSBuZWVkIG91ciBjdXN0b20gbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBkb2Vzbid0IGZvbGxvd1xyXG4gKiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmMzOTg2LnR4dCB3aXRoIHJlZ2FyZHMgdG8gdGhlIGNoYXJhY3RlciBzZXQgKHBjaGFyKSBhbGxvd2VkIGluIHBhdGhcclxuICogc2VnbWVudHM6XHJcbiAqICAgIHNlZ21lbnQgICAgICAgPSAqcGNoYXJcclxuICogICAgcGNoYXIgICAgICAgICA9IHVucmVzZXJ2ZWQgLyBwY3QtZW5jb2RlZCAvIHN1Yi1kZWxpbXMgLyBcIjpcIiAvIFwiQFwiXHJcbiAqICAgIHBjdC1lbmNvZGVkICAgPSBcIiVcIiBIRVhESUcgSEVYRElHXHJcbiAqICAgIHVucmVzZXJ2ZWQgICAgPSBBTFBIQSAvIERJR0lUIC8gXCItXCIgLyBcIi5cIiAvIFwiX1wiIC8gXCJ+XCJcclxuICogICAgc3ViLWRlbGltcyAgICA9IFwiIVwiIC8gXCIkXCIgLyBcIiZcIiAvIFwiJ1wiIC8gXCIoXCIgLyBcIilcIlxyXG4gKiAgICAgICAgICAgICAgICAgICAgIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlVXJpU2VnbWVudCh2YWwpIHtcclxuICByZXR1cm4gZW5jb2RlVXJpUXVlcnkodmFsLCB0cnVlKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyNi9naSwgJyYnKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyUzRC9naSwgJz0nKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyQi9naSwgJysnKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZW5jb2RpbmcgKmtleSogb3IgKnZhbHVlKiBwYXJ0cyBvZiBxdWVyeSBjb21wb25lbnQuIFdlIG5lZWQgYSBjdXN0b21cclxuICogbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBlbmNvZGVzIHN0dWZmIHRoYXQgZG9lc24ndCBoYXZlIHRvIGJlXHJcbiAqIGVuY29kZWQgcGVyIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODY6XHJcbiAqICAgIHF1ZXJ5ICAgICAgID0gKiggcGNoYXIgLyBcIi9cIiAvIFwiP1wiIClcclxuICogICAgcGNoYXIgICAgICAgICA9IHVucmVzZXJ2ZWQgLyBwY3QtZW5jb2RlZCAvIHN1Yi1kZWxpbXMgLyBcIjpcIiAvIFwiQFwiXHJcbiAqICAgIHVucmVzZXJ2ZWQgICAgPSBBTFBIQSAvIERJR0lUIC8gXCItXCIgLyBcIi5cIiAvIFwiX1wiIC8gXCJ+XCJcclxuICogICAgcGN0LWVuY29kZWQgICA9IFwiJVwiIEhFWERJRyBIRVhESUdcclxuICogICAgc3ViLWRlbGltcyAgICA9IFwiIVwiIC8gXCIkXCIgLyBcIiZcIiAvIFwiJ1wiIC8gXCIoXCIgLyBcIilcIlxyXG4gKiAgICAgICAgICAgICAgICAgICAgIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlVXJpUXVlcnkodmFsLCBwY3RFbmNvZGVTcGFjZXMpIHtcclxuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXHJcbiAgICAgICAgICAgICByZXBsYWNlKC8lNDAvZ2ksICdAJykuXHJcbiAgICAgICAgICAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXHJcbiAgICAgICAgICAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyUzQi9naSwgJzsnKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyMC9nLCAocGN0RW5jb2RlU3BhY2VzID8gJyUyMCcgOiAnKycpKTtcclxufVxyXG5cclxudmFyIG5nQXR0clByZWZpeGVzID0gWyduZy0nLCAnZGF0YS1uZy0nLCAnbmc6JywgJ3gtbmctJ107XHJcblxyXG5mdW5jdGlvbiBnZXROZ0F0dHJpYnV0ZShlbGVtZW50LCBuZ0F0dHIpIHtcclxuICB2YXIgYXR0ciwgaSwgaWkgPSBuZ0F0dHJQcmVmaXhlcy5sZW5ndGg7XHJcbiAgZm9yIChpID0gMDsgaSA8IGlpOyArK2kpIHtcclxuICAgIGF0dHIgPSBuZ0F0dHJQcmVmaXhlc1tpXSArIG5nQXR0cjtcclxuICAgIGlmIChpc1N0cmluZyhhdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cikpKSB7XHJcbiAgICAgIHJldHVybiBhdHRyO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdBcHBcclxuICogQG1vZHVsZSBuZ1xyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHthbmd1bGFyLk1vZHVsZX0gbmdBcHAgYW4gb3B0aW9uYWwgYXBwbGljYXRpb25cclxuICogICB7QGxpbmsgYW5ndWxhci5tb2R1bGUgbW9kdWxlfSBuYW1lIHRvIGxvYWQuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5nU3RyaWN0RGkgaWYgdGhpcyBhdHRyaWJ1dGUgaXMgcHJlc2VudCBvbiB0aGUgYXBwIGVsZW1lbnQsIHRoZSBpbmplY3RvciB3aWxsIGJlXHJcbiAqICAgY3JlYXRlZCBpbiBcInN0cmljdC1kaVwiIG1vZGUuIFRoaXMgbWVhbnMgdGhhdCB0aGUgYXBwbGljYXRpb24gd2lsbCBmYWlsIHRvIGludm9rZSBmdW5jdGlvbnMgd2hpY2hcclxuICogICBkbyBub3QgdXNlIGV4cGxpY2l0IGZ1bmN0aW9uIGFubm90YXRpb24gKGFuZCBhcmUgdGh1cyB1bnN1aXRhYmxlIGZvciBtaW5pZmljYXRpb24pLCBhcyBkZXNjcmliZWRcclxuICogICBpbiB7QGxpbmsgZ3VpZGUvZGkgdGhlIERlcGVuZGVuY3kgSW5qZWN0aW9uIGd1aWRlfSwgYW5kIHVzZWZ1bCBkZWJ1Z2dpbmcgaW5mbyB3aWxsIGFzc2lzdCBpblxyXG4gKiAgIHRyYWNraW5nIGRvd24gdGhlIHJvb3Qgb2YgdGhlc2UgYnVncy5cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFVzZSB0aGlzIGRpcmVjdGl2ZSB0byAqKmF1dG8tYm9vdHN0cmFwKiogYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uLiBUaGUgYG5nQXBwYCBkaXJlY3RpdmVcclxuICogZGVzaWduYXRlcyB0aGUgKipyb290IGVsZW1lbnQqKiBvZiB0aGUgYXBwbGljYXRpb24gYW5kIGlzIHR5cGljYWxseSBwbGFjZWQgbmVhciB0aGUgcm9vdCBlbGVtZW50XHJcbiAqIG9mIHRoZSBwYWdlIC0gZS5nLiBvbiB0aGUgYDxib2R5PmAgb3IgYDxodG1sPmAgdGFncy5cclxuICpcclxuICogVGhlcmUgYXJlIGEgZmV3IHRoaW5ncyB0byBrZWVwIGluIG1pbmQgd2hlbiB1c2luZyBgbmdBcHBgOlxyXG4gKiAtIG9ubHkgb25lIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbiBjYW4gYmUgYXV0by1ib290c3RyYXBwZWQgcGVyIEhUTUwgZG9jdW1lbnQuIFRoZSBmaXJzdCBgbmdBcHBgXHJcbiAqICAgZm91bmQgaW4gdGhlIGRvY3VtZW50IHdpbGwgYmUgdXNlZCB0byBkZWZpbmUgdGhlIHJvb3QgZWxlbWVudCB0byBhdXRvLWJvb3RzdHJhcCBhcyBhblxyXG4gKiAgIGFwcGxpY2F0aW9uLiBUbyBydW4gbXVsdGlwbGUgYXBwbGljYXRpb25zIGluIGFuIEhUTUwgZG9jdW1lbnQgeW91IG11c3QgbWFudWFsbHkgYm9vdHN0cmFwIHRoZW0gdXNpbmdcclxuICogICB7QGxpbmsgYW5ndWxhci5ib290c3RyYXB9IGluc3RlYWQuXHJcbiAqIC0gQW5ndWxhckpTIGFwcGxpY2F0aW9ucyBjYW5ub3QgYmUgbmVzdGVkIHdpdGhpbiBlYWNoIG90aGVyLlxyXG4gKiAtIERvIG5vdCB1c2UgYSBkaXJlY3RpdmUgdGhhdCB1c2VzIHtAbGluayBuZy4kY29tcGlsZSN0cmFuc2NsdXNpb24gdHJhbnNjbHVzaW9ufSBvbiB0aGUgc2FtZSBlbGVtZW50IGFzIGBuZ0FwcGAuXHJcbiAqICAgVGhpcyBpbmNsdWRlcyBkaXJlY3RpdmVzIHN1Y2ggYXMge0BsaW5rIG5nLm5nSWYgYG5nSWZgfSwge0BsaW5rIG5nLm5nSW5jbHVkZSBgbmdJbmNsdWRlYH0gYW5kXHJcbiAqICAge0BsaW5rIG5nUm91dGUubmdWaWV3IGBuZ1ZpZXdgfS5cclxuICogICBEb2luZyB0aGlzIG1pc3BsYWNlcyB0aGUgYXBwIHtAbGluayBuZy4kcm9vdEVsZW1lbnQgYCRyb290RWxlbWVudGB9IGFuZCB0aGUgYXBwJ3Mge0BsaW5rIGF1dG8uJGluamVjdG9yIGluamVjdG9yfSxcclxuICogICBjYXVzaW5nIGFuaW1hdGlvbnMgdG8gc3RvcCB3b3JraW5nIGFuZCBtYWtpbmcgdGhlIGluamVjdG9yIGluYWNjZXNzaWJsZSBmcm9tIG91dHNpZGUgdGhlIGFwcC5cclxuICpcclxuICogWW91IGNhbiBzcGVjaWZ5IGFuICoqQW5ndWxhckpTIG1vZHVsZSoqIHRvIGJlIHVzZWQgYXMgdGhlIHJvb3QgbW9kdWxlIGZvciB0aGUgYXBwbGljYXRpb24uICBUaGlzXHJcbiAqIG1vZHVsZSB3aWxsIGJlIGxvYWRlZCBpbnRvIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3J9IHdoZW4gdGhlIGFwcGxpY2F0aW9uIGlzIGJvb3RzdHJhcHBlZC4gSXRcclxuICogc2hvdWxkIGNvbnRhaW4gdGhlIGFwcGxpY2F0aW9uIGNvZGUgbmVlZGVkIG9yIGhhdmUgZGVwZW5kZW5jaWVzIG9uIG90aGVyIG1vZHVsZXMgdGhhdCB3aWxsXHJcbiAqIGNvbnRhaW4gdGhlIGNvZGUuIFNlZSB7QGxpbmsgYW5ndWxhci5tb2R1bGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gKlxyXG4gKiBJbiB0aGUgZXhhbXBsZSBiZWxvdyBpZiB0aGUgYG5nQXBwYCBkaXJlY3RpdmUgd2VyZSBub3QgcGxhY2VkIG9uIHRoZSBgaHRtbGAgZWxlbWVudCB0aGVuIHRoZVxyXG4gKiBkb2N1bWVudCB3b3VsZCBub3QgYmUgY29tcGlsZWQsIHRoZSBgQXBwQ29udHJvbGxlcmAgd291bGQgbm90IGJlIGluc3RhbnRpYXRlZCBhbmQgdGhlIGB7eyBhK2IgfX1gXHJcbiAqIHdvdWxkIG5vdCBiZSByZXNvbHZlZCB0byBgM2AuXHJcbiAqXHJcbiAqIGBuZ0FwcGAgaXMgdGhlIGVhc2llc3QsIGFuZCBtb3N0IGNvbW1vbiB3YXkgdG8gYm9vdHN0cmFwIGFuIGFwcGxpY2F0aW9uLlxyXG4gKlxyXG4gPGV4YW1wbGUgbW9kdWxlPVwibmdBcHBEZW1vXCI+XHJcbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgIDxkaXYgbmctY29udHJvbGxlcj1cIm5nQXBwRGVtb0NvbnRyb2xsZXJcIj5cclxuICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XHJcbiAgIDwvZGl2PlxyXG4gICA8L2ZpbGU+XHJcbiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgYW5ndWxhci5tb2R1bGUoJ25nQXBwRGVtbycsIFtdKS5jb250cm9sbGVyKCduZ0FwcERlbW9Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgJHNjb3BlLmEgPSAxO1xyXG4gICAgICRzY29wZS5iID0gMjtcclxuICAgfSk7XHJcbiAgIDwvZmlsZT5cclxuIDwvZXhhbXBsZT5cclxuICpcclxuICogVXNpbmcgYG5nU3RyaWN0RGlgLCB5b3Ugd291bGQgc2VlIHNvbWV0aGluZyBsaWtlIHRoaXM6XHJcbiAqXHJcbiA8ZXhhbXBsZSBuZy1hcHAtaW5jbHVkZWQ9XCJ0cnVlXCI+XHJcbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgIDxkaXYgbmctYXBwPVwibmdBcHBTdHJpY3REZW1vXCIgbmctc3RyaWN0LWRpPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR29vZENvbnRyb2xsZXIxXCI+XHJcbiAgICAgICAgICAgSSBjYW4gYWRkOiB7e2F9fSArIHt7Yn19ID0gIHt7IGErYiB9fVxyXG5cclxuICAgICAgICAgICA8cD5UaGlzIHJlbmRlcnMgYmVjYXVzZSB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBmYWlsIHRvXHJcbiAgICAgICAgICAgICAgaW5zdGFudGlhdGUsIGJ5IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gc3R5bGUgKHNlZVxyXG4gICAgICAgICAgICAgIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcclxuICAgICAgICAgICA8L3A+XHJcbiAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHb29kQ29udHJvbGxlcjJcIj5cclxuICAgICAgICAgICBOYW1lOiA8aW5wdXQgbmctbW9kZWw9XCJuYW1lXCI+PGJyIC8+XHJcbiAgICAgICAgICAgSGVsbG8sIHt7bmFtZX19IVxyXG5cclxuICAgICAgICAgICA8cD5UaGlzIHJlbmRlcnMgYmVjYXVzZSB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBmYWlsIHRvXHJcbiAgICAgICAgICAgICAgaW5zdGFudGlhdGUsIGJ5IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gc3R5bGVcclxuICAgICAgICAgICAgICAoc2VlIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcclxuICAgICAgICAgICA8L3A+XHJcbiAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJCYWRDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgSSBjYW4gYWRkOiB7e2F9fSArIHt7Yn19ID0gIHt7IGErYiB9fVxyXG5cclxuICAgICAgICAgICA8cD5UaGUgY29udHJvbGxlciBjb3VsZCBub3QgYmUgaW5zdGFudGlhdGVkLCBkdWUgdG8gcmVseWluZ1xyXG4gICAgICAgICAgICAgIG9uIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9ucyAod2hpY2ggYXJlIGRpc2FibGVkIGluXHJcbiAgICAgICAgICAgICAgc3RyaWN0IG1vZGUpLiBBcyBzdWNoLCB0aGUgY29udGVudCBvZiB0aGlzIHNlY3Rpb24gaXMgbm90XHJcbiAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkLCBhbmQgdGhlcmUgc2hvdWxkIGJlIGFuIGVycm9yIGluIHlvdXIgd2ViIGNvbnNvbGUuXHJcbiAgICAgICAgICAgPC9wPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgIDwvZGl2PlxyXG4gICA8L2ZpbGU+XHJcbiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgYW5ndWxhci5tb2R1bGUoJ25nQXBwU3RyaWN0RGVtbycsIFtdKVxyXG4gICAgIC8vIEJhZENvbnRyb2xsZXIgd2lsbCBmYWlsIHRvIGluc3RhbnRpYXRlLCBkdWUgdG8gcmVseWluZyBvbiBhdXRvbWF0aWMgZnVuY3Rpb24gYW5ub3RhdGlvbixcclxuICAgICAvLyByYXRoZXIgdGhhbiBhbiBleHBsaWNpdCBhbm5vdGF0aW9uXHJcbiAgICAgLmNvbnRyb2xsZXIoJ0JhZENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICRzY29wZS5hID0gMTtcclxuICAgICAgICRzY29wZS5iID0gMjtcclxuICAgICB9KVxyXG4gICAgIC8vIFVubGlrZSBCYWRDb250cm9sbGVyLCBHb29kQ29udHJvbGxlcjEgYW5kIEdvb2RDb250cm9sbGVyMiB3aWxsIG5vdCBmYWlsIHRvIGJlIGluc3RhbnRpYXRlZCxcclxuICAgICAvLyBkdWUgdG8gdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbnMgdXNpbmcgdGhlIGFycmF5IHN0eWxlIGFuZCAkaW5qZWN0IHByb3BlcnR5LCByZXNwZWN0aXZlbHkuXHJcbiAgICAgLmNvbnRyb2xsZXIoJ0dvb2RDb250cm9sbGVyMScsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAkc2NvcGUuYSA9IDE7XHJcbiAgICAgICAkc2NvcGUuYiA9IDI7XHJcbiAgICAgfV0pXHJcbiAgICAgLmNvbnRyb2xsZXIoJ0dvb2RDb250cm9sbGVyMicsIEdvb2RDb250cm9sbGVyMik7XHJcbiAgICAgZnVuY3Rpb24gR29vZENvbnRyb2xsZXIyKCRzY29wZSkge1xyXG4gICAgICAgJHNjb3BlLm5hbWUgPSBcIldvcmxkXCI7XHJcbiAgICAgfVxyXG4gICAgIEdvb2RDb250cm9sbGVyMi4kaW5qZWN0ID0gWyckc2NvcGUnXTtcclxuICAgPC9maWxlPlxyXG4gICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgIGRpdltuZy1jb250cm9sbGVyXSB7XHJcbiAgICAgICBtYXJnaW4tYm90dG9tOiAxZW07XHJcbiAgICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgIGJvcmRlcjogMXB4IHNvbGlkO1xyXG4gICAgICAgcGFkZGluZzogLjVlbTtcclxuICAgfVxyXG4gICBkaXZbbmctY29udHJvbGxlcl49R29vZF0ge1xyXG4gICAgICAgYm9yZGVyLWNvbG9yOiAjZDZlOWM2O1xyXG4gICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RmZjBkODtcclxuICAgICAgIGNvbG9yOiAjM2M3NjNkO1xyXG4gICB9XHJcbiAgIGRpdltuZy1jb250cm9sbGVyXj1CYWRdIHtcclxuICAgICAgIGJvcmRlci1jb2xvcjogI2ViY2NkMTtcclxuICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmRlZGU7XHJcbiAgICAgICBjb2xvcjogI2E5NDQ0MjtcclxuICAgICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgIH1cclxuICAgPC9maWxlPlxyXG4gPC9leGFtcGxlPlxyXG4gKi9cclxuZnVuY3Rpb24gYW5ndWxhckluaXQoZWxlbWVudCwgYm9vdHN0cmFwKSB7XHJcbiAgdmFyIGFwcEVsZW1lbnQsXHJcbiAgICAgIG1vZHVsZSxcclxuICAgICAgY29uZmlnID0ge307XHJcblxyXG4gIC8vIFRoZSBlbGVtZW50IGBlbGVtZW50YCBoYXMgcHJpb3JpdHkgb3ZlciBhbnkgb3RoZXIgZWxlbWVudFxyXG4gIGZvckVhY2gobmdBdHRyUHJlZml4ZXMsIGZ1bmN0aW9uKHByZWZpeCkge1xyXG4gICAgdmFyIG5hbWUgPSBwcmVmaXggKyAnYXBwJztcclxuXHJcbiAgICBpZiAoIWFwcEVsZW1lbnQgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUobmFtZSkpIHtcclxuICAgICAgYXBwRWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgIG1vZHVsZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIGZvckVhY2gobmdBdHRyUHJlZml4ZXMsIGZ1bmN0aW9uKHByZWZpeCkge1xyXG4gICAgdmFyIG5hbWUgPSBwcmVmaXggKyAnYXBwJztcclxuICAgIHZhciBjYW5kaWRhdGU7XHJcblxyXG4gICAgaWYgKCFhcHBFbGVtZW50ICYmIChjYW5kaWRhdGUgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1snICsgbmFtZS5yZXBsYWNlKCc6JywgJ1xcXFw6JykgKyAnXScpKSkge1xyXG4gICAgICBhcHBFbGVtZW50ID0gY2FuZGlkYXRlO1xyXG4gICAgICBtb2R1bGUgPSBjYW5kaWRhdGUuZ2V0QXR0cmlidXRlKG5hbWUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIGlmIChhcHBFbGVtZW50KSB7XHJcbiAgICBjb25maWcuc3RyaWN0RGkgPSBnZXROZ0F0dHJpYnV0ZShhcHBFbGVtZW50LCBcInN0cmljdC1kaVwiKSAhPT0gbnVsbDtcclxuICAgIGJvb3RzdHJhcChhcHBFbGVtZW50LCBtb2R1bGUgPyBbbW9kdWxlXSA6IFtdLCBjb25maWcpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmJvb3RzdHJhcFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2UgdGhpcyBmdW5jdGlvbiB0byBtYW51YWxseSBzdGFydCB1cCBhbmd1bGFyIGFwcGxpY2F0aW9uLlxyXG4gKlxyXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSB7QGxpbmsgZ3VpZGUvYm9vdHN0cmFwIEJvb3RzdHJhcCBndWlkZX0uXHJcbiAqXHJcbiAqIEFuZ3VsYXIgd2lsbCBkZXRlY3QgaWYgaXQgaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIGJyb3dzZXIgbW9yZSB0aGFuIG9uY2UgYW5kIG9ubHkgYWxsb3cgdGhlXHJcbiAqIGZpcnN0IGxvYWRlZCBzY3JpcHQgdG8gYmUgYm9vdHN0cmFwcGVkIGFuZCB3aWxsIHJlcG9ydCBhIHdhcm5pbmcgdG8gdGhlIGJyb3dzZXIgY29uc29sZSBmb3JcclxuICogZWFjaCBvZiB0aGUgc3Vic2VxdWVudCBzY3JpcHRzLiBUaGlzIHByZXZlbnRzIHN0cmFuZ2UgcmVzdWx0cyBpbiBhcHBsaWNhdGlvbnMsIHdoZXJlIG90aGVyd2lzZVxyXG4gKiBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgQW5ndWxhciB0cnkgdG8gd29yayBvbiB0aGUgRE9NLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogUHJvdHJhY3RvciBiYXNlZCBlbmQtdG8tZW5kIHRlc3RzIGNhbm5vdCB1c2UgdGhpcyBmdW5jdGlvbiB0byBib290c3RyYXAgbWFudWFsbHkuXHJcbiAqIFRoZXkgbXVzdCB1c2Uge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0uXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogRG8gbm90IGJvb3RzdHJhcCB0aGUgYXBwIG9uIGFuIGVsZW1lbnQgd2l0aCBhIGRpcmVjdGl2ZSB0aGF0IHVzZXMge0BsaW5rIG5nLiRjb21waWxlI3RyYW5zY2x1c2lvbiB0cmFuc2NsdXNpb259LFxyXG4gKiBzdWNoIGFzIHtAbGluayBuZy5uZ0lmIGBuZ0lmYH0sIHtAbGluayBuZy5uZ0luY2x1ZGUgYG5nSW5jbHVkZWB9IGFuZCB7QGxpbmsgbmdSb3V0ZS5uZ1ZpZXcgYG5nVmlld2B9LlxyXG4gKiBEb2luZyB0aGlzIG1pc3BsYWNlcyB0aGUgYXBwIHtAbGluayBuZy4kcm9vdEVsZW1lbnQgYCRyb290RWxlbWVudGB9IGFuZCB0aGUgYXBwJ3Mge0BsaW5rIGF1dG8uJGluamVjdG9yIGluamVjdG9yfSxcclxuICogY2F1c2luZyBhbmltYXRpb25zIHRvIHN0b3Agd29ya2luZyBhbmQgbWFraW5nIHRoZSBpbmplY3RvciBpbmFjY2Vzc2libGUgZnJvbSBvdXRzaWRlIHRoZSBhcHAuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBgYGBodG1sXHJcbiAqIDwhZG9jdHlwZSBodG1sPlxyXG4gKiA8aHRtbD5cclxuICogPGJvZHk+XHJcbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIldlbGNvbWVDb250cm9sbGVyXCI+XHJcbiAqICAge3tncmVldGluZ319XHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiA8c2NyaXB0IHNyYz1cImFuZ3VsYXIuanNcIj48L3NjcmlwdD5cclxuICogPHNjcmlwdD5cclxuICogICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2RlbW8nLCBbXSlcclxuICogICAuY29udHJvbGxlcignV2VsY29tZUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAgJHNjb3BlLmdyZWV0aW5nID0gJ1dlbGNvbWUhJztcclxuICogICB9KTtcclxuICogICBhbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgWydkZW1vJ10pO1xyXG4gKiA8L3NjcmlwdD5cclxuICogPC9ib2R5PlxyXG4gKiA8L2h0bWw+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgYW5ndWxhciBhcHBsaWNhdGlvbi5cclxuICogQHBhcmFtIHtBcnJheTxTdHJpbmd8RnVuY3Rpb258QXJyYXk+PX0gbW9kdWxlcyBhbiBhcnJheSBvZiBtb2R1bGVzIHRvIGxvYWQgaW50byB0aGUgYXBwbGljYXRpb24uXHJcbiAqICAgICBFYWNoIGl0ZW0gaW4gdGhlIGFycmF5IHNob3VsZCBiZSB0aGUgbmFtZSBvZiBhIHByZWRlZmluZWQgbW9kdWxlIG9yIGEgKERJIGFubm90YXRlZClcclxuICogICAgIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkIGJ5IHRoZSBpbmplY3RvciBhcyBhIGBjb25maWdgIGJsb2NrLlxyXG4gKiAgICAgU2VlOiB7QGxpbmsgYW5ndWxhci5tb2R1bGUgbW9kdWxlc31cclxuICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgYW4gb2JqZWN0IGZvciBkZWZpbmluZyBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBhcHBsaWNhdGlvbi4gVGhlXHJcbiAqICAgICBmb2xsb3dpbmcga2V5cyBhcmUgc3VwcG9ydGVkOlxyXG4gKlxyXG4gKiAqIGBzdHJpY3REaWAgLSBkaXNhYmxlIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9uIGZvciB0aGUgYXBwbGljYXRpb24uIFRoaXMgaXMgbWVhbnQgdG9cclxuICogICBhc3Npc3QgaW4gZmluZGluZyBidWdzIHdoaWNoIGJyZWFrIG1pbmlmaWVkIGNvZGUuIERlZmF1bHRzIHRvIGBmYWxzZWAuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHthdXRvLiRpbmplY3Rvcn0gUmV0dXJucyB0aGUgbmV3bHkgY3JlYXRlZCBpbmplY3RvciBmb3IgdGhpcyBhcHAuXHJcbiAqL1xyXG5mdW5jdGlvbiBib290c3RyYXAoZWxlbWVudCwgbW9kdWxlcywgY29uZmlnKSB7XHJcbiAgaWYgKCFpc09iamVjdChjb25maWcpKSBjb25maWcgPSB7fTtcclxuICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcclxuICAgIHN0cmljdERpOiBmYWxzZVxyXG4gIH07XHJcbiAgY29uZmlnID0gZXh0ZW5kKGRlZmF1bHRDb25maWcsIGNvbmZpZyk7XHJcbiAgdmFyIGRvQm9vdHN0cmFwID0gZnVuY3Rpb24oKSB7XHJcbiAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xyXG5cclxuICAgIGlmIChlbGVtZW50LmluamVjdG9yKCkpIHtcclxuICAgICAgdmFyIHRhZyA9IChlbGVtZW50WzBdID09PSB3aW5kb3cuZG9jdW1lbnQpID8gJ2RvY3VtZW50JyA6IHN0YXJ0aW5nVGFnKGVsZW1lbnQpO1xyXG4gICAgICAvL0VuY29kZSBhbmdsZSBicmFja2V0cyB0byBwcmV2ZW50IGlucHV0IGZyb20gYmVpbmcgc2FuaXRpemVkIHRvIGVtcHR5IHN0cmluZyAjODY4M1xyXG4gICAgICB0aHJvdyBuZ01pbkVycihcclxuICAgICAgICAgICdidHN0cnBkJyxcclxuICAgICAgICAgIFwiQXBwIGFscmVhZHkgYm9vdHN0cmFwcGVkIHdpdGggdGhpcyBlbGVtZW50ICd7MH0nXCIsXHJcbiAgICAgICAgICB0YWcucmVwbGFjZSgvPC8sJyZsdDsnKS5yZXBsYWNlKC8+LywnJmd0OycpKTtcclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGVzID0gbW9kdWxlcyB8fCBbXTtcclxuICAgIG1vZHVsZXMudW5zaGlmdChbJyRwcm92aWRlJywgZnVuY3Rpb24oJHByb3ZpZGUpIHtcclxuICAgICAgJHByb3ZpZGUudmFsdWUoJyRyb290RWxlbWVudCcsIGVsZW1lbnQpO1xyXG4gICAgfV0pO1xyXG5cclxuICAgIGlmIChjb25maWcuZGVidWdJbmZvRW5hYmxlZCkge1xyXG4gICAgICAvLyBQdXNoaW5nIHNvIHRoYXQgdGhpcyBvdmVycmlkZXMgYGRlYnVnSW5mb0VuYWJsZWRgIHNldHRpbmcgZGVmaW5lZCBpbiB1c2VyJ3MgYG1vZHVsZXNgLlxyXG4gICAgICBtb2R1bGVzLnB1c2goWyckY29tcGlsZVByb3ZpZGVyJywgZnVuY3Rpb24oJGNvbXBpbGVQcm92aWRlcikge1xyXG4gICAgICAgICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZCh0cnVlKTtcclxuICAgICAgfV0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZXMudW5zaGlmdCgnbmcnKTtcclxuICAgIHZhciBpbmplY3RvciA9IGNyZWF0ZUluamVjdG9yKG1vZHVsZXMsIGNvbmZpZy5zdHJpY3REaSk7XHJcbiAgICBpbmplY3Rvci5pbnZva2UoWyckcm9vdFNjb3BlJywgJyRyb290RWxlbWVudCcsICckY29tcGlsZScsICckaW5qZWN0b3InLFxyXG4gICAgICAgZnVuY3Rpb24gYm9vdHN0cmFwQXBwbHkoc2NvcGUsIGVsZW1lbnQsIGNvbXBpbGUsIGluamVjdG9yKSB7XHJcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZWxlbWVudC5kYXRhKCckaW5qZWN0b3InLCBpbmplY3Rvcik7XHJcbiAgICAgICAgICBjb21waWxlKGVsZW1lbnQpKHNjb3BlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfV1cclxuICAgICk7XHJcbiAgICByZXR1cm4gaW5qZWN0b3I7XHJcbiAgfTtcclxuXHJcbiAgdmFyIE5HX0VOQUJMRV9ERUJVR19JTkZPID0gL15OR19FTkFCTEVfREVCVUdfSU5GTyEvO1xyXG4gIHZhciBOR19ERUZFUl9CT09UU1RSQVAgPSAvXk5HX0RFRkVSX0JPT1RTVFJBUCEvO1xyXG5cclxuICBpZiAod2luZG93ICYmIE5HX0VOQUJMRV9ERUJVR19JTkZPLnRlc3Qod2luZG93Lm5hbWUpKSB7XHJcbiAgICBjb25maWcuZGVidWdJbmZvRW5hYmxlZCA9IHRydWU7XHJcbiAgICB3aW5kb3cubmFtZSA9IHdpbmRvdy5uYW1lLnJlcGxhY2UoTkdfRU5BQkxFX0RFQlVHX0lORk8sICcnKTtcclxuICB9XHJcblxyXG4gIGlmICh3aW5kb3cgJiYgIU5HX0RFRkVSX0JPT1RTVFJBUC50ZXN0KHdpbmRvdy5uYW1lKSkge1xyXG4gICAgcmV0dXJuIGRvQm9vdHN0cmFwKCk7XHJcbiAgfVxyXG5cclxuICB3aW5kb3cubmFtZSA9IHdpbmRvdy5uYW1lLnJlcGxhY2UoTkdfREVGRVJfQk9PVFNUUkFQLCAnJyk7XHJcbiAgYW5ndWxhci5yZXN1bWVCb290c3RyYXAgPSBmdW5jdGlvbihleHRyYU1vZHVsZXMpIHtcclxuICAgIGZvckVhY2goZXh0cmFNb2R1bGVzLCBmdW5jdGlvbihtb2R1bGUpIHtcclxuICAgICAgbW9kdWxlcy5wdXNoKG1vZHVsZSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkb0Jvb3RzdHJhcCgpO1xyXG4gIH07XHJcblxyXG4gIGlmIChpc0Z1bmN0aW9uKGFuZ3VsYXIucmVzdW1lRGVmZXJyZWRCb290c3RyYXApKSB7XHJcbiAgICBhbmd1bGFyLnJlc3VtZURlZmVycmVkQm9vdHN0cmFwKCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIucmVsb2FkV2l0aERlYnVnSW5mb1xyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2UgdGhpcyBmdW5jdGlvbiB0byByZWxvYWQgdGhlIGN1cnJlbnQgYXBwbGljYXRpb24gd2l0aCBkZWJ1ZyBpbmZvcm1hdGlvbiB0dXJuZWQgb24uXHJcbiAqIFRoaXMgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGEgY2FsbCB0byBgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKGZhbHNlKWAuXHJcbiAqXHJcbiAqIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkZWJ1Z0luZm9FbmFibGVkfSBmb3IgbW9yZS5cclxuICovXHJcbmZ1bmN0aW9uIHJlbG9hZFdpdGhEZWJ1Z0luZm8oKSB7XHJcbiAgd2luZG93Lm5hbWUgPSAnTkdfRU5BQkxFX0RFQlVHX0lORk8hJyArIHdpbmRvdy5uYW1lO1xyXG4gIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuYW1lIGFuZ3VsYXIuZ2V0VGVzdGFiaWxpdHlcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAZGVzY3JpcHRpb25cclxuICogR2V0IHRoZSB0ZXN0YWJpbGl0eSBzZXJ2aWNlIGZvciB0aGUgaW5zdGFuY2Ugb2YgQW5ndWxhciBvbiB0aGUgZ2l2ZW5cclxuICogZWxlbWVudC5cclxuICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IERPTSBlbGVtZW50IHdoaWNoIGlzIHRoZSByb290IG9mIGFuZ3VsYXIgYXBwbGljYXRpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRUZXN0YWJpbGl0eShyb290RWxlbWVudCkge1xyXG4gIHZhciBpbmplY3RvciA9IGFuZ3VsYXIuZWxlbWVudChyb290RWxlbWVudCkuaW5qZWN0b3IoKTtcclxuICBpZiAoIWluamVjdG9yKSB7XHJcbiAgICB0aHJvdyBuZ01pbkVycigndGVzdCcsXHJcbiAgICAgICdubyBpbmplY3RvciBmb3VuZCBmb3IgZWxlbWVudCBhcmd1bWVudCB0byBnZXRUZXN0YWJpbGl0eScpO1xyXG4gIH1cclxuICByZXR1cm4gaW5qZWN0b3IuZ2V0KCckJHRlc3RhYmlsaXR5Jyk7XHJcbn1cclxuXHJcbnZhciBTTkFLRV9DQVNFX1JFR0VYUCA9IC9bQS1aXS9nO1xyXG5mdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUsIHNlcGFyYXRvcikge1xyXG4gIHNlcGFyYXRvciA9IHNlcGFyYXRvciB8fCAnXyc7XHJcbiAgcmV0dXJuIG5hbWUucmVwbGFjZShTTkFLRV9DQVNFX1JFR0VYUCwgZnVuY3Rpb24obGV0dGVyLCBwb3MpIHtcclxuICAgIHJldHVybiAocG9zID8gc2VwYXJhdG9yIDogJycpICsgbGV0dGVyLnRvTG93ZXJDYXNlKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbnZhciBiaW5kSlF1ZXJ5RmlyZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gYmluZEpRdWVyeSgpIHtcclxuICB2YXIgb3JpZ2luYWxDbGVhbkRhdGE7XHJcblxyXG4gIGlmIChiaW5kSlF1ZXJ5RmlyZWQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIGJpbmQgdG8galF1ZXJ5IGlmIHByZXNlbnQ7XHJcbiAgdmFyIGpxTmFtZSA9IGpxKCk7XHJcbiAgalF1ZXJ5ID0gaXNVbmRlZmluZWQoanFOYW1lKSA/IHdpbmRvdy5qUXVlcnkgOiAgIC8vIHVzZSBqUXVlcnkgKGlmIHByZXNlbnQpXHJcbiAgICAgICAgICAgIWpxTmFtZSAgICAgICAgICAgICA/IHVuZGVmaW5lZCAgICAgOiAgIC8vIHVzZSBqcUxpdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93W2pxTmFtZV07ICAgLy8gdXNlIGpRdWVyeSBzcGVjaWZpZWQgYnkgYG5nSnFgXHJcblxyXG4gIC8vIFVzZSBqUXVlcnkgaWYgaXQgZXhpc3RzIHdpdGggcHJvcGVyIGZ1bmN0aW9uYWxpdHksIG90aGVyd2lzZSBkZWZhdWx0IHRvIHVzLlxyXG4gIC8vIEFuZ3VsYXIgMS4yKyByZXF1aXJlcyBqUXVlcnkgMS43KyBmb3Igb24oKS9vZmYoKSBzdXBwb3J0LlxyXG4gIC8vIEFuZ3VsYXIgMS4zKyB0ZWNobmljYWxseSByZXF1aXJlcyBhdCBsZWFzdCBqUXVlcnkgMi4xKyBidXQgaXQgbWF5IHdvcmsgd2l0aCBvbGRlclxyXG4gIC8vIHZlcnNpb25zLiBJdCB3aWxsIG5vdCB3b3JrIGZvciBzdXJlIHdpdGggalF1ZXJ5IDwxLjcsIHRob3VnaC5cclxuICBpZiAoalF1ZXJ5ICYmIGpRdWVyeS5mbi5vbikge1xyXG4gICAganFMaXRlID0galF1ZXJ5O1xyXG4gICAgZXh0ZW5kKGpRdWVyeS5mbiwge1xyXG4gICAgICBzY29wZTogSlFMaXRlUHJvdG90eXBlLnNjb3BlLFxyXG4gICAgICBpc29sYXRlU2NvcGU6IEpRTGl0ZVByb3RvdHlwZS5pc29sYXRlU2NvcGUsXHJcbiAgICAgIGNvbnRyb2xsZXI6IEpRTGl0ZVByb3RvdHlwZS5jb250cm9sbGVyLFxyXG4gICAgICBpbmplY3RvcjogSlFMaXRlUHJvdG90eXBlLmluamVjdG9yLFxyXG4gICAgICBpbmhlcml0ZWREYXRhOiBKUUxpdGVQcm90b3R5cGUuaW5oZXJpdGVkRGF0YVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQWxsIG5vZGVzIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHZpYSB2YXJpb3VzIGpRdWVyeSBBUElzIGxpa2UgLnJlbW92ZSgpXHJcbiAgICAvLyBhcmUgcGFzc2VkIHRocm91Z2ggalF1ZXJ5LmNsZWFuRGF0YS4gTW9ua2V5LXBhdGNoIHRoaXMgbWV0aG9kIHRvIGZpcmVcclxuICAgIC8vIHRoZSAkZGVzdHJveSBldmVudCBvbiBhbGwgcmVtb3ZlZCBub2Rlcy5cclxuICAgIG9yaWdpbmFsQ2xlYW5EYXRhID0galF1ZXJ5LmNsZWFuRGF0YTtcclxuICAgIGpRdWVyeS5jbGVhbkRhdGEgPSBmdW5jdGlvbihlbGVtcykge1xyXG4gICAgICB2YXIgZXZlbnRzO1xyXG4gICAgICBmb3IgKHZhciBpID0gMCwgZWxlbTsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrKSB7XHJcbiAgICAgICAgZXZlbnRzID0galF1ZXJ5Ll9kYXRhKGVsZW0sIFwiZXZlbnRzXCIpO1xyXG4gICAgICAgIGlmIChldmVudHMgJiYgZXZlbnRzLiRkZXN0cm95KSB7XHJcbiAgICAgICAgICBqUXVlcnkoZWxlbSkudHJpZ2dlckhhbmRsZXIoJyRkZXN0cm95Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIG9yaWdpbmFsQ2xlYW5EYXRhKGVsZW1zKTtcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIGpxTGl0ZSA9IEpRTGl0ZTtcclxuICB9XHJcblxyXG4gIGFuZ3VsYXIuZWxlbWVudCA9IGpxTGl0ZTtcclxuXHJcbiAgLy8gUHJldmVudCBkb3VibGUtcHJveHlpbmcuXHJcbiAgYmluZEpRdWVyeUZpcmVkID0gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIHRocm93IGVycm9yIGlmIHRoZSBhcmd1bWVudCBpcyBmYWxzeS5cclxuICovXHJcbmZ1bmN0aW9uIGFzc2VydEFyZyhhcmcsIG5hbWUsIHJlYXNvbikge1xyXG4gIGlmICghYXJnKSB7XHJcbiAgICB0aHJvdyBuZ01pbkVycignYXJlcScsIFwiQXJndW1lbnQgJ3swfScgaXMgezF9XCIsIChuYW1lIHx8ICc/JyksIChyZWFzb24gfHwgXCJyZXF1aXJlZFwiKSk7XHJcbiAgfVxyXG4gIHJldHVybiBhcmc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFzc2VydEFyZ0ZuKGFyZywgbmFtZSwgYWNjZXB0QXJyYXlBbm5vdGF0aW9uKSB7XHJcbiAgaWYgKGFjY2VwdEFycmF5QW5ub3RhdGlvbiAmJiBpc0FycmF5KGFyZykpIHtcclxuICAgICAgYXJnID0gYXJnW2FyZy5sZW5ndGggLSAxXTtcclxuICB9XHJcblxyXG4gIGFzc2VydEFyZyhpc0Z1bmN0aW9uKGFyZyksIG5hbWUsICdub3QgYSBmdW5jdGlvbiwgZ290ICcgK1xyXG4gICAgICAoYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnID8gYXJnLmNvbnN0cnVjdG9yLm5hbWUgfHwgJ09iamVjdCcgOiB0eXBlb2YgYXJnKSk7XHJcbiAgcmV0dXJuIGFyZztcclxufVxyXG5cclxuLyoqXHJcbiAqIHRocm93IGVycm9yIGlmIHRoZSBuYW1lIGdpdmVuIGlzIGhhc093blByb3BlcnR5XHJcbiAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAgICB0aGUgbmFtZSB0byB0ZXN0XHJcbiAqIEBwYXJhbSAge1N0cmluZ30gY29udGV4dCB0aGUgY29udGV4dCBpbiB3aGljaCB0aGUgbmFtZSBpcyB1c2VkLCBzdWNoIGFzIG1vZHVsZSBvciBkaXJlY3RpdmVcclxuICovXHJcbmZ1bmN0aW9uIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsIGNvbnRleHQpIHtcclxuICBpZiAobmFtZSA9PT0gJ2hhc093blByb3BlcnR5Jykge1xyXG4gICAgdGhyb3cgbmdNaW5FcnIoJ2JhZG5hbWUnLCBcImhhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lXCIsIGNvbnRleHQpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiB0aGUgdmFsdWUgYWNjZXNzaWJsZSBmcm9tIHRoZSBvYmplY3QgYnkgcGF0aC4gQW55IHVuZGVmaW5lZCB0cmF2ZXJzYWxzIGFyZSBpZ25vcmVkXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogc3RhcnRpbmcgb2JqZWN0XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIHBhdGggdG8gdHJhdmVyc2VcclxuICogQHBhcmFtIHtib29sZWFufSBbYmluZEZuVG9TY29wZT10cnVlXVxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB2YWx1ZSBhcyBhY2Nlc3NpYmxlIGJ5IHBhdGhcclxuICovXHJcbi8vVE9ETyhtaXNrbyk6IHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmVtb3ZlZFxyXG5mdW5jdGlvbiBnZXR0ZXIob2JqLCBwYXRoLCBiaW5kRm5Ub1Njb3BlKSB7XHJcbiAgaWYgKCFwYXRoKSByZXR1cm4gb2JqO1xyXG4gIHZhciBrZXlzID0gcGF0aC5zcGxpdCgnLicpO1xyXG4gIHZhciBrZXk7XHJcbiAgdmFyIGxhc3RJbnN0YW5jZSA9IG9iajtcclxuICB2YXIgbGVuID0ga2V5cy5sZW5ndGg7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgIGtleSA9IGtleXNbaV07XHJcbiAgICBpZiAob2JqKSB7XHJcbiAgICAgIG9iaiA9IChsYXN0SW5zdGFuY2UgPSBvYmopW2tleV07XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmICghYmluZEZuVG9TY29wZSAmJiBpc0Z1bmN0aW9uKG9iaikpIHtcclxuICAgIHJldHVybiBiaW5kKGxhc3RJbnN0YW5jZSwgb2JqKTtcclxuICB9XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiB0aGUgRE9NIHNpYmxpbmdzIGJldHdlZW4gdGhlIGZpcnN0IGFuZCBsYXN0IG5vZGUgaW4gdGhlIGdpdmVuIGFycmF5LlxyXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBsaWtlIG9iamVjdFxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IHRoZSBpbnB1dHRlZCBvYmplY3Qgb3IgYSBqcUxpdGUgY29sbGVjdGlvbiBjb250YWluaW5nIHRoZSBub2Rlc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0QmxvY2tOb2Rlcyhub2Rlcykge1xyXG4gIC8vIFRPRE8ocGVyZik6IHVwZGF0ZSBgbm9kZXNgIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb2JqZWN0P1xyXG4gIHZhciBub2RlID0gbm9kZXNbMF07XHJcbiAgdmFyIGVuZE5vZGUgPSBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXTtcclxuICB2YXIgYmxvY2tOb2RlcztcclxuXHJcbiAgZm9yICh2YXIgaSA9IDE7IG5vZGUgIT09IGVuZE5vZGUgJiYgKG5vZGUgPSBub2RlLm5leHRTaWJsaW5nKTsgaSsrKSB7XHJcbiAgICBpZiAoYmxvY2tOb2RlcyB8fCBub2Rlc1tpXSAhPT0gbm9kZSkge1xyXG4gICAgICBpZiAoIWJsb2NrTm9kZXMpIHtcclxuICAgICAgICBibG9ja05vZGVzID0ganFMaXRlKHNsaWNlLmNhbGwobm9kZXMsIDAsIGkpKTtcclxuICAgICAgfVxyXG4gICAgICBibG9ja05vZGVzLnB1c2gobm9kZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYmxvY2tOb2RlcyB8fCBub2RlcztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IG9iamVjdCB3aXRob3V0IGEgcHJvdG90eXBlLiBUaGlzIG9iamVjdCBpcyB1c2VmdWwgZm9yIGxvb2t1cCB3aXRob3V0IGhhdmluZyB0b1xyXG4gKiBndWFyZCBhZ2FpbnN0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRlZCBwcm9wZXJ0aWVzIHZpYSBoYXNPd25Qcm9wZXJ0eS5cclxuICpcclxuICogUmVsYXRlZCBtaWNyby1iZW5jaG1hcmtzOlxyXG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL29iamVjdC1jcmVhdGUyXHJcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vcHJvdG8tbWFwLWxvb2t1cC8yXHJcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vZm9yLWluLXZzLW9iamVjdC1rZXlzMlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlTWFwKCkge1xyXG4gIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG59XHJcblxyXG52YXIgTk9ERV9UWVBFX0VMRU1FTlQgPSAxO1xyXG52YXIgTk9ERV9UWVBFX0FUVFJJQlVURSA9IDI7XHJcbnZhciBOT0RFX1RZUEVfVEVYVCA9IDM7XHJcbnZhciBOT0RFX1RZUEVfQ09NTUVOVCA9IDg7XHJcbnZhciBOT0RFX1RZUEVfRE9DVU1FTlQgPSA5O1xyXG52YXIgTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UID0gMTE7XHJcblxyXG4vKipcclxuICogQG5nZG9jIHR5cGVcclxuICogQG5hbWUgYW5ndWxhci5Nb2R1bGVcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogSW50ZXJmYWNlIGZvciBjb25maWd1cmluZyBhbmd1bGFyIHtAbGluayBhbmd1bGFyLm1vZHVsZSBtb2R1bGVzfS5cclxuICovXHJcblxyXG5mdW5jdGlvbiBzZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpIHtcclxuXHJcbiAgdmFyICRpbmplY3Rvck1pbkVyciA9IG1pbkVycignJGluamVjdG9yJyk7XHJcbiAgdmFyIG5nTWluRXJyID0gbWluRXJyKCduZycpO1xyXG5cclxuICBmdW5jdGlvbiBlbnN1cmUob2JqLCBuYW1lLCBmYWN0b3J5KSB7XHJcbiAgICByZXR1cm4gb2JqW25hbWVdIHx8IChvYmpbbmFtZV0gPSBmYWN0b3J5KCkpO1xyXG4gIH1cclxuXHJcbiAgdmFyIGFuZ3VsYXIgPSBlbnN1cmUod2luZG93LCAnYW5ndWxhcicsIE9iamVjdCk7XHJcblxyXG4gIC8vIFdlIG5lZWQgdG8gZXhwb3NlIGBhbmd1bGFyLiQkbWluRXJyYCB0byBtb2R1bGVzIHN1Y2ggYXMgYG5nUmVzb3VyY2VgIHRoYXQgcmVmZXJlbmNlIGl0IGR1cmluZyBib290c3RyYXBcclxuICBhbmd1bGFyLiQkbWluRXJyID0gYW5ndWxhci4kJG1pbkVyciB8fCBtaW5FcnI7XHJcblxyXG4gIHJldHVybiBlbnN1cmUoYW5ndWxhciwgJ21vZHVsZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgLyoqIEB0eXBlIHtPYmplY3QuPHN0cmluZywgYW5ndWxhci5Nb2R1bGU+fSAqL1xyXG4gICAgdmFyIG1vZHVsZXMgPSB7fTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAgICogQG5hbWUgYW5ndWxhci5tb2R1bGVcclxuICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICpcclxuICAgICAqIFRoZSBgYW5ndWxhci5tb2R1bGVgIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhclxyXG4gICAgICogbW9kdWxlcy5cclxuICAgICAqIEFsbCBtb2R1bGVzIChhbmd1bGFyIGNvcmUgb3IgM3JkIHBhcnR5KSB0aGF0IHNob3VsZCBiZSBhdmFpbGFibGUgdG8gYW4gYXBwbGljYXRpb24gbXVzdCBiZVxyXG4gICAgICogcmVnaXN0ZXJlZCB1c2luZyB0aGlzIG1lY2hhbmlzbS5cclxuICAgICAqXHJcbiAgICAgKiBQYXNzaW5nIG9uZSBhcmd1bWVudCByZXRyaWV2ZXMgYW4gZXhpc3Rpbmcge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfSxcclxuICAgICAqIHdoZXJlYXMgcGFzc2luZyBtb3JlIHRoYW4gb25lIGFyZ3VtZW50IGNyZWF0ZXMgYSBuZXcge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfVxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiAjIE1vZHVsZVxyXG4gICAgICpcclxuICAgICAqIEEgbW9kdWxlIGlzIGEgY29sbGVjdGlvbiBvZiBzZXJ2aWNlcywgZGlyZWN0aXZlcywgY29udHJvbGxlcnMsIGZpbHRlcnMsIGFuZCBjb25maWd1cmF0aW9uIGluZm9ybWF0aW9uLlxyXG4gICAgICogYGFuZ3VsYXIubW9kdWxlYCBpcyB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBtb2R1bGVcclxuICAgICAqIHZhciBteU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteU1vZHVsZScsIFtdKTtcclxuICAgICAqXHJcbiAgICAgKiAvLyByZWdpc3RlciBhIG5ldyBzZXJ2aWNlXHJcbiAgICAgKiBteU1vZHVsZS52YWx1ZSgnYXBwTmFtZScsICdNeUNvb2xBcHAnKTtcclxuICAgICAqXHJcbiAgICAgKiAvLyBjb25maWd1cmUgZXhpc3Rpbmcgc2VydmljZXMgaW5zaWRlIGluaXRpYWxpemF0aW9uIGJsb2Nrcy5cclxuICAgICAqIG15TW9kdWxlLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24oJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuICAgICAqICAgLy8gQ29uZmlndXJlIGV4aXN0aW5nIHByb3ZpZGVyc1xyXG4gICAgICogICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XHJcbiAgICAgKiB9XSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBUaGVuIHlvdSBjYW4gY3JlYXRlIGFuIGluamVjdG9yIGFuZCBsb2FkIHlvdXIgbW9kdWxlcyBsaWtlIHRoaXM6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIHZhciBpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoWyduZycsICdteU1vZHVsZSddKVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogSG93ZXZlciBpdCdzIG1vcmUgbGlrZWx5IHRoYXQgeW91J2xsIGp1c3QgdXNlXHJcbiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQXBwIG5nQXBwfSBvclxyXG4gICAgICoge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfSB0byBzaW1wbGlmeSB0aGlzIHByb2Nlc3MgZm9yIHlvdS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyFzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIG1vZHVsZSB0byBjcmVhdGUgb3IgcmV0cmlldmUuXHJcbiAgICAgKiBAcGFyYW0geyFBcnJheS48c3RyaW5nPj19IHJlcXVpcmVzIElmIHNwZWNpZmllZCB0aGVuIG5ldyBtb2R1bGUgaXMgYmVpbmcgY3JlYXRlZC4gSWZcclxuICAgICAqICAgICAgICB1bnNwZWNpZmllZCB0aGVuIHRoZSBtb2R1bGUgaXMgYmVpbmcgcmV0cmlldmVkIGZvciBmdXJ0aGVyIGNvbmZpZ3VyYXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gY29uZmlnRm4gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmdW5jdGlvbiBmb3IgdGhlIG1vZHVsZS4gU2FtZSBhc1xyXG4gICAgICogICAgICAgIHtAbGluayBhbmd1bGFyLk1vZHVsZSNjb25maWcgTW9kdWxlI2NvbmZpZygpfS5cclxuICAgICAqIEByZXR1cm5zIHthbmd1bGFyLk1vZHVsZX0gbmV3IG1vZHVsZSB3aXRoIHRoZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9IGFwaS5cclxuICAgICAqL1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1vZHVsZShuYW1lLCByZXF1aXJlcywgY29uZmlnRm4pIHtcclxuICAgICAgdmFyIGFzc2VydE5vdEhhc093blByb3BlcnR5ID0gZnVuY3Rpb24obmFtZSwgY29udGV4dCkge1xyXG4gICAgICAgIGlmIChuYW1lID09PSAnaGFzT3duUHJvcGVydHknKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZ01pbkVycignYmFkbmFtZScsICdoYXNPd25Qcm9wZXJ0eSBpcyBub3QgYSB2YWxpZCB7MH0gbmFtZScsIGNvbnRleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdtb2R1bGUnKTtcclxuICAgICAgaWYgKHJlcXVpcmVzICYmIG1vZHVsZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuICAgICAgICBtb2R1bGVzW25hbWVdID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZW5zdXJlKG1vZHVsZXMsIG5hbWUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghcmVxdWlyZXMpIHtcclxuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignbm9tb2QnLCBcIk1vZHVsZSAnezB9JyBpcyBub3QgYXZhaWxhYmxlISBZb3UgZWl0aGVyIG1pc3NwZWxsZWQgXCIgK1xyXG4gICAgICAgICAgICAgXCJ0aGUgbW9kdWxlIG5hbWUgb3IgZm9yZ290IHRvIGxvYWQgaXQuIElmIHJlZ2lzdGVyaW5nIGEgbW9kdWxlIGVuc3VyZSB0aGF0IHlvdSBcIiArXHJcbiAgICAgICAgICAgICBcInNwZWNpZnkgdGhlIGRlcGVuZGVuY2llcyBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlwiLCBuYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxBcnJheS48Kj4+fSAqL1xyXG4gICAgICAgIHZhciBpbnZva2VRdWV1ZSA9IFtdO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqL1xyXG4gICAgICAgIHZhciBjb25maWdCbG9ja3MgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEZ1bmN0aW9uPn0gKi9cclxuICAgICAgICB2YXIgcnVuQmxvY2tzID0gW107XHJcblxyXG4gICAgICAgIHZhciBjb25maWcgPSBpbnZva2VMYXRlcignJGluamVjdG9yJywgJ2ludm9rZScsICdwdXNoJywgY29uZmlnQmxvY2tzKTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHthbmd1bGFyLk1vZHVsZX0gKi9cclxuICAgICAgICB2YXIgbW9kdWxlSW5zdGFuY2UgPSB7XHJcbiAgICAgICAgICAvLyBQcml2YXRlIHN0YXRlXHJcbiAgICAgICAgICBfaW52b2tlUXVldWU6IGludm9rZVF1ZXVlLFxyXG4gICAgICAgICAgX2NvbmZpZ0Jsb2NrczogY29uZmlnQmxvY2tzLFxyXG4gICAgICAgICAgX3J1bkJsb2NrczogcnVuQmxvY2tzLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNyZXF1aXJlc1xyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogSG9sZHMgdGhlIGxpc3Qgb2YgbW9kdWxlcyB3aGljaCB0aGUgaW5qZWN0b3Igd2lsbCBsb2FkIGJlZm9yZSB0aGUgY3VycmVudCBtb2R1bGUgaXNcclxuICAgICAgICAgICAqIGxvYWRlZC5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgcmVxdWlyZXM6IHJlcXVpcmVzLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNuYW1lXHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBOYW1lIG9mIHRoZSBtb2R1bGUuXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIG5hbWU6IG5hbWUsXHJcblxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcHJvdmlkZXJcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvdmlkZXJUeXBlIENvbnN0cnVjdGlvbiBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIHRoZVxyXG4gICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNwcm92aWRlciAkcHJvdmlkZS5wcm92aWRlcigpfS5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgcHJvdmlkZXI6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAncHJvdmlkZXInKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZhY3RvcnlcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvdmlkZXJGdW5jdGlvbiBGdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSAkcHJvdmlkZS5mYWN0b3J5KCl9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBmYWN0b3J5OiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ2ZhY3RvcnknKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3NlcnZpY2VcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uc3RydWN0b3IgQSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW5zdGFudGlhdGVkLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKCl9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBzZXJ2aWNlOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ3NlcnZpY2UnKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3ZhbHVlXHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcclxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFNlcnZpY2UgaW5zdGFuY2Ugb2JqZWN0LlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgJHByb3ZpZGUudmFsdWUoKX0uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIHZhbHVlOiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAndmFsdWUnKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbnN0YW50XHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBjb25zdGFudCBuYW1lXHJcbiAgICAgICAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBDb25zdGFudCB2YWx1ZS5cclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogQmVjYXVzZSB0aGUgY29uc3RhbnRzIGFyZSBmaXhlZCwgdGhleSBnZXQgYXBwbGllZCBiZWZvcmUgb3RoZXIgcHJvdmlkZSBtZXRob2RzLlxyXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50ICRwcm92aWRlLmNvbnN0YW50KCl9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBjb25zdGFudDogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ2NvbnN0YW50JywgJ3Vuc2hpZnQnKSxcclxuXHJcbiAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNkZWNvcmF0b3JcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIGRlY29yYXRlLlxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZGVjb3JGbiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCB3aGVuIHRoZSBzZXJ2aWNlIG5lZWRzIHRvIGJlXHJcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkIHJldHVybiB0aGUgZGVjb3JhdGVkIHNlcnZpY2UgaW5zdGFuY2UuXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgJHByb3ZpZGUuZGVjb3JhdG9yKCl9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBkZWNvcmF0b3I6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAnZGVjb3JhdG9yJyksXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNhbmltYXRpb25cclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGFuaW1hdGlvbiBuYW1lXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhbmltYXRpb25GYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiBhblxyXG4gICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiAqKk5PVEUqKjogYW5pbWF0aW9ucyB0YWtlIGVmZmVjdCBvbmx5IGlmIHRoZSAqKm5nQW5pbWF0ZSoqIG1vZHVsZSBpcyBsb2FkZWQuXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIERlZmluZXMgYW4gYW5pbWF0aW9uIGhvb2sgdGhhdCBjYW4gYmUgbGF0ZXIgdXNlZCB3aXRoXHJcbiAgICAgICAgICAgKiB7QGxpbmsgJGFuaW1hdGUgJGFuaW1hdGV9IHNlcnZpY2UgYW5kIGRpcmVjdGl2ZXMgdGhhdCB1c2UgdGhpcyBzZXJ2aWNlLlxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICAgKiBtb2R1bGUuYW5pbWF0aW9uKCcuYW5pbWF0aW9uLW5hbWUnLCBmdW5jdGlvbigkaW5qZWN0MSwgJGluamVjdDIpIHtcclxuICAgICAgICAgICAqICAgcmV0dXJuIHtcclxuICAgICAgICAgICAqICAgICBldmVudE5hbWUgOiBmdW5jdGlvbihlbGVtZW50LCBkb25lKSB7XHJcbiAgICAgICAgICAgKiAgICAgICAvL2NvZGUgdG8gcnVuIHRoZSBhbmltYXRpb25cclxuICAgICAgICAgICAqICAgICAgIC8vb25jZSBjb21wbGV0ZSwgdGhlbiBydW4gZG9uZSgpXHJcbiAgICAgICAgICAgKiAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FuY2VsbGF0aW9uRnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cclxuICAgICAgICAgICAqICAgICAgIH1cclxuICAgICAgICAgICAqICAgICB9XHJcbiAgICAgICAgICAgKiAgIH1cclxuICAgICAgICAgICAqIH0pXHJcbiAgICAgICAgICAgKiBgYGBcclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRhbmltYXRlUHJvdmlkZXIjcmVnaXN0ZXIgJGFuaW1hdGVQcm92aWRlci5yZWdpc3RlcigpfSBhbmRcclxuICAgICAgICAgICAqIHtAbGluayBuZ0FuaW1hdGUgbmdBbmltYXRlIG1vZHVsZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGFuaW1hdGlvbjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckYW5pbWF0ZVByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNmaWx0ZXJcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEZpbHRlciBuYW1lIC0gdGhpcyBtdXN0IGJlIGEgdmFsaWQgYW5ndWxhciBleHByZXNzaW9uIGlkZW50aWZpZXJcclxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlckZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGZpbHRlci5cclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kZmlsdGVyUHJvdmlkZXIjcmVnaXN0ZXIgJGZpbHRlclByb3ZpZGVyLnJlZ2lzdGVyKCl9LlxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICAgICAgICAgKiAqKk5vdGU6KiogRmlsdGVyIG5hbWVzIG11c3QgYmUgdmFsaWQgYW5ndWxhciB7QGxpbmsgZXhwcmVzc2lvbn0gaWRlbnRpZmllcnMsIHN1Y2ggYXMgYHVwcGVyY2FzZWAgb3IgYG9yZGVyQnlgLlxyXG4gICAgICAgICAgICogTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcclxuICAgICAgICAgICAqIHlvdXIgZmlsdGVycywgdGhlbiB5b3UgY2FuIHVzZSBjYXBpdGFsaXphdGlvbiAoYG15YXBwU3Vic2VjdGlvbkZpbHRlcnhgKSBvciB1bmRlcnNjb3Jlc1xyXG4gICAgICAgICAgICogKGBteWFwcF9zdWJzZWN0aW9uX2ZpbHRlcnhgKS5cclxuICAgICAgICAgICAqIDwvZGl2PlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBmaWx0ZXI6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGZpbHRlclByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb250cm9sbGVyXHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgQ29udHJvbGxlciBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGNvbnRyb2xsZXJzIHdoZXJlIHRoZVxyXG4gICAgICAgICAgICogICAga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29uc3RydWN0b3JzLlxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uc3RydWN0b3IgQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyICRjb250cm9sbGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGNvbnRyb2xsZXI6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGNvbnRyb2xsZXJQcm92aWRlcicsICdyZWdpc3RlcicpLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZGlyZWN0aXZlXHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgRGlyZWN0aXZlIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgZGlyZWN0aXZlcyB3aGVyZSB0aGVcclxuICAgICAgICAgICAqICAgIGtleXMgYXJlIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZhY3Rvcmllcy5cclxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpcmVjdGl2ZUZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mXHJcbiAgICAgICAgICAgKiBkaXJlY3RpdmVzLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCl9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBkaXJlY3RpdmU6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGNvbXBpbGVQcm92aWRlcicsICdkaXJlY3RpdmUnKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbXBvbmVudFxyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGluIGNhbWVsLWNhc2UgKGkuZS4gbXlDb21wIHdoaWNoIHdpbGwgbWF0Y2ggYXMgbXktY29tcClcclxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdCAoYSBzaW1wbGlmaWVkXHJcbiAgICAgICAgICAgKiAgICB7QGxpbmsgbmcuJGNvbXBpbGUjZGlyZWN0aXZlLWRlZmluaXRpb24tb2JqZWN0IGRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdH0pXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjY29tcG9uZW50ICRjb21waWxlUHJvdmlkZXIuY29tcG9uZW50KCl9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBjb21wb25lbnQ6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGNvbXBpbGVQcm92aWRlcicsICdjb21wb25lbnQnKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ1xyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uZmlnRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIG9uIG1vZHVsZSBsb2FkLiBVc2VmdWwgZm9yIHNlcnZpY2VcclxuICAgICAgICAgICAqICAgIGNvbmZpZ3VyYXRpb24uXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byByZWdpc3RlciB3b3JrIHdoaWNoIG5lZWRzIHRvIGJlIHBlcmZvcm1lZCBvbiBtb2R1bGUgbG9hZGluZy5cclxuICAgICAgICAgICAqIEZvciBtb3JlIGFib3V0IGhvdyB0byBjb25maWd1cmUgc2VydmljZXMsIHNlZVxyXG4gICAgICAgICAgICoge0BsaW5rIHByb3ZpZGVycyNwcm92aWRlci1yZWNpcGUgUHJvdmlkZXIgUmVjaXBlfS5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgY29uZmlnOiBjb25maWcsXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNydW5cclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGluaXRpYWxpemF0aW9uRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIGFmdGVyIGluamVjdG9yIGNyZWF0aW9uLlxyXG4gICAgICAgICAgICogICAgVXNlZnVsIGZvciBhcHBsaWNhdGlvbiBpbml0aWFsaXphdGlvbi5cclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggc2hvdWxkIGJlIHBlcmZvcm1lZCB3aGVuIHRoZSBpbmplY3RvciBpcyBkb25lXHJcbiAgICAgICAgICAgKiBsb2FkaW5nIGFsbCBtb2R1bGVzLlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBydW46IGZ1bmN0aW9uKGJsb2NrKSB7XHJcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKGNvbmZpZ0ZuKSB7XHJcbiAgICAgICAgICBjb25maWcoY29uZmlnRm4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1vZHVsZUluc3RhbmNlO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvdmlkZXJcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmc9fSBpbnNlcnRNZXRob2RcclxuICAgICAgICAgKiBAcmV0dXJucyB7YW5ndWxhci5Nb2R1bGV9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaW52b2tlTGF0ZXIocHJvdmlkZXIsIG1ldGhvZCwgaW5zZXJ0TWV0aG9kLCBxdWV1ZSkge1xyXG4gICAgICAgICAgaWYgKCFxdWV1ZSkgcXVldWUgPSBpbnZva2VRdWV1ZTtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcXVldWVbaW5zZXJ0TWV0aG9kIHx8ICdwdXNoJ10oW3Byb3ZpZGVyLCBtZXRob2QsIGFyZ3VtZW50c10pO1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3ZpZGVyXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxyXG4gICAgICAgICAqIEByZXR1cm5zIHthbmd1bGFyLk1vZHVsZX1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUocHJvdmlkZXIsIG1ldGhvZCkge1xyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlY2lwZU5hbWUsIGZhY3RvcnlGdW5jdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoZmFjdG9yeUZ1bmN0aW9uICYmIGlzRnVuY3Rpb24oZmFjdG9yeUZ1bmN0aW9uKSkgZmFjdG9yeUZ1bmN0aW9uLiQkbW9kdWxlTmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgIGludm9rZVF1ZXVlLnB1c2goW3Byb3ZpZGVyLCBtZXRob2QsIGFyZ3VtZW50c10pO1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuLyogZ2xvYmFsOiB0b0RlYnVnU3RyaW5nOiB0cnVlICovXHJcblxyXG5mdW5jdGlvbiBzZXJpYWxpemVPYmplY3Qob2JqKSB7XHJcbiAgdmFyIHNlZW4gPSBbXTtcclxuXHJcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgZnVuY3Rpb24oa2V5LCB2YWwpIHtcclxuICAgIHZhbCA9IHRvSnNvblJlcGxhY2VyKGtleSwgdmFsKTtcclxuICAgIGlmIChpc09iamVjdCh2YWwpKSB7XHJcblxyXG4gICAgICBpZiAoc2Vlbi5pbmRleE9mKHZhbCkgPj0gMCkgcmV0dXJuICcuLi4nO1xyXG5cclxuICAgICAgc2Vlbi5wdXNoKHZhbCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b0RlYnVnU3RyaW5nKG9iaikge1xyXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICByZXR1cm4gb2JqLnRvU3RyaW5nKCkucmVwbGFjZSgvIFxce1tcXHNcXFNdKiQvLCAnJyk7XHJcbiAgfSBlbHNlIGlmIChpc1VuZGVmaW5lZChvYmopKSB7XHJcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnc3RyaW5nJykge1xyXG4gICAgcmV0dXJuIHNlcmlhbGl6ZU9iamVjdChvYmopO1xyXG4gIH1cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG4vKiBnbG9iYWwgYW5ndWxhck1vZHVsZTogdHJ1ZSxcclxuICB2ZXJzaW9uOiB0cnVlLFxyXG5cclxuICAkQ29tcGlsZVByb3ZpZGVyLFxyXG5cclxuICBodG1sQW5jaG9yRGlyZWN0aXZlLFxyXG4gIGlucHV0RGlyZWN0aXZlLFxyXG4gIGlucHV0RGlyZWN0aXZlLFxyXG4gIGZvcm1EaXJlY3RpdmUsXHJcbiAgc2NyaXB0RGlyZWN0aXZlLFxyXG4gIHNlbGVjdERpcmVjdGl2ZSxcclxuICBzdHlsZURpcmVjdGl2ZSxcclxuICBvcHRpb25EaXJlY3RpdmUsXHJcbiAgbmdCaW5kRGlyZWN0aXZlLFxyXG4gIG5nQmluZEh0bWxEaXJlY3RpdmUsXHJcbiAgbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsXHJcbiAgbmdDbGFzc0RpcmVjdGl2ZSxcclxuICBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcclxuICBuZ0NsYXNzT2RkRGlyZWN0aXZlLFxyXG4gIG5nQ2xvYWtEaXJlY3RpdmUsXHJcbiAgbmdDb250cm9sbGVyRGlyZWN0aXZlLFxyXG4gIG5nRm9ybURpcmVjdGl2ZSxcclxuICBuZ0hpZGVEaXJlY3RpdmUsXHJcbiAgbmdJZkRpcmVjdGl2ZSxcclxuICBuZ0luY2x1ZGVEaXJlY3RpdmUsXHJcbiAgbmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUsXHJcbiAgbmdJbml0RGlyZWN0aXZlLFxyXG4gIG5nTm9uQmluZGFibGVEaXJlY3RpdmUsXHJcbiAgbmdQbHVyYWxpemVEaXJlY3RpdmUsXHJcbiAgbmdSZXBlYXREaXJlY3RpdmUsXHJcbiAgbmdTaG93RGlyZWN0aXZlLFxyXG4gIG5nU3R5bGVEaXJlY3RpdmUsXHJcbiAgbmdTd2l0Y2hEaXJlY3RpdmUsXHJcbiAgbmdTd2l0Y2hXaGVuRGlyZWN0aXZlLFxyXG4gIG5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSxcclxuICBuZ09wdGlvbnNEaXJlY3RpdmUsXHJcbiAgbmdUcmFuc2NsdWRlRGlyZWN0aXZlLFxyXG4gIG5nTW9kZWxEaXJlY3RpdmUsXHJcbiAgbmdMaXN0RGlyZWN0aXZlLFxyXG4gIG5nQ2hhbmdlRGlyZWN0aXZlLFxyXG4gIHBhdHRlcm5EaXJlY3RpdmUsXHJcbiAgcGF0dGVybkRpcmVjdGl2ZSxcclxuICByZXF1aXJlZERpcmVjdGl2ZSxcclxuICByZXF1aXJlZERpcmVjdGl2ZSxcclxuICBtaW5sZW5ndGhEaXJlY3RpdmUsXHJcbiAgbWlubGVuZ3RoRGlyZWN0aXZlLFxyXG4gIG1heGxlbmd0aERpcmVjdGl2ZSxcclxuICBtYXhsZW5ndGhEaXJlY3RpdmUsXHJcbiAgbmdWYWx1ZURpcmVjdGl2ZSxcclxuICBuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZSxcclxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyxcclxuICBuZ0V2ZW50RGlyZWN0aXZlcyxcclxuXHJcbiAgJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxyXG4gICRBbmltYXRlUHJvdmlkZXIsXHJcbiAgJENvcmVBbmltYXRlQ3NzUHJvdmlkZXIsXHJcbiAgJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIsXHJcbiAgJCRDb3JlQW5pbWF0ZVF1ZXVlUHJvdmlkZXIsXHJcbiAgJCRBbmltYXRlUnVubmVyRmFjdG9yeVByb3ZpZGVyLFxyXG4gICQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeVByb3ZpZGVyLFxyXG4gICRCcm93c2VyUHJvdmlkZXIsXHJcbiAgJENhY2hlRmFjdG9yeVByb3ZpZGVyLFxyXG4gICRDb250cm9sbGVyUHJvdmlkZXIsXHJcbiAgJERhdGVQcm92aWRlcixcclxuICAkRG9jdW1lbnRQcm92aWRlcixcclxuICAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLFxyXG4gICRGaWx0ZXJQcm92aWRlcixcclxuICAkJEZvcmNlUmVmbG93UHJvdmlkZXIsXHJcbiAgJEludGVycG9sYXRlUHJvdmlkZXIsXHJcbiAgJEludGVydmFsUHJvdmlkZXIsXHJcbiAgJCRIYXNoTWFwUHJvdmlkZXIsXHJcbiAgJEh0dHBQcm92aWRlcixcclxuICAkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyLFxyXG4gICRIdHRwUGFyYW1TZXJpYWxpemVySlFMaWtlUHJvdmlkZXIsXHJcbiAgJEh0dHBCYWNrZW5kUHJvdmlkZXIsXHJcbiAgJHhockZhY3RvcnlQcm92aWRlcixcclxuICAkTG9jYXRpb25Qcm92aWRlcixcclxuICAkTG9nUHJvdmlkZXIsXHJcbiAgJFBhcnNlUHJvdmlkZXIsXHJcbiAgJFJvb3RTY29wZVByb3ZpZGVyLFxyXG4gICRRUHJvdmlkZXIsXHJcbiAgJCRRUHJvdmlkZXIsXHJcbiAgJCRTYW5pdGl6ZVVyaVByb3ZpZGVyLFxyXG4gICRTY2VQcm92aWRlcixcclxuICAkU2NlRGVsZWdhdGVQcm92aWRlcixcclxuICAkU25pZmZlclByb3ZpZGVyLFxyXG4gICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIsXHJcbiAgJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyLFxyXG4gICQkVGVzdGFiaWxpdHlQcm92aWRlcixcclxuICAkVGltZW91dFByb3ZpZGVyLFxyXG4gICQkUkFGUHJvdmlkZXIsXHJcbiAgJFdpbmRvd1Byb3ZpZGVyLFxyXG4gICQkanFMaXRlUHJvdmlkZXIsXHJcbiAgJCRDb29raWVSZWFkZXJQcm92aWRlclxyXG4qL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgb2JqZWN0XHJcbiAqIEBuYW1lIGFuZ3VsYXIudmVyc2lvblxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBBbiBvYmplY3QgdGhhdCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCBBbmd1bGFySlMgdmVyc2lvbi5cclxuICpcclxuICogVGhpcyBvYmplY3QgaGFzIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICpcclxuICogLSBgZnVsbGAg4oCTIGB7c3RyaW5nfWAg4oCTIEZ1bGwgdmVyc2lvbiBzdHJpbmcsIHN1Y2ggYXMgXCIwLjkuMThcIi5cclxuICogLSBgbWFqb3JgIOKAkyBge251bWJlcn1gIOKAkyBNYWpvciB2ZXJzaW9uIG51bWJlciwgc3VjaCBhcyBcIjBcIi5cclxuICogLSBgbWlub3JgIOKAkyBge251bWJlcn1gIOKAkyBNaW5vciB2ZXJzaW9uIG51bWJlciwgc3VjaCBhcyBcIjlcIi5cclxuICogLSBgZG90YCDigJMgYHtudW1iZXJ9YCDigJMgRG90IHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiMThcIi5cclxuICogLSBgY29kZU5hbWVgIOKAkyBge3N0cmluZ31gIOKAkyBDb2RlIG5hbWUgb2YgdGhlIHJlbGVhc2UsIHN1Y2ggYXMgXCJqaWdnbGluZy1hcm1mYXRcIi5cclxuICovXHJcbnZhciB2ZXJzaW9uID0ge1xyXG4gIGZ1bGw6ICcxLjUuNScsICAgIC8vIGFsbCBvZiB0aGVzZSBwbGFjZWhvbGRlciBzdHJpbmdzIHdpbGwgYmUgcmVwbGFjZWQgYnkgZ3J1bnQnc1xyXG4gIG1ham9yOiAxLCAgICAvLyBwYWNrYWdlIHRhc2tcclxuICBtaW5vcjogNSxcclxuICBkb3Q6IDUsXHJcbiAgY29kZU5hbWU6ICdtYXRlcmlhbC1jb25zcGlyYXRpb24nXHJcbn07XHJcblxyXG5cclxuZnVuY3Rpb24gcHVibGlzaEV4dGVybmFsQVBJKGFuZ3VsYXIpIHtcclxuICBleHRlbmQoYW5ndWxhciwge1xyXG4gICAgJ2Jvb3RzdHJhcCc6IGJvb3RzdHJhcCxcclxuICAgICdjb3B5JzogY29weSxcclxuICAgICdleHRlbmQnOiBleHRlbmQsXHJcbiAgICAnbWVyZ2UnOiBtZXJnZSxcclxuICAgICdlcXVhbHMnOiBlcXVhbHMsXHJcbiAgICAnZWxlbWVudCc6IGpxTGl0ZSxcclxuICAgICdmb3JFYWNoJzogZm9yRWFjaCxcclxuICAgICdpbmplY3Rvcic6IGNyZWF0ZUluamVjdG9yLFxyXG4gICAgJ25vb3AnOiBub29wLFxyXG4gICAgJ2JpbmQnOiBiaW5kLFxyXG4gICAgJ3RvSnNvbic6IHRvSnNvbixcclxuICAgICdmcm9tSnNvbic6IGZyb21Kc29uLFxyXG4gICAgJ2lkZW50aXR5JzogaWRlbnRpdHksXHJcbiAgICAnaXNVbmRlZmluZWQnOiBpc1VuZGVmaW5lZCxcclxuICAgICdpc0RlZmluZWQnOiBpc0RlZmluZWQsXHJcbiAgICAnaXNTdHJpbmcnOiBpc1N0cmluZyxcclxuICAgICdpc0Z1bmN0aW9uJzogaXNGdW5jdGlvbixcclxuICAgICdpc09iamVjdCc6IGlzT2JqZWN0LFxyXG4gICAgJ2lzTnVtYmVyJzogaXNOdW1iZXIsXHJcbiAgICAnaXNFbGVtZW50JzogaXNFbGVtZW50LFxyXG4gICAgJ2lzQXJyYXknOiBpc0FycmF5LFxyXG4gICAgJ3ZlcnNpb24nOiB2ZXJzaW9uLFxyXG4gICAgJ2lzRGF0ZSc6IGlzRGF0ZSxcclxuICAgICdsb3dlcmNhc2UnOiBsb3dlcmNhc2UsXHJcbiAgICAndXBwZXJjYXNlJzogdXBwZXJjYXNlLFxyXG4gICAgJ2NhbGxiYWNrcyc6IHtjb3VudGVyOiAwfSxcclxuICAgICdnZXRUZXN0YWJpbGl0eSc6IGdldFRlc3RhYmlsaXR5LFxyXG4gICAgJyQkbWluRXJyJzogbWluRXJyLFxyXG4gICAgJyQkY3NwJzogY3NwLFxyXG4gICAgJ3JlbG9hZFdpdGhEZWJ1Z0luZm8nOiByZWxvYWRXaXRoRGVidWdJbmZvXHJcbiAgfSk7XHJcblxyXG4gIGFuZ3VsYXJNb2R1bGUgPSBzZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpO1xyXG5cclxuICBhbmd1bGFyTW9kdWxlKCduZycsIFsnbmdMb2NhbGUnXSwgWyckcHJvdmlkZScsXHJcbiAgICBmdW5jdGlvbiBuZ01vZHVsZSgkcHJvdmlkZSkge1xyXG4gICAgICAvLyAkJHNhbml0aXplVXJpUHJvdmlkZXIgbmVlZHMgdG8gYmUgYmVmb3JlICRjb21waWxlUHJvdmlkZXIgYXMgaXQgaXMgdXNlZCBieSBpdC5cclxuICAgICAgJHByb3ZpZGUucHJvdmlkZXIoe1xyXG4gICAgICAgICQkc2FuaXRpemVVcmk6ICQkU2FuaXRpemVVcmlQcm92aWRlclxyXG4gICAgICB9KTtcclxuICAgICAgJHByb3ZpZGUucHJvdmlkZXIoJyRjb21waWxlJywgJENvbXBpbGVQcm92aWRlcikuXHJcbiAgICAgICAgZGlyZWN0aXZlKHtcclxuICAgICAgICAgICAgYTogaHRtbEFuY2hvckRpcmVjdGl2ZSxcclxuICAgICAgICAgICAgaW5wdXQ6IGlucHV0RGlyZWN0aXZlLFxyXG4gICAgICAgICAgICB0ZXh0YXJlYTogaW5wdXREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIGZvcm06IGZvcm1EaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIHNjcmlwdDogc2NyaXB0RGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBzZWxlY3Q6IHNlbGVjdERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgc3R5bGU6IHN0eWxlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBvcHRpb246IG9wdGlvbkRpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdCaW5kOiBuZ0JpbmREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nQmluZEh0bWw6IG5nQmluZEh0bWxEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nQmluZFRlbXBsYXRlOiBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdDbGFzczogbmdDbGFzc0RpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdDbGFzc0V2ZW46IG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0NsYXNzT2RkOiBuZ0NsYXNzT2RkRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0Nsb2FrOiBuZ0Nsb2FrRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0NvbnRyb2xsZXI6IG5nQ29udHJvbGxlckRpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdGb3JtOiBuZ0Zvcm1EaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nSGlkZTogbmdIaWRlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0lmOiBuZ0lmRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0luY2x1ZGU6IG5nSW5jbHVkZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdJbml0OiBuZ0luaXREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nTm9uQmluZGFibGU6IG5nTm9uQmluZGFibGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nUGx1cmFsaXplOiBuZ1BsdXJhbGl6ZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdSZXBlYXQ6IG5nUmVwZWF0RGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ1Nob3c6IG5nU2hvd0RpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdTdHlsZTogbmdTdHlsZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdTd2l0Y2g6IG5nU3dpdGNoRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ1N3aXRjaFdoZW46IG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdTd2l0Y2hEZWZhdWx0OiBuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nT3B0aW9uczogbmdPcHRpb25zRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ1RyYW5zY2x1ZGU6IG5nVHJhbnNjbHVkZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdNb2RlbDogbmdNb2RlbERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdMaXN0OiBuZ0xpc3REaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nQ2hhbmdlOiBuZ0NoYW5nZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgcGF0dGVybjogcGF0dGVybkRpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdQYXR0ZXJuOiBwYXR0ZXJuRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICByZXF1aXJlZDogcmVxdWlyZWREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nUmVxdWlyZWQ6IHJlcXVpcmVkRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBtaW5sZW5ndGg6IG1pbmxlbmd0aERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdNaW5sZW5ndGg6IG1pbmxlbmd0aERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbWF4bGVuZ3RoOiBtYXhsZW5ndGhEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nTWF4bGVuZ3RoOiBtYXhsZW5ndGhEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nVmFsdWU6IG5nVmFsdWVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nTW9kZWxPcHRpb25zOiBuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZVxyXG4gICAgICAgIH0pLlxyXG4gICAgICAgIGRpcmVjdGl2ZSh7XHJcbiAgICAgICAgICBuZ0luY2x1ZGU6IG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlXHJcbiAgICAgICAgfSkuXHJcbiAgICAgICAgZGlyZWN0aXZlKG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzKS5cclxuICAgICAgICBkaXJlY3RpdmUobmdFdmVudERpcmVjdGl2ZXMpO1xyXG4gICAgICAkcHJvdmlkZS5wcm92aWRlcih7XHJcbiAgICAgICAgJGFuY2hvclNjcm9sbDogJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxyXG4gICAgICAgICRhbmltYXRlOiAkQW5pbWF0ZVByb3ZpZGVyLFxyXG4gICAgICAgICRhbmltYXRlQ3NzOiAkQ29yZUFuaW1hdGVDc3NQcm92aWRlcixcclxuICAgICAgICAkJGFuaW1hdGVKczogJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIsXHJcbiAgICAgICAgJCRhbmltYXRlUXVldWU6ICQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyLFxyXG4gICAgICAgICQkQW5pbWF0ZVJ1bm5lcjogJCRBbmltYXRlUnVubmVyRmFjdG9yeVByb3ZpZGVyLFxyXG4gICAgICAgICQkYW5pbWF0ZUFzeW5jUnVuOiAkJEFuaW1hdGVBc3luY1J1bkZhY3RvcnlQcm92aWRlcixcclxuICAgICAgICAkYnJvd3NlcjogJEJyb3dzZXJQcm92aWRlcixcclxuICAgICAgICAkY2FjaGVGYWN0b3J5OiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXHJcbiAgICAgICAgJGNvbnRyb2xsZXI6ICRDb250cm9sbGVyUHJvdmlkZXIsXHJcbiAgICAgICAgJGRvY3VtZW50OiAkRG9jdW1lbnRQcm92aWRlcixcclxuICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcjogJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcixcclxuICAgICAgICAkZmlsdGVyOiAkRmlsdGVyUHJvdmlkZXIsXHJcbiAgICAgICAgJCRmb3JjZVJlZmxvdzogJCRGb3JjZVJlZmxvd1Byb3ZpZGVyLFxyXG4gICAgICAgICRpbnRlcnBvbGF0ZTogJEludGVycG9sYXRlUHJvdmlkZXIsXHJcbiAgICAgICAgJGludGVydmFsOiAkSW50ZXJ2YWxQcm92aWRlcixcclxuICAgICAgICAkaHR0cDogJEh0dHBQcm92aWRlcixcclxuICAgICAgICAkaHR0cFBhcmFtU2VyaWFsaXplcjogJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlcixcclxuICAgICAgICAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZTogJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlcixcclxuICAgICAgICAkaHR0cEJhY2tlbmQ6ICRIdHRwQmFja2VuZFByb3ZpZGVyLFxyXG4gICAgICAgICR4aHJGYWN0b3J5OiAkeGhyRmFjdG9yeVByb3ZpZGVyLFxyXG4gICAgICAgICRsb2NhdGlvbjogJExvY2F0aW9uUHJvdmlkZXIsXHJcbiAgICAgICAgJGxvZzogJExvZ1Byb3ZpZGVyLFxyXG4gICAgICAgICRwYXJzZTogJFBhcnNlUHJvdmlkZXIsXHJcbiAgICAgICAgJHJvb3RTY29wZTogJFJvb3RTY29wZVByb3ZpZGVyLFxyXG4gICAgICAgICRxOiAkUVByb3ZpZGVyLFxyXG4gICAgICAgICQkcTogJCRRUHJvdmlkZXIsXHJcbiAgICAgICAgJHNjZTogJFNjZVByb3ZpZGVyLFxyXG4gICAgICAgICRzY2VEZWxlZ2F0ZTogJFNjZURlbGVnYXRlUHJvdmlkZXIsXHJcbiAgICAgICAgJHNuaWZmZXI6ICRTbmlmZmVyUHJvdmlkZXIsXHJcbiAgICAgICAgJHRlbXBsYXRlQ2FjaGU6ICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIsXHJcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdDogJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyLFxyXG4gICAgICAgICQkdGVzdGFiaWxpdHk6ICQkVGVzdGFiaWxpdHlQcm92aWRlcixcclxuICAgICAgICAkdGltZW91dDogJFRpbWVvdXRQcm92aWRlcixcclxuICAgICAgICAkd2luZG93OiAkV2luZG93UHJvdmlkZXIsXHJcbiAgICAgICAgJCRyQUY6ICQkUkFGUHJvdmlkZXIsXHJcbiAgICAgICAgJCRqcUxpdGU6ICQkanFMaXRlUHJvdmlkZXIsXHJcbiAgICAgICAgJCRIYXNoTWFwOiAkJEhhc2hNYXBQcm92aWRlcixcclxuICAgICAgICAkJGNvb2tpZVJlYWRlcjogJCRDb29raWVSZWFkZXJQcm92aWRlclxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICBdKTtcclxufVxyXG5cclxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxyXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXHJcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcclxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxyXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXHJcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcclxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cclxuXHJcbi8qIGdsb2JhbCBKUUxpdGVQcm90b3R5cGU6IHRydWUsXHJcbiAgYWRkRXZlbnRMaXN0ZW5lckZuOiB0cnVlLFxyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJGbjogdHJ1ZSxcclxuICBCT09MRUFOX0FUVFI6IHRydWUsXHJcbiAgQUxJQVNFRF9BVFRSOiB0cnVlLFxyXG4qL1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vL0pRTGl0ZVxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuZWxlbWVudFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBXcmFwcyBhIHJhdyBET00gZWxlbWVudCBvciBIVE1MIHN0cmluZyBhcyBhIFtqUXVlcnldKGh0dHA6Ly9qcXVlcnkuY29tKSBlbGVtZW50LlxyXG4gKlxyXG4gKiBJZiBqUXVlcnkgaXMgYXZhaWxhYmxlLCBgYW5ndWxhci5lbGVtZW50YCBpcyBhbiBhbGlhcyBmb3IgdGhlXHJcbiAqIFtqUXVlcnldKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkvKSBmdW5jdGlvbi4gSWYgalF1ZXJ5IGlzIG5vdCBhdmFpbGFibGUsIGBhbmd1bGFyLmVsZW1lbnRgXHJcbiAqIGRlbGVnYXRlcyB0byBBbmd1bGFyJ3MgYnVpbHQtaW4gc3Vic2V0IG9mIGpRdWVyeSwgY2FsbGVkIFwialF1ZXJ5IGxpdGVcIiBvciAqKmpxTGl0ZSoqLlxyXG4gKlxyXG4gKiBqcUxpdGUgaXMgYSB0aW55LCBBUEktY29tcGF0aWJsZSBzdWJzZXQgb2YgalF1ZXJ5IHRoYXQgYWxsb3dzXHJcbiAqIEFuZ3VsYXIgdG8gbWFuaXB1bGF0ZSB0aGUgRE9NIGluIGEgY3Jvc3MtYnJvd3NlciBjb21wYXRpYmxlIHdheS4ganFMaXRlIGltcGxlbWVudHMgb25seSB0aGUgbW9zdFxyXG4gKiBjb21tb25seSBuZWVkZWQgZnVuY3Rpb25hbGl0eSB3aXRoIHRoZSBnb2FsIG9mIGhhdmluZyBhIHZlcnkgc21hbGwgZm9vdHByaW50LlxyXG4gKlxyXG4gKiBUbyB1c2UgYGpRdWVyeWAsIHNpbXBseSBlbnN1cmUgaXQgaXMgbG9hZGVkIGJlZm9yZSB0aGUgYGFuZ3VsYXIuanNgIGZpbGUuIFlvdSBjYW4gYWxzbyB1c2UgdGhlXHJcbiAqIHtAbGluayBuZ0pxIGBuZ0pxYH0gZGlyZWN0aXZlIHRvIHNwZWNpZnkgdGhhdCBqcWxpdGUgc2hvdWxkIGJlIHVzZWQgb3ZlciBqUXVlcnksIG9yIHRvIHVzZSBhXHJcbiAqIHNwZWNpZmljIHZlcnNpb24gb2YgalF1ZXJ5IGlmIG11bHRpcGxlIHZlcnNpb25zIGV4aXN0IG9uIHRoZSBwYWdlLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPioqTm90ZToqKiBBbGwgZWxlbWVudCByZWZlcmVuY2VzIGluIEFuZ3VsYXIgYXJlIGFsd2F5cyB3cmFwcGVkIHdpdGggalF1ZXJ5IG9yXHJcbiAqIGpxTGl0ZSAoc3VjaCBhcyB0aGUgZWxlbWVudCBhcmd1bWVudCBpbiBhIGRpcmVjdGl2ZSdzIGNvbXBpbGUgLyBsaW5rIGZ1bmN0aW9uKS4gVGhleSBhcmUgbmV2ZXIgcmF3IERPTSByZWZlcmVuY2VzLjwvZGl2PlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPioqTm90ZToqKiBLZWVwIGluIG1pbmQgdGhhdCB0aGlzIGZ1bmN0aW9uIHdpbGwgbm90IGZpbmQgZWxlbWVudHNcclxuICogYnkgdGFnIG5hbWUgLyBDU1Mgc2VsZWN0b3IuIEZvciBsb29rdXBzIGJ5IHRhZyBuYW1lLCB0cnkgaW5zdGVhZCBgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKC4uLilgXHJcbiAqIG9yIGAkZG9jdW1lbnQuZmluZCgpYCwgb3IgdXNlIHRoZSBzdGFuZGFyZCBET00gQVBJcywgZS5nLiBgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgpYC48L2Rpdj5cclxuICpcclxuICogIyMgQW5ndWxhcidzIGpxTGl0ZVxyXG4gKiBqcUxpdGUgcHJvdmlkZXMgb25seSB0aGUgZm9sbG93aW5nIGpRdWVyeSBtZXRob2RzOlxyXG4gKlxyXG4gKiAtIFtgYWRkQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hZGRDbGFzcy8pXHJcbiAqIC0gW2BhZnRlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FmdGVyLylcclxuICogLSBbYGFwcGVuZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FwcGVuZC8pXHJcbiAqIC0gW2BhdHRyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYXR0ci8pIC0gRG9lcyBub3Qgc3VwcG9ydCBmdW5jdGlvbnMgYXMgcGFyYW1ldGVyc1xyXG4gKiAtIFtgYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2JpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50RGF0YVxyXG4gKiAtIFtgY2hpbGRyZW4oKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jaGlsZHJlbi8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcclxuICogLSBbYGNsb25lKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY2xvbmUvKVxyXG4gKiAtIFtgY29udGVudHMoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jb250ZW50cy8pXHJcbiAqIC0gW2Bjc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jc3MvKSAtIE9ubHkgcmV0cmlldmVzIGlubGluZS1zdHlsZXMsIGRvZXMgbm90IGNhbGwgYGdldENvbXB1dGVkU3R5bGUoKWAuXHJcbiAqICAgQXMgYSBzZXR0ZXIsIGRvZXMgbm90IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdzIG9yIGFwcGVuZCAncHgnLCBhbmQgYWxzbyBkb2VzIG5vdCBoYXZlIGF1dG9tYXRpYyBwcm9wZXJ0eSBwcmVmaXhpbmcuXHJcbiAqIC0gW2BkYXRhKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZGF0YS8pXHJcbiAqIC0gW2BkZXRhY2goKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9kZXRhY2gvKVxyXG4gKiAtIFtgZW1wdHkoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9lbXB0eS8pXHJcbiAqIC0gW2BlcSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2VxLylcclxuICogLSBbYGZpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9maW5kLykgLSBMaW1pdGVkIHRvIGxvb2t1cHMgYnkgdGFnIG5hbWVcclxuICogLSBbYGhhc0NsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vaGFzQ2xhc3MvKVxyXG4gKiAtIFtgaHRtbCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2h0bWwvKVxyXG4gKiAtIFtgbmV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL25leHQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXHJcbiAqIC0gW2BvbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29uLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudERhdGFcclxuICogLSBbYG9mZigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29mZi8pIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzLCBzZWxlY3RvcnMgb3IgZXZlbnQgb2JqZWN0IGFzIHBhcmFtZXRlclxyXG4gKiAtIFtgb25lKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb25lLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMgb3Igc2VsZWN0b3JzXHJcbiAqIC0gW2BwYXJlbnQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wYXJlbnQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXHJcbiAqIC0gW2BwcmVwZW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcHJlcGVuZC8pXHJcbiAqIC0gW2Bwcm9wKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcHJvcC8pXHJcbiAqIC0gW2ByZWFkeSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlYWR5LylcclxuICogLSBbYHJlbW92ZSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZS8pXHJcbiAqIC0gW2ByZW1vdmVBdHRyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlQXR0ci8pXHJcbiAqIC0gW2ByZW1vdmVDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUNsYXNzLylcclxuICogLSBbYHJlbW92ZURhdGEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVEYXRhLylcclxuICogLSBbYHJlcGxhY2VXaXRoKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVwbGFjZVdpdGgvKVxyXG4gKiAtIFtgdGV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RleHQvKVxyXG4gKiAtIFtgdG9nZ2xlQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90b2dnbGVDbGFzcy8pXHJcbiAqIC0gW2B0cmlnZ2VySGFuZGxlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RyaWdnZXJIYW5kbGVyLykgLSBQYXNzZXMgYSBkdW1teSBldmVudCBvYmplY3QgdG8gaGFuZGxlcnMuXHJcbiAqIC0gW2B1bmJpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS91bmJpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBldmVudCBvYmplY3QgYXMgcGFyYW1ldGVyXHJcbiAqIC0gW2B2YWwoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS92YWwvKVxyXG4gKiAtIFtgd3JhcCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3dyYXAvKVxyXG4gKlxyXG4gKiAjIyBqUXVlcnkvanFMaXRlIEV4dHJhc1xyXG4gKiBBbmd1bGFyIGFsc28gcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIG1ldGhvZHMgYW5kIGV2ZW50cyB0byBib3RoIGpRdWVyeSBhbmQganFMaXRlOlxyXG4gKlxyXG4gKiAjIyMgRXZlbnRzXHJcbiAqIC0gYCRkZXN0cm95YCAtIEFuZ3VsYXJKUyBpbnRlcmNlcHRzIGFsbCBqcUxpdGUvalF1ZXJ5J3MgRE9NIGRlc3RydWN0aW9uIGFwaXMgYW5kIGZpcmVzIHRoaXMgZXZlbnRcclxuICogICAgb24gYWxsIERPTSBub2RlcyBiZWluZyByZW1vdmVkLiAgVGhpcyBjYW4gYmUgdXNlZCB0byBjbGVhbiB1cCBhbnkgM3JkIHBhcnR5IGJpbmRpbmdzIHRvIHRoZSBET01cclxuICogICAgZWxlbWVudCBiZWZvcmUgaXQgaXMgcmVtb3ZlZC5cclxuICpcclxuICogIyMjIE1ldGhvZHNcclxuICogLSBgY29udHJvbGxlcihuYW1lKWAgLSByZXRyaWV2ZXMgdGhlIGNvbnRyb2xsZXIgb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBvciBpdHMgcGFyZW50LiBCeSBkZWZhdWx0XHJcbiAqICAgcmV0cmlldmVzIGNvbnRyb2xsZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUuIElmIGBuYW1lYCBpcyBwcm92aWRlZCBhc1xyXG4gKiAgIGNhbWVsQ2FzZSBkaXJlY3RpdmUgbmFtZSwgdGhlbiB0aGUgY29udHJvbGxlciBmb3IgdGhpcyBkaXJlY3RpdmUgd2lsbCBiZSByZXRyaWV2ZWQgKGUuZy5cclxuICogICBgJ25nTW9kZWwnYCkuXHJcbiAqIC0gYGluamVjdG9yKClgIC0gcmV0cmlldmVzIHRoZSBpbmplY3RvciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuXHJcbiAqIC0gYHNjb3BlKClgIC0gcmV0cmlldmVzIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0gb2YgdGhlIGN1cnJlbnRcclxuICogICBlbGVtZW50IG9yIGl0cyBwYXJlbnQuIFJlcXVpcmVzIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERlYnVnIERhdGF9IHRvXHJcbiAqICAgYmUgZW5hYmxlZC5cclxuICogLSBgaXNvbGF0ZVNjb3BlKClgIC0gcmV0cmlldmVzIGFuIGlzb2xhdGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9IGlmIG9uZSBpcyBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGVcclxuICogICBjdXJyZW50IGVsZW1lbnQuIFRoaXMgZ2V0dGVyIHNob3VsZCBiZSB1c2VkIG9ubHkgb24gZWxlbWVudHMgdGhhdCBjb250YWluIGEgZGlyZWN0aXZlIHdoaWNoIHN0YXJ0cyBhIG5ldyBpc29sYXRlXHJcbiAqICAgc2NvcGUuIENhbGxpbmcgYHNjb3BlKClgIG9uIHRoaXMgZWxlbWVudCBhbHdheXMgcmV0dXJucyB0aGUgb3JpZ2luYWwgbm9uLWlzb2xhdGUgc2NvcGUuXHJcbiAqICAgUmVxdWlyZXMge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGVidWcgRGF0YX0gdG8gYmUgZW5hYmxlZC5cclxuICogLSBgaW5oZXJpdGVkRGF0YSgpYCAtIHNhbWUgYXMgYGRhdGEoKWAsIGJ1dCB3YWxrcyB1cCB0aGUgRE9NIHVudGlsIGEgdmFsdWUgaXMgZm91bmQgb3IgdGhlIHRvcFxyXG4gKiAgIHBhcmVudCBlbGVtZW50IGlzIHJlYWNoZWQuXHJcbiAqXHJcbiAqIEBrbm93bklzc3VlIFlvdSBjYW5ub3Qgc3B5IG9uIGBhbmd1bGFyLmVsZW1lbnRgIGlmIHlvdSBhcmUgdXNpbmcgSmFzbWluZSB2ZXJzaW9uIDEueC4gU2VlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE0MjUxIGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBlbGVtZW50IEhUTUwgc3RyaW5nIG9yIERPTUVsZW1lbnQgdG8gYmUgd3JhcHBlZCBpbnRvIGpRdWVyeS5cclxuICogQHJldHVybnMge09iamVjdH0galF1ZXJ5IG9iamVjdC5cclxuICovXHJcblxyXG5KUUxpdGUuZXhwYW5kbyA9ICduZzMzOSc7XHJcblxyXG52YXIganFDYWNoZSA9IEpRTGl0ZS5jYWNoZSA9IHt9LFxyXG4gICAganFJZCA9IDEsXHJcbiAgICBhZGRFdmVudExpc3RlbmVyRm4gPSBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikge1xyXG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGZhbHNlKTtcclxuICAgIH0sXHJcbiAgICByZW1vdmVFdmVudExpc3RlbmVyRm4gPSBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikge1xyXG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGZhbHNlKTtcclxuICAgIH07XHJcblxyXG4vKlxyXG4gKiAhISEgVGhpcyBpcyBhbiB1bmRvY3VtZW50ZWQgXCJwcml2YXRlXCIgZnVuY3Rpb24gISEhXHJcbiAqL1xyXG5KUUxpdGUuX2RhdGEgPSBmdW5jdGlvbihub2RlKSB7XHJcbiAgLy9qUXVlcnkgYWx3YXlzIHJldHVybnMgYW4gb2JqZWN0IG9uIGNhY2hlIG1pc3NcclxuICByZXR1cm4gdGhpcy5jYWNoZVtub2RlW3RoaXMuZXhwYW5kb11dIHx8IHt9O1xyXG59O1xyXG5cclxuZnVuY3Rpb24ganFOZXh0SWQoKSB7IHJldHVybiArK2pxSWQ7IH1cclxuXHJcblxyXG52YXIgU1BFQ0lBTF9DSEFSU19SRUdFWFAgPSAvKFtcXDpcXC1cXF9dKyguKSkvZztcclxudmFyIE1PWl9IQUNLX1JFR0VYUCA9IC9ebW96KFtBLVpdKS87XHJcbnZhciBNT1VTRV9FVkVOVF9NQVA9IHsgbW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLCBtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwifTtcclxudmFyIGpxTGl0ZU1pbkVyciA9IG1pbkVycignanFMaXRlJyk7XHJcblxyXG4vKipcclxuICogQ29udmVydHMgc25ha2VfY2FzZSB0byBjYW1lbENhc2UuXHJcbiAqIEFsc28gdGhlcmUgaXMgc3BlY2lhbCBjYXNlIGZvciBNb3ogcHJlZml4IHN0YXJ0aW5nIHdpdGggdXBwZXIgY2FzZSBsZXR0ZXIuXHJcbiAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXHJcbiAqL1xyXG5mdW5jdGlvbiBjYW1lbENhc2UobmFtZSkge1xyXG4gIHJldHVybiBuYW1lLlxyXG4gICAgcmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCwgZnVuY3Rpb24oXywgc2VwYXJhdG9yLCBsZXR0ZXIsIG9mZnNldCkge1xyXG4gICAgICByZXR1cm4gb2Zmc2V0ID8gbGV0dGVyLnRvVXBwZXJDYXNlKCkgOiBsZXR0ZXI7XHJcbiAgICB9KS5cclxuICAgIHJlcGxhY2UoTU9aX0hBQ0tfUkVHRVhQLCAnTW96JDEnKTtcclxufVxyXG5cclxudmFyIFNJTkdMRV9UQUdfUkVHRVhQID0gL148KFtcXHctXSspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvO1xyXG52YXIgSFRNTF9SRUdFWFAgPSAvPHwmIz9cXHcrOy87XHJcbnZhciBUQUdfTkFNRV9SRUdFWFAgPSAvPChbXFx3Oi1dKykvO1xyXG52YXIgWEhUTUxfVEFHX1JFR0VYUCA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6LV0rKVtePl0qKVxcLz4vZ2k7XHJcblxyXG52YXIgd3JhcE1hcCA9IHtcclxuICAnb3B0aW9uJzogWzEsICc8c2VsZWN0IG11bHRpcGxlPVwibXVsdGlwbGVcIj4nLCAnPC9zZWxlY3Q+J10sXHJcblxyXG4gICd0aGVhZCc6IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddLFxyXG4gICdjb2wnOiBbMiwgJzx0YWJsZT48Y29sZ3JvdXA+JywgJzwvY29sZ3JvdXA+PC90YWJsZT4nXSxcclxuICAndHInOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcclxuICAndGQnOiBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXSxcclxuICAnX2RlZmF1bHQnOiBbMCwgXCJcIiwgXCJcIl1cclxufTtcclxuXHJcbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcclxud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcclxud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XHJcblxyXG5cclxuZnVuY3Rpb24ganFMaXRlSXNUZXh0Tm9kZShodG1sKSB7XHJcbiAgcmV0dXJuICFIVE1MX1JFR0VYUC50ZXN0KGh0bWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVBY2NlcHRzRGF0YShub2RlKSB7XHJcbiAgLy8gVGhlIHdpbmRvdyBvYmplY3QgY2FuIGFjY2VwdCBkYXRhIGJ1dCBoYXMgbm8gbm9kZVR5cGVcclxuICAvLyBPdGhlcndpc2Ugd2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBlbGVtZW50cyAoMSkgYW5kIGRvY3VtZW50cyAoOSlcclxuICB2YXIgbm9kZVR5cGUgPSBub2RlLm5vZGVUeXBlO1xyXG4gIHJldHVybiBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQgfHwgIW5vZGVUeXBlIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRE9DVU1FTlQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZUhhc0RhdGEobm9kZSkge1xyXG4gIGZvciAodmFyIGtleSBpbiBqcUNhY2hlW25vZGUubmczMzldKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVDbGVhbkRhdGEobm9kZXMpIHtcclxuICBmb3IgKHZhciBpID0gMCwgaWkgPSBub2Rlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICBqcUxpdGVSZW1vdmVEYXRhKG5vZGVzW2ldKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZUJ1aWxkRnJhZ21lbnQoaHRtbCwgY29udGV4dCkge1xyXG4gIHZhciB0bXAsIHRhZywgd3JhcCxcclxuICAgICAgZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcclxuICAgICAgbm9kZXMgPSBbXSwgaTtcclxuXHJcbiAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoaHRtbCkpIHtcclxuICAgIC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxyXG4gICAgbm9kZXMucHVzaChjb250ZXh0LmNyZWF0ZVRleHROb2RlKGh0bWwpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXHJcbiAgICB0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29udGV4dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcclxuICAgIHRhZyA9IChUQUdfTkFNRV9SRUdFWFAuZXhlYyhodG1sKSB8fCBbXCJcIiwgXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB3cmFwID0gd3JhcE1hcFt0YWddIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XHJcbiAgICB0bXAuaW5uZXJIVE1MID0gd3JhcFsxXSArIGh0bWwucmVwbGFjZShYSFRNTF9UQUdfUkVHRVhQLCBcIjwkMT48LyQyPlwiKSArIHdyYXBbMl07XHJcblxyXG4gICAgLy8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XHJcbiAgICBpID0gd3JhcFswXTtcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgdG1wID0gdG1wLmxhc3RDaGlsZDtcclxuICAgIH1cclxuXHJcbiAgICBub2RlcyA9IGNvbmNhdChub2RlcywgdG1wLmNoaWxkTm9kZXMpO1xyXG5cclxuICAgIHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XHJcbiAgICB0bXAudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxyXG4gIGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICBmcmFnbWVudC5pbm5lckhUTUwgPSBcIlwiOyAvLyBDbGVhciBpbm5lciBIVE1MXHJcbiAgZm9yRWFjaChub2RlcywgZnVuY3Rpb24obm9kZSkge1xyXG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBmcmFnbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlUGFyc2VIVE1MKGh0bWwsIGNvbnRleHQpIHtcclxuICBjb250ZXh0ID0gY29udGV4dCB8fCB3aW5kb3cuZG9jdW1lbnQ7XHJcbiAgdmFyIHBhcnNlZDtcclxuXHJcbiAgaWYgKChwYXJzZWQgPSBTSU5HTEVfVEFHX1JFR0VYUC5leGVjKGh0bWwpKSkge1xyXG4gICAgcmV0dXJuIFtjb250ZXh0LmNyZWF0ZUVsZW1lbnQocGFyc2VkWzFdKV07XHJcbiAgfVxyXG5cclxuICBpZiAoKHBhcnNlZCA9IGpxTGl0ZUJ1aWxkRnJhZ21lbnQoaHRtbCwgY29udGV4dCkpKSB7XHJcbiAgICByZXR1cm4gcGFyc2VkLmNoaWxkTm9kZXM7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gW107XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZVdyYXBOb2RlKG5vZGUsIHdyYXBwZXIpIHtcclxuICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xyXG5cclxuICBpZiAocGFyZW50KSB7XHJcbiAgICBwYXJlbnQucmVwbGFjZUNoaWxkKHdyYXBwZXIsIG5vZGUpO1xyXG4gIH1cclxuXHJcbiAgd3JhcHBlci5hcHBlbmRDaGlsZChub2RlKTtcclxufVxyXG5cclxuXHJcbi8vIElFOS0xMSBoYXMgbm8gbWV0aG9kIFwiY29udGFpbnNcIiBpbiBTVkcgZWxlbWVudCBhbmQgaW4gTm9kZS5wcm90b3R5cGUuIEJ1ZyAjMTAyNTkuXHJcbnZhciBqcUxpdGVDb250YWlucyA9IHdpbmRvdy5Ob2RlLnByb3RvdHlwZS5jb250YWlucyB8fCBmdW5jdGlvbihhcmcpIHtcclxuICAvLyBqc2hpbnQgYml0d2lzZTogZmFsc2VcclxuICByZXR1cm4gISEodGhpcy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhcmcpICYgMTYpO1xyXG4gIC8vIGpzaGludCBiaXR3aXNlOiB0cnVlXHJcbn07XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZnVuY3Rpb24gSlFMaXRlKGVsZW1lbnQpIHtcclxuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEpRTGl0ZSkge1xyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICB2YXIgYXJnSXNTdHJpbmc7XHJcblxyXG4gIGlmIChpc1N0cmluZyhlbGVtZW50KSkge1xyXG4gICAgZWxlbWVudCA9IHRyaW0oZWxlbWVudCk7XHJcbiAgICBhcmdJc1N0cmluZyA9IHRydWU7XHJcbiAgfVxyXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBKUUxpdGUpKSB7XHJcbiAgICBpZiAoYXJnSXNTdHJpbmcgJiYgZWxlbWVudC5jaGFyQXQoMCkgIT0gJzwnKSB7XHJcbiAgICAgIHRocm93IGpxTGl0ZU1pbkVycignbm9zZWwnLCAnTG9va2luZyB1cCBlbGVtZW50cyB2aWEgc2VsZWN0b3JzIGlzIG5vdCBzdXBwb3J0ZWQgYnkganFMaXRlISBTZWU6IGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL2FuZ3VsYXIuZWxlbWVudCcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBKUUxpdGUoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBpZiAoYXJnSXNTdHJpbmcpIHtcclxuICAgIGpxTGl0ZUFkZE5vZGVzKHRoaXMsIGpxTGl0ZVBhcnNlSFRNTChlbGVtZW50KSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGpxTGl0ZUFkZE5vZGVzKHRoaXMsIGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlQ2xvbmUoZWxlbWVudCkge1xyXG4gIHJldHVybiBlbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlRGVhbG9jKGVsZW1lbnQsIG9ubHlEZXNjZW5kYW50cykge1xyXG4gIGlmICghb25seURlc2NlbmRhbnRzKSBqcUxpdGVSZW1vdmVEYXRhKGVsZW1lbnQpO1xyXG5cclxuICBpZiAoZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKSB7XHJcbiAgICB2YXIgZGVzY2VuZGFudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZGVzY2VuZGFudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgIGpxTGl0ZVJlbW92ZURhdGEoZGVzY2VuZGFudHNbaV0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlT2ZmKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xyXG4gIGlmIChpc0RlZmluZWQodW5zdXBwb3J0ZWQpKSB0aHJvdyBqcUxpdGVNaW5FcnIoJ29mZmFyZ3MnLCAnanFMaXRlI29mZigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgYXJndW1lbnQnKTtcclxuXHJcbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50KTtcclxuICB2YXIgZXZlbnRzID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5ldmVudHM7XHJcbiAgdmFyIGhhbmRsZSA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuaGFuZGxlO1xyXG5cclxuICBpZiAoIWhhbmRsZSkgcmV0dXJuOyAvL25vIGxpc3RlbmVycyByZWdpc3RlcmVkXHJcblxyXG4gIGlmICghdHlwZSkge1xyXG4gICAgZm9yICh0eXBlIGluIGV2ZW50cykge1xyXG4gICAgICBpZiAodHlwZSAhPT0gJyRkZXN0cm95Jykge1xyXG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBoYW5kbGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICB2YXIgcmVtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgdmFyIGxpc3RlbmVyRm5zID0gZXZlbnRzW3R5cGVdO1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKGZuKSkge1xyXG4gICAgICAgIGFycmF5UmVtb3ZlKGxpc3RlbmVyRm5zIHx8IFtdLCBmbik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCEoaXNEZWZpbmVkKGZuKSAmJiBsaXN0ZW5lckZucyAmJiBsaXN0ZW5lckZucy5sZW5ndGggPiAwKSkge1xyXG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBoYW5kbGUpO1xyXG4gICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZm9yRWFjaCh0eXBlLnNwbGl0KCcgJyksIGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgcmVtb3ZlSGFuZGxlcih0eXBlKTtcclxuICAgICAgaWYgKE1PVVNFX0VWRU5UX01BUFt0eXBlXSkge1xyXG4gICAgICAgIHJlbW92ZUhhbmRsZXIoTU9VU0VfRVZFTlRfTUFQW3R5cGVdKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVSZW1vdmVEYXRhKGVsZW1lbnQsIG5hbWUpIHtcclxuICB2YXIgZXhwYW5kb0lkID0gZWxlbWVudC5uZzMzOTtcclxuICB2YXIgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcclxuXHJcbiAgaWYgKGV4cGFuZG9TdG9yZSkge1xyXG4gICAgaWYgKG5hbWUpIHtcclxuICAgICAgZGVsZXRlIGV4cGFuZG9TdG9yZS5kYXRhW25hbWVdO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV4cGFuZG9TdG9yZS5oYW5kbGUpIHtcclxuICAgICAgaWYgKGV4cGFuZG9TdG9yZS5ldmVudHMuJGRlc3Ryb3kpIHtcclxuICAgICAgICBleHBhbmRvU3RvcmUuaGFuZGxlKHt9LCAnJGRlc3Ryb3knKTtcclxuICAgICAgfVxyXG4gICAgICBqcUxpdGVPZmYoZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICBkZWxldGUganFDYWNoZVtleHBhbmRvSWRdO1xyXG4gICAgZWxlbWVudC5uZzMzOSA9IHVuZGVmaW5lZDsgLy8gZG9uJ3QgZGVsZXRlIERPTSBleHBhbmRvcy4gSUUgYW5kIENocm9tZSBkb24ndCBsaWtlIGl0XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsIGNyZWF0ZUlmTmVjZXNzYXJ5KSB7XHJcbiAgdmFyIGV4cGFuZG9JZCA9IGVsZW1lbnQubmczMzksXHJcbiAgICAgIGV4cGFuZG9TdG9yZSA9IGV4cGFuZG9JZCAmJiBqcUNhY2hlW2V4cGFuZG9JZF07XHJcblxyXG4gIGlmIChjcmVhdGVJZk5lY2Vzc2FyeSAmJiAhZXhwYW5kb1N0b3JlKSB7XHJcbiAgICBlbGVtZW50Lm5nMzM5ID0gZXhwYW5kb0lkID0ganFOZXh0SWQoKTtcclxuICAgIGV4cGFuZG9TdG9yZSA9IGpxQ2FjaGVbZXhwYW5kb0lkXSA9IHtldmVudHM6IHt9LCBkYXRhOiB7fSwgaGFuZGxlOiB1bmRlZmluZWR9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGV4cGFuZG9TdG9yZTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZURhdGEoZWxlbWVudCwga2V5LCB2YWx1ZSkge1xyXG4gIGlmIChqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkge1xyXG5cclxuICAgIHZhciBpc1NpbXBsZVNldHRlciA9IGlzRGVmaW5lZCh2YWx1ZSk7XHJcbiAgICB2YXIgaXNTaW1wbGVHZXR0ZXIgPSAhaXNTaW1wbGVTZXR0ZXIgJiYga2V5ICYmICFpc09iamVjdChrZXkpO1xyXG4gICAgdmFyIG1hc3NHZXR0ZXIgPSAha2V5O1xyXG4gICAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCAhaXNTaW1wbGVHZXR0ZXIpO1xyXG4gICAgdmFyIGRhdGEgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmRhdGE7XHJcblxyXG4gICAgaWYgKGlzU2ltcGxlU2V0dGVyKSB7IC8vIGRhdGEoJ2tleScsIHZhbHVlKVxyXG4gICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChtYXNzR2V0dGVyKSB7ICAvLyBkYXRhKClcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoaXNTaW1wbGVHZXR0ZXIpIHsgLy8gZGF0YSgna2V5JylcclxuICAgICAgICAgIC8vIGRvbid0IGZvcmNlIGNyZWF0aW9uIG9mIGV4cGFuZG9TdG9yZSBpZiBpdCBkb2Vzbid0IGV4aXN0IHlldFxyXG4gICAgICAgICAgcmV0dXJuIGRhdGEgJiYgZGF0YVtrZXldO1xyXG4gICAgICAgIH0gZWxzZSB7IC8vIG1hc3Mtc2V0dGVyOiBkYXRhKHtrZXkxOiB2YWwxLCBrZXkyOiB2YWwyfSlcclxuICAgICAgICAgIGV4dGVuZChkYXRhLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgc2VsZWN0b3IpIHtcclxuICBpZiAoIWVsZW1lbnQuZ2V0QXR0cmlidXRlKSByZXR1cm4gZmFsc2U7XHJcbiAgcmV0dXJuICgoXCIgXCIgKyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgXCIgXCIpLnJlcGxhY2UoL1tcXG5cXHRdL2csIFwiIFwiKS5cclxuICAgICAgaW5kZXhPZihcIiBcIiArIHNlbGVjdG9yICsgXCIgXCIpID4gLTEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVSZW1vdmVDbGFzcyhlbGVtZW50LCBjc3NDbGFzc2VzKSB7XHJcbiAgaWYgKGNzc0NsYXNzZXMgJiYgZWxlbWVudC5zZXRBdHRyaWJ1dGUpIHtcclxuICAgIGZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgnICcpLCBmdW5jdGlvbihjc3NDbGFzcykge1xyXG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB0cmltKFxyXG4gICAgICAgICAgKFwiIFwiICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArIFwiIFwiKVxyXG4gICAgICAgICAgLnJlcGxhY2UoL1tcXG5cXHRdL2csIFwiIFwiKVxyXG4gICAgICAgICAgLnJlcGxhY2UoXCIgXCIgKyB0cmltKGNzc0NsYXNzKSArIFwiIFwiLCBcIiBcIikpXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZUFkZENsYXNzKGVsZW1lbnQsIGNzc0NsYXNzZXMpIHtcclxuICBpZiAoY3NzQ2xhc3NlcyAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSkge1xyXG4gICAgdmFyIGV4aXN0aW5nQ2xhc3NlcyA9ICgnICcgKyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgJyAnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXG5cXHRdL2csIFwiIFwiKTtcclxuXHJcbiAgICBmb3JFYWNoKGNzc0NsYXNzZXMuc3BsaXQoJyAnKSwgZnVuY3Rpb24oY3NzQ2xhc3MpIHtcclxuICAgICAgY3NzQ2xhc3MgPSB0cmltKGNzc0NsYXNzKTtcclxuICAgICAgaWYgKGV4aXN0aW5nQ2xhc3Nlcy5pbmRleE9mKCcgJyArIGNzc0NsYXNzICsgJyAnKSA9PT0gLTEpIHtcclxuICAgICAgICBleGlzdGluZ0NsYXNzZXMgKz0gY3NzQ2xhc3MgKyAnICc7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHRyaW0oZXhpc3RpbmdDbGFzc2VzKSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24ganFMaXRlQWRkTm9kZXMocm9vdCwgZWxlbWVudHMpIHtcclxuICAvLyBUSElTIENPREUgSVMgVkVSWSBIT1QuIERvbid0IG1ha2UgY2hhbmdlcyB3aXRob3V0IGJlbmNobWFya2luZy5cclxuXHJcbiAgaWYgKGVsZW1lbnRzKSB7XHJcblxyXG4gICAgLy8gaWYgYSBOb2RlICh0aGUgbW9zdCBjb21tb24gY2FzZSlcclxuICAgIGlmIChlbGVtZW50cy5ub2RlVHlwZSkge1xyXG4gICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gaWYgYW4gQXJyYXkgb3IgTm9kZUxpc3QgYW5kIG5vdCBhIFdpbmRvd1xyXG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicgJiYgZWxlbWVudHMud2luZG93ICE9PSBlbGVtZW50cykge1xyXG4gICAgICAgIGlmIChsZW5ndGgpIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcm9vdFtyb290Lmxlbmd0aCsrXSA9IGVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBqcUxpdGVDb250cm9sbGVyKGVsZW1lbnQsIG5hbWUpIHtcclxuICByZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCAnJCcgKyAobmFtZSB8fCAnbmdDb250cm9sbGVyJykgKyAnQ29udHJvbGxlcicpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XHJcbiAgLy8gaWYgZWxlbWVudCBpcyB0aGUgZG9jdW1lbnQgb2JqZWN0IHdvcmsgd2l0aCB0aGUgaHRtbCBlbGVtZW50IGluc3RlYWRcclxuICAvLyB0aGlzIG1ha2VzICQoZG9jdW1lbnQpLnNjb3BlKCkgcG9zc2libGVcclxuICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PSBOT0RFX1RZUEVfRE9DVU1FTlQpIHtcclxuICAgIGVsZW1lbnQgPSBlbGVtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICB9XHJcbiAgdmFyIG5hbWVzID0gaXNBcnJheShuYW1lKSA/IG5hbWUgOiBbbmFtZV07XHJcblxyXG4gIHdoaWxlIChlbGVtZW50KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBuYW1lcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgIGlmIChpc0RlZmluZWQodmFsdWUgPSBqcUxpdGUuZGF0YShlbGVtZW50LCBuYW1lc1tpXSkpKSByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgZGVhbGluZyB3aXRoIGEgZG9jdW1lbnQgZnJhZ21lbnQgbm9kZSB3aXRoIGEgaG9zdCBlbGVtZW50LCBhbmQgbm8gcGFyZW50LCB1c2UgdGhlIGhvc3RcclxuICAgIC8vIGVsZW1lbnQgYXMgdGhlIHBhcmVudC4gVGhpcyBlbmFibGVzIGRpcmVjdGl2ZXMgd2l0aGluIGEgU2hhZG93IERPTSBvciBwb2x5ZmlsbGVkIFNoYWRvdyBET01cclxuICAgIC8vIHRvIGxvb2t1cCBwYXJlbnQgY29udHJvbGxlcnMuXHJcbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlIHx8IChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQgJiYgZWxlbWVudC5ob3N0KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZUVtcHR5KGVsZW1lbnQpIHtcclxuICBqcUxpdGVEZWFsb2MoZWxlbWVudCwgdHJ1ZSk7XHJcbiAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG4gICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlUmVtb3ZlKGVsZW1lbnQsIGtlZXBEYXRhKSB7XHJcbiAgaWYgKCFrZWVwRGF0YSkganFMaXRlRGVhbG9jKGVsZW1lbnQpO1xyXG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgaWYgKHBhcmVudCkgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24ganFMaXRlRG9jdW1lbnRMb2FkZWQoYWN0aW9uLCB3aW4pIHtcclxuICB3aW4gPSB3aW4gfHwgd2luZG93O1xyXG4gIGlmICh3aW4uZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xyXG4gICAgLy8gRm9yY2UgdGhlIGFjdGlvbiB0byBiZSBydW4gYXN5bmMgZm9yIGNvbnNpc3RlbnQgYmVoYXZpb3JcclxuICAgIC8vIGZyb20gdGhlIGFjdGlvbidzIHBvaW50IG9mIHZpZXdcclxuICAgIC8vIGkuZS4gaXQgd2lsbCBkZWZpbml0ZWx5IG5vdCBiZSBpbiBhICRhcHBseVxyXG4gICAgd2luLnNldFRpbWVvdXQoYWN0aW9uKTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gTm8gbmVlZCB0byB1bmJpbmQgdGhpcyBoYW5kbGVyIGFzIGxvYWQgaXMgb25seSBldmVyIGNhbGxlZCBvbmNlXHJcbiAgICBqcUxpdGUod2luKS5vbignbG9hZCcsIGFjdGlvbik7XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gRnVuY3Rpb25zIHdoaWNoIGFyZSBkZWNsYXJlZCBkaXJlY3RseS5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbnZhciBKUUxpdGVQcm90b3R5cGUgPSBKUUxpdGUucHJvdG90eXBlID0ge1xyXG4gIHJlYWR5OiBmdW5jdGlvbihmbikge1xyXG4gICAgdmFyIGZpcmVkID0gZmFsc2U7XHJcblxyXG4gICAgZnVuY3Rpb24gdHJpZ2dlcigpIHtcclxuICAgICAgaWYgKGZpcmVkKSByZXR1cm47XHJcbiAgICAgIGZpcmVkID0gdHJ1ZTtcclxuICAgICAgZm4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjaGVjayBpZiBkb2N1bWVudCBpcyBhbHJlYWR5IGxvYWRlZFxyXG4gICAgaWYgKHdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRyaWdnZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vbignRE9NQ29udGVudExvYWRlZCcsIHRyaWdnZXIpOyAvLyB3b3JrcyBmb3IgbW9kZXJuIGJyb3dzZXJzIGFuZCBJRTlcclxuICAgICAgLy8gd2UgY2FuIG5vdCB1c2UganFMaXRlIHNpbmNlIHdlIGFyZSBub3QgZG9uZSBsb2FkaW5nIGFuZCBqUXVlcnkgY291bGQgYmUgbG9hZGVkIGxhdGVyLlxyXG4gICAgICAvLyBqc2hpbnQgLVcwNjRcclxuICAgICAgSlFMaXRlKHdpbmRvdykub24oJ2xvYWQnLCB0cmlnZ2VyKTsgLy8gZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCBmb3Igb3RoZXJzXHJcbiAgICAgIC8vIGpzaGludCArVzA2NFxyXG4gICAgfVxyXG4gIH0sXHJcbiAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHZhbHVlID0gW107XHJcbiAgICBmb3JFYWNoKHRoaXMsIGZ1bmN0aW9uKGUpIHsgdmFsdWUucHVzaCgnJyArIGUpO30pO1xyXG4gICAgcmV0dXJuICdbJyArIHZhbHVlLmpvaW4oJywgJykgKyAnXSc7XHJcbiAgfSxcclxuXHJcbiAgZXE6IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgIHJldHVybiAoaW5kZXggPj0gMCkgPyBqcUxpdGUodGhpc1tpbmRleF0pIDoganFMaXRlKHRoaXNbdGhpcy5sZW5ndGggKyBpbmRleF0pO1xyXG4gIH0sXHJcblxyXG4gIGxlbmd0aDogMCxcclxuICBwdXNoOiBwdXNoLFxyXG4gIHNvcnQ6IFtdLnNvcnQsXHJcbiAgc3BsaWNlOiBbXS5zcGxpY2VcclxufTtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBGdW5jdGlvbnMgaXRlcmF0aW5nIGdldHRlci9zZXR0ZXJzLlxyXG4vLyB0aGVzZSBmdW5jdGlvbnMgcmV0dXJuIHNlbGYgb24gc2V0dGVyIGFuZFxyXG4vLyB2YWx1ZSBvbiBnZXQuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG52YXIgQk9PTEVBTl9BVFRSID0ge307XHJcbmZvckVhY2goJ211bHRpcGxlLHNlbGVjdGVkLGNoZWNrZWQsZGlzYWJsZWQscmVhZE9ubHkscmVxdWlyZWQsb3Blbicuc3BsaXQoJywnKSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICBCT09MRUFOX0FUVFJbbG93ZXJjYXNlKHZhbHVlKV0gPSB2YWx1ZTtcclxufSk7XHJcbnZhciBCT09MRUFOX0VMRU1FTlRTID0ge307XHJcbmZvckVhY2goJ2lucHV0LHNlbGVjdCxvcHRpb24sdGV4dGFyZWEsYnV0dG9uLGZvcm0sZGV0YWlscycuc3BsaXQoJywnKSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICBCT09MRUFOX0VMRU1FTlRTW3ZhbHVlXSA9IHRydWU7XHJcbn0pO1xyXG52YXIgQUxJQVNFRF9BVFRSID0ge1xyXG4gICduZ01pbmxlbmd0aCc6ICdtaW5sZW5ndGgnLFxyXG4gICduZ01heGxlbmd0aCc6ICdtYXhsZW5ndGgnLFxyXG4gICduZ01pbic6ICdtaW4nLFxyXG4gICduZ01heCc6ICdtYXgnLFxyXG4gICduZ1BhdHRlcm4nOiAncGF0dGVybidcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldEJvb2xlYW5BdHRyTmFtZShlbGVtZW50LCBuYW1lKSB7XHJcbiAgLy8gY2hlY2sgZG9tIGxhc3Qgc2luY2Ugd2Ugd2lsbCBtb3N0IGxpa2VseSBmYWlsIG9uIG5hbWVcclxuICB2YXIgYm9vbGVhbkF0dHIgPSBCT09MRUFOX0FUVFJbbmFtZS50b0xvd2VyQ2FzZSgpXTtcclxuXHJcbiAgLy8gYm9vbGVhbkF0dHIgaXMgaGVyZSB0d2ljZSB0byBtaW5pbWl6ZSBET00gYWNjZXNzXHJcbiAgcmV0dXJuIGJvb2xlYW5BdHRyICYmIEJPT0xFQU5fRUxFTUVOVFNbbm9kZU5hbWVfKGVsZW1lbnQpXSAmJiBib29sZWFuQXR0cjtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QWxpYXNlZEF0dHJOYW1lKG5hbWUpIHtcclxuICByZXR1cm4gQUxJQVNFRF9BVFRSW25hbWVdO1xyXG59XHJcblxyXG5mb3JFYWNoKHtcclxuICBkYXRhOiBqcUxpdGVEYXRhLFxyXG4gIHJlbW92ZURhdGE6IGpxTGl0ZVJlbW92ZURhdGEsXHJcbiAgaGFzRGF0YToganFMaXRlSGFzRGF0YSxcclxuICBjbGVhbkRhdGE6IGpxTGl0ZUNsZWFuRGF0YVxyXG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xyXG4gIEpRTGl0ZVtuYW1lXSA9IGZuO1xyXG59KTtcclxuXHJcbmZvckVhY2goe1xyXG4gIGRhdGE6IGpxTGl0ZURhdGEsXHJcbiAgaW5oZXJpdGVkRGF0YToganFMaXRlSW5oZXJpdGVkRGF0YSxcclxuXHJcbiAgc2NvcGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIC8vIENhbid0IHVzZSBqcUxpdGVEYXRhIGhlcmUgZGlyZWN0bHkgc28gd2Ugc3RheSBjb21wYXRpYmxlIHdpdGggalF1ZXJ5IVxyXG4gICAgcmV0dXJuIGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckc2NvcGUnKSB8fCBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQucGFyZW50Tm9kZSB8fCBlbGVtZW50LCBbJyRpc29sYXRlU2NvcGUnLCAnJHNjb3BlJ10pO1xyXG4gIH0sXHJcblxyXG4gIGlzb2xhdGVTY29wZTogZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgLy8gQ2FuJ3QgdXNlIGpxTGl0ZURhdGEgaGVyZSBkaXJlY3RseSBzbyB3ZSBzdGF5IGNvbXBhdGlibGUgd2l0aCBqUXVlcnkhXHJcbiAgICByZXR1cm4ganFMaXRlLmRhdGEoZWxlbWVudCwgJyRpc29sYXRlU2NvcGUnKSB8fCBqcUxpdGUuZGF0YShlbGVtZW50LCAnJGlzb2xhdGVTY29wZU5vVGVtcGxhdGUnKTtcclxuICB9LFxyXG5cclxuICBjb250cm9sbGVyOiBqcUxpdGVDb250cm9sbGVyLFxyXG5cclxuICBpbmplY3RvcjogZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgcmV0dXJuIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgJyRpbmplY3RvcicpO1xyXG4gIH0sXHJcblxyXG4gIHJlbW92ZUF0dHI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUpIHtcclxuICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xyXG4gIH0sXHJcblxyXG4gIGhhc0NsYXNzOiBqcUxpdGVIYXNDbGFzcyxcclxuXHJcbiAgY3NzOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgbmFtZSA9IGNhbWVsQ2FzZShuYW1lKTtcclxuXHJcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICBlbGVtZW50LnN0eWxlW25hbWVdID0gdmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtuYW1lXTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBhdHRyOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcclxuICAgIGlmIChub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9BVFRSSUJVVEUgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBsb3dlcmNhc2VkTmFtZSA9IGxvd2VyY2FzZShuYW1lKTtcclxuICAgIGlmIChCT09MRUFOX0FUVFJbbG93ZXJjYXNlZE5hbWVdKSB7XHJcbiAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgaWYgKCEhdmFsdWUpIHtcclxuICAgICAgICAgIGVsZW1lbnRbbmFtZV0gPSB0cnVlO1xyXG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgbG93ZXJjYXNlZE5hbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBlbGVtZW50W25hbWVdID0gZmFsc2U7XHJcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShsb3dlcmNhc2VkTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAoZWxlbWVudFtuYW1lXSB8fFxyXG4gICAgICAgICAgICAgICAgIChlbGVtZW50LmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKG5hbWUpIHx8IG5vb3ApLnNwZWNpZmllZClcclxuICAgICAgICAgICAgICAgPyBsb3dlcmNhc2VkTmFtZVxyXG4gICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcclxuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUpIHtcclxuICAgICAgLy8gdGhlIGV4dHJhIGFyZ3VtZW50IFwiMlwiIGlzIHRvIGdldCB0aGUgcmlnaHQgdGhpbmcgZm9yIGEuaHJlZiBpbiBJRSwgc2VlIGpRdWVyeSBjb2RlXHJcbiAgICAgIC8vIHNvbWUgZWxlbWVudHMgKGUuZy4gRG9jdW1lbnQpIGRvbid0IGhhdmUgZ2V0IGF0dHJpYnV0ZSwgc28gcmV0dXJuIHVuZGVmaW5lZFxyXG4gICAgICB2YXIgcmV0ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSwgMik7XHJcbiAgICAgIC8vIG5vcm1hbGl6ZSBub24tZXhpc3RpbmcgYXR0cmlidXRlcyB0byB1bmRlZmluZWQgKGFzIGpRdWVyeSlcclxuICAgICAgcmV0dXJuIHJldCA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBwcm9wOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgZWxlbWVudFtuYW1lXSA9IHZhbHVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnRbbmFtZV07XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgdGV4dDogKGZ1bmN0aW9uKCkge1xyXG4gICAgZ2V0VGV4dC4kZHYgPSAnJztcclxuICAgIHJldHVybiBnZXRUZXh0O1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFRleHQoZWxlbWVudCwgdmFsdWUpIHtcclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XHJcbiAgICAgICAgcmV0dXJuIChub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUKSA/IGVsZW1lbnQudGV4dENvbnRlbnQgOiAnJztcclxuICAgICAgfVxyXG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgfSkoKSxcclxuXHJcbiAgdmFsOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkge1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICBpZiAoZWxlbWVudC5tdWx0aXBsZSAmJiBub2RlTmFtZV8oZWxlbWVudCkgPT09ICdzZWxlY3QnKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvckVhY2goZWxlbWVudC5vcHRpb25zLCBmdW5jdGlvbihvcHRpb24pIHtcclxuICAgICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gob3B0aW9uLnZhbHVlIHx8IG9wdGlvbi50ZXh0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA9PT0gMCA/IG51bGwgOiByZXN1bHQ7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGVsZW1lbnQudmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbGVtZW50LnZhbHVlID0gdmFsdWU7XHJcbiAgfSxcclxuXHJcbiAgaHRtbDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcclxuICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnQuaW5uZXJIVE1MO1xyXG4gICAgfVxyXG4gICAganFMaXRlRGVhbG9jKGVsZW1lbnQsIHRydWUpO1xyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSB2YWx1ZTtcclxuICB9LFxyXG5cclxuICBlbXB0eToganFMaXRlRW1wdHlcclxufSwgZnVuY3Rpb24oZm4sIG5hbWUpIHtcclxuICAvKipcclxuICAgKiBQcm9wZXJ0aWVzOiB3cml0ZXMgcmV0dXJuIHNlbGVjdGlvbiwgcmVhZHMgcmV0dXJuIGZpcnN0IHZhbHVlXHJcbiAgICovXHJcbiAgSlFMaXRlLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKGFyZzEsIGFyZzIpIHtcclxuICAgIHZhciBpLCBrZXk7XHJcbiAgICB2YXIgbm9kZUNvdW50ID0gdGhpcy5sZW5ndGg7XHJcblxyXG4gICAgLy8ganFMaXRlSGFzQ2xhc3MgaGFzIG9ubHkgdHdvIGFyZ3VtZW50cywgYnV0IGlzIGEgZ2V0dGVyLW9ubHkgZm4sIHNvIHdlIG5lZWQgdG8gc3BlY2lhbC1jYXNlIGl0XHJcbiAgICAvLyBpbiBhIHdheSB0aGF0IHN1cnZpdmVzIG1pbmlmaWNhdGlvbi5cclxuICAgIC8vIGpxTGl0ZUVtcHR5IHRha2VzIG5vIGFyZ3VtZW50cyBidXQgaXMgYSBzZXR0ZXIuXHJcbiAgICBpZiAoZm4gIT09IGpxTGl0ZUVtcHR5ICYmXHJcbiAgICAgICAgKGlzVW5kZWZpbmVkKChmbi5sZW5ndGggPT0gMiAmJiAoZm4gIT09IGpxTGl0ZUhhc0NsYXNzICYmIGZuICE9PSBqcUxpdGVDb250cm9sbGVyKSkgPyBhcmcxIDogYXJnMikpKSB7XHJcbiAgICAgIGlmIChpc09iamVjdChhcmcxKSkge1xyXG5cclxuICAgICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgYnV0IHRoZSBvYmplY3QgcHJvcGVydGllcyBhcmUgdGhlIGtleS92YWx1ZXNcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcclxuICAgICAgICAgIGlmIChmbiA9PT0ganFMaXRlRGF0YSkge1xyXG4gICAgICAgICAgICAvLyBkYXRhKCkgdGFrZXMgdGhlIHdob2xlIG9iamVjdCBpbiBqUXVlcnlcclxuICAgICAgICAgICAgZm4odGhpc1tpXSwgYXJnMSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBhcmcxKSB7XHJcbiAgICAgICAgICAgICAgZm4odGhpc1tpXSwga2V5LCBhcmcxW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJldHVybiBzZWxmIGZvciBjaGFpbmluZ1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHdlIGFyZSBhIHJlYWQsIHNvIHJlYWQgdGhlIGZpcnN0IGNoaWxkLlxyXG4gICAgICAgIC8vIFRPRE86IGRvIHdlIHN0aWxsIG5lZWQgdGhpcz9cclxuICAgICAgICB2YXIgdmFsdWUgPSBmbi4kZHY7XHJcbiAgICAgICAgLy8gT25seSBpZiB3ZSBoYXZlICRkdiBkbyB3ZSBpdGVyYXRlIG92ZXIgYWxsLCBvdGhlcndpc2UgaXQgaXMganVzdCB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgICAgICB2YXIgamogPSAoaXNVbmRlZmluZWQodmFsdWUpKSA/IE1hdGgubWluKG5vZGVDb3VudCwgMSkgOiBub2RlQ291bnQ7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBqajsgaisrKSB7XHJcbiAgICAgICAgICB2YXIgbm9kZVZhbHVlID0gZm4odGhpc1tqXSwgYXJnMSwgYXJnMik7XHJcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUgKyBub2RlVmFsdWUgOiBub2RlVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gd2UgYXJlIGEgd3JpdGUsIHNvIGFwcGx5IHRvIGFsbCBjaGlsZHJlblxyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcclxuICAgICAgICBmbih0aGlzW2ldLCBhcmcxLCBhcmcyKTtcclxuICAgICAgfVxyXG4gICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmdcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFdmVudEhhbmRsZXIoZWxlbWVudCwgZXZlbnRzKSB7XHJcbiAgdmFyIGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50LCB0eXBlKSB7XHJcbiAgICAvLyBqUXVlcnkgc3BlY2lmaWMgYXBpXHJcbiAgICBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBldmVudEZucyA9IGV2ZW50c1t0eXBlIHx8IGV2ZW50LnR5cGVdO1xyXG4gICAgdmFyIGV2ZW50Rm5zTGVuZ3RoID0gZXZlbnRGbnMgPyBldmVudEZucy5sZW5ndGggOiAwO1xyXG5cclxuICAgIGlmICghZXZlbnRGbnNMZW5ndGgpIHJldHVybjtcclxuXHJcbiAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSkge1xyXG4gICAgICB2YXIgb3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XHJcbiAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcclxuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XHJcbiAgICAgICAgICBvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbi5jYWxsKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9PT0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gU29tZSBldmVudHMgaGF2ZSBzcGVjaWFsIGhhbmRsZXJzIHRoYXQgd3JhcCB0aGUgcmVhbCBoYW5kbGVyXHJcbiAgICB2YXIgaGFuZGxlcldyYXBwZXIgPSBldmVudEZucy5zcGVjaWFsSGFuZGxlcldyYXBwZXIgfHwgZGVmYXVsdEhhbmRsZXJXcmFwcGVyO1xyXG5cclxuICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxyXG4gICAgaWYgKChldmVudEZuc0xlbmd0aCA+IDEpKSB7XHJcbiAgICAgIGV2ZW50Rm5zID0gc2hhbGxvd0NvcHkoZXZlbnRGbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRGbnNMZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcclxuICAgICAgICBoYW5kbGVyV3JhcHBlcihlbGVtZW50LCBldmVudCwgZXZlbnRGbnNbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2sgZm9yIGFuZ3VsYXJNb2Nrcy9jbGVhckRhdGFDYWNoZSB0aGF0IG1ha2VzIGl0IHBvc3NpYmxlIHRvIGRlcmVnaXN0ZXIgYWxsXHJcbiAgLy8gICAgICAgZXZlbnRzIG9uIGBlbGVtZW50YFxyXG4gIGV2ZW50SGFuZGxlci5lbGVtID0gZWxlbWVudDtcclxuICByZXR1cm4gZXZlbnRIYW5kbGVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWZhdWx0SGFuZGxlcldyYXBwZXIoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIpIHtcclxuICBoYW5kbGVyLmNhbGwoZWxlbWVudCwgZXZlbnQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzcGVjaWFsTW91c2VIYW5kbGVyV3JhcHBlcih0YXJnZXQsIGV2ZW50LCBoYW5kbGVyKSB7XHJcbiAgLy8gUmVmZXIgdG8galF1ZXJ5J3MgaW1wbGVtZW50YXRpb24gb2YgbW91c2VlbnRlciAmIG1vdXNlbGVhdmVcclxuICAvLyBSZWFkIGFib3V0IG1vdXNlZW50ZXIgYW5kIG1vdXNlbGVhdmU6XHJcbiAgLy8gaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9qcy9ldmVudHNfbW91c2UuaHRtbCNsaW5rOFxyXG4gIHZhciByZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldDtcclxuICAvLyBGb3IgbW91c2VudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXHJcbiAgLy8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcclxuICBpZiAoIXJlbGF0ZWQgfHwgKHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhanFMaXRlQ29udGFpbnMuY2FsbCh0YXJnZXQsIHJlbGF0ZWQpKSkge1xyXG4gICAgaGFuZGxlci5jYWxsKHRhcmdldCwgZXZlbnQpO1xyXG4gIH1cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vIEZ1bmN0aW9ucyBpdGVyYXRpbmcgdHJhdmVyc2FsLlxyXG4vLyBUaGVzZSBmdW5jdGlvbnMgY2hhaW4gcmVzdWx0cyBpbnRvIGEgc2luZ2xlXHJcbi8vIHNlbGVjdG9yLlxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZm9yRWFjaCh7XHJcbiAgcmVtb3ZlRGF0YToganFMaXRlUmVtb3ZlRGF0YSxcclxuXHJcbiAgb246IGZ1bmN0aW9uIGpxTGl0ZU9uKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xyXG4gICAgaWYgKGlzRGVmaW5lZCh1bnN1cHBvcnRlZCkpIHRocm93IGpxTGl0ZU1pbkVycignb25hcmdzJywgJ2pxTGl0ZSNvbigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgb3IgYGV2ZW50RGF0YWAgcGFyYW1ldGVycycpO1xyXG5cclxuICAgIC8vIERvIG5vdCBhZGQgZXZlbnQgaGFuZGxlcnMgdG8gbm9uLWVsZW1lbnRzIGJlY2F1c2UgdGhleSB3aWxsIG5vdCBiZSBjbGVhbmVkIHVwLlxyXG4gICAgaWYgKCFqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCB0cnVlKTtcclxuICAgIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUuZXZlbnRzO1xyXG4gICAgdmFyIGhhbmRsZSA9IGV4cGFuZG9TdG9yZS5oYW5kbGU7XHJcblxyXG4gICAgaWYgKCFoYW5kbGUpIHtcclxuICAgICAgaGFuZGxlID0gZXhwYW5kb1N0b3JlLmhhbmRsZSA9IGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3N0cmluZy1pbmRleG9mLXZzLXNwbGl0XHJcbiAgICB2YXIgdHlwZXMgPSB0eXBlLmluZGV4T2YoJyAnKSA+PSAwID8gdHlwZS5zcGxpdCgnICcpIDogW3R5cGVdO1xyXG4gICAgdmFyIGkgPSB0eXBlcy5sZW5ndGg7XHJcblxyXG4gICAgdmFyIGFkZEhhbmRsZXIgPSBmdW5jdGlvbih0eXBlLCBzcGVjaWFsSGFuZGxlcldyYXBwZXIsIG5vRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICB2YXIgZXZlbnRGbnMgPSBldmVudHNbdHlwZV07XHJcblxyXG4gICAgICBpZiAoIWV2ZW50Rm5zKSB7XHJcbiAgICAgICAgZXZlbnRGbnMgPSBldmVudHNbdHlwZV0gPSBbXTtcclxuICAgICAgICBldmVudEZucy5zcGVjaWFsSGFuZGxlcldyYXBwZXIgPSBzcGVjaWFsSGFuZGxlcldyYXBwZXI7XHJcbiAgICAgICAgaWYgKHR5cGUgIT09ICckZGVzdHJveScgJiYgIW5vRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsIHR5cGUsIGhhbmRsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBldmVudEZucy5wdXNoKGZuKTtcclxuICAgIH07XHJcblxyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICB0eXBlID0gdHlwZXNbaV07XHJcbiAgICAgIGlmIChNT1VTRV9FVkVOVF9NQVBbdHlwZV0pIHtcclxuICAgICAgICBhZGRIYW5kbGVyKE1PVVNFX0VWRU5UX01BUFt0eXBlXSwgc3BlY2lhbE1vdXNlSGFuZGxlcldyYXBwZXIpO1xyXG4gICAgICAgIGFkZEhhbmRsZXIodHlwZSwgdW5kZWZpbmVkLCB0cnVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhZGRIYW5kbGVyKHR5cGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgb2ZmOiBqcUxpdGVPZmYsXHJcblxyXG4gIG9uZTogZnVuY3Rpb24oZWxlbWVudCwgdHlwZSwgZm4pIHtcclxuICAgIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCk7XHJcblxyXG4gICAgLy9hZGQgdGhlIGxpc3RlbmVyIHR3aWNlIHNvIHRoYXQgd2hlbiBpdCBpcyBjYWxsZWRcclxuICAgIC8veW91IGNhbiByZW1vdmUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIGFuZCBzdGlsbCBiZVxyXG4gICAgLy9hYmxlIHRvIGNhbGwgZWxlbWVudC5vZmYoZXYsIGZuKSBub3JtYWxseVxyXG4gICAgZWxlbWVudC5vbih0eXBlLCBmdW5jdGlvbiBvbkZuKCkge1xyXG4gICAgICBlbGVtZW50Lm9mZih0eXBlLCBmbik7XHJcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIG9uRm4pO1xyXG4gICAgfSk7XHJcbiAgICBlbGVtZW50Lm9uKHR5cGUsIGZuKTtcclxuICB9LFxyXG5cclxuICByZXBsYWNlV2l0aDogZnVuY3Rpb24oZWxlbWVudCwgcmVwbGFjZU5vZGUpIHtcclxuICAgIHZhciBpbmRleCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAganFMaXRlRGVhbG9jKGVsZW1lbnQpO1xyXG4gICAgZm9yRWFjaChuZXcgSlFMaXRlKHJlcGxhY2VOb2RlKSwgZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICBpZiAoaW5kZXgpIHtcclxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGluZGV4Lm5leHRTaWJsaW5nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5vZGUsIGVsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIGluZGV4ID0gbm9kZTtcclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gIGNoaWxkcmVuOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSBbXTtcclxuICAgIGZvckVhY2goZWxlbWVudC5jaGlsZE5vZGVzLCBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xyXG4gICAgICAgIGNoaWxkcmVuLnB1c2goZWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGNoaWxkcmVuO1xyXG4gIH0sXHJcblxyXG4gIGNvbnRlbnRzOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICByZXR1cm4gZWxlbWVudC5jb250ZW50RG9jdW1lbnQgfHwgZWxlbWVudC5jaGlsZE5vZGVzIHx8IFtdO1xyXG4gIH0sXHJcblxyXG4gIGFwcGVuZDogZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkge1xyXG4gICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcclxuICAgIGlmIChub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0VMRU1FTlQgJiYgbm9kZVR5cGUgIT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCkgcmV0dXJuO1xyXG5cclxuICAgIG5vZGUgPSBuZXcgSlFMaXRlKG5vZGUpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5vZGUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBwcmVwZW5kOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7XHJcbiAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcclxuICAgICAgdmFyIGluZGV4ID0gZWxlbWVudC5maXJzdENoaWxkO1xyXG4gICAgICBmb3JFYWNoKG5ldyBKUUxpdGUobm9kZSksIGZ1bmN0aW9uKGNoaWxkKSB7XHJcbiAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGluZGV4KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgd3JhcDogZnVuY3Rpb24oZWxlbWVudCwgd3JhcE5vZGUpIHtcclxuICAgIGpxTGl0ZVdyYXBOb2RlKGVsZW1lbnQsIGpxTGl0ZSh3cmFwTm9kZSkuZXEoMCkuY2xvbmUoKVswXSk7XHJcbiAgfSxcclxuXHJcbiAgcmVtb3ZlOiBqcUxpdGVSZW1vdmUsXHJcblxyXG4gIGRldGFjaDogZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAganFMaXRlUmVtb3ZlKGVsZW1lbnQsIHRydWUpO1xyXG4gIH0sXHJcblxyXG4gIGFmdGVyOiBmdW5jdGlvbihlbGVtZW50LCBuZXdFbGVtZW50KSB7XHJcbiAgICB2YXIgaW5kZXggPSBlbGVtZW50LCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgICBuZXdFbGVtZW50ID0gbmV3IEpRTGl0ZShuZXdFbGVtZW50KTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBuZXdFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgdmFyIG5vZGUgPSBuZXdFbGVtZW50W2ldO1xyXG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGluZGV4Lm5leHRTaWJsaW5nKTtcclxuICAgICAgaW5kZXggPSBub2RlO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGFkZENsYXNzOiBqcUxpdGVBZGRDbGFzcyxcclxuICByZW1vdmVDbGFzczoganFMaXRlUmVtb3ZlQ2xhc3MsXHJcblxyXG4gIHRvZ2dsZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3RvciwgY29uZGl0aW9uKSB7XHJcbiAgICBpZiAoc2VsZWN0b3IpIHtcclxuICAgICAgZm9yRWFjaChzZWxlY3Rvci5zcGxpdCgnICcpLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcclxuICAgICAgICB2YXIgY2xhc3NDb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGNsYXNzQ29uZGl0aW9uKSkge1xyXG4gICAgICAgICAgY2xhc3NDb25kaXRpb24gPSAhanFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKGNsYXNzQ29uZGl0aW9uID8ganFMaXRlQWRkQ2xhc3MgOiBqcUxpdGVSZW1vdmVDbGFzcykoZWxlbWVudCwgY2xhc3NOYW1lKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgcGFyZW50OiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCA/IHBhcmVudCA6IG51bGw7XHJcbiAgfSxcclxuXHJcbiAgbmV4dDogZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgcmV0dXJuIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gIH0sXHJcblxyXG4gIGZpbmQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yKSB7XHJcbiAgICBpZiAoZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSkge1xyXG4gICAgICByZXR1cm4gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3Rvcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgY2xvbmU6IGpxTGl0ZUNsb25lLFxyXG5cclxuICB0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIGV4dHJhUGFyYW1ldGVycykge1xyXG5cclxuICAgIHZhciBkdW1teUV2ZW50LCBldmVudEZuc0NvcHksIGhhbmRsZXJBcmdzO1xyXG4gICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50LnR5cGUgfHwgZXZlbnQ7XHJcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpO1xyXG4gICAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZXZlbnRzO1xyXG4gICAgdmFyIGV2ZW50Rm5zID0gZXZlbnRzICYmIGV2ZW50c1tldmVudE5hbWVdO1xyXG5cclxuICAgIGlmIChldmVudEZucykge1xyXG4gICAgICAvLyBDcmVhdGUgYSBkdW1teSBldmVudCB0byBwYXNzIHRvIHRoZSBoYW5kbGVyc1xyXG4gICAgICBkdW1teUV2ZW50ID0ge1xyXG4gICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHsgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTsgfSxcclxuICAgICAgICBpc0RlZmF1bHRQcmV2ZW50ZWQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5kZWZhdWx0UHJldmVudGVkID09PSB0cnVlOyB9LFxyXG4gICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7IHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfSxcclxuICAgICAgICBpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9PT0gdHJ1ZTsgfSxcclxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IG5vb3AsXHJcbiAgICAgICAgdHlwZTogZXZlbnROYW1lLFxyXG4gICAgICAgIHRhcmdldDogZWxlbWVudFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gSWYgYSBjdXN0b20gZXZlbnQgd2FzIHByb3ZpZGVkIHRoZW4gZXh0ZW5kIG91ciBkdW1teSBldmVudCB3aXRoIGl0XHJcbiAgICAgIGlmIChldmVudC50eXBlKSB7XHJcbiAgICAgICAgZHVtbXlFdmVudCA9IGV4dGVuZChkdW1teUV2ZW50LCBldmVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxyXG4gICAgICBldmVudEZuc0NvcHkgPSBzaGFsbG93Q29weShldmVudEZucyk7XHJcbiAgICAgIGhhbmRsZXJBcmdzID0gZXh0cmFQYXJhbWV0ZXJzID8gW2R1bW15RXZlbnRdLmNvbmNhdChleHRyYVBhcmFtZXRlcnMpIDogW2R1bW15RXZlbnRdO1xyXG5cclxuICAgICAgZm9yRWFjaChldmVudEZuc0NvcHksIGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgaWYgKCFkdW1teUV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcclxuICAgICAgICAgIGZuLmFwcGx5KGVsZW1lbnQsIGhhbmRsZXJBcmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufSwgZnVuY3Rpb24oZm4sIG5hbWUpIHtcclxuICAvKipcclxuICAgKiBjaGFpbmluZyBmdW5jdGlvbnNcclxuICAgKi9cclxuICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMykge1xyXG4gICAgdmFyIHZhbHVlO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBmbih0aGlzW2ldLCBhcmcxLCBhcmcyLCBhcmczKTtcclxuICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICAgICAgLy8gYW55IGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSB2YWx1ZSBuZWVkcyB0byBiZSB3cmFwcGVkXHJcbiAgICAgICAgICB2YWx1ZSA9IGpxTGl0ZSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGpxTGl0ZUFkZE5vZGVzKHZhbHVlLCBmbih0aGlzW2ldLCBhcmcxLCBhcmcyLCBhcmczKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8vIGJpbmQgbGVnYWN5IGJpbmQvdW5iaW5kIHRvIG9uL29mZlxyXG4gIEpRTGl0ZS5wcm90b3R5cGUuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub247XHJcbiAgSlFMaXRlLnByb3RvdHlwZS51bmJpbmQgPSBKUUxpdGUucHJvdG90eXBlLm9mZjtcclxufSk7XHJcblxyXG5cclxuLy8gUHJvdmlkZXIgZm9yIHByaXZhdGUgJCRqcUxpdGUgc2VydmljZVxyXG5mdW5jdGlvbiAkJGpxTGl0ZVByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uICQkanFMaXRlKCkge1xyXG4gICAgcmV0dXJuIGV4dGVuZChKUUxpdGUsIHtcclxuICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uKG5vZGUsIGNsYXNzZXMpIHtcclxuICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcclxuICAgICAgICByZXR1cm4ganFMaXRlSGFzQ2xhc3Mobm9kZSwgY2xhc3Nlcyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGFkZENsYXNzOiBmdW5jdGlvbihub2RlLCBjbGFzc2VzKSB7XHJcbiAgICAgICAgaWYgKG5vZGUuYXR0cikgbm9kZSA9IG5vZGVbMF07XHJcbiAgICAgICAgcmV0dXJuIGpxTGl0ZUFkZENsYXNzKG5vZGUsIGNsYXNzZXMpO1xyXG4gICAgICB9LFxyXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24obm9kZSwgY2xhc3Nlcykge1xyXG4gICAgICAgIGlmIChub2RlLmF0dHIpIG5vZGUgPSBub2RlWzBdO1xyXG4gICAgICAgIHJldHVybiBqcUxpdGVSZW1vdmVDbGFzcyhub2RlLCBjbGFzc2VzKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbXB1dGVzIGEgaGFzaCBvZiBhbiAnb2JqJy5cclxuICogSGFzaCBvZiBhOlxyXG4gKiAgc3RyaW5nIGlzIHN0cmluZ1xyXG4gKiAgbnVtYmVyIGlzIG51bWJlciBhcyBzdHJpbmdcclxuICogIG9iamVjdCBpcyBlaXRoZXIgcmVzdWx0IG9mIGNhbGxpbmcgJCRoYXNoS2V5IGZ1bmN0aW9uIG9uIHRoZSBvYmplY3Qgb3IgdW5pcXVlbHkgZ2VuZXJhdGVkIGlkLFxyXG4gKiAgICAgICAgIHRoYXQgaXMgYWxzbyBhc3NpZ25lZCB0byB0aGUgJCRoYXNoS2V5IHByb3BlcnR5IG9mIHRoZSBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmpcclxuICogQHJldHVybnMge3N0cmluZ30gaGFzaCBzdHJpbmcgc3VjaCB0aGF0IHRoZSBzYW1lIGlucHV0IHdpbGwgaGF2ZSB0aGUgc2FtZSBoYXNoIHN0cmluZy5cclxuICogICAgICAgICBUaGUgcmVzdWx0aW5nIHN0cmluZyBrZXkgaXMgaW4gJ3R5cGU6aGFzaEtleScgZm9ybWF0LlxyXG4gKi9cclxuZnVuY3Rpb24gaGFzaEtleShvYmosIG5leHRVaWRGbikge1xyXG4gIHZhciBrZXkgPSBvYmogJiYgb2JqLiQkaGFzaEtleTtcclxuXHJcbiAgaWYgKGtleSkge1xyXG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAga2V5ID0gb2JqLiQkaGFzaEtleSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGtleTtcclxuICB9XHJcblxyXG4gIHZhciBvYmpUeXBlID0gdHlwZW9mIG9iajtcclxuICBpZiAob2JqVHlwZSA9PSAnZnVuY3Rpb24nIHx8IChvYmpUeXBlID09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkpIHtcclxuICAgIGtleSA9IG9iai4kJGhhc2hLZXkgPSBvYmpUeXBlICsgJzonICsgKG5leHRVaWRGbiB8fCBuZXh0VWlkKSgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBrZXkgPSBvYmpUeXBlICsgJzonICsgb2JqO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGtleTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEhhc2hNYXAgd2hpY2ggY2FuIHVzZSBvYmplY3RzIGFzIGtleXNcclxuICovXHJcbmZ1bmN0aW9uIEhhc2hNYXAoYXJyYXksIGlzb2xhdGVkVWlkKSB7XHJcbiAgaWYgKGlzb2xhdGVkVWlkKSB7XHJcbiAgICB2YXIgdWlkID0gMDtcclxuICAgIHRoaXMubmV4dFVpZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gKyt1aWQ7XHJcbiAgICB9O1xyXG4gIH1cclxuICBmb3JFYWNoKGFycmF5LCB0aGlzLnB1dCwgdGhpcyk7XHJcbn1cclxuSGFzaE1hcC5wcm90b3R5cGUgPSB7XHJcbiAgLyoqXHJcbiAgICogU3RvcmUga2V5IHZhbHVlIHBhaXJcclxuICAgKiBAcGFyYW0ga2V5IGtleSB0byBzdG9yZSBjYW4gYmUgYW55IHR5cGVcclxuICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgdG8gc3RvcmUgY2FuIGJlIGFueSB0eXBlXHJcbiAgICovXHJcbiAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICB0aGlzW2hhc2hLZXkoa2V5LCB0aGlzLm5leHRVaWQpXSA9IHZhbHVlO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBrZXlcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSB0aGUgdmFsdWUgZm9yIHRoZSBrZXlcclxuICAgKi9cclxuICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xyXG4gICAgcmV0dXJuIHRoaXNbaGFzaEtleShrZXksIHRoaXMubmV4dFVpZCldO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSB0aGUga2V5L3ZhbHVlIHBhaXJcclxuICAgKiBAcGFyYW0ga2V5XHJcbiAgICovXHJcbiAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcclxuICAgIHZhciB2YWx1ZSA9IHRoaXNba2V5ID0gaGFzaEtleShrZXksIHRoaXMubmV4dFVpZCldO1xyXG4gICAgZGVsZXRlIHRoaXNba2V5XTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcbn07XHJcblxyXG52YXIgJCRIYXNoTWFwUHJvdmlkZXIgPSBbZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy4kZ2V0ID0gW2Z1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIEhhc2hNYXA7XHJcbiAgfV07XHJcbn1dO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBuYW1lIGFuZ3VsYXIuaW5qZWN0b3JcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIENyZWF0ZXMgYW4gaW5qZWN0b3Igb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgZm9yIHJldHJpZXZpbmcgc2VydmljZXMgYXMgd2VsbCBhcyBmb3JcclxuICogZGVwZW5kZW5jeSBpbmplY3Rpb24gKHNlZSB7QGxpbmsgZ3VpZGUvZGkgZGVwZW5kZW5jeSBpbmplY3Rpb259KS5cclxuICpcclxuICogQHBhcmFtIHtBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gbW9kdWxlcyBBIGxpc3Qgb2YgbW9kdWxlIGZ1bmN0aW9ucyBvciB0aGVpciBhbGlhc2VzLiBTZWVcclxuICogICAgIHtAbGluayBhbmd1bGFyLm1vZHVsZX0uIFRoZSBgbmdgIG1vZHVsZSBtdXN0IGJlIGV4cGxpY2l0bHkgYWRkZWQuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtzdHJpY3REaT1mYWxzZV0gV2hldGhlciB0aGUgaW5qZWN0b3Igc2hvdWxkIGJlIGluIHN0cmljdCBtb2RlLCB3aGljaFxyXG4gKiAgICAgZGlzYWxsb3dzIGFyZ3VtZW50IG5hbWUgYW5ub3RhdGlvbiBpbmZlcmVuY2UuXHJcbiAqIEByZXR1cm5zIHtpbmplY3Rvcn0gSW5qZWN0b3Igb2JqZWN0LiBTZWUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFR5cGljYWwgdXNhZ2VcclxuICogYGBganNcclxuICogICAvLyBjcmVhdGUgYW4gaW5qZWN0b3JcclxuICogICB2YXIgJGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcihbJ25nJ10pO1xyXG4gKlxyXG4gKiAgIC8vIHVzZSB0aGUgaW5qZWN0b3IgdG8ga2ljayBvZmYgeW91ciBhcHBsaWNhdGlvblxyXG4gKiAgIC8vIHVzZSB0aGUgdHlwZSBpbmZlcmVuY2UgdG8gYXV0byBpbmplY3QgYXJndW1lbnRzLCBvciB1c2UgaW1wbGljaXQgaW5qZWN0aW9uXHJcbiAqICAgJGluamVjdG9yLmludm9rZShmdW5jdGlvbigkcm9vdFNjb3BlLCAkY29tcGlsZSwgJGRvY3VtZW50KSB7XHJcbiAqICAgICAkY29tcGlsZSgkZG9jdW1lbnQpKCRyb290U2NvcGUpO1xyXG4gKiAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XHJcbiAqICAgfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBTb21ldGltZXMgeW91IHdhbnQgdG8gZ2V0IGFjY2VzcyB0byB0aGUgaW5qZWN0b3Igb2YgYSBjdXJyZW50bHkgcnVubmluZyBBbmd1bGFyIGFwcFxyXG4gKiBmcm9tIG91dHNpZGUgQW5ndWxhci4gUGVyaGFwcywgeW91IHdhbnQgdG8gaW5qZWN0IGFuZCBjb21waWxlIHNvbWUgbWFya3VwIGFmdGVyIHRoZVxyXG4gKiBhcHBsaWNhdGlvbiBoYXMgYmVlbiBib290c3RyYXBwZWQuIFlvdSBjYW4gZG8gdGhpcyB1c2luZyB0aGUgZXh0cmEgYGluamVjdG9yKClgIGFkZGVkXHJcbiAqIHRvIEpRdWVyeS9qcUxpdGUgZWxlbWVudHMuIFNlZSB7QGxpbmsgYW5ndWxhci5lbGVtZW50fS5cclxuICpcclxuICogKlRoaXMgaXMgZmFpcmx5IHJhcmUgYnV0IGNvdWxkIGJlIHRoZSBjYXNlIGlmIGEgdGhpcmQgcGFydHkgbGlicmFyeSBpcyBpbmplY3RpbmcgdGhlXHJcbiAqIG1hcmt1cC4qXHJcbiAqXHJcbiAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSBhIG5ldyBibG9jayBvZiBIVE1MIGNvbnRhaW5pbmcgYSBgbmctY29udHJvbGxlcmBcclxuICogZGlyZWN0aXZlIGlzIGFkZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50IGJvZHkgYnkgSlF1ZXJ5LiBXZSB0aGVuIGNvbXBpbGUgYW5kIGxpbmtcclxuICogaXQgaW50byB0aGUgY3VycmVudCBBbmd1bGFySlMgc2NvcGUuXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciAkZGl2ID0gJCgnPGRpdiBuZy1jb250cm9sbGVyPVwiTXlDdHJsXCI+e3tjb250ZW50LmxhYmVsfX08L2Rpdj4nKTtcclxuICogJChkb2N1bWVudC5ib2R5KS5hcHBlbmQoJGRpdik7XHJcbiAqXHJcbiAqIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuaW5qZWN0b3IoKS5pbnZva2UoZnVuY3Rpb24oJGNvbXBpbGUpIHtcclxuICogICB2YXIgc2NvcGUgPSBhbmd1bGFyLmVsZW1lbnQoJGRpdikuc2NvcGUoKTtcclxuICogICAkY29tcGlsZSgkZGl2KShzY29wZSk7XHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtb2R1bGVcclxuICogQG5hbWUgYXV0b1xyXG4gKiBAaW5zdGFsbGF0aW9uXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBJbXBsaWNpdCBtb2R1bGUgd2hpY2ggZ2V0cyBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIGVhY2gge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXHJcbiAqL1xyXG5cclxudmFyIEFSUk9XX0FSRyA9IC9eKFteXFwoXSs/KT0+LztcclxudmFyIEZOX0FSR1MgPSAvXlteXFwoXSpcXChcXHMqKFteXFwpXSopXFwpL207XHJcbnZhciBGTl9BUkdfU1BMSVQgPSAvLC87XHJcbnZhciBGTl9BUkcgPSAvXlxccyooXz8pKFxcUys/KVxcMVxccyokLztcclxudmFyIFNUUklQX0NPTU1FTlRTID0gLygoXFwvXFwvLiokKXwoXFwvXFwqW1xcc1xcU10qP1xcKlxcLykpL21nO1xyXG52YXIgJGluamVjdG9yTWluRXJyID0gbWluRXJyKCckaW5qZWN0b3InKTtcclxuXHJcbmZ1bmN0aW9uIGV4dHJhY3RBcmdzKGZuKSB7XHJcbiAgdmFyIGZuVGV4dCA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGZuKS5yZXBsYWNlKFNUUklQX0NPTU1FTlRTLCAnJyksXHJcbiAgICAgIGFyZ3MgPSBmblRleHQubWF0Y2goQVJST1dfQVJHKSB8fCBmblRleHQubWF0Y2goRk5fQVJHUyk7XHJcbiAgcmV0dXJuIGFyZ3M7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFub25Gbihmbikge1xyXG4gIC8vIEZvciBhbm9ueW1vdXMgZnVuY3Rpb25zLCBzaG93aW5nIGF0IHRoZSB2ZXJ5IGxlYXN0IHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgY2FuIGhlbHAgaW5cclxuICAvLyBkZWJ1Z2dpbmcuXHJcbiAgdmFyIGFyZ3MgPSBleHRyYWN0QXJncyhmbik7XHJcbiAgaWYgKGFyZ3MpIHtcclxuICAgIHJldHVybiAnZnVuY3Rpb24oJyArIChhcmdzWzFdIHx8ICcnKS5yZXBsYWNlKC9bXFxzXFxyXFxuXSsvLCAnICcpICsgJyknO1xyXG4gIH1cclxuICByZXR1cm4gJ2ZuJztcclxufVxyXG5cclxuZnVuY3Rpb24gYW5ub3RhdGUoZm4sIHN0cmljdERpLCBuYW1lKSB7XHJcbiAgdmFyICRpbmplY3QsXHJcbiAgICAgIGFyZ0RlY2wsXHJcbiAgICAgIGxhc3Q7XHJcblxyXG4gIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgIGlmICghKCRpbmplY3QgPSBmbi4kaW5qZWN0KSkge1xyXG4gICAgICAkaW5qZWN0ID0gW107XHJcbiAgICAgIGlmIChmbi5sZW5ndGgpIHtcclxuICAgICAgICBpZiAoc3RyaWN0RGkpIHtcclxuICAgICAgICAgIGlmICghaXNTdHJpbmcobmFtZSkgfHwgIW5hbWUpIHtcclxuICAgICAgICAgICAgbmFtZSA9IGZuLm5hbWUgfHwgYW5vbkZuKGZuKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignc3RyaWN0ZGknLFxyXG4gICAgICAgICAgICAnezB9IGlzIG5vdCB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIGFuZCBjYW5ub3QgYmUgaW52b2tlZCBpbiBzdHJpY3QgbW9kZScsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcmdEZWNsID0gZXh0cmFjdEFyZ3MoZm4pO1xyXG4gICAgICAgIGZvckVhY2goYXJnRGVjbFsxXS5zcGxpdChGTl9BUkdfU1BMSVQpLCBmdW5jdGlvbihhcmcpIHtcclxuICAgICAgICAgIGFyZy5yZXBsYWNlKEZOX0FSRywgZnVuY3Rpb24oYWxsLCB1bmRlcnNjb3JlLCBuYW1lKSB7XHJcbiAgICAgICAgICAgICRpbmplY3QucHVzaChuYW1lKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGZuLiRpbmplY3QgPSAkaW5qZWN0O1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoaXNBcnJheShmbikpIHtcclxuICAgIGxhc3QgPSBmbi5sZW5ndGggLSAxO1xyXG4gICAgYXNzZXJ0QXJnRm4oZm5bbGFzdF0sICdmbicpO1xyXG4gICAgJGluamVjdCA9IGZuLnNsaWNlKDAsIGxhc3QpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhc3NlcnRBcmdGbihmbiwgJ2ZuJywgdHJ1ZSk7XHJcbiAgfVxyXG4gIHJldHVybiAkaW5qZWN0O1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkaW5qZWN0b3JcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIGAkaW5qZWN0b3JgIGlzIHVzZWQgdG8gcmV0cmlldmUgb2JqZWN0IGluc3RhbmNlcyBhcyBkZWZpbmVkIGJ5XHJcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlIHByb3ZpZGVyfSwgaW5zdGFudGlhdGUgdHlwZXMsIGludm9rZSBtZXRob2RzLFxyXG4gKiBhbmQgbG9hZCBtb2R1bGVzLlxyXG4gKlxyXG4gKiBUaGUgZm9sbG93aW5nIGFsd2F5cyBob2xkcyB0cnVlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIHZhciAkaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKCk7XHJcbiAqICAgZXhwZWN0KCRpbmplY3Rvci5nZXQoJyRpbmplY3RvcicpKS50b0JlKCRpbmplY3Rvcik7XHJcbiAqICAgZXhwZWN0KCRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJGluamVjdG9yKSB7XHJcbiAqICAgICByZXR1cm4gJGluamVjdG9yO1xyXG4gKiAgIH0pKS50b0JlKCRpbmplY3Rvcik7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIEluamVjdGlvbiBGdW5jdGlvbiBBbm5vdGF0aW9uXHJcbiAqXHJcbiAqIEphdmFTY3JpcHQgZG9lcyBub3QgaGF2ZSBhbm5vdGF0aW9ucywgYW5kIGFubm90YXRpb25zIGFyZSBuZWVkZWQgZm9yIGRlcGVuZGVuY3kgaW5qZWN0aW9uLiBUaGVcclxuICogZm9sbG93aW5nIGFyZSBhbGwgdmFsaWQgd2F5cyBvZiBhbm5vdGF0aW5nIGZ1bmN0aW9uIHdpdGggaW5qZWN0aW9uIGFyZ3VtZW50cyBhbmQgYXJlIGVxdWl2YWxlbnQuXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgLy8gaW5mZXJyZWQgKG9ubHkgd29ya3MgaWYgY29kZSBub3QgbWluaWZpZWQvb2JmdXNjYXRlZClcclxuICogICAkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKHNlcnZpY2VBKXt9KTtcclxuICpcclxuICogICAvLyBhbm5vdGF0ZWRcclxuICogICBmdW5jdGlvbiBleHBsaWNpdChzZXJ2aWNlQSkge307XHJcbiAqICAgZXhwbGljaXQuJGluamVjdCA9IFsnc2VydmljZUEnXTtcclxuICogICAkaW5qZWN0b3IuaW52b2tlKGV4cGxpY2l0KTtcclxuICpcclxuICogICAvLyBpbmxpbmVcclxuICogICAkaW5qZWN0b3IuaW52b2tlKFsnc2VydmljZUEnLCBmdW5jdGlvbihzZXJ2aWNlQSl7fV0pO1xyXG4gKiBgYGBcclxuICpcclxuICogIyMgSW5mZXJlbmNlXHJcbiAqXHJcbiAqIEluIEphdmFTY3JpcHQgY2FsbGluZyBgdG9TdHJpbmcoKWAgb24gYSBmdW5jdGlvbiByZXR1cm5zIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uLiBUaGUgZGVmaW5pdGlvblxyXG4gKiBjYW4gdGhlbiBiZSBwYXJzZWQgYW5kIHRoZSBmdW5jdGlvbiBhcmd1bWVudHMgY2FuIGJlIGV4dHJhY3RlZC4gVGhpcyBtZXRob2Qgb2YgZGlzY292ZXJpbmdcclxuICogYW5ub3RhdGlvbnMgaXMgZGlzYWxsb3dlZCB3aGVuIHRoZSBpbmplY3RvciBpcyBpbiBzdHJpY3QgbW9kZS5cclxuICogKk5PVEU6KiBUaGlzIGRvZXMgbm90IHdvcmsgd2l0aCBtaW5pZmljYXRpb24sIGFuZCBvYmZ1c2NhdGlvbiB0b29scyBzaW5jZSB0aGVzZSB0b29scyBjaGFuZ2UgdGhlXHJcbiAqIGFyZ3VtZW50IG5hbWVzLlxyXG4gKlxyXG4gKiAjIyBgJGluamVjdGAgQW5ub3RhdGlvblxyXG4gKiBCeSBhZGRpbmcgYW4gYCRpbmplY3RgIHByb3BlcnR5IG9udG8gYSBmdW5jdGlvbiB0aGUgaW5qZWN0aW9uIHBhcmFtZXRlcnMgY2FuIGJlIHNwZWNpZmllZC5cclxuICpcclxuICogIyMgSW5saW5lXHJcbiAqIEFzIGFuIGFycmF5IG9mIGluamVjdGlvbiBuYW1lcywgd2hlcmUgdGhlIGxhc3QgaXRlbSBpbiB0aGUgYXJyYXkgaXMgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJGluamVjdG9yI2dldFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogUmV0dXJuIGFuIGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UgdG8gcmV0cmlldmUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gY2FsbGVyIEFuIG9wdGlvbmFsIHN0cmluZyB0byBwcm92aWRlIHRoZSBvcmlnaW4gb2YgdGhlIGZ1bmN0aW9uIGNhbGwgZm9yIGVycm9yIG1lc3NhZ2VzLlxyXG4gKiBAcmV0dXJuIHsqfSBUaGUgaW5zdGFuY2UuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJGluamVjdG9yI2ludm9rZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogSW52b2tlIHRoZSBtZXRob2QgYW5kIHN1cHBseSB0aGUgbWV0aG9kIGFyZ3VtZW50cyBmcm9tIHRoZSBgJGluamVjdG9yYC5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gZm4gVGhlIGluamVjdGFibGUgZnVuY3Rpb24gdG8gaW52b2tlLiBGdW5jdGlvbiBwYXJhbWV0ZXJzIGFyZVxyXG4gKiAgIGluamVjdGVkIGFjY29yZGluZyB0byB0aGUge0BsaW5rIGd1aWRlL2RpICRpbmplY3QgQW5ub3RhdGlvbn0gcnVsZXMuXHJcbiAqIEBwYXJhbSB7T2JqZWN0PX0gc2VsZiBUaGUgYHRoaXNgIGZvciB0aGUgaW52b2tlZCBtZXRob2QuXHJcbiAqIEBwYXJhbSB7T2JqZWN0PX0gbG9jYWxzIE9wdGlvbmFsIG9iamVjdC4gSWYgcHJlc2V0IHRoZW4gYW55IGFyZ3VtZW50IG5hbWVzIGFyZSByZWFkIGZyb20gdGhpc1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLlxyXG4gKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBpbnZva2VkIGBmbmAgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJGluamVjdG9yI2hhc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQWxsb3dzIHRoZSB1c2VyIHRvIHF1ZXJ5IGlmIHRoZSBwYXJ0aWN1bGFyIHNlcnZpY2UgZXhpc3RzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIHF1ZXJ5LlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGluamVjdG9yIGhhcyBnaXZlbiBzZXJ2aWNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRpbmplY3RvciNpbnN0YW50aWF0ZVxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEpTIHR5cGUuIFRoZSBtZXRob2QgdGFrZXMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaW52b2tlcyB0aGUgbmV3XHJcbiAqIG9wZXJhdG9yLCBhbmQgc3VwcGxpZXMgYWxsIG9mIHRoZSBhcmd1bWVudHMgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGFzIHNwZWNpZmllZCBieSB0aGVcclxuICogY29uc3RydWN0b3IgYW5ub3RhdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gVHlwZSBBbm5vdGF0ZWQgY29uc3RydWN0b3IgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSB7T2JqZWN0PX0gbG9jYWxzIE9wdGlvbmFsIG9iamVjdC4gSWYgcHJlc2V0IHRoZW4gYW55IGFyZ3VtZW50IG5hbWVzIGFyZSByZWFkIGZyb20gdGhpc1xyXG4gKiBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBuZXcgaW5zdGFuY2Ugb2YgYFR5cGVgLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRpbmplY3RvciNhbm5vdGF0ZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogUmV0dXJucyBhbiBhcnJheSBvZiBzZXJ2aWNlIG5hbWVzIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyByZXF1ZXN0aW5nIGZvciBpbmplY3Rpb24uIFRoaXMgQVBJIGlzXHJcbiAqIHVzZWQgYnkgdGhlIGluamVjdG9yIHRvIGRldGVybWluZSB3aGljaCBzZXJ2aWNlcyBuZWVkIHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZ1bmN0aW9uIHdoZW4gdGhlXHJcbiAqIGZ1bmN0aW9uIGlzIGludm9rZWQuIFRoZXJlIGFyZSB0aHJlZSB3YXlzIGluIHdoaWNoIHRoZSBmdW5jdGlvbiBjYW4gYmUgYW5ub3RhdGVkIHdpdGggdGhlIG5lZWRlZFxyXG4gKiBkZXBlbmRlbmNpZXMuXHJcbiAqXHJcbiAqICMgQXJndW1lbnQgbmFtZXNcclxuICpcclxuICogVGhlIHNpbXBsZXN0IGZvcm0gaXMgdG8gZXh0cmFjdCB0aGUgZGVwZW5kZW5jaWVzIGZyb20gdGhlIGFyZ3VtZW50cyBvZiB0aGUgZnVuY3Rpb24uIFRoaXMgaXMgZG9uZVxyXG4gKiBieSBjb252ZXJ0aW5nIHRoZSBmdW5jdGlvbiBpbnRvIGEgc3RyaW5nIHVzaW5nIGB0b1N0cmluZygpYCBtZXRob2QgYW5kIGV4dHJhY3RpbmcgdGhlIGFyZ3VtZW50XHJcbiAqIG5hbWVzLlxyXG4gKiBgYGBqc1xyXG4gKiAgIC8vIEdpdmVuXHJcbiAqICAgZnVuY3Rpb24gTXlDb250cm9sbGVyKCRzY29wZSwgJHJvdXRlKSB7XHJcbiAqICAgICAvLyAuLi5cclxuICogICB9XHJcbiAqXHJcbiAqICAgLy8gVGhlblxyXG4gKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShNeUNvbnRyb2xsZXIpKS50b0VxdWFsKFsnJHNjb3BlJywgJyRyb3V0ZSddKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFlvdSBjYW4gZGlzYWxsb3cgdGhpcyBtZXRob2QgYnkgdXNpbmcgc3RyaWN0IGluamVjdGlvbiBtb2RlLlxyXG4gKlxyXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIHdpdGggY29kZSBtaW5pZmljYXRpb24gLyBvYmZ1c2NhdGlvbi4gRm9yIHRoaXMgcmVhc29uIHRoZSBmb2xsb3dpbmdcclxuICogYW5ub3RhdGlvbiBzdHJhdGVnaWVzIGFyZSBzdXBwb3J0ZWQuXHJcbiAqXHJcbiAqICMgVGhlIGAkaW5qZWN0YCBwcm9wZXJ0eVxyXG4gKlxyXG4gKiBJZiBhIGZ1bmN0aW9uIGhhcyBhbiBgJGluamVjdGAgcHJvcGVydHkgYW5kIGl0cyB2YWx1ZSBpcyBhbiBhcnJheSBvZiBzdHJpbmdzLCB0aGVuIHRoZSBzdHJpbmdzXHJcbiAqIHJlcHJlc2VudCBuYW1lcyBvZiBzZXJ2aWNlcyB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmdW5jdGlvbi5cclxuICogYGBganNcclxuICogICAvLyBHaXZlblxyXG4gKiAgIHZhciBNeUNvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmZ1c2NhdGVkU2NvcGUsIG9iZnVzY2F0ZWRSb3V0ZSkge1xyXG4gKiAgICAgLy8gLi4uXHJcbiAqICAgfVxyXG4gKiAgIC8vIERlZmluZSBmdW5jdGlvbiBkZXBlbmRlbmNpZXNcclxuICogICBNeUNvbnRyb2xsZXJbJyRpbmplY3QnXSA9IFsnJHNjb3BlJywgJyRyb3V0ZSddO1xyXG4gKlxyXG4gKiAgIC8vIFRoZW5cclxuICogICBleHBlY3QoaW5qZWN0b3IuYW5ub3RhdGUoTXlDb250cm9sbGVyKSkudG9FcXVhbChbJyRzY29wZScsICckcm91dGUnXSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIFRoZSBhcnJheSBub3RhdGlvblxyXG4gKlxyXG4gKiBJdCBpcyBvZnRlbiBkZXNpcmFibGUgdG8gaW5saW5lIEluamVjdGVkIGZ1bmN0aW9ucyBhbmQgdGhhdCdzIHdoZW4gc2V0dGluZyB0aGUgYCRpbmplY3RgIHByb3BlcnR5XHJcbiAqIGlzIHZlcnkgaW5jb252ZW5pZW50LiBJbiB0aGVzZSBzaXR1YXRpb25zIHVzaW5nIHRoZSBhcnJheSBub3RhdGlvbiB0byBzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgaW5cclxuICogYSB3YXkgdGhhdCBzdXJ2aXZlcyBtaW5pZmljYXRpb24gaXMgYSBiZXR0ZXIgY2hvaWNlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIC8vIFdlIHdpc2ggdG8gd3JpdGUgdGhpcyAobm90IG1pbmlmaWNhdGlvbiAvIG9iZnVzY2F0aW9uIHNhZmUpXHJcbiAqICAgaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlLCAkcm9vdFNjb3BlKSB7XHJcbiAqICAgICAvLyAuLi5cclxuICogICB9KTtcclxuICpcclxuICogICAvLyBXZSBhcmUgZm9yY2VkIHRvIHdyaXRlIGJyZWFrIGlubGluaW5nXHJcbiAqICAgdmFyIHRtcEZuID0gZnVuY3Rpb24ob2JmdXNjYXRlZENvbXBpbGUsIG9iZnVzY2F0ZWRSb290U2NvcGUpIHtcclxuICogICAgIC8vIC4uLlxyXG4gKiAgIH07XHJcbiAqICAgdG1wRm4uJGluamVjdCA9IFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddO1xyXG4gKiAgIGluamVjdG9yLmludm9rZSh0bXBGbik7XHJcbiAqXHJcbiAqICAgLy8gVG8gYmV0dGVyIHN1cHBvcnQgaW5saW5lIGZ1bmN0aW9uIHRoZSBpbmxpbmUgYW5ub3RhdGlvbiBpcyBzdXBwb3J0ZWRcclxuICogICBpbmplY3Rvci5pbnZva2UoWyckY29tcGlsZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24ob2JmQ29tcGlsZSwgb2JmUm9vdFNjb3BlKSB7XHJcbiAqICAgICAvLyAuLi5cclxuICogICB9XSk7XHJcbiAqXHJcbiAqICAgLy8gVGhlcmVmb3JlXHJcbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKFxyXG4gKiAgICAgIFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKG9iZnVzXyRjb21waWxlLCBvYmZ1c18kcm9vdFNjb3BlKSB7fV0pXHJcbiAqICAgICkudG9FcXVhbChbJyRjb21waWxlJywgJyRyb290U2NvcGUnXSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBmbiBGdW5jdGlvbiBmb3Igd2hpY2ggZGVwZW5kZW50IHNlcnZpY2UgbmFtZXMgbmVlZCB0b1xyXG4gKiBiZSByZXRyaWV2ZWQgYXMgZGVzY3JpYmVkIGFib3ZlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbc3RyaWN0RGk9ZmFsc2VdIERpc2FsbG93IGFyZ3VtZW50IG5hbWUgYW5ub3RhdGlvbiBpbmZlcmVuY2UuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn0gVGhlIG5hbWVzIG9mIHRoZSBzZXJ2aWNlcyB3aGljaCB0aGUgZnVuY3Rpb24gcmVxdWlyZXMuXHJcbiAqL1xyXG5cclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRwcm92aWRlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBUaGUge0BsaW5rIGF1dG8uJHByb3ZpZGUgJHByb3ZpZGV9IHNlcnZpY2UgaGFzIGEgbnVtYmVyIG9mIG1ldGhvZHMgZm9yIHJlZ2lzdGVyaW5nIGNvbXBvbmVudHNcclxuICogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIE1hbnkgb2YgdGhlc2UgZnVuY3Rpb25zIGFyZSBhbHNvIGV4cG9zZWQgb25cclxuICoge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfS5cclxuICpcclxuICogQW4gQW5ndWxhciAqKnNlcnZpY2UqKiBpcyBhIHNpbmdsZXRvbiBvYmplY3QgY3JlYXRlZCBieSBhICoqc2VydmljZSBmYWN0b3J5KiouICBUaGVzZSAqKnNlcnZpY2VcclxuICogZmFjdG9yaWVzKiogYXJlIGZ1bmN0aW9ucyB3aGljaCwgaW4gdHVybiwgYXJlIGNyZWF0ZWQgYnkgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKi5cclxuICogVGhlICoqc2VydmljZSBwcm92aWRlcnMqKiBhcmUgY29uc3RydWN0b3IgZnVuY3Rpb25zLiBXaGVuIGluc3RhbnRpYXRlZCB0aGV5IG11c3QgY29udGFpbiBhXHJcbiAqIHByb3BlcnR5IGNhbGxlZCBgJGdldGAsIHdoaWNoIGhvbGRzIHRoZSAqKnNlcnZpY2UgZmFjdG9yeSoqIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBXaGVuIHlvdSByZXF1ZXN0IGEgc2VydmljZSwgdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9IGlzIHJlc3BvbnNpYmxlIGZvciBmaW5kaW5nIHRoZVxyXG4gKiBjb3JyZWN0ICoqc2VydmljZSBwcm92aWRlcioqLCBpbnN0YW50aWF0aW5nIGl0IGFuZCB0aGVuIGNhbGxpbmcgaXRzIGAkZ2V0YCAqKnNlcnZpY2UgZmFjdG9yeSoqXHJcbiAqIGZ1bmN0aW9uIHRvIGdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlICoqc2VydmljZSoqLlxyXG4gKlxyXG4gKiBPZnRlbiBzZXJ2aWNlcyBoYXZlIG5vIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBhbmQgdGhlcmUgaXMgbm8gbmVlZCB0byBhZGQgbWV0aG9kcyB0byB0aGUgc2VydmljZVxyXG4gKiBwcm92aWRlci4gIFRoZSBwcm92aWRlciB3aWxsIGJlIG5vIG1vcmUgdGhhbiBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpdGggYSBgJGdldGAgcHJvcGVydHkuIEZvclxyXG4gKiB0aGVzZSBjYXNlcyB0aGUge0BsaW5rIGF1dG8uJHByb3ZpZGUgJHByb3ZpZGV9IHNlcnZpY2UgaGFzIGFkZGl0aW9uYWwgaGVscGVyIG1ldGhvZHMgdG8gcmVnaXN0ZXJcclxuICogc2VydmljZXMgd2l0aG91dCBzcGVjaWZ5aW5nIGEgcHJvdmlkZXIuXHJcbiAqXHJcbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjcHJvdmlkZXIgcHJvdmlkZXIocHJvdmlkZXIpfSAtIHJlZ2lzdGVycyBhICoqc2VydmljZSBwcm92aWRlcioqIHdpdGggdGhlXHJcbiAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfVxyXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50IGNvbnN0YW50KG9iail9IC0gcmVnaXN0ZXJzIGEgdmFsdWUvb2JqZWN0IHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGJ5XHJcbiAqICAgICBwcm92aWRlcnMgYW5kIHNlcnZpY2VzLlxyXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3ZhbHVlIHZhbHVlKG9iail9IC0gcmVnaXN0ZXJzIGEgdmFsdWUvb2JqZWN0IHRoYXQgY2FuIG9ubHkgYmUgYWNjZXNzZWQgYnlcclxuICogICAgIHNlcnZpY2VzLCBub3QgcHJvdmlkZXJzLlxyXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgZmFjdG9yeShmbil9IC0gcmVnaXN0ZXJzIGEgc2VydmljZSAqKmZhY3RvcnkgZnVuY3Rpb24qKiwgYGZuYCxcclxuICogICAgIHRoYXQgd2lsbCBiZSB3cmFwcGVkIGluIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogb2JqZWN0LCB3aG9zZSBgJGdldGAgcHJvcGVydHkgd2lsbCBjb250YWluIHRoZVxyXG4gKiAgICAgZ2l2ZW4gZmFjdG9yeSBmdW5jdGlvbi5cclxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlIHNlcnZpY2UoY2xhc3MpfSAtIHJlZ2lzdGVycyBhICoqY29uc3RydWN0b3IgZnVuY3Rpb24qKiwgYGNsYXNzYFxyXG4gKiAgICAgdGhhdCB3aWxsIGJlIHdyYXBwZWQgaW4gYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiBvYmplY3QsIHdob3NlIGAkZ2V0YCBwcm9wZXJ0eSB3aWxsIGluc3RhbnRpYXRlXHJcbiAqICAgICAgYSBuZXcgb2JqZWN0IHVzaW5nIHRoZSBnaXZlbiBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cclxuICpcclxuICogU2VlIHRoZSBpbmRpdmlkdWFsIG1ldGhvZHMgZm9yIG1vcmUgaW5mb3JtYXRpb24gYW5kIGV4YW1wbGVzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRwcm92aWRlI3Byb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBSZWdpc3RlciBhICoqcHJvdmlkZXIgZnVuY3Rpb24qKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gUHJvdmlkZXIgZnVuY3Rpb25zXHJcbiAqIGFyZSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMsIHdob3NlIGluc3RhbmNlcyBhcmUgcmVzcG9uc2libGUgZm9yIFwicHJvdmlkaW5nXCIgYSBmYWN0b3J5IGZvciBhXHJcbiAqIHNlcnZpY2UuXHJcbiAqXHJcbiAqIFNlcnZpY2UgcHJvdmlkZXIgbmFtZXMgc3RhcnQgd2l0aCB0aGUgbmFtZSBvZiB0aGUgc2VydmljZSB0aGV5IHByb3ZpZGUgZm9sbG93ZWQgYnkgYFByb3ZpZGVyYC5cclxuICogRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIGhhcyBhIHByb3ZpZGVyIGNhbGxlZFxyXG4gKiB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyICRsb2dQcm92aWRlcn0uXHJcbiAqXHJcbiAqIFNlcnZpY2UgcHJvdmlkZXIgb2JqZWN0cyBjYW4gaGF2ZSBhZGRpdGlvbmFsIG1ldGhvZHMgd2hpY2ggYWxsb3cgY29uZmlndXJhdGlvbiBvZiB0aGUgcHJvdmlkZXJcclxuICogYW5kIGl0cyBzZXJ2aWNlLiBJbXBvcnRhbnRseSwgeW91IGNhbiBjb25maWd1cmUgd2hhdCBraW5kIG9mIHNlcnZpY2UgaXMgY3JlYXRlZCBieSB0aGUgYCRnZXRgXHJcbiAqIG1ldGhvZCwgb3IgaG93IHRoYXQgc2VydmljZSB3aWxsIGFjdC4gRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyICRsb2dQcm92aWRlcn0gaGFzIGFcclxuICogbWV0aG9kIHtAbGluayBuZy4kbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkIGRlYnVnRW5hYmxlZH1cclxuICogd2hpY2ggbGV0cyB5b3Ugc3BlY2lmeSB3aGV0aGVyIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIHdpbGwgbG9nIGRlYnVnIG1lc3NhZ2VzIHRvIHRoZVxyXG4gKiBjb25zb2xlIG9yIG5vdC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLiBOT1RFOiB0aGUgcHJvdmlkZXIgd2lsbCBiZSBhdmFpbGFibGUgdW5kZXIgYG5hbWUgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnUHJvdmlkZXInYCBrZXkuXHJcbiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbigpKX0gcHJvdmlkZXIgSWYgdGhlIHByb3ZpZGVyIGlzOlxyXG4gKlxyXG4gKiAgIC0gYE9iamVjdGA6IHRoZW4gaXQgc2hvdWxkIGhhdmUgYSBgJGdldGAgbWV0aG9kLiBUaGUgYCRnZXRgIG1ldGhvZCB3aWxsIGJlIGludm9rZWQgdXNpbmdcclxuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgJGluamVjdG9yLmludm9rZSgpfSB3aGVuIGFuIGluc3RhbmNlIG5lZWRzIHRvIGJlIGNyZWF0ZWQuXHJcbiAqICAgLSBgQ29uc3RydWN0b3JgOiBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgcHJvdmlkZXIgd2lsbCBiZSBjcmVhdGVkIHVzaW5nXHJcbiAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW5zdGFudGlhdGUgJGluamVjdG9yLmluc3RhbnRpYXRlKCl9LCB0aGVuIHRyZWF0ZWQgYXMgYG9iamVjdGAuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcclxuXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gY3JlYXRlIGEgc2ltcGxlIGV2ZW50IHRyYWNraW5nIHNlcnZpY2UgYW5kIHJlZ2lzdGVyIGl0IHVzaW5nXHJcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgLy8gRGVmaW5lIHRoZSBldmVudFRyYWNrZXIgcHJvdmlkZXJcclxuICogIGZ1bmN0aW9uIEV2ZW50VHJhY2tlclByb3ZpZGVyKCkge1xyXG4gKiAgICB2YXIgdHJhY2tpbmdVcmwgPSAnL3RyYWNrJztcclxuICpcclxuICogICAgLy8gQSBwcm92aWRlciBtZXRob2QgZm9yIGNvbmZpZ3VyaW5nIHdoZXJlIHRoZSB0cmFja2VkIGV2ZW50cyBzaG91bGQgYmVlbiBzYXZlZFxyXG4gKiAgICB0aGlzLnNldFRyYWNraW5nVXJsID0gZnVuY3Rpb24odXJsKSB7XHJcbiAqICAgICAgdHJhY2tpbmdVcmwgPSB1cmw7XHJcbiAqICAgIH07XHJcbiAqXHJcbiAqICAgIC8vIFRoZSBzZXJ2aWNlIGZhY3RvcnkgZnVuY3Rpb25cclxuICogICAgdGhpcy4kZ2V0ID0gWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XHJcbiAqICAgICAgdmFyIHRyYWNrZWRFdmVudHMgPSB7fTtcclxuICogICAgICByZXR1cm4ge1xyXG4gKiAgICAgICAgLy8gQ2FsbCB0aGlzIHRvIHRyYWNrIGFuIGV2ZW50XHJcbiAqICAgICAgICBldmVudDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICogICAgICAgICAgdmFyIGNvdW50ID0gdHJhY2tlZEV2ZW50c1tldmVudF0gfHwgMDtcclxuICogICAgICAgICAgY291bnQgKz0gMTtcclxuICogICAgICAgICAgdHJhY2tlZEV2ZW50c1tldmVudF0gPSBjb3VudDtcclxuICogICAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gKiAgICAgICAgfSxcclxuICogICAgICAgIC8vIENhbGwgdGhpcyB0byBzYXZlIHRoZSB0cmFja2VkIGV2ZW50cyB0byB0aGUgdHJhY2tpbmdVcmxcclxuICogICAgICAgIHNhdmU6IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgICAkaHR0cC5wb3N0KHRyYWNraW5nVXJsLCB0cmFja2VkRXZlbnRzKTtcclxuICogICAgICAgIH1cclxuICogICAgICB9O1xyXG4gKiAgICB9XTtcclxuICogIH1cclxuICpcclxuICogIGRlc2NyaWJlKCdldmVudFRyYWNrZXInLCBmdW5jdGlvbigpIHtcclxuICogICAgdmFyIHBvc3RTcHk7XHJcbiAqXHJcbiAqICAgIGJlZm9yZUVhY2gobW9kdWxlKGZ1bmN0aW9uKCRwcm92aWRlKSB7XHJcbiAqICAgICAgLy8gUmVnaXN0ZXIgdGhlIGV2ZW50VHJhY2tlciBwcm92aWRlclxyXG4gKiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCdldmVudFRyYWNrZXInLCBFdmVudFRyYWNrZXJQcm92aWRlcik7XHJcbiAqICAgIH0pKTtcclxuICpcclxuICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oZXZlbnRUcmFja2VyUHJvdmlkZXIpIHtcclxuICogICAgICAvLyBDb25maWd1cmUgZXZlbnRUcmFja2VyIHByb3ZpZGVyXHJcbiAqICAgICAgZXZlbnRUcmFja2VyUHJvdmlkZXIuc2V0VHJhY2tpbmdVcmwoJy9jdXN0b20tdHJhY2snKTtcclxuICogICAgfSkpO1xyXG4gKlxyXG4gKiAgICBpdCgndHJhY2tzIGV2ZW50cycsIGluamVjdChmdW5jdGlvbihldmVudFRyYWNrZXIpIHtcclxuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDEpO1xyXG4gKiAgICAgIGV4cGVjdChldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJykpLnRvRXF1YWwoMik7XHJcbiAqICAgIH0pKTtcclxuICpcclxuICogICAgaXQoJ3NhdmVzIHRvIHRoZSB0cmFja2luZyB1cmwnLCBpbmplY3QoZnVuY3Rpb24oZXZlbnRUcmFja2VyLCAkaHR0cCkge1xyXG4gKiAgICAgIHBvc3RTcHkgPSBzcHlPbigkaHR0cCwgJ3Bvc3QnKTtcclxuICogICAgICBldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJyk7XHJcbiAqICAgICAgZXZlbnRUcmFja2VyLnNhdmUoKTtcclxuICogICAgICBleHBlY3QocG9zdFNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLm5vdC50b0VxdWFsKCcvdHJhY2snKTtcclxuICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzBdKS50b0VxdWFsKCcvY3VzdG9tLXRyYWNrJyk7XHJcbiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1sxXSkudG9FcXVhbCh7ICdsb2dpbic6IDEgfSk7XHJcbiAqICAgIH0pKTtcclxuICogIH0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIG1ldGhvZFxyXG4gKiBAbmFtZSAkcHJvdmlkZSNmYWN0b3J5XHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBSZWdpc3RlciBhICoqc2VydmljZSBmYWN0b3J5KiosIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHRvIHJldHVybiB0aGUgc2VydmljZSBpbnN0YW5jZS5cclxuICogVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0cyBwcm92aWRlciBjb25zaXN0cyBvZiBvbmx5IGEgYCRnZXRgIHByb3BlcnR5LFxyXG4gKiB3aGljaCBpcyB0aGUgZ2l2ZW4gc2VydmljZSBmYWN0b3J5IGZ1bmN0aW9uLlxyXG4gKiBZb3Ugc2hvdWxkIHVzZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5ICRwcm92aWRlLmZhY3RvcnkoZ2V0Rm4pfSBpZiB5b3UgZG8gbm90IG5lZWQgdG9cclxuICogY29uZmlndXJlIHlvdXIgc2VydmljZSBpbiBhIHByb3ZpZGVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59ICRnZXRGbiBUaGUgaW5qZWN0YWJsZSAkZ2V0Rm4gZm9yIHRoZSBpbnN0YW5jZSBjcmVhdGlvbi5cclxuICogICAgICAgICAgICAgICAgICAgICAgSW50ZXJuYWxseSB0aGlzIGlzIGEgc2hvcnQgaGFuZCBmb3IgYCRwcm92aWRlLnByb3ZpZGVyKG5hbWUsIHskZ2V0OiAkZ2V0Rm59KWAuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIHJlZ2lzdGVyaW5nIGEgc2VydmljZVxyXG4gKiBgYGBqc1xyXG4gKiAgICRwcm92aWRlLmZhY3RvcnkoJ3BpbmcnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcclxuICogICAgIHJldHVybiBmdW5jdGlvbiBwaW5nKCkge1xyXG4gKiAgICAgICByZXR1cm4gJGh0dHAuc2VuZCgnL3BpbmcnKTtcclxuICogICAgIH07XHJcbiAqICAgfV0pO1xyXG4gKiBgYGBcclxuICogWW91IHdvdWxkIHRoZW4gaW5qZWN0IGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGxpa2UgdGhpczpcclxuICogYGBganNcclxuICogICBzb21lTW9kdWxlLmNvbnRyb2xsZXIoJ0N0cmwnLCBbJ3BpbmcnLCBmdW5jdGlvbihwaW5nKSB7XHJcbiAqICAgICBwaW5nKCk7XHJcbiAqICAgfV0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJHByb3ZpZGUjc2VydmljZVxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgY29uc3RydWN0b3IqKiwgd2hpY2ggd2lsbCBiZSBpbnZva2VkIHdpdGggYG5ld2AgdG8gY3JlYXRlIHRoZSBzZXJ2aWNlXHJcbiAqIGluc3RhbmNlLlxyXG4gKiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzIHByb3ZpZGVyJ3MgYCRnZXRgIHByb3BlcnR5IGlzIGEgZmFjdG9yeVxyXG4gKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gaW5zdGFuY2UgaW5zdGFudGlhdGVkIGJ5IHRoZSBpbmplY3RvciBmcm9tIHRoZSBzZXJ2aWNlIGNvbnN0cnVjdG9yXHJcbiAqIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBJbnRlcm5hbGx5IGl0IGxvb2tzIGEgYml0IGxpa2UgdGhpczpcclxuICpcclxuICogYGBgXHJcbiAqIHtcclxuICogICAkZ2V0OiBmdW5jdGlvbigpIHtcclxuICogICAgIHJldHVybiAkaW5qZWN0b3IuaW5zdGFudGlhdGUoY29uc3RydWN0b3IpO1xyXG4gKiAgIH1cclxuICogfVxyXG4gKiBgYGBcclxuICpcclxuICpcclxuICogWW91IHNob3VsZCB1c2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0gaWYgeW91IGRlZmluZSB5b3VyIHNlcnZpY2VcclxuICogYXMgYSB0eXBlL2NsYXNzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGNvbnN0cnVjdG9yIEFuIGluamVjdGFibGUgY2xhc3MgKGNvbnN0cnVjdG9yIGZ1bmN0aW9uKVxyXG4gKiAgICAgdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC5cclxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHVzaW5nXHJcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZShjbGFzcyl9LlxyXG4gKiBgYGBqc1xyXG4gKiAgIHZhciBQaW5nID0gZnVuY3Rpb24oJGh0dHApIHtcclxuICogICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcclxuICogICB9O1xyXG4gKlxyXG4gKiAgIFBpbmcuJGluamVjdCA9IFsnJGh0dHAnXTtcclxuICpcclxuICogICBQaW5nLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oKSB7XHJcbiAqICAgICByZXR1cm4gdGhpcy4kaHR0cC5nZXQoJy9waW5nJyk7XHJcbiAqICAgfTtcclxuICogICAkcHJvdmlkZS5zZXJ2aWNlKCdwaW5nJywgUGluZyk7XHJcbiAqIGBgYFxyXG4gKiBZb3Ugd291bGQgdGhlbiBpbmplY3QgYW5kIHVzZSB0aGlzIHNlcnZpY2UgbGlrZSB0aGlzOlxyXG4gKiBgYGBqc1xyXG4gKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHtcclxuICogICAgIHBpbmcuc2VuZCgpO1xyXG4gKiAgIH1dKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRwcm92aWRlI3ZhbHVlXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBSZWdpc3RlciBhICoqdmFsdWUgc2VydmljZSoqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBzdWNoIGFzIGEgc3RyaW5nLCBhXHJcbiAqIG51bWJlciwgYW4gYXJyYXksIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzXHJcbiAqIHByb3ZpZGVyJ3MgYCRnZXRgIHByb3BlcnR5IGlzIGEgZmFjdG9yeSBmdW5jdGlvbiB0aGF0IHRha2VzIG5vIGFyZ3VtZW50cyBhbmQgcmV0dXJucyB0aGUgKip2YWx1ZVxyXG4gKiBzZXJ2aWNlKiouIFRoYXQgYWxzbyBtZWFucyBpdCBpcyBub3QgcG9zc2libGUgdG8gaW5qZWN0IG90aGVyIHNlcnZpY2VzIGludG8gYSB2YWx1ZSBzZXJ2aWNlLlxyXG4gKlxyXG4gKiBWYWx1ZSBzZXJ2aWNlcyBhcmUgc2ltaWxhciB0byBjb25zdGFudCBzZXJ2aWNlcywgZXhjZXB0IHRoYXQgdGhleSBjYW5ub3QgYmUgaW5qZWN0ZWQgaW50byBhXHJcbiAqIG1vZHVsZSBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIChzZWUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ30pIGJ1dCB0aGV5IGNhbiBiZSBvdmVycmlkZGVuIGJ5XHJcbiAqIGFuIEFuZ3VsYXIge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogSGVyZSBhcmUgc29tZSBleGFtcGxlcyBvZiBjcmVhdGluZyB2YWx1ZSBzZXJ2aWNlcy5cclxuICogYGBganNcclxuICogICAkcHJvdmlkZS52YWx1ZSgnQURNSU5fVVNFUicsICdhZG1pbicpO1xyXG4gKlxyXG4gKiAgICRwcm92aWRlLnZhbHVlKCdSb2xlTG9va3VwJywgeyBhZG1pbjogMCwgd3JpdGVyOiAxLCByZWFkZXI6IDIgfSk7XHJcbiAqXHJcbiAqICAgJHByb3ZpZGUudmFsdWUoJ2hhbGZPZicsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAqICAgICByZXR1cm4gdmFsdWUgLyAyO1xyXG4gKiAgIH0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJHByb3ZpZGUjY29uc3RhbnRcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFJlZ2lzdGVyIGEgKipjb25zdGFudCBzZXJ2aWNlKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIHN1Y2ggYXMgYSBzdHJpbmcsXHJcbiAqIGEgbnVtYmVyLCBhbiBhcnJheSwgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24uIExpa2UgdGhlIHtAbGluayBhdXRvLiRwcm92aWRlI3ZhbHVlIHZhbHVlfSwgaXQgaXMgbm90XHJcbiAqIHBvc3NpYmxlIHRvIGluamVjdCBvdGhlciBzZXJ2aWNlcyBpbnRvIGEgY29uc3RhbnQuXHJcbiAqXHJcbiAqIEJ1dCB1bmxpa2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWV9LCBhIGNvbnN0YW50IGNhbiBiZVxyXG4gKiBpbmplY3RlZCBpbnRvIGEgbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYW5kIGl0IGNhbm5vdFxyXG4gKiBiZSBvdmVycmlkZGVuIGJ5IGFuIEFuZ3VsYXIge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjb25zdGFudC5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgY29uc3RhbnQgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgaW5zdGFuY2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogSGVyZSBhIHNvbWUgZXhhbXBsZXMgb2YgY3JlYXRpbmcgY29uc3RhbnRzOlxyXG4gKiBgYGBqc1xyXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdTSEFSRF9IRUlHSFQnLCAzMDYpO1xyXG4gKlxyXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdNWV9DT0xPVVJTJywgWydyZWQnLCAnYmx1ZScsICdncmV5J10pO1xyXG4gKlxyXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdkb3VibGUnLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gKiAgICAgcmV0dXJuIHZhbHVlICogMjtcclxuICogICB9KTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRwcm92aWRlI2RlY29yYXRvclxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgZGVjb3JhdG9yKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIEEgc2VydmljZSBkZWNvcmF0b3JcclxuICogaW50ZXJjZXB0cyB0aGUgY3JlYXRpb24gb2YgYSBzZXJ2aWNlLCBhbGxvd2luZyBpdCB0byBvdmVycmlkZSBvciBtb2RpZnkgdGhlIGJlaGF2aW9yIG9mIHRoZVxyXG4gKiBzZXJ2aWNlLiBUaGUgb2JqZWN0IHJldHVybmVkIGJ5IHRoZSBkZWNvcmF0b3IgbWF5IGJlIHRoZSBvcmlnaW5hbCBzZXJ2aWNlLCBvciBhIG5ldyBzZXJ2aWNlXHJcbiAqIG9iamVjdCB3aGljaCByZXBsYWNlcyBvciB3cmFwcyBhbmQgZGVsZWdhdGVzIHRvIHRoZSBvcmlnaW5hbCBzZXJ2aWNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBkZWNvcmF0ZS5cclxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gZGVjb3JhdG9yIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmVcclxuICogICAgaW5zdGFudGlhdGVkIGFuZCBzaG91bGQgcmV0dXJuIHRoZSBkZWNvcmF0ZWQgc2VydmljZSBpbnN0YW5jZS4gVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB1c2luZ1xyXG4gKiAgICB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3Rvci5pbnZva2V9IG1ldGhvZCBhbmQgaXMgdGhlcmVmb3JlIGZ1bGx5IGluamVjdGFibGUuXHJcbiAqICAgIExvY2FsIGluamVjdGlvbiBhcmd1bWVudHM6XHJcbiAqXHJcbiAqICAgICogYCRkZWxlZ2F0ZWAgLSBUaGUgb3JpZ2luYWwgc2VydmljZSBpbnN0YW5jZSwgd2hpY2ggY2FuIGJlIG1vbmtleSBwYXRjaGVkLCBjb25maWd1cmVkLFxyXG4gKiAgICAgIGRlY29yYXRlZCBvciBkZWxlZ2F0ZWQgdG8uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIEhlcmUgd2UgZGVjb3JhdGUgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2UgdG8gY29udmVydCB3YXJuaW5ncyB0byBlcnJvcnMgYnkgaW50ZXJjZXB0aW5nXHJcbiAqIGNhbGxzIHRvIHtAbGluayBuZy4kbG9nI2Vycm9yICRsb2cud2FybigpfS5cclxuICogYGBganNcclxuICogICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRsb2cnLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkge1xyXG4gKiAgICAgJGRlbGVnYXRlLndhcm4gPSAkZGVsZWdhdGUuZXJyb3I7XHJcbiAqICAgICByZXR1cm4gJGRlbGVnYXRlO1xyXG4gKiAgIH1dKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yKG1vZHVsZXNUb0xvYWQsIHN0cmljdERpKSB7XHJcbiAgc3RyaWN0RGkgPSAoc3RyaWN0RGkgPT09IHRydWUpO1xyXG4gIHZhciBJTlNUQU5USUFUSU5HID0ge30sXHJcbiAgICAgIHByb3ZpZGVyU3VmZml4ID0gJ1Byb3ZpZGVyJyxcclxuICAgICAgcGF0aCA9IFtdLFxyXG4gICAgICBsb2FkZWRNb2R1bGVzID0gbmV3IEhhc2hNYXAoW10sIHRydWUpLFxyXG4gICAgICBwcm92aWRlckNhY2hlID0ge1xyXG4gICAgICAgICRwcm92aWRlOiB7XHJcbiAgICAgICAgICAgIHByb3ZpZGVyOiBzdXBwb3J0T2JqZWN0KHByb3ZpZGVyKSxcclxuICAgICAgICAgICAgZmFjdG9yeTogc3VwcG9ydE9iamVjdChmYWN0b3J5KSxcclxuICAgICAgICAgICAgc2VydmljZTogc3VwcG9ydE9iamVjdChzZXJ2aWNlKSxcclxuICAgICAgICAgICAgdmFsdWU6IHN1cHBvcnRPYmplY3QodmFsdWUpLFxyXG4gICAgICAgICAgICBjb25zdGFudDogc3VwcG9ydE9iamVjdChjb25zdGFudCksXHJcbiAgICAgICAgICAgIGRlY29yYXRvcjogZGVjb3JhdG9yXHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHByb3ZpZGVySW5qZWN0b3IgPSAocHJvdmlkZXJDYWNoZS4kaW5qZWN0b3IgPVxyXG4gICAgICAgICAgY3JlYXRlSW50ZXJuYWxJbmplY3Rvcihwcm92aWRlckNhY2hlLCBmdW5jdGlvbihzZXJ2aWNlTmFtZSwgY2FsbGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGNhbGxlcikpIHtcclxuICAgICAgICAgICAgICBwYXRoLnB1c2goY2FsbGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3VucHInLCBcIlVua25vd24gcHJvdmlkZXI6IHswfVwiLCBwYXRoLmpvaW4oJyA8LSAnKSk7XHJcbiAgICAgICAgICB9KSksXHJcbiAgICAgIGluc3RhbmNlQ2FjaGUgPSB7fSxcclxuICAgICAgcHJvdG9JbnN0YW5jZUluamVjdG9yID1cclxuICAgICAgICAgIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoaW5zdGFuY2VDYWNoZSwgZnVuY3Rpb24oc2VydmljZU5hbWUsIGNhbGxlcikge1xyXG4gICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChzZXJ2aWNlTmFtZSArIHByb3ZpZGVyU3VmZml4LCBjYWxsZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoXHJcbiAgICAgICAgICAgICAgICBwcm92aWRlci4kZ2V0LCBwcm92aWRlciwgdW5kZWZpbmVkLCBzZXJ2aWNlTmFtZSk7XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgaW5zdGFuY2VJbmplY3RvciA9IHByb3RvSW5zdGFuY2VJbmplY3RvcjtcclxuXHJcbiAgcHJvdmlkZXJDYWNoZVsnJGluamVjdG9yJyArIHByb3ZpZGVyU3VmZml4XSA9IHsgJGdldDogdmFsdWVGbihwcm90b0luc3RhbmNlSW5qZWN0b3IpIH07XHJcbiAgdmFyIHJ1bkJsb2NrcyA9IGxvYWRNb2R1bGVzKG1vZHVsZXNUb0xvYWQpO1xyXG4gIGluc3RhbmNlSW5qZWN0b3IgPSBwcm90b0luc3RhbmNlSW5qZWN0b3IuZ2V0KCckaW5qZWN0b3InKTtcclxuICBpbnN0YW5jZUluamVjdG9yLnN0cmljdERpID0gc3RyaWN0RGk7XHJcbiAgZm9yRWFjaChydW5CbG9ja3MsIGZ1bmN0aW9uKGZuKSB7IGlmIChmbikgaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZm4pOyB9KTtcclxuXHJcbiAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3I7XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIC8vICRwcm92aWRlclxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICBmdW5jdGlvbiBzdXBwb3J0T2JqZWN0KGRlbGVnYXRlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICBpZiAoaXNPYmplY3Qoa2V5KSkge1xyXG4gICAgICAgIGZvckVhY2goa2V5LCByZXZlcnNlUGFyYW1zKGRlbGVnYXRlKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRlbGVnYXRlKGtleSwgdmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcHJvdmlkZXIobmFtZSwgcHJvdmlkZXJfKSB7XHJcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnc2VydmljZScpO1xyXG4gICAgaWYgKGlzRnVuY3Rpb24ocHJvdmlkZXJfKSB8fCBpc0FycmF5KHByb3ZpZGVyXykpIHtcclxuICAgICAgcHJvdmlkZXJfID0gcHJvdmlkZXJJbmplY3Rvci5pbnN0YW50aWF0ZShwcm92aWRlcl8pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFwcm92aWRlcl8uJGdldCkge1xyXG4gICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3BnZXQnLCBcIlByb3ZpZGVyICd7MH0nIG11c3QgZGVmaW5lICRnZXQgZmFjdG9yeSBtZXRob2QuXCIsIG5hbWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByb3ZpZGVyQ2FjaGVbbmFtZSArIHByb3ZpZGVyU3VmZml4XSA9IHByb3ZpZGVyXztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGVuZm9yY2VSZXR1cm5WYWx1ZShuYW1lLCBmYWN0b3J5KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gZW5mb3JjZWRSZXR1cm5WYWx1ZSgpIHtcclxuICAgICAgdmFyIHJlc3VsdCA9IGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKGZhY3RvcnksIHRoaXMpO1xyXG4gICAgICBpZiAoaXNVbmRlZmluZWQocmVzdWx0KSkge1xyXG4gICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5kZWYnLCBcIlByb3ZpZGVyICd7MH0nIG11c3QgcmV0dXJuIGEgdmFsdWUgZnJvbSAkZ2V0IGZhY3RvcnkgbWV0aG9kLlwiLCBuYW1lKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGZhY3RvcnkobmFtZSwgZmFjdG9yeUZuLCBlbmZvcmNlKSB7XHJcbiAgICByZXR1cm4gcHJvdmlkZXIobmFtZSwge1xyXG4gICAgICAkZ2V0OiBlbmZvcmNlICE9PSBmYWxzZSA/IGVuZm9yY2VSZXR1cm5WYWx1ZShuYW1lLCBmYWN0b3J5Rm4pIDogZmFjdG9yeUZuXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNlcnZpY2UobmFtZSwgY29uc3RydWN0b3IpIHtcclxuICAgIHJldHVybiBmYWN0b3J5KG5hbWUsIFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XHJcbiAgICAgIHJldHVybiAkaW5qZWN0b3IuaW5zdGFudGlhdGUoY29uc3RydWN0b3IpO1xyXG4gICAgfV0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdmFsdWUobmFtZSwgdmFsKSB7IHJldHVybiBmYWN0b3J5KG5hbWUsIHZhbHVlRm4odmFsKSwgZmFsc2UpOyB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvbnN0YW50KG5hbWUsIHZhbHVlKSB7XHJcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnY29uc3RhbnQnKTtcclxuICAgIHByb3ZpZGVyQ2FjaGVbbmFtZV0gPSB2YWx1ZTtcclxuICAgIGluc3RhbmNlQ2FjaGVbbmFtZV0gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGRlY29yYXRvcihzZXJ2aWNlTmFtZSwgZGVjb3JGbikge1xyXG4gICAgdmFyIG9yaWdQcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lICsgcHJvdmlkZXJTdWZmaXgpLFxyXG4gICAgICAgIG9yaWckZ2V0ID0gb3JpZ1Byb3ZpZGVyLiRnZXQ7XHJcblxyXG4gICAgb3JpZ1Byb3ZpZGVyLiRnZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIG9yaWdJbnN0YW5jZSA9IGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKG9yaWckZ2V0LCBvcmlnUHJvdmlkZXIpO1xyXG4gICAgICByZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZGVjb3JGbiwgbnVsbCwgeyRkZWxlZ2F0ZTogb3JpZ0luc3RhbmNlfSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8gTW9kdWxlIExvYWRpbmdcclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICBmdW5jdGlvbiBsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKSB7XHJcbiAgICBhc3NlcnRBcmcoaXNVbmRlZmluZWQobW9kdWxlc1RvTG9hZCkgfHwgaXNBcnJheShtb2R1bGVzVG9Mb2FkKSwgJ21vZHVsZXNUb0xvYWQnLCAnbm90IGFuIGFycmF5Jyk7XHJcbiAgICB2YXIgcnVuQmxvY2tzID0gW10sIG1vZHVsZUZuO1xyXG4gICAgZm9yRWFjaChtb2R1bGVzVG9Mb2FkLCBmdW5jdGlvbihtb2R1bGUpIHtcclxuICAgICAgaWYgKGxvYWRlZE1vZHVsZXMuZ2V0KG1vZHVsZSkpIHJldHVybjtcclxuICAgICAgbG9hZGVkTW9kdWxlcy5wdXQobW9kdWxlLCB0cnVlKTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJ1bkludm9rZVF1ZXVlKHF1ZXVlKSB7XHJcbiAgICAgICAgdmFyIGksIGlpO1xyXG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gcXVldWUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgdmFyIGludm9rZUFyZ3MgPSBxdWV1ZVtpXSxcclxuICAgICAgICAgICAgICBwcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KGludm9rZUFyZ3NbMF0pO1xyXG5cclxuICAgICAgICAgIHByb3ZpZGVyW2ludm9rZUFyZ3NbMV1dLmFwcGx5KHByb3ZpZGVyLCBpbnZva2VBcmdzWzJdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKG1vZHVsZSkpIHtcclxuICAgICAgICAgIG1vZHVsZUZuID0gYW5ndWxhck1vZHVsZShtb2R1bGUpO1xyXG4gICAgICAgICAgcnVuQmxvY2tzID0gcnVuQmxvY2tzLmNvbmNhdChsb2FkTW9kdWxlcyhtb2R1bGVGbi5yZXF1aXJlcykpLmNvbmNhdChtb2R1bGVGbi5fcnVuQmxvY2tzKTtcclxuICAgICAgICAgIHJ1bkludm9rZVF1ZXVlKG1vZHVsZUZuLl9pbnZva2VRdWV1ZSk7XHJcbiAgICAgICAgICBydW5JbnZva2VRdWV1ZShtb2R1bGVGbi5fY29uZmlnQmxvY2tzKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24obW9kdWxlKSkge1xyXG4gICAgICAgICAgICBydW5CbG9ja3MucHVzaChwcm92aWRlckluamVjdG9yLmludm9rZShtb2R1bGUpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xyXG4gICAgICAgICAgICBydW5CbG9ja3MucHVzaChwcm92aWRlckluamVjdG9yLmludm9rZShtb2R1bGUpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXNzZXJ0QXJnRm4obW9kdWxlLCAnbW9kdWxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xyXG4gICAgICAgICAgbW9kdWxlID0gbW9kdWxlW21vZHVsZS5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGUubWVzc2FnZSAmJiBlLnN0YWNrICYmIGUuc3RhY2suaW5kZXhPZihlLm1lc3NhZ2UpID09IC0xKSB7XHJcbiAgICAgICAgICAvLyBTYWZhcmkgJiBGRidzIHN0YWNrIHRyYWNlcyBkb24ndCBjb250YWluIGVycm9yLm1lc3NhZ2UgY29udGVudFxyXG4gICAgICAgICAgLy8gdW5saWtlIHRob3NlIG9mIENocm9tZSBhbmQgSUVcclxuICAgICAgICAgIC8vIFNvIGlmIHN0YWNrIGRvZXNuJ3QgY29udGFpbiBtZXNzYWdlLCB3ZSBjcmVhdGUgYSBuZXcgc3RyaW5nIHRoYXQgY29udGFpbnMgYm90aC5cclxuICAgICAgICAgIC8vIFNpbmNlIGVycm9yLnN0YWNrIGlzIHJlYWQtb25seSBpbiBTYWZhcmksIEknbSBvdmVycmlkaW5nIGUgYW5kIG5vdCBlLnN0YWNrIGhlcmUuXHJcbiAgICAgICAgICAvKiBqc2hpbnQgLVcwMjIgKi9cclxuICAgICAgICAgIGUgPSBlLm1lc3NhZ2UgKyAnXFxuJyArIGUuc3RhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignbW9kdWxlcnInLCBcIkZhaWxlZCB0byBpbnN0YW50aWF0ZSBtb2R1bGUgezB9IGR1ZSB0bzpcXG57MX1cIixcclxuICAgICAgICAgICAgICAgICAgbW9kdWxlLCBlLnN0YWNrIHx8IGUubWVzc2FnZSB8fCBlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcnVuQmxvY2tzO1xyXG4gIH1cclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8gaW50ZXJuYWwgSW5qZWN0b3JcclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlSW50ZXJuYWxJbmplY3RvcihjYWNoZSwgZmFjdG9yeSkge1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFNlcnZpY2Uoc2VydmljZU5hbWUsIGNhbGxlcikge1xyXG4gICAgICBpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoc2VydmljZU5hbWUpKSB7XHJcbiAgICAgICAgaWYgKGNhY2hlW3NlcnZpY2VOYW1lXSA9PT0gSU5TVEFOVElBVElORykge1xyXG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdjZGVwJywgJ0NpcmN1bGFyIGRlcGVuZGVuY3kgZm91bmQ6IHswfScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWUgKyAnIDwtICcgKyBwYXRoLmpvaW4oJyA8LSAnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjYWNoZVtzZXJ2aWNlTmFtZV07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHBhdGgudW5zaGlmdChzZXJ2aWNlTmFtZSk7XHJcbiAgICAgICAgICBjYWNoZVtzZXJ2aWNlTmFtZV0gPSBJTlNUQU5USUFUSU5HO1xyXG4gICAgICAgICAgcmV0dXJuIGNhY2hlW3NlcnZpY2VOYW1lXSA9IGZhY3Rvcnkoc2VydmljZU5hbWUsIGNhbGxlcik7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBpZiAoY2FjaGVbc2VydmljZU5hbWVdID09PSBJTlNUQU5USUFUSU5HKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBjYWNoZVtzZXJ2aWNlTmFtZV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgIHBhdGguc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gaW5qZWN0aW9uQXJncyhmbiwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xyXG4gICAgICB2YXIgYXJncyA9IFtdLFxyXG4gICAgICAgICAgJGluamVjdCA9IGNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUoZm4sIHN0cmljdERpLCBzZXJ2aWNlTmFtZSk7XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gJGluamVjdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBrZXkgPSAkaW5qZWN0W2ldO1xyXG4gICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdpdGtuJyxcclxuICAgICAgICAgICAgICAgICAgJ0luY29ycmVjdCBpbmplY3Rpb24gdG9rZW4hIEV4cGVjdGVkIHNlcnZpY2UgbmFtZSBhcyBzdHJpbmcsIGdvdCB7MH0nLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcmdzLnB1c2gobG9jYWxzICYmIGxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkpID8gbG9jYWxzW2tleV0gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRTZXJ2aWNlKGtleSwgc2VydmljZU5hbWUpKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYXJncztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc0NsYXNzKGZ1bmMpIHtcclxuICAgICAgLy8gSUUgOS0xMSBkbyBub3Qgc3VwcG9ydCBjbGFzc2VzIGFuZCBJRTkgbGVha3Mgd2l0aCB0aGUgY29kZSBiZWxvdy5cclxuICAgICAgaWYgKG1zaWUgPD0gMTEpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgTVMgRWRnZS5cclxuICAgICAgLy8gQ2hlY2sgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvRmVlZGJhY2svRGV0YWlscy8yMjExNjUzXHJcbiAgICAgIHJldHVybiB0eXBlb2YgZnVuYyA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICYmIC9eKD86Y2xhc3NcXHN8Y29uc3RydWN0b3JcXCgpLy50ZXN0KEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGZ1bmMpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbnZva2UoZm4sIHNlbGYsIGxvY2Fscywgc2VydmljZU5hbWUpIHtcclxuICAgICAgaWYgKHR5cGVvZiBsb2NhbHMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgc2VydmljZU5hbWUgPSBsb2NhbHM7XHJcbiAgICAgICAgbG9jYWxzID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGFyZ3MgPSBpbmplY3Rpb25BcmdzKGZuLCBsb2NhbHMsIHNlcnZpY2VOYW1lKTtcclxuICAgICAgaWYgKGlzQXJyYXkoZm4pKSB7XHJcbiAgICAgICAgZm4gPSBmbltmbi5sZW5ndGggLSAxXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFpc0NsYXNzKGZuKSkge1xyXG4gICAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2FuZ3VsYXJqcy1pbnZva2UtYXBwbHktdnMtc3dpdGNoXHJcbiAgICAgICAgLy8gIzUzODhcclxuICAgICAgICByZXR1cm4gZm4uYXBwbHkoc2VsZiwgYXJncyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXJncy51bnNoaWZ0KG51bGwpO1xyXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGZuLCBhcmdzKSkoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZShUeXBlLCBsb2NhbHMsIHNlcnZpY2VOYW1lKSB7XHJcbiAgICAgIC8vIENoZWNrIGlmIFR5cGUgaXMgYW5ub3RhdGVkIGFuZCB1c2UganVzdCB0aGUgZ2l2ZW4gZnVuY3Rpb24gYXQgbi0xIGFzIHBhcmFtZXRlclxyXG4gICAgICAvLyBlLmcuIHNvbWVNb2R1bGUuZmFjdG9yeSgnZ3JlZXRlcicsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKHJlbmFtZWQkd2luZG93KSB7fV0pO1xyXG4gICAgICB2YXIgY3RvciA9IChpc0FycmF5KFR5cGUpID8gVHlwZVtUeXBlLmxlbmd0aCAtIDFdIDogVHlwZSk7XHJcbiAgICAgIHZhciBhcmdzID0gaW5qZWN0aW9uQXJncyhUeXBlLCBsb2NhbHMsIHNlcnZpY2VOYW1lKTtcclxuICAgICAgLy8gRW1wdHkgb2JqZWN0IGF0IHBvc2l0aW9uIDAgaXMgaWdub3JlZCBmb3IgaW52b2NhdGlvbiB3aXRoIGBuZXdgLCBidXQgcmVxdWlyZWQuXHJcbiAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcclxuICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY3RvciwgYXJncykpKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGludm9rZTogaW52b2tlLFxyXG4gICAgICBpbnN0YW50aWF0ZTogaW5zdGFudGlhdGUsXHJcbiAgICAgIGdldDogZ2V0U2VydmljZSxcclxuICAgICAgYW5ub3RhdGU6IGNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUsXHJcbiAgICAgIGhhczogZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgIHJldHVybiBwcm92aWRlckNhY2hlLmhhc093blByb3BlcnR5KG5hbWUgKyBwcm92aWRlclN1ZmZpeCkgfHwgY2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5jcmVhdGVJbmplY3Rvci4kJGFubm90YXRlID0gYW5ub3RhdGU7XHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3ZpZGVyXHJcbiAqIEBuYW1lICRhbmNob3JTY3JvbGxQcm92aWRlclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVXNlIGAkYW5jaG9yU2Nyb2xsUHJvdmlkZXJgIHRvIGRpc2FibGUgYXV0b21hdGljIHNjcm9sbGluZyB3aGVuZXZlclxyXG4gKiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gY2hhbmdlcy5cclxuICovXHJcbmZ1bmN0aW9uICRBbmNob3JTY3JvbGxQcm92aWRlcigpIHtcclxuXHJcbiAgdmFyIGF1dG9TY3JvbGxpbmdFbmFibGVkID0gdHJ1ZTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxQcm92aWRlciNkaXNhYmxlQXV0b1Njcm9sbGluZ1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQnkgZGVmYXVsdCwge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSB3aWxsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IGNoYW5nZXMgdG9cclxuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gYW5kIHNjcm9sbCB0byB0aGUgZWxlbWVudCBtYXRjaGluZyB0aGUgbmV3IGhhc2guPGJyIC8+XHJcbiAgICogVXNlIHRoaXMgbWV0aG9kIHRvIGRpc2FibGUgYXV0b21hdGljIHNjcm9sbGluZy5cclxuICAgKlxyXG4gICAqIElmIGF1dG9tYXRpYyBzY3JvbGxpbmcgaXMgZGlzYWJsZWQsIG9uZSBtdXN0IGV4cGxpY2l0bHkgY2FsbFxyXG4gICAqIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsICRhbmNob3JTY3JvbGwoKX0gaW4gb3JkZXIgdG8gc2Nyb2xsIHRvIHRoZSBlbGVtZW50IHJlbGF0ZWQgdG8gdGhlXHJcbiAgICogY3VycmVudCBoYXNoLlxyXG4gICAqL1xyXG4gIHRoaXMuZGlzYWJsZUF1dG9TY3JvbGxpbmcgPSBmdW5jdGlvbigpIHtcclxuICAgIGF1dG9TY3JvbGxpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgKiBAbmFtZSAkYW5jaG9yU2Nyb2xsXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKiBAcmVxdWlyZXMgJHdpbmRvd1xyXG4gICAqIEByZXF1aXJlcyAkbG9jYXRpb25cclxuICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogV2hlbiBjYWxsZWQsIGl0IHNjcm9sbHMgdG8gdGhlIGVsZW1lbnQgcmVsYXRlZCB0byB0aGUgc3BlY2lmaWVkIGBoYXNoYCBvciAoaWYgb21pdHRlZCkgdG8gdGhlXHJcbiAgICogY3VycmVudCB2YWx1ZSBvZiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0sIGFjY29yZGluZyB0byB0aGUgcnVsZXMgc3BlY2lmaWVkXHJcbiAgICogaW4gdGhlXHJcbiAgICogW0hUTUw1IHNwZWNdKGh0dHA6Ly93d3cudzMub3JnL2h0bWwvd2cvZHJhZnRzL2h0bWwvbWFzdGVyL2Jyb3dzZXJzLmh0bWwjdGhlLWluZGljYXRlZC1wYXJ0LW9mLXRoZS1kb2N1bWVudCkuXHJcbiAgICpcclxuICAgKiBJdCBhbHNvIHdhdGNoZXMgdGhlIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSBhbmQgYXV0b21hdGljYWxseSBzY3JvbGxzIHRvXHJcbiAgICogbWF0Y2ggYW55IGFuY2hvciB3aGVuZXZlciBpdCBjaGFuZ2VzLiBUaGlzIGNhbiBiZSBkaXNhYmxlZCBieSBjYWxsaW5nXHJcbiAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGxQcm92aWRlciNkaXNhYmxlQXV0b1Njcm9sbGluZyAkYW5jaG9yU2Nyb2xsUHJvdmlkZXIuZGlzYWJsZUF1dG9TY3JvbGxpbmcoKX0uXHJcbiAgICpcclxuICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gdXNlIGl0cyB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0IHlPZmZzZXR9IHByb3BlcnR5IHRvIHNwZWNpZnkgYVxyXG4gICAqIHZlcnRpY2FsIHNjcm9sbC1vZmZzZXQgKGVpdGhlciBmaXhlZCBvciBkeW5hbWljKS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gaGFzaCBUaGUgaGFzaCBzcGVjaWZ5aW5nIHRoZSBlbGVtZW50IHRvIHNjcm9sbCB0by4gSWYgb21pdHRlZCwgdGhlIHZhbHVlIG9mXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSB3aWxsIGJlIHVzZWQuXHJcbiAgICpcclxuICAgKiBAcHJvcGVydHkgeyhudW1iZXJ8ZnVuY3Rpb258anFMaXRlKX0geU9mZnNldFxyXG4gICAqIElmIHNldCwgc3BlY2lmaWVzIGEgdmVydGljYWwgc2Nyb2xsLW9mZnNldC4gVGhpcyBpcyBvZnRlbiB1c2VmdWwgd2hlbiB0aGVyZSBhcmUgZml4ZWRcclxuICAgKiBwb3NpdGlvbmVkIGVsZW1lbnRzIGF0IHRoZSB0b3Agb2YgdGhlIHBhZ2UsIHN1Y2ggYXMgbmF2YmFycywgaGVhZGVycyBldGMuXHJcbiAgICpcclxuICAgKiBgeU9mZnNldGAgY2FuIGJlIHNwZWNpZmllZCBpbiB2YXJpb3VzIHdheXM6XHJcbiAgICogLSAqKm51bWJlcioqOiBBIGZpeGVkIG51bWJlciBvZiBwaXhlbHMgdG8gYmUgdXNlZCBhcyBvZmZzZXQuPGJyIC8+PGJyIC8+XHJcbiAgICogLSAqKmZ1bmN0aW9uKio6IEEgZ2V0dGVyIGZ1bmN0aW9uIGNhbGxlZCBldmVyeXRpbWUgYCRhbmNob3JTY3JvbGwoKWAgaXMgZXhlY3V0ZWQuIE11c3QgcmV0dXJuXHJcbiAgICogICBhIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9mZnNldCAoaW4gcGl4ZWxzKS48YnIgLz48YnIgLz5cclxuICAgKiAtICoqanFMaXRlKio6IEEganFMaXRlL2pRdWVyeSBlbGVtZW50IHRvIGJlIHVzZWQgZm9yIHNwZWNpZnlpbmcgdGhlIG9mZnNldC4gVGhlIGRpc3RhbmNlIGZyb21cclxuICAgKiAgIHRoZSB0b3Agb2YgdGhlIHBhZ2UgdG8gdGhlIGVsZW1lbnQncyBib3R0b20gd2lsbCBiZSB1c2VkIGFzIG9mZnNldC48YnIgLz5cclxuICAgKiAgICoqTm90ZSoqOiBUaGUgZWxlbWVudCB3aWxsIGJlIHRha2VuIGludG8gYWNjb3VudCBvbmx5IGFzIGxvbmcgYXMgaXRzIGBwb3NpdGlvbmAgaXMgc2V0IHRvXHJcbiAgICogICBgZml4ZWRgLiBUaGlzIG9wdGlvbiBpcyB1c2VmdWwsIHdoZW4gZGVhbGluZyB3aXRoIHJlc3BvbnNpdmUgbmF2YmFycy9oZWFkZXJzIHRoYXQgYWRqdXN0XHJcbiAgICogICB0aGVpciBoZWlnaHQgYW5kL29yIHBvc2l0aW9uaW5nIGFjY29yZGluZyB0byB0aGUgdmlld3BvcnQncyBzaXplLlxyXG4gICAqXHJcbiAgICogPGJyIC8+XHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgKiBJbiBvcmRlciBmb3IgYHlPZmZzZXRgIHRvIHdvcmsgcHJvcGVybHksIHNjcm9sbGluZyBzaG91bGQgdGFrZSBwbGFjZSBvbiB0aGUgZG9jdW1lbnQncyByb290IGFuZFxyXG4gICAqIG5vdCBzb21lIGNoaWxkIGVsZW1lbnQuXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG1vZHVsZT1cImFuY2hvclNjcm9sbEV4YW1wbGVcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxkaXYgaWQ9XCJzY3JvbGxBcmVhXCIgbmctY29udHJvbGxlcj1cIlNjcm9sbENvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8YSBuZy1jbGljaz1cImdvdG9Cb3R0b20oKVwiPkdvIHRvIGJvdHRvbTwvYT5cclxuICAgICAgICAgICA8YSBpZD1cImJvdHRvbVwiPjwvYT4gWW91J3JlIGF0IHRoZSBib3R0b20hXHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYW5jaG9yU2Nyb2xsRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdTY3JvbGxDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGxvY2F0aW9uJywgJyRhbmNob3JTY3JvbGwnLFxyXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsKSB7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5nb3RvQm90dG9tID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBsb2NhdGlvbi5oYXNoIHRvIHRoZSBpZCBvZlxyXG4gICAgICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHlvdSB3aXNoIHRvIHNjcm9sbCB0by5cclxuICAgICAgICAgICAgICAgICAkbG9jYXRpb24uaGFzaCgnYm90dG9tJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpXHJcbiAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgICAjc2Nyb2xsQXJlYSB7XHJcbiAgICAgICAgICAgaGVpZ2h0OiAyODBweDtcclxuICAgICAgICAgICBvdmVyZmxvdzogYXV0bztcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgI2JvdHRvbSB7XHJcbiAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgbWFyZ2luLXRvcDogMjAwMHB4O1xyXG4gICAgICAgICB9XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICogPGhyIC8+XHJcbiAgICogVGhlIGV4YW1wbGUgYmVsb3cgaWxsdXN0cmF0ZXMgdGhlIHVzZSBvZiBhIHZlcnRpY2FsIHNjcm9sbC1vZmZzZXQgKHNwZWNpZmllZCBhcyBhIGZpeGVkIHZhbHVlKS5cclxuICAgKiBTZWUge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwjeU9mZnNldCAkYW5jaG9yU2Nyb2xsLnlPZmZzZXR9IGZvciBtb3JlIGRldGFpbHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG1vZHVsZT1cImFuY2hvclNjcm9sbE9mZnNldEV4YW1wbGVcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJmaXhlZC1oZWFkZXJcIiBuZy1jb250cm9sbGVyPVwiaGVhZGVyQ3RybFwiPlxyXG4gICAgICAgICAgIDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cImdvdG9BbmNob3IoeClcIiBuZy1yZXBlYXQ9XCJ4IGluIFsxLDIsMyw0LDVdXCI+XHJcbiAgICAgICAgICAgICBHbyB0byBhbmNob3Ige3t4fX1cclxuICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICA8ZGl2IGlkPVwiYW5jaG9ye3t4fX1cIiBjbGFzcz1cImFuY2hvclwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cclxuICAgICAgICAgICBBbmNob3Ige3t4fX0gb2YgNVxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2FuY2hvclNjcm9sbE9mZnNldEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAucnVuKFsnJGFuY2hvclNjcm9sbCcsIGZ1bmN0aW9uKCRhbmNob3JTY3JvbGwpIHtcclxuICAgICAgICAgICAgICRhbmNob3JTY3JvbGwueU9mZnNldCA9IDUwOyAgIC8vIGFsd2F5cyBzY3JvbGwgYnkgNTAgZXh0cmEgcGl4ZWxzXHJcbiAgICAgICAgICAgfV0pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ2hlYWRlckN0cmwnLCBbJyRhbmNob3JTY3JvbGwnLCAnJGxvY2F0aW9uJywgJyRzY29wZScsXHJcbiAgICAgICAgICAgICBmdW5jdGlvbiAoJGFuY2hvclNjcm9sbCwgJGxvY2F0aW9uLCAkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmdvdG9BbmNob3IgPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICAgdmFyIG5ld0hhc2ggPSAnYW5jaG9yJyArIHg7XHJcbiAgICAgICAgICAgICAgICAgaWYgKCRsb2NhdGlvbi5oYXNoKCkgIT09IG5ld0hhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgJGxvY2F0aW9uLmhhc2ggdG8gYG5ld0hhc2hgIGFuZFxyXG4gICAgICAgICAgICAgICAgICAgLy8gJGFuY2hvclNjcm9sbCB3aWxsIGF1dG9tYXRpY2FsbHkgc2Nyb2xsIHRvIGl0XHJcbiAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24uaGFzaCgnYW5jaG9yJyArIHgpO1xyXG4gICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAvLyBjYWxsICRhbmNob3JTY3JvbGwoKSBleHBsaWNpdGx5LFxyXG4gICAgICAgICAgICAgICAgICAgLy8gc2luY2UgJGxvY2F0aW9uLmhhc2ggaGFzbid0IGNoYW5nZWRcclxuICAgICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgXSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgIGJvZHkge1xyXG4gICAgICAgICAgIHBhZGRpbmctdG9wOiA1MHB4O1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICAuYW5jaG9yIHtcclxuICAgICAgICAgICBib3JkZXI6IDJweCBkYXNoZWQgRGFya09yY2hpZDtcclxuICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDEwcHggMjAwcHggMTBweDtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgLmZpeGVkLWhlYWRlciB7XHJcbiAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG4gICAgICAgICAgIGhlaWdodDogNTBweDtcclxuICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICAgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgLmZpeGVkLWhlYWRlciA+IGEge1xyXG4gICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICBtYXJnaW46IDVweCAxNXB4O1xyXG4gICAgICAgICB9XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckbG9jYXRpb24nLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCR3aW5kb3csICRsb2NhdGlvbiwgJHJvb3RTY29wZSkge1xyXG4gICAgdmFyIGRvY3VtZW50ID0gJHdpbmRvdy5kb2N1bWVudDtcclxuXHJcbiAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGZpcnN0IGFuY2hvciBmcm9tIGEgTm9kZUxpc3RcclxuICAgIC8vICh1c2luZyBgQXJyYXkjc29tZSgpYCBpbnN0ZWFkIG9mIGBhbmd1bGFyI2ZvckVhY2goKWAgc2luY2UgaXQncyBtb3JlIHBlcmZvcm1hbnRcclxuICAgIC8vICBhbmQgd29ya2luZyBpbiBhbGwgc3VwcG9ydGVkIGJyb3dzZXJzLilcclxuICAgIGZ1bmN0aW9uIGdldEZpcnN0QW5jaG9yKGxpc3QpIHtcclxuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XHJcbiAgICAgIEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwobGlzdCwgZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChub2RlTmFtZV8oZWxlbWVudCkgPT09ICdhJykge1xyXG4gICAgICAgICAgcmVzdWx0ID0gZWxlbWVudDtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0WU9mZnNldCgpIHtcclxuXHJcbiAgICAgIHZhciBvZmZzZXQgPSBzY3JvbGwueU9mZnNldDtcclxuXHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9mZnNldCkpIHtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQoKTtcclxuICAgICAgfSBlbHNlIGlmIChpc0VsZW1lbnQob2Zmc2V0KSkge1xyXG4gICAgICAgIHZhciBlbGVtID0gb2Zmc2V0WzBdO1xyXG4gICAgICAgIHZhciBzdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcclxuICAgICAgICBpZiAoc3R5bGUucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcclxuICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICghaXNOdW1iZXIob2Zmc2V0KSkge1xyXG4gICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBvZmZzZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG8oZWxlbSkge1xyXG4gICAgICBpZiAoZWxlbSkge1xyXG4gICAgICAgIGVsZW0uc2Nyb2xsSW50b1ZpZXcoKTtcclxuXHJcbiAgICAgICAgdmFyIG9mZnNldCA9IGdldFlPZmZzZXQoKTtcclxuXHJcbiAgICAgICAgaWYgKG9mZnNldCkge1xyXG4gICAgICAgICAgLy8gYG9mZnNldGAgaXMgdGhlIG51bWJlciBvZiBwaXhlbHMgd2Ugc2hvdWxkIHNjcm9sbCBVUCBpbiBvcmRlciB0byBhbGlnbiBgZWxlbWAgcHJvcGVybHkuXHJcbiAgICAgICAgICAvLyBUaGlzIGlzIHRydWUgT05MWSBpZiB0aGUgY2FsbCB0byBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCBpbml0aWFsbHkgYWxpZ25zIGBlbGVtYCBhdCB0aGVcclxuICAgICAgICAgIC8vIHRvcCBvZiB0aGUgdmlld3BvcnQuXHJcbiAgICAgICAgICAvL1xyXG4gICAgICAgICAgLy8gSUYgdGhlIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIGBlbGVtYCB0byB0aGUgZW5kIG9mIHRoZSBwYWdlJ3MgY29udGVudCBpcyBsZXNzXHJcbiAgICAgICAgICAvLyB0aGFuIHRoZSBoZWlnaHQgb2YgdGhlIHZpZXdwb3J0LCB0aGVuIGBlbGVtLnNjcm9sbEludG9WaWV3KClgIHdpbGwgYWxpZ24gdGhlIGBlbGVtYCBzb21lXHJcbiAgICAgICAgICAvLyB3YXkgZG93biB0aGUgcGFnZS5cclxuICAgICAgICAgIC8vXHJcbiAgICAgICAgICAvLyBUaGlzIGlzIG9mdGVuIHRoZSBjYXNlIGZvciBlbGVtZW50cyBuZWFyIHRoZSBib3R0b20gb2YgdGhlIHBhZ2UuXHJcbiAgICAgICAgICAvL1xyXG4gICAgICAgICAgLy8gSW4gc3VjaCBjYXNlcyB3ZSBkbyBub3QgbmVlZCB0byBzY3JvbGwgdGhlIHdob2xlIGBvZmZzZXRgIHVwLCBqdXN0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW5cclxuICAgICAgICAgIC8vIHRoZSB0b3Agb2YgdGhlIGVsZW1lbnQgYW5kIHRoZSBvZmZzZXQsIHdoaWNoIGlzIGVub3VnaCB0byBhbGlnbiB0aGUgdG9wIG9mIGBlbGVtYCBhdCB0aGVcclxuICAgICAgICAgIC8vIGRlc2lyZWQgcG9zaXRpb24uXHJcbiAgICAgICAgICB2YXIgZWxlbVRvcCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICAgICAgJHdpbmRvdy5zY3JvbGxCeSgwLCBlbGVtVG9wIC0gb2Zmc2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNjcm9sbChoYXNoKSB7XHJcbiAgICAgIGhhc2ggPSBpc1N0cmluZyhoYXNoKSA/IGhhc2ggOiAkbG9jYXRpb24uaGFzaCgpO1xyXG4gICAgICB2YXIgZWxtO1xyXG5cclxuICAgICAgLy8gZW1wdHkgaGFzaCwgc2Nyb2xsIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcclxuICAgICAgaWYgKCFoYXNoKSBzY3JvbGxUbyhudWxsKTtcclxuXHJcbiAgICAgIC8vIGVsZW1lbnQgd2l0aCBnaXZlbiBpZFxyXG4gICAgICBlbHNlIGlmICgoZWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGFzaCkpKSBzY3JvbGxUbyhlbG0pO1xyXG5cclxuICAgICAgLy8gZmlyc3QgYW5jaG9yIHdpdGggZ2l2ZW4gbmFtZSA6LURcclxuICAgICAgZWxzZSBpZiAoKGVsbSA9IGdldEZpcnN0QW5jaG9yKGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGhhc2gpKSkpIHNjcm9sbFRvKGVsbSk7XHJcblxyXG4gICAgICAvLyBubyBlbGVtZW50IGFuZCBoYXNoID09ICd0b3AnLCBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxyXG4gICAgICBlbHNlIGlmIChoYXNoID09PSAndG9wJykgc2Nyb2xsVG8obnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZG9lcyBub3Qgc2Nyb2xsIHdoZW4gdXNlciBjbGlja3Mgb24gYW5jaG9yIGxpbmsgdGhhdCBpcyBjdXJyZW50bHkgb25cclxuICAgIC8vIChubyB1cmwgY2hhbmdlLCBubyAkbG9jYXRpb24uaGFzaCgpIGNoYW5nZSksIGJyb3dzZXIgbmF0aXZlIGRvZXMgc2Nyb2xsXHJcbiAgICBpZiAoYXV0b1Njcm9sbGluZ0VuYWJsZWQpIHtcclxuICAgICAgJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24gYXV0b1Njcm9sbFdhdGNoKCkge3JldHVybiAkbG9jYXRpb24uaGFzaCgpO30sXHJcbiAgICAgICAgZnVuY3Rpb24gYXV0b1Njcm9sbFdhdGNoQWN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XHJcbiAgICAgICAgICAvLyBza2lwIHRoZSBpbml0aWFsIHNjcm9sbCBpZiAkbG9jYXRpb24uaGFzaCBpcyBlbXB0eVxyXG4gICAgICAgICAgaWYgKG5ld1ZhbCA9PT0gb2xkVmFsICYmIG5ld1ZhbCA9PT0gJycpIHJldHVybjtcclxuXHJcbiAgICAgICAgICBqcUxpdGVEb2N1bWVudExvYWRlZChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKHNjcm9sbCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2Nyb2xsO1xyXG4gIH1dO1xyXG59XHJcblxyXG52YXIgJGFuaW1hdGVNaW5FcnIgPSBtaW5FcnIoJyRhbmltYXRlJyk7XHJcbnZhciBFTEVNRU5UX05PREUgPSAxO1xyXG52YXIgTkdfQU5JTUFURV9DTEFTU05BTUUgPSAnbmctYW5pbWF0ZSc7XHJcblxyXG5mdW5jdGlvbiBtZXJnZUNsYXNzZXMoYSxiKSB7XHJcbiAgaWYgKCFhICYmICFiKSByZXR1cm4gJyc7XHJcbiAgaWYgKCFhKSByZXR1cm4gYjtcclxuICBpZiAoIWIpIHJldHVybiBhO1xyXG4gIGlmIChpc0FycmF5KGEpKSBhID0gYS5qb2luKCcgJyk7XHJcbiAgaWYgKGlzQXJyYXkoYikpIGIgPSBiLmpvaW4oJyAnKTtcclxuICByZXR1cm4gYSArICcgJyArIGI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KSB7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgZWxtID0gZWxlbWVudFtpXTtcclxuICAgIGlmIChlbG0ubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xyXG4gICAgICByZXR1cm4gZWxtO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3BsaXRDbGFzc2VzKGNsYXNzZXMpIHtcclxuICBpZiAoaXNTdHJpbmcoY2xhc3NlcykpIHtcclxuICAgIGNsYXNzZXMgPSBjbGFzc2VzLnNwbGl0KCcgJyk7XHJcbiAgfVxyXG5cclxuICAvLyBVc2UgY3JlYXRlTWFwKCkgdG8gcHJldmVudCBjbGFzcyBhc3N1bXB0aW9ucyBpbnZvbHZpbmcgcHJvcGVydHkgbmFtZXMgaW5cclxuICAvLyBPYmplY3QucHJvdG90eXBlXHJcbiAgdmFyIG9iaiA9IGNyZWF0ZU1hcCgpO1xyXG4gIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oa2xhc3MpIHtcclxuICAgIC8vIHNvbWV0aW1lcyB0aGUgc3BsaXQgbGVhdmVzIGVtcHR5IHN0cmluZyB2YWx1ZXNcclxuICAgIC8vIGluY2FzZSBleHRyYSBzcGFjZXMgd2VyZSBhcHBsaWVkIHRvIHRoZSBvcHRpb25zXHJcbiAgICBpZiAoa2xhc3MubGVuZ3RoKSB7XHJcbiAgICAgIG9ialtrbGFzc10gPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbi8vIGlmIGFueSBvdGhlciB0eXBlIG9mIG9wdGlvbnMgdmFsdWUgYmVzaWRlcyBhbiBPYmplY3QgdmFsdWUgaXNcclxuLy8gcGFzc2VkIGludG8gdGhlICRhbmltYXRlLm1ldGhvZCgpIGFuaW1hdGlvbiB0aGVuIHRoaXMgaGVscGVyIGNvZGVcclxuLy8gd2lsbCBiZSBydW4gd2hpY2ggd2lsbCBpZ25vcmUgaXQuIFdoaWxlIHRoaXMgcGF0Y2ggaXMgbm90IHRoZVxyXG4vLyBncmVhdGVzdCBzb2x1dGlvbiB0byB0aGlzLCBhIGxvdCBvZiBleGlzdGluZyBwbHVnaW5zIGRlcGVuZCBvblxyXG4vLyAkYW5pbWF0ZSB0byBlaXRoZXIgY2FsbCB0aGUgY2FsbGJhY2sgKDwgMS4yKSBvciByZXR1cm4gYSBwcm9taXNlXHJcbi8vIHRoYXQgY2FuIGJlIGNoYW5nZWQuIFRoaXMgaGVscGVyIGZ1bmN0aW9uIGVuc3VyZXMgdGhhdCB0aGUgb3B0aW9uc1xyXG4vLyBhcmUgd2lwZWQgY2xlYW4gaW5jYXNlIGEgY2FsbGJhY2sgZnVuY3Rpb24gaXMgcHJvdmlkZWQuXHJcbmZ1bmN0aW9uIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgcmV0dXJuIGlzT2JqZWN0KG9wdGlvbnMpXHJcbiAgICAgID8gb3B0aW9uc1xyXG4gICAgICA6IHt9O1xyXG59XHJcblxyXG52YXIgJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLiRnZXQgPSBub29wO1xyXG59O1xyXG5cclxuLy8gdGhpcyBpcyBwcmVmaXhlZCB3aXRoIENvcmUgc2luY2UgaXQgY29uZmxpY3RzIHdpdGhcclxuLy8gdGhlIGFuaW1hdGVRdWV1ZVByb3ZpZGVyIGRlZmluZWQgaW4gbmdBbmltYXRlL2FuaW1hdGVRdWV1ZS5qc1xyXG52YXIgJCRDb3JlQW5pbWF0ZVF1ZXVlUHJvdmlkZXIgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgcG9zdERpZ2VzdFF1ZXVlID0gbmV3IEhhc2hNYXAoKTtcclxuICB2YXIgcG9zdERpZ2VzdEVsZW1lbnRzID0gW107XHJcblxyXG4gIHRoaXMuJGdldCA9IFsnJCRBbmltYXRlUnVubmVyJywgJyRyb290U2NvcGUnLFxyXG4gICAgICAgZnVuY3Rpb24oJCRBbmltYXRlUnVubmVyLCAgICRyb290U2NvcGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGVuYWJsZWQ6IG5vb3AsXHJcbiAgICAgIG9uOiBub29wLFxyXG4gICAgICBvZmY6IG5vb3AsXHJcbiAgICAgIHBpbjogbm9vcCxcclxuXHJcbiAgICAgIHB1c2g6IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zLCBkb21PcGVyYXRpb24pIHtcclxuICAgICAgICBkb21PcGVyYXRpb24gICAgICAgICYmIGRvbU9wZXJhdGlvbigpO1xyXG5cclxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgICAgICBvcHRpb25zLmZyb20gICAgICAgICYmIGVsZW1lbnQuY3NzKG9wdGlvbnMuZnJvbSk7XHJcbiAgICAgICAgb3B0aW9ucy50byAgICAgICAgICAmJiBlbGVtZW50LmNzcyhvcHRpb25zLnRvKTtcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MgfHwgb3B0aW9ucy5yZW1vdmVDbGFzcykge1xyXG4gICAgICAgICAgYWRkUmVtb3ZlQ2xhc3Nlc1Bvc3REaWdlc3QoZWxlbWVudCwgb3B0aW9ucy5hZGRDbGFzcywgb3B0aW9ucy5yZW1vdmVDbGFzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcnVubmVyID0gbmV3ICQkQW5pbWF0ZVJ1bm5lcigpOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHJcbiAgICAgICAgLy8gc2luY2UgdGhlcmUgYXJlIG5vIGFuaW1hdGlvbnMgdG8gcnVuIHRoZSBydW5uZXIgbmVlZHMgdG8gYmVcclxuICAgICAgICAvLyBub3RpZmllZCB0aGF0IHRoZSBhbmltYXRpb24gY2FsbCBpcyBjb21wbGV0ZS5cclxuICAgICAgICBydW5uZXIuY29tcGxldGUoKTtcclxuICAgICAgICByZXR1cm4gcnVubmVyO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVEYXRhKGRhdGEsIGNsYXNzZXMsIHZhbHVlKSB7XHJcbiAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgIGlmIChjbGFzc2VzKSB7XHJcbiAgICAgICAgY2xhc3NlcyA9IGlzU3RyaW5nKGNsYXNzZXMpID8gY2xhc3Nlcy5zcGxpdCgnICcpIDpcclxuICAgICAgICAgICAgICAgICAgaXNBcnJheShjbGFzc2VzKSA/IGNsYXNzZXMgOiBbXTtcclxuICAgICAgICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgZGF0YVtjbGFzc05hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNoYW5nZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFuZGxlQ1NTQ2xhc3NDaGFuZ2VzKCkge1xyXG4gICAgICBmb3JFYWNoKHBvc3REaWdlc3RFbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBkYXRhID0gcG9zdERpZ2VzdFF1ZXVlLmdldChlbGVtZW50KTtcclxuICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgdmFyIGV4aXN0aW5nID0gc3BsaXRDbGFzc2VzKGVsZW1lbnQuYXR0cignY2xhc3MnKSk7XHJcbiAgICAgICAgICB2YXIgdG9BZGQgPSAnJztcclxuICAgICAgICAgIHZhciB0b1JlbW92ZSA9ICcnO1xyXG4gICAgICAgICAgZm9yRWFjaChkYXRhLCBmdW5jdGlvbihzdGF0dXMsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgaGFzQ2xhc3MgPSAhIWV4aXN0aW5nW2NsYXNzTmFtZV07XHJcbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IGhhc0NsYXNzKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgdG9BZGQgKz0gKHRvQWRkLmxlbmd0aCA/ICcgJyA6ICcnKSArIGNsYXNzTmFtZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdG9SZW1vdmUgKz0gKHRvUmVtb3ZlLmxlbmd0aCA/ICcgJyA6ICcnKSArIGNsYXNzTmFtZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxtKSB7XHJcbiAgICAgICAgICAgIHRvQWRkICAgICYmIGpxTGl0ZUFkZENsYXNzKGVsbSwgdG9BZGQpO1xyXG4gICAgICAgICAgICB0b1JlbW92ZSAmJiBqcUxpdGVSZW1vdmVDbGFzcyhlbG0sIHRvUmVtb3ZlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnJlbW92ZShlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBwb3N0RGlnZXN0RWxlbWVudHMubGVuZ3RoID0gMDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUmVtb3ZlQ2xhc3Nlc1Bvc3REaWdlc3QoZWxlbWVudCwgYWRkLCByZW1vdmUpIHtcclxuICAgICAgdmFyIGRhdGEgPSBwb3N0RGlnZXN0UXVldWUuZ2V0KGVsZW1lbnQpIHx8IHt9O1xyXG5cclxuICAgICAgdmFyIGNsYXNzZXNBZGRlZCA9IHVwZGF0ZURhdGEoZGF0YSwgYWRkLCB0cnVlKTtcclxuICAgICAgdmFyIGNsYXNzZXNSZW1vdmVkID0gdXBkYXRlRGF0YShkYXRhLCByZW1vdmUsIGZhbHNlKTtcclxuXHJcbiAgICAgIGlmIChjbGFzc2VzQWRkZWQgfHwgY2xhc3Nlc1JlbW92ZWQpIHtcclxuXHJcbiAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnB1dChlbGVtZW50LCBkYXRhKTtcclxuICAgICAgICBwb3N0RGlnZXN0RWxlbWVudHMucHVzaChlbGVtZW50KTtcclxuXHJcbiAgICAgICAgaWYgKHBvc3REaWdlc3RFbGVtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGhhbmRsZUNTU0NsYXNzQ2hhbmdlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfV07XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3ZpZGVyXHJcbiAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgJGFuaW1hdGUgdGhhdCBkb2Vzbid0IHBlcmZvcm0gYW55IGFuaW1hdGlvbnMsIGluc3RlYWQganVzdFxyXG4gKiBzeW5jaHJvbm91c2x5IHBlcmZvcm1zIERPTSB1cGRhdGVzIGFuZCByZXNvbHZlcyB0aGUgcmV0dXJuZWQgcnVubmVyIHByb21pc2UuXHJcbiAqXHJcbiAqIEluIG9yZGVyIHRvIGVuYWJsZSBhbmltYXRpb25zIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgaGFzIHRvIGJlIGxvYWRlZC5cclxuICpcclxuICogVG8gc2VlIHRoZSBmdW5jdGlvbmFsIGltcGxlbWVudGF0aW9uIGNoZWNrIG91dCBgc3JjL25nQW5pbWF0ZS9hbmltYXRlLmpzYC5cclxuICovXHJcbnZhciAkQW5pbWF0ZVByb3ZpZGVyID0gWyckcHJvdmlkZScsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XHJcbiAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuXHJcbiAgdGhpcy4kJHJlZ2lzdGVyZWRBbmltYXRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuXHJcbiAgIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyI3JlZ2lzdGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZWdpc3RlcnMgYSBuZXcgaW5qZWN0YWJsZSBhbmltYXRpb24gZmFjdG9yeSBmdW5jdGlvbi4gVGhlIGZhY3RvcnkgZnVuY3Rpb24gcHJvZHVjZXMgdGhlXHJcbiAgICogYW5pbWF0aW9uIG9iamVjdCB3aGljaCBjb250YWlucyBjYWxsYmFjayBmdW5jdGlvbnMgZm9yIGVhY2ggZXZlbnQgdGhhdCBpcyBleHBlY3RlZCB0byBiZVxyXG4gICAqIGFuaW1hdGVkLlxyXG4gICAqXHJcbiAgICogICAqIGBldmVudEZuYDogYGZ1bmN0aW9uKGVsZW1lbnQsIC4uLiAsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylgXHJcbiAgICogICBUaGUgZWxlbWVudCB0byBhbmltYXRlLCB0aGUgYGRvbmVGdW5jdGlvbmAgYW5kIHRoZSBvcHRpb25zIGZlZCBpbnRvIHRoZSBhbmltYXRpb24uIERlcGVuZGluZ1xyXG4gICAqICAgb24gdGhlIHR5cGUgb2YgYW5pbWF0aW9uIGFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgaW5qZWN0ZWQgaW50byB0aGUgYW5pbWF0aW9uIGZ1bmN0aW9uLiBUaGVcclxuICAgKiAgIGxpc3QgYmVsb3cgZXhwbGFpbnMgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZXMgZm9yIHRoZSBkaWZmZXJlbnQgYW5pbWF0aW9uIG1ldGhvZHM6XHJcbiAgICpcclxuICAgKiAgIC0gc2V0Q2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGFkZGVkQ2xhc3NlcywgcmVtb3ZlZENsYXNzZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcclxuICAgKiAgIC0gYWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGFkZGVkQ2xhc3NlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxyXG4gICAqICAgLSByZW1vdmVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgcmVtb3ZlZENsYXNzZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcclxuICAgKiAgIC0gZW50ZXIsIGxlYXZlLCBtb3ZlOiBmdW5jdGlvbihlbGVtZW50LCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXHJcbiAgICogICAtIGFuaW1hdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGZyb21TdHlsZXMsIHRvU3R5bGVzLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXHJcbiAgICpcclxuICAgKiAgIE1ha2Ugc3VyZSB0byB0cmlnZ2VyIHRoZSBgZG9uZUZ1bmN0aW9uYCBvbmNlIHRoZSBhbmltYXRpb24gaXMgZnVsbHkgY29tcGxldGUuXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqICAgcmV0dXJuIHtcclxuICAgKiAgICAgLy9lbnRlciwgbGVhdmUsIG1vdmUgc2lnbmF0dXJlXHJcbiAgICogICAgIGV2ZW50Rm4gOiBmdW5jdGlvbihlbGVtZW50LCBkb25lLCBvcHRpb25zKSB7XHJcbiAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uXHJcbiAgICogICAgICAgLy9vbmNlIGNvbXBsZXRlLCB0aGVuIHJ1biBkb25lKClcclxuICAgKiAgICAgICByZXR1cm4gZnVuY3Rpb24gZW5kRnVuY3Rpb24od2FzQ2FuY2VsbGVkKSB7XHJcbiAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cclxuICAgKiAgICAgICB9XHJcbiAgICogICAgIH1cclxuICAgKiAgIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBhbmltYXRpb24gKHRoaXMgaXMgd2hhdCB0aGUgY2xhc3MtYmFzZWQgQ1NTIHZhbHVlIHdpbGwgYmUgY29tcGFyZWQgdG8pLlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZhY3RvcnkgVGhlIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHJldHVybiB0aGUgYW5pbWF0aW9uXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuXHJcbiAgICovXHJcbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWUsIGZhY3RvcnkpIHtcclxuICAgIGlmIChuYW1lICYmIG5hbWUuY2hhckF0KDApICE9PSAnLicpIHtcclxuICAgICAgdGhyb3cgJGFuaW1hdGVNaW5FcnIoJ25vdGNzZWwnLCBcIkV4cGVjdGluZyBjbGFzcyBzZWxlY3RvciBzdGFydGluZyB3aXRoICcuJyBnb3QgJ3swfScuXCIsIG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBrZXkgPSBuYW1lICsgJy1hbmltYXRpb24nO1xyXG4gICAgcHJvdmlkZXIuJCRyZWdpc3RlcmVkQW5pbWF0aW9uc1tuYW1lLnN1YnN0cigxKV0gPSBrZXk7XHJcbiAgICAkcHJvdmlkZS5mYWN0b3J5KGtleSwgZmFjdG9yeSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXIjY2xhc3NOYW1lRmlsdGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIGFuZC9vciByZXR1cm5zIHRoZSBDU1MgY2xhc3MgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgY2hlY2tlZCB3aGVuIHBlcmZvcm1pbmdcclxuICAgKiBhbiBhbmltYXRpb24uIFVwb24gYm9vdHN0cmFwIHRoZSBjbGFzc05hbWVGaWx0ZXIgdmFsdWUgaXMgbm90IHNldCBhdCBhbGwgYW5kIHdpbGxcclxuICAgKiB0aGVyZWZvcmUgZW5hYmxlICRhbmltYXRlIHRvIGF0dGVtcHQgdG8gcGVyZm9ybSBhbiBhbmltYXRpb24gb24gYW55IGVsZW1lbnQgdGhhdCBpcyB0cmlnZ2VyZWQuXHJcbiAgICogV2hlbiBzZXR0aW5nIHRoZSBgY2xhc3NOYW1lRmlsdGVyYCB2YWx1ZSwgYW5pbWF0aW9ucyB3aWxsIG9ubHkgYmUgcGVyZm9ybWVkIG9uIGVsZW1lbnRzXHJcbiAgICogdGhhdCBzdWNjZXNzZnVsbHkgbWF0Y2ggdGhlIGZpbHRlciBleHByZXNzaW9uLiBUaGlzIGluIHR1cm4gY2FuIGJvb3N0IHBlcmZvcm1hbmNlXHJcbiAgICogZm9yIGxvdy1wb3dlcmVkIGRldmljZXMgYXMgd2VsbCBhcyBhcHBsaWNhdGlvbnMgY29udGFpbmluZyBhIGxvdCBvZiBzdHJ1Y3R1cmFsIG9wZXJhdGlvbnMuXHJcbiAgICogQHBhcmFtIHtSZWdFeHA9fSBleHByZXNzaW9uIFRoZSBjbGFzc05hbWUgZXhwcmVzc2lvbiB3aGljaCB3aWxsIGJlIGNoZWNrZWQgYWdhaW5zdCBhbGwgYW5pbWF0aW9uc1xyXG4gICAqIEByZXR1cm4ge1JlZ0V4cH0gVGhlIGN1cnJlbnQgQ1NTIGNsYXNzTmFtZSBleHByZXNzaW9uIHZhbHVlLiBJZiBudWxsIHRoZW4gdGhlcmUgaXMgbm8gZXhwcmVzc2lvbiB2YWx1ZVxyXG4gICAqL1xyXG4gIHRoaXMuY2xhc3NOYW1lRmlsdGVyID0gZnVuY3Rpb24oZXhwcmVzc2lvbikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgdGhpcy4kJGNsYXNzTmFtZUZpbHRlciA9IChleHByZXNzaW9uIGluc3RhbmNlb2YgUmVnRXhwKSA/IGV4cHJlc3Npb24gOiBudWxsO1xyXG4gICAgICBpZiAodGhpcy4kJGNsYXNzTmFtZUZpbHRlcikge1xyXG4gICAgICAgIHZhciByZXNlcnZlZFJlZ2V4ID0gbmV3IFJlZ0V4cChcIihcXFxccyt8XFxcXC8pXCIgKyBOR19BTklNQVRFX0NMQVNTTkFNRSArIFwiKFxcXFxzK3xcXFxcLylcIik7XHJcbiAgICAgICAgaWYgKHJlc2VydmVkUmVnZXgudGVzdCh0aGlzLiQkY2xhc3NOYW1lRmlsdGVyLnRvU3RyaW5nKCkpKSB7XHJcbiAgICAgICAgICB0aHJvdyAkYW5pbWF0ZU1pbkVycignbm9uZ2NscycsJyRhbmltYXRlUHJvdmlkZXIuY2xhc3NOYW1lRmlsdGVyKHJlZ2V4KSBwcm9oaWJpdHMgYWNjZXB0aW5nIGEgcmVnZXggdmFsdWUgd2hpY2ggbWF0Y2hlcy9jb250YWlucyB0aGUgXCJ7MH1cIiBDU1MgY2xhc3MuJywgTkdfQU5JTUFURV9DTEFTU05BTUUpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuJGdldCA9IFsnJCRhbmltYXRlUXVldWUnLCBmdW5jdGlvbigkJGFuaW1hdGVRdWV1ZSkge1xyXG4gICAgZnVuY3Rpb24gZG9tSW5zZXJ0KGVsZW1lbnQsIHBhcmVudEVsZW1lbnQsIGFmdGVyRWxlbWVudCkge1xyXG4gICAgICAvLyBpZiBmb3Igc29tZSByZWFzb24gdGhlIHByZXZpb3VzIGVsZW1lbnQgd2FzIHJlbW92ZWRcclxuICAgICAgLy8gZnJvbSB0aGUgZG9tIHNvbWV0aW1lIGJlZm9yZSB0aGlzIGNvZGUgcnVucyB0aGVuIGxldCdzXHJcbiAgICAgIC8vIGp1c3Qgc3RpY2sgdG8gdXNpbmcgdGhlIHBhcmVudCBlbGVtZW50IGFzIHRoZSBhbmNob3JcclxuICAgICAgaWYgKGFmdGVyRWxlbWVudCkge1xyXG4gICAgICAgIHZhciBhZnRlck5vZGUgPSBleHRyYWN0RWxlbWVudE5vZGUoYWZ0ZXJFbGVtZW50KTtcclxuICAgICAgICBpZiAoYWZ0ZXJOb2RlICYmICFhZnRlck5vZGUucGFyZW50Tm9kZSAmJiAhYWZ0ZXJOb2RlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcclxuICAgICAgICAgIGFmdGVyRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGFmdGVyRWxlbWVudCA/IGFmdGVyRWxlbWVudC5hZnRlcihlbGVtZW50KSA6IHBhcmVudEVsZW1lbnQucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgKiBAbmFtZSAkYW5pbWF0ZVxyXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSAkYW5pbWF0ZSBzZXJ2aWNlIGV4cG9zZXMgYSBzZXJpZXMgb2YgRE9NIHV0aWxpdHkgbWV0aG9kcyB0aGF0IHByb3ZpZGUgc3VwcG9ydFxyXG4gICAgICogZm9yIGFuaW1hdGlvbiBob29rcy4gVGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgdGhlIGFwcGxpY2F0aW9uIG9mIERPTSBvcGVyYXRpb25zLCBob3dldmVyLFxyXG4gICAgICogd2hlbiBhbiBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgKGFuZCBhbmltYXRpb25zIGFyZSBlbmFibGVkKSwgJGFuaW1hdGUgd2lsbCBkbyB0aGUgaGVhdnkgbGlmdGluZ1xyXG4gICAgICogdG8gZW5zdXJlIHRoYXQgYW5pbWF0aW9uIHJ1bnMgd2l0aCB0aGUgdHJpZ2dlcmVkIERPTSBvcGVyYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQnkgZGVmYXVsdCAkYW5pbWF0ZSBkb2Vzbid0IHRyaWdnZXIgYW55IGFuaW1hdGlvbnMuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGlzbid0XHJcbiAgICAgKiBpbmNsdWRlZCBhbmQgb25seSB3aGVuIGl0IGlzIGFjdGl2ZSB0aGVuIHRoZSBhbmltYXRpb24gaG9va3MgdGhhdCBgJGFuaW1hdGVgIHRyaWdnZXJzIHdpbGwgYmVcclxuICAgICAqIGZ1bmN0aW9uYWwuIE9uY2UgYWN0aXZlIHRoZW4gYWxsIHN0cnVjdHVyYWwgYG5nLWAgZGlyZWN0aXZlcyB3aWxsIHRyaWdnZXIgYW5pbWF0aW9ucyBhcyB0aGV5IHBlcmZvcm1cclxuICAgICAqIHRoZWlyIERPTS1yZWxhdGVkIG9wZXJhdGlvbnMgKGVudGVyLCBsZWF2ZSBhbmQgbW92ZSkuIE90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgbmdDbGFzc2AsXHJcbiAgICAgKiBgbmdTaG93YCwgYG5nSGlkZWAgYW5kIGBuZ01lc3NhZ2VzYCBhbHNvIHByb3ZpZGUgc3VwcG9ydCBmb3IgYW5pbWF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoZWAkYW5pbWF0ZWAgc2VydmljZSBpcyBhbHdheXMgdXNlZCB3aGVuIGV4ZWN1dGluZyBET00tcmVsYXRlZCBwcm9jZWR1cmVzIHdpdGhpbiBkaXJlY3RpdmVzLlxyXG4gICAgICpcclxuICAgICAqIFRvIGxlYXJuIG1vcmUgYWJvdXQgZW5hYmxpbmcgYW5pbWF0aW9uIHN1cHBvcnQsIGNsaWNrIGhlcmUgdG8gdmlzaXQgdGhlXHJcbiAgICAgKiB7QGxpbmsgbmdBbmltYXRlIG5nQW5pbWF0ZSBtb2R1bGUgcGFnZX0uXHJcbiAgICAgKi9cclxuICAgIHJldHVybiB7XHJcbiAgICAgIC8vIHdlIGRvbid0IGNhbGwgaXQgZGlyZWN0bHkgc2luY2Ugbm9uLWV4aXN0YW50IGFyZ3VtZW50cyBtYXlcclxuICAgICAgLy8gYmUgaW50ZXJwcmV0ZWQgYXMgbnVsbCB3aXRoaW4gdGhlIHN1YiBlbmFibGVkIGZ1bmN0aW9uXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICpcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNvblxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gU2V0cyB1cCBhbiBldmVudCBsaXN0ZW5lciB0byBmaXJlIHdoZW5ldmVyIHRoZSBhbmltYXRpb24gZXZlbnQgKGVudGVyLCBsZWF2ZSwgbW92ZSwgZXRjLi4uKVxyXG4gICAgICAgKiAgICBoYXMgZmlyZWQgb24gdGhlIGdpdmVuIGVsZW1lbnQgb3IgYW1vbmcgYW55IG9mIGl0cyBjaGlsZHJlbi4gT25jZSB0aGUgbGlzdGVuZXIgaXMgZmlyZWQsIHRoZSBwcm92aWRlZCBjYWxsYmFja1xyXG4gICAgICAgKiAgICBpcyBmaXJlZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGFyYW1zOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgKiAkYW5pbWF0ZS5vbignZW50ZXInLCBjb250YWluZXIsXHJcbiAgICAgICAqICAgIGZ1bmN0aW9uIGNhbGxiYWNrKGVsZW1lbnQsIHBoYXNlKSB7XHJcbiAgICAgICAqICAgICAgLy8gY29vbCB3ZSBkZXRlY3RlZCBhbiBlbnRlciBhbmltYXRpb24gd2l0aGluIHRoZSBjb250YWluZXJcclxuICAgICAgICogICAgfVxyXG4gICAgICAgKiApO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IHRoZSBhbmltYXRpb24gZXZlbnQgdGhhdCB3aWxsIGJlIGNhcHR1cmVkIChlLmcuIGVudGVyLCBsZWF2ZSwgbW92ZSwgYWRkQ2xhc3MsIHJlbW92ZUNsYXNzLCBldGMuLi4pXHJcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY29udGFpbmVyIHRoZSBjb250YWluZXIgZWxlbWVudCB0aGF0IHdpbGwgY2FwdHVyZSBlYWNoIG9mIHRoZSBhbmltYXRpb24gZXZlbnRzIHRoYXQgYXJlIGZpcmVkIG9uIGl0c2VsZlxyXG4gICAgICAgKiAgICAgYXMgd2VsbCBhcyBhbW9uZyBpdHMgY2hpbGRyZW5cclxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIHRoZSBsaXN0ZW5lciBpcyB0cmlnZ2VyZWRcclxuICAgICAgICpcclxuICAgICAgICogVGhlIGFyZ3VtZW50cyBwcmVzZW50IGluIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBhcmU6XHJcbiAgICAgICAqICogYGVsZW1lbnRgIC0gVGhlIGNhcHR1cmVkIERPTSBlbGVtZW50IHRoYXQgdGhlIGFuaW1hdGlvbiB3YXMgZmlyZWQgb24uXHJcbiAgICAgICAqICogYHBoYXNlYCAtIFRoZSBwaGFzZSBvZiB0aGUgYW5pbWF0aW9uLiBUaGUgdHdvIHBvc3NpYmxlIHBoYXNlcyBhcmUgKipzdGFydCoqICh3aGVuIHRoZSBhbmltYXRpb24gc3RhcnRzKSBhbmQgKipjbG9zZSoqICh3aGVuIGl0IGVuZHMpLlxyXG4gICAgICAgKi9cclxuICAgICAgb246ICQkYW5pbWF0ZVF1ZXVlLm9uLFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjb2ZmXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBEZXJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBiYXNlZCBvbiB0aGUgZXZlbnQgd2hpY2ggaGFzIGJlZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm92aWRlZCBlbGVtZW50LiBUaGlzIG1ldGhvZFxyXG4gICAgICAgKiBjYW4gYmUgdXNlZCBpbiB0aHJlZSBkaWZmZXJlbnQgd2F5cyBkZXBlbmRpbmcgb24gdGhlIGFyZ3VtZW50czpcclxuICAgICAgICpcclxuICAgICAgICogYGBganNcclxuICAgICAgICogLy8gcmVtb3ZlIGFsbCB0aGUgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVycyBsaXN0ZW5pbmcgZm9yIGBlbnRlcmBcclxuICAgICAgICogJGFuaW1hdGUub2ZmKCdlbnRlcicpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyByZW1vdmUgbGlzdGVuZXJzIGZvciBhbGwgYW5pbWF0aW9uIGV2ZW50cyBmcm9tIHRoZSBjb250YWluZXIgZWxlbWVudFxyXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoY29udGFpbmVyKTtcclxuICAgICAgICpcclxuICAgICAgICogLy8gcmVtb3ZlIGFsbCB0aGUgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVycyBsaXN0ZW5pbmcgZm9yIGBlbnRlcmAgb24gdGhlIGdpdmVuIGVsZW1lbnQgYW5kIGl0cyBjaGlsZHJlblxyXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJywgY29udGFpbmVyKTtcclxuICAgICAgICpcclxuICAgICAgICogLy8gcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvbiBwcm92aWRlZCBieSBgY2FsbGJhY2tgIHRoYXQgaXMgc2V0XHJcbiAgICAgICAqIC8vIHRvIGxpc3RlbiBmb3IgYGVudGVyYCBvbiB0aGUgZ2l2ZW4gYGNvbnRhaW5lcmAgYXMgd2VsbCBhcyBpdHMgY2hpbGRyZW5cclxuICAgICAgICogJGFuaW1hdGUub2ZmKCdlbnRlcicsIGNvbnRhaW5lciwgY2FsbGJhY2spO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8RE9NRWxlbWVudH0gZXZlbnR8Y29udGFpbmVyIHRoZSBhbmltYXRpb24gZXZlbnQgKGUuZy4gZW50ZXIsIGxlYXZlLCBtb3ZlLFxyXG4gICAgICAgKiBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MsIGV0Yy4uLiksIG9yIHRoZSBjb250YWluZXIgZWxlbWVudC4gSWYgaXQgaXMgdGhlIGVsZW1lbnQsIGFsbCBvdGhlclxyXG4gICAgICAgKiBhcmd1bWVudHMgYXJlIGlnbm9yZWQuXHJcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudD19IGNvbnRhaW5lciB0aGUgY29udGFpbmVyIGVsZW1lbnQgdGhlIGV2ZW50IGxpc3RlbmVyIHdhcyBwbGFjZWQgb25cclxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGNhbGxiYWNrIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdhcyByZWdpc3RlcmVkIGFzIHRoZSBsaXN0ZW5lclxyXG4gICAgICAgKi9cclxuICAgICAgb2ZmOiAkJGFuaW1hdGVRdWV1ZS5vZmYsXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNwaW5cclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICogQGRlc2NyaXB0aW9uIEFzc29jaWF0ZXMgdGhlIHByb3ZpZGVkIGVsZW1lbnQgd2l0aCBhIGhvc3QgcGFyZW50IGVsZW1lbnQgdG8gYWxsb3cgdGhlIGVsZW1lbnQgdG8gYmUgYW5pbWF0ZWQgZXZlbiBpZiBpdCBleGlzdHNcclxuICAgICAgICogICAgb3V0c2lkZSBvZiB0aGUgRE9NIHN0cnVjdHVyZSBvZiB0aGUgQW5ndWxhciBhcHBsaWNhdGlvbi4gQnkgZG9pbmcgc28sIGFueSBhbmltYXRpb24gdHJpZ2dlcmVkIHZpYSBgJGFuaW1hdGVgIGNhbiBiZSBpc3N1ZWQgb24gdGhlXHJcbiAgICAgICAqICAgIGVsZW1lbnQgZGVzcGl0ZSBiZWluZyBvdXRzaWRlIHRoZSByZWFsbSBvZiB0aGUgYXBwbGljYXRpb24gb3Igd2l0aGluIGFub3RoZXIgYXBwbGljYXRpb24uIFNheSBmb3IgZXhhbXBsZSBpZiB0aGUgYXBwbGljYXRpb25cclxuICAgICAgICogICAgd2FzIGJvb3RzdHJhcHBlZCBvbiBhbiBlbGVtZW50IHRoYXQgaXMgc29tZXdoZXJlIGluc2lkZSBvZiB0aGUgYDxib2R5PmAgdGFnLCBidXQgd2Ugd2FudGVkIHRvIGFsbG93IGZvciBhbiBlbGVtZW50IHRvIGJlIHNpdHVhdGVkXHJcbiAgICAgICAqICAgIGFzIGEgZGlyZWN0IGNoaWxkIG9mIGBkb2N1bWVudC5ib2R5YCwgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSBwaW5uaW5nIHRoZSBlbGVtZW50IHZpYSBgJGFuaW1hdGUucGluKGVsZW1lbnQpYC4gS2VlcCBpbiBtaW5kXHJcbiAgICAgICAqICAgIHRoYXQgY2FsbGluZyBgJGFuaW1hdGUucGluKGVsZW1lbnQsIHBhcmVudEVsZW1lbnQpYCB3aWxsIG5vdCBhY3R1YWxseSBpbnNlcnQgaW50byB0aGUgRE9NIGFueXdoZXJlOyBpdCB3aWxsIGp1c3QgY3JlYXRlIHRoZSBhc3NvY2lhdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogICAgTm90ZSB0aGF0IHRoaXMgZmVhdHVyZSBpcyBvbmx5IGFjdGl2ZSB3aGVuIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgaXMgdXNlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBleHRlcm5hbCBlbGVtZW50IHRoYXQgd2lsbCBiZSBwaW5uZWRcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnRFbGVtZW50IHRoZSBob3N0IHBhcmVudCBlbGVtZW50IHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGV4dGVybmFsIGVsZW1lbnRcclxuICAgICAgICovXHJcbiAgICAgIHBpbjogJCRhbmltYXRlUXVldWUucGluLFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjZW5hYmxlZFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVXNlZCB0byBnZXQgYW5kIHNldCB3aGV0aGVyIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgb3Igbm90IG9uIHRoZSBlbnRpcmUgYXBwbGljYXRpb24gb3Igb24gYW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuLiBUaGlzXHJcbiAgICAgICAqIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgaW4gZm91ciB3YXlzOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgKiAvLyByZXR1cm5zIHRydWUgb3IgZmFsc2VcclxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZCgpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyBjaGFuZ2VzIHRoZSBlbmFibGVkIHN0YXRlIGZvciBhbGwgYW5pbWF0aW9uc1xyXG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKGZhbHNlKTtcclxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZCh0cnVlKTtcclxuICAgICAgICpcclxuICAgICAgICogLy8gcmV0dXJucyB0cnVlIG9yIGZhbHNlIGlmIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgZm9yIGFuIGVsZW1lbnRcclxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChlbGVtZW50KTtcclxuICAgICAgICpcclxuICAgICAgICogLy8gY2hhbmdlcyB0aGUgZW5hYmxlZCBzdGF0ZSBmb3IgYW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuXHJcbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZWxlbWVudCwgdHJ1ZSk7XHJcbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZWxlbWVudCwgZmFsc2UpO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gZWxlbWVudCB0aGUgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCBmb3IgY2hlY2tpbmcvc2V0dGluZyB0aGUgZW5hYmxlZCBzdGF0ZVxyXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBlbmFibGVkIHdoZXRoZXIgb3Igbm90IHRoZSBhbmltYXRpb25zIHdpbGwgYmUgZW5hYmxlZCBmb3IgdGhlIGVsZW1lbnRcclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZFxyXG4gICAgICAgKi9cclxuICAgICAgZW5hYmxlZDogJCRhbmltYXRlUXVldWUuZW5hYmxlZCxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2NhbmNlbFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQ2FuY2VscyB0aGUgcHJvdmlkZWQgYW5pbWF0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge1Byb21pc2V9IGFuaW1hdGlvblByb21pc2UgVGhlIGFuaW1hdGlvbiBwcm9taXNlIHRoYXQgaXMgcmV0dXJuZWQgd2hlbiBhbiBhbmltYXRpb24gaXMgc3RhcnRlZC5cclxuICAgICAgICovXHJcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24ocnVubmVyKSB7XHJcbiAgICAgICAgcnVubmVyLmVuZCAmJiBydW5uZXIuZW5kKCk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICpcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNlbnRlclxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gSW5zZXJ0cyB0aGUgZWxlbWVudCBpbnRvIHRoZSBET00gZWl0aGVyIGFmdGVyIHRoZSBgYWZ0ZXJgIGVsZW1lbnQgKGlmIHByb3ZpZGVkKSBvclxyXG4gICAgICAgKiAgIGFzIHRoZSBmaXJzdCBjaGlsZCB3aXRoaW4gdGhlIGBwYXJlbnRgIGVsZW1lbnQgYW5kIHRoZW4gdHJpZ2dlcnMgYW4gYW5pbWF0aW9uLlxyXG4gICAgICAgKiAgIEEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgZHVyaW5nIHRoZSBuZXh0IGRpZ2VzdCBvbmNlIHRoZSBhbmltYXRpb25cclxuICAgICAgICogICBoYXMgY29tcGxldGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSBpbnNlcnRlZCBpbnRvIHRoZSBET01cclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50IGFzXHJcbiAgICAgICAqICAgYSBjaGlsZCAoc28gbG9uZyBhcyB0aGUgYWZ0ZXIgZWxlbWVudCBpcyBub3QgcHJlc2VudClcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gYWZ0ZXIgdGhlIHNpYmxpbmcgZWxlbWVudCBhZnRlciB3aGljaCB0aGUgZWxlbWVudCB3aWxsIGJlIGFwcGVuZGVkXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxyXG4gICAgICAgKi9cclxuICAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQgJiYganFMaXRlKHBhcmVudCk7XHJcbiAgICAgICAgYWZ0ZXIgPSBhZnRlciAmJiBqcUxpdGUoYWZ0ZXIpO1xyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudCB8fCBhZnRlci5wYXJlbnQoKTtcclxuICAgICAgICBkb21JbnNlcnQoZWxlbWVudCwgcGFyZW50LCBhZnRlcik7XHJcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2VudGVyJywgcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI21vdmVcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgKG1vdmVzKSB0aGUgZWxlbWVudCBpbnRvIGl0cyBuZXcgcG9zaXRpb24gaW4gdGhlIERPTSBlaXRoZXIgYWZ0ZXJcclxuICAgICAgICogICB0aGUgYGFmdGVyYCBlbGVtZW50IChpZiBwcm92aWRlZCkgb3IgYXMgdGhlIGZpcnN0IGNoaWxkIHdpdGhpbiB0aGUgYHBhcmVudGAgZWxlbWVudFxyXG4gICAgICAgKiAgIGFuZCB0aGVuIHRyaWdnZXJzIGFuIGFuaW1hdGlvbi4gQSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZFxyXG4gICAgICAgKiAgIGR1cmluZyB0aGUgbmV4dCBkaWdlc3Qgb25jZSB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGJlIG1vdmVkIGludG8gdGhlIG5ldyBET00gcG9zaXRpb25cclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50IGFzXHJcbiAgICAgICAqICAgYSBjaGlsZCAoc28gbG9uZyBhcyB0aGUgYWZ0ZXIgZWxlbWVudCBpcyBub3QgcHJlc2VudClcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gYWZ0ZXIgdGhlIHNpYmxpbmcgZWxlbWVudCBhZnRlciB3aGljaCB0aGUgZWxlbWVudCB3aWxsIGJlIGFwcGVuZGVkXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxyXG4gICAgICAgKi9cclxuICAgICAgbW92ZTogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBhZnRlciwgb3B0aW9ucykge1xyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudCAmJiBqcUxpdGUocGFyZW50KTtcclxuICAgICAgICBhZnRlciA9IGFmdGVyICYmIGpxTGl0ZShhZnRlcik7XHJcbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IGFmdGVyLnBhcmVudCgpO1xyXG4gICAgICAgIGRvbUluc2VydChlbGVtZW50LCBwYXJlbnQsIGFmdGVyKTtcclxuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnbW92ZScsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNsZWF2ZVxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVHJpZ2dlcnMgYW4gYW5pbWF0aW9uIGFuZCB0aGVuIHJlbW92ZXMgdGhlIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxyXG4gICAgICAgKiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBkdXJpbmcgdGhlIG5leHRcclxuICAgICAgICogZGlnZXN0IG9uY2UgdGhlIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxyXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcclxuICAgICAgICovXHJcbiAgICAgIGxlYXZlOiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2xlYXZlJywgcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNhZGRDbGFzc1xyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVHJpZ2dlcnMgYW4gYWRkQ2xhc3MgYW5pbWF0aW9uIHN1cnJvdW5kaW5nIHRoZSBhZGRpdGlvbiBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxyXG4gICAgICAgKiAgIGV4ZWN1dGlvbiwgdGhlIGFkZENsYXNzIG9wZXJhdGlvbiB3aWxsIG9ubHkgYmUgaGFuZGxlZCBhZnRlciB0aGUgbmV4dCBkaWdlc3QgYW5kIGl0IHdpbGwgbm90IHRyaWdnZXIgYW5cclxuICAgICAgICogICBhbmltYXRpb24gaWYgZWxlbWVudCBhbHJlYWR5IGNvbnRhaW5zIHRoZSBDU1MgY2xhc3Mgb3IgaWYgdGhlIGNsYXNzIGlzIHJlbW92ZWQgYXQgYSBsYXRlciBzdGVwLlxyXG4gICAgICAgKiAgIE5vdGUgdGhhdCBjbGFzcy1iYXNlZCBhbmltYXRpb25zIGFyZSB0cmVhdGVkIGRpZmZlcmVudGx5IGNvbXBhcmVkIHRvIHN0cnVjdHVyYWwgYW5pbWF0aW9uc1xyXG4gICAgICAgKiAgIChsaWtlIGVudGVyLCBtb3ZlIGFuZCBsZWF2ZSkgc2luY2UgdGhlIENTUyBjbGFzc2VzIG1heSBiZSBhZGRlZC9yZW1vdmVkIGF0IGRpZmZlcmVudCBwb2ludHNcclxuICAgICAgICogICBkZXBlbmRpbmcgaWYgQ1NTIG9yIEphdmFTY3JpcHQgYW5pbWF0aW9ucyBhcmUgdXNlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHRoZSBDU1MgY2xhc3NlcyB3aWxsIGJlIGFwcGxpZWQgdG9cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgYWRkZWQgKG11bHRpcGxlIGNsYXNzZXMgYXJlIHNlcGFyYXRlZCB2aWEgc3BhY2VzKVxyXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcclxuICAgICAgICovXHJcbiAgICAgIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5hZGRjbGFzcywgY2xhc3NOYW1lKTtcclxuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnYWRkQ2xhc3MnLCBvcHRpb25zKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3JlbW92ZUNsYXNzXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VycyBhIHJlbW92ZUNsYXNzIGFuaW1hdGlvbiBzdXJyb3VuZGluZyB0aGUgcmVtb3ZhbCBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxyXG4gICAgICAgKiAgIGV4ZWN1dGlvbiwgdGhlIHJlbW92ZUNsYXNzIG9wZXJhdGlvbiB3aWxsIG9ubHkgYmUgaGFuZGxlZCBhZnRlciB0aGUgbmV4dCBkaWdlc3QgYW5kIGl0IHdpbGwgbm90IHRyaWdnZXIgYW5cclxuICAgICAgICogICBhbmltYXRpb24gaWYgZWxlbWVudCBkb2VzIG5vdCBjb250YWluIHRoZSBDU1MgY2xhc3Mgb3IgaWYgdGhlIGNsYXNzIGlzIGFkZGVkIGF0IGEgbGF0ZXIgc3RlcC5cclxuICAgICAgICogICBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcclxuICAgICAgICogICAobGlrZSBlbnRlciwgbW92ZSBhbmQgbGVhdmUpIHNpbmNlIHRoZSBDU1MgY2xhc3NlcyBtYXkgYmUgYWRkZWQvcmVtb3ZlZCBhdCBkaWZmZXJlbnQgcG9pbnRzXHJcbiAgICAgICAqICAgZGVwZW5kaW5nIGlmIENTUyBvciBKYXZhU2NyaXB0IGFuaW1hdGlvbnMgYXJlIHVzZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB0aGUgQ1NTIGNsYXNzZXMgd2lsbCBiZSBhcHBsaWVkIHRvXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzcyhlcykgdGhhdCB3aWxsIGJlIHJlbW92ZWQgKG11bHRpcGxlIGNsYXNzZXMgYXJlIHNlcGFyYXRlZCB2aWEgc3BhY2VzKVxyXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcclxuICAgICAgICovXHJcbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5yZW1vdmVDbGFzcywgY2xhc3NOYW1lKTtcclxuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAncmVtb3ZlQ2xhc3MnLCBvcHRpb25zKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3NldENsYXNzXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBQZXJmb3JtcyBib3RoIHRoZSBhZGRpdGlvbiBhbmQgcmVtb3ZhbCBvZiBhIENTUyBjbGFzc2VzIG9uIGFuIGVsZW1lbnQgYW5kIChkdXJpbmcgdGhlIHByb2Nlc3MpXHJcbiAgICAgICAqICAgIHRyaWdnZXJzIGFuIGFuaW1hdGlvbiBzdXJyb3VuZGluZyB0aGUgY2xhc3MgYWRkaXRpb24vcmVtb3ZhbC4gTXVjaCBsaWtlIGAkYW5pbWF0ZS5hZGRDbGFzc2AgYW5kXHJcbiAgICAgICAqICAgIGAkYW5pbWF0ZS5yZW1vdmVDbGFzc2AsIGBzZXRDbGFzc2Agd2lsbCBvbmx5IGV2YWx1YXRlIHRoZSBjbGFzc2VzIGJlaW5nIGFkZGVkL3JlbW92ZWQgb25jZSBhIGRpZ2VzdCBoYXNcclxuICAgICAgICogICAgcGFzc2VkLiBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcclxuICAgICAgICogICAgKGxpa2UgZW50ZXIsIG1vdmUgYW5kIGxlYXZlKSBzaW5jZSB0aGUgQ1NTIGNsYXNzZXMgbWF5IGJlIGFkZGVkL3JlbW92ZWQgYXQgZGlmZmVyZW50IHBvaW50c1xyXG4gICAgICAgKiAgICBkZXBlbmRpbmcgaWYgQ1NTIG9yIEphdmFTY3JpcHQgYW5pbWF0aW9ucyBhcmUgdXNlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHRoZSBDU1MgY2xhc3NlcyB3aWxsIGJlIGFwcGxpZWQgdG9cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGFkZCB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgYWRkZWQgKG11bHRpcGxlIGNsYXNzZXMgYXJlIHNlcGFyYXRlZCB2aWEgc3BhY2VzKVxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVtb3ZlIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSByZW1vdmVkIChtdWx0aXBsZSBjbGFzc2VzIGFyZSBzZXBhcmF0ZWQgdmlhIHNwYWNlcylcclxuICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucy9zdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXHJcbiAgICAgICAqL1xyXG4gICAgICBzZXRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgYWRkLCByZW1vdmUsIG9wdGlvbnMpIHtcclxuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5hZGRDbGFzcywgYWRkKTtcclxuICAgICAgICBvcHRpb25zLnJlbW92ZUNsYXNzID0gbWVyZ2VDbGFzc2VzKG9wdGlvbnMucmVtb3ZlQ2xhc3MsIHJlbW92ZSk7XHJcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3NldENsYXNzJywgb3B0aW9ucyk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNhbmltYXRlXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBQZXJmb3JtcyBhbiBpbmxpbmUgYW5pbWF0aW9uIG9uIHRoZSBlbGVtZW50IHdoaWNoIGFwcGxpZXMgdGhlIHByb3ZpZGVkIHRvIGFuZCBmcm9tIENTUyBzdHlsZXMgdG8gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAqIElmIGFueSBkZXRlY3RlZCBDU1MgdHJhbnNpdGlvbiwga2V5ZnJhbWUgb3IgSmF2YVNjcmlwdCBtYXRjaGVzIHRoZSBwcm92aWRlZCBjbGFzc05hbWUgdmFsdWUsIHRoZW4gdGhlIGFuaW1hdGlvbiB3aWxsIHRha2VcclxuICAgICAgICogb24gdGhlIHByb3ZpZGVkIHN0eWxlcy4gRm9yIGV4YW1wbGUsIGlmIGEgdHJhbnNpdGlvbiBhbmltYXRpb24gaXMgc2V0IGZvciB0aGUgZ2l2ZW4gY2xhc3NOYW1lbSwgdGhlbiB0aGUgcHJvdmlkZWQgYGZyb21gIGFuZFxyXG4gICAgICAgKiBgdG9gIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWQgYWxvbmdzaWRlIHRoZSBnaXZlbiB0cmFuc2l0aW9uLiBJZiB0aGUgQ1NTIHN0eWxlIHByb3ZpZGVkIGluIGBmcm9tYCBkb2VzIG5vdCBoYXZlIGEgY29ycmVzcG9uZGluZ1xyXG4gICAgICAgKiBzdHlsZSBpbiBgdG9gLCB0aGUgc3R5bGUgaW4gYGZyb21gIGlzIGFwcGxpZWQgaW1tZWRpYXRlbHksIGFuZCBubyBhbmltYXRpb24gaXMgcnVuLlxyXG4gICAgICAgKiBJZiBhIEphdmFTY3JpcHQgYW5pbWF0aW9uIGlzIGRldGVjdGVkIHRoZW4gdGhlIHByb3ZpZGVkIHN0eWxlcyB3aWxsIGJlIGdpdmVuIGluIGFzIGZ1bmN0aW9uIHBhcmFtZXRlcnMgaW50byB0aGUgYGFuaW1hdGVgXHJcbiAgICAgICAqIG1ldGhvZCAob3IgYXMgcGFydCBvZiB0aGUgYG9wdGlvbnNgIHBhcmFtZXRlcik6XHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAqIG5nTW9kdWxlLmFuaW1hdGlvbignLm15LWlubGluZS1hbmltYXRpb24nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICogICByZXR1cm4ge1xyXG4gICAgICAgKiAgICAgYW5pbWF0ZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGZyb20sIHRvLCBkb25lLCBvcHRpb25zKSB7XHJcbiAgICAgICAqICAgICAgIC8vYW5pbWF0aW9uXHJcbiAgICAgICAqICAgICAgIGRvbmUoKTtcclxuICAgICAgICogICAgIH1cclxuICAgICAgICogICB9XHJcbiAgICAgICAqIH0pO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHRoZSBDU1Mgc3R5bGVzIHdpbGwgYmUgYXBwbGllZCB0b1xyXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gZnJvbSB0aGUgZnJvbSAoc3RhcnRpbmcpIENTUyBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgYW5kIGFjcm9zcyB0aGUgYW5pbWF0aW9uLlxyXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gdG8gdGhlIHRvIChkZXN0aW5hdGlvbikgQ1NTIHN0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCBhbmQgYWNyb3NzIHRoZSBhbmltYXRpb24uXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gY2xhc3NOYW1lIGFuIG9wdGlvbmFsIENTUyBjbGFzcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uIElmXHJcbiAgICAgICAqICAgIHRoaXMgdmFsdWUgaXMgbGVmdCBhcyBlbXB0eSB0aGVuIGEgQ1NTIGNsYXNzIG9mIGBuZy1pbmxpbmUtYW5pbWF0ZWAgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxyXG4gICAgICAgKiAgICAoTm90ZSB0aGF0IGlmIG5vIGFuaW1hdGlvbiBpcyBkZXRlY3RlZCB0aGVuIHRoaXMgdmFsdWUgd2lsbCBub3QgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC4pXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxyXG4gICAgICAgKi9cclxuICAgICAgYW5pbWF0ZTogZnVuY3Rpb24oZWxlbWVudCwgZnJvbSwgdG8sIGNsYXNzTmFtZSwgb3B0aW9ucykge1xyXG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgb3B0aW9ucy5mcm9tID0gb3B0aW9ucy5mcm9tID8gZXh0ZW5kKG9wdGlvbnMuZnJvbSwgZnJvbSkgOiBmcm9tO1xyXG4gICAgICAgIG9wdGlvbnMudG8gICA9IG9wdGlvbnMudG8gICA/IGV4dGVuZChvcHRpb25zLnRvLCB0bykgICAgIDogdG87XHJcblxyXG4gICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZSB8fCAnbmctaW5saW5lLWFuaW1hdGUnO1xyXG4gICAgICAgIG9wdGlvbnMudGVtcENsYXNzZXMgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy50ZW1wQ2xhc3NlcywgY2xhc3NOYW1lKTtcclxuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnYW5pbWF0ZScsIG9wdGlvbnMpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG59XTtcclxuXHJcbnZhciAkJEFuaW1hdGVBc3luY1J1bkZhY3RvcnlQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCBmdW5jdGlvbigkJHJBRikge1xyXG4gICAgdmFyIHdhaXRRdWV1ZSA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIHdhaXRGb3JUaWNrKGZuKSB7XHJcbiAgICAgIHdhaXRRdWV1ZS5wdXNoKGZuKTtcclxuICAgICAgaWYgKHdhaXRRdWV1ZS5sZW5ndGggPiAxKSByZXR1cm47XHJcbiAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2FpdFF1ZXVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB3YWl0UXVldWVbaV0oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2FpdFF1ZXVlID0gW107XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHBhc3NlZCA9IGZhbHNlO1xyXG4gICAgICB3YWl0Rm9yVGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICBwYXNzZWQgPSB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgcGFzc2VkID8gY2FsbGJhY2soKSA6IHdhaXRGb3JUaWNrKGNhbGxiYWNrKTtcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfV07XHJcbn07XHJcblxyXG52YXIgJCRBbmltYXRlUnVubmVyRmFjdG9yeVByb3ZpZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckcScsICckc25pZmZlcicsICckJGFuaW1hdGVBc3luY1J1bicsICckZG9jdW1lbnQnLCAnJHRpbWVvdXQnLFxyXG4gICAgICAgZnVuY3Rpb24oJHEsICAgJHNuaWZmZXIsICAgJCRhbmltYXRlQXN5bmNSdW4sICAgJGRvY3VtZW50LCAgICR0aW1lb3V0KSB7XHJcblxyXG4gICAgdmFyIElOSVRJQUxfU1RBVEUgPSAwO1xyXG4gICAgdmFyIERPTkVfUEVORElOR19TVEFURSA9IDE7XHJcbiAgICB2YXIgRE9ORV9DT01QTEVURV9TVEFURSA9IDI7XHJcblxyXG4gICAgQW5pbWF0ZVJ1bm5lci5jaGFpbiA9IGZ1bmN0aW9uKGNoYWluLCBjYWxsYmFjaykge1xyXG4gICAgICB2YXIgaW5kZXggPSAwO1xyXG5cclxuICAgICAgbmV4dCgpO1xyXG4gICAgICBmdW5jdGlvbiBuZXh0KCkge1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gY2hhaW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNoYWluW2luZGV4XShmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgaWYgKHJlc3BvbnNlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQW5pbWF0ZVJ1bm5lci5hbGwgPSBmdW5jdGlvbihydW5uZXJzLCBjYWxsYmFjaykge1xyXG4gICAgICB2YXIgY291bnQgPSAwO1xyXG4gICAgICB2YXIgc3RhdHVzID0gdHJ1ZTtcclxuICAgICAgZm9yRWFjaChydW5uZXJzLCBmdW5jdGlvbihydW5uZXIpIHtcclxuICAgICAgICBydW5uZXIuZG9uZShvblByb2dyZXNzKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmdW5jdGlvbiBvblByb2dyZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgc3RhdHVzID0gc3RhdHVzICYmIHJlc3BvbnNlO1xyXG4gICAgICAgIGlmICgrK2NvdW50ID09PSBydW5uZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgY2FsbGJhY2soc3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gQW5pbWF0ZVJ1bm5lcihob3N0KSB7XHJcbiAgICAgIHRoaXMuc2V0SG9zdChob3N0KTtcclxuXHJcbiAgICAgIHZhciByYWZUaWNrID0gJCRhbmltYXRlQXN5bmNSdW4oKTtcclxuICAgICAgdmFyIHRpbWVvdXRUaWNrID0gZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAkdGltZW91dChmbiwgMCwgZmFsc2UpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5fZG9uZUNhbGxiYWNrcyA9IFtdO1xyXG4gICAgICB0aGlzLl90aWNrID0gZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICB2YXIgZG9jID0gJGRvY3VtZW50WzBdO1xyXG5cclxuICAgICAgICAvLyB0aGUgZG9jdW1lbnQgbWF5IG5vdCBiZSByZWFkeSBvciBhdHRhY2hlZFxyXG4gICAgICAgIC8vIHRvIHRoZSBtb2R1bGUgZm9yIHNvbWUgaW50ZXJuYWwgdGVzdHNcclxuICAgICAgICBpZiAoZG9jICYmIGRvYy5oaWRkZW4pIHtcclxuICAgICAgICAgIHRpbWVvdXRUaWNrKGZuKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmFmVGljayhmbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLl9zdGF0ZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgQW5pbWF0ZVJ1bm5lci5wcm90b3R5cGUgPSB7XHJcbiAgICAgIHNldEhvc3Q6IGZ1bmN0aW9uKGhvc3QpIHtcclxuICAgICAgICB0aGlzLmhvc3QgPSBob3N0IHx8IHt9O1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZG9uZTogZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IERPTkVfQ09NUExFVEVfU1RBVEUpIHtcclxuICAgICAgICAgIGZuKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuX2RvbmVDYWxsYmFja3MucHVzaChmbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgcHJvZ3Jlc3M6IG5vb3AsXHJcblxyXG4gICAgICBnZXRQcm9taXNlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvbWlzZSkge1xyXG4gICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgdGhpcy5wcm9taXNlID0gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHNlbGYuZG9uZShmdW5jdGlvbihzdGF0dXMpIHtcclxuICAgICAgICAgICAgICBzdGF0dXMgPT09IGZhbHNlID8gcmVqZWN0KCkgOiByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB0aGVuOiBmdW5jdGlvbihyZXNvbHZlSGFuZGxlciwgcmVqZWN0SGFuZGxlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKS50aGVuKHJlc29sdmVIYW5kbGVyLCByZWplY3RIYW5kbGVyKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uKGhhbmRsZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9taXNlKClbJ2NhdGNoJ10oaGFuZGxlcik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAnZmluYWxseSc6IGZ1bmN0aW9uKGhhbmRsZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9taXNlKClbJ2ZpbmFsbHknXShoYW5kbGVyKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHBhdXNlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5ob3N0LnBhdXNlKSB7XHJcbiAgICAgICAgICB0aGlzLmhvc3QucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICByZXN1bWU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhvc3QucmVzdW1lKSB7XHJcbiAgICAgICAgICB0aGlzLmhvc3QucmVzdW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgZW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5ob3N0LmVuZCkge1xyXG4gICAgICAgICAgdGhpcy5ob3N0LmVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9yZXNvbHZlKHRydWUpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5ob3N0LmNhbmNlbCkge1xyXG4gICAgICAgICAgdGhpcy5ob3N0LmNhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9yZXNvbHZlKGZhbHNlKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgPT09IElOSVRJQUxfU1RBVEUpIHtcclxuICAgICAgICAgIHNlbGYuX3N0YXRlID0gRE9ORV9QRU5ESU5HX1NUQVRFO1xyXG4gICAgICAgICAgc2VsZi5fdGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5fcmVzb2x2ZShyZXNwb25zZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBfcmVzb2x2ZTogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAodGhpcy5fc3RhdGUgIT09IERPTkVfQ09NUExFVEVfU1RBVEUpIHtcclxuICAgICAgICAgIGZvckVhY2godGhpcy5fZG9uZUNhbGxiYWNrcywgZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAgICAgZm4ocmVzcG9uc2UpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB0aGlzLl9kb25lQ2FsbGJhY2tzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICB0aGlzLl9zdGF0ZSA9IERPTkVfQ09NUExFVEVfU1RBVEU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBBbmltYXRlUnVubmVyO1xyXG4gIH1dO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRhbmltYXRlQ3NzXHJcbiAqIEBraW5kIG9iamVjdFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBpcyB0aGUgY29yZSB2ZXJzaW9uIG9mIGAkYW5pbWF0ZUNzc2AuIEJ5IGRlZmF1bHQsIG9ubHkgd2hlbiB0aGUgYG5nQW5pbWF0ZWAgaXMgaW5jbHVkZWQsXHJcbiAqIHRoZW4gdGhlIGAkYW5pbWF0ZUNzc2Agc2VydmljZSB3aWxsIGFjdHVhbGx5IHBlcmZvcm0gYW5pbWF0aW9ucy5cclxuICpcclxuICogQ2xpY2sgaGVyZSB7QGxpbmsgbmdBbmltYXRlLiRhbmltYXRlQ3NzIHRvIHJlYWQgdGhlIGRvY3VtZW50YXRpb24gZm9yICRhbmltYXRlQ3NzfS5cclxuICovXHJcbnZhciAkQ29yZUFuaW1hdGVDc3NQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCAnJHEnLCAnJCRBbmltYXRlUnVubmVyJywgZnVuY3Rpb24oJCRyQUYsICRxLCAkJEFuaW1hdGVSdW5uZXIpIHtcclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZWxlbWVudCwgaW5pdGlhbE9wdGlvbnMpIHtcclxuICAgICAgLy8gYWxsIG9mIHRoZSBhbmltYXRpb24gZnVuY3Rpb25zIHNob3VsZCBjcmVhdGVcclxuICAgICAgLy8gYSBjb3B5IG9mIHRoZSBvcHRpb25zIGRhdGEsIGhvd2V2ZXIsIGlmIGFcclxuICAgICAgLy8gcGFyZW50IHNlcnZpY2UgaGFzIGFscmVhZHkgY3JlYXRlZCBhIGNvcHkgdGhlblxyXG4gICAgICAvLyB3ZSBzaG91bGQgc3RpY2sgdG8gdXNpbmcgdGhhdFxyXG4gICAgICB2YXIgb3B0aW9ucyA9IGluaXRpYWxPcHRpb25zIHx8IHt9O1xyXG4gICAgICBpZiAoIW9wdGlvbnMuJCRwcmVwYXJlZCkge1xyXG4gICAgICAgIG9wdGlvbnMgPSBjb3B5KG9wdGlvbnMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyB0aGVyZSBpcyBubyBwb2ludCBpbiBhcHBseWluZyB0aGUgc3R5bGVzIHNpbmNlXHJcbiAgICAgIC8vIHRoZXJlIGlzIG5vIGFuaW1hdGlvbiB0aGF0IGdvZXMgb24gYXQgYWxsIGluXHJcbiAgICAgIC8vIHRoaXMgdmVyc2lvbiBvZiAkYW5pbWF0ZUNzcy5cclxuICAgICAgaWYgKG9wdGlvbnMuY2xlYW51cFN0eWxlcykge1xyXG4gICAgICAgIG9wdGlvbnMuZnJvbSA9IG9wdGlvbnMudG8gPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAob3B0aW9ucy5mcm9tKSB7XHJcbiAgICAgICAgZWxlbWVudC5jc3Mob3B0aW9ucy5mcm9tKTtcclxuICAgICAgICBvcHRpb25zLmZyb20gPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKiBqc2hpbnQgbmV3Y2FwOiBmYWxzZSAqL1xyXG4gICAgICB2YXIgY2xvc2VkLCBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3RhcnQ6IHJ1bixcclxuICAgICAgICBlbmQ6IHJ1blxyXG4gICAgICB9O1xyXG5cclxuICAgICAgZnVuY3Rpb24gcnVuKCkge1xyXG4gICAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgYXBwbHlBbmltYXRpb25Db250ZW50cygpO1xyXG4gICAgICAgICAgaWYgKCFjbG9zZWQpIHtcclxuICAgICAgICAgICAgcnVubmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjbG9zZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBydW5uZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGFwcGx5QW5pbWF0aW9uQ29udGVudHMoKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MpIHtcclxuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3Mob3B0aW9ucy5hZGRDbGFzcyk7XHJcbiAgICAgICAgICBvcHRpb25zLmFkZENsYXNzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMucmVtb3ZlQ2xhc3MpIHtcclxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3Mob3B0aW9ucy5yZW1vdmVDbGFzcyk7XHJcbiAgICAgICAgICBvcHRpb25zLnJlbW92ZUNsYXNzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMudG8pIHtcclxuICAgICAgICAgIGVsZW1lbnQuY3NzKG9wdGlvbnMudG8pO1xyXG4gICAgICAgICAgb3B0aW9ucy50byA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG59O1xyXG5cclxuLyogZ2xvYmFsIHN0cmlwSGFzaDogdHJ1ZSAqL1xyXG5cclxuLyoqXHJcbiAqICEgVGhpcyBpcyBhIHByaXZhdGUgdW5kb2N1bWVudGVkIHNlcnZpY2UgIVxyXG4gKlxyXG4gKiBAbmFtZSAkYnJvd3NlclxyXG4gKiBAcmVxdWlyZXMgJGxvZ1xyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBvYmplY3QgaGFzIHR3byBnb2FsczpcclxuICpcclxuICogLSBoaWRlIGFsbCB0aGUgZ2xvYmFsIHN0YXRlIGluIHRoZSBicm93c2VyIGNhdXNlZCBieSB0aGUgd2luZG93IG9iamVjdFxyXG4gKiAtIGFic3RyYWN0IGF3YXkgYWxsIHRoZSBicm93c2VyIHNwZWNpZmljIGZlYXR1cmVzIGFuZCBpbmNvbnNpc3RlbmNpZXNcclxuICpcclxuICogRm9yIHRlc3RzIHdlIHByb3ZpZGUge0BsaW5rIG5nTW9jay4kYnJvd3NlciBtb2NrIGltcGxlbWVudGF0aW9ufSBvZiB0aGUgYCRicm93c2VyYFxyXG4gKiBzZXJ2aWNlLCB3aGljaCBjYW4gYmUgdXNlZCBmb3IgY29udmVuaWVudCB0ZXN0aW5nIG9mIHRoZSBhcHBsaWNhdGlvbiB3aXRob3V0IHRoZSBpbnRlcmFjdGlvbiB3aXRoXHJcbiAqIHRoZSByZWFsIGJyb3dzZXIgYXBpcy5cclxuICovXHJcbi8qKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gd2luZG93IFRoZSBnbG9iYWwgd2luZG93IG9iamVjdC5cclxuICogQHBhcmFtIHtvYmplY3R9IGRvY3VtZW50IGpRdWVyeSB3cmFwcGVkIGRvY3VtZW50LlxyXG4gKiBAcGFyYW0ge29iamVjdH0gJGxvZyB3aW5kb3cuY29uc29sZSBvciBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBpbnRlcmZhY2UuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSAkc25pZmZlciAkc25pZmZlciBzZXJ2aWNlXHJcbiAqL1xyXG5mdW5jdGlvbiBCcm93c2VyKHdpbmRvdywgZG9jdW1lbnQsICRsb2csICRzbmlmZmVyKSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcclxuICAgICAgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5LFxyXG4gICAgICBzZXRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQsXHJcbiAgICAgIGNsZWFyVGltZW91dCA9IHdpbmRvdy5jbGVhclRpbWVvdXQsXHJcbiAgICAgIHBlbmRpbmdEZWZlcklkcyA9IHt9O1xyXG5cclxuICBzZWxmLmlzTW9jayA9IGZhbHNlO1xyXG5cclxuICB2YXIgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPSAwO1xyXG4gIHZhciBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MgPSBbXTtcclxuXHJcbiAgLy8gVE9ETyh2b2p0YSk6IHJlbW92ZSB0aGlzIHRlbXBvcmFyeSBhcGlcclxuICBzZWxmLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QgPSBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdDtcclxuICBzZWxmLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPSBmdW5jdGlvbigpIHsgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQrKzsgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24oc3VwcG9ydHMgY3VycnlpbmcpIGFuZCBkZWNyZW1lbnRzIHRoZSBgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzYFxyXG4gICAqIGNvdW50ZXIuIElmIHRoZSBjb3VudGVyIHJlYWNoZXMgMCwgYWxsIHRoZSBgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzYCBhcmUgZXhlY3V0ZWQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGZuLmFwcGx5KG51bGwsIHNsaWNlQXJncyhhcmd1bWVudHMsIDEpKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENvdW50LS07XHJcbiAgICAgIGlmIChvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9PT0gMCkge1xyXG4gICAgICAgIHdoaWxlIChvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MucG9wKCkoKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgJGxvZy5lcnJvcihlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldEhhc2godXJsKSB7XHJcbiAgICB2YXIgaW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xyXG4gICAgcmV0dXJuIGluZGV4ID09PSAtMSA/ICcnIDogdXJsLnN1YnN0cihpbmRleCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIE5vdGU6IHRoaXMgbWV0aG9kIGlzIHVzZWQgb25seSBieSBzY2VuYXJpbyBydW5uZXJcclxuICAgKiBUT0RPKHZvanRhKTogcHJlZml4IHRoaXMgbWV0aG9kIHdpdGggJCQgP1xyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2sgRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIG5vIG91dHN0YW5kaW5nIHJlcXVlc3RcclxuICAgKi9cclxuICBzZWxmLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgaWYgKG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID09PSAwKSB7XHJcbiAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAvLyBVUkwgQVBJXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgdmFyIGNhY2hlZFN0YXRlLCBsYXN0SGlzdG9yeVN0YXRlLFxyXG4gICAgICBsYXN0QnJvd3NlclVybCA9IGxvY2F0aW9uLmhyZWYsXHJcbiAgICAgIGJhc2VFbGVtZW50ID0gZG9jdW1lbnQuZmluZCgnYmFzZScpLFxyXG4gICAgICBwZW5kaW5nTG9jYXRpb24gPSBudWxsLFxyXG4gICAgICBnZXRDdXJyZW50U3RhdGUgPSAhJHNuaWZmZXIuaGlzdG9yeSA/IG5vb3AgOiBmdW5jdGlvbiBnZXRDdXJyZW50U3RhdGUoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHJldHVybiBoaXN0b3J5LnN0YXRlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIC8vIE1TSUUgY2FuIHJlcG9ydGVkbHkgdGhyb3cgd2hlbiB0aGVyZSBpcyBubyBzdGF0ZSAoVU5DT05GSVJNRUQpLlxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgY2FjaGVTdGF0ZSgpO1xyXG4gIGxhc3RIaXN0b3J5U3RhdGUgPSBjYWNoZWRTdGF0ZTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgJGJyb3dzZXIjdXJsXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBHRVRURVI6XHJcbiAgICogV2l0aG91dCBhbnkgYXJndW1lbnQsIHRoaXMgbWV0aG9kIGp1c3QgcmV0dXJucyBjdXJyZW50IHZhbHVlIG9mIGxvY2F0aW9uLmhyZWYuXHJcbiAgICpcclxuICAgKiBTRVRURVI6XHJcbiAgICogV2l0aCBhdCBsZWFzdCBvbmUgYXJndW1lbnQsIHRoaXMgbWV0aG9kIHNldHMgdXJsIHRvIG5ldyB2YWx1ZS5cclxuICAgKiBJZiBodG1sNSBoaXN0b3J5IGFwaSBzdXBwb3J0ZWQsIHB1c2hTdGF0ZS9yZXBsYWNlU3RhdGUgaXMgdXNlZCwgb3RoZXJ3aXNlXHJcbiAgICogbG9jYXRpb24uaHJlZi9sb2NhdGlvbi5yZXBsYWNlIGlzIHVzZWQuXHJcbiAgICogUmV0dXJucyBpdHMgb3duIGluc3RhbmNlIHRvIGFsbG93IGNoYWluaW5nXHJcbiAgICpcclxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgdGhlICRsb2NhdGlvbiBzZXJ2aWNlLiBQbGVhc2UgdXNlIHRoZVxyXG4gICAqIHtAbGluayBuZy4kbG9jYXRpb24gJGxvY2F0aW9uIHNlcnZpY2V9IHRvIGNoYW5nZSB1cmwuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIE5ldyB1cmwgKHdoZW4gdXNlZCBhcyBzZXR0ZXIpXHJcbiAgICogQHBhcmFtIHtib29sZWFuPX0gcmVwbGFjZSBTaG91bGQgbmV3IHVybCByZXBsYWNlIGN1cnJlbnQgaGlzdG9yeSByZWNvcmQ/XHJcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzdGF0ZSBvYmplY3QgdG8gdXNlIHdpdGggcHVzaFN0YXRlL3JlcGxhY2VTdGF0ZVxyXG4gICAqL1xyXG4gIHNlbGYudXJsID0gZnVuY3Rpb24odXJsLCByZXBsYWNlLCBzdGF0ZSkge1xyXG4gICAgLy8gSW4gbW9kZXJuIGJyb3dzZXJzIGBoaXN0b3J5LnN0YXRlYCBpcyBgbnVsbGAgYnkgZGVmYXVsdDsgdHJlYXRpbmcgaXQgc2VwYXJhdGVseVxyXG4gICAgLy8gZnJvbSBgdW5kZWZpbmVkYCB3b3VsZCBjYXVzZSBgJGJyb3dzZXIudXJsKCcvZm9vJylgIHRvIGNoYW5nZSBgaGlzdG9yeS5zdGF0ZWBcclxuICAgIC8vIHRvIHVuZGVmaW5lZCB2aWEgYHB1c2hTdGF0ZWAuIEluc3RlYWQsIGxldCdzIGNoYW5nZSBgdW5kZWZpbmVkYCB0byBgbnVsbGAgaGVyZS5cclxuICAgIGlmIChpc1VuZGVmaW5lZChzdGF0ZSkpIHtcclxuICAgICAgc3RhdGUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFuZHJvaWQgQnJvd3NlciBCRkNhY2hlIGNhdXNlcyBsb2NhdGlvbiwgaGlzdG9yeSByZWZlcmVuY2UgdG8gYmVjb21lIHN0YWxlLlxyXG4gICAgaWYgKGxvY2F0aW9uICE9PSB3aW5kb3cubG9jYXRpb24pIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xyXG4gICAgaWYgKGhpc3RvcnkgIT09IHdpbmRvdy5oaXN0b3J5KSBoaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XHJcblxyXG4gICAgLy8gc2V0dGVyXHJcbiAgICBpZiAodXJsKSB7XHJcbiAgICAgIHZhciBzYW1lU3RhdGUgPSBsYXN0SGlzdG9yeVN0YXRlID09PSBzdGF0ZTtcclxuXHJcbiAgICAgIC8vIERvbid0IGNoYW5nZSBhbnl0aGluZyBpZiBwcmV2aW91cyBhbmQgY3VycmVudCBVUkxzIGFuZCBzdGF0ZXMgbWF0Y2guIFRoaXMgYWxzbyBwcmV2ZW50c1xyXG4gICAgICAvLyBJRTwxMCBmcm9tIGdldHRpbmcgaW50byByZWRpcmVjdCBsb29wIHdoZW4gaW4gTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwgbW9kZS5cclxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvY29tbWl0L2ZmYjI3MDFcclxuICAgICAgaWYgKGxhc3RCcm93c2VyVXJsID09PSB1cmwgJiYgKCEkc25pZmZlci5oaXN0b3J5IHx8IHNhbWVTdGF0ZSkpIHtcclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG4gICAgICB2YXIgc2FtZUJhc2UgPSBsYXN0QnJvd3NlclVybCAmJiBzdHJpcEhhc2gobGFzdEJyb3dzZXJVcmwpID09PSBzdHJpcEhhc2godXJsKTtcclxuICAgICAgbGFzdEJyb3dzZXJVcmwgPSB1cmw7XHJcbiAgICAgIGxhc3RIaXN0b3J5U3RhdGUgPSBzdGF0ZTtcclxuICAgICAgLy8gRG9uJ3QgdXNlIGhpc3RvcnkgQVBJIGlmIG9ubHkgdGhlIGhhc2ggY2hhbmdlZFxyXG4gICAgICAvLyBkdWUgdG8gYSBidWcgaW4gSUUxMC9JRTExIHdoaWNoIGxlYWRzXHJcbiAgICAgIC8vIHRvIG5vdCBmaXJpbmcgYSBgaGFzaGNoYW5nZWAgbm9yIGBwb3BzdGF0ZWAgZXZlbnRcclxuICAgICAgLy8gaW4gc29tZSBjYXNlcyAoc2VlICM5MTQzKS5cclxuICAgICAgaWYgKCRzbmlmZmVyLmhpc3RvcnkgJiYgKCFzYW1lQmFzZSB8fCAhc2FtZVN0YXRlKSkge1xyXG4gICAgICAgIGhpc3RvcnlbcmVwbGFjZSA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKHN0YXRlLCAnJywgdXJsKTtcclxuICAgICAgICBjYWNoZVN0YXRlKCk7XHJcbiAgICAgICAgLy8gRG8gdGhlIGFzc2lnbm1lbnQgYWdhaW4gc28gdGhhdCB0aG9zZSB0d28gdmFyaWFibGVzIGFyZSByZWZlcmVudGlhbGx5IGlkZW50aWNhbC5cclxuICAgICAgICBsYXN0SGlzdG9yeVN0YXRlID0gY2FjaGVkU3RhdGU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCFzYW1lQmFzZSB8fCBwZW5kaW5nTG9jYXRpb24pIHtcclxuICAgICAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IHVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcGxhY2UpIHtcclxuICAgICAgICAgIGxvY2F0aW9uLnJlcGxhY2UodXJsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFzYW1lQmFzZSkge1xyXG4gICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbG9jYXRpb24uaGFzaCA9IGdldEhhc2godXJsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxvY2F0aW9uLmhyZWYgIT09IHVybCkge1xyXG4gICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIC8vIGdldHRlclxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gLSBwZW5kaW5nTG9jYXRpb24gaXMgbmVlZGVkIGFzIGJyb3dzZXJzIGRvbid0IGFsbG93IHRvIHJlYWQgb3V0XHJcbiAgICAgIC8vICAgdGhlIG5ldyBsb2NhdGlvbi5ocmVmIGlmIGEgcmVsb2FkIGhhcHBlbmVkIG9yIGlmIHRoZXJlIGlzIGEgYnVnIGxpa2UgaW4gaU9TIDkgKHNlZVxyXG4gICAgICAvLyAgIGh0dHBzOi8vb3BlbnJhZGFyLmFwcHNwb3QuY29tLzIyMTg2MTA5KS5cclxuICAgICAgLy8gLSB0aGUgcmVwbGFjZW1lbnQgaXMgYSB3b3JrYXJvdW5kIGZvciBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00MDcxNzJcclxuICAgICAgcmV0dXJuIHBlbmRpbmdMb2NhdGlvbiB8fCBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyUyNy9nLFwiJ1wiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSAkYnJvd3NlciNzdGF0ZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBtZXRob2QgaXMgYSBnZXR0ZXIuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gaGlzdG9yeS5zdGF0ZSBvciBudWxsIGlmIGhpc3Rvcnkuc3RhdGUgaXMgdW5kZWZpbmVkLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge29iamVjdH0gc3RhdGVcclxuICAgKi9cclxuICBzZWxmLnN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkU3RhdGU7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHVybENoYW5nZUxpc3RlbmVycyA9IFtdLFxyXG4gICAgICB1cmxDaGFuZ2VJbml0ID0gZmFsc2U7XHJcblxyXG4gIGZ1bmN0aW9uIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKCkge1xyXG4gICAgcGVuZGluZ0xvY2F0aW9uID0gbnVsbDtcclxuICAgIGNhY2hlU3RhdGUoKTtcclxuICAgIGZpcmVVcmxDaGFuZ2UoKTtcclxuICB9XHJcblxyXG4gIC8vIFRoaXMgdmFyaWFibGUgc2hvdWxkIGJlIHVzZWQgKm9ubHkqIGluc2lkZSB0aGUgY2FjaGVTdGF0ZSBmdW5jdGlvbi5cclxuICB2YXIgbGFzdENhY2hlZFN0YXRlID0gbnVsbDtcclxuICBmdW5jdGlvbiBjYWNoZVN0YXRlKCkge1xyXG4gICAgLy8gVGhpcyBzaG91bGQgYmUgdGhlIG9ubHkgcGxhY2UgaW4gJGJyb3dzZXIgd2hlcmUgYGhpc3Rvcnkuc3RhdGVgIGlzIHJlYWQuXHJcbiAgICBjYWNoZWRTdGF0ZSA9IGdldEN1cnJlbnRTdGF0ZSgpO1xyXG4gICAgY2FjaGVkU3RhdGUgPSBpc1VuZGVmaW5lZChjYWNoZWRTdGF0ZSkgPyBudWxsIDogY2FjaGVkU3RhdGU7XHJcblxyXG4gICAgLy8gUHJldmVudCBjYWxsYmFja3MgZm8gZmlyZSB0d2ljZSBpZiBib3RoIGhhc2hjaGFuZ2UgJiBwb3BzdGF0ZSB3ZXJlIGZpcmVkLlxyXG4gICAgaWYgKGVxdWFscyhjYWNoZWRTdGF0ZSwgbGFzdENhY2hlZFN0YXRlKSkge1xyXG4gICAgICBjYWNoZWRTdGF0ZSA9IGxhc3RDYWNoZWRTdGF0ZTtcclxuICAgIH1cclxuICAgIGxhc3RDYWNoZWRTdGF0ZSA9IGNhY2hlZFN0YXRlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZmlyZVVybENoYW5nZSgpIHtcclxuICAgIGlmIChsYXN0QnJvd3NlclVybCA9PT0gc2VsZi51cmwoKSAmJiBsYXN0SGlzdG9yeVN0YXRlID09PSBjYWNoZWRTdGF0ZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGFzdEJyb3dzZXJVcmwgPSBzZWxmLnVybCgpO1xyXG4gICAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xyXG4gICAgZm9yRWFjaCh1cmxDaGFuZ2VMaXN0ZW5lcnMsIGZ1bmN0aW9uKGxpc3RlbmVyKSB7XHJcbiAgICAgIGxpc3RlbmVyKHNlbGYudXJsKCksIGNhY2hlZFN0YXRlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgJGJyb3dzZXIjb25VcmxDaGFuZ2VcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJlZ2lzdGVyIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQsIHdoZW4gdXJsIGNoYW5nZXMuXHJcbiAgICpcclxuICAgKiBJdCdzIG9ubHkgY2FsbGVkIHdoZW4gdGhlIHVybCBpcyBjaGFuZ2VkIGZyb20gb3V0c2lkZSBvZiBhbmd1bGFyOlxyXG4gICAqIC0gdXNlciB0eXBlcyBkaWZmZXJlbnQgdXJsIGludG8gYWRkcmVzcyBiYXJcclxuICAgKiAtIHVzZXIgY2xpY2tzIG9uIGhpc3RvcnkgKGZvcndhcmQvYmFjaykgYnV0dG9uXHJcbiAgICogLSB1c2VyIGNsaWNrcyBvbiBhIGxpbmtcclxuICAgKlxyXG4gICAqIEl0J3Mgbm90IGNhbGxlZCB3aGVuIHVybCBpcyBjaGFuZ2VkIGJ5ICRicm93c2VyLnVybCgpIG1ldGhvZFxyXG4gICAqXHJcbiAgICogVGhlIGxpc3RlbmVyIGdldHMgY2FsbGVkIHdpdGggbmV3IHVybCBhcyBwYXJhbWV0ZXIuXHJcbiAgICpcclxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgdGhlICRsb2NhdGlvbiBzZXJ2aWNlLiBQbGVhc2UgdXNlIHRoZVxyXG4gICAqIHtAbGluayBuZy4kbG9jYXRpb24gJGxvY2F0aW9uIHNlcnZpY2V9IHRvIG1vbml0b3IgdXJsIGNoYW5nZXMgaW4gYW5ndWxhciBhcHBzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcpfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB1cmwgY2hhbmdlcy5cclxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbihzdHJpbmcpfSBSZXR1cm5zIHRoZSByZWdpc3RlcmVkIGxpc3RlbmVyIGZuIC0gaGFuZHkgaWYgdGhlIGZuIGlzIGFub255bW91cy5cclxuICAgKi9cclxuICBzZWxmLm9uVXJsQ2hhbmdlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgIC8vIFRPRE8odm9qdGEpOiByZWZhY3RvciB0byB1c2Ugbm9kZSdzIHN5bnRheCBmb3IgZXZlbnRzXHJcbiAgICBpZiAoIXVybENoYW5nZUluaXQpIHtcclxuICAgICAgLy8gV2UgbGlzdGVuIG9uIGJvdGggKGhhc2hjaGFuZ2UvcG9wc3RhdGUpIHdoZW4gYXZhaWxhYmxlLCBhcyBzb21lIGJyb3dzZXJzIChlLmcuIE9wZXJhKVxyXG4gICAgICAvLyBkb24ndCBmaXJlIHBvcHN0YXRlIHdoZW4gdXNlciBjaGFuZ2UgdGhlIGFkZHJlc3MgYmFyIGFuZCBkb24ndCBmaXJlIGhhc2hjaGFuZ2Ugd2hlbiB1cmxcclxuICAgICAgLy8gY2hhbmdlZCBieSBwdXNoL3JlcGxhY2VTdGF0ZVxyXG5cclxuICAgICAgLy8gaHRtbDUgaGlzdG9yeSBhcGkgLSBwb3BzdGF0ZSBldmVudFxyXG4gICAgICBpZiAoJHNuaWZmZXIuaGlzdG9yeSkganFMaXRlKHdpbmRvdykub24oJ3BvcHN0YXRlJywgY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpO1xyXG4gICAgICAvLyBoYXNoY2hhbmdlIGV2ZW50XHJcbiAgICAgIGpxTGl0ZSh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlJywgY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpO1xyXG5cclxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdXJsQ2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgcmV0dXJuIGNhbGxiYWNrO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogUmVtb3ZlIHBvcHN0YXRlIGFuZCBoYXNoY2hhbmdlIGhhbmRsZXIgZnJvbSB3aW5kb3cuXHJcbiAgICpcclxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgJHJvb3RTY29wZS5cclxuICAgKi9cclxuICBzZWxmLiQkYXBwbGljYXRpb25EZXN0cm95ZWQgPSBmdW5jdGlvbigpIHtcclxuICAgIGpxTGl0ZSh3aW5kb3cpLm9mZignaGFzaGNoYW5nZSBwb3BzdGF0ZScsIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgdXJsIGhhcyBjaGFuZ2VkIG91dHNpZGUgb2YgQW5ndWxhci5cclxuICAgKiBOZWVkcyB0byBiZSBleHBvcnRlZCB0byBiZSBhYmxlIHRvIGNoZWNrIGZvciBjaGFuZ2VzIHRoYXQgaGF2ZSBiZWVuIGRvbmUgaW4gc3luYyxcclxuICAgKiBhcyBoYXNoY2hhbmdlL3BvcHN0YXRlIGV2ZW50cyBmaXJlIGluIGFzeW5jLlxyXG4gICAqL1xyXG4gIHNlbGYuJCRjaGVja1VybENoYW5nZSA9IGZpcmVVcmxDaGFuZ2U7XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8gTWlzYyBBUElcclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSAkYnJvd3NlciNiYXNlSHJlZlxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmV0dXJucyBjdXJyZW50IDxiYXNlIGhyZWY+XHJcbiAgICogKGFsd2F5cyByZWxhdGl2ZSAtIHdpdGhvdXQgZG9tYWluKVxyXG4gICAqXHJcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGN1cnJlbnQgYmFzZSBocmVmXHJcbiAgICovXHJcbiAgc2VsZi5iYXNlSHJlZiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGhyZWYgPSBiYXNlRWxlbWVudC5hdHRyKCdocmVmJyk7XHJcbiAgICByZXR1cm4gaHJlZiA/IGhyZWYucmVwbGFjZSgvXihodHRwcz9cXDopP1xcL1xcL1teXFwvXSovLCAnJykgOiAnJztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSAkYnJvd3NlciNkZWZlclxyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gQSBmdW5jdGlvbiwgd2hvJ3MgZXhlY3V0aW9uIHNob3VsZCBiZSBkZWZlcnJlZC5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IFtkZWxheT0wXSBvZiBtaWxsaXNlY29uZHMgdG8gZGVmZXIgdGhlIGZ1bmN0aW9uIGV4ZWN1dGlvbi5cclxuICAgKiBAcmV0dXJucyB7Kn0gRGVmZXJJZCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgdGFzayB2aWEgYCRicm93c2VyLmRlZmVyLmNhbmNlbCgpYC5cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEV4ZWN1dGVzIGEgZm4gYXN5bmNocm9ub3VzbHkgdmlhIGBzZXRUaW1lb3V0KGZuLCBkZWxheSlgLlxyXG4gICAqXHJcbiAgICogVW5saWtlIHdoZW4gY2FsbGluZyBgc2V0VGltZW91dGAgZGlyZWN0bHksIGluIHRlc3QgdGhpcyBmdW5jdGlvbiBpcyBtb2NrZWQgYW5kIGluc3RlYWQgb2YgdXNpbmdcclxuICAgKiBgc2V0VGltZW91dGAgaW4gdGVzdHMsIHRoZSBmbnMgYXJlIHF1ZXVlZCBpbiBhbiBhcnJheSwgd2hpY2ggY2FuIGJlIHByb2dyYW1tYXRpY2FsbHkgZmx1c2hlZFxyXG4gICAqIHZpYSBgJGJyb3dzZXIuZGVmZXIuZmx1c2goKWAuXHJcbiAgICpcclxuICAgKi9cclxuICBzZWxmLmRlZmVyID0gZnVuY3Rpb24oZm4sIGRlbGF5KSB7XHJcbiAgICB2YXIgdGltZW91dElkO1xyXG4gICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQrKztcclxuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXTtcclxuICAgICAgY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pO1xyXG4gICAgfSwgZGVsYXkgfHwgMCk7XHJcbiAgICBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXSA9IHRydWU7XHJcbiAgICByZXR1cm4gdGltZW91dElkO1xyXG4gIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSAkYnJvd3NlciNkZWZlci5jYW5jZWxcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENhbmNlbHMgYSBkZWZlcnJlZCB0YXNrIGlkZW50aWZpZWQgd2l0aCBgZGVmZXJJZGAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IGRlZmVySWQgVG9rZW4gcmV0dXJuZWQgYnkgdGhlIGAkYnJvd3Nlci5kZWZlcmAgZnVuY3Rpb24uXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIGhhc24ndCBleGVjdXRlZCB5ZXQgYW5kIHdhcyBzdWNjZXNzZnVsbHlcclxuICAgKiAgICAgICAgICAgICAgICAgICAgY2FuY2VsZWQuXHJcbiAgICovXHJcbiAgc2VsZi5kZWZlci5jYW5jZWwgPSBmdW5jdGlvbihkZWZlcklkKSB7XHJcbiAgICBpZiAocGVuZGluZ0RlZmVySWRzW2RlZmVySWRdKSB7XHJcbiAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF07XHJcbiAgICAgIGNsZWFyVGltZW91dChkZWZlcklkKTtcclxuICAgICAgY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Qobm9vcCk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiAkQnJvd3NlclByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckbG9nJywgJyRzbmlmZmVyJywgJyRkb2N1bWVudCcsXHJcbiAgICAgIGZ1bmN0aW9uKCR3aW5kb3csICRsb2csICRzbmlmZmVyLCAkZG9jdW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXIoJHdpbmRvdywgJGRvY3VtZW50LCAkbG9nLCAkc25pZmZlcik7XHJcbiAgICAgIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGNhY2hlRmFjdG9yeVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRmFjdG9yeSB0aGF0IGNvbnN0cnVjdHMge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdHMgYW5kIGdpdmVzIGFjY2VzcyB0b1xyXG4gKiB0aGVtLlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKlxyXG4gKiAgdmFyIGNhY2hlID0gJGNhY2hlRmFjdG9yeSgnY2FjaGVJZCcpO1xyXG4gKiAgZXhwZWN0KCRjYWNoZUZhY3RvcnkuZ2V0KCdjYWNoZUlkJykpLnRvQmUoY2FjaGUpO1xyXG4gKiAgZXhwZWN0KCRjYWNoZUZhY3RvcnkuZ2V0KCdub1N1Y2hDYWNoZUlkJykpLm5vdC50b0JlRGVmaW5lZCgpO1xyXG4gKlxyXG4gKiAgY2FjaGUucHV0KFwia2V5XCIsIFwidmFsdWVcIik7XHJcbiAqICBjYWNoZS5wdXQoXCJhbm90aGVyIGtleVwiLCBcImFub3RoZXIgdmFsdWVcIik7XHJcbiAqXHJcbiAqICAvLyBXZSd2ZSBzcGVjaWZpZWQgbm8gb3B0aW9ucyBvbiBjcmVhdGlvblxyXG4gKiAgZXhwZWN0KGNhY2hlLmluZm8oKSkudG9FcXVhbCh7aWQ6ICdjYWNoZUlkJywgc2l6ZTogMn0pO1xyXG4gKlxyXG4gKiBgYGBcclxuICpcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBjYWNoZS5cclxuICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0IHRoYXQgc3BlY2lmaWVzIHRoZSBjYWNoZSBiZWhhdmlvci4gUHJvcGVydGllczpcclxuICpcclxuICogICAtIGB7bnVtYmVyPX1gIGBjYXBhY2l0eWAg4oCUIHR1cm5zIHRoZSBjYWNoZSBpbnRvIExSVSBjYWNoZS5cclxuICpcclxuICogQHJldHVybnMge29iamVjdH0gTmV3bHkgY3JlYXRlZCBjYWNoZSBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHNldCBvZiBtZXRob2RzOlxyXG4gKlxyXG4gKiAtIGB7b2JqZWN0fWAgYGluZm8oKWAg4oCUIFJldHVybnMgaWQsIHNpemUsIGFuZCBvcHRpb25zIG9mIGNhY2hlLlxyXG4gKiAtIGB7eyp9fWAgYHB1dCh7c3RyaW5nfSBrZXksIHsqfSB2YWx1ZSlgIOKAlCBQdXRzIGEgbmV3IGtleS12YWx1ZSBwYWlyIGludG8gdGhlIGNhY2hlIGFuZCByZXR1cm5zXHJcbiAqICAgaXQuXHJcbiAqIC0gYHt7Kn19YCBgZ2V0KHtzdHJpbmd9IGtleSlgIOKAlCBSZXR1cm5zIGNhY2hlZCB2YWx1ZSBmb3IgYGtleWAgb3IgdW5kZWZpbmVkIGZvciBjYWNoZSBtaXNzLlxyXG4gKiAtIGB7dm9pZH1gIGByZW1vdmUoe3N0cmluZ30ga2V5KWAg4oCUIFJlbW92ZXMgYSBrZXktdmFsdWUgcGFpciBmcm9tIHRoZSBjYWNoZS5cclxuICogLSBge3ZvaWR9YCBgcmVtb3ZlQWxsKClgIOKAlCBSZW1vdmVzIGFsbCBjYWNoZWQgdmFsdWVzLlxyXG4gKiAtIGB7dm9pZH1gIGBkZXN0cm95KClgIOKAlCBSZW1vdmVzIHJlZmVyZW5jZXMgdG8gdGhpcyBjYWNoZSBmcm9tICRjYWNoZUZhY3RvcnkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImNhY2hlRXhhbXBsZUFwcFwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYWNoZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmV3Q2FjaGVLZXlcIiBwbGFjZWhvbGRlcj1cIktleVwiPlxyXG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJuZXdDYWNoZVZhbHVlXCIgcGxhY2Vob2xkZXI9XCJWYWx1ZVwiPlxyXG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicHV0KG5ld0NhY2hlS2V5LCBuZXdDYWNoZVZhbHVlKVwiPkNhY2hlPC9idXR0b24+XHJcblxyXG4gICAgICAgICA8cCBuZy1pZj1cImtleXMubGVuZ3RoXCI+Q2FjaGVkIFZhbHVlczwvcD5cclxuICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XCJrZXkgaW4ga2V5c1wiPlxyXG4gICAgICAgICAgIDxzcGFuIG5nLWJpbmQ9XCJrZXlcIj48L3NwYW4+XHJcbiAgICAgICAgICAgPHNwYW4+OiA8L3NwYW4+XHJcbiAgICAgICAgICAgPGIgbmctYmluZD1cImNhY2hlLmdldChrZXkpXCI+PC9iPlxyXG4gICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgIDxwPkNhY2hlIEluZm88L3A+XHJcbiAgICAgICAgIDxkaXYgbmctcmVwZWF0PVwiKGtleSwgdmFsdWUpIGluIGNhY2hlLmluZm8oKVwiPlxyXG4gICAgICAgICAgIDxzcGFuIG5nLWJpbmQ9XCJrZXlcIj48L3NwYW4+XHJcbiAgICAgICAgICAgPHNwYW4+OiA8L3NwYW4+XHJcbiAgICAgICAgICAgPGIgbmctYmluZD1cInZhbHVlXCI+PC9iPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2FjaGVFeGFtcGxlQXBwJywgW10pLlxyXG4gICAgICAgICBjb250cm9sbGVyKCdDYWNoZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckY2FjaGVGYWN0b3J5JywgZnVuY3Rpb24oJHNjb3BlLCAkY2FjaGVGYWN0b3J5KSB7XHJcbiAgICAgICAgICAgJHNjb3BlLmtleXMgPSBbXTtcclxuICAgICAgICAgICAkc2NvcGUuY2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdjYWNoZUlkJyk7XHJcbiAgICAgICAgICAgJHNjb3BlLnB1dCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5jYWNoZS5nZXQoa2V5KSkpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmtleXMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgJHNjb3BlLmNhY2hlLnB1dChrZXksIGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsdWUpID8gbnVsbCA6IHZhbHVlKTtcclxuICAgICAgICAgICB9O1xyXG4gICAgICAgICB9XSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgIHAge1xyXG4gICAgICAgICBtYXJnaW46IDEwcHggMCAzcHg7XHJcbiAgICAgICB9XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5mdW5jdGlvbiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIoKSB7XHJcblxyXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNhY2hlcyA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNhY2hlRmFjdG9yeShjYWNoZUlkLCBvcHRpb25zKSB7XHJcbiAgICAgIGlmIChjYWNoZUlkIGluIGNhY2hlcykge1xyXG4gICAgICAgIHRocm93IG1pbkVycignJGNhY2hlRmFjdG9yeScpKCdpaWQnLCBcIkNhY2hlSWQgJ3swfScgaXMgYWxyZWFkeSB0YWtlbiFcIiwgY2FjaGVJZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBzaXplID0gMCxcclxuICAgICAgICAgIHN0YXRzID0gZXh0ZW5kKHt9LCBvcHRpb25zLCB7aWQ6IGNhY2hlSWR9KSxcclxuICAgICAgICAgIGRhdGEgPSBjcmVhdGVNYXAoKSxcclxuICAgICAgICAgIGNhcGFjaXR5ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5jYXBhY2l0eSkgfHwgTnVtYmVyLk1BWF9WQUxVRSxcclxuICAgICAgICAgIGxydUhhc2ggPSBjcmVhdGVNYXAoKSxcclxuICAgICAgICAgIGZyZXNoRW5kID0gbnVsbCxcclxuICAgICAgICAgIHN0YWxlRW5kID0gbnVsbDtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgdHlwZVxyXG4gICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBBIGNhY2hlIG9iamVjdCB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBkYXRhLCBwcmltYXJpbHkgdXNlZCBieVxyXG4gICAgICAgKiB7QGxpbmsgJGh0dHAgJGh0dHB9IGFuZCB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpzY3JpcHQgc2NyaXB0fSBkaXJlY3RpdmUgdG8gY2FjaGVcclxuICAgICAgICogdGVtcGxhdGVzIGFuZCBvdGhlciBkYXRhLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgKiAgYW5ndWxhci5tb2R1bGUoJ3N1cGVyQ2FjaGUnKVxyXG4gICAgICAgKiAgICAuZmFjdG9yeSgnc3VwZXJDYWNoZScsIFsnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRjYWNoZUZhY3RvcnkpIHtcclxuICAgICAgICogICAgICByZXR1cm4gJGNhY2hlRmFjdG9yeSgnc3VwZXItY2FjaGUnKTtcclxuICAgICAgICogICAgfV0pO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogRXhhbXBsZSB0ZXN0OlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgKiAgaXQoJ3Nob3VsZCBiZWhhdmUgbGlrZSBhIGNhY2hlJywgaW5qZWN0KGZ1bmN0aW9uKHN1cGVyQ2FjaGUpIHtcclxuICAgICAgICogICAgc3VwZXJDYWNoZS5wdXQoJ2tleScsICd2YWx1ZScpO1xyXG4gICAgICAgKiAgICBzdXBlckNhY2hlLnB1dCgnYW5vdGhlciBrZXknLCAnYW5vdGhlciB2YWx1ZScpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICBleHBlY3Qoc3VwZXJDYWNoZS5pbmZvKCkpLnRvRXF1YWwoe1xyXG4gICAgICAgKiAgICAgIGlkOiAnc3VwZXItY2FjaGUnLFxyXG4gICAgICAgKiAgICAgIHNpemU6IDJcclxuICAgICAgICogICAgfSk7XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucmVtb3ZlKCdhbm90aGVyIGtleScpO1xyXG4gICAgICAgKiAgICBleHBlY3Qoc3VwZXJDYWNoZS5nZXQoJ2Fub3RoZXIga2V5JykpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgICAgICpcclxuICAgICAgICogICAgc3VwZXJDYWNoZS5yZW1vdmVBbGwoKTtcclxuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuaW5mbygpKS50b0VxdWFsKHtcclxuICAgICAgICogICAgICBpZDogJ3N1cGVyLWNhY2hlJyxcclxuICAgICAgICogICAgICBzaXplOiAwXHJcbiAgICAgICAqICAgIH0pO1xyXG4gICAgICAgKiAgfSkpO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICovXHJcbiAgICAgIHJldHVybiBjYWNoZXNbY2FjaGVJZF0gPSB7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3B1dFxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBJbnNlcnRzIGEgbmFtZWQgZW50cnkgaW50byB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdCB0byBiZVxyXG4gICAgICAgICAqIHJldHJpZXZlZCBsYXRlciwgYW5kIGluY3JlbWVudGluZyB0aGUgc2l6ZSBvZiB0aGUgY2FjaGUgaWYgdGhlIGtleSB3YXMgbm90IGFscmVhZHlcclxuICAgICAgICAgKiBwcmVzZW50IGluIHRoZSBjYWNoZS4gSWYgYmVoYXZpbmcgbGlrZSBhbiBMUlUgY2FjaGUsIGl0IHdpbGwgYWxzbyByZW1vdmUgc3RhbGVcclxuICAgICAgICAgKiBlbnRyaWVzIGZyb20gdGhlIHNldC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEl0IHdpbGwgbm90IGluc2VydCB1bmRlZmluZWQgdmFsdWVzIGludG8gdGhlIGNhY2hlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IHVuZGVyIHdoaWNoIHRoZSBjYWNoZWQgZGF0YSBpcyBzdG9yZWQuXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSB0aGUgdmFsdWUgdG8gc3RvcmUgYWxvbmdzaWRlIHRoZSBrZXkuIElmIGl0IGlzIHVuZGVmaW5lZCwgdGhlIGtleVxyXG4gICAgICAgICAqICAgIHdpbGwgbm90IGJlIHN0b3JlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHN0b3JlZC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwdXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybjtcclxuICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHtcclxuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldIHx8IChscnVIYXNoW2tleV0gPSB7a2V5OiBrZXl9KTtcclxuXHJcbiAgICAgICAgICAgIHJlZnJlc2gobHJ1RW50cnkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICghKGtleSBpbiBkYXRhKSkgc2l6ZSsrO1xyXG4gICAgICAgICAgZGF0YVtrZXldID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgaWYgKHNpemUgPiBjYXBhY2l0eSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZShzdGFsZUVuZC5rZXkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNnZXRcclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICogUmV0cmlldmVzIG5hbWVkIGRhdGEgc3RvcmVkIGluIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IG9mIHRoZSBkYXRhIHRvIGJlIHJldHJpZXZlZFxyXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgc3RvcmVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICBpZiAoY2FwYWNpdHkgPCBOdW1iZXIuTUFYX1ZBTFVFKSB7XHJcbiAgICAgICAgICAgIHZhciBscnVFbnRyeSA9IGxydUhhc2hba2V5XTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbHJ1RW50cnkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHJlZnJlc2gobHJ1RW50cnkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XHJcbiAgICAgICAgfSxcclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3JlbW92ZVxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBSZW1vdmVzIGFuIGVudHJ5IGZyb20gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGJlIHJlbW92ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xyXG4gICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV07XHJcblxyXG4gICAgICAgICAgICBpZiAoIWxydUVudHJ5KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAobHJ1RW50cnkgPT0gZnJlc2hFbmQpIGZyZXNoRW5kID0gbHJ1RW50cnkucDtcclxuICAgICAgICAgICAgaWYgKGxydUVudHJ5ID09IHN0YWxlRW5kKSBzdGFsZUVuZCA9IGxydUVudHJ5Lm47XHJcbiAgICAgICAgICAgIGxpbmsobHJ1RW50cnkubixscnVFbnRyeS5wKTtcclxuXHJcbiAgICAgICAgICAgIGRlbGV0ZSBscnVIYXNoW2tleV07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCEoa2V5IGluIGRhdGEpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgZGVsZXRlIGRhdGFba2V5XTtcclxuICAgICAgICAgIHNpemUtLTtcclxuICAgICAgICB9LFxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcmVtb3ZlQWxsXHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIENsZWFycyB0aGUgY2FjaGUgb2JqZWN0IG9mIGFueSBlbnRyaWVzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJlbW92ZUFsbDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBkYXRhID0gY3JlYXRlTWFwKCk7XHJcbiAgICAgICAgICBzaXplID0gMDtcclxuICAgICAgICAgIGxydUhhc2ggPSBjcmVhdGVNYXAoKTtcclxuICAgICAgICAgIGZyZXNoRW5kID0gc3RhbGVFbmQgPSBudWxsO1xyXG4gICAgICAgIH0sXHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNkZXN0cm95XHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIERlc3Ryb3lzIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0IGVudGlyZWx5LFxyXG4gICAgICAgICAqIHJlbW92aW5nIGl0IGZyb20gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5ICRjYWNoZUZhY3Rvcnl9IHNldC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGRhdGEgPSBudWxsO1xyXG4gICAgICAgICAgc3RhdHMgPSBudWxsO1xyXG4gICAgICAgICAgbHJ1SGFzaCA9IG51bGw7XHJcbiAgICAgICAgICBkZWxldGUgY2FjaGVzW2NhY2hlSWRdO1xyXG4gICAgICAgIH0sXHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNpbmZvXHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIFJldHJpZXZlIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBhIHBhcnRpY3VsYXIge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gICAgICAgICAqICAgPHVsPlxyXG4gICAgICAgICAqICAgICA8bGk+KippZCoqOiB0aGUgaWQgb2YgdGhlIGNhY2hlIGluc3RhbmNlPC9saT5cclxuICAgICAgICAgKiAgICAgPGxpPioqc2l6ZSoqOiB0aGUgbnVtYmVyIG9mIGVudHJpZXMga2VwdCBpbiB0aGUgY2FjaGUgaW5zdGFuY2U8L2xpPlxyXG4gICAgICAgICAqICAgICA8bGk+KiouLi4qKjogYW55IGFkZGl0aW9uYWwgcHJvcGVydGllcyBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCB3aGVuIGNyZWF0aW5nIHRoZVxyXG4gICAgICAgICAqICAgICAgIGNhY2hlLjwvbGk+XHJcbiAgICAgICAgICogICA8L3VsPlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGluZm86IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgc3RhdHMsIHtzaXplOiBzaXplfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBtYWtlcyB0aGUgYGVudHJ5YCB0aGUgZnJlc2hFbmQgb2YgdGhlIExSVSBsaW5rZWQgbGlzdFxyXG4gICAgICAgKi9cclxuICAgICAgZnVuY3Rpb24gcmVmcmVzaChlbnRyeSkge1xyXG4gICAgICAgIGlmIChlbnRyeSAhPSBmcmVzaEVuZCkge1xyXG4gICAgICAgICAgaWYgKCFzdGFsZUVuZCkge1xyXG4gICAgICAgICAgICBzdGFsZUVuZCA9IGVudHJ5O1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFsZUVuZCA9PSBlbnRyeSkge1xyXG4gICAgICAgICAgICBzdGFsZUVuZCA9IGVudHJ5Lm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbGluayhlbnRyeS5uLCBlbnRyeS5wKTtcclxuICAgICAgICAgIGxpbmsoZW50cnksIGZyZXNoRW5kKTtcclxuICAgICAgICAgIGZyZXNoRW5kID0gZW50cnk7XHJcbiAgICAgICAgICBmcmVzaEVuZC5uID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogYmlkaXJlY3Rpb25hbGx5IGxpbmtzIHR3byBlbnRyaWVzIG9mIHRoZSBMUlUgbGlua2VkIGxpc3RcclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIGxpbmsobmV4dEVudHJ5LCBwcmV2RW50cnkpIHtcclxuICAgICAgICBpZiAobmV4dEVudHJ5ICE9IHByZXZFbnRyeSkge1xyXG4gICAgICAgICAgaWYgKG5leHRFbnRyeSkgbmV4dEVudHJ5LnAgPSBwcmV2RW50cnk7IC8vcCBzdGFuZHMgZm9yIHByZXZpb3VzLCAncHJldicgZGlkbid0IG1pbmlmeVxyXG4gICAgICAgICAgaWYgKHByZXZFbnRyeSkgcHJldkVudHJ5Lm4gPSBuZXh0RW50cnk7IC8vbiBzdGFuZHMgZm9yIG5leHQsICduZXh0JyBkaWRuJ3QgbWluaWZ5XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGNhY2hlRmFjdG9yeSNpbmZvXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBHZXQgaW5mb3JtYXRpb24gYWJvdXQgYWxsIHRoZSBjYWNoZXMgdGhhdCBoYXZlIGJlZW4gY3JlYXRlZFxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09iamVjdH0gLSBrZXktdmFsdWUgbWFwIG9mIGBjYWNoZUlkYCB0byB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgYGNhY2hlI2luZm9gXHJcbiAgICovXHJcbiAgICBjYWNoZUZhY3RvcnkuaW5mbyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgaW5mbyA9IHt9O1xyXG4gICAgICBmb3JFYWNoKGNhY2hlcywgZnVuY3Rpb24oY2FjaGUsIGNhY2hlSWQpIHtcclxuICAgICAgICBpbmZvW2NhY2hlSWRdID0gY2FjaGUuaW5mbygpO1xyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIGluZm87XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRjYWNoZUZhY3RvcnkjZ2V0XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBHZXQgYWNjZXNzIHRvIGEgY2FjaGUgb2JqZWN0IGJ5IHRoZSBgY2FjaGVJZGAgdXNlZCB3aGVuIGl0IHdhcyBjcmVhdGVkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiBhIGNhY2hlIHRvIGFjY2Vzcy5cclxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBDYWNoZSBvYmplY3QgaWRlbnRpZmllZCBieSB0aGUgY2FjaGVJZCBvciB1bmRlZmluZWQgaWYgbm8gc3VjaCBjYWNoZS5cclxuICAgKi9cclxuICAgIGNhY2hlRmFjdG9yeS5nZXQgPSBmdW5jdGlvbihjYWNoZUlkKSB7XHJcbiAgICAgIHJldHVybiBjYWNoZXNbY2FjaGVJZF07XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICByZXR1cm4gY2FjaGVGYWN0b3J5O1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkdGVtcGxhdGVDYWNoZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGZpcnN0IHRpbWUgYSB0ZW1wbGF0ZSBpcyB1c2VkLCBpdCBpcyBsb2FkZWQgaW4gdGhlIHRlbXBsYXRlIGNhY2hlIGZvciBxdWljayByZXRyaWV2YWwuIFlvdVxyXG4gKiBjYW4gbG9hZCB0ZW1wbGF0ZXMgZGlyZWN0bHkgaW50byB0aGUgY2FjaGUgaW4gYSBgc2NyaXB0YCB0YWcsIG9yIGJ5IGNvbnN1bWluZyB0aGVcclxuICogYCR0ZW1wbGF0ZUNhY2hlYCBzZXJ2aWNlIGRpcmVjdGx5LlxyXG4gKlxyXG4gKiBBZGRpbmcgdmlhIHRoZSBgc2NyaXB0YCB0YWc6XHJcbiAqXHJcbiAqIGBgYGh0bWxcclxuICogICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L25nLXRlbXBsYXRlXCIgaWQ9XCJ0ZW1wbGF0ZUlkLmh0bWxcIj5cclxuICogICAgIDxwPlRoaXMgaXMgdGhlIGNvbnRlbnQgb2YgdGhlIHRlbXBsYXRlPC9wPlxyXG4gKiAgIDwvc2NyaXB0PlxyXG4gKiBgYGBcclxuICpcclxuICogKipOb3RlOioqIHRoZSBgc2NyaXB0YCB0YWcgY29udGFpbmluZyB0aGUgdGVtcGxhdGUgZG9lcyBub3QgbmVlZCB0byBiZSBpbmNsdWRlZCBpbiB0aGUgYGhlYWRgIG9mXHJcbiAqIHRoZSBkb2N1bWVudCwgYnV0IGl0IG11c3QgYmUgYSBkZXNjZW5kZW50IG9mIHRoZSB7QGxpbmsgbmcuJHJvb3RFbGVtZW50ICRyb290RWxlbWVudH0gKElFLFxyXG4gKiBlbGVtZW50IHdpdGggbmctYXBwIGF0dHJpYnV0ZSksIG90aGVyd2lzZSB0aGUgdGVtcGxhdGUgd2lsbCBiZSBpZ25vcmVkLlxyXG4gKlxyXG4gKiBBZGRpbmcgdmlhIHRoZSBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2U6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciBteUFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKTtcclxuICogbXlBcHAucnVuKGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAqICAgJHRlbXBsYXRlQ2FjaGUucHV0KCd0ZW1wbGF0ZUlkLmh0bWwnLCAnVGhpcyBpcyB0aGUgY29udGVudCBvZiB0aGUgdGVtcGxhdGUnKTtcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUbyByZXRyaWV2ZSB0aGUgdGVtcGxhdGUgbGF0ZXIsIHNpbXBseSB1c2UgaXQgaW4geW91ciBIVE1MOlxyXG4gKiBgYGBodG1sXHJcbiAqIDxkaXYgbmctaW5jbHVkZT1cIiAndGVtcGxhdGVJZC5odG1sJyBcIj48L2Rpdj5cclxuICogYGBgXHJcbiAqXHJcbiAqIG9yIGdldCBpdCB2aWEgSmF2YXNjcmlwdDpcclxuICogYGBganNcclxuICogJHRlbXBsYXRlQ2FjaGUuZ2V0KCd0ZW1wbGF0ZUlkLmh0bWwnKVxyXG4gKiBgYGBcclxuICpcclxuICogU2VlIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5ICRjYWNoZUZhY3Rvcnl9LlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gJFRlbXBsYXRlQ2FjaGVQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5KSB7XHJcbiAgICByZXR1cm4gJGNhY2hlRmFjdG9yeSgndGVtcGxhdGVzJyk7XHJcbiAgfV07XHJcbn1cclxuXHJcbi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcclxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxyXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXHJcbiAqICAgICAgICAgIEFuIGFwcHJvdmFsIGZyb20gMiBDb3JlIG1lbWJlcnMgd2l0aCBoaXN0b3J5IG9mIG1vZGlmeWluZyAgICAgICpcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICBEb2VzIHRoZSBjaGFuZ2Ugc29tZWhvdyBhbGxvdyBmb3IgYXJiaXRyYXJ5IGphdmFzY3JpcHQgdG8gYmUgZXhlY3V0ZWQ/ICpcclxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxyXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXHJcbiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovXHJcblxyXG4vKiAhIFZBUklBQkxFL0ZVTkNUSU9OIE5BTUlORyBDT05WRU5USU9OUyBUSEFUIEFQUExZIFRPIFRISVMgRklMRSFcclxuICpcclxuICogRE9NLXJlbGF0ZWQgdmFyaWFibGVzOlxyXG4gKlxyXG4gKiAtIFwibm9kZVwiIC0gRE9NIE5vZGVcclxuICogLSBcImVsZW1lbnRcIiAtIERPTSBFbGVtZW50IG9yIE5vZGVcclxuICogLSBcIiRub2RlXCIgb3IgXCIkZWxlbWVudFwiIC0ganFMaXRlLXdyYXBwZWQgbm9kZSBvciBlbGVtZW50XHJcbiAqXHJcbiAqXHJcbiAqIENvbXBpbGVyIHJlbGF0ZWQgc3R1ZmY6XHJcbiAqXHJcbiAqIC0gXCJsaW5rRm5cIiAtIGxpbmtpbmcgZm4gb2YgYSBzaW5nbGUgZGlyZWN0aXZlXHJcbiAqIC0gXCJub2RlTGlua0ZuXCIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIHBhcnRpY3VsYXIgbm9kZVxyXG4gKiAtIFwiY2hpbGRMaW5rRm5cIiAtICBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBjaGlsZCBub2RlcyBvZiBhIHBhcnRpY3VsYXIgbm9kZVxyXG4gKiAtIFwiY29tcG9zaXRlTGlua0ZuXCIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIGNvbXBpbGF0aW9uIHJvb3QgKG5vZGVMaXN0KVxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGNvbXBpbGVcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIENvbXBpbGVzIGFuIEhUTUwgc3RyaW5nIG9yIERPTSBpbnRvIGEgdGVtcGxhdGUgYW5kIHByb2R1Y2VzIGEgdGVtcGxhdGUgZnVuY3Rpb24sIHdoaWNoXHJcbiAqIGNhbiB0aGVuIGJlIHVzZWQgdG8gbGluayB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBgc2NvcGVgfSBhbmQgdGhlIHRlbXBsYXRlIHRvZ2V0aGVyLlxyXG4gKlxyXG4gKiBUaGUgY29tcGlsYXRpb24gaXMgYSBwcm9jZXNzIG9mIHdhbGtpbmcgdGhlIERPTSB0cmVlIGFuZCBtYXRjaGluZyBET00gZWxlbWVudHMgdG9cclxuICoge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogVGhpcyBkb2N1bWVudCBpcyBhbiBpbi1kZXB0aCByZWZlcmVuY2Ugb2YgYWxsIGRpcmVjdGl2ZSBvcHRpb25zLlxyXG4gKiBGb3IgYSBnZW50bGUgaW50cm9kdWN0aW9uIHRvIGRpcmVjdGl2ZXMgd2l0aCBleGFtcGxlcyBvZiBjb21tb24gdXNlIGNhc2VzLFxyXG4gKiBzZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlIGd1aWRlfS5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqICMjIENvbXByZWhlbnNpdmUgRGlyZWN0aXZlIEFQSVxyXG4gKlxyXG4gKiBUaGVyZSBhcmUgbWFueSBkaWZmZXJlbnQgb3B0aW9ucyBmb3IgYSBkaXJlY3RpdmUuXHJcbiAqXHJcbiAqIFRoZSBkaWZmZXJlbmNlIHJlc2lkZXMgaW4gdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmFjdG9yeSBmdW5jdGlvbi5cclxuICogWW91IGNhbiBlaXRoZXIgcmV0dXJuIGEgXCJEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3RcIiAoc2VlIGJlbG93KSB0aGF0IGRlZmluZXMgdGhlIGRpcmVjdGl2ZSBwcm9wZXJ0aWVzLFxyXG4gKiBvciBqdXN0IHRoZSBgcG9zdExpbmtgIGZ1bmN0aW9uIChhbGwgb3RoZXIgcHJvcGVydGllcyB3aWxsIGhhdmUgdGhlIGRlZmF1bHQgdmFsdWVzKS5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cclxuICogKipCZXN0IFByYWN0aWNlOioqIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBcImRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdFwiIGZvcm0uXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBkaXJlY3RpdmUgZGVjbGFyZWQgd2l0aCBhIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdDpcclxuICpcclxuICogYGBganNcclxuICogICB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xyXG4gKlxyXG4gKiAgIG15TW9kdWxlLmRpcmVjdGl2ZSgnZGlyZWN0aXZlTmFtZScsIGZ1bmN0aW9uIGZhY3RvcnkoaW5qZWN0YWJsZXMpIHtcclxuICogICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0ge1xyXG4gKiAgICAgICBwcmlvcml0eTogMCxcclxuICogICAgICAgdGVtcGxhdGU6ICc8ZGl2PjwvZGl2PicsIC8vIG9yIC8vIGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHsgLi4uIH0sXHJcbiAqICAgICAgIC8vIG9yXHJcbiAqICAgICAgIC8vIHRlbXBsYXRlVXJsOiAnZGlyZWN0aXZlLmh0bWwnLCAvLyBvciAvLyBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7IC4uLiB9LFxyXG4gKiAgICAgICB0cmFuc2NsdWRlOiBmYWxzZSxcclxuICogICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICogICAgICAgdGVtcGxhdGVOYW1lc3BhY2U6ICdodG1sJyxcclxuICogICAgICAgc2NvcGU6IGZhbHNlLFxyXG4gKiAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0cmFuc2NsdWRlLCBvdGhlckluamVjdGFibGVzKSB7IC4uLiB9LFxyXG4gKiAgICAgICBjb250cm9sbGVyQXM6ICdzdHJpbmdJZGVudGlmaWVyJyxcclxuICogICAgICAgYmluZFRvQ29udHJvbGxlcjogZmFsc2UsXHJcbiAqICAgICAgIHJlcXVpcmU6ICdzaWJsaW5nRGlyZWN0aXZlTmFtZScsIC8vIG9yIC8vIFsnXnBhcmVudERpcmVjdGl2ZU5hbWUnLCAnP29wdGlvbmFsRGlyZWN0aXZlTmFtZScsICc/Xm9wdGlvbmFsUGFyZW50J10sXHJcbiAqICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkge1xyXG4gKiAgICAgICAgIHJldHVybiB7XHJcbiAqICAgICAgICAgICBwcmU6IGZ1bmN0aW9uIHByZUxpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH0sXHJcbiAqICAgICAgICAgICBwb3N0OiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfVxyXG4gKiAgICAgICAgIH1cclxuICogICAgICAgICAvLyBvclxyXG4gKiAgICAgICAgIC8vIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayggLi4uICkgeyAuLi4gfVxyXG4gKiAgICAgICB9LFxyXG4gKiAgICAgICAvLyBvclxyXG4gKiAgICAgICAvLyBsaW5rOiB7XHJcbiAqICAgICAgIC8vICBwcmU6IGZ1bmN0aW9uIHByZUxpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH0sXHJcbiAqICAgICAgIC8vICBwb3N0OiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfVxyXG4gKiAgICAgICAvLyB9XHJcbiAqICAgICAgIC8vIG9yXHJcbiAqICAgICAgIC8vIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKCAuLi4gKSB7IC4uLiB9XHJcbiAqICAgICB9O1xyXG4gKiAgICAgcmV0dXJuIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3Q7XHJcbiAqICAgfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogQW55IHVuc3BlY2lmaWVkIG9wdGlvbnMgd2lsbCB1c2UgdGhlIGRlZmF1bHQgdmFsdWUuIFlvdSBjYW4gc2VlIHRoZSBkZWZhdWx0IHZhbHVlcyBiZWxvdy5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIFRoZXJlZm9yZSB0aGUgYWJvdmUgY2FuIGJlIHNpbXBsaWZpZWQgYXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcclxuICpcclxuICogICBteU1vZHVsZS5kaXJlY3RpdmUoJ2RpcmVjdGl2ZU5hbWUnLCBmdW5jdGlvbiBmYWN0b3J5KGluamVjdGFibGVzKSB7XHJcbiAqICAgICB2YXIgZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCA9IHtcclxuICogICAgICAgbGluazogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHsgLi4uIH1cclxuICogICAgIH07XHJcbiAqICAgICByZXR1cm4gZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdDtcclxuICogICAgIC8vIG9yXHJcbiAqICAgICAvLyByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHsgLi4uIH1cclxuICogICB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqXHJcbiAqXHJcbiAqICMjIyBEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3RcclxuICpcclxuICogVGhlIGRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdCBwcm92aWRlcyBpbnN0cnVjdGlvbnMgdG8gdGhlIHtAbGluayBuZy4kY29tcGlsZVxyXG4gKiBjb21waWxlcn0uIFRoZSBhdHRyaWJ1dGVzIGFyZTpcclxuICpcclxuICogIyMjIyBgbXVsdGlFbGVtZW50YFxyXG4gKiBXaGVuIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUsIHRoZSBIVE1MIGNvbXBpbGVyIHdpbGwgY29sbGVjdCBET00gbm9kZXMgYmV0d2VlblxyXG4gKiBub2RlcyB3aXRoIHRoZSBhdHRyaWJ1dGVzIGBkaXJlY3RpdmUtbmFtZS1zdGFydGAgYW5kIGBkaXJlY3RpdmUtbmFtZS1lbmRgLCBhbmQgZ3JvdXAgdGhlbVxyXG4gKiB0b2dldGhlciBhcyB0aGUgZGlyZWN0aXZlIGVsZW1lbnRzLiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoaXMgZmVhdHVyZSBiZSB1c2VkIG9uIGRpcmVjdGl2ZXNcclxuICogd2hpY2ggYXJlIG5vdCBzdHJpY3RseSBiZWhhdmlvcmFsIChzdWNoIGFzIHtAbGluayBuZ0NsaWNrfSksIGFuZCB3aGljaFxyXG4gKiBkbyBub3QgbWFuaXB1bGF0ZSBvciByZXBsYWNlIGNoaWxkIG5vZGVzIChzdWNoIGFzIHtAbGluayBuZ0luY2x1ZGV9KS5cclxuICpcclxuICogIyMjIyBgcHJpb3JpdHlgXHJcbiAqIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGRpcmVjdGl2ZXMgZGVmaW5lZCBvbiBhIHNpbmdsZSBET00gZWxlbWVudCwgc29tZXRpbWVzIGl0XHJcbiAqIGlzIG5lY2Vzc2FyeSB0byBzcGVjaWZ5IHRoZSBvcmRlciBpbiB3aGljaCB0aGUgZGlyZWN0aXZlcyBhcmUgYXBwbGllZC4gVGhlIGBwcmlvcml0eWAgaXMgdXNlZFxyXG4gKiB0byBzb3J0IHRoZSBkaXJlY3RpdmVzIGJlZm9yZSB0aGVpciBgY29tcGlsZWAgZnVuY3Rpb25zIGdldCBjYWxsZWQuIFByaW9yaXR5IGlzIGRlZmluZWQgYXMgYVxyXG4gKiBudW1iZXIuIERpcmVjdGl2ZXMgd2l0aCBncmVhdGVyIG51bWVyaWNhbCBgcHJpb3JpdHlgIGFyZSBjb21waWxlZCBmaXJzdC4gUHJlLWxpbmsgZnVuY3Rpb25zXHJcbiAqIGFyZSBhbHNvIHJ1biBpbiBwcmlvcml0eSBvcmRlciwgYnV0IHBvc3QtbGluayBmdW5jdGlvbnMgYXJlIHJ1biBpbiByZXZlcnNlIG9yZGVyLiBUaGUgb3JkZXJcclxuICogb2YgZGlyZWN0aXZlcyB3aXRoIHRoZSBzYW1lIHByaW9yaXR5IGlzIHVuZGVmaW5lZC4gVGhlIGRlZmF1bHQgcHJpb3JpdHkgaXMgYDBgLlxyXG4gKlxyXG4gKiAjIyMjIGB0ZXJtaW5hbGBcclxuICogSWYgc2V0IHRvIHRydWUgdGhlbiB0aGUgY3VycmVudCBgcHJpb3JpdHlgIHdpbGwgYmUgdGhlIGxhc3Qgc2V0IG9mIGRpcmVjdGl2ZXNcclxuICogd2hpY2ggd2lsbCBleGVjdXRlIChhbnkgZGlyZWN0aXZlcyBhdCB0aGUgY3VycmVudCBwcmlvcml0eSB3aWxsIHN0aWxsIGV4ZWN1dGVcclxuICogYXMgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiBvbiBzYW1lIGBwcmlvcml0eWAgaXMgdW5kZWZpbmVkKS4gTm90ZSB0aGF0IGV4cHJlc3Npb25zXHJcbiAqIGFuZCBvdGhlciBkaXJlY3RpdmVzIHVzZWQgaW4gdGhlIGRpcmVjdGl2ZSdzIHRlbXBsYXRlIHdpbGwgYWxzbyBiZSBleGNsdWRlZCBmcm9tIGV4ZWN1dGlvbi5cclxuICpcclxuICogIyMjIyBgc2NvcGVgXHJcbiAqIFRoZSBzY29wZSBwcm9wZXJ0eSBjYW4gYmUgYHRydWVgLCBhbiBvYmplY3Qgb3IgYSBmYWxzeSB2YWx1ZTpcclxuICpcclxuICogKiAqKmZhbHN5OioqIE5vIHNjb3BlIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhlIGRpcmVjdGl2ZS4gVGhlIGRpcmVjdGl2ZSB3aWxsIHVzZSBpdHMgcGFyZW50J3Mgc2NvcGUuXHJcbiAqXHJcbiAqICogKipgdHJ1ZWA6KiogQSBuZXcgY2hpbGQgc2NvcGUgdGhhdCBwcm90b3R5cGljYWxseSBpbmhlcml0cyBmcm9tIGl0cyBwYXJlbnQgd2lsbCBiZSBjcmVhdGVkIGZvclxyXG4gKiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC4gSWYgbXVsdGlwbGUgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBlbGVtZW50IHJlcXVlc3QgYSBuZXcgc2NvcGUsXHJcbiAqIG9ubHkgb25lIG5ldyBzY29wZSBpcyBjcmVhdGVkLiBUaGUgbmV3IHNjb3BlIHJ1bGUgZG9lcyBub3QgYXBwbHkgZm9yIHRoZSByb290IG9mIHRoZSB0ZW1wbGF0ZVxyXG4gKiBzaW5jZSB0aGUgcm9vdCBvZiB0aGUgdGVtcGxhdGUgYWx3YXlzIGdldHMgYSBuZXcgc2NvcGUuXHJcbiAqXHJcbiAqICogKipgey4uLn1gIChhbiBvYmplY3QgaGFzaCk6KiogQSBuZXcgXCJpc29sYXRlXCIgc2NvcGUgaXMgY3JlYXRlZCBmb3IgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuIFRoZVxyXG4gKiAnaXNvbGF0ZScgc2NvcGUgZGlmZmVycyBmcm9tIG5vcm1hbCBzY29wZSBpbiB0aGF0IGl0IGRvZXMgbm90IHByb3RvdHlwaWNhbGx5IGluaGVyaXQgZnJvbSBpdHMgcGFyZW50XHJcbiAqIHNjb3BlLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGNyZWF0aW5nIHJldXNhYmxlIGNvbXBvbmVudHMsIHdoaWNoIHNob3VsZCBub3QgYWNjaWRlbnRhbGx5IHJlYWQgb3IgbW9kaWZ5XHJcbiAqIGRhdGEgaW4gdGhlIHBhcmVudCBzY29wZS5cclxuICpcclxuICogVGhlICdpc29sYXRlJyBzY29wZSBvYmplY3QgaGFzaCBkZWZpbmVzIGEgc2V0IG9mIGxvY2FsIHNjb3BlIHByb3BlcnRpZXMgZGVyaXZlZCBmcm9tIGF0dHJpYnV0ZXMgb24gdGhlXHJcbiAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQuIFRoZXNlIGxvY2FsIHByb3BlcnRpZXMgYXJlIHVzZWZ1bCBmb3IgYWxpYXNpbmcgdmFsdWVzIGZvciB0ZW1wbGF0ZXMuIFRoZSBrZXlzIGluXHJcbiAqIHRoZSBvYmplY3QgaGFzaCBtYXAgdG8gdGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IG9uIHRoZSBpc29sYXRlIHNjb3BlOyB0aGUgdmFsdWVzIGRlZmluZSBob3cgdGhlIHByb3BlcnR5XHJcbiAqIGlzIGJvdW5kIHRvIHRoZSBwYXJlbnQgc2NvcGUsIHZpYSBtYXRjaGluZyBhdHRyaWJ1dGVzIG9uIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50OlxyXG4gKlxyXG4gKiAqIGBAYCBvciBgQGF0dHJgIC0gYmluZCBhIGxvY2FsIHNjb3BlIHByb3BlcnR5IHRvIHRoZSB2YWx1ZSBvZiBET00gYXR0cmlidXRlLiBUaGUgcmVzdWx0IGlzXHJcbiAqICAgYWx3YXlzIGEgc3RyaW5nIHNpbmNlIERPTSBhdHRyaWJ1dGVzIGFyZSBzdHJpbmdzLiBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGVcclxuICogICBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbCBuYW1lLiBHaXZlbiBgPG15LWNvbXBvbmVudFxyXG4gKiAgIG15LWF0dHI9XCJoZWxsbyB7e25hbWV9fVwiPmAgYW5kIHRoZSBpc29sYXRlIHNjb3BlIGRlZmluaXRpb24gYHNjb3BlOiB7IGxvY2FsTmFtZTonQG15QXR0cicgfWAsXHJcbiAqICAgdGhlIGRpcmVjdGl2ZSdzIHNjb3BlIHByb3BlcnR5IGBsb2NhbE5hbWVgIHdpbGwgcmVmbGVjdCB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlIG9mIGBoZWxsb1xyXG4gKiAgIHt7bmFtZX19YC4gQXMgdGhlIGBuYW1lYCBhdHRyaWJ1dGUgY2hhbmdlcyBzbyB3aWxsIHRoZSBgbG9jYWxOYW1lYCBwcm9wZXJ0eSBvbiB0aGUgZGlyZWN0aXZlJ3NcclxuICogICBzY29wZS4gVGhlIGBuYW1lYCBpcyByZWFkIGZyb20gdGhlIHBhcmVudCBzY29wZSAobm90IHRoZSBkaXJlY3RpdmUncyBzY29wZSkuXHJcbiAqXHJcbiAqICogYD1gIG9yIGA9YXR0cmAgLSBzZXQgdXAgYSBiaWRpcmVjdGlvbmFsIGJpbmRpbmcgYmV0d2VlbiBhIGxvY2FsIHNjb3BlIHByb3BlcnR5IGFuZCBhbiBleHByZXNzaW9uXHJcbiAqICAgcGFzc2VkIHZpYSB0aGUgYXR0cmlidXRlIGBhdHRyYC4gVGhlIGV4cHJlc3Npb24gaXMgZXZhbHVhdGVkIGluIHRoZSBjb250ZXh0IG9mIHRoZSBwYXJlbnQgc2NvcGUuXHJcbiAqICAgSWYgbm8gYGF0dHJgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIGxvY2FsXHJcbiAqICAgbmFtZS4gR2l2ZW4gYDxteS1jb21wb25lbnQgbXktYXR0cj1cInBhcmVudE1vZGVsXCI+YCBhbmQgdGhlIGlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbiBgc2NvcGU6IHtcclxuICogICBsb2NhbE1vZGVsOiAnPW15QXR0cicgfWAsIHRoZSBwcm9wZXJ0eSBgbG9jYWxNb2RlbGAgb24gdGhlIGRpcmVjdGl2ZSdzIHNjb3BlIHdpbGwgcmVmbGVjdCB0aGVcclxuICogICB2YWx1ZSBvZiBgcGFyZW50TW9kZWxgIG9uIHRoZSBwYXJlbnQgc2NvcGUuIENoYW5nZXMgdG8gYHBhcmVudE1vZGVsYCB3aWxsIGJlIHJlZmxlY3RlZCBpblxyXG4gKiAgIGBsb2NhbE1vZGVsYCBhbmQgdmljZSB2ZXJzYS4gT3B0aW9uYWwgYXR0cmlidXRlcyBzaG91bGQgYmUgbWFya2VkIGFzIHN1Y2ggd2l0aCBhIHF1ZXN0aW9uIG1hcms6XHJcbiAqICAgYD0/YCBvciBgPT9hdHRyYC4gSWYgdGhlIGJpbmRpbmcgZXhwcmVzc2lvbiBpcyBub24tYXNzaWduYWJsZSwgb3IgaWYgdGhlIGF0dHJpYnV0ZSBpc24ndFxyXG4gKiAgIG9wdGlvbmFsIGFuZCBkb2Vzbid0IGV4aXN0LCBhbiBleGNlcHRpb24gKHtAbGluayBlcnJvci8kY29tcGlsZS9ub25hc3NpZ24gYCRjb21waWxlOm5vbmFzc2lnbmB9KVxyXG4gKiAgIHdpbGwgYmUgdGhyb3duIHVwb24gZGlzY292ZXJpbmcgY2hhbmdlcyB0byB0aGUgbG9jYWwgdmFsdWUsIHNpbmNlIGl0IHdpbGwgYmUgaW1wb3NzaWJsZSB0byBzeW5jXHJcbiAqICAgdGhlbSBiYWNrIHRvIHRoZSBwYXJlbnQgc2NvcGUuIEJ5IGRlZmF1bHQsIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggYCR3YXRjaGB9XHJcbiAqICAgbWV0aG9kIGlzIHVzZWQgZm9yIHRyYWNraW5nIGNoYW5nZXMsIGFuZCB0aGUgZXF1YWxpdHkgY2hlY2sgaXMgYmFzZWQgb24gb2JqZWN0IGlkZW50aXR5LlxyXG4gKiAgIEhvd2V2ZXIsIGlmIGFuIG9iamVjdCBsaXRlcmFsIG9yIGFuIGFycmF5IGxpdGVyYWwgaXMgcGFzc2VkIGFzIHRoZSBiaW5kaW5nIGV4cHJlc3Npb24sIHRoZVxyXG4gKiAgIGVxdWFsaXR5IGNoZWNrIGlzIGRvbmUgYnkgdmFsdWUgKHVzaW5nIHRoZSB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGZ1bmN0aW9uKS4gSXQncyBhbHNvIHBvc3NpYmxlXHJcbiAqICAgdG8gd2F0Y2ggdGhlIGV2YWx1YXRlZCB2YWx1ZSBzaGFsbG93bHkgd2l0aCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hDb2xsZWN0aW9uXHJcbiAqICAgYCR3YXRjaENvbGxlY3Rpb25gfTogdXNlIGA9KmAgb3IgYD0qYXR0cmAgKGA9Kj9gIG9yIGA9Kj9hdHRyYCBpZiB0aGUgYXR0cmlidXRlIGlzIG9wdGlvbmFsKS5cclxuICpcclxuICAqICogYDxgIG9yIGA8YXR0cmAgLSBzZXQgdXAgYSBvbmUtd2F5IChvbmUtZGlyZWN0aW9uYWwpIGJpbmRpbmcgYmV0d2VlbiBhIGxvY2FsIHNjb3BlIHByb3BlcnR5IGFuZCBhblxyXG4gKiAgIGV4cHJlc3Npb24gcGFzc2VkIHZpYSB0aGUgYXR0cmlidXRlIGBhdHRyYC4gVGhlIGV4cHJlc3Npb24gaXMgZXZhbHVhdGVkIGluIHRoZSBjb250ZXh0IG9mIHRoZVxyXG4gKiAgIHBhcmVudCBzY29wZS4gSWYgbm8gYGF0dHJgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlXHJcbiAqICAgbG9jYWwgbmFtZS4gWW91IGNhbiBhbHNvIG1ha2UgdGhlIGJpbmRpbmcgb3B0aW9uYWwgYnkgYWRkaW5nIGA/YDogYDw/YCBvciBgPD9hdHRyYC5cclxuICpcclxuICogICBGb3IgZXhhbXBsZSwgZ2l2ZW4gYDxteS1jb21wb25lbnQgbXktYXR0cj1cInBhcmVudE1vZGVsXCI+YCBhbmQgZGlyZWN0aXZlIGRlZmluaXRpb24gb2ZcclxuICogICBgc2NvcGU6IHsgbG9jYWxNb2RlbDonPG15QXR0cicgfWAsIHRoZW4gdGhlIGlzb2xhdGVkIHNjb3BlIHByb3BlcnR5IGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgdGhlXHJcbiAqICAgdmFsdWUgb2YgYHBhcmVudE1vZGVsYCBvbiB0aGUgcGFyZW50IHNjb3BlLiBBbnkgY2hhbmdlcyB0byBgcGFyZW50TW9kZWxgIHdpbGwgYmUgcmVmbGVjdGVkXHJcbiAqICAgaW4gYGxvY2FsTW9kZWxgLCBidXQgY2hhbmdlcyBpbiBgbG9jYWxNb2RlbGAgd2lsbCBub3QgcmVmbGVjdCBpbiBgcGFyZW50TW9kZWxgLiBUaGVyZSBhcmUgaG93ZXZlclxyXG4gKiAgIHR3byBjYXZlYXRzOlxyXG4gKiAgICAgMS4gb25lLXdheSBiaW5kaW5nIGRvZXMgbm90IGNvcHkgdGhlIHZhbHVlIGZyb20gdGhlIHBhcmVudCB0byB0aGUgaXNvbGF0ZSBzY29wZSwgaXQgc2ltcGx5XHJcbiAqICAgICBzZXRzIHRoZSBzYW1lIHZhbHVlLiBUaGF0IG1lYW5zIGlmIHlvdXIgYm91bmQgdmFsdWUgaXMgYW4gb2JqZWN0LCBjaGFuZ2VzIHRvIGl0cyBwcm9wZXJ0aWVzXHJcbiAqICAgICBpbiB0aGUgaXNvbGF0ZWQgc2NvcGUgd2lsbCBiZSByZWZsZWN0ZWQgaW4gdGhlIHBhcmVudCBzY29wZSAoYmVjYXVzZSBib3RoIHJlZmVyZW5jZSB0aGUgc2FtZSBvYmplY3QpLlxyXG4gKiAgICAgMi4gb25lLXdheSBiaW5kaW5nIHdhdGNoZXMgY2hhbmdlcyB0byB0aGUgKippZGVudGl0eSoqIG9mIHRoZSBwYXJlbnQgdmFsdWUuIFRoYXQgbWVhbnMgdGhlXHJcbiAqICAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggYCR3YXRjaGB9IG9uIHRoZSBwYXJlbnQgdmFsdWUgb25seSBmaXJlcyBpZiB0aGUgcmVmZXJlbmNlXHJcbiAqICAgICB0byB0aGUgdmFsdWUgaGFzIGNoYW5nZWQuIEluIG1vc3QgY2FzZXMsIHRoaXMgc2hvdWxkIG5vdCBiZSBvZiBjb25jZXJuLCBidXQgY2FuIGJlIGltcG9ydGFudFxyXG4gKiAgICAgdG8ga25vdyBpZiB5b3Ugb25lLXdheSBiaW5kIHRvIGFuIG9iamVjdCwgYW5kIHRoZW4gcmVwbGFjZSB0aGF0IG9iamVjdCBpbiB0aGUgaXNvbGF0ZWQgc2NvcGUuXHJcbiAqICAgICBJZiB5b3Ugbm93IGNoYW5nZSBhIHByb3BlcnR5IG9mIHRoZSBvYmplY3QgaW4geW91ciBwYXJlbnQgc2NvcGUsIHRoZSBjaGFuZ2Ugd2lsbCBub3QgYmVcclxuICogICAgIHByb3BhZ2F0ZWQgdG8gdGhlIGlzb2xhdGVkIHNjb3BlLCBiZWNhdXNlIHRoZSBpZGVudGl0eSBvZiB0aGUgb2JqZWN0IG9uIHRoZSBwYXJlbnQgc2NvcGVcclxuICogICAgIGhhcyBub3QgY2hhbmdlZC4gSW5zdGVhZCB5b3UgbXVzdCBhc3NpZ24gYSBuZXcgb2JqZWN0LlxyXG4gKlxyXG4gKiAgIE9uZS13YXkgYmluZGluZyBpcyB1c2VmdWwgaWYgeW91IGRvIG5vdCBwbGFuIHRvIHByb3BhZ2F0ZSBjaGFuZ2VzIHRvIHlvdXIgaXNvbGF0ZWQgc2NvcGUgYmluZGluZ3NcclxuICogICBiYWNrIHRvIHRoZSBwYXJlbnQuIEhvd2V2ZXIsIGl0IGRvZXMgbm90IG1ha2UgdGhpcyBjb21wbGV0ZWx5IGltcG9zc2libGUuXHJcbiAqXHJcbiAqICogYCZgIG9yIGAmYXR0cmAgLSBwcm92aWRlcyBhIHdheSB0byBleGVjdXRlIGFuIGV4cHJlc3Npb24gaW4gdGhlIGNvbnRleHQgb2YgdGhlIHBhcmVudCBzY29wZS4gSWZcclxuICogICBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgbG9jYWwgbmFtZS5cclxuICogICBHaXZlbiBgPG15LWNvbXBvbmVudCBteS1hdHRyPVwiY291bnQgPSBjb3VudCArIHZhbHVlXCI+YCBhbmQgdGhlIGlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbiBgc2NvcGU6IHtcclxuICogICBsb2NhbEZuOicmbXlBdHRyJyB9YCwgdGhlIGlzb2xhdGUgc2NvcGUgcHJvcGVydHkgYGxvY2FsRm5gIHdpbGwgcG9pbnQgdG8gYSBmdW5jdGlvbiB3cmFwcGVyIGZvclxyXG4gKiAgIHRoZSBgY291bnQgPSBjb3VudCArIHZhbHVlYCBleHByZXNzaW9uLiBPZnRlbiBpdCdzIGRlc2lyYWJsZSB0byBwYXNzIGRhdGEgZnJvbSB0aGUgaXNvbGF0ZWQgc2NvcGVcclxuICogICB2aWEgYW4gZXhwcmVzc2lvbiB0byB0aGUgcGFyZW50IHNjb3BlLiBUaGlzIGNhbiBiZSBkb25lIGJ5IHBhc3NpbmcgYSBtYXAgb2YgbG9jYWwgdmFyaWFibGUgbmFtZXNcclxuICogICBhbmQgdmFsdWVzIGludG8gdGhlIGV4cHJlc3Npb24gd3JhcHBlciBmbi4gRm9yIGV4YW1wbGUsIGlmIHRoZSBleHByZXNzaW9uIGlzIGBpbmNyZW1lbnQoYW1vdW50KWBcclxuICogICB0aGVuIHdlIGNhbiBzcGVjaWZ5IHRoZSBhbW91bnQgdmFsdWUgYnkgY2FsbGluZyB0aGUgYGxvY2FsRm5gIGFzIGBsb2NhbEZuKHthbW91bnQ6IDIyfSlgLlxyXG4gKlxyXG4gKiBJbiBnZW5lcmFsIGl0J3MgcG9zc2libGUgdG8gYXBwbHkgbW9yZSB0aGFuIG9uZSBkaXJlY3RpdmUgdG8gb25lIGVsZW1lbnQsIGJ1dCB0aGVyZSBtaWdodCBiZSBsaW1pdGF0aW9uc1xyXG4gKiBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2Ygc2NvcGUgcmVxdWlyZWQgYnkgdGhlIGRpcmVjdGl2ZXMuIFRoZSBmb2xsb3dpbmcgcG9pbnRzIHdpbGwgaGVscCBleHBsYWluIHRoZXNlIGxpbWl0YXRpb25zLlxyXG4gKiBGb3Igc2ltcGxpY2l0eSBvbmx5IHR3byBkaXJlY3RpdmVzIGFyZSB0YWtlbiBpbnRvIGFjY291bnQsIGJ1dCBpdCBpcyBhbHNvIGFwcGxpY2FibGUgZm9yIHNldmVyYWwgZGlyZWN0aXZlczpcclxuICpcclxuICogKiAqKm5vIHNjb3BlKiogKyAqKm5vIHNjb3BlKiogPT4gVHdvIGRpcmVjdGl2ZXMgd2hpY2ggZG9uJ3QgcmVxdWlyZSB0aGVpciBvd24gc2NvcGUgd2lsbCB1c2UgdGhlaXIgcGFyZW50J3Mgc2NvcGVcclxuICogKiAqKmNoaWxkIHNjb3BlKiogKyAqKm5vIHNjb3BlKiogPT4gIEJvdGggZGlyZWN0aXZlcyB3aWxsIHNoYXJlIG9uZSBzaW5nbGUgY2hpbGQgc2NvcGVcclxuICogKiAqKmNoaWxkIHNjb3BlKiogKyAqKmNoaWxkIHNjb3BlKiogPT4gIEJvdGggZGlyZWN0aXZlcyB3aWxsIHNoYXJlIG9uZSBzaW5nbGUgY2hpbGQgc2NvcGVcclxuICogKiAqKmlzb2xhdGVkIHNjb3BlKiogKyAqKm5vIHNjb3BlKiogPT4gIFRoZSBpc29sYXRlZCBkaXJlY3RpdmUgd2lsbCB1c2UgaXQncyBvd24gY3JlYXRlZCBpc29sYXRlZCBzY29wZS4gVGhlIG90aGVyIGRpcmVjdGl2ZSB3aWxsIHVzZVxyXG4gKiBpdHMgcGFyZW50J3Mgc2NvcGVcclxuICogKiAqKmlzb2xhdGVkIHNjb3BlKiogKyAqKmNoaWxkIHNjb3BlKiogPT4gICoqV29uJ3Qgd29yayEqKiBPbmx5IG9uZSBzY29wZSBjYW4gYmUgcmVsYXRlZCB0byBvbmUgZWxlbWVudC4gVGhlcmVmb3JlIHRoZXNlIGRpcmVjdGl2ZXMgY2Fubm90XHJcbiAqIGJlIGFwcGxpZWQgdG8gdGhlIHNhbWUgZWxlbWVudC5cclxuICogKiAqKmlzb2xhdGVkIHNjb3BlKiogKyAqKmlzb2xhdGVkIHNjb3BlKiogID0+ICAqKldvbid0IHdvcmshKiogT25seSBvbmUgc2NvcGUgY2FuIGJlIHJlbGF0ZWQgdG8gb25lIGVsZW1lbnQuIFRoZXJlZm9yZSB0aGVzZSBkaXJlY3RpdmVzXHJcbiAqIGNhbm5vdCBiZSBhcHBsaWVkIHRvIHRoZSBzYW1lIGVsZW1lbnQuXHJcbiAqXHJcbiAqXHJcbiAqICMjIyMgYGJpbmRUb0NvbnRyb2xsZXJgXHJcbiAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCB0byBiaW5kIHNjb3BlIHByb3BlcnRpZXMgZGlyZWN0bHkgdG8gdGhlIGNvbnRyb2xsZXIuIEl0IGNhbiBiZSBlaXRoZXJcclxuICogYHRydWVgIG9yIGFuIG9iamVjdCBoYXNoIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIHRoZSBgc2NvcGVgIHByb3BlcnR5LiBBZGRpdGlvbmFsbHksIGEgY29udHJvbGxlclxyXG4gKiBhbGlhcyBtdXN0IGJlIHNldCwgZWl0aGVyIGJ5IHVzaW5nIGBjb250cm9sbGVyQXM6ICdteUFsaWFzJ2Agb3IgYnkgc3BlY2lmeWluZyB0aGUgYWxpYXMgaW4gdGhlIGNvbnRyb2xsZXJcclxuICogZGVmaW5pdGlvbjogYGNvbnRyb2xsZXI6ICdteUN0cmwgYXMgbXlBbGlhcydgLlxyXG4gKlxyXG4gKiBXaGVuIGFuIGlzb2xhdGUgc2NvcGUgaXMgdXNlZCBmb3IgYSBkaXJlY3RpdmUgKHNlZSBhYm92ZSksIGBiaW5kVG9Db250cm9sbGVyOiB0cnVlYCB3aWxsXHJcbiAqIGFsbG93IGEgY29tcG9uZW50IHRvIGhhdmUgaXRzIHByb3BlcnRpZXMgYm91bmQgdG8gdGhlIGNvbnRyb2xsZXIsIHJhdGhlciB0aGFuIHRvIHNjb3BlLlxyXG4gKlxyXG4gKiBBZnRlciB0aGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQsIHRoZSBpbml0aWFsIHZhbHVlcyBvZiB0aGUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyB3aWxsIGJlIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyXHJcbiAqIHByb3BlcnRpZXMuIFlvdSBjYW4gYWNjZXNzIHRoZXNlIGJpbmRpbmdzIG9uY2UgdGhleSBoYXZlIGJlZW4gaW5pdGlhbGl6ZWQgYnkgcHJvdmlkaW5nIGEgY29udHJvbGxlciBtZXRob2QgY2FsbGVkXHJcbiAqIGAkb25Jbml0YCwgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIGFsbCB0aGUgY29udHJvbGxlcnMgb24gYW4gZWxlbWVudCBoYXZlIGJlZW4gY29uc3RydWN0ZWQgYW5kIGhhZCB0aGVpciBiaW5kaW5nc1xyXG4gKiBpbml0aWFsaXplZC5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogKipEZXByZWNhdGlvbiB3YXJuaW5nOioqIGFsdGhvdWdoIGJpbmRpbmdzIGZvciBub24tRVM2IGNsYXNzIGNvbnRyb2xsZXJzIGFyZSBjdXJyZW50bHlcclxuICogYm91bmQgdG8gYHRoaXNgIGJlZm9yZSB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciBpcyBjYWxsZWQsIHRoaXMgdXNlIGlzIG5vdyBkZXByZWNhdGVkLiBQbGVhc2UgcGxhY2UgaW5pdGlhbGl6YXRpb25cclxuICogY29kZSB0aGF0IHJlbGllcyB1cG9uIGJpbmRpbmdzIGluc2lkZSBhIGAkb25Jbml0YCBtZXRob2Qgb24gdGhlIGNvbnRyb2xsZXIsIGluc3RlYWQuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIHNldCBgYmluZFRvQ29udHJvbGxlcmAgdG8gYW4gb2JqZWN0IGhhc2ggd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgdGhlIGBzY29wZWAgcHJvcGVydHkuXHJcbiAqIFRoaXMgd2lsbCBzZXQgdXAgdGhlIHNjb3BlIGJpbmRpbmdzIHRvIHRoZSBjb250cm9sbGVyIGRpcmVjdGx5LiBOb3RlIHRoYXQgYHNjb3BlYCBjYW4gc3RpbGwgYmUgdXNlZFxyXG4gKiB0byBkZWZpbmUgd2hpY2gga2luZCBvZiBzY29wZSBpcyBjcmVhdGVkLiBCeSBkZWZhdWx0LCBubyBzY29wZSBpcyBjcmVhdGVkLiBVc2UgYHNjb3BlOiB7fWAgdG8gY3JlYXRlIGFuIGlzb2xhdGVcclxuICogc2NvcGUgKHVzZWZ1bCBmb3IgY29tcG9uZW50IGRpcmVjdGl2ZXMpLlxyXG4gKlxyXG4gKiBJZiBib3RoIGBiaW5kVG9Db250cm9sbGVyYCBhbmQgYHNjb3BlYCBhcmUgZGVmaW5lZCBhbmQgaGF2ZSBvYmplY3QgaGFzaGVzLCBgYmluZFRvQ29udHJvbGxlcmAgb3ZlcnJpZGVzIGBzY29wZWAuXHJcbiAqXHJcbiAqXHJcbiAqICMjIyMgYGNvbnRyb2xsZXJgXHJcbiAqIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIFRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCBiZWZvcmUgdGhlXHJcbiAqIHByZS1saW5raW5nIHBoYXNlIGFuZCBjYW4gYmUgYWNjZXNzZWQgYnkgb3RoZXIgZGlyZWN0aXZlcyAoc2VlXHJcbiAqIGByZXF1aXJlYCBhdHRyaWJ1dGUpLiBUaGlzIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byBjb21tdW5pY2F0ZSB3aXRoIGVhY2ggb3RoZXIgYW5kIGF1Z21lbnRcclxuICogZWFjaCBvdGhlcidzIGJlaGF2aW9yLiBUaGUgY29udHJvbGxlciBpcyBpbmplY3RhYmxlIChhbmQgc3VwcG9ydHMgYnJhY2tldCBub3RhdGlvbikgd2l0aCB0aGUgZm9sbG93aW5nIGxvY2FsczpcclxuICpcclxuICogKiBgJHNjb3BlYCAtIEN1cnJlbnQgc2NvcGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50XHJcbiAqICogYCRlbGVtZW50YCAtIEN1cnJlbnQgZWxlbWVudFxyXG4gKiAqIGAkYXR0cnNgIC0gQ3VycmVudCBhdHRyaWJ1dGVzIG9iamVjdCBmb3IgdGhlIGVsZW1lbnRcclxuICogKiBgJHRyYW5zY2x1ZGVgIC0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb24gcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZTpcclxuICogICBgZnVuY3Rpb24oW3Njb3BlXSwgY2xvbmVMaW5raW5nRm4sIGZ1dHVyZVBhcmVudEVsZW1lbnQsIHNsb3ROYW1lKWA6XHJcbiAqICAgICogYHNjb3BlYDogKG9wdGlvbmFsKSBvdmVycmlkZSB0aGUgc2NvcGUuXHJcbiAqICAgICogYGNsb25lTGlua2luZ0ZuYDogKG9wdGlvbmFsKSBhcmd1bWVudCB0byBjcmVhdGUgY2xvbmVzIG9mIHRoZSBvcmlnaW5hbCB0cmFuc2NsdWRlZCBjb250ZW50LlxyXG4gKiAgICAqIGBmdXR1cmVQYXJlbnRFbGVtZW50YCAob3B0aW9uYWwpOlxyXG4gKiAgICAgICAgKiBkZWZpbmVzIHRoZSBwYXJlbnQgdG8gd2hpY2ggdGhlIGBjbG9uZUxpbmtpbmdGbmAgd2lsbCBhZGQgdGhlIGNsb25lZCBlbGVtZW50cy5cclxuICogICAgICAgICogZGVmYXVsdDogYCRlbGVtZW50LnBhcmVudCgpYCByZXNwLiBgJGVsZW1lbnRgIGZvciBgdHJhbnNjbHVkZTonZWxlbWVudCdgIHJlc3AuIGB0cmFuc2NsdWRlOnRydWVgLlxyXG4gKiAgICAgICAgKiBvbmx5IG5lZWRlZCBmb3IgdHJhbnNjbHVkZXMgdGhhdCBhcmUgYWxsb3dlZCB0byBjb250YWluIG5vbiBodG1sIGVsZW1lbnRzIChlLmcuIFNWRyBlbGVtZW50cylcclxuICogICAgICAgICAgYW5kIHdoZW4gdGhlIGBjbG9uZUxpbmtpbkZuYCBpcyBwYXNzZWQsXHJcbiAqICAgICAgICAgIGFzIHRob3NlIGVsZW1lbnRzIG5lZWQgdG8gY3JlYXRlZCBhbmQgY2xvbmVkIGluIGEgc3BlY2lhbCB3YXkgd2hlbiB0aGV5IGFyZSBkZWZpbmVkIG91dHNpZGUgdGhlaXJcclxuICogICAgICAgICAgdXN1YWwgY29udGFpbmVycyAoZS5nLiBsaWtlIGA8c3ZnPmApLlxyXG4gKiAgICAgICAgKiBTZWUgYWxzbyB0aGUgYGRpcmVjdGl2ZS50ZW1wbGF0ZU5hbWVzcGFjZWAgcHJvcGVydHkuXHJcbiAqICAgICogYHNsb3ROYW1lYDogKG9wdGlvbmFsKSB0aGUgbmFtZSBvZiB0aGUgc2xvdCB0byB0cmFuc2NsdWRlLiBJZiBmYWxzeSAoZS5nLiBgbnVsbGAsIGB1bmRlZmluZWRgIG9yIGAnJ2ApXHJcbiAqICAgICAgdGhlbiB0aGUgZGVmYXVsdCB0cmFuc2x1c2lvbiBpcyBwcm92aWRlZC5cclxuICogICAgVGhlIGAkdHJhbnNjbHVkZWAgZnVuY3Rpb24gYWxzbyBoYXMgYSBtZXRob2Qgb24gaXQsIGAkdHJhbnNjbHVkZS5pc1Nsb3RGaWxsZWQoc2xvdE5hbWUpYCwgd2hpY2ggcmV0dXJuc1xyXG4gKiAgICBgdHJ1ZWAgaWYgdGhlIHNwZWNpZmllZCBzbG90IGNvbnRhaW5zIGNvbnRlbnQgKGkuZS4gb25lIG9yIG1vcmUgRE9NIG5vZGVzKS5cclxuICpcclxuICogVGhlIGNvbnRyb2xsZXIgY2FuIHByb3ZpZGUgdGhlIGZvbGxvd2luZyBtZXRob2RzIHRoYXQgYWN0IGFzIGxpZmUtY3ljbGUgaG9va3M6XHJcbiAqICogYCRvbkluaXQoKWAgLSBDYWxsZWQgb24gZWFjaCBjb250cm9sbGVyIGFmdGVyIGFsbCB0aGUgY29udHJvbGxlcnMgb24gYW4gZWxlbWVudCBoYXZlIGJlZW4gY29uc3RydWN0ZWQgYW5kXHJcbiAqICAgaGFkIHRoZWlyIGJpbmRpbmdzIGluaXRpYWxpemVkIChhbmQgYmVmb3JlIHRoZSBwcmUgJmFtcDsgcG9zdCBsaW5raW5nIGZ1bmN0aW9ucyBmb3IgdGhlIGRpcmVjdGl2ZXMgb25cclxuICogICB0aGlzIGVsZW1lbnQpLiBUaGlzIGlzIGEgZ29vZCBwbGFjZSB0byBwdXQgaW5pdGlhbGl6YXRpb24gY29kZSBmb3IgeW91ciBjb250cm9sbGVyLlxyXG4gKiAqIGAkb25DaGFuZ2VzKGNoYW5nZXNPYmopYCAtIENhbGxlZCB3aGVuZXZlciBvbmUtd2F5IChgPGApIG9yIGludGVycG9sYXRpb24gKGBAYCkgYmluZGluZ3MgYXJlIHVwZGF0ZWQuIFRoZVxyXG4gKiAgIGBjaGFuZ2VzT2JqYCBpcyBhIGhhc2ggd2hvc2Uga2V5cyBhcmUgdGhlIG5hbWVzIG9mIHRoZSBib3VuZCBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBjaGFuZ2VkLCBhbmQgdGhlIHZhbHVlcyBhcmUgYW5cclxuICogICBvYmplY3Qgb2YgdGhlIGZvcm0gYHsgY3VycmVudFZhbHVlLCBwcmV2aW91c1ZhbHVlLCBpc0ZpcnN0Q2hhbmdlKCkgfWAuIFVzZSB0aGlzIGhvb2sgdG8gdHJpZ2dlciB1cGRhdGVzIHdpdGhpbiBhXHJcbiAqICAgY29tcG9uZW50IHN1Y2ggYXMgY2xvbmluZyB0aGUgYm91bmQgdmFsdWUgdG8gcHJldmVudCBhY2NpZGVudGFsIG11dGF0aW9uIG9mIHRoZSBvdXRlciB2YWx1ZS5cclxuICogKiBgJG9uRGVzdHJveSgpYCAtIENhbGxlZCBvbiBhIGNvbnRyb2xsZXIgd2hlbiBpdHMgY29udGFpbmluZyBzY29wZSBpcyBkZXN0cm95ZWQuIFVzZSB0aGlzIGhvb2sgZm9yIHJlbGVhc2luZ1xyXG4gKiAgIGV4dGVybmFsIHJlc291cmNlcywgd2F0Y2hlcyBhbmQgZXZlbnQgaGFuZGxlcnMuIE5vdGUgdGhhdCBjb21wb25lbnRzIGhhdmUgdGhlaXIgYCRvbkRlc3Ryb3koKWAgaG9va3MgY2FsbGVkIGluXHJcbiAqICAgdGhlIHNhbWUgb3JkZXIgYXMgdGhlIGAkc2NvcGUuJGJyb2FkY2FzdGAgZXZlbnRzIGFyZSB0cmlnZ2VyZWQsIHdoaWNoIGlzIHRvcCBkb3duLiBUaGlzIG1lYW5zIHRoYXQgcGFyZW50XHJcbiAqICAgY29tcG9uZW50cyB3aWxsIGhhdmUgdGhlaXIgYCRvbkRlc3Ryb3koKWAgaG9vayBjYWxsZWQgYmVmb3JlIGNoaWxkIGNvbXBvbmVudHMuXHJcbiAqICogYCRwb3N0TGluaygpYCAtIENhbGxlZCBhZnRlciB0aGlzIGNvbnRyb2xsZXIncyBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW4gaGF2ZSBiZWVuIGxpbmtlZC4gU2ltaWxhciB0byB0aGUgcG9zdC1saW5rXHJcbiAqICAgZnVuY3Rpb24gdGhpcyBob29rIGNhbiBiZSB1c2VkIHRvIHNldCB1cCBET00gZXZlbnQgaGFuZGxlcnMgYW5kIGRvIGRpcmVjdCBET00gbWFuaXB1bGF0aW9uLlxyXG4gKiAgIE5vdGUgdGhhdCBjaGlsZCBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYHRlbXBsYXRlVXJsYCBkaXJlY3RpdmVzIHdpbGwgbm90IGhhdmUgYmVlbiBjb21waWxlZCBhbmQgbGlua2VkIHNpbmNlXHJcbiAqICAgdGhleSBhcmUgd2FpdGluZyBmb3IgdGhlaXIgdGVtcGxhdGUgdG8gbG9hZCBhc3luY2hyb25vdXNseSBhbmQgdGhlaXIgb3duIGNvbXBpbGF0aW9uIGFuZCBsaW5raW5nIGhhcyBiZWVuXHJcbiAqICAgc3VzcGVuZGVkIHVudGlsIHRoYXQgb2NjdXJzLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIGByZXF1aXJlYFxyXG4gKiBSZXF1aXJlIGFub3RoZXIgZGlyZWN0aXZlIGFuZCBpbmplY3QgaXRzIGNvbnRyb2xsZXIgYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCB0byB0aGUgbGlua2luZyBmdW5jdGlvbi4gVGhlXHJcbiAqIGByZXF1aXJlYCBwcm9wZXJ0eSBjYW4gYmUgYSBzdHJpbmcsIGFuIGFycmF5IG9yIGFuIG9iamVjdDpcclxuICogKiBhICoqc3RyaW5nKiogY29udGFpbmluZyB0aGUgbmFtZSBvZiB0aGUgZGlyZWN0aXZlIHRvIHBhc3MgdG8gdGhlIGxpbmtpbmcgZnVuY3Rpb25cclxuICogKiBhbiAqKmFycmF5KiogY29udGFpbmluZyB0aGUgbmFtZXMgb2YgZGlyZWN0aXZlcyB0byBwYXNzIHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGUgYXJndW1lbnQgcGFzc2VkIHRvIHRoZVxyXG4gKiBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgYmUgYW4gYXJyYXkgb2YgY29udHJvbGxlcnMgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIG5hbWVzIGluIHRoZSBgcmVxdWlyZWAgcHJvcGVydHlcclxuICogKiBhbiAqKm9iamVjdCoqIHdob3NlIHByb3BlcnR5IHZhbHVlcyBhcmUgdGhlIG5hbWVzIG9mIHRoZSBkaXJlY3RpdmVzIHRvIHBhc3MgdG8gdGhlIGxpbmtpbmcgZnVuY3Rpb24uIFRoZSBhcmd1bWVudFxyXG4gKiBwYXNzZWQgdG8gdGhlIGxpbmtpbmcgZnVuY3Rpb24gd2lsbCBhbHNvIGJlIGFuIG9iamVjdCB3aXRoIG1hdGNoaW5nIGtleXMsIHdob3NlIHZhbHVlcyB3aWxsIGhvbGQgdGhlIGNvcnJlc3BvbmRpbmdcclxuICogY29udHJvbGxlcnMuXHJcbiAqXHJcbiAqIElmIHRoZSBgcmVxdWlyZWAgcHJvcGVydHkgaXMgYW4gb2JqZWN0IGFuZCBgYmluZFRvQ29udHJvbGxlcmAgaXMgdHJ1dGh5LCB0aGVuIHRoZSByZXF1aXJlZCBjb250cm9sbGVycyBhcmVcclxuICogYm91bmQgdG8gdGhlIGNvbnRyb2xsZXIgdXNpbmcgdGhlIGtleXMgb2YgdGhlIGByZXF1aXJlYCBwcm9wZXJ0eS4gVGhpcyBiaW5kaW5nIG9jY3VycyBhZnRlciBhbGwgdGhlIGNvbnRyb2xsZXJzXHJcbiAqIGhhdmUgYmVlbiBjb25zdHJ1Y3RlZCBidXQgYmVmb3JlIGAkb25Jbml0YCBpcyBjYWxsZWQuXHJcbiAqIFNlZSB0aGUge0BsaW5rICRjb21waWxlUHJvdmlkZXIjY29tcG9uZW50fSBoZWxwZXIgZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRoaXMgY2FuIGJlIHVzZWQuXHJcbiAqXHJcbiAqIElmIG5vIHN1Y2ggcmVxdWlyZWQgZGlyZWN0aXZlKHMpIGNhbiBiZSBmb3VuZCwgb3IgaWYgdGhlIGRpcmVjdGl2ZSBkb2VzIG5vdCBoYXZlIGEgY29udHJvbGxlciwgdGhlbiBhbiBlcnJvciBpc1xyXG4gKiByYWlzZWQgKHVubGVzcyBubyBsaW5rIGZ1bmN0aW9uIGlzIHNwZWNpZmllZCBhbmQgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXJzIGFyZSBub3QgYmVpbmcgYm91bmQgdG8gdGhlIGRpcmVjdGl2ZVxyXG4gKiBjb250cm9sbGVyLCBpbiB3aGljaCBjYXNlIGVycm9yIGNoZWNraW5nIGlzIHNraXBwZWQpLiBUaGUgbmFtZSBjYW4gYmUgcHJlZml4ZWQgd2l0aDpcclxuICpcclxuICogKiAobm8gcHJlZml4KSAtIExvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBvbiB0aGUgY3VycmVudCBlbGVtZW50LiBUaHJvdyBhbiBlcnJvciBpZiBub3QgZm91bmQuXHJcbiAqICogYD9gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgb3IgcGFzcyBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXHJcbiAqICogYF5gIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCBhbmQgaXRzIHBhcmVudHMuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cclxuICogKiBgXl5gIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCdzIHBhcmVudHMuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cclxuICogKiBgP15gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50IGFuZCBpdHMgcGFyZW50cyBvciBwYXNzXHJcbiAqICAgYG51bGxgIHRvIHRoZSBgbGlua2AgZm4gaWYgbm90IGZvdW5kLlxyXG4gKiAqIGA/Xl5gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cywgb3IgcGFzc1xyXG4gKiAgIGBudWxsYCB0byB0aGUgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC5cclxuICpcclxuICpcclxuICogIyMjIyBgY29udHJvbGxlckFzYFxyXG4gKiBJZGVudGlmaWVyIG5hbWUgZm9yIGEgcmVmZXJlbmNlIHRvIHRoZSBjb250cm9sbGVyIGluIHRoZSBkaXJlY3RpdmUncyBzY29wZS5cclxuICogVGhpcyBhbGxvd3MgdGhlIGNvbnRyb2xsZXIgdG8gYmUgcmVmZXJlbmNlZCBmcm9tIHRoZSBkaXJlY3RpdmUgdGVtcGxhdGUuIFRoaXMgaXMgZXNwZWNpYWxseVxyXG4gKiB1c2VmdWwgd2hlbiBhIGRpcmVjdGl2ZSBpcyB1c2VkIGFzIGNvbXBvbmVudCwgaS5lLiB3aXRoIGFuIGBpc29sYXRlYCBzY29wZS4gSXQncyBhbHNvIHBvc3NpYmxlXHJcbiAqIHRvIHVzZSBpdCBpbiBhIGRpcmVjdGl2ZSB3aXRob3V0IGFuIGBpc29sYXRlYCAvIGBuZXdgIHNjb3BlLCBidXQgeW91IG5lZWQgdG8gYmUgYXdhcmUgdGhhdCB0aGVcclxuICogYGNvbnRyb2xsZXJBc2AgcmVmZXJlbmNlIG1pZ2h0IG92ZXJ3cml0ZSBhIHByb3BlcnR5IHRoYXQgYWxyZWFkeSBleGlzdHMgb24gdGhlIHBhcmVudCBzY29wZS5cclxuICpcclxuICpcclxuICogIyMjIyBgcmVzdHJpY3RgXHJcbiAqIFN0cmluZyBvZiBzdWJzZXQgb2YgYEVBQ01gIHdoaWNoIHJlc3RyaWN0cyB0aGUgZGlyZWN0aXZlIHRvIGEgc3BlY2lmaWMgZGlyZWN0aXZlXHJcbiAqIGRlY2xhcmF0aW9uIHN0eWxlLiBJZiBvbWl0dGVkLCB0aGUgZGVmYXVsdHMgKGVsZW1lbnRzIGFuZCBhdHRyaWJ1dGVzKSBhcmUgdXNlZC5cclxuICpcclxuICogKiBgRWAgLSBFbGVtZW50IG5hbWUgKGRlZmF1bHQpOiBgPG15LWRpcmVjdGl2ZT48L215LWRpcmVjdGl2ZT5gXHJcbiAqICogYEFgIC0gQXR0cmlidXRlIChkZWZhdWx0KTogYDxkaXYgbXktZGlyZWN0aXZlPVwiZXhwXCI+PC9kaXY+YFxyXG4gKiAqIGBDYCAtIENsYXNzOiBgPGRpdiBjbGFzcz1cIm15LWRpcmVjdGl2ZTogZXhwO1wiPjwvZGl2PmBcclxuICogKiBgTWAgLSBDb21tZW50OiBgPCEtLSBkaXJlY3RpdmU6IG15LWRpcmVjdGl2ZSBleHAgLS0+YFxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIGB0ZW1wbGF0ZU5hbWVzcGFjZWBcclxuICogU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZG9jdW1lbnQgdHlwZSB1c2VkIGJ5IHRoZSBtYXJrdXAgaW4gdGhlIHRlbXBsYXRlLlxyXG4gKiBBbmd1bGFySlMgbmVlZHMgdGhpcyBpbmZvcm1hdGlvbiBhcyB0aG9zZSBlbGVtZW50cyBuZWVkIHRvIGJlIGNyZWF0ZWQgYW5kIGNsb25lZFxyXG4gKiBpbiBhIHNwZWNpYWwgd2F5IHdoZW4gdGhleSBhcmUgZGVmaW5lZCBvdXRzaWRlIHRoZWlyIHVzdWFsIGNvbnRhaW5lcnMgbGlrZSBgPHN2Zz5gIGFuZCBgPG1hdGg+YC5cclxuICpcclxuICogKiBgaHRtbGAgLSBBbGwgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIEhUTUwuIFJvb3Qgbm9kZXMgbWF5IGFsc28gYmVcclxuICogICB0b3AtbGV2ZWwgZWxlbWVudHMgc3VjaCBhcyBgPHN2Zz5gIG9yIGA8bWF0aD5gLlxyXG4gKiAqIGBzdmdgIC0gVGhlIHJvb3Qgbm9kZXMgaW4gdGhlIHRlbXBsYXRlIGFyZSBTVkcgZWxlbWVudHMgKGV4Y2x1ZGluZyBgPG1hdGg+YCkuXHJcbiAqICogYG1hdGhgIC0gVGhlIHJvb3Qgbm9kZXMgaW4gdGhlIHRlbXBsYXRlIGFyZSBNYXRoTUwgZWxlbWVudHMgKGV4Y2x1ZGluZyBgPHN2Zz5gKS5cclxuICpcclxuICogSWYgbm8gYHRlbXBsYXRlTmFtZXNwYWNlYCBpcyBzcGVjaWZpZWQsIHRoZW4gdGhlIG5hbWVzcGFjZSBpcyBjb25zaWRlcmVkIHRvIGJlIGBodG1sYC5cclxuICpcclxuICogIyMjIyBgdGVtcGxhdGVgXHJcbiAqIEhUTUwgbWFya3VwIHRoYXQgbWF5OlxyXG4gKiAqIFJlcGxhY2UgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IChkZWZhdWx0KS5cclxuICogKiBSZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGl0c2VsZiAoaWYgYHJlcGxhY2VgIGlzIHRydWUgLSBERVBSRUNBVEVEKS5cclxuICogKiBXcmFwIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudCAoaWYgYHRyYW5zY2x1ZGVgIGlzIHRydWUpLlxyXG4gKlxyXG4gKiBWYWx1ZSBtYXkgYmU6XHJcbiAqXHJcbiAqICogQSBzdHJpbmcuIEZvciBleGFtcGxlIGA8ZGl2IHJlZC1vbi1ob3Zlcj57e2RlbGV0ZV9zdHJ9fTwvZGl2PmAuXHJcbiAqICogQSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d28gYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYFxyXG4gKiAgIGZ1bmN0aW9uIGFwaSBiZWxvdykgYW5kIHJldHVybnMgYSBzdHJpbmcgdmFsdWUuXHJcbiAqXHJcbiAqXHJcbiAqICMjIyMgYHRlbXBsYXRlVXJsYFxyXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gYHRlbXBsYXRlYCBidXQgdGhlIHRlbXBsYXRlIGlzIGxvYWRlZCBmcm9tIHRoZSBzcGVjaWZpZWQgVVJMLCBhc3luY2hyb25vdXNseS5cclxuICpcclxuICogQmVjYXVzZSB0ZW1wbGF0ZSBsb2FkaW5nIGlzIGFzeW5jaHJvbm91cyB0aGUgY29tcGlsZXIgd2lsbCBzdXNwZW5kIGNvbXBpbGF0aW9uIG9mIGRpcmVjdGl2ZXMgb24gdGhhdCBlbGVtZW50XHJcbiAqIGZvciBsYXRlciB3aGVuIHRoZSB0ZW1wbGF0ZSBoYXMgYmVlbiByZXNvbHZlZC4gIEluIHRoZSBtZWFudGltZSBpdCB3aWxsIGNvbnRpbnVlIHRvIGNvbXBpbGUgYW5kIGxpbmtcclxuICogc2libGluZyBhbmQgcGFyZW50IGVsZW1lbnRzIGFzIHRob3VnaCB0aGlzIGVsZW1lbnQgaGFkIG5vdCBjb250YWluZWQgYW55IGRpcmVjdGl2ZXMuXHJcbiAqXHJcbiAqIFRoZSBjb21waWxlciBkb2VzIG5vdCBzdXNwZW5kIHRoZSBlbnRpcmUgY29tcGlsYXRpb24gdG8gd2FpdCBmb3IgdGVtcGxhdGVzIHRvIGJlIGxvYWRlZCBiZWNhdXNlIHRoaXNcclxuICogd291bGQgcmVzdWx0IGluIHRoZSB3aG9sZSBhcHAgXCJzdGFsbGluZ1wiIHVudGlsIGFsbCB0ZW1wbGF0ZXMgYXJlIGxvYWRlZCBhc3luY2hyb25vdXNseSAtIGV2ZW4gaW4gdGhlXHJcbiAqIGNhc2Ugd2hlbiBvbmx5IG9uZSBkZWVwbHkgbmVzdGVkIGRpcmVjdGl2ZSBoYXMgYHRlbXBsYXRlVXJsYC5cclxuICpcclxuICogVGVtcGxhdGUgbG9hZGluZyBpcyBhc3luY2hyb25vdXMgZXZlbiBpZiB0aGUgdGVtcGxhdGUgaGFzIGJlZW4gcHJlbG9hZGVkIGludG8gdGhlIHtAbGluayAkdGVtcGxhdGVDYWNoZX1cclxuICpcclxuICogWW91IGNhbiBzcGVjaWZ5IGB0ZW1wbGF0ZVVybGAgYXMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBVUkwgb3IgYXMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d29cclxuICogYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYCBmdW5jdGlvbiBhcGkgYmVsb3cpIGFuZCByZXR1cm5zXHJcbiAqIGEgc3RyaW5nIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgdXJsLiAgSW4gZWl0aGVyIGNhc2UsIHRoZSB0ZW1wbGF0ZSBVUkwgaXMgcGFzc2VkIHRocm91Z2gge0BsaW5rXHJcbiAqICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfS5cclxuICpcclxuICpcclxuICogIyMjIyBgcmVwbGFjZWAgKFsqREVQUkVDQVRFRCohXSwgd2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgcmVsZWFzZSAtIGkuZS4gdjIuMClcclxuICogc3BlY2lmeSB3aGF0IHRoZSB0ZW1wbGF0ZSBzaG91bGQgcmVwbGFjZS4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cclxuICpcclxuICogKiBgdHJ1ZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LlxyXG4gKiAqIGBmYWxzZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC5cclxuICpcclxuICogVGhlIHJlcGxhY2VtZW50IHByb2Nlc3MgbWlncmF0ZXMgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIC8gY2xhc3NlcyBmcm9tIHRoZSBvbGQgZWxlbWVudCB0byB0aGUgbmV3XHJcbiAqIG9uZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI3RlbXBsYXRlLWV4cGFuZGluZy1kaXJlY3RpdmVcclxuICogRGlyZWN0aXZlcyBHdWlkZX0gZm9yIGFuIGV4YW1wbGUuXHJcbiAqXHJcbiAqIFRoZXJlIGFyZSB2ZXJ5IGZldyBzY2VuYXJpb3Mgd2hlcmUgZWxlbWVudCByZXBsYWNlbWVudCBpcyByZXF1aXJlZCBmb3IgdGhlIGFwcGxpY2F0aW9uIGZ1bmN0aW9uLFxyXG4gKiB0aGUgbWFpbiBvbmUgYmVpbmcgcmV1c2FibGUgY3VzdG9tIGNvbXBvbmVudHMgdGhhdCBhcmUgdXNlZCB3aXRoaW4gU1ZHIGNvbnRleHRzXHJcbiAqIChiZWNhdXNlIFNWRyBkb2Vzbid0IHdvcmsgd2l0aCBjdXN0b20gZWxlbWVudHMgaW4gdGhlIERPTSB0cmVlKS5cclxuICpcclxuICogIyMjIyBgdHJhbnNjbHVkZWBcclxuICogRXh0cmFjdCB0aGUgY29udGVudHMgb2YgdGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBhcHBlYXJzIGFuZCBtYWtlIGl0IGF2YWlsYWJsZSB0byB0aGUgZGlyZWN0aXZlLlxyXG4gKiBUaGUgY29udGVudHMgYXJlIGNvbXBpbGVkIGFuZCBwcm92aWRlZCB0byB0aGUgZGlyZWN0aXZlIGFzIGEgKip0cmFuc2NsdXNpb24gZnVuY3Rpb24qKi4gU2VlIHRoZVxyXG4gKiB7QGxpbmsgJGNvbXBpbGUjdHJhbnNjbHVzaW9uIFRyYW5zY2x1c2lvbn0gc2VjdGlvbiBiZWxvdy5cclxuICpcclxuICpcclxuICogIyMjIyBgY29tcGlsZWBcclxuICpcclxuICogYGBganNcclxuICogICBmdW5jdGlvbiBjb21waWxlKHRFbGVtZW50LCB0QXR0cnMsIHRyYW5zY2x1ZGUpIHsgLi4uIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBjb21waWxlIGZ1bmN0aW9uIGRlYWxzIHdpdGggdHJhbnNmb3JtaW5nIHRoZSB0ZW1wbGF0ZSBET00uIFNpbmNlIG1vc3QgZGlyZWN0aXZlcyBkbyBub3QgZG9cclxuICogdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24sIGl0IGlzIG5vdCB1c2VkIG9mdGVuLiBUaGUgY29tcGlsZSBmdW5jdGlvbiB0YWtlcyB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcclxuICpcclxuICogICAqIGB0RWxlbWVudGAgLSB0ZW1wbGF0ZSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBoYXMgYmVlbiBkZWNsYXJlZC4gSXQgaXNcclxuICogICAgIHNhZmUgdG8gZG8gdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24gb24gdGhlIGVsZW1lbnQgYW5kIGNoaWxkIGVsZW1lbnRzIG9ubHkuXHJcbiAqXHJcbiAqICAgKiBgdEF0dHJzYCAtIHRlbXBsYXRlIGF0dHJpYnV0ZXMgLSBOb3JtYWxpemVkIGxpc3Qgb2YgYXR0cmlidXRlcyBkZWNsYXJlZCBvbiB0aGlzIGVsZW1lbnQgc2hhcmVkXHJcbiAqICAgICBiZXR3ZWVuIGFsbCBkaXJlY3RpdmUgY29tcGlsZSBmdW5jdGlvbnMuXHJcbiAqXHJcbiAqICAgKiBgdHJhbnNjbHVkZWAgLSAgWypERVBSRUNBVEVEKiFdIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uOiBgZnVuY3Rpb24oc2NvcGUsIGNsb25lTGlua2luZ0ZuKWBcclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogKipOb3RlOioqIFRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSBhbmQgdGhlIGxpbmsgaW5zdGFuY2UgbWF5IGJlIGRpZmZlcmVudCBvYmplY3RzIGlmIHRoZSB0ZW1wbGF0ZSBoYXNcclxuICogYmVlbiBjbG9uZWQuIEZvciB0aGlzIHJlYXNvbiBpdCBpcyAqKm5vdCoqIHNhZmUgdG8gZG8gYW55dGhpbmcgb3RoZXIgdGhhbiBET00gdHJhbnNmb3JtYXRpb25zIHRoYXRcclxuICogYXBwbHkgdG8gYWxsIGNsb25lZCBET00gbm9kZXMgd2l0aGluIHRoZSBjb21waWxlIGZ1bmN0aW9uLiBTcGVjaWZpY2FsbHksIERPTSBsaXN0ZW5lciByZWdpc3RyYXRpb25cclxuICogc2hvdWxkIGJlIGRvbmUgaW4gYSBsaW5raW5nIGZ1bmN0aW9uIHJhdGhlciB0aGFuIGluIGEgY29tcGlsZSBmdW5jdGlvbi5cclxuICogPC9kaXY+XHJcblxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogVGhlIGNvbXBpbGUgZnVuY3Rpb24gY2Fubm90IGhhbmRsZSBkaXJlY3RpdmVzIHRoYXQgcmVjdXJzaXZlbHkgdXNlIHRoZW1zZWx2ZXMgaW4gdGhlaXJcclxuICogb3duIHRlbXBsYXRlcyBvciBjb21waWxlIGZ1bmN0aW9ucy4gQ29tcGlsaW5nIHRoZXNlIGRpcmVjdGl2ZXMgcmVzdWx0cyBpbiBhbiBpbmZpbml0ZSBsb29wIGFuZFxyXG4gKiBzdGFjayBvdmVyZmxvdyBlcnJvcnMuXHJcbiAqXHJcbiAqIFRoaXMgY2FuIGJlIGF2b2lkZWQgYnkgbWFudWFsbHkgdXNpbmcgJGNvbXBpbGUgaW4gdGhlIHBvc3RMaW5rIGZ1bmN0aW9uIHRvIGltcGVyYXRpdmVseSBjb21waWxlXHJcbiAqIGEgZGlyZWN0aXZlJ3MgdGVtcGxhdGUgaW5zdGVhZCBvZiByZWx5aW5nIG9uIGF1dG9tYXRpYyB0ZW1wbGF0ZSBjb21waWxhdGlvbiB2aWEgYHRlbXBsYXRlYCBvclxyXG4gKiBgdGVtcGxhdGVVcmxgIGRlY2xhcmF0aW9uIG9yIG1hbnVhbCBjb21waWxhdGlvbiBpbnNpZGUgdGhlIGNvbXBpbGUgZnVuY3Rpb24uXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAqICoqTm90ZToqKiBUaGUgYHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBjb21waWxlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIGFzIGl0XHJcbiAqICAgZS5nLiBkb2VzIG5vdCBrbm93IGFib3V0IHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHVzZSB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiB0aGF0IGlzIHBhc3NlZFxyXG4gKiAgIHRvIHRoZSBsaW5rIGZ1bmN0aW9uIGluc3RlYWQuXHJcbiAqIDwvZGl2PlxyXG5cclxuICogQSBjb21waWxlIGZ1bmN0aW9uIGNhbiBoYXZlIGEgcmV0dXJuIHZhbHVlIHdoaWNoIGNhbiBiZSBlaXRoZXIgYSBmdW5jdGlvbiBvciBhbiBvYmplY3QuXHJcbiAqXHJcbiAqICogcmV0dXJuaW5nIGEgKHBvc3QtbGluaykgZnVuY3Rpb24gLSBpcyBlcXVpdmFsZW50IHRvIHJlZ2lzdGVyaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHZpYSB0aGVcclxuICogICBgbGlua2AgcHJvcGVydHkgb2YgdGhlIGNvbmZpZyBvYmplY3Qgd2hlbiB0aGUgY29tcGlsZSBmdW5jdGlvbiBpcyBlbXB0eS5cclxuICpcclxuICogKiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggZnVuY3Rpb24ocykgcmVnaXN0ZXJlZCB2aWEgYHByZWAgYW5kIGBwb3N0YCBwcm9wZXJ0aWVzIC0gYWxsb3dzIHlvdSB0b1xyXG4gKiAgIGNvbnRyb2wgd2hlbiBhIGxpbmtpbmcgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCBkdXJpbmcgdGhlIGxpbmtpbmcgcGhhc2UuIFNlZSBpbmZvIGFib3V0XHJcbiAqICAgcHJlLWxpbmtpbmcgYW5kIHBvc3QtbGlua2luZyBmdW5jdGlvbnMgYmVsb3cuXHJcbiAqXHJcbiAqXHJcbiAqICMjIyMgYGxpbmtgXHJcbiAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCBvbmx5IGlmIHRoZSBgY29tcGlsZWAgcHJvcGVydHkgaXMgbm90IGRlZmluZWQuXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgZnVuY3Rpb24gbGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlciwgdHJhbnNjbHVkZUZuKSB7IC4uLiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgbGluayBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgcmVnaXN0ZXJpbmcgRE9NIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHVwZGF0aW5nIHRoZSBET00uIEl0IGlzXHJcbiAqIGV4ZWN1dGVkIGFmdGVyIHRoZSB0ZW1wbGF0ZSBoYXMgYmVlbiBjbG9uZWQuIFRoaXMgaXMgd2hlcmUgbW9zdCBvZiB0aGUgZGlyZWN0aXZlIGxvZ2ljIHdpbGwgYmVcclxuICogcHV0LlxyXG4gKlxyXG4gKiAgICogYHNjb3BlYCAtIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIFNjb3BlfSAtIFRoZSBzY29wZSB0byBiZSB1c2VkIGJ5IHRoZVxyXG4gKiAgICAgZGlyZWN0aXZlIGZvciByZWdpc3RlcmluZyB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlc30uXHJcbiAqXHJcbiAqICAgKiBgaUVsZW1lbnRgIC0gaW5zdGFuY2UgZWxlbWVudCAtIFRoZSBlbGVtZW50IHdoZXJlIHRoZSBkaXJlY3RpdmUgaXMgdG8gYmUgdXNlZC4gSXQgaXMgc2FmZSB0b1xyXG4gKiAgICAgbWFuaXB1bGF0ZSB0aGUgY2hpbGRyZW4gb2YgdGhlIGVsZW1lbnQgb25seSBpbiBgcG9zdExpbmtgIGZ1bmN0aW9uIHNpbmNlIHRoZSBjaGlsZHJlbiBoYXZlXHJcbiAqICAgICBhbHJlYWR5IGJlZW4gbGlua2VkLlxyXG4gKlxyXG4gKiAgICogYGlBdHRyc2AgLSBpbnN0YW5jZSBhdHRyaWJ1dGVzIC0gTm9ybWFsaXplZCBsaXN0IG9mIGF0dHJpYnV0ZXMgZGVjbGFyZWQgb24gdGhpcyBlbGVtZW50IHNoYXJlZFxyXG4gKiAgICAgYmV0d2VlbiBhbGwgZGlyZWN0aXZlIGxpbmtpbmcgZnVuY3Rpb25zLlxyXG4gKlxyXG4gKiAgICogYGNvbnRyb2xsZXJgIC0gdGhlIGRpcmVjdGl2ZSdzIHJlcXVpcmVkIGNvbnRyb2xsZXIgaW5zdGFuY2UocykgLSBJbnN0YW5jZXMgYXJlIHNoYXJlZFxyXG4gKiAgICAgYW1vbmcgYWxsIGRpcmVjdGl2ZXMsIHdoaWNoIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byB1c2UgdGhlIGNvbnRyb2xsZXJzIGFzIGEgY29tbXVuaWNhdGlvblxyXG4gKiAgICAgY2hhbm5lbC4gVGhlIGV4YWN0IHZhbHVlIGRlcGVuZHMgb24gdGhlIGRpcmVjdGl2ZSdzIGByZXF1aXJlYCBwcm9wZXJ0eTpcclxuICogICAgICAgKiBubyBjb250cm9sbGVyKHMpIHJlcXVpcmVkOiB0aGUgZGlyZWN0aXZlJ3Mgb3duIGNvbnRyb2xsZXIsIG9yIGB1bmRlZmluZWRgIGlmIGl0IGRvZXNuJ3QgaGF2ZSBvbmVcclxuICogICAgICAgKiBgc3RyaW5nYDogdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2VcclxuICogICAgICAgKiBgYXJyYXlgOiBhcnJheSBvZiBjb250cm9sbGVyIGluc3RhbmNlc1xyXG4gKlxyXG4gKiAgICAgSWYgYSByZXF1aXJlZCBjb250cm9sbGVyIGNhbm5vdCBiZSBmb3VuZCwgYW5kIGl0IGlzIG9wdGlvbmFsLCB0aGUgaW5zdGFuY2UgaXMgYG51bGxgLFxyXG4gKiAgICAgb3RoZXJ3aXNlIHRoZSB7QGxpbmsgZXJyb3I6JGNvbXBpbGU6Y3RyZXEgTWlzc2luZyBSZXF1aXJlZCBDb250cm9sbGVyfSBlcnJvciBpcyB0aHJvd24uXHJcbiAqXHJcbiAqICAgICBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIHJlcXVpcmUgdGhlIGRpcmVjdGl2ZSdzIG93biBjb250cm9sbGVyIC0gaXQgd2lsbCBiZSBtYWRlIGF2YWlsYWJsZSBsaWtlXHJcbiAqICAgICBhbnkgb3RoZXIgY29udHJvbGxlci5cclxuICpcclxuICogICAqIGB0cmFuc2NsdWRlRm5gIC0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb24gcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS5cclxuICogICAgIFRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGAkdHJhbnNjbHVkZWBcclxuICogICAgIHBhcmFtZXRlciBvZiBkaXJlY3RpdmUgY29udHJvbGxlcnMsIHNlZSB0aGVyZSBmb3IgZGV0YWlscy5cclxuICogICAgIGBmdW5jdGlvbihbc2NvcGVdLCBjbG9uZUxpbmtpbmdGbiwgZnV0dXJlUGFyZW50RWxlbWVudClgLlxyXG4gKlxyXG4gKiAjIyMjIFByZS1saW5raW5nIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEV4ZWN1dGVkIGJlZm9yZSB0aGUgY2hpbGQgZWxlbWVudHMgYXJlIGxpbmtlZC4gTm90IHNhZmUgdG8gZG8gRE9NIHRyYW5zZm9ybWF0aW9uIHNpbmNlIHRoZVxyXG4gKiBjb21waWxlciBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgZmFpbCB0byBsb2NhdGUgdGhlIGNvcnJlY3QgZWxlbWVudHMgZm9yIGxpbmtpbmcuXHJcbiAqXHJcbiAqICMjIyMgUG9zdC1saW5raW5nIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEV4ZWN1dGVkIGFmdGVyIHRoZSBjaGlsZCBlbGVtZW50cyBhcmUgbGlua2VkLlxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgY2hpbGQgZWxlbWVudHMgdGhhdCBjb250YWluIGB0ZW1wbGF0ZVVybGAgZGlyZWN0aXZlcyB3aWxsIG5vdCBoYXZlIGJlZW4gY29tcGlsZWRcclxuICogYW5kIGxpbmtlZCBzaW5jZSB0aGV5IGFyZSB3YWl0aW5nIGZvciB0aGVpciB0ZW1wbGF0ZSB0byBsb2FkIGFzeW5jaHJvbm91c2x5IGFuZCB0aGVpciBvd25cclxuICogY29tcGlsYXRpb24gYW5kIGxpbmtpbmcgaGFzIGJlZW4gc3VzcGVuZGVkIHVudGlsIHRoYXQgb2NjdXJzLlxyXG4gKlxyXG4gKiBJdCBpcyBzYWZlIHRvIGRvIERPTSB0cmFuc2Zvcm1hdGlvbiBpbiB0aGUgcG9zdC1saW5raW5nIGZ1bmN0aW9uIG9uIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCB3YWl0aW5nXHJcbiAqIGZvciB0aGVpciBhc3luYyB0ZW1wbGF0ZXMgdG8gYmUgcmVzb2x2ZWQuXHJcbiAqXHJcbiAqXHJcbiAqICMjIyBUcmFuc2NsdXNpb25cclxuICpcclxuICogVHJhbnNjbHVzaW9uIGlzIHRoZSBwcm9jZXNzIG9mIGV4dHJhY3RpbmcgYSBjb2xsZWN0aW9uIG9mIERPTSBlbGVtZW50cyBmcm9tIG9uZSBwYXJ0IG9mIHRoZSBET00gYW5kXHJcbiAqIGNvcHlpbmcgdGhlbSB0byBhbm90aGVyIHBhcnQgb2YgdGhlIERPTSwgd2hpbGUgbWFpbnRhaW5pbmcgdGhlaXIgY29ubmVjdGlvbiB0byB0aGUgb3JpZ2luYWwgQW5ndWxhckpTXHJcbiAqIHNjb3BlIGZyb20gd2hlcmUgdGhleSB3ZXJlIHRha2VuLlxyXG4gKlxyXG4gKiBUcmFuc2NsdXNpb24gaXMgdXNlZCAob2Z0ZW4gd2l0aCB7QGxpbmsgbmdUcmFuc2NsdWRlfSkgdG8gaW5zZXJ0IHRoZVxyXG4gKiBvcmlnaW5hbCBjb250ZW50cyBvZiBhIGRpcmVjdGl2ZSdzIGVsZW1lbnQgaW50byBhIHNwZWNpZmllZCBwbGFjZSBpbiB0aGUgdGVtcGxhdGUgb2YgdGhlIGRpcmVjdGl2ZS5cclxuICogVGhlIGJlbmVmaXQgb2YgdHJhbnNjbHVzaW9uLCBvdmVyIHNpbXBseSBtb3ZpbmcgdGhlIERPTSBlbGVtZW50cyBtYW51YWxseSwgaXMgdGhhdCB0aGUgdHJhbnNjbHVkZWRcclxuICogY29udGVudCBoYXMgYWNjZXNzIHRvIHRoZSBwcm9wZXJ0aWVzIG9uIHRoZSBzY29wZSBmcm9tIHdoaWNoIGl0IHdhcyB0YWtlbiwgZXZlbiBpZiB0aGUgZGlyZWN0aXZlXHJcbiAqIGhhcyBpc29sYXRlZCBzY29wZS5cclxuICogU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI2NyZWF0aW5nLWEtZGlyZWN0aXZlLXRoYXQtd3JhcHMtb3RoZXItZWxlbWVudHMgRGlyZWN0aXZlcyBHdWlkZX0uXHJcbiAqXHJcbiAqIFRoaXMgbWFrZXMgaXQgcG9zc2libGUgZm9yIHRoZSB3aWRnZXQgdG8gaGF2ZSBwcml2YXRlIHN0YXRlIGZvciBpdHMgdGVtcGxhdGUsIHdoaWxlIHRoZSB0cmFuc2NsdWRlZFxyXG4gKiBjb250ZW50IGhhcyBhY2Nlc3MgdG8gaXRzIG9yaWdpbmF0aW5nIHNjb3BlLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogV2hlbiB0ZXN0aW5nIGFuIGVsZW1lbnQgdHJhbnNjbHVkZSBkaXJlY3RpdmUgeW91IG11c3Qgbm90IHBsYWNlIHRoZSBkaXJlY3RpdmUgYXQgdGhlIHJvb3Qgb2YgdGhlXHJcbiAqIERPTSBmcmFnbWVudCB0aGF0IGlzIGJlaW5nIGNvbXBpbGVkLiBTZWUge0BsaW5rIGd1aWRlL3VuaXQtdGVzdGluZyN0ZXN0aW5nLXRyYW5zY2x1c2lvbi1kaXJlY3RpdmVzXHJcbiAqIFRlc3RpbmcgVHJhbnNjbHVzaW9uIERpcmVjdGl2ZXN9LlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogVGhlcmUgYXJlIHRocmVlIGtpbmRzIG9mIHRyYW5zY2x1c2lvbiBkZXBlbmRpbmcgdXBvbiB3aGV0aGVyIHlvdSB3YW50IHRvIHRyYW5zY2x1ZGUganVzdCB0aGUgY29udGVudHMgb2YgdGhlXHJcbiAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQsIHRoZSBlbnRpcmUgZWxlbWVudCBvciBtdWx0aXBsZSBwYXJ0cyBvZiB0aGUgZWxlbWVudCBjb250ZW50czpcclxuICpcclxuICogKiBgdHJ1ZWAgLSB0cmFuc2NsdWRlIHRoZSBjb250ZW50IChpLmUuIHRoZSBjaGlsZCBub2Rlcykgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXHJcbiAqICogYCdlbGVtZW50J2AgLSB0cmFuc2NsdWRlIHRoZSB3aG9sZSBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudCBpbmNsdWRpbmcgYW55IGRpcmVjdGl2ZXMgb24gdGhpc1xyXG4gKiAgIGVsZW1lbnQgdGhhdCBkZWZpbmVkIGF0IGEgbG93ZXIgcHJpb3JpdHkgdGhhbiB0aGlzIGRpcmVjdGl2ZS4gV2hlbiB1c2VkLCB0aGUgYHRlbXBsYXRlYFxyXG4gKiAgIHByb3BlcnR5IGlzIGlnbm9yZWQuXHJcbiAqICogKipgey4uLn1gIChhbiBvYmplY3QgaGFzaCk6KiogLSBtYXAgZWxlbWVudHMgb2YgdGhlIGNvbnRlbnQgb250byB0cmFuc2NsdXNpb24gXCJzbG90c1wiIGluIHRoZSB0ZW1wbGF0ZS5cclxuICpcclxuICogKipNdWx0LXNsb3QgdHJhbnNjbHVzaW9uKiogaXMgZGVjbGFyZWQgYnkgcHJvdmlkaW5nIGFuIG9iamVjdCBmb3IgdGhlIGB0cmFuc2NsdWRlYCBwcm9wZXJ0eS5cclxuICpcclxuICogVGhpcyBvYmplY3QgaXMgYSBtYXAgd2hlcmUgdGhlIGtleXMgYXJlIHRoZSBuYW1lIG9mIHRoZSBzbG90IHRvIGZpbGwgYW5kIHRoZSB2YWx1ZSBpcyBhbiBlbGVtZW50IHNlbGVjdG9yXHJcbiAqIHVzZWQgdG8gbWF0Y2ggdGhlIEhUTUwgdG8gdGhlIHNsb3QuIFRoZSBlbGVtZW50IHNlbGVjdG9yIHNob3VsZCBiZSBpbiBub3JtYWxpemVkIGZvcm0gKGUuZy4gYG15RWxlbWVudGApXHJcbiAqIGFuZCB3aWxsIG1hdGNoIHRoZSBzdGFuZGFyZCBlbGVtZW50IHZhcmlhbnRzIChlLmcuIGBteS1lbGVtZW50YCwgYG15OmVsZW1lbnRgLCBgZGF0YS1teS1lbGVtZW50YCwgZXRjKS5cclxuICpcclxuICogRm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24gY2hlY2sgb3V0IHRoZSBndWlkZSBvbiB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI21hdGNoaW5nLWRpcmVjdGl2ZXMgTWF0Y2hpbmcgRGlyZWN0aXZlc31cclxuICpcclxuICogSWYgdGhlIGVsZW1lbnQgc2VsZWN0b3IgaXMgcHJlZml4ZWQgd2l0aCBhIGA/YCB0aGVuIHRoYXQgc2xvdCBpcyBvcHRpb25hbC5cclxuICpcclxuICogRm9yIGV4YW1wbGUsIHRoZSB0cmFuc2NsdWRlIG9iamVjdCBgeyBzbG90QTogJz9teUN1c3RvbUVsZW1lbnQnIH1gIG1hcHMgYDxteS1jdXN0b20tZWxlbWVudD5gIGVsZW1lbnRzIHRvXHJcbiAqIHRoZSBgc2xvdEFgIHNsb3QsIHdoaWNoIGNhbiBiZSBhY2Nlc3NlZCB2aWEgdGhlIGAkdHJhbnNjbHVkZWAgZnVuY3Rpb24gb3IgdmlhIHRoZSB7QGxpbmsgbmdUcmFuc2NsdWRlfSBkaXJlY3RpdmUuXHJcbiAqXHJcbiAqIFNsb3RzIHRoYXQgYXJlIG5vdCBtYXJrZWQgYXMgb3B0aW9uYWwgKGA/YCkgd2lsbCB0cmlnZ2VyIGEgY29tcGlsZSB0aW1lIGVycm9yIGlmIHRoZXJlIGFyZSBubyBtYXRjaGluZyBlbGVtZW50c1xyXG4gKiBpbiB0aGUgdHJhbnNjbHVkZSBjb250ZW50LiBJZiB5b3Ugd2lzaCB0byBrbm93IGlmIGFuIG9wdGlvbmFsIHNsb3Qgd2FzIGZpbGxlZCB3aXRoIGNvbnRlbnQsIHRoZW4geW91IGNhbiBjYWxsXHJcbiAqIGAkdHJhbnNjbHVkZS5pc1Nsb3RGaWxsZWQoc2xvdE5hbWUpYCBvbiB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiBwYXNzZWQgdG8gdGhlIGRpcmVjdGl2ZSdzIGxpbmsgZnVuY3Rpb24gYW5kXHJcbiAqIGluamVjdGFibGUgaW50byB0aGUgZGlyZWN0aXZlJ3MgY29udHJvbGxlci5cclxuICpcclxuICpcclxuICogIyMjIyBUcmFuc2NsdXNpb24gRnVuY3Rpb25zXHJcbiAqXHJcbiAqIFdoZW4gYSBkaXJlY3RpdmUgcmVxdWVzdHMgdHJhbnNjbHVzaW9uLCB0aGUgY29tcGlsZXIgZXh0cmFjdHMgaXRzIGNvbnRlbnRzIGFuZCBwcm92aWRlcyBhICoqdHJhbnNjbHVzaW9uXHJcbiAqIGZ1bmN0aW9uKiogdG8gdGhlIGRpcmVjdGl2ZSdzIGBsaW5rYCBmdW5jdGlvbiBhbmQgYGNvbnRyb2xsZXJgLiBUaGlzIHRyYW5zY2x1c2lvbiBmdW5jdGlvbiBpcyBhIHNwZWNpYWxcclxuICogKipsaW5raW5nIGZ1bmN0aW9uKiogdGhhdCB3aWxsIHJldHVybiB0aGUgY29tcGlsZWQgY29udGVudHMgbGlua2VkIHRvIGEgbmV3IHRyYW5zY2x1c2lvbiBzY29wZS5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICogSWYgeW91IGFyZSBqdXN0IHVzaW5nIHtAbGluayBuZ1RyYW5zY2x1ZGV9IHRoZW4geW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgdGhpcyBmdW5jdGlvbiwgc2luY2VcclxuICogbmdUcmFuc2NsdWRlIHdpbGwgZGVhbCB3aXRoIGl0IGZvciB1cy5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIElmIHlvdSB3YW50IHRvIG1hbnVhbGx5IGNvbnRyb2wgdGhlIGluc2VydGlvbiBhbmQgcmVtb3ZhbCBvZiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpbiB5b3VyIGRpcmVjdGl2ZVxyXG4gKiB0aGVuIHlvdSBtdXN0IHVzZSB0aGlzIHRyYW5zY2x1ZGUgZnVuY3Rpb24uIFdoZW4geW91IGNhbGwgYSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGl0IHJldHVybnMgYSBhIGpxTGl0ZS9KUXVlcnlcclxuICogb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGNvbXBpbGVkIERPTSwgd2hpY2ggaXMgbGlua2VkIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS5cclxuICpcclxuICogV2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1c2lvbiBmdW5jdGlvbiB5b3UgY2FuIHBhc3MgaW4gYSAqKmNsb25lIGF0dGFjaCBmdW5jdGlvbioqLiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHNcclxuICogdHdvIHBhcmFtZXRlcnMsIGBmdW5jdGlvbihjbG9uZSwgc2NvcGUpIHsgLi4uIH1gLCB3aGVyZSB0aGUgYGNsb25lYCBpcyBhIGZyZXNoIGNvbXBpbGVkIGNvcHkgb2YgeW91ciB0cmFuc2NsdWRlZFxyXG4gKiBjb250ZW50IGFuZCB0aGUgYHNjb3BlYCBpcyB0aGUgbmV3bHkgY3JlYXRlZCB0cmFuc2NsdXNpb24gc2NvcGUsIHRvIHdoaWNoIHRoZSBjbG9uZSBpcyBib3VuZC5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICogKipCZXN0IFByYWN0aWNlKio6IEFsd2F5cyBwcm92aWRlIGEgYGNsb25lRm5gIChjbG9uZSBhdHRhY2ggZnVuY3Rpb24pIHdoZW4geW91IGNhbGwgYSB0cmFuc2NsdWRlIGZ1bmN0aW9uXHJcbiAqIHNpbmNlIHlvdSB0aGVuIGdldCBhIGZyZXNoIGNsb25lIG9mIHRoZSBvcmlnaW5hbCBET00gYW5kIGFsc28gaGF2ZSBhY2Nlc3MgdG8gdGhlIG5ldyB0cmFuc2NsdXNpb24gc2NvcGUuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBJdCBpcyBub3JtYWwgcHJhY3RpY2UgdG8gYXR0YWNoIHlvdXIgdHJhbnNjbHVkZWQgY29udGVudCAoYGNsb25lYCkgdG8gdGhlIERPTSBpbnNpZGUgeW91ciAqKmNsb25lXHJcbiAqIGF0dGFjaCBmdW5jdGlvbioqOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgdHJhbnNjbHVkZWRDb250ZW50LCB0cmFuc2NsdXNpb25TY29wZTtcclxuICpcclxuICogJHRyYW5zY2x1ZGUoZnVuY3Rpb24oY2xvbmUsIHNjb3BlKSB7XHJcbiAqICAgZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xyXG4gKiAgIHRyYW5zY2x1ZGVkQ29udGVudCA9IGNsb25lO1xyXG4gKiAgIHRyYW5zY2x1c2lvblNjb3BlID0gc2NvcGU7XHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogTGF0ZXIsIGlmIHlvdSB3YW50IHRvIHJlbW92ZSB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBmcm9tIHlvdXIgRE9NIHRoZW4geW91IHNob3VsZCBhbHNvIGRlc3Ryb3kgdGhlXHJcbiAqIGFzc29jaWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB0cmFuc2NsdWRlZENvbnRlbnQucmVtb3ZlKCk7XHJcbiAqIHRyYW5zY2x1c2lvblNjb3BlLiRkZXN0cm95KCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gKiAqKkJlc3QgUHJhY3RpY2UqKjogaWYgeW91IGludGVuZCB0byBhZGQgYW5kIHJlbW92ZSB0cmFuc2NsdWRlZCBjb250ZW50IG1hbnVhbGx5IGluIHlvdXIgZGlyZWN0aXZlXHJcbiAqIChieSBjYWxsaW5nIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRvIGdldCB0aGUgRE9NIGFuZCBjYWxsaW5nIGBlbGVtZW50LnJlbW92ZSgpYCB0byByZW1vdmUgaXQpLFxyXG4gKiB0aGVuIHlvdSBhcmUgYWxzbyByZXNwb25zaWJsZSBmb3IgY2FsbGluZyBgJGRlc3Ryb3lgIG9uIHRoZSB0cmFuc2NsdXNpb24gc2NvcGUuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBUaGUgYnVpbHQtaW4gRE9NIG1hbmlwdWxhdGlvbiBkaXJlY3RpdmVzLCBzdWNoIGFzIHtAbGluayBuZ0lmfSwge0BsaW5rIG5nU3dpdGNofSBhbmQge0BsaW5rIG5nUmVwZWF0fVxyXG4gKiBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgdGhlaXIgdHJhbnNjbHVkZWQgY2xvbmVzIGFzIG5lY2Vzc2FyeSBzbyB5b3UgZG8gbm90IG5lZWQgdG8gd29ycnkgYWJvdXQgdGhpcyBpZlxyXG4gKiB5b3UgYXJlIHNpbXBseSB1c2luZyB7QGxpbmsgbmdUcmFuc2NsdWRlfSB0byBpbmplY3QgdGhlIHRyYW5zY2x1c2lvbiBpbnRvIHlvdXIgZGlyZWN0aXZlLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBTY29wZXNcclxuICpcclxuICogV2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1ZGUgZnVuY3Rpb24gaXQgcmV0dXJucyBhIERPTSBmcmFnbWVudCB0aGF0IGlzIHByZS1ib3VuZCB0byBhICoqdHJhbnNjbHVzaW9uXHJcbiAqIHNjb3BlKiouIFRoaXMgc2NvcGUgaXMgc3BlY2lhbCwgaW4gdGhhdCBpdCBpcyBhIGNoaWxkIG9mIHRoZSBkaXJlY3RpdmUncyBzY29wZSAoYW5kIHNvIGdldHMgZGVzdHJveWVkXHJcbiAqIHdoZW4gdGhlIGRpcmVjdGl2ZSdzIHNjb3BlIGdldHMgZGVzdHJveWVkKSBidXQgaXQgaW5oZXJpdHMgdGhlIHByb3BlcnRpZXMgb2YgdGhlIHNjb3BlIGZyb20gd2hpY2ggaXRcclxuICogd2FzIHRha2VuLlxyXG4gKlxyXG4gKiBGb3IgZXhhbXBsZSBjb25zaWRlciBhIGRpcmVjdGl2ZSB0aGF0IHVzZXMgdHJhbnNjbHVzaW9uIGFuZCBpc29sYXRlZCBzY29wZS4gVGhlIERPTSBoaWVyYXJjaHkgbWlnaHQgbG9va1xyXG4gKiBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYGh0bWxcclxuICogPGRpdiBuZy1hcHA+XHJcbiAqICAgPGRpdiBpc29sYXRlPlxyXG4gKiAgICAgPGRpdiB0cmFuc2NsdXNpb24+XHJcbiAqICAgICA8L2Rpdj5cclxuICogICA8L2Rpdj5cclxuICogPC9kaXY+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgYCRwYXJlbnRgIHNjb3BlIGhpZXJhcmNoeSB3aWxsIGxvb2sgbGlrZSB0aGlzOlxyXG4gKlxyXG4gICBgYGBcclxuICAgLSAkcm9vdFNjb3BlXHJcbiAgICAgLSBpc29sYXRlXHJcbiAgICAgICAtIHRyYW5zY2x1c2lvblxyXG4gICBgYGBcclxuICpcclxuICogYnV0IHRoZSBzY29wZXMgd2lsbCBpbmhlcml0IHByb3RvdHlwaWNhbGx5IGZyb20gZGlmZmVyZW50IHNjb3BlcyB0byB0aGVpciBgJHBhcmVudGAuXHJcbiAqXHJcbiAgIGBgYFxyXG4gICAtICRyb290U2NvcGVcclxuICAgICAtIHRyYW5zY2x1c2lvblxyXG4gICAtIGlzb2xhdGVcclxuICAgYGBgXHJcbiAqXHJcbiAqXHJcbiAqICMjIyBBdHRyaWJ1dGVzXHJcbiAqXHJcbiAqIFRoZSB7QGxpbmsgbmcuJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMgQXR0cmlidXRlc30gb2JqZWN0IC0gcGFzc2VkIGFzIGEgcGFyYW1ldGVyIGluIHRoZVxyXG4gKiBgbGluaygpYCBvciBgY29tcGlsZSgpYCBmdW5jdGlvbnMuIEl0IGhhcyBhIHZhcmlldHkgb2YgdXNlcy5cclxuICpcclxuICogKiAqQWNjZXNzaW5nIG5vcm1hbGl6ZWQgYXR0cmlidXRlIG5hbWVzOiogRGlyZWN0aXZlcyBsaWtlICduZ0JpbmQnIGNhbiBiZSBleHByZXNzZWQgaW4gbWFueSB3YXlzOlxyXG4gKiAgICduZzpiaW5kJywgYGRhdGEtbmctYmluZGAsIG9yICd4LW5nLWJpbmQnLiBUaGUgYXR0cmlidXRlcyBvYmplY3QgYWxsb3dzIGZvciBub3JtYWxpemVkIGFjY2Vzc1xyXG4gKiAgIHRvIHRoZSBhdHRyaWJ1dGVzLlxyXG4gKlxyXG4gKiAqICpEaXJlY3RpdmUgaW50ZXItY29tbXVuaWNhdGlvbjoqIEFsbCBkaXJlY3RpdmVzIHNoYXJlIHRoZSBzYW1lIGluc3RhbmNlIG9mIHRoZSBhdHRyaWJ1dGVzXHJcbiAqICAgb2JqZWN0IHdoaWNoIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byB1c2UgdGhlIGF0dHJpYnV0ZXMgb2JqZWN0IGFzIGludGVyIGRpcmVjdGl2ZVxyXG4gKiAgIGNvbW11bmljYXRpb24uXHJcbiAqXHJcbiAqICogKlN1cHBvcnRzIGludGVycG9sYXRpb246KiBJbnRlcnBvbGF0aW9uIGF0dHJpYnV0ZXMgYXJlIGFzc2lnbmVkIHRvIHRoZSBhdHRyaWJ1dGUgb2JqZWN0XHJcbiAqICAgYWxsb3dpbmcgb3RoZXIgZGlyZWN0aXZlcyB0byByZWFkIHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWUuXHJcbiAqXHJcbiAqICogKk9ic2VydmluZyBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlczoqIFVzZSBgJG9ic2VydmVgIHRvIG9ic2VydmUgdGhlIHZhbHVlIGNoYW5nZXMgb2YgYXR0cmlidXRlc1xyXG4gKiAgIHRoYXQgY29udGFpbiBpbnRlcnBvbGF0aW9uIChlLmcuIGBzcmM9XCJ7e2Jhcn19XCJgKS4gTm90IG9ubHkgaXMgdGhpcyB2ZXJ5IGVmZmljaWVudCBidXQgaXQncyBhbHNvXHJcbiAqICAgdGhlIG9ubHkgd2F5IHRvIGVhc2lseSBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBiZWNhdXNlIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZSB0aGUgaW50ZXJwb2xhdGlvblxyXG4gKiAgIGhhc24ndCBiZWVuIGV2YWx1YXRlZCB5ZXQgYW5kIHNvIHRoZSB2YWx1ZSBpcyBhdCB0aGlzIHRpbWUgc2V0IHRvIGB1bmRlZmluZWRgLlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBmdW5jdGlvbiBsaW5raW5nRm4oc2NvcGUsIGVsbSwgYXR0cnMsIGN0cmwpIHtcclxuICogICAvLyBnZXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZVxyXG4gKiAgIGNvbnNvbGUubG9nKGF0dHJzLm5nTW9kZWwpO1xyXG4gKlxyXG4gKiAgIC8vIGNoYW5nZSB0aGUgYXR0cmlidXRlXHJcbiAqICAgYXR0cnMuJHNldCgnbmdNb2RlbCcsICduZXcgdmFsdWUnKTtcclxuICpcclxuICogICAvLyBvYnNlcnZlIGNoYW5nZXMgdG8gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZVxyXG4gKiAgIGF0dHJzLiRvYnNlcnZlKCduZ01vZGVsJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICogICAgIGNvbnNvbGUubG9nKCduZ01vZGVsIGhhcyBjaGFuZ2VkIHZhbHVlIHRvICcgKyB2YWx1ZSk7XHJcbiAqICAgfSk7XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqICMjIEV4YW1wbGVcclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogKipOb3RlKio6IFR5cGljYWxseSBkaXJlY3RpdmVzIGFyZSByZWdpc3RlcmVkIHdpdGggYG1vZHVsZS5kaXJlY3RpdmVgLiBUaGUgZXhhbXBsZSBiZWxvdyBpc1xyXG4gKiB0byBpbGx1c3RyYXRlIGhvdyBgJGNvbXBpbGVgIHdvcmtzLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuIDxleGFtcGxlIG1vZHVsZT1cImNvbXBpbGVFeGFtcGxlXCI+XHJcbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICA8c2NyaXB0PlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnY29tcGlsZUV4YW1wbGUnLCBbXSwgZnVuY3Rpb24oJGNvbXBpbGVQcm92aWRlcikge1xyXG4gICAgICAgIC8vIGNvbmZpZ3VyZSBuZXcgJ2NvbXBpbGUnIGRpcmVjdGl2ZSBieSBwYXNzaW5nIGEgZGlyZWN0aXZlXHJcbiAgICAgICAgLy8gZmFjdG9yeSBmdW5jdGlvbi4gVGhlIGZhY3RvcnkgZnVuY3Rpb24gaW5qZWN0cyB0aGUgJyRjb21waWxlJ1xyXG4gICAgICAgICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCdjb21waWxlJywgZnVuY3Rpb24oJGNvbXBpbGUpIHtcclxuICAgICAgICAgIC8vIGRpcmVjdGl2ZSBmYWN0b3J5IGNyZWF0ZXMgYSBsaW5rIGZ1bmN0aW9uXHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChcclxuICAgICAgICAgICAgICBmdW5jdGlvbihzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgIC8vIHdhdGNoIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBmb3IgY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKGF0dHJzLmNvbXBpbGUpO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlICdjb21waWxlJyBleHByZXNzaW9uIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgIC8vIGFzc2lnbiBpdCBpbnRvIHRoZSBjdXJyZW50IERPTVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlIHRoZSBuZXcgRE9NIGFuZCBsaW5rIGl0IHRvIHRoZSBjdXJyZW50XHJcbiAgICAgICAgICAgICAgICAvLyBzY29wZS5cclxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IHdlIG9ubHkgY29tcGlsZSAuY2hpbGROb2RlcyBzbyB0aGF0XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBnZXQgaW50byBpbmZpbml0ZSBsb29wIGNvbXBpbGluZyBvdXJzZWx2ZXNcclxuICAgICAgICAgICAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jb250cm9sbGVyKCdHcmVldGVyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgJHNjb3BlLm5hbWUgPSAnQW5ndWxhcic7XHJcbiAgICAgICAgJHNjb3BlLmh0bWwgPSAnSGVsbG8ge3tuYW1lfX0nO1xyXG4gICAgICB9XSk7XHJcbiAgICA8L3NjcmlwdD5cclxuICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkdyZWV0ZXJDb250cm9sbGVyXCI+XHJcbiAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5hbWVcIj4gPGJyLz5cclxuICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwiaHRtbFwiPjwvdGV4dGFyZWE+IDxici8+XHJcbiAgICAgIDxkaXYgY29tcGlsZT1cImh0bWxcIj48L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICA8L2ZpbGU+XHJcbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICBpdCgnc2hvdWxkIGF1dG8gY29tcGlsZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgdmFyIHRleHRhcmVhID0gJCgndGV4dGFyZWEnKTtcclxuICAgICAgIHZhciBvdXRwdXQgPSAkKCdkaXZbY29tcGlsZV0nKTtcclxuICAgICAgIC8vIFRoZSBpbml0aWFsIHN0YXRlIHJlYWRzICdIZWxsbyBBbmd1bGFyJy5cclxuICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0JlKCdIZWxsbyBBbmd1bGFyJyk7XHJcbiAgICAgICB0ZXh0YXJlYS5jbGVhcigpO1xyXG4gICAgICAgdGV4dGFyZWEuc2VuZEtleXMoJ3t7bmFtZX19IScpO1xyXG4gICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQmUoJ0FuZ3VsYXIhJyk7XHJcbiAgICAgfSk7XHJcbiAgIDwvZmlsZT5cclxuIDwvZXhhbXBsZT5cclxuXHJcbiAqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCBvciBIVE1MIHN0cmluZyB0byBjb21waWxlIGludG8gYSB0ZW1wbGF0ZSBmdW5jdGlvbi5cclxuICogQHBhcmFtIHtmdW5jdGlvbihhbmd1bGFyLlNjb3BlLCBjbG9uZUF0dGFjaEZuPSl9IHRyYW5zY2x1ZGUgZnVuY3Rpb24gYXZhaWxhYmxlIHRvIGRpcmVjdGl2ZXMgLSBERVBSRUNBVEVELlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAqICoqTm90ZToqKiBQYXNzaW5nIGEgYHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIHRvIHRoZSAkY29tcGlsZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCBhcyBpdFxyXG4gKiAgIGUuZy4gd2lsbCBub3QgdXNlIHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHBhc3MgdGhlIHRyYW5zY2x1ZGUgZnVuY3Rpb24gYXMgYVxyXG4gKiAgIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgdG8gdGhlIGxpbmsgZnVuY3Rpb24gaW5zdGVhZC5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhQcmlvcml0eSBvbmx5IGFwcGx5IGRpcmVjdGl2ZXMgbG93ZXIgdGhhbiBnaXZlbiBwcmlvcml0eSAoT25seSBlZmZlY3RzIHRoZVxyXG4gKiAgICAgICAgICAgICAgICAgcm9vdCBlbGVtZW50KHMpLCBub3QgdGhlaXIgY2hpbGRyZW4pXHJcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzY29wZSwgY2xvbmVBdHRhY2hGbj0sIG9wdGlvbnM9KX0gYSBsaW5rIGZ1bmN0aW9uIHdoaWNoIGlzIHVzZWQgdG8gYmluZCB0ZW1wbGF0ZVxyXG4gKiAoYSBET00gZWxlbWVudC90cmVlKSB0byBhIHNjb3BlLiBXaGVyZTpcclxuICpcclxuICogICogYHNjb3BlYCAtIEEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgU2NvcGV9IHRvIGJpbmQgdG8uXHJcbiAqICAqIGBjbG9uZUF0dGFjaEZuYCAtIElmIGBjbG9uZUF0dGFjaEZuYCBpcyBwcm92aWRlZCwgdGhlbiB0aGUgbGluayBmdW5jdGlvbiB3aWxsIGNsb25lIHRoZVxyXG4gKiAgYHRlbXBsYXRlYCBhbmQgY2FsbCB0aGUgYGNsb25lQXR0YWNoRm5gIGZ1bmN0aW9uIGFsbG93aW5nIHRoZSBjYWxsZXIgdG8gYXR0YWNoIHRoZVxyXG4gKiAgY2xvbmVkIGVsZW1lbnRzIHRvIHRoZSBET00gZG9jdW1lbnQgYXQgdGhlIGFwcHJvcHJpYXRlIHBsYWNlLiBUaGUgYGNsb25lQXR0YWNoRm5gIGlzXHJcbiAqICBjYWxsZWQgYXM6IDxici8+IGBjbG9uZUF0dGFjaEZuKGNsb25lZEVsZW1lbnQsIHNjb3BlKWAgd2hlcmU6XHJcbiAqXHJcbiAqICAgICAgKiBgY2xvbmVkRWxlbWVudGAgLSBpcyBhIGNsb25lIG9mIHRoZSBvcmlnaW5hbCBgZWxlbWVudGAgcGFzc2VkIGludG8gdGhlIGNvbXBpbGVyLlxyXG4gKiAgICAgICogYHNjb3BlYCAtIGlzIHRoZSBjdXJyZW50IHNjb3BlIHdpdGggd2hpY2ggdGhlIGxpbmtpbmcgZnVuY3Rpb24gaXMgd29ya2luZyB3aXRoLlxyXG4gKlxyXG4gKiAgKiBgb3B0aW9uc2AgLSBBbiBvcHRpb25hbCBvYmplY3QgaGFzaCB3aXRoIGxpbmtpbmcgb3B0aW9ucy4gSWYgYG9wdGlvbnNgIGlzIHByb3ZpZGVkLCB0aGVuIHRoZSBmb2xsb3dpbmdcclxuICogIGtleXMgbWF5IGJlIHVzZWQgdG8gY29udHJvbCBsaW5raW5nIGJlaGF2aW9yOlxyXG4gKlxyXG4gKiAgICAgICogYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCAtIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIG1hZGUgYXZhaWxhYmxlIHRvXHJcbiAqICAgICAgICBkaXJlY3RpdmVzOyBpZiBnaXZlbiwgaXQgd2lsbCBiZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgbGluayBmdW5jdGlvbnMgb2ZcclxuICogICAgICAgIGRpcmVjdGl2ZXMgZm91bmQgaW4gYGVsZW1lbnRgIGR1cmluZyBjb21waWxhdGlvbi5cclxuICogICAgICAqIGB0cmFuc2NsdWRlQ29udHJvbGxlcnNgIC0gYW4gb2JqZWN0IGhhc2ggd2l0aCBrZXlzIHRoYXQgbWFwIGNvbnRyb2xsZXIgbmFtZXNcclxuICogICAgICAgIHRvIGEgaGFzaCB3aXRoIHRoZSBrZXkgYGluc3RhbmNlYCwgd2hpY2ggbWFwcyB0byB0aGUgY29udHJvbGxlciBpbnN0YW5jZTtcclxuICogICAgICAgIGlmIGdpdmVuLCBpdCB3aWxsIG1ha2UgdGhlIGNvbnRyb2xsZXJzIGF2YWlsYWJsZSB0byBkaXJlY3RpdmVzIG9uIHRoZSBjb21waWxlTm9kZTpcclxuICogICAgICAgIGBgYFxyXG4gKiAgICAgICAge1xyXG4gKiAgICAgICAgICBwYXJlbnQ6IHtcclxuICogICAgICAgICAgICBpbnN0YW5jZTogcGFyZW50Q29udHJvbGxlckluc3RhbmNlXHJcbiAqICAgICAgICAgIH1cclxuICogICAgICAgIH1cclxuICogICAgICAgIGBgYFxyXG4gKiAgICAgICogYGZ1dHVyZVBhcmVudEVsZW1lbnRgIC0gZGVmaW5lcyB0aGUgcGFyZW50IHRvIHdoaWNoIHRoZSBgY2xvbmVBdHRhY2hGbmAgd2lsbCBhZGRcclxuICogICAgICAgIHRoZSBjbG9uZWQgZWxlbWVudHM7IG9ubHkgbmVlZGVkIGZvciB0cmFuc2NsdWRlcyB0aGF0IGFyZSBhbGxvd2VkIHRvIGNvbnRhaW4gbm9uIGh0bWxcclxuICogICAgICAgIGVsZW1lbnRzIChlLmcuIFNWRyBlbGVtZW50cykuIFNlZSBhbHNvIHRoZSBkaXJlY3RpdmUuY29udHJvbGxlciBwcm9wZXJ0eS5cclxuICpcclxuICogQ2FsbGluZyB0aGUgbGlua2luZyBmdW5jdGlvbiByZXR1cm5zIHRoZSBlbGVtZW50IG9mIHRoZSB0ZW1wbGF0ZS4gSXQgaXMgZWl0aGVyIHRoZSBvcmlnaW5hbFxyXG4gKiBlbGVtZW50IHBhc3NlZCBpbiwgb3IgdGhlIGNsb25lIG9mIHRoZSBlbGVtZW50IGlmIHRoZSBgY2xvbmVBdHRhY2hGbmAgaXMgcHJvdmlkZWQuXHJcbiAqXHJcbiAqIEFmdGVyIGxpbmtpbmcgdGhlIHZpZXcgaXMgbm90IHVwZGF0ZWQgdW50aWwgYWZ0ZXIgYSBjYWxsIHRvICRkaWdlc3Qgd2hpY2ggdHlwaWNhbGx5IGlzIGRvbmUgYnlcclxuICogQW5ndWxhciBhdXRvbWF0aWNhbGx5LlxyXG4gKlxyXG4gKiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gdGhlIGJvdW5kIHZpZXcsIHRoZXJlIGFyZSB0d28gd2F5cyB0byBkbyBpdDpcclxuICpcclxuICogLSBJZiB5b3UgYXJlIG5vdCBhc2tpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gdG8gY2xvbmUgdGhlIHRlbXBsYXRlLCBjcmVhdGUgdGhlIERPTSBlbGVtZW50KHMpXHJcbiAqICAgYmVmb3JlIHlvdSBzZW5kIHRoZW0gdG8gdGhlIGNvbXBpbGVyIGFuZCBrZWVwIHRoaXMgcmVmZXJlbmNlIGFyb3VuZC5cclxuICogICBgYGBqc1xyXG4gKiAgICAgdmFyIGVsZW1lbnQgPSAkY29tcGlsZSgnPHA+e3t0b3RhbH19PC9wPicpKHNjb3BlKTtcclxuICogICBgYGBcclxuICpcclxuICogLSBpZiBvbiB0aGUgb3RoZXIgaGFuZCwgeW91IG5lZWQgdGhlIGVsZW1lbnQgdG8gYmUgY2xvbmVkLCB0aGUgdmlldyByZWZlcmVuY2UgZnJvbSB0aGUgb3JpZ2luYWxcclxuICogICBleGFtcGxlIHdvdWxkIG5vdCBwb2ludCB0byB0aGUgY2xvbmUsIGJ1dCByYXRoZXIgdG8gdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHRoYXQgd2FzIGNsb25lZC4gSW5cclxuICogICB0aGlzIGNhc2UsIHlvdSBjYW4gYWNjZXNzIHRoZSBjbG9uZSB2aWEgdGhlIGNsb25lQXR0YWNoRm46XHJcbiAqICAgYGBganNcclxuICogICAgIHZhciB0ZW1wbGF0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJzxwPnt7dG90YWx9fTwvcD4nKSxcclxuICogICAgICAgICBzY29wZSA9IC4uLi47XHJcbiAqXHJcbiAqICAgICB2YXIgY2xvbmVkRWxlbWVudCA9ICRjb21waWxlKHRlbXBsYXRlRWxlbWVudCkoc2NvcGUsIGZ1bmN0aW9uKGNsb25lZEVsZW1lbnQsIHNjb3BlKSB7XHJcbiAqICAgICAgIC8vYXR0YWNoIHRoZSBjbG9uZSB0byBET00gZG9jdW1lbnQgYXQgdGhlIHJpZ2h0IHBsYWNlXHJcbiAqICAgICB9KTtcclxuICpcclxuICogICAgIC8vbm93IHdlIGhhdmUgcmVmZXJlbmNlIHRvIHRoZSBjbG9uZWQgRE9NIHZpYSBgY2xvbmVkRWxlbWVudGBcclxuICogICBgYGBcclxuICpcclxuICpcclxuICogRm9yIGluZm9ybWF0aW9uIG9uIGhvdyB0aGUgY29tcGlsZXIgd29ya3MsIHNlZSB0aGVcclxuICoge0BsaW5rIGd1aWRlL2NvbXBpbGVyIEFuZ3VsYXIgSFRNTCBDb21waWxlcn0gc2VjdGlvbiBvZiB0aGUgRGV2ZWxvcGVyIEd1aWRlLlxyXG4gKi9cclxuXHJcbnZhciAkY29tcGlsZU1pbkVyciA9IG1pbkVycignJGNvbXBpbGUnKTtcclxuXHJcbmZ1bmN0aW9uIFVOSU5JVElBTElaRURfVkFMVUUoKSB7fVxyXG52YXIgX1VOSU5JVElBTElaRURfVkFMVUUgPSBuZXcgVU5JTklUSUFMSVpFRF9WQUxVRSgpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKi9cclxuJENvbXBpbGVQcm92aWRlci4kaW5qZWN0ID0gWyckcHJvdmlkZScsICckJHNhbml0aXplVXJpUHJvdmlkZXInXTtcclxuZnVuY3Rpb24gJENvbXBpbGVQcm92aWRlcigkcHJvdmlkZSwgJCRzYW5pdGl6ZVVyaVByb3ZpZGVyKSB7XHJcbiAgdmFyIGhhc0RpcmVjdGl2ZXMgPSB7fSxcclxuICAgICAgU3VmZml4ID0gJ0RpcmVjdGl2ZScsXHJcbiAgICAgIENPTU1FTlRfRElSRUNUSVZFX1JFR0VYUCA9IC9eXFxzKmRpcmVjdGl2ZVxcOlxccyooW1xcd1xcLV0rKVxccysoLiopJC8sXHJcbiAgICAgIENMQVNTX0RJUkVDVElWRV9SRUdFWFAgPSAvKChbXFx3XFwtXSspKD86XFw6KFteO10rKSk/Oz8pLyxcclxuICAgICAgQUxMX09SX05PVEhJTkdfQVRUUlMgPSBtYWtlTWFwKCduZ1NyYyxuZ1NyY3NldCxzcmMsc3Jjc2V0JyksXHJcbiAgICAgIFJFUVVJUkVfUFJFRklYX1JFR0VYUCA9IC9eKD86KFxcXlxcXj8pPyhcXD8pPyhcXF5cXF4/KT8pPy87XHJcblxyXG4gIC8vIFJlZjogaHR0cDovL2RldmVsb3BlcnMud2hhdHdnLm9yZy93ZWJhcHBhcGlzLmh0bWwjZXZlbnQtaGFuZGxlci1pZGwtYXR0cmlidXRlc1xyXG4gIC8vIFRoZSBhc3N1bXB0aW9uIGlzIHRoYXQgZnV0dXJlIERPTSBldmVudCBhdHRyaWJ1dGUgbmFtZXMgd2lsbCBiZWdpbiB3aXRoXHJcbiAgLy8gJ29uJyBhbmQgYmUgY29tcG9zZWQgb2Ygb25seSBFbmdsaXNoIGxldHRlcnMuXHJcbiAgdmFyIEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAgPSAvXihvblthLXpdK3xmb3JtYWN0aW9uKSQvO1xyXG4gIHZhciBiaW5kaW5nQ2FjaGUgPSBjcmVhdGVNYXAoKTtcclxuXHJcbiAgZnVuY3Rpb24gcGFyc2VJc29sYXRlQmluZGluZ3Moc2NvcGUsIGRpcmVjdGl2ZU5hbWUsIGlzQ29udHJvbGxlcikge1xyXG4gICAgdmFyIExPQ0FMX1JFR0VYUCA9IC9eXFxzKihbQCY8XXw9KFxcKj8pKShcXD8/KVxccyooXFx3KilcXHMqJC87XHJcblxyXG4gICAgdmFyIGJpbmRpbmdzID0gY3JlYXRlTWFwKCk7XHJcblxyXG4gICAgZm9yRWFjaChzY29wZSwgZnVuY3Rpb24oZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XHJcbiAgICAgIGlmIChkZWZpbml0aW9uIGluIGJpbmRpbmdDYWNoZSkge1xyXG4gICAgICAgIGJpbmRpbmdzW3Njb3BlTmFtZV0gPSBiaW5kaW5nQ2FjaGVbZGVmaW5pdGlvbl07XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBtYXRjaCA9IGRlZmluaXRpb24ubWF0Y2goTE9DQUxfUkVHRVhQKTtcclxuXHJcbiAgICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignaXNjcCcsXHJcbiAgICAgICAgICAgIFwiSW52YWxpZCB7M30gZm9yIGRpcmVjdGl2ZSAnezB9Jy5cIiArXHJcbiAgICAgICAgICAgIFwiIERlZmluaXRpb246IHsuLi4gezF9OiAnezJ9JyAuLi59XCIsXHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsIHNjb3BlTmFtZSwgZGVmaW5pdGlvbixcclxuICAgICAgICAgICAgKGlzQ29udHJvbGxlciA/IFwiY29udHJvbGxlciBiaW5kaW5ncyBkZWZpbml0aW9uXCIgOlxyXG4gICAgICAgICAgICBcImlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvblwiKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGJpbmRpbmdzW3Njb3BlTmFtZV0gPSB7XHJcbiAgICAgICAgbW9kZTogbWF0Y2hbMV1bMF0sXHJcbiAgICAgICAgY29sbGVjdGlvbjogbWF0Y2hbMl0gPT09ICcqJyxcclxuICAgICAgICBvcHRpb25hbDogbWF0Y2hbM10gPT09ICc/JyxcclxuICAgICAgICBhdHRyTmFtZTogbWF0Y2hbNF0gfHwgc2NvcGVOYW1lXHJcbiAgICAgIH07XHJcbiAgICAgIGlmIChtYXRjaFs0XSkge1xyXG4gICAgICAgIGJpbmRpbmdDYWNoZVtkZWZpbml0aW9uXSA9IGJpbmRpbmdzW3Njb3BlTmFtZV07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBiaW5kaW5ncztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHBhcnNlRGlyZWN0aXZlQmluZGluZ3MoZGlyZWN0aXZlLCBkaXJlY3RpdmVOYW1lKSB7XHJcbiAgICB2YXIgYmluZGluZ3MgPSB7XHJcbiAgICAgIGlzb2xhdGVTY29wZTogbnVsbCxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogbnVsbFxyXG4gICAgfTtcclxuICAgIGlmIChpc09iamVjdChkaXJlY3RpdmUuc2NvcGUpKSB7XHJcbiAgICAgIGlmIChkaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlciA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXIgPSBwYXJzZUlzb2xhdGVCaW5kaW5ncyhkaXJlY3RpdmUuc2NvcGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsIHRydWUpO1xyXG4gICAgICAgIGJpbmRpbmdzLmlzb2xhdGVTY29wZSA9IHt9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJpbmRpbmdzLmlzb2xhdGVTY29wZSA9IHBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5zY29wZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCBmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc09iamVjdChkaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlcikpIHtcclxuICAgICAgYmluZGluZ3MuYmluZFRvQ29udHJvbGxlciA9XHJcbiAgICAgICAgICBwYXJzZUlzb2xhdGVCaW5kaW5ncyhkaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlciwgZGlyZWN0aXZlTmFtZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNPYmplY3QoYmluZGluZ3MuYmluZFRvQ29udHJvbGxlcikpIHtcclxuICAgICAgdmFyIGNvbnRyb2xsZXIgPSBkaXJlY3RpdmUuY29udHJvbGxlcjtcclxuICAgICAgdmFyIGNvbnRyb2xsZXJBcyA9IGRpcmVjdGl2ZS5jb250cm9sbGVyQXM7XHJcbiAgICAgIGlmICghY29udHJvbGxlcikge1xyXG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIGNvbnRyb2xsZXIsIHRoZXJlIG1heSBvciBtYXkgbm90IGJlIGEgY29udHJvbGxlckFzIHByb3BlcnR5XHJcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vY3RybCcsXHJcbiAgICAgICAgICAgICAgXCJDYW5ub3QgYmluZCB0byBjb250cm9sbGVyIHdpdGhvdXQgZGlyZWN0aXZlICd7MH0ncyBjb250cm9sbGVyLlwiLFxyXG4gICAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUpO1xyXG4gICAgICB9IGVsc2UgaWYgKCFpZGVudGlmaWVyRm9yQ29udHJvbGxlcihjb250cm9sbGVyLCBjb250cm9sbGVyQXMpKSB7XHJcbiAgICAgICAgLy8gVGhlcmUgaXMgYSBjb250cm9sbGVyLCBidXQgbm8gaWRlbnRpZmllciBvciBjb250cm9sbGVyQXMgcHJvcGVydHlcclxuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9pZGVudCcsXHJcbiAgICAgICAgICAgICAgXCJDYW5ub3QgYmluZCB0byBjb250cm9sbGVyIHdpdGhvdXQgaWRlbnRpZmllciBmb3IgZGlyZWN0aXZlICd7MH0nLlwiLFxyXG4gICAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYmluZGluZ3M7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhc3NlcnRWYWxpZERpcmVjdGl2ZU5hbWUobmFtZSkge1xyXG4gICAgdmFyIGxldHRlciA9IG5hbWUuY2hhckF0KDApO1xyXG4gICAgaWYgKCFsZXR0ZXIgfHwgbGV0dGVyICE9PSBsb3dlcmNhc2UobGV0dGVyKSkge1xyXG4gICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignYmFkZGlyJywgXCJEaXJlY3RpdmUvQ29tcG9uZW50IG5hbWUgJ3swfScgaXMgaW52YWxpZC4gVGhlIGZpcnN0IGNoYXJhY3RlciBtdXN0IGJlIGEgbG93ZXJjYXNlIGxldHRlclwiLCBuYW1lKTtcclxuICAgIH1cclxuICAgIGlmIChuYW1lICE9PSBuYW1lLnRyaW0oKSkge1xyXG4gICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignYmFkZGlyJyxcclxuICAgICAgICAgICAgXCJEaXJlY3RpdmUvQ29tcG9uZW50IG5hbWUgJ3swfScgaXMgaW52YWxpZC4gVGhlIG5hbWUgc2hvdWxkIG5vdCBjb250YWluIGxlYWRpbmcgb3IgdHJhaWxpbmcgd2hpdGVzcGFjZXNcIixcclxuICAgICAgICAgICAgbmFtZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmVcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmVnaXN0ZXIgYSBuZXcgZGlyZWN0aXZlIHdpdGggdGhlIGNvbXBpbGVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGRpcmVjdGl2ZSBpbiBjYW1lbC1jYXNlIChpLmUuIDxjb2RlPm5nQmluZDwvY29kZT4gd2hpY2hcclxuICAgKiAgICB3aWxsIG1hdGNoIGFzIDxjb2RlPm5nLWJpbmQ8L2NvZGU+KSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBkaXJlY3RpdmVzIHdoZXJlIHRoZSBrZXlzIGFyZSB0aGVcclxuICAgKiAgICBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZhY3Rvcmllcy5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5fSBkaXJlY3RpdmVGYWN0b3J5IEFuIGluamVjdGFibGUgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24uIFNlZSB0aGVcclxuICAgKiAgICB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZSBndWlkZX0gYW5kIHRoZSB7QGxpbmsgJGNvbXBpbGUgY29tcGlsZSBBUEl9IGZvciBtb3JlIGluZm8uXHJcbiAgICogQHJldHVybnMge25nLiRjb21waWxlUHJvdmlkZXJ9IFNlbGYgZm9yIGNoYWluaW5nLlxyXG4gICAqL1xyXG4gIHRoaXMuZGlyZWN0aXZlID0gZnVuY3Rpb24gcmVnaXN0ZXJEaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlRmFjdG9yeSkge1xyXG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2RpcmVjdGl2ZScpO1xyXG4gICAgaWYgKGlzU3RyaW5nKG5hbWUpKSB7XHJcbiAgICAgIGFzc2VydFZhbGlkRGlyZWN0aXZlTmFtZShuYW1lKTtcclxuICAgICAgYXNzZXJ0QXJnKGRpcmVjdGl2ZUZhY3RvcnksICdkaXJlY3RpdmVGYWN0b3J5Jyk7XHJcbiAgICAgIGlmICghaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgIGhhc0RpcmVjdGl2ZXNbbmFtZV0gPSBbXTtcclxuICAgICAgICAkcHJvdmlkZS5mYWN0b3J5KG5hbWUgKyBTdWZmaXgsIFsnJGluamVjdG9yJywgJyRleGNlcHRpb25IYW5kbGVyJyxcclxuICAgICAgICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yRWFjaChoYXNEaXJlY3RpdmVzW25hbWVdLCBmdW5jdGlvbihkaXJlY3RpdmVGYWN0b3J5LCBpbmRleCkge1xyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gJGluamVjdG9yLmludm9rZShkaXJlY3RpdmVGYWN0b3J5KTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlID0geyBjb21waWxlOiB2YWx1ZUZuKGRpcmVjdGl2ZSkgfTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWRpcmVjdGl2ZS5jb21waWxlICYmIGRpcmVjdGl2ZS5saW5rKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5jb21waWxlID0gdmFsdWVGbihkaXJlY3RpdmUubGluayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucHJpb3JpdHkgPSBkaXJlY3RpdmUucHJpb3JpdHkgfHwgMDtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5pbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLm5hbWUgPSBkaXJlY3RpdmUubmFtZSB8fCBuYW1lO1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZSB8fCAoZGlyZWN0aXZlLmNvbnRyb2xsZXIgJiYgZGlyZWN0aXZlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlc3RyaWN0ID0gZGlyZWN0aXZlLnJlc3RyaWN0IHx8ICdFQSc7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUuJCRtb2R1bGVOYW1lID0gZGlyZWN0aXZlRmFjdG9yeS4kJG1vZHVsZU5hbWU7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzLnB1c2goZGlyZWN0aXZlKTtcclxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlcztcclxuICAgICAgICAgIH1dKTtcclxuICAgICAgfVxyXG4gICAgICBoYXNEaXJlY3RpdmVzW25hbWVdLnB1c2goZGlyZWN0aXZlRmFjdG9yeSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3JFYWNoKG5hbWUsIHJldmVyc2VQYXJhbXMocmVnaXN0ZXJEaXJlY3RpdmUpKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2NvbXBvbmVudFxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgaW4gY2FtZWxDYXNlIChpLmUuIGBteUNvbXBgIHdoaWNoIHdpbGwgbWF0Y2ggYDxteS1jb21wPmApXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0IChhIHNpbXBsaWZpZWRcclxuICAgKiAgICB7QGxpbmsgbmcuJGNvbXBpbGUjZGlyZWN0aXZlLWRlZmluaXRpb24tb2JqZWN0IGRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdH0pLFxyXG4gICAqICAgIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIChhbGwgb3B0aW9uYWwpOlxyXG4gICAqXHJcbiAgICogICAgLSBgY29udHJvbGxlcmAg4oCTIGB7KHN0cmluZ3xmdW5jdGlvbigpPX1gIOKAkyBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlXHJcbiAgICogICAgICBhc3NvY2lhdGVkIHdpdGggbmV3bHkgY3JlYXRlZCBzY29wZSBvciB0aGUgbmFtZSBvZiBhIHtAbGluayBuZy4kY29tcGlsZSMtY29udHJvbGxlci1cclxuICAgKiAgICAgIHJlZ2lzdGVyZWQgY29udHJvbGxlcn0gaWYgcGFzc2VkIGFzIGEgc3RyaW5nLiBBbiBlbXB0eSBgbm9vcGAgZnVuY3Rpb24gYnkgZGVmYXVsdC5cclxuICAgKiAgICAtIGBjb250cm9sbGVyQXNgIOKAkyBge3N0cmluZz19YCDigJMgaWRlbnRpZmllciBuYW1lIGZvciB0byByZWZlcmVuY2UgdGhlIGNvbnRyb2xsZXIgaW4gdGhlIGNvbXBvbmVudCdzIHNjb3BlLlxyXG4gICAqICAgICAgSWYgcHJlc2VudCwgdGhlIGNvbnRyb2xsZXIgd2lsbCBiZSBwdWJsaXNoZWQgdG8gc2NvcGUgdW5kZXIgdGhlIGBjb250cm9sbGVyQXNgIG5hbWUuXHJcbiAgICogICAgICBJZiBub3QgcHJlc2VudCwgdGhpcyB3aWxsIGRlZmF1bHQgdG8gYmUgYCRjdHJsYC5cclxuICAgKiAgICAtIGB0ZW1wbGF0ZWAg4oCTIGB7c3RyaW5nPXxmdW5jdGlvbigpPX1gIOKAkyBodG1sIHRlbXBsYXRlIGFzIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24gdGhhdFxyXG4gICAqICAgICAgcmV0dXJucyBhbiBodG1sIHRlbXBsYXRlIGFzIGEgc3RyaW5nIHdoaWNoIHNob3VsZCBiZSB1c2VkIGFzIHRoZSBjb250ZW50cyBvZiB0aGlzIGNvbXBvbmVudC5cclxuICAgKiAgICAgIEVtcHR5IHN0cmluZyBieSBkZWZhdWx0LlxyXG4gICAqXHJcbiAgICogICAgICBJZiBgdGVtcGxhdGVgIGlzIGEgZnVuY3Rpb24sIHRoZW4gaXQgaXMge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3RlZH0gd2l0aFxyXG4gICAqICAgICAgdGhlIGZvbGxvd2luZyBsb2NhbHM6XHJcbiAgICpcclxuICAgKiAgICAgIC0gYCRlbGVtZW50YCAtIEN1cnJlbnQgZWxlbWVudFxyXG4gICAqICAgICAgLSBgJGF0dHJzYCAtIEN1cnJlbnQgYXR0cmlidXRlcyBvYmplY3QgZm9yIHRoZSBlbGVtZW50XHJcbiAgICpcclxuICAgKiAgICAtIGB0ZW1wbGF0ZVVybGAg4oCTIGB7c3RyaW5nPXxmdW5jdGlvbigpPX1gIOKAkyBwYXRoIG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHBhdGggdG8gYW4gaHRtbFxyXG4gICAqICAgICAgdGVtcGxhdGUgdGhhdCBzaG91bGQgYmUgdXNlZCAgYXMgdGhlIGNvbnRlbnRzIG9mIHRoaXMgY29tcG9uZW50LlxyXG4gICAqXHJcbiAgICogICAgICBJZiBgdGVtcGxhdGVVcmxgIGlzIGEgZnVuY3Rpb24sIHRoZW4gaXQgaXMge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3RlZH0gd2l0aFxyXG4gICAqICAgICAgdGhlIGZvbGxvd2luZyBsb2NhbHM6XHJcbiAgICpcclxuICAgKiAgICAgIC0gYCRlbGVtZW50YCAtIEN1cnJlbnQgZWxlbWVudFxyXG4gICAqICAgICAgLSBgJGF0dHJzYCAtIEN1cnJlbnQgYXR0cmlidXRlcyBvYmplY3QgZm9yIHRoZSBlbGVtZW50XHJcbiAgICpcclxuICAgKiAgICAtIGBiaW5kaW5nc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBkZWZpbmVzIGJpbmRpbmdzIGJldHdlZW4gRE9NIGF0dHJpYnV0ZXMgYW5kIGNvbXBvbmVudCBwcm9wZXJ0aWVzLlxyXG4gICAqICAgICAgQ29tcG9uZW50IHByb3BlcnRpZXMgYXJlIGFsd2F5cyBib3VuZCB0byB0aGUgY29tcG9uZW50IGNvbnRyb2xsZXIgYW5kIG5vdCB0byB0aGUgc2NvcGUuXHJcbiAgICogICAgICBTZWUge0BsaW5rIG5nLiRjb21waWxlIy1iaW5kdG9jb250cm9sbGVyLSBgYmluZFRvQ29udHJvbGxlcmB9LlxyXG4gICAqICAgIC0gYHRyYW5zY2x1ZGVgIOKAkyBge2Jvb2xlYW49fWAg4oCTIHdoZXRoZXIge0BsaW5rICRjb21waWxlI3RyYW5zY2x1c2lvbiBjb250ZW50IHRyYW5zY2x1c2lvbn0gaXMgZW5hYmxlZC5cclxuICAgKiAgICAgIERpc2FibGVkIGJ5IGRlZmF1bHQuXHJcbiAgICogICAgLSBgcmVxdWlyZWAgLSBge09iamVjdDxzdHJpbmcsIHN0cmluZz49fWAgLSByZXF1aXJlcyB0aGUgY29udHJvbGxlcnMgb2Ygb3RoZXIgZGlyZWN0aXZlcyBhbmQgYmluZHMgdGhlbSB0b1xyXG4gICAqICAgICAgdGhpcyBjb21wb25lbnQncyBjb250cm9sbGVyLiBUaGUgb2JqZWN0IGtleXMgc3BlY2lmeSB0aGUgcHJvcGVydHkgbmFtZXMgdW5kZXIgd2hpY2ggdGhlIHJlcXVpcmVkXHJcbiAgICogICAgICBjb250cm9sbGVycyAob2JqZWN0IHZhbHVlcykgd2lsbCBiZSBib3VuZC4gU2VlIHtAbGluayBuZy4kY29tcGlsZSMtcmVxdWlyZS0gYHJlcXVpcmVgfS5cclxuICAgKiAgICAtIGAkLi4uYCDigJMgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGF0dGFjaCB0byB0aGUgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24gYW5kIHRoZSBjb250cm9sbGVyXHJcbiAgICogICAgICBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gKFRoaXMgaXMgdXNlZCBieSB0aGUgY29tcG9uZW50IHJvdXRlciB0byBhbm5vdGF0ZSlcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtuZy4kY29tcGlsZVByb3ZpZGVyfSB0aGUgY29tcGlsZSBwcm92aWRlciBpdHNlbGYsIGZvciBjaGFpbmluZyBvZiBmdW5jdGlvbiBjYWxscy5cclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZWdpc3RlciBhICoqY29tcG9uZW50IGRlZmluaXRpb24qKiB3aXRoIHRoZSBjb21waWxlci4gVGhpcyBpcyBhIHNob3J0aGFuZCBmb3IgcmVnaXN0ZXJpbmcgYSBzcGVjaWFsXHJcbiAgICogdHlwZSBvZiBkaXJlY3RpdmUsIHdoaWNoIHJlcHJlc2VudHMgYSBzZWxmLWNvbnRhaW5lZCBVSSBjb21wb25lbnQgaW4geW91ciBhcHBsaWNhdGlvbi4gU3VjaCBjb21wb25lbnRzXHJcbiAgICogYXJlIGFsd2F5cyBpc29sYXRlZCAoaS5lLiBgc2NvcGU6IHt9YCkgYW5kIGFyZSBhbHdheXMgcmVzdHJpY3RlZCB0byBlbGVtZW50cyAoaS5lLiBgcmVzdHJpY3Q6ICdFJ2ApLlxyXG4gICAqXHJcbiAgICogQ29tcG9uZW50IGRlZmluaXRpb25zIGFyZSB2ZXJ5IHNpbXBsZSBhbmQgZG8gbm90IHJlcXVpcmUgYXMgbXVjaCBjb25maWd1cmF0aW9uIGFzIGRlZmluaW5nIGdlbmVyYWxcclxuICAgKiBkaXJlY3RpdmVzLiBDb21wb25lbnQgZGVmaW5pdGlvbnMgdXN1YWxseSBjb25zaXN0IG9ubHkgb2YgYSB0ZW1wbGF0ZSBhbmQgYSBjb250cm9sbGVyIGJhY2tpbmcgaXQuXHJcbiAgICpcclxuICAgKiBJbiBvcmRlciB0byBtYWtlIHRoZSBkZWZpbml0aW9uIGVhc2llciwgY29tcG9uZW50cyBlbmZvcmNlIGJlc3QgcHJhY3RpY2VzIGxpa2UgdXNlIG9mIGBjb250cm9sbGVyQXNgLFxyXG4gICAqIGBiaW5kVG9Db250cm9sbGVyYC4gVGhleSBhbHdheXMgaGF2ZSAqKmlzb2xhdGUgc2NvcGUqKiBhbmQgYXJlIHJlc3RyaWN0ZWQgdG8gZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBIZXJlIGFyZSBhIGZldyBleGFtcGxlcyBvZiBob3cgeW91IHdvdWxkIHVzdWFsbHkgZGVmaW5lIGNvbXBvbmVudHM6XHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqICAgdmFyIG15TW9kID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcclxuICAgKiAgIG15TW9kLmNvbXBvbmVudCgnbXlDb21wJywge1xyXG4gICAqICAgICB0ZW1wbGF0ZTogJzxkaXY+TXkgbmFtZSBpcyB7eyRjdHJsLm5hbWV9fTwvZGl2PicsXHJcbiAgICogICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgIHRoaXMubmFtZSA9ICdzaGFoYXInO1xyXG4gICAqICAgICB9XHJcbiAgICogICB9KTtcclxuICAgKlxyXG4gICAqICAgbXlNb2QuY29tcG9uZW50KCdteUNvbXAnLCB7XHJcbiAgICogICAgIHRlbXBsYXRlOiAnPGRpdj5NeSBuYW1lIGlzIHt7JGN0cmwubmFtZX19PC9kaXY+JyxcclxuICAgKiAgICAgYmluZGluZ3M6IHtuYW1lOiAnQCd9XHJcbiAgICogICB9KTtcclxuICAgKlxyXG4gICAqICAgbXlNb2QuY29tcG9uZW50KCdteUNvbXAnLCB7XHJcbiAgICogICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbXktY29tcC5odG1sJyxcclxuICAgKiAgICAgY29udHJvbGxlcjogJ015Q3RybCcsXHJcbiAgICogICAgIGNvbnRyb2xsZXJBczogJ2N0cmwnLFxyXG4gICAqICAgICBiaW5kaW5nczoge25hbWU6ICdAJ31cclxuICAgKiAgIH0pO1xyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICogRm9yIG1vcmUgZXhhbXBsZXMsIGFuZCBhbiBpbi1kZXB0aCBndWlkZSwgc2VlIHRoZSB7QGxpbmsgZ3VpZGUvY29tcG9uZW50IGNvbXBvbmVudCBndWlkZX0uXHJcbiAgICpcclxuICAgKiA8YnIgLz5cclxuICAgKiBTZWUgYWxzbyB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgJGNvbXBpbGVQcm92aWRlci5kaXJlY3RpdmUoKX0uXHJcbiAgICovXHJcbiAgdGhpcy5jb21wb25lbnQgPSBmdW5jdGlvbiByZWdpc3RlckNvbXBvbmVudChuYW1lLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgY29udHJvbGxlciA9IG9wdGlvbnMuY29udHJvbGxlciB8fCBmdW5jdGlvbigpIHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGZhY3RvcnkoJGluamVjdG9yKSB7XHJcbiAgICAgIGZ1bmN0aW9uIG1ha2VJbmplY3RhYmxlKGZuKSB7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZm4pIHx8IGlzQXJyYXkoZm4pKSB7XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xyXG4gICAgICAgICAgICByZXR1cm4gJGluamVjdG9yLmludm9rZShmbiwgdGhpcywgeyRlbGVtZW50OiB0RWxlbWVudCwgJGF0dHJzOiB0QXR0cnN9KTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBmbjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB0ZW1wbGF0ZSA9ICghb3B0aW9ucy50ZW1wbGF0ZSAmJiAhb3B0aW9ucy50ZW1wbGF0ZVVybCA/ICcnIDogb3B0aW9ucy50ZW1wbGF0ZSk7XHJcbiAgICAgIHZhciBkZG8gPSB7XHJcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlcixcclxuICAgICAgICBjb250cm9sbGVyQXM6IGlkZW50aWZpZXJGb3JDb250cm9sbGVyKG9wdGlvbnMuY29udHJvbGxlcikgfHwgb3B0aW9ucy5jb250cm9sbGVyQXMgfHwgJyRjdHJsJyxcclxuICAgICAgICB0ZW1wbGF0ZTogbWFrZUluamVjdGFibGUodGVtcGxhdGUpLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiBtYWtlSW5qZWN0YWJsZShvcHRpb25zLnRlbXBsYXRlVXJsKSxcclxuICAgICAgICB0cmFuc2NsdWRlOiBvcHRpb25zLnRyYW5zY2x1ZGUsXHJcbiAgICAgICAgc2NvcGU6IHt9LFxyXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IG9wdGlvbnMuYmluZGluZ3MgfHwge30sXHJcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICByZXF1aXJlOiBvcHRpb25zLnJlcXVpcmVcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIENvcHkgYW5ub3RhdGlvbnMgKHN0YXJ0aW5nIHdpdGggJCkgb3ZlciB0byB0aGUgRERPXHJcbiAgICAgIGZvckVhY2gob3B0aW9ucywgZnVuY3Rpb24odmFsLCBrZXkpIHtcclxuICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnKSBkZG9ba2V5XSA9IHZhbDtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gZGRvO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE8ocGV0ZSkgcmVtb3ZlIHRoZSBmb2xsb3dpbmcgYGZvckVhY2hgIGJlZm9yZSB3ZSByZWxlYXNlIDEuNi4wXHJcbiAgICAvLyBUaGUgY29tcG9uZW50LXJvdXRlckAwLjIuMCBsb29rcyBmb3IgdGhlIGFubm90YXRpb25zIG9uIHRoZSBjb250cm9sbGVyIGNvbnN0cnVjdG9yXHJcbiAgICAvLyBOb3RoaW5nIGluIEFuZ3VsYXIgbG9va3MgZm9yIGFubm90YXRpb25zIG9uIHRoZSBmYWN0b3J5IGZ1bmN0aW9uIGJ1dCB3ZSBjYW4ndCByZW1vdmVcclxuICAgIC8vIGl0IGZyb20gMS41LnggeWV0LlxyXG5cclxuICAgIC8vIENvcHkgYW55IGFubm90YXRpb24gcHJvcGVydGllcyAoc3RhcnRpbmcgd2l0aCAkKSBvdmVyIHRvIHRoZSBmYWN0b3J5IGFuZCBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uc1xyXG4gICAgLy8gVGhlc2UgY291bGQgYmUgdXNlZCBieSBsaWJyYXJpZXMgc3VjaCBhcyB0aGUgbmV3IGNvbXBvbmVudCByb3V0ZXJcclxuICAgIGZvckVhY2gob3B0aW9ucywgZnVuY3Rpb24odmFsLCBrZXkpIHtcclxuICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICckJykge1xyXG4gICAgICAgIGZhY3Rvcnlba2V5XSA9IHZhbDtcclxuICAgICAgICAvLyBEb24ndCB0cnkgdG8gY29weSBvdmVyIGFubm90YXRpb25zIHRvIG5hbWVkIGNvbnRyb2xsZXJcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVyKSkgY29udHJvbGxlcltrZXldID0gdmFsO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmYWN0b3J5LiRpbmplY3QgPSBbJyRpbmplY3RvciddO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmRpcmVjdGl2ZShuYW1lLCBmYWN0b3J5KTtcclxuICB9O1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxyXG4gICAqIHVybHMgZHVyaW5nIGFbaHJlZl0gc2FuaXRpemF0aW9uLlxyXG4gICAqXHJcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudGluZyBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cclxuICAgKlxyXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gYVtocmVmXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXHJcbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxyXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxyXG4gICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cclxuICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXHJcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxyXG4gICAqL1xyXG4gIHRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcclxuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xyXG4gICAgICAkJHNhbml0aXplVXJpUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2ltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdFxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXHJcbiAgICogdXJscyBkdXJpbmcgaW1nW3NyY10gc2FuaXRpemF0aW9uLlxyXG4gICAqXHJcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cclxuICAgKlxyXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gaW1nW3NyY10gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xyXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXHJcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXHJcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXHJcbiAgICovXHJcbiAgdGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcclxuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xyXG4gICAgICAkJHNhbml0aXplVXJpUHJvdmlkZXIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KHJlZ2V4cCk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuICQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgICRjb21waWxlUHJvdmlkZXIjZGVidWdJbmZvRW5hYmxlZFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtib29sZWFuPX0gZW5hYmxlZCB1cGRhdGUgdGhlIGRlYnVnSW5mb0VuYWJsZWQgc3RhdGUgaWYgcHJvdmlkZWQsIG90aGVyd2lzZSBqdXN0IHJldHVybiB0aGVcclxuICAgKiBjdXJyZW50IGRlYnVnSW5mb0VuYWJsZWQgc3RhdGVcclxuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxyXG4gICAqXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENhbGwgdGhpcyBtZXRob2QgdG8gZW5hYmxlL2Rpc2FibGUgdmFyaW91cyBkZWJ1ZyBydW50aW1lIGluZm9ybWF0aW9uIGluIHRoZSBjb21waWxlciBzdWNoIGFzIGFkZGluZ1xyXG4gICAqIGJpbmRpbmcgaW5mb3JtYXRpb24gYW5kIGEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHNjb3BlIG9uIHRvIERPTSBlbGVtZW50cy5cclxuICAgKiBJZiBlbmFibGVkLCB0aGUgY29tcGlsZXIgd2lsbCBhZGQgdGhlIGZvbGxvd2luZyB0byBET00gZWxlbWVudHMgdGhhdCBoYXZlIGJlZW4gYm91bmQgdG8gdGhlIHNjb3BlXHJcbiAgICogKiBgbmctYmluZGluZ2AgQ1NTIGNsYXNzXHJcbiAgICogKiBgJGJpbmRpbmdgIGRhdGEgcHJvcGVydHkgY29udGFpbmluZyBhbiBhcnJheSBvZiB0aGUgYmluZGluZyBleHByZXNzaW9uc1xyXG4gICAqXHJcbiAgICogWW91IG1heSB3YW50IHRvIGRpc2FibGUgdGhpcyBpbiBwcm9kdWN0aW9uIGZvciBhIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGJvb3N0LiBTZWVcclxuICAgKiB7QGxpbmsgZ3VpZGUvcHJvZHVjdGlvbiNkaXNhYmxpbmctZGVidWctZGF0YSBEaXNhYmxpbmcgRGVidWcgRGF0YX0gZm9yIG1vcmUuXHJcbiAgICpcclxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxyXG4gICAqL1xyXG4gIHZhciBkZWJ1Z0luZm9FbmFibGVkID0gdHJ1ZTtcclxuICB0aGlzLmRlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbihlbmFibGVkKSB7XHJcbiAgICBpZiAoaXNEZWZpbmVkKGVuYWJsZWQpKSB7XHJcbiAgICAgIGRlYnVnSW5mb0VuYWJsZWQgPSBlbmFibGVkO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBkZWJ1Z0luZm9FbmFibGVkO1xyXG4gIH07XHJcblxyXG5cclxuICB2YXIgVFRMID0gMTA7XHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjb25DaGFuZ2VzVHRsXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgdGltZXMgYCRvbkNoYW5nZXNgIGhvb2tzIGNhbiB0cmlnZ2VyIG5ldyBjaGFuZ2VzIGJlZm9yZSBnaXZpbmcgdXAgYW5kXHJcbiAgICogYXNzdW1pbmcgdGhhdCB0aGUgbW9kZWwgaXMgdW5zdGFibGUuXHJcbiAgICpcclxuICAgKiBUaGUgY3VycmVudCBkZWZhdWx0IGlzIDEwIGl0ZXJhdGlvbnMuXHJcbiAgICpcclxuICAgKiBJbiBjb21wbGV4IGFwcGxpY2F0aW9ucyBpdCdzIHBvc3NpYmxlIHRoYXQgZGVwZW5kZW5jaWVzIGJldHdlZW4gYCRvbkNoYW5nZXNgIGhvb2tzIGFuZCBiaW5kaW5ncyB3aWxsIHJlc3VsdFxyXG4gICAqIGluIHNldmVyYWwgaXRlcmF0aW9ucyBvZiBjYWxscyB0byB0aGVzZSBob29rcy4gSG93ZXZlciBpZiBhbiBhcHBsaWNhdGlvbiBuZWVkcyBtb3JlIHRoYW4gdGhlIGRlZmF1bHQgMTBcclxuICAgKiBpdGVyYXRpb25zIHRvIHN0YWJpbGl6ZSB0aGVuIHlvdSBzaG91bGQgaW52ZXN0aWdhdGUgd2hhdCBpcyBjYXVzaW5nIHRoZSBtb2RlbCB0byBjb250aW51b3VzbHkgY2hhbmdlIGR1cmluZ1xyXG4gICAqIHRoZSBgJG9uQ2hhbmdlc2AgaG9vayBleGVjdXRpb24uXHJcbiAgICpcclxuICAgKiBJbmNyZWFzaW5nIHRoZSBUVEwgY291bGQgaGF2ZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMsIHNvIHlvdSBzaG91bGQgbm90IGNoYW5nZSBpdCB3aXRob3V0IHByb3BlciBqdXN0aWZpY2F0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxpbWl0IFRoZSBudW1iZXIgb2YgYCRvbkNoYW5nZXNgIGhvb2sgaXRlcmF0aW9ucy5cclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfG9iamVjdH0gdGhlIGN1cnJlbnQgbGltaXQgKG9yIGB0aGlzYCBpZiBjYWxsZWQgYXMgYSBzZXR0ZXIgZm9yIGNoYWluaW5nKVxyXG4gICAqL1xyXG4gIHRoaXMub25DaGFuZ2VzVHRsID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIFRUTCA9IHZhbHVlO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBUVEw7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gW1xyXG4gICAgICAgICAgICAnJGluamVjdG9yJywgJyRpbnRlcnBvbGF0ZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckdGVtcGxhdGVSZXF1ZXN0JywgJyRwYXJzZScsXHJcbiAgICAgICAgICAgICckY29udHJvbGxlcicsICckcm9vdFNjb3BlJywgJyRzY2UnLCAnJGFuaW1hdGUnLCAnJCRzYW5pdGl6ZVVyaScsXHJcbiAgICBmdW5jdGlvbigkaW5qZWN0b3IsICAgJGludGVycG9sYXRlLCAgICRleGNlcHRpb25IYW5kbGVyLCAgICR0ZW1wbGF0ZVJlcXVlc3QsICAgJHBhcnNlLFxyXG4gICAgICAgICAgICAgJGNvbnRyb2xsZXIsICAgJHJvb3RTY29wZSwgICAkc2NlLCAgICRhbmltYXRlLCAgICQkc2FuaXRpemVVcmkpIHtcclxuXHJcbiAgICB2YXIgU0lNUExFX0FUVFJfTkFNRSA9IC9eXFx3LztcclxuICAgIHZhciBzcGVjaWFsQXR0ckhvbGRlciA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcblxyXG5cclxuICAgIHZhciBvbkNoYW5nZXNUdGwgPSBUVEw7XHJcbiAgICAvLyBUaGUgb25DaGFuZ2VzIGhvb2tzIHNob3VsZCBhbGwgYmUgcnVuIHRvZ2V0aGVyIGluIGEgc2luZ2xlIGRpZ2VzdFxyXG4gICAgLy8gV2hlbiBjaGFuZ2VzIG9jY3VyLCB0aGUgY2FsbCB0byB0cmlnZ2VyIHRoZWlyIGhvb2tzIHdpbGwgYmUgYWRkZWQgdG8gdGhpcyBxdWV1ZVxyXG4gICAgdmFyIG9uQ2hhbmdlc1F1ZXVlO1xyXG5cclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGluIGEgJCRwb3N0RGlnZXN0IHRvIHRyaWdnZXIgYWxsIHRoZSBvbkNoYW5nZXMgaG9va3MgaW4gYSBzaW5nbGUgZGlnZXN0XHJcbiAgICBmdW5jdGlvbiBmbHVzaE9uQ2hhbmdlc1F1ZXVlKCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmICghKC0tb25DaGFuZ2VzVHRsKSkge1xyXG4gICAgICAgICAgLy8gV2UgaGF2ZSBoaXQgdGhlIFRUTCBsaW1pdCBzbyByZXNldCBldmVyeXRoaW5nXHJcbiAgICAgICAgICBvbkNoYW5nZXNRdWV1ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdpbmZjaG5nJywgJ3swfSAkb25DaGFuZ2VzKCkgaXRlcmF0aW9ucyByZWFjaGVkLiBBYm9ydGluZyFcXG4nLCBUVEwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBXZSBtdXN0IHJ1biB0aGlzIGhvb2sgaW4gYW4gYXBwbHkgc2luY2UgdGhlICQkcG9zdERpZ2VzdCBydW5zIG91dHNpZGUgYXBwbHlcclxuICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG9uQ2hhbmdlc1F1ZXVlLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcclxuICAgICAgICAgICAgb25DaGFuZ2VzUXVldWVbaV0oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIFJlc2V0IHRoZSBxdWV1ZSB0byB0cmlnZ2VyIGEgbmV3IHNjaGVkdWxlIG5leHQgdGltZSB0aGVyZSBpcyBhIGNoYW5nZVxyXG4gICAgICAgICAgb25DaGFuZ2VzUXVldWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgb25DaGFuZ2VzVHRsKys7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gQXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzVG9Db3B5KSB7XHJcbiAgICAgIGlmIChhdHRyaWJ1dGVzVG9Db3B5KSB7XHJcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzVG9Db3B5KTtcclxuICAgICAgICB2YXIgaSwgbCwga2V5O1xyXG5cclxuICAgICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICB0aGlzW2tleV0gPSBhdHRyaWJ1dGVzVG9Db3B5W2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuJGF0dHIgPSB7fTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy4kJGVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIEF0dHJpYnV0ZXMucHJvdG90eXBlID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkbm9ybWFsaXplXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBDb252ZXJ0cyBhbiBhdHRyaWJ1dGUgbmFtZSAoZS5nLiBkYXNoL2NvbG9uL3VuZGVyc2NvcmUtZGVsaW1pdGVkIHN0cmluZywgb3B0aW9uYWxseSBwcmVmaXhlZCB3aXRoIGB4LWAgb3JcclxuICAgICAgICogYGRhdGEtYCkgdG8gaXRzIG5vcm1hbGl6ZWQsIGNhbWVsQ2FzZSBmb3JtLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBBbHNvIHRoZXJlIGlzIHNwZWNpYWwgY2FzZSBmb3IgTW96IHByZWZpeCBzdGFydGluZyB3aXRoIHVwcGVyIGNhc2UgbGV0dGVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbiBjaGVjayBvdXQgdGhlIGd1aWRlIG9uIHtAbGluayBndWlkZS9kaXJlY3RpdmUjbWF0Y2hpbmctZGlyZWN0aXZlcyBNYXRjaGluZyBEaXJlY3RpdmVzfVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxyXG4gICAgICAgKi9cclxuICAgICAgJG5vcm1hbGl6ZTogZGlyZWN0aXZlTm9ybWFsaXplLFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhZGRDbGFzc1xyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogQWRkcyB0aGUgQ1NTIGNsYXNzIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgY2xhc3NWYWwgcGFyYW1ldGVyIHRvIHRoZSBlbGVtZW50LiBJZiBhbmltYXRpb25zXHJcbiAgICAgICAqIGFyZSBlbmFibGVkIHRoZW4gYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGZvciB0aGUgY2xhc3MgYWRkaXRpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1ZhbCBUaGUgY2xhc3NOYW1lIHZhbHVlIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudFxyXG4gICAgICAgKi9cclxuICAgICAgJGFkZENsYXNzOiBmdW5jdGlvbihjbGFzc1ZhbCkge1xyXG4gICAgICAgIGlmIChjbGFzc1ZhbCAmJiBjbGFzc1ZhbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgY2xhc3NWYWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRyZW1vdmVDbGFzc1xyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUmVtb3ZlcyB0aGUgQ1NTIGNsYXNzIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgY2xhc3NWYWwgcGFyYW1ldGVyIGZyb20gdGhlIGVsZW1lbnQuIElmXHJcbiAgICAgICAqIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgdGhlbiBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgZm9yIHRoZSBjbGFzcyByZW1vdmFsLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NWYWwgVGhlIGNsYXNzTmFtZSB2YWx1ZSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XHJcbiAgICAgICAqL1xyXG4gICAgICAkcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGNsYXNzVmFsKSB7XHJcbiAgICAgICAgaWYgKGNsYXNzVmFsICYmIGNsYXNzVmFsLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCBjbGFzc1ZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHVwZGF0ZUNsYXNzXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBBZGRzIGFuZCByZW1vdmVzIHRoZSBhcHByb3ByaWF0ZSBDU1MgY2xhc3MgdmFsdWVzIHRvIHRoZSBlbGVtZW50IGJhc2VkIG9uIHRoZSBkaWZmZXJlbmNlXHJcbiAgICAgICAqIGJldHdlZW4gdGhlIG5ldyBhbmQgb2xkIENTUyBjbGFzcyB2YWx1ZXMgKHNwZWNpZmllZCBhcyBuZXdDbGFzc2VzIGFuZCBvbGRDbGFzc2VzKS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5ld0NsYXNzZXMgVGhlIGN1cnJlbnQgQ1NTIGNsYXNzTmFtZSB2YWx1ZVxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2xkQ2xhc3NlcyBUaGUgZm9ybWVyIENTUyBjbGFzc05hbWUgdmFsdWVcclxuICAgICAgICovXHJcbiAgICAgICR1cGRhdGVDbGFzczogZnVuY3Rpb24obmV3Q2xhc3Nlcywgb2xkQ2xhc3Nlcykge1xyXG4gICAgICAgIHZhciB0b0FkZCA9IHRva2VuRGlmZmVyZW5jZShuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKTtcclxuICAgICAgICBpZiAodG9BZGQgJiYgdG9BZGQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgdG9BZGQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRvUmVtb3ZlID0gdG9rZW5EaWZmZXJlbmNlKG9sZENsYXNzZXMsIG5ld0NsYXNzZXMpO1xyXG4gICAgICAgIGlmICh0b1JlbW92ZSAmJiB0b1JlbW92ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCB0b1JlbW92ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldCBhIG5vcm1hbGl6ZWQgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGluIGEgd2F5IHN1Y2ggdGhhdCBhbGwgZGlyZWN0aXZlc1xyXG4gICAgICAgKiBjYW4gc2hhcmUgdGhlIGF0dHJpYnV0ZS4gVGhpcyBmdW5jdGlvbiBwcm9wZXJseSBoYW5kbGVzIGJvb2xlYW4gYXR0cmlidXRlcy5cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBOb3JtYWxpemVkIGtleS4gKGllIG5nQXR0cmlidXRlKVxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LiBJZiBgbnVsbGAgYXR0cmlidXRlIHdpbGwgYmUgZGVsZXRlZC5cclxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gd3JpdGVBdHRyIElmIGZhbHNlLCBkb2VzIG5vdCB3cml0ZSB0aGUgdmFsdWUgdG8gRE9NIGVsZW1lbnQgYXR0cmlidXRlLlxyXG4gICAgICAgKiAgICAgRGVmYXVsdHMgdG8gdHJ1ZS5cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBhdHRyTmFtZSBPcHRpb25hbCBub25lIG5vcm1hbGl6ZWQgbmFtZS4gRGVmYXVsdHMgdG8ga2V5LlxyXG4gICAgICAgKi9cclxuICAgICAgJHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSwgd3JpdGVBdHRyLCBhdHRyTmFtZSkge1xyXG4gICAgICAgIC8vIFRPRE86IGRlY2lkZSB3aGV0aGVyIG9yIG5vdCB0byB0aHJvdyBhbiBlcnJvciBpZiBcImNsYXNzXCJcclxuICAgICAgICAvL2lzIHNldCB0aHJvdWdoIHRoaXMgZnVuY3Rpb24gc2luY2UgaXQgbWF5IGNhdXNlICR1cGRhdGVDbGFzcyB0b1xyXG4gICAgICAgIC8vYmVjb21lIHVuc3RhYmxlLlxyXG5cclxuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuJCRlbGVtZW50WzBdLFxyXG4gICAgICAgICAgICBib29sZWFuS2V5ID0gZ2V0Qm9vbGVhbkF0dHJOYW1lKG5vZGUsIGtleSksXHJcbiAgICAgICAgICAgIGFsaWFzZWRLZXkgPSBnZXRBbGlhc2VkQXR0ck5hbWUoa2V5KSxcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBrZXksXHJcbiAgICAgICAgICAgIG5vZGVOYW1lO1xyXG5cclxuICAgICAgICBpZiAoYm9vbGVhbktleSkge1xyXG4gICAgICAgICAgdGhpcy4kJGVsZW1lbnQucHJvcChrZXksIHZhbHVlKTtcclxuICAgICAgICAgIGF0dHJOYW1lID0gYm9vbGVhbktleTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFsaWFzZWRLZXkpIHtcclxuICAgICAgICAgIHRoaXNbYWxpYXNlZEtleV0gPSB2YWx1ZTtcclxuICAgICAgICAgIG9ic2VydmVyID0gYWxpYXNlZEtleTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAvLyB0cmFuc2xhdGUgbm9ybWFsaXplZCBrZXkgdG8gYWN0dWFsIGtleVxyXG4gICAgICAgIGlmIChhdHRyTmFtZSkge1xyXG4gICAgICAgICAgdGhpcy4kYXR0cltrZXldID0gYXR0ck5hbWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGF0dHJOYW1lID0gdGhpcy4kYXR0cltrZXldO1xyXG4gICAgICAgICAgaWYgKCFhdHRyTmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLiRhdHRyW2tleV0gPSBhdHRyTmFtZSA9IHNuYWtlX2Nhc2Uoa2V5LCAnLScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbm9kZU5hbWUgPSBub2RlTmFtZV8odGhpcy4kJGVsZW1lbnQpO1xyXG5cclxuICAgICAgICBpZiAoKG5vZGVOYW1lID09PSAnYScgJiYgKGtleSA9PT0gJ2hyZWYnIHx8IGtleSA9PT0gJ3hsaW5rSHJlZicpKSB8fFxyXG4gICAgICAgICAgICAobm9kZU5hbWUgPT09ICdpbWcnICYmIGtleSA9PT0gJ3NyYycpKSB7XHJcbiAgICAgICAgICAvLyBzYW5pdGl6ZSBhW2hyZWZdIGFuZCBpbWdbc3JjXSB2YWx1ZXNcclxuICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlID0gJCRzYW5pdGl6ZVVyaSh2YWx1ZSwga2V5ID09PSAnc3JjJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChub2RlTmFtZSA9PT0gJ2ltZycgJiYga2V5ID09PSAnc3Jjc2V0Jykge1xyXG4gICAgICAgICAgLy8gc2FuaXRpemUgaW1nW3NyY3NldF0gdmFsdWVzXHJcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAvLyBmaXJzdCBjaGVjayBpZiB0aGVyZSBhcmUgc3BhY2VzIGJlY2F1c2UgaXQncyBub3QgdGhlIHNhbWUgcGF0dGVyblxyXG4gICAgICAgICAgdmFyIHRyaW1tZWRTcmNzZXQgPSB0cmltKHZhbHVlKTtcclxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICggICA5OTl4ICAgLHwgICA5OTl3ICAgLHwgICAsfCwgICApXHJcbiAgICAgICAgICB2YXIgc3JjUGF0dGVybiA9IC8oXFxzK1xcZCt4XFxzKix8XFxzK1xcZCt3XFxzKix8XFxzKyx8LFxccyspLztcclxuICAgICAgICAgIHZhciBwYXR0ZXJuID0gL1xccy8udGVzdCh0cmltbWVkU3Jjc2V0KSA/IHNyY1BhdHRlcm4gOiAvKCwpLztcclxuXHJcbiAgICAgICAgICAvLyBzcGxpdCBzcmNzZXQgaW50byB0dXBsZSBvZiB1cmkgYW5kIGRlc2NyaXB0b3IgZXhjZXB0IGZvciB0aGUgbGFzdCBpdGVtXHJcbiAgICAgICAgICB2YXIgcmF3VXJpcyA9IHRyaW1tZWRTcmNzZXQuc3BsaXQocGF0dGVybik7XHJcblxyXG4gICAgICAgICAgLy8gZm9yIGVhY2ggdHVwbGVzXHJcbiAgICAgICAgICB2YXIgbmJyVXJpc1dpdGgycGFydHMgPSBNYXRoLmZsb29yKHJhd1VyaXMubGVuZ3RoIC8gMik7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5iclVyaXNXaXRoMnBhcnRzOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGlubmVySWR4ID0gaSAqIDI7XHJcbiAgICAgICAgICAgIC8vIHNhbml0aXplIHRoZSB1cmlcclxuICAgICAgICAgICAgcmVzdWx0ICs9ICQkc2FuaXRpemVVcmkodHJpbShyYXdVcmlzW2lubmVySWR4XSksIHRydWUpO1xyXG4gICAgICAgICAgICAvLyBhZGQgdGhlIGRlc2NyaXB0b3JcclxuICAgICAgICAgICAgcmVzdWx0ICs9IChcIiBcIiArIHRyaW0ocmF3VXJpc1tpbm5lcklkeCArIDFdKSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gc3BsaXQgdGhlIGxhc3QgaXRlbSBpbnRvIHVyaSBhbmQgZGVzY3JpcHRvclxyXG4gICAgICAgICAgdmFyIGxhc3RUdXBsZSA9IHRyaW0ocmF3VXJpc1tpICogMl0pLnNwbGl0KC9cXHMvKTtcclxuXHJcbiAgICAgICAgICAvLyBzYW5pdGl6ZSB0aGUgbGFzdCB1cmlcclxuICAgICAgICAgIHJlc3VsdCArPSAkJHNhbml0aXplVXJpKHRyaW0obGFzdFR1cGxlWzBdKSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgLy8gYW5kIGFkZCB0aGUgbGFzdCBkZXNjcmlwdG9yIGlmIGFueVxyXG4gICAgICAgICAgaWYgKGxhc3RUdXBsZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgcmVzdWx0ICs9IChcIiBcIiArIHRyaW0obGFzdFR1cGxlWzFdKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZSA9IHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh3cml0ZUF0dHIgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoYXR0ck5hbWUpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKFNJTVBMRV9BVFRSX05BTUUudGVzdChhdHRyTmFtZSkpIHtcclxuICAgICAgICAgICAgICB0aGlzLiQkZWxlbWVudC5hdHRyKGF0dHJOYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc2V0U3BlY2lhbEF0dHIodGhpcy4kJGVsZW1lbnRbMF0sIGF0dHJOYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZpcmUgb2JzZXJ2ZXJzXHJcbiAgICAgICAgdmFyICQkb2JzZXJ2ZXJzID0gdGhpcy4kJG9ic2VydmVycztcclxuICAgICAgICAkJG9ic2VydmVycyAmJiBmb3JFYWNoKCQkb2JzZXJ2ZXJzW29ic2VydmVyXSwgZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZuKHZhbHVlKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJG9ic2VydmVcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIE9ic2VydmVzIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSBvYnNlcnZlciBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgb25jZSBkdXJpbmcgdGhlIG5leHQgYCRkaWdlc3RgIGZvbGxvd2luZ1xyXG4gICAgICAgKiBjb21waWxhdGlvbi4gVGhlIG9ic2VydmVyIGlzIHRoZW4gaW52b2tlZCB3aGVuZXZlciB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlXHJcbiAgICAgICAqIGNoYW5nZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTm9ybWFsaXplZCBrZXkuIChpZSBuZ0F0dHJpYnV0ZSkgLlxyXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGludGVycG9sYXRlZFZhbHVlKX0gZm4gRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlclxyXG4gICAgICAgICAgICAgICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIGNoYW5nZXMuXHJcbiAgICAgICAqICAgICAgICBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uI2hvdy10ZXh0LWFuZC1hdHRyaWJ1dGUtYmluZGluZ3Mtd29yayBJbnRlcnBvbGF0aW9uXHJcbiAgICAgICAqICAgICAgICBndWlkZX0gZm9yIG1vcmUgaW5mby5cclxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBvYnNlcnZlci5cclxuICAgICAgICovXHJcbiAgICAgICRvYnNlcnZlOiBmdW5jdGlvbihrZXksIGZuKSB7XHJcbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcyxcclxuICAgICAgICAgICAgJCRvYnNlcnZlcnMgPSAoYXR0cnMuJCRvYnNlcnZlcnMgfHwgKGF0dHJzLiQkb2JzZXJ2ZXJzID0gY3JlYXRlTWFwKCkpKSxcclxuICAgICAgICAgICAgbGlzdGVuZXJzID0gKCQkb2JzZXJ2ZXJzW2tleV0gfHwgKCQkb2JzZXJ2ZXJzW2tleV0gPSBbXSkpO1xyXG5cclxuICAgICAgICBsaXN0ZW5lcnMucHVzaChmbik7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKCFsaXN0ZW5lcnMuJCRpbnRlciAmJiBhdHRycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFpc1VuZGVmaW5lZChhdHRyc1trZXldKSkge1xyXG4gICAgICAgICAgICAvLyBubyBvbmUgcmVnaXN0ZXJlZCBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiwgc28gbGV0cyBjYWxsIGl0IG1hbnVhbGx5XHJcbiAgICAgICAgICAgIGZuKGF0dHJzW2tleV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBhcnJheVJlbW92ZShsaXN0ZW5lcnMsIGZuKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldFNwZWNpYWxBdHRyKGVsZW1lbnQsIGF0dHJOYW1lLCB2YWx1ZSkge1xyXG4gICAgICAvLyBBdHRyaWJ1dGVzIG5hbWVzIHRoYXQgZG8gbm90IHN0YXJ0IHdpdGggbGV0dGVycyAoc3VjaCBhcyBgKGNsaWNrKWApIGNhbm5vdCBiZSBzZXQgdXNpbmcgYHNldEF0dHJpYnV0ZWBcclxuICAgICAgLy8gc28gd2UgaGF2ZSB0byBqdW1wIHRocm91Z2ggc29tZSBob29wcyB0byBnZXQgc3VjaCBhbiBhdHRyaWJ1dGVcclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzEzMzE4XHJcbiAgICAgIHNwZWNpYWxBdHRySG9sZGVyLmlubmVySFRNTCA9IFwiPHNwYW4gXCIgKyBhdHRyTmFtZSArIFwiPlwiO1xyXG4gICAgICB2YXIgYXR0cmlidXRlcyA9IHNwZWNpYWxBdHRySG9sZGVyLmZpcnN0Q2hpbGQuYXR0cmlidXRlcztcclxuICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbMF07XHJcbiAgICAgIC8vIFdlIGhhdmUgdG8gcmVtb3ZlIHRoZSBhdHRyaWJ1dGUgZnJvbSBpdHMgY29udGFpbmVyIGVsZW1lbnQgYmVmb3JlIHdlIGNhbiBhZGQgaXQgdG8gdGhlIGRlc3RpbmF0aW9uIGVsZW1lbnRcclxuICAgICAgYXR0cmlidXRlcy5yZW1vdmVOYW1lZEl0ZW0oYXR0cmlidXRlLm5hbWUpO1xyXG4gICAgICBhdHRyaWJ1dGUudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnNldE5hbWVkSXRlbShhdHRyaWJ1dGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIGlnbm9yZSwgc2luY2UgaXQgbWVhbnMgdGhhdCB3ZSBhcmUgdHJ5aW5nIHRvIHNldCBjbGFzcyBvblxyXG4gICAgICAgIC8vIFNWRyBlbGVtZW50LCB3aGVyZSBjbGFzcyBuYW1lIGlzIHJlYWQtb25seS5cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICB2YXIgc3RhcnRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxcclxuICAgICAgICBlbmRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksXHJcbiAgICAgICAgZGVub3JtYWxpemVUZW1wbGF0ZSA9IChzdGFydFN5bWJvbCA9PSAne3snICYmIGVuZFN5bWJvbCAgPT0gJ319JylcclxuICAgICAgICAgICAgPyBpZGVudGl0eVxyXG4gICAgICAgICAgICA6IGZ1bmN0aW9uIGRlbm9ybWFsaXplVGVtcGxhdGUodGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZSgvXFx7XFx7L2csIHN0YXJ0U3ltYm9sKS5yZXBsYWNlKC99fS9nLCBlbmRTeW1ib2wpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgTkdfQVRUUl9CSU5ESU5HID0gL15uZ0F0dHJbQS1aXS87XHJcbiAgICB2YXIgTVVMVElfRUxFTUVOVF9ESVJfUkUgPSAvXiguKylTdGFydCQvO1xyXG5cclxuICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZEJpbmRpbmdJbmZvKCRlbGVtZW50LCBiaW5kaW5nKSB7XHJcbiAgICAgIHZhciBiaW5kaW5ncyA9ICRlbGVtZW50LmRhdGEoJyRiaW5kaW5nJykgfHwgW107XHJcblxyXG4gICAgICBpZiAoaXNBcnJheShiaW5kaW5nKSkge1xyXG4gICAgICAgIGJpbmRpbmdzID0gYmluZGluZ3MuY29uY2F0KGJpbmRpbmcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJpbmRpbmdzLnB1c2goYmluZGluZyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRlbGVtZW50LmRhdGEoJyRiaW5kaW5nJywgYmluZGluZ3MpO1xyXG4gICAgfSA6IG5vb3A7XHJcblxyXG4gICAgY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZEJpbmRpbmdDbGFzcygkZWxlbWVudCkge1xyXG4gICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsICduZy1iaW5kaW5nJyk7XHJcbiAgICB9IDogbm9vcDtcclxuXHJcbiAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkU2NvcGVJbmZvKCRlbGVtZW50LCBzY29wZSwgaXNvbGF0ZWQsIG5vVGVtcGxhdGUpIHtcclxuICAgICAgdmFyIGRhdGFOYW1lID0gaXNvbGF0ZWQgPyAobm9UZW1wbGF0ZSA/ICckaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZScgOiAnJGlzb2xhdGVTY29wZScpIDogJyRzY29wZSc7XHJcbiAgICAgICRlbGVtZW50LmRhdGEoZGF0YU5hbWUsIHNjb3BlKTtcclxuICAgIH0gOiBub29wO1xyXG5cclxuICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkU2NvcGVDbGFzcygkZWxlbWVudCwgaXNvbGF0ZWQpIHtcclxuICAgICAgc2FmZUFkZENsYXNzKCRlbGVtZW50LCBpc29sYXRlZCA/ICduZy1pc29sYXRlLXNjb3BlJyA6ICduZy1zY29wZScpO1xyXG4gICAgfSA6IG5vb3A7XHJcblxyXG4gICAgY29tcGlsZS4kJGNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihkaXJlY3RpdmVOYW1lLCBjb21tZW50KSB7XHJcbiAgICAgIHZhciBjb250ZW50ID0gJyc7XHJcbiAgICAgIGlmIChkZWJ1Z0luZm9FbmFibGVkKSB7XHJcbiAgICAgICAgY29udGVudCA9ICcgJyArIChkaXJlY3RpdmVOYW1lIHx8ICcnKSArICc6ICcgKyAoY29tbWVudCB8fCAnJykgKyAnICc7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gY29tcGlsZTtcclxuXHJcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcGlsZSgkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcclxuICAgICAgaWYgKCEoJGNvbXBpbGVOb2RlcyBpbnN0YW5jZW9mIGpxTGl0ZSkpIHtcclxuICAgICAgICAvLyBqcXVlcnkgYWx3YXlzIHJld3JhcHMsIHdoZXJlYXMgd2UgbmVlZCB0byBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgc2VsZWN0b3Igc28gdGhhdCB3ZSBjYW5cclxuICAgICAgICAvLyBtb2RpZnkgaXQuXHJcbiAgICAgICAgJGNvbXBpbGVOb2RlcyA9IGpxTGl0ZSgkY29tcGlsZU5vZGVzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIE5PVF9FTVBUWSA9IC9cXFMrLztcclxuXHJcbiAgICAgIC8vIFdlIGNhbiBub3QgY29tcGlsZSB0b3AgbGV2ZWwgdGV4dCBlbGVtZW50cyBzaW5jZSB0ZXh0IG5vZGVzIGNhbiBiZSBtZXJnZWQgYW5kIHdlIHdpbGxcclxuICAgICAgLy8gbm90IGJlIGFibGUgdG8gYXR0YWNoIHNjb3BlIGRhdGEgdG8gdGhlbSwgc28gd2Ugd2lsbCB3cmFwIHRoZW0gaW4gPHNwYW4+XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkY29tcGlsZU5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGRvbU5vZGUgPSAkY29tcGlsZU5vZGVzW2ldO1xyXG5cclxuICAgICAgICBpZiAoZG9tTm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQgJiYgZG9tTm9kZS5ub2RlVmFsdWUubWF0Y2goTk9UX0VNUFRZKSAvKiBub24tZW1wdHkgKi8pIHtcclxuICAgICAgICAgIGpxTGl0ZVdyYXBOb2RlKGRvbU5vZGUsICRjb21waWxlTm9kZXNbaV0gPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBjb21wb3NpdGVMaW5rRm4gPVxyXG4gICAgICAgICAgICAgIGNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sICRjb21waWxlTm9kZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpO1xyXG4gICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcygkY29tcGlsZU5vZGVzKTtcclxuICAgICAgdmFyIG5hbWVzcGFjZSA9IG51bGw7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBwdWJsaWNMaW5rRm4oc2NvcGUsIGNsb25lQ29ubmVjdEZuLCBvcHRpb25zKSB7XHJcbiAgICAgICAgYXNzZXJ0QXJnKHNjb3BlLCAnc2NvcGUnKTtcclxuXHJcbiAgICAgICAgaWYgKHByZXZpb3VzQ29tcGlsZUNvbnRleHQgJiYgcHJldmlvdXNDb21waWxlQ29udGV4dC5uZWVkc05ld1Njb3BlKSB7XHJcbiAgICAgICAgICAvLyBBIHBhcmVudCBkaXJlY3RpdmUgZGlkIGEgcmVwbGFjZSBhbmQgYSBkaXJlY3RpdmUgb24gdGhpcyBlbGVtZW50IGFza2VkXHJcbiAgICAgICAgICAvLyBmb3IgdHJhbnNjbHVzaW9uLCB3aGljaCBjYXVzZWQgdXMgdG8gbG9zZSBhIGxheWVyIG9mIGVsZW1lbnQgb24gd2hpY2hcclxuICAgICAgICAgIC8vIHdlIGNvdWxkIGhvbGQgdGhlIG5ldyB0cmFuc2NsdXNpb24gc2NvcGUsIHNvIHdlIHdpbGwgY3JlYXRlIGl0IG1hbnVhbGx5XHJcbiAgICAgICAgICAvLyBoZXJlLlxyXG4gICAgICAgICAgc2NvcGUgPSBzY29wZS4kcGFyZW50LiRuZXcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIHZhciBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiA9IG9wdGlvbnMucGFyZW50Qm91bmRUcmFuc2NsdWRlRm4sXHJcbiAgICAgICAgICB0cmFuc2NsdWRlQ29udHJvbGxlcnMgPSBvcHRpb25zLnRyYW5zY2x1ZGVDb250cm9sbGVycyxcclxuICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQgPSBvcHRpb25zLmZ1dHVyZVBhcmVudEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIC8vIFdoZW4gYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCBpcyBwYXNzZWQsIGl0IGlzIGFcclxuICAgICAgICAvLyBgY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGVgIGZ1bmN0aW9uIChpdCB3YXMgcHJldmlvdXNseSBwYXNzZWRcclxuICAgICAgICAvLyBhcyBgdHJhbnNjbHVkZWAgdG8gZGlyZWN0aXZlLmxpbmspIHNvIHdlIG11c3QgdW53cmFwIGl0IHRvIGdldFxyXG4gICAgICAgIC8vIGl0cyBgYm91bmRUcmFuc2NsdWRlRm5gXHJcbiAgICAgICAgaWYgKHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuICYmIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLiQkYm91bmRUcmFuc2NsdWRlKSB7XHJcbiAgICAgICAgICBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiA9IHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLiQkYm91bmRUcmFuc2NsdWRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcclxuICAgICAgICAgIG5hbWVzcGFjZSA9IGRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMoZnV0dXJlUGFyZW50RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciAkbGlua05vZGU7XHJcbiAgICAgICAgaWYgKG5hbWVzcGFjZSAhPT0gJ2h0bWwnKSB7XHJcbiAgICAgICAgICAvLyBXaGVuIHVzaW5nIGEgZGlyZWN0aXZlIHdpdGggcmVwbGFjZTp0cnVlIGFuZCB0ZW1wbGF0ZVVybCB0aGUgJGNvbXBpbGVOb2Rlc1xyXG4gICAgICAgICAgLy8gKG9yIGEgY2hpbGQgZWxlbWVudCBpbnNpZGUgb2YgdGhlbSlcclxuICAgICAgICAgIC8vIG1pZ2h0IGNoYW5nZSwgc28gd2UgbmVlZCB0byByZWNyZWF0ZSB0aGUgbmFtZXNwYWNlIGFkYXB0ZWQgY29tcGlsZU5vZGVzXHJcbiAgICAgICAgICAvLyBmb3IgY2FsbCB0byB0aGUgbGluayBmdW5jdGlvbi5cclxuICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHJlYWR5IGNsb25lIHRoZSBub2Rlcy4uLlxyXG4gICAgICAgICAgJGxpbmtOb2RlID0ganFMaXRlKFxyXG4gICAgICAgICAgICB3cmFwVGVtcGxhdGUobmFtZXNwYWNlLCBqcUxpdGUoJzxkaXY+JykuYXBwZW5kKCRjb21waWxlTm9kZXMpLmh0bWwoKSlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjbG9uZUNvbm5lY3RGbikge1xyXG4gICAgICAgICAgLy8gaW1wb3J0YW50ISE6IHdlIG11c3QgY2FsbCBvdXIganFMaXRlLmNsb25lKCkgc2luY2UgdGhlIGpRdWVyeSBvbmUgaXMgdHJ5aW5nIHRvIGJlIHNtYXJ0XHJcbiAgICAgICAgICAvLyBhbmQgc29tZXRpbWVzIGNoYW5nZXMgdGhlIHN0cnVjdHVyZSBvZiB0aGUgRE9NLlxyXG4gICAgICAgICAgJGxpbmtOb2RlID0gSlFMaXRlUHJvdG90eXBlLmNsb25lLmNhbGwoJGNvbXBpbGVOb2Rlcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRsaW5rTm9kZSA9ICRjb21waWxlTm9kZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHJhbnNjbHVkZUNvbnRyb2xsZXJzKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBjb250cm9sbGVyTmFtZSBpbiB0cmFuc2NsdWRlQ29udHJvbGxlcnMpIHtcclxuICAgICAgICAgICAgJGxpbmtOb2RlLmRhdGEoJyQnICsgY29udHJvbGxlck5hbWUgKyAnQ29udHJvbGxlcicsIHRyYW5zY2x1ZGVDb250cm9sbGVyc1tjb250cm9sbGVyTmFtZV0uaW5zdGFuY2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbygkbGlua05vZGUsIHNjb3BlKTtcclxuXHJcbiAgICAgICAgaWYgKGNsb25lQ29ubmVjdEZuKSBjbG9uZUNvbm5lY3RGbigkbGlua05vZGUsIHNjb3BlKTtcclxuICAgICAgICBpZiAoY29tcG9zaXRlTGlua0ZuKSBjb21wb3NpdGVMaW5rRm4oc2NvcGUsICRsaW5rTm9kZSwgJGxpbmtOb2RlLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgcmV0dXJuICRsaW5rTm9kZTtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKHBhcmVudEVsZW1lbnQpIHtcclxuICAgICAgLy8gVE9ETzogTWFrZSB0aGlzIGRldGVjdCBNYXRoTUwgYXMgd2VsbC4uLlxyXG4gICAgICB2YXIgbm9kZSA9IHBhcmVudEVsZW1lbnQgJiYgcGFyZW50RWxlbWVudFswXTtcclxuICAgICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuICdodG1sJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbm9kZU5hbWVfKG5vZGUpICE9PSAnZm9yZWlnbm9iamVjdCcgJiYgdG9TdHJpbmcuY2FsbChub2RlKS5tYXRjaCgvU1ZHLykgPyAnc3ZnJyA6ICdodG1sJztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcGlsZSBmdW5jdGlvbiBtYXRjaGVzIGVhY2ggbm9kZSBpbiBub2RlTGlzdCBhZ2FpbnN0IHRoZSBkaXJlY3RpdmVzLiBPbmNlIGFsbCBkaXJlY3RpdmVzXHJcbiAgICAgKiBmb3IgYSBwYXJ0aWN1bGFyIG5vZGUgYXJlIGNvbGxlY3RlZCB0aGVpciBjb21waWxlIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQuIFRoZSBjb21waWxlXHJcbiAgICAgKiBmdW5jdGlvbnMgcmV0dXJuIHZhbHVlcyAtIHRoZSBsaW5raW5nIGZ1bmN0aW9ucyAtIGFyZSBjb21iaW5lZCBpbnRvIGEgY29tcG9zaXRlIGxpbmtpbmdcclxuICAgICAqIGZ1bmN0aW9uLCB3aGljaCBpcyB0aGUgYSBsaW5raW5nIGZ1bmN0aW9uIGZvciB0aGUgbm9kZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge05vZGVMaXN0fSBub2RlTGlzdCBhbiBhcnJheSBvZiBub2RlcyBvciBOb2RlTGlzdCB0byBjb21waWxlXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZUZuIEEgbGlua2luZyBmdW5jdGlvbiwgd2hlcmUgdGhlXHJcbiAgICAgKiAgICAgICAgc2NvcGUgYXJndW1lbnQgaXMgYXV0by1nZW5lcmF0ZWQgdG8gdGhlIG5ldyBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLlxyXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gJHJvb3RFbGVtZW50IElmIHRoZSBub2RlTGlzdCBpcyB0aGUgcm9vdCBvZiB0aGUgY29tcGlsYXRpb24gdHJlZSB0aGVuXHJcbiAgICAgKiAgICAgICAgdGhlIHJvb3RFbGVtZW50IG11c3QgYmUgc2V0IHRoZSBqcUxpdGUgY29sbGVjdGlvbiBvZiB0aGUgY29tcGlsZSByb290LiBUaGlzIGlzXHJcbiAgICAgKiAgICAgICAgbmVlZGVkIHNvIHRoYXQgdGhlIGpxTGl0ZSBjb2xsZWN0aW9uIGl0ZW1zIGNhbiBiZSByZXBsYWNlZCB3aXRoIHdpZGdldHMuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1heFByaW9yaXR5IE1heCBkaXJlY3RpdmUgcHJpb3JpdHkuXHJcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgY29tcG9zaXRlIGxpbmtpbmcgZnVuY3Rpb24gb2YgYWxsIG9mIHRoZSBtYXRjaGVkIGRpcmVjdGl2ZXMgb3IgbnVsbC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY29tcGlsZU5vZGVzKG5vZGVMaXN0LCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcclxuICAgICAgdmFyIGxpbmtGbnMgPSBbXSxcclxuICAgICAgICAgIGF0dHJzLCBkaXJlY3RpdmVzLCBub2RlTGlua0ZuLCBjaGlsZE5vZGVzLCBjaGlsZExpbmtGbiwgbGlua0ZuRm91bmQsIG5vZGVMaW5rRm5Gb3VuZDtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBhdHRycyA9IG5ldyBBdHRyaWJ1dGVzKCk7XHJcblxyXG4gICAgICAgIC8vIHdlIG11c3QgYWx3YXlzIHJlZmVyIHRvIG5vZGVMaXN0W2ldIHNpbmNlIHRoZSBub2RlcyBjYW4gYmUgcmVwbGFjZWQgdW5kZXJuZWF0aCB1cy5cclxuICAgICAgICBkaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMobm9kZUxpc3RbaV0sIFtdLCBhdHRycywgaSA9PT0gMCA/IG1heFByaW9yaXR5IDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlRGlyZWN0aXZlKTtcclxuXHJcbiAgICAgICAgbm9kZUxpbmtGbiA9IChkaXJlY3RpdmVzLmxlbmd0aClcclxuICAgICAgICAgICAgPyBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgbm9kZUxpc3RbaV0sIGF0dHJzLCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLCBbXSwgW10sIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKG5vZGVMaW5rRm4gJiYgbm9kZUxpbmtGbi5zY29wZSkge1xyXG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoYXR0cnMuJCRlbGVtZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNoaWxkTGlua0ZuID0gKG5vZGVMaW5rRm4gJiYgbm9kZUxpbmtGbi50ZXJtaW5hbCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgIShjaGlsZE5vZGVzID0gbm9kZUxpc3RbaV0uY2hpbGROb2RlcykgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICFjaGlsZE5vZGVzLmxlbmd0aClcclxuICAgICAgICAgICAgPyBudWxsXHJcbiAgICAgICAgICAgIDogY29tcGlsZU5vZGVzKGNoaWxkTm9kZXMsXHJcbiAgICAgICAgICAgICAgICAgbm9kZUxpbmtGbiA/IChcclxuICAgICAgICAgICAgICAgICAgKG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgfHwgIW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAmJiBub2RlTGlua0ZuLnRyYW5zY2x1ZGUpIDogdHJhbnNjbHVkZUZuKTtcclxuXHJcbiAgICAgICAgaWYgKG5vZGVMaW5rRm4gfHwgY2hpbGRMaW5rRm4pIHtcclxuICAgICAgICAgIGxpbmtGbnMucHVzaChpLCBub2RlTGlua0ZuLCBjaGlsZExpbmtGbik7XHJcbiAgICAgICAgICBsaW5rRm5Gb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICBub2RlTGlua0ZuRm91bmQgPSBub2RlTGlua0ZuRm91bmQgfHwgbm9kZUxpbmtGbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vdXNlIHRoZSBwcmV2aW91cyBjb250ZXh0IG9ubHkgZm9yIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSB2aXJ0dWFsIGdyb3VwXHJcbiAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHJldHVybiBhIGxpbmtpbmcgZnVuY3Rpb24gaWYgd2UgaGF2ZSBmb3VuZCBhbnl0aGluZywgbnVsbCBvdGhlcndpc2VcclxuICAgICAgcmV0dXJuIGxpbmtGbkZvdW5kID8gY29tcG9zaXRlTGlua0ZuIDogbnVsbDtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNvbXBvc2l0ZUxpbmtGbihzY29wZSwgbm9kZUxpc3QsICRyb290RWxlbWVudCwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pIHtcclxuICAgICAgICB2YXIgbm9kZUxpbmtGbiwgY2hpbGRMaW5rRm4sIG5vZGUsIGNoaWxkU2NvcGUsIGksIGlpLCBpZHgsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm47XHJcbiAgICAgICAgdmFyIHN0YWJsZU5vZGVMaXN0O1xyXG5cclxuXHJcbiAgICAgICAgaWYgKG5vZGVMaW5rRm5Gb3VuZCkge1xyXG4gICAgICAgICAgLy8gY29weSBub2RlTGlzdCBzbyB0aGF0IGlmIGEgbm9kZUxpbmtGbiByZW1vdmVzIG9yIGFkZHMgYW4gZWxlbWVudCBhdCB0aGlzIERPTSBsZXZlbCBvdXJcclxuICAgICAgICAgIC8vIG9mZnNldHMgZG9uJ3QgZ2V0IHNjcmV3ZWQgdXBcclxuICAgICAgICAgIHZhciBub2RlTGlzdExlbmd0aCA9IG5vZGVMaXN0Lmxlbmd0aDtcclxuICAgICAgICAgIHN0YWJsZU5vZGVMaXN0ID0gbmV3IEFycmF5KG5vZGVMaXN0TGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAvLyBjcmVhdGUgYSBzcGFyc2UgYXJyYXkgYnkgb25seSBjb3B5aW5nIHRoZSBlbGVtZW50cyB3aGljaCBoYXZlIGEgbGlua0ZuXHJcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlua0Zucy5sZW5ndGg7IGkrPTMpIHtcclxuICAgICAgICAgICAgaWR4ID0gbGlua0Zuc1tpXTtcclxuICAgICAgICAgICAgc3RhYmxlTm9kZUxpc3RbaWR4XSA9IG5vZGVMaXN0W2lkeF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHN0YWJsZU5vZGVMaXN0ID0gbm9kZUxpc3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGxpbmtGbnMubGVuZ3RoOyBpIDwgaWk7KSB7XHJcbiAgICAgICAgICBub2RlID0gc3RhYmxlTm9kZUxpc3RbbGlua0Zuc1tpKytdXTtcclxuICAgICAgICAgIG5vZGVMaW5rRm4gPSBsaW5rRm5zW2krK107XHJcbiAgICAgICAgICBjaGlsZExpbmtGbiA9IGxpbmtGbnNbaSsrXTtcclxuXHJcbiAgICAgICAgICBpZiAobm9kZUxpbmtGbikge1xyXG4gICAgICAgICAgICBpZiAobm9kZUxpbmtGbi5zY29wZSkge1xyXG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBzY29wZS4kbmV3KCk7XHJcbiAgICAgICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbyhqcUxpdGUobm9kZSksIGNoaWxkU2NvcGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oXHJcbiAgICAgICAgICAgICAgICAgIHNjb3BlLCBub2RlTGlua0ZuLnRyYW5zY2x1ZGUsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50ICYmIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmICghcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gJiYgdHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4pO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbm9kZUxpbmtGbihjaGlsZExpbmtGbiwgY2hpbGRTY29wZSwgbm9kZSwgJHJvb3RFbGVtZW50LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcclxuXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkTGlua0ZuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkTGlua0ZuKHNjb3BlLCBub2RlLmNoaWxkTm9kZXMsIHVuZGVmaW5lZCwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4sIHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4pIHtcclxuICAgICAgZnVuY3Rpb24gYm91bmRUcmFuc2NsdWRlRm4odHJhbnNjbHVkZWRTY29wZSwgY2xvbmVGbiwgY29udHJvbGxlcnMsIGZ1dHVyZVBhcmVudEVsZW1lbnQsIGNvbnRhaW5pbmdTY29wZSkge1xyXG5cclxuICAgICAgICBpZiAoIXRyYW5zY2x1ZGVkU2NvcGUpIHtcclxuICAgICAgICAgIHRyYW5zY2x1ZGVkU2NvcGUgPSBzY29wZS4kbmV3KGZhbHNlLCBjb250YWluaW5nU2NvcGUpO1xyXG4gICAgICAgICAgdHJhbnNjbHVkZWRTY29wZS4kJHRyYW5zY2x1ZGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cmFuc2NsdWRlRm4odHJhbnNjbHVkZWRTY29wZSwgY2xvbmVGbiwge1xyXG4gICAgICAgICAgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm46IHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4sXHJcbiAgICAgICAgICB0cmFuc2NsdWRlQ29udHJvbGxlcnM6IGNvbnRyb2xsZXJzLFxyXG4gICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudDogZnV0dXJlUGFyZW50RWxlbWVudFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBXZSBuZWVkICB0byBhdHRhY2ggdGhlIHRyYW5zY2x1c2lvbiBzbG90cyBvbnRvIHRoZSBgYm91bmRUcmFuc2NsdWRlRm5gXHJcbiAgICAgIC8vIHNvIHRoYXQgdGhleSBhcmUgYXZhaWxhYmxlIGluc2lkZSB0aGUgYGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlYCBmdW5jdGlvblxyXG4gICAgICB2YXIgYm91bmRTbG90cyA9IGJvdW5kVHJhbnNjbHVkZUZuLiQkc2xvdHMgPSBjcmVhdGVNYXAoKTtcclxuICAgICAgZm9yICh2YXIgc2xvdE5hbWUgaW4gdHJhbnNjbHVkZUZuLiQkc2xvdHMpIHtcclxuICAgICAgICBpZiAodHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdKSB7XHJcbiAgICAgICAgICBib3VuZFNsb3RzW3Nsb3ROYW1lXSA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4uJCRzbG90c1tzbG90TmFtZV0sIHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBib3VuZFNsb3RzW3Nsb3ROYW1lXSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYm91bmRUcmFuc2NsdWRlRm47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb29rcyBmb3IgZGlyZWN0aXZlcyBvbiB0aGUgZ2l2ZW4gbm9kZSBhbmQgYWRkcyB0aGVtIHRvIHRoZSBkaXJlY3RpdmUgY29sbGVjdGlvbiB3aGljaCBpc1xyXG4gICAgICogc29ydGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBub2RlIE5vZGUgdG8gc2VhcmNoLlxyXG4gICAgICogQHBhcmFtIGRpcmVjdGl2ZXMgQW4gYXJyYXkgdG8gd2hpY2ggdGhlIGRpcmVjdGl2ZXMgYXJlIGFkZGVkIHRvLiBUaGlzIGFycmF5IGlzIHNvcnRlZCBiZWZvcmVcclxuICAgICAqICAgICAgICB0aGUgZnVuY3Rpb24gcmV0dXJucy5cclxuICAgICAqIEBwYXJhbSBhdHRycyBUaGUgc2hhcmVkIGF0dHJzIG9iamVjdCB3aGljaCBpcyB1c2VkIHRvIHBvcHVsYXRlIHRoZSBub3JtYWxpemVkIGF0dHJpYnV0ZXMuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1heFByaW9yaXR5IE1heCBkaXJlY3RpdmUgcHJpb3JpdHkuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGNvbGxlY3REaXJlY3RpdmVzKG5vZGUsIGRpcmVjdGl2ZXMsIGF0dHJzLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSB7XHJcbiAgICAgIHZhciBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGUsXHJcbiAgICAgICAgICBhdHRyc01hcCA9IGF0dHJzLiRhdHRyLFxyXG4gICAgICAgICAgbWF0Y2gsXHJcbiAgICAgICAgICBjbGFzc05hbWU7XHJcblxyXG4gICAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XHJcbiAgICAgICAgY2FzZSBOT0RFX1RZUEVfRUxFTUVOVDogLyogRWxlbWVudCAqL1xyXG4gICAgICAgICAgLy8gdXNlIHRoZSBub2RlIG5hbWU6IDxkaXJlY3RpdmU+XHJcbiAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxcclxuICAgICAgICAgICAgICBkaXJlY3RpdmVOb3JtYWxpemUobm9kZU5hbWVfKG5vZGUpKSwgJ0UnLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKTtcclxuXHJcbiAgICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGF0dHJpYnV0ZXNcclxuICAgICAgICAgIGZvciAodmFyIGF0dHIsIG5hbWUsIG5OYW1lLCBuZ0F0dHJOYW1lLCB2YWx1ZSwgaXNOZ0F0dHIsIG5BdHRycyA9IG5vZGUuYXR0cmlidXRlcyxcclxuICAgICAgICAgICAgICAgICAgIGogPSAwLCBqaiA9IG5BdHRycyAmJiBuQXR0cnMubGVuZ3RoOyBqIDwgamo7IGorKykge1xyXG4gICAgICAgICAgICB2YXIgYXR0clN0YXJ0TmFtZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgYXR0ckVuZE5hbWUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGF0dHIgPSBuQXR0cnNbal07XHJcbiAgICAgICAgICAgIG5hbWUgPSBhdHRyLm5hbWU7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdHJpbShhdHRyLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgbmdBdHRyIGF0dHJpYnV0ZSBiaW5kaW5nXHJcbiAgICAgICAgICAgIG5nQXR0ck5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChpc05nQXR0ciA9IE5HX0FUVFJfQklORElORy50ZXN0KG5nQXR0ck5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShQUkVGSVhfUkVHRVhQLCAnJylcclxuICAgICAgICAgICAgICAgIC5zdWJzdHIoOCkucmVwbGFjZSgvXyguKS9nLCBmdW5jdGlvbihtYXRjaCwgbGV0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgbXVsdGlFbGVtZW50TWF0Y2ggPSBuZ0F0dHJOYW1lLm1hdGNoKE1VTFRJX0VMRU1FTlRfRElSX1JFKTtcclxuICAgICAgICAgICAgaWYgKG11bHRpRWxlbWVudE1hdGNoICYmIGRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50KG11bHRpRWxlbWVudE1hdGNoWzFdKSkge1xyXG4gICAgICAgICAgICAgIGF0dHJTdGFydE5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgICAgIGF0dHJFbmROYW1lID0gbmFtZS5zdWJzdHIoMCwgbmFtZS5sZW5ndGggLSA1KSArICdlbmQnO1xyXG4gICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDYpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICBhdHRyc01hcFtuTmFtZV0gPSBuYW1lO1xyXG4gICAgICAgICAgICBpZiAoaXNOZ0F0dHIgfHwgIWF0dHJzLmhhc093blByb3BlcnR5KG5OYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2V0Qm9vbGVhbkF0dHJOYW1lKG5vZGUsIG5OYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB0cnVlOyAvLyBwcmVzZW5jZSBtZWFucyB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlKG5vZGUsIGRpcmVjdGl2ZXMsIHZhbHVlLCBuTmFtZSwgaXNOZ0F0dHIpO1xyXG4gICAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdBJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgYXR0clN0YXJ0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyRW5kTmFtZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gdXNlIGNsYXNzIGFzIGRpcmVjdGl2ZVxyXG4gICAgICAgICAgY2xhc3NOYW1lID0gbm9kZS5jbGFzc05hbWU7XHJcbiAgICAgICAgICBpZiAoaXNPYmplY3QoY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICAgIC8vIE1heWJlIFNWR0FuaW1hdGVkU3RyaW5nXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLmFuaW1WYWw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoaXNTdHJpbmcoY2xhc3NOYW1lKSAmJiBjbGFzc05hbWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IENMQVNTX0RJUkVDVElWRV9SRUdFWFAuZXhlYyhjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobWF0Y2hbMl0pO1xyXG4gICAgICAgICAgICAgIGlmIChhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdDJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSkpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbM10pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUuc3Vic3RyKG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBOT0RFX1RZUEVfVEVYVDogLyogVGV4dCBOb2RlICovXHJcbiAgICAgICAgICBpZiAobXNpZSA9PT0gMTEpIHtcclxuICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgIzExNzgxXHJcbiAgICAgICAgICAgIHdoaWxlIChub2RlLnBhcmVudE5vZGUgJiYgbm9kZS5uZXh0U2libGluZyAmJiBub2RlLm5leHRTaWJsaW5nLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCkge1xyXG4gICAgICAgICAgICAgIG5vZGUubm9kZVZhbHVlID0gbm9kZS5ub2RlVmFsdWUgKyBub2RlLm5leHRTaWJsaW5nLm5vZGVWYWx1ZTtcclxuICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZS5uZXh0U2libGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZShkaXJlY3RpdmVzLCBub2RlLm5vZGVWYWx1ZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIE5PREVfVFlQRV9DT01NRU5UOiAvKiBDb21tZW50ICovXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBtYXRjaCA9IENPTU1FTlRfRElSRUNUSVZFX1JFR0VYUC5leGVjKG5vZGUubm9kZVZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobWF0Y2hbMV0pO1xyXG4gICAgICAgICAgICAgIGlmIChhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdNJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSkpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbMl0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyB0dXJucyBvdXQgdGhhdCB1bmRlciBzb21lIGNpcmN1bXN0YW5jZXMgSUU5IHRocm93cyBlcnJvcnMgd2hlbiBvbmUgYXR0ZW1wdHMgdG8gcmVhZFxyXG4gICAgICAgICAgICAvLyBjb21tZW50J3Mgbm9kZSB2YWx1ZS5cclxuICAgICAgICAgICAgLy8gSnVzdCBpZ25vcmUgaXQgYW5kIGNvbnRpbnVlLiAoQ2FuJ3Qgc2VlbSB0byByZXByb2R1Y2UgaW4gdGVzdCBjYXNlLilcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkaXJlY3RpdmVzLnNvcnQoYnlQcmlvcml0eSk7XHJcbiAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYSBub2RlIHdpdGggYW4gZGlyZWN0aXZlLXN0YXJ0IGl0IGNvbGxlY3RzIGFsbCBvZiB0aGUgc2libGluZ3MgdW50aWwgaXQgZmluZHNcclxuICAgICAqIGRpcmVjdGl2ZS1lbmQuXHJcbiAgICAgKiBAcGFyYW0gbm9kZVxyXG4gICAgICogQHBhcmFtIGF0dHJTdGFydFxyXG4gICAgICogQHBhcmFtIGF0dHJFbmRcclxuICAgICAqIEByZXR1cm5zIHsqfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBncm91cFNjYW4obm9kZSwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XHJcbiAgICAgIHZhciBub2RlcyA9IFtdO1xyXG4gICAgICB2YXIgZGVwdGggPSAwO1xyXG4gICAgICBpZiAoYXR0clN0YXJ0ICYmIG5vZGUuaGFzQXR0cmlidXRlICYmIG5vZGUuaGFzQXR0cmlidXRlKGF0dHJTdGFydCkpIHtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICBpZiAoIW5vZGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3V0ZXJkaXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJVbnRlcm1pbmF0ZWQgYXR0cmlidXRlLCBmb3VuZCAnezB9JyBidXQgbm8gbWF0Y2hpbmcgJ3sxfScgZm91bmQuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyU3RhcnQsIGF0dHJFbmQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKGF0dHJTdGFydCkpIGRlcHRoKys7XHJcbiAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyRW5kKSkgZGVwdGgtLTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XHJcbiAgICAgICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcclxuICAgICAgICB9IHdoaWxlIChkZXB0aCA+IDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBqcUxpdGUobm9kZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV3JhcHBlciBmb3IgbGlua2luZyBmdW5jdGlvbiB3aGljaCBjb252ZXJ0cyBub3JtYWwgbGlua2luZyBmdW5jdGlvbiBpbnRvIGEgZ3JvdXBlZFxyXG4gICAgICogbGlua2luZyBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSBsaW5rRm5cclxuICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcclxuICAgICAqIEBwYXJhbSBhdHRyRW5kXHJcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKGxpbmtGbiwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBncm91cGVkRWxlbWVudHNMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbikge1xyXG4gICAgICAgIGVsZW1lbnQgPSBncm91cFNjYW4oZWxlbWVudFswXSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICByZXR1cm4gbGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbik7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGZ1bmN0aW9uIGdlbmVyYXRvciB0aGF0IGlzIHVzZWQgdG8gc3VwcG9ydCBib3RoIGVhZ2VyIGFuZCBsYXp5IGNvbXBpbGF0aW9uXHJcbiAgICAgKiBsaW5raW5nIGZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIGVhZ2VyXHJcbiAgICAgKiBAcGFyYW0gJGNvbXBpbGVOb2Rlc1xyXG4gICAgICogQHBhcmFtIHRyYW5zY2x1ZGVGblxyXG4gICAgICogQHBhcmFtIG1heFByaW9yaXR5XHJcbiAgICAgKiBAcGFyYW0gaWdub3JlRGlyZWN0aXZlXHJcbiAgICAgKiBAcGFyYW0gcHJldmlvdXNDb21waWxlQ29udGV4dFxyXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBjb21waWxhdGlvbkdlbmVyYXRvcihlYWdlciwgJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XHJcbiAgICAgIHZhciBjb21waWxlZDtcclxuXHJcbiAgICAgIGlmIChlYWdlcikge1xyXG4gICAgICAgIHJldHVybiBjb21waWxlKCRjb21waWxlTm9kZXMsIHRyYW5zY2x1ZGVGbiwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxhenlDb21waWxhdGlvbigpIHtcclxuICAgICAgICBpZiAoIWNvbXBpbGVkKSB7XHJcbiAgICAgICAgICBjb21waWxlZCA9IGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcclxuXHJcbiAgICAgICAgICAvLyBOdWxsIG91dCBhbGwgb2YgdGhlc2UgcmVmZXJlbmNlcyBpbiBvcmRlciB0byBtYWtlIHRoZW0gZWxpZ2libGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvblxyXG4gICAgICAgICAgLy8gc2luY2UgdGhpcyBpcyBhIHBvdGVudGlhbGx5IGxvbmcgbGl2ZWQgY2xvc3VyZVxyXG4gICAgICAgICAgJGNvbXBpbGVOb2RlcyA9IHRyYW5zY2x1ZGVGbiA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tcGlsZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uY2UgdGhlIGRpcmVjdGl2ZXMgaGF2ZSBiZWVuIGNvbGxlY3RlZCwgdGhlaXIgY29tcGlsZSBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkLiBUaGlzIG1ldGhvZFxyXG4gICAgICogaXMgcmVzcG9uc2libGUgZm9yIGlubGluaW5nIGRpcmVjdGl2ZSB0ZW1wbGF0ZXMgYXMgd2VsbCBhcyB0ZXJtaW5hdGluZyB0aGUgYXBwbGljYXRpb25cclxuICAgICAqIG9mIHRoZSBkaXJlY3RpdmVzIGlmIHRoZSB0ZXJtaW5hbCBkaXJlY3RpdmUgaGFzIGJlZW4gcmVhY2hlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkaXJlY3RpdmVzIEFycmF5IG9mIGNvbGxlY3RlZCBkaXJlY3RpdmVzIHRvIGV4ZWN1dGUgdGhlaXIgY29tcGlsZSBmdW5jdGlvbi5cclxuICAgICAqICAgICAgICB0aGlzIG5lZWRzIHRvIGJlIHByZS1zb3J0ZWQgYnkgcHJpb3JpdHkgb3JkZXIuXHJcbiAgICAgKiBAcGFyYW0ge05vZGV9IGNvbXBpbGVOb2RlIFRoZSByYXcgRE9NIG5vZGUgdG8gYXBwbHkgdGhlIGNvbXBpbGUgZnVuY3Rpb25zIHRvXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVBdHRycyBUaGUgc2hhcmVkIGF0dHJpYnV0ZSBmdW5jdGlvblxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihhbmd1bGFyLlNjb3BlLCBjbG9uZUF0dGFjaEZuPSl9IHRyYW5zY2x1ZGVGbiBBIGxpbmtpbmcgZnVuY3Rpb24sIHdoZXJlIHRoZVxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlIGFyZ3VtZW50IGlzIGF1dG8tZ2VuZXJhdGVkIHRvIHRoZSBuZXdcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLlxyXG4gICAgICogQHBhcmFtIHtKUUxpdGV9IGpxQ29sbGVjdGlvbiBJZiB3ZSBhcmUgd29ya2luZyBvbiB0aGUgcm9vdCBvZiB0aGUgY29tcGlsZSB0cmVlIHRoZW4gdGhpc1xyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudCBoYXMgdGhlIHJvb3QganFMaXRlIGFycmF5IHNvIHRoYXQgd2UgY2FuIHJlcGxhY2Ugbm9kZXNcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gaXQuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSBBbiBvcHRpb25hbCBkaXJlY3RpdmUgdGhhdCB3aWxsIGJlIGlnbm9yZWQgd2hlblxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsaW5nIHRoZSB0cmFuc2NsdXNpb24uXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHByZUxpbmtGbnNcclxuICAgICAqIEBwYXJhbSB7QXJyYXkuPEZ1bmN0aW9uPn0gcG9zdExpbmtGbnNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IENvbnRleHQgdXNlZCBmb3IgcHJldmlvdXMgY29tcGlsYXRpb24gb2YgdGhlIGN1cnJlbnRcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVcclxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gbGlua0ZuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgdHJhbnNjbHVkZUZuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpxQ29sbGVjdGlvbiwgb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XHJcbiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IHx8IHt9O1xyXG5cclxuICAgICAgdmFyIHRlcm1pbmFsUHJpb3JpdHkgPSAtTnVtYmVyLk1BWF9WQUxVRSxcclxuICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5uZXdTY29wZURpcmVjdGl2ZSxcclxuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5jb250cm9sbGVyRGlyZWN0aXZlcyxcclxuICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQubmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0LnRlbXBsYXRlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQubm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSxcclxuICAgICAgICAgIGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSBmYWxzZSxcclxuICAgICAgICAgIGhhc1RlbXBsYXRlID0gZmFsc2UsXHJcbiAgICAgICAgICBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAkY29tcGlsZU5vZGUgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudCA9IGpxTGl0ZShjb21waWxlTm9kZSksXHJcbiAgICAgICAgICBkaXJlY3RpdmUsXHJcbiAgICAgICAgICBkaXJlY3RpdmVOYW1lLFxyXG4gICAgICAgICAgJHRlbXBsYXRlLFxyXG4gICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxcclxuICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuID0gdHJhbnNjbHVkZUZuLFxyXG4gICAgICAgICAgbGlua0ZuLFxyXG4gICAgICAgICAgZGlkU2NhbkZvck11bHRpcGxlVHJhbnNjbHVzaW9uID0gZmFsc2UsXHJcbiAgICAgICAgICBtaWdodEhhdmVNdWx0aXBsZVRyYW5zY2x1c2lvbkVycm9yID0gZmFsc2UsXHJcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZTtcclxuXHJcbiAgICAgIC8vIGV4ZWN1dGVzIGFsbCBkaXJlY3RpdmVzIG9uIHRoZSBjdXJyZW50IGVsZW1lbnRcclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTtcclxuICAgICAgICB2YXIgYXR0clN0YXJ0ID0gZGlyZWN0aXZlLiQkc3RhcnQ7XHJcbiAgICAgICAgdmFyIGF0dHJFbmQgPSBkaXJlY3RpdmUuJCRlbmQ7XHJcblxyXG4gICAgICAgIC8vIGNvbGxlY3QgbXVsdGlibG9jayBzZWN0aW9uc1xyXG4gICAgICAgIGlmIChhdHRyU3RhcnQpIHtcclxuICAgICAgICAgICRjb21waWxlTm9kZSA9IGdyb3VwU2Nhbihjb21waWxlTm9kZSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHRlbXBsYXRlID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBpZiAodGVybWluYWxQcmlvcml0eSA+IGRpcmVjdGl2ZS5wcmlvcml0eSkge1xyXG4gICAgICAgICAgYnJlYWs7IC8vIHByZXZlbnQgZnVydGhlciBwcm9jZXNzaW5nIG9mIGRpcmVjdGl2ZXNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS5zY29wZSkge1xyXG5cclxuICAgICAgICAgIC8vIHNraXAgdGhlIGNoZWNrIGZvciBkaXJlY3RpdmVzIHdpdGggYXN5bmMgdGVtcGxhdGVzLCB3ZSdsbCBjaGVjayB0aGUgZGVyaXZlZCBzeW5jXHJcbiAgICAgICAgICAvLyBkaXJlY3RpdmUgd2hlbiB0aGUgdGVtcGxhdGUgYXJyaXZlc1xyXG4gICAgICAgICAgaWYgKCFkaXJlY3RpdmUudGVtcGxhdGVVcmwpIHtcclxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZVZhbHVlKSkge1xyXG4gICAgICAgICAgICAgIC8vIFRoaXMgZGlyZWN0aXZlIGlzIHRyeWluZyB0byBhZGQgYW4gaXNvbGF0ZWQgc2NvcGUuXHJcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGVyZSBpcyBubyBzY29wZSBvZiBhbnkga2luZCBhbHJlYWR5XHJcbiAgICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ25ldy9pc29sYXRlZCBzY29wZScsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBuZXdTY29wZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XHJcbiAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIFRoaXMgZGlyZWN0aXZlIGlzIHRyeWluZyB0byBhZGQgYSBjaGlsZCBzY29wZS5cclxuICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZXJlIGlzIG5vIGlzb2xhdGVkIHNjb3BlIGFscmVhZHlcclxuICAgICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgnbmV3L2lzb2xhdGVkIHNjb3BlJywgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLCBkaXJlY3RpdmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbXBpbGVOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlID0gbmV3U2NvcGVEaXJlY3RpdmUgfHwgZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZS5uYW1lO1xyXG5cclxuICAgICAgICAvLyBJZiB3ZSBlbmNvdW50ZXIgYSBjb25kaXRpb24gdGhhdCBjYW4gcmVzdWx0IGluIHRyYW5zY2x1c2lvbiBvbiB0aGUgZGlyZWN0aXZlLFxyXG4gICAgICAgIC8vIHRoZW4gc2NhbiBhaGVhZCBpbiB0aGUgcmVtYWluaW5nIGRpcmVjdGl2ZXMgZm9yIG90aGVycyB0aGF0IG1heSBjYXVzZSBhIG11bHRpcGxlXHJcbiAgICAgICAgLy8gdHJhbnNjbHVzaW9uIGVycm9yIHRvIGJlIHRocm93biBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIHByb2Nlc3MuICBJZiBhIG1hdGNoaW5nIGRpcmVjdGl2ZVxyXG4gICAgICAgIC8vIGlzIGZvdW5kLCB0aGVuIHdlIGtub3cgdGhhdCB3aGVuIHdlIGVuY291bnRlciBhIHRyYW5zY2x1ZGVkIGRpcmVjdGl2ZSwgd2UgbmVlZCB0byBlYWdlcmx5XHJcbiAgICAgICAgLy8gY29tcGlsZSB0aGUgYHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIHJhdGhlciB0aGFuIGRvaW5nIGl0IGxhemlseSBpbiBvcmRlciB0byB0aHJvd1xyXG4gICAgICAgIC8vIGV4Y2VwdGlvbnMgYXQgdGhlIGNvcnJlY3QgdGltZVxyXG4gICAgICAgIGlmICghZGlkU2NhbkZvck11bHRpcGxlVHJhbnNjbHVzaW9uICYmICgoZGlyZWN0aXZlLnJlcGxhY2UgJiYgKGRpcmVjdGl2ZS50ZW1wbGF0ZVVybCB8fCBkaXJlY3RpdmUudGVtcGxhdGUpKVxyXG4gICAgICAgICAgICB8fCAoZGlyZWN0aXZlLnRyYW5zY2x1ZGUgJiYgIWRpcmVjdGl2ZS4kJHRsYikpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FuZGlkYXRlRGlyZWN0aXZlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHNjYW5uaW5nSW5kZXggPSBpICsgMTsgY2FuZGlkYXRlRGlyZWN0aXZlID0gZGlyZWN0aXZlc1tzY2FubmluZ0luZGV4KytdOykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoY2FuZGlkYXRlRGlyZWN0aXZlLnRyYW5zY2x1ZGUgJiYgIWNhbmRpZGF0ZURpcmVjdGl2ZS4kJHRsYilcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGNhbmRpZGF0ZURpcmVjdGl2ZS5yZXBsYWNlICYmIChjYW5kaWRhdGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgfHwgY2FuZGlkYXRlRGlyZWN0aXZlLnRlbXBsYXRlKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkaWRTY2FuRm9yTXVsdGlwbGVUcmFuc2NsdXNpb24gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFkaXJlY3RpdmUudGVtcGxhdGVVcmwgJiYgZGlyZWN0aXZlLmNvbnRyb2xsZXIpIHtcclxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGlyZWN0aXZlLmNvbnRyb2xsZXI7XHJcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlcyA9IGNvbnRyb2xsZXJEaXJlY3RpdmVzIHx8IGNyZWF0ZU1hcCgpO1xyXG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoXCInXCIgKyBkaXJlY3RpdmVOYW1lICsgXCInIGNvbnRyb2xsZXJcIixcclxuICAgICAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xyXG4gICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0gPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUgPSBkaXJlY3RpdmUudHJhbnNjbHVkZSkge1xyXG4gICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIG5nSWYgYW5kIG5nUmVwZWF0IHNvIHRoYXQgd2UgZG9uJ3QgY29tcGxhaW4gYWJvdXQgZHVwbGljYXRlIHRyYW5zY2x1c2lvbi5cclxuICAgICAgICAgIC8vIFRoaXMgb3B0aW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgZGlyZWN0aXZlcyB0aGF0IGtub3cgaG93IHRvIHNhZmVseSBoYW5kbGUgZWxlbWVudCB0cmFuc2NsdXNpb24sXHJcbiAgICAgICAgICAvLyB3aGVyZSB0aGUgdHJhbnNjbHVkZWQgbm9kZXMgYXJlIGFkZGVkIG9yIHJlcGxhY2VkIGFmdGVyIGxpbmtpbmcuXHJcbiAgICAgICAgICBpZiAoIWRpcmVjdGl2ZS4kJHRsYikge1xyXG4gICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgndHJhbnNjbHVzaW9uJywgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xyXG4gICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9PSAnZWxlbWVudCcpIHtcclxuICAgICAgICAgICAgaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gZGlyZWN0aXZlLnByaW9yaXR5O1xyXG4gICAgICAgICAgICAkdGVtcGxhdGUgPSAkY29tcGlsZU5vZGU7XHJcbiAgICAgICAgICAgICRjb21waWxlTm9kZSA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50ID1cclxuICAgICAgICAgICAgICAgIGpxTGl0ZShjb21waWxlLiQkY3JlYXRlQ29tbWVudChkaXJlY3RpdmVOYW1lLCB0ZW1wbGF0ZUF0dHJzW2RpcmVjdGl2ZU5hbWVdKSk7XHJcbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJGNvbXBpbGVOb2RlWzBdO1xyXG4gICAgICAgICAgICByZXBsYWNlV2l0aChqcUNvbGxlY3Rpb24sIHNsaWNlQXJncygkdGVtcGxhdGUpLCBjb21waWxlTm9kZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPCA1MFxyXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xNDA0MVxyXG5cclxuICAgICAgICAgICAgLy8gSW4gdGhlIHZlcnNpb25zIG9mIFY4IHByaW9yIHRvIENocm9tZSA1MCwgdGhlIGRvY3VtZW50IGZyYWdtZW50IHRoYXQgaXMgY3JlYXRlZFxyXG4gICAgICAgICAgICAvLyBpbiB0aGUgYHJlcGxhY2VXaXRoYCBmdW5jdGlvbiBpcyBpbXByb3Blcmx5IGdhcmJhZ2UgY29sbGVjdGVkIGRlc3BpdGUgc3RpbGxcclxuICAgICAgICAgICAgLy8gYmVpbmcgcmVmZXJlbmNlZCBieSB0aGUgYHBhcmVudE5vZGVgIHByb3BlcnR5IG9mIGFsbCBvZiB0aGUgY2hpbGQgbm9kZXMuICBCeSBhZGRpbmdcclxuICAgICAgICAgICAgLy8gYSByZWZlcmVuY2UgdG8gdGhlIGZyYWdtZW50IHZpYSBhIGRpZmZlcmVudCBwcm9wZXJ0eSwgd2UgY2FuIGF2b2lkIHRoYXQgaW5jb3JyZWN0XHJcbiAgICAgICAgICAgIC8vIGJlaGF2aW9yLlxyXG4gICAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyBsaW5lIGFmdGVyIENocm9tZSA1MCBoYXMgYmVlbiByZWxlYXNlZFxyXG4gICAgICAgICAgICAkdGVtcGxhdGVbMF0uJCRwYXJlbnROb2RlID0gJHRlbXBsYXRlWzBdLnBhcmVudE5vZGU7XHJcblxyXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsICR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB0ZXJtaW5hbFByaW9yaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSAmJiByZXBsYWNlRGlyZWN0aXZlLm5hbWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcGFzcyBpbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBjb250cm9sbGVyRGlyZWN0aXZlcyAtIG90aGVyd2lzZSB3ZSdsbCBjcmVhdGUgZHVwbGljYXRlcyBjb250cm9sbGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSBvciB0ZW1wbGF0ZURpcmVjdGl2ZSAtIGNvbWJpbmluZyB0ZW1wbGF0ZXMgd2l0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGVsZW1lbnQgdHJhbnNjbHVzaW9uIGRvZXNuJ3QgbWFrZSBzZW5zZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCBvbmx5IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUgc28gdGhhdCB3ZSBwcmV2ZW50IHB1dHRpbmcgdHJhbnNjbHVzaW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uIHRoZSBzYW1lIGVsZW1lbnQgbW9yZSB0aGFuIG9uY2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzbG90cyA9IGNyZWF0ZU1hcCgpO1xyXG5cclxuICAgICAgICAgICAgJHRlbXBsYXRlID0ganFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc09iamVjdChkaXJlY3RpdmVWYWx1ZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0cmFuc2NsdXNpb24gc2xvdHMsXHJcbiAgICAgICAgICAgICAgLy8gY29sbGVjdCB0aGVtIHVwLCBjb21waWxlIHRoZW0gYW5kIHN0b3JlIHRoZWlyIHRyYW5zY2x1c2lvbiBmdW5jdGlvbnNcclxuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgdmFyIHNsb3RNYXAgPSBjcmVhdGVNYXAoKTtcclxuICAgICAgICAgICAgICB2YXIgZmlsbGVkU2xvdHMgPSBjcmVhdGVNYXAoKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIGVsZW1lbnQgc2VsZWN0b3JzXHJcbiAgICAgICAgICAgICAgZm9yRWFjaChkaXJlY3RpdmVWYWx1ZSwgZnVuY3Rpb24oZWxlbWVudFNlbGVjdG9yLCBzbG90TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgYW4gZWxlbWVudCBzZWxlY3RvciBzdGFydHMgd2l0aCBhID8gdGhlbiBpdCBpcyBvcHRpb25hbFxyXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbmFsID0gKGVsZW1lbnRTZWxlY3Rvci5jaGFyQXQoMCkgPT09ICc/Jyk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50U2VsZWN0b3IgPSBvcHRpb25hbCA/IGVsZW1lbnRTZWxlY3Rvci5zdWJzdHJpbmcoMSkgOiBlbGVtZW50U2VsZWN0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgc2xvdE1hcFtlbGVtZW50U2VsZWN0b3JdID0gc2xvdE5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gV2UgZXhwbGljaXRseSBhc3NpZ24gYG51bGxgIHNpbmNlIHRoaXMgaW1wbGllcyB0aGF0IGEgc2xvdCB3YXMgZGVmaW5lZCBidXQgbm90IGZpbGxlZC5cclxuICAgICAgICAgICAgICAgIC8vIExhdGVyIHdoZW4gY2FsbGluZyBib3VuZFRyYW5zY2x1c2lvbiBmdW5jdGlvbnMgd2l0aCBhIHNsb3QgbmFtZSB3ZSBvbmx5IGVycm9yIGlmIHRoZVxyXG4gICAgICAgICAgICAgICAgLy8gc2xvdCBpcyBgdW5kZWZpbmVkYFxyXG4gICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBmaWxsZWRTbG90cyBjb250YWlucyBgdHJ1ZWAgZm9yIGFsbCBzbG90cyB0aGF0IGFyZSBlaXRoZXIgb3B0aW9uYWwgb3IgaGF2ZSBiZWVuXHJcbiAgICAgICAgICAgICAgICAvLyBmaWxsZWQuIFRoaXMgaXMgdXNlZCB0byBjaGVjayB0aGF0IHdlIGhhdmUgbm90IG1pc3NlZCBhbnkgcmVxdWlyZWQgc2xvdHNcclxuICAgICAgICAgICAgICAgIGZpbGxlZFNsb3RzW3Nsb3ROYW1lXSA9IG9wdGlvbmFsO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAvLyBBZGQgdGhlIG1hdGNoaW5nIGVsZW1lbnRzIGludG8gdGhlaXIgc2xvdFxyXG4gICAgICAgICAgICAgIGZvckVhY2goJGNvbXBpbGVOb2RlLmNvbnRlbnRzKCksIGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzbG90TmFtZSA9IHNsb3RNYXBbZGlyZWN0aXZlTm9ybWFsaXplKG5vZGVOYW1lXyhub2RlKSldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNsb3ROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgIGZpbGxlZFNsb3RzW3Nsb3ROYW1lXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3ROYW1lXSA9IHNsb3RzW3Nsb3ROYW1lXSB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdLnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAkdGVtcGxhdGUucHVzaChub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcXVpcmVkIHNsb3RzIHRoYXQgd2VyZSBub3QgZmlsbGVkXHJcbiAgICAgICAgICAgICAgZm9yRWFjaChmaWxsZWRTbG90cywgZnVuY3Rpb24oZmlsbGVkLCBzbG90TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmaWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3JlcXNsb3QnLCAnUmVxdWlyZWQgdHJhbnNjbHVzaW9uIHNsb3QgYHswfWAgd2FzIG5vdCBmaWxsZWQuJywgc2xvdE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICBmb3IgKHZhciBzbG90TmFtZSBpbiBzbG90cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNsb3RzW3Nsb3ROYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAvLyBPbmx5IGRlZmluZSBhIHRyYW5zY2x1c2lvbiBmdW5jdGlvbiBpZiB0aGUgc2xvdCB3YXMgZmlsbGVkXHJcbiAgICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3ROYW1lXSA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsIHNsb3RzW3Nsb3ROYW1lXSwgdHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRjb21waWxlTm9kZS5lbXB0eSgpOyAvLyBjbGVhciBjb250ZW50c1xyXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsICR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsIHsgbmVlZHNOZXdTY29wZTogZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlIHx8IGRpcmVjdGl2ZS4kJG5ld1Njb3BlfSk7XHJcbiAgICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuLiQkc2xvdHMgPSBzbG90cztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGUpIHtcclxuICAgICAgICAgIGhhc1RlbXBsYXRlID0gdHJ1ZTtcclxuICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0ZW1wbGF0ZScsIHRlbXBsYXRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XHJcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcclxuXHJcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IChpc0Z1bmN0aW9uKGRpcmVjdGl2ZS50ZW1wbGF0ZSkpXHJcbiAgICAgICAgICAgICAgPyBkaXJlY3RpdmUudGVtcGxhdGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzKVxyXG4gICAgICAgICAgICAgIDogZGlyZWN0aXZlLnRlbXBsYXRlO1xyXG5cclxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGVub3JtYWxpemVUZW1wbGF0ZShkaXJlY3RpdmVWYWx1ZSk7XHJcblxyXG4gICAgICAgICAgaWYgKGRpcmVjdGl2ZS5yZXBsYWNlKSB7XHJcbiAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICAgIGlmIChqcUxpdGVJc1RleHROb2RlKGRpcmVjdGl2ZVZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IHJlbW92ZUNvbW1lbnRzKHdyYXBUZW1wbGF0ZShkaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oZGlyZWN0aXZlVmFsdWUpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcGlsZU5vZGUgPSAkdGVtcGxhdGVbMF07XHJcblxyXG4gICAgICAgICAgICBpZiAoJHRlbXBsYXRlLmxlbmd0aCAhPSAxIHx8IGNvbXBpbGVOb2RlLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xyXG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxydCcsXHJcbiAgICAgICAgICAgICAgICAgIFwiVGVtcGxhdGUgZm9yIGRpcmVjdGl2ZSAnezB9JyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiB7MX1cIixcclxuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgJycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXBsYWNlV2l0aChqcUNvbGxlY3Rpb24sICRjb21waWxlTm9kZSwgY29tcGlsZU5vZGUpO1xyXG5cclxuICAgICAgICAgICAgdmFyIG5ld1RlbXBsYXRlQXR0cnMgPSB7JGF0dHI6IHt9fTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbWJpbmUgZGlyZWN0aXZlcyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIGFuZCBmcm9tIHRoZSB0ZW1wbGF0ZTpcclxuICAgICAgICAgICAgLy8gLSB0YWtlIHRoZSBhcnJheSBvZiBkaXJlY3RpdmVzIGZvciB0aGlzIGVsZW1lbnRcclxuICAgICAgICAgICAgLy8gLSBzcGxpdCBpdCBpbnRvIHR3byBwYXJ0cywgdGhvc2UgdGhhdCBhbHJlYWR5IGFwcGxpZWQgKHByb2Nlc3NlZCkgYW5kIHRob3NlIHRoYXQgd2VyZW4ndCAodW5wcm9jZXNzZWQpXHJcbiAgICAgICAgICAgIC8vIC0gY29sbGVjdCBkaXJlY3RpdmVzIGZyb20gdGhlIHRlbXBsYXRlIGFuZCBzb3J0IHRoZW0gYnkgcHJpb3JpdHlcclxuICAgICAgICAgICAgLy8gLSBjb21iaW5lIGRpcmVjdGl2ZXMgYXM6IHByb2Nlc3NlZCArIHRlbXBsYXRlICsgdW5wcm9jZXNzZWRcclxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlRGlyZWN0aXZlcyA9IGNvbGxlY3REaXJlY3RpdmVzKGNvbXBpbGVOb2RlLCBbXSwgbmV3VGVtcGxhdGVBdHRycyk7XHJcbiAgICAgICAgICAgIHZhciB1bnByb2Nlc3NlZERpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLnNwbGljZShpICsgMSwgZGlyZWN0aXZlcy5sZW5ndGggLSAoaSArIDEpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHwgbmV3U2NvcGVEaXJlY3RpdmUpIHtcclxuICAgICAgICAgICAgICAvLyBUaGUgb3JpZ2luYWwgZGlyZWN0aXZlIGNhdXNlZCB0aGUgY3VycmVudCBlbGVtZW50IHRvIGJlIHJlcGxhY2VkIGJ1dCB0aGlzIGVsZW1lbnRcclxuICAgICAgICAgICAgICAvLyBhbHNvIG5lZWRzIHRvIGhhdmUgYSBuZXcgc2NvcGUsIHNvIHdlIG5lZWQgdG8gdGVsbCB0aGUgdGVtcGxhdGUgZGlyZWN0aXZlc1xyXG4gICAgICAgICAgICAgIC8vIHRoYXQgdGhleSB3b3VsZCBuZWVkIHRvIGdldCB0aGVpciBzY29wZSBmcm9tIGZ1cnRoZXIgdXAsIGlmIHRoZXkgcmVxdWlyZSB0cmFuc2NsdXNpb25cclxuICAgICAgICAgICAgICBtYXJrRGlyZWN0aXZlU2NvcGUodGVtcGxhdGVEaXJlY3RpdmVzLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsIG5ld1Njb3BlRGlyZWN0aXZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaXJlY3RpdmVzID0gZGlyZWN0aXZlcy5jb25jYXQodGVtcGxhdGVEaXJlY3RpdmVzKS5jb25jYXQodW5wcm9jZXNzZWREaXJlY3RpdmVzKTtcclxuICAgICAgICAgICAgbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXModGVtcGxhdGVBdHRycywgbmV3VGVtcGxhdGVBdHRycyk7XHJcblxyXG4gICAgICAgICAgICBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmh0bWwoZGlyZWN0aXZlVmFsdWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZW1wbGF0ZVVybCkge1xyXG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcclxuICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG5cclxuICAgICAgICAgIGlmIChkaXJlY3RpdmUucmVwbGFjZSkge1xyXG4gICAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8qIGpzaGludCAtVzAyMSAqL1xyXG4gICAgICAgICAgbm9kZUxpbmtGbiA9IGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLnNwbGljZShpLCBkaXJlY3RpdmVzLmxlbmd0aCAtIGkpLCAkY29tcGlsZU5vZGUsXHJcbiAgICAgICAgICAvKiBqc2hpbnQgK1cwMjEgKi9cclxuICAgICAgICAgICAgICB0ZW1wbGF0ZUF0dHJzLCBqcUNvbGxlY3Rpb24sIGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUgJiYgY2hpbGRUcmFuc2NsdWRlRm4sIHByZUxpbmtGbnMsIHBvc3RMaW5rRm5zLCB7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlczogY29udHJvbGxlckRpcmVjdGl2ZXMsXHJcbiAgICAgICAgICAgICAgICBuZXdTY29wZURpcmVjdGl2ZTogKG5ld1Njb3BlRGlyZWN0aXZlICE9PSBkaXJlY3RpdmUpICYmIG5ld1Njb3BlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlOiBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZTogdGVtcGxhdGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOiBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aXZlLmNvbXBpbGUpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxpbmtGbiA9IGRpcmVjdGl2ZS5jb21waWxlKCRjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgY2hpbGRUcmFuc2NsdWRlRm4pO1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihsaW5rRm4pKSB7XHJcbiAgICAgICAgICAgICAgYWRkTGlua0ZucyhudWxsLCBsaW5rRm4sIGF0dHJTdGFydCwgYXR0ckVuZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlua0ZuKSB7XHJcbiAgICAgICAgICAgICAgYWRkTGlua0ZucyhsaW5rRm4ucHJlLCBsaW5rRm4ucG9zdCwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlLCBzdGFydGluZ1RhZygkY29tcGlsZU5vZGUpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVybWluYWwpIHtcclxuICAgICAgICAgIG5vZGVMaW5rRm4udGVybWluYWwgPSB0cnVlO1xyXG4gICAgICAgICAgdGVybWluYWxQcmlvcml0eSA9IE1hdGgubWF4KHRlcm1pbmFsUHJpb3JpdHksIGRpcmVjdGl2ZS5wcmlvcml0eSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfVxyXG5cclxuICAgICAgbm9kZUxpbmtGbi5zY29wZSA9IG5ld1Njb3BlRGlyZWN0aXZlICYmIG5ld1Njb3BlRGlyZWN0aXZlLnNjb3BlID09PSB0cnVlO1xyXG4gICAgICBub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50ID0gaGFzVHJhbnNjbHVkZURpcmVjdGl2ZTtcclxuICAgICAgbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQgPSBoYXNUZW1wbGF0ZTtcclxuICAgICAgbm9kZUxpbmtGbi50cmFuc2NsdWRlID0gY2hpbGRUcmFuc2NsdWRlRm47XHJcblxyXG4gICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU7XHJcblxyXG4gICAgICAvLyBtaWdodCBiZSBub3JtYWwgb3IgZGVsYXllZCBub2RlTGlua0ZuIGRlcGVuZGluZyBvbiBpZiB0ZW1wbGF0ZVVybCBpcyBwcmVzZW50XHJcbiAgICAgIHJldHVybiBub2RlTGlua0ZuO1xyXG5cclxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGFkZExpbmtGbnMocHJlLCBwb3N0LCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcclxuICAgICAgICBpZiAocHJlKSB7XHJcbiAgICAgICAgICBpZiAoYXR0clN0YXJ0KSBwcmUgPSBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwcmUsIGF0dHJTdGFydCwgYXR0ckVuZCk7XHJcbiAgICAgICAgICBwcmUucmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlO1xyXG4gICAgICAgICAgcHJlLmRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmVOYW1lO1xyXG4gICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9PT0gZGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkge1xyXG4gICAgICAgICAgICBwcmUgPSBjbG9uZUFuZEFubm90YXRlRm4ocHJlLCB7aXNvbGF0ZVNjb3BlOiB0cnVlfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBwcmVMaW5rRm5zLnB1c2gocHJlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBvc3QpIHtcclxuICAgICAgICAgIGlmIChhdHRyU3RhcnQpIHBvc3QgPSBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwb3N0LCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xyXG4gICAgICAgICAgcG9zdC5yZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmU7XHJcbiAgICAgICAgICBwb3N0LmRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmVOYW1lO1xyXG4gICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9PT0gZGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkge1xyXG4gICAgICAgICAgICBwb3N0ID0gY2xvbmVBbmRBbm5vdGF0ZUZuKHBvc3QsIHtpc29sYXRlU2NvcGU6IHRydWV9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHBvc3RMaW5rRm5zLnB1c2gocG9zdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBzY29wZSwgbGlua05vZGUsICRyb290RWxlbWVudCwgYm91bmRUcmFuc2NsdWRlRm4pIHtcclxuICAgICAgICB2YXIgaSwgaWksIGxpbmtGbiwgaXNvbGF0ZVNjb3BlLCBjb250cm9sbGVyU2NvcGUsIGVsZW1lbnRDb250cm9sbGVycywgdHJhbnNjbHVkZUZuLCAkZWxlbWVudCxcclxuICAgICAgICAgICAgYXR0cnMsIHNjb3BlQmluZGluZ0luZm87XHJcblxyXG4gICAgICAgIGlmIChjb21waWxlTm9kZSA9PT0gbGlua05vZGUpIHtcclxuICAgICAgICAgIGF0dHJzID0gdGVtcGxhdGVBdHRycztcclxuICAgICAgICAgICRlbGVtZW50ID0gdGVtcGxhdGVBdHRycy4kJGVsZW1lbnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRlbGVtZW50ID0ganFMaXRlKGxpbmtOb2RlKTtcclxuICAgICAgICAgIGF0dHJzID0gbmV3IEF0dHJpYnV0ZXMoJGVsZW1lbnQsIHRlbXBsYXRlQXR0cnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udHJvbGxlclNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkge1xyXG4gICAgICAgICAgaXNvbGF0ZVNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG5ld1Njb3BlRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICBjb250cm9sbGVyU2NvcGUgPSBzY29wZS4kcGFyZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGJvdW5kVHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgICAvLyB0cmFjayBgYm91bmRUcmFuc2NsdWRlRm5gIHNvIGl0IGNhbiBiZSB1bndyYXBwZWQgaWYgYHRyYW5zY2x1ZGVGbmBcclxuICAgICAgICAgIC8vIGlzIGxhdGVyIHBhc3NlZCBhcyBgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm5gIHRvIGBwdWJsaWNMaW5rRm5gXHJcbiAgICAgICAgICB0cmFuc2NsdWRlRm4gPSBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZTtcclxuICAgICAgICAgIHRyYW5zY2x1ZGVGbi4kJGJvdW5kVHJhbnNjbHVkZSA9IGJvdW5kVHJhbnNjbHVkZUZuO1xyXG4gICAgICAgICAgLy8gZXhwb3NlIHRoZSBzbG90cyBvbiB0aGUgYCR0cmFuc2NsdWRlYCBmdW5jdGlvblxyXG4gICAgICAgICAgdHJhbnNjbHVkZUZuLmlzU2xvdEZpbGxlZCA9IGZ1bmN0aW9uKHNsb3ROYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhIWJvdW5kVHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjb250cm9sbGVyRGlyZWN0aXZlcykge1xyXG4gICAgICAgICAgZWxlbWVudENvbnRyb2xsZXJzID0gc2V0dXBDb250cm9sbGVycygkZWxlbWVudCwgYXR0cnMsIHRyYW5zY2x1ZGVGbiwgY29udHJvbGxlckRpcmVjdGl2ZXMsIGlzb2xhdGVTY29wZSwgc2NvcGUsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAvLyBJbml0aWFsaXplIGlzb2xhdGUgc2NvcGUgYmluZGluZ3MgZm9yIG5ldyBpc29sYXRlIHNjb3BlIGRpcmVjdGl2ZS5cclxuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oJGVsZW1lbnQsIGlzb2xhdGVTY29wZSwgdHJ1ZSwgISh0ZW1wbGF0ZURpcmVjdGl2ZSAmJiAodGVtcGxhdGVEaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlID09PSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuJCRvcmlnaW5hbERpcmVjdGl2ZSkpKTtcclxuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKCRlbGVtZW50LCB0cnVlKTtcclxuICAgICAgICAgIGlzb2xhdGVTY29wZS4kJGlzb2xhdGVCaW5kaW5ncyA9XHJcbiAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLiQkaXNvbGF0ZUJpbmRpbmdzO1xyXG4gICAgICAgICAgc2NvcGVCaW5kaW5nSW5mbyA9IGluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyhzY29wZSwgYXR0cnMsIGlzb2xhdGVTY29wZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzb2xhdGVTY29wZS4kJGlzb2xhdGVCaW5kaW5ncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSk7XHJcbiAgICAgICAgICBpZiAoc2NvcGVCaW5kaW5nSW5mby5yZW1vdmVXYXRjaGVzKSB7XHJcbiAgICAgICAgICAgIGlzb2xhdGVTY29wZS4kb24oJyRkZXN0cm95Jywgc2NvcGVCaW5kaW5nSW5mby5yZW1vdmVXYXRjaGVzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgYmluZFRvQ29udHJvbGxlciBiaW5kaW5nc1xyXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gZWxlbWVudENvbnRyb2xsZXJzKSB7XHJcbiAgICAgICAgICB2YXIgY29udHJvbGxlckRpcmVjdGl2ZSA9IGNvbnRyb2xsZXJEaXJlY3RpdmVzW25hbWVdO1xyXG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBlbGVtZW50Q29udHJvbGxlcnNbbmFtZV07XHJcbiAgICAgICAgICB2YXIgYmluZGluZ3MgPSBjb250cm9sbGVyRGlyZWN0aXZlLiQkYmluZGluZ3MuYmluZFRvQ29udHJvbGxlcjtcclxuXHJcbiAgICAgICAgICBpZiAoY29udHJvbGxlci5pZGVudGlmaWVyICYmIGJpbmRpbmdzKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuYmluZGluZ0luZm8gPVxyXG4gICAgICAgICAgICAgIGluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyhjb250cm9sbGVyU2NvcGUsIGF0dHJzLCBjb250cm9sbGVyLmluc3RhbmNlLCBiaW5kaW5ncywgY29udHJvbGxlckRpcmVjdGl2ZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250cm9sbGVyLmJpbmRpbmdJbmZvID0ge307XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXJSZXN1bHQgPSBjb250cm9sbGVyKCk7XHJcbiAgICAgICAgICBpZiAoY29udHJvbGxlclJlc3VsdCAhPT0gY29udHJvbGxlci5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciBoYXMgYSByZXR1cm4gdmFsdWUsIG92ZXJ3cml0ZSB0aGUgaW5zdGFuY2VcclxuICAgICAgICAgICAgLy8gZnJvbSBzZXR1cENvbnRyb2xsZXJzXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuaW5zdGFuY2UgPSBjb250cm9sbGVyUmVzdWx0O1xyXG4gICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckJyArIGNvbnRyb2xsZXJEaXJlY3RpdmUubmFtZSArICdDb250cm9sbGVyJywgY29udHJvbGxlclJlc3VsdCk7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuYmluZGluZ0luZm8ucmVtb3ZlV2F0Y2hlcyAmJiBjb250cm9sbGVyLmJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMoKTtcclxuICAgICAgICAgICAgY29udHJvbGxlci5iaW5kaW5nSW5mbyA9XHJcbiAgICAgICAgICAgICAgaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKGNvbnRyb2xsZXJTY29wZSwgYXR0cnMsIGNvbnRyb2xsZXIuaW5zdGFuY2UsIGJpbmRpbmdzLCBjb250cm9sbGVyRGlyZWN0aXZlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJpbmQgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXJzIHRvIHRoZSBjb250cm9sbGVyLCBpZiBgcmVxdWlyZWAgaXMgYW4gb2JqZWN0IGFuZCBgYmluZFRvQ29udHJvbGxlcmAgaXMgdHJ1dGh5XHJcbiAgICAgICAgZm9yRWFjaChjb250cm9sbGVyRGlyZWN0aXZlcywgZnVuY3Rpb24oY29udHJvbGxlckRpcmVjdGl2ZSwgbmFtZSkge1xyXG4gICAgICAgICAgdmFyIHJlcXVpcmUgPSBjb250cm9sbGVyRGlyZWN0aXZlLnJlcXVpcmU7XHJcbiAgICAgICAgICBpZiAoY29udHJvbGxlckRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyICYmICFpc0FycmF5KHJlcXVpcmUpICYmIGlzT2JqZWN0KHJlcXVpcmUpKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZChlbGVtZW50Q29udHJvbGxlcnNbbmFtZV0uaW5zdGFuY2UsIGdldENvbnRyb2xsZXJzKG5hbWUsIHJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIHRoZSBpbml0IGFuZCBkZXN0cm95IGxpZmVjeWNsZSBob29rcyBvbiBhbGwgY29udHJvbGxlcnMgdGhhdCBoYXZlIHRoZW1cclxuICAgICAgICBmb3JFYWNoKGVsZW1lbnRDb250cm9sbGVycywgZnVuY3Rpb24oY29udHJvbGxlcikge1xyXG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9IGNvbnRyb2xsZXIuaW5zdGFuY2U7XHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UuJG9uQ2hhbmdlcykpIHtcclxuICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLiRvbkNoYW5nZXMoY29udHJvbGxlci5iaW5kaW5nSW5mby5pbml0aWFsQ2hhbmdlcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UuJG9uSW5pdCkpIHtcclxuICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLiRvbkluaXQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kb25EZXN0cm95KSkge1xyXG4gICAgICAgICAgICBjb250cm9sbGVyU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIGNhbGxPbkRlc3Ryb3lIb29rKCkge1xyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kb25EZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQUkVMSU5LSU5HXHJcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBwcmVMaW5rRm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgIGxpbmtGbiA9IHByZUxpbmtGbnNbaV07XHJcbiAgICAgICAgICBpbnZva2VMaW5rRm4obGlua0ZuLFxyXG4gICAgICAgICAgICAgIGxpbmtGbi5pc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcclxuICAgICAgICAgICAgICAkZWxlbWVudCxcclxuICAgICAgICAgICAgICBhdHRycyxcclxuICAgICAgICAgICAgICBsaW5rRm4ucmVxdWlyZSAmJiBnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSwgbGlua0ZuLnJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpLFxyXG4gICAgICAgICAgICAgIHRyYW5zY2x1ZGVGblxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJFQ1VSU0lPTlxyXG4gICAgICAgIC8vIFdlIG9ubHkgcGFzcyB0aGUgaXNvbGF0ZSBzY29wZSwgaWYgdGhlIGlzb2xhdGUgZGlyZWN0aXZlIGhhcyBhIHRlbXBsYXRlLFxyXG4gICAgICAgIC8vIG90aGVyd2lzZSB0aGUgY2hpbGQgZWxlbWVudHMgZG8gbm90IGJlbG9uZyB0byB0aGUgaXNvbGF0ZSBkaXJlY3RpdmUuXHJcbiAgICAgICAgdmFyIHNjb3BlVG9DaGlsZCA9IHNjb3BlO1xyXG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgJiYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZSB8fCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgPT09IG51bGwpKSB7XHJcbiAgICAgICAgICBzY29wZVRvQ2hpbGQgPSBpc29sYXRlU2NvcGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoaWxkTGlua0ZuICYmIGNoaWxkTGlua0ZuKHNjb3BlVG9DaGlsZCwgbGlua05vZGUuY2hpbGROb2RlcywgdW5kZWZpbmVkLCBib3VuZFRyYW5zY2x1ZGVGbik7XHJcblxyXG4gICAgICAgIC8vIFBPU1RMSU5LSU5HXHJcbiAgICAgICAgZm9yIChpID0gcG9zdExpbmtGbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgIGxpbmtGbiA9IHBvc3RMaW5rRm5zW2ldO1xyXG4gICAgICAgICAgaW52b2tlTGlua0ZuKGxpbmtGbixcclxuICAgICAgICAgICAgICBsaW5rRm4uaXNvbGF0ZVNjb3BlID8gaXNvbGF0ZVNjb3BlIDogc2NvcGUsXHJcbiAgICAgICAgICAgICAgJGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgYXR0cnMsXHJcbiAgICAgICAgICAgICAgbGlua0ZuLnJlcXVpcmUgJiYgZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsIGxpbmtGbi5yZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSxcclxuICAgICAgICAgICAgICB0cmFuc2NsdWRlRm5cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUcmlnZ2VyICRwb3N0TGluayBsaWZlY3ljbGUgaG9va3NcclxuICAgICAgICBmb3JFYWNoKGVsZW1lbnRDb250cm9sbGVycywgZnVuY3Rpb24oY29udHJvbGxlcikge1xyXG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9IGNvbnRyb2xsZXIuaW5zdGFuY2U7XHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UuJHBvc3RMaW5rKSkge1xyXG4gICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJHBvc3RMaW5rKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgaW5qZWN0ZWQgYXMgYCR0cmFuc2NsdWRlYC5cclxuICAgICAgICAvLyBOb3RlOiBhbGwgYXJndW1lbnRzIGFyZSBvcHRpb25hbCFcclxuICAgICAgICBmdW5jdGlvbiBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZShzY29wZSwgY2xvbmVBdHRhY2hGbiwgZnV0dXJlUGFyZW50RWxlbWVudCwgc2xvdE5hbWUpIHtcclxuICAgICAgICAgIHZhciB0cmFuc2NsdWRlQ29udHJvbGxlcnM7XHJcbiAgICAgICAgICAvLyBObyBzY29wZSBwYXNzZWQgaW46XHJcbiAgICAgICAgICBpZiAoIWlzU2NvcGUoc2NvcGUpKSB7XHJcbiAgICAgICAgICAgIHNsb3ROYW1lID0gZnV0dXJlUGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IGNsb25lQXR0YWNoRm47XHJcbiAgICAgICAgICAgIGNsb25lQXR0YWNoRm4gPSBzY29wZTtcclxuICAgICAgICAgICAgc2NvcGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVycyA9IGVsZW1lbnRDb250cm9sbGVycztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICghZnV0dXJlUGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPyAkZWxlbWVudC5wYXJlbnQoKSA6ICRlbGVtZW50O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHNsb3ROYW1lKSB7XHJcbiAgICAgICAgICAgIC8vIHNsb3RUcmFuc2NsdWRlRm4gY2FuIGJlIG9uZSBvZiB0aHJlZSB0aGluZ3M6XHJcbiAgICAgICAgICAgIC8vICAqIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiAtIGEgZmlsbGVkIHNsb3RcclxuICAgICAgICAgICAgLy8gICogYG51bGxgIC0gYW4gb3B0aW9uYWwgc2xvdCB0aGF0IHdhcyBub3QgZmlsbGVkXHJcbiAgICAgICAgICAgIC8vICAqIGB1bmRlZmluZWRgIC0gYSBzbG90IHRoYXQgd2FzIG5vdCBkZWNsYXJlZCAoaS5lLiBpbnZhbGlkKVxyXG4gICAgICAgICAgICB2YXIgc2xvdFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdO1xyXG4gICAgICAgICAgICBpZiAoc2xvdFRyYW5zY2x1ZGVGbikge1xyXG4gICAgICAgICAgICAgIHJldHVybiBzbG90VHJhbnNjbHVkZUZuKHNjb3BlLCBjbG9uZUF0dGFjaEZuLCB0cmFuc2NsdWRlQ29udHJvbGxlcnMsIGZ1dHVyZVBhcmVudEVsZW1lbnQsIHNjb3BlVG9DaGlsZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNVbmRlZmluZWQoc2xvdFRyYW5zY2x1ZGVGbikpIHtcclxuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9zbG90JyxcclxuICAgICAgICAgICAgICAgJ05vIHBhcmVudCBkaXJlY3RpdmUgdGhhdCByZXF1aXJlcyBhIHRyYW5zY2x1c2lvbiB3aXRoIHNsb3QgbmFtZSBcInswfVwiLiAnICtcclxuICAgICAgICAgICAgICAgJ0VsZW1lbnQ6IHsxfScsXHJcbiAgICAgICAgICAgICAgIHNsb3ROYW1lLCBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gYm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGNsb25lQXR0YWNoRm4sIHRyYW5zY2x1ZGVDb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgc2NvcGVUb0NoaWxkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCByZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSB7XHJcbiAgICAgIHZhciB2YWx1ZTtcclxuXHJcbiAgICAgIGlmIChpc1N0cmluZyhyZXF1aXJlKSkge1xyXG4gICAgICAgIHZhciBtYXRjaCA9IHJlcXVpcmUubWF0Y2goUkVRVUlSRV9QUkVGSVhfUkVHRVhQKTtcclxuICAgICAgICB2YXIgbmFtZSA9IHJlcXVpcmUuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XHJcbiAgICAgICAgdmFyIGluaGVyaXRUeXBlID0gbWF0Y2hbMV0gfHwgbWF0Y2hbM107XHJcbiAgICAgICAgdmFyIG9wdGlvbmFsID0gbWF0Y2hbMl0gPT09ICc/JztcclxuXHJcbiAgICAgICAgLy9JZiBvbmx5IHBhcmVudHMgdGhlbiBzdGFydCBhdCB0aGUgcGFyZW50IGVsZW1lbnRcclxuICAgICAgICBpZiAoaW5oZXJpdFR5cGUgPT09ICdeXicpIHtcclxuICAgICAgICAgICRlbGVtZW50ID0gJGVsZW1lbnQucGFyZW50KCk7XHJcbiAgICAgICAgLy9PdGhlcndpc2UgYXR0ZW1wdCBnZXR0aW5nIHRoZSBjb250cm9sbGVyIGZyb20gZWxlbWVudENvbnRyb2xsZXJzIGluIGNhc2VcclxuICAgICAgICAvL3RoZSBlbGVtZW50IGlzIHRyYW5zY2x1ZGVkIChhbmQgaGFzIG5vIGRhdGEpIGFuZCB0byBhdm9pZCAuZGF0YSBpZiBwb3NzaWJsZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnRDb250cm9sbGVycyAmJiBlbGVtZW50Q29udHJvbGxlcnNbbmFtZV07XHJcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlICYmIHZhbHVlLmluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgdmFyIGRhdGFOYW1lID0gJyQnICsgbmFtZSArICdDb250cm9sbGVyJztcclxuICAgICAgICAgIHZhbHVlID0gaW5oZXJpdFR5cGUgPyAkZWxlbWVudC5pbmhlcml0ZWREYXRhKGRhdGFOYW1lKSA6ICRlbGVtZW50LmRhdGEoZGF0YU5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF2YWx1ZSAmJiAhb3B0aW9uYWwpIHtcclxuICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdjdHJlcScsXHJcbiAgICAgICAgICAgICAgXCJDb250cm9sbGVyICd7MH0nLCByZXF1aXJlZCBieSBkaXJlY3RpdmUgJ3sxfScsIGNhbid0IGJlIGZvdW5kIVwiLFxyXG4gICAgICAgICAgICAgIG5hbWUsIGRpcmVjdGl2ZU5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlcXVpcmUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByZXF1aXJlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgIHZhbHVlW2ldID0gZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSwgcmVxdWlyZVtpXSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHJlcXVpcmUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSB7fTtcclxuICAgICAgICBmb3JFYWNoKHJlcXVpcmUsIGZ1bmN0aW9uKGNvbnRyb2xsZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICB2YWx1ZVtwcm9wZXJ0eV0gPSBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCBjb250cm9sbGVyLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHZhbHVlIHx8IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0dXBDb250cm9sbGVycygkZWxlbWVudCwgYXR0cnMsIHRyYW5zY2x1ZGVGbiwgY29udHJvbGxlckRpcmVjdGl2ZXMsIGlzb2xhdGVTY29wZSwgc2NvcGUsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkge1xyXG4gICAgICB2YXIgZWxlbWVudENvbnRyb2xsZXJzID0gY3JlYXRlTWFwKCk7XHJcbiAgICAgIGZvciAodmFyIGNvbnRyb2xsZXJLZXkgaW4gY29udHJvbGxlckRpcmVjdGl2ZXMpIHtcclxuICAgICAgICB2YXIgZGlyZWN0aXZlID0gY29udHJvbGxlckRpcmVjdGl2ZXNbY29udHJvbGxlcktleV07XHJcbiAgICAgICAgdmFyIGxvY2FscyA9IHtcclxuICAgICAgICAgICRzY29wZTogZGlyZWN0aXZlID09PSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlID8gaXNvbGF0ZVNjb3BlIDogc2NvcGUsXHJcbiAgICAgICAgICAkZWxlbWVudDogJGVsZW1lbnQsXHJcbiAgICAgICAgICAkYXR0cnM6IGF0dHJzLFxyXG4gICAgICAgICAgJHRyYW5zY2x1ZGU6IHRyYW5zY2x1ZGVGblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBjb250cm9sbGVyID0gZGlyZWN0aXZlLmNvbnRyb2xsZXI7XHJcbiAgICAgICAgaWYgKGNvbnRyb2xsZXIgPT0gJ0AnKSB7XHJcbiAgICAgICAgICBjb250cm9sbGVyID0gYXR0cnNbZGlyZWN0aXZlLm5hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9ICRjb250cm9sbGVyKGNvbnRyb2xsZXIsIGxvY2FscywgdHJ1ZSwgZGlyZWN0aXZlLmNvbnRyb2xsZXJBcyk7XHJcblxyXG4gICAgICAgIC8vIEZvciBkaXJlY3RpdmVzIHdpdGggZWxlbWVudCB0cmFuc2NsdXNpb24gdGhlIGVsZW1lbnQgaXMgYSBjb21tZW50LlxyXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSAuZGF0YSB3aWxsIG5vdCBhdHRhY2ggYW55IGRhdGEuXHJcbiAgICAgICAgLy8gSW5zdGVhZCwgd2Ugc2F2ZSB0aGUgY29udHJvbGxlcnMgZm9yIHRoZSBlbGVtZW50IGluIGEgbG9jYWwgaGFzaCBhbmQgYXR0YWNoIHRvIC5kYXRhXHJcbiAgICAgICAgLy8gbGF0ZXIsIG9uY2Ugd2UgaGF2ZSB0aGUgYWN0dWFsIGVsZW1lbnQuXHJcbiAgICAgICAgZWxlbWVudENvbnRyb2xsZXJzW2RpcmVjdGl2ZS5uYW1lXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcclxuICAgICAgICAkZWxlbWVudC5kYXRhKCckJyArIGRpcmVjdGl2ZS5uYW1lICsgJ0NvbnRyb2xsZXInLCBjb250cm9sbGVySW5zdGFuY2UuaW5zdGFuY2UpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBlbGVtZW50Q29udHJvbGxlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVwZW5kaW5nIHVwb24gdGhlIGNvbnRleHQgaW4gd2hpY2ggYSBkaXJlY3RpdmUgZmluZHMgaXRzZWxmIGl0IG1pZ2h0IG5lZWQgdG8gaGF2ZSBhIG5ldyBpc29sYXRlZFxyXG4gICAgLy8gb3IgY2hpbGQgc2NvcGUgY3JlYXRlZC4gRm9yIGluc3RhbmNlOlxyXG4gICAgLy8gKiBpZiB0aGUgZGlyZWN0aXZlIGhhcyBiZWVuIHB1bGxlZCBpbnRvIGEgdGVtcGxhdGUgYmVjYXVzZSBhbm90aGVyIGRpcmVjdGl2ZSB3aXRoIGEgaGlnaGVyIHByaW9yaXR5XHJcbiAgICAvLyBhc2tlZCBmb3IgZWxlbWVudCB0cmFuc2NsdXNpb25cclxuICAgIC8vICogaWYgdGhlIGRpcmVjdGl2ZSBpdHNlbGYgYXNrcyBmb3IgdHJhbnNjbHVzaW9uIGJ1dCBpdCBpcyBhdCB0aGUgcm9vdCBvZiBhIHRlbXBsYXRlIGFuZCB0aGUgb3JpZ2luYWxcclxuICAgIC8vIGVsZW1lbnQgd2FzIHJlcGxhY2VkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTI5MzZcclxuICAgIGZ1bmN0aW9uIG1hcmtEaXJlY3RpdmVTY29wZShkaXJlY3RpdmVzLCBpc29sYXRlU2NvcGUsIG5ld1Njb3BlKSB7XHJcbiAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBqIDwgamo7IGorKykge1xyXG4gICAgICAgIGRpcmVjdGl2ZXNbal0gPSBpbmhlcml0KGRpcmVjdGl2ZXNbal0sIHskJGlzb2xhdGVTY29wZTogaXNvbGF0ZVNjb3BlLCAkJG5ld1Njb3BlOiBuZXdTY29wZX0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBsb29rcyB1cCB0aGUgZGlyZWN0aXZlIGFuZCBkZWNvcmF0ZXMgaXQgd2l0aCBleGNlcHRpb24gaGFuZGxpbmcgYW5kIHByb3BlciBwYXJhbWV0ZXJzLiBXZVxyXG4gICAgICogY2FsbCB0aGlzIHRoZSBib3VuZERpcmVjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gbG9vayB1cC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBUaGUgZGlyZWN0aXZlIG11c3QgYmUgZm91bmQgaW4gc3BlY2lmaWMgZm9ybWF0LlxyXG4gICAgICogICBTdHJpbmcgY29udGFpbmluZyBhbnkgb2YgdGhlc2VzIGNoYXJhY3RlcnM6XHJcbiAgICAgKlxyXG4gICAgICogICAqIGBFYDogZWxlbWVudCBuYW1lXHJcbiAgICAgKiAgICogYEEnOiBhdHRyaWJ1dGVcclxuICAgICAqICAgKiBgQ2A6IGNsYXNzXHJcbiAgICAgKiAgICogYE1gOiBjb21tZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBkaXJlY3RpdmUgd2FzIGFkZGVkLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBhZGREaXJlY3RpdmUodERpcmVjdGl2ZXMsIG5hbWUsIGxvY2F0aW9uLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBzdGFydEF0dHJOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVuZEF0dHJOYW1lKSB7XHJcbiAgICAgIGlmIChuYW1lID09PSBpZ25vcmVEaXJlY3RpdmUpIHJldHVybiBudWxsO1xyXG4gICAgICB2YXIgbWF0Y2ggPSBudWxsO1xyXG4gICAgICBpZiAoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgIGZvciAodmFyIGRpcmVjdGl2ZSwgZGlyZWN0aXZlcyA9ICRpbmplY3Rvci5nZXQobmFtZSArIFN1ZmZpeCksXHJcbiAgICAgICAgICAgIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTtcclxuICAgICAgICAgICAgaWYgKChpc1VuZGVmaW5lZChtYXhQcmlvcml0eSkgfHwgbWF4UHJpb3JpdHkgPiBkaXJlY3RpdmUucHJpb3JpdHkpICYmXHJcbiAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlc3RyaWN0LmluZGV4T2YobG9jYXRpb24pICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHN0YXJ0QXR0ck5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZSA9IGluaGVyaXQoZGlyZWN0aXZlLCB7JCRzdGFydDogc3RhcnRBdHRyTmFtZSwgJCRlbmQ6IGVuZEF0dHJOYW1lfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmICghZGlyZWN0aXZlLiQkYmluZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIHZhciBiaW5kaW5ncyA9IGRpcmVjdGl2ZS4kJGJpbmRpbmdzID1cclxuICAgICAgICAgICAgICAgICAgICBwYXJzZURpcmVjdGl2ZUJpbmRpbmdzKGRpcmVjdGl2ZSwgZGlyZWN0aXZlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGJpbmRpbmdzLmlzb2xhdGVTY29wZSkpIHtcclxuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLiQkaXNvbGF0ZUJpbmRpbmdzID0gYmluZGluZ3MuaXNvbGF0ZVNjb3BlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB0RGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSk7XHJcbiAgICAgICAgICAgICAgbWF0Y2ggPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7IH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG1hdGNoO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIGxvb2tzIHVwIHRoZSBkaXJlY3RpdmUgYW5kIHJldHVybnMgdHJ1ZSBpZiBpdCBpcyBhIG11bHRpLWVsZW1lbnQgZGlyZWN0aXZlLFxyXG4gICAgICogYW5kIHRoZXJlZm9yZSByZXF1aXJlcyBET00gbm9kZXMgYmV0d2VlbiAtc3RhcnQgYW5kIC1lbmQgbWFya2VycyB0byBiZSBncm91cGVkXHJcbiAgICAgKiB0b2dldGhlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gbG9vayB1cC5cclxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgZGlyZWN0aXZlIHdhcyByZWdpc3RlcmVkIGFzIG11bHRpLWVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50KG5hbWUpIHtcclxuICAgICAgaWYgKGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuICAgICAgICBmb3IgKHZhciBkaXJlY3RpdmUsIGRpcmVjdGl2ZXMgPSAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBTdWZmaXgpLFxyXG4gICAgICAgICAgICBpID0gMCwgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV07XHJcbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLm11bHRpRWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2hlbiB0aGUgZWxlbWVudCBpcyByZXBsYWNlZCB3aXRoIEhUTUwgdGVtcGxhdGUgdGhlbiB0aGUgbmV3IGF0dHJpYnV0ZXNcclxuICAgICAqIG9uIHRoZSB0ZW1wbGF0ZSBuZWVkIHRvIGJlIG1lcmdlZCB3aXRoIHRoZSBleGlzdGluZyBhdHRyaWJ1dGVzIGluIHRoZSBET00uXHJcbiAgICAgKiBUaGUgZGVzaXJlZCBlZmZlY3QgaXMgdG8gaGF2ZSBib3RoIG9mIHRoZSBhdHRyaWJ1dGVzIHByZXNlbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRzdCBkZXN0aW5hdGlvbiBhdHRyaWJ1dGVzIChvcmlnaW5hbCBET00pXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3JjIHNvdXJjZSBhdHRyaWJ1dGVzIChmcm9tIHRoZSBkaXJlY3RpdmUgdGVtcGxhdGUpXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKGRzdCwgc3JjKSB7XHJcbiAgICAgIHZhciBzcmNBdHRyID0gc3JjLiRhdHRyLFxyXG4gICAgICAgICAgZHN0QXR0ciA9IGRzdC4kYXR0cixcclxuICAgICAgICAgICRlbGVtZW50ID0gZHN0LiQkZWxlbWVudDtcclxuXHJcbiAgICAgIC8vIHJlYXBwbHkgdGhlIG9sZCBhdHRyaWJ1dGVzIHRvIHRoZSBuZXcgZWxlbWVudFxyXG4gICAgICBmb3JFYWNoKGRzdCwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgIGlmIChrZXkuY2hhckF0KDApICE9ICckJykge1xyXG4gICAgICAgICAgaWYgKHNyY1trZXldICYmIHNyY1trZXldICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB2YWx1ZSArPSAoa2V5ID09PSAnc3R5bGUnID8gJzsnIDogJyAnKSArIHNyY1trZXldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZHN0LiRzZXQoa2V5LCB2YWx1ZSwgdHJ1ZSwgc3JjQXR0cltrZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gY29weSB0aGUgbmV3IGF0dHJpYnV0ZXMgb24gdGhlIG9sZCBhdHRycyBvYmplY3RcclxuICAgICAgZm9yRWFjaChzcmMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICBpZiAoa2V5ID09ICdjbGFzcycpIHtcclxuICAgICAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgdmFsdWUpO1xyXG4gICAgICAgICAgZHN0WydjbGFzcyddID0gKGRzdFsnY2xhc3MnXSA/IGRzdFsnY2xhc3MnXSArICcgJyA6ICcnKSArIHZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09ICdzdHlsZScpIHtcclxuICAgICAgICAgICRlbGVtZW50LmF0dHIoJ3N0eWxlJywgJGVsZW1lbnQuYXR0cignc3R5bGUnKSArICc7JyArIHZhbHVlKTtcclxuICAgICAgICAgIGRzdFsnc3R5bGUnXSA9IChkc3RbJ3N0eWxlJ10gPyBkc3RbJ3N0eWxlJ10gKyAnOycgOiAnJykgKyB2YWx1ZTtcclxuICAgICAgICAgIC8vIGBkc3RgIHdpbGwgbmV2ZXIgY29udGFpbiBoYXNPd25Qcm9wZXJ0eSBhcyBET00gcGFyc2VyIHdvbid0IGxldCBpdC5cclxuICAgICAgICAgIC8vIFlvdSB3aWxsIGdldCBhbiBcIkludmFsaWRDaGFyYWN0ZXJFcnJvcjogRE9NIEV4Y2VwdGlvbiA1XCIgZXJyb3IgaWYgeW91XHJcbiAgICAgICAgICAvLyBoYXZlIGFuIGF0dHJpYnV0ZSBsaWtlIFwiaGFzLW93bi1wcm9wZXJ0eVwiIG9yIFwiZGF0YS1oYXMtb3duLXByb3BlcnR5XCIsIGV0Yy5cclxuICAgICAgICB9IGVsc2UgaWYgKGtleS5jaGFyQXQoMCkgIT0gJyQnICYmICFkc3QuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgZHN0W2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgIGRzdEF0dHJba2V5XSA9IHNyY0F0dHJba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBjb21waWxlVGVtcGxhdGVVcmwoZGlyZWN0aXZlcywgJGNvbXBpbGVOb2RlLCB0QXR0cnMsXHJcbiAgICAgICAgJHJvb3RFbGVtZW50LCBjaGlsZFRyYW5zY2x1ZGVGbiwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcclxuICAgICAgdmFyIGxpbmtRdWV1ZSA9IFtdLFxyXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4sXHJcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sXHJcbiAgICAgICAgICBiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlID0gJGNvbXBpbGVOb2RlWzBdLFxyXG4gICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlID0gZGlyZWN0aXZlcy5zaGlmdCgpLFxyXG4gICAgICAgICAgZGVyaXZlZFN5bmNEaXJlY3RpdmUgPSBpbmhlcml0KG9yaWdBc3luY0RpcmVjdGl2ZSwge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogbnVsbCwgdHJhbnNjbHVkZTogbnVsbCwgcmVwbGFjZTogbnVsbCwgJCRvcmlnaW5hbERpcmVjdGl2ZTogb3JpZ0FzeW5jRGlyZWN0aXZlXHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICAgIHRlbXBsYXRlVXJsID0gKGlzRnVuY3Rpb24ob3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKSlcclxuICAgICAgICAgICAgICA/IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCgkY29tcGlsZU5vZGUsIHRBdHRycylcclxuICAgICAgICAgICAgICA6IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCxcclxuICAgICAgICAgIHRlbXBsYXRlTmFtZXNwYWNlID0gb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlO1xyXG5cclxuICAgICAgJGNvbXBpbGVOb2RlLmVtcHR5KCk7XHJcblxyXG4gICAgICAkdGVtcGxhdGVSZXF1ZXN0KHRlbXBsYXRlVXJsKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuICAgICAgICAgIHZhciBjb21waWxlTm9kZSwgdGVtcFRlbXBsYXRlQXR0cnMsICR0ZW1wbGF0ZSwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbjtcclxuXHJcbiAgICAgICAgICBjb250ZW50ID0gZGVub3JtYWxpemVUZW1wbGF0ZShjb250ZW50KTtcclxuXHJcbiAgICAgICAgICBpZiAob3JpZ0FzeW5jRGlyZWN0aXZlLnJlcGxhY2UpIHtcclxuICAgICAgICAgICAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoY29udGVudCkpIHtcclxuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSBbXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSByZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUodGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oY29udGVudCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21waWxlTm9kZSA9ICR0ZW1wbGF0ZVswXTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkdGVtcGxhdGUubGVuZ3RoICE9IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3RwbHJ0JyxcclxuICAgICAgICAgICAgICAgICAgXCJUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlICd7MH0nIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfVwiLFxyXG4gICAgICAgICAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUubmFtZSwgdGVtcGxhdGVVcmwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0ZW1wVGVtcGxhdGVBdHRycyA9IHskYXR0cjoge319O1xyXG4gICAgICAgICAgICByZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsICRjb21waWxlTm9kZSwgY29tcGlsZU5vZGUpO1xyXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCB0ZW1wVGVtcGxhdGVBdHRycyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNPYmplY3Qob3JpZ0FzeW5jRGlyZWN0aXZlLnNjb3BlKSkge1xyXG4gICAgICAgICAgICAgIC8vIHRoZSBvcmlnaW5hbCBkaXJlY3RpdmUgdGhhdCBjYXVzZWQgdGhlIHRlbXBsYXRlIHRvIGJlIGxvYWRlZCBhc3luYyByZXF1aXJlZFxyXG4gICAgICAgICAgICAgIC8vIGFuIGlzb2xhdGUgc2NvcGVcclxuICAgICAgICAgICAgICBtYXJrRGlyZWN0aXZlU2NvcGUodGVtcGxhdGVEaXJlY3RpdmVzLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaXJlY3RpdmVzID0gdGVtcGxhdGVEaXJlY3RpdmVzLmNvbmNhdChkaXJlY3RpdmVzKTtcclxuICAgICAgICAgICAgbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXModEF0dHJzLCB0ZW1wVGVtcGxhdGVBdHRycyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb21waWxlTm9kZSA9IGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGU7XHJcbiAgICAgICAgICAgICRjb21waWxlTm9kZS5odG1sKGNvbnRlbnQpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGRpcmVjdGl2ZXMudW5zaGlmdChkZXJpdmVkU3luY0RpcmVjdGl2ZSk7XHJcblxyXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4gPSBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgY29tcGlsZU5vZGUsIHRBdHRycyxcclxuICAgICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiwgJGNvbXBpbGVOb2RlLCBvcmlnQXN5bmNEaXJlY3RpdmUsIHByZUxpbmtGbnMsIHBvc3RMaW5rRm5zLFxyXG4gICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpO1xyXG4gICAgICAgICAgZm9yRWFjaCgkcm9vdEVsZW1lbnQsIGZ1bmN0aW9uKG5vZGUsIGkpIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUgPT0gY29tcGlsZU5vZGUpIHtcclxuICAgICAgICAgICAgICAkcm9vdEVsZW1lbnRbaV0gPSAkY29tcGlsZU5vZGVbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuID0gY29tcGlsZU5vZGVzKCRjb21waWxlTm9kZVswXS5jaGlsZE5vZGVzLCBjaGlsZFRyYW5zY2x1ZGVGbik7XHJcblxyXG4gICAgICAgICAgd2hpbGUgKGxpbmtRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHNjb3BlID0gbGlua1F1ZXVlLnNoaWZ0KCksXHJcbiAgICAgICAgICAgICAgICBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlID0gbGlua1F1ZXVlLnNoaWZ0KCksXHJcbiAgICAgICAgICAgICAgICBsaW5rUm9vdEVsZW1lbnQgPSBsaW5rUXVldWUuc2hpZnQoKSxcclxuICAgICAgICAgICAgICAgIGJvdW5kVHJhbnNjbHVkZUZuID0gbGlua1F1ZXVlLnNoaWZ0KCksXHJcbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9ICRjb21waWxlTm9kZVswXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzY29wZS4kJGRlc3Ryb3llZCkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSAhPT0gYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSkge1xyXG4gICAgICAgICAgICAgIHZhciBvbGRDbGFzc2VzID0gYmVmb3JlVGVtcGxhdGVMaW5rTm9kZS5jbGFzc05hbWU7XHJcblxyXG4gICAgICAgICAgICAgIGlmICghKHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgJiZcclxuICAgICAgICAgICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlLnJlcGxhY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY2xvbmVkIHRoZXJlZm9yZSB3ZSBoYXZlIHRvIGNsb25lIGFzIHdlbGwuXHJcbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9IGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmVwbGFjZVdpdGgobGlua1Jvb3RFbGVtZW50LCBqcUxpdGUoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSksIGxpbmtOb2RlKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ29weSBpbiBDU1MgY2xhc3NlcyBmcm9tIG9yaWdpbmFsIG5vZGVcclxuICAgICAgICAgICAgICBzYWZlQWRkQ2xhc3MoanFMaXRlKGxpbmtOb2RlKSwgb2xkQ2xhc3Nlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLCBib3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiwgc2NvcGUsIGxpbmtOb2RlLCAkcm9vdEVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsaW5rUXVldWUgPSBudWxsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlbGF5ZWROb2RlTGlua0ZuKGlnbm9yZUNoaWxkTGlua0ZuLCBzY29wZSwgbm9kZSwgcm9vdEVsZW1lbnQsIGJvdW5kVHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBib3VuZFRyYW5zY2x1ZGVGbjtcclxuICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcclxuICAgICAgICBpZiAobGlua1F1ZXVlKSB7XHJcbiAgICAgICAgICBsaW5rUXVldWUucHVzaChzY29wZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICByb290RWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLCBib3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sIHNjb3BlLCBub2RlLCByb290RWxlbWVudCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvcnRpbmcgZnVuY3Rpb24gZm9yIGJvdW5kIGRpcmVjdGl2ZXMuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGJ5UHJpb3JpdHkoYSwgYikge1xyXG4gICAgICB2YXIgZGlmZiA9IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5O1xyXG4gICAgICBpZiAoZGlmZiAhPT0gMCkgcmV0dXJuIGRpZmY7XHJcbiAgICAgIGlmIChhLm5hbWUgIT09IGIubmFtZSkgcmV0dXJuIChhLm5hbWUgPCBiLm5hbWUpID8gLTEgOiAxO1xyXG4gICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXNzZXJ0Tm9EdXBsaWNhdGUod2hhdCwgcHJldmlvdXNEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgZWxlbWVudCkge1xyXG5cclxuICAgICAgZnVuY3Rpb24gd3JhcE1vZHVsZU5hbWVJZkRlZmluZWQobW9kdWxlTmFtZSkge1xyXG4gICAgICAgIHJldHVybiBtb2R1bGVOYW1lID9cclxuICAgICAgICAgICgnIChtb2R1bGU6ICcgKyBtb2R1bGVOYW1lICsgJyknKSA6XHJcbiAgICAgICAgICAnJztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHByZXZpb3VzRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ211bHRpZGlyJywgJ011bHRpcGxlIGRpcmVjdGl2ZXMgW3swfXsxfSwgezJ9ezN9XSBhc2tpbmcgZm9yIHs0fSBvbjogezV9JyxcclxuICAgICAgICAgICAgcHJldmlvdXNEaXJlY3RpdmUubmFtZSwgd3JhcE1vZHVsZU5hbWVJZkRlZmluZWQocHJldmlvdXNEaXJlY3RpdmUuJCRtb2R1bGVOYW1lKSxcclxuICAgICAgICAgICAgZGlyZWN0aXZlLm5hbWUsIHdyYXBNb2R1bGVOYW1lSWZEZWZpbmVkKGRpcmVjdGl2ZS4kJG1vZHVsZU5hbWUpLCB3aGF0LCBzdGFydGluZ1RhZyhlbGVtZW50KSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIHRleHQpIHtcclxuICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUodGV4dCwgdHJ1ZSk7XHJcbiAgICAgIGlmIChpbnRlcnBvbGF0ZUZuKSB7XHJcbiAgICAgICAgZGlyZWN0aXZlcy5wdXNoKHtcclxuICAgICAgICAgIHByaW9yaXR5OiAwLFxyXG4gICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gdGV4dEludGVycG9sYXRlQ29tcGlsZUZuKHRlbXBsYXRlTm9kZSkge1xyXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVOb2RlUGFyZW50ID0gdGVtcGxhdGVOb2RlLnBhcmVudCgpLFxyXG4gICAgICAgICAgICAgICAgaGFzQ29tcGlsZVBhcmVudCA9ICEhdGVtcGxhdGVOb2RlUGFyZW50Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIC8vIFdoZW4gdHJhbnNjbHVkaW5nIGEgdGVtcGxhdGUgdGhhdCBoYXMgYmluZGluZ3MgaW4gdGhlIHJvb3RcclxuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgaGF2ZSBhIHBhcmVudCBhbmQgdGh1cyBuZWVkIHRvIGFkZCB0aGUgY2xhc3MgZHVyaW5nIGxpbmtpbmcgZm4uXHJcbiAgICAgICAgICAgIGlmIChoYXNDb21waWxlUGFyZW50KSBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlTm9kZVBhcmVudCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGV4dEludGVycG9sYXRlTGlua0ZuKHNjb3BlLCBub2RlKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50KCk7XHJcbiAgICAgICAgICAgICAgaWYgKCFoYXNDb21waWxlUGFyZW50KSBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHBhcmVudCk7XHJcbiAgICAgICAgICAgICAgY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKHBhcmVudCwgaW50ZXJwb2xhdGVGbi5leHByZXNzaW9ucyk7XHJcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaEFjdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgbm9kZVswXS5ub2RlVmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiB3cmFwVGVtcGxhdGUodHlwZSwgdGVtcGxhdGUpIHtcclxuICAgICAgdHlwZSA9IGxvd2VyY2FzZSh0eXBlIHx8ICdodG1sJyk7XHJcbiAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlICdzdmcnOlxyXG4gICAgICBjYXNlICdtYXRoJzpcclxuICAgICAgICB2YXIgd3JhcHBlciA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICc8JyArIHR5cGUgKyAnPicgKyB0ZW1wbGF0ZSArICc8LycgKyB0eXBlICsgJz4nO1xyXG4gICAgICAgIHJldHVybiB3cmFwcGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2RlcztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSwgYXR0ck5vcm1hbGl6ZWROYW1lKSB7XHJcbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJzcmNkb2NcIikge1xyXG4gICAgICAgIHJldHVybiAkc2NlLkhUTUw7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHRhZyA9IG5vZGVOYW1lXyhub2RlKTtcclxuICAgICAgLy8gbWFjdGlvblt4bGluazpocmVmXSBjYW4gc291cmNlIFNWRy4gIEl0J3Mgbm90IGxpbWl0ZWQgdG8gPG1hY3Rpb24+LlxyXG4gICAgICBpZiAoYXR0ck5vcm1hbGl6ZWROYW1lID09IFwieGxpbmtIcmVmXCIgfHxcclxuICAgICAgICAgICh0YWcgPT0gXCJmb3JtXCIgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09IFwiYWN0aW9uXCIpIHx8XHJcbiAgICAgICAgICAodGFnICE9IFwiaW1nXCIgJiYgKGF0dHJOb3JtYWxpemVkTmFtZSA9PSBcInNyY1wiIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJuZ1NyY1wiKSkpIHtcclxuICAgICAgICByZXR1cm4gJHNjZS5SRVNPVVJDRV9VUkw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlKG5vZGUsIGRpcmVjdGl2ZXMsIHZhbHVlLCBuYW1lLCBhbGxPck5vdGhpbmcpIHtcclxuICAgICAgdmFyIHRydXN0ZWRDb250ZXh0ID0gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSwgbmFtZSk7XHJcbiAgICAgIGFsbE9yTm90aGluZyA9IEFMTF9PUl9OT1RISU5HX0FUVFJTW25hbWVdIHx8IGFsbE9yTm90aGluZztcclxuXHJcbiAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKHZhbHVlLCB0cnVlLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKTtcclxuXHJcbiAgICAgIC8vIG5vIGludGVycG9sYXRpb24gZm91bmQgLT4gaWdub3JlXHJcbiAgICAgIGlmICghaW50ZXJwb2xhdGVGbikgcmV0dXJuO1xyXG5cclxuXHJcbiAgICAgIGlmIChuYW1lID09PSBcIm11bHRpcGxlXCIgJiYgbm9kZU5hbWVfKG5vZGUpID09PSBcInNlbGVjdFwiKSB7XHJcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoXCJzZWxtdWx0aVwiLFxyXG4gICAgICAgICAgICBcIkJpbmRpbmcgdG8gdGhlICdtdWx0aXBsZScgYXR0cmlidXRlIGlzIG5vdCBzdXBwb3J0ZWQuIEVsZW1lbnQ6IHswfVwiLFxyXG4gICAgICAgICAgICBzdGFydGluZ1RhZyhub2RlKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XHJcbiAgICAgICAgcHJpb3JpdHk6IDEwMCxcclxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBwcmU6IGZ1bmN0aW9uIGF0dHJJbnRlcnBvbGF0ZVByZUxpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgdmFyICQkb2JzZXJ2ZXJzID0gKGF0dHIuJCRvYnNlcnZlcnMgfHwgKGF0dHIuJCRvYnNlcnZlcnMgPSBjcmVhdGVNYXAoKSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQLnRlc3QobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vZG9tZXZlbnRzJyxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiSW50ZXJwb2xhdGlvbnMgZm9yIEhUTUwgRE9NIGV2ZW50IGF0dHJpYnV0ZXMgYXJlIGRpc2FsbG93ZWQuICBQbGVhc2UgdXNlIHRoZSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuZy0gdmVyc2lvbnMgKHN1Y2ggYXMgbmctY2xpY2sgaW5zdGVhZCBvZiBvbmNsaWNrKSBpbnN0ZWFkLlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBjaGFuZ2VkIHNpbmNlIGxhc3QgJGludGVycG9sYXRlKCllZFxyXG4gICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gYXR0cltuYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBpbnRlcnBvbGF0ZSBhZ2FpbiBzaW5jZSB0aGUgYXR0cmlidXRlIHZhbHVlIGhhcyBiZWVuIHVwZGF0ZWRcclxuICAgICAgICAgICAgICAgICAgLy8gKGUuZy4gYnkgYW5vdGhlciBkaXJlY3RpdmUncyBjb21waWxlIGZ1bmN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdW5zZXQvZW1wdHkgdmFsdWVzIG1ha2UgaW50ZXJwb2xhdGVGbiBmYWxzeVxyXG4gICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZUZuID0gbmV3VmFsdWUgJiYgJGludGVycG9sYXRlKG5ld1ZhbHVlLCB0cnVlLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKTtcclxuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiBhdHRyaWJ1dGUgd2FzIHVwZGF0ZWQgc28gdGhhdCB0aGVyZSBpcyBubyBpbnRlcnBvbGF0aW9uIGdvaW5nIG9uIHdlIGRvbid0IHdhbnQgdG9cclxuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIGFueSBvYnNlcnZlcnNcclxuICAgICAgICAgICAgICAgIGlmICghaW50ZXJwb2xhdGVGbikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgYXR0ciBvYmplY3Qgc28gdGhhdCBpdCdzIHJlYWR5IGluIGNhc2Ugd2UgbmVlZCB0aGUgdmFsdWUgZm9yIGlzb2xhdGVcclxuICAgICAgICAgICAgICAgIC8vIHNjb3BlIGluaXRpYWxpemF0aW9uLCBvdGhlcndpc2UgdGhlIHZhbHVlIHdvdWxkIG5vdCBiZSBhdmFpbGFibGUgZnJvbSBpc29sYXRlXHJcbiAgICAgICAgICAgICAgICAvLyBkaXJlY3RpdmUncyBsaW5raW5nIGZuIGR1cmluZyBsaW5raW5nIHBoYXNlXHJcbiAgICAgICAgICAgICAgICBhdHRyW25hbWVdID0gaW50ZXJwb2xhdGVGbihzY29wZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgKCQkb2JzZXJ2ZXJzW25hbWVdIHx8ICgkJG9ic2VydmVyc1tuYW1lXSA9IFtdKSkuJCRpbnRlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAoYXR0ci4kJG9ic2VydmVycyAmJiBhdHRyLiQkb2JzZXJ2ZXJzW25hbWVdLiQkc2NvcGUgfHwgc2NvcGUpLlxyXG4gICAgICAgICAgICAgICAgICAkd2F0Y2goaW50ZXJwb2xhdGVGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVGbldhdGNoQWN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc3BlY2lhbCBjYXNlIGZvciBjbGFzcyBhdHRyaWJ1dGUgYWRkaXRpb24gKyByZW1vdmFsXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zbyB0aGF0IGNsYXNzIGNoYW5nZXMgY2FuIHRhcCBpbnRvIHRoZSBhbmltYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAvL2hvb2tzIHByb3ZpZGVkIGJ5IHRoZSAkYW5pbWF0ZSBzZXJ2aWNlLiBCZSBzdXJlIHRvXHJcbiAgICAgICAgICAgICAgICAgICAgLy9za2lwIGFuaW1hdGlvbnMgd2hlbiB0aGUgZmlyc3QgZGlnZXN0IG9jY3VycyAod2hlblxyXG4gICAgICAgICAgICAgICAgICAgIC8vYm90aCB0aGUgbmV3IGFuZCB0aGUgb2xkIHZhbHVlcyBhcmUgdGhlIHNhbWUpIHNpbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgQ1NTIGNsYXNzZXMgYXJlIHRoZSBub24taW50ZXJwb2xhdGVkIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAnY2xhc3MnICYmIG5ld1ZhbHVlICE9IG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyLiR1cGRhdGVDbGFzcyhuZXdWYWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyLiRzZXQobmFtZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGlzIGEgc3BlY2lhbCBqcUxpdGUucmVwbGFjZVdpdGgsIHdoaWNoIGNhbiByZXBsYWNlIGl0ZW1zIHdoaWNoXHJcbiAgICAgKiBoYXZlIG5vIHBhcmVudHMsIHByb3ZpZGVkIHRoYXQgdGhlIGNvbnRhaW5pbmcganFMaXRlIGNvbGxlY3Rpb24gaXMgcHJvdmlkZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtKcUxpdGU9fSAkcm9vdEVsZW1lbnQgVGhlIHJvb3Qgb2YgdGhlIGNvbXBpbGUgdHJlZS4gVXNlZCBzbyB0aGF0IHdlIGNhbiByZXBsYWNlIG5vZGVzXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgcm9vdCBvZiB0aGUgdHJlZS5cclxuICAgICAqIEBwYXJhbSB7SnFMaXRlfSBlbGVtZW50c1RvUmVtb3ZlIFRoZSBqcUxpdGUgZWxlbWVudCB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gcmVwbGFjZS4gV2Uga2VlcFxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIHNoZWxsLCBidXQgcmVwbGFjZSBpdHMgRE9NIG5vZGUgcmVmZXJlbmNlLlxyXG4gICAgICogQHBhcmFtIHtOb2RlfSBuZXdOb2RlIFRoZSBuZXcgRE9NIG5vZGUuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwgZWxlbWVudHNUb1JlbW92ZSwgbmV3Tm9kZSkge1xyXG4gICAgICB2YXIgZmlyc3RFbGVtZW50VG9SZW1vdmUgPSBlbGVtZW50c1RvUmVtb3ZlWzBdLFxyXG4gICAgICAgICAgcmVtb3ZlQ291bnQgPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCxcclxuICAgICAgICAgIHBhcmVudCA9IGZpcnN0RWxlbWVudFRvUmVtb3ZlLnBhcmVudE5vZGUsXHJcbiAgICAgICAgICBpLCBpaTtcclxuXHJcbiAgICAgIGlmICgkcm9vdEVsZW1lbnQpIHtcclxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9ICRyb290RWxlbWVudC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50W2ldID09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICRyb290RWxlbWVudFtpKytdID0gbmV3Tm9kZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGksIGoyID0gaiArIHJlbW92ZUNvdW50IC0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgamogPSAkcm9vdEVsZW1lbnQubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgIGogPCBqajsgaisrLCBqMisrKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGoyIDwgamopIHtcclxuICAgICAgICAgICAgICAgICRyb290RWxlbWVudFtqXSA9ICRyb290RWxlbWVudFtqMl07XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSAkcm9vdEVsZW1lbnRbal07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRyb290RWxlbWVudC5sZW5ndGggLT0gcmVtb3ZlQ291bnQgLSAxO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIHJlcGxhY2VkIGVsZW1lbnQgaXMgYWxzbyB0aGUgalF1ZXJ5IC5jb250ZXh0IHRoZW4gcmVwbGFjZSBpdFxyXG4gICAgICAgICAgICAvLyAuY29udGV4dCBpcyBhIGRlcHJlY2F0ZWQgalF1ZXJ5IGFwaSwgc28gd2Ugc2hvdWxkIHNldCBpdCBvbmx5IHdoZW4galF1ZXJ5IHNldCBpdFxyXG4gICAgICAgICAgICAvLyBodHRwOi8vYXBpLmpxdWVyeS5jb20vY29udGV4dC9cclxuICAgICAgICAgICAgaWYgKCRyb290RWxlbWVudC5jb250ZXh0ID09PSBmaXJzdEVsZW1lbnRUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICRyb290RWxlbWVudC5jb250ZXh0ID0gbmV3Tm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5ld05vZGUsIGZpcnN0RWxlbWVudFRvUmVtb3ZlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQXBwZW5kIGFsbCB0aGUgYGVsZW1lbnRzVG9SZW1vdmVgIHRvIGEgZnJhZ21lbnQuIFRoaXMgd2lsbC4uLlxyXG4gICAgICAvLyAtIHJlbW92ZSB0aGVtIGZyb20gdGhlIERPTVxyXG4gICAgICAvLyAtIGFsbG93IHRoZW0gdG8gc3RpbGwgYmUgdHJhdmVyc2VkIHdpdGggLm5leHRTaWJsaW5nXHJcbiAgICAgIC8vIC0gYWxsb3cgYSBzaW5nbGUgZnJhZ21lbnQucVNBIHRvIGZldGNoIGFsbCBlbGVtZW50cyBiZWluZyByZW1vdmVkXHJcbiAgICAgIHZhciBmcmFnbWVudCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCByZW1vdmVDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudHNUb1JlbW92ZVtpXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChqcUxpdGUuaGFzRGF0YShmaXJzdEVsZW1lbnRUb1JlbW92ZSkpIHtcclxuICAgICAgICAvLyBDb3B5IG92ZXIgdXNlciBkYXRhICh0aGF0IGluY2x1ZGVzIEFuZ3VsYXIncyAkc2NvcGUgZXRjLikuIERvbid0IGNvcHkgcHJpdmF0ZVxyXG4gICAgICAgIC8vIGRhdGEgaGVyZSBiZWNhdXNlIHRoZXJlJ3Mgbm8gcHVibGljIGludGVyZmFjZSBpbiBqUXVlcnkgdG8gZG8gdGhhdCBhbmQgY29weWluZyBvdmVyXHJcbiAgICAgICAgLy8gZXZlbnQgbGlzdGVuZXJzICh3aGljaCBpcyB0aGUgbWFpbiB1c2Ugb2YgcHJpdmF0ZSBkYXRhKSB3b3VsZG4ndCB3b3JrIGFueXdheS5cclxuICAgICAgICBqcUxpdGUuZGF0YShuZXdOb2RlLCBqcUxpdGUuZGF0YShmaXJzdEVsZW1lbnRUb1JlbW92ZSkpO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgJGRlc3Ryb3kgZXZlbnQgbGlzdGVuZXJzIGZyb20gYGZpcnN0RWxlbWVudFRvUmVtb3ZlYFxyXG4gICAgICAgIGpxTGl0ZShmaXJzdEVsZW1lbnRUb1JlbW92ZSkub2ZmKCckZGVzdHJveScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDbGVhbnVwIGFueSBkYXRhL2xpc3RlbmVycyBvbiB0aGUgZWxlbWVudHMgYW5kIGNoaWxkcmVuLlxyXG4gICAgICAvLyBUaGlzIGluY2x1ZGVzIGludm9raW5nIHRoZSAkZGVzdHJveSBldmVudCBvbiBhbnkgZWxlbWVudHMgd2l0aCBsaXN0ZW5lcnMuXHJcbiAgICAgIGpxTGl0ZS5jbGVhbkRhdGEoZnJhZ21lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpKTtcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUganFMaXRlIGNvbGxlY3Rpb24gdG8gb25seSBjb250YWluIHRoZSBgbmV3Tm9kZWBcclxuICAgICAgZm9yIChpID0gMTsgaSA8IHJlbW92ZUNvdW50OyBpKyspIHtcclxuICAgICAgICBkZWxldGUgZWxlbWVudHNUb1JlbW92ZVtpXTtcclxuICAgICAgfVxyXG4gICAgICBlbGVtZW50c1RvUmVtb3ZlWzBdID0gbmV3Tm9kZTtcclxuICAgICAgZWxlbWVudHNUb1JlbW92ZS5sZW5ndGggPSAxO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBjbG9uZUFuZEFubm90YXRlRm4oZm4sIGFubm90YXRpb24pIHtcclxuICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbigpIHsgcmV0dXJuIGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH0sIGZuLCBhbm5vdGF0aW9uKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gaW52b2tlTGlua0ZuKGxpbmtGbiwgc2NvcGUsICRlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbikge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGxpbmtGbihzY29wZSwgJGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gU2V0IHVwICR3YXRjaGVzIGZvciBpc29sYXRlIHNjb3BlIGFuZCBjb250cm9sbGVyIGJpbmRpbmdzLiBUaGlzIHByb2Nlc3NcclxuICAgIC8vIG9ubHkgb2NjdXJzIGZvciBpc29sYXRlIHNjb3BlcyBhbmQgbmV3IHNjb3BlcyB3aXRoIGNvbnRyb2xsZXJBcy5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyhzY29wZSwgYXR0cnMsIGRlc3RpbmF0aW9uLCBiaW5kaW5ncywgZGlyZWN0aXZlKSB7XHJcbiAgICAgIHZhciByZW1vdmVXYXRjaENvbGxlY3Rpb24gPSBbXTtcclxuICAgICAgdmFyIGluaXRpYWxDaGFuZ2VzID0ge307XHJcbiAgICAgIHZhciBjaGFuZ2VzO1xyXG4gICAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbiBpbml0aWFsaXplQmluZGluZyhkZWZpbml0aW9uLCBzY29wZU5hbWUpIHtcclxuICAgICAgICB2YXIgYXR0ck5hbWUgPSBkZWZpbml0aW9uLmF0dHJOYW1lLFxyXG4gICAgICAgIG9wdGlvbmFsID0gZGVmaW5pdGlvbi5vcHRpb25hbCxcclxuICAgICAgICBtb2RlID0gZGVmaW5pdGlvbi5tb2RlLCAvLyBALCA9LCBvciAmXHJcbiAgICAgICAgbGFzdFZhbHVlLFxyXG4gICAgICAgIHBhcmVudEdldCwgcGFyZW50U2V0LCBjb21wYXJlLCByZW1vdmVXYXRjaDtcclxuXHJcbiAgICAgICAgc3dpdGNoIChtb2RlKSB7XHJcblxyXG4gICAgICAgICAgY2FzZSAnQCc6XHJcbiAgICAgICAgICAgIGlmICghb3B0aW9uYWwgJiYgIWhhc093blByb3BlcnR5LmNhbGwoYXR0cnMsIGF0dHJOYW1lKSkge1xyXG4gICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBhdHRyc1thdHRyTmFtZV0gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fCBpc0Jvb2xlYW4odmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdO1xyXG4gICAgICAgICAgICAgICAgcmVjb3JkQ2hhbmdlcyhzY29wZU5hbWUsIHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYXR0cnMuJCRvYnNlcnZlcnNbYXR0ck5hbWVdLiQkc2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgbGFzdFZhbHVlID0gYXR0cnNbYXR0ck5hbWVdO1xyXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcobGFzdFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIGJlZW4gcHJvdmlkZWQgdGhlbiB3ZSB0cmlnZ2VyIGFuIGludGVycG9sYXRpb24gdG8gZW5zdXJlXHJcbiAgICAgICAgICAgICAgLy8gdGhlIHZhbHVlIGlzIHRoZXJlIGZvciB1c2UgaW4gdGhlIGxpbmsgZm5cclxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gJGludGVycG9sYXRlKGxhc3RWYWx1ZSkoc2NvcGUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQm9vbGVhbihsYXN0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZXMgaXMgb25lIG9mIHRoZSBCT09MRUFOX0FUVFIgdGhlbiBBbmd1bGFyIHdpbGwgaGF2ZSBjb252ZXJ0ZWRcclxuICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgdG8gYm9vbGVhbiByYXRoZXIgdGhhbiBhIHN0cmluZywgc28gd2Ugc3BlY2lhbCBjYXNlIHRoaXMgc2l0dWF0aW9uXHJcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IGxhc3RWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbml0aWFsQ2hhbmdlc1tzY29wZU5hbWVdID0gbmV3IFNpbXBsZUNoYW5nZShfVU5JTklUSUFMSVpFRF9WQUxVRSwgZGVzdGluYXRpb25bc2NvcGVOYW1lXSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgJz0nOlxyXG4gICAgICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwoYXR0cnMsIGF0dHJOYW1lKSkge1xyXG4gICAgICAgICAgICAgIGlmIChvcHRpb25hbCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdID0gdm9pZCAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25hbCAmJiAhYXR0cnNbYXR0ck5hbWVdKSBicmVhaztcclxuXHJcbiAgICAgICAgICAgIHBhcmVudEdldCA9ICRwYXJzZShhdHRyc1thdHRyTmFtZV0pO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50R2V0LmxpdGVyYWwpIHtcclxuICAgICAgICAgICAgICBjb21wYXJlID0gZXF1YWxzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbXBhcmUgPSBmdW5jdGlvbiBzaW1wbGVDb21wYXJlKGEsIGIpIHsgcmV0dXJuIGEgPT09IGIgfHwgKGEgIT09IGEgJiYgYiAhPT0gYik7IH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFyZW50U2V0ID0gcGFyZW50R2V0LmFzc2lnbiB8fCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAvLyByZXNldCB0aGUgY2hhbmdlLCBvciB3ZSB3aWxsIHRocm93IHRoaXMgZXhjZXB0aW9uIG9uIGV2ZXJ5ICRkaWdlc3RcclxuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcclxuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9uYXNzaWduJyxcclxuICAgICAgICAgICAgICAgICAgXCJFeHByZXNzaW9uICd7MH0nIGluIGF0dHJpYnV0ZSAnezF9JyB1c2VkIHdpdGggZGlyZWN0aXZlICd7Mn0nIGlzIG5vbi1hc3NpZ25hYmxlIVwiLFxyXG4gICAgICAgICAgICAgICAgICBhdHRyc1thdHRyTmFtZV0sIGF0dHJOYW1lLCBkaXJlY3RpdmUubmFtZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpO1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50VmFsdWVXYXRjaCA9IGZ1bmN0aW9uIHBhcmVudFZhbHVlV2F0Y2gocGFyZW50VmFsdWUpIHtcclxuICAgICAgICAgICAgICBpZiAoIWNvbXBhcmUocGFyZW50VmFsdWUsIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgb3V0IG9mIHN5bmMgYW5kIG5lZWQgdG8gY29weVxyXG4gICAgICAgICAgICAgICAgaWYgKCFjb21wYXJlKHBhcmVudFZhbHVlLCBsYXN0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIHBhcmVudCBjaGFuZ2VkIGFuZCBpdCBoYXMgcHJlY2VkZW5jZVxyXG4gICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcGFyZW50IGNhbiBiZSBhc3NpZ25lZCB0aGVuIGRvIHNvXHJcbiAgICAgICAgICAgICAgICAgIHBhcmVudFNldChzY29wZSwgcGFyZW50VmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGxhc3RWYWx1ZSA9IHBhcmVudFZhbHVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBwYXJlbnRWYWx1ZVdhdGNoLiRzdGF0ZWZ1bCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLmNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlLiR3YXRjaCgkcGFyc2UoYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKSwgbnVsbCwgcGFyZW50R2V0LmxpdGVyYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlbW92ZVdhdGNoQ29sbGVjdGlvbi5wdXNoKHJlbW92ZVdhdGNoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSAnPCc6XHJcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywgYXR0ck5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKSBicmVhaztcclxuICAgICAgICAgICAgICBhdHRyc1thdHRyTmFtZV0gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9wdGlvbmFsICYmICFhdHRyc1thdHRyTmFtZV0pIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgcGFyZW50R2V0ID0gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSk7XHJcblxyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcclxuICAgICAgICAgICAgaW5pdGlhbENoYW5nZXNbc2NvcGVOYW1lXSA9IG5ldyBTaW1wbGVDaGFuZ2UoX1VOSU5JVElBTElaRURfVkFMVUUsIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pO1xyXG5cclxuICAgICAgICAgICAgcmVtb3ZlV2F0Y2ggPSBzY29wZS4kd2F0Y2gocGFyZW50R2V0LCBmdW5jdGlvbiBwYXJlbnRWYWx1ZVdhdGNoQWN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBuZXcgYW5kIG9sZCB2YWx1ZXMgYXJlIGlkZW50aWNhbCB0aGVuIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgdGhlIHdhdGNoIGhhcyBiZWVuIHRyaWdnZXJlZFxyXG4gICAgICAgICAgICAgICAgLy8gU28gaW5zdGVhZCB3ZSB1c2UgdGhlIGN1cnJlbnQgdmFsdWUgb24gdGhlIGRlc3RpbmF0aW9uIGFzIHRoZSBvbGQgdmFsdWVcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmVjb3JkQ2hhbmdlcyhzY29wZU5hbWUsIG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICB9LCBwYXJlbnRHZXQubGl0ZXJhbCk7XHJcblxyXG4gICAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb24ucHVzaChyZW1vdmVXYXRjaCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgJyYnOlxyXG4gICAgICAgICAgICAvLyBEb24ndCBhc3NpZ24gT2JqZWN0LnByb3RvdHlwZSBtZXRob2QgdG8gc2NvcGVcclxuICAgICAgICAgICAgcGFyZW50R2V0ID0gYXR0cnMuaGFzT3duUHJvcGVydHkoYXR0ck5hbWUpID8gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSkgOiBub29wO1xyXG5cclxuICAgICAgICAgICAgLy8gRG9uJ3QgYXNzaWduIG5vb3AgdG8gZGVzdGluYXRpb24gaWYgZXhwcmVzc2lvbiBpcyBub3QgdmFsaWRcclxuICAgICAgICAgICAgaWYgKHBhcmVudEdldCA9PT0gbm9vcCAmJiBvcHRpb25hbCkgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gZnVuY3Rpb24obG9jYWxzKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudEdldChzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJlY29yZENoYW5nZXMoa2V5LCBjdXJyZW50VmFsdWUsIHByZXZpb3VzVmFsdWUpIHtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihkZXN0aW5hdGlvbi4kb25DaGFuZ2VzKSAmJiBjdXJyZW50VmFsdWUgIT09IHByZXZpb3VzVmFsdWUpIHtcclxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgbm90IGFscmVhZHkgc2NoZWR1bGVkIHRoZSB0b3AgbGV2ZWwgb25DaGFuZ2VzUXVldWUgaGFuZGxlciB0aGVuIGRvIHNvIG5vd1xyXG4gICAgICAgICAgaWYgKCFvbkNoYW5nZXNRdWV1ZSkge1xyXG4gICAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QoZmx1c2hPbkNoYW5nZXNRdWV1ZSk7XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlID0gW107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vdCBhbHJlYWR5IHF1ZXVlZCBhIHRyaWdnZXIgb2Ygb25DaGFuZ2VzIGZvciB0aGlzIGNvbnRyb2xsZXIgdGhlbiBkbyBzbyBub3dcclxuICAgICAgICAgIGlmICghY2hhbmdlcykge1xyXG4gICAgICAgICAgICBjaGFuZ2VzID0ge307XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlLnB1c2godHJpZ2dlck9uQ2hhbmdlc0hvb2spO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gSWYgdGhlIGhhcyBiZWVuIGEgY2hhbmdlIG9uIHRoaXMgcHJvcGVydHkgYWxyZWFkeSB0aGVuIHdlIG5lZWQgdG8gcmV1c2UgdGhlIHByZXZpb3VzIHZhbHVlXHJcbiAgICAgICAgICBpZiAoY2hhbmdlc1trZXldKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzVmFsdWUgPSBjaGFuZ2VzW2tleV0ucHJldmlvdXNWYWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIFN0b3JlIHRoaXMgY2hhbmdlXHJcbiAgICAgICAgICBjaGFuZ2VzW2tleV0gPSBuZXcgU2ltcGxlQ2hhbmdlKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiB0cmlnZ2VyT25DaGFuZ2VzSG9vaygpIHtcclxuICAgICAgICBkZXN0aW5hdGlvbi4kb25DaGFuZ2VzKGNoYW5nZXMpO1xyXG4gICAgICAgIC8vIE5vdyBjbGVhciB0aGUgY2hhbmdlcyBzbyB0aGF0IHdlIHNjaGVkdWxlIG9uQ2hhbmdlcyB3aGVuIG1vcmUgY2hhbmdlcyBhcnJpdmVcclxuICAgICAgICBjaGFuZ2VzID0gdW5kZWZpbmVkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXRpYWxDaGFuZ2VzOiBpbml0aWFsQ2hhbmdlcyxcclxuICAgICAgICByZW1vdmVXYXRjaGVzOiByZW1vdmVXYXRjaENvbGxlY3Rpb24ubGVuZ3RoICYmIGZ1bmN0aW9uIHJlbW92ZVdhdGNoZXMoKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByZW1vdmVXYXRjaENvbGxlY3Rpb24ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xyXG4gICAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb25baV0oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNpbXBsZUNoYW5nZShwcmV2aW91cywgY3VycmVudCkge1xyXG4gIHRoaXMucHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzO1xyXG4gIHRoaXMuY3VycmVudFZhbHVlID0gY3VycmVudDtcclxufVxyXG5TaW1wbGVDaGFuZ2UucHJvdG90eXBlLmlzRmlyc3RDaGFuZ2UgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucHJldmlvdXNWYWx1ZSA9PT0gX1VOSU5JVElBTElaRURfVkFMVUU7IH07XHJcblxyXG5cclxudmFyIFBSRUZJWF9SRUdFWFAgPSAvXigoPzp4fGRhdGEpW1xcOlxcLV9dKS9pO1xyXG4vKipcclxuICogQ29udmVydHMgYWxsIGFjY2VwdGVkIGRpcmVjdGl2ZXMgZm9ybWF0IGludG8gcHJvcGVyIGRpcmVjdGl2ZSBuYW1lLlxyXG4gKiBAcGFyYW0gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxyXG4gKi9cclxuZnVuY3Rpb24gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUpIHtcclxuICByZXR1cm4gY2FtZWxDYXNlKG5hbWUucmVwbGFjZShQUkVGSVhfUkVHRVhQLCAnJykpO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHR5cGVcclxuICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEEgc2hhcmVkIG9iamVjdCBiZXR3ZWVuIGRpcmVjdGl2ZSBjb21waWxlIC8gbGlua2luZyBmdW5jdGlvbnMgd2hpY2ggY29udGFpbnMgbm9ybWFsaXplZCBET01cclxuICogZWxlbWVudCBhdHRyaWJ1dGVzLiBUaGUgdmFsdWVzIHJlZmxlY3QgY3VycmVudCBiaW5kaW5nIHN0YXRlIGB7eyB9fWAuIFRoZSBub3JtYWxpemF0aW9uIGlzXHJcbiAqIG5lZWRlZCBzaW5jZSBhbGwgb2YgdGhlc2UgYXJlIHRyZWF0ZWQgYXMgZXF1aXZhbGVudCBpbiBBbmd1bGFyOlxyXG4gKlxyXG4gKiBgYGBcclxuICogICAgPHNwYW4gbmc6YmluZD1cImFcIiBuZy1iaW5kPVwiYVwiIGRhdGEtbmctYmluZD1cImFcIiB4LW5nLWJpbmQ9XCJhXCI+XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvcGVydHlcclxuICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGF0dHJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEEgbWFwIG9mIERPTSBlbGVtZW50IGF0dHJpYnV0ZSBuYW1lcyB0byB0aGUgbm9ybWFsaXplZCBuYW1lLiBUaGlzIGlzXHJcbiAqIG5lZWRlZCB0byBkbyByZXZlcnNlIGxvb2t1cCBmcm9tIG5vcm1hbGl6ZWQgbmFtZSBiYWNrIHRvIGFjdHVhbCBuYW1lLlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIG1ldGhvZFxyXG4gKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkc2V0XHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTZXQgRE9NIGVsZW1lbnQgYXR0cmlidXRlIHZhbHVlLlxyXG4gKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOb3JtYWxpemVkIGVsZW1lbnQgYXR0cmlidXRlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIG1vZGlmeS4gVGhlIG5hbWUgaXNcclxuICogICAgICAgICAgcmV2ZXJzZS10cmFuc2xhdGVkIHVzaW5nIHRoZSB7QGxpbmsgbmcuJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGF0dHIgJGF0dHJ9XHJcbiAqICAgICAgICAgIHByb3BlcnR5IHRvIHRoZSBvcmlnaW5hbCBuYW1lLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVmFsdWUgdG8gc2V0IHRoZSBhdHRyaWJ1dGUgdG8uIFRoZSB2YWx1ZSBjYW4gYmUgYW4gaW50ZXJwb2xhdGVkIHN0cmluZy5cclxuICovXHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBDbG9zdXJlIGNvbXBpbGVyIHR5cGUgaW5mb3JtYXRpb25cclxuICovXHJcblxyXG5mdW5jdGlvbiBub2Rlc2V0TGlua2luZ0ZuKFxyXG4gIC8qIGFuZ3VsYXIuU2NvcGUgKi8gc2NvcGUsXHJcbiAgLyogTm9kZUxpc3QgKi8gbm9kZUxpc3QsXHJcbiAgLyogRWxlbWVudCAqLyByb290RWxlbWVudCxcclxuICAvKiBmdW5jdGlvbihGdW5jdGlvbikgKi8gYm91bmRUcmFuc2NsdWRlRm5cclxuKSB7fVxyXG5cclxuZnVuY3Rpb24gZGlyZWN0aXZlTGlua2luZ0ZuKFxyXG4gIC8qIG5vZGVzZXRMaW5raW5nRm4gKi8gbm9kZXNldExpbmtpbmdGbixcclxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxyXG4gIC8qIE5vZGUgKi8gbm9kZSxcclxuICAvKiBFbGVtZW50ICovIHJvb3RFbGVtZW50LFxyXG4gIC8qIGZ1bmN0aW9uKEZ1bmN0aW9uKSAqLyBib3VuZFRyYW5zY2x1ZGVGblxyXG4pIHt9XHJcblxyXG5mdW5jdGlvbiB0b2tlbkRpZmZlcmVuY2Uoc3RyMSwgc3RyMikge1xyXG4gIHZhciB2YWx1ZXMgPSAnJyxcclxuICAgICAgdG9rZW5zMSA9IHN0cjEuc3BsaXQoL1xccysvKSxcclxuICAgICAgdG9rZW5zMiA9IHN0cjIuc3BsaXQoL1xccysvKTtcclxuXHJcbiAgb3V0ZXI6XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnMxW2ldO1xyXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCB0b2tlbnMyLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgIGlmICh0b2tlbiA9PSB0b2tlbnMyW2pdKSBjb250aW51ZSBvdXRlcjtcclxuICAgIH1cclxuICAgIHZhbHVlcyArPSAodmFsdWVzLmxlbmd0aCA+IDAgPyAnICcgOiAnJykgKyB0b2tlbjtcclxuICB9XHJcbiAgcmV0dXJuIHZhbHVlcztcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlQ29tbWVudHMoanFOb2Rlcykge1xyXG4gIGpxTm9kZXMgPSBqcUxpdGUoanFOb2Rlcyk7XHJcbiAgdmFyIGkgPSBqcU5vZGVzLmxlbmd0aDtcclxuXHJcbiAgaWYgKGkgPD0gMSkge1xyXG4gICAgcmV0dXJuIGpxTm9kZXM7XHJcbiAgfVxyXG5cclxuICB3aGlsZSAoaS0tKSB7XHJcbiAgICB2YXIgbm9kZSA9IGpxTm9kZXNbaV07XHJcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQpIHtcclxuICAgICAgc3BsaWNlLmNhbGwoanFOb2RlcywgaSwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBqcU5vZGVzO1xyXG59XHJcblxyXG52YXIgJGNvbnRyb2xsZXJNaW5FcnIgPSBtaW5FcnIoJyRjb250cm9sbGVyJyk7XHJcblxyXG5cclxudmFyIENOVFJMX1JFRyA9IC9eKFxcUyspKFxccythc1xccysoW1xcdyRdKykpPyQvO1xyXG5mdW5jdGlvbiBpZGVudGlmaWVyRm9yQ29udHJvbGxlcihjb250cm9sbGVyLCBpZGVudCkge1xyXG4gIGlmIChpZGVudCAmJiBpc1N0cmluZyhpZGVudCkpIHJldHVybiBpZGVudDtcclxuICBpZiAoaXNTdHJpbmcoY29udHJvbGxlcikpIHtcclxuICAgIHZhciBtYXRjaCA9IENOVFJMX1JFRy5leGVjKGNvbnRyb2xsZXIpO1xyXG4gICAgaWYgKG1hdGNoKSByZXR1cm4gbWF0Y2hbM107XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUge0BsaW5rIG5nLiRjb250cm9sbGVyICRjb250cm9sbGVyIHNlcnZpY2V9IGlzIHVzZWQgYnkgQW5ndWxhciB0byBjcmVhdGUgbmV3XHJcbiAqIGNvbnRyb2xsZXJzLlxyXG4gKlxyXG4gKiBUaGlzIHByb3ZpZGVyIGFsbG93cyBjb250cm9sbGVyIHJlZ2lzdHJhdGlvbiB2aWEgdGhlXHJcbiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyIHJlZ2lzdGVyfSBtZXRob2QuXHJcbiAqL1xyXG5mdW5jdGlvbiAkQ29udHJvbGxlclByb3ZpZGVyKCkge1xyXG4gIHZhciBjb250cm9sbGVycyA9IHt9LFxyXG4gICAgICBnbG9iYWxzID0gZmFsc2U7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyI2hhc1xyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIENvbnRyb2xsZXIgbmFtZSB0byBjaGVjay5cclxuICAgKi9cclxuICB0aGlzLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgIHJldHVybiBjb250cm9sbGVycy5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlciNyZWdpc3RlclxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlIGtleXMgYXJlXHJcbiAgICogICAgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29uc3RydWN0b3JzLlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXl9IGNvbnN0cnVjdG9yIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZm4gKG9wdGlvbmFsbHkgZGVjb3JhdGVkIHdpdGggRElcclxuICAgKiAgICBhbm5vdGF0aW9ucyBpbiB0aGUgYXJyYXkgbm90YXRpb24pLlxyXG4gICAqL1xyXG4gIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbihuYW1lLCBjb25zdHJ1Y3Rvcikge1xyXG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2NvbnRyb2xsZXInKTtcclxuICAgIGlmIChpc09iamVjdChuYW1lKSkge1xyXG4gICAgICBleHRlbmQoY29udHJvbGxlcnMsIG5hbWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29udHJvbGxlcnNbbmFtZV0gPSBjb25zdHJ1Y3RvcjtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHNcclxuICAgKiBAZGVzY3JpcHRpb24gSWYgY2FsbGVkLCBhbGxvd3MgYCRjb250cm9sbGVyYCB0byBmaW5kIGNvbnRyb2xsZXIgY29uc3RydWN0b3JzIG9uIGB3aW5kb3dgXHJcbiAgICovXHJcbiAgdGhpcy5hbGxvd0dsb2JhbHMgPSBmdW5jdGlvbigpIHtcclxuICAgIGdsb2JhbHMgPSB0cnVlO1xyXG4gIH07XHJcblxyXG5cclxuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsICckd2luZG93JywgZnVuY3Rpb24oJGluamVjdG9yLCAkd2luZG93KSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAgICogQG5hbWUgJGNvbnRyb2xsZXJcclxuICAgICAqIEByZXF1aXJlcyAkaW5qZWN0b3JcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gY29uc3RydWN0b3IgSWYgY2FsbGVkIHdpdGggYSBmdW5jdGlvbiB0aGVuIGl0J3MgY29uc2lkZXJlZCB0byBiZSB0aGVcclxuICAgICAqICAgIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIE90aGVyd2lzZSBpdCdzIGNvbnNpZGVyZWQgdG8gYmUgYSBzdHJpbmcgd2hpY2ggaXMgdXNlZFxyXG4gICAgICogICAgdG8gcmV0cmlldmUgdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgdXNpbmcgdGhlIGZvbGxvd2luZyBzdGVwczpcclxuICAgICAqXHJcbiAgICAgKiAgICAqIGNoZWNrIGlmIGEgY29udHJvbGxlciB3aXRoIGdpdmVuIG5hbWUgaXMgcmVnaXN0ZXJlZCB2aWEgYCRjb250cm9sbGVyUHJvdmlkZXJgXHJcbiAgICAgKiAgICAqIGNoZWNrIGlmIGV2YWx1YXRpbmcgdGhlIHN0cmluZyBvbiB0aGUgY3VycmVudCBzY29wZSByZXR1cm5zIGEgY29uc3RydWN0b3JcclxuICAgICAqICAgICogaWYgJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHMsIGNoZWNrIGB3aW5kb3dbY29uc3RydWN0b3JdYCBvbiB0aGUgZ2xvYmFsXHJcbiAgICAgKiAgICAgIGB3aW5kb3dgIG9iamVjdCAobm90IHJlY29tbWVuZGVkKVxyXG4gICAgICpcclxuICAgICAqICAgIFRoZSBzdHJpbmcgY2FuIHVzZSB0aGUgYGNvbnRyb2xsZXIgYXMgcHJvcGVydHlgIHN5bnRheCwgd2hlcmUgdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2UgaXMgcHVibGlzaGVkXHJcbiAgICAgKiAgICBhcyB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IG9uIHRoZSBgc2NvcGVgOyB0aGUgYHNjb3BlYCBtdXN0IGJlIGluamVjdGVkIGludG8gYGxvY2Fsc2AgcGFyYW0gZm9yIHRoaXNcclxuICAgICAqICAgIHRvIHdvcmsgY29ycmVjdGx5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhbHMgSW5qZWN0aW9uIGxvY2FscyBmb3IgQ29udHJvbGxlci5cclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gSW5zdGFuY2Ugb2YgZ2l2ZW4gY29udHJvbGxlci5cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIGAkY29udHJvbGxlcmAgc2VydmljZSBpcyByZXNwb25zaWJsZSBmb3IgaW5zdGFudGlhdGluZyBjb250cm9sbGVycy5cclxuICAgICAqXHJcbiAgICAgKiBJdCdzIGp1c3QgYSBzaW1wbGUgY2FsbCB0byB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSwgYnV0IGV4dHJhY3RlZCBpbnRvXHJcbiAgICAgKiBhIHNlcnZpY2UsIHNvIHRoYXQgb25lIGNhbiBvdmVycmlkZSB0aGlzIHNlcnZpY2Ugd2l0aCBbQkMgdmVyc2lvbl0oaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTY0OTc4OCkuXHJcbiAgICAgKi9cclxuICAgIHJldHVybiBmdW5jdGlvbiAkY29udHJvbGxlcihleHByZXNzaW9uLCBsb2NhbHMsIGxhdGVyLCBpZGVudCkge1xyXG4gICAgICAvLyBQUklWQVRFIEFQSTpcclxuICAgICAgLy8gICBwYXJhbSBgbGF0ZXJgIC0tLSBpbmRpY2F0ZXMgdGhhdCB0aGUgY29udHJvbGxlcidzIGNvbnN0cnVjdG9yIGlzIGludm9rZWQgYXQgYSBsYXRlciB0aW1lLlxyXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIElmIHRydWUsICRjb250cm9sbGVyIHdpbGwgYWxsb2NhdGUgdGhlIG9iamVjdCB3aXRoIHRoZSBjb3JyZWN0XHJcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcHJvdG90eXBlIGNoYWluLCBidXQgd2lsbCBub3QgaW52b2tlIHRoZSBjb250cm9sbGVyIHVudGlsIGEgcmV0dXJuZWRcclxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayBpcyBpbnZva2VkLlxyXG4gICAgICAvLyAgIHBhcmFtIGBpZGVudGAgLS0tIEFuIG9wdGlvbmFsIGxhYmVsIHdoaWNoIG92ZXJyaWRlcyB0aGUgbGFiZWwgcGFyc2VkIGZyb20gdGhlIGNvbnRyb2xsZXJcclxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLCBpZiBhbnkuXHJcbiAgICAgIHZhciBpbnN0YW5jZSwgbWF0Y2gsIGNvbnN0cnVjdG9yLCBpZGVudGlmaWVyO1xyXG4gICAgICBsYXRlciA9IGxhdGVyID09PSB0cnVlO1xyXG4gICAgICBpZiAoaWRlbnQgJiYgaXNTdHJpbmcoaWRlbnQpKSB7XHJcbiAgICAgICAgaWRlbnRpZmllciA9IGlkZW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNTdHJpbmcoZXhwcmVzc2lvbikpIHtcclxuICAgICAgICBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goQ05UUkxfUkVHKTtcclxuICAgICAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgICB0aHJvdyAkY29udHJvbGxlck1pbkVycignY3RybGZtdCcsXHJcbiAgICAgICAgICAgIFwiQmFkbHkgZm9ybWVkIGNvbnRyb2xsZXIgc3RyaW5nICd7MH0nLiBcIiArXHJcbiAgICAgICAgICAgIFwiTXVzdCBtYXRjaCBgX19uYW1lX18gYXMgX19pZF9fYCBvciBgX19uYW1lX19gLlwiLCBleHByZXNzaW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3RydWN0b3IgPSBtYXRjaFsxXSxcclxuICAgICAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllciB8fCBtYXRjaFszXTtcclxuICAgICAgICBleHByZXNzaW9uID0gY29udHJvbGxlcnMuaGFzT3duUHJvcGVydHkoY29uc3RydWN0b3IpXHJcbiAgICAgICAgICAgID8gY29udHJvbGxlcnNbY29uc3RydWN0b3JdXHJcbiAgICAgICAgICAgIDogZ2V0dGVyKGxvY2Fscy4kc2NvcGUsIGNvbnN0cnVjdG9yLCB0cnVlKSB8fFxyXG4gICAgICAgICAgICAgICAgKGdsb2JhbHMgPyBnZXR0ZXIoJHdpbmRvdywgY29uc3RydWN0b3IsIHRydWUpIDogdW5kZWZpbmVkKTtcclxuXHJcbiAgICAgICAgYXNzZXJ0QXJnRm4oZXhwcmVzc2lvbiwgY29uc3RydWN0b3IsIHRydWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobGF0ZXIpIHtcclxuICAgICAgICAvLyBJbnN0YW50aWF0ZSBjb250cm9sbGVyIGxhdGVyOlxyXG4gICAgICAgIC8vIFRoaXMgbWFjaGluZXJ5IGlzIHVzZWQgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBvYmplY3QgYmVmb3JlIGNhbGxpbmcgdGhlXHJcbiAgICAgICAgLy8gY29udHJvbGxlcidzIGNvbnN0cnVjdG9yIGl0c2VsZi5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIGNvbnRyb2xsZXIgYmVmb3JlIHRoZSBjb25zdHJ1Y3RvciBpc1xyXG4gICAgICAgIC8vIGludm9rZWQuIFByaW1hcmlseSwgdGhpcyBpcyB1c2VkIGZvciBpc29sYXRlIHNjb3BlIGJpbmRpbmdzIGluICRjb21waWxlLlxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gVGhpcyBmZWF0dXJlIGlzIG5vdCBpbnRlbmRlZCBmb3IgdXNlIGJ5IGFwcGxpY2F0aW9ucywgYW5kIGlzIHRodXMgbm90IGRvY3VtZW50ZWRcclxuICAgICAgICAvLyBwdWJsaWNseS5cclxuICAgICAgICAvLyBPYmplY3QgY3JlYXRpb246IGh0dHA6Ly9qc3BlcmYuY29tL2NyZWF0ZS1jb25zdHJ1Y3Rvci8yXHJcbiAgICAgICAgdmFyIGNvbnRyb2xsZXJQcm90b3R5cGUgPSAoaXNBcnJheShleHByZXNzaW9uKSA/XHJcbiAgICAgICAgICBleHByZXNzaW9uW2V4cHJlc3Npb24ubGVuZ3RoIC0gMV0gOiBleHByZXNzaW9uKS5wcm90b3R5cGU7XHJcbiAgICAgICAgaW5zdGFuY2UgPSBPYmplY3QuY3JlYXRlKGNvbnRyb2xsZXJQcm90b3R5cGUgfHwgbnVsbCk7XHJcblxyXG4gICAgICAgIGlmIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaW5zdGFudGlhdGU7XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbnRpYXRlID0gZXh0ZW5kKGZ1bmN0aW9uICRjb250cm9sbGVySW5pdCgpIHtcclxuICAgICAgICAgIHZhciByZXN1bHQgPSAkaW5qZWN0b3IuaW52b2tlKGV4cHJlc3Npb24sIGluc3RhbmNlLCBsb2NhbHMsIGNvbnN0cnVjdG9yKTtcclxuICAgICAgICAgIGlmIChyZXN1bHQgIT09IGluc3RhbmNlICYmIChpc09iamVjdChyZXN1bHQpIHx8IGlzRnVuY3Rpb24ocmVzdWx0KSkpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIGlmIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgLy8gSWYgcmVzdWx0IGNoYW5nZWQsIHJlLWFzc2lnbiBjb250cm9sbGVyQXMgdmFsdWUgdG8gc2NvcGUuXHJcbiAgICAgICAgICAgICAgYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBjb25zdHJ1Y3RvciB8fCBleHByZXNzaW9uLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlLFxyXG4gICAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllclxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpbnN0YW5jZSA9ICRpbmplY3Rvci5pbnN0YW50aWF0ZShleHByZXNzaW9uLCBsb2NhbHMsIGNvbnN0cnVjdG9yKTtcclxuXHJcbiAgICAgIGlmIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBjb25zdHJ1Y3RvciB8fCBleHByZXNzaW9uLm5hbWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgbmFtZSkge1xyXG4gICAgICBpZiAoIShsb2NhbHMgJiYgaXNPYmplY3QobG9jYWxzLiRzY29wZSkpKSB7XHJcbiAgICAgICAgdGhyb3cgbWluRXJyKCckY29udHJvbGxlcicpKCdub3NjcCcsXHJcbiAgICAgICAgICBcIkNhbm5vdCBleHBvcnQgY29udHJvbGxlciAnezB9JyBhcyAnezF9JyEgTm8gJHNjb3BlIG9iamVjdCBwcm92aWRlZCB2aWEgYGxvY2Fsc2AuXCIsXHJcbiAgICAgICAgICBuYW1lLCBpZGVudGlmaWVyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbG9jYWxzLiRzY29wZVtpZGVudGlmaWVyXSA9IGluc3RhbmNlO1xyXG4gICAgfVxyXG4gIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGRvY3VtZW50XHJcbiAqIEByZXF1aXJlcyAkd2luZG93XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBBIHtAbGluayBhbmd1bGFyLmVsZW1lbnQgalF1ZXJ5IG9yIGpxTGl0ZX0gd3JhcHBlciBmb3IgdGhlIGJyb3dzZXIncyBgd2luZG93LmRvY3VtZW50YCBvYmplY3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImRvY3VtZW50RXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8cD4kZG9jdW1lbnQgdGl0bGU6IDxiIG5nLWJpbmQ9XCJ0aXRsZVwiPjwvYj48L3A+XHJcbiAgICAgICAgIDxwPndpbmRvdy5kb2N1bWVudCB0aXRsZTogPGIgbmctYmluZD1cIndpbmRvd1RpdGxlXCI+PC9iPjwvcD5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZG9jdW1lbnRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRzY29wZSwgJGRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgJHNjb3BlLnRpdGxlID0gJGRvY3VtZW50WzBdLnRpdGxlO1xyXG4gICAgICAgICAgICRzY29wZS53aW5kb3dUaXRsZSA9IGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cuZG9jdW1lbnQpWzBdLnRpdGxlO1xyXG4gICAgICAgICB9XSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5mdW5jdGlvbiAkRG9jdW1lbnRQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCBmdW5jdGlvbih3aW5kb3cpIHtcclxuICAgIHJldHVybiBqcUxpdGUod2luZG93LmRvY3VtZW50KTtcclxuICB9XTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRleGNlcHRpb25IYW5kbGVyXHJcbiAqIEByZXF1aXJlcyBuZy4kbG9nXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBBbnkgdW5jYXVnaHQgZXhjZXB0aW9uIGluIGFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGVsZWdhdGVkIHRvIHRoaXMgc2VydmljZS5cclxuICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gc2ltcGx5IGRlbGVnYXRlcyB0byBgJGxvZy5lcnJvcmAgd2hpY2ggbG9ncyBpdCBpbnRvXHJcbiAqIHRoZSBicm93c2VyIGNvbnNvbGUuXHJcbiAqXHJcbiAqIEluIHVuaXQgdGVzdHMsIGlmIGBhbmd1bGFyLW1vY2tzLmpzYCBpcyBsb2FkZWQsIHRoaXMgc2VydmljZSBpcyBvdmVycmlkZGVuIGJ5XHJcbiAqIHtAbGluayBuZ01vY2suJGV4Y2VwdGlvbkhhbmRsZXIgbW9jayAkZXhjZXB0aW9uSGFuZGxlcn0gd2hpY2ggYWlkcyBpbiB0ZXN0aW5nLlxyXG4gKlxyXG4gKiAjIyBFeGFtcGxlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIGFuZ3VsYXIubW9kdWxlKCdleGNlcHRpb25PdmVycmlkZScsIFtdKS5mYWN0b3J5KCckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgcmV0dXJuIGZ1bmN0aW9uKGV4Y2VwdGlvbiwgY2F1c2UpIHtcclxuICogICAgICAgZXhjZXB0aW9uLm1lc3NhZ2UgKz0gJyAoY2F1c2VkIGJ5IFwiJyArIGNhdXNlICsgJ1wiKSc7XHJcbiAqICAgICAgIHRocm93IGV4Y2VwdGlvbjtcclxuICogICAgIH07XHJcbiAqICAgfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGlzIGV4YW1wbGUgd2lsbCBvdmVycmlkZSB0aGUgbm9ybWFsIGFjdGlvbiBvZiBgJGV4Y2VwdGlvbkhhbmRsZXJgLCB0byBtYWtlIGFuZ3VsYXJcclxuICogZXhjZXB0aW9ucyBmYWlsIGhhcmQgd2hlbiB0aGV5IGhhcHBlbiwgaW5zdGVhZCBvZiBqdXN0IGxvZ2dpbmcgdG8gdGhlIGNvbnNvbGUuXHJcbiAqXHJcbiAqIDxociAvPlxyXG4gKiBOb3RlLCB0aGF0IGNvZGUgZXhlY3V0ZWQgaW4gZXZlbnQtbGlzdGVuZXJzIChldmVuIHRob3NlIHJlZ2lzdGVyZWQgdXNpbmcganFMaXRlJ3MgYG9uYC9gYmluZGBcclxuICogbWV0aG9kcykgZG9lcyBub3QgZGVsZWdhdGUgZXhjZXB0aW9ucyB0byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfVxyXG4gKiAodW5sZXNzIGV4ZWN1dGVkIGR1cmluZyBhIGRpZ2VzdCkuXHJcbiAqXHJcbiAqIElmIHlvdSB3aXNoLCB5b3UgY2FuIG1hbnVhbGx5IGRlbGVnYXRlIGV4Y2VwdGlvbnMsIGUuZy5cclxuICogYHRyeSB7IC4uLiB9IGNhdGNoKGUpIHsgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7IH1gXHJcbiAqXHJcbiAqIEBwYXJhbSB7RXJyb3J9IGV4Y2VwdGlvbiBFeGNlcHRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBlcnJvci5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBjYXVzZSBvcHRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29udGV4dCBpbiB3aGljaFxyXG4gKiAgICAgICB0aGUgZXJyb3Igd2FzIHRocm93bi5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckbG9nJywgZnVuY3Rpb24oJGxvZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV4Y2VwdGlvbiwgY2F1c2UpIHtcclxuICAgICAgJGxvZy5lcnJvci5hcHBseSgkbG9nLCBhcmd1bWVudHMpO1xyXG4gICAgfTtcclxuICB9XTtcclxufVxyXG5cclxudmFyICQkRm9yY2VSZWZsb3dQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJGRvY3VtZW50JywgZnVuY3Rpb24oJGRvY3VtZW50KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZG9tTm9kZSkge1xyXG4gICAgICAvL3RoZSBsaW5lIGJlbG93IHdpbGwgZm9yY2UgdGhlIGJyb3dzZXIgdG8gcGVyZm9ybSBhIHJlcGFpbnQgc29cclxuICAgICAgLy90aGF0IGFsbCB0aGUgYW5pbWF0ZWQgZWxlbWVudHMgd2l0aGluIHRoZSBhbmltYXRpb24gZnJhbWUgd2lsbFxyXG4gICAgICAvL2JlIHByb3Blcmx5IHVwZGF0ZWQgYW5kIGRyYXduIG9uIHNjcmVlbi4gVGhpcyBpcyByZXF1aXJlZCB0b1xyXG4gICAgICAvL2Vuc3VyZSB0aGF0IHRoZSBwcmVwYXJhdGlvbiBhbmltYXRpb24gaXMgcHJvcGVybHkgZmx1c2hlZCBzbyB0aGF0XHJcbiAgICAgIC8vdGhlIGFjdGl2ZSBzdGF0ZSBwaWNrcyB1cCBmcm9tIHRoZXJlLiBETyBOT1QgUkVNT1ZFIFRISVMgTElORS5cclxuICAgICAgLy9ETyBOT1QgT1BUSU1JWkUgVEhJUyBMSU5FLiBUSEUgTUlOSUZJRVIgV0lMTCBSRU1PVkUgSVQgT1RIRVJXSVNFIFdISUNIXHJcbiAgICAgIC8vV0lMTCBSRVNVTFQgSU4gQU4gVU5QUkVESUNUQUJMRSBCVUcgVEhBVCBJUyBWRVJZIEhBUkQgVE8gVFJBQ0sgRE9XTiBBTkRcclxuICAgICAgLy9XSUxMIFRBS0UgWUVBUlMgQVdBWSBGUk9NIFlPVVIgTElGRS5cclxuICAgICAgaWYgKGRvbU5vZGUpIHtcclxuICAgICAgICBpZiAoIWRvbU5vZGUubm9kZVR5cGUgJiYgZG9tTm9kZSBpbnN0YW5jZW9mIGpxTGl0ZSkge1xyXG4gICAgICAgICAgZG9tTm9kZSA9IGRvbU5vZGVbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRvbU5vZGUgPSAkZG9jdW1lbnRbMF0uYm9keTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZG9tTm9kZS5vZmZzZXRXaWR0aCArIDE7XHJcbiAgICB9O1xyXG4gIH1dO1xyXG59O1xyXG5cclxudmFyIEFQUExJQ0FUSU9OX0pTT04gPSAnYXBwbGljYXRpb24vanNvbic7XHJcbnZhciBDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiA9IHsnQ29udGVudC1UeXBlJzogQVBQTElDQVRJT05fSlNPTiArICc7Y2hhcnNldD11dGYtOCd9O1xyXG52YXIgSlNPTl9TVEFSVCA9IC9eXFxbfF5cXHsoPyFcXHspLztcclxudmFyIEpTT05fRU5EUyA9IHtcclxuICAnWyc6IC9dJC8sXHJcbiAgJ3snOiAvfSQvXHJcbn07XHJcbnZhciBKU09OX1BST1RFQ1RJT05fUFJFRklYID0gL15cXClcXF1cXH0nLD9cXG4vO1xyXG52YXIgJGh0dHBNaW5FcnIgPSBtaW5FcnIoJyRodHRwJyk7XHJcbnZhciAkaHR0cE1pbkVyckxlZ2FjeUZuID0gZnVuY3Rpb24obWV0aG9kKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgdGhyb3cgJGh0dHBNaW5FcnIoJ2xlZ2FjeScsICdUaGUgbWV0aG9kIGB7MH1gIG9uIHRoZSBwcm9taXNlIHJldHVybmVkIGZyb20gYCRodHRwYCBoYXMgYmVlbiBkaXNhYmxlZC4nLCBtZXRob2QpO1xyXG4gIH07XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzZXJpYWxpemVWYWx1ZSh2KSB7XHJcbiAgaWYgKGlzT2JqZWN0KHYpKSB7XHJcbiAgICByZXR1cm4gaXNEYXRlKHYpID8gdi50b0lTT1N0cmluZygpIDogdG9Kc29uKHYpO1xyXG4gIH1cclxuICByZXR1cm4gdjtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uICRIdHRwUGFyYW1TZXJpYWxpemVyUHJvdmlkZXIoKSB7XHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgKiBAbmFtZSAkaHR0cFBhcmFtU2VyaWFsaXplclxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogRGVmYXVsdCB7QGxpbmsgJGh0dHAgYCRodHRwYH0gcGFyYW1zIHNlcmlhbGl6ZXIgdGhhdCBjb252ZXJ0cyBvYmplY3RzIHRvIHN0cmluZ3NcclxuICAgKiBhY2NvcmRpbmcgdG8gdGhlIGZvbGxvd2luZyBydWxlczpcclxuICAgKlxyXG4gICAqICogYHsnZm9vJzogJ2Jhcid9YCByZXN1bHRzIGluIGBmb289YmFyYFxyXG4gICAqICogYHsnZm9vJzogRGF0ZS5ub3coKX1gIHJlc3VsdHMgaW4gYGZvbz0yMDE1LTA0LTAxVDA5JTNBNTAlM0E0OS4yNjJaYCAoYHRvSVNPU3RyaW5nKClgIGFuZCBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIGEgRGF0ZSBvYmplY3QpXHJcbiAgICogKiBgeydmb28nOiBbJ2JhcicsICdiYXonXX1gIHJlc3VsdHMgaW4gYGZvbz1iYXImZm9vPWJhemAgKHJlcGVhdGVkIGtleSBmb3IgZWFjaCBhcnJheSBlbGVtZW50KVxyXG4gICAqICogYHsnZm9vJzogeydiYXInOidiYXonfX1gIHJlc3VsdHMgaW4gYGZvbz0lN0IlMjJiYXIlMjIlM0ElMjJiYXolMjIlN0RcImAgKHN0cmluZ2lmaWVkIGFuZCBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIGFuIG9iamVjdClcclxuICAgKlxyXG4gICAqIE5vdGUgdGhhdCBzZXJpYWxpemVyIHdpbGwgc29ydCB0aGUgcmVxdWVzdCBwYXJhbWV0ZXJzIGFscGhhYmV0aWNhbGx5LlxyXG4gICAqICovXHJcblxyXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5nUGFyYW1TZXJpYWxpemVyKHBhcmFtcykge1xyXG4gICAgICBpZiAoIXBhcmFtcykgcmV0dXJuICcnO1xyXG4gICAgICB2YXIgcGFydHMgPSBbXTtcclxuICAgICAgZm9yRWFjaFNvcnRlZChwYXJhbXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XHJcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2KSB7XHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSAgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh2KSkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSArICc9JyArIGVuY29kZVVyaVF1ZXJ5KHNlcmlhbGl6ZVZhbHVlKHZhbHVlKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gcGFydHMuam9pbignJicpO1xyXG4gICAgfTtcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiAkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyKCkge1xyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIEFsdGVybmF0aXZlIHtAbGluayAkaHR0cCBgJGh0dHBgfSBwYXJhbXMgc2VyaWFsaXplciB0aGF0IGZvbGxvd3NcclxuICAgKiBqUXVlcnkncyBbYHBhcmFtKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vanF1ZXJ5LnBhcmFtLykgbWV0aG9kIGxvZ2ljLlxyXG4gICAqIFRoZSBzZXJpYWxpemVyIHdpbGwgYWxzbyBzb3J0IHRoZSBwYXJhbXMgYWxwaGFiZXRpY2FsbHkuXHJcbiAgICpcclxuICAgKiBUbyB1c2UgaXQgZm9yIHNlcmlhbGl6aW5nIGAkaHR0cGAgcmVxdWVzdCBwYXJhbWV0ZXJzLCBzZXQgaXQgYXMgdGhlIGBwYXJhbVNlcmlhbGl6ZXJgIHByb3BlcnR5OlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAkaHR0cCh7XHJcbiAgICogICB1cmw6IG15VXJsLFxyXG4gICAqICAgbWV0aG9kOiAnR0VUJyxcclxuICAgKiAgIHBhcmFtczogbXlQYXJhbXMsXHJcbiAgICogICBwYXJhbVNlcmlhbGl6ZXI6ICckaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZSdcclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gc2V0IGl0IGFzIHRoZSBkZWZhdWx0IGBwYXJhbVNlcmlhbGl6ZXJgIGluIHRoZVxyXG4gICAqIHtAbGluayAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzIGAkaHR0cFByb3ZpZGVyYH0uXHJcbiAgICpcclxuICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gaW5qZWN0IHRoZSBzZXJpYWxpemVyIGFuZCB1c2UgaXQgZXhwbGljaXRseSwgZm9yIGV4YW1wbGUgdG8gc2VyaWFsaXplXHJcbiAgICogZm9ybSBkYXRhIGZvciBzdWJtaXNzaW9uOlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAuY29udHJvbGxlcihmdW5jdGlvbigkaHR0cCwgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UpIHtcclxuICAgKiAgIC8vLi4uXHJcbiAgICpcclxuICAgKiAgICRodHRwKHtcclxuICAgKiAgICAgdXJsOiBteVVybCxcclxuICAgKiAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICogICAgIGRhdGE6ICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlKG15RGF0YSksXHJcbiAgICogICAgIGhlYWRlcnM6IHtcclxuICAgKiAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcclxuICAgKiAgICAgfVxyXG4gICAqICAgfSk7XHJcbiAgICpcclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqICovXHJcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24galF1ZXJ5TGlrZVBhcmFtU2VyaWFsaXplcihwYXJhbXMpIHtcclxuICAgICAgaWYgKCFwYXJhbXMpIHJldHVybiAnJztcclxuICAgICAgdmFyIHBhcnRzID0gW107XHJcbiAgICAgIHNlcmlhbGl6ZShwYXJhbXMsICcnLCB0cnVlKTtcclxuICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyYnKTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNlcmlhbGl6ZSh0b1NlcmlhbGl6ZSwgcHJlZml4LCB0b3BMZXZlbCkge1xyXG4gICAgICAgIGlmICh0b1NlcmlhbGl6ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh0b1NlcmlhbGl6ZSkpIHJldHVybjtcclxuICAgICAgICBpZiAoaXNBcnJheSh0b1NlcmlhbGl6ZSkpIHtcclxuICAgICAgICAgIGZvckVhY2godG9TZXJpYWxpemUsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xyXG4gICAgICAgICAgICBzZXJpYWxpemUodmFsdWUsIHByZWZpeCArICdbJyArIChpc09iamVjdCh2YWx1ZSkgPyBpbmRleCA6ICcnKSArICddJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHRvU2VyaWFsaXplKSAmJiAhaXNEYXRlKHRvU2VyaWFsaXplKSkge1xyXG4gICAgICAgICAgZm9yRWFjaFNvcnRlZCh0b1NlcmlhbGl6ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgICBzZXJpYWxpemUodmFsdWUsIHByZWZpeCArXHJcbiAgICAgICAgICAgICAgICAodG9wTGV2ZWwgPyAnJyA6ICdbJykgK1xyXG4gICAgICAgICAgICAgICAga2V5ICtcclxuICAgICAgICAgICAgICAgICh0b3BMZXZlbCA/ICcnIDogJ10nKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShwcmVmaXgpICsgJz0nICsgZW5jb2RlVXJpUXVlcnkoc2VyaWFsaXplVmFsdWUodG9TZXJpYWxpemUpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0oZGF0YSwgaGVhZGVycykge1xyXG4gIGlmIChpc1N0cmluZyhkYXRhKSkge1xyXG4gICAgLy8gU3RyaXAganNvbiB2dWxuZXJhYmlsaXR5IHByb3RlY3Rpb24gcHJlZml4IGFuZCB0cmltIHdoaXRlc3BhY2VcclxuICAgIHZhciB0ZW1wRGF0YSA9IGRhdGEucmVwbGFjZShKU09OX1BST1RFQ1RJT05fUFJFRklYLCAnJykudHJpbSgpO1xyXG5cclxuICAgIGlmICh0ZW1wRGF0YSkge1xyXG4gICAgICB2YXIgY29udGVudFR5cGUgPSBoZWFkZXJzKCdDb250ZW50LVR5cGUnKTtcclxuICAgICAgaWYgKChjb250ZW50VHlwZSAmJiAoY29udGVudFR5cGUuaW5kZXhPZihBUFBMSUNBVElPTl9KU09OKSA9PT0gMCkpIHx8IGlzSnNvbkxpa2UodGVtcERhdGEpKSB7XHJcbiAgICAgICAgZGF0YSA9IGZyb21Kc29uKHRlbXBEYXRhKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSnNvbkxpa2Uoc3RyKSB7XHJcbiAgICB2YXIganNvblN0YXJ0ID0gc3RyLm1hdGNoKEpTT05fU1RBUlQpO1xyXG4gICAgcmV0dXJuIGpzb25TdGFydCAmJiBKU09OX0VORFNbanNvblN0YXJ0WzBdXS50ZXN0KHN0cik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYXJzZSBoZWFkZXJzIGludG8ga2V5IHZhbHVlIG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaGVhZGVycyBSYXcgaGVhZGVycyBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBQYXJzZWQgaGVhZGVycyBhcyBrZXkgdmFsdWUgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xyXG4gIHZhciBwYXJzZWQgPSBjcmVhdGVNYXAoKSwgaTtcclxuXHJcbiAgZnVuY3Rpb24gZmlsbEluUGFyc2VkKGtleSwgdmFsKSB7XHJcbiAgICBpZiAoa2V5KSB7XHJcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoaXNTdHJpbmcoaGVhZGVycykpIHtcclxuICAgIGZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uKGxpbmUpIHtcclxuICAgICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xyXG4gICAgICBmaWxsSW5QYXJzZWQobG93ZXJjYXNlKHRyaW0obGluZS5zdWJzdHIoMCwgaSkpKSwgdHJpbShsaW5lLnN1YnN0cihpICsgMSkpKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGVhZGVycykpIHtcclxuICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24oaGVhZGVyVmFsLCBoZWFkZXJLZXkpIHtcclxuICAgICAgZmlsbEluUGFyc2VkKGxvd2VyY2FzZShoZWFkZXJLZXkpLCB0cmltKGhlYWRlclZhbCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcGFyc2VkO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byBwYXJzZWQgaGVhZGVycy5cclxuICpcclxuICogSGVhZGVycyBhcmUgbGF6eSBwYXJzZWQgd2hlbiBmaXJzdCByZXF1ZXN0ZWQuXHJcbiAqIEBzZWUgcGFyc2VIZWFkZXJzXHJcbiAqXHJcbiAqIEBwYXJhbSB7KHN0cmluZ3xPYmplY3QpfSBoZWFkZXJzIEhlYWRlcnMgdG8gcHJvdmlkZSBhY2Nlc3MgdG8uXHJcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmc9KX0gUmV0dXJucyBhIGdldHRlciBmdW5jdGlvbiB3aGljaCBpZiBjYWxsZWQgd2l0aDpcclxuICpcclxuICogICAtIGlmIGNhbGxlZCB3aXRoIHNpbmdsZSBhbiBhcmd1bWVudCByZXR1cm5zIGEgc2luZ2xlIGhlYWRlciB2YWx1ZSBvciBudWxsXHJcbiAqICAgLSBpZiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMgcmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgaGVhZGVycy5cclxuICovXHJcbmZ1bmN0aW9uIGhlYWRlcnNHZXR0ZXIoaGVhZGVycykge1xyXG4gIHZhciBoZWFkZXJzT2JqO1xyXG5cclxuICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgaWYgKCFoZWFkZXJzT2JqKSBoZWFkZXJzT2JqID0gIHBhcnNlSGVhZGVycyhoZWFkZXJzKTtcclxuXHJcbiAgICBpZiAobmFtZSkge1xyXG4gICAgICB2YXIgdmFsdWUgPSBoZWFkZXJzT2JqW2xvd2VyY2FzZShuYW1lKV07XHJcbiAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgdmFsdWUgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaGVhZGVyc09iajtcclxuICB9O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIENoYWluIGFsbCBnaXZlbiBmdW5jdGlvbnNcclxuICpcclxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGZvciBib3RoIHJlcXVlc3QgYW5kIHJlc3BvbnNlIHRyYW5zZm9ybWluZ1xyXG4gKlxyXG4gKiBAcGFyYW0geyp9IGRhdGEgRGF0YSB0byB0cmFuc2Zvcm0uXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nPSl9IGhlYWRlcnMgSFRUUCBoZWFkZXJzIGdldHRlciBmbi5cclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXR1cyBIVFRQIHN0YXR1cyBjb2RlIG9mIHRoZSByZXNwb25zZS5cclxuICogQHBhcmFtIHsoRnVuY3Rpb258QXJyYXkuPEZ1bmN0aW9uPil9IGZucyBGdW5jdGlvbiBvciBhbiBhcnJheSBvZiBmdW5jdGlvbnMuXHJcbiAqIEByZXR1cm5zIHsqfSBUcmFuc2Zvcm1lZCBkYXRhLlxyXG4gKi9cclxuZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBzdGF0dXMsIGZucykge1xyXG4gIGlmIChpc0Z1bmN0aW9uKGZucykpIHtcclxuICAgIHJldHVybiBmbnMoZGF0YSwgaGVhZGVycywgc3RhdHVzKTtcclxuICB9XHJcblxyXG4gIGZvckVhY2goZm5zLCBmdW5jdGlvbihmbikge1xyXG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMsIHN0YXR1cyk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNTdWNjZXNzKHN0YXR1cykge1xyXG4gIHJldHVybiAyMDAgPD0gc3RhdHVzICYmIHN0YXR1cyA8IDMwMDtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJGh0dHBQcm92aWRlclxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVXNlIGAkaHR0cFByb3ZpZGVyYCB0byBjaGFuZ2UgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gc2VydmljZS5cclxuICogKi9cclxuZnVuY3Rpb24gJEh0dHBQcm92aWRlcigpIHtcclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBPYmplY3QgY29udGFpbmluZyBkZWZhdWx0IHZhbHVlcyBmb3IgYWxsIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiAtICoqYGRlZmF1bHRzLmNhY2hlYCoqIC0ge2Jvb2xlYW58T2JqZWN0fSAtIEEgYm9vbGVhbiB2YWx1ZSBvciBvYmplY3QgY3JlYXRlZCB3aXRoXHJcbiAgICoge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSB0byBlbmFibGUgb3IgZGlzYWJsZSBjYWNoaW5nIG9mIEhUVFAgcmVzcG9uc2VzXHJcbiAgICogYnkgZGVmYXVsdC4gU2VlIHtAbGluayAkaHR0cCNjYWNoaW5nICRodHRwIENhY2hpbmd9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gICAqXHJcbiAgICogLSAqKmBkZWZhdWx0cy54c3JmQ29va2llTmFtZWAqKiAtIHtzdHJpbmd9IC0gTmFtZSBvZiBjb29raWUgY29udGFpbmluZyB0aGUgWFNSRiB0b2tlbi5cclxuICAgKiBEZWZhdWx0cyB2YWx1ZSBpcyBgJ1hTUkYtVE9LRU4nYC5cclxuICAgKlxyXG4gICAqIC0gKipgZGVmYXVsdHMueHNyZkhlYWRlck5hbWVgKiogLSB7c3RyaW5nfSAtIE5hbWUgb2YgSFRUUCBoZWFkZXIgdG8gcG9wdWxhdGUgd2l0aCB0aGVcclxuICAgKiBYU1JGIHRva2VuLiBEZWZhdWx0cyB2YWx1ZSBpcyBgJ1gtWFNSRi1UT0tFTidgLlxyXG4gICAqXHJcbiAgICogLSAqKmBkZWZhdWx0cy5oZWFkZXJzYCoqIC0ge09iamVjdH0gLSBEZWZhdWx0IGhlYWRlcnMgZm9yIGFsbCAkaHR0cCByZXF1ZXN0cy5cclxuICAgKiBSZWZlciB0byB7QGxpbmsgbmcuJGh0dHAjc2V0dGluZy1odHRwLWhlYWRlcnMgJGh0dHB9IGZvciBkb2N1bWVudGF0aW9uIG9uXHJcbiAgICogc2V0dGluZyBkZWZhdWx0IGhlYWRlcnMuXHJcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5jb21tb25gKipcclxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLnBvc3RgKipcclxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLnB1dGAqKlxyXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucGF0Y2hgKipcclxuICAgKlxyXG4gICAqXHJcbiAgICogLSAqKmBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXJgKiogLSBge3N0cmluZ3xmdW5jdGlvbihPYmplY3Q8c3RyaW5nLHN0cmluZz4pOnN0cmluZ31gIC0gQSBmdW5jdGlvblxyXG4gICAqICB1c2VkIHRvIHRoZSBwcmVwYXJlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiByZXF1ZXN0IHBhcmFtZXRlcnMgKHNwZWNpZmllZCBhcyBhbiBvYmplY3QpLlxyXG4gICAqICBJZiBzcGVjaWZpZWQgYXMgc3RyaW5nLCBpdCBpcyBpbnRlcnByZXRlZCBhcyBhIGZ1bmN0aW9uIHJlZ2lzdGVyZWQgd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXHJcbiAgICogIERlZmF1bHRzIHRvIHtAbGluayBuZy4kaHR0cFBhcmFtU2VyaWFsaXplciAkaHR0cFBhcmFtU2VyaWFsaXplcn0uXHJcbiAgICpcclxuICAgKiovXHJcbiAgdmFyIGRlZmF1bHRzID0gdGhpcy5kZWZhdWx0cyA9IHtcclxuICAgIC8vIHRyYW5zZm9ybSBpbmNvbWluZyByZXNwb25zZSBkYXRhXHJcbiAgICB0cmFuc2Zvcm1SZXNwb25zZTogW2RlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm1dLFxyXG5cclxuICAgIC8vIHRyYW5zZm9ybSBvdXRnb2luZyByZXF1ZXN0IGRhdGFcclxuICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbihkKSB7XHJcbiAgICAgIHJldHVybiBpc09iamVjdChkKSAmJiAhaXNGaWxlKGQpICYmICFpc0Jsb2IoZCkgJiYgIWlzRm9ybURhdGEoZCkgPyB0b0pzb24oZCkgOiBkO1xyXG4gICAgfV0sXHJcblxyXG4gICAgLy8gZGVmYXVsdCBoZWFkZXJzXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgIGNvbW1vbjoge1xyXG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xyXG4gICAgICB9LFxyXG4gICAgICBwb3N0OiAgIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSxcclxuICAgICAgcHV0OiAgICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiksXHJcbiAgICAgIHBhdGNoOiAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pXHJcbiAgICB9LFxyXG5cclxuICAgIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXHJcbiAgICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXHJcblxyXG4gICAgcGFyYW1TZXJpYWxpemVyOiAnJGh0dHBQYXJhbVNlcmlhbGl6ZXInXHJcbiAgfTtcclxuXHJcbiAgdmFyIHVzZUFwcGx5QXN5bmMgPSBmYWxzZTtcclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGh0dHBQcm92aWRlciN1c2VBcHBseUFzeW5jXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBDb25maWd1cmUgJGh0dHAgc2VydmljZSB0byBjb21iaW5lIHByb2Nlc3Npbmcgb2YgbXVsdGlwbGUgaHR0cCByZXNwb25zZXMgcmVjZWl2ZWQgYXQgYXJvdW5kXHJcbiAgICogdGhlIHNhbWUgdGltZSB2aWEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5QXN5bmMgJHJvb3RTY29wZS4kYXBwbHlBc3luY30uIFRoaXMgY2FuIHJlc3VsdCBpblxyXG4gICAqIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGltcHJvdmVtZW50IGZvciBiaWdnZXIgYXBwbGljYXRpb25zIHRoYXQgbWFrZSBtYW55IEhUVFAgcmVxdWVzdHNcclxuICAgKiBjb25jdXJyZW50bHkgKGNvbW1vbiBkdXJpbmcgYXBwbGljYXRpb24gYm9vdHN0cmFwKS5cclxuICAgKlxyXG4gICAqIERlZmF1bHRzIHRvIGZhbHNlLiBJZiBubyB2YWx1ZSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIElmIHRydWUsIHdoZW4gcmVxdWVzdHMgYXJlIGxvYWRlZCwgdGhleSB3aWxsIHNjaGVkdWxlIGEgZGVmZXJyZWRcclxuICAgKiAgICBcImFwcGx5XCIgb24gdGhlIG5leHQgdGljaywgZ2l2aW5nIHRpbWUgZm9yIHN1YnNlcXVlbnQgcmVxdWVzdHMgaW4gYSByb3VnaGx5IH4xMG1zIHdpbmRvd1xyXG4gICAqICAgIHRvIGxvYWQgYW5kIHNoYXJlIHRoZSBzYW1lIGRpZ2VzdCBjeWNsZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufE9iamVjdH0gSWYgYSB2YWx1ZSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhlICRodHRwUHJvdmlkZXIgZm9yIGNoYWluaW5nLlxyXG4gICAqICAgIG90aGVyd2lzZSwgcmV0dXJucyB0aGUgY3VycmVudCBjb25maWd1cmVkIHZhbHVlLlxyXG4gICAqKi9cclxuICB0aGlzLnVzZUFwcGx5QXN5bmMgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgdXNlQXBwbHlBc3luYyA9ICEhdmFsdWU7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVzZUFwcGx5QXN5bmM7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHVzZUxlZ2FjeVByb21pc2UgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI3VzZUxlZ2FjeVByb21pc2VFeHRlbnNpb25zXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBDb25maWd1cmUgYCRodHRwYCBzZXJ2aWNlIHRvIHJldHVybiBwcm9taXNlcyB3aXRob3V0IHRoZSBzaG9ydGhhbmQgbWV0aG9kcyBgc3VjY2Vzc2AgYW5kIGBlcnJvcmAuXHJcbiAgICogVGhpcyBzaG91bGQgYmUgdXNlZCB0byBtYWtlIHN1cmUgdGhhdCBhcHBsaWNhdGlvbnMgd29yayB3aXRob3V0IHRoZXNlIG1ldGhvZHMuXHJcbiAgICpcclxuICAgKiBEZWZhdWx0cyB0byB0cnVlLiBJZiBubyB2YWx1ZSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIElmIHRydWUsIGAkaHR0cGAgd2lsbCByZXR1cm4gYSBwcm9taXNlIHdpdGggdGhlIGRlcHJlY2F0ZWQgbGVnYWN5IGBzdWNjZXNzYCBhbmQgYGVycm9yYCBtZXRob2RzLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW58T2JqZWN0fSBJZiBhIHZhbHVlIGlzIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgJGh0dHBQcm92aWRlciBmb3IgY2hhaW5pbmcuXHJcbiAgICogICAgb3RoZXJ3aXNlLCByZXR1cm5zIHRoZSBjdXJyZW50IGNvbmZpZ3VyZWQgdmFsdWUuXHJcbiAgICoqL1xyXG4gIHRoaXMudXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnMgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgdXNlTGVnYWN5UHJvbWlzZSA9ICEhdmFsdWU7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVzZUxlZ2FjeVByb21pc2U7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICogQG5hbWUgJGh0dHBQcm92aWRlciNpbnRlcmNlcHRvcnNcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIEFycmF5IGNvbnRhaW5pbmcgc2VydmljZSBmYWN0b3JpZXMgZm9yIGFsbCBzeW5jaHJvbm91cyBvciBhc3luY2hyb25vdXMge0BsaW5rIG5nLiRodHRwICRodHRwfVxyXG4gICAqIHByZS1wcm9jZXNzaW5nIG9mIHJlcXVlc3Qgb3IgcG9zdHByb2Nlc3Npbmcgb2YgcmVzcG9uc2VzLlxyXG4gICAqXHJcbiAgICogVGhlc2Ugc2VydmljZSBmYWN0b3JpZXMgYXJlIG9yZGVyZWQgYnkgcmVxdWVzdCwgaS5lLiB0aGV5IGFyZSBhcHBsaWVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZVxyXG4gICAqIGFycmF5LCBvbiByZXF1ZXN0LCBidXQgcmV2ZXJzZSBvcmRlciwgb24gcmVzcG9uc2UuXHJcbiAgICpcclxuICAgKiB7QGxpbmsgbmcuJGh0dHAjaW50ZXJjZXB0b3JzIEludGVyY2VwdG9ycyBkZXRhaWxlZCBpbmZvfVxyXG4gICAqKi9cclxuICB2YXIgaW50ZXJjZXB0b3JGYWN0b3JpZXMgPSB0aGlzLmludGVyY2VwdG9ycyA9IFtdO1xyXG5cclxuICB0aGlzLiRnZXQgPSBbJyRodHRwQmFja2VuZCcsICckJGNvb2tpZVJlYWRlcicsICckY2FjaGVGYWN0b3J5JywgJyRyb290U2NvcGUnLCAnJHEnLCAnJGluamVjdG9yJyxcclxuICAgICAgZnVuY3Rpb24oJGh0dHBCYWNrZW5kLCAkJGNvb2tpZVJlYWRlciwgJGNhY2hlRmFjdG9yeSwgJHJvb3RTY29wZSwgJHEsICRpbmplY3Rvcikge1xyXG5cclxuICAgIHZhciBkZWZhdWx0Q2FjaGUgPSAkY2FjaGVGYWN0b3J5KCckaHR0cCcpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFrZSBzdXJlIHRoYXQgZGVmYXVsdCBwYXJhbSBzZXJpYWxpemVyIGlzIGV4cG9zZWQgYXMgYSBmdW5jdGlvblxyXG4gICAgICovXHJcbiAgICBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXIgPSBpc1N0cmluZyhkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXIpID9cclxuICAgICAgJGluamVjdG9yLmdldChkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXIpIDogZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJjZXB0b3JzIHN0b3JlZCBpbiByZXZlcnNlIG9yZGVyLiBJbm5lciBpbnRlcmNlcHRvcnMgYmVmb3JlIG91dGVyIGludGVyY2VwdG9ycy5cclxuICAgICAqIFRoZSByZXZlcnNhbCBpcyBuZWVkZWQgc28gdGhhdCB3ZSBjYW4gYnVpbGQgdXAgdGhlIGludGVyY2VwdGlvbiBjaGFpbiBhcm91bmQgdGhlXHJcbiAgICAgKiBzZXJ2ZXIgcmVxdWVzdC5cclxuICAgICAqL1xyXG4gICAgdmFyIHJldmVyc2VkSW50ZXJjZXB0b3JzID0gW107XHJcblxyXG4gICAgZm9yRWFjaChpbnRlcmNlcHRvckZhY3RvcmllcywgZnVuY3Rpb24oaW50ZXJjZXB0b3JGYWN0b3J5KSB7XHJcbiAgICAgIHJldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KVxyXG4gICAgICAgICAgPyAkaW5qZWN0b3IuZ2V0KGludGVyY2VwdG9yRmFjdG9yeSkgOiAkaW5qZWN0b3IuaW52b2tlKGludGVyY2VwdG9yRmFjdG9yeSkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAqIEBuYW1lICRodHRwXHJcbiAgICAgKiBAcmVxdWlyZXMgbmcuJGh0dHBCYWNrZW5kXHJcbiAgICAgKiBAcmVxdWlyZXMgJGNhY2hlRmFjdG9yeVxyXG4gICAgICogQHJlcXVpcmVzICRyb290U2NvcGVcclxuICAgICAqIEByZXF1aXJlcyAkcVxyXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGNvcmUgQW5ndWxhciBzZXJ2aWNlIHRoYXQgZmFjaWxpdGF0ZXMgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSByZW1vdGVcclxuICAgICAqIEhUVFAgc2VydmVycyB2aWEgdGhlIGJyb3dzZXIncyBbWE1MSHR0cFJlcXVlc3RdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL3htbGh0dHByZXF1ZXN0KVxyXG4gICAgICogb2JqZWN0IG9yIHZpYSBbSlNPTlBdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSlNPTlApLlxyXG4gICAgICpcclxuICAgICAqIEZvciB1bml0IHRlc3RpbmcgYXBwbGljYXRpb25zIHRoYXQgdXNlIGAkaHR0cGAgc2VydmljZSwgc2VlXHJcbiAgICAgKiB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCAkaHR0cEJhY2tlbmQgbW9ja30uXHJcbiAgICAgKlxyXG4gICAgICogRm9yIGEgaGlnaGVyIGxldmVsIG9mIGFic3RyYWN0aW9uLCBwbGVhc2UgY2hlY2sgb3V0IHRoZSB7QGxpbmsgbmdSZXNvdXJjZS4kcmVzb3VyY2VcclxuICAgICAqICRyZXNvdXJjZX0gc2VydmljZS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgJGh0dHAgQVBJIGlzIGJhc2VkIG9uIHRoZSB7QGxpbmsgbmcuJHEgZGVmZXJyZWQvcHJvbWlzZSBBUElzfSBleHBvc2VkIGJ5XHJcbiAgICAgKiB0aGUgJHEgc2VydmljZS4gV2hpbGUgZm9yIHNpbXBsZSB1c2FnZSBwYXR0ZXJucyB0aGlzIGRvZXNuJ3QgbWF0dGVyIG11Y2gsIGZvciBhZHZhbmNlZCB1c2FnZVxyXG4gICAgICogaXQgaXMgaW1wb3J0YW50IHRvIGZhbWlsaWFyaXplIHlvdXJzZWxmIHdpdGggdGhlc2UgQVBJcyBhbmQgdGhlIGd1YXJhbnRlZXMgdGhleSBwcm92aWRlLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiAjIyBHZW5lcmFsIHVzYWdlXHJcbiAgICAgKiBUaGUgYCRodHRwYCBzZXJ2aWNlIGlzIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgYSBzaW5nbGUgYXJndW1lbnQg4oCUIGEge0BsaW5rICRodHRwI3VzYWdlIGNvbmZpZ3VyYXRpb24gb2JqZWN0fSDigJRcclxuICAgICAqIHRoYXQgaXMgdXNlZCB0byBnZW5lcmF0ZSBhbiBIVFRQIHJlcXVlc3QgYW5kIHJldHVybnMgIGEge0BsaW5rIG5nLiRxIHByb21pc2V9LlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgIC8vIFNpbXBsZSBHRVQgcmVxdWVzdCBleGFtcGxlOlxyXG4gICAgICogICAkaHR0cCh7XHJcbiAgICAgKiAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAqICAgICB1cmw6ICcvc29tZVVybCdcclxuICAgICAqICAgfSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcclxuICAgICAqICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHlcclxuICAgICAqICAgICAgIC8vIHdoZW4gdGhlIHJlc3BvbnNlIGlzIGF2YWlsYWJsZVxyXG4gICAgICogICAgIH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2UpIHtcclxuICAgICAqICAgICAgIC8vIGNhbGxlZCBhc3luY2hyb25vdXNseSBpZiBhbiBlcnJvciBvY2N1cnNcclxuICAgICAqICAgICAgIC8vIG9yIHNlcnZlciByZXR1cm5zIHJlc3BvbnNlIHdpdGggYW4gZXJyb3Igc3RhdHVzLlxyXG4gICAgICogICAgIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHJlc3BvbnNlIG9iamVjdCBoYXMgdGhlc2UgcHJvcGVydGllczpcclxuICAgICAqXHJcbiAgICAgKiAgIC0gKipkYXRhKiog4oCTIGB7c3RyaW5nfE9iamVjdH1gIOKAkyBUaGUgcmVzcG9uc2UgYm9keSB0cmFuc2Zvcm1lZCB3aXRoIHRoZSB0cmFuc2Zvcm1cclxuICAgICAqICAgICBmdW5jdGlvbnMuXHJcbiAgICAgKiAgIC0gKipzdGF0dXMqKiDigJMgYHtudW1iZXJ9YCDigJMgSFRUUCBzdGF0dXMgY29kZSBvZiB0aGUgcmVzcG9uc2UuXHJcbiAgICAgKiAgIC0gKipoZWFkZXJzKiog4oCTIGB7ZnVuY3Rpb24oW2hlYWRlck5hbWVdKX1gIOKAkyBIZWFkZXIgZ2V0dGVyIGZ1bmN0aW9uLlxyXG4gICAgICogICAtICoqY29uZmlnKiog4oCTIGB7T2JqZWN0fWAg4oCTIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXF1ZXN0LlxyXG4gICAgICogICAtICoqc3RhdHVzVGV4dCoqIOKAkyBge3N0cmluZ31gIOKAkyBIVFRQIHN0YXR1cyB0ZXh0IG9mIHRoZSByZXNwb25zZS5cclxuICAgICAqXHJcbiAgICAgKiBBIHJlc3BvbnNlIHN0YXR1cyBjb2RlIGJldHdlZW4gMjAwIGFuZCAyOTkgaXMgY29uc2lkZXJlZCBhIHN1Y2Nlc3Mgc3RhdHVzIGFuZFxyXG4gICAgICogd2lsbCByZXN1bHQgaW4gdGhlIHN1Y2Nlc3MgY2FsbGJhY2sgYmVpbmcgY2FsbGVkLiBOb3RlIHRoYXQgaWYgdGhlIHJlc3BvbnNlIGlzIGEgcmVkaXJlY3QsXHJcbiAgICAgKiBYTUxIdHRwUmVxdWVzdCB3aWxsIHRyYW5zcGFyZW50bHkgZm9sbG93IGl0LCBtZWFuaW5nIHRoYXQgdGhlIGVycm9yIGNhbGxiYWNrIHdpbGwgbm90IGJlXHJcbiAgICAgKiBjYWxsZWQgZm9yIHN1Y2ggcmVzcG9uc2VzLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiAjIyBTaG9ydGN1dCBtZXRob2RzXHJcbiAgICAgKlxyXG4gICAgICogU2hvcnRjdXQgbWV0aG9kcyBhcmUgYWxzbyBhdmFpbGFibGUuIEFsbCBzaG9ydGN1dCBtZXRob2RzIHJlcXVpcmUgcGFzc2luZyBpbiB0aGUgVVJMLCBhbmRcclxuICAgICAqIHJlcXVlc3QgZGF0YSBtdXN0IGJlIHBhc3NlZCBpbiBmb3IgUE9TVC9QVVQgcmVxdWVzdHMuIEFuIG9wdGlvbmFsIGNvbmZpZyBjYW4gYmUgcGFzc2VkIGFzIHRoZVxyXG4gICAgICogbGFzdCBhcmd1bWVudC5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICAkaHR0cC5nZXQoJy9zb21lVXJsJywgY29uZmlnKS50aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XHJcbiAgICAgKiAgICRodHRwLnBvc3QoJy9zb21lVXJsJywgZGF0YSwgY29uZmlnKS50aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBDb21wbGV0ZSBsaXN0IG9mIHNob3J0Y3V0IG1ldGhvZHM6XHJcbiAgICAgKlxyXG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjZ2V0ICRodHRwLmdldH1cclxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2hlYWQgJGh0dHAuaGVhZH1cclxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3Bvc3QgJGh0dHAucG9zdH1cclxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3B1dCAkaHR0cC5wdXR9XHJcbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNkZWxldGUgJGh0dHAuZGVsZXRlfVxyXG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjanNvbnAgJGh0dHAuanNvbnB9XHJcbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwYXRjaCAkaHR0cC5wYXRjaH1cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogIyMgV3JpdGluZyBVbml0IFRlc3RzIHRoYXQgdXNlICRodHRwXHJcbiAgICAgKiBXaGVuIHVuaXQgdGVzdGluZyAodXNpbmcge0BsaW5rIG5nTW9jayBuZ01vY2t9KSwgaXQgaXMgbmVjZXNzYXJ5IHRvIGNhbGxcclxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kI2ZsdXNoICRodHRwQmFja2VuZC5mbHVzaCgpfSB0byBmbHVzaCBlYWNoIHBlbmRpbmdcclxuICAgICAqIHJlcXVlc3QgdXNpbmcgdHJhaW5lZCByZXNwb25zZXMuXHJcbiAgICAgKlxyXG4gICAgICogYGBgXHJcbiAgICAgKiAkaHR0cEJhY2tlbmQuZXhwZWN0R0VUKC4uLik7XHJcbiAgICAgKiAkaHR0cC5nZXQoLi4uKTtcclxuICAgICAqICRodHRwQmFja2VuZC5mbHVzaCgpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogIyMgRGVwcmVjYXRpb24gTm90aWNlXHJcbiAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAgICAgKiAgIFRoZSBgJGh0dHBgIGxlZ2FjeSBwcm9taXNlIG1ldGhvZHMgYHN1Y2Nlc3NgIGFuZCBgZXJyb3JgIGhhdmUgYmVlbiBkZXByZWNhdGVkLlxyXG4gICAgICogICBVc2UgdGhlIHN0YW5kYXJkIGB0aGVuYCBtZXRob2QgaW5zdGVhZC5cclxuICAgICAqICAgSWYge0BsaW5rICRodHRwUHJvdmlkZXIjdXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnMgYCRodHRwUHJvdmlkZXIudXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnNgfSBpcyBzZXQgdG9cclxuICAgICAqICAgYGZhbHNlYCB0aGVuIHRoZXNlIG1ldGhvZHMgd2lsbCB0aHJvdyB7QGxpbmsgJGh0dHA6bGVnYWN5IGAkaHR0cC9sZWdhY3lgfSBlcnJvci5cclxuICAgICAqIDwvZGl2PlxyXG4gICAgICpcclxuICAgICAqICMjIFNldHRpbmcgSFRUUCBIZWFkZXJzXHJcbiAgICAgKlxyXG4gICAgICogVGhlICRodHRwIHNlcnZpY2Ugd2lsbCBhdXRvbWF0aWNhbGx5IGFkZCBjZXJ0YWluIEhUVFAgaGVhZGVycyB0byBhbGwgcmVxdWVzdHMuIFRoZXNlIGRlZmF1bHRzXHJcbiAgICAgKiBjYW4gYmUgZnVsbHkgY29uZmlndXJlZCBieSBhY2Nlc3NpbmcgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnNgIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIG9iamVjdCwgd2hpY2ggY3VycmVudGx5IGNvbnRhaW5zIHRoaXMgZGVmYXVsdCBjb25maWd1cmF0aW9uOlxyXG4gICAgICpcclxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25gIChoZWFkZXJzIHRoYXQgYXJlIGNvbW1vbiBmb3IgYWxsIHJlcXVlc3RzKTpcclxuICAgICAqICAgLSBgQWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqIC8gKmBcclxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5wb3N0YDogKGhlYWRlciBkZWZhdWx0cyBmb3IgUE9TVCByZXF1ZXN0cylcclxuICAgICAqICAgLSBgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uYFxyXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLnB1dGAgKGhlYWRlciBkZWZhdWx0cyBmb3IgUFVUIHJlcXVlc3RzKVxyXG4gICAgICogICAtIGBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25gXHJcbiAgICAgKlxyXG4gICAgICogVG8gYWRkIG9yIG92ZXJ3cml0ZSB0aGVzZSBkZWZhdWx0cywgc2ltcGx5IGFkZCBvciByZW1vdmUgYSBwcm9wZXJ0eSBmcm9tIHRoZXNlIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIG9iamVjdHMuIFRvIGFkZCBoZWFkZXJzIGZvciBhbiBIVFRQIG1ldGhvZCBvdGhlciB0aGFuIFBPU1Qgb3IgUFVULCBzaW1wbHkgYWRkIGEgbmV3IG9iamVjdFxyXG4gICAgICogd2l0aCB0aGUgbG93ZXJjYXNlZCBIVFRQIG1ldGhvZCBuYW1lIGFzIHRoZSBrZXksIGUuZy5cclxuICAgICAqIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuZ2V0ID0geyAnTXktSGVhZGVyJyA6ICd2YWx1ZScgfWAuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGRlZmF1bHRzIGNhbiBhbHNvIGJlIHNldCBhdCBydW50aW1lIHZpYSB0aGUgYCRodHRwLmRlZmF1bHRzYCBvYmplY3QgaW4gdGhlIHNhbWVcclxuICAgICAqIGZhc2hpb24uIEZvciBleGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYFxyXG4gICAgICogbW9kdWxlLnJ1bihmdW5jdGlvbigkaHR0cCkge1xyXG4gICAgICogICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljIFltVmxjRHBpYjI5dyc7XHJcbiAgICAgKiB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEluIGFkZGl0aW9uLCB5b3UgY2FuIHN1cHBseSBhIGBoZWFkZXJzYCBwcm9wZXJ0eSBpbiB0aGUgY29uZmlnIG9iamVjdCBwYXNzZWQgd2hlblxyXG4gICAgICogY2FsbGluZyBgJGh0dHAoY29uZmlnKWAsIHdoaWNoIG92ZXJyaWRlcyB0aGUgZGVmYXVsdHMgd2l0aG91dCBjaGFuZ2luZyB0aGVtIGdsb2JhbGx5LlxyXG4gICAgICpcclxuICAgICAqIFRvIGV4cGxpY2l0bHkgcmVtb3ZlIGEgaGVhZGVyIGF1dG9tYXRpY2FsbHkgYWRkZWQgdmlhICRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycyBvbiBhIHBlciByZXF1ZXN0IGJhc2lzLFxyXG4gICAgICogVXNlIHRoZSBgaGVhZGVyc2AgcHJvcGVydHksIHNldHRpbmcgdGhlIGRlc2lyZWQgaGVhZGVyIHRvIGB1bmRlZmluZWRgLiBGb3IgZXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogdmFyIHJlcSA9IHtcclxuICAgICAqICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAqICB1cmw6ICdodHRwOi8vZXhhbXBsZS5jb20nLFxyXG4gICAgICogIGhlYWRlcnM6IHtcclxuICAgICAqICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcclxuICAgICAqICB9LFxyXG4gICAgICogIGRhdGE6IHsgdGVzdDogJ3Rlc3QnIH1cclxuICAgICAqIH1cclxuICAgICAqXHJcbiAgICAgKiAkaHR0cChyZXEpLnRoZW4oZnVuY3Rpb24oKXsuLi59LCBmdW5jdGlvbigpey4uLn0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogIyMgVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcclxuICAgICAqXHJcbiAgICAgKiBCb3RoIHJlcXVlc3RzIGFuZCByZXNwb25zZXMgY2FuIGJlIHRyYW5zZm9ybWVkIHVzaW5nIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uczogYHRyYW5zZm9ybVJlcXVlc3RgXHJcbiAgICAgKiBhbmQgYHRyYW5zZm9ybVJlc3BvbnNlYC4gVGhlc2UgcHJvcGVydGllcyBjYW4gYmUgYSBzaW5nbGUgZnVuY3Rpb24gdGhhdCByZXR1cm5zXHJcbiAgICAgKiB0aGUgdHJhbnNmb3JtZWQgdmFsdWUgKGBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpYCkgb3IgYW4gYXJyYXkgb2Ygc3VjaCB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMsXHJcbiAgICAgKiB3aGljaCBhbGxvd3MgeW91IHRvIGBwdXNoYCBvciBgdW5zaGlmdGAgYSBuZXcgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb24gaW50byB0aGUgdHJhbnNmb3JtYXRpb24gY2hhaW4uXHJcbiAgICAgKlxyXG4gICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAqICoqTm90ZToqKiBBbmd1bGFyIGRvZXMgbm90IG1ha2UgYSBjb3B5IG9mIHRoZSBgZGF0YWAgcGFyYW1ldGVyIGJlZm9yZSBpdCBpcyBwYXNzZWQgaW50byB0aGUgYHRyYW5zZm9ybVJlcXVlc3RgIHBpcGVsaW5lLlxyXG4gICAgICogVGhhdCBtZWFucyBjaGFuZ2VzIHRvIHRoZSBwcm9wZXJ0aWVzIG9mIGBkYXRhYCBhcmUgbm90IGxvY2FsIHRvIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gKHNpbmNlIEphdmFzY3JpcHQgcGFzc2VzIG9iamVjdHMgYnkgcmVmZXJlbmNlKS5cclxuICAgICAqIEZvciBleGFtcGxlLCB3aGVuIGNhbGxpbmcgYCRodHRwLmdldCh1cmwsICRzY29wZS5teU9iamVjdClgLCBtb2RpZmljYXRpb25zIHRvIHRoZSBvYmplY3QncyBwcm9wZXJ0aWVzIGluIGEgdHJhbnNmb3JtUmVxdWVzdFxyXG4gICAgICogZnVuY3Rpb24gd2lsbCBiZSByZWZsZWN0ZWQgb24gdGhlIHNjb3BlIGFuZCBpbiBhbnkgdGVtcGxhdGVzIHdoZXJlIHRoZSBvYmplY3QgaXMgZGF0YS1ib3VuZC5cclxuICAgICAqIFRvIHByZXZlbnQgdGhpcywgdHJhbnNmb3JtIGZ1bmN0aW9ucyBzaG91bGQgaGF2ZSBubyBzaWRlLWVmZmVjdHMuXHJcbiAgICAgKiBJZiB5b3UgbmVlZCB0byBtb2RpZnkgcHJvcGVydGllcywgaXQgaXMgcmVjb21tZW5kZWQgdG8gbWFrZSBhIGNvcHkgb2YgdGhlIGRhdGEsIG9yIGNyZWF0ZSBuZXcgb2JqZWN0IHRvIHJldHVybi5cclxuICAgICAqIDwvZGl2PlxyXG4gICAgICpcclxuICAgICAqICMjIyBEZWZhdWx0IFRyYW5zZm9ybWF0aW9uc1xyXG4gICAgICpcclxuICAgICAqIFRoZSBgJGh0dHBQcm92aWRlcmAgcHJvdmlkZXIgYW5kIGAkaHR0cGAgc2VydmljZSBleHBvc2UgYGRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgIGFuZFxyXG4gICAgICogYGRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzLiBJZiBhIHJlcXVlc3QgZG9lcyBub3QgcHJvdmlkZSBpdHMgb3duIHRyYW5zZm9ybWF0aW9uc1xyXG4gICAgICogdGhlbiB0aGVzZSB3aWxsIGJlIGFwcGxpZWQuXHJcbiAgICAgKlxyXG4gICAgICogWW91IGNhbiBhdWdtZW50IG9yIHJlcGxhY2UgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIGJ5IG1vZGlmeWluZyB0aGVzZSBwcm9wZXJ0aWVzIGJ5IGFkZGluZyB0byBvclxyXG4gICAgICogcmVwbGFjaW5nIHRoZSBhcnJheS5cclxuICAgICAqXHJcbiAgICAgKiBBbmd1bGFyIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnM6XHJcbiAgICAgKlxyXG4gICAgICogUmVxdWVzdCB0cmFuc2Zvcm1hdGlvbnMgKGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgIGFuZCBgJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGApOlxyXG4gICAgICpcclxuICAgICAqIC0gSWYgdGhlIGBkYXRhYCBwcm9wZXJ0eSBvZiB0aGUgcmVxdWVzdCBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWlucyBhbiBvYmplY3QsIHNlcmlhbGl6ZSBpdFxyXG4gICAgICogICBpbnRvIEpTT04gZm9ybWF0LlxyXG4gICAgICpcclxuICAgICAqIFJlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucyAoYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VgIGFuZCBgJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VgKTpcclxuICAgICAqXHJcbiAgICAgKiAgLSBJZiBYU1JGIHByZWZpeCBpcyBkZXRlY3RlZCwgc3RyaXAgaXQgKHNlZSBTZWN1cml0eSBDb25zaWRlcmF0aW9ucyBzZWN0aW9uIGJlbG93KS5cclxuICAgICAqICAtIElmIEpTT04gcmVzcG9uc2UgaXMgZGV0ZWN0ZWQsIGRlc2VyaWFsaXplIGl0IHVzaW5nIGEgSlNPTiBwYXJzZXIuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqICMjIyBPdmVycmlkaW5nIHRoZSBEZWZhdWx0IFRyYW5zZm9ybWF0aW9ucyBQZXIgUmVxdWVzdFxyXG4gICAgICpcclxuICAgICAqIElmIHlvdSB3aXNoIG92ZXJyaWRlIHRoZSByZXF1ZXN0L3Jlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucyBvbmx5IGZvciBhIHNpbmdsZSByZXF1ZXN0IHRoZW4gcHJvdmlkZVxyXG4gICAgICogYHRyYW5zZm9ybVJlcXVlc3RgIGFuZC9vciBgdHJhbnNmb3JtUmVzcG9uc2VgIHByb3BlcnRpZXMgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHBhc3NlZFxyXG4gICAgICogaW50byBgJGh0dHBgLlxyXG4gICAgICpcclxuICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgcHJvdmlkZSB0aGVzZSBwcm9wZXJ0aWVzIG9uIHRoZSBjb25maWcgb2JqZWN0IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyB3aWxsIGJlXHJcbiAgICAgKiBvdmVyd3JpdHRlbi4gSWYgeW91IHdpc2ggdG8gYXVnbWVudCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMgdGhlbiB5b3UgbXVzdCBpbmNsdWRlIHRoZW0gaW4geW91clxyXG4gICAgICogbG9jYWwgdHJhbnNmb3JtYXRpb24gYXJyYXkuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGZvbGxvd2luZyBjb2RlIGRlbW9uc3RyYXRlcyBhZGRpbmcgYSBuZXcgcmVzcG9uc2UgdHJhbnNmb3JtYXRpb24gdG8gYmUgcnVuIGFmdGVyIHRoZSBkZWZhdWx0IHJlc3BvbnNlXHJcbiAgICAgKiB0cmFuc2Zvcm1hdGlvbnMgaGF2ZSBiZWVuIHJ1bi5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZnVuY3Rpb24gYXBwZW5kVHJhbnNmb3JtKGRlZmF1bHRzLCB0cmFuc2Zvcm0pIHtcclxuICAgICAqXHJcbiAgICAgKiAgIC8vIFdlIGNhbid0IGd1YXJhbnRlZSB0aGF0IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9uIGlzIGFuIGFycmF5XHJcbiAgICAgKiAgIGRlZmF1bHRzID0gYW5ndWxhci5pc0FycmF5KGRlZmF1bHRzKSA/IGRlZmF1bHRzIDogW2RlZmF1bHRzXTtcclxuICAgICAqXHJcbiAgICAgKiAgIC8vIEFwcGVuZCB0aGUgbmV3IHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBkZWZhdWx0c1xyXG4gICAgICogICByZXR1cm4gZGVmYXVsdHMuY29uY2F0KHRyYW5zZm9ybSk7XHJcbiAgICAgKiB9XHJcbiAgICAgKlxyXG4gICAgICogJGh0dHAoe1xyXG4gICAgICogICB1cmw6ICcuLi4nLFxyXG4gICAgICogICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICogICB0cmFuc2Zvcm1SZXNwb25zZTogYXBwZW5kVHJhbnNmb3JtKCRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICogICAgIHJldHVybiBkb1RyYW5zZm9ybSh2YWx1ZSk7XHJcbiAgICAgKiAgIH0pXHJcbiAgICAgKiB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiAjIyBDYWNoaW5nXHJcbiAgICAgKlxyXG4gICAgICoge0BsaW5rIG5nLiRodHRwIGAkaHR0cGB9IHJlc3BvbnNlcyBhcmUgbm90IGNhY2hlZCBieSBkZWZhdWx0LiBUbyBlbmFibGUgY2FjaGluZywgeW91IG11c3RcclxuICAgICAqIHNldCB0aGUgY29uZmlnLmNhY2hlIHZhbHVlIG9yIHRoZSBkZWZhdWx0IGNhY2hlIHZhbHVlIHRvIFRSVUUgb3IgdG8gYSBjYWNoZSBvYmplY3QgKGNyZWF0ZWRcclxuICAgICAqIHdpdGgge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSkuIElmIGRlZmluZWQsIHRoZSB2YWx1ZSBvZiBjb25maWcuY2FjaGUgdGFrZXNcclxuICAgICAqIHByZWNlZGVuY2Ugb3ZlciB0aGUgZGVmYXVsdCBjYWNoZSB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKiBJbiBvcmRlciB0bzpcclxuICAgICAqICAgKiBjYWNoZSBhbGwgcmVzcG9uc2VzIC0gc2V0IHRoZSBkZWZhdWx0IGNhY2hlIHZhbHVlIHRvIFRSVUUgb3IgdG8gYSBjYWNoZSBvYmplY3RcclxuICAgICAqICAgKiBjYWNoZSBhIHNwZWNpZmljIHJlc3BvbnNlIC0gc2V0IGNvbmZpZy5jYWNoZSB2YWx1ZSB0byBUUlVFIG9yIHRvIGEgY2FjaGUgb2JqZWN0XHJcbiAgICAgKlxyXG4gICAgICogSWYgY2FjaGluZyBpcyBlbmFibGVkLCBidXQgbmVpdGhlciB0aGUgZGVmYXVsdCBjYWNoZSBub3IgY29uZmlnLmNhY2hlIGFyZSBzZXQgdG8gYSBjYWNoZSBvYmplY3QsXHJcbiAgICAgKiB0aGVuIHRoZSBkZWZhdWx0IGAkY2FjaGVGYWN0b3J5KCRodHRwKWAgb2JqZWN0IGlzIHVzZWQuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUgY2FuIGJlIHNldCBieSB1cGRhdGluZyB0aGVcclxuICAgICAqIHtAbGluayBuZy4kaHR0cCNkZWZhdWx0cyBgJGh0dHAuZGVmYXVsdHMuY2FjaGVgfSBwcm9wZXJ0eSBvciB0aGVcclxuICAgICAqIHtAbGluayAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmNhY2hlYH0gcHJvcGVydHkuXHJcbiAgICAgKlxyXG4gICAgICogV2hlbiBjYWNoaW5nIGlzIGVuYWJsZWQsIHtAbGluayBuZy4kaHR0cCBgJGh0dHBgfSBzdG9yZXMgdGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciB1c2luZ1xyXG4gICAgICogdGhlIHJlbGV2YW50IGNhY2hlIG9iamVjdC4gVGhlIG5leHQgdGltZSB0aGUgc2FtZSByZXF1ZXN0IGlzIG1hZGUsIHRoZSByZXNwb25zZSBpcyByZXR1cm5lZFxyXG4gICAgICogZnJvbSB0aGUgY2FjaGUgd2l0aG91dCBzZW5kaW5nIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyLlxyXG4gICAgICpcclxuICAgICAqIFRha2Ugbm90ZSB0aGF0OlxyXG4gICAgICpcclxuICAgICAqICAgKiBPbmx5IEdFVCBhbmQgSlNPTlAgcmVxdWVzdHMgYXJlIGNhY2hlZC5cclxuICAgICAqICAgKiBUaGUgY2FjaGUga2V5IGlzIHRoZSByZXF1ZXN0IFVSTCBpbmNsdWRpbmcgc2VhcmNoIHBhcmFtZXRlcnM7IGhlYWRlcnMgYXJlIG5vdCBjb25zaWRlcmVkLlxyXG4gICAgICogICAqIENhY2hlZCByZXNwb25zZXMgYXJlIHJldHVybmVkIGFzeW5jaHJvbm91c2x5LCBpbiB0aGUgc2FtZSB3YXkgYXMgcmVzcG9uc2VzIGZyb20gdGhlIHNlcnZlci5cclxuICAgICAqICAgKiBJZiBtdWx0aXBsZSBpZGVudGljYWwgcmVxdWVzdHMgYXJlIG1hZGUgdXNpbmcgdGhlIHNhbWUgY2FjaGUsIHdoaWNoIGlzIG5vdCB5ZXQgcG9wdWxhdGVkLFxyXG4gICAgICogICAgIG9uZSByZXF1ZXN0IHdpbGwgYmUgbWFkZSB0byB0aGUgc2VydmVyIGFuZCByZW1haW5pbmcgcmVxdWVzdHMgd2lsbCByZXR1cm4gdGhlIHNhbWUgcmVzcG9uc2UuXHJcbiAgICAgKiAgICogQSBjYWNoZS1jb250cm9sIGhlYWRlciBvbiB0aGUgcmVzcG9uc2UgZG9lcyBub3QgYWZmZWN0IGlmIG9yIGhvdyByZXNwb25zZXMgYXJlIGNhY2hlZC5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogIyMgSW50ZXJjZXB0b3JzXHJcbiAgICAgKlxyXG4gICAgICogQmVmb3JlIHlvdSBzdGFydCBjcmVhdGluZyBpbnRlcmNlcHRvcnMsIGJlIHN1cmUgdG8gdW5kZXJzdGFuZCB0aGVcclxuICAgICAqIHtAbGluayBuZy4kcSAkcSBhbmQgZGVmZXJyZWQvcHJvbWlzZSBBUElzfS5cclxuICAgICAqXHJcbiAgICAgKiBGb3IgcHVycG9zZXMgb2YgZ2xvYmFsIGVycm9yIGhhbmRsaW5nLCBhdXRoZW50aWNhdGlvbiwgb3IgYW55IGtpbmQgb2Ygc3luY2hyb25vdXMgb3JcclxuICAgICAqIGFzeW5jaHJvbm91cyBwcmUtcHJvY2Vzc2luZyBvZiByZXF1ZXN0IG9yIHBvc3Rwcm9jZXNzaW5nIG9mIHJlc3BvbnNlcywgaXQgaXMgZGVzaXJhYmxlIHRvIGJlXHJcbiAgICAgKiBhYmxlIHRvIGludGVyY2VwdCByZXF1ZXN0cyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIHRvIHRoZSBzZXJ2ZXIgYW5kXHJcbiAgICAgKiByZXNwb25zZXMgYmVmb3JlIHRoZXkgYXJlIGhhbmRlZCBvdmVyIHRvIHRoZSBhcHBsaWNhdGlvbiBjb2RlIHRoYXRcclxuICAgICAqIGluaXRpYXRlZCB0aGVzZSByZXF1ZXN0cy4gVGhlIGludGVyY2VwdG9ycyBsZXZlcmFnZSB0aGUge0BsaW5rIG5nLiRxXHJcbiAgICAgKiBwcm9taXNlIEFQSXN9IHRvIGZ1bGZpbGwgdGhpcyBuZWVkIGZvciBib3RoIHN5bmNocm9ub3VzIGFuZCBhc3luY2hyb25vdXMgcHJlLXByb2Nlc3NpbmcuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGludGVyY2VwdG9ycyBhcmUgc2VydmljZSBmYWN0b3JpZXMgdGhhdCBhcmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSBgJGh0dHBQcm92aWRlcmAgYnlcclxuICAgICAqIGFkZGluZyB0aGVtIHRvIHRoZSBgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnNgIGFycmF5LiBUaGUgZmFjdG9yeSBpcyBjYWxsZWQgYW5kXHJcbiAgICAgKiBpbmplY3RlZCB3aXRoIGRlcGVuZGVuY2llcyAoaWYgc3BlY2lmaWVkKSBhbmQgcmV0dXJucyB0aGUgaW50ZXJjZXB0b3IuXHJcbiAgICAgKlxyXG4gICAgICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiBpbnRlcmNlcHRvcnMgKGFuZCB0d28ga2luZHMgb2YgcmVqZWN0aW9uIGludGVyY2VwdG9ycyk6XHJcbiAgICAgKlxyXG4gICAgICogICAqIGByZXF1ZXN0YDogaW50ZXJjZXB0b3JzIGdldCBjYWxsZWQgd2l0aCBhIGh0dHAge0BsaW5rICRodHRwI3VzYWdlIGNvbmZpZ30gb2JqZWN0LiBUaGUgZnVuY3Rpb24gaXMgZnJlZSB0b1xyXG4gICAgICogICAgIG1vZGlmeSB0aGUgYGNvbmZpZ2Agb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGBjb25maWdgXHJcbiAgICAgKiAgICAgb2JqZWN0IGRpcmVjdGx5LCBvciBhIHByb21pc2UgY29udGFpbmluZyB0aGUgYGNvbmZpZ2Agb3IgYSBuZXcgYGNvbmZpZ2Agb2JqZWN0LlxyXG4gICAgICogICAqIGByZXF1ZXN0RXJyb3JgOiBpbnRlcmNlcHRvciBnZXRzIGNhbGxlZCB3aGVuIGEgcHJldmlvdXMgaW50ZXJjZXB0b3IgdGhyZXcgYW4gZXJyb3Igb3JcclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxyXG4gICAgICogICAqIGByZXNwb25zZWA6IGludGVyY2VwdG9ycyBnZXQgY2FsbGVkIHdpdGggaHR0cCBgcmVzcG9uc2VgIG9iamVjdC4gVGhlIGZ1bmN0aW9uIGlzIGZyZWUgdG9cclxuICAgICAqICAgICBtb2RpZnkgdGhlIGByZXNwb25zZWAgb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGByZXNwb25zZWBcclxuICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGFzIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgcmVzcG9uc2VgIG9yIGEgbmV3IGByZXNwb25zZWAgb2JqZWN0LlxyXG4gICAgICogICAqIGByZXNwb25zZUVycm9yYDogaW50ZXJjZXB0b3IgZ2V0cyBjYWxsZWQgd2hlbiBhIHByZXZpb3VzIGludGVyY2VwdG9yIHRocmV3IGFuIGVycm9yIG9yXHJcbiAgICAgKiAgICAgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbi5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqICAgLy8gcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIGFzIGEgc2VydmljZVxyXG4gICAgICogICAkcHJvdmlkZS5mYWN0b3J5KCdteUh0dHBJbnRlcmNlcHRvcicsIGZ1bmN0aW9uKCRxLCBkZXBlbmRlbmN5MSwgZGVwZW5kZW5jeTIpIHtcclxuICAgICAqICAgICByZXR1cm4ge1xyXG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgKiAgICAgICAncmVxdWVzdCc6IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xyXG4gICAgICogICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICogICAgICAgfSxcclxuICAgICAqXHJcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAqICAgICAgJ3JlcXVlc3RFcnJvcic6IGZ1bmN0aW9uKHJlamVjdGlvbikge1xyXG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcclxuICAgICAqICAgICAgICAgaWYgKGNhblJlY292ZXIocmVqZWN0aW9uKSkge1xyXG4gICAgICogICAgICAgICAgIHJldHVybiByZXNwb25zZU9yTmV3UHJvbWlzZVxyXG4gICAgICogICAgICAgICB9XHJcbiAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcclxuICAgICAqICAgICAgIH0sXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBzdWNjZXNzXHJcbiAgICAgKiAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAqICAgICAgIH0sXHJcbiAgICAgKlxyXG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgKiAgICAgICdyZXNwb25zZUVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XHJcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBlcnJvclxyXG4gICAgICogICAgICAgICBpZiAoY2FuUmVjb3ZlcihyZWplY3Rpb24pKSB7XHJcbiAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXHJcbiAgICAgKiAgICAgICAgIH1cclxuICAgICAqICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICogICAgICAgfVxyXG4gICAgICogICAgIH07XHJcbiAgICAgKiAgIH0pO1xyXG4gICAgICpcclxuICAgICAqICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnbXlIdHRwSW50ZXJjZXB0b3InKTtcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogICAvLyBhbHRlcm5hdGl2ZWx5LCByZWdpc3RlciB0aGUgaW50ZXJjZXB0b3IgdmlhIGFuIGFub255bW91cyBmYWN0b3J5XHJcbiAgICAgKiAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goZnVuY3Rpb24oJHEsIGRlcGVuZGVuY3kxLCBkZXBlbmRlbmN5Mikge1xyXG4gICAgICogICAgIHJldHVybiB7XHJcbiAgICAgKiAgICAgICdyZXF1ZXN0JzogZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXHJcbiAgICAgKiAgICAgICB9LFxyXG4gICAgICpcclxuICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXHJcbiAgICAgKiAgICAgICB9XHJcbiAgICAgKiAgICAgfTtcclxuICAgICAqICAgfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiAjIyBTZWN1cml0eSBDb25zaWRlcmF0aW9uc1xyXG4gICAgICpcclxuICAgICAqIFdoZW4gZGVzaWduaW5nIHdlYiBhcHBsaWNhdGlvbnMsIGNvbnNpZGVyIHNlY3VyaXR5IHRocmVhdHMgZnJvbTpcclxuICAgICAqXHJcbiAgICAgKiAtIFtKU09OIHZ1bG5lcmFiaWxpdHldKGh0dHA6Ly9oYWFja2VkLmNvbS9hcmNoaXZlLzIwMDgvMTEvMjAvYW5hdG9teS1vZi1hLXN1YnRsZS1qc29uLXZ1bG5lcmFiaWxpdHkuYXNweClcclxuICAgICAqIC0gW1hTUkZdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3Jvc3Mtc2l0ZV9yZXF1ZXN0X2ZvcmdlcnkpXHJcbiAgICAgKlxyXG4gICAgICogQm90aCBzZXJ2ZXIgYW5kIHRoZSBjbGllbnQgbXVzdCBjb29wZXJhdGUgaW4gb3JkZXIgdG8gZWxpbWluYXRlIHRoZXNlIHRocmVhdHMuIEFuZ3VsYXIgY29tZXNcclxuICAgICAqIHByZS1jb25maWd1cmVkIHdpdGggc3RyYXRlZ2llcyB0aGF0IGFkZHJlc3MgdGhlc2UgaXNzdWVzLCBidXQgZm9yIHRoaXMgdG8gd29yayBiYWNrZW5kIHNlcnZlclxyXG4gICAgICogY29vcGVyYXRpb24gaXMgcmVxdWlyZWQuXHJcbiAgICAgKlxyXG4gICAgICogIyMjIEpTT04gVnVsbmVyYWJpbGl0eSBQcm90ZWN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQSBbSlNPTiB2dWxuZXJhYmlsaXR5XShodHRwOi8vaGFhY2tlZC5jb20vYXJjaGl2ZS8yMDA4LzExLzIwL2FuYXRvbXktb2YtYS1zdWJ0bGUtanNvbi12dWxuZXJhYmlsaXR5LmFzcHgpXHJcbiAgICAgKiBhbGxvd3MgdGhpcmQgcGFydHkgd2Vic2l0ZSB0byB0dXJuIHlvdXIgSlNPTiByZXNvdXJjZSBVUkwgaW50b1xyXG4gICAgICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0IHVuZGVyIHNvbWUgY29uZGl0aW9ucy4gVG9cclxuICAgICAqIGNvdW50ZXIgdGhpcyB5b3VyIHNlcnZlciBjYW4gcHJlZml4IGFsbCBKU09OIHJlcXVlc3RzIHdpdGggZm9sbG93aW5nIHN0cmluZyBgXCIpXX0nLFxcblwiYC5cclxuICAgICAqIEFuZ3VsYXIgd2lsbCBhdXRvbWF0aWNhbGx5IHN0cmlwIHRoZSBwcmVmaXggYmVmb3JlIHByb2Nlc3NpbmcgaXQgYXMgSlNPTi5cclxuICAgICAqXHJcbiAgICAgKiBGb3IgZXhhbXBsZSBpZiB5b3VyIHNlcnZlciBuZWVkcyB0byByZXR1cm46XHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogWydvbmUnLCd0d28nXVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogd2hpY2ggaXMgdnVsbmVyYWJsZSB0byBhdHRhY2ssIHlvdXIgc2VydmVyIGNhbiByZXR1cm46XHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogKV19JyxcclxuICAgICAqIFsnb25lJywndHdvJ11cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEFuZ3VsYXIgd2lsbCBzdHJpcCB0aGUgcHJlZml4LCBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgSlNPTi5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogIyMjIENyb3NzIFNpdGUgUmVxdWVzdCBGb3JnZXJ5IChYU1JGKSBQcm90ZWN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogW1hTUkZdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3Jvc3Mtc2l0ZV9yZXF1ZXN0X2ZvcmdlcnkpIGlzIGFuIGF0dGFjayB0ZWNobmlxdWUgYnlcclxuICAgICAqIHdoaWNoIHRoZSBhdHRhY2tlciBjYW4gdHJpY2sgYW4gYXV0aGVudGljYXRlZCB1c2VyIGludG8gdW5rbm93aW5nbHkgZXhlY3V0aW5nIGFjdGlvbnMgb24geW91clxyXG4gICAgICogd2Vic2l0ZS4gQW5ndWxhciBwcm92aWRlcyBhIG1lY2hhbmlzbSB0byBjb3VudGVyIFhTUkYuIFdoZW4gcGVyZm9ybWluZyBYSFIgcmVxdWVzdHMsIHRoZVxyXG4gICAgICogJGh0dHAgc2VydmljZSByZWFkcyBhIHRva2VuIGZyb20gYSBjb29raWUgKGJ5IGRlZmF1bHQsIGBYU1JGLVRPS0VOYCkgYW5kIHNldHMgaXQgYXMgYW4gSFRUUFxyXG4gICAgICogaGVhZGVyIChgWC1YU1JGLVRPS0VOYCkuIFNpbmNlIG9ubHkgSmF2YVNjcmlwdCB0aGF0IHJ1bnMgb24geW91ciBkb21haW4gY291bGQgcmVhZCB0aGVcclxuICAgICAqIGNvb2tpZSwgeW91ciBzZXJ2ZXIgY2FuIGJlIGFzc3VyZWQgdGhhdCB0aGUgWEhSIGNhbWUgZnJvbSBKYXZhU2NyaXB0IHJ1bm5pbmcgb24geW91ciBkb21haW4uXHJcbiAgICAgKiBUaGUgaGVhZGVyIHdpbGwgbm90IGJlIHNldCBmb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLlxyXG4gICAgICpcclxuICAgICAqIFRvIHRha2UgYWR2YW50YWdlIG9mIHRoaXMsIHlvdXIgc2VydmVyIG5lZWRzIHRvIHNldCBhIHRva2VuIGluIGEgSmF2YVNjcmlwdCByZWFkYWJsZSBzZXNzaW9uXHJcbiAgICAgKiBjb29raWUgY2FsbGVkIGBYU1JGLVRPS0VOYCBvbiB0aGUgZmlyc3QgSFRUUCBHRVQgcmVxdWVzdC4gT24gc3Vic2VxdWVudCBYSFIgcmVxdWVzdHMgdGhlXHJcbiAgICAgKiBzZXJ2ZXIgY2FuIHZlcmlmeSB0aGF0IHRoZSBjb29raWUgbWF0Y2hlcyBgWC1YU1JGLVRPS0VOYCBIVFRQIGhlYWRlciwgYW5kIHRoZXJlZm9yZSBiZSBzdXJlXHJcbiAgICAgKiB0aGF0IG9ubHkgSmF2YVNjcmlwdCBydW5uaW5nIG9uIHlvdXIgZG9tYWluIGNvdWxkIGhhdmUgc2VudCB0aGUgcmVxdWVzdC4gVGhlIHRva2VuIG11c3QgYmVcclxuICAgICAqIHVuaXF1ZSBmb3IgZWFjaCB1c2VyIGFuZCBtdXN0IGJlIHZlcmlmaWFibGUgYnkgdGhlIHNlcnZlciAodG8gcHJldmVudCB0aGUgSmF2YVNjcmlwdCBmcm9tXHJcbiAgICAgKiBtYWtpbmcgdXAgaXRzIG93biB0b2tlbnMpLiBXZSByZWNvbW1lbmQgdGhhdCB0aGUgdG9rZW4gaXMgYSBkaWdlc3Qgb2YgeW91ciBzaXRlJ3NcclxuICAgICAqIGF1dGhlbnRpY2F0aW9uIGNvb2tpZSB3aXRoIGEgW3NhbHRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NhbHRfKGNyeXB0b2dyYXBoeSYjNDE7KVxyXG4gICAgICogZm9yIGFkZGVkIHNlY3VyaXR5LlxyXG4gICAgICpcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBoZWFkZXJzIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgdGhlIHhzcmZIZWFkZXJOYW1lIGFuZCB4c3JmQ29va2llTmFtZVxyXG4gICAgICogcHJvcGVydGllcyBvZiBlaXRoZXIgJGh0dHBQcm92aWRlci5kZWZhdWx0cyBhdCBjb25maWctdGltZSwgJGh0dHAuZGVmYXVsdHMgYXQgcnVuLXRpbWUsXHJcbiAgICAgKiBvciB0aGUgcGVyLXJlcXVlc3QgY29uZmlnIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBJbiBvcmRlciB0byBwcmV2ZW50IGNvbGxpc2lvbnMgaW4gZW52aXJvbm1lbnRzIHdoZXJlIG11bHRpcGxlIEFuZ3VsYXIgYXBwcyBzaGFyZSB0aGVcclxuICAgICAqIHNhbWUgZG9tYWluIG9yIHN1YmRvbWFpbiwgd2UgcmVjb21tZW5kIHRoYXQgZWFjaCBhcHBsaWNhdGlvbiB1c2VzIHVuaXF1ZSBjb29raWUgbmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIE9iamVjdCBkZXNjcmliaW5nIHRoZSByZXF1ZXN0IHRvIGJlIG1hZGUgYW5kIGhvdyBpdCBzaG91bGQgYmVcclxuICAgICAqICAgIHByb2Nlc3NlZC4gVGhlIG9iamVjdCBoYXMgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICAgKlxyXG4gICAgICogICAgLSAqKm1ldGhvZCoqIOKAkyBge3N0cmluZ31gIOKAkyBIVFRQIG1ldGhvZCAoZS5nLiAnR0VUJywgJ1BPU1QnLCBldGMpXHJcbiAgICAgKiAgICAtICoqdXJsKiog4oCTIGB7c3RyaW5nfWAg4oCTIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCBvZiB0aGUgcmVzb3VyY2UgdGhhdCBpcyBiZWluZyByZXF1ZXN0ZWQuXHJcbiAgICAgKiAgICAtICoqcGFyYW1zKiog4oCTIGB7T2JqZWN0LjxzdHJpbmd8T2JqZWN0Pn1gIOKAkyBNYXAgb2Ygc3RyaW5ncyBvciBvYmplY3RzIHdoaWNoIHdpbGwgYmUgc2VyaWFsaXplZFxyXG4gICAgICogICAgICB3aXRoIHRoZSBgcGFyYW1TZXJpYWxpemVyYCBhbmQgYXBwZW5kZWQgYXMgR0VUIHBhcmFtZXRlcnMuXHJcbiAgICAgKiAgICAtICoqZGF0YSoqIOKAkyBge3N0cmluZ3xPYmplY3R9YCDigJMgRGF0YSB0byBiZSBzZW50IGFzIHRoZSByZXF1ZXN0IG1lc3NhZ2UgZGF0YS5cclxuICAgICAqICAgIC0gKipoZWFkZXJzKiog4oCTIGB7T2JqZWN0fWAg4oCTIE1hcCBvZiBzdHJpbmdzIG9yIGZ1bmN0aW9ucyB3aGljaCByZXR1cm4gc3RyaW5ncyByZXByZXNlbnRpbmdcclxuICAgICAqICAgICAgSFRUUCBoZWFkZXJzIHRvIHNlbmQgdG8gdGhlIHNlcnZlci4gSWYgdGhlIHJldHVybiB2YWx1ZSBvZiBhIGZ1bmN0aW9uIGlzIG51bGwsIHRoZVxyXG4gICAgICogICAgICBoZWFkZXIgd2lsbCBub3QgYmUgc2VudC4gRnVuY3Rpb25zIGFjY2VwdCBhIGNvbmZpZyBvYmplY3QgYXMgYW4gYXJndW1lbnQuXHJcbiAgICAgKiAgICAtICoqZXZlbnRIYW5kbGVycyoqIC0gYHtPYmplY3R9YCAtIEV2ZW50IGxpc3RlbmVycyB0byBiZSBib3VuZCB0byB0aGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LlxyXG4gICAgICogICAgICBUbyBiaW5kIGV2ZW50cyB0byB0aGUgWE1MSHR0cFJlcXVlc3QgdXBsb2FkIG9iamVjdCwgdXNlIGB1cGxvYWRFdmVudEhhbmRsZXJzYC5cclxuICAgICAqICAgICAgVGhlIGhhbmRsZXIgd2lsbCBiZSBjYWxsZWQgaW4gdGhlIGNvbnRleHQgb2YgYSBgJGFwcGx5YCBibG9jay5cclxuICAgICAqICAgIC0gKip1cGxvYWRFdmVudEhhbmRsZXJzKiogLSBge09iamVjdH1gIC0gRXZlbnQgbGlzdGVuZXJzIHRvIGJlIGJvdW5kIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCB1cGxvYWRcclxuICAgICAqICAgICAgb2JqZWN0LiBUbyBiaW5kIGV2ZW50cyB0byB0aGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LCB1c2UgYGV2ZW50SGFuZGxlcnNgLlxyXG4gICAgICogICAgICBUaGUgaGFuZGxlciB3aWxsIGJlIGNhbGxlZCBpbiB0aGUgY29udGV4dCBvZiBhIGAkYXBwbHlgIGJsb2NrLlxyXG4gICAgICogICAgLSAqKnhzcmZIZWFkZXJOYW1lKiog4oCTIGB7c3RyaW5nfWAg4oCTIE5hbWUgb2YgSFRUUCBoZWFkZXIgdG8gcG9wdWxhdGUgd2l0aCB0aGUgWFNSRiB0b2tlbi5cclxuICAgICAqICAgIC0gKip4c3JmQ29va2llTmFtZSoqIOKAkyBge3N0cmluZ31gIOKAkyBOYW1lIG9mIGNvb2tpZSBjb250YWluaW5nIHRoZSBYU1JGIHRva2VuLlxyXG4gICAgICogICAgLSAqKnRyYW5zZm9ybVJlcXVlc3QqKiDigJNcclxuICAgICAqICAgICAgYHtmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKXxBcnJheS48ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcik+fWAg4oCTXHJcbiAgICAgKiAgICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cFxyXG4gICAgICogICAgICByZXF1ZXN0IGJvZHkgYW5kIGhlYWRlcnMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgc2VyaWFsaXplZCkgdmVyc2lvbi5cclxuICAgICAqICAgICAgU2VlIHtAbGluayBuZy4kaHR0cCNvdmVycmlkaW5nLXRoZS1kZWZhdWx0LXRyYW5zZm9ybWF0aW9ucy1wZXItcmVxdWVzdFxyXG4gICAgICogICAgICBPdmVycmlkaW5nIHRoZSBEZWZhdWx0IFRyYW5zZm9ybWF0aW9uc31cclxuICAgICAqICAgIC0gKip0cmFuc2Zvcm1SZXNwb25zZSoqIOKAk1xyXG4gICAgICogICAgICBge2Z1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIsIHN0YXR1cyl8QXJyYXkuPGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIsIHN0YXR1cyk+fWAg4oCTXHJcbiAgICAgKiAgICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cFxyXG4gICAgICogICAgICByZXNwb25zZSBib2R5LCBoZWFkZXJzIGFuZCBzdGF0dXMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgZGVzZXJpYWxpemVkKSB2ZXJzaW9uLlxyXG4gICAgICogICAgICBTZWUge0BsaW5rIG5nLiRodHRwI292ZXJyaWRpbmctdGhlLWRlZmF1bHQtdHJhbnNmb3JtYXRpb25zLXBlci1yZXF1ZXN0XHJcbiAgICAgKiAgICAgIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zfVxyXG4gICAgICogICAgLSAqKnBhcmFtU2VyaWFsaXplcioqIC0gYHtzdHJpbmd8ZnVuY3Rpb24oT2JqZWN0PHN0cmluZyxzdHJpbmc+KTpzdHJpbmd9YCAtIEEgZnVuY3Rpb24gdXNlZCB0b1xyXG4gICAgICogICAgICBwcmVwYXJlIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgcmVxdWVzdCBwYXJhbWV0ZXJzIChzcGVjaWZpZWQgYXMgYW4gb2JqZWN0KS5cclxuICAgICAqICAgICAgSWYgc3BlY2lmaWVkIGFzIHN0cmluZywgaXQgaXMgaW50ZXJwcmV0ZWQgYXMgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZVxyXG4gICAgICogICAgICB7QGxpbmsgJGluamVjdG9yICRpbmplY3Rvcn0sIHdoaWNoIG1lYW5zIHlvdSBjYW4gY3JlYXRlIHlvdXIgb3duIHNlcmlhbGl6ZXJcclxuICAgICAqICAgICAgYnkgcmVnaXN0ZXJpbmcgaXQgYXMgYSB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlIHNlcnZpY2V9LlxyXG4gICAgICogICAgICBUaGUgZGVmYXVsdCBzZXJpYWxpemVyIGlzIHRoZSB7QGxpbmsgJGh0dHBQYXJhbVNlcmlhbGl6ZXIgJGh0dHBQYXJhbVNlcmlhbGl6ZXJ9O1xyXG4gICAgICogICAgICBhbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHVzZSB0aGUge0BsaW5rICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlfVxyXG4gICAgICogICAgLSAqKmNhY2hlKiog4oCTIGB7Ym9vbGVhbnxPYmplY3R9YCDigJMgQSBib29sZWFuIHZhbHVlIG9yIG9iamVjdCBjcmVhdGVkIHdpdGhcclxuICAgICAqICAgICAge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSB0byBlbmFibGUgb3IgZGlzYWJsZSBjYWNoaW5nIG9mIHRoZSBIVFRQIHJlc3BvbnNlLlxyXG4gICAgICogICAgICBTZWUge0BsaW5rICRodHRwI2NhY2hpbmcgJGh0dHAgQ2FjaGluZ30gZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgICAgKiAgICAtICoqdGltZW91dCoqIOKAkyBge251bWJlcnxQcm9taXNlfWAg4oCTIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLCBvciB7QGxpbmsgbmcuJHEgcHJvbWlzZX1cclxuICAgICAqICAgICAgdGhhdCBzaG91bGQgYWJvcnQgdGhlIHJlcXVlc3Qgd2hlbiByZXNvbHZlZC5cclxuICAgICAqICAgIC0gKip3aXRoQ3JlZGVudGlhbHMqKiAtIGB7Ym9vbGVhbn1gIC0gd2hldGhlciB0byBzZXQgdGhlIGB3aXRoQ3JlZGVudGlhbHNgIGZsYWcgb24gdGhlXHJcbiAgICAgKiAgICAgIFhIUiBvYmplY3QuIFNlZSBbcmVxdWVzdHMgd2l0aCBjcmVkZW50aWFsc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSFRUUC9BY2Nlc3NfY29udHJvbF9DT1JTI1JlcXVlc3RzX3dpdGhfY3JlZGVudGlhbHMpXHJcbiAgICAgKiAgICAgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gICAgICogICAgLSAqKnJlc3BvbnNlVHlwZSoqIC0gYHtzdHJpbmd9YCAtIHNlZVxyXG4gICAgICogICAgICBbWE1MSHR0cFJlcXVlc3QucmVzcG9uc2VUeXBlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3QjeG1saHR0cHJlcXVlc3QtcmVzcG9uc2V0eXBlKS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IFJldHVybnMgYSB7QGxpbmsgbmcuJHEgYFByb21pc2V9YCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgdG8gYSByZXNwb25zZSBvYmplY3RcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiB0aGUgcmVxdWVzdCBzdWNjZWVkcyBvciBmYWlscy5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogQHByb3BlcnR5IHtBcnJheS48T2JqZWN0Pn0gcGVuZGluZ1JlcXVlc3RzIEFycmF5IG9mIGNvbmZpZyBvYmplY3RzIGZvciBjdXJyZW50bHkgcGVuZGluZ1xyXG4gICAgICogICByZXF1ZXN0cy4gVGhpcyBpcyBwcmltYXJpbHkgbWVhbnQgdG8gYmUgdXNlZCBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG48ZXhhbXBsZSBtb2R1bGU9XCJodHRwRXhhbXBsZVwiPlxyXG48ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gIDxkaXYgbmctY29udHJvbGxlcj1cIkZldGNoQ29udHJvbGxlclwiPlxyXG4gICAgPHNlbGVjdCBuZy1tb2RlbD1cIm1ldGhvZFwiIGFyaWEtbGFiZWw9XCJSZXF1ZXN0IG1ldGhvZFwiPlxyXG4gICAgICA8b3B0aW9uPkdFVDwvb3B0aW9uPlxyXG4gICAgICA8b3B0aW9uPkpTT05QPC9vcHRpb24+XHJcbiAgICA8L3NlbGVjdD5cclxuICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXJsXCIgc2l6ZT1cIjgwXCIgYXJpYS1sYWJlbD1cIlVSTFwiIC8+XHJcbiAgICA8YnV0dG9uIGlkPVwiZmV0Y2hidG5cIiBuZy1jbGljaz1cImZldGNoKClcIj5mZXRjaDwvYnV0dG9uPjxicj5cclxuICAgIDxidXR0b24gaWQ9XCJzYW1wbGVnZXRidG5cIiBuZy1jbGljaz1cInVwZGF0ZU1vZGVsKCdHRVQnLCAnaHR0cC1oZWxsby5odG1sJylcIj5TYW1wbGUgR0VUPC9idXR0b24+XHJcbiAgICA8YnV0dG9uIGlkPVwic2FtcGxlanNvbnBidG5cIlxyXG4gICAgICBuZy1jbGljaz1cInVwZGF0ZU1vZGVsKCdKU09OUCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9ncmVldC5waHA/Y2FsbGJhY2s9SlNPTl9DQUxMQkFDSyZuYW1lPVN1cGVyJTIwSGVybycpXCI+XHJcbiAgICAgIFNhbXBsZSBKU09OUFxyXG4gICAgPC9idXR0b24+XHJcbiAgICA8YnV0dG9uIGlkPVwiaW52YWxpZGpzb25wYnRuXCJcclxuICAgICAgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnSlNPTlAnLCAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2RvZXNudGV4aXN0JmNhbGxiYWNrPUpTT05fQ0FMTEJBQ0snKVwiPlxyXG4gICAgICAgIEludmFsaWQgSlNPTlBcclxuICAgICAgPC9idXR0b24+XHJcbiAgICA8cHJlPmh0dHAgc3RhdHVzIGNvZGU6IHt7c3RhdHVzfX08L3ByZT5cclxuICAgIDxwcmU+aHR0cCByZXNwb25zZSBkYXRhOiB7e2RhdGF9fTwvcHJlPlxyXG4gIDwvZGl2PlxyXG48L2ZpbGU+XHJcbjxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICBhbmd1bGFyLm1vZHVsZSgnaHR0cEV4YW1wbGUnLCBbXSlcclxuICAgIC5jb250cm9sbGVyKCdGZXRjaENvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsXHJcbiAgICAgIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgICAgICAgJHNjb3BlLm1ldGhvZCA9ICdHRVQnO1xyXG4gICAgICAgICRzY29wZS51cmwgPSAnaHR0cC1oZWxsby5odG1sJztcclxuXHJcbiAgICAgICAgJHNjb3BlLmZldGNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc2NvcGUuY29kZSA9IG51bGw7XHJcbiAgICAgICAgICAkc2NvcGUucmVzcG9uc2UgPSBudWxsO1xyXG5cclxuICAgICAgICAgICRodHRwKHttZXRob2Q6ICRzY29wZS5tZXRob2QsIHVybDogJHNjb3BlLnVybCwgY2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkuXHJcbiAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICRzY29wZS5kYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IHJlc3BvbnNlLmRhdGEgfHwgXCJSZXF1ZXN0IGZhaWxlZFwiO1xyXG4gICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUudXBkYXRlTW9kZWwgPSBmdW5jdGlvbihtZXRob2QsIHVybCkge1xyXG4gICAgICAgICAgJHNjb3BlLm1ldGhvZCA9IG1ldGhvZDtcclxuICAgICAgICAgICRzY29wZS51cmwgPSB1cmw7XHJcbiAgICAgICAgfTtcclxuICAgICAgfV0pO1xyXG48L2ZpbGU+XHJcbjxmaWxlIG5hbWU9XCJodHRwLWhlbGxvLmh0bWxcIj5cclxuICBIZWxsbywgJGh0dHAhXHJcbjwvZmlsZT5cclxuPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gIHZhciBzdGF0dXMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3N0YXR1cycpKTtcclxuICB2YXIgZGF0YSA9IGVsZW1lbnQoYnkuYmluZGluZygnZGF0YScpKTtcclxuICB2YXIgZmV0Y2hCdG4gPSBlbGVtZW50KGJ5LmlkKCdmZXRjaGJ0bicpKTtcclxuICB2YXIgc2FtcGxlR2V0QnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlZ2V0YnRuJykpO1xyXG4gIHZhciBzYW1wbGVKc29ucEJ0biA9IGVsZW1lbnQoYnkuaWQoJ3NhbXBsZWpzb25wYnRuJykpO1xyXG4gIHZhciBpbnZhbGlkSnNvbnBCdG4gPSBlbGVtZW50KGJ5LmlkKCdpbnZhbGlkanNvbnBidG4nKSk7XHJcblxyXG4gIGl0KCdzaG91bGQgbWFrZSBhbiB4aHIgR0VUIHJlcXVlc3QnLCBmdW5jdGlvbigpIHtcclxuICAgIHNhbXBsZUdldEJ0bi5jbGljaygpO1xyXG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcclxuICAgIGV4cGVjdChzdGF0dXMuZ2V0VGV4dCgpKS50b01hdGNoKCcyMDAnKTtcclxuICAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgvSGVsbG8sIFxcJGh0dHAhLyk7XHJcbiAgfSk7XHJcblxyXG4vLyBDb21tZW50ZWQgb3V0IGR1ZSB0byBmbGFrZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MTg1XHJcbi8vIGl0KCdzaG91bGQgbWFrZSBhIEpTT05QIHJlcXVlc3QgdG8gYW5ndWxhcmpzLm9yZycsIGZ1bmN0aW9uKCkge1xyXG4vLyAgIHNhbXBsZUpzb25wQnRuLmNsaWNrKCk7XHJcbi8vICAgZmV0Y2hCdG4uY2xpY2soKTtcclxuLy8gICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XHJcbi8vICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9TdXBlciBIZXJvIS8pO1xyXG4vLyB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBtYWtlIEpTT05QIHJlcXVlc3QgdG8gaW52YWxpZCBVUkwgYW5kIGludm9rZSB0aGUgZXJyb3IgaGFuZGxlcicsXHJcbiAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgaW52YWxpZEpzb25wQnRuLmNsaWNrKCk7XHJcbiAgICBmZXRjaEJ0bi5jbGljaygpO1xyXG4gICAgZXhwZWN0KHN0YXR1cy5nZXRUZXh0KCkpLnRvTWF0Y2goJzAnKTtcclxuICAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgnUmVxdWVzdCBmYWlsZWQnKTtcclxuICB9KTtcclxuPC9maWxlPlxyXG48L2V4YW1wbGU+XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uICRodHRwKHJlcXVlc3RDb25maWcpIHtcclxuXHJcbiAgICAgIGlmICghaXNPYmplY3QocmVxdWVzdENvbmZpZykpIHtcclxuICAgICAgICB0aHJvdyBtaW5FcnIoJyRodHRwJykoJ2JhZHJlcScsICdIdHRwIHJlcXVlc3QgY29uZmlndXJhdGlvbiBtdXN0IGJlIGFuIG9iamVjdC4gIFJlY2VpdmVkOiB7MH0nLCByZXF1ZXN0Q29uZmlnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFpc1N0cmluZyhyZXF1ZXN0Q29uZmlnLnVybCkpIHtcclxuICAgICAgICB0aHJvdyBtaW5FcnIoJyRodHRwJykoJ2JhZHJlcScsICdIdHRwIHJlcXVlc3QgY29uZmlndXJhdGlvbiB1cmwgbXVzdCBiZSBhIHN0cmluZy4gIFJlY2VpdmVkOiB7MH0nLCByZXF1ZXN0Q29uZmlnLnVybCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBjb25maWcgPSBleHRlbmQoe1xyXG4gICAgICAgIG1ldGhvZDogJ2dldCcsXHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdCxcclxuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UsXHJcbiAgICAgICAgcGFyYW1TZXJpYWxpemVyOiBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXJcclxuICAgICAgfSwgcmVxdWVzdENvbmZpZyk7XHJcblxyXG4gICAgICBjb25maWcuaGVhZGVycyA9IG1lcmdlSGVhZGVycyhyZXF1ZXN0Q29uZmlnKTtcclxuICAgICAgY29uZmlnLm1ldGhvZCA9IHVwcGVyY2FzZShjb25maWcubWV0aG9kKTtcclxuICAgICAgY29uZmlnLnBhcmFtU2VyaWFsaXplciA9IGlzU3RyaW5nKGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIpID9cclxuICAgICAgICAkaW5qZWN0b3IuZ2V0KGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIpIDogY29uZmlnLnBhcmFtU2VyaWFsaXplcjtcclxuXHJcbiAgICAgIHZhciBzZXJ2ZXJSZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIGhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcclxuICAgICAgICB2YXIgcmVxRGF0YSA9IHRyYW5zZm9ybURhdGEoY29uZmlnLmRhdGEsIGhlYWRlcnNHZXR0ZXIoaGVhZGVycyksIHVuZGVmaW5lZCwgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3QpO1xyXG5cclxuICAgICAgICAvLyBzdHJpcCBjb250ZW50LXR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQocmVxRGF0YSkpIHtcclxuICAgICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGhlYWRlcikge1xyXG4gICAgICAgICAgICBpZiAobG93ZXJjYXNlKGhlYWRlcikgPT09ICdjb250ZW50LXR5cGUnKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgaGVhZGVyc1toZWFkZXJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChjb25maWcud2l0aENyZWRlbnRpYWxzKSAmJiAhaXNVbmRlZmluZWQoZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzKSkge1xyXG4gICAgICAgICAgY29uZmlnLndpdGhDcmVkZW50aWFscyA9IGRlZmF1bHRzLndpdGhDcmVkZW50aWFscztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNlbmQgcmVxdWVzdFxyXG4gICAgICAgIHJldHVybiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSkudGhlbih0cmFuc2Zvcm1SZXNwb25zZSwgdHJhbnNmb3JtUmVzcG9uc2UpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIGNoYWluID0gW3NlcnZlclJlcXVlc3QsIHVuZGVmaW5lZF07XHJcbiAgICAgIHZhciBwcm9taXNlID0gJHEud2hlbihjb25maWcpO1xyXG5cclxuICAgICAgLy8gYXBwbHkgaW50ZXJjZXB0b3JzXHJcbiAgICAgIGZvckVhY2gocmV2ZXJzZWRJbnRlcmNlcHRvcnMsIGZ1bmN0aW9uKGludGVyY2VwdG9yKSB7XHJcbiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlcXVlc3QgfHwgaW50ZXJjZXB0b3IucmVxdWVzdEVycm9yKSB7XHJcbiAgICAgICAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsIGludGVyY2VwdG9yLnJlcXVlc3RFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnRlcmNlcHRvci5yZXNwb25zZSB8fCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKSB7XHJcbiAgICAgICAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciB0aGVuRm4gPSBjaGFpbi5zaGlmdCgpO1xyXG4gICAgICAgIHZhciByZWplY3RGbiA9IGNoYWluLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4odGhlbkZuLCByZWplY3RGbik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh1c2VMZWdhY3lQcm9taXNlKSB7XHJcbiAgICAgICAgcHJvbWlzZS5zdWNjZXNzID0gZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAgIGFzc2VydEFyZ0ZuKGZuLCAnZm4nKTtcclxuXHJcbiAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgZm4ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwcm9taXNlLmVycm9yID0gZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAgIGFzc2VydEFyZ0ZuKGZuLCAnZm4nKTtcclxuXHJcbiAgICAgICAgICBwcm9taXNlLnRoZW4obnVsbCwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgZm4ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHByb21pc2Uuc3VjY2VzcyA9ICRodHRwTWluRXJyTGVnYWN5Rm4oJ3N1Y2Nlc3MnKTtcclxuICAgICAgICBwcm9taXNlLmVycm9yID0gJGh0dHBNaW5FcnJMZWdhY3lGbignZXJyb3InKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHByb21pc2U7XHJcblxyXG4gICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShyZXNwb25zZSkge1xyXG4gICAgICAgIC8vIG1ha2UgYSBjb3B5IHNpbmNlIHRoZSByZXNwb25zZSBtdXN0IGJlIGNhY2hlYWJsZVxyXG4gICAgICAgIHZhciByZXNwID0gZXh0ZW5kKHt9LCByZXNwb25zZSk7XHJcbiAgICAgICAgcmVzcC5kYXRhID0gdHJhbnNmb3JtRGF0YShyZXNwb25zZS5kYXRhLCByZXNwb25zZS5oZWFkZXJzLCByZXNwb25zZS5zdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UpO1xyXG4gICAgICAgIHJldHVybiAoaXNTdWNjZXNzKHJlc3BvbnNlLnN0YXR1cykpXHJcbiAgICAgICAgICA/IHJlc3BcclxuICAgICAgICAgIDogJHEucmVqZWN0KHJlc3ApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBleGVjdXRlSGVhZGVyRm5zKGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgIHZhciBoZWFkZXJDb250ZW50LCBwcm9jZXNzZWRIZWFkZXJzID0ge307XHJcblxyXG4gICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24oaGVhZGVyRm4sIGhlYWRlcikge1xyXG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGVhZGVyRm4pKSB7XHJcbiAgICAgICAgICAgIGhlYWRlckNvbnRlbnQgPSBoZWFkZXJGbihjb25maWcpO1xyXG4gICAgICAgICAgICBpZiAoaGVhZGVyQ29udGVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyQ29udGVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyRm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRIZWFkZXJzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBtZXJnZUhlYWRlcnMoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIGRlZkhlYWRlcnMgPSBkZWZhdWx0cy5oZWFkZXJzLFxyXG4gICAgICAgICAgICByZXFIZWFkZXJzID0gZXh0ZW5kKHt9LCBjb25maWcuaGVhZGVycyksXHJcbiAgICAgICAgICAgIGRlZkhlYWRlck5hbWUsIGxvd2VyY2FzZURlZkhlYWRlck5hbWUsIHJlcUhlYWRlck5hbWU7XHJcblxyXG4gICAgICAgIGRlZkhlYWRlcnMgPSBleHRlbmQoe30sIGRlZkhlYWRlcnMuY29tbW9uLCBkZWZIZWFkZXJzW2xvd2VyY2FzZShjb25maWcubWV0aG9kKV0pO1xyXG5cclxuICAgICAgICAvLyB1c2luZyBmb3ItaW4gaW5zdGVhZCBvZiBmb3JFYWNoIHRvIGF2b2lkIHVubmVjZXNzYXJ5IGl0ZXJhdGlvbiBhZnRlciBoZWFkZXIgaGFzIGJlZW4gZm91bmRcclxuICAgICAgICBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjpcclxuICAgICAgICBmb3IgKGRlZkhlYWRlck5hbWUgaW4gZGVmSGVhZGVycykge1xyXG4gICAgICAgICAgbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSA9IGxvd2VyY2FzZShkZWZIZWFkZXJOYW1lKTtcclxuXHJcbiAgICAgICAgICBmb3IgKHJlcUhlYWRlck5hbWUgaW4gcmVxSGVhZGVycykge1xyXG4gICAgICAgICAgICBpZiAobG93ZXJjYXNlKHJlcUhlYWRlck5hbWUpID09PSBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgY29udGludWUgZGVmYXVsdEhlYWRlcnNJdGVyYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXFIZWFkZXJzW2RlZkhlYWRlck5hbWVdID0gZGVmSGVhZGVyc1tkZWZIZWFkZXJOYW1lXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGV4ZWN1dGUgaWYgaGVhZGVyIHZhbHVlIGlzIGEgZnVuY3Rpb24gZm9yIG1lcmdlZCBoZWFkZXJzXHJcbiAgICAgICAgcmV0dXJuIGV4ZWN1dGVIZWFkZXJGbnMocmVxSGVhZGVycywgc2hhbGxvd0NvcHkoY29uZmlnKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAkaHR0cC5wZW5kaW5nUmVxdWVzdHMgPSBbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRodHRwI2dldFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEdFVGAgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkaHR0cCNkZWxldGVcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBERUxFVEVgIHJlcXVlc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGh0dHAjaGVhZFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEhFQURgIHJlcXVlc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGh0dHAjanNvbnBcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBKU09OUGAgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdC5cclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIGNhbGxiYWNrIHNob3VsZCBiZSB0aGUgc3RyaW5nIGBKU09OX0NBTExCQUNLYC5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcclxuICAgICAqL1xyXG4gICAgY3JlYXRlU2hvcnRNZXRob2RzKCdnZXQnLCAnZGVsZXRlJywgJ2hlYWQnLCAnanNvbnAnKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRodHRwI3Bvc3RcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBQT1NUYCByZXF1ZXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRodHRwI3B1dFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBVVGAgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudFxyXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICovXHJcblxyXG4gICAgIC8qKlxyXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgKiBAbmFtZSAkaHR0cCNwYXRjaFxyXG4gICAgICAqXHJcbiAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBBVENIYCByZXF1ZXN0LlxyXG4gICAgICAqXHJcbiAgICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcclxuICAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XHJcbiAgICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcclxuICAgICAgKi9cclxuICAgIGNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhKCdwb3N0JywgJ3B1dCcsICdwYXRjaCcpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgICAgICAgKiBAbmFtZSAkaHR0cCNkZWZhdWx0c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICogUnVudGltZSBlcXVpdmFsZW50IG9mIHRoZSBgJGh0dHBQcm92aWRlci5kZWZhdWx0c2AgcHJvcGVydHkuIEFsbG93cyBjb25maWd1cmF0aW9uIG9mXHJcbiAgICAgICAgICogZGVmYXVsdCBoZWFkZXJzLCB3aXRoQ3JlZGVudGlhbHMgYXMgd2VsbCBhcyByZXF1ZXN0IGFuZCByZXNwb25zZSB0cmFuc2Zvcm1hdGlvbnMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBTZWUgXCJTZXR0aW5nIEhUVFAgSGVhZGVyc1wiIGFuZCBcIlRyYW5zZm9ybWluZyBSZXF1ZXN0cyBhbmQgUmVzcG9uc2VzXCIgc2VjdGlvbnMgYWJvdmUuXHJcbiAgICAgICAgICovXHJcbiAgICAkaHR0cC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xyXG5cclxuXHJcbiAgICByZXR1cm4gJGh0dHA7XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNob3J0TWV0aG9kcyhuYW1lcykge1xyXG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgICRodHRwW25hbWVdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcclxuICAgICAgICAgIHJldHVybiAkaHR0cChleHRlbmQoe30sIGNvbmZpZyB8fCB7fSwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IG5hbWUsXHJcbiAgICAgICAgICAgIHVybDogdXJsXHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhKG5hbWUpIHtcclxuICAgICAgZm9yRWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgICAkaHR0cFtuYW1lXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XHJcbiAgICAgICAgICByZXR1cm4gJGh0dHAoZXh0ZW5kKHt9LCBjb25maWcgfHwge30sIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBuYW1lLFxyXG4gICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgICAgfSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ha2VzIHRoZSByZXF1ZXN0LlxyXG4gICAgICpcclxuICAgICAqICEhISBBQ0NFU1NFUyBDTE9TVVJFIFZBUlM6XHJcbiAgICAgKiAkaHR0cEJhY2tlbmQsIGRlZmF1bHRzLCAkbG9nLCAkcm9vdFNjb3BlLCBkZWZhdWx0Q2FjaGUsICRodHRwLnBlbmRpbmdSZXF1ZXN0c1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSkge1xyXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxyXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsXHJcbiAgICAgICAgICBjYWNoZSxcclxuICAgICAgICAgIGNhY2hlZFJlc3AsXHJcbiAgICAgICAgICByZXFIZWFkZXJzID0gY29uZmlnLmhlYWRlcnMsXHJcbiAgICAgICAgICB1cmwgPSBidWlsZFVybChjb25maWcudXJsLCBjb25maWcucGFyYW1TZXJpYWxpemVyKGNvbmZpZy5wYXJhbXMpKTtcclxuXHJcbiAgICAgICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5wdXNoKGNvbmZpZyk7XHJcbiAgICAgIHByb21pc2UudGhlbihyZW1vdmVQZW5kaW5nUmVxLCByZW1vdmVQZW5kaW5nUmVxKTtcclxuXHJcblxyXG4gICAgICBpZiAoKGNvbmZpZy5jYWNoZSB8fCBkZWZhdWx0cy5jYWNoZSkgJiYgY29uZmlnLmNhY2hlICE9PSBmYWxzZSAmJlxyXG4gICAgICAgICAgKGNvbmZpZy5tZXRob2QgPT09ICdHRVQnIHx8IGNvbmZpZy5tZXRob2QgPT09ICdKU09OUCcpKSB7XHJcbiAgICAgICAgY2FjaGUgPSBpc09iamVjdChjb25maWcuY2FjaGUpID8gY29uZmlnLmNhY2hlXHJcbiAgICAgICAgICAgICAgOiBpc09iamVjdChkZWZhdWx0cy5jYWNoZSkgPyBkZWZhdWx0cy5jYWNoZVxyXG4gICAgICAgICAgICAgIDogZGVmYXVsdENhY2hlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY2FjaGUpIHtcclxuICAgICAgICBjYWNoZWRSZXNwID0gY2FjaGUuZ2V0KHVybCk7XHJcbiAgICAgICAgaWYgKGlzRGVmaW5lZChjYWNoZWRSZXNwKSkge1xyXG4gICAgICAgICAgaWYgKGlzUHJvbWlzZUxpa2UoY2FjaGVkUmVzcCkpIHtcclxuICAgICAgICAgICAgLy8gY2FjaGVkIHJlcXVlc3QgaGFzIGFscmVhZHkgYmVlbiBzZW50LCBidXQgdGhlcmUgaXMgbm8gcmVzcG9uc2UgeWV0XHJcbiAgICAgICAgICAgIGNhY2hlZFJlc3AudGhlbihyZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQsIHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzZXJ2aW5nIGZyb20gY2FjaGVcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkoY2FjaGVkUmVzcCkpIHtcclxuICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwWzFdLCBjYWNoZWRSZXNwWzBdLCBzaGFsbG93Q29weShjYWNoZWRSZXNwWzJdKSwgY2FjaGVkUmVzcFszXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UoY2FjaGVkUmVzcCwgMjAwLCB7fSwgJ09LJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gcHV0IHRoZSBwcm9taXNlIGZvciB0aGUgbm9uLXRyYW5zZm9ybWVkIHJlc3BvbnNlIGludG8gY2FjaGUgYXMgYSBwbGFjZWhvbGRlclxyXG4gICAgICAgICAgY2FjaGUucHV0KHVybCwgcHJvbWlzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgLy8gaWYgd2Ugd29uJ3QgaGF2ZSB0aGUgcmVzcG9uc2UgaW4gY2FjaGUsIHNldCB0aGUgeHNyZiBoZWFkZXJzIGFuZFxyXG4gICAgICAvLyBzZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kXHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChjYWNoZWRSZXNwKSkge1xyXG4gICAgICAgIHZhciB4c3JmVmFsdWUgPSB1cmxJc1NhbWVPcmlnaW4oY29uZmlnLnVybClcclxuICAgICAgICAgICAgPyAkJGNvb2tpZVJlYWRlcigpW2NvbmZpZy54c3JmQ29va2llTmFtZSB8fCBkZWZhdWx0cy54c3JmQ29va2llTmFtZV1cclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHhzcmZWYWx1ZSkge1xyXG4gICAgICAgICAgcmVxSGVhZGVyc1soY29uZmlnLnhzcmZIZWFkZXJOYW1lIHx8IGRlZmF1bHRzLnhzcmZIZWFkZXJOYW1lKV0gPSB4c3JmVmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkaHR0cEJhY2tlbmQoY29uZmlnLm1ldGhvZCwgdXJsLCByZXFEYXRhLCBkb25lLCByZXFIZWFkZXJzLCBjb25maWcudGltZW91dCxcclxuICAgICAgICAgICAgY29uZmlnLndpdGhDcmVkZW50aWFscywgY29uZmlnLnJlc3BvbnNlVHlwZSxcclxuICAgICAgICAgICAgY3JlYXRlQXBwbHlIYW5kbGVycyhjb25maWcuZXZlbnRIYW5kbGVycyksXHJcbiAgICAgICAgICAgIGNyZWF0ZUFwcGx5SGFuZGxlcnMoY29uZmlnLnVwbG9hZEV2ZW50SGFuZGxlcnMpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHByb21pc2U7XHJcblxyXG4gICAgICBmdW5jdGlvbiBjcmVhdGVBcHBseUhhbmRsZXJzKGV2ZW50SGFuZGxlcnMpIHtcclxuICAgICAgICBpZiAoZXZlbnRIYW5kbGVycykge1xyXG4gICAgICAgICAgdmFyIGFwcGx5SGFuZGxlcnMgPSB7fTtcclxuICAgICAgICAgIGZvckVhY2goZXZlbnRIYW5kbGVycywgZnVuY3Rpb24oZXZlbnRIYW5kbGVyLCBrZXkpIHtcclxuICAgICAgICAgICAgYXBwbHlIYW5kbGVyc1trZXldID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICBpZiAodXNlQXBwbHlBc3luYykge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHlBc3luYyhjYWxsRXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICAgICAgICAgICAgY2FsbEV2ZW50SGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShjYWxsRXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGxFdmVudEhhbmRsZXIoKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudEhhbmRsZXIoZXZlbnQpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIGFwcGx5SGFuZGxlcnM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENhbGxiYWNrIHJlZ2lzdGVyZWQgdG8gJGh0dHBCYWNrZW5kKCk6XHJcbiAgICAgICAqICAtIGNhY2hlcyB0aGUgcmVzcG9uc2UgaWYgZGVzaXJlZFxyXG4gICAgICAgKiAgLSByZXNvbHZlcyB0aGUgcmF3ICRodHRwIHByb21pc2VcclxuICAgICAgICogIC0gY2FsbHMgJGFwcGx5XHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBkb25lKHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpIHtcclxuICAgICAgICBpZiAoY2FjaGUpIHtcclxuICAgICAgICAgIGlmIChpc1N1Y2Nlc3Moc3RhdHVzKSkge1xyXG4gICAgICAgICAgICBjYWNoZS5wdXQodXJsLCBbc3RhdHVzLCByZXNwb25zZSwgcGFyc2VIZWFkZXJzKGhlYWRlcnNTdHJpbmcpLCBzdGF0dXNUZXh0XSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgcHJvbWlzZSBmcm9tIHRoZSBjYWNoZVxyXG4gICAgICAgICAgICBjYWNoZS5yZW1vdmUodXJsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVIdHRwUHJvbWlzZSgpIHtcclxuICAgICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHVzZUFwcGx5QXN5bmMpIHtcclxuICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5QXN5bmMocmVzb2x2ZUh0dHBQcm9taXNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzb2x2ZUh0dHBQcm9taXNlKCk7XHJcbiAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkgJHJvb3RTY29wZS4kYXBwbHkoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVzb2x2ZXMgdGhlIHJhdyAkaHR0cCBwcm9taXNlLlxyXG4gICAgICAgKi9cclxuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycywgc3RhdHVzVGV4dCkge1xyXG4gICAgICAgIC8vc3RhdHVzOiBIVFRQIHJlc3BvbnNlIHN0YXR1cyBjb2RlLCAwLCAtMSAoYWJvcnRlZCBieSB0aW1lb3V0IC8gcHJvbWlzZSlcclxuICAgICAgICBzdGF0dXMgPSBzdGF0dXMgPj0gLTEgPyBzdGF0dXMgOiAwO1xyXG5cclxuICAgICAgICAoaXNTdWNjZXNzKHN0YXR1cykgPyBkZWZlcnJlZC5yZXNvbHZlIDogZGVmZXJyZWQucmVqZWN0KSh7XHJcbiAgICAgICAgICBkYXRhOiByZXNwb25zZSxcclxuICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxyXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVyc0dldHRlcihoZWFkZXJzKSxcclxuICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxyXG4gICAgICAgICAgc3RhdHVzVGV4dDogc3RhdHVzVGV4dFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQocmVzdWx0KSB7XHJcbiAgICAgICAgcmVzb2x2ZVByb21pc2UocmVzdWx0LmRhdGEsIHJlc3VsdC5zdGF0dXMsIHNoYWxsb3dDb3B5KHJlc3VsdC5oZWFkZXJzKCkpLCByZXN1bHQuc3RhdHVzVGV4dCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVBlbmRpbmdSZXEoKSB7XHJcbiAgICAgICAgdmFyIGlkeCA9ICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5pbmRleE9mKGNvbmZpZyk7XHJcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBidWlsZFVybCh1cmwsIHNlcmlhbGl6ZWRQYXJhbXMpIHtcclxuICAgICAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHVybCArPSAoKHVybC5pbmRleE9mKCc/JykgPT0gLTEpID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHVybDtcclxuICAgIH1cclxuICB9XTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICR4aHJGYWN0b3J5XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBGYWN0b3J5IGZ1bmN0aW9uIHVzZWQgdG8gY3JlYXRlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdHMuXHJcbiAqXHJcbiAqIFJlcGxhY2Ugb3IgZGVjb3JhdGUgdGhpcyBzZXJ2aWNlIHRvIGNyZWF0ZSB5b3VyIG93biBjdXN0b20gWE1MSHR0cFJlcXVlc3Qgb2JqZWN0cy5cclxuICpcclxuICogYGBgXHJcbiAqIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKVxyXG4gKiAuZmFjdG9yeSgnJHhockZhY3RvcnknLCBmdW5jdGlvbigpIHtcclxuICogICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlWGhyKG1ldGhvZCwgdXJsKSB7XHJcbiAqICAgICByZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCh7bW96U3lzdGVtOiB0cnVlfSk7XHJcbiAqICAgfTtcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIEhUVFAgbWV0aG9kIG9mIHRoZSByZXF1ZXN0IChHRVQsIFBPU1QsIFBVVCwgLi4pXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMIG9mIHRoZSByZXF1ZXN0LlxyXG4gKi9cclxuZnVuY3Rpb24gJHhockZhY3RvcnlQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVYaHIoKSB7XHJcbiAgICAgIHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB9O1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkaHR0cEJhY2tlbmRcclxuICogQHJlcXVpcmVzICR3aW5kb3dcclxuICogQHJlcXVpcmVzICRkb2N1bWVudFxyXG4gKiBAcmVxdWlyZXMgJHhockZhY3RvcnlcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEhUVFAgYmFja2VuZCB1c2VkIGJ5IHRoZSB7QGxpbmsgbmcuJGh0dHAgc2VydmljZX0gdGhhdCBkZWxlZ2F0ZXMgdG9cclxuICogWE1MSHR0cFJlcXVlc3Qgb2JqZWN0IG9yIEpTT05QIGFuZCBkZWFscyB3aXRoIGJyb3dzZXIgaW5jb21wYXRpYmlsaXRpZXMuXHJcbiAqXHJcbiAqIFlvdSBzaG91bGQgbmV2ZXIgbmVlZCB0byB1c2UgdGhpcyBzZXJ2aWNlIGRpcmVjdGx5LCBpbnN0ZWFkIHVzZSB0aGUgaGlnaGVyLWxldmVsIGFic3RyYWN0aW9uczpcclxuICoge0BsaW5rIG5nLiRodHRwICRodHRwfSBvciB7QGxpbmsgbmdSZXNvdXJjZS4kcmVzb3VyY2UgJHJlc291cmNlfS5cclxuICpcclxuICogRHVyaW5nIHRlc3RpbmcgdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBzd2FwcGVkIHdpdGgge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgbW9ja1xyXG4gKiAkaHR0cEJhY2tlbmR9IHdoaWNoIGNhbiBiZSB0cmFpbmVkIHdpdGggcmVzcG9uc2VzLlxyXG4gKi9cclxuZnVuY3Rpb24gJEh0dHBCYWNrZW5kUHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckYnJvd3NlcicsICckd2luZG93JywgJyRkb2N1bWVudCcsICckeGhyRmFjdG9yeScsIGZ1bmN0aW9uKCRicm93c2VyLCAkd2luZG93LCAkZG9jdW1lbnQsICR4aHJGYWN0b3J5KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsICR4aHJGYWN0b3J5LCAkYnJvd3Nlci5kZWZlciwgJHdpbmRvdy5hbmd1bGFyLmNhbGxiYWNrcywgJGRvY3VtZW50WzBdKTtcclxuICB9XTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsIGNyZWF0ZVhociwgJGJyb3dzZXJEZWZlciwgY2FsbGJhY2tzLCByYXdEb2N1bWVudCkge1xyXG4gIC8vIFRPRE8odm9qdGEpOiBmaXggdGhlIHNpZ25hdHVyZVxyXG4gIHJldHVybiBmdW5jdGlvbihtZXRob2QsIHVybCwgcG9zdCwgY2FsbGJhY2ssIGhlYWRlcnMsIHRpbWVvdXQsIHdpdGhDcmVkZW50aWFscywgcmVzcG9uc2VUeXBlLCBldmVudEhhbmRsZXJzLCB1cGxvYWRFdmVudEhhbmRsZXJzKSB7XHJcbiAgICAkYnJvd3Nlci4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50KCk7XHJcbiAgICB1cmwgPSB1cmwgfHwgJGJyb3dzZXIudXJsKCk7XHJcblxyXG4gICAgaWYgKGxvd2VyY2FzZShtZXRob2QpID09ICdqc29ucCcpIHtcclxuICAgICAgdmFyIGNhbGxiYWNrSWQgPSAnXycgKyAoY2FsbGJhY2tzLmNvdW50ZXIrKykudG9TdHJpbmcoMzYpO1xyXG4gICAgICBjYWxsYmFja3NbY2FsbGJhY2tJZF0gPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIGNhbGxiYWNrc1tjYWxsYmFja0lkXS5jYWxsZWQgPSB0cnVlO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIGpzb25wRG9uZSA9IGpzb25wUmVxKHVybC5yZXBsYWNlKCdKU09OX0NBTExCQUNLJywgJ2FuZ3VsYXIuY2FsbGJhY2tzLicgKyBjYWxsYmFja0lkKSxcclxuICAgICAgICAgIGNhbGxiYWNrSWQsIGZ1bmN0aW9uKHN0YXR1cywgdGV4dCkge1xyXG4gICAgICAgIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjaywgc3RhdHVzLCBjYWxsYmFja3NbY2FsbGJhY2tJZF0uZGF0YSwgXCJcIiwgdGV4dCk7XHJcbiAgICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdID0gbm9vcDtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgdmFyIHhociA9IGNyZWF0ZVhocihtZXRob2QsIHVybCk7XHJcblxyXG4gICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XHJcbiAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gcmVxdWVzdExvYWRlZCgpIHtcclxuICAgICAgICB2YXIgc3RhdHVzVGV4dCA9IHhoci5zdGF0dXNUZXh0IHx8ICcnO1xyXG5cclxuICAgICAgICAvLyByZXNwb25zZVRleHQgaXMgdGhlIG9sZC1zY2hvb2wgd2F5IG9mIHJldHJpZXZpbmcgcmVzcG9uc2UgKHN1cHBvcnRlZCBieSBJRTkpXHJcbiAgICAgICAgLy8gcmVzcG9uc2UvcmVzcG9uc2VUeXBlIHByb3BlcnRpZXMgd2VyZSBpbnRyb2R1Y2VkIGluIFhIUiBMZXZlbDIgc3BlYyAoc3VwcG9ydGVkIGJ5IElFMTApXHJcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gKCdyZXNwb25zZScgaW4geGhyKSA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHQ7XHJcblxyXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBJRTkgYnVnIChodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xNDUwKVxyXG4gICAgICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzID09PSAxMjIzID8gMjA0IDogeGhyLnN0YXR1cztcclxuXHJcbiAgICAgICAgLy8gZml4IHN0YXR1cyBjb2RlIHdoZW4gaXQgaXMgMCAoMCBzdGF0dXMgaXMgdW5kb2N1bWVudGVkKS5cclxuICAgICAgICAvLyBPY2N1cnMgd2hlbiBhY2Nlc3NpbmcgZmlsZSByZXNvdXJjZXMgb3Igb24gQW5kcm9pZCA0LjEgc3RvY2sgYnJvd3NlclxyXG4gICAgICAgIC8vIHdoaWxlIHJldHJpZXZpbmcgZmlsZXMgZnJvbSBhcHBsaWNhdGlvbiBjYWNoZS5cclxuICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7XHJcbiAgICAgICAgICBzdGF0dXMgPSByZXNwb25zZSA/IDIwMCA6IHVybFJlc29sdmUodXJsKS5wcm90b2NvbCA9PSAnZmlsZScgPyA0MDQgOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLFxyXG4gICAgICAgICAgICBzdGF0dXMsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksXHJcbiAgICAgICAgICAgIHN0YXR1c1RleHQpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIHJlcXVlc3RFcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIFRoZSByZXNwb25zZSBpcyBhbHdheXMgZW1wdHlcclxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly94aHIuc3BlYy53aGF0d2cub3JnLyNyZXF1ZXN0LWVycm9yLXN0ZXBzIGFuZCBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1uZXR3b3JrLWVycm9yXHJcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCAtMSwgbnVsbCwgbnVsbCwgJycpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgeGhyLm9uZXJyb3IgPSByZXF1ZXN0RXJyb3I7XHJcbiAgICAgIHhoci5vbmFib3J0ID0gcmVxdWVzdEVycm9yO1xyXG5cclxuICAgICAgZm9yRWFjaChldmVudEhhbmRsZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmb3JFYWNoKHVwbG9hZEV2ZW50SGFuZGxlcnMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHdpdGhDcmVkZW50aWFscykge1xyXG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocmVzcG9uc2VUeXBlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgLy8gV2ViS2l0IGFkZGVkIHN1cHBvcnQgZm9yIHRoZSBqc29uIHJlc3BvbnNlVHlwZSB2YWx1ZSBvbiAwOS8wMy8yMDEzXHJcbiAgICAgICAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NzM2NDguIFZlcnNpb25zIG9mIFNhZmFyaSBwcmlvciB0byA3IGFyZVxyXG4gICAgICAgICAgLy8ga25vd24gdG8gdGhyb3cgd2hlbiBzZXR0aW5nIHRoZSB2YWx1ZSBcImpzb25cIiBhcyB0aGUgcmVzcG9uc2UgdHlwZS4gT3RoZXIgb2xkZXJcclxuICAgICAgICAgIC8vIGJyb3dzZXJzIGltcGxlbWVudGluZyB0aGUgcmVzcG9uc2VUeXBlXHJcbiAgICAgICAgICAvL1xyXG4gICAgICAgICAgLy8gVGhlIGpzb24gcmVzcG9uc2UgdHlwZSBjYW4gYmUgaWdub3JlZCBpZiBub3Qgc3VwcG9ydGVkLCBiZWNhdXNlIEpTT04gcGF5bG9hZHMgYXJlXHJcbiAgICAgICAgICAvLyBwYXJzZWQgb24gdGhlIGNsaWVudC1zaWRlIHJlZ2FyZGxlc3MuXHJcbiAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHhoci5zZW5kKGlzVW5kZWZpbmVkKHBvc3QpID8gbnVsbCA6IHBvc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aW1lb3V0ID4gMCkge1xyXG4gICAgICB2YXIgdGltZW91dElkID0gJGJyb3dzZXJEZWZlcih0aW1lb3V0UmVxdWVzdCwgdGltZW91dCk7XHJcbiAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZUxpa2UodGltZW91dCkpIHtcclxuICAgICAgdGltZW91dC50aGVuKHRpbWVvdXRSZXF1ZXN0KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gdGltZW91dFJlcXVlc3QoKSB7XHJcbiAgICAgIGpzb25wRG9uZSAmJiBqc29ucERvbmUoKTtcclxuICAgICAgeGhyICYmIHhoci5hYm9ydCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjaywgc3RhdHVzLCByZXNwb25zZSwgaGVhZGVyc1N0cmluZywgc3RhdHVzVGV4dCkge1xyXG4gICAgICAvLyBjYW5jZWwgdGltZW91dCBhbmQgc3Vic2VxdWVudCB0aW1lb3V0IHByb21pc2UgcmVzb2x1dGlvblxyXG4gICAgICBpZiAoaXNEZWZpbmVkKHRpbWVvdXRJZCkpIHtcclxuICAgICAgICAkYnJvd3NlckRlZmVyLmNhbmNlbCh0aW1lb3V0SWQpO1xyXG4gICAgICB9XHJcbiAgICAgIGpzb25wRG9uZSA9IHhociA9IG51bGw7XHJcblxyXG4gICAgICBjYWxsYmFjayhzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KTtcclxuICAgICAgJGJyb3dzZXIuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBqc29ucFJlcSh1cmwsIGNhbGxiYWNrSWQsIGRvbmUpIHtcclxuICAgIC8vIHdlIGNhbid0IHVzZSBqUXVlcnkvanFMaXRlIGhlcmUgYmVjYXVzZSBqUXVlcnkgZG9lcyBjcmF6eSBzdHVmZiB3aXRoIHNjcmlwdCBlbGVtZW50cywgZS5nLjpcclxuICAgIC8vIC0gZmV0Y2hlcyBsb2NhbCBzY3JpcHRzIHZpYSBYSFIgYW5kIGV2YWxzIHRoZW1cclxuICAgIC8vIC0gYWRkcyBhbmQgaW1tZWRpYXRlbHkgcmVtb3ZlcyBzY3JpcHQgZWxlbWVudHMgZnJvbSB0aGUgZG9jdW1lbnRcclxuICAgIHZhciBzY3JpcHQgPSByYXdEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKSwgY2FsbGJhY2sgPSBudWxsO1xyXG4gICAgc2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xyXG4gICAgc2NyaXB0LnNyYyA9IHVybDtcclxuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XHJcblxyXG4gICAgY2FsbGJhY2sgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImxvYWRcIiwgY2FsbGJhY2spO1xyXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImVycm9yXCIsIGNhbGxiYWNrKTtcclxuICAgICAgcmF3RG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHQpO1xyXG4gICAgICBzY3JpcHQgPSBudWxsO1xyXG4gICAgICB2YXIgc3RhdHVzID0gLTE7XHJcbiAgICAgIHZhciB0ZXh0ID0gXCJ1bmtub3duXCI7XHJcblxyXG4gICAgICBpZiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJsb2FkXCIgJiYgIWNhbGxiYWNrc1tjYWxsYmFja0lkXS5jYWxsZWQpIHtcclxuICAgICAgICAgIGV2ZW50ID0geyB0eXBlOiBcImVycm9yXCIgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGV4dCA9IGV2ZW50LnR5cGU7XHJcbiAgICAgICAgc3RhdHVzID0gZXZlbnQudHlwZSA9PT0gXCJlcnJvclwiID8gNDA0IDogMjAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZG9uZSkge1xyXG4gICAgICAgIGRvbmUoc3RhdHVzLCB0ZXh0KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBhZGRFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImxvYWRcIiwgY2FsbGJhY2spO1xyXG4gICAgYWRkRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwgXCJlcnJvclwiLCBjYWxsYmFjayk7XHJcbiAgICByYXdEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiAgICByZXR1cm4gY2FsbGJhY2s7XHJcbiAgfVxyXG59XHJcblxyXG52YXIgJGludGVycG9sYXRlTWluRXJyID0gYW5ndWxhci4kaW50ZXJwb2xhdGVNaW5FcnIgPSBtaW5FcnIoJyRpbnRlcnBvbGF0ZScpO1xyXG4kaW50ZXJwb2xhdGVNaW5FcnIudGhyb3dOb2NvbmNhdCA9IGZ1bmN0aW9uKHRleHQpIHtcclxuICB0aHJvdyAkaW50ZXJwb2xhdGVNaW5FcnIoJ25vY29uY2F0JyxcclxuICAgICAgXCJFcnJvciB3aGlsZSBpbnRlcnBvbGF0aW5nOiB7MH1cXG5TdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBkaXNhbGxvd3MgXCIgK1xyXG4gICAgICBcImludGVycG9sYXRpb25zIHRoYXQgY29uY2F0ZW5hdGUgbXVsdGlwbGUgZXhwcmVzc2lvbnMgd2hlbiBhIHRydXN0ZWQgdmFsdWUgaXMgXCIgK1xyXG4gICAgICBcInJlcXVpcmVkLiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2VcIiwgdGV4dCk7XHJcbn07XHJcblxyXG4kaW50ZXJwb2xhdGVNaW5FcnIuaW50ZXJyID0gZnVuY3Rpb24odGV4dCwgZXJyKSB7XHJcbiAgcmV0dXJuICRpbnRlcnBvbGF0ZU1pbkVycignaW50ZXJyJywgXCJDYW4ndCBpbnRlcnBvbGF0ZTogezB9XFxuezF9XCIsIHRleHQsIGVyci50b1N0cmluZygpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBpbnRlcnBvbGF0aW9uIG1hcmt1cC4gRGVmYXVsdHMgdG8gYHt7YCBhbmQgYH19YC5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxyXG4gKiBUaGlzIGZlYXR1cmUgaXMgc29tZXRpbWVzIHVzZWQgdG8gbWl4IGRpZmZlcmVudCBtYXJrdXAgbGFuZ3VhZ2VzLCBlLmcuIHRvIHdyYXAgYW4gQW5ndWxhclxyXG4gKiB0ZW1wbGF0ZSB3aXRoaW4gYSBQeXRob24gSmluamEgdGVtcGxhdGUgKG9yIGFueSBvdGhlciB0ZW1wbGF0ZSBsYW5ndWFnZSkuIE1peGluZyB0ZW1wbGF0aW5nXHJcbiAqIGxhbmd1YWdlcyBpcyAqKnZlcnkgZGFuZ2Vyb3VzKiouIFRoZSBlbWJlZGRpbmcgdGVtcGxhdGUgbGFuZ3VhZ2Ugd2lsbCBub3Qgc2FmZWx5IGVzY2FwZSBBbmd1bGFyXHJcbiAqIGV4cHJlc3Npb25zLCBzbyBhbnkgdXNlci1jb250cm9sbGVkIHZhbHVlcyBpbiB0aGUgdGVtcGxhdGUgd2lsbCBjYXVzZSBDcm9zcyBTaXRlIFNjcmlwdGluZyAoWFNTKVxyXG4gKiBzZWN1cml0eSBidWdzIVxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogQGV4YW1wbGVcclxuPGV4YW1wbGUgbmFtZT1cImN1c3RvbS1pbnRlcnBvbGF0aW9uLW1hcmt1cFwiIG1vZHVsZT1cImN1c3RvbUludGVycG9sYXRpb25BcHBcIj5cclxuPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuPHNjcmlwdD5cclxuICB2YXIgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcCA9IGFuZ3VsYXIubW9kdWxlKCdjdXN0b21JbnRlcnBvbGF0aW9uQXBwJywgW10pO1xyXG5cclxuICBjdXN0b21JbnRlcnBvbGF0aW9uQXBwLmNvbmZpZyhmdW5jdGlvbigkaW50ZXJwb2xhdGVQcm92aWRlcikge1xyXG4gICAgJGludGVycG9sYXRlUHJvdmlkZXIuc3RhcnRTeW1ib2woJy8vJyk7XHJcbiAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2woJy8vJyk7XHJcbiAgfSk7XHJcblxyXG5cclxuICBjdXN0b21JbnRlcnBvbGF0aW9uQXBwLmNvbnRyb2xsZXIoJ0RlbW9Db250cm9sbGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMubGFiZWwgPSBcIlRoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuXCI7XHJcbiAgfSk7XHJcbjwvc2NyaXB0PlxyXG48ZGl2IG5nLWNvbnRyb2xsZXI9XCJEZW1vQ29udHJvbGxlciBhcyBkZW1vXCI+XHJcbiAgICAvL2RlbW8ubGFiZWwvL1xyXG48L2Rpdj5cclxuPC9maWxlPlxyXG48ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgaXQoJ3Nob3VsZCBpbnRlcnBvbGF0ZSBiaW5kaW5nIHdpdGggY3VzdG9tIHN5bWJvbHMnLCBmdW5jdGlvbigpIHtcclxuICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2RlbW8ubGFiZWwnKSkuZ2V0VGV4dCgpKS50b0JlKCdUaGlzIGJpbmRpbmcgaXMgYnJvdWdodCB5b3UgYnkgLy8gaW50ZXJwb2xhdGlvbiBzeW1ib2xzLicpO1xyXG4gIH0pO1xyXG48L2ZpbGU+XHJcbjwvZXhhbXBsZT5cclxuICovXHJcbmZ1bmN0aW9uICRJbnRlcnBvbGF0ZVByb3ZpZGVyKCkge1xyXG4gIHZhciBzdGFydFN5bWJvbCA9ICd7eyc7XHJcbiAgdmFyIGVuZFN5bWJvbCA9ICd9fSc7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkaW50ZXJwb2xhdGVQcm92aWRlciNzdGFydFN5bWJvbFxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFN5bWJvbCB0byBkZW5vdGUgc3RhcnQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYHt7YC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIHRvIHNldCB0aGUgc3RhcnRpbmcgc3ltYm9sIHRvLlxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8c2VsZn0gUmV0dXJucyB0aGUgc3ltYm9sIHdoZW4gdXNlZCBhcyBnZXR0ZXIgYW5kIHNlbGYgaWYgdXNlZCBhcyBzZXR0ZXIuXHJcbiAgICovXHJcbiAgdGhpcy5zdGFydFN5bWJvbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgc3RhcnRTeW1ib2wgPSB2YWx1ZTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gc3RhcnRTeW1ib2w7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRpbnRlcnBvbGF0ZVByb3ZpZGVyI2VuZFN5bWJvbFxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIGVuZCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBgfX1gLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBuZXcgdmFsdWUgdG8gc2V0IHRoZSBlbmRpbmcgc3ltYm9sIHRvLlxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8c2VsZn0gUmV0dXJucyB0aGUgc3ltYm9sIHdoZW4gdXNlZCBhcyBnZXR0ZXIgYW5kIHNlbGYgaWYgdXNlZCBhcyBzZXR0ZXIuXHJcbiAgICovXHJcbiAgdGhpcy5lbmRTeW1ib2wgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIGVuZFN5bWJvbCA9IHZhbHVlO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBlbmRTeW1ib2w7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4gIHRoaXMuJGdldCA9IFsnJHBhcnNlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRzY2UnLCBmdW5jdGlvbigkcGFyc2UsICRleGNlcHRpb25IYW5kbGVyLCAkc2NlKSB7XHJcbiAgICB2YXIgc3RhcnRTeW1ib2xMZW5ndGggPSBzdGFydFN5bWJvbC5sZW5ndGgsXHJcbiAgICAgICAgZW5kU3ltYm9sTGVuZ3RoID0gZW5kU3ltYm9sLmxlbmd0aCxcclxuICAgICAgICBlc2NhcGVkU3RhcnRSZWdleHAgPSBuZXcgUmVnRXhwKHN0YXJ0U3ltYm9sLnJlcGxhY2UoLy4vZywgZXNjYXBlKSwgJ2cnKSxcclxuICAgICAgICBlc2NhcGVkRW5kUmVnZXhwID0gbmV3IFJlZ0V4cChlbmRTeW1ib2wucmVwbGFjZSgvLi9nLCBlc2NhcGUpLCAnZycpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGVzY2FwZShjaCkge1xyXG4gICAgICByZXR1cm4gJ1xcXFxcXFxcXFxcXCcgKyBjaDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bmVzY2FwZVRleHQodGV4dCkge1xyXG4gICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKGVzY2FwZWRTdGFydFJlZ2V4cCwgc3RhcnRTeW1ib2wpLlxyXG4gICAgICAgIHJlcGxhY2UoZXNjYXBlZEVuZFJlZ2V4cCwgZW5kU3ltYm9sKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdHJpbmdpZnkodmFsdWUpIHtcclxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHsgLy8gbnVsbCB8fCB1bmRlZmluZWRcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgIH1cclxuICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcclxuICAgICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICAgIHZhbHVlID0gJycgKyB2YWx1ZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICB2YWx1ZSA9IHRvSnNvbih2YWx1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvL1RPRE86IHRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZSBpbiBwYXJzZS5qc1xyXG4gICAgZnVuY3Rpb24gY29uc3RhbnRXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIGNvbnN0YW50SW50ZXJwKSB7XHJcbiAgICAgIHZhciB1bndhdGNoO1xyXG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBjb25zdGFudEludGVycG9sYXRlV2F0Y2goc2NvcGUpIHtcclxuICAgICAgICB1bndhdGNoKCk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnN0YW50SW50ZXJwKHNjb3BlKTtcclxuICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGVcclxuICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQHJlcXVpcmVzICRwYXJzZVxyXG4gICAgICogQHJlcXVpcmVzICRzY2VcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBDb21waWxlcyBhIHN0cmluZyB3aXRoIG1hcmt1cCBpbnRvIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFRoaXMgc2VydmljZSBpcyB1c2VkIGJ5IHRoZVxyXG4gICAgICogSFRNTCB7QGxpbmsgbmcuJGNvbXBpbGUgJGNvbXBpbGV9IHNlcnZpY2UgZm9yIGRhdGEgYmluZGluZy4gU2VlXHJcbiAgICAgKiB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIgJGludGVycG9sYXRlUHJvdmlkZXJ9IGZvciBjb25maWd1cmluZyB0aGVcclxuICAgICAqIGludGVycG9sYXRpb24gbWFya3VwLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICB2YXIgJGludGVycG9sYXRlID0gLi4uOyAvLyBpbmplY3RlZFxyXG4gICAgICogICB2YXIgZXhwID0gJGludGVycG9sYXRlKCdIZWxsbyB7e25hbWUgfCB1cHBlcmNhc2V9fSEnKTtcclxuICAgICAqICAgZXhwZWN0KGV4cCh7bmFtZTonQW5ndWxhcid9KSkudG9FcXVhbCgnSGVsbG8gQU5HVUxBUiEnKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIGAkaW50ZXJwb2xhdGVgIHRha2VzIGFuIG9wdGlvbmFsIGZvdXJ0aCBhcmd1bWVudCwgYGFsbE9yTm90aGluZ2AuIElmIGBhbGxPck5vdGhpbmdgIGlzXHJcbiAgICAgKiBgdHJ1ZWAsIHRoZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGB1bmRlZmluZWRgIHVubGVzcyBhbGwgZW1iZWRkZWQgZXhwcmVzc2lvbnNcclxuICAgICAqIGV2YWx1YXRlIHRvIGEgdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICB2YXIgJGludGVycG9sYXRlID0gLi4uOyAvLyBpbmplY3RlZFxyXG4gICAgICogICB2YXIgY29udGV4dCA9IHtncmVldGluZzogJ0hlbGxvJywgbmFtZTogdW5kZWZpbmVkIH07XHJcbiAgICAgKlxyXG4gICAgICogICAvLyBkZWZhdWx0IFwiZm9yZ2l2aW5nXCIgbW9kZVxyXG4gICAgICogICB2YXIgZXhwID0gJGludGVycG9sYXRlKCd7e2dyZWV0aW5nfX0ge3tuYW1lfX0hJyk7XHJcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvRXF1YWwoJ0hlbGxvICEnKTtcclxuICAgICAqXHJcbiAgICAgKiAgIC8vIFwiYWxsT3JOb3RoaW5nXCIgbW9kZVxyXG4gICAgICogICBleHAgPSAkaW50ZXJwb2xhdGUoJ3t7Z3JlZXRpbmd9fSB7e25hbWV9fSEnLCBmYWxzZSwgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgICAqICAgY29udGV4dC5uYW1lID0gJ0FuZ3VsYXInO1xyXG4gICAgICogICBleHBlY3QoZXhwKGNvbnRleHQpKS50b0VxdWFsKCdIZWxsbyBBbmd1bGFyIScpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogYGFsbE9yTm90aGluZ2AgaXMgdXNlZnVsIGZvciBpbnRlcnBvbGF0aW5nIFVSTHMuIGBuZ1NyY2AgYW5kIGBuZ1NyY3NldGAgdXNlIHRoaXMgYmVoYXZpb3IuXHJcbiAgICAgKlxyXG4gICAgICogIyMjI0VzY2FwZWQgSW50ZXJwb2xhdGlvblxyXG4gICAgICogJGludGVycG9sYXRlIHByb3ZpZGVzIGEgbWVjaGFuaXNtIGZvciBlc2NhcGluZyBpbnRlcnBvbGF0aW9uIG1hcmtlcnMuIFN0YXJ0IGFuZCBlbmQgbWFya2Vyc1xyXG4gICAgICogY2FuIGJlIGVzY2FwZWQgYnkgcHJlY2VkaW5nIGVhY2ggb2YgdGhlaXIgY2hhcmFjdGVycyB3aXRoIGEgUkVWRVJTRSBTT0xJRFVTIFUrMDA1QyAoYmFja3NsYXNoKS5cclxuICAgICAqIEl0IHdpbGwgYmUgcmVuZGVyZWQgYXMgYSByZWd1bGFyIHN0YXJ0L2VuZCBtYXJrZXIsIGFuZCB3aWxsIG5vdCBiZSBpbnRlcnByZXRlZCBhcyBhbiBleHByZXNzaW9uXHJcbiAgICAgKiBvciBiaW5kaW5nLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgZW5hYmxlcyB3ZWItc2VydmVycyB0byBwcmV2ZW50IHNjcmlwdCBpbmplY3Rpb24gYXR0YWNrcyBhbmQgZGVmYWNpbmcgYXR0YWNrcywgdG8gc29tZVxyXG4gICAgICogZGVncmVlLCB3aGlsZSBhbHNvIGVuYWJsaW5nIGNvZGUgZXhhbXBsZXMgdG8gd29yayB3aXRob3V0IHJlbHlpbmcgb24gdGhlXHJcbiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTm9uQmluZGFibGUgbmdOb25CaW5kYWJsZX0gZGlyZWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqICoqRm9yIHNlY3VyaXR5IHB1cnBvc2VzLCBpdCBpcyBzdHJvbmdseSBlbmNvdXJhZ2VkIHRoYXQgd2ViIHNlcnZlcnMgZXNjYXBlIHVzZXItc3VwcGxpZWQgZGF0YSxcclxuICAgICAqIHJlcGxhY2luZyBhbmdsZSBicmFja2V0cyAoJmx0OywgJmd0Oykgd2l0aCAmYW1wO2x0OyBhbmQgJmFtcDtndDsgcmVzcGVjdGl2ZWx5LCBhbmQgcmVwbGFjaW5nIGFsbFxyXG4gICAgICogaW50ZXJwb2xhdGlvbiBzdGFydC9lbmQgbWFya2VycyB3aXRoIHRoZWlyIGVzY2FwZWQgY291bnRlcnBhcnRzLioqXHJcbiAgICAgKlxyXG4gICAgICogRXNjYXBlZCBpbnRlcnBvbGF0aW9uIG1hcmtlcnMgYXJlIG9ubHkgcmVwbGFjZWQgd2l0aCB0aGUgYWN0dWFsIGludGVycG9sYXRpb24gbWFya2VycyBpbiByZW5kZXJlZFxyXG4gICAgICogb3V0cHV0IHdoZW4gdGhlICRpbnRlcnBvbGF0ZSBzZXJ2aWNlIHByb2Nlc3NlcyB0aGUgdGV4dC4gU28sIGZvciBIVE1MIGVsZW1lbnRzIGludGVycG9sYXRlZFxyXG4gICAgICogYnkge0BsaW5rIG5nLiRjb21waWxlICRjb21waWxlfSwgb3Igb3RoZXJ3aXNlIGludGVycG9sYXRlZCB3aXRoIHRoZSBgbXVzdEhhdmVFeHByZXNzaW9uYCBwYXJhbWV0ZXJcclxuICAgICAqIHNldCB0byBgdHJ1ZWAsIHRoZSBpbnRlcnBvbGF0ZWQgdGV4dCBtdXN0IGNvbnRhaW4gYW4gdW5lc2NhcGVkIGludGVycG9sYXRpb24gZXhwcmVzc2lvbi4gQXMgc3VjaCxcclxuICAgICAqIHRoaXMgaXMgdHlwaWNhbGx5IHVzZWZ1bCBvbmx5IHdoZW4gdXNlci1kYXRhIGlzIHVzZWQgaW4gcmVuZGVyaW5nIGEgdGVtcGxhdGUgZnJvbSB0aGUgc2VydmVyLCBvclxyXG4gICAgICogd2hlbiBvdGhlcndpc2UgdW50cnVzdGVkIGRhdGEgaXMgdXNlZCBieSBhIGRpcmVjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiA8ZXhhbXBsZT5cclxuICAgICAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICogICAgPGRpdiBuZy1pbml0PVwidXNlcm5hbWU9J0EgdXNlcidcIj5cclxuICAgICAqICAgICAgPHAgbmctaW5pdD1cImFwcHRpdGxlPSdFc2NhcGluZyBkZW1vJ1wiPnt7YXBwdGl0bGV9fTogXFx7XFx7IHVzZXJuYW1lID0gXCJkZWZhY2VkIHZhbHVlXCI7IFxcfVxcfVxyXG4gICAgICogICAgICAgIDwvcD5cclxuICAgICAqICAgICAgPHA+PHN0cm9uZz57e3VzZXJuYW1lfX08L3N0cm9uZz4gYXR0ZW1wdHMgdG8gaW5qZWN0IGNvZGUgd2hpY2ggd2lsbCBkZWZhY2UgdGhlXHJcbiAgICAgKiAgICAgICAgYXBwbGljYXRpb24sIGJ1dCBmYWlscyB0byBhY2NvbXBsaXNoIHRoZWlyIHRhc2ssIGJlY2F1c2UgdGhlIHNlcnZlciBoYXMgY29ycmVjdGx5XHJcbiAgICAgKiAgICAgICAgZXNjYXBlZCB0aGUgaW50ZXJwb2xhdGlvbiBzdGFydC9lbmQgbWFya2VycyB3aXRoIFJFVkVSU0UgU09MSURVUyBVKzAwNUMgKGJhY2tzbGFzaClcclxuICAgICAqICAgICAgICBjaGFyYWN0ZXJzLjwvcD5cclxuICAgICAqICAgICAgPHA+SW5zdGVhZCwgdGhlIHJlc3VsdCBvZiB0aGUgYXR0ZW1wdGVkIHNjcmlwdCBpbmplY3Rpb24gaXMgdmlzaWJsZSwgYW5kIGNhbiBiZSByZW1vdmVkXHJcbiAgICAgKiAgICAgICAgZnJvbSB0aGUgZGF0YWJhc2UgYnkgYW4gYWRtaW5pc3RyYXRvci48L3A+XHJcbiAgICAgKiAgICA8L2Rpdj5cclxuICAgICAqICA8L2ZpbGU+XHJcbiAgICAgKiA8L2V4YW1wbGU+XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgd2l0aCBtYXJrdXAgdG8gaW50ZXJwb2xhdGUuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBtdXN0SGF2ZUV4cHJlc3Npb24gaWYgc2V0IHRvIHRydWUgdGhlbiB0aGUgaW50ZXJwb2xhdGlvbiBzdHJpbmcgbXVzdCBoYXZlXHJcbiAgICAgKiAgICBlbWJlZGRlZCBleHByZXNzaW9uIGluIG9yZGVyIHRvIHJldHVybiBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLiBTdHJpbmdzIHdpdGggbm9cclxuICAgICAqICAgIGVtYmVkZGVkIGV4cHJlc3Npb24gd2lsbCByZXR1cm4gbnVsbCBmb3IgdGhlIGludGVycG9sYXRpb24gZnVuY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHRydXN0ZWRDb250ZXh0IHdoZW4gcHJvdmlkZWQsIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBwYXNzZXMgdGhlIGludGVycG9sYXRlZFxyXG4gICAgICogICAgcmVzdWx0IHRocm91Z2gge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoaW50ZXJwb2xhdGVkUmVzdWx0LFxyXG4gICAgICogICAgdHJ1c3RlZENvbnRleHQpfSBiZWZvcmUgcmV0dXJuaW5nIGl0LiAgUmVmZXIgdG8gdGhlIHtAbGluayBuZy4kc2NlICRzY2V9IHNlcnZpY2UgdGhhdFxyXG4gICAgICogICAgcHJvdmlkZXMgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZm9yIGRldGFpbHMuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBhbGxPck5vdGhpbmcgaWYgYHRydWVgLCB0aGVuIHRoZSByZXR1cm5lZCBmdW5jdGlvbiByZXR1cm5zIHVuZGVmaW5lZFxyXG4gICAgICogICAgdW5sZXNzIGFsbCBlbWJlZGRlZCBleHByZXNzaW9ucyBldmFsdWF0ZSB0byBhIHZhbHVlIG90aGVyIHRoYW4gYHVuZGVmaW5lZGAuXHJcbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCl9IGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24gd2hpY2ggaXMgdXNlZCB0byBjb21wdXRlIHRoZVxyXG4gICAgICogICAgaW50ZXJwb2xhdGVkIHN0cmluZy4gVGhlIGZ1bmN0aW9uIGhhcyB0aGVzZSBwYXJhbWV0ZXJzOlxyXG4gICAgICpcclxuICAgICAqIC0gYGNvbnRleHRgOiBldmFsdWF0aW9uIGNvbnRleHQgZm9yIGFsbCBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgaW50ZXJwb2xhdGVkIHRleHRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gJGludGVycG9sYXRlKHRleHQsIG11c3RIYXZlRXhwcmVzc2lvbiwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZykge1xyXG4gICAgICAvLyBQcm92aWRlIGEgcXVpY2sgZXhpdCBhbmQgc2ltcGxpZmllZCByZXN1bHQgZnVuY3Rpb24gZm9yIHRleHQgd2l0aCBubyBpbnRlcnBvbGF0aW9uXHJcbiAgICAgIGlmICghdGV4dC5sZW5ndGggfHwgdGV4dC5pbmRleE9mKHN0YXJ0U3ltYm9sKSA9PT0gLTEpIHtcclxuICAgICAgICB2YXIgY29uc3RhbnRJbnRlcnA7XHJcbiAgICAgICAgaWYgKCFtdXN0SGF2ZUV4cHJlc3Npb24pIHtcclxuICAgICAgICAgIHZhciB1bmVzY2FwZWRUZXh0ID0gdW5lc2NhcGVUZXh0KHRleHQpO1xyXG4gICAgICAgICAgY29uc3RhbnRJbnRlcnAgPSB2YWx1ZUZuKHVuZXNjYXBlZFRleHQpO1xyXG4gICAgICAgICAgY29uc3RhbnRJbnRlcnAuZXhwID0gdGV4dDtcclxuICAgICAgICAgIGNvbnN0YW50SW50ZXJwLmV4cHJlc3Npb25zID0gW107XHJcbiAgICAgICAgICBjb25zdGFudEludGVycC4kJHdhdGNoRGVsZWdhdGUgPSBjb25zdGFudFdhdGNoRGVsZWdhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb25zdGFudEludGVycDtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWxsT3JOb3RoaW5nID0gISFhbGxPck5vdGhpbmc7XHJcbiAgICAgIHZhciBzdGFydEluZGV4LFxyXG4gICAgICAgICAgZW5kSW5kZXgsXHJcbiAgICAgICAgICBpbmRleCA9IDAsXHJcbiAgICAgICAgICBleHByZXNzaW9ucyA9IFtdLFxyXG4gICAgICAgICAgcGFyc2VGbnMgPSBbXSxcclxuICAgICAgICAgIHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aCxcclxuICAgICAgICAgIGV4cCxcclxuICAgICAgICAgIGNvbmNhdCA9IFtdLFxyXG4gICAgICAgICAgZXhwcmVzc2lvblBvc2l0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgd2hpbGUgKGluZGV4IDwgdGV4dExlbmd0aCkge1xyXG4gICAgICAgIGlmICgoKHN0YXJ0SW5kZXggPSB0ZXh0LmluZGV4T2Yoc3RhcnRTeW1ib2wsIGluZGV4KSkgIT0gLTEpICYmXHJcbiAgICAgICAgICAgICAoKGVuZEluZGV4ID0gdGV4dC5pbmRleE9mKGVuZFN5bWJvbCwgc3RhcnRJbmRleCArIHN0YXJ0U3ltYm9sTGVuZ3RoKSkgIT0gLTEpKSB7XHJcbiAgICAgICAgICBpZiAoaW5kZXggIT09IHN0YXJ0SW5kZXgpIHtcclxuICAgICAgICAgICAgY29uY2F0LnB1c2godW5lc2NhcGVUZXh0KHRleHQuc3Vic3RyaW5nKGluZGV4LCBzdGFydEluZGV4KSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZXhwID0gdGV4dC5zdWJzdHJpbmcoc3RhcnRJbmRleCArIHN0YXJ0U3ltYm9sTGVuZ3RoLCBlbmRJbmRleCk7XHJcbiAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGV4cCk7XHJcbiAgICAgICAgICBwYXJzZUZucy5wdXNoKCRwYXJzZShleHAsIHBhcnNlU3RyaW5naWZ5SW50ZXJjZXB0b3IpKTtcclxuICAgICAgICAgIGluZGV4ID0gZW5kSW5kZXggKyBlbmRTeW1ib2xMZW5ndGg7XHJcbiAgICAgICAgICBleHByZXNzaW9uUG9zaXRpb25zLnB1c2goY29uY2F0Lmxlbmd0aCk7XHJcbiAgICAgICAgICBjb25jYXQucHVzaCgnJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIHdlIGRpZCBub3QgZmluZCBhbiBpbnRlcnBvbGF0aW9uLCBzbyB3ZSBoYXZlIHRvIGFkZCB0aGUgcmVtYWluZGVyIHRvIHRoZSBzZXBhcmF0b3JzIGFycmF5XHJcbiAgICAgICAgICBpZiAoaW5kZXggIT09IHRleHRMZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uY2F0LnB1c2godW5lc2NhcGVUZXh0KHRleHQuc3Vic3RyaW5nKGluZGV4KSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDb25jYXRlbmF0aW5nIGV4cHJlc3Npb25zIG1ha2VzIGl0IGhhcmQgdG8gcmVhc29uIGFib3V0IHdoZXRoZXIgc29tZSBjb21iaW5hdGlvbiBvZlxyXG4gICAgICAvLyBjb25jYXRlbmF0ZWQgdmFsdWVzIGFyZSB1bnNhZmUgdG8gdXNlIGFuZCBjb3VsZCBlYXNpbHkgbGVhZCB0byBYU1MuICBCeSByZXF1aXJpbmcgdGhhdCBhXHJcbiAgICAgIC8vIHNpbmdsZSBleHByZXNzaW9uIGJlIHVzZWQgZm9yIGlmcmFtZVtzcmNdLCBvYmplY3Rbc3JjXSwgZXRjLiwgd2UgZW5zdXJlIHRoYXQgdGhlIHZhbHVlXHJcbiAgICAgIC8vIHRoYXQncyB1c2VkIGlzIGFzc2lnbmVkIG9yIGNvbnN0cnVjdGVkIGJ5IHNvbWUgSlMgY29kZSBzb21ld2hlcmUgdGhhdCBpcyBtb3JlIHRlc3RhYmxlIG9yXHJcbiAgICAgIC8vIG1ha2UgaXQgb2J2aW91cyB0aGF0IHlvdSBib3VuZCB0aGUgdmFsdWUgdG8gc29tZSB1c2VyIGNvbnRyb2xsZWQgdmFsdWUuICBUaGlzIGhlbHBzIHJlZHVjZVxyXG4gICAgICAvLyB0aGUgbG9hZCB3aGVuIGF1ZGl0aW5nIGZvciBYU1MgaXNzdWVzLlxyXG4gICAgICBpZiAodHJ1c3RlZENvbnRleHQgJiYgY29uY2F0Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICRpbnRlcnBvbGF0ZU1pbkVyci50aHJvd05vY29uY2F0KHRleHQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIW11c3RIYXZlRXhwcmVzc2lvbiB8fCBleHByZXNzaW9ucy5sZW5ndGgpIHtcclxuICAgICAgICB2YXIgY29tcHV0ZSA9IGZ1bmN0aW9uKHZhbHVlcykge1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZXhwcmVzc2lvbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYWxsT3JOb3RoaW5nICYmIGlzVW5kZWZpbmVkKHZhbHVlc1tpXSkpIHJldHVybjtcclxuICAgICAgICAgICAgY29uY2F0W2V4cHJlc3Npb25Qb3NpdGlvbnNbaV1dID0gdmFsdWVzW2ldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGNvbmNhdC5qb2luKCcnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydXN0ZWRDb250ZXh0ID9cclxuICAgICAgICAgICAgJHNjZS5nZXRUcnVzdGVkKHRydXN0ZWRDb250ZXh0LCB2YWx1ZSkgOlxyXG4gICAgICAgICAgICAkc2NlLnZhbHVlT2YodmFsdWUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gaW50ZXJwb2xhdGlvbkZuKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICB2YXIgaWkgPSBleHByZXNzaW9ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkoaWkpO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBmb3IgKDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IHBhcnNlRm5zW2ldKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGUodmFsdWVzKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoJGludGVycG9sYXRlTWluRXJyLmludGVycih0ZXh0LCBlcnIpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIH0sIHtcclxuICAgICAgICAgIC8vIGFsbCBvZiB0aGVzZSBwcm9wZXJ0aWVzIGFyZSB1bmRvY3VtZW50ZWQgZm9yIG5vd1xyXG4gICAgICAgICAgZXhwOiB0ZXh0LCAvL2p1c3QgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCByZWd1bGFyIHdhdGNoZXJzIGNyZWF0ZWQgdmlhICR3YXRjaFxyXG4gICAgICAgICAgZXhwcmVzc2lvbnM6IGV4cHJlc3Npb25zLFxyXG4gICAgICAgICAgJCR3YXRjaERlbGVnYXRlOiBmdW5jdGlvbihzY29wZSwgbGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiR3YXRjaEdyb3VwKHBhcnNlRm5zLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUZuV2F0Y2hlcih2YWx1ZXMsIG9sZFZhbHVlcykge1xyXG4gICAgICAgICAgICAgIHZhciBjdXJyVmFsdWUgPSBjb21wdXRlKHZhbHVlcyk7XHJcbiAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGN1cnJWYWx1ZSwgdmFsdWVzICE9PSBvbGRWYWx1ZXMgPyBsYXN0VmFsdWUgOiBjdXJyVmFsdWUsIHNjb3BlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgbGFzdFZhbHVlID0gY3VyclZhbHVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcGFyc2VTdHJpbmdpZnlJbnRlcmNlcHRvcih2YWx1ZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IGdldFZhbHVlKHZhbHVlKTtcclxuICAgICAgICAgIHJldHVybiBhbGxPck5vdGhpbmcgJiYgIWlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHN0cmluZ2lmeSh2YWx1ZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcigkaW50ZXJwb2xhdGVNaW5FcnIuaW50ZXJyKHRleHQsIGVycikpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZSNzdGFydFN5bWJvbFxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBzdGFydCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBge3tgLlxyXG4gICAgICpcclxuICAgICAqIFVzZSB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIjc3RhcnRTeW1ib2wgYCRpbnRlcnBvbGF0ZVByb3ZpZGVyLnN0YXJ0U3ltYm9sYH0gdG8gY2hhbmdlXHJcbiAgICAgKiB0aGUgc3ltYm9sLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0YXJ0IHN5bWJvbC5cclxuICAgICAqL1xyXG4gICAgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBzdGFydFN5bWJvbDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlI2VuZFN5bWJvbFxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBlbmQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYH19YC5cclxuICAgICAqXHJcbiAgICAgKiBVc2Uge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyI2VuZFN5bWJvbCBgJGludGVycG9sYXRlUHJvdmlkZXIuZW5kU3ltYm9sYH0gdG8gY2hhbmdlXHJcbiAgICAgKiB0aGUgc3ltYm9sLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGVuZCBzeW1ib2wuXHJcbiAgICAgKi9cclxuICAgICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2wgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGVuZFN5bWJvbDtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuICRpbnRlcnBvbGF0ZTtcclxuICB9XTtcclxufVxyXG5cclxuZnVuY3Rpb24gJEludGVydmFsUHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyR3aW5kb3cnLCAnJHEnLCAnJCRxJywgJyRicm93c2VyJyxcclxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJHdpbmRvdywgICAkcSwgICAkJHEsICAgJGJyb3dzZXIpIHtcclxuICAgIHZhciBpbnRlcnZhbHMgPSB7fTtcclxuXHJcblxyXG4gICAgIC8qKlxyXG4gICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgICogQG5hbWUgJGludGVydmFsXHJcbiAgICAgICpcclxuICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgKiBBbmd1bGFyJ3Mgd3JhcHBlciBmb3IgYHdpbmRvdy5zZXRJbnRlcnZhbGAuIFRoZSBgZm5gIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGV2ZXJ5IGBkZWxheWBcclxuICAgICAgKiBtaWxsaXNlY29uZHMuXHJcbiAgICAgICpcclxuICAgICAgKiBUaGUgcmV0dXJuIHZhbHVlIG9mIHJlZ2lzdGVyaW5nIGFuIGludGVydmFsIGZ1bmN0aW9uIGlzIGEgcHJvbWlzZS4gVGhpcyBwcm9taXNlIHdpbGwgYmVcclxuICAgICAgKiBub3RpZmllZCB1cG9uIGVhY2ggdGljayBvZiB0aGUgaW50ZXJ2YWwsIGFuZCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIGBjb3VudGAgaXRlcmF0aW9ucywgb3JcclxuICAgICAgKiBydW4gaW5kZWZpbml0ZWx5IGlmIGBjb3VudGAgaXMgbm90IGRlZmluZWQuIFRoZSB2YWx1ZSBvZiB0aGUgbm90aWZpY2F0aW9uIHdpbGwgYmUgdGhlXHJcbiAgICAgICogbnVtYmVyIG9mIGl0ZXJhdGlvbnMgdGhhdCBoYXZlIHJ1bi5cclxuICAgICAgKiBUbyBjYW5jZWwgYW4gaW50ZXJ2YWwsIGNhbGwgYCRpbnRlcnZhbC5jYW5jZWwocHJvbWlzZSlgLlxyXG4gICAgICAqXHJcbiAgICAgICogSW4gdGVzdHMgeW91IGNhbiB1c2Uge0BsaW5rIG5nTW9jay4kaW50ZXJ2YWwjZmx1c2ggYCRpbnRlcnZhbC5mbHVzaChtaWxsaXMpYH0gdG9cclxuICAgICAgKiBtb3ZlIGZvcndhcmQgYnkgYG1pbGxpc2AgbWlsbGlzZWNvbmRzIGFuZCB0cmlnZ2VyIGFueSBmdW5jdGlvbnMgc2NoZWR1bGVkIHRvIHJ1biBpbiB0aGF0XHJcbiAgICAgICogdGltZS5cclxuICAgICAgKlxyXG4gICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICAgICogKipOb3RlKio6IEludGVydmFscyBjcmVhdGVkIGJ5IHRoaXMgc2VydmljZSBtdXN0IGJlIGV4cGxpY2l0bHkgZGVzdHJveWVkIHdoZW4geW91IGFyZSBmaW5pc2hlZFxyXG4gICAgICAqIHdpdGggdGhlbS4gIEluIHBhcnRpY3VsYXIgdGhleSBhcmUgbm90IGF1dG9tYXRpY2FsbHkgZGVzdHJveWVkIHdoZW4gYSBjb250cm9sbGVyJ3Mgc2NvcGUgb3IgYVxyXG4gICAgICAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQgYXJlIGRlc3Ryb3llZC5cclxuICAgICAgKiBZb3Ugc2hvdWxkIHRha2UgdGhpcyBpbnRvIGNvbnNpZGVyYXRpb24gYW5kIG1ha2Ugc3VyZSB0byBhbHdheXMgY2FuY2VsIHRoZSBpbnRlcnZhbCBhdCB0aGVcclxuICAgICAgKiBhcHByb3ByaWF0ZSBtb21lbnQuICBTZWUgdGhlIGV4YW1wbGUgYmVsb3cgZm9yIG1vcmUgZGV0YWlscyBvbiBob3cgYW5kIHdoZW4gdG8gZG8gdGhpcy5cclxuICAgICAgKiA8L2Rpdj5cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gQSBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQgcmVwZWF0ZWRseS5cclxuICAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggZnVuY3Rpb24gY2FsbC5cclxuICAgICAgKiBAcGFyYW0ge251bWJlcj19IFtjb3VudD0wXSBOdW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0LiBJZiBub3Qgc2V0LCBvciAwLCB3aWxsIHJlcGVhdFxyXG4gICAgICAqICAgaW5kZWZpbml0ZWx5LlxyXG4gICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbnZva2VBcHBseT10cnVlXSBJZiBzZXQgdG8gYGZhbHNlYCBza2lwcyBtb2RlbCBkaXJ0eSBjaGVja2luZywgb3RoZXJ3aXNlXHJcbiAgICAgICogICB3aWxsIGludm9rZSBgZm5gIHdpdGhpbiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseX0gYmxvY2suXHJcbiAgICAgICogQHBhcmFtIHsuLi4qPX0gUGFzcyBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgdG8gdGhlIGV4ZWN1dGVkIGZ1bmN0aW9uLlxyXG4gICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSBub3RpZmllZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgICAgKlxyXG4gICAgICAqIEBleGFtcGxlXHJcbiAgICAgICogPGV4YW1wbGUgbW9kdWxlPVwiaW50ZXJ2YWxFeGFtcGxlXCI+XHJcbiAgICAgICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgKiAgIDxzY3JpcHQ+XHJcbiAgICAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdpbnRlcnZhbEV4YW1wbGUnLCBbXSlcclxuICAgICAgKiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckaW50ZXJ2YWwnLFxyXG4gICAgICAqICAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkaW50ZXJ2YWwpIHtcclxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmZvcm1hdCA9ICdNL2QveXkgaDptbTpzcyBhJztcclxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAxMDA7XHJcbiAgICAgICogICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gMTIwO1xyXG4gICAgICAqXHJcbiAgICAgICogICAgICAgICAgIHZhciBzdG9wO1xyXG4gICAgICAqICAgICAgICAgICAkc2NvcGUuZmlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgKiAgICAgICAgICAgICAvLyBEb24ndCBzdGFydCBhIG5ldyBmaWdodCBpZiB3ZSBhcmUgYWxyZWFkeSBmaWdodGluZ1xyXG4gICAgICAqICAgICAgICAgICAgIGlmICggYW5ndWxhci5pc0RlZmluZWQoc3RvcCkgKSByZXR1cm47XHJcbiAgICAgICpcclxuICAgICAgKiAgICAgICAgICAgICBzdG9wID0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAqICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ibG9vZF8xID4gMCAmJiAkc2NvcGUuYmxvb2RfMiA+IDApIHtcclxuICAgICAgKiAgICAgICAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAkc2NvcGUuYmxvb2RfMSAtIDM7XHJcbiAgICAgICogICAgICAgICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gJHNjb3BlLmJsb29kXzIgLSA0O1xyXG4gICAgICAqICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgKiAgICAgICAgICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCgpO1xyXG4gICAgICAqICAgICAgICAgICAgICAgfVxyXG4gICAgICAqICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICogICAgICAgICAgIH07XHJcbiAgICAgICpcclxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAqICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChzdG9wKSkge1xyXG4gICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wKTtcclxuICAgICAgKiAgICAgICAgICAgICAgIHN0b3AgPSB1bmRlZmluZWQ7XHJcbiAgICAgICogICAgICAgICAgICAgfVxyXG4gICAgICAqICAgICAgICAgICB9O1xyXG4gICAgICAqXHJcbiAgICAgICogICAgICAgICAgICRzY29wZS5yZXNldEZpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAxMDA7XHJcbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAxMjA7XHJcbiAgICAgICogICAgICAgICAgIH07XHJcbiAgICAgICpcclxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgKiAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaW50ZXJ2YWwgaXMgZGVzdHJveWVkIHRvb1xyXG4gICAgICAqICAgICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQoKTtcclxuICAgICAgKiAgICAgICAgICAgfSk7XHJcbiAgICAgICogICAgICAgICB9XSlcclxuICAgICAgKiAgICAgICAvLyBSZWdpc3RlciB0aGUgJ215Q3VycmVudFRpbWUnIGRpcmVjdGl2ZSBmYWN0b3J5IG1ldGhvZC5cclxuICAgICAgKiAgICAgICAvLyBXZSBpbmplY3QgJGludGVydmFsIGFuZCBkYXRlRmlsdGVyIHNlcnZpY2Ugc2luY2UgdGhlIGZhY3RvcnkgbWV0aG9kIGlzIERJLlxyXG4gICAgICAqICAgICAgIC5kaXJlY3RpdmUoJ215Q3VycmVudFRpbWUnLCBbJyRpbnRlcnZhbCcsICdkYXRlRmlsdGVyJyxcclxuICAgICAgKiAgICAgICAgIGZ1bmN0aW9uKCRpbnRlcnZhbCwgZGF0ZUZpbHRlcikge1xyXG4gICAgICAqICAgICAgICAgICAvLyByZXR1cm4gdGhlIGRpcmVjdGl2ZSBsaW5rIGZ1bmN0aW9uLiAoY29tcGlsZSBmdW5jdGlvbiBub3QgbmVlZGVkKVxyXG4gICAgICAqICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICogICAgICAgICAgICAgdmFyIGZvcm1hdCwgIC8vIGRhdGUgZm9ybWF0XHJcbiAgICAgICogICAgICAgICAgICAgICAgIHN0b3BUaW1lOyAvLyBzbyB0aGF0IHdlIGNhbiBjYW5jZWwgdGhlIHRpbWUgdXBkYXRlc1xyXG4gICAgICAqXHJcbiAgICAgICogICAgICAgICAgICAgLy8gdXNlZCB0byB1cGRhdGUgdGhlIFVJXHJcbiAgICAgICogICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlVGltZSgpIHtcclxuICAgICAgKiAgICAgICAgICAgICAgIGVsZW1lbnQudGV4dChkYXRlRmlsdGVyKG5ldyBEYXRlKCksIGZvcm1hdCkpO1xyXG4gICAgICAqICAgICAgICAgICAgIH1cclxuICAgICAgKlxyXG4gICAgICAqICAgICAgICAgICAgIC8vIHdhdGNoIHRoZSBleHByZXNzaW9uLCBhbmQgdXBkYXRlIHRoZSBVSSBvbiBjaGFuZ2UuXHJcbiAgICAgICogICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLm15Q3VycmVudFRpbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICogICAgICAgICAgICAgICBmb3JtYXQgPSB2YWx1ZTtcclxuICAgICAgKiAgICAgICAgICAgICAgIHVwZGF0ZVRpbWUoKTtcclxuICAgICAgKiAgICAgICAgICAgICB9KTtcclxuICAgICAgKlxyXG4gICAgICAqICAgICAgICAgICAgIHN0b3BUaW1lID0gJGludGVydmFsKHVwZGF0ZVRpbWUsIDEwMDApO1xyXG4gICAgICAqXHJcbiAgICAgICogICAgICAgICAgICAgLy8gbGlzdGVuIG9uIERPTSBkZXN0cm95IChyZW1vdmFsKSBldmVudCwgYW5kIGNhbmNlbCB0aGUgbmV4dCBVSSB1cGRhdGVcclxuICAgICAgKiAgICAgICAgICAgICAvLyB0byBwcmV2ZW50IHVwZGF0aW5nIHRpbWUgYWZ0ZXIgdGhlIERPTSBlbGVtZW50IHdhcyByZW1vdmVkLlxyXG4gICAgICAqICAgICAgICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICogICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHN0b3BUaW1lKTtcclxuICAgICAgKiAgICAgICAgICAgICB9KTtcclxuICAgICAgKiAgICAgICAgICAgfVxyXG4gICAgICAqICAgICAgICAgfV0pO1xyXG4gICAgICAqICAgPC9zY3JpcHQ+XHJcbiAgICAgICpcclxuICAgICAgKiAgIDxkaXY+XHJcbiAgICAgICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICogICAgICAgPGxhYmVsPkRhdGUgZm9ybWF0OiA8aW5wdXQgbmctbW9kZWw9XCJmb3JtYXRcIj48L2xhYmVsPiA8aHIvPlxyXG4gICAgICAqICAgICAgIEN1cnJlbnQgdGltZSBpczogPHNwYW4gbXktY3VycmVudC10aW1lPVwiZm9ybWF0XCI+PC9zcGFuPlxyXG4gICAgICAqICAgICAgIDxoci8+XHJcbiAgICAgICogICAgICAgQmxvb2QgMSA6IDxmb250IGNvbG9yPSdyZWQnPnt7Ymxvb2RfMX19PC9mb250PlxyXG4gICAgICAqICAgICAgIEJsb29kIDIgOiA8Zm9udCBjb2xvcj0ncmVkJz57e2Jsb29kXzJ9fTwvZm9udD5cclxuICAgICAgKiAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLW5nLWNsaWNrPVwiZmlnaHQoKVwiPkZpZ2h0PC9idXR0b24+XHJcbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInN0b3BGaWdodCgpXCI+U3RvcEZpZ2h0PC9idXR0b24+XHJcbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInJlc2V0RmlnaHQoKVwiPnJlc2V0RmlnaHQ8L2J1dHRvbj5cclxuICAgICAgKiAgICAgPC9kaXY+XHJcbiAgICAgICogICA8L2Rpdj5cclxuICAgICAgKlxyXG4gICAgICAqIDwvZmlsZT5cclxuICAgICAgKiA8L2V4YW1wbGU+XHJcbiAgICAgICovXHJcbiAgICBmdW5jdGlvbiBpbnRlcnZhbChmbiwgZGVsYXksIGNvdW50LCBpbnZva2VBcHBseSkge1xyXG4gICAgICB2YXIgaGFzUGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQsXHJcbiAgICAgICAgICBhcmdzID0gaGFzUGFyYW1zID8gc2xpY2VBcmdzKGFyZ3VtZW50cywgNCkgOiBbXSxcclxuICAgICAgICAgIHNldEludGVydmFsID0gJHdpbmRvdy5zZXRJbnRlcnZhbCxcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwgPSAkd2luZG93LmNsZWFySW50ZXJ2YWwsXHJcbiAgICAgICAgICBpdGVyYXRpb24gPSAwLFxyXG4gICAgICAgICAgc2tpcEFwcGx5ID0gKGlzRGVmaW5lZChpbnZva2VBcHBseSkgJiYgIWludm9rZUFwcGx5KSxcclxuICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxyXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XHJcblxyXG4gICAgICBjb3VudCA9IGlzRGVmaW5lZChjb3VudCkgPyBjb3VudCA6IDA7XHJcblxyXG4gICAgICBwcm9taXNlLiQkaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uIHRpY2soKSB7XHJcbiAgICAgICAgaWYgKHNraXBBcHBseSkge1xyXG4gICAgICAgICAgJGJyb3dzZXIuZGVmZXIoY2FsbGJhY2spO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWZlcnJlZC5ub3RpZnkoaXRlcmF0aW9uKyspO1xyXG5cclxuICAgICAgICBpZiAoY291bnQgPiAwICYmIGl0ZXJhdGlvbiA+PSBjb3VudCkge1xyXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpdGVyYXRpb24pO1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9taXNlLiQkaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICBkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpO1xyXG5cclxuICAgICAgfSwgZGVsYXkpO1xyXG5cclxuICAgICAgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXSA9IGRlZmVycmVkO1xyXG5cclxuICAgICAgcmV0dXJuIHByb21pc2U7XHJcblxyXG4gICAgICBmdW5jdGlvbiBjYWxsYmFjaygpIHtcclxuICAgICAgICBpZiAoIWhhc1BhcmFtcykge1xyXG4gICAgICAgICAgZm4oaXRlcmF0aW9uKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgICAvKipcclxuICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICogQG5hbWUgJGludGVydmFsI2NhbmNlbFxyXG4gICAgICAqXHJcbiAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICogQ2FuY2VscyBhIHRhc2sgYXNzb2NpYXRlZCB3aXRoIHRoZSBgcHJvbWlzZWAuXHJcbiAgICAgICpcclxuICAgICAgKiBAcGFyYW0ge1Byb21pc2U9fSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBgJGludGVydmFsYCBmdW5jdGlvbi5cclxuICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgd2FzIHN1Y2Nlc3NmdWxseSBjYW5jZWxlZC5cclxuICAgICAgKi9cclxuICAgIGludGVydmFsLmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHtcclxuICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJGludGVydmFsSWQgaW4gaW50ZXJ2YWxzKSB7XHJcbiAgICAgICAgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXS5yZWplY3QoJ2NhbmNlbGVkJyk7XHJcbiAgICAgICAgJHdpbmRvdy5jbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKTtcclxuICAgICAgICBkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBpbnRlcnZhbDtcclxuICB9XTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRsb2NhbGVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqICRsb2NhbGUgc2VydmljZSBwcm92aWRlcyBsb2NhbGl6YXRpb24gcnVsZXMgZm9yIHZhcmlvdXMgQW5ndWxhciBjb21wb25lbnRzLiBBcyBvZiByaWdodCBub3cgdGhlXHJcbiAqIG9ubHkgcHVibGljIGFwaSBpczpcclxuICpcclxuICogKiBgaWRgIOKAkyBge3N0cmluZ31gIOKAkyBsb2NhbGUgaWQgZm9ybWF0dGVkIGFzIGBsYW5ndWFnZUlkLWNvdW50cnlJZGAgKGUuZy4gYGVuLXVzYClcclxuICovXHJcblxyXG52YXIgUEFUSF9NQVRDSCA9IC9eKFteXFw/I10qKShcXD8oW14jXSopKT8oIyguKikpPyQvLFxyXG4gICAgREVGQVVMVF9QT1JUUyA9IHsnaHR0cCc6IDgwLCAnaHR0cHMnOiA0NDMsICdmdHAnOiAyMX07XHJcbnZhciAkbG9jYXRpb25NaW5FcnIgPSBtaW5FcnIoJyRsb2NhdGlvbicpO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBFbmNvZGUgcGF0aCB1c2luZyBlbmNvZGVVcmlTZWdtZW50LCBpZ25vcmluZyBmb3J3YXJkIHNsYXNoZXNcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0byBlbmNvZGVcclxuICogQHJldHVybnMge3N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIGVuY29kZVBhdGgocGF0aCkge1xyXG4gIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy8nKSxcclxuICAgICAgaSA9IHNlZ21lbnRzLmxlbmd0aDtcclxuXHJcbiAgd2hpbGUgKGktLSkge1xyXG4gICAgc2VnbWVudHNbaV0gPSBlbmNvZGVVcmlTZWdtZW50KHNlZ21lbnRzW2ldKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBzZWdtZW50cy5qb2luKCcvJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlQWJzb2x1dGVVcmwoYWJzb2x1dGVVcmwsIGxvY2F0aW9uT2JqKSB7XHJcbiAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUoYWJzb2x1dGVVcmwpO1xyXG5cclxuICBsb2NhdGlvbk9iai4kJHByb3RvY29sID0gcGFyc2VkVXJsLnByb3RvY29sO1xyXG4gIGxvY2F0aW9uT2JqLiQkaG9zdCA9IHBhcnNlZFVybC5ob3N0bmFtZTtcclxuICBsb2NhdGlvbk9iai4kJHBvcnQgPSB0b0ludChwYXJzZWRVcmwucG9ydCkgfHwgREVGQVVMVF9QT1JUU1twYXJzZWRVcmwucHJvdG9jb2xdIHx8IG51bGw7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBwYXJzZUFwcFVybChyZWxhdGl2ZVVybCwgbG9jYXRpb25PYmopIHtcclxuICB2YXIgcHJlZml4ZWQgPSAocmVsYXRpdmVVcmwuY2hhckF0KDApICE9PSAnLycpO1xyXG4gIGlmIChwcmVmaXhlZCkge1xyXG4gICAgcmVsYXRpdmVVcmwgPSAnLycgKyByZWxhdGl2ZVVybDtcclxuICB9XHJcbiAgdmFyIG1hdGNoID0gdXJsUmVzb2x2ZShyZWxhdGl2ZVVybCk7XHJcbiAgbG9jYXRpb25PYmouJCRwYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KHByZWZpeGVkICYmIG1hdGNoLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nID9cclxuICAgICAgbWF0Y2gucGF0aG5hbWUuc3Vic3RyaW5nKDEpIDogbWF0Y2gucGF0aG5hbWUpO1xyXG4gIGxvY2F0aW9uT2JqLiQkc2VhcmNoID0gcGFyc2VLZXlWYWx1ZShtYXRjaC5zZWFyY2gpO1xyXG4gIGxvY2F0aW9uT2JqLiQkaGFzaCA9IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaC5oYXNoKTtcclxuXHJcbiAgLy8gbWFrZSBzdXJlIHBhdGggc3RhcnRzIHdpdGggJy8nO1xyXG4gIGlmIChsb2NhdGlvbk9iai4kJHBhdGggJiYgbG9jYXRpb25PYmouJCRwYXRoLmNoYXJBdCgwKSAhPSAnLycpIHtcclxuICAgIGxvY2F0aW9uT2JqLiQkcGF0aCA9ICcvJyArIGxvY2F0aW9uT2JqLiQkcGF0aDtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGJlZ2luXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB3aG9sZVxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSByZXR1cm5zIHRleHQgZnJvbSB3aG9sZSBhZnRlciBiZWdpbiBvciB1bmRlZmluZWQgaWYgaXQgZG9lcyBub3QgYmVnaW4gd2l0aFxyXG4gKiAgICAgICAgICAgICAgICAgICBleHBlY3RlZCBzdHJpbmcuXHJcbiAqL1xyXG5mdW5jdGlvbiBiZWdpbnNXaXRoKGJlZ2luLCB3aG9sZSkge1xyXG4gIGlmICh3aG9sZS5pbmRleE9mKGJlZ2luKSA9PT0gMCkge1xyXG4gICAgcmV0dXJuIHdob2xlLnN1YnN0cihiZWdpbi5sZW5ndGgpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHN0cmlwSGFzaCh1cmwpIHtcclxuICB2YXIgaW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xyXG4gIHJldHVybiBpbmRleCA9PSAtMSA/IHVybCA6IHVybC5zdWJzdHIoMCwgaW5kZXgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0cmltRW1wdHlIYXNoKHVybCkge1xyXG4gIHJldHVybiB1cmwucmVwbGFjZSgvKCMuKyl8IyQvLCAnJDEnKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHN0cmlwRmlsZSh1cmwpIHtcclxuICByZXR1cm4gdXJsLnN1YnN0cigwLCBzdHJpcEhhc2godXJsKS5sYXN0SW5kZXhPZignLycpICsgMSk7XHJcbn1cclxuXHJcbi8qIHJldHVybiB0aGUgc2VydmVyIG9ubHkgKHNjaGVtZTovL2hvc3Q6cG9ydCkgKi9cclxuZnVuY3Rpb24gc2VydmVyQmFzZSh1cmwpIHtcclxuICByZXR1cm4gdXJsLnN1YnN0cmluZygwLCB1cmwuaW5kZXhPZignLycsIHVybC5pbmRleE9mKCcvLycpICsgMikpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIExvY2F0aW9uSHRtbDVVcmwgcmVwcmVzZW50cyBhbiB1cmxcclxuICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIEhUTUw1IG1vZGUgaXMgZW5hYmxlZCBhbmQgc3VwcG9ydGVkXHJcbiAqXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZSBhcHBsaWNhdGlvbiBiYXNlIFVSTFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZU5vRmlsZSBhcHBsaWNhdGlvbiBiYXNlIFVSTCBzdHJpcHBlZCBvZiBhbnkgZmlsZW5hbWVcclxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VQcmVmaXggdXJsIHBhdGggcHJlZml4XHJcbiAqL1xyXG5mdW5jdGlvbiBMb2NhdGlvbkh0bWw1VXJsKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsIGJhc2VQcmVmaXgpIHtcclxuICB0aGlzLiQkaHRtbDUgPSB0cnVlO1xyXG4gIGJhc2VQcmVmaXggPSBiYXNlUHJlZml4IHx8ICcnO1xyXG4gIHBhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSwgdGhpcyk7XHJcblxyXG5cclxuICAvKipcclxuICAgKiBQYXJzZSBnaXZlbiBodG1sNSAocmVndWxhcikgdXJsIHN0cmluZyBpbnRvIHByb3BlcnRpZXNcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEhUTUw1IHVybFxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgdGhpcy4kJHBhcnNlID0gZnVuY3Rpb24odXJsKSB7XHJcbiAgICB2YXIgcGF0aFVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSwgdXJsKTtcclxuICAgIGlmICghaXNTdHJpbmcocGF0aFVybCkpIHtcclxuICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdpcHRocHJmeCcsICdJbnZhbGlkIHVybCBcInswfVwiLCBtaXNzaW5nIHBhdGggcHJlZml4IFwiezF9XCIuJywgdXJsLFxyXG4gICAgICAgICAgYXBwQmFzZU5vRmlsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VBcHBVcmwocGF0aFVybCwgdGhpcyk7XHJcblxyXG4gICAgaWYgKCF0aGlzLiQkcGF0aCkge1xyXG4gICAgICB0aGlzLiQkcGF0aCA9ICcvJztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLiQkY29tcG9zZSgpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXBvc2UgdXJsIGFuZCB1cGRhdGUgYGFic1VybGAgcHJvcGVydHlcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxcclxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xyXG5cclxuICAgIHRoaXMuJCR1cmwgPSBlbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSArIChzZWFyY2ggPyAnPycgKyBzZWFyY2ggOiAnJykgKyBoYXNoO1xyXG4gICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2VOb0ZpbGUgKyB0aGlzLiQkdXJsLnN1YnN0cigxKTsgLy8gZmlyc3QgY2hhciBpcyBhbHdheXMgJy8nXHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kJHBhcnNlTGlua1VybCA9IGZ1bmN0aW9uKHVybCwgcmVsSHJlZikge1xyXG4gICAgaWYgKHJlbEhyZWYgJiYgcmVsSHJlZlswXSA9PT0gJyMnKSB7XHJcbiAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgbGlua3MgdG8gaGFzaCBmcmFnbWVudHM6XHJcbiAgICAgIC8vIGtlZXAgdGhlIG9sZCB1cmwgYW5kIG9ubHkgcmVwbGFjZSB0aGUgaGFzaCBmcmFnbWVudFxyXG4gICAgICB0aGlzLmhhc2gocmVsSHJlZi5zbGljZSgxKSk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgdmFyIGFwcFVybCwgcHJldkFwcFVybDtcclxuICAgIHZhciByZXdyaXR0ZW5Vcmw7XHJcblxyXG4gICAgaWYgKGlzRGVmaW5lZChhcHBVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2UsIHVybCkpKSB7XHJcbiAgICAgIHByZXZBcHBVcmwgPSBhcHBVcmw7XHJcbiAgICAgIGlmIChpc0RlZmluZWQoYXBwVXJsID0gYmVnaW5zV2l0aChiYXNlUHJlZml4LCBhcHBVcmwpKSkge1xyXG4gICAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGUgKyAoYmVnaW5zV2l0aCgnLycsIGFwcFVybCkgfHwgYXBwVXJsKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlICsgcHJldkFwcFVybDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChpc0RlZmluZWQoYXBwVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLCB1cmwpKSkge1xyXG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlICsgYXBwVXJsO1xyXG4gICAgfSBlbHNlIGlmIChhcHBCYXNlTm9GaWxlID09IHVybCArICcvJykge1xyXG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlO1xyXG4gICAgfVxyXG4gICAgaWYgKHJld3JpdHRlblVybCkge1xyXG4gICAgICB0aGlzLiQkcGFyc2UocmV3cml0dGVuVXJsKTtcclxuICAgIH1cclxuICAgIHJldHVybiAhIXJld3JpdHRlblVybDtcclxuICB9O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyB1cmxcclxuICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIGRldmVsb3BlciBkb2Vzbid0IG9wdCBpbnRvIGh0bWw1IG1vZGUuXHJcbiAqIEl0IGFsc28gc2VydmVzIGFzIHRoZSBiYXNlIGNsYXNzIGZvciBodG1sNSBtb2RlIGZhbGxiYWNrIG9uIGxlZ2FjeSBicm93c2Vycy5cclxuICpcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlTm9GaWxlIGFwcGxpY2F0aW9uIGJhc2UgVVJMIHN0cmlwcGVkIG9mIGFueSBmaWxlbmFtZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaFByZWZpeCBoYXNoYmFuZyBwcmVmaXhcclxuICovXHJcbmZ1bmN0aW9uIExvY2F0aW9uSGFzaGJhbmdVcmwoYXBwQmFzZSwgYXBwQmFzZU5vRmlsZSwgaGFzaFByZWZpeCkge1xyXG5cclxuICBwYXJzZUFic29sdXRlVXJsKGFwcEJhc2UsIHRoaXMpO1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogUGFyc2UgZ2l2ZW4gaGFzaGJhbmcgdXJsIGludG8gcHJvcGVydGllc1xyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSGFzaGJhbmcgdXJsXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICB0aGlzLiQkcGFyc2UgPSBmdW5jdGlvbih1cmwpIHtcclxuICAgIHZhciB3aXRob3V0QmFzZVVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZSwgdXJsKSB8fCBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCk7XHJcbiAgICB2YXIgd2l0aG91dEhhc2hVcmw7XHJcblxyXG4gICAgaWYgKCFpc1VuZGVmaW5lZCh3aXRob3V0QmFzZVVybCkgJiYgd2l0aG91dEJhc2VVcmwuY2hhckF0KDApID09PSAnIycpIHtcclxuXHJcbiAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSB1cmwgc3RhcnRzIHdpdGggYSBoYXNoIHNvIHdlIGhhdmVcclxuICAgICAgLy8gZ290IGVpdGhlciBhIGhhc2hiYW5nIHBhdGggb3IgYSBwbGFpbiBoYXNoIGZyYWdtZW50XHJcbiAgICAgIHdpdGhvdXRIYXNoVXJsID0gYmVnaW5zV2l0aChoYXNoUHJlZml4LCB3aXRob3V0QmFzZVVybCk7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh3aXRob3V0SGFzaFVybCkpIHtcclxuICAgICAgICAvLyBUaGVyZSB3YXMgbm8gaGFzaGJhbmcgcHJlZml4IHNvIHdlIGp1c3QgaGF2ZSBhIGhhc2ggZnJhZ21lbnRcclxuICAgICAgICB3aXRob3V0SGFzaFVybCA9IHdpdGhvdXRCYXNlVXJsO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVGhlcmUgd2FzIG5vIGhhc2hiYW5nIHBhdGggbm9yIGhhc2ggZnJhZ21lbnQ6XHJcbiAgICAgIC8vIElmIHdlIGFyZSBpbiBIVE1MNSBtb2RlIHdlIHVzZSB3aGF0IGlzIGxlZnQgYXMgdGhlIHBhdGg7XHJcbiAgICAgIC8vIE90aGVyd2lzZSB3ZSBpZ25vcmUgd2hhdCBpcyBsZWZ0XHJcbiAgICAgIGlmICh0aGlzLiQkaHRtbDUpIHtcclxuICAgICAgICB3aXRob3V0SGFzaFVybCA9IHdpdGhvdXRCYXNlVXJsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdpdGhvdXRIYXNoVXJsID0gJyc7XHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHdpdGhvdXRCYXNlVXJsKSkge1xyXG4gICAgICAgICAgYXBwQmFzZSA9IHVybDtcclxuICAgICAgICAgIHRoaXMucmVwbGFjZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlQXBwVXJsKHdpdGhvdXRIYXNoVXJsLCB0aGlzKTtcclxuXHJcbiAgICB0aGlzLiQkcGF0aCA9IHJlbW92ZVdpbmRvd3NEcml2ZU5hbWUodGhpcy4kJHBhdGgsIHdpdGhvdXRIYXNoVXJsLCBhcHBCYXNlKTtcclxuXHJcbiAgICB0aGlzLiQkY29tcG9zZSgpO1xyXG5cclxuICAgIC8qXHJcbiAgICAgKiBJbiBXaW5kb3dzLCBvbiBhbiBhbmNob3Igbm9kZSBvbiBkb2N1bWVudHMgbG9hZGVkIGZyb21cclxuICAgICAqIHRoZSBmaWxlc3lzdGVtLCB0aGUgYnJvd3NlciB3aWxsIHJldHVybiBhIHBhdGhuYW1lXHJcbiAgICAgKiBwcmVmaXhlZCB3aXRoIHRoZSBkcml2ZSBuYW1lICgnL0M6L3BhdGgnKSB3aGVuIGFcclxuICAgICAqIHBhdGhuYW1lIHdpdGhvdXQgYSBkcml2ZSBpcyBzZXQ6XHJcbiAgICAgKiAgKiBhLnNldEF0dHJpYnV0ZSgnaHJlZicsICcvZm9vJylcclxuICAgICAqICAgKiBhLnBhdGhuYW1lID09PSAnL0M6L2ZvbycgLy90cnVlXHJcbiAgICAgKlxyXG4gICAgICogSW5zaWRlIG9mIEFuZ3VsYXIsIHdlJ3JlIGFsd2F5cyB1c2luZyBwYXRobmFtZXMgdGhhdFxyXG4gICAgICogZG8gbm90IGluY2x1ZGUgZHJpdmUgbmFtZXMgZm9yIHJvdXRpbmcuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVdpbmRvd3NEcml2ZU5hbWUocGF0aCwgdXJsLCBiYXNlKSB7XHJcbiAgICAgIC8qXHJcbiAgICAgIE1hdGNoZXMgcGF0aHMgZm9yIGZpbGUgcHJvdG9jb2wgb24gd2luZG93cyxcclxuICAgICAgc3VjaCBhcyAvQzovZm9vL2JhciwgYW5kIGNhcHR1cmVzIG9ubHkgL2Zvby9iYXIuXHJcbiAgICAgICovXHJcbiAgICAgIHZhciB3aW5kb3dzRmlsZVBhdGhFeHAgPSAvXlxcL1tBLVpdOihcXC8uKikvO1xyXG5cclxuICAgICAgdmFyIGZpcnN0UGF0aFNlZ21lbnRNYXRjaDtcclxuXHJcbiAgICAgIC8vR2V0IHRoZSByZWxhdGl2ZSBwYXRoIGZyb20gdGhlIGlucHV0IFVSTC5cclxuICAgICAgaWYgKHVybC5pbmRleE9mKGJhc2UpID09PSAwKSB7XHJcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYmFzZSwgJycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUaGUgaW5wdXQgVVJMIGludGVudGlvbmFsbHkgY29udGFpbnMgYSBmaXJzdCBwYXRoIHNlZ21lbnQgdGhhdCBlbmRzIHdpdGggYSBjb2xvbi5cclxuICAgICAgaWYgKHdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHVybCkpIHtcclxuICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZmlyc3RQYXRoU2VnbWVudE1hdGNoID0gd2luZG93c0ZpbGVQYXRoRXhwLmV4ZWMocGF0aCk7XHJcbiAgICAgIHJldHVybiBmaXJzdFBhdGhTZWdtZW50TWF0Y2ggPyBmaXJzdFBhdGhTZWdtZW50TWF0Y2hbMV0gOiBwYXRoO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXBvc2UgaGFzaGJhbmcgdXJsIGFuZCB1cGRhdGUgYGFic1VybGAgcHJvcGVydHlcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxcclxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xyXG5cclxuICAgIHRoaXMuJCR1cmwgPSBlbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSArIChzZWFyY2ggPyAnPycgKyBzZWFyY2ggOiAnJykgKyBoYXNoO1xyXG4gICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2UgKyAodGhpcy4kJHVybCA/IGhhc2hQcmVmaXggKyB0aGlzLiQkdXJsIDogJycpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuJCRwYXJzZUxpbmtVcmwgPSBmdW5jdGlvbih1cmwsIHJlbEhyZWYpIHtcclxuICAgIGlmIChzdHJpcEhhc2goYXBwQmFzZSkgPT0gc3RyaXBIYXNoKHVybCkpIHtcclxuICAgICAgdGhpcy4kJHBhcnNlKHVybCk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogTG9jYXRpb25IYXNoYmFuZ1VybCByZXByZXNlbnRzIHVybFxyXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gaHRtbDUgaGlzdG9yeSBhcGkgaXMgZW5hYmxlZCBidXQgdGhlIGJyb3dzZXJcclxuICogZG9lcyBub3Qgc3VwcG9ydCBpdC5cclxuICpcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlTm9GaWxlIGFwcGxpY2F0aW9uIGJhc2UgVVJMIHN0cmlwcGVkIG9mIGFueSBmaWxlbmFtZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaFByZWZpeCBoYXNoYmFuZyBwcmVmaXhcclxuICovXHJcbmZ1bmN0aW9uIExvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsIGhhc2hQcmVmaXgpIHtcclxuICB0aGlzLiQkaHRtbDUgPSB0cnVlO1xyXG4gIExvY2F0aW9uSGFzaGJhbmdVcmwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHJcbiAgdGhpcy4kJHBhcnNlTGlua1VybCA9IGZ1bmN0aW9uKHVybCwgcmVsSHJlZikge1xyXG4gICAgaWYgKHJlbEhyZWYgJiYgcmVsSHJlZlswXSA9PT0gJyMnKSB7XHJcbiAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgbGlua3MgdG8gaGFzaCBmcmFnbWVudHM6XHJcbiAgICAgIC8vIGtlZXAgdGhlIG9sZCB1cmwgYW5kIG9ubHkgcmVwbGFjZSB0aGUgaGFzaCBmcmFnbWVudFxyXG4gICAgICB0aGlzLmhhc2gocmVsSHJlZi5zbGljZSgxKSk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciByZXdyaXR0ZW5Vcmw7XHJcbiAgICB2YXIgYXBwVXJsO1xyXG5cclxuICAgIGlmIChhcHBCYXNlID09IHN0cmlwSGFzaCh1cmwpKSB7XHJcbiAgICAgIHJld3JpdHRlblVybCA9IHVybDtcclxuICAgIH0gZWxzZSBpZiAoKGFwcFVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSwgdXJsKSkpIHtcclxuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZSArIGhhc2hQcmVmaXggKyBhcHBVcmw7XHJcbiAgICB9IGVsc2UgaWYgKGFwcEJhc2VOb0ZpbGUgPT09IHVybCArICcvJykge1xyXG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlO1xyXG4gICAgfVxyXG4gICAgaWYgKHJld3JpdHRlblVybCkge1xyXG4gICAgICB0aGlzLiQkcGFyc2UocmV3cml0dGVuVXJsKTtcclxuICAgIH1cclxuICAgIHJldHVybiAhIXJld3JpdHRlblVybDtcclxuICB9O1xyXG5cclxuICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksXHJcbiAgICAgICAgaGFzaCA9IHRoaXMuJCRoYXNoID8gJyMnICsgZW5jb2RlVXJpU2VnbWVudCh0aGlzLiQkaGFzaCkgOiAnJztcclxuXHJcbiAgICB0aGlzLiQkdXJsID0gZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkgKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDtcclxuICAgIC8vIGluY2x1ZGUgaGFzaFByZWZpeCBpbiAkJGFic1VybCB3aGVuICQkdXJsIGlzIGVtcHR5IHNvIElFOSBkb2VzIG5vdCByZWxvYWQgcGFnZSBiZWNhdXNlIG9mIHJlbW92YWwgb2YgJyMnXHJcbiAgICB0aGlzLiQkYWJzVXJsID0gYXBwQmFzZSArIGhhc2hQcmVmaXggKyB0aGlzLiQkdXJsO1xyXG4gIH07XHJcblxyXG59XHJcblxyXG5cclxudmFyIGxvY2F0aW9uUHJvdG90eXBlID0ge1xyXG5cclxuICAvKipcclxuICAgKiBBcmUgd2UgaW4gaHRtbDUgbW9kZT9cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gICQkaHRtbDU6IGZhbHNlLFxyXG5cclxuICAvKipcclxuICAgKiBIYXMgYW55IGNoYW5nZSBiZWVuIHJlcGxhY2luZz9cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gICQkcmVwbGFjZTogZmFsc2UsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jYWJzVXJsXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cclxuICAgKlxyXG4gICAqIFJldHVybiBmdWxsIHVybCByZXByZXNlbnRhdGlvbiB3aXRoIGFsbCBzZWdtZW50cyBlbmNvZGVkIGFjY29yZGluZyB0byBydWxlcyBzcGVjaWZpZWQgaW5cclxuICAgKiBbUkZDIDM5ODZdKGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODYudHh0KS5cclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cclxuICAgKiB2YXIgYWJzVXJsID0gJGxvY2F0aW9uLmFic1VybCgpO1xyXG4gICAqIC8vID0+IFwiaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cIlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHJldHVybiB7c3RyaW5nfSBmdWxsIHVybFxyXG4gICAqL1xyXG4gIGFic1VybDogbG9jYXRpb25HZXR0ZXIoJyQkYWJzVXJsJyksXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jdXJsXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gdXJsIChlLmcuIGAvcGF0aD9hPWIjaGFzaGApIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cclxuICAgKlxyXG4gICAqIENoYW5nZSBwYXRoLCBzZWFyY2ggYW5kIGhhc2gsIHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICogdmFyIHVybCA9ICRsb2NhdGlvbi51cmwoKTtcclxuICAgKiAvLyA9PiBcIi9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1wiXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHVybCBOZXcgdXJsIHdpdGhvdXQgYmFzZSBwcmVmaXggKGUuZy4gYC9wYXRoP2E9YiNoYXNoYClcclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHVybFxyXG4gICAqL1xyXG4gIHVybDogZnVuY3Rpb24odXJsKSB7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQodXJsKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kJHVybDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbWF0Y2ggPSBQQVRIX01BVENILmV4ZWModXJsKTtcclxuICAgIGlmIChtYXRjaFsxXSB8fCB1cmwgPT09ICcnKSB0aGlzLnBhdGgoZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSk7XHJcbiAgICBpZiAobWF0Y2hbMl0gfHwgbWF0Y2hbMV0gfHwgdXJsID09PSAnJykgdGhpcy5zZWFyY2gobWF0Y2hbM10gfHwgJycpO1xyXG4gICAgdGhpcy5oYXNoKG1hdGNoWzVdIHx8ICcnKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uI3Byb3RvY29sXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cclxuICAgKlxyXG4gICAqIFJldHVybiBwcm90b2NvbCBvZiBjdXJyZW50IHVybC5cclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cclxuICAgKiB2YXIgcHJvdG9jb2wgPSAkbG9jYXRpb24ucHJvdG9jb2woKTtcclxuICAgKiAvLyA9PiBcImh0dHBcIlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHJldHVybiB7c3RyaW5nfSBwcm90b2NvbCBvZiBjdXJyZW50IHVybFxyXG4gICAqL1xyXG4gIHByb3RvY29sOiBsb2NhdGlvbkdldHRlcignJCRwcm90b2NvbCcpLFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uI2hvc3RcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGhvc3Qgb2YgY3VycmVudCB1cmwuXHJcbiAgICpcclxuICAgKiBOb3RlOiBjb21wYXJlZCB0byB0aGUgbm9uLWFuZ3VsYXIgdmVyc2lvbiBgbG9jYXRpb24uaG9zdGAgd2hpY2ggcmV0dXJucyBgaG9zdG5hbWU6cG9ydGAsIHRoaXMgcmV0dXJucyB0aGUgYGhvc3RuYW1lYCBwb3J0aW9uIG9ubHkuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICogdmFyIGhvc3QgPSAkbG9jYXRpb24uaG9zdCgpO1xyXG4gICAqIC8vID0+IFwiZXhhbXBsZS5jb21cIlxyXG4gICAqXHJcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly91c2VyOnBhc3N3b3JkQGV4YW1wbGUuY29tOjgwODAvIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xyXG4gICAqIGhvc3QgPSAkbG9jYXRpb24uaG9zdCgpO1xyXG4gICAqIC8vID0+IFwiZXhhbXBsZS5jb21cIlxyXG4gICAqIGhvc3QgPSBsb2NhdGlvbi5ob3N0O1xyXG4gICAqIC8vID0+IFwiZXhhbXBsZS5jb206ODA4MFwiXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGhvc3Qgb2YgY3VycmVudCB1cmwuXHJcbiAgICovXHJcbiAgaG9zdDogbG9jYXRpb25HZXR0ZXIoJyQkaG9zdCcpLFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uI3BvcnRcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxyXG4gICAqXHJcbiAgICogUmV0dXJuIHBvcnQgb2YgY3VycmVudCB1cmwuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICogdmFyIHBvcnQgPSAkbG9jYXRpb24ucG9ydCgpO1xyXG4gICAqIC8vID0+IDgwXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBvcnRcclxuICAgKi9cclxuICBwb3J0OiBsb2NhdGlvbkdldHRlcignJCRwb3J0JyksXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jcGF0aFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxyXG4gICAqXHJcbiAgICogUmV0dXJuIHBhdGggb2YgY3VycmVudCB1cmwgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxyXG4gICAqXHJcbiAgICogQ2hhbmdlIHBhdGggd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cclxuICAgKlxyXG4gICAqIE5vdGU6IFBhdGggc2hvdWxkIGFsd2F5cyBiZWdpbiB3aXRoIGZvcndhcmQgc2xhc2ggKC8pLCB0aGlzIG1ldGhvZCB3aWxsIGFkZCB0aGUgZm9yd2FyZCBzbGFzaFxyXG4gICAqIGlmIGl0IGlzIG1pc3NpbmcuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICogdmFyIHBhdGggPSAkbG9jYXRpb24ucGF0aCgpO1xyXG4gICAqIC8vID0+IFwiL3NvbWUvcGF0aFwiXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKT19IHBhdGggTmV3IHBhdGhcclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHBhdGhcclxuICAgKi9cclxuICBwYXRoOiBsb2NhdGlvbkdldHRlclNldHRlcignJCRwYXRoJywgZnVuY3Rpb24ocGF0aCkge1xyXG4gICAgcGF0aCA9IHBhdGggIT09IG51bGwgPyBwYXRoLnRvU3RyaW5nKCkgOiAnJztcclxuICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcclxuICB9KSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRsb2NhdGlvbiNzZWFyY2hcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cclxuICAgKlxyXG4gICAqIFJldHVybiBzZWFyY2ggcGFydCAoYXMgb2JqZWN0KSBvZiBjdXJyZW50IHVybCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXHJcbiAgICpcclxuICAgKiBDaGFuZ2Ugc2VhcmNoIHBhcnQgd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cclxuICAgKiB2YXIgc2VhcmNoT2JqZWN0ID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xyXG4gICAqIC8vID0+IHtmb286ICdiYXInLCBiYXo6ICd4b3hvJ31cclxuICAgKlxyXG4gICAqIC8vIHNldCBmb28gdG8gJ3lpcGVlJ1xyXG4gICAqICRsb2NhdGlvbi5zZWFyY2goJ2ZvbycsICd5aXBlZScpO1xyXG4gICAqIC8vICRsb2NhdGlvbi5zZWFyY2goKSA9PiB7Zm9vOiAneWlwZWUnLCBiYXo6ICd4b3hvJ31cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdC48c3RyaW5nPnxPYmplY3QuPEFycmF5LjxzdHJpbmc+Pn0gc2VhcmNoIE5ldyBzZWFyY2ggcGFyYW1zIC0gc3RyaW5nIG9yXHJcbiAgICogaGFzaCBvYmplY3QuXHJcbiAgICpcclxuICAgKiBXaGVuIGNhbGxlZCB3aXRoIGEgc2luZ2xlIGFyZ3VtZW50IHRoZSBtZXRob2QgYWN0cyBhcyBhIHNldHRlciwgc2V0dGluZyB0aGUgYHNlYXJjaGAgY29tcG9uZW50XHJcbiAgICogb2YgYCRsb2NhdGlvbmAgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cclxuICAgKlxyXG4gICAqIElmIHRoZSBhcmd1bWVudCBpcyBhIGhhc2ggb2JqZWN0IGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgdmFsdWVzLCB0aGVzZSB2YWx1ZXMgd2lsbCBiZSBlbmNvZGVkXHJcbiAgICogYXMgZHVwbGljYXRlIHNlYXJjaCBwYXJhbWV0ZXJzIGluIHRoZSB1cmwuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyhzdHJpbmd8TnVtYmVyfEFycmF5PHN0cmluZz58Ym9vbGVhbik9fSBwYXJhbVZhbHVlIElmIGBzZWFyY2hgIGlzIGEgc3RyaW5nIG9yIG51bWJlciwgdGhlbiBgcGFyYW1WYWx1ZWBcclxuICAgKiB3aWxsIG92ZXJyaWRlIG9ubHkgYSBzaW5nbGUgc2VhcmNoIHByb3BlcnR5LlxyXG4gICAqXHJcbiAgICogSWYgYHBhcmFtVmFsdWVgIGlzIGFuIGFycmF5LCBpdCB3aWxsIG92ZXJyaWRlIHRoZSBwcm9wZXJ0eSBvZiB0aGUgYHNlYXJjaGAgY29tcG9uZW50IG9mXHJcbiAgICogYCRsb2NhdGlvbmAgc3BlY2lmaWVkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnQuXHJcbiAgICpcclxuICAgKiBJZiBgcGFyYW1WYWx1ZWAgaXMgYG51bGxgLCB0aGUgcHJvcGVydHkgc3BlY2lmaWVkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnQgd2lsbCBiZSBkZWxldGVkLlxyXG4gICAqXHJcbiAgICogSWYgYHBhcmFtVmFsdWVgIGlzIGB0cnVlYCwgdGhlIHByb3BlcnR5IHNwZWNpZmllZCB2aWEgdGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgYmUgYWRkZWQgd2l0aCBub1xyXG4gICAqIHZhbHVlIG5vciB0cmFpbGluZyBlcXVhbCBzaWduLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBJZiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMgcmV0dXJucyB0aGUgcGFyc2VkIGBzZWFyY2hgIG9iamVjdC4gSWYgY2FsbGVkIHdpdGhcclxuICAgKiBvbmUgb3IgbW9yZSBhcmd1bWVudHMgcmV0dXJucyBgJGxvY2F0aW9uYCBvYmplY3QgaXRzZWxmLlxyXG4gICAqL1xyXG4gIHNlYXJjaDogZnVuY3Rpb24oc2VhcmNoLCBwYXJhbVZhbHVlKSB7XHJcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgY2FzZSAwOlxyXG4gICAgICAgIHJldHVybiB0aGlzLiQkc2VhcmNoO1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKHNlYXJjaCkgfHwgaXNOdW1iZXIoc2VhcmNoKSkge1xyXG4gICAgICAgICAgc2VhcmNoID0gc2VhcmNoLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICB0aGlzLiQkc2VhcmNoID0gcGFyc2VLZXlWYWx1ZShzZWFyY2gpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2VhcmNoKSkge1xyXG4gICAgICAgICAgc2VhcmNoID0gY29weShzZWFyY2gsIHt9KTtcclxuICAgICAgICAgIC8vIHJlbW92ZSBvYmplY3QgdW5kZWZpbmVkIG9yIG51bGwgcHJvcGVydGllc1xyXG4gICAgICAgICAgZm9yRWFjaChzZWFyY2gsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIGRlbGV0ZSBzZWFyY2hba2V5XTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHRoaXMuJCRzZWFyY2ggPSBzZWFyY2g7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXNyY2hhcmcnLFxyXG4gICAgICAgICAgICAgICdUaGUgZmlyc3QgYXJndW1lbnQgb2YgdGhlIGAkbG9jYXRpb24jc2VhcmNoKClgIGNhbGwgbXVzdCBiZSBhIHN0cmluZyBvciBhbiBvYmplY3QuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChwYXJhbVZhbHVlKSB8fCBwYXJhbVZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgICBkZWxldGUgdGhpcy4kJHNlYXJjaFtzZWFyY2hdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLiQkc2VhcmNoW3NlYXJjaF0gPSBwYXJhbVZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLiQkY29tcG9zZSgpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRsb2NhdGlvbiNoYXNoXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXHJcbiAgICpcclxuICAgKiBSZXR1cm5zIHRoZSBoYXNoIGZyYWdtZW50IHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlcnMuXHJcbiAgICpcclxuICAgKiBDaGFuZ2VzIHRoZSBoYXNoIGZyYWdtZW50IHdoZW4gY2FsbGVkIHdpdGggYSBwYXJhbWV0ZXIgYW5kIHJldHVybnMgYCRsb2NhdGlvbmAuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvI2hhc2hWYWx1ZVxyXG4gICAqIHZhciBoYXNoID0gJGxvY2F0aW9uLmhhc2goKTtcclxuICAgKiAvLyA9PiBcImhhc2hWYWx1ZVwiXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKT19IGhhc2ggTmV3IGhhc2ggZnJhZ21lbnRcclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGhhc2hcclxuICAgKi9cclxuICBoYXNoOiBsb2NhdGlvbkdldHRlclNldHRlcignJCRoYXNoJywgZnVuY3Rpb24oaGFzaCkge1xyXG4gICAgcmV0dXJuIGhhc2ggIT09IG51bGwgPyBoYXNoLnRvU3RyaW5nKCkgOiAnJztcclxuICB9KSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRsb2NhdGlvbiNyZXBsYWNlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBJZiBjYWxsZWQsIGFsbCBjaGFuZ2VzIHRvICRsb2NhdGlvbiBkdXJpbmcgdGhlIGN1cnJlbnQgYCRkaWdlc3RgIHdpbGwgcmVwbGFjZSB0aGUgY3VycmVudCBoaXN0b3J5XHJcbiAgICogcmVjb3JkLCBpbnN0ZWFkIG9mIGFkZGluZyBhIG5ldyBvbmUuXHJcbiAgICovXHJcbiAgcmVwbGFjZTogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLiQkcmVwbGFjZSA9IHRydWU7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn07XHJcblxyXG5mb3JFYWNoKFtMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCwgTG9jYXRpb25IYXNoYmFuZ1VybCwgTG9jYXRpb25IdG1sNVVybF0sIGZ1bmN0aW9uKExvY2F0aW9uKSB7XHJcbiAgTG9jYXRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShsb2NhdGlvblByb3RvdHlwZSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jc3RhdGVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cclxuICAgKlxyXG4gICAqIFJldHVybiB0aGUgaGlzdG9yeSBzdGF0ZSBvYmplY3Qgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxyXG4gICAqXHJcbiAgICogQ2hhbmdlIHRoZSBoaXN0b3J5IHN0YXRlIG9iamVjdCB3aGVuIGNhbGxlZCB3aXRoIG9uZSBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cclxuICAgKiBUaGUgc3RhdGUgb2JqZWN0IGlzIGxhdGVyIHBhc3NlZCB0byBgcHVzaFN0YXRlYCBvciBgcmVwbGFjZVN0YXRlYC5cclxuICAgKlxyXG4gICAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIHN1cHBvcnRlZCBvbmx5IGluIEhUTUw1IG1vZGUgYW5kIG9ubHkgaW4gYnJvd3NlcnMgc3VwcG9ydGluZ1xyXG4gICAqIHRoZSBIVE1MNSBIaXN0b3J5IEFQSSAoaS5lLiBtZXRob2RzIGBwdXNoU3RhdGVgIGFuZCBgcmVwbGFjZVN0YXRlYCkuIElmIHlvdSBuZWVkIHRvIHN1cHBvcnRcclxuICAgKiBvbGRlciBicm93c2VycyAobGlrZSBJRTkgb3IgQW5kcm9pZCA8IDQuMCksIGRvbid0IHVzZSB0aGlzIG1ldGhvZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc3RhdGUgU3RhdGUgb2JqZWN0IGZvciBwdXNoU3RhdGUgb3IgcmVwbGFjZVN0YXRlXHJcbiAgICogQHJldHVybiB7b2JqZWN0fSBzdGF0ZVxyXG4gICAqL1xyXG4gIExvY2F0aW9uLnByb3RvdHlwZS5zdGF0ZSA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuJCRzdGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoTG9jYXRpb24gIT09IExvY2F0aW9uSHRtbDVVcmwgfHwgIXRoaXMuJCRodG1sNSkge1xyXG4gICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ25vc3RhdGUnLCAnSGlzdG9yeSBBUEkgc3RhdGUgc3VwcG9ydCBpcyBhdmFpbGFibGUgb25seSAnICtcclxuICAgICAgICAnaW4gSFRNTDUgbW9kZSBhbmQgb25seSBpbiBicm93c2VycyBzdXBwb3J0aW5nIEhUTUw1IEhpc3RvcnkgQVBJJyk7XHJcbiAgICB9XHJcbiAgICAvLyBUaGUgdXNlciBtaWdodCBtb2RpZnkgYHN0YXRlT2JqZWN0YCBhZnRlciBpbnZva2luZyBgJGxvY2F0aW9uLnN0YXRlKHN0YXRlT2JqZWN0KWBcclxuICAgIC8vIGJ1dCB3ZSdyZSBjaGFuZ2luZyB0aGUgJCRzdGF0ZSByZWZlcmVuY2UgdG8gJGJyb3dzZXIuc3RhdGUoKSBkdXJpbmcgdGhlICRkaWdlc3RcclxuICAgIC8vIHNvIHRoZSBtb2RpZmljYXRpb24gd2luZG93IGlzIG5hcnJvdy5cclxuICAgIHRoaXMuJCRzdGF0ZSA9IGlzVW5kZWZpbmVkKHN0YXRlKSA/IG51bGwgOiBzdGF0ZTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG59KTtcclxuXHJcblxyXG5mdW5jdGlvbiBsb2NhdGlvbkdldHRlcihwcm9wZXJ0eSkge1xyXG4gIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcclxuICB9O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gbG9jYXRpb25HZXR0ZXJTZXR0ZXIocHJvcGVydHksIHByZXByb2Nlc3MpIHtcclxuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXNbcHJvcGVydHldID0gcHJlcHJvY2Vzcyh2YWx1ZSk7XHJcbiAgICB0aGlzLiQkY29tcG9zZSgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGxvY2F0aW9uXHJcbiAqXHJcbiAqIEByZXF1aXJlcyAkcm9vdEVsZW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSAkbG9jYXRpb24gc2VydmljZSBwYXJzZXMgdGhlIFVSTCBpbiB0aGUgYnJvd3NlciBhZGRyZXNzIGJhciAoYmFzZWQgb24gdGhlXHJcbiAqIFt3aW5kb3cubG9jYXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL3dpbmRvdy5sb2NhdGlvbikpIGFuZCBtYWtlcyB0aGUgVVJMXHJcbiAqIGF2YWlsYWJsZSB0byB5b3VyIGFwcGxpY2F0aW9uLiBDaGFuZ2VzIHRvIHRoZSBVUkwgaW4gdGhlIGFkZHJlc3MgYmFyIGFyZSByZWZsZWN0ZWQgaW50b1xyXG4gKiAkbG9jYXRpb24gc2VydmljZSBhbmQgY2hhbmdlcyB0byAkbG9jYXRpb24gYXJlIHJlZmxlY3RlZCBpbnRvIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyLlxyXG4gKlxyXG4gKiAqKlRoZSAkbG9jYXRpb24gc2VydmljZToqKlxyXG4gKlxyXG4gKiAtIEV4cG9zZXMgdGhlIGN1cnJlbnQgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyLCBzbyB5b3UgY2FuXHJcbiAqICAgLSBXYXRjaCBhbmQgb2JzZXJ2ZSB0aGUgVVJMLlxyXG4gKiAgIC0gQ2hhbmdlIHRoZSBVUkwuXHJcbiAqIC0gU3luY2hyb25pemVzIHRoZSBVUkwgd2l0aCB0aGUgYnJvd3NlciB3aGVuIHRoZSB1c2VyXHJcbiAqICAgLSBDaGFuZ2VzIHRoZSBhZGRyZXNzIGJhci5cclxuICogICAtIENsaWNrcyB0aGUgYmFjayBvciBmb3J3YXJkIGJ1dHRvbiAob3IgY2xpY2tzIGEgSGlzdG9yeSBsaW5rKS5cclxuICogICAtIENsaWNrcyBvbiBhIGxpbmsuXHJcbiAqIC0gUmVwcmVzZW50cyB0aGUgVVJMIG9iamVjdCBhcyBhIHNldCBvZiBtZXRob2RzIChwcm90b2NvbCwgaG9zdCwgcG9ydCwgcGF0aCwgc2VhcmNoLCBoYXNoKS5cclxuICpcclxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIHtAbGluayBndWlkZS8kbG9jYXRpb24gRGV2ZWxvcGVyIEd1aWRlOiBVc2luZyAkbG9jYXRpb259XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlclxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVXNlIHRoZSBgJGxvY2F0aW9uUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGRlZXAgbGlua2luZyBwYXRocyBhcmUgc3RvcmVkLlxyXG4gKi9cclxuZnVuY3Rpb24gJExvY2F0aW9uUHJvdmlkZXIoKSB7XHJcbiAgdmFyIGhhc2hQcmVmaXggPSAnJyxcclxuICAgICAgaHRtbDVNb2RlID0ge1xyXG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIHJlcXVpcmVCYXNlOiB0cnVlLFxyXG4gICAgICAgIHJld3JpdGVMaW5rczogdHJ1ZVxyXG4gICAgICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uUHJvdmlkZXIjaGFzaFByZWZpeFxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcHJlZml4IFByZWZpeCBmb3IgaGFzaCBwYXJ0IChjb250YWluaW5nIHBhdGggYW5kIHNlYXJjaClcclxuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxyXG4gICAqL1xyXG4gIHRoaXMuaGFzaFByZWZpeCA9IGZ1bmN0aW9uKHByZWZpeCkge1xyXG4gICAgaWYgKGlzRGVmaW5lZChwcmVmaXgpKSB7XHJcbiAgICAgIGhhc2hQcmVmaXggPSBwcmVmaXg7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGhhc2hQcmVmaXg7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2h0bWw1TW9kZVxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEBwYXJhbSB7KGJvb2xlYW58T2JqZWN0KT19IG1vZGUgSWYgYm9vbGVhbiwgc2V0cyBgaHRtbDVNb2RlLmVuYWJsZWRgIHRvIHZhbHVlLlxyXG4gICAqICAgSWYgb2JqZWN0LCBzZXRzIGBlbmFibGVkYCwgYHJlcXVpcmVCYXNlYCBhbmQgYHJld3JpdGVMaW5rc2AgdG8gcmVzcGVjdGl2ZSB2YWx1ZXMuIFN1cHBvcnRlZFxyXG4gICAqICAgcHJvcGVydGllczpcclxuICAgKiAgIC0gKiplbmFibGVkKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyAoZGVmYXVsdDogZmFsc2UpIElmIHRydWUsIHdpbGwgcmVseSBvbiBgaGlzdG9yeS5wdXNoU3RhdGVgIHRvXHJcbiAgICogICAgIGNoYW5nZSB1cmxzIHdoZXJlIHN1cHBvcnRlZC4gV2lsbCBmYWxsIGJhY2sgdG8gaGFzaC1wcmVmaXhlZCBwYXRocyBpbiBicm93c2VycyB0aGF0IGRvIG5vdFxyXG4gICAqICAgICBzdXBwb3J0IGBwdXNoU3RhdGVgLlxyXG4gICAqICAgLSAqKnJlcXVpcmVCYXNlKiogLSBge2Jvb2xlYW59YCAtIChkZWZhdWx0OiBgdHJ1ZWApIFdoZW4gaHRtbDVNb2RlIGlzIGVuYWJsZWQsIHNwZWNpZmllc1xyXG4gICAqICAgICB3aGV0aGVyIG9yIG5vdCBhIDxiYXNlPiB0YWcgaXMgcmVxdWlyZWQgdG8gYmUgcHJlc2VudC4gSWYgYGVuYWJsZWRgIGFuZCBgcmVxdWlyZUJhc2VgIGFyZVxyXG4gICAqICAgICB0cnVlLCBhbmQgYSBiYXNlIHRhZyBpcyBub3QgcHJlc2VudCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24gd2hlbiBgJGxvY2F0aW9uYCBpcyBpbmplY3RlZC5cclxuICAgKiAgICAgU2VlIHRoZSB7QGxpbmsgZ3VpZGUvJGxvY2F0aW9uICRsb2NhdGlvbiBndWlkZSBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cclxuICAgKiAgIC0gKipyZXdyaXRlTGlua3MqKiAtIGB7Ym9vbGVhbn1gIC0gKGRlZmF1bHQ6IGB0cnVlYCkgV2hlbiBodG1sNU1vZGUgaXMgZW5hYmxlZCxcclxuICAgKiAgICAgZW5hYmxlcy9kaXNhYmxlcyB1cmwgcmV3cml0aW5nIGZvciByZWxhdGl2ZSBsaW5rcy5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IGh0bWw1TW9kZSBvYmplY3QgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcclxuICAgKi9cclxuICB0aGlzLmh0bWw1TW9kZSA9IGZ1bmN0aW9uKG1vZGUpIHtcclxuICAgIGlmIChpc0Jvb2xlYW4obW9kZSkpIHtcclxuICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QobW9kZSkpIHtcclxuXHJcbiAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5lbmFibGVkKSkge1xyXG4gICAgICAgIGh0bWw1TW9kZS5lbmFibGVkID0gbW9kZS5lbmFibGVkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUucmVxdWlyZUJhc2UpKSB7XHJcbiAgICAgICAgaHRtbDVNb2RlLnJlcXVpcmVCYXNlID0gbW9kZS5yZXF1aXJlQmFzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLnJld3JpdGVMaW5rcykpIHtcclxuICAgICAgICBodG1sNU1vZGUucmV3cml0ZUxpbmtzID0gbW9kZS5yZXdyaXRlTGlua3M7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGh0bWw1TW9kZTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZXZlbnRcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3RhcnRcclxuICAgKiBAZXZlbnRUeXBlIGJyb2FkY2FzdCBvbiByb290IHNjb3BlXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQnJvYWRjYXN0ZWQgYmVmb3JlIGEgVVJMIHdpbGwgY2hhbmdlLlxyXG4gICAqXHJcbiAgICogVGhpcyBjaGFuZ2UgY2FuIGJlIHByZXZlbnRlZCBieSBjYWxsaW5nXHJcbiAgICogYHByZXZlbnREZWZhdWx0YCBtZXRob2Qgb2YgdGhlIGV2ZW50LiBTZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBmb3IgbW9yZVxyXG4gICAqIGRldGFpbHMgYWJvdXQgZXZlbnQgb2JqZWN0LiBVcG9uIHN1Y2Nlc3NmdWwgY2hhbmdlXHJcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzICRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3N9IGlzIGZpcmVkLlxyXG4gICAqXHJcbiAgICogVGhlIGBuZXdTdGF0ZWAgYW5kIGBvbGRTdGF0ZWAgcGFyYW1ldGVycyBtYXkgYmUgZGVmaW5lZCBvbmx5IGluIEhUTUw1IG1vZGUgYW5kIHdoZW5cclxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRVcmwgVVJMIHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5ld1N0YXRlIE5ldyBoaXN0b3J5IHN0YXRlIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZXZlbnRcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1xyXG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBCcm9hZGNhc3RlZCBhZnRlciBhIFVSTCB3YXMgY2hhbmdlZC5cclxuICAgKlxyXG4gICAqIFRoZSBgbmV3U3RhdGVgIGFuZCBgb2xkU3RhdGVgIHBhcmFtZXRlcnMgbWF5IGJlIGRlZmluZWQgb25seSBpbiBIVE1MNSBtb2RlIGFuZCB3aGVuXHJcbiAgICogdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIEhUTUw1IEhpc3RvcnkgQVBJLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdVcmwgTmV3IFVSTFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZXdTdGF0ZSBOZXcgaGlzdG9yeSBzdGF0ZSBvYmplY3RcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9sZFN0YXRlIEhpc3Rvcnkgc3RhdGUgb2JqZWN0IHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cclxuICAgKi9cclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyRicm93c2VyJywgJyRzbmlmZmVyJywgJyRyb290RWxlbWVudCcsICckd2luZG93JyxcclxuICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGJyb3dzZXIsICRzbmlmZmVyLCAkcm9vdEVsZW1lbnQsICR3aW5kb3cpIHtcclxuICAgIHZhciAkbG9jYXRpb24sXHJcbiAgICAgICAgTG9jYXRpb25Nb2RlLFxyXG4gICAgICAgIGJhc2VIcmVmID0gJGJyb3dzZXIuYmFzZUhyZWYoKSwgLy8gaWYgYmFzZVtocmVmXSBpcyB1bmRlZmluZWQsIGl0IGRlZmF1bHRzIHRvICcnXHJcbiAgICAgICAgaW5pdGlhbFVybCA9ICRicm93c2VyLnVybCgpLFxyXG4gICAgICAgIGFwcEJhc2U7XHJcblxyXG4gICAgaWYgKGh0bWw1TW9kZS5lbmFibGVkKSB7XHJcbiAgICAgIGlmICghYmFzZUhyZWYgJiYgaHRtbDVNb2RlLnJlcXVpcmVCYXNlKSB7XHJcbiAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub2Jhc2UnLFxyXG4gICAgICAgICAgXCIkbG9jYXRpb24gaW4gSFRNTDUgbW9kZSByZXF1aXJlcyBhIDxiYXNlPiB0YWcgdG8gYmUgcHJlc2VudCFcIik7XHJcbiAgICAgIH1cclxuICAgICAgYXBwQmFzZSA9IHNlcnZlckJhc2UoaW5pdGlhbFVybCkgKyAoYmFzZUhyZWYgfHwgJy8nKTtcclxuICAgICAgTG9jYXRpb25Nb2RlID0gJHNuaWZmZXIuaGlzdG9yeSA/IExvY2F0aW9uSHRtbDVVcmwgOiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcEJhc2UgPSBzdHJpcEhhc2goaW5pdGlhbFVybCk7XHJcbiAgICAgIExvY2F0aW9uTW9kZSA9IExvY2F0aW9uSGFzaGJhbmdVcmw7XHJcbiAgICB9XHJcbiAgICB2YXIgYXBwQmFzZU5vRmlsZSA9IHN0cmlwRmlsZShhcHBCYXNlKTtcclxuXHJcbiAgICAkbG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsICcjJyArIGhhc2hQcmVmaXgpO1xyXG4gICAgJGxvY2F0aW9uLiQkcGFyc2VMaW5rVXJsKGluaXRpYWxVcmwsIGluaXRpYWxVcmwpO1xyXG5cclxuICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcclxuXHJcbiAgICB2YXIgSUdOT1JFX1VSSV9SRUdFWFAgPSAvXlxccyooamF2YXNjcmlwdHxtYWlsdG8pOi9pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2sodXJsLCByZXBsYWNlLCBzdGF0ZSkge1xyXG4gICAgICB2YXIgb2xkVXJsID0gJGxvY2F0aW9uLnVybCgpO1xyXG4gICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAkYnJvd3Nlci51cmwodXJsLCByZXBsYWNlLCBzdGF0ZSk7XHJcblxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSAkbG9jYXRpb24uc3RhdGUoKSByZXR1cm5zIHJlZmVyZW50aWFsbHkgaWRlbnRpY2FsIChub3QganVzdCBkZWVwbHkgZXF1YWwpXHJcbiAgICAgICAgLy8gc3RhdGUgb2JqZWN0OyB0aGlzIG1ha2VzIHBvc3NpYmxlIHF1aWNrIGNoZWNraW5nIGlmIHRoZSBzdGF0ZSBjaGFuZ2VkIGluIHRoZSBkaWdlc3RcclxuICAgICAgICAvLyBsb29wLiBDaGVja2luZyBkZWVwIGVxdWFsaXR5IHdvdWxkIGJlIHRvbyBleHBlbnNpdmUuXHJcbiAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gUmVzdG9yZSBvbGQgdmFsdWVzIGlmIHB1c2hTdGF0ZSBmYWlsc1xyXG4gICAgICAgICRsb2NhdGlvbi51cmwob2xkVXJsKTtcclxuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xyXG5cclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJHJvb3RFbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIC8vIFRPRE8odm9qdGEpOiByZXdyaXRlIGxpbmsgd2hlbiBvcGVuaW5nIGluIG5ldyB0YWIvd2luZG93IChpbiBsZWdhY3kgYnJvd3NlcilcclxuICAgICAgLy8gY3VycmVudGx5IHdlIG9wZW4gbmljZSB1cmwgbGluayBhbmQgcmVkaXJlY3QgdGhlblxyXG5cclxuICAgICAgaWYgKCFodG1sNU1vZGUucmV3cml0ZUxpbmtzIHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5zaGlmdEtleSB8fCBldmVudC53aGljaCA9PSAyIHx8IGV2ZW50LmJ1dHRvbiA9PSAyKSByZXR1cm47XHJcblxyXG4gICAgICB2YXIgZWxtID0ganFMaXRlKGV2ZW50LnRhcmdldCk7XHJcblxyXG4gICAgICAvLyB0cmF2ZXJzZSB0aGUgRE9NIHVwIHRvIGZpbmQgZmlyc3QgQSB0YWdcclxuICAgICAgd2hpbGUgKG5vZGVOYW1lXyhlbG1bMF0pICE9PSAnYScpIHtcclxuICAgICAgICAvLyBpZ25vcmUgcmV3cml0aW5nIGlmIG5vIEEgdGFnIChyZWFjaGVkIHJvb3QgZWxlbWVudCwgb3Igbm8gcGFyZW50IC0gcmVtb3ZlZCBmcm9tIGRvY3VtZW50KVxyXG4gICAgICAgIGlmIChlbG1bMF0gPT09ICRyb290RWxlbWVudFswXSB8fCAhKGVsbSA9IGVsbS5wYXJlbnQoKSlbMF0pIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGFic0hyZWYgPSBlbG0ucHJvcCgnaHJlZicpO1xyXG4gICAgICAvLyBnZXQgdGhlIGFjdHVhbCBocmVmIGF0dHJpYnV0ZSAtIHNlZVxyXG4gICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZGQzNDcxNDgodj12cy44NSkuYXNweFxyXG4gICAgICB2YXIgcmVsSHJlZiA9IGVsbS5hdHRyKCdocmVmJykgfHwgZWxtLmF0dHIoJ3hsaW5rOmhyZWYnKTtcclxuXHJcbiAgICAgIGlmIChpc09iamVjdChhYnNIcmVmKSAmJiBhYnNIcmVmLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcclxuICAgICAgICAvLyBTVkdBbmltYXRlZFN0cmluZy5hbmltVmFsIHNob3VsZCBiZSBpZGVudGljYWwgdG8gU1ZHQW5pbWF0ZWRTdHJpbmcuYmFzZVZhbCwgdW5sZXNzIGR1cmluZ1xyXG4gICAgICAgIC8vIGFuIGFuaW1hdGlvbi5cclxuICAgICAgICBhYnNIcmVmID0gdXJsUmVzb2x2ZShhYnNIcmVmLmFuaW1WYWwpLmhyZWY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElnbm9yZSB3aGVuIHVybCBpcyBzdGFydGVkIHdpdGggamF2YXNjcmlwdDogb3IgbWFpbHRvOlxyXG4gICAgICBpZiAoSUdOT1JFX1VSSV9SRUdFWFAudGVzdChhYnNIcmVmKSkgcmV0dXJuO1xyXG5cclxuICAgICAgaWYgKGFic0hyZWYgJiYgIWVsbS5hdHRyKCd0YXJnZXQnKSAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcclxuICAgICAgICBpZiAoJGxvY2F0aW9uLiQkcGFyc2VMaW5rVXJsKGFic0hyZWYsIHJlbEhyZWYpKSB7XHJcbiAgICAgICAgICAvLyBXZSBkbyBhIHByZXZlbnREZWZhdWx0IGZvciBhbGwgdXJscyB0aGF0IGFyZSBwYXJ0IG9mIHRoZSBhbmd1bGFyIGFwcGxpY2F0aW9uLFxyXG4gICAgICAgICAgLy8gaW4gaHRtbDVtb2RlIGFuZCBhbHNvIHdpdGhvdXQsIHNvIHRoYXQgd2UgYXJlIGFibGUgdG8gYWJvcnQgbmF2aWdhdGlvbiB3aXRob3V0XHJcbiAgICAgICAgICAvLyBnZXR0aW5nIGRvdWJsZSBlbnRyaWVzIGluIHRoZSBsb2NhdGlvbiBoaXN0b3J5LlxyXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIC8vIHVwZGF0ZSBsb2NhdGlvbiBtYW51YWxseVxyXG4gICAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPSAkYnJvd3Nlci51cmwoKSkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICAvLyBoYWNrIHRvIHdvcmsgYXJvdW5kIEZGNiBidWcgNjg0MjA4IHdoZW4gc2NlbmFyaW8gcnVubmVyIGNsaWNrcyBvbiBsaW5rc1xyXG4gICAgICAgICAgICAkd2luZG93LmFuZ3VsYXJbJ2ZmLTY4NDIwOC1wcmV2ZW50RGVmYXVsdCddID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyByZXdyaXRlIGhhc2hiYW5nIHVybCA8PiBodG1sNSB1cmxcclxuICAgIGlmICh0cmltRW1wdHlIYXNoKCRsb2NhdGlvbi5hYnNVcmwoKSkgIT0gdHJpbUVtcHR5SGFzaChpbml0aWFsVXJsKSkge1xyXG4gICAgICAkYnJvd3Nlci51cmwoJGxvY2F0aW9uLmFic1VybCgpLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgaW5pdGlhbGl6aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAvLyB1cGRhdGUgJGxvY2F0aW9uIHdoZW4gJGJyb3dzZXIgdXJsIGNoYW5nZXNcclxuICAgICRicm93c2VyLm9uVXJsQ2hhbmdlKGZ1bmN0aW9uKG5ld1VybCwgbmV3U3RhdGUpIHtcclxuXHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIG5ld1VybCkpKSB7XHJcbiAgICAgICAgLy8gSWYgd2UgYXJlIG5hdmlnYXRpbmcgb3V0c2lkZSBvZiB0aGUgYXBwIHRoZW4gZm9yY2UgYSByZWxvYWRcclxuICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPSBuZXdVcmw7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG9sZFVybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTtcclxuICAgICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcclxuICAgICAgICB2YXIgZGVmYXVsdFByZXZlbnRlZDtcclxuICAgICAgICBuZXdVcmwgPSB0cmltRW1wdHlIYXNoKG5ld1VybCk7XHJcbiAgICAgICAgJGxvY2F0aW9uLiQkcGFyc2UobmV3VXJsKTtcclxuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG5ld1N0YXRlO1xyXG5cclxuICAgICAgICBkZWZhdWx0UHJldmVudGVkID0gJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckbG9jYXRpb25DaGFuZ2VTdGFydCcsIG5ld1VybCwgb2xkVXJsLFxyXG4gICAgICAgICAgICBuZXdTdGF0ZSwgb2xkU3RhdGUpLmRlZmF1bHRQcmV2ZW50ZWQ7XHJcblxyXG4gICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiB3YXMgY2hhbmdlZCBieSBhIGAkbG9jYXRpb25DaGFuZ2VTdGFydGAgaGFuZGxlciB0aGVuIHN0b3BcclxuICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgbG9jYXRpb24gY2hhbmdlXHJcbiAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPT0gbmV3VXJsKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XHJcbiAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpO1xyXG4gICAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSBvbGRTdGF0ZTtcclxuICAgICAgICAgIHNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2sob2xkVXJsLCBmYWxzZSwgb2xkU3RhdGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpbml0aWFsaXppbmcgPSBmYWxzZTtcclxuICAgICAgICAgIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpICRyb290U2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gdXBkYXRlIGJyb3dzZXJcclxuICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uICRsb2NhdGlvbldhdGNoKCkge1xyXG4gICAgICB2YXIgb2xkVXJsID0gdHJpbUVtcHR5SGFzaCgkYnJvd3Nlci51cmwoKSk7XHJcbiAgICAgIHZhciBuZXdVcmwgPSB0cmltRW1wdHlIYXNoKCRsb2NhdGlvbi5hYnNVcmwoKSk7XHJcbiAgICAgIHZhciBvbGRTdGF0ZSA9ICRicm93c2VyLnN0YXRlKCk7XHJcbiAgICAgIHZhciBjdXJyZW50UmVwbGFjZSA9ICRsb2NhdGlvbi4kJHJlcGxhY2U7XHJcbiAgICAgIHZhciB1cmxPclN0YXRlQ2hhbmdlZCA9IG9sZFVybCAhPT0gbmV3VXJsIHx8XHJcbiAgICAgICAgKCRsb2NhdGlvbi4kJGh0bWw1ICYmICRzbmlmZmVyLmhpc3RvcnkgJiYgb2xkU3RhdGUgIT09ICRsb2NhdGlvbi4kJHN0YXRlKTtcclxuXHJcbiAgICAgIGlmIChpbml0aWFsaXppbmcgfHwgdXJsT3JTdGF0ZUNoYW5nZWQpIHtcclxuICAgICAgICBpbml0aWFsaXppbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIG5ld1VybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTtcclxuICAgICAgICAgIHZhciBkZWZhdWx0UHJldmVudGVkID0gJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckbG9jYXRpb25DaGFuZ2VTdGFydCcsIG5ld1VybCwgb2xkVXJsLFxyXG4gICAgICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZDtcclxuXHJcbiAgICAgICAgICAvLyBpZiB0aGUgbG9jYXRpb24gd2FzIGNoYW5nZWQgYnkgYSBgJGxvY2F0aW9uQ2hhbmdlU3RhcnRgIGhhbmRsZXIgdGhlbiBzdG9wXHJcbiAgICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgbG9jYXRpb24gY2hhbmdlXHJcbiAgICAgICAgICBpZiAoJGxvY2F0aW9uLmFic1VybCgpICE9PSBuZXdVcmwpIHJldHVybjtcclxuXHJcbiAgICAgICAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xyXG4gICAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpO1xyXG4gICAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHVybE9yU3RhdGVDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgICAgc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayhuZXdVcmwsIGN1cnJlbnRSZXBsYWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09ICRsb2NhdGlvbi4kJHN0YXRlID8gbnVsbCA6ICRsb2NhdGlvbi4kJHN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCwgb2xkU3RhdGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkbG9jYXRpb24uJCRyZXBsYWNlID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJldHVybiBhbnl0aGluZyBiZWNhdXNlICRldmFsQXN5bmMgd2lsbCBtYWtlIHRoZSBkaWdlc3QgbG9vcCBkaXJ0eSB3aGVuXHJcbiAgICAgIC8vIHRoZXJlIGlzIGEgY2hhbmdlXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gJGxvY2F0aW9uO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSkge1xyXG4gICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCAkbG9jYXRpb24uYWJzVXJsKCksIG9sZFVybCxcclxuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSwgb2xkU3RhdGUpO1xyXG4gICAgfVxyXG59XTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRsb2dcclxuICogQHJlcXVpcmVzICR3aW5kb3dcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNpbXBsZSBzZXJ2aWNlIGZvciBsb2dnaW5nLiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIHNhZmVseSB3cml0ZXMgdGhlIG1lc3NhZ2VcclxuICogaW50byB0aGUgYnJvd3NlcidzIGNvbnNvbGUgKGlmIHByZXNlbnQpLlxyXG4gKlxyXG4gKiBUaGUgbWFpbiBwdXJwb3NlIG9mIHRoaXMgc2VydmljZSBpcyB0byBzaW1wbGlmeSBkZWJ1Z2dpbmcgYW5kIHRyb3VibGVzaG9vdGluZy5cclxuICpcclxuICogVGhlIGRlZmF1bHQgaXMgdG8gbG9nIGBkZWJ1Z2AgbWVzc2FnZXMuIFlvdSBjYW4gdXNlXHJcbiAqIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgbmcuJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZH0gdG8gY2hhbmdlIHRoaXMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImxvZ0V4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbG9nRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAuY29udHJvbGxlcignTG9nQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRsb2cnLCBmdW5jdGlvbigkc2NvcGUsICRsb2cpIHtcclxuICAgICAgICAgICAkc2NvcGUuJGxvZyA9ICRsb2c7XHJcbiAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSAnSGVsbG8gV29ybGQhJztcclxuICAgICAgICAgfV0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTG9nQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8cD5SZWxvYWQgdGhpcyBwYWdlIHdpdGggb3BlbiBjb25zb2xlLCBlbnRlciB0ZXh0IGFuZCBoaXQgdGhlIGxvZyBidXR0b24uLi48L3A+XHJcbiAgICAgICAgIDxsYWJlbD5NZXNzYWdlOlxyXG4gICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1lc3NhZ2VcIiAvPjwvbGFiZWw+XHJcbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmxvZyhtZXNzYWdlKVwiPmxvZzwvYnV0dG9uPlxyXG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy53YXJuKG1lc3NhZ2UpXCI+d2FybjwvYnV0dG9uPlxyXG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5pbmZvKG1lc3NhZ2UpXCI+aW5mbzwvYnV0dG9uPlxyXG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5lcnJvcihtZXNzYWdlKVwiPmVycm9yPC9idXR0b24+XHJcbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmRlYnVnKG1lc3NhZ2UpXCI+ZGVidWc8L2J1dHRvbj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJGxvZ1Byb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2UgdGhlIGAkbG9nUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGxvZ3MgbWVzc2FnZXNcclxuICovXHJcbmZ1bmN0aW9uICRMb2dQcm92aWRlcigpIHtcclxuICB2YXIgZGVidWcgPSB0cnVlLFxyXG4gICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWRcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBmbGFnIGVuYWJsZSBvciBkaXNhYmxlIGRlYnVnIGxldmVsIG1lc3NhZ2VzXHJcbiAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcclxuICAgKi9cclxuICB0aGlzLmRlYnVnRW5hYmxlZCA9IGZ1bmN0aW9uKGZsYWcpIHtcclxuICAgIGlmIChpc0RlZmluZWQoZmxhZykpIHtcclxuICAgICAgZGVidWcgPSBmbGFnO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZGVidWc7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGxvZyNsb2dcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFdyaXRlIGEgbG9nIG1lc3NhZ2VcclxuICAgICAgICovXHJcbiAgICAgIGxvZzogY29uc29sZUxvZygnbG9nJyksXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkbG9nI2luZm9cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFdyaXRlIGFuIGluZm9ybWF0aW9uIG1lc3NhZ2VcclxuICAgICAgICovXHJcbiAgICAgIGluZm86IGNvbnNvbGVMb2coJ2luZm8nKSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRsb2cjd2FyblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogV3JpdGUgYSB3YXJuaW5nIG1lc3NhZ2VcclxuICAgICAgICovXHJcbiAgICAgIHdhcm46IGNvbnNvbGVMb2coJ3dhcm4nKSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRsb2cjZXJyb3JcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFdyaXRlIGFuIGVycm9yIG1lc3NhZ2VcclxuICAgICAgICovXHJcbiAgICAgIGVycm9yOiBjb25zb2xlTG9nKCdlcnJvcicpLFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGxvZyNkZWJ1Z1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogV3JpdGUgYSBkZWJ1ZyBtZXNzYWdlXHJcbiAgICAgICAqL1xyXG4gICAgICBkZWJ1ZzogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBmbiA9IGNvbnNvbGVMb2coJ2RlYnVnJyk7XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkZWJ1Zykge1xyXG4gICAgICAgICAgICBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0oKSlcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZm9ybWF0RXJyb3IoYXJnKSB7XHJcbiAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIGlmIChhcmcuc3RhY2spIHtcclxuICAgICAgICAgIGFyZyA9IChhcmcubWVzc2FnZSAmJiBhcmcuc3RhY2suaW5kZXhPZihhcmcubWVzc2FnZSkgPT09IC0xKVxyXG4gICAgICAgICAgICAgID8gJ0Vycm9yOiAnICsgYXJnLm1lc3NhZ2UgKyAnXFxuJyArIGFyZy5zdGFja1xyXG4gICAgICAgICAgICAgIDogYXJnLnN0YWNrO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYXJnLnNvdXJjZVVSTCkge1xyXG4gICAgICAgICAgYXJnID0gYXJnLm1lc3NhZ2UgKyAnXFxuJyArIGFyZy5zb3VyY2VVUkwgKyAnOicgKyBhcmcubGluZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFyZztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb25zb2xlTG9nKHR5cGUpIHtcclxuICAgICAgdmFyIGNvbnNvbGUgPSAkd2luZG93LmNvbnNvbGUgfHwge30sXHJcbiAgICAgICAgICBsb2dGbiA9IGNvbnNvbGVbdHlwZV0gfHwgY29uc29sZS5sb2cgfHwgbm9vcCxcclxuICAgICAgICAgIGhhc0FwcGx5ID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyBOb3RlOiByZWFkaW5nIGxvZ0ZuLmFwcGx5IHRocm93cyBhbiBlcnJvciBpbiBJRTExIGluIElFOCBkb2N1bWVudCBtb2RlLlxyXG4gICAgICAvLyBUaGUgcmVhc29uIGJlaGluZCB0aGlzIGlzIHRoYXQgY29uc29sZS5sb2cgaGFzIHR5cGUgXCJvYmplY3RcIiBpbiBJRTguLi5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBoYXNBcHBseSA9ICEhbG9nRm4uYXBwbHk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcblxyXG4gICAgICBpZiAoaGFzQXBwbHkpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgZm9yRWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uKGFyZykge1xyXG4gICAgICAgICAgICBhcmdzLnB1c2goZm9ybWF0RXJyb3IoYXJnKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybiBsb2dGbi5hcHBseShjb25zb2xlLCBhcmdzKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyB3ZSBhcmUgSUUgd2hpY2ggZWl0aGVyIGRvZXNuJ3QgaGF2ZSB3aW5kb3cuY29uc29sZSA9PiB0aGlzIGlzIG5vb3AgYW5kIHdlIGRvIG5vdGhpbmcsXHJcbiAgICAgIC8vIG9yIHdlIGFyZSBJRSB3aGVyZSBjb25zb2xlLmxvZyBkb2Vzbid0IGhhdmUgYXBwbHkgc28gd2UgbG9nIGF0IGxlYXN0IGZpcnN0IDIgYXJnc1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oYXJnMSwgYXJnMikge1xyXG4gICAgICAgIGxvZ0ZuKGFyZzEsIGFyZzIgPT0gbnVsbCA/ICcnIDogYXJnMik7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfV07XHJcbn1cclxuXHJcbi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcclxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxyXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXHJcbiAqICAgICAgICAgIEFuIGFwcHJvdmFsIGZyb20gMiBDb3JlIG1lbWJlcnMgd2l0aCBoaXN0b3J5IG9mIG1vZGlmeWluZyAgICAgICpcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICBEb2VzIHRoZSBjaGFuZ2Ugc29tZWhvdyBhbGxvdyBmb3IgYXJiaXRyYXJ5IGphdmFzY3JpcHQgdG8gYmUgZXhlY3V0ZWQ/ICpcclxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxyXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXHJcbiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovXHJcblxyXG52YXIgJHBhcnNlTWluRXJyID0gbWluRXJyKCckcGFyc2UnKTtcclxuXHJcbi8vIFNhbmRib3hpbmcgQW5ndWxhciBFeHByZXNzaW9uc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQW5ndWxhciBleHByZXNzaW9ucyBhcmUgZ2VuZXJhbGx5IGNvbnNpZGVyZWQgc2FmZSBiZWNhdXNlIHRoZXNlIGV4cHJlc3Npb25zIG9ubHkgaGF2ZSBkaXJlY3RcclxuLy8gYWNjZXNzIHRvIGAkc2NvcGVgIGFuZCBsb2NhbHMuIEhvd2V2ZXIsIG9uZSBjYW4gb2J0YWluIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IEpTIGNvZGUgYnlcclxuLy8gb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIG5hdGl2ZSBKUyBmdW5jdGlvbnMgc3VjaCBhcyB0aGUgRnVuY3Rpb24gY29uc3RydWN0b3IuXHJcbi8vXHJcbi8vIEFzIGFuIGV4YW1wbGUsIGNvbnNpZGVyIHRoZSBmb2xsb3dpbmcgQW5ndWxhciBleHByZXNzaW9uOlxyXG4vL1xyXG4vLyAgIHt9LnRvU3RyaW5nLmNvbnN0cnVjdG9yKCdhbGVydChcImV2aWwgSlMgY29kZVwiKScpXHJcbi8vXHJcbi8vIFRoaXMgc2FuZGJveGluZyB0ZWNobmlxdWUgaXMgbm90IHBlcmZlY3QgYW5kIGRvZXNuJ3QgYWltIHRvIGJlLiBUaGUgZ29hbCBpcyB0byBwcmV2ZW50IGV4cGxvaXRzXHJcbi8vIGFnYWluc3QgdGhlIGV4cHJlc3Npb24gbGFuZ3VhZ2UsIGJ1dCBub3QgdG8gcHJldmVudCBleHBsb2l0cyB0aGF0IHdlcmUgZW5hYmxlZCBieSBleHBvc2luZ1xyXG4vLyBzZW5zaXRpdmUgSmF2YVNjcmlwdCBvciBicm93c2VyIEFQSXMgb24gU2NvcGUuIEV4cG9zaW5nIHN1Y2ggb2JqZWN0cyBvbiBhIFNjb3BlIGlzIG5ldmVyIGEgZ29vZFxyXG4vLyBwcmFjdGljZSBhbmQgdGhlcmVmb3JlIHdlIGFyZSBub3QgZXZlbiB0cnlpbmcgdG8gcHJvdGVjdCBhZ2FpbnN0IGludGVyYWN0aW9uIHdpdGggYW4gb2JqZWN0XHJcbi8vIGV4cGxpY2l0bHkgZXhwb3NlZCBpbiB0aGlzIHdheS5cclxuLy9cclxuLy8gSW4gZ2VuZXJhbCwgaXQgaXMgbm90IHBvc3NpYmxlIHRvIGFjY2VzcyBhIFdpbmRvdyBvYmplY3QgZnJvbSBhbiBhbmd1bGFyIGV4cHJlc3Npb24gdW5sZXNzIGFcclxuLy8gd2luZG93IG9yIHNvbWUgRE9NIG9iamVjdCB0aGF0IGhhcyBhIHJlZmVyZW5jZSB0byB3aW5kb3cgaXMgcHVibGlzaGVkIG9udG8gYSBTY29wZS5cclxuLy8gU2ltaWxhcmx5IHdlIHByZXZlbnQgaW52b2NhdGlvbnMgb2YgZnVuY3Rpb24ga25vd24gdG8gYmUgZGFuZ2Vyb3VzLCBhcyB3ZWxsIGFzIGFzc2lnbm1lbnRzIHRvXHJcbi8vIG5hdGl2ZSBvYmplY3RzLlxyXG4vL1xyXG4vLyBTZWUgaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvZ3VpZGUvc2VjdXJpdHlcclxuXHJcblxyXG5mdW5jdGlvbiBlbnN1cmVTYWZlTWVtYmVyTmFtZShuYW1lLCBmdWxsRXhwcmVzc2lvbikge1xyXG4gIGlmIChuYW1lID09PSBcIl9fZGVmaW5lR2V0dGVyX19cIiB8fCBuYW1lID09PSBcIl9fZGVmaW5lU2V0dGVyX19cIlxyXG4gICAgICB8fCBuYW1lID09PSBcIl9fbG9va3VwR2V0dGVyX19cIiB8fCBuYW1lID09PSBcIl9fbG9va3VwU2V0dGVyX19cIlxyXG4gICAgICB8fCBuYW1lID09PSBcIl9fcHJvdG9fX1wiKSB7XHJcbiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbGQnLFxyXG4gICAgICAgICdBdHRlbXB0aW5nIHRvIGFjY2VzcyBhIGRpc2FsbG93ZWQgZmllbGQgaW4gQW5ndWxhciBleHByZXNzaW9ucyEgJ1xyXG4gICAgICAgICsgJ0V4cHJlc3Npb246IHswfScsIGZ1bGxFeHByZXNzaW9uKTtcclxuICB9XHJcbiAgcmV0dXJuIG5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFN0cmluZ1ZhbHVlKG5hbWUpIHtcclxuICAvLyBQcm9wZXJ0eSBuYW1lcyBtdXN0IGJlIHN0cmluZ3MuIFRoaXMgbWVhbnMgdGhhdCBub24tc3RyaW5nIG9iamVjdHMgY2Fubm90IGJlIHVzZWRcclxuICAvLyBhcyBrZXlzIGluIGFuIG9iamVjdC4gQW55IG5vbi1zdHJpbmcgb2JqZWN0LCBpbmNsdWRpbmcgYSBudW1iZXIsIGlzIHR5cGVjYXN0ZWRcclxuICAvLyBpbnRvIGEgc3RyaW5nIHZpYSB0aGUgdG9TdHJpbmcgbWV0aG9kLlxyXG4gIC8vIC0tIE1ETiwgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL1Byb3BlcnR5X2FjY2Vzc29ycyNQcm9wZXJ0eV9uYW1lc1xyXG4gIC8vXHJcbiAgLy8gU28sIHRvIGVuc3VyZSB0aGF0IHdlIGFyZSBjaGVja2luZyB0aGUgc2FtZSBgbmFtZWAgdGhhdCBKYXZhU2NyaXB0IHdvdWxkIHVzZSwgd2UgY2FzdCBpdFxyXG4gIC8vIHRvIGEgc3RyaW5nLiBJdCdzIG5vdCBhbHdheXMgcG9zc2libGUuIElmIGBuYW1lYCBpcyBhbiBvYmplY3QgYW5kIGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBpc1xyXG4gIC8vICdicm9rZW4nIChkb2Vzbid0IHJldHVybiBhIHN0cmluZywgaXNuJ3QgYSBmdW5jdGlvbiwgZXRjLiksIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duOlxyXG4gIC8vXHJcbiAgLy8gVHlwZUVycm9yOiBDYW5ub3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXHJcbiAgLy9cclxuICAvLyBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgd2UgZG9uJ3QgY2F0Y2ggdGhpcyBlcnJvciBoZXJlIGFuZCBhbGxvdyBpdCB0byBwcm9wYWdhdGUgdXAgdGhlIGNhbGxcclxuICAvLyBzdGFjay4gTm90ZSB0aGF0IHlvdSdsbCBnZXQgdGhlIHNhbWUgZXJyb3IgaW4gSmF2YVNjcmlwdCBpZiB5b3UgdHJ5IHRvIGFjY2VzcyBhIHByb3BlcnR5IHVzaW5nXHJcbiAgLy8gc3VjaCBhICdicm9rZW4nIG9iamVjdCBhcyBhIGtleS5cclxuICByZXR1cm4gbmFtZSArICcnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbnN1cmVTYWZlT2JqZWN0KG9iaiwgZnVsbEV4cHJlc3Npb24pIHtcclxuICAvLyBuaWZ0eSBjaGVjayBpZiBvYmogaXMgRnVuY3Rpb24gdGhhdCBpcyBmYXN0IGFuZCB3b3JrcyBhY3Jvc3MgaWZyYW1lcyBhbmQgb3RoZXIgY29udGV4dHNcclxuICBpZiAob2JqKSB7XHJcbiAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBvYmopIHtcclxuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZm4nLFxyXG4gICAgICAgICAgJ1JlZmVyZW5jaW5nIEZ1bmN0aW9uIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcclxuICAgICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcclxuICAgIH0gZWxzZSBpZiAoLy8gaXNXaW5kb3cob2JqKVxyXG4gICAgICAgIG9iai53aW5kb3cgPT09IG9iaikge1xyXG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWN3aW5kb3cnLFxyXG4gICAgICAgICAgJ1JlZmVyZW5jaW5nIHRoZSBXaW5kb3cgaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLFxyXG4gICAgICAgICAgZnVsbEV4cHJlc3Npb24pO1xyXG4gICAgfSBlbHNlIGlmICgvLyBpc0VsZW1lbnQob2JqKVxyXG4gICAgICAgIG9iai5jaGlsZHJlbiAmJiAob2JqLm5vZGVOYW1lIHx8IChvYmoucHJvcCAmJiBvYmouYXR0ciAmJiBvYmouZmluZCkpKSB7XHJcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2RvbScsXHJcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRE9NIG5vZGVzIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcclxuICAgICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcclxuICAgIH0gZWxzZSBpZiAoLy8gYmxvY2sgT2JqZWN0IHNvIHRoYXQgd2UgY2FuJ3QgZ2V0IGhvbGQgb2YgZGFuZ2Vyb3VzIE9iamVjdC4qIG1ldGhvZHNcclxuICAgICAgICBvYmogPT09IE9iamVjdCkge1xyXG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNvYmonLFxyXG4gICAgICAgICAgJ1JlZmVyZW5jaW5nIE9iamVjdCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXHJcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbnZhciBDQUxMID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XHJcbnZhciBBUFBMWSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcclxudmFyIEJJTkQgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZDtcclxuXHJcbmZ1bmN0aW9uIGVuc3VyZVNhZmVGdW5jdGlvbihvYmosIGZ1bGxFeHByZXNzaW9uKSB7XHJcbiAgaWYgKG9iaikge1xyXG4gICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gb2JqKSB7XHJcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2ZuJyxcclxuICAgICAgICAnUmVmZXJlbmNpbmcgRnVuY3Rpb24gaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLFxyXG4gICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcclxuICAgIH0gZWxzZSBpZiAob2JqID09PSBDQUxMIHx8IG9iaiA9PT0gQVBQTFkgfHwgb2JqID09PSBCSU5EKSB7XHJcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2ZmJyxcclxuICAgICAgICAnUmVmZXJlbmNpbmcgY2FsbCwgYXBwbHkgb3IgYmluZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXHJcbiAgICAgICAgZnVsbEV4cHJlc3Npb24pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQob2JqLCBmdWxsRXhwcmVzc2lvbikge1xyXG4gIGlmIChvYmopIHtcclxuICAgIGlmIChvYmogPT09ICgwKS5jb25zdHJ1Y3RvciB8fCBvYmogPT09IChmYWxzZSkuY29uc3RydWN0b3IgfHwgb2JqID09PSAnJy5jb25zdHJ1Y3RvciB8fFxyXG4gICAgICAgIG9iaiA9PT0ge30uY29uc3RydWN0b3IgfHwgb2JqID09PSBbXS5jb25zdHJ1Y3RvciB8fCBvYmogPT09IEZ1bmN0aW9uLmNvbnN0cnVjdG9yKSB7XHJcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2FmJyxcclxuICAgICAgICAnQXNzaWduaW5nIHRvIGEgY29uc3RydWN0b3IgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JywgZnVsbEV4cHJlc3Npb24pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxudmFyIE9QRVJBVE9SUyA9IGNyZWF0ZU1hcCgpO1xyXG5mb3JFYWNoKCcrIC0gKiAvICUgPT09ICE9PSA9PSAhPSA8ID4gPD0gPj0gJiYgfHwgISA9IHwnLnNwbGl0KCcgJyksIGZ1bmN0aW9uKG9wZXJhdG9yKSB7IE9QRVJBVE9SU1tvcGVyYXRvcl0gPSB0cnVlOyB9KTtcclxudmFyIEVTQ0FQRSA9IHtcIm5cIjpcIlxcblwiLCBcImZcIjpcIlxcZlwiLCBcInJcIjpcIlxcclwiLCBcInRcIjpcIlxcdFwiLCBcInZcIjpcIlxcdlwiLCBcIidcIjpcIidcIiwgJ1wiJzonXCInfTtcclxuXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbnZhciBMZXhlciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG59O1xyXG5cclxuTGV4ZXIucHJvdG90eXBlID0ge1xyXG4gIGNvbnN0cnVjdG9yOiBMZXhlcixcclxuXHJcbiAgbGV4OiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG4gICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICB0aGlzLnRva2VucyA9IFtdO1xyXG5cclxuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xyXG4gICAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xyXG4gICAgICBpZiAoY2ggPT09ICdcIicgfHwgY2ggPT09IFwiJ1wiKSB7XHJcbiAgICAgICAgdGhpcy5yZWFkU3RyaW5nKGNoKTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTnVtYmVyKGNoKSB8fCBjaCA9PT0gJy4nICYmIHRoaXMuaXNOdW1iZXIodGhpcy5wZWVrKCkpKSB7XHJcbiAgICAgICAgdGhpcy5yZWFkTnVtYmVyKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0lkZW50aWZpZXJTdGFydCh0aGlzLnBlZWtNdWx0aWNoYXIoKSkpIHtcclxuICAgICAgICB0aGlzLnJlYWRJZGVudCgpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoY2gsICcoKXt9W10uLDs6PycpKSB7XHJcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6IHRoaXMuaW5kZXgsIHRleHQ6IGNofSk7XHJcbiAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNXaGl0ZXNwYWNlKGNoKSkge1xyXG4gICAgICAgIHRoaXMuaW5kZXgrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgY2gyID0gY2ggKyB0aGlzLnBlZWsoKTtcclxuICAgICAgICB2YXIgY2gzID0gY2gyICsgdGhpcy5wZWVrKDIpO1xyXG4gICAgICAgIHZhciBvcDEgPSBPUEVSQVRPUlNbY2hdO1xyXG4gICAgICAgIHZhciBvcDIgPSBPUEVSQVRPUlNbY2gyXTtcclxuICAgICAgICB2YXIgb3AzID0gT1BFUkFUT1JTW2NoM107XHJcbiAgICAgICAgaWYgKG9wMSB8fCBvcDIgfHwgb3AzKSB7XHJcbiAgICAgICAgICB2YXIgdG9rZW4gPSBvcDMgPyBjaDMgOiAob3AyID8gY2gyIDogY2gpO1xyXG4gICAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6IHRoaXMuaW5kZXgsIHRleHQ6IHRva2VuLCBvcGVyYXRvcjogdHJ1ZX0pO1xyXG4gICAgICAgICAgdGhpcy5pbmRleCArPSB0b2tlbi5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignVW5leHBlY3RlZCBuZXh0IGNoYXJhY3RlciAnLCB0aGlzLmluZGV4LCB0aGlzLmluZGV4ICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy50b2tlbnM7XHJcbiAgfSxcclxuXHJcbiAgaXM6IGZ1bmN0aW9uKGNoLCBjaGFycykge1xyXG4gICAgcmV0dXJuIGNoYXJzLmluZGV4T2YoY2gpICE9PSAtMTtcclxuICB9LFxyXG5cclxuICBwZWVrOiBmdW5jdGlvbihpKSB7XHJcbiAgICB2YXIgbnVtID0gaSB8fCAxO1xyXG4gICAgcmV0dXJuICh0aGlzLmluZGV4ICsgbnVtIDwgdGhpcy50ZXh0Lmxlbmd0aCkgPyB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXggKyBudW0pIDogZmFsc2U7XHJcbiAgfSxcclxuXHJcbiAgaXNOdW1iZXI6IGZ1bmN0aW9uKGNoKSB7XHJcbiAgICByZXR1cm4gKCcwJyA8PSBjaCAmJiBjaCA8PSAnOScpICYmIHR5cGVvZiBjaCA9PT0gXCJzdHJpbmdcIjtcclxuICB9LFxyXG5cclxuICBpc1doaXRlc3BhY2U6IGZ1bmN0aW9uKGNoKSB7XHJcbiAgICAvLyBJRSB0cmVhdHMgbm9uLWJyZWFraW5nIHNwYWNlIGFzIFxcdTAwQTBcclxuICAgIHJldHVybiAoY2ggPT09ICcgJyB8fCBjaCA9PT0gJ1xccicgfHwgY2ggPT09ICdcXHQnIHx8XHJcbiAgICAgICAgICAgIGNoID09PSAnXFxuJyB8fCBjaCA9PT0gJ1xcdicgfHwgY2ggPT09ICdcXHUwMEEwJyk7XHJcbiAgfSxcclxuXHJcbiAgaXNJZGVudGlmaWVyU3RhcnQ6IGZ1bmN0aW9uKGNoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllclN0YXJ0ID9cclxuICAgICAgICB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyU3RhcnQoY2gsIHRoaXMuY29kZVBvaW50QXQoY2gpKSA6XHJcbiAgICAgICAgdGhpcy5pc1ZhbGlkSWRlbnRpZmllclN0YXJ0KGNoKTtcclxuICB9LFxyXG5cclxuICBpc1ZhbGlkSWRlbnRpZmllclN0YXJ0OiBmdW5jdGlvbihjaCkge1xyXG4gICAgcmV0dXJuICgnYScgPD0gY2ggJiYgY2ggPD0gJ3onIHx8XHJcbiAgICAgICAgICAgICdBJyA8PSBjaCAmJiBjaCA8PSAnWicgfHxcclxuICAgICAgICAgICAgJ18nID09PSBjaCB8fCBjaCA9PT0gJyQnKTtcclxuICB9LFxyXG5cclxuICBpc0lkZW50aWZpZXJDb250aW51ZTogZnVuY3Rpb24oY2gpIHtcclxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyQ29udGludWUgP1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJDb250aW51ZShjaCwgdGhpcy5jb2RlUG9pbnRBdChjaCkpIDpcclxuICAgICAgICB0aGlzLmlzVmFsaWRJZGVudGlmaWVyQ29udGludWUoY2gpO1xyXG4gIH0sXHJcblxyXG4gIGlzVmFsaWRJZGVudGlmaWVyQ29udGludWU6IGZ1bmN0aW9uKGNoLCBjcCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZElkZW50aWZpZXJTdGFydChjaCwgY3ApIHx8IHRoaXMuaXNOdW1iZXIoY2gpO1xyXG4gIH0sXHJcblxyXG4gIGNvZGVQb2ludEF0OiBmdW5jdGlvbihjaCkge1xyXG4gICAgaWYgKGNoLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCk7XHJcbiAgICAvKmpzaGludCBiaXR3aXNlOiBmYWxzZSovXHJcbiAgICByZXR1cm4gKGNoLmNoYXJDb2RlQXQoMCkgPDwgMTApICsgY2guY2hhckNvZGVBdCgxKSAtIDB4MzVGREMwMDtcclxuICAgIC8qanNoaW50IGJpdHdpc2U6IHRydWUqL1xyXG4gIH0sXHJcblxyXG4gIHBlZWtNdWx0aWNoYXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcclxuICAgIHZhciBwZWVrID0gdGhpcy5wZWVrKCk7XHJcbiAgICBpZiAoIXBlZWspIHtcclxuICAgICAgcmV0dXJuIGNoO1xyXG4gICAgfVxyXG4gICAgdmFyIGNwMSA9IGNoLmNoYXJDb2RlQXQoMCk7XHJcbiAgICB2YXIgY3AyID0gcGVlay5jaGFyQ29kZUF0KDApO1xyXG4gICAgaWYgKGNwMSA+PSAweEQ4MDAgJiYgY3AxIDw9IDB4REJGRiAmJiBjcDIgPj0gMHhEQzAwICYmIGNwMiA8PSAweERGRkYpIHtcclxuICAgICAgcmV0dXJuIGNoICsgcGVlaztcclxuICAgIH1cclxuICAgIHJldHVybiBjaDtcclxuICB9LFxyXG5cclxuICBpc0V4cE9wZXJhdG9yOiBmdW5jdGlvbihjaCkge1xyXG4gICAgcmV0dXJuIChjaCA9PT0gJy0nIHx8IGNoID09PSAnKycgfHwgdGhpcy5pc051bWJlcihjaCkpO1xyXG4gIH0sXHJcblxyXG4gIHRocm93RXJyb3I6IGZ1bmN0aW9uKGVycm9yLCBzdGFydCwgZW5kKSB7XHJcbiAgICBlbmQgPSBlbmQgfHwgdGhpcy5pbmRleDtcclxuICAgIHZhciBjb2xTdHIgPSAoaXNEZWZpbmVkKHN0YXJ0KVxyXG4gICAgICAgICAgICA/ICdzICcgKyBzdGFydCArICAnLScgKyB0aGlzLmluZGV4ICsgJyBbJyArIHRoaXMudGV4dC5zdWJzdHJpbmcoc3RhcnQsIGVuZCkgKyAnXSdcclxuICAgICAgICAgICAgOiAnICcgKyBlbmQpO1xyXG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdsZXhlcnInLCAnTGV4ZXIgRXJyb3I6IHswfSBhdCBjb2x1bW57MX0gaW4gZXhwcmVzc2lvbiBbezJ9XS4nLFxyXG4gICAgICAgIGVycm9yLCBjb2xTdHIsIHRoaXMudGV4dCk7XHJcbiAgfSxcclxuXHJcbiAgcmVhZE51bWJlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbnVtYmVyID0gJyc7XHJcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xyXG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XHJcbiAgICAgIHZhciBjaCA9IGxvd2VyY2FzZSh0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpKTtcclxuICAgICAgaWYgKGNoID09ICcuJyB8fCB0aGlzLmlzTnVtYmVyKGNoKSkge1xyXG4gICAgICAgIG51bWJlciArPSBjaDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgcGVla0NoID0gdGhpcy5wZWVrKCk7XHJcbiAgICAgICAgaWYgKGNoID09ICdlJyAmJiB0aGlzLmlzRXhwT3BlcmF0b3IocGVla0NoKSkge1xyXG4gICAgICAgICAgbnVtYmVyICs9IGNoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0V4cE9wZXJhdG9yKGNoKSAmJlxyXG4gICAgICAgICAgICBwZWVrQ2ggJiYgdGhpcy5pc051bWJlcihwZWVrQ2gpICYmXHJcbiAgICAgICAgICAgIG51bWJlci5jaGFyQXQobnVtYmVyLmxlbmd0aCAtIDEpID09ICdlJykge1xyXG4gICAgICAgICAgbnVtYmVyICs9IGNoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0V4cE9wZXJhdG9yKGNoKSAmJlxyXG4gICAgICAgICAgICAoIXBlZWtDaCB8fCAhdGhpcy5pc051bWJlcihwZWVrQ2gpKSAmJlxyXG4gICAgICAgICAgICBudW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGggLSAxKSA9PSAnZScpIHtcclxuICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignSW52YWxpZCBleHBvbmVudCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgfVxyXG4gICAgdGhpcy50b2tlbnMucHVzaCh7XHJcbiAgICAgIGluZGV4OiBzdGFydCxcclxuICAgICAgdGV4dDogbnVtYmVyLFxyXG4gICAgICBjb25zdGFudDogdHJ1ZSxcclxuICAgICAgdmFsdWU6IE51bWJlcihudW1iZXIpXHJcbiAgICB9KTtcclxuICB9LFxyXG5cclxuICByZWFkSWRlbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcclxuICAgIHRoaXMuaW5kZXggKz0gdGhpcy5wZWVrTXVsdGljaGFyKCkubGVuZ3RoO1xyXG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XHJcbiAgICAgIHZhciBjaCA9IHRoaXMucGVla011bHRpY2hhcigpO1xyXG4gICAgICBpZiAoIXRoaXMuaXNJZGVudGlmaWVyQ29udGludWUoY2gpKSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5pbmRleCArPSBjaC5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICB0aGlzLnRva2Vucy5wdXNoKHtcclxuICAgICAgaW5kZXg6IHN0YXJ0LFxyXG4gICAgICB0ZXh0OiB0aGlzLnRleHQuc2xpY2Uoc3RhcnQsIHRoaXMuaW5kZXgpLFxyXG4gICAgICBpZGVudGlmaWVyOiB0cnVlXHJcbiAgICB9KTtcclxuICB9LFxyXG5cclxuICByZWFkU3RyaW5nOiBmdW5jdGlvbihxdW90ZSkge1xyXG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcclxuICAgIHRoaXMuaW5kZXgrKztcclxuICAgIHZhciBzdHJpbmcgPSAnJztcclxuICAgIHZhciByYXdTdHJpbmcgPSBxdW90ZTtcclxuICAgIHZhciBlc2NhcGUgPSBmYWxzZTtcclxuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xyXG4gICAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xyXG4gICAgICByYXdTdHJpbmcgKz0gY2g7XHJcbiAgICAgIGlmIChlc2NhcGUpIHtcclxuICAgICAgICBpZiAoY2ggPT09ICd1Jykge1xyXG4gICAgICAgICAgdmFyIGhleCA9IHRoaXMudGV4dC5zdWJzdHJpbmcodGhpcy5pbmRleCArIDEsIHRoaXMuaW5kZXggKyA1KTtcclxuICAgICAgICAgIGlmICghaGV4Lm1hdGNoKC9bXFxkYS1mXXs0fS9pKSkge1xyXG4gICAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ0ludmFsaWQgdW5pY29kZSBlc2NhcGUgW1xcXFx1JyArIGhleCArICddJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmluZGV4ICs9IDQ7XHJcbiAgICAgICAgICBzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoZXgsIDE2KSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciByZXAgPSBFU0NBUEVbY2hdO1xyXG4gICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgKHJlcCB8fCBjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVzY2FwZSA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFxcXCcpIHtcclxuICAgICAgICBlc2NhcGUgPSB0cnVlO1xyXG4gICAgICB9IGVsc2UgaWYgKGNoID09PSBxdW90ZSkge1xyXG4gICAgICAgIHRoaXMuaW5kZXgrKztcclxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcclxuICAgICAgICAgIGluZGV4OiBzdGFydCxcclxuICAgICAgICAgIHRleHQ6IHJhd1N0cmluZyxcclxuICAgICAgICAgIGNvbnN0YW50OiB0cnVlLFxyXG4gICAgICAgICAgdmFsdWU6IHN0cmluZ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzdHJpbmcgKz0gY2g7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgfVxyXG4gICAgdGhpcy50aHJvd0Vycm9yKCdVbnRlcm1pbmF0ZWQgcXVvdGUnLCBzdGFydCk7XHJcbiAgfVxyXG59O1xyXG5cclxudmFyIEFTVCA9IGZ1bmN0aW9uKGxleGVyLCBvcHRpb25zKSB7XHJcbiAgdGhpcy5sZXhlciA9IGxleGVyO1xyXG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbn07XHJcblxyXG5BU1QuUHJvZ3JhbSA9ICdQcm9ncmFtJztcclxuQVNULkV4cHJlc3Npb25TdGF0ZW1lbnQgPSAnRXhwcmVzc2lvblN0YXRlbWVudCc7XHJcbkFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbiA9ICdBc3NpZ25tZW50RXhwcmVzc2lvbic7XHJcbkFTVC5Db25kaXRpb25hbEV4cHJlc3Npb24gPSAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJztcclxuQVNULkxvZ2ljYWxFeHByZXNzaW9uID0gJ0xvZ2ljYWxFeHByZXNzaW9uJztcclxuQVNULkJpbmFyeUV4cHJlc3Npb24gPSAnQmluYXJ5RXhwcmVzc2lvbic7XHJcbkFTVC5VbmFyeUV4cHJlc3Npb24gPSAnVW5hcnlFeHByZXNzaW9uJztcclxuQVNULkNhbGxFeHByZXNzaW9uID0gJ0NhbGxFeHByZXNzaW9uJztcclxuQVNULk1lbWJlckV4cHJlc3Npb24gPSAnTWVtYmVyRXhwcmVzc2lvbic7XHJcbkFTVC5JZGVudGlmaWVyID0gJ0lkZW50aWZpZXInO1xyXG5BU1QuTGl0ZXJhbCA9ICdMaXRlcmFsJztcclxuQVNULkFycmF5RXhwcmVzc2lvbiA9ICdBcnJheUV4cHJlc3Npb24nO1xyXG5BU1QuUHJvcGVydHkgPSAnUHJvcGVydHknO1xyXG5BU1QuT2JqZWN0RXhwcmVzc2lvbiA9ICdPYmplY3RFeHByZXNzaW9uJztcclxuQVNULlRoaXNFeHByZXNzaW9uID0gJ1RoaXNFeHByZXNzaW9uJztcclxuQVNULkxvY2Fsc0V4cHJlc3Npb24gPSAnTG9jYWxzRXhwcmVzc2lvbic7XHJcblxyXG4vLyBJbnRlcm5hbCB1c2Ugb25seVxyXG5BU1QuTkdWYWx1ZVBhcmFtZXRlciA9ICdOR1ZhbHVlUGFyYW1ldGVyJztcclxuXHJcbkFTVC5wcm90b3R5cGUgPSB7XHJcbiAgYXN0OiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG4gICAgdGhpcy50b2tlbnMgPSB0aGlzLmxleGVyLmxleCh0ZXh0KTtcclxuXHJcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnByb2dyYW0oKTtcclxuXHJcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIHRoaXMudGhyb3dFcnJvcignaXMgYW4gdW5leHBlY3RlZCB0b2tlbicsIHRoaXMudG9rZW5zWzBdKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfSxcclxuXHJcbiAgcHJvZ3JhbTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYm9keSA9IFtdO1xyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA+IDAgJiYgIXRoaXMucGVlaygnfScsICcpJywgJzsnLCAnXScpKVxyXG4gICAgICAgIGJvZHkucHVzaCh0aGlzLmV4cHJlc3Npb25TdGF0ZW1lbnQoKSk7XHJcbiAgICAgIGlmICghdGhpcy5leHBlY3QoJzsnKSkge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IEFTVC5Qcm9ncmFtLCBib2R5OiBib2R5fTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGV4cHJlc3Npb25TdGF0ZW1lbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHsgdHlwZTogQVNULkV4cHJlc3Npb25TdGF0ZW1lbnQsIGV4cHJlc3Npb246IHRoaXMuZmlsdGVyQ2hhaW4oKSB9O1xyXG4gIH0sXHJcblxyXG4gIGZpbHRlckNoYWluOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBsZWZ0ID0gdGhpcy5leHByZXNzaW9uKCk7XHJcbiAgICB2YXIgdG9rZW47XHJcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJ3wnKSkpIHtcclxuICAgICAgbGVmdCA9IHRoaXMuZmlsdGVyKGxlZnQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZnQ7XHJcbiAgfSxcclxuXHJcbiAgZXhwcmVzc2lvbjogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5hc3NpZ25tZW50KCk7XHJcbiAgfSxcclxuXHJcbiAgYXNzaWdubWVudDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy50ZXJuYXJ5KCk7XHJcbiAgICBpZiAodGhpcy5leHBlY3QoJz0nKSkge1xyXG4gICAgICByZXN1bHQgPSB7IHR5cGU6IEFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbiwgbGVmdDogcmVzdWx0LCByaWdodDogdGhpcy5hc3NpZ25tZW50KCksIG9wZXJhdG9yOiAnPSd9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9LFxyXG5cclxuICB0ZXJuYXJ5OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciB0ZXN0ID0gdGhpcy5sb2dpY2FsT1IoKTtcclxuICAgIHZhciBhbHRlcm5hdGU7XHJcbiAgICB2YXIgY29uc2VxdWVudDtcclxuICAgIGlmICh0aGlzLmV4cGVjdCgnPycpKSB7XHJcbiAgICAgIGFsdGVybmF0ZSA9IHRoaXMuZXhwcmVzc2lvbigpO1xyXG4gICAgICBpZiAodGhpcy5jb25zdW1lKCc6JykpIHtcclxuICAgICAgICBjb25zZXF1ZW50ID0gdGhpcy5leHByZXNzaW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbiwgdGVzdDogdGVzdCwgYWx0ZXJuYXRlOiBhbHRlcm5hdGUsIGNvbnNlcXVlbnQ6IGNvbnNlcXVlbnR9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGVzdDtcclxuICB9LFxyXG5cclxuICBsb2dpY2FsT1I6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGxlZnQgPSB0aGlzLmxvZ2ljYWxBTkQoKTtcclxuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnfHwnKSkge1xyXG4gICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuTG9naWNhbEV4cHJlc3Npb24sIG9wZXJhdG9yOiAnfHwnLCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5sb2dpY2FsQU5EKCkgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWZ0O1xyXG4gIH0sXHJcblxyXG4gIGxvZ2ljYWxBTkQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGxlZnQgPSB0aGlzLmVxdWFsaXR5KCk7XHJcbiAgICB3aGlsZSAodGhpcy5leHBlY3QoJyYmJykpIHtcclxuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkxvZ2ljYWxFeHByZXNzaW9uLCBvcGVyYXRvcjogJyYmJywgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMuZXF1YWxpdHkoKX07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVmdDtcclxuICB9LFxyXG5cclxuICBlcXVhbGl0eTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbGVmdCA9IHRoaXMucmVsYXRpb25hbCgpO1xyXG4gICAgdmFyIHRva2VuO1xyXG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc9PScsJyE9JywnPT09JywnIT09JykpKSB7XHJcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMucmVsYXRpb25hbCgpIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVmdDtcclxuICB9LFxyXG5cclxuICByZWxhdGlvbmFsOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBsZWZ0ID0gdGhpcy5hZGRpdGl2ZSgpO1xyXG4gICAgdmFyIHRva2VuO1xyXG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc8JywgJz4nLCAnPD0nLCAnPj0nKSkpIHtcclxuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5hZGRpdGl2ZSgpIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVmdDtcclxuICB9LFxyXG5cclxuICBhZGRpdGl2ZTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbGVmdCA9IHRoaXMubXVsdGlwbGljYXRpdmUoKTtcclxuICAgIHZhciB0b2tlbjtcclxuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKycsJy0nKSkpIHtcclxuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5tdWx0aXBsaWNhdGl2ZSgpIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVmdDtcclxuICB9LFxyXG5cclxuICBtdWx0aXBsaWNhdGl2ZTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbGVmdCA9IHRoaXMudW5hcnkoKTtcclxuICAgIHZhciB0b2tlbjtcclxuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKicsJy8nLCclJykpKSB7XHJcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMudW5hcnkoKSB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZnQ7XHJcbiAgfSxcclxuXHJcbiAgdW5hcnk6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRva2VuO1xyXG4gICAgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcrJywgJy0nLCAnIScpKSkge1xyXG4gICAgICByZXR1cm4geyB0eXBlOiBBU1QuVW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgcHJlZml4OiB0cnVlLCBhcmd1bWVudDogdGhpcy51bmFyeSgpIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5wcmltYXJ5KCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgcHJpbWFyeTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcHJpbWFyeTtcclxuICAgIGlmICh0aGlzLmV4cGVjdCgnKCcpKSB7XHJcbiAgICAgIHByaW1hcnkgPSB0aGlzLmZpbHRlckNoYWluKCk7XHJcbiAgICAgIHRoaXMuY29uc3VtZSgnKScpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmV4cGVjdCgnWycpKSB7XHJcbiAgICAgIHByaW1hcnkgPSB0aGlzLmFycmF5RGVjbGFyYXRpb24oKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5leHBlY3QoJ3snKSkge1xyXG4gICAgICBwcmltYXJ5ID0gdGhpcy5vYmplY3QoKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zZWxmUmVmZXJlbnRpYWwuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCkpIHtcclxuICAgICAgcHJpbWFyeSA9IGNvcHkodGhpcy5zZWxmUmVmZXJlbnRpYWxbdGhpcy5jb25zdW1lKCkudGV4dF0pO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMubGl0ZXJhbHMuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCkpIHtcclxuICAgICAgcHJpbWFyeSA9IHsgdHlwZTogQVNULkxpdGVyYWwsIHZhbHVlOiB0aGlzLm9wdGlvbnMubGl0ZXJhbHNbdGhpcy5jb25zdW1lKCkudGV4dF19O1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnBlZWsoKS5pZGVudGlmaWVyKSB7XHJcbiAgICAgIHByaW1hcnkgPSB0aGlzLmlkZW50aWZpZXIoKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuY29uc3RhbnQpIHtcclxuICAgICAgcHJpbWFyeSA9IHRoaXMuY29uc3RhbnQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudGhyb3dFcnJvcignbm90IGEgcHJpbWFyeSBleHByZXNzaW9uJywgdGhpcy5wZWVrKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBuZXh0O1xyXG4gICAgd2hpbGUgKChuZXh0ID0gdGhpcy5leHBlY3QoJygnLCAnWycsICcuJykpKSB7XHJcbiAgICAgIGlmIChuZXh0LnRleHQgPT09ICcoJykge1xyXG4gICAgICAgIHByaW1hcnkgPSB7dHlwZTogQVNULkNhbGxFeHByZXNzaW9uLCBjYWxsZWU6IHByaW1hcnksIGFyZ3VtZW50czogdGhpcy5wYXJzZUFyZ3VtZW50cygpIH07XHJcbiAgICAgICAgdGhpcy5jb25zdW1lKCcpJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAobmV4dC50ZXh0ID09PSAnWycpIHtcclxuICAgICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTWVtYmVyRXhwcmVzc2lvbiwgb2JqZWN0OiBwcmltYXJ5LCBwcm9wZXJ0eTogdGhpcy5leHByZXNzaW9uKCksIGNvbXB1dGVkOiB0cnVlIH07XHJcbiAgICAgICAgdGhpcy5jb25zdW1lKCddJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAobmV4dC50ZXh0ID09PSAnLicpIHtcclxuICAgICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTWVtYmVyRXhwcmVzc2lvbiwgb2JqZWN0OiBwcmltYXJ5LCBwcm9wZXJ0eTogdGhpcy5pZGVudGlmaWVyKCksIGNvbXB1dGVkOiBmYWxzZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMudGhyb3dFcnJvcignSU1QT1NTSUJMRScpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpbWFyeTtcclxuICB9LFxyXG5cclxuICBmaWx0ZXI6IGZ1bmN0aW9uKGJhc2VFeHByZXNzaW9uKSB7XHJcbiAgICB2YXIgYXJncyA9IFtiYXNlRXhwcmVzc2lvbl07XHJcbiAgICB2YXIgcmVzdWx0ID0ge3R5cGU6IEFTVC5DYWxsRXhwcmVzc2lvbiwgY2FsbGVlOiB0aGlzLmlkZW50aWZpZXIoKSwgYXJndW1lbnRzOiBhcmdzLCBmaWx0ZXI6IHRydWV9O1xyXG5cclxuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnOicpKSB7XHJcbiAgICAgIGFyZ3MucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9LFxyXG5cclxuICBwYXJzZUFyZ3VtZW50czogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgaWYgKHRoaXMucGVla1Rva2VuKCkudGV4dCAhPT0gJyknKSB7XHJcbiAgICAgIGRvIHtcclxuICAgICAgICBhcmdzLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xyXG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdCgnLCcpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcmdzO1xyXG4gIH0sXHJcblxyXG4gIGlkZW50aWZpZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lKCk7XHJcbiAgICBpZiAoIXRva2VuLmlkZW50aWZpZXIpIHtcclxuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyBub3QgYSB2YWxpZCBpZGVudGlmaWVyJywgdG9rZW4pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgdHlwZTogQVNULklkZW50aWZpZXIsIG5hbWU6IHRva2VuLnRleHQgfTtcclxuICB9LFxyXG5cclxuICBjb25zdGFudDogZnVuY3Rpb24oKSB7XHJcbiAgICAvLyBUT0RPIGNoZWNrIHRoYXQgaXQgaXMgYSBjb25zdGFudFxyXG4gICAgcmV0dXJuIHsgdHlwZTogQVNULkxpdGVyYWwsIHZhbHVlOiB0aGlzLmNvbnN1bWUoKS52YWx1ZSB9O1xyXG4gIH0sXHJcblxyXG4gIGFycmF5RGVjbGFyYXRpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGVsZW1lbnRzID0gW107XHJcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnXScpIHtcclxuICAgICAgZG8ge1xyXG4gICAgICAgIGlmICh0aGlzLnBlZWsoJ10nKSkge1xyXG4gICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnRzLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xyXG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdCgnLCcpKTtcclxuICAgIH1cclxuICAgIHRoaXMuY29uc3VtZSgnXScpO1xyXG5cclxuICAgIHJldHVybiB7IHR5cGU6IEFTVC5BcnJheUV4cHJlc3Npb24sIGVsZW1lbnRzOiBlbGVtZW50cyB9O1xyXG4gIH0sXHJcblxyXG4gIG9iamVjdDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcHJvcGVydGllcyA9IFtdLCBwcm9wZXJ0eTtcclxuICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICd9Jykge1xyXG4gICAgICBkbyB7XHJcbiAgICAgICAgaWYgKHRoaXMucGVlaygnfScpKSB7XHJcbiAgICAgICAgICAvLyBTdXBwb3J0IHRyYWlsaW5nIGNvbW1hcyBwZXIgRVM1LjEuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvcGVydHkgPSB7dHlwZTogQVNULlByb3BlcnR5LCBraW5kOiAnaW5pdCd9O1xyXG4gICAgICAgIGlmICh0aGlzLnBlZWsoKS5jb25zdGFudCkge1xyXG4gICAgICAgICAgcHJvcGVydHkua2V5ID0gdGhpcy5jb25zdGFudCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuaWRlbnRpZmllcikge1xyXG4gICAgICAgICAgcHJvcGVydHkua2V5ID0gdGhpcy5pZGVudGlmaWVyKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudGhyb3dFcnJvcihcImludmFsaWQga2V5XCIsIHRoaXMucGVlaygpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25zdW1lKCc6Jyk7XHJcbiAgICAgICAgcHJvcGVydHkudmFsdWUgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgICAgICBwcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xyXG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdCgnLCcpKTtcclxuICAgIH1cclxuICAgIHRoaXMuY29uc3VtZSgnfScpO1xyXG5cclxuICAgIHJldHVybiB7dHlwZTogQVNULk9iamVjdEV4cHJlc3Npb24sIHByb3BlcnRpZXM6IHByb3BlcnRpZXMgfTtcclxuICB9LFxyXG5cclxuICB0aHJvd0Vycm9yOiBmdW5jdGlvbihtc2csIHRva2VuKSB7XHJcbiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3N5bnRheCcsXHJcbiAgICAgICAgJ1N5bnRheCBFcnJvcjogVG9rZW4gXFwnezB9XFwnIHsxfSBhdCBjb2x1bW4gezJ9IG9mIHRoZSBleHByZXNzaW9uIFt7M31dIHN0YXJ0aW5nIGF0IFt7NH1dLicsXHJcbiAgICAgICAgICB0b2tlbi50ZXh0LCBtc2csICh0b2tlbi5pbmRleCArIDEpLCB0aGlzLnRleHQsIHRoaXMudGV4dC5zdWJzdHJpbmcodG9rZW4uaW5kZXgpKTtcclxuICB9LFxyXG5cclxuICBjb25zdW1lOiBmdW5jdGlvbihlMSkge1xyXG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdG9rZW4gPSB0aGlzLmV4cGVjdChlMSk7XHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgIHRoaXMudGhyb3dFcnJvcignaXMgdW5leHBlY3RlZCwgZXhwZWN0aW5nIFsnICsgZTEgKyAnXScsIHRoaXMucGVlaygpKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0b2tlbjtcclxuICB9LFxyXG5cclxuICBwZWVrVG9rZW46IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLnRva2Vuc1swXTtcclxuICB9LFxyXG5cclxuICBwZWVrOiBmdW5jdGlvbihlMSwgZTIsIGUzLCBlNCkge1xyXG4gICAgcmV0dXJuIHRoaXMucGVla0FoZWFkKDAsIGUxLCBlMiwgZTMsIGU0KTtcclxuICB9LFxyXG5cclxuICBwZWVrQWhlYWQ6IGZ1bmN0aW9uKGksIGUxLCBlMiwgZTMsIGU0KSB7XHJcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID4gaSkge1xyXG4gICAgICB2YXIgdG9rZW4gPSB0aGlzLnRva2Vuc1tpXTtcclxuICAgICAgdmFyIHQgPSB0b2tlbi50ZXh0O1xyXG4gICAgICBpZiAodCA9PT0gZTEgfHwgdCA9PT0gZTIgfHwgdCA9PT0gZTMgfHwgdCA9PT0gZTQgfHxcclxuICAgICAgICAgICghZTEgJiYgIWUyICYmICFlMyAmJiAhZTQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSxcclxuXHJcbiAgZXhwZWN0OiBmdW5jdGlvbihlMSwgZTIsIGUzLCBlNCkge1xyXG4gICAgdmFyIHRva2VuID0gdGhpcy5wZWVrKGUxLCBlMiwgZTMsIGU0KTtcclxuICAgIGlmICh0b2tlbikge1xyXG4gICAgICB0aGlzLnRva2Vucy5zaGlmdCgpO1xyXG4gICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSxcclxuXHJcbiAgc2VsZlJlZmVyZW50aWFsOiB7XHJcbiAgICAndGhpcyc6IHt0eXBlOiBBU1QuVGhpc0V4cHJlc3Npb24gfSxcclxuICAgICckbG9jYWxzJzoge3R5cGU6IEFTVC5Mb2NhbHNFeHByZXNzaW9uIH1cclxuICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBpZkRlZmluZWQodiwgZCkge1xyXG4gIHJldHVybiB0eXBlb2YgdiAhPT0gJ3VuZGVmaW5lZCcgPyB2IDogZDtcclxufVxyXG5cclxuZnVuY3Rpb24gcGx1c0ZuKGwsIHIpIHtcclxuICBpZiAodHlwZW9mIGwgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gcjtcclxuICBpZiAodHlwZW9mIHIgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbDtcclxuICByZXR1cm4gbCArIHI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzU3RhdGVsZXNzKCRmaWx0ZXIsIGZpbHRlck5hbWUpIHtcclxuICB2YXIgZm4gPSAkZmlsdGVyKGZpbHRlck5hbWUpO1xyXG4gIHJldHVybiAhZm4uJHN0YXRlZnVsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdCwgJGZpbHRlcikge1xyXG4gIHZhciBhbGxDb25zdGFudHM7XHJcbiAgdmFyIGFyZ3NUb1dhdGNoO1xyXG4gIHN3aXRjaCAoYXN0LnR5cGUpIHtcclxuICBjYXNlIEFTVC5Qcm9ncmFtOlxyXG4gICAgYWxsQ29uc3RhbnRzID0gdHJ1ZTtcclxuICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhleHByLmV4cHJlc3Npb24sICRmaWx0ZXIpO1xyXG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgZXhwci5leHByZXNzaW9uLmNvbnN0YW50O1xyXG4gICAgfSk7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhbGxDb25zdGFudHM7XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5MaXRlcmFsOlxyXG4gICAgYXN0LmNvbnN0YW50ID0gdHJ1ZTtcclxuICAgIGFzdC50b1dhdGNoID0gW107XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5hcmd1bWVudCwgJGZpbHRlcik7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QuYXJndW1lbnQuY29uc3RhbnQ7XHJcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5hcmd1bWVudC50b1dhdGNoO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuQmluYXJ5RXhwcmVzc2lvbjpcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmxlZnQsICRmaWx0ZXIpO1xyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QucmlnaHQsICRmaWx0ZXIpO1xyXG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QubGVmdC50b1dhdGNoLmNvbmNhdChhc3QucmlnaHQudG9XYXRjaCk7XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5Mb2dpY2FsRXhwcmVzc2lvbjpcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmxlZnQsICRmaWx0ZXIpO1xyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QucmlnaHQsICRmaWx0ZXIpO1xyXG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QuY29uc3RhbnQgPyBbXSA6IFthc3RdO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uOlxyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QudGVzdCwgJGZpbHRlcik7XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5hbHRlcm5hdGUsICRmaWx0ZXIpO1xyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QuY29uc2VxdWVudCwgJGZpbHRlcik7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QudGVzdC5jb25zdGFudCAmJiBhc3QuYWx0ZXJuYXRlLmNvbnN0YW50ICYmIGFzdC5jb25zZXF1ZW50LmNvbnN0YW50O1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QuY29uc3RhbnQgPyBbXSA6IFthc3RdO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuSWRlbnRpZmllcjpcclxuICAgIGFzdC5jb25zdGFudCA9IGZhbHNlO1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBbYXN0XTtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5vYmplY3QsICRmaWx0ZXIpO1xyXG4gICAgaWYgKGFzdC5jb21wdXRlZCkge1xyXG4gICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5wcm9wZXJ0eSwgJGZpbHRlcik7XHJcbiAgICB9XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhc3Qub2JqZWN0LmNvbnN0YW50ICYmICghYXN0LmNvbXB1dGVkIHx8IGFzdC5wcm9wZXJ0eS5jb25zdGFudCk7XHJcbiAgICBhc3QudG9XYXRjaCA9IFthc3RdO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuQ2FsbEV4cHJlc3Npb246XHJcbiAgICBhbGxDb25zdGFudHMgPSBhc3QuZmlsdGVyID8gaXNTdGF0ZWxlc3MoJGZpbHRlciwgYXN0LmNhbGxlZS5uYW1lKSA6IGZhbHNlO1xyXG4gICAgYXJnc1RvV2F0Y2ggPSBbXTtcclxuICAgIGZvckVhY2goYXN0LmFyZ3VtZW50cywgZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGV4cHIsICRmaWx0ZXIpO1xyXG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgZXhwci5jb25zdGFudDtcclxuICAgICAgaWYgKCFleHByLmNvbnN0YW50KSB7XHJcbiAgICAgICAgYXJnc1RvV2F0Y2gucHVzaC5hcHBseShhcmdzVG9XYXRjaCwgZXhwci50b1dhdGNoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhbGxDb25zdGFudHM7XHJcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5maWx0ZXIgJiYgaXNTdGF0ZWxlc3MoJGZpbHRlciwgYXN0LmNhbGxlZS5uYW1lKSA/IGFyZ3NUb1dhdGNoIDogW2FzdF07XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbjpcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmxlZnQsICRmaWx0ZXIpO1xyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QucmlnaHQsICRmaWx0ZXIpO1xyXG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBbYXN0XTtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULkFycmF5RXhwcmVzc2lvbjpcclxuICAgIGFsbENvbnN0YW50cyA9IHRydWU7XHJcbiAgICBhcmdzVG9XYXRjaCA9IFtdO1xyXG4gICAgZm9yRWFjaChhc3QuZWxlbWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhleHByLCAkZmlsdGVyKTtcclxuICAgICAgYWxsQ29uc3RhbnRzID0gYWxsQ29uc3RhbnRzICYmIGV4cHIuY29uc3RhbnQ7XHJcbiAgICAgIGlmICghZXhwci5jb25zdGFudCkge1xyXG4gICAgICAgIGFyZ3NUb1dhdGNoLnB1c2guYXBwbHkoYXJnc1RvV2F0Y2gsIGV4cHIudG9XYXRjaCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBhcmdzVG9XYXRjaDtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULk9iamVjdEV4cHJlc3Npb246XHJcbiAgICBhbGxDb25zdGFudHMgPSB0cnVlO1xyXG4gICAgYXJnc1RvV2F0Y2ggPSBbXTtcclxuICAgIGZvckVhY2goYXN0LnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XHJcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMocHJvcGVydHkudmFsdWUsICRmaWx0ZXIpO1xyXG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgcHJvcGVydHkudmFsdWUuY29uc3RhbnQ7XHJcbiAgICAgIGlmICghcHJvcGVydHkudmFsdWUuY29uc3RhbnQpIHtcclxuICAgICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBwcm9wZXJ0eS52YWx1ZS50b1dhdGNoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhbGxDb25zdGFudHM7XHJcbiAgICBhc3QudG9XYXRjaCA9IGFyZ3NUb1dhdGNoO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuVGhpc0V4cHJlc3Npb246XHJcbiAgICBhc3QuY29uc3RhbnQgPSBmYWxzZTtcclxuICAgIGFzdC50b1dhdGNoID0gW107XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5Mb2NhbHNFeHByZXNzaW9uOlxyXG4gICAgYXN0LmNvbnN0YW50ID0gZmFsc2U7XHJcbiAgICBhc3QudG9XYXRjaCA9IFtdO1xyXG4gICAgYnJlYWs7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRJbnB1dHMoYm9keSkge1xyXG4gIGlmIChib2R5Lmxlbmd0aCAhPSAxKSByZXR1cm47XHJcbiAgdmFyIGxhc3RFeHByZXNzaW9uID0gYm9keVswXS5leHByZXNzaW9uO1xyXG4gIHZhciBjYW5kaWRhdGUgPSBsYXN0RXhwcmVzc2lvbi50b1dhdGNoO1xyXG4gIGlmIChjYW5kaWRhdGUubGVuZ3RoICE9PSAxKSByZXR1cm4gY2FuZGlkYXRlO1xyXG4gIHJldHVybiBjYW5kaWRhdGVbMF0gIT09IGxhc3RFeHByZXNzaW9uID8gY2FuZGlkYXRlIDogdW5kZWZpbmVkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0Fzc2lnbmFibGUoYXN0KSB7XHJcbiAgcmV0dXJuIGFzdC50eXBlID09PSBBU1QuSWRlbnRpZmllciB8fCBhc3QudHlwZSA9PT0gQVNULk1lbWJlckV4cHJlc3Npb247XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFzc2lnbmFibGVBU1QoYXN0KSB7XHJcbiAgaWYgKGFzdC5ib2R5Lmxlbmd0aCA9PT0gMSAmJiBpc0Fzc2lnbmFibGUoYXN0LmJvZHlbMF0uZXhwcmVzc2lvbikpIHtcclxuICAgIHJldHVybiB7dHlwZTogQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uLCBsZWZ0OiBhc3QuYm9keVswXS5leHByZXNzaW9uLCByaWdodDoge3R5cGU6IEFTVC5OR1ZhbHVlUGFyYW1ldGVyfSwgb3BlcmF0b3I6ICc9J307XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0xpdGVyYWwoYXN0KSB7XHJcbiAgcmV0dXJuIGFzdC5ib2R5Lmxlbmd0aCA9PT0gMCB8fFxyXG4gICAgICBhc3QuYm9keS5sZW5ndGggPT09IDEgJiYgKFxyXG4gICAgICBhc3QuYm9keVswXS5leHByZXNzaW9uLnR5cGUgPT09IEFTVC5MaXRlcmFsIHx8XHJcbiAgICAgIGFzdC5ib2R5WzBdLmV4cHJlc3Npb24udHlwZSA9PT0gQVNULkFycmF5RXhwcmVzc2lvbiB8fFxyXG4gICAgICBhc3QuYm9keVswXS5leHByZXNzaW9uLnR5cGUgPT09IEFTVC5PYmplY3RFeHByZXNzaW9uKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNDb25zdGFudChhc3QpIHtcclxuICByZXR1cm4gYXN0LmNvbnN0YW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBBU1RDb21waWxlcihhc3RCdWlsZGVyLCAkZmlsdGVyKSB7XHJcbiAgdGhpcy5hc3RCdWlsZGVyID0gYXN0QnVpbGRlcjtcclxuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xyXG59XHJcblxyXG5BU1RDb21waWxlci5wcm90b3R5cGUgPSB7XHJcbiAgY29tcGlsZTogZnVuY3Rpb24oZXhwcmVzc2lvbiwgZXhwZW5zaXZlQ2hlY2tzKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYXN0ID0gdGhpcy5hc3RCdWlsZGVyLmFzdChleHByZXNzaW9uKTtcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIG5leHRJZDogMCxcclxuICAgICAgZmlsdGVyczoge30sXHJcbiAgICAgIGV4cGVuc2l2ZUNoZWNrczogZXhwZW5zaXZlQ2hlY2tzLFxyXG4gICAgICBmbjoge3ZhcnM6IFtdLCBib2R5OiBbXSwgb3duOiB7fX0sXHJcbiAgICAgIGFzc2lnbjoge3ZhcnM6IFtdLCBib2R5OiBbXSwgb3duOiB7fX0sXHJcbiAgICAgIGlucHV0czogW11cclxuICAgIH07XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdCwgc2VsZi4kZmlsdGVyKTtcclxuICAgIHZhciBleHRyYSA9ICcnO1xyXG4gICAgdmFyIGFzc2lnbmFibGU7XHJcbiAgICB0aGlzLnN0YWdlID0gJ2Fzc2lnbic7XHJcbiAgICBpZiAoKGFzc2lnbmFibGUgPSBhc3NpZ25hYmxlQVNUKGFzdCkpKSB7XHJcbiAgICAgIHRoaXMuc3RhdGUuY29tcHV0aW5nID0gJ2Fzc2lnbic7XHJcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLm5leHRJZCgpO1xyXG4gICAgICB0aGlzLnJlY3Vyc2UoYXNzaWduYWJsZSwgcmVzdWx0KTtcclxuICAgICAgdGhpcy5yZXR1cm5fKHJlc3VsdCk7XHJcbiAgICAgIGV4dHJhID0gJ2ZuLmFzc2lnbj0nICsgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKCdhc3NpZ24nLCAncyx2LGwnKTtcclxuICAgIH1cclxuICAgIHZhciB0b1dhdGNoID0gZ2V0SW5wdXRzKGFzdC5ib2R5KTtcclxuICAgIHNlbGYuc3RhZ2UgPSAnaW5wdXRzJztcclxuICAgIGZvckVhY2godG9XYXRjaCwgZnVuY3Rpb24od2F0Y2gsIGtleSkge1xyXG4gICAgICB2YXIgZm5LZXkgPSAnZm4nICsga2V5O1xyXG4gICAgICBzZWxmLnN0YXRlW2ZuS2V5XSA9IHt2YXJzOiBbXSwgYm9keTogW10sIG93bjoge319O1xyXG4gICAgICBzZWxmLnN0YXRlLmNvbXB1dGluZyA9IGZuS2V5O1xyXG4gICAgICB2YXIgaW50b0lkID0gc2VsZi5uZXh0SWQoKTtcclxuICAgICAgc2VsZi5yZWN1cnNlKHdhdGNoLCBpbnRvSWQpO1xyXG4gICAgICBzZWxmLnJldHVybl8oaW50b0lkKTtcclxuICAgICAgc2VsZi5zdGF0ZS5pbnB1dHMucHVzaChmbktleSk7XHJcbiAgICAgIHdhdGNoLndhdGNoSWQgPSBrZXk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuc3RhdGUuY29tcHV0aW5nID0gJ2ZuJztcclxuICAgIHRoaXMuc3RhZ2UgPSAnbWFpbic7XHJcbiAgICB0aGlzLnJlY3Vyc2UoYXN0KTtcclxuICAgIHZhciBmblN0cmluZyA9XHJcbiAgICAgIC8vIFRoZSBidWlsZCBhbmQgbWluaWZpY2F0aW9uIHN0ZXBzIHJlbW92ZSB0aGUgc3RyaW5nIFwidXNlIHN0cmljdFwiIGZyb20gdGhlIGNvZGUsIGJ1dCB0aGlzIGlzIGRvbmUgdXNpbmcgYSByZWdleC5cclxuICAgICAgLy8gVGhpcyBpcyBhIHdvcmthcm91bmQgZm9yIHRoaXMgdW50aWwgd2UgZG8gYSBiZXR0ZXIgam9iIGF0IG9ubHkgcmVtb3ZpbmcgdGhlIHByZWZpeCBvbmx5IHdoZW4gd2Ugc2hvdWxkLlxyXG4gICAgICAnXCInICsgdGhpcy5VU0UgKyAnICcgKyB0aGlzLlNUUklDVCArICdcIjtcXG4nICtcclxuICAgICAgdGhpcy5maWx0ZXJQcmVmaXgoKSArXHJcbiAgICAgICd2YXIgZm49JyArIHRoaXMuZ2VuZXJhdGVGdW5jdGlvbignZm4nLCAncyxsLGEsaScpICtcclxuICAgICAgZXh0cmEgK1xyXG4gICAgICB0aGlzLndhdGNoRm5zKCkgK1xyXG4gICAgICAncmV0dXJuIGZuOyc7XHJcblxyXG4gICAgLyoganNoaW50IC1XMDU0ICovXHJcbiAgICB2YXIgZm4gPSAobmV3IEZ1bmN0aW9uKCckZmlsdGVyJyxcclxuICAgICAgICAnZW5zdXJlU2FmZU1lbWJlck5hbWUnLFxyXG4gICAgICAgICdlbnN1cmVTYWZlT2JqZWN0JyxcclxuICAgICAgICAnZW5zdXJlU2FmZUZ1bmN0aW9uJyxcclxuICAgICAgICAnZ2V0U3RyaW5nVmFsdWUnLFxyXG4gICAgICAgICdlbnN1cmVTYWZlQXNzaWduQ29udGV4dCcsXHJcbiAgICAgICAgJ2lmRGVmaW5lZCcsXHJcbiAgICAgICAgJ3BsdXMnLFxyXG4gICAgICAgICd0ZXh0JyxcclxuICAgICAgICBmblN0cmluZykpKFxyXG4gICAgICAgICAgdGhpcy4kZmlsdGVyLFxyXG4gICAgICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUsXHJcbiAgICAgICAgICBlbnN1cmVTYWZlT2JqZWN0LFxyXG4gICAgICAgICAgZW5zdXJlU2FmZUZ1bmN0aW9uLFxyXG4gICAgICAgICAgZ2V0U3RyaW5nVmFsdWUsXHJcbiAgICAgICAgICBlbnN1cmVTYWZlQXNzaWduQ29udGV4dCxcclxuICAgICAgICAgIGlmRGVmaW5lZCxcclxuICAgICAgICAgIHBsdXNGbixcclxuICAgICAgICAgIGV4cHJlc3Npb24pO1xyXG4gICAgLyoganNoaW50ICtXMDU0ICovXHJcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGFnZSA9IHVuZGVmaW5lZDtcclxuICAgIGZuLmxpdGVyYWwgPSBpc0xpdGVyYWwoYXN0KTtcclxuICAgIGZuLmNvbnN0YW50ID0gaXNDb25zdGFudChhc3QpO1xyXG4gICAgcmV0dXJuIGZuO1xyXG4gIH0sXHJcblxyXG4gIFVTRTogJ3VzZScsXHJcblxyXG4gIFNUUklDVDogJ3N0cmljdCcsXHJcblxyXG4gIHdhdGNoRm5zOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgIHZhciBmbnMgPSB0aGlzLnN0YXRlLmlucHV0cztcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGZvckVhY2goZm5zLCBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgIHJlc3VsdC5wdXNoKCd2YXIgJyArIG5hbWUgKyAnPScgKyBzZWxmLmdlbmVyYXRlRnVuY3Rpb24obmFtZSwgJ3MnKSk7XHJcbiAgICB9KTtcclxuICAgIGlmIChmbnMubGVuZ3RoKSB7XHJcbiAgICAgIHJlc3VsdC5wdXNoKCdmbi5pbnB1dHM9WycgKyBmbnMuam9pbignLCcpICsgJ107Jyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG4gIH0sXHJcblxyXG4gIGdlbmVyYXRlRnVuY3Rpb246IGZ1bmN0aW9uKG5hbWUsIHBhcmFtcykge1xyXG4gICAgcmV0dXJuICdmdW5jdGlvbignICsgcGFyYW1zICsgJyl7JyArXHJcbiAgICAgICAgdGhpcy52YXJzUHJlZml4KG5hbWUpICtcclxuICAgICAgICB0aGlzLmJvZHkobmFtZSkgK1xyXG4gICAgICAgICd9Oyc7XHJcbiAgfSxcclxuXHJcbiAgZmlsdGVyUHJlZml4OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBwYXJ0cyA9IFtdO1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgZm9yRWFjaCh0aGlzLnN0YXRlLmZpbHRlcnMsIGZ1bmN0aW9uKGlkLCBmaWx0ZXIpIHtcclxuICAgICAgcGFydHMucHVzaChpZCArICc9JGZpbHRlcignICsgc2VsZi5lc2NhcGUoZmlsdGVyKSArICcpJyk7XHJcbiAgICB9KTtcclxuICAgIGlmIChwYXJ0cy5sZW5ndGgpIHJldHVybiAndmFyICcgKyBwYXJ0cy5qb2luKCcsJykgKyAnOyc7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfSxcclxuXHJcbiAgdmFyc1ByZWZpeDogZnVuY3Rpb24oc2VjdGlvbikge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGVbc2VjdGlvbl0udmFycy5sZW5ndGggPyAndmFyICcgKyB0aGlzLnN0YXRlW3NlY3Rpb25dLnZhcnMuam9pbignLCcpICsgJzsnIDogJyc7XHJcbiAgfSxcclxuXHJcbiAgYm9keTogZnVuY3Rpb24oc2VjdGlvbikge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGVbc2VjdGlvbl0uYm9keS5qb2luKCcnKTtcclxuICB9LFxyXG5cclxuICByZWN1cnNlOiBmdW5jdGlvbihhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCBza2lwV2F0Y2hJZENoZWNrKSB7XHJcbiAgICB2YXIgbGVmdCwgcmlnaHQsIHNlbGYgPSB0aGlzLCBhcmdzLCBleHByZXNzaW9uO1xyXG4gICAgcmVjdXJzaW9uRm4gPSByZWN1cnNpb25GbiB8fCBub29wO1xyXG4gICAgaWYgKCFza2lwV2F0Y2hJZENoZWNrICYmIGlzRGVmaW5lZChhc3Qud2F0Y2hJZCkpIHtcclxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIHRoaXMuaWZfKCdpJyxcclxuICAgICAgICB0aGlzLmxhenlBc3NpZ24oaW50b0lkLCB0aGlzLmNvbXB1dGVkTWVtYmVyKCdpJywgYXN0LndhdGNoSWQpKSxcclxuICAgICAgICB0aGlzLmxhenlSZWN1cnNlKGFzdCwgaW50b0lkLCBuYW1lSWQsIHJlY3Vyc2lvbkZuLCBjcmVhdGUsIHRydWUpXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcclxuICAgIGNhc2UgQVNULlByb2dyYW06XHJcbiAgICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHJlc3Npb24sIHBvcykge1xyXG4gICAgICAgIHNlbGYucmVjdXJzZShleHByZXNzaW9uLmV4cHJlc3Npb24sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7IHJpZ2h0ID0gZXhwcjsgfSk7XHJcbiAgICAgICAgaWYgKHBvcyAhPT0gYXN0LmJvZHkubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgc2VsZi5jdXJyZW50KCkuYm9keS5wdXNoKHJpZ2h0LCAnOycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLnJldHVybl8ocmlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuTGl0ZXJhbDpcclxuICAgICAgZXhwcmVzc2lvbiA9IHRoaXMuZXNjYXBlKGFzdC52YWx1ZSk7XHJcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XHJcbiAgICAgIHJlY3Vyc2lvbkZuKGV4cHJlc3Npb24pO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULlVuYXJ5RXhwcmVzc2lvbjpcclxuICAgICAgdGhpcy5yZWN1cnNlKGFzdC5hcmd1bWVudCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHsgcmlnaHQgPSBleHByOyB9KTtcclxuICAgICAgZXhwcmVzc2lvbiA9IGFzdC5vcGVyYXRvciArICcoJyArIHRoaXMuaWZEZWZpbmVkKHJpZ2h0LCAwKSArICcpJztcclxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgcmVjdXJzaW9uRm4oZXhwcmVzc2lvbik7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuQmluYXJ5RXhwcmVzc2lvbjpcclxuICAgICAgdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikgeyBsZWZ0ID0gZXhwcjsgfSk7XHJcbiAgICAgIHRoaXMucmVjdXJzZShhc3QucmlnaHQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7IHJpZ2h0ID0gZXhwcjsgfSk7XHJcbiAgICAgIGlmIChhc3Qub3BlcmF0b3IgPT09ICcrJykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSB0aGlzLnBsdXMobGVmdCwgcmlnaHQpO1xyXG4gICAgICB9IGVsc2UgaWYgKGFzdC5vcGVyYXRvciA9PT0gJy0nKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXMuaWZEZWZpbmVkKGxlZnQsIDApICsgYXN0Lm9wZXJhdG9yICsgdGhpcy5pZkRlZmluZWQocmlnaHQsIDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSAnKCcgKyBsZWZ0ICsgJyknICsgYXN0Lm9wZXJhdG9yICsgJygnICsgcmlnaHQgKyAnKSc7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgcmVjdXJzaW9uRm4oZXhwcmVzc2lvbik7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuTG9naWNhbEV4cHJlc3Npb246XHJcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xyXG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0LmxlZnQsIGludG9JZCk7XHJcbiAgICAgIHNlbGYuaWZfKGFzdC5vcGVyYXRvciA9PT0gJyYmJyA/IGludG9JZCA6IHNlbGYubm90KGludG9JZCksIHNlbGYubGF6eVJlY3Vyc2UoYXN0LnJpZ2h0LCBpbnRvSWQpKTtcclxuICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb246XHJcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xyXG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0LnRlc3QsIGludG9JZCk7XHJcbiAgICAgIHNlbGYuaWZfKGludG9JZCwgc2VsZi5sYXp5UmVjdXJzZShhc3QuYWx0ZXJuYXRlLCBpbnRvSWQpLCBzZWxmLmxhenlSZWN1cnNlKGFzdC5jb25zZXF1ZW50LCBpbnRvSWQpKTtcclxuICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5JZGVudGlmaWVyOlxyXG4gICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcclxuICAgICAgaWYgKG5hbWVJZCkge1xyXG4gICAgICAgIG5hbWVJZC5jb250ZXh0ID0gc2VsZi5zdGFnZSA9PT0gJ2lucHV0cycgPyAncycgOiB0aGlzLmFzc2lnbih0aGlzLm5leHRJZCgpLCB0aGlzLmdldEhhc093blByb3BlcnR5KCdsJywgYXN0Lm5hbWUpICsgJz9sOnMnKTtcclxuICAgICAgICBuYW1lSWQuY29tcHV0ZWQgPSBmYWxzZTtcclxuICAgICAgICBuYW1lSWQubmFtZSA9IGFzdC5uYW1lO1xyXG4gICAgICB9XHJcbiAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGFzdC5uYW1lKTtcclxuICAgICAgc2VsZi5pZl8oc2VsZi5zdGFnZSA9PT0gJ2lucHV0cycgfHwgc2VsZi5ub3Qoc2VsZi5nZXRIYXNPd25Qcm9wZXJ0eSgnbCcsIGFzdC5uYW1lKSksXHJcbiAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLmlmXyhzZWxmLnN0YWdlID09PSAnaW5wdXRzJyB8fCAncycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgIHNlbGYuaWZfKFxyXG4gICAgICAgICAgICAgICAgc2VsZi5ub3Qoc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSksXHJcbiAgICAgICAgICAgICAgICBzZWxmLmxhenlBc3NpZ24oc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSwgJ3t9JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9LCBpbnRvSWQgJiYgc2VsZi5sYXp5QXNzaWduKGludG9JZCwgc2VsZi5ub25Db21wdXRlZE1lbWJlcignbCcsIGFzdC5uYW1lKSlcclxuICAgICAgICApO1xyXG4gICAgICBpZiAoc2VsZi5zdGF0ZS5leHBlbnNpdmVDaGVja3MgfHwgaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUoYXN0Lm5hbWUpKSB7XHJcbiAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlT2JqZWN0KGludG9JZCk7XHJcbiAgICAgIH1cclxuICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5NZW1iZXJFeHByZXNzaW9uOlxyXG4gICAgICBsZWZ0ID0gbmFtZUlkICYmIChuYW1lSWQuY29udGV4dCA9IHRoaXMubmV4dElkKCkpIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xyXG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0Lm9iamVjdCwgbGVmdCwgdW5kZWZpbmVkLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdE51bGwobGVmdCksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcclxuICAgICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dChsZWZ0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChhc3QuY29tcHV0ZWQpIHtcclxuICAgICAgICAgICAgcmlnaHQgPSBzZWxmLm5leHRJZCgpO1xyXG4gICAgICAgICAgICBzZWxmLnJlY3Vyc2UoYXN0LnByb3BlcnR5LCByaWdodCk7XHJcbiAgICAgICAgICAgIHNlbGYuZ2V0U3RyaW5nVmFsdWUocmlnaHQpO1xyXG4gICAgICAgICAgICBzZWxmLmFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lKHJpZ2h0KTtcclxuICAgICAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcclxuICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdChzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSksIHNlbGYubGF6eUFzc2lnbihzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSwgJ3t9JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLmVuc3VyZVNhZmVPYmplY3Qoc2VsZi5jb21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCkpO1xyXG4gICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICBpZiAobmFtZUlkKSB7XHJcbiAgICAgICAgICAgICAgbmFtZUlkLmNvbXB1dGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBuYW1lSWQubmFtZSA9IHJpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbnN1cmVTYWZlTWVtYmVyTmFtZShhc3QucHJvcGVydHkubmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5pZl8oc2VsZi5ub3Qoc2VsZi5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCBhc3QucHJvcGVydHkubmFtZSkpLCBzZWxmLmxhenlBc3NpZ24oc2VsZi5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCBhc3QucHJvcGVydHkubmFtZSksICd7fScpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCBhc3QucHJvcGVydHkubmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLnN0YXRlLmV4cGVuc2l2ZUNoZWNrcyB8fCBpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZShhc3QucHJvcGVydHkubmFtZSkpIHtcclxuICAgICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5lbnN1cmVTYWZlT2JqZWN0KGV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgIGlmIChuYW1lSWQpIHtcclxuICAgICAgICAgICAgICBuYW1lSWQuY29tcHV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBuYW1lSWQubmFtZSA9IGFzdC5wcm9wZXJ0eS5uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsICd1bmRlZmluZWQnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xyXG4gICAgICB9LCAhIWNyZWF0ZSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuQ2FsbEV4cHJlc3Npb246XHJcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xyXG4gICAgICBpZiAoYXN0LmZpbHRlcikge1xyXG4gICAgICAgIHJpZ2h0ID0gc2VsZi5maWx0ZXIoYXN0LmNhbGxlZS5uYW1lKTtcclxuICAgICAgICBhcmdzID0gW107XHJcbiAgICAgICAgZm9yRWFjaChhc3QuYXJndW1lbnRzLCBmdW5jdGlvbihleHByKSB7XHJcbiAgICAgICAgICB2YXIgYXJndW1lbnQgPSBzZWxmLm5leHRJZCgpO1xyXG4gICAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHIsIGFyZ3VtZW50KTtcclxuICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IHJpZ2h0ICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XHJcbiAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJpZ2h0ID0gc2VsZi5uZXh0SWQoKTtcclxuICAgICAgICBsZWZ0ID0ge307XHJcbiAgICAgICAgYXJncyA9IFtdO1xyXG4gICAgICAgIHNlbGYucmVjdXJzZShhc3QuY2FsbGVlLCByaWdodCwgbGVmdCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdE51bGwocmlnaHQpLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlRnVuY3Rpb24ocmlnaHQpO1xyXG4gICAgICAgICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgICAgICAgICBzZWxmLnJlY3Vyc2UoZXhwciwgc2VsZi5uZXh0SWQoKSwgdW5kZWZpbmVkLCBmdW5jdGlvbihhcmd1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKHNlbGYuZW5zdXJlU2FmZU9iamVjdChhcmd1bWVudCkpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGxlZnQubmFtZSkge1xyXG4gICAgICAgICAgICAgIGlmICghc2VsZi5zdGF0ZS5leHBlbnNpdmVDaGVja3MpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuYWRkRW5zdXJlU2FmZU9iamVjdChsZWZ0LmNvbnRleHQpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5tZW1iZXIobGVmdC5jb250ZXh0LCBsZWZ0Lm5hbWUsIGxlZnQuY29tcHV0ZWQpICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHJpZ2h0ICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYuZW5zdXJlU2FmZU9iamVjdChleHByZXNzaW9uKTtcclxuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsICd1bmRlZmluZWQnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uOlxyXG4gICAgICByaWdodCA9IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIGxlZnQgPSB7fTtcclxuICAgICAgaWYgKCFpc0Fzc2lnbmFibGUoYXN0LmxlZnQpKSB7XHJcbiAgICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdsdmFsJywgJ1RyeWluZyB0byBhc3NpZ24gYSB2YWx1ZSB0byBhIG5vbiBsLXZhbHVlJyk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB1bmRlZmluZWQsIGxlZnQsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChsZWZ0LmNvbnRleHQpLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYucmVjdXJzZShhc3QucmlnaHQsIHJpZ2h0KTtcclxuICAgICAgICAgIHNlbGYuYWRkRW5zdXJlU2FmZU9iamVjdChzZWxmLm1lbWJlcihsZWZ0LmNvbnRleHQsIGxlZnQubmFtZSwgbGVmdC5jb21wdXRlZCkpO1xyXG4gICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dChsZWZ0LmNvbnRleHQpO1xyXG4gICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYubWVtYmVyKGxlZnQuY29udGV4dCwgbGVmdC5uYW1lLCBsZWZ0LmNvbXB1dGVkKSArIGFzdC5vcGVyYXRvciArIHJpZ2h0O1xyXG4gICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCBleHByZXNzaW9uKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSwgMSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxyXG4gICAgICBhcmdzID0gW107XHJcbiAgICAgIGZvckVhY2goYXN0LmVsZW1lbnRzLCBmdW5jdGlvbihleHByKSB7XHJcbiAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHIsIHNlbGYubmV4dElkKCksIHVuZGVmaW5lZCwgZnVuY3Rpb24oYXJndW1lbnQpIHtcclxuICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBleHByZXNzaW9uID0gJ1snICsgYXJncy5qb2luKCcsJykgKyAnXSc7XHJcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XHJcbiAgICAgIHJlY3Vyc2lvbkZuKGV4cHJlc3Npb24pO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULk9iamVjdEV4cHJlc3Npb246XHJcbiAgICAgIGFyZ3MgPSBbXTtcclxuICAgICAgZm9yRWFjaChhc3QucHJvcGVydGllcywgZnVuY3Rpb24ocHJvcGVydHkpIHtcclxuICAgICAgICBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUsIHNlbGYubmV4dElkKCksIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICAgICAgYXJncy5wdXNoKHNlbGYuZXNjYXBlKFxyXG4gICAgICAgICAgICAgIHByb3BlcnR5LmtleS50eXBlID09PSBBU1QuSWRlbnRpZmllciA/IHByb3BlcnR5LmtleS5uYW1lIDpcclxuICAgICAgICAgICAgICAgICgnJyArIHByb3BlcnR5LmtleS52YWx1ZSkpICtcclxuICAgICAgICAgICAgICAnOicgKyBleHByKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICAgIGV4cHJlc3Npb24gPSAneycgKyBhcmdzLmpvaW4oJywnKSArICd9JztcclxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgcmVjdXJzaW9uRm4oZXhwcmVzc2lvbik7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuVGhpc0V4cHJlc3Npb246XHJcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgJ3MnKTtcclxuICAgICAgcmVjdXJzaW9uRm4oJ3MnKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5Mb2NhbHNFeHByZXNzaW9uOlxyXG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsICdsJyk7XHJcbiAgICAgIHJlY3Vyc2lvbkZuKCdsJyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuTkdWYWx1ZVBhcmFtZXRlcjpcclxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCAndicpO1xyXG4gICAgICByZWN1cnNpb25GbigndicpO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBnZXRIYXNPd25Qcm9wZXJ0eTogZnVuY3Rpb24oZWxlbWVudCwgcHJvcGVydHkpIHtcclxuICAgIHZhciBrZXkgPSBlbGVtZW50ICsgJy4nICsgcHJvcGVydHk7XHJcbiAgICB2YXIgb3duID0gdGhpcy5jdXJyZW50KCkub3duO1xyXG4gICAgaWYgKCFvd24uaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICBvd25ba2V5XSA9IHRoaXMubmV4dElkKGZhbHNlLCBlbGVtZW50ICsgJyYmKCcgKyB0aGlzLmVzY2FwZShwcm9wZXJ0eSkgKyAnIGluICcgKyBlbGVtZW50ICsgJyknKTtcclxuICAgIH1cclxuICAgIHJldHVybiBvd25ba2V5XTtcclxuICB9LFxyXG5cclxuICBhc3NpZ246IGZ1bmN0aW9uKGlkLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFpZCkgcmV0dXJuO1xyXG4gICAgdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKGlkLCAnPScsIHZhbHVlLCAnOycpO1xyXG4gICAgcmV0dXJuIGlkO1xyXG4gIH0sXHJcblxyXG4gIGZpbHRlcjogZnVuY3Rpb24oZmlsdGVyTmFtZSkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmZpbHRlcnMuaGFzT3duUHJvcGVydHkoZmlsdGVyTmFtZSkpIHtcclxuICAgICAgdGhpcy5zdGF0ZS5maWx0ZXJzW2ZpbHRlck5hbWVdID0gdGhpcy5uZXh0SWQodHJ1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5maWx0ZXJzW2ZpbHRlck5hbWVdO1xyXG4gIH0sXHJcblxyXG4gIGlmRGVmaW5lZDogZnVuY3Rpb24oaWQsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgcmV0dXJuICdpZkRlZmluZWQoJyArIGlkICsgJywnICsgdGhpcy5lc2NhcGUoZGVmYXVsdFZhbHVlKSArICcpJztcclxuICB9LFxyXG5cclxuICBwbHVzOiBmdW5jdGlvbihsZWZ0LCByaWdodCkge1xyXG4gICAgcmV0dXJuICdwbHVzKCcgKyBsZWZ0ICsgJywnICsgcmlnaHQgKyAnKSc7XHJcbiAgfSxcclxuXHJcbiAgcmV0dXJuXzogZnVuY3Rpb24oaWQpIHtcclxuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCgncmV0dXJuICcsIGlkLCAnOycpO1xyXG4gIH0sXHJcblxyXG4gIGlmXzogZnVuY3Rpb24odGVzdCwgYWx0ZXJuYXRlLCBjb25zZXF1ZW50KSB7XHJcbiAgICBpZiAodGVzdCA9PT0gdHJ1ZSkge1xyXG4gICAgICBhbHRlcm5hdGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBib2R5ID0gdGhpcy5jdXJyZW50KCkuYm9keTtcclxuICAgICAgYm9keS5wdXNoKCdpZignLCB0ZXN0LCAnKXsnKTtcclxuICAgICAgYWx0ZXJuYXRlKCk7XHJcbiAgICAgIGJvZHkucHVzaCgnfScpO1xyXG4gICAgICBpZiAoY29uc2VxdWVudCkge1xyXG4gICAgICAgIGJvZHkucHVzaCgnZWxzZXsnKTtcclxuICAgICAgICBjb25zZXF1ZW50KCk7XHJcbiAgICAgICAgYm9keS5wdXNoKCd9Jyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICBub3Q6IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcclxuICAgIHJldHVybiAnISgnICsgZXhwcmVzc2lvbiArICcpJztcclxuICB9LFxyXG5cclxuICBub3ROdWxsOiBmdW5jdGlvbihleHByZXNzaW9uKSB7XHJcbiAgICByZXR1cm4gZXhwcmVzc2lvbiArICchPW51bGwnO1xyXG4gIH0sXHJcblxyXG4gIG5vbkNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCkge1xyXG4gICAgdmFyIFNBRkVfSURFTlRJRklFUiA9IC9bJF9hLXpBLVpdWyRfYS16QS1aMC05XSovO1xyXG4gICAgdmFyIFVOU0FGRV9DSEFSQUNURVJTID0gL1teJF9hLXpBLVowLTldL2c7XHJcbiAgICBpZiAoU0FGRV9JREVOVElGSUVSLnRlc3QocmlnaHQpKSB7XHJcbiAgICAgIHJldHVybiBsZWZ0ICsgJy4nICsgcmlnaHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbGVmdCAgKyAnW1wiJyArIHJpZ2h0LnJlcGxhY2UoVU5TQUZFX0NIQVJBQ1RFUlMsIHRoaXMuc3RyaW5nRXNjYXBlRm4pICsgJ1wiXSc7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgY29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XHJcbiAgICByZXR1cm4gbGVmdCArICdbJyArIHJpZ2h0ICsgJ10nO1xyXG4gIH0sXHJcblxyXG4gIG1lbWJlcjogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbXB1dGVkKSB7XHJcbiAgICBpZiAoY29tcHV0ZWQpIHJldHVybiB0aGlzLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KTtcclxuICAgIHJldHVybiB0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KTtcclxuICB9LFxyXG5cclxuICBhZGRFbnN1cmVTYWZlT2JqZWN0OiBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlT2JqZWN0KGl0ZW0pLCAnOycpO1xyXG4gIH0sXHJcblxyXG4gIGFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lOiBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlTWVtYmVyTmFtZShpdGVtKSwgJzsnKTtcclxuICB9LFxyXG5cclxuICBhZGRFbnN1cmVTYWZlRnVuY3Rpb246IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVGdW5jdGlvbihpdGVtKSwgJzsnKTtcclxuICB9LFxyXG5cclxuICBhZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dDogZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoaXRlbSksICc7Jyk7XHJcbiAgfSxcclxuXHJcbiAgZW5zdXJlU2FmZU9iamVjdDogZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgcmV0dXJuICdlbnN1cmVTYWZlT2JqZWN0KCcgKyBpdGVtICsgJyx0ZXh0KSc7XHJcbiAgfSxcclxuXHJcbiAgZW5zdXJlU2FmZU1lbWJlck5hbWU6IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIHJldHVybiAnZW5zdXJlU2FmZU1lbWJlck5hbWUoJyArIGl0ZW0gKyAnLHRleHQpJztcclxuICB9LFxyXG5cclxuICBlbnN1cmVTYWZlRnVuY3Rpb246IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIHJldHVybiAnZW5zdXJlU2FmZUZ1bmN0aW9uKCcgKyBpdGVtICsgJyx0ZXh0KSc7XHJcbiAgfSxcclxuXHJcbiAgZ2V0U3RyaW5nVmFsdWU6IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIHRoaXMuYXNzaWduKGl0ZW0sICdnZXRTdHJpbmdWYWx1ZSgnICsgaXRlbSArICcpJyk7XHJcbiAgfSxcclxuXHJcbiAgZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQ6IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIHJldHVybiAnZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoJyArIGl0ZW0gKyAnLHRleHQpJztcclxuICB9LFxyXG5cclxuICBsYXp5UmVjdXJzZTogZnVuY3Rpb24oYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgc2tpcFdhdGNoSWRDaGVjaykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgc2tpcFdhdGNoSWRDaGVjayk7XHJcbiAgICB9O1xyXG4gIH0sXHJcblxyXG4gIGxhenlBc3NpZ246IGZ1bmN0aW9uKGlkLCB2YWx1ZSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZWxmLmFzc2lnbihpZCwgdmFsdWUpO1xyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICBzdHJpbmdFc2NhcGVSZWdleDogL1teIGEtekEtWjAtOV0vZyxcclxuXHJcbiAgc3RyaW5nRXNjYXBlRm46IGZ1bmN0aW9uKGMpIHtcclxuICAgIHJldHVybiAnXFxcXHUnICsgKCcwMDAwJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTtcclxuICB9LFxyXG5cclxuICBlc2NhcGU6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSByZXR1cm4gXCInXCIgKyB2YWx1ZS5yZXBsYWNlKHRoaXMuc3RyaW5nRXNjYXBlUmVnZXgsIHRoaXMuc3RyaW5nRXNjYXBlRm4pICsgXCInXCI7XHJcbiAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkgcmV0dXJuICd0cnVlJztcclxuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHJldHVybiAnZmFsc2UnO1xyXG4gICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiAndW5kZWZpbmVkJztcclxuXHJcbiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2VzYycsICdJTVBPU1NJQkxFJyk7XHJcbiAgfSxcclxuXHJcbiAgbmV4dElkOiBmdW5jdGlvbihza2lwLCBpbml0KSB7XHJcbiAgICB2YXIgaWQgPSAndicgKyAodGhpcy5zdGF0ZS5uZXh0SWQrKyk7XHJcbiAgICBpZiAoIXNraXApIHtcclxuICAgICAgdGhpcy5jdXJyZW50KCkudmFycy5wdXNoKGlkICsgKGluaXQgPyAnPScgKyBpbml0IDogJycpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpZDtcclxuICB9LFxyXG5cclxuICBjdXJyZW50OiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLnN0YXRlW3RoaXMuc3RhdGUuY29tcHV0aW5nXTtcclxuICB9XHJcbn07XHJcblxyXG5cclxuZnVuY3Rpb24gQVNUSW50ZXJwcmV0ZXIoYXN0QnVpbGRlciwgJGZpbHRlcikge1xyXG4gIHRoaXMuYXN0QnVpbGRlciA9IGFzdEJ1aWxkZXI7XHJcbiAgdGhpcy4kZmlsdGVyID0gJGZpbHRlcjtcclxufVxyXG5cclxuQVNUSW50ZXJwcmV0ZXIucHJvdG90eXBlID0ge1xyXG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGV4cHJlc3Npb24sIGV4cGVuc2l2ZUNoZWNrcykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGFzdCA9IHRoaXMuYXN0QnVpbGRlci5hc3QoZXhwcmVzc2lvbik7XHJcbiAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xyXG4gICAgdGhpcy5leHBlbnNpdmVDaGVja3MgPSBleHBlbnNpdmVDaGVja3M7XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdCwgc2VsZi4kZmlsdGVyKTtcclxuICAgIHZhciBhc3NpZ25hYmxlO1xyXG4gICAgdmFyIGFzc2lnbjtcclxuICAgIGlmICgoYXNzaWduYWJsZSA9IGFzc2lnbmFibGVBU1QoYXN0KSkpIHtcclxuICAgICAgYXNzaWduID0gdGhpcy5yZWN1cnNlKGFzc2lnbmFibGUpO1xyXG4gICAgfVxyXG4gICAgdmFyIHRvV2F0Y2ggPSBnZXRJbnB1dHMoYXN0LmJvZHkpO1xyXG4gICAgdmFyIGlucHV0cztcclxuICAgIGlmICh0b1dhdGNoKSB7XHJcbiAgICAgIGlucHV0cyA9IFtdO1xyXG4gICAgICBmb3JFYWNoKHRvV2F0Y2gsIGZ1bmN0aW9uKHdhdGNoLCBrZXkpIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSBzZWxmLnJlY3Vyc2Uod2F0Y2gpO1xyXG4gICAgICAgIHdhdGNoLmlucHV0ID0gaW5wdXQ7XHJcbiAgICAgICAgaW5wdXRzLnB1c2goaW5wdXQpO1xyXG4gICAgICAgIHdhdGNoLndhdGNoSWQgPSBrZXk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdmFyIGV4cHJlc3Npb25zID0gW107XHJcbiAgICBmb3JFYWNoKGFzdC5ib2R5LCBmdW5jdGlvbihleHByZXNzaW9uKSB7XHJcbiAgICAgIGV4cHJlc3Npb25zLnB1c2goc2VsZi5yZWN1cnNlKGV4cHJlc3Npb24uZXhwcmVzc2lvbikpO1xyXG4gICAgfSk7XHJcbiAgICB2YXIgZm4gPSBhc3QuYm9keS5sZW5ndGggPT09IDAgPyBub29wIDpcclxuICAgICAgICAgICAgIGFzdC5ib2R5Lmxlbmd0aCA9PT0gMSA/IGV4cHJlc3Npb25zWzBdIDpcclxuICAgICAgICAgICAgIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMpIHtcclxuICAgICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZTtcclxuICAgICAgICAgICAgICAgZm9yRWFjaChleHByZXNzaW9ucywgZnVuY3Rpb24oZXhwKSB7XHJcbiAgICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gZXhwKHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RWYWx1ZTtcclxuICAgICAgICAgICAgIH07XHJcbiAgICBpZiAoYXNzaWduKSB7XHJcbiAgICAgIGZuLmFzc2lnbiA9IGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzKSB7XHJcbiAgICAgICAgcmV0dXJuIGFzc2lnbihzY29wZSwgbG9jYWxzLCB2YWx1ZSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBpZiAoaW5wdXRzKSB7XHJcbiAgICAgIGZuLmlucHV0cyA9IGlucHV0cztcclxuICAgIH1cclxuICAgIGZuLmxpdGVyYWwgPSBpc0xpdGVyYWwoYXN0KTtcclxuICAgIGZuLmNvbnN0YW50ID0gaXNDb25zdGFudChhc3QpO1xyXG4gICAgcmV0dXJuIGZuO1xyXG4gIH0sXHJcblxyXG4gIHJlY3Vyc2U6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCwgY3JlYXRlKSB7XHJcbiAgICB2YXIgbGVmdCwgcmlnaHQsIHNlbGYgPSB0aGlzLCBhcmdzLCBleHByZXNzaW9uO1xyXG4gICAgaWYgKGFzdC5pbnB1dCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5pbnB1dHMoYXN0LmlucHV0LCBhc3Qud2F0Y2hJZCk7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKGFzdC50eXBlKSB7XHJcbiAgICBjYXNlIEFTVC5MaXRlcmFsOlxyXG4gICAgICByZXR1cm4gdGhpcy52YWx1ZShhc3QudmFsdWUsIGNvbnRleHQpO1xyXG4gICAgY2FzZSBBU1QuVW5hcnlFeHByZXNzaW9uOlxyXG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuYXJndW1lbnQpO1xyXG4gICAgICByZXR1cm4gdGhpc1sndW5hcnknICsgYXN0Lm9wZXJhdG9yXShyaWdodCwgY29udGV4dCk7XHJcbiAgICBjYXNlIEFTVC5CaW5hcnlFeHByZXNzaW9uOlxyXG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0KTtcclxuICAgICAgcmlnaHQgPSB0aGlzLnJlY3Vyc2UoYXN0LnJpZ2h0KTtcclxuICAgICAgcmV0dXJuIHRoaXNbJ2JpbmFyeScgKyBhc3Qub3BlcmF0b3JdKGxlZnQsIHJpZ2h0LCBjb250ZXh0KTtcclxuICAgIGNhc2UgQVNULkxvZ2ljYWxFeHByZXNzaW9uOlxyXG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0KTtcclxuICAgICAgcmlnaHQgPSB0aGlzLnJlY3Vyc2UoYXN0LnJpZ2h0KTtcclxuICAgICAgcmV0dXJuIHRoaXNbJ2JpbmFyeScgKyBhc3Qub3BlcmF0b3JdKGxlZnQsIHJpZ2h0LCBjb250ZXh0KTtcclxuICAgIGNhc2UgQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpcclxuICAgICAgcmV0dXJuIHRoaXNbJ3Rlcm5hcnk/OiddKFxyXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QudGVzdCksXHJcbiAgICAgICAgdGhpcy5yZWN1cnNlKGFzdC5hbHRlcm5hdGUpLFxyXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QuY29uc2VxdWVudCksXHJcbiAgICAgICAgY29udGV4dFxyXG4gICAgICApO1xyXG4gICAgY2FzZSBBU1QuSWRlbnRpZmllcjpcclxuICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUoYXN0Lm5hbWUsIHNlbGYuZXhwcmVzc2lvbik7XHJcbiAgICAgIHJldHVybiBzZWxmLmlkZW50aWZpZXIoYXN0Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5leHBlbnNpdmVDaGVja3MgfHwgaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUoYXN0Lm5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsIGNyZWF0ZSwgc2VsZi5leHByZXNzaW9uKTtcclxuICAgIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XHJcbiAgICAgIGxlZnQgPSB0aGlzLnJlY3Vyc2UoYXN0Lm9iamVjdCwgZmFsc2UsICEhY3JlYXRlKTtcclxuICAgICAgaWYgKCFhc3QuY29tcHV0ZWQpIHtcclxuICAgICAgICBlbnN1cmVTYWZlTWVtYmVyTmFtZShhc3QucHJvcGVydHkubmFtZSwgc2VsZi5leHByZXNzaW9uKTtcclxuICAgICAgICByaWdodCA9IGFzdC5wcm9wZXJ0eS5uYW1lO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChhc3QuY29tcHV0ZWQpIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5wcm9wZXJ0eSk7XHJcbiAgICAgIHJldHVybiBhc3QuY29tcHV0ZWQgP1xyXG4gICAgICAgIHRoaXMuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQsIGNvbnRleHQsIGNyZWF0ZSwgc2VsZi5leHByZXNzaW9uKSA6XHJcbiAgICAgICAgdGhpcy5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCwgc2VsZi5leHBlbnNpdmVDaGVja3MsIGNvbnRleHQsIGNyZWF0ZSwgc2VsZi5leHByZXNzaW9uKTtcclxuICAgIGNhc2UgQVNULkNhbGxFeHByZXNzaW9uOlxyXG4gICAgICBhcmdzID0gW107XHJcbiAgICAgIGZvckVhY2goYXN0LmFyZ3VtZW50cywgZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICAgIGFyZ3MucHVzaChzZWxmLnJlY3Vyc2UoZXhwcikpO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKGFzdC5maWx0ZXIpIHJpZ2h0ID0gdGhpcy4kZmlsdGVyKGFzdC5jYWxsZWUubmFtZSk7XHJcbiAgICAgIGlmICghYXN0LmZpbHRlcikgcmlnaHQgPSB0aGlzLnJlY3Vyc2UoYXN0LmNhbGxlZSwgdHJ1ZSk7XHJcbiAgICAgIHJldHVybiBhc3QuZmlsdGVyID9cclxuICAgICAgICBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKGFyZ3NbaV0oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhciB2YWx1ZSA9IHJpZ2h0LmFwcGx5KHVuZGVmaW5lZCwgdmFsdWVzLCBpbnB1dHMpO1xyXG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7Y29udGV4dDogdW5kZWZpbmVkLCBuYW1lOiB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX0gOiB2YWx1ZTtcclxuICAgICAgICB9IDpcclxuICAgICAgICBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgICAgdmFyIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICAgIHZhciB2YWx1ZTtcclxuICAgICAgICAgIGlmIChyaHMudmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBlbnN1cmVTYWZlT2JqZWN0KHJocy5jb250ZXh0LCBzZWxmLmV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICBlbnN1cmVTYWZlRnVuY3Rpb24ocmhzLnZhbHVlLCBzZWxmLmV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGVuc3VyZVNhZmVPYmplY3QoYXJnc1tpXShzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyksIHNlbGYuZXhwcmVzc2lvbikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhbHVlID0gZW5zdXJlU2FmZU9iamVjdChyaHMudmFsdWUuYXBwbHkocmhzLmNvbnRleHQsIHZhbHVlcyksIHNlbGYuZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgIGNhc2UgQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uOlxyXG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB0cnVlLCAxKTtcclxuICAgICAgcmlnaHQgPSB0aGlzLnJlY3Vyc2UoYXN0LnJpZ2h0KTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgZW5zdXJlU2FmZU9iamVjdChsaHMudmFsdWUsIHNlbGYuZXhwcmVzc2lvbik7XHJcbiAgICAgICAgZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQobGhzLmNvbnRleHQpO1xyXG4gICAgICAgIGxocy5jb250ZXh0W2xocy5uYW1lXSA9IHJocztcclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogcmhzfSA6IHJocztcclxuICAgICAgfTtcclxuICAgIGNhc2UgQVNULkFycmF5RXhwcmVzc2lvbjpcclxuICAgICAgYXJncyA9IFtdO1xyXG4gICAgICBmb3JFYWNoKGFzdC5lbGVtZW50cywgZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICAgIGFyZ3MucHVzaChzZWxmLnJlY3Vyc2UoZXhwcikpO1xyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICB2YWx1ZS5wdXNoKGFyZ3NbaV0oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IHZhbHVlfSA6IHZhbHVlO1xyXG4gICAgICB9O1xyXG4gICAgY2FzZSBBU1QuT2JqZWN0RXhwcmVzc2lvbjpcclxuICAgICAgYXJncyA9IFtdO1xyXG4gICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xyXG4gICAgICAgIGFyZ3MucHVzaCh7a2V5OiBwcm9wZXJ0eS5rZXkudHlwZSA9PT0gQVNULklkZW50aWZpZXIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5rZXkubmFtZSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgnJyArIHByb3BlcnR5LmtleS52YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICB2YWx1ZTogc2VsZi5yZWN1cnNlKHByb3BlcnR5LnZhbHVlKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0ge307XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICB2YWx1ZVthcmdzW2ldLmtleV0gPSBhcmdzW2ldLnZhbHVlKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IHZhbHVlfSA6IHZhbHVlO1xyXG4gICAgICB9O1xyXG4gICAgY2FzZSBBU1QuVGhpc0V4cHJlc3Npb246XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkge1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBzY29wZX0gOiBzY29wZTtcclxuICAgICAgfTtcclxuICAgIGNhc2UgQVNULkxvY2Fsc0V4cHJlc3Npb246XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGxvY2Fsc30gOiBsb2NhbHM7XHJcbiAgICAgIH07XHJcbiAgICBjYXNlIEFTVC5OR1ZhbHVlUGFyYW1ldGVyOlxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFzc2lnbn0gOiBhc3NpZ247XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgJ3VuYXJ5Kyc6IGZ1bmN0aW9uKGFyZ3VtZW50LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgaWYgKGlzRGVmaW5lZChhcmcpKSB7XHJcbiAgICAgICAgYXJnID0gK2FyZztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcmcgPSAwO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICd1bmFyeS0nOiBmdW5jdGlvbihhcmd1bWVudCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIGlmIChpc0RlZmluZWQoYXJnKSkge1xyXG4gICAgICAgIGFyZyA9IC1hcmc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXJnID0gMDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAndW5hcnkhJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gIWFyZ3VtZW50KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeSsnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgdmFyIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgdmFyIGFyZyA9IHBsdXNGbihsaHMsIHJocyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnktJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgbGhzID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHZhciBhcmcgPSAoaXNEZWZpbmVkKGxocykgPyBsaHMgOiAwKSAtIChpc0RlZmluZWQocmhzKSA/IHJocyA6IDApO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5Kic6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICogcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5Lyc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIC8gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5JSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICUgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5PT09JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPT09IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeSE9PSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICE9PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnk9PSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID09IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeSE9JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgIT0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5PCc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIDwgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5Pic6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID4gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5PD0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA8PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnk+PSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID49IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeSYmJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgJiYgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5fHwnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB8fCByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICd0ZXJuYXJ5PzonOiBmdW5jdGlvbih0ZXN0LCBhbHRlcm5hdGUsIGNvbnNlcXVlbnQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gdGVzdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPyBhbHRlcm5hdGUoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIDogY29uc2VxdWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gIHZhbHVlOiBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udGV4dCA/IHtjb250ZXh0OiB1bmRlZmluZWQsIG5hbWU6IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfSA6IHZhbHVlOyB9O1xyXG4gIH0sXHJcbiAgaWRlbnRpZmllcjogZnVuY3Rpb24obmFtZSwgZXhwZW5zaXZlQ2hlY2tzLCBjb250ZXh0LCBjcmVhdGUsIGV4cHJlc3Npb24pIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYmFzZSA9IGxvY2FscyAmJiAobmFtZSBpbiBsb2NhbHMpID8gbG9jYWxzIDogc2NvcGU7XHJcbiAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxICYmIGJhc2UgJiYgIShiYXNlW25hbWVdKSkge1xyXG4gICAgICAgIGJhc2VbbmFtZV0gPSB7fTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgdmFsdWUgPSBiYXNlID8gYmFzZVtuYW1lXSA6IHVuZGVmaW5lZDtcclxuICAgICAgaWYgKGV4cGVuc2l2ZUNoZWNrcykge1xyXG4gICAgICAgIGVuc3VyZVNhZmVPYmplY3QodmFsdWUsIGV4cHJlc3Npb24pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChjb250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBiYXNlLCBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LFxyXG4gIGNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCwgY3JlYXRlLCBleHByZXNzaW9uKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICB2YXIgcmhzO1xyXG4gICAgICB2YXIgdmFsdWU7XHJcbiAgICAgIGlmIChsaHMgIT0gbnVsbCkge1xyXG4gICAgICAgIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICByaHMgPSBnZXRTdHJpbmdWYWx1ZShyaHMpO1xyXG4gICAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKHJocywgZXhwcmVzc2lvbik7XHJcbiAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcclxuICAgICAgICAgIGVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KGxocyk7XHJcbiAgICAgICAgICBpZiAobGhzICYmICEobGhzW3Joc10pKSB7XHJcbiAgICAgICAgICAgIGxoc1tyaHNdID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhbHVlID0gbGhzW3Joc107XHJcbiAgICAgICAgZW5zdXJlU2FmZU9iamVjdCh2YWx1ZSwgZXhwcmVzc2lvbik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4ge2NvbnRleHQ6IGxocywgbmFtZTogcmhzLCB2YWx1ZTogdmFsdWV9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LFxyXG4gIG5vbkNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgZXhwZW5zaXZlQ2hlY2tzLCBjb250ZXh0LCBjcmVhdGUsIGV4cHJlc3Npb24pIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgbGhzID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxKSB7XHJcbiAgICAgICAgZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQobGhzKTtcclxuICAgICAgICBpZiAobGhzICYmICEobGhzW3JpZ2h0XSkpIHtcclxuICAgICAgICAgIGxoc1tyaWdodF0gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHZhbHVlID0gbGhzICE9IG51bGwgPyBsaHNbcmlnaHRdIDogdW5kZWZpbmVkO1xyXG4gICAgICBpZiAoZXhwZW5zaXZlQ2hlY2tzIHx8IGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKHJpZ2h0KSkge1xyXG4gICAgICAgIGVuc3VyZVNhZmVPYmplY3QodmFsdWUsIGV4cHJlc3Npb24pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChjb250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBsaHMsIG5hbWU6IHJpZ2h0LCB2YWx1ZTogdmFsdWV9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LFxyXG4gIGlucHV0czogZnVuY3Rpb24oaW5wdXQsIHdhdGNoSWQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgdmFsdWUsIGxvY2FscywgaW5wdXRzKSB7XHJcbiAgICAgIGlmIChpbnB1dHMpIHJldHVybiBpbnB1dHNbd2F0Y2hJZF07XHJcbiAgICAgIHJldHVybiBpbnB1dChzY29wZSwgdmFsdWUsIGxvY2Fscyk7XHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbnZhciBQYXJzZXIgPSBmdW5jdGlvbihsZXhlciwgJGZpbHRlciwgb3B0aW9ucykge1xyXG4gIHRoaXMubGV4ZXIgPSBsZXhlcjtcclxuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xyXG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgdGhpcy5hc3QgPSBuZXcgQVNUKGxleGVyLCBvcHRpb25zKTtcclxuICB0aGlzLmFzdENvbXBpbGVyID0gb3B0aW9ucy5jc3AgPyBuZXcgQVNUSW50ZXJwcmV0ZXIodGhpcy5hc3QsICRmaWx0ZXIpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQVNUQ29tcGlsZXIodGhpcy5hc3QsICRmaWx0ZXIpO1xyXG59O1xyXG5cclxuUGFyc2VyLnByb3RvdHlwZSA9IHtcclxuICBjb25zdHJ1Y3RvcjogUGFyc2VyLFxyXG5cclxuICBwYXJzZTogZnVuY3Rpb24odGV4dCkge1xyXG4gICAgcmV0dXJuIHRoaXMuYXN0Q29tcGlsZXIuY29tcGlsZSh0ZXh0LCB0aGlzLm9wdGlvbnMuZXhwZW5zaXZlQ2hlY2tzKTtcclxuICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZShuYW1lKSB7XHJcbiAgcmV0dXJuIG5hbWUgPT0gJ2NvbnN0cnVjdG9yJztcclxufVxyXG5cclxudmFyIG9iamVjdFZhbHVlT2YgPSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2Y7XHJcblxyXG5mdW5jdGlvbiBnZXRWYWx1ZU9mKHZhbHVlKSB7XHJcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUudmFsdWVPZikgPyB2YWx1ZS52YWx1ZU9mKCkgOiBvYmplY3RWYWx1ZU9mLmNhbGwodmFsdWUpO1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRwYXJzZVxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgdmFyIGdldHRlciA9ICRwYXJzZSgndXNlci5uYW1lJyk7XHJcbiAqICAgdmFyIHNldHRlciA9IGdldHRlci5hc3NpZ247XHJcbiAqICAgdmFyIGNvbnRleHQgPSB7dXNlcjp7bmFtZTonYW5ndWxhcid9fTtcclxuICogICB2YXIgbG9jYWxzID0ge3VzZXI6e25hbWU6J2xvY2FsJ319O1xyXG4gKlxyXG4gKiAgIGV4cGVjdChnZXR0ZXIoY29udGV4dCkpLnRvRXF1YWwoJ2FuZ3VsYXInKTtcclxuICogICBzZXR0ZXIoY29udGV4dCwgJ25ld1ZhbHVlJyk7XHJcbiAqICAgZXhwZWN0KGNvbnRleHQudXNlci5uYW1lKS50b0VxdWFsKCduZXdWYWx1ZScpO1xyXG4gKiAgIGV4cGVjdChnZXR0ZXIoY29udGV4dCwgbG9jYWxzKSkudG9FcXVhbCgnbG9jYWwnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXHJcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XHJcbiAqXHJcbiAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcclxuICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXHJcbiAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cclxuICogICAgICBgY29udGV4dGAuXHJcbiAqXHJcbiAqICAgIFRoZSByZXR1cm5lZCBmdW5jdGlvbiBhbHNvIGhhcyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAqICAgICAgKiBgbGl0ZXJhbGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uJ3MgdG9wLWxldmVsIG5vZGUgaXMgYSBKYXZhU2NyaXB0XHJcbiAqICAgICAgICBsaXRlcmFsLlxyXG4gKiAgICAgICogYGNvbnN0YW50YCDigJMgYHtib29sZWFufWAg4oCTIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24gaXMgbWFkZSBlbnRpcmVseSBvZiBKYXZhU2NyaXB0XHJcbiAqICAgICAgICBjb25zdGFudCBsaXRlcmFscy5cclxuICogICAgICAqIGBhc3NpZ25gIOKAkyBgez9mdW5jdGlvbihjb250ZXh0LCB2YWx1ZSl9YCDigJMgaWYgdGhlIGV4cHJlc3Npb24gaXMgYXNzaWduYWJsZSwgdGhpcyB3aWxsIGJlXHJcbiAqICAgICAgICBzZXQgdG8gYSBmdW5jdGlvbiB0byBjaGFuZ2UgaXRzIHZhbHVlIG9uIHRoZSBnaXZlbiBjb250ZXh0LlxyXG4gKlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3ZpZGVyXHJcbiAqIEBuYW1lICRwYXJzZVByb3ZpZGVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBgJHBhcnNlUHJvdmlkZXJgIGNhbiBiZSB1c2VkIGZvciBjb25maWd1cmluZyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUge0BsaW5rIG5nLiRwYXJzZSAkcGFyc2V9XHJcbiAqICBzZXJ2aWNlLlxyXG4gKi9cclxuZnVuY3Rpb24gJFBhcnNlUHJvdmlkZXIoKSB7XHJcbiAgdmFyIGNhY2hlRGVmYXVsdCA9IGNyZWF0ZU1hcCgpO1xyXG4gIHZhciBjYWNoZUV4cGVuc2l2ZSA9IGNyZWF0ZU1hcCgpO1xyXG4gIHZhciBsaXRlcmFscyA9IHtcclxuICAgICd0cnVlJzogdHJ1ZSxcclxuICAgICdmYWxzZSc6IGZhbHNlLFxyXG4gICAgJ251bGwnOiBudWxsLFxyXG4gICAgJ3VuZGVmaW5lZCc6IHVuZGVmaW5lZFxyXG4gIH07XHJcbiAgdmFyIGlkZW50U3RhcnQsIGlkZW50Q29udGludWU7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkcGFyc2VQcm92aWRlciNhZGRMaXRlcmFsXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBDb25maWd1cmUgJHBhcnNlIHNlcnZpY2UgdG8gYWRkIGxpdGVyYWwgdmFsdWVzIHRoYXQgd2lsbCBiZSBwcmVzZW50IGFzIGxpdGVyYWwgYXQgZXhwcmVzc2lvbnMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGl0ZXJhbE5hbWUgVG9rZW4gZm9yIHRoZSBsaXRlcmFsIHZhbHVlLiBUaGUgbGl0ZXJhbCBuYW1lIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBsaXRlcmFsIG5hbWUuXHJcbiAgICogQHBhcmFtIHsqfSBsaXRlcmFsVmFsdWUgVmFsdWUgZm9yIHRoaXMgbGl0ZXJhbC4gQWxsIGxpdGVyYWwgdmFsdWVzIG11c3QgYmUgcHJpbWl0aXZlcyBvciBgdW5kZWZpbmVkYC5cclxuICAgKlxyXG4gICAqKi9cclxuICB0aGlzLmFkZExpdGVyYWwgPSBmdW5jdGlvbihsaXRlcmFsTmFtZSwgbGl0ZXJhbFZhbHVlKSB7XHJcbiAgICBsaXRlcmFsc1tsaXRlcmFsTmFtZV0gPSBsaXRlcmFsVmFsdWU7XHJcbiAgfTtcclxuXHJcbiAvKipcclxuICAqIEBuZ2RvYyBtZXRob2RcclxuICAqIEBuYW1lICRwYXJzZVByb3ZpZGVyI3NldElkZW50aWZpZXJGbnNcclxuICAqIEBkZXNjcmlwdGlvblxyXG4gICpcclxuICAqIEFsbG93cyBkZWZpbmluZyB0aGUgc2V0IG9mIGNoYXJhY3RlcnMgdGhhdCBhcmUgYWxsb3dlZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zLiBUaGUgZnVuY3Rpb25cclxuICAqIGBpZGVudGlmaWVyU3RhcnRgIHdpbGwgZ2V0IGNhbGxlZCB0byBrbm93IGlmIGEgZ2l2ZW4gY2hhcmFjdGVyIGlzIGEgdmFsaWQgY2hhcmFjdGVyIHRvIGJlIHRoZVxyXG4gICogZmlyc3QgY2hhcmFjdGVyIGZvciBhbiBpZGVudGlmaWVyLiBUaGUgZnVuY3Rpb24gYGlkZW50aWZpZXJDb250aW51ZWAgd2lsbCBnZXQgY2FsbGVkIHRvIGtub3cgaWZcclxuICAqIGEgZ2l2ZW4gY2hhcmFjdGVyIGlzIGEgdmFsaWQgY2hhcmFjdGVyIHRvIGJlIGEgZm9sbG93LXVwIGlkZW50aWZpZXIgY2hhcmFjdGVyLiBUaGUgZnVuY3Rpb25zXHJcbiAgKiBgaWRlbnRpZmllclN0YXJ0YCBhbmQgYGlkZW50aWZpZXJDb250aW51ZWAgd2lsbCByZWNlaXZlIGFzIGFyZ3VtZW50cyB0aGUgc2luZ2xlIGNoYXJhY3RlciB0byBiZVxyXG4gICogaWRlbnRpZmllciBhbmQgdGhlIGNoYXJhY3RlciBjb2RlIHBvaW50LiBUaGVzZSBhcmd1bWVudHMgd2lsbCBiZSBgc3RyaW5nYCBhbmQgYG51bWVyaWNgLiBLZWVwIGluXHJcbiAgKiBtaW5kIHRoYXQgdGhlIGBzdHJpbmdgIHBhcmFtZXRlciBjYW4gYmUgdHdvIGNoYXJhY3RlcnMgbG9uZyBkZXBlbmRpbmcgb24gdGhlIGNoYXJhY3RlclxyXG4gICogcmVwcmVzZW50YXRpb24uIEl0IGlzIGV4cGVjdGVkIGZvciB0aGUgZnVuY3Rpb24gdG8gcmV0dXJuIGB0cnVlYCBvciBgZmFsc2VgLCB3aGV0aGVyIHRoYXRcclxuICAqIGNoYXJhY3RlciBpcyBhbGxvd2VkIG9yIG5vdC5cclxuICAqXHJcbiAgKiBTaW5jZSB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGV4dGVuc2l2ZWxseSwga2VlcCB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlc2UgZnVuY3Rpb25zIGZhc3QsXHJcbiAgKiBhcyB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlc2UgZnVuY3Rpb25zIGhhdmUgYSBkaXJlY3QgaW1wYWN0IG9uIHRoZSBleHByZXNzaW9ucyBwYXJzaW5nIHNwZWVkLlxyXG4gICpcclxuICAqIEBwYXJhbSB7ZnVuY3Rpb249fSBpZGVudGlmaWVyU3RhcnQgVGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBkZWNpZGUgd2hldGhlciB0aGUgZ2l2ZW4gY2hhcmFjdGVyIGlzXHJcbiAgKiAgIGEgdmFsaWQgaWRlbnRpZmllciBzdGFydCBjaGFyYWN0ZXIuXHJcbiAgKiBAcGFyYW0ge2Z1bmN0aW9uPX0gaWRlbnRpZmllckNvbnRpbnVlIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgZGVjaWRlIHdoZXRoZXIgdGhlIGdpdmVuIGNoYXJhY3RlciBpc1xyXG4gICogICBhIHZhbGlkIGlkZW50aWZpZXIgY29udGludWUgY2hhcmFjdGVyLlxyXG4gICovXHJcbiAgdGhpcy5zZXRJZGVudGlmaWVyRm5zID0gZnVuY3Rpb24oaWRlbnRpZmllclN0YXJ0LCBpZGVudGlmaWVyQ29udGludWUpIHtcclxuICAgIGlkZW50U3RhcnQgPSBpZGVudGlmaWVyU3RhcnQ7XHJcbiAgICBpZGVudENvbnRpbnVlID0gaWRlbnRpZmllckNvbnRpbnVlO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckZmlsdGVyJywgZnVuY3Rpb24oJGZpbHRlcikge1xyXG4gICAgdmFyIG5vVW5zYWZlRXZhbCA9IGNzcCgpLm5vVW5zYWZlRXZhbDtcclxuICAgIHZhciAkcGFyc2VPcHRpb25zID0ge1xyXG4gICAgICAgICAgY3NwOiBub1Vuc2FmZUV2YWwsXHJcbiAgICAgICAgICBleHBlbnNpdmVDaGVja3M6IGZhbHNlLFxyXG4gICAgICAgICAgbGl0ZXJhbHM6IGNvcHkobGl0ZXJhbHMpLFxyXG4gICAgICAgICAgaXNJZGVudGlmaWVyU3RhcnQ6IGlzRnVuY3Rpb24oaWRlbnRTdGFydCkgJiYgaWRlbnRTdGFydCxcclxuICAgICAgICAgIGlzSWRlbnRpZmllckNvbnRpbnVlOiBpc0Z1bmN0aW9uKGlkZW50Q29udGludWUpICYmIGlkZW50Q29udGludWVcclxuICAgICAgICB9LFxyXG4gICAgICAgICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgPSB7XHJcbiAgICAgICAgICBjc3A6IG5vVW5zYWZlRXZhbCxcclxuICAgICAgICAgIGV4cGVuc2l2ZUNoZWNrczogdHJ1ZSxcclxuICAgICAgICAgIGxpdGVyYWxzOiBjb3B5KGxpdGVyYWxzKSxcclxuICAgICAgICAgIGlzSWRlbnRpZmllclN0YXJ0OiBpc0Z1bmN0aW9uKGlkZW50U3RhcnQpICYmIGlkZW50U3RhcnQsXHJcbiAgICAgICAgICBpc0lkZW50aWZpZXJDb250aW51ZTogaXNGdW5jdGlvbihpZGVudENvbnRpbnVlKSAmJiBpZGVudENvbnRpbnVlXHJcbiAgICAgICAgfTtcclxuICAgIHZhciBydW5uaW5nQ2hlY2tzRW5hYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICRwYXJzZS4kJHJ1bm5pbmdFeHBlbnNpdmVDaGVja3MgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHJ1bm5pbmdDaGVja3NFbmFibGVkO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gJHBhcnNlO1xyXG5cclxuICAgIGZ1bmN0aW9uICRwYXJzZShleHAsIGludGVyY2VwdG9yRm4sIGV4cGVuc2l2ZUNoZWNrcykge1xyXG4gICAgICB2YXIgcGFyc2VkRXhwcmVzc2lvbiwgb25lVGltZSwgY2FjaGVLZXk7XHJcblxyXG4gICAgICBleHBlbnNpdmVDaGVja3MgPSBleHBlbnNpdmVDaGVja3MgfHwgcnVubmluZ0NoZWNrc0VuYWJsZWQ7XHJcblxyXG4gICAgICBzd2l0Y2ggKHR5cGVvZiBleHApIHtcclxuICAgICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgICAgZXhwID0gZXhwLnRyaW0oKTtcclxuICAgICAgICAgIGNhY2hlS2V5ID0gZXhwO1xyXG5cclxuICAgICAgICAgIHZhciBjYWNoZSA9IChleHBlbnNpdmVDaGVja3MgPyBjYWNoZUV4cGVuc2l2ZSA6IGNhY2hlRGVmYXVsdCk7XHJcbiAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uID0gY2FjaGVbY2FjaGVLZXldO1xyXG5cclxuICAgICAgICAgIGlmICghcGFyc2VkRXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICBpZiAoZXhwLmNoYXJBdCgwKSA9PT0gJzonICYmIGV4cC5jaGFyQXQoMSkgPT09ICc6Jykge1xyXG4gICAgICAgICAgICAgIG9uZVRpbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGV4cCA9IGV4cC5zdWJzdHJpbmcoMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHBhcnNlT3B0aW9ucyA9IGV4cGVuc2l2ZUNoZWNrcyA/ICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgOiAkcGFyc2VPcHRpb25zO1xyXG4gICAgICAgICAgICB2YXIgbGV4ZXIgPSBuZXcgTGV4ZXIocGFyc2VPcHRpb25zKTtcclxuICAgICAgICAgICAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIobGV4ZXIsICRmaWx0ZXIsIHBhcnNlT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBwYXJzZXIucGFyc2UoZXhwKTtcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEV4cHJlc3Npb24uY29uc3RhbnQpIHtcclxuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvbmVUaW1lKSB7XHJcbiAgICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgPSBwYXJzZWRFeHByZXNzaW9uLmxpdGVyYWwgP1xyXG4gICAgICAgICAgICAgICAgICBvbmVUaW1lTGl0ZXJhbFdhdGNoRGVsZWdhdGUgOiBvbmVUaW1lV2F0Y2hEZWxlZ2F0ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRFeHByZXNzaW9uLmlucHV0cykge1xyXG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gaW5wdXRzV2F0Y2hEZWxlZ2F0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXhwZW5zaXZlQ2hlY2tzKSB7XHJcbiAgICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbiA9IGV4cGVuc2l2ZUNoZWNrc0ludGVyY2VwdG9yKHBhcnNlZEV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhY2hlW2NhY2hlS2V5XSA9IHBhcnNlZEV4cHJlc3Npb247XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbiwgaW50ZXJjZXB0b3JGbik7XHJcblxyXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcclxuICAgICAgICAgIHJldHVybiBhZGRJbnRlcmNlcHRvcihleHAsIGludGVyY2VwdG9yRm4pO1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgcmV0dXJuIGFkZEludGVyY2VwdG9yKG5vb3AsIGludGVyY2VwdG9yRm4pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhwZW5zaXZlQ2hlY2tzSW50ZXJjZXB0b3IoZm4pIHtcclxuICAgICAgaWYgKCFmbikgcmV0dXJuIGZuO1xyXG4gICAgICBleHBlbnNpdmVDaGVja0ZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IGZuLiQkd2F0Y2hEZWxlZ2F0ZTtcclxuICAgICAgZXhwZW5zaXZlQ2hlY2tGbi5hc3NpZ24gPSBleHBlbnNpdmVDaGVja3NJbnRlcmNlcHRvcihmbi5hc3NpZ24pO1xyXG4gICAgICBleHBlbnNpdmVDaGVja0ZuLmNvbnN0YW50ID0gZm4uY29uc3RhbnQ7XHJcbiAgICAgIGV4cGVuc2l2ZUNoZWNrRm4ubGl0ZXJhbCA9IGZuLmxpdGVyYWw7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBmbi5pbnB1dHMgJiYgaSA8IGZuLmlucHV0cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGZuLmlucHV0c1tpXSA9IGV4cGVuc2l2ZUNoZWNrc0ludGVyY2VwdG9yKGZuLmlucHV0c1tpXSk7XHJcbiAgICAgIH1cclxuICAgICAgZXhwZW5zaXZlQ2hlY2tGbi5pbnB1dHMgPSBmbi5pbnB1dHM7XHJcblxyXG4gICAgICByZXR1cm4gZXhwZW5zaXZlQ2hlY2tGbjtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGV4cGVuc2l2ZUNoZWNrRm4oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgZXhwZW5zaXZlQ2hlY2tPbGRWYWx1ZSA9IHJ1bm5pbmdDaGVja3NFbmFibGVkO1xyXG4gICAgICAgIHJ1bm5pbmdDaGVja3NFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgcmV0dXJuIGZuKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgcnVubmluZ0NoZWNrc0VuYWJsZWQgPSBleHBlbnNpdmVDaGVja09sZFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3VmFsdWUsIG9sZFZhbHVlT2ZWYWx1ZSkge1xyXG5cclxuICAgICAgaWYgKG5ld1ZhbHVlID09IG51bGwgfHwgb2xkVmFsdWVPZlZhbHVlID09IG51bGwpIHsgLy8gbnVsbC91bmRlZmluZWRcclxuICAgICAgICByZXR1cm4gbmV3VmFsdWUgPT09IG9sZFZhbHVlT2ZWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuXHJcbiAgICAgICAgLy8gYXR0ZW1wdCB0byBjb252ZXJ0IHRoZSB2YWx1ZSB0byBhIHByaW1pdGl2ZSB0eXBlXHJcbiAgICAgICAgLy8gVE9ETyhkb2NzKTogYWRkIGEgbm90ZSB0byBkb2NzIHRoYXQgYnkgaW1wbGVtZW50aW5nIHZhbHVlT2YgZXZlbiBvYmplY3RzIGFuZCBhcnJheXMgY2FuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYmUgY2hlYXBseSBkaXJ0eS1jaGVja2VkXHJcbiAgICAgICAgbmV3VmFsdWUgPSBnZXRWYWx1ZU9mKG5ld1ZhbHVlKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgIC8vIG9iamVjdHMvYXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIC0gZGVlcC13YXRjaGluZyB0aGVtIHdvdWxkIGJlIHRvbyBleHBlbnNpdmVcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZhbGwtdGhyb3VnaCB0byB0aGUgcHJpbWl0aXZlIGVxdWFsaXR5IGNoZWNrXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vUHJpbWl0aXZlIG9yIE5hTlxyXG4gICAgICByZXR1cm4gbmV3VmFsdWUgPT09IG9sZFZhbHVlT2ZWYWx1ZSB8fCAobmV3VmFsdWUgIT09IG5ld1ZhbHVlICYmIG9sZFZhbHVlT2ZWYWx1ZSAhPT0gb2xkVmFsdWVPZlZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbnB1dHNXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24sIHByZXR0eVByaW50RXhwcmVzc2lvbikge1xyXG4gICAgICB2YXIgaW5wdXRFeHByZXNzaW9ucyA9IHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzO1xyXG4gICAgICB2YXIgbGFzdFJlc3VsdDtcclxuXHJcbiAgICAgIGlmIChpbnB1dEV4cHJlc3Npb25zLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHZhciBvbGRJbnB1dFZhbHVlT2YgPSBleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrOyAvLyBpbml0IHRvIHNvbWV0aGluZyB1bmlxdWUgc28gdGhhdCBlcXVhbHMgY2hlY2sgZmFpbHNcclxuICAgICAgICBpbnB1dEV4cHJlc3Npb25zID0gaW5wdXRFeHByZXNzaW9uc1swXTtcclxuICAgICAgICByZXR1cm4gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dFdhdGNoKHNjb3BlKSB7XHJcbiAgICAgICAgICB2YXIgbmV3SW5wdXRWYWx1ZSA9IGlucHV0RXhwcmVzc2lvbnMoc2NvcGUpO1xyXG4gICAgICAgICAgaWYgKCFleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld0lucHV0VmFsdWUsIG9sZElucHV0VmFsdWVPZikpIHtcclxuICAgICAgICAgICAgbGFzdFJlc3VsdCA9IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBbbmV3SW5wdXRWYWx1ZV0pO1xyXG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2YgPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcclxuICAgICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXMgPSBbXTtcclxuICAgICAgdmFyIG9sZElucHV0VmFsdWVzID0gW107XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSA9IGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2s7IC8vIGluaXQgdG8gc29tZXRoaW5nIHVuaXF1ZSBzbyB0aGF0IGVxdWFscyBjaGVjayBmYWlsc1xyXG4gICAgICAgIG9sZElucHV0VmFsdWVzW2ldID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBleHByZXNzaW9uSW5wdXRzV2F0Y2goc2NvcGUpIHtcclxuICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dEV4cHJlc3Npb25zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgIHZhciBuZXdJbnB1dFZhbHVlID0gaW5wdXRFeHByZXNzaW9uc1tpXShzY29wZSk7XHJcbiAgICAgICAgICBpZiAoY2hhbmdlZCB8fCAoY2hhbmdlZCA9ICFleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld0lucHV0VmFsdWUsIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSkpKSB7XHJcbiAgICAgICAgICAgIG9sZElucHV0VmFsdWVzW2ldID0gbmV3SW5wdXRWYWx1ZTtcclxuICAgICAgICAgICAgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzW2ldID0gbmV3SW5wdXRWYWx1ZSAmJiBnZXRWYWx1ZU9mKG5ld0lucHV0VmFsdWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcclxuICAgICAgICAgIGxhc3RSZXN1bHQgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb2xkSW5wdXRWYWx1ZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XHJcbiAgICAgIH0sIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcHJldHR5UHJpbnRFeHByZXNzaW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbmVUaW1lV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgIHZhciB1bndhdGNoLCBsYXN0VmFsdWU7XHJcbiAgICAgIHJldHVybiB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG9uZVRpbWVXYXRjaChzY29wZSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcclxuICAgICAgfSwgZnVuY3Rpb24gb25lVGltZUxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKSB7XHJcbiAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICAgICAgc2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGxhc3RWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICB1bndhdGNoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgb2JqZWN0RXF1YWxpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgIHZhciB1bndhdGNoLCBsYXN0VmFsdWU7XHJcbiAgICAgIHJldHVybiB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG9uZVRpbWVXYXRjaChzY29wZSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcclxuICAgICAgfSwgZnVuY3Rpb24gb25lVGltZUxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKSB7XHJcbiAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIHZhbHVlLCBvbGQsIHNjb3BlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQWxsRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgIHNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGlzQWxsRGVmaW5lZChsYXN0VmFsdWUpKSB1bndhdGNoKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIG9iamVjdEVxdWFsaXR5KTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGlzQWxsRGVmaW5lZCh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBhbGxEZWZpbmVkID0gdHJ1ZTtcclxuICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgICAgIGlmICghaXNEZWZpbmVkKHZhbCkpIGFsbERlZmluZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gYWxsRGVmaW5lZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgIHZhciB1bndhdGNoO1xyXG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBjb25zdGFudFdhdGNoKHNjb3BlKSB7XHJcbiAgICAgICAgdW53YXRjaCgpO1xyXG4gICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcclxuICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uLCBpbnRlcmNlcHRvckZuKSB7XHJcbiAgICAgIGlmICghaW50ZXJjZXB0b3JGbikgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb247XHJcbiAgICAgIHZhciB3YXRjaERlbGVnYXRlID0gcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU7XHJcbiAgICAgIHZhciB1c2VJbnB1dHMgPSBmYWxzZTtcclxuXHJcbiAgICAgIHZhciByZWd1bGFyV2F0Y2ggPVxyXG4gICAgICAgICAgd2F0Y2hEZWxlZ2F0ZSAhPT0gb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlICYmXHJcbiAgICAgICAgICB3YXRjaERlbGVnYXRlICE9PSBvbmVUaW1lV2F0Y2hEZWxlZ2F0ZTtcclxuXHJcbiAgICAgIHZhciBmbiA9IHJlZ3VsYXJXYXRjaCA/IGZ1bmN0aW9uIHJlZ3VsYXJJbnRlcmNlcHRlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSB1c2VJbnB1dHMgJiYgaW5wdXRzID8gaW5wdXRzWzBdIDogcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgcmV0dXJuIGludGVyY2VwdG9yRm4odmFsdWUsIHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICB9IDogZnVuY3Rpb24gb25lVGltZUludGVyY2VwdGVkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBpbnRlcmNlcHRvckZuKHZhbHVlLCBzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAvLyB3ZSBvbmx5IHJldHVybiB0aGUgaW50ZXJjZXB0b3IncyByZXN1bHQgaWYgdGhlXHJcbiAgICAgICAgLy8gaW5pdGlhbCB2YWx1ZSBpcyBkZWZpbmVkIChmb3IgYmluZC1vbmNlKVxyXG4gICAgICAgIHJldHVybiBpc0RlZmluZWQodmFsdWUpID8gcmVzdWx0IDogdmFsdWU7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBQcm9wYWdhdGUgJCR3YXRjaERlbGVnYXRlcyBvdGhlciB0aGVuIGlucHV0c1dhdGNoRGVsZWdhdGVcclxuICAgICAgaWYgKHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlICYmXHJcbiAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSAhPT0gaW5wdXRzV2F0Y2hEZWxlZ2F0ZSkge1xyXG4gICAgICAgIGZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlO1xyXG4gICAgICB9IGVsc2UgaWYgKCFpbnRlcmNlcHRvckZuLiRzdGF0ZWZ1bCkge1xyXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGludGVyY2VwdG9yLCBidXQgbm8gd2F0Y2hEZWxlZ2F0ZSB0aGVuIHRyZWF0IHRoZSBpbnRlcmNlcHRvciBsaWtlXHJcbiAgICAgICAgLy8gd2UgdHJlYXQgZmlsdGVycyAtIGl0IGlzIGFzc3VtZWQgdG8gYmUgYSBwdXJlIGZ1bmN0aW9uIHVubGVzcyBmbGFnZ2VkIHdpdGggJHN0YXRlZnVsXHJcbiAgICAgICAgZm4uJCR3YXRjaERlbGVnYXRlID0gaW5wdXRzV2F0Y2hEZWxlZ2F0ZTtcclxuICAgICAgICB1c2VJbnB1dHMgPSAhcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHM7XHJcbiAgICAgICAgZm4uaW5wdXRzID0gcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHMgPyBwYXJzZWRFeHByZXNzaW9uLmlucHV0cyA6IFtwYXJzZWRFeHByZXNzaW9uXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZuO1xyXG4gICAgfVxyXG4gIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHFcclxuICogQHJlcXVpcmVzICRyb290U2NvcGVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEEgc2VydmljZSB0aGF0IGhlbHBzIHlvdSBydW4gZnVuY3Rpb25zIGFzeW5jaHJvbm91c2x5LCBhbmQgdXNlIHRoZWlyIHJldHVybiB2YWx1ZXMgKG9yIGV4Y2VwdGlvbnMpXHJcbiAqIHdoZW4gdGhleSBhcmUgZG9uZSBwcm9jZXNzaW5nLlxyXG4gKlxyXG4gKiBUaGlzIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mIHByb21pc2VzL2RlZmVycmVkIG9iamVjdHMgaW5zcGlyZWQgYnlcclxuICogW0tyaXMgS293YWwncyBRXShodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EpLlxyXG4gKlxyXG4gKiAkcSBjYW4gYmUgdXNlZCBpbiB0d28gZmFzaGlvbnMgLS0tIG9uZSB3aGljaCBpcyBtb3JlIHNpbWlsYXIgdG8gS3JpcyBLb3dhbCdzIFEgb3IgalF1ZXJ5J3MgRGVmZXJyZWRcclxuICogaW1wbGVtZW50YXRpb25zLCBhbmQgdGhlIG90aGVyIHdoaWNoIHJlc2VtYmxlcyBFUzYgKEVTMjAxNSkgcHJvbWlzZXMgdG8gc29tZSBkZWdyZWUuXHJcbiAqXHJcbiAqICMgJHEgY29uc3RydWN0b3JcclxuICpcclxuICogVGhlIHN0cmVhbWxpbmVkIEVTNiBzdHlsZSBwcm9taXNlIGlzIGVzc2VudGlhbGx5IGp1c3QgdXNpbmcgJHEgYXMgYSBjb25zdHJ1Y3RvciB3aGljaCB0YWtlcyBhIGByZXNvbHZlcmBcclxuICogZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LiBUaGlzIGlzIHNpbWlsYXIgdG8gdGhlIG5hdGl2ZSBQcm9taXNlIGltcGxlbWVudGF0aW9uIGZyb20gRVM2LFxyXG4gKiBzZWUgW01ETl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZSkuXHJcbiAqXHJcbiAqIFdoaWxlIHRoZSBjb25zdHJ1Y3Rvci1zdHlsZSB1c2UgaXMgc3VwcG9ydGVkLCBub3QgYWxsIG9mIHRoZSBzdXBwb3J0aW5nIG1ldGhvZHMgZnJvbSBFUzYgcHJvbWlzZXMgYXJlXHJcbiAqIGF2YWlsYWJsZSB5ZXQuXHJcbiAqXHJcbiAqIEl0IGNhbiBiZSB1c2VkIGxpa2Ugc286XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgLy8gZm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgZXhhbXBsZSBsZXQncyBhc3N1bWUgdGhhdCB2YXJpYWJsZXMgYCRxYCBhbmQgYG9rVG9HcmVldGBcclxuICogICAvLyBhcmUgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGxleGljYWwgc2NvcGUgKHRoZXkgY291bGQgaGF2ZSBiZWVuIGluamVjdGVkIG9yIHBhc3NlZCBpbikuXHJcbiAqXHJcbiAqICAgZnVuY3Rpb24gYXN5bmNHcmVldChuYW1lKSB7XHJcbiAqICAgICAvLyBwZXJmb3JtIHNvbWUgYXN5bmNocm9ub3VzIG9wZXJhdGlvbiwgcmVzb2x2ZSBvciByZWplY3QgdGhlIHByb21pc2Ugd2hlbiBhcHByb3ByaWF0ZS5cclxuICogICAgIHJldHVybiAkcShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICogICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICogICAgICAgICBpZiAob2tUb0dyZWV0KG5hbWUpKSB7XHJcbiAqICAgICAgICAgICByZXNvbHZlKCdIZWxsbywgJyArIG5hbWUgKyAnIScpO1xyXG4gKiAgICAgICAgIH0gZWxzZSB7XHJcbiAqICAgICAgICAgICByZWplY3QoJ0dyZWV0aW5nICcgKyBuYW1lICsgJyBpcyBub3QgYWxsb3dlZC4nKTtcclxuICogICAgICAgICB9XHJcbiAqICAgICAgIH0sIDEwMDApO1xyXG4gKiAgICAgfSk7XHJcbiAqICAgfVxyXG4gKlxyXG4gKiAgIHZhciBwcm9taXNlID0gYXN5bmNHcmVldCgnUm9iaW4gSG9vZCcpO1xyXG4gKiAgIHByb21pc2UudGhlbihmdW5jdGlvbihncmVldGluZykge1xyXG4gKiAgICAgYWxlcnQoJ1N1Y2Nlc3M6ICcgKyBncmVldGluZyk7XHJcbiAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAqICAgICBhbGVydCgnRmFpbGVkOiAnICsgcmVhc29uKTtcclxuICogICB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIE5vdGU6IHByb2dyZXNzL25vdGlmeSBjYWxsYmFja3MgYXJlIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIHZpYSB0aGUgRVM2LXN0eWxlIGludGVyZmFjZS5cclxuICpcclxuICogTm90ZTogdW5saWtlIEVTNiBiZWhhdmlvciwgYW4gZXhjZXB0aW9uIHRocm93biBpbiB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24gd2lsbCBOT1QgaW1wbGljaXRseSByZWplY3QgdGhlIHByb21pc2UuXHJcbiAqXHJcbiAqIEhvd2V2ZXIsIHRoZSBtb3JlIHRyYWRpdGlvbmFsIENvbW1vbkpTLXN0eWxlIHVzYWdlIGlzIHN0aWxsIGF2YWlsYWJsZSwgYW5kIGRvY3VtZW50ZWQgYmVsb3cuXHJcbiAqXHJcbiAqIFtUaGUgQ29tbW9uSlMgUHJvbWlzZSBwcm9wb3NhbF0oaHR0cDovL3dpa2kuY29tbW9uanMub3JnL3dpa2kvUHJvbWlzZXMpIGRlc2NyaWJlcyBhIHByb21pc2UgYXMgYW5cclxuICogaW50ZXJmYWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIGFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIHJlc3VsdCBvZiBhbiBhY3Rpb24gdGhhdCBpc1xyXG4gKiBwZXJmb3JtZWQgYXN5bmNocm9ub3VzbHksIGFuZCBtYXkgb3IgbWF5IG5vdCBiZSBmaW5pc2hlZCBhdCBhbnkgZ2l2ZW4gcG9pbnQgaW4gdGltZS5cclxuICpcclxuICogRnJvbSB0aGUgcGVyc3BlY3RpdmUgb2YgZGVhbGluZyB3aXRoIGVycm9yIGhhbmRsaW5nLCBkZWZlcnJlZCBhbmQgcHJvbWlzZSBBUElzIGFyZSB0b1xyXG4gKiBhc3luY2hyb25vdXMgcHJvZ3JhbW1pbmcgd2hhdCBgdHJ5YCwgYGNhdGNoYCBhbmQgYHRocm93YCBrZXl3b3JkcyBhcmUgdG8gc3luY2hyb25vdXMgcHJvZ3JhbW1pbmcuXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgLy8gZm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgZXhhbXBsZSBsZXQncyBhc3N1bWUgdGhhdCB2YXJpYWJsZXMgYCRxYCBhbmQgYG9rVG9HcmVldGBcclxuICogICAvLyBhcmUgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGxleGljYWwgc2NvcGUgKHRoZXkgY291bGQgaGF2ZSBiZWVuIGluamVjdGVkIG9yIHBhc3NlZCBpbikuXHJcbiAqXHJcbiAqICAgZnVuY3Rpb24gYXN5bmNHcmVldChuYW1lKSB7XHJcbiAqICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gKlxyXG4gKiAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICogICAgICAgZGVmZXJyZWQubm90aWZ5KCdBYm91dCB0byBncmVldCAnICsgbmFtZSArICcuJyk7XHJcbiAqXHJcbiAqICAgICAgIGlmIChva1RvR3JlZXQobmFtZSkpIHtcclxuICogICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdIZWxsbywgJyArIG5hbWUgKyAnIScpO1xyXG4gKiAgICAgICB9IGVsc2Uge1xyXG4gKiAgICAgICAgIGRlZmVycmVkLnJlamVjdCgnR3JlZXRpbmcgJyArIG5hbWUgKyAnIGlzIG5vdCBhbGxvd2VkLicpO1xyXG4gKiAgICAgICB9XHJcbiAqICAgICB9LCAxMDAwKTtcclxuICpcclxuICogICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gKiAgIH1cclxuICpcclxuICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcclxuICogICBwcm9taXNlLnRoZW4oZnVuY3Rpb24oZ3JlZXRpbmcpIHtcclxuICogICAgIGFsZXJ0KCdTdWNjZXNzOiAnICsgZ3JlZXRpbmcpO1xyXG4gKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gKiAgICAgYWxlcnQoJ0ZhaWxlZDogJyArIHJlYXNvbik7XHJcbiAqICAgfSwgZnVuY3Rpb24odXBkYXRlKSB7XHJcbiAqICAgICBhbGVydCgnR290IG5vdGlmaWNhdGlvbjogJyArIHVwZGF0ZSk7XHJcbiAqICAgfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBBdCBmaXJzdCBpdCBtaWdodCBub3QgYmUgb2J2aW91cyB3aHkgdGhpcyBleHRyYSBjb21wbGV4aXR5IGlzIHdvcnRoIHRoZSB0cm91YmxlLiBUaGUgcGF5b2ZmXHJcbiAqIGNvbWVzIGluIHRoZSB3YXkgb2YgZ3VhcmFudGVlcyB0aGF0IHByb21pc2UgYW5kIGRlZmVycmVkIEFQSXMgbWFrZSwgc2VlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvdW5jb21tb25qcy9ibG9iL21hc3Rlci9wcm9taXNlcy9zcGVjaWZpY2F0aW9uLm1kLlxyXG4gKlxyXG4gKiBBZGRpdGlvbmFsbHkgdGhlIHByb21pc2UgYXBpIGFsbG93cyBmb3IgY29tcG9zaXRpb24gdGhhdCBpcyB2ZXJ5IGhhcmQgdG8gZG8gd2l0aCB0aGVcclxuICogdHJhZGl0aW9uYWwgY2FsbGJhY2sgKFtDUFNdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29udGludWF0aW9uLXBhc3Npbmdfc3R5bGUpKSBhcHByb2FjaC5cclxuICogRm9yIG1vcmUgb24gdGhpcyBwbGVhc2Ugc2VlIHRoZSBbUSBkb2N1bWVudGF0aW9uXShodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EpIGVzcGVjaWFsbHkgdGhlXHJcbiAqIHNlY3Rpb24gb24gc2VyaWFsIG9yIHBhcmFsbGVsIGpvaW5pbmcgb2YgcHJvbWlzZXMuXHJcbiAqXHJcbiAqICMgVGhlIERlZmVycmVkIEFQSVxyXG4gKlxyXG4gKiBBIG5ldyBpbnN0YW5jZSBvZiBkZWZlcnJlZCBpcyBjb25zdHJ1Y3RlZCBieSBjYWxsaW5nIGAkcS5kZWZlcigpYC5cclxuICpcclxuICogVGhlIHB1cnBvc2Ugb2YgdGhlIGRlZmVycmVkIG9iamVjdCBpcyB0byBleHBvc2UgdGhlIGFzc29jaWF0ZWQgUHJvbWlzZSBpbnN0YW5jZSBhcyB3ZWxsIGFzIEFQSXNcclxuICogdGhhdCBjYW4gYmUgdXNlZCBmb3Igc2lnbmFsaW5nIHRoZSBzdWNjZXNzZnVsIG9yIHVuc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLCBhcyB3ZWxsIGFzIHRoZSBzdGF0dXNcclxuICogb2YgdGhlIHRhc2suXHJcbiAqXHJcbiAqICoqTWV0aG9kcyoqXHJcbiAqXHJcbiAqIC0gYHJlc29sdmUodmFsdWUpYCDigJMgcmVzb2x2ZXMgdGhlIGRlcml2ZWQgcHJvbWlzZSB3aXRoIHRoZSBgdmFsdWVgLiBJZiB0aGUgdmFsdWUgaXMgYSByZWplY3Rpb25cclxuICogICBjb25zdHJ1Y3RlZCB2aWEgYCRxLnJlamVjdGAsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgaW5zdGVhZC5cclxuICogLSBgcmVqZWN0KHJlYXNvbilgIOKAkyByZWplY3RzIHRoZSBkZXJpdmVkIHByb21pc2Ugd2l0aCB0aGUgYHJlYXNvbmAuIFRoaXMgaXMgZXF1aXZhbGVudCB0b1xyXG4gKiAgIHJlc29sdmluZyBpdCB3aXRoIGEgcmVqZWN0aW9uIGNvbnN0cnVjdGVkIHZpYSBgJHEucmVqZWN0YC5cclxuICogLSBgbm90aWZ5KHZhbHVlKWAgLSBwcm92aWRlcyB1cGRhdGVzIG9uIHRoZSBzdGF0dXMgb2YgdGhlIHByb21pc2UncyBleGVjdXRpb24uIFRoaXMgbWF5IGJlIGNhbGxlZFxyXG4gKiAgIG11bHRpcGxlIHRpbWVzIGJlZm9yZSB0aGUgcHJvbWlzZSBpcyBlaXRoZXIgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQuXHJcbiAqXHJcbiAqICoqUHJvcGVydGllcyoqXHJcbiAqXHJcbiAqIC0gcHJvbWlzZSDigJMgYHtQcm9taXNlfWAg4oCTIHByb21pc2Ugb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRlZmVycmVkLlxyXG4gKlxyXG4gKlxyXG4gKiAjIFRoZSBQcm9taXNlIEFQSVxyXG4gKlxyXG4gKiBBIG5ldyBwcm9taXNlIGluc3RhbmNlIGlzIGNyZWF0ZWQgd2hlbiBhIGRlZmVycmVkIGluc3RhbmNlIGlzIGNyZWF0ZWQgYW5kIGNhbiBiZSByZXRyaWV2ZWQgYnlcclxuICogY2FsbGluZyBgZGVmZXJyZWQucHJvbWlzZWAuXHJcbiAqXHJcbiAqIFRoZSBwdXJwb3NlIG9mIHRoZSBwcm9taXNlIG9iamVjdCBpcyB0byBhbGxvdyBmb3IgaW50ZXJlc3RlZCBwYXJ0aWVzIHRvIGdldCBhY2Nlc3MgdG8gdGhlIHJlc3VsdFxyXG4gKiBvZiB0aGUgZGVmZXJyZWQgdGFzayB3aGVuIGl0IGNvbXBsZXRlcy5cclxuICpcclxuICogKipNZXRob2RzKipcclxuICpcclxuICogLSBgdGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG5vdGlmeUNhbGxiYWNrKWAg4oCTIHJlZ2FyZGxlc3Mgb2Ygd2hlbiB0aGUgcHJvbWlzZSB3YXMgb3JcclxuICogICB3aWxsIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkLCBgdGhlbmAgY2FsbHMgb25lIG9mIHRoZSBzdWNjZXNzIG9yIGVycm9yIGNhbGxiYWNrcyBhc3luY2hyb25vdXNseVxyXG4gKiAgIGFzIHNvb24gYXMgdGhlIHJlc3VsdCBpcyBhdmFpbGFibGUuIFRoZSBjYWxsYmFja3MgYXJlIGNhbGxlZCB3aXRoIGEgc2luZ2xlIGFyZ3VtZW50OiB0aGUgcmVzdWx0XHJcbiAqICAgb3IgcmVqZWN0aW9uIHJlYXNvbi4gQWRkaXRpb25hbGx5LCB0aGUgbm90aWZ5IGNhbGxiYWNrIG1heSBiZSBjYWxsZWQgemVybyBvciBtb3JlIHRpbWVzIHRvXHJcbiAqICAgcHJvdmlkZSBhIHByb2dyZXNzIGluZGljYXRpb24sIGJlZm9yZSB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCBvciByZWplY3RlZC5cclxuICpcclxuICogICBUaGlzIG1ldGhvZCAqcmV0dXJucyBhIG5ldyBwcm9taXNlKiB3aGljaCBpcyByZXNvbHZlZCBvciByZWplY3RlZCB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGVcclxuICogICBgc3VjY2Vzc0NhbGxiYWNrYCwgYGVycm9yQ2FsbGJhY2tgICh1bmxlc3MgdGhhdCB2YWx1ZSBpcyBhIHByb21pc2UsIGluIHdoaWNoIGNhc2UgaXQgaXMgcmVzb2x2ZWRcclxuICogICB3aXRoIHRoZSB2YWx1ZSB3aGljaCBpcyByZXNvbHZlZCBpbiB0aGF0IHByb21pc2UgdXNpbmdcclxuICogICBbcHJvbWlzZSBjaGFpbmluZ10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZXM2L3Byb21pc2VzLyN0b2MtcHJvbWlzZXMtcXVldWVzKSkuXHJcbiAqICAgSXQgYWxzbyBub3RpZmllcyB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgYG5vdGlmeUNhbGxiYWNrYCBtZXRob2QuIFRoZSBwcm9taXNlIGNhbm5vdCBiZVxyXG4gKiAgIHJlc29sdmVkIG9yIHJlamVjdGVkIGZyb20gdGhlIG5vdGlmeUNhbGxiYWNrIG1ldGhvZC5cclxuICpcclxuICogLSBgY2F0Y2goZXJyb3JDYWxsYmFjaylgIOKAkyBzaG9ydGhhbmQgZm9yIGBwcm9taXNlLnRoZW4obnVsbCwgZXJyb3JDYWxsYmFjaylgXHJcbiAqXHJcbiAqIC0gYGZpbmFsbHkoY2FsbGJhY2ssIG5vdGlmeUNhbGxiYWNrKWAg4oCTIGFsbG93cyB5b3UgdG8gb2JzZXJ2ZSBlaXRoZXIgdGhlIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBvZiBhIHByb21pc2UsXHJcbiAqICAgYnV0IHRvIGRvIHNvIHdpdGhvdXQgbW9kaWZ5aW5nIHRoZSBmaW5hbCB2YWx1ZS4gVGhpcyBpcyB1c2VmdWwgdG8gcmVsZWFzZSByZXNvdXJjZXMgb3IgZG8gc29tZVxyXG4gKiAgIGNsZWFuLXVwIHRoYXQgbmVlZHMgdG8gYmUgZG9uZSB3aGV0aGVyIHRoZSBwcm9taXNlIHdhcyByZWplY3RlZCBvciByZXNvbHZlZC4gU2VlIHRoZSBbZnVsbFxyXG4gKiAgIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS93aWtpL0FQSS1SZWZlcmVuY2UjcHJvbWlzZWZpbmFsbHljYWxsYmFjaykgZm9yXHJcbiAqICAgbW9yZSBpbmZvcm1hdGlvbi5cclxuICpcclxuICogIyBDaGFpbmluZyBwcm9taXNlc1xyXG4gKlxyXG4gKiBCZWNhdXNlIGNhbGxpbmcgdGhlIGB0aGVuYCBtZXRob2Qgb2YgYSBwcm9taXNlIHJldHVybnMgYSBuZXcgZGVyaXZlZCBwcm9taXNlLCBpdCBpcyBlYXNpbHlcclxuICogcG9zc2libGUgdG8gY3JlYXRlIGEgY2hhaW4gb2YgcHJvbWlzZXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgcHJvbWlzZUIgPSBwcm9taXNlQS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gKiAgICAgcmV0dXJuIHJlc3VsdCArIDE7XHJcbiAqICAgfSk7XHJcbiAqXHJcbiAqICAgLy8gcHJvbWlzZUIgd2lsbCBiZSByZXNvbHZlZCBpbW1lZGlhdGVseSBhZnRlciBwcm9taXNlQSBpcyByZXNvbHZlZCBhbmQgaXRzIHZhbHVlXHJcbiAqICAgLy8gd2lsbCBiZSB0aGUgcmVzdWx0IG9mIHByb21pc2VBIGluY3JlbWVudGVkIGJ5IDFcclxuICogYGBgXHJcbiAqXHJcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIGNyZWF0ZSBjaGFpbnMgb2YgYW55IGxlbmd0aCBhbmQgc2luY2UgYSBwcm9taXNlIGNhbiBiZSByZXNvbHZlZCB3aXRoIGFub3RoZXJcclxuICogcHJvbWlzZSAod2hpY2ggd2lsbCBkZWZlciBpdHMgcmVzb2x1dGlvbiBmdXJ0aGVyKSwgaXQgaXMgcG9zc2libGUgdG8gcGF1c2UvZGVmZXIgcmVzb2x1dGlvbiBvZlxyXG4gKiB0aGUgcHJvbWlzZXMgYXQgYW55IHBvaW50IGluIHRoZSBjaGFpbi4gVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSB0byBpbXBsZW1lbnQgcG93ZXJmdWwgQVBJcyBsaWtlXHJcbiAqICRodHRwJ3MgcmVzcG9uc2UgaW50ZXJjZXB0b3JzLlxyXG4gKlxyXG4gKlxyXG4gKiAjIERpZmZlcmVuY2VzIGJldHdlZW4gS3JpcyBLb3dhbCdzIFEgYW5kICRxXHJcbiAqXHJcbiAqICBUaGVyZSBhcmUgdHdvIG1haW4gZGlmZmVyZW5jZXM6XHJcbiAqXHJcbiAqIC0gJHEgaXMgaW50ZWdyYXRlZCB3aXRoIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZX0gU2NvcGUgbW9kZWwgb2JzZXJ2YXRpb25cclxuICogICBtZWNoYW5pc20gaW4gYW5ndWxhciwgd2hpY2ggbWVhbnMgZmFzdGVyIHByb3BhZ2F0aW9uIG9mIHJlc29sdXRpb24gb3IgcmVqZWN0aW9uIGludG8geW91clxyXG4gKiAgIG1vZGVscyBhbmQgYXZvaWRpbmcgdW5uZWNlc3NhcnkgYnJvd3NlciByZXBhaW50cywgd2hpY2ggd291bGQgcmVzdWx0IGluIGZsaWNrZXJpbmcgVUkuXHJcbiAqIC0gUSBoYXMgbWFueSBtb3JlIGZlYXR1cmVzIHRoYW4gJHEsIGJ1dCB0aGF0IGNvbWVzIGF0IGEgY29zdCBvZiBieXRlcy4gJHEgaXMgdGlueSwgYnV0IGNvbnRhaW5zXHJcbiAqICAgYWxsIHRoZSBpbXBvcnRhbnQgZnVuY3Rpb25hbGl0eSBuZWVkZWQgZm9yIGNvbW1vbiBhc3luYyB0YXNrcy5cclxuICpcclxuICogIyBUZXN0aW5nXHJcbiAqXHJcbiAqICBgYGBqc1xyXG4gKiAgICBpdCgnc2hvdWxkIHNpbXVsYXRlIHByb21pc2UnLCBpbmplY3QoZnVuY3Rpb24oJHEsICRyb290U2NvcGUpIHtcclxuICogICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gKiAgICAgIHZhciBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcclxuICogICAgICB2YXIgcmVzb2x2ZWRWYWx1ZTtcclxuICpcclxuICogICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHsgcmVzb2x2ZWRWYWx1ZSA9IHZhbHVlOyB9KTtcclxuICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9CZVVuZGVmaW5lZCgpO1xyXG4gKlxyXG4gKiAgICAgIC8vIFNpbXVsYXRlIHJlc29sdmluZyBvZiBwcm9taXNlXHJcbiAqICAgICAgZGVmZXJyZWQucmVzb2x2ZSgxMjMpO1xyXG4gKiAgICAgIC8vIE5vdGUgdGhhdCB0aGUgJ3RoZW4nIGZ1bmN0aW9uIGRvZXMgbm90IGdldCBjYWxsZWQgc3luY2hyb25vdXNseS5cclxuICogICAgICAvLyBUaGlzIGlzIGJlY2F1c2Ugd2Ugd2FudCB0aGUgcHJvbWlzZSBBUEkgdG8gYWx3YXlzIGJlIGFzeW5jLCB3aGV0aGVyIG9yIG5vdFxyXG4gKiAgICAgIC8vIGl0IGdvdCBjYWxsZWQgc3luY2hyb25vdXNseSBvciBhc3luY2hyb25vdXNseS5cclxuICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9CZVVuZGVmaW5lZCgpO1xyXG4gKlxyXG4gKiAgICAgIC8vIFByb3BhZ2F0ZSBwcm9taXNlIHJlc29sdXRpb24gdG8gJ3RoZW4nIGZ1bmN0aW9ucyB1c2luZyAkYXBwbHkoKS5cclxuICogICAgICAkcm9vdFNjb3BlLiRhcHBseSgpO1xyXG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0VxdWFsKDEyMyk7XHJcbiAqICAgIH0pKTtcclxuICogIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGZ1bmN0aW9uLCBmdW5jdGlvbil9IHJlc29sdmVyIEZ1bmN0aW9uIHdoaWNoIGlzIHJlc3BvbnNpYmxlIGZvciByZXNvbHZpbmcgb3JcclxuICogICByZWplY3RpbmcgdGhlIG5ld2x5IGNyZWF0ZWQgcHJvbWlzZS4gVGhlIGZpcnN0IHBhcmFtZXRlciBpcyBhIGZ1bmN0aW9uIHdoaWNoIHJlc29sdmVzIHRoZVxyXG4gKiAgIHByb21pc2UsIHRoZSBzZWNvbmQgcGFyYW1ldGVyIGlzIGEgZnVuY3Rpb24gd2hpY2ggcmVqZWN0cyB0aGUgcHJvbWlzZS5cclxuICpcclxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBuZXdseSBjcmVhdGVkIHByb21pc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiAkUVByb3ZpZGVyKCkge1xyXG5cclxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlcikge1xyXG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhjYWxsYmFjayk7XHJcbiAgICB9LCAkZXhjZXB0aW9uSGFuZGxlcik7XHJcbiAgfV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uICQkUVByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJGJyb3dzZXInLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCBmdW5jdGlvbigkYnJvd3NlciwgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcclxuICAgIHJldHVybiBxRmFjdG9yeShmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAkYnJvd3Nlci5kZWZlcihjYWxsYmFjayk7XHJcbiAgICB9LCAkZXhjZXB0aW9uSGFuZGxlcik7XHJcbiAgfV07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3RzIGEgcHJvbWlzZSBtYW5hZ2VyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGZ1bmN0aW9uKX0gbmV4dFRpY2sgRnVuY3Rpb24gZm9yIGV4ZWN1dGluZyBmdW5jdGlvbnMgaW4gdGhlIG5leHQgdHVybi5cclxuICogQHBhcmFtIHtmdW5jdGlvbiguLi4qKX0gZXhjZXB0aW9uSGFuZGxlciBGdW5jdGlvbiBpbnRvIHdoaWNoIHVuZXhwZWN0ZWQgZXhjZXB0aW9ucyBhcmUgcGFzc2VkIGZvclxyXG4gKiAgICAgZGVidWdnaW5nIHB1cnBvc2VzLlxyXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIG1hbmFnZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiBxRmFjdG9yeShuZXh0VGljaywgZXhjZXB0aW9uSGFuZGxlcikge1xyXG4gIHZhciAkcU1pbkVyciA9IG1pbkVycignJHEnLCBUeXBlRXJyb3IpO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmcuJHEjZGVmZXJcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ3JlYXRlcyBhIGBEZWZlcnJlZGAgb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgYSB0YXNrIHdoaWNoIHdpbGwgZmluaXNoIGluIHRoZSBmdXR1cmUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7RGVmZXJyZWR9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgZGVmZXJyZWQuXHJcbiAgICovXHJcbiAgdmFyIGRlZmVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZCA9IG5ldyBEZWZlcnJlZCgpO1xyXG4gICAgLy9OZWNlc3NhcnkgdG8gc3VwcG9ydCB1bmJvdW5kIGV4ZWN1dGlvbiA6L1xyXG4gICAgZC5yZXNvbHZlID0gc2ltcGxlQmluZChkLCBkLnJlc29sdmUpO1xyXG4gICAgZC5yZWplY3QgPSBzaW1wbGVCaW5kKGQsIGQucmVqZWN0KTtcclxuICAgIGQubm90aWZ5ID0gc2ltcGxlQmluZChkLCBkLm5vdGlmeSk7XHJcbiAgICByZXR1cm4gZDtcclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBQcm9taXNlKCkge1xyXG4gICAgdGhpcy4kJHN0YXRlID0geyBzdGF0dXM6IDAgfTtcclxuICB9XHJcblxyXG4gIGV4dGVuZChQcm9taXNlLnByb3RvdHlwZSwge1xyXG4gICAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb2dyZXNzQmFjaykge1xyXG4gICAgICBpZiAoaXNVbmRlZmluZWQob25GdWxmaWxsZWQpICYmIGlzVW5kZWZpbmVkKG9uUmVqZWN0ZWQpICYmIGlzVW5kZWZpbmVkKHByb2dyZXNzQmFjaykpIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IERlZmVycmVkKCk7XHJcblxyXG4gICAgICB0aGlzLiQkc3RhdGUucGVuZGluZyA9IHRoaXMuJCRzdGF0ZS5wZW5kaW5nIHx8IFtdO1xyXG4gICAgICB0aGlzLiQkc3RhdGUucGVuZGluZy5wdXNoKFtyZXN1bHQsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9ncmVzc0JhY2tdKTtcclxuICAgICAgaWYgKHRoaXMuJCRzdGF0ZS5zdGF0dXMgPiAwKSBzY2hlZHVsZVByb2Nlc3NRdWV1ZSh0aGlzLiQkc3RhdGUpO1xyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlO1xyXG4gICAgfSxcclxuXHJcbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgY2FsbGJhY2spO1xyXG4gICAgfSxcclxuXHJcbiAgICBcImZpbmFsbHlcIjogZnVuY3Rpb24oY2FsbGJhY2ssIHByb2dyZXNzQmFjaykge1xyXG4gICAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGhhbmRsZUNhbGxiYWNrKHZhbHVlLCB0cnVlLCBjYWxsYmFjayk7XHJcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIGhhbmRsZUNhbGxiYWNrKGVycm9yLCBmYWxzZSwgY2FsbGJhY2spO1xyXG4gICAgICB9LCBwcm9ncmVzc0JhY2spO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvL0Zhc3RlciwgbW9yZSBiYXNpYyB0aGFuIGFuZ3VsYXIuYmluZCBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyLWJpbmQtdnMtY3VzdG9tLXZzLW5hdGl2ZVxyXG4gIGZ1bmN0aW9uIHNpbXBsZUJpbmQoY29udGV4dCwgZm4pIHtcclxuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICBmbi5jYWxsKGNvbnRleHQsIHZhbHVlKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwcm9jZXNzUXVldWUoc3RhdGUpIHtcclxuICAgIHZhciBmbiwgZGVmZXJyZWQsIHBlbmRpbmc7XHJcblxyXG4gICAgcGVuZGluZyA9IHN0YXRlLnBlbmRpbmc7XHJcbiAgICBzdGF0ZS5wcm9jZXNzU2NoZWR1bGVkID0gZmFsc2U7XHJcbiAgICBzdGF0ZS5wZW5kaW5nID0gdW5kZWZpbmVkO1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGVuZGluZy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XHJcbiAgICAgIGRlZmVycmVkID0gcGVuZGluZ1tpXVswXTtcclxuICAgICAgZm4gPSBwZW5kaW5nW2ldW3N0YXRlLnN0YXR1c107XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XHJcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZuKHN0YXRlLnZhbHVlKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5zdGF0dXMgPT09IDEpIHtcclxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoc3RhdGUudmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3Qoc3RhdGUudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGRlZmVycmVkLnJlamVjdChlKTtcclxuICAgICAgICBleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzY2hlZHVsZVByb2Nlc3NRdWV1ZShzdGF0ZSkge1xyXG4gICAgaWYgKHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgfHwgIXN0YXRlLnBlbmRpbmcpIHJldHVybjtcclxuICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSB0cnVlO1xyXG4gICAgbmV4dFRpY2soZnVuY3Rpb24oKSB7IHByb2Nlc3NRdWV1ZShzdGF0ZSk7IH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gRGVmZXJyZWQoKSB7XHJcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgpO1xyXG4gIH1cclxuXHJcbiAgZXh0ZW5kKERlZmVycmVkLnByb3RvdHlwZSwge1xyXG4gICAgcmVzb2x2ZTogZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMpIHJldHVybjtcclxuICAgICAgaWYgKHZhbCA9PT0gdGhpcy5wcm9taXNlKSB7XHJcbiAgICAgICAgdGhpcy4kJHJlamVjdCgkcU1pbkVycihcclxuICAgICAgICAgICdxY3ljbGUnLFxyXG4gICAgICAgICAgXCJFeHBlY3RlZCBwcm9taXNlIHRvIGJlIHJlc29sdmVkIHdpdGggdmFsdWUgb3RoZXIgdGhhbiBpdHNlbGYgJ3swfSdcIixcclxuICAgICAgICAgIHZhbCkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuJCRyZXNvbHZlKHZhbCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9LFxyXG5cclxuICAgICQkcmVzb2x2ZTogZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgIHZhciB0aGVuO1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgIHZhciBkb25lID0gZmFsc2U7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKChpc09iamVjdCh2YWwpIHx8IGlzRnVuY3Rpb24odmFsKSkpIHRoZW4gPSB2YWwgJiYgdmFsLnRoZW47XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhlbikpIHtcclxuICAgICAgICAgIHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IC0xO1xyXG4gICAgICAgICAgdGhlbi5jYWxsKHZhbCwgcmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UsIHNpbXBsZUJpbmQodGhpcywgdGhpcy5ub3RpZnkpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWUgPSB2YWw7XHJcbiAgICAgICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPSAxO1xyXG4gICAgICAgICAgc2NoZWR1bGVQcm9jZXNzUXVldWUodGhpcy5wcm9taXNlLiQkc3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJlamVjdFByb21pc2UoZSk7XHJcbiAgICAgICAgZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsKSB7XHJcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcclxuICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICB0aGF0LiQkcmVzb2x2ZSh2YWwpO1xyXG4gICAgICB9XHJcbiAgICAgIGZ1bmN0aW9uIHJlamVjdFByb21pc2UodmFsKSB7XHJcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcclxuICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICB0aGF0LiQkcmVqZWN0KHZhbCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgcmVqZWN0OiBmdW5jdGlvbihyZWFzb24pIHtcclxuICAgICAgaWYgKHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cykgcmV0dXJuO1xyXG4gICAgICB0aGlzLiQkcmVqZWN0KHJlYXNvbik7XHJcbiAgICB9LFxyXG5cclxuICAgICQkcmVqZWN0OiBmdW5jdGlvbihyZWFzb24pIHtcclxuICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWUgPSByZWFzb247XHJcbiAgICAgIHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IDI7XHJcbiAgICAgIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMucHJvbWlzZS4kJHN0YXRlKTtcclxuICAgIH0sXHJcblxyXG4gICAgbm90aWZ5OiBmdW5jdGlvbihwcm9ncmVzcykge1xyXG4gICAgICB2YXIgY2FsbGJhY2tzID0gdGhpcy5wcm9taXNlLiQkc3RhdGUucGVuZGluZztcclxuXHJcbiAgICAgIGlmICgodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzIDw9IDApICYmIGNhbGxiYWNrcyAmJiBjYWxsYmFja3MubGVuZ3RoKSB7XHJcbiAgICAgICAgbmV4dFRpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgY2FsbGJhY2ssIHJlc3VsdDtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrc1tpXVswXTtcclxuICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFja3NbaV1bM107XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgcmVzdWx0Lm5vdGlmeShpc0Z1bmN0aW9uKGNhbGxiYWNrKSA/IGNhbGxiYWNrKHByb2dyZXNzKSA6IHByb2dyZXNzKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJHEjcmVqZWN0XHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENyZWF0ZXMgYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgYXMgcmVqZWN0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIGByZWFzb25gLiBUaGlzIGFwaSBzaG91bGQgYmVcclxuICAgKiB1c2VkIHRvIGZvcndhcmQgcmVqZWN0aW9uIGluIGEgY2hhaW4gb2YgcHJvbWlzZXMuIElmIHlvdSBhcmUgZGVhbGluZyB3aXRoIHRoZSBsYXN0IHByb21pc2UgaW5cclxuICAgKiBhIHByb21pc2UgY2hhaW4sIHlvdSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGl0LlxyXG4gICAqXHJcbiAgICogV2hlbiBjb21wYXJpbmcgZGVmZXJyZWRzL3Byb21pc2VzIHRvIHRoZSBmYW1pbGlhciBiZWhhdmlvciBvZiB0cnkvY2F0Y2gvdGhyb3csIHRoaW5rIG9mXHJcbiAgICogYHJlamVjdGAgYXMgdGhlIGB0aHJvd2Aga2V5d29yZCBpbiBKYXZhU2NyaXB0LiBUaGlzIGFsc28gbWVhbnMgdGhhdCBpZiB5b3UgXCJjYXRjaFwiIGFuIGVycm9yIHZpYVxyXG4gICAqIGEgcHJvbWlzZSBlcnJvciBjYWxsYmFjayBhbmQgeW91IHdhbnQgdG8gZm9yd2FyZCB0aGUgZXJyb3IgdG8gdGhlIHByb21pc2UgZGVyaXZlZCBmcm9tIHRoZVxyXG4gICAqIGN1cnJlbnQgcHJvbWlzZSwgeW91IGhhdmUgdG8gXCJyZXRocm93XCIgdGhlIGVycm9yIGJ5IHJldHVybmluZyBhIHJlamVjdGlvbiBjb25zdHJ1Y3RlZCB2aWFcclxuICAgKiBgcmVqZWN0YC5cclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogICBwcm9taXNlQiA9IHByb21pc2VBLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICogICAgIC8vIHN1Y2Nlc3M6IGRvIHNvbWV0aGluZyBhbmQgcmVzb2x2ZSBwcm9taXNlQlxyXG4gICAqICAgICAvLyAgICAgICAgICB3aXRoIHRoZSBvbGQgb3IgYSBuZXcgcmVzdWx0XHJcbiAgICogICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICogICB9LCBmdW5jdGlvbihyZWFzb24pIHtcclxuICAgKiAgICAgLy8gZXJyb3I6IGhhbmRsZSB0aGUgZXJyb3IgaWYgcG9zc2libGUgYW5kXHJcbiAgICogICAgIC8vICAgICAgICByZXNvbHZlIHByb21pc2VCIHdpdGggbmV3UHJvbWlzZU9yVmFsdWUsXHJcbiAgICogICAgIC8vICAgICAgICBvdGhlcndpc2UgZm9yd2FyZCB0aGUgcmVqZWN0aW9uIHRvIHByb21pc2VCXHJcbiAgICogICAgIGlmIChjYW5IYW5kbGUocmVhc29uKSkge1xyXG4gICAqICAgICAgLy8gaGFuZGxlIHRoZSBlcnJvciBhbmQgcmVjb3ZlclxyXG4gICAqICAgICAgcmV0dXJuIG5ld1Byb21pc2VPclZhbHVlO1xyXG4gICAqICAgICB9XHJcbiAgICogICAgIHJldHVybiAkcS5yZWplY3QocmVhc29uKTtcclxuICAgKiAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSByZWFzb24gQ29uc3RhbnQsIG1lc3NhZ2UsIGV4Y2VwdGlvbiBvciBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZWplY3Rpb24gcmVhc29uLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdhcyBhbHJlYWR5IHJlc29sdmVkIGFzIHJlamVjdGVkIHdpdGggdGhlIGByZWFzb25gLlxyXG4gICAqL1xyXG4gIHZhciByZWplY3QgPSBmdW5jdGlvbihyZWFzb24pIHtcclxuICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcclxuICAgIHJlc3VsdC5yZWplY3QocmVhc29uKTtcclxuICAgIHJldHVybiByZXN1bHQucHJvbWlzZTtcclxuICB9O1xyXG5cclxuICB2YXIgbWFrZVByb21pc2UgPSBmdW5jdGlvbiBtYWtlUHJvbWlzZSh2YWx1ZSwgcmVzb2x2ZWQpIHtcclxuICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcclxuICAgIGlmIChyZXNvbHZlZCkge1xyXG4gICAgICByZXN1bHQucmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXN1bHQucmVqZWN0KHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQucHJvbWlzZTtcclxuICB9O1xyXG5cclxuICB2YXIgaGFuZGxlQ2FsbGJhY2sgPSBmdW5jdGlvbiBoYW5kbGVDYWxsYmFjayh2YWx1ZSwgaXNSZXNvbHZlZCwgY2FsbGJhY2spIHtcclxuICAgIHZhciBjYWxsYmFja091dHB1dCA9IG51bGw7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIGNhbGxiYWNrT3V0cHV0ID0gY2FsbGJhY2soKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIG1ha2VQcm9taXNlKGUsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIGlmIChpc1Byb21pc2VMaWtlKGNhbGxiYWNrT3V0cHV0KSkge1xyXG4gICAgICByZXR1cm4gY2FsbGJhY2tPdXRwdXQudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbWFrZVByb21pc2UodmFsdWUsIGlzUmVzb2x2ZWQpO1xyXG4gICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgIHJldHVybiBtYWtlUHJvbWlzZShlcnJvciwgZmFsc2UpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBtYWtlUHJvbWlzZSh2YWx1ZSwgaXNSZXNvbHZlZCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRxI3doZW5cclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogV3JhcHMgYW4gb2JqZWN0IHRoYXQgbWlnaHQgYmUgYSB2YWx1ZSBvciBhICgzcmQgcGFydHkpIHRoZW4tYWJsZSBwcm9taXNlIGludG8gYSAkcSBwcm9taXNlLlxyXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4geW91IGFyZSBkZWFsaW5nIHdpdGggYW4gb2JqZWN0IHRoYXQgbWlnaHQgb3IgbWlnaHQgbm90IGJlIGEgcHJvbWlzZSwgb3IgaWZcclxuICAgKiB0aGUgcHJvbWlzZSBjb21lcyBmcm9tIGEgc291cmNlIHRoYXQgY2FuJ3QgYmUgdHJ1c3RlZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb3IgYSBwcm9taXNlXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHN1Y2Nlc3NDYWxsYmFja1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBlcnJvckNhbGxiYWNrXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHByb2dyZXNzQ2FsbGJhY2tcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2Ugb2YgdGhlIHBhc3NlZCB2YWx1ZSBvciBwcm9taXNlXHJcbiAgICovXHJcblxyXG5cclxuICB2YXIgd2hlbiA9IGZ1bmN0aW9uKHZhbHVlLCBjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NCYWNrKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gbmV3IERlZmVycmVkKCk7XHJcbiAgICByZXN1bHQucmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICByZXR1cm4gcmVzdWx0LnByb21pc2UudGhlbihjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NCYWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJHEjcmVzb2x2ZVxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBBbGlhcyBvZiB7QGxpbmsgbmcuJHEjd2hlbiB3aGVufSB0byBtYWludGFpbiBuYW1pbmcgY29uc2lzdGVuY3kgd2l0aCBFUzYuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9yIGEgcHJvbWlzZVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBzdWNjZXNzQ2FsbGJhY2tcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gZXJyb3JDYWxsYmFja1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBwcm9ncmVzc0NhbGxiYWNrXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIG9mIHRoZSBwYXNzZWQgdmFsdWUgb3IgcHJvbWlzZVxyXG4gICAqL1xyXG4gIHZhciByZXNvbHZlID0gd2hlbjtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRxI2FsbFxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDb21iaW5lcyBtdWx0aXBsZSBwcm9taXNlcyBpbnRvIGEgc2luZ2xlIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIGFsbCBvZiB0aGUgaW5wdXRcclxuICAgKiBwcm9taXNlcyBhcmUgcmVzb2x2ZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0FycmF5LjxQcm9taXNlPnxPYmplY3QuPFByb21pc2U+fSBwcm9taXNlcyBBbiBhcnJheSBvciBoYXNoIG9mIHByb21pc2VzLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgc2luZ2xlIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggYW4gYXJyYXkvaGFzaCBvZiB2YWx1ZXMsXHJcbiAgICogICBlYWNoIHZhbHVlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb21pc2UgYXQgdGhlIHNhbWUgaW5kZXgva2V5IGluIHRoZSBgcHJvbWlzZXNgIGFycmF5L2hhc2guXHJcbiAgICogICBJZiBhbnkgb2YgdGhlIHByb21pc2VzIGlzIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24sIHRoaXMgcmVzdWx0aW5nIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZFxyXG4gICAqICAgd2l0aCB0aGUgc2FtZSByZWplY3Rpb24gdmFsdWUuXHJcbiAgICovXHJcblxyXG4gIGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xyXG4gICAgdmFyIGRlZmVycmVkID0gbmV3IERlZmVycmVkKCksXHJcbiAgICAgICAgY291bnRlciA9IDAsXHJcbiAgICAgICAgcmVzdWx0cyA9IGlzQXJyYXkocHJvbWlzZXMpID8gW10gOiB7fTtcclxuXHJcbiAgICBmb3JFYWNoKHByb21pc2VzLCBmdW5jdGlvbihwcm9taXNlLCBrZXkpIHtcclxuICAgICAgY291bnRlcisrO1xyXG4gICAgICB3aGVuKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAocmVzdWx0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm47XHJcbiAgICAgICAgcmVzdWx0c1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKCEoLS1jb3VudGVyKSkgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKTtcclxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICAgICAgaWYgKHJlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuO1xyXG4gICAgICAgIGRlZmVycmVkLnJlamVjdChyZWFzb24pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChjb3VudGVyID09PSAwKSB7XHJcbiAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgfVxyXG5cclxuICB2YXIgJFEgPSBmdW5jdGlvbiBRKHJlc29sdmVyKSB7XHJcbiAgICBpZiAoIWlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XHJcbiAgICAgIHRocm93ICRxTWluRXJyKCdub3JzbHZyJywgXCJFeHBlY3RlZCByZXNvbHZlckZuLCBnb3QgJ3swfSdcIiwgcmVzb2x2ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmVGbih2YWx1ZSkge1xyXG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWplY3RGbihyZWFzb24pIHtcclxuICAgICAgZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzb2x2ZXIocmVzb2x2ZUZuLCByZWplY3RGbik7XHJcblxyXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgfTtcclxuXHJcbiAgLy8gTGV0J3MgbWFrZSB0aGUgaW5zdGFuY2VvZiBvcGVyYXRvciB3b3JrIGZvciBwcm9taXNlcywgc28gdGhhdFxyXG4gIC8vIGBuZXcgJHEoZm4pIGluc3RhbmNlb2YgJHFgIHdvdWxkIGV2YWx1YXRlIHRvIHRydWUuXHJcbiAgJFEucHJvdG90eXBlID0gUHJvbWlzZS5wcm90b3R5cGU7XHJcblxyXG4gICRRLmRlZmVyID0gZGVmZXI7XHJcbiAgJFEucmVqZWN0ID0gcmVqZWN0O1xyXG4gICRRLndoZW4gPSB3aGVuO1xyXG4gICRRLnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICRRLmFsbCA9IGFsbDtcclxuXHJcbiAgcmV0dXJuICRRO1xyXG59XHJcblxyXG5mdW5jdGlvbiAkJFJBRlByb3ZpZGVyKCkgeyAvL3JBRlxyXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckdGltZW91dCcsIGZ1bmN0aW9uKCR3aW5kb3csICR0aW1lb3V0KSB7XHJcbiAgICB2YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gJHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuXHJcbiAgICB2YXIgY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSAkd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuXHJcbiAgICB2YXIgcmFmU3VwcG9ydGVkID0gISFyZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XHJcbiAgICB2YXIgcmFmID0gcmFmU3VwcG9ydGVkXHJcbiAgICAgID8gZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAgIHZhciBpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICA6IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgICB2YXIgdGltZXIgPSAkdGltZW91dChmbiwgMTYuNjYsIGZhbHNlKTsgLy8gMTAwMCAvIDYwID0gMTYuNjY2XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgcmFmLnN1cHBvcnRlZCA9IHJhZlN1cHBvcnRlZDtcclxuXHJcbiAgICByZXR1cm4gcmFmO1xyXG4gIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogREVTSUdOIE5PVEVTXHJcbiAqXHJcbiAqIFRoZSBkZXNpZ24gZGVjaXNpb25zIGJlaGluZCB0aGUgc2NvcGUgYXJlIGhlYXZpbHkgZmF2b3JlZCBmb3Igc3BlZWQgYW5kIG1lbW9yeSBjb25zdW1wdGlvbi5cclxuICpcclxuICogVGhlIHR5cGljYWwgdXNlIG9mIHNjb3BlIGlzIHRvIHdhdGNoIHRoZSBleHByZXNzaW9ucywgd2hpY2ggbW9zdCBvZiB0aGUgdGltZSByZXR1cm4gdGhlIHNhbWVcclxuICogdmFsdWUgYXMgbGFzdCB0aW1lIHNvIHdlIG9wdGltaXplIHRoZSBvcGVyYXRpb24uXHJcbiAqXHJcbiAqIENsb3N1cmVzIGNvbnN0cnVjdGlvbiBpcyBleHBlbnNpdmUgaW4gdGVybXMgb2Ygc3BlZWQgYXMgd2VsbCBhcyBtZW1vcnk6XHJcbiAqICAgLSBObyBjbG9zdXJlcywgaW5zdGVhZCB1c2UgcHJvdG90eXBpY2FsIGluaGVyaXRhbmNlIGZvciBBUElcclxuICogICAtIEludGVybmFsIHN0YXRlIG5lZWRzIHRvIGJlIHN0b3JlZCBvbiBzY29wZSBkaXJlY3RseSwgd2hpY2ggbWVhbnMgdGhhdCBwcml2YXRlIHN0YXRlIGlzXHJcbiAqICAgICBleHBvc2VkIGFzICQkX19fXyBwcm9wZXJ0aWVzXHJcbiAqXHJcbiAqIExvb3Agb3BlcmF0aW9ucyBhcmUgb3B0aW1pemVkIGJ5IHVzaW5nIHdoaWxlKGNvdW50LS0pIHsgLi4uIH1cclxuICogICAtIFRoaXMgbWVhbnMgdGhhdCBpbiBvcmRlciB0byBrZWVwIHRoZSBzYW1lIG9yZGVyIG9mIGV4ZWN1dGlvbiBhcyBhZGRpdGlvbiB3ZSBoYXZlIHRvIGFkZFxyXG4gKiAgICAgaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBiZWdpbm5pbmcgKHVuc2hpZnQpIGluc3RlYWQgb2YgYXQgdGhlIGVuZCAocHVzaClcclxuICpcclxuICogQ2hpbGQgc2NvcGVzIGFyZSBjcmVhdGVkIGFuZCByZW1vdmVkIG9mdGVuXHJcbiAqICAgLSBVc2luZyBhbiBhcnJheSB3b3VsZCBiZSBzbG93IHNpbmNlIGluc2VydHMgaW4gdGhlIG1pZGRsZSBhcmUgZXhwZW5zaXZlOyBzbyB3ZSB1c2UgbGlua2VkIGxpc3RzXHJcbiAqXHJcbiAqIFRoZXJlIGFyZSBmZXdlciB3YXRjaGVzIHRoYW4gb2JzZXJ2ZXJzLiBUaGlzIGlzIHdoeSB5b3UgZG9uJ3Qgd2FudCB0aGUgb2JzZXJ2ZXIgdG8gYmUgaW1wbGVtZW50ZWRcclxuICogaW4gdGhlIHNhbWUgd2F5IGFzIHdhdGNoLiBXYXRjaCByZXF1aXJlcyByZXR1cm4gb2YgdGhlIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIHdoaWNoIGlzIGV4cGVuc2l2ZVxyXG4gKiB0byBjb25zdHJ1Y3QuXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJHJvb3RTY29wZVByb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBQcm92aWRlciBmb3IgdGhlICRyb290U2NvcGUgc2VydmljZS5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIG1ldGhvZFxyXG4gKiBAbmFtZSAkcm9vdFNjb3BlUHJvdmlkZXIjZGlnZXN0VHRsXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBTZXRzIHRoZSBudW1iZXIgb2YgYCRkaWdlc3RgIGl0ZXJhdGlvbnMgdGhlIHNjb3BlIHNob3VsZCBhdHRlbXB0IHRvIGV4ZWN1dGUgYmVmb3JlIGdpdmluZyB1cCBhbmRcclxuICogYXNzdW1pbmcgdGhhdCB0aGUgbW9kZWwgaXMgdW5zdGFibGUuXHJcbiAqXHJcbiAqIFRoZSBjdXJyZW50IGRlZmF1bHQgaXMgMTAgaXRlcmF0aW9ucy5cclxuICpcclxuICogSW4gY29tcGxleCBhcHBsaWNhdGlvbnMgaXQncyBwb3NzaWJsZSB0aGF0IHRoZSBkZXBlbmRlbmNpZXMgYmV0d2VlbiBgJHdhdGNoYHMgd2lsbCByZXN1bHQgaW5cclxuICogc2V2ZXJhbCBkaWdlc3QgaXRlcmF0aW9ucy4gSG93ZXZlciBpZiBhbiBhcHBsaWNhdGlvbiBuZWVkcyBtb3JlIHRoYW4gdGhlIGRlZmF1bHQgMTAgZGlnZXN0XHJcbiAqIGl0ZXJhdGlvbnMgZm9yIGl0cyBtb2RlbCB0byBzdGFiaWxpemUgdGhlbiB5b3Ugc2hvdWxkIGludmVzdGlnYXRlIHdoYXQgaXMgY2F1c2luZyB0aGUgbW9kZWwgdG9cclxuICogY29udGludW91c2x5IGNoYW5nZSBkdXJpbmcgdGhlIGRpZ2VzdC5cclxuICpcclxuICogSW5jcmVhc2luZyB0aGUgVFRMIGNvdWxkIGhhdmUgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLCBzbyB5b3Ugc2hvdWxkIG5vdCBjaGFuZ2UgaXQgd2l0aG91dFxyXG4gKiBwcm9wZXIganVzdGlmaWNhdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ9IGxpbWl0IFRoZSBudW1iZXIgb2YgZGlnZXN0IGl0ZXJhdGlvbnMuXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkcm9vdFNjb3BlXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBFdmVyeSBhcHBsaWNhdGlvbiBoYXMgYSBzaW5nbGUgcm9vdCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0uXHJcbiAqIEFsbCBvdGhlciBzY29wZXMgYXJlIGRlc2NlbmRhbnQgc2NvcGVzIG9mIHRoZSByb290IHNjb3BlLiBTY29wZXMgcHJvdmlkZSBzZXBhcmF0aW9uXHJcbiAqIGJldHdlZW4gdGhlIG1vZGVsIGFuZCB0aGUgdmlldywgdmlhIGEgbWVjaGFuaXNtIGZvciB3YXRjaGluZyB0aGUgbW9kZWwgZm9yIGNoYW5nZXMuXHJcbiAqIFRoZXkgYWxzbyBwcm92aWRlIGV2ZW50IGVtaXNzaW9uL2Jyb2FkY2FzdCBhbmQgc3Vic2NyaXB0aW9uIGZhY2lsaXR5LiBTZWUgdGhlXHJcbiAqIHtAbGluayBndWlkZS9zY29wZSBkZXZlbG9wZXIgZ3VpZGUgb24gc2NvcGVzfS5cclxuICovXHJcbmZ1bmN0aW9uICRSb290U2NvcGVQcm92aWRlcigpIHtcclxuICB2YXIgVFRMID0gMTA7XHJcbiAgdmFyICRyb290U2NvcGVNaW5FcnIgPSBtaW5FcnIoJyRyb290U2NvcGUnKTtcclxuICB2YXIgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xyXG4gIHZhciBhcHBseUFzeW5jSWQgPSBudWxsO1xyXG5cclxuICB0aGlzLmRpZ2VzdFR0bCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBUVEwgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBUVEw7XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlQ2hpbGRTY29wZUNsYXNzKHBhcmVudCkge1xyXG4gICAgZnVuY3Rpb24gQ2hpbGRTY29wZSgpIHtcclxuICAgICAgdGhpcy4kJHdhdGNoZXJzID0gdGhpcy4kJG5leHRTaWJsaW5nID1cclxuICAgICAgICAgIHRoaXMuJCRjaGlsZEhlYWQgPSB0aGlzLiQkY2hpbGRUYWlsID0gbnVsbDtcclxuICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xyXG4gICAgICB0aGlzLiQkbGlzdGVuZXJDb3VudCA9IHt9O1xyXG4gICAgICB0aGlzLiQkd2F0Y2hlcnNDb3VudCA9IDA7XHJcbiAgICAgIHRoaXMuJGlkID0gbmV4dFVpZCgpO1xyXG4gICAgICB0aGlzLiQkQ2hpbGRTY29wZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBDaGlsZFNjb3BlLnByb3RvdHlwZSA9IHBhcmVudDtcclxuICAgIHJldHVybiBDaGlsZFNjb3BlO1xyXG4gIH1cclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckZXhjZXB0aW9uSGFuZGxlcicsICckcGFyc2UnLCAnJGJyb3dzZXInLFxyXG4gICAgICBmdW5jdGlvbigkZXhjZXB0aW9uSGFuZGxlciwgJHBhcnNlLCAkYnJvd3Nlcikge1xyXG5cclxuICAgIGZ1bmN0aW9uIGRlc3Ryb3lDaGlsZFNjb3BlKCRldmVudCkge1xyXG4gICAgICAgICRldmVudC5jdXJyZW50U2NvcGUuJCRkZXN0cm95ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFuVXBTY29wZSgkc2NvcGUpIHtcclxuXHJcbiAgICAgIGlmIChtc2llID09PSA5KSB7XHJcbiAgICAgICAgLy8gVGhlcmUgaXMgYSBtZW1vcnkgbGVhayBpbiBJRTkgaWYgYWxsIGNoaWxkIHNjb3BlcyBhcmUgbm90IGRpc2Nvbm5lY3RlZFxyXG4gICAgICAgIC8vIGNvbXBsZXRlbHkgd2hlbiBhIHNjb3BlIGlzIGRlc3Ryb3llZC4gU28gdGhpcyBjb2RlIHdpbGwgcmVjdXJzZSB1cCB0aHJvdWdoXHJcbiAgICAgICAgLy8gYWxsIHRoaXMgc2NvcGVzIGNoaWxkcmVuXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBTZWUgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTA3MDZcclxuICAgICAgICAkc2NvcGUuJCRjaGlsZEhlYWQgJiYgY2xlYW5VcFNjb3BlKCRzY29wZS4kJGNoaWxkSGVhZCk7XHJcbiAgICAgICAgJHNjb3BlLiQkbmV4dFNpYmxpbmcgJiYgY2xlYW5VcFNjb3BlKCRzY29wZS4kJG5leHRTaWJsaW5nKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVGhlIGNvZGUgYmVsb3cgd29ya3MgYXJvdW5kIElFOSBhbmQgVjgncyBtZW1vcnkgbGVha3NcclxuICAgICAgLy9cclxuICAgICAgLy8gU2VlOlxyXG4gICAgICAvLyAtIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDczI2MyNlxyXG4gICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzY3OTQjaXNzdWVjb21tZW50LTM4NjQ4OTA5XHJcbiAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTMxMyNpc3N1ZWNvbW1lbnQtMTAzNzg0NTFcclxuXHJcbiAgICAgICRzY29wZS4kcGFyZW50ID0gJHNjb3BlLiQkbmV4dFNpYmxpbmcgPSAkc2NvcGUuJCRwcmV2U2libGluZyA9ICRzY29wZS4kJGNoaWxkSGVhZCA9XHJcbiAgICAgICAgICAkc2NvcGUuJCRjaGlsZFRhaWwgPSAkc2NvcGUuJHJvb3QgPSAkc2NvcGUuJCR3YXRjaGVycyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgdHlwZVxyXG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogQSByb290IHNjb3BlIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlICRyb290U2NvcGV9IGtleSBmcm9tIHRoZVxyXG4gICAgICoge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIENoaWxkIHNjb3BlcyBhcmUgY3JlYXRlZCB1c2luZyB0aGVcclxuICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRuZXcgJG5ldygpfSBtZXRob2QuIChNb3N0IHNjb3BlcyBhcmUgY3JlYXRlZCBhdXRvbWF0aWNhbGx5IHdoZW5cclxuICAgICAqIGNvbXBpbGVkIEhUTUwgdGVtcGxhdGUgaXMgZXhlY3V0ZWQuKSBTZWUgYWxzbyB0aGUge0BsaW5rIGd1aWRlL3Njb3BlIFNjb3BlcyBndWlkZX0gZm9yXHJcbiAgICAgKiBhbiBpbi1kZXB0aCBpbnRyb2R1Y3Rpb24gYW5kIHVzYWdlIGV4YW1wbGVzLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiAjIEluaGVyaXRhbmNlXHJcbiAgICAgKiBBIHNjb3BlIGNhbiBpbmhlcml0IGZyb20gYSBwYXJlbnQgc2NvcGUsIGFzIGluIHRoaXMgZXhhbXBsZTpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgICAgIHZhciBwYXJlbnQgPSAkcm9vdFNjb3BlO1xyXG4gICAgICAgICB2YXIgY2hpbGQgPSBwYXJlbnQuJG5ldygpO1xyXG5cclxuICAgICAgICAgcGFyZW50LnNhbHV0YXRpb24gPSBcIkhlbGxvXCI7XHJcbiAgICAgICAgIGV4cGVjdChjaGlsZC5zYWx1dGF0aW9uKS50b0VxdWFsKCdIZWxsbycpO1xyXG5cclxuICAgICAgICAgY2hpbGQuc2FsdXRhdGlvbiA9IFwiV2VsY29tZVwiO1xyXG4gICAgICAgICBleHBlY3QoY2hpbGQuc2FsdXRhdGlvbikudG9FcXVhbCgnV2VsY29tZScpO1xyXG4gICAgICAgICBleHBlY3QocGFyZW50LnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBXaGVuIGludGVyYWN0aW5nIHdpdGggYFNjb3BlYCBpbiB0ZXN0cywgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyBhcmUgYXZhaWxhYmxlIG9uIHRoZVxyXG4gICAgICogaW5zdGFuY2VzIG9mIGBTY29wZWAgdHlwZS4gU2VlIHtAbGluayBuZ01vY2suJHJvb3RTY29wZS5TY29wZSBuZ01vY2sgU2NvcGV9IGZvciBhZGRpdGlvbmFsXHJcbiAgICAgKiBkZXRhaWxzLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbigpPj19IHByb3ZpZGVycyBNYXAgb2Ygc2VydmljZSBmYWN0b3J5IHdoaWNoIG5lZWQgdG8gYmVcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQgZm9yIHRoZSBjdXJyZW50IHNjb3BlLiBEZWZhdWx0cyB0byB7QGxpbmsgbmd9LlxyXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgKj49fSBpbnN0YW5jZUNhY2hlIFByb3ZpZGVzIHByZS1pbnN0YW50aWF0ZWQgc2VydmljZXMgd2hpY2ggc2hvdWxkXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZC9vdmVycmlkZSBzZXJ2aWNlcyBwcm92aWRlZCBieSBgcHJvdmlkZXJzYC4gVGhpcyBpcyBoYW5keVxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHVuaXQtdGVzdGluZyBhbmQgaGF2aW5nIHRoZSBuZWVkIHRvIG92ZXJyaWRlIGEgZGVmYXVsdFxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLlxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gTmV3bHkgY3JlYXRlZCBzY29wZS5cclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFNjb3BlKCkge1xyXG4gICAgICB0aGlzLiRpZCA9IG5leHRVaWQoKTtcclxuICAgICAgdGhpcy4kJHBoYXNlID0gdGhpcy4kcGFyZW50ID0gdGhpcy4kJHdhdGNoZXJzID1cclxuICAgICAgICAgICAgICAgICAgICAgdGhpcy4kJG5leHRTaWJsaW5nID0gdGhpcy4kJHByZXZTaWJsaW5nID1cclxuICAgICAgICAgICAgICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xyXG4gICAgICB0aGlzLiRyb290ID0gdGhpcztcclxuICAgICAgdGhpcy4kJGRlc3Ryb3llZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XHJcbiAgICAgIHRoaXMuJCRsaXN0ZW5lckNvdW50ID0ge307XHJcbiAgICAgIHRoaXMuJCR3YXRjaGVyc0NvdW50ID0gMDtcclxuICAgICAgdGhpcy4kJGlzb2xhdGVCaW5kaW5ncyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGlkXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBVbmlxdWUgc2NvcGUgSUQgKG1vbm90b25pY2FsbHkgaW5jcmVhc2luZykgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuXHJcbiAgICAgKi9cclxuXHJcbiAgICAgLyoqXHJcbiAgICAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkcGFyZW50XHJcbiAgICAgICpcclxuICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBzY29wZS5cclxuICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkcm9vdFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByb290IHNjb3BlLlxyXG4gICAgICAgKi9cclxuXHJcbiAgICBTY29wZS5wcm90b3R5cGUgPSB7XHJcbiAgICAgIGNvbnN0cnVjdG9yOiBTY29wZSxcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkbmV3XHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBDcmVhdGVzIGEgbmV3IGNoaWxkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfS5cclxuICAgICAgICpcclxuICAgICAgICogVGhlIHBhcmVudCBzY29wZSB3aWxsIHByb3BhZ2F0ZSB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IGV2ZW50LlxyXG4gICAgICAgKiBUaGUgc2NvcGUgY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGUgc2NvcGUgaGllcmFyY2h5IHVzaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95ICRkZXN0cm95KCl9LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveSAkZGVzdHJveSgpfSBtdXN0IGJlIGNhbGxlZCBvbiBhIHNjb3BlIHdoZW4gaXQgaXNcclxuICAgICAgICogZGVzaXJlZCBmb3IgdGhlIHNjb3BlIGFuZCBpdHMgY2hpbGQgc2NvcGVzIHRvIGJlIHBlcm1hbmVudGx5IGRldGFjaGVkIGZyb20gdGhlIHBhcmVudCBhbmRcclxuICAgICAgICogdGh1cyBzdG9wIHBhcnRpY2lwYXRpbmcgaW4gbW9kZWwgY2hhbmdlIGRldGVjdGlvbiBhbmQgbGlzdGVuZXIgbm90aWZpY2F0aW9uIGJ5IGludm9raW5nLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzb2xhdGUgSWYgdHJ1ZSwgdGhlbiB0aGUgc2NvcGUgZG9lcyBub3QgcHJvdG90eXBpY2FsbHkgaW5oZXJpdCBmcm9tIHRoZVxyXG4gICAgICAgKiAgICAgICAgIHBhcmVudCBzY29wZS4gVGhlIHNjb3BlIGlzIGlzb2xhdGVkLCBhcyBpdCBjYW4gbm90IHNlZSBwYXJlbnQgc2NvcGUgcHJvcGVydGllcy5cclxuICAgICAgICogICAgICAgICBXaGVuIGNyZWF0aW5nIHdpZGdldHMsIGl0IGlzIHVzZWZ1bCBmb3IgdGhlIHdpZGdldCB0byBub3QgYWNjaWRlbnRhbGx5IHJlYWQgcGFyZW50XHJcbiAgICAgICAqICAgICAgICAgc3RhdGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7U2NvcGV9IFtwYXJlbnQ9dGhpc10gVGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIGBTY29wZWB9IHRoYXQgd2lsbCBiZSB0aGUgYCRwYXJlbnRgXHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIG5ld2x5IGNyZWF0ZWQgc2NvcGUuIERlZmF1bHRzIHRvIGB0aGlzYCBzY29wZSBpZiBub3QgcHJvdmlkZWQuXHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBpcyB1c2VkIHdoZW4gY3JlYXRpbmcgYSB0cmFuc2NsdWRlIHNjb3BlIHRvIGNvcnJlY3RseSBwbGFjZSBpdFxyXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSBzY29wZSBoaWVyYXJjaHkgd2hpbGUgbWFpbnRhaW5pbmcgdGhlIGNvcnJlY3QgcHJvdG90eXBpY2FsXHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdGFuY2UuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBuZXdseSBjcmVhdGVkIGNoaWxkIHNjb3BlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKi9cclxuICAgICAgJG5ldzogZnVuY3Rpb24oaXNvbGF0ZSwgcGFyZW50KSB7XHJcbiAgICAgICAgdmFyIGNoaWxkO1xyXG5cclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQgfHwgdGhpcztcclxuXHJcbiAgICAgICAgaWYgKGlzb2xhdGUpIHtcclxuICAgICAgICAgIGNoaWxkID0gbmV3IFNjb3BlKCk7XHJcbiAgICAgICAgICBjaGlsZC4kcm9vdCA9IHRoaXMuJHJvb3Q7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIE9ubHkgY3JlYXRlIGEgY2hpbGQgc2NvcGUgY2xhc3MgaWYgc29tZWJvZHkgYXNrcyBmb3Igb25lLFxyXG4gICAgICAgICAgLy8gYnV0IGNhY2hlIGl0IHRvIGFsbG93IHRoZSBWTSB0byBvcHRpbWl6ZSBsb29rdXBzLlxyXG4gICAgICAgICAgaWYgKCF0aGlzLiQkQ2hpbGRTY29wZSkge1xyXG4gICAgICAgICAgICB0aGlzLiQkQ2hpbGRTY29wZSA9IGNyZWF0ZUNoaWxkU2NvcGVDbGFzcyh0aGlzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNoaWxkID0gbmV3IHRoaXMuJCRDaGlsZFNjb3BlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoaWxkLiRwYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgY2hpbGQuJCRwcmV2U2libGluZyA9IHBhcmVudC4kJGNoaWxkVGFpbDtcclxuICAgICAgICBpZiAocGFyZW50LiQkY2hpbGRIZWFkKSB7XHJcbiAgICAgICAgICBwYXJlbnQuJCRjaGlsZFRhaWwuJCRuZXh0U2libGluZyA9IGNoaWxkO1xyXG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBhcmVudC4kJGNoaWxkSGVhZCA9IHBhcmVudC4kJGNoaWxkVGFpbCA9IGNoaWxkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2hlbiB0aGUgbmV3IHNjb3BlIGlzIG5vdCBpc29sYXRlZCBvciB3ZSBpbmhlcml0IGZyb20gYHRoaXNgLCBhbmRcclxuICAgICAgICAvLyB0aGUgcGFyZW50IHNjb3BlIGlzIGRlc3Ryb3llZCwgdGhlIHByb3BlcnR5IGAkJGRlc3Ryb3llZGAgaXMgaW5oZXJpdGVkXHJcbiAgICAgICAgLy8gcHJvdG90eXBpY2FsbHkuIEluIGFsbCBvdGhlciBjYXNlcywgdGhpcyBwcm9wZXJ0eSBuZWVkcyB0byBiZSBzZXRcclxuICAgICAgICAvLyB3aGVuIHRoZSBwYXJlbnQgc2NvcGUgaXMgZGVzdHJveWVkLlxyXG4gICAgICAgIC8vIFRoZSBsaXN0ZW5lciBuZWVkcyB0byBiZSBhZGRlZCBhZnRlciB0aGUgcGFyZW50IGlzIHNldFxyXG4gICAgICAgIGlmIChpc29sYXRlIHx8IHBhcmVudCAhPSB0aGlzKSBjaGlsZC4kb24oJyRkZXN0cm95JywgZGVzdHJveUNoaWxkU2NvcGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUmVnaXN0ZXJzIGEgYGxpc3RlbmVyYCBjYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuZXZlciB0aGUgYHdhdGNoRXhwcmVzc2lvbmAgY2hhbmdlcy5cclxuICAgICAgICpcclxuICAgICAgICogLSBUaGUgYHdhdGNoRXhwcmVzc2lvbmAgaXMgY2FsbGVkIG9uIGV2ZXJ5IGNhbGwgdG8ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdFxyXG4gICAgICAgKiAgICRkaWdlc3QoKX0gYW5kIHNob3VsZCByZXR1cm4gdGhlIHZhbHVlIHRoYXQgd2lsbCBiZSB3YXRjaGVkLiAoYHdhdGNoRXhwcmVzc2lvbmAgc2hvdWxkIG5vdCBjaGFuZ2VcclxuICAgICAgICogICBpdHMgdmFsdWUgd2hlbiBleGVjdXRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIHRoZSBzYW1lIGlucHV0IGJlY2F1c2UgaXQgbWF5IGJlIGV4ZWN1dGVkIG11bHRpcGxlXHJcbiAgICAgICAqICAgdGltZXMgYnkge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9LiBUaGF0IGlzLCBgd2F0Y2hFeHByZXNzaW9uYCBzaG91bGQgYmVcclxuICAgICAgICogICBbaWRlbXBvdGVudF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JZGVtcG90ZW5jZSkuXHJcbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIG9ubHkgd2hlbiB0aGUgdmFsdWUgZnJvbSB0aGUgY3VycmVudCBgd2F0Y2hFeHByZXNzaW9uYCBhbmQgdGhlXHJcbiAgICAgICAqICAgcHJldmlvdXMgY2FsbCB0byBgd2F0Y2hFeHByZXNzaW9uYCBhcmUgbm90IGVxdWFsICh3aXRoIHRoZSBleGNlcHRpb24gb2YgdGhlIGluaXRpYWwgcnVuLFxyXG4gICAgICAgKiAgIHNlZSBiZWxvdykuIEluZXF1YWxpdHkgaXMgZGV0ZXJtaW5lZCBhY2NvcmRpbmcgdG8gcmVmZXJlbmNlIGluZXF1YWxpdHksXHJcbiAgICAgICAqICAgW3N0cmljdCBjb21wYXJpc29uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvQ29tcGFyaXNvbl9PcGVyYXRvcnMpXHJcbiAgICAgICAqICAgIHZpYSB0aGUgYCE9PWAgSmF2YXNjcmlwdCBvcGVyYXRvciwgdW5sZXNzIGBvYmplY3RFcXVhbGl0eSA9PSB0cnVlYFxyXG4gICAgICAgKiAgIChzZWUgbmV4dCBwb2ludClcclxuICAgICAgICogLSBXaGVuIGBvYmplY3RFcXVhbGl0eSA9PSB0cnVlYCwgaW5lcXVhbGl0eSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmAgaXMgZGV0ZXJtaW5lZFxyXG4gICAgICAgKiAgIGFjY29yZGluZyB0byB0aGUge0BsaW5rIGFuZ3VsYXIuZXF1YWxzfSBmdW5jdGlvbi4gVG8gc2F2ZSB0aGUgdmFsdWUgb2YgdGhlIG9iamVjdCBmb3JcclxuICAgICAgICogICBsYXRlciBjb21wYXJpc29uLCB0aGUge0BsaW5rIGFuZ3VsYXIuY29weX0gZnVuY3Rpb24gaXMgdXNlZC4gVGhpcyB0aGVyZWZvcmUgbWVhbnMgdGhhdFxyXG4gICAgICAgKiAgIHdhdGNoaW5nIGNvbXBsZXggb2JqZWN0cyB3aWxsIGhhdmUgYWR2ZXJzZSBtZW1vcnkgYW5kIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cclxuICAgICAgICogLSBUaGUgd2F0Y2ggYGxpc3RlbmVyYCBtYXkgY2hhbmdlIHRoZSBtb2RlbCwgd2hpY2ggbWF5IHRyaWdnZXIgb3RoZXIgYGxpc3RlbmVyYHMgdG8gZmlyZS5cclxuICAgICAgICogICBUaGlzIGlzIGFjaGlldmVkIGJ5IHJlcnVubmluZyB0aGUgd2F0Y2hlcnMgdW50aWwgbm8gY2hhbmdlcyBhcmUgZGV0ZWN0ZWQuIFRoZSByZXJ1blxyXG4gICAgICAgKiAgIGl0ZXJhdGlvbiBsaW1pdCBpcyAxMCB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3AgZGVhZGxvY2suXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIElmIHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkIHdoZW5ldmVyIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gaXMgY2FsbGVkLFxyXG4gICAgICAgKiB5b3UgY2FuIHJlZ2lzdGVyIGEgYHdhdGNoRXhwcmVzc2lvbmAgZnVuY3Rpb24gd2l0aCBubyBgbGlzdGVuZXJgLiAoQmUgcHJlcGFyZWQgZm9yXHJcbiAgICAgICAqIG11bHRpcGxlIGNhbGxzIHRvIHlvdXIgYHdhdGNoRXhwcmVzc2lvbmAgYmVjYXVzZSBpdCB3aWxsIGV4ZWN1dGUgbXVsdGlwbGUgdGltZXMgaW4gYVxyXG4gICAgICAgKiBzaW5nbGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZSBpZiBhIGNoYW5nZSBpcyBkZXRlY3RlZC4pXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEFmdGVyIGEgd2F0Y2hlciBpcyByZWdpc3RlcmVkIHdpdGggdGhlIHNjb3BlLCB0aGUgYGxpc3RlbmVyYCBmbiBpcyBjYWxsZWQgYXN5bmNocm9ub3VzbHlcclxuICAgICAgICogKHZpYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZXZhbEFzeW5jICRldmFsQXN5bmN9KSB0byBpbml0aWFsaXplIHRoZVxyXG4gICAgICAgKiB3YXRjaGVyLiBJbiByYXJlIGNhc2VzLCB0aGlzIGlzIHVuZGVzaXJhYmxlIGJlY2F1c2UgdGhlIGxpc3RlbmVyIGlzIGNhbGxlZCB3aGVuIHRoZSByZXN1bHRcclxuICAgICAgICogb2YgYHdhdGNoRXhwcmVzc2lvbmAgZGlkbid0IGNoYW5nZS4gVG8gZGV0ZWN0IHRoaXMgc2NlbmFyaW8gd2l0aGluIHRoZSBgbGlzdGVuZXJgIGZuLCB5b3VcclxuICAgICAgICogY2FuIGNvbXBhcmUgdGhlIGBuZXdWYWxgIGFuZCBgb2xkVmFsYC4gSWYgdGhlc2UgdHdvIHZhbHVlcyBhcmUgaWRlbnRpY2FsIChgPT09YCkgdGhlbiB0aGVcclxuICAgICAgICogbGlzdGVuZXIgd2FzIGNhbGxlZCBkdWUgdG8gaW5pdGlhbGl6YXRpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMgRXhhbXBsZVxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgICAgIC8vIGxldCdzIGFzc3VtZSB0aGF0IHNjb3BlIHdhcyBkZXBlbmRlbmN5IGluamVjdGVkIGFzIHRoZSAkcm9vdFNjb3BlXHJcbiAgICAgICAgICAgdmFyIHNjb3BlID0gJHJvb3RTY29wZTtcclxuICAgICAgICAgICBzY29wZS5uYW1lID0gJ21pc2tvJztcclxuICAgICAgICAgICBzY29wZS5jb3VudGVyID0gMDtcclxuXHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XHJcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7XHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XHJcblxyXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAvLyB0aGUgbGlzdGVuZXIgaXMgYWx3YXlzIGNhbGxlZCBkdXJpbmcgdGhlIGZpcnN0ICRkaWdlc3QgbG9vcCBhZnRlciBpdCB3YXMgcmVnaXN0ZXJlZFxyXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xyXG5cclxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgLy8gYnV0IG5vdyBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIHRoZSB2YWx1ZSBjaGFuZ2VzXHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7XHJcblxyXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7XHJcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDIpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgIC8vIFVzaW5nIGEgZnVuY3Rpb24gYXMgYSB3YXRjaEV4cHJlc3Npb25cclxuICAgICAgICAgICB2YXIgZm9vZDtcclxuICAgICAgICAgICBzY29wZS5mb29kQ291bnRlciA9IDA7XHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xyXG4gICAgICAgICAgIHNjb3BlLiR3YXRjaChcclxuICAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdmFsdWUgYmVpbmcgd2F0Y2hlZC4gSXQgaXMgY2FsbGVkIGZvciBlYWNoIHR1cm4gb2YgdGhlICRkaWdlc3QgbG9vcFxyXG4gICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBmb29kOyB9LFxyXG4gICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgY2hhbmdlIGxpc3RlbmVyLCBjYWxsZWQgd2hlbiB0aGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgYWJvdmUgZnVuY3Rpb24gY2hhbmdlc1xyXG4gICAgICAgICAgICAgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgIGlmICggbmV3VmFsdWUgIT09IG9sZFZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgIC8vIE9ubHkgaW5jcmVtZW50IHRoZSBjb3VudGVyIGlmIHRoZSB2YWx1ZSBjaGFuZ2VkXHJcbiAgICAgICAgICAgICAgICAgc2NvcGUuZm9vZENvdW50ZXIgPSBzY29wZS5mb29kQ291bnRlciArIDE7XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICApO1xyXG4gICAgICAgICAgIC8vIE5vIGRpZ2VzdCBoYXMgYmVlbiBydW4gc28gdGhlIGNvdW50ZXIgd2lsbCBiZSB6ZXJvXHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xyXG5cclxuICAgICAgICAgICAvLyBSdW4gdGhlIGRpZ2VzdCBidXQgc2luY2UgZm9vZCBoYXMgbm90IGNoYW5nZWQgY291bnQgd2lsbCBzdGlsbCBiZSB6ZXJvXHJcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTtcclxuXHJcbiAgICAgICAgICAgLy8gVXBkYXRlIGZvb2QgYW5kIHJ1biBkaWdlc3QuICBOb3cgdGhlIGNvdW50ZXIgd2lsbCBpbmNyZW1lbnRcclxuICAgICAgICAgICBmb29kID0gJ2NoZWVzZWJ1cmdlcic7XHJcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgxKTtcclxuXHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyhmdW5jdGlvbigpfHN0cmluZyl9IHdhdGNoRXhwcmVzc2lvbiBFeHByZXNzaW9uIHRoYXQgaXMgZXZhbHVhdGVkIG9uIGVhY2hcclxuICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZS4gQSBjaGFuZ2UgaW4gdGhlIHJldHVybiB2YWx1ZSB0cmlnZ2Vyc1xyXG4gICAgICAgKiAgICBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IEV2YWx1YXRlZCBhcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufVxyXG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBjYWxsZWQgd2l0aCBjdXJyZW50IGBzY29wZWAgYXMgYSBwYXJhbWV0ZXIuXHJcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwsIHNjb3BlKX0gbGlzdGVuZXIgQ2FsbGJhY2sgY2FsbGVkIHdoZW5ldmVyIHRoZSB2YWx1ZVxyXG4gICAgICAgKiAgICBvZiBgd2F0Y2hFeHByZXNzaW9uYCBjaGFuZ2VzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAtIGBuZXdWYWxgIGNvbnRhaW5zIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uYFxyXG4gICAgICAgKiAgICAtIGBvbGRWYWxgIGNvbnRhaW5zIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmBcclxuICAgICAgICogICAgLSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZVxyXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbb2JqZWN0RXF1YWxpdHk9ZmFsc2VdIENvbXBhcmUgZm9yIG9iamVjdCBlcXVhbGl0eSB1c2luZyB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGluc3RlYWQgb2ZcclxuICAgICAgICogICAgIGNvbXBhcmluZyBmb3IgcmVmZXJlbmNlIGVxdWFsaXR5LlxyXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLlxyXG4gICAgICAgKi9cclxuICAgICAgJHdhdGNoOiBmdW5jdGlvbih3YXRjaEV4cCwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwcmV0dHlQcmludEV4cHJlc3Npb24pIHtcclxuICAgICAgICB2YXIgZ2V0ID0gJHBhcnNlKHdhdGNoRXhwKTtcclxuXHJcbiAgICAgICAgaWYgKGdldC4kJHdhdGNoRGVsZWdhdGUpIHtcclxuICAgICAgICAgIHJldHVybiBnZXQuJCR3YXRjaERlbGVnYXRlKHRoaXMsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgZ2V0LCB3YXRjaEV4cCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzY29wZSA9IHRoaXMsXHJcbiAgICAgICAgICAgIGFycmF5ID0gc2NvcGUuJCR3YXRjaGVycyxcclxuICAgICAgICAgICAgd2F0Y2hlciA9IHtcclxuICAgICAgICAgICAgICBmbjogbGlzdGVuZXIsXHJcbiAgICAgICAgICAgICAgbGFzdDogaW5pdFdhdGNoVmFsLFxyXG4gICAgICAgICAgICAgIGdldDogZ2V0LFxyXG4gICAgICAgICAgICAgIGV4cDogcHJldHR5UHJpbnRFeHByZXNzaW9uIHx8IHdhdGNoRXhwLFxyXG4gICAgICAgICAgICAgIGVxOiAhIW9iamVjdEVxdWFsaXR5XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xyXG4gICAgICAgICAgd2F0Y2hlci5mbiA9IG5vb3A7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWFycmF5KSB7XHJcbiAgICAgICAgICBhcnJheSA9IHNjb3BlLiQkd2F0Y2hlcnMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gd2UgdXNlIHVuc2hpZnQgc2luY2Ugd2UgdXNlIGEgd2hpbGUgbG9vcCBpbiAkZGlnZXN0IGZvciBzcGVlZC5cclxuICAgICAgICAvLyB0aGUgd2hpbGUgbG9vcCByZWFkcyBpbiByZXZlcnNlIG9yZGVyLlxyXG4gICAgICAgIGFycmF5LnVuc2hpZnQod2F0Y2hlcik7XHJcbiAgICAgICAgaW5jcmVtZW50V2F0Y2hlcnNDb3VudCh0aGlzLCAxKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaCgpIHtcclxuICAgICAgICAgIGlmIChhcnJheVJlbW92ZShhcnJheSwgd2F0Y2hlcikgPj0gMCkge1xyXG4gICAgICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHNjb3BlLCAtMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoR3JvdXBcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIEEgdmFyaWFudCBvZiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggJHdhdGNoKCl9IHdoZXJlIGl0IHdhdGNoZXMgYW4gYXJyYXkgb2YgYHdhdGNoRXhwcmVzc2lvbnNgLlxyXG4gICAgICAgKiBJZiBhbnkgb25lIGV4cHJlc3Npb24gaW4gdGhlIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgYGxpc3RlbmVyYCBpcyBleGVjdXRlZC5cclxuICAgICAgICpcclxuICAgICAgICogLSBUaGUgaXRlbXMgaW4gdGhlIGB3YXRjaEV4cHJlc3Npb25zYCBhcnJheSBhcmUgb2JzZXJ2ZWQgdmlhIHN0YW5kYXJkICR3YXRjaCBvcGVyYXRpb24gYW5kIGFyZSBleGFtaW5lZCBvbiBldmVyeVxyXG4gICAgICAgKiAgIGNhbGwgdG8gJGRpZ2VzdCgpIHRvIHNlZSBpZiBhbnkgaXRlbXMgY2hhbmdlcy5cclxuICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55IGV4cHJlc3Npb24gaW4gdGhlIGB3YXRjaEV4cHJlc3Npb25zYCBhcnJheSBjaGFuZ2VzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmd8RnVuY3Rpb24oc2NvcGUpPn0gd2F0Y2hFeHByZXNzaW9ucyBBcnJheSBvZiBleHByZXNzaW9ucyB0aGF0IHdpbGwgYmUgaW5kaXZpZHVhbGx5XHJcbiAgICAgICAqIHdhdGNoZWQgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld1ZhbHVlcywgb2xkVmFsdWVzLCBzY29wZSl9IGxpc3RlbmVyIENhbGxiYWNrIGNhbGxlZCB3aGVuZXZlciB0aGUgcmV0dXJuIHZhbHVlIG9mIGFueVxyXG4gICAgICAgKiAgICBleHByZXNzaW9uIGluIGB3YXRjaEV4cHJlc3Npb25zYCBjaGFuZ2VzXHJcbiAgICAgICAqICAgIFRoZSBgbmV3VmFsdWVzYCBhcnJheSBjb250YWlucyB0aGUgY3VycmVudCB2YWx1ZXMgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25zYCwgd2l0aCB0aGUgaW5kZXhlcyBtYXRjaGluZ1xyXG4gICAgICAgKiAgICB0aG9zZSBvZiBgd2F0Y2hFeHByZXNzaW9uYFxyXG4gICAgICAgKiAgICBhbmQgdGhlIGBvbGRWYWx1ZXNgIGFycmF5IGNvbnRhaW5zIHRoZSBwcmV2aW91cyB2YWx1ZXMgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25zYCwgd2l0aCB0aGUgaW5kZXhlcyBtYXRjaGluZ1xyXG4gICAgICAgKiAgICB0aG9zZSBvZiBgd2F0Y2hFeHByZXNzaW9uYFxyXG4gICAgICAgKiAgICBUaGUgYHNjb3BlYCByZWZlcnMgdG8gdGhlIGN1cnJlbnQgc2NvcGUuXHJcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciBhbGwgbGlzdGVuZXJzLlxyXG4gICAgICAgKi9cclxuICAgICAgJHdhdGNoR3JvdXA6IGZ1bmN0aW9uKHdhdGNoRXhwcmVzc2lvbnMsIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdmFyIG9sZFZhbHVlcyA9IG5ldyBBcnJheSh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCk7XHJcbiAgICAgICAgdmFyIG5ld1ZhbHVlcyA9IG5ldyBBcnJheSh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCk7XHJcbiAgICAgICAgdmFyIGRlcmVnaXN0ZXJGbnMgPSBbXTtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGZpcnN0UnVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKCF3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgLy8gTm8gZXhwcmVzc2lvbnMgbWVhbnMgd2UgY2FsbCB0aGUgbGlzdGVuZXIgQVNBUFxyXG4gICAgICAgICAgdmFyIHNob3VsZENhbGwgPSB0cnVlO1xyXG4gICAgICAgICAgc2VsZi4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkQ2FsbCkgbGlzdGVuZXIobmV3VmFsdWVzLCBuZXdWYWx1ZXMsIHNlbGYpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3RlcldhdGNoR3JvdXAoKSB7XHJcbiAgICAgICAgICAgIHNob3VsZENhbGwgPSBmYWxzZTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBzaXplIG9mIG9uZVxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuJHdhdGNoKHdhdGNoRXhwcmVzc2lvbnNbMF0sIGZ1bmN0aW9uIHdhdGNoR3JvdXBBY3Rpb24odmFsdWUsIG9sZFZhbHVlLCBzY29wZSkge1xyXG4gICAgICAgICAgICBuZXdWYWx1ZXNbMF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgb2xkVmFsdWVzWzBdID0gb2xkVmFsdWU7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgKHZhbHVlID09PSBvbGRWYWx1ZSkgPyBuZXdWYWx1ZXMgOiBvbGRWYWx1ZXMsIHNjb3BlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yRWFjaCh3YXRjaEV4cHJlc3Npb25zLCBmdW5jdGlvbihleHByLCBpKSB7XHJcbiAgICAgICAgICB2YXIgdW53YXRjaEZuID0gc2VsZi4kd2F0Y2goZXhwciwgZnVuY3Rpb24gd2F0Y2hHcm91cFN1YkFjdGlvbih2YWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgbmV3VmFsdWVzW2ldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIG9sZFZhbHVlc1tpXSA9IG9sZFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoIWNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkKSB7XHJcbiAgICAgICAgICAgICAgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIHNlbGYuJGV2YWxBc3luYyh3YXRjaEdyb3VwQWN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBkZXJlZ2lzdGVyRm5zLnB1c2godW53YXRjaEZuKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbigpIHtcclxuICAgICAgICAgIGNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgaWYgKGZpcnN0UnVuKSB7XHJcbiAgICAgICAgICAgIGZpcnN0UnVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgbmV3VmFsdWVzLCBzZWxmKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgb2xkVmFsdWVzLCBzZWxmKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2hHcm91cCgpIHtcclxuICAgICAgICAgIHdoaWxlIChkZXJlZ2lzdGVyRm5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBkZXJlZ2lzdGVyRm5zLnNoaWZ0KCkoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvblxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2hhbGxvdyB3YXRjaGVzIHRoZSBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCBhbmQgZmlyZXMgd2hlbmV2ZXIgYW55IG9mIHRoZSBwcm9wZXJ0aWVzIGNoYW5nZVxyXG4gICAgICAgKiAoZm9yIGFycmF5cywgdGhpcyBpbXBsaWVzIHdhdGNoaW5nIHRoZSBhcnJheSBpdGVtczsgZm9yIG9iamVjdCBtYXBzLCB0aGlzIGltcGxpZXMgd2F0Y2hpbmdcclxuICAgICAgICogdGhlIHByb3BlcnRpZXMpLiBJZiBhIGNoYW5nZSBpcyBkZXRlY3RlZCwgdGhlIGBsaXN0ZW5lcmAgY2FsbGJhY2sgaXMgZmlyZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIC0gVGhlIGBvYmpgIGNvbGxlY3Rpb24gaXMgb2JzZXJ2ZWQgdmlhIHN0YW5kYXJkICR3YXRjaCBvcGVyYXRpb24gYW5kIGlzIGV4YW1pbmVkIG9uIGV2ZXJ5XHJcbiAgICAgICAqICAgY2FsbCB0byAkZGlnZXN0KCkgdG8gc2VlIGlmIGFueSBpdGVtcyBoYXZlIGJlZW4gYWRkZWQsIHJlbW92ZWQsIG9yIG1vdmVkLlxyXG4gICAgICAgKiAtIFRoZSBgbGlzdGVuZXJgIGlzIGNhbGxlZCB3aGVuZXZlciBhbnl0aGluZyB3aXRoaW4gdGhlIGBvYmpgIGhhcyBjaGFuZ2VkLiBFeGFtcGxlcyBpbmNsdWRlXHJcbiAgICAgICAqICAgYWRkaW5nLCByZW1vdmluZywgYW5kIG1vdmluZyBpdGVtcyBiZWxvbmdpbmcgdG8gYW4gb2JqZWN0IG9yIGFycmF5LlxyXG4gICAgICAgKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAjIEV4YW1wbGVcclxuICAgICAgICogYGBganNcclxuICAgICAgICAgICRzY29wZS5uYW1lcyA9IFsnaWdvcicsICdtYXRpYXMnLCAnbWlza28nLCAnamFtZXMnXTtcclxuICAgICAgICAgICRzY29wZS5kYXRhQ291bnQgPSA0O1xyXG5cclxuICAgICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCduYW1lcycsIGZ1bmN0aW9uKG5ld05hbWVzLCBvbGROYW1lcykge1xyXG4gICAgICAgICAgICAkc2NvcGUuZGF0YUNvdW50ID0gbmV3TmFtZXMubGVuZ3RoO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoNCk7XHJcbiAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpO1xyXG5cclxuICAgICAgICAgIC8vc3RpbGwgYXQgNCAuLi4gbm8gY2hhbmdlc1xyXG4gICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoNCk7XHJcblxyXG4gICAgICAgICAgJHNjb3BlLm5hbWVzLnBvcCgpO1xyXG4gICAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTtcclxuXHJcbiAgICAgICAgICAvL25vdyB0aGVyZSdzIGJlZW4gYSBjaGFuZ2VcclxuICAgICAgICAgIGV4cGVjdCgkc2NvcGUuZGF0YUNvdW50KS50b0VxdWFsKDMpO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb24oc2NvcGUpfSBvYmogRXZhbHVhdGVkIGFzIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LiBUaGVcclxuICAgICAgICogICAgZXhwcmVzc2lvbiB2YWx1ZSBzaG91bGQgZXZhbHVhdGUgdG8gYW4gb2JqZWN0IG9yIGFuIGFycmF5IHdoaWNoIGlzIG9ic2VydmVkIG9uIGVhY2hcclxuICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZS4gQW55IHNoYWxsb3cgY2hhbmdlIHdpdGhpbiB0aGVcclxuICAgICAgICogICAgY29sbGVjdGlvbiB3aWxsIHRyaWdnZXIgYSBjYWxsIHRvIHRoZSBgbGlzdGVuZXJgLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld0NvbGxlY3Rpb24sIG9sZENvbGxlY3Rpb24sIHNjb3BlKX0gbGlzdGVuZXIgYSBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWRcclxuICAgICAgICogICAgd2hlbiBhIGNoYW5nZSBpcyBkZXRlY3RlZC5cclxuICAgICAgICogICAgLSBUaGUgYG5ld0NvbGxlY3Rpb25gIG9iamVjdCBpcyB0aGUgbmV3bHkgbW9kaWZpZWQgZGF0YSBvYnRhaW5lZCBmcm9tIHRoZSBgb2JqYCBleHByZXNzaW9uXHJcbiAgICAgICAqICAgIC0gVGhlIGBvbGRDb2xsZWN0aW9uYCBvYmplY3QgaXMgYSBjb3B5IG9mIHRoZSBmb3JtZXIgY29sbGVjdGlvbiBkYXRhLlxyXG4gICAgICAgKiAgICAgIER1ZSB0byBwZXJmb3JtYW5jZSBjb25zaWRlcmF0aW9ucywgdGhlYG9sZENvbGxlY3Rpb25gIHZhbHVlIGlzIGNvbXB1dGVkIG9ubHkgaWYgdGhlXHJcbiAgICAgICAqICAgICAgYGxpc3RlbmVyYCBmdW5jdGlvbiBkZWNsYXJlcyB0d28gb3IgbW9yZSBhcmd1bWVudHMuXHJcbiAgICAgICAqICAgIC0gVGhlIGBzY29wZWAgYXJndW1lbnQgcmVmZXJzIHRvIHRoZSBjdXJyZW50IHNjb3BlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBsaXN0ZW5lci4gV2hlbiB0aGVcclxuICAgICAgICogICAgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkLCB0aGUgaW50ZXJuYWwgd2F0Y2ggb3BlcmF0aW9uIGlzIHRlcm1pbmF0ZWQuXHJcbiAgICAgICAqL1xyXG4gICAgICAkd2F0Y2hDb2xsZWN0aW9uOiBmdW5jdGlvbihvYmosIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yLiRzdGF0ZWZ1bCA9IHRydWU7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAvLyB0aGUgY3VycmVudCB2YWx1ZSwgdXBkYXRlZCBvbiBlYWNoIGRpcnR5LWNoZWNrIHJ1blxyXG4gICAgICAgIHZhciBuZXdWYWx1ZTtcclxuICAgICAgICAvLyBhIHNoYWxsb3cgY29weSBvZiB0aGUgbmV3VmFsdWUgZnJvbSB0aGUgbGFzdCBkaXJ0eS1jaGVjayBydW4sXHJcbiAgICAgICAgLy8gdXBkYXRlZCB0byBtYXRjaCBuZXdWYWx1ZSBkdXJpbmcgZGlydHktY2hlY2sgcnVuXHJcbiAgICAgICAgdmFyIG9sZFZhbHVlO1xyXG4gICAgICAgIC8vIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBuZXdWYWx1ZSBmcm9tIHdoZW4gdGhlIGxhc3QgY2hhbmdlIGhhcHBlbmVkXHJcbiAgICAgICAgdmFyIHZlcnlPbGRWYWx1ZTtcclxuICAgICAgICAvLyBvbmx5IHRyYWNrIHZlcnlPbGRWYWx1ZSBpZiB0aGUgbGlzdGVuZXIgaXMgYXNraW5nIGZvciBpdFxyXG4gICAgICAgIHZhciB0cmFja1ZlcnlPbGRWYWx1ZSA9IChsaXN0ZW5lci5sZW5ndGggPiAxKTtcclxuICAgICAgICB2YXIgY2hhbmdlRGV0ZWN0ZWQgPSAwO1xyXG4gICAgICAgIHZhciBjaGFuZ2VEZXRlY3RvciA9ICRwYXJzZShvYmosICR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvcik7XHJcbiAgICAgICAgdmFyIGludGVybmFsQXJyYXkgPSBbXTtcclxuICAgICAgICB2YXIgaW50ZXJuYWxPYmplY3QgPSB7fTtcclxuICAgICAgICB2YXIgaW5pdFJ1biA9IHRydWU7XHJcbiAgICAgICAgdmFyIG9sZExlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvcihfdmFsdWUpIHtcclxuICAgICAgICAgIG5ld1ZhbHVlID0gX3ZhbHVlO1xyXG4gICAgICAgICAgdmFyIG5ld0xlbmd0aCwga2V5LCBib3RoTmFOLCBuZXdJdGVtLCBvbGRJdGVtO1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoZSBuZXcgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGVuIHJldHVybiB1bmRlZmluZWQgYXMgdGhlIHdhdGNoIG1heSBiZSBhIG9uZS10aW1lIHdhdGNoXHJcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQobmV3VmFsdWUpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgaWYgKCFpc09iamVjdChuZXdWYWx1ZSkpIHsgLy8gaWYgcHJpbWl0aXZlXHJcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUxpa2UobmV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gaW50ZXJuYWxBcnJheSkge1xyXG4gICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gYXJyYXkgaW50byBhcnJheS5cclxuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGludGVybmFsQXJyYXk7XHJcbiAgICAgICAgICAgICAgb2xkTGVuZ3RoID0gb2xkVmFsdWUubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuZXdMZW5ndGggPSBuZXdWYWx1ZS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBpZiAob2xkTGVuZ3RoICE9PSBuZXdMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAvLyBpZiBsZW5ndGhzIGRvIG5vdCBtYXRjaCB3ZSBuZWVkIHRvIHRyaWdnZXIgY2hhbmdlIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XHJcbiAgICAgICAgICAgICAgb2xkVmFsdWUubGVuZ3RoID0gb2xkTGVuZ3RoID0gbmV3TGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvcHkgdGhlIGl0ZW1zIHRvIG9sZFZhbHVlIGFuZCBsb29rIGZvciBjaGFuZ2VzLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0xlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgb2xkSXRlbSA9IG9sZFZhbHVlW2ldO1xyXG4gICAgICAgICAgICAgIG5ld0l0ZW0gPSBuZXdWYWx1ZVtpXTtcclxuXHJcbiAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgaWYgKCFib3RoTmFOICYmIChvbGRJdGVtICE9PSBuZXdJdGVtKSkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlW2ldID0gbmV3SXRlbTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gaW50ZXJuYWxPYmplY3QpIHtcclxuICAgICAgICAgICAgICAvLyB3ZSBhcmUgdHJhbnNpdGlvbmluZyBmcm9tIHNvbWV0aGluZyB3aGljaCB3YXMgbm90IGFuIG9iamVjdCBpbnRvIG9iamVjdC5cclxuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGludGVybmFsT2JqZWN0ID0ge307XHJcbiAgICAgICAgICAgICAgb2xkTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvcHkgdGhlIGl0ZW1zIHRvIG9sZFZhbHVlIGFuZCBsb29rIGZvciBjaGFuZ2VzLlxyXG4gICAgICAgICAgICBuZXdMZW5ndGggPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG5ld1ZhbHVlLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdMZW5ndGgrKztcclxuICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSBuZXdWYWx1ZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgb2xkSXRlbSA9IG9sZFZhbHVlW2tleV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICBib3RoTmFOID0gKG9sZEl0ZW0gIT09IG9sZEl0ZW0pICYmIChuZXdJdGVtICE9PSBuZXdJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgaWYgKCFib3RoTmFOICYmIChvbGRJdGVtICE9PSBuZXdJdGVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWVba2V5XSA9IG5ld0l0ZW07XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIG9sZExlbmd0aCsrO1xyXG4gICAgICAgICAgICAgICAgICBvbGRWYWx1ZVtrZXldID0gbmV3SXRlbTtcclxuICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xyXG4gICAgICAgICAgICAgIC8vIHdlIHVzZWQgdG8gaGF2ZSBtb3JlIGtleXMsIG5lZWQgdG8gZmluZCB0aGVtIGFuZCBkZXN0cm95IHRoZW0uXHJcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgICBmb3IgKGtleSBpbiBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG5ld1ZhbHVlLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgIG9sZExlbmd0aC0tO1xyXG4gICAgICAgICAgICAgICAgICBkZWxldGUgb2xkVmFsdWVba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBjaGFuZ2VEZXRlY3RlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25BY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoaW5pdFJ1bikge1xyXG4gICAgICAgICAgICBpbml0UnVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCBuZXdWYWx1ZSwgc2VsZik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZSwgdmVyeU9sZFZhbHVlLCBzZWxmKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBtYWtlIGEgY29weSBmb3IgdGhlIG5leHQgdGltZSBhIGNvbGxlY3Rpb24gaXMgY2hhbmdlZFxyXG4gICAgICAgICAgaWYgKHRyYWNrVmVyeU9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNPYmplY3QobmV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgLy9wcmltaXRpdmVcclxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5TGlrZShuZXdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSBuZXcgQXJyYXkobmV3VmFsdWUubGVuZ3RoKTtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1ZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWVbaV0gPSBuZXdWYWx1ZVtpXTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGlmIG9iamVjdFxyXG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IHt9O1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlW2tleV0gPSBuZXdWYWx1ZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJHdhdGNoKGNoYW5nZURldGVjdG9yLCAkd2F0Y2hDb2xsZWN0aW9uQWN0aW9uKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUHJvY2Vzc2VzIGFsbCBvZiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJzfSBvZiB0aGUgY3VycmVudCBzY29wZSBhbmRcclxuICAgICAgICogaXRzIGNoaWxkcmVuLiBCZWNhdXNlIGEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJ9J3MgbGlzdGVuZXIgY2FuIGNoYW5nZVxyXG4gICAgICAgKiB0aGUgbW9kZWwsIHRoZSBgJGRpZ2VzdCgpYCBrZWVwcyBjYWxsaW5nIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcnN9XHJcbiAgICAgICAqIHVudGlsIG5vIG1vcmUgbGlzdGVuZXJzIGFyZSBmaXJpbmcuIFRoaXMgbWVhbnMgdGhhdCBpdCBpcyBwb3NzaWJsZSB0byBnZXQgaW50byBhbiBpbmZpbml0ZVxyXG4gICAgICAgKiBsb29wLiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYCdNYXhpbXVtIGl0ZXJhdGlvbiBsaW1pdCBleGNlZWRlZC4nYCBpZiB0aGUgbnVtYmVyIG9mXHJcbiAgICAgICAqIGl0ZXJhdGlvbnMgZXhjZWVkcyAxMC5cclxuICAgICAgICpcclxuICAgICAgICogVXN1YWxseSwgeW91IGRvbid0IGNhbGwgYCRkaWdlc3QoKWAgZGlyZWN0bHkgaW5cclxuICAgICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NvbnRyb2xsZXIgY29udHJvbGxlcnN9IG9yIGluXHJcbiAgICAgICAqIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS5cclxuICAgICAgICogSW5zdGVhZCwgeW91IHNob3VsZCBjYWxsIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHkoKX0gKHR5cGljYWxseSBmcm9tIHdpdGhpblxyXG4gICAgICAgKiBhIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmV9KSwgd2hpY2ggd2lsbCBmb3JjZSBhIGAkZGlnZXN0KClgLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBJZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCB3aGVuZXZlciBgJGRpZ2VzdCgpYCBpcyBjYWxsZWQsXHJcbiAgICAgICAqIHlvdSBjYW4gcmVnaXN0ZXIgYSBgd2F0Y2hFeHByZXNzaW9uYCBmdW5jdGlvbiB3aXRoXHJcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCAkd2F0Y2goKX0gd2l0aCBubyBgbGlzdGVuZXJgLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBJbiB1bml0IHRlc3RzLCB5b3UgbWF5IG5lZWQgdG8gY2FsbCBgJGRpZ2VzdCgpYCB0byBzaW11bGF0ZSB0aGUgc2NvcGUgbGlmZSBjeWNsZS5cclxuICAgICAgICpcclxuICAgICAgICogIyBFeGFtcGxlXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICAgdmFyIHNjb3BlID0gLi4uO1xyXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnbWlza28nO1xyXG4gICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xyXG5cclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcclxuICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSBzY29wZS5jb3VudGVyICsgMTtcclxuICAgICAgICAgICB9KTtcclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcclxuXHJcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciBpcyBhbHdheXMgY2FsbGVkIGR1cmluZyB0aGUgZmlyc3QgJGRpZ2VzdCBsb29wIGFmdGVyIGl0IHdhcyByZWdpc3RlcmVkXHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7XHJcblxyXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAvLyBidXQgbm93IGl0IHdpbGwgbm90IGJlIGNhbGxlZCB1bmxlc3MgdGhlIHZhbHVlIGNoYW5nZXNcclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcclxuXHJcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdhZGFtJztcclxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKi9cclxuICAgICAgJGRpZ2VzdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHdhdGNoLCB2YWx1ZSwgbGFzdCwgZm4sIGdldCxcclxuICAgICAgICAgICAgd2F0Y2hlcnMsXHJcbiAgICAgICAgICAgIGxlbmd0aCxcclxuICAgICAgICAgICAgZGlydHksIHR0bCA9IFRUTCxcclxuICAgICAgICAgICAgbmV4dCwgY3VycmVudCwgdGFyZ2V0ID0gdGhpcyxcclxuICAgICAgICAgICAgd2F0Y2hMb2cgPSBbXSxcclxuICAgICAgICAgICAgbG9nSWR4LCBhc3luY1Rhc2s7XHJcblxyXG4gICAgICAgIGJlZ2luUGhhc2UoJyRkaWdlc3QnKTtcclxuICAgICAgICAvLyBDaGVjayBmb3IgY2hhbmdlcyB0byBicm93c2VyIHVybCB0aGF0IGhhcHBlbmVkIGluIHN5bmMgYmVmb3JlIHRoZSBjYWxsIHRvICRkaWdlc3RcclxuICAgICAgICAkYnJvd3Nlci4kJGNoZWNrVXJsQ2hhbmdlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzID09PSAkcm9vdFNjb3BlICYmIGFwcGx5QXN5bmNJZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgcm9vdCBzY29wZSwgYW5kICRhcHBseUFzeW5jIGhhcyBzY2hlZHVsZWQgYSBkZWZlcnJlZCAkYXBwbHkoKSwgdGhlblxyXG4gICAgICAgICAgLy8gY2FuY2VsIHRoZSBzY2hlZHVsZWQgJGFwcGx5IGFuZCBmbHVzaCB0aGUgcXVldWUgb2YgZXhwcmVzc2lvbnMgdG8gYmUgZXZhbHVhdGVkLlxyXG4gICAgICAgICAgJGJyb3dzZXIuZGVmZXIuY2FuY2VsKGFwcGx5QXN5bmNJZCk7XHJcbiAgICAgICAgICBmbHVzaEFwcGx5QXN5bmMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcclxuXHJcbiAgICAgICAgZG8geyAvLyBcIndoaWxlIGRpcnR5XCIgbG9vcFxyXG4gICAgICAgICAgZGlydHkgPSBmYWxzZTtcclxuICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQ7XHJcblxyXG4gICAgICAgICAgd2hpbGUgKGFzeW5jUXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgYXN5bmNUYXNrID0gYXN5bmNRdWV1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgIGFzeW5jVGFzay5zY29wZS4kZXZhbChhc3luY1Rhc2suZXhwcmVzc2lvbiwgYXN5bmNUYXNrLmxvY2Fscyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdHJhdmVyc2VTY29wZXNMb29wOlxyXG4gICAgICAgICAgZG8geyAvLyBcInRyYXZlcnNlIHRoZSBzY29wZXNcIiBsb29wXHJcbiAgICAgICAgICAgIGlmICgod2F0Y2hlcnMgPSBjdXJyZW50LiQkd2F0Y2hlcnMpKSB7XHJcbiAgICAgICAgICAgICAgLy8gcHJvY2VzcyBvdXIgd2F0Y2hlc1xyXG4gICAgICAgICAgICAgIGxlbmd0aCA9IHdhdGNoZXJzLmxlbmd0aDtcclxuICAgICAgICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgIHdhdGNoID0gd2F0Y2hlcnNbbGVuZ3RoXTtcclxuICAgICAgICAgICAgICAgICAgLy8gTW9zdCBjb21tb24gd2F0Y2hlcyBhcmUgb24gcHJpbWl0aXZlcywgaW4gd2hpY2ggY2FzZSB3ZSBjYW4gc2hvcnRcclxuICAgICAgICAgICAgICAgICAgLy8gY2lyY3VpdCBpdCB3aXRoID09PSBvcGVyYXRvciwgb25seSB3aGVuID09PSBmYWlscyBkbyB3ZSB1c2UgLmVxdWFsc1xyXG4gICAgICAgICAgICAgICAgICBpZiAod2F0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXQgPSB3YXRjaC5nZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSA9IGdldChjdXJyZW50KSkgIT09IChsYXN0ID0gd2F0Y2gubGFzdCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgISh3YXRjaC5lcVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlcXVhbHModmFsdWUsIGxhc3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBsYXN0ID09PSAnbnVtYmVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgaXNOYU4odmFsdWUpICYmIGlzTmFOKGxhc3QpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGxhc3REaXJ0eVdhdGNoID0gd2F0Y2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICB3YXRjaC5sYXN0ID0gd2F0Y2guZXEgPyBjb3B5KHZhbHVlLCBudWxsKSA6IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgZm4gPSB3YXRjaC5mbjtcclxuICAgICAgICAgICAgICAgICAgICAgIGZuKHZhbHVlLCAoKGxhc3QgPT09IGluaXRXYXRjaFZhbCkgPyB2YWx1ZSA6IGxhc3QpLCBjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICh0dGwgPCA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0lkeCA9IDQgLSB0dGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2F0Y2hMb2dbbG9nSWR4XSkgd2F0Y2hMb2dbbG9nSWR4XSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaExvZ1tsb2dJZHhdLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogaXNGdW5jdGlvbih3YXRjaC5leHApID8gJ2ZuOiAnICsgKHdhdGNoLmV4cC5uYW1lIHx8IHdhdGNoLmV4cC50b1N0cmluZygpKSA6IHdhdGNoLmV4cCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWw6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbDogbGFzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdhdGNoID09PSBsYXN0RGlydHlXYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG1vc3QgcmVjZW50bHkgZGlydHkgd2F0Y2hlciBpcyBub3cgY2xlYW4sIHNob3J0IGNpcmN1aXQgc2luY2UgdGhlIHJlbWFpbmluZyB3YXRjaGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gaGF2ZSBhbHJlYWR5IGJlZW4gdGVzdGVkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgZGlydHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHRyYXZlcnNlU2NvcGVzTG9vcDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJbnNhbml0eSBXYXJuaW5nOiBzY29wZSBkZXB0aC1maXJzdCB0cmF2ZXJzYWxcclxuICAgICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcclxuICAgICAgICAgICAgLy8gdGhpcyBwaWVjZSBzaG91bGQgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIHRyYXZlcnNhbCBpbiAkYnJvYWRjYXN0XHJcbiAgICAgICAgICAgIGlmICghKG5leHQgPSAoKGN1cnJlbnQuJCR3YXRjaGVyc0NvdW50ICYmIGN1cnJlbnQuJCRjaGlsZEhlYWQpIHx8XHJcbiAgICAgICAgICAgICAgICAoY3VycmVudCAhPT0gdGFyZ2V0ICYmIGN1cnJlbnQuJCRuZXh0U2libGluZykpKSkge1xyXG4gICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgIShuZXh0ID0gY3VycmVudC4kJG5leHRTaWJsaW5nKSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gbmV4dCkpO1xyXG5cclxuICAgICAgICAgIC8vIGBicmVhayB0cmF2ZXJzZVNjb3Blc0xvb3A7YCB0YWtlcyB1cyB0byBoZXJlXHJcblxyXG4gICAgICAgICAgaWYgKChkaXJ0eSB8fCBhc3luY1F1ZXVlLmxlbmd0aCkgJiYgISh0dGwtLSkpIHtcclxuICAgICAgICAgICAgY2xlYXJQaGFzZSgpO1xyXG4gICAgICAgICAgICB0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCdpbmZkaWcnLFxyXG4gICAgICAgICAgICAgICAgJ3swfSAkZGlnZXN0KCkgaXRlcmF0aW9ucyByZWFjaGVkLiBBYm9ydGluZyFcXG4nICtcclxuICAgICAgICAgICAgICAgICdXYXRjaGVycyBmaXJlZCBpbiB0aGUgbGFzdCA1IGl0ZXJhdGlvbnM6IHsxfScsXHJcbiAgICAgICAgICAgICAgICBUVEwsIHdhdGNoTG9nKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSB3aGlsZSAoZGlydHkgfHwgYXN5bmNRdWV1ZS5sZW5ndGgpO1xyXG5cclxuICAgICAgICBjbGVhclBoYXNlKCk7XHJcblxyXG4gICAgICAgIHdoaWxlIChwb3N0RGlnZXN0UXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBwb3N0RGlnZXN0UXVldWUuc2hpZnQoKSgpO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBldmVudFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95XHJcbiAgICAgICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHNjb3BlIGJlaW5nIGRlc3Ryb3llZFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogQnJvYWRjYXN0ZWQgd2hlbiBhIHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4gYXJlIGJlaW5nIGRlc3Ryb3llZC5cclxuICAgICAgICpcclxuICAgICAgICogTm90ZSB0aGF0LCBpbiBBbmd1bGFySlMsIHRoZXJlIGlzIGFsc28gYSBgJGRlc3Ryb3lgIGpRdWVyeSBldmVudCwgd2hpY2ggY2FuIGJlIHVzZWQgdG9cclxuICAgICAgICogY2xlYW4gdXAgRE9NIGJpbmRpbmdzIGJlZm9yZSBhbiBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3lcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFJlbW92ZXMgdGhlIGN1cnJlbnQgc2NvcGUgKGFuZCBhbGwgb2YgaXRzIGNoaWxkcmVuKSBmcm9tIHRoZSBwYXJlbnQgc2NvcGUuIFJlbW92YWwgaW1wbGllc1xyXG4gICAgICAgKiB0aGF0IGNhbGxzIHRvIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSB3aWxsIG5vIGxvbmdlclxyXG4gICAgICAgKiBwcm9wYWdhdGUgdG8gdGhlIGN1cnJlbnQgc2NvcGUgYW5kIGl0cyBjaGlsZHJlbi4gUmVtb3ZhbCBhbHNvIGltcGxpZXMgdGhhdCB0aGUgY3VycmVudFxyXG4gICAgICAgKiBzY29wZSBpcyBlbGlnaWJsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgYCRkZXN0cm95KClgIGlzIHVzdWFsbHkgdXNlZCBieSBkaXJlY3RpdmVzIHN1Y2ggYXNcclxuICAgICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBuZ1JlcGVhdH0gZm9yIG1hbmFnaW5nIHRoZVxyXG4gICAgICAgKiB1bnJvbGxpbmcgb2YgdGhlIGxvb3AuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEp1c3QgYmVmb3JlIGEgc2NvcGUgaXMgZGVzdHJveWVkLCBhIGAkZGVzdHJveWAgZXZlbnQgaXMgYnJvYWRjYXN0ZWQgb24gdGhpcyBzY29wZS5cclxuICAgICAgICogQXBwbGljYXRpb24gY29kZSBjYW4gcmVnaXN0ZXIgYSBgJGRlc3Ryb3lgIGV2ZW50IGhhbmRsZXIgdGhhdCB3aWxsIGdpdmUgaXQgYSBjaGFuY2UgdG9cclxuICAgICAgICogcGVyZm9ybSBhbnkgbmVjZXNzYXJ5IGNsZWFudXAuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXHJcbiAgICAgICAqIGNsZWFuIHVwIERPTSBiaW5kaW5ncyBiZWZvcmUgYW4gZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cclxuICAgICAgICovXHJcbiAgICAgICRkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBXZSBjYW4ndCBkZXN0cm95IGEgc2NvcGUgdGhhdCBoYXMgYmVlbiBhbHJlYWR5IGRlc3Ryb3llZC5cclxuICAgICAgICBpZiAodGhpcy4kJGRlc3Ryb3llZCkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLiRwYXJlbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuJGJyb2FkY2FzdCgnJGRlc3Ryb3knKTtcclxuICAgICAgICB0aGlzLiQkZGVzdHJveWVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMgPT09ICRyb290U2NvcGUpIHtcclxuICAgICAgICAgIC8vUmVtb3ZlIGhhbmRsZXJzIGF0dGFjaGVkIHRvIHdpbmRvdyB3aGVuICRyb290U2NvcGUgaXMgcmVtb3ZlZFxyXG4gICAgICAgICAgJGJyb3dzZXIuJCRhcHBsaWNhdGlvbkRlc3Ryb3llZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5jcmVtZW50V2F0Y2hlcnNDb3VudCh0aGlzLCAtdGhpcy4kJHdhdGNoZXJzQ291bnQpO1xyXG4gICAgICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudCkge1xyXG4gICAgICAgICAgZGVjcmVtZW50TGlzdGVuZXJDb3VudCh0aGlzLCB0aGlzLiQkbGlzdGVuZXJDb3VudFtldmVudE5hbWVdLCBldmVudE5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2V2ZXIgYWxsIHRoZSByZWZlcmVuY2VzIHRvIHBhcmVudCBzY29wZXMgKGFmdGVyIHRoaXMgY2xlYW51cCwgdGhlIGN1cnJlbnQgc2NvcGUgc2hvdWxkXHJcbiAgICAgICAgLy8gbm90IGJlIHJldGFpbmVkIGJ5IGFueSBvZiBvdXIgcmVmZXJlbmNlcyBhbmQgc2hvdWxkIGJlIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24pXHJcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuJCRjaGlsZEhlYWQgPT0gdGhpcykgcGFyZW50LiQkY2hpbGRIZWFkID0gdGhpcy4kJG5leHRTaWJsaW5nO1xyXG4gICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LiQkY2hpbGRUYWlsID09IHRoaXMpIHBhcmVudC4kJGNoaWxkVGFpbCA9IHRoaXMuJCRwcmV2U2libGluZztcclxuICAgICAgICBpZiAodGhpcy4kJHByZXZTaWJsaW5nKSB0aGlzLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZyA9IHRoaXMuJCRuZXh0U2libGluZztcclxuICAgICAgICBpZiAodGhpcy4kJG5leHRTaWJsaW5nKSB0aGlzLiQkbmV4dFNpYmxpbmcuJCRwcmV2U2libGluZyA9IHRoaXMuJCRwcmV2U2libGluZztcclxuXHJcbiAgICAgICAgLy8gRGlzYWJsZSBsaXN0ZW5lcnMsIHdhdGNoZXJzIGFuZCBhcHBseS9kaWdlc3QgbWV0aG9kc1xyXG4gICAgICAgIHRoaXMuJGRlc3Ryb3kgPSB0aGlzLiRkaWdlc3QgPSB0aGlzLiRhcHBseSA9IHRoaXMuJGV2YWxBc3luYyA9IHRoaXMuJGFwcGx5QXN5bmMgPSBub29wO1xyXG4gICAgICAgIHRoaXMuJG9uID0gdGhpcy4kd2F0Y2ggPSB0aGlzLiR3YXRjaEdyb3VwID0gZnVuY3Rpb24oKSB7IHJldHVybiBub29wOyB9O1xyXG4gICAgICAgIHRoaXMuJCRsaXN0ZW5lcnMgPSB7fTtcclxuXHJcbiAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgbmV4dCBzaWJsaW5nIHRvIHByZXZlbnQgYGNsZWFuVXBTY29wZWAgZGVzdHJveWluZyB0aG9zZSB0b29cclxuICAgICAgICB0aGlzLiQkbmV4dFNpYmxpbmcgPSBudWxsO1xyXG4gICAgICAgIGNsZWFuVXBTY29wZSh0aGlzKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGV2YWxcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIEV4ZWN1dGVzIHRoZSBgZXhwcmVzc2lvbmAgb24gdGhlIGN1cnJlbnQgc2NvcGUgYW5kIHJldHVybnMgdGhlIHJlc3VsdC4gQW55IGV4Y2VwdGlvbnMgaW5cclxuICAgICAgICogdGhlIGV4cHJlc3Npb24gYXJlIHByb3BhZ2F0ZWQgKHVuY2F1Z2h0KS4gVGhpcyBpcyB1c2VmdWwgd2hlbiBldmFsdWF0aW5nIEFuZ3VsYXJcclxuICAgICAgICogZXhwcmVzc2lvbnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMgRXhhbXBsZVxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgICAgIHZhciBzY29wZSA9IG5nLiRyb290U2NvcGUuU2NvcGUoKTtcclxuICAgICAgICAgICBzY29wZS5hID0gMTtcclxuICAgICAgICAgICBzY29wZS5iID0gMjtcclxuXHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLiRldmFsKCdhK2InKSkudG9FcXVhbCgzKTtcclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuJGV2YWwoZnVuY3Rpb24oc2NvcGUpeyByZXR1cm4gc2NvcGUuYSArIHNjb3BlLmI7IH0pKS50b0VxdWFsKDMpO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwcmVzc2lvbiBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4gIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxyXG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyhvYmplY3QpPX0gbG9jYWxzIExvY2FsIHZhcmlhYmxlcyBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW4gc2NvcGUuXHJcbiAgICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24uXHJcbiAgICAgICAqL1xyXG4gICAgICAkZXZhbDogZnVuY3Rpb24oZXhwciwgbG9jYWxzKSB7XHJcbiAgICAgICAgcmV0dXJuICRwYXJzZShleHByKSh0aGlzLCBsb2NhbHMpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbEFzeW5jXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBFeGVjdXRlcyB0aGUgZXhwcmVzc2lvbiBvbiB0aGUgY3VycmVudCBzY29wZSBhdCBhIGxhdGVyIHBvaW50IGluIHRpbWUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSBgJGV2YWxBc3luY2AgbWFrZXMgbm8gZ3VhcmFudGVlcyBhcyB0byB3aGVuIHRoZSBgZXhwcmVzc2lvbmAgd2lsbCBiZSBleGVjdXRlZCwgb25seVxyXG4gICAgICAgKiB0aGF0OlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgIC0gaXQgd2lsbCBleGVjdXRlIGFmdGVyIHRoZSBmdW5jdGlvbiB0aGF0IHNjaGVkdWxlZCB0aGUgZXZhbHVhdGlvbiAocHJlZmVyYWJseSBiZWZvcmUgRE9NXHJcbiAgICAgICAqICAgICByZW5kZXJpbmcpLlxyXG4gICAgICAgKiAgIC0gYXQgbGVhc3Qgb25lIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCBjeWNsZX0gd2lsbCBiZSBwZXJmb3JtZWQgYWZ0ZXJcclxuICAgICAgICogICAgIGBleHByZXNzaW9uYCBleGVjdXRpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEFueSBleGNlcHRpb25zIGZyb20gdGhlIGV4ZWN1dGlvbiBvZiB0aGUgZXhwcmVzc2lvbiBhcmUgZm9yd2FyZGVkIHRvIHRoZVxyXG4gICAgICAgKiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIF9fTm90ZTpfXyBpZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgYCRkaWdlc3RgIGN5Y2xlLCBhIG5ldyBgJGRpZ2VzdGAgY3ljbGVcclxuICAgICAgICogd2lsbCBiZSBzY2hlZHVsZWQuIEhvd2V2ZXIsIGl0IGlzIGVuY291cmFnZWQgdG8gYWx3YXlzIGNhbGwgY29kZSB0aGF0IGNoYW5nZXMgdGhlIG1vZGVsXHJcbiAgICAgICAqIGZyb20gd2l0aGluIGFuIGAkYXBwbHlgIGNhbGwuIFRoYXQgaW5jbHVkZXMgY29kZSBldmFsdWF0ZWQgdmlhIGAkZXZhbEFzeW5jYC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwcmVzc2lvbiBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXHJcbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7KG9iamVjdCk9fSBsb2NhbHMgTG9jYWwgdmFyaWFibGVzIG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpbiBzY29wZS5cclxuICAgICAgICovXHJcbiAgICAgICRldmFsQXN5bmM6IGZ1bmN0aW9uKGV4cHIsIGxvY2Fscykge1xyXG4gICAgICAgIC8vIGlmIHdlIGFyZSBvdXRzaWRlIG9mIGFuICRkaWdlc3QgbG9vcCBhbmQgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSB3ZSBhcmUgc2NoZWR1bGluZyBhc3luY1xyXG4gICAgICAgIC8vIHRhc2sgYWxzbyBzY2hlZHVsZSBhc3luYyBhdXRvLWZsdXNoXHJcbiAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UgJiYgIWFzeW5jUXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGFzeW5jUXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXN5bmNRdWV1ZS5wdXNoKHtzY29wZTogdGhpcywgZXhwcmVzc2lvbjogJHBhcnNlKGV4cHIpLCBsb2NhbHM6IGxvY2Fsc30pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgJCRwb3N0RGlnZXN0OiBmdW5jdGlvbihmbikge1xyXG4gICAgICAgIHBvc3REaWdlc3RRdWV1ZS5wdXNoKGZuKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGFwcGx5XHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBgJGFwcGx5KClgIGlzIHVzZWQgdG8gZXhlY3V0ZSBhbiBleHByZXNzaW9uIGluIGFuZ3VsYXIgZnJvbSBvdXRzaWRlIG9mIHRoZSBhbmd1bGFyXHJcbiAgICAgICAqIGZyYW1ld29yay4gKEZvciBleGFtcGxlIGZyb20gYnJvd3NlciBET00gZXZlbnRzLCBzZXRUaW1lb3V0LCBYSFIgb3IgdGhpcmQgcGFydHkgbGlicmFyaWVzKS5cclxuICAgICAgICogQmVjYXVzZSB3ZSBhcmUgY2FsbGluZyBpbnRvIHRoZSBhbmd1bGFyIGZyYW1ld29yayB3ZSBuZWVkIHRvIHBlcmZvcm0gcHJvcGVyIHNjb3BlIGxpZmVcclxuICAgICAgICogY3ljbGUgb2Yge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyIGV4Y2VwdGlvbiBoYW5kbGluZ30sXHJcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgZXhlY3V0aW5nIHdhdGNoZXN9LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAjIyBMaWZlIGN5Y2xlXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMgUHNldWRvLUNvZGUgb2YgYCRhcHBseSgpYFxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgICAgIGZ1bmN0aW9uICRhcHBseShleHByKSB7XHJcbiAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICByZXR1cm4gJGV2YWwoZXhwcik7XHJcbiAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgJHJvb3QuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH1cclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFNjb3BlJ3MgYCRhcHBseSgpYCBtZXRob2QgdHJhbnNpdGlvbnMgdGhyb3VnaCB0aGUgZm9sbG93aW5nIHN0YWdlczpcclxuICAgICAgICpcclxuICAgICAgICogMS4gVGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIGV4ZWN1dGVkIHVzaW5nIHRoZVxyXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZXZhbCAkZXZhbCgpfSBtZXRob2QuXHJcbiAgICAgICAqIDIuIEFueSBleGNlcHRpb25zIGZyb20gdGhlIGV4ZWN1dGlvbiBvZiB0aGUgZXhwcmVzc2lvbiBhcmUgZm9yd2FyZGVkIHRvIHRoZVxyXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXHJcbiAgICAgICAqIDMuIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2h9IGxpc3RlbmVycyBhcmUgZmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXHJcbiAgICAgICAqICAgIGV4cHJlc3Npb24gd2FzIGV4ZWN1dGVkIHVzaW5nIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gbWV0aG9kLlxyXG4gICAgICAgKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHAgQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxyXG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24uXHJcbiAgICAgICAqL1xyXG4gICAgICAkYXBwbHk6IGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgYmVnaW5QaGFzZSgnJGFwcGx5Jyk7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kZXZhbChleHByKTtcclxuICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIGNsZWFyUGhhc2UoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGFwcGx5QXN5bmNcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFNjaGVkdWxlIHRoZSBpbnZvY2F0aW9uIG9mICRhcHBseSB0byBvY2N1ciBhdCBhIGxhdGVyIHRpbWUuIFRoZSBhY3R1YWwgdGltZSBkaWZmZXJlbmNlXHJcbiAgICAgICAqIHZhcmllcyBhY3Jvc3MgYnJvd3NlcnMsIGJ1dCBpcyB0eXBpY2FsbHkgYXJvdW5kIH4xMCBtaWxsaXNlY29uZHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcXVldWUgdXAgbXVsdGlwbGUgZXhwcmVzc2lvbnMgd2hpY2ggbmVlZCB0byBiZSBldmFsdWF0ZWQgaW4gdGhlIHNhbWVcclxuICAgICAgICogZGlnZXN0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHAgQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxyXG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXHJcbiAgICAgICAqL1xyXG4gICAgICAkYXBwbHlBc3luYzogZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICAgIHZhciBzY29wZSA9IHRoaXM7XHJcbiAgICAgICAgZXhwciAmJiBhcHBseUFzeW5jUXVldWUucHVzaCgkYXBwbHlBc3luY0V4cHJlc3Npb24pO1xyXG4gICAgICAgIGV4cHIgPSAkcGFyc2UoZXhwcik7XHJcbiAgICAgICAgc2NoZWR1bGVBcHBseUFzeW5jKCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uICRhcHBseUFzeW5jRXhwcmVzc2lvbigpIHtcclxuICAgICAgICAgIHNjb3BlLiRldmFsKGV4cHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG9uXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBMaXN0ZW5zIG9uIGV2ZW50cyBvZiBhIGdpdmVuIHR5cGUuIFNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZW1pdCAkZW1pdH0gZm9yXHJcbiAgICAgICAqIGRpc2N1c3Npb24gb2YgZXZlbnQgbGlmZSBjeWNsZS5cclxuICAgICAgICpcclxuICAgICAgICogVGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIGZvcm1hdCBpczogYGZ1bmN0aW9uKGV2ZW50LCBhcmdzLi4uKWAuIFRoZSBgZXZlbnRgIG9iamVjdFxyXG4gICAgICAgKiBwYXNzZWQgaW50byB0aGUgbGlzdGVuZXIgaGFzIHRoZSBmb2xsb3dpbmcgYXR0cmlidXRlczpcclxuICAgICAgICpcclxuICAgICAgICogICAtIGB0YXJnZXRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSBvbiB3aGljaCB0aGUgZXZlbnQgd2FzIGAkZW1pdGAtZWQgb3JcclxuICAgICAgICogICAgIGAkYnJvYWRjYXN0YC1lZC5cclxuICAgICAgICogICAtIGBjdXJyZW50U2NvcGVgIC0gYHtTY29wZX1gOiB0aGUgc2NvcGUgdGhhdCBpcyBjdXJyZW50bHkgaGFuZGxpbmcgdGhlIGV2ZW50LiBPbmNlIHRoZVxyXG4gICAgICAgKiAgICAgZXZlbnQgcHJvcGFnYXRlcyB0aHJvdWdoIHRoZSBzY29wZSBoaWVyYXJjaHksIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIG51bGwuXHJcbiAgICAgICAqICAgLSBgbmFtZWAgLSBge3N0cmluZ31gOiBuYW1lIG9mIHRoZSBldmVudC5cclxuICAgICAgICogICAtIGBzdG9wUHJvcGFnYXRpb25gIC0gYHtmdW5jdGlvbj19YDogY2FsbGluZyBgc3RvcFByb3BhZ2F0aW9uYCBmdW5jdGlvbiB3aWxsIGNhbmNlbFxyXG4gICAgICAgKiAgICAgZnVydGhlciBldmVudCBwcm9wYWdhdGlvbiAoYXZhaWxhYmxlIG9ubHkgZm9yIGV2ZW50cyB0aGF0IHdlcmUgYCRlbWl0YC1lZCkuXHJcbiAgICAgICAqICAgLSBgcHJldmVudERlZmF1bHRgIC0gYHtmdW5jdGlvbn1gOiBjYWxsaW5nIGBwcmV2ZW50RGVmYXVsdGAgc2V0cyBgZGVmYXVsdFByZXZlbnRlZGAgZmxhZ1xyXG4gICAgICAgKiAgICAgdG8gdHJ1ZS5cclxuICAgICAgICogICAtIGBkZWZhdWx0UHJldmVudGVkYCAtIGB7Ym9vbGVhbn1gOiB0cnVlIGlmIGBwcmV2ZW50RGVmYXVsdGAgd2FzIGNhbGxlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXZlbnQgbmFtZSB0byBsaXN0ZW4gb24uXHJcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQsIC4uLmFyZ3MpfSBsaXN0ZW5lciBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuXHJcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuXHJcbiAgICAgICAqL1xyXG4gICAgICAkb246IGZ1bmN0aW9uKG5hbWUsIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdmFyIG5hbWVkTGlzdGVuZXJzID0gdGhpcy4kJGxpc3RlbmVyc1tuYW1lXTtcclxuICAgICAgICBpZiAoIW5hbWVkTGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICB0aGlzLiQkbGlzdGVuZXJzW25hbWVdID0gbmFtZWRMaXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmFtZWRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcztcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICBpZiAoIWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdID0gMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKys7XHJcbiAgICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciBpbmRleE9mTGlzdGVuZXIgPSBuYW1lZExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcclxuICAgICAgICAgIGlmIChpbmRleE9mTGlzdGVuZXIgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzW2luZGV4T2ZMaXN0ZW5lcl0gPSBudWxsO1xyXG4gICAgICAgICAgICBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KHNlbGYsIDEsIG5hbWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZW1pdFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBgbmFtZWAgdXB3YXJkcyB0aHJvdWdoIHRoZSBzY29wZSBoaWVyYXJjaHkgbm90aWZ5aW5nIHRoZVxyXG4gICAgICAgKiByZWdpc3RlcmVkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gbGlzdGVuZXJzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgZXZlbnQgbGlmZSBjeWNsZSBzdGFydHMgYXQgdGhlIHNjb3BlIG9uIHdoaWNoIGAkZW1pdGAgd2FzIGNhbGxlZC4gQWxsXHJcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XHJcbiAgICAgICAqIG5vdGlmaWVkLiBBZnRlcndhcmRzLCB0aGUgZXZlbnQgdHJhdmVyc2VzIHVwd2FyZHMgdG93YXJkIHRoZSByb290IHNjb3BlIGFuZCBjYWxscyBhbGxcclxuICAgICAgICogcmVnaXN0ZXJlZCBsaXN0ZW5lcnMgYWxvbmcgdGhlIHdheS4gVGhlIGV2ZW50IHdpbGwgc3RvcCBwcm9wYWdhdGluZyBpZiBvbmUgb2YgdGhlIGxpc3RlbmVyc1xyXG4gICAgICAgKiBjYW5jZWxzIGl0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBBbnkgZXhjZXB0aW9uIGVtaXR0ZWQgZnJvbSB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gd2lsbCBiZSBwYXNzZWRcclxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lIHRvIGVtaXQuXHJcbiAgICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBvbmUgb3IgbW9yZSBhcmd1bWVudHMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgb250byB0aGUgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEV2ZW50IG9iamVjdCAoc2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0pLlxyXG4gICAgICAgKi9cclxuICAgICAgJGVtaXQ6IGZ1bmN0aW9uKG5hbWUsIGFyZ3MpIHtcclxuICAgICAgICB2YXIgZW1wdHkgPSBbXSxcclxuICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnMsXHJcbiAgICAgICAgICAgIHNjb3BlID0gdGhpcyxcclxuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uID0gZmFsc2UsXHJcbiAgICAgICAgICAgIGV2ZW50ID0ge1xyXG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgdGFyZ2V0U2NvcGU6IHNjb3BlLFxyXG4gICAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7c3RvcFByb3BhZ2F0aW9uID0gdHJ1ZTt9LFxyXG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlzdGVuZXJBcmdzID0gY29uY2F0KFtldmVudF0sIGFyZ3VtZW50cywgMSksXHJcbiAgICAgICAgICAgIGksIGxlbmd0aDtcclxuXHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgbmFtZWRMaXN0ZW5lcnMgPSBzY29wZS4kJGxpc3RlbmVyc1tuYW1lXSB8fCBlbXB0eTtcclxuICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gbmFtZWRMaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXlcclxuICAgICAgICAgICAgaWYgKCFuYW1lZExpc3RlbmVyc1tpXSkge1xyXG4gICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgbGVuZ3RoLS07XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAvL2FsbG93IGFsbCBsaXN0ZW5lcnMgYXR0YWNoZWQgdG8gdGhlIGN1cnJlbnQgc2NvcGUgdG8gcnVuXHJcbiAgICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCwgbGlzdGVuZXJBcmdzKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvL2lmIGFueSBsaXN0ZW5lciBvbiB0aGUgY3VycmVudCBzY29wZSBzdG9wcyBwcm9wYWdhdGlvbiwgcHJldmVudCBidWJibGluZ1xyXG4gICAgICAgICAgaWYgKHN0b3BQcm9wYWdhdGlvbikge1xyXG4gICAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvL3RyYXZlcnNlIHVwd2FyZHNcclxuICAgICAgICAgIHNjb3BlID0gc2NvcGUuJHBhcmVudDtcclxuICAgICAgICB9IHdoaWxlIChzY29wZSk7XHJcblxyXG4gICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiBldmVudDtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRicm9hZGNhc3RcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIGRvd253YXJkcyB0byBhbGwgY2hpbGQgc2NvcGVzIChhbmQgdGhlaXIgY2hpbGRyZW4pIG5vdGlmeWluZyB0aGVcclxuICAgICAgICogcmVnaXN0ZXJlZCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259IGxpc3RlbmVycy5cclxuICAgICAgICpcclxuICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGJyb2FkY2FzdGAgd2FzIGNhbGxlZC4gQWxsXHJcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XHJcbiAgICAgICAqIG5vdGlmaWVkLiBBZnRlcndhcmRzLCB0aGUgZXZlbnQgcHJvcGFnYXRlcyB0byBhbGwgZGlyZWN0IGFuZCBpbmRpcmVjdCBzY29wZXMgb2YgdGhlIGN1cnJlbnRcclxuICAgICAgICogc2NvcGUgYW5kIGNhbGxzIGFsbCByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgY2Fubm90IGJlIGNhbmNlbGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBBbnkgZXhjZXB0aW9uIGVtaXR0ZWQgZnJvbSB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gd2lsbCBiZSBwYXNzZWRcclxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lIHRvIGJyb2FkY2FzdC5cclxuICAgICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIG9uZSBvciBtb3JlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHBhc3NlZCBvbnRvIHRoZSBldmVudCBsaXN0ZW5lcnMuXHJcbiAgICAgICAqIEByZXR1cm4ge09iamVjdH0gRXZlbnQgb2JqZWN0LCBzZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufVxyXG4gICAgICAgKi9cclxuICAgICAgJGJyb2FkY2FzdDogZnVuY3Rpb24obmFtZSwgYXJncykge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLFxyXG4gICAgICAgICAgICBjdXJyZW50ID0gdGFyZ2V0LFxyXG4gICAgICAgICAgICBuZXh0ID0gdGFyZ2V0LFxyXG4gICAgICAgICAgICBldmVudCA9IHtcclxuICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgIHRhcmdldFNjb3BlOiB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoIXRhcmdldC4kJGxpc3RlbmVyQ291bnRbbmFtZV0pIHJldHVybiBldmVudDtcclxuXHJcbiAgICAgICAgdmFyIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLFxyXG4gICAgICAgICAgICBsaXN0ZW5lcnMsIGksIGxlbmd0aDtcclxuXHJcbiAgICAgICAgLy9kb3duIHdoaWxlIHlvdSBjYW4sIHRoZW4gdXAgYW5kIG5leHQgc2libGluZyBvciB1cCBhbmQgbmV4dCBzaWJsaW5nIHVudGlsIGJhY2sgYXQgcm9vdFxyXG4gICAgICAgIHdoaWxlICgoY3VycmVudCA9IG5leHQpKSB7XHJcbiAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBjdXJyZW50O1xyXG4gICAgICAgICAgbGlzdGVuZXJzID0gY3VycmVudC4kJGxpc3RlbmVyc1tuYW1lXSB8fCBbXTtcclxuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBpZiBsaXN0ZW5lcnMgd2VyZSBkZXJlZ2lzdGVyZWQsIGRlZnJhZ21lbnQgdGhlIGFycmF5XHJcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXJzW2ldKSB7XHJcbiAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgbGVuZ3RoLS07XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIGxpc3RlbmVyQXJncyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEluc2FuaXR5IFdhcm5pbmc6IHNjb3BlIGRlcHRoLWZpcnN0IHRyYXZlcnNhbFxyXG4gICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcclxuICAgICAgICAgIC8vIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSB0cmF2ZXJzYWwgaW4gJGRpZ2VzdFxyXG4gICAgICAgICAgLy8gKHRob3VnaCBpdCBkaWZmZXJzIGR1ZSB0byBoYXZpbmcgdGhlIGV4dHJhIGNoZWNrIGZvciAkJGxpc3RlbmVyQ291bnQpXHJcbiAgICAgICAgICBpZiAoIShuZXh0ID0gKChjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAmJiBjdXJyZW50LiQkY2hpbGRIZWFkKSB8fFxyXG4gICAgICAgICAgICAgIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgY3VycmVudC4kJG5leHRTaWJsaW5nKSkpKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgIShuZXh0ID0gY3VycmVudC4kJG5leHRTaWJsaW5nKSkge1xyXG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciAkcm9vdFNjb3BlID0gbmV3IFNjb3BlKCk7XHJcblxyXG4gICAgLy9UaGUgaW50ZXJuYWwgcXVldWVzLiBFeHBvc2UgdGhlbSBvbiB0aGUgJHJvb3RTY29wZSBmb3IgZGVidWdnaW5nL3Rlc3RpbmcgcHVycG9zZXMuXHJcbiAgICB2YXIgYXN5bmNRdWV1ZSA9ICRyb290U2NvcGUuJCRhc3luY1F1ZXVlID0gW107XHJcbiAgICB2YXIgcG9zdERpZ2VzdFF1ZXVlID0gJHJvb3RTY29wZS4kJHBvc3REaWdlc3RRdWV1ZSA9IFtdO1xyXG4gICAgdmFyIGFwcGx5QXN5bmNRdWV1ZSA9ICRyb290U2NvcGUuJCRhcHBseUFzeW5jUXVldWUgPSBbXTtcclxuXHJcbiAgICByZXR1cm4gJHJvb3RTY29wZTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gYmVnaW5QaGFzZShwaGFzZSkge1xyXG4gICAgICBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgdGhyb3cgJHJvb3RTY29wZU1pbkVycignaW5wcm9nJywgJ3swfSBhbHJlYWR5IGluIHByb2dyZXNzJywgJHJvb3RTY29wZS4kJHBoYXNlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJHJvb3RTY29wZS4kJHBoYXNlID0gcGhhc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYXJQaGFzZSgpIHtcclxuICAgICAgJHJvb3RTY29wZS4kJHBoYXNlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KGN1cnJlbnQsIGNvdW50KSB7XHJcbiAgICAgIGRvIHtcclxuICAgICAgICBjdXJyZW50LiQkd2F0Y2hlcnNDb3VudCArPSBjb3VudDtcclxuICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KGN1cnJlbnQsIGNvdW50LCBuYW1lKSB7XHJcbiAgICAgIGRvIHtcclxuICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAtPSBjb3VudDtcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdID09PSAwKSB7XHJcbiAgICAgICAgICBkZWxldGUgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IHdoaWxlICgoY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdXNlZCBhcyBhbiBpbml0aWFsIHZhbHVlIGZvciB3YXRjaGVycy5cclxuICAgICAqIGJlY2F1c2UgaXQncyB1bmlxdWUgd2UgY2FuIGVhc2lseSB0ZWxsIGl0IGFwYXJ0IGZyb20gb3RoZXIgdmFsdWVzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGluaXRXYXRjaFZhbCgpIHt9XHJcblxyXG4gICAgZnVuY3Rpb24gZmx1c2hBcHBseUFzeW5jKCkge1xyXG4gICAgICB3aGlsZSAoYXBwbHlBc3luY1F1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhcHBseUFzeW5jUXVldWUuc2hpZnQoKSgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBhcHBseUFzeW5jSWQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlQXBwbHlBc3luYygpIHtcclxuICAgICAgaWYgKGFwcGx5QXN5bmNJZCA9PT0gbnVsbCkge1xyXG4gICAgICAgIGFwcGx5QXN5bmNJZCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZmx1c2hBcHBseUFzeW5jKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHJvb3RFbGVtZW50XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgcm9vdCBlbGVtZW50IG9mIEFuZ3VsYXIgYXBwbGljYXRpb24uIFRoaXMgaXMgZWl0aGVyIHRoZSBlbGVtZW50IHdoZXJlIHtAbGlua1xyXG4gKiBuZy5kaXJlY3RpdmU6bmdBcHAgbmdBcHB9IHdhcyBkZWNsYXJlZCBvciB0aGUgZWxlbWVudCBwYXNzZWQgaW50b1xyXG4gKiB7QGxpbmsgYW5ndWxhci5ib290c3RyYXB9LiBUaGUgZWxlbWVudCByZXByZXNlbnRzIHRoZSByb290IGVsZW1lbnQgb2YgYXBwbGljYXRpb24uIEl0IGlzIGFsc28gdGhlXHJcbiAqIGxvY2F0aW9uIHdoZXJlIHRoZSBhcHBsaWNhdGlvbidzIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9IHNlcnZpY2UgZ2V0c1xyXG4gKiBwdWJsaXNoZWQsIGFuZCBjYW4gYmUgcmV0cmlldmVkIHVzaW5nIGAkcm9vdEVsZW1lbnQuaW5qZWN0b3IoKWAuXHJcbiAqL1xyXG5cclxuXHJcbi8vIHRoZSBpbXBsZW1lbnRhdGlvbiBpcyBpbiBhbmd1bGFyLmJvb3RzdHJhcFxyXG5cclxuLyoqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBQcml2YXRlIHNlcnZpY2UgdG8gc2FuaXRpemUgdXJpcyBmb3IgbGlua3MgYW5kIGltYWdlcy4gVXNlZCBieSAkY29tcGlsZSBhbmQgJHNhbml0aXplLlxyXG4gKi9cclxuZnVuY3Rpb24gJCRTYW5pdGl6ZVVyaVByb3ZpZGVyKCkge1xyXG4gIHZhciBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IC9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxcclxuICAgIGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IC9eXFxzKigoaHR0cHM/fGZ0cHxmaWxlfGJsb2IpOnxkYXRhOmltYWdlXFwvKS87XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcclxuICAgKiB1cmxzIGR1cmluZyBhW2hyZWZdIHNhbml0aXphdGlvbi5cclxuICAgKlxyXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuXHJcbiAgICpcclxuICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGFbaHJlZl0gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xyXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdGBcclxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcclxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXHJcbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxyXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cclxuICAgKi9cclxuICB0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24ocmVnZXhwKSB7XHJcbiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcclxuICAgICAgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSByZWdleHA7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xyXG4gIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXHJcbiAgICogdXJscyBkdXJpbmcgaW1nW3NyY10gc2FuaXRpemF0aW9uLlxyXG4gICAqXHJcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cclxuICAgKlxyXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gaW1nW3NyY10gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xyXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXHJcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXHJcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXHJcbiAgICovXHJcbiAgdGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcclxuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xyXG4gICAgICBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSByZWdleHA7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdDtcclxuICB9O1xyXG5cclxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBzYW5pdGl6ZVVyaSh1cmksIGlzSW1hZ2UpIHtcclxuICAgICAgdmFyIHJlZ2V4ID0gaXNJbWFnZSA/IGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA6IGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xyXG4gICAgICB2YXIgbm9ybWFsaXplZFZhbDtcclxuICAgICAgbm9ybWFsaXplZFZhbCA9IHVybFJlc29sdmUodXJpKS5ocmVmO1xyXG4gICAgICBpZiAobm9ybWFsaXplZFZhbCAhPT0gJycgJiYgIW5vcm1hbGl6ZWRWYWwubWF0Y2gocmVnZXgpKSB7XHJcbiAgICAgICAgcmV0dXJuICd1bnNhZmU6JyArIG5vcm1hbGl6ZWRWYWw7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHVyaTtcclxuICAgIH07XHJcbiAgfTtcclxufVxyXG5cclxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxyXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXHJcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcclxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxyXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXHJcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcclxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cclxuXHJcbnZhciAkc2NlTWluRXJyID0gbWluRXJyKCckc2NlJyk7XHJcblxyXG52YXIgU0NFX0NPTlRFWFRTID0ge1xyXG4gIEhUTUw6ICdodG1sJyxcclxuICBDU1M6ICdjc3MnLFxyXG4gIFVSTDogJ3VybCcsXHJcbiAgLy8gUkVTT1VSQ0VfVVJMIGlzIGEgc3VidHlwZSBvZiBVUkwgdXNlZCBpbiBjb250ZXh0cyB3aGVyZSBhIHByaXZpbGVnZWQgcmVzb3VyY2UgaXMgc291cmNlZCBmcm9tIGFcclxuICAvLyB1cmwuICAoZS5nLiBuZy1pbmNsdWRlLCBzY3JpcHQgc3JjLCB0ZW1wbGF0ZVVybClcclxuICBSRVNPVVJDRV9VUkw6ICdyZXNvdXJjZVVybCcsXHJcbiAgSlM6ICdqcydcclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9sbG93LlxyXG5cclxuZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSB7XHJcbiAgaWYgKG1hdGNoZXIgPT09ICdzZWxmJykge1xyXG4gICAgcmV0dXJuIG1hdGNoZXI7XHJcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhtYXRjaGVyKSkge1xyXG4gICAgLy8gU3RyaW5ncyBtYXRjaCBleGFjdGx5IGV4Y2VwdCBmb3IgMiB3aWxkY2FyZHMgLSAnKicgYW5kICcqKicuXHJcbiAgICAvLyAnKicgbWF0Y2hlcyBhbnkgY2hhcmFjdGVyIGV4Y2VwdCB0aG9zZSBmcm9tIHRoZSBzZXQgJzovLj8mJy5cclxuICAgIC8vICcqKicgbWF0Y2hlcyBhbnkgY2hhcmFjdGVyIChsaWtlIC4qIGluIGEgUmVnRXhwKS5cclxuICAgIC8vIE1vcmUgdGhhbiAyIConcyByYWlzZXMgYW4gZXJyb3IgYXMgaXQncyBpbGwgZGVmaW5lZC5cclxuICAgIGlmIChtYXRjaGVyLmluZGV4T2YoJyoqKicpID4gLTEpIHtcclxuICAgICAgdGhyb3cgJHNjZU1pbkVycignaXdjYXJkJyxcclxuICAgICAgICAgICdJbGxlZ2FsIHNlcXVlbmNlICoqKiBpbiBzdHJpbmcgbWF0Y2hlci4gIFN0cmluZzogezB9JywgbWF0Y2hlcik7XHJcbiAgICB9XHJcbiAgICBtYXRjaGVyID0gZXNjYXBlRm9yUmVnZXhwKG1hdGNoZXIpLlxyXG4gICAgICAgICAgICAgICAgICByZXBsYWNlKCdcXFxcKlxcXFwqJywgJy4qJykuXHJcbiAgICAgICAgICAgICAgICAgIHJlcGxhY2UoJ1xcXFwqJywgJ1teOi8uPyY7XSonKTtcclxuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIG1hdGNoZXIgKyAnJCcpO1xyXG4gIH0gZWxzZSBpZiAoaXNSZWdFeHAobWF0Y2hlcikpIHtcclxuICAgIC8vIFRoZSBvbmx5IG90aGVyIHR5cGUgb2YgbWF0Y2hlciBhbGxvd2VkIGlzIGEgUmVnZXhwLlxyXG4gICAgLy8gTWF0Y2ggZW50aXJlIFVSTCAvIGRpc2FsbG93IHBhcnRpYWwgbWF0Y2hlcy5cclxuICAgIC8vIEZsYWdzIGFyZSByZXNldCAoaS5lLiBubyBnbG9iYWwsIGlnbm9yZUNhc2Ugb3IgbXVsdGlsaW5lKVxyXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgbWF0Y2hlci5zb3VyY2UgKyAnJCcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyAkc2NlTWluRXJyKCdpbWF0Y2hlcicsXHJcbiAgICAgICAgJ01hdGNoZXJzIG1heSBvbmx5IGJlIFwic2VsZlwiLCBzdHJpbmcgcGF0dGVybnMgb3IgUmVnRXhwIG9iamVjdHMnKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBhZGp1c3RNYXRjaGVycyhtYXRjaGVycykge1xyXG4gIHZhciBhZGp1c3RlZE1hdGNoZXJzID0gW107XHJcbiAgaWYgKGlzRGVmaW5lZChtYXRjaGVycykpIHtcclxuICAgIGZvckVhY2gobWF0Y2hlcnMsIGZ1bmN0aW9uKG1hdGNoZXIpIHtcclxuICAgICAgYWRqdXN0ZWRNYXRjaGVycy5wdXNoKGFkanVzdE1hdGNoZXIobWF0Y2hlcikpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiBhZGp1c3RlZE1hdGNoZXJzO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRzY2VEZWxlZ2F0ZVxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogYCRzY2VEZWxlZ2F0ZWAgaXMgYSBzZXJ2aWNlIHRoYXQgaXMgdXNlZCBieSB0aGUgYCRzY2VgIHNlcnZpY2UgdG8gcHJvdmlkZSB7QGxpbmsgbmcuJHNjZSBTdHJpY3RcclxuICogQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0gc2VydmljZXMgdG8gQW5ndWxhckpTLlxyXG4gKlxyXG4gKiBUeXBpY2FsbHksIHlvdSB3b3VsZCBjb25maWd1cmUgb3Igb3ZlcnJpZGUgdGhlIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBpbnN0ZWFkIG9mXHJcbiAqIHRoZSBgJHNjZWAgc2VydmljZSB0byBjdXN0b21pemUgdGhlIHdheSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyB3b3JrcyBpbiBBbmd1bGFySlMuICBUaGlzIGlzXHJcbiAqIGJlY2F1c2UsIHdoaWxlIHRoZSBgJHNjZWAgcHJvdmlkZXMgbnVtZXJvdXMgc2hvcnRoYW5kIG1ldGhvZHMsIGV0Yy4sIHlvdSByZWFsbHkgb25seSBuZWVkIHRvXHJcbiAqIG92ZXJyaWRlIDMgY29yZSBmdW5jdGlvbnMgKGB0cnVzdEFzYCwgYGdldFRydXN0ZWRgIGFuZCBgdmFsdWVPZmApIHRvIHJlcGxhY2UgdGhlIHdheSB0aGluZ3NcclxuICogd29yayBiZWNhdXNlIGAkc2NlYCBkZWxlZ2F0ZXMgdG8gYCRzY2VEZWxlZ2F0ZWAgZm9yIHRoZXNlIG9wZXJhdGlvbnMuXHJcbiAqXHJcbiAqIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gdG8gY29uZmlndXJlIHRoaXMgc2VydmljZS5cclxuICpcclxuICogVGhlIGRlZmF1bHQgaW5zdGFuY2Ugb2YgYCRzY2VEZWxlZ2F0ZWAgc2hvdWxkIHdvcmsgb3V0IG9mIHRoZSBib3ggd2l0aCBsaXR0bGUgcGFpbi4gIFdoaWxlIHlvdVxyXG4gKiBjYW4gb3ZlcnJpZGUgaXQgY29tcGxldGVseSB0byBjaGFuZ2UgdGhlIGJlaGF2aW9yIG9mIGAkc2NlYCwgdGhlIGNvbW1vbiBjYXNlIHdvdWxkXHJcbiAqIGludm9sdmUgY29uZmlndXJpbmcgdGhlIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gaW5zdGVhZCBieSBzZXR0aW5nXHJcbiAqIHlvdXIgb3duIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgZm9yIHRydXN0aW5nIFVSTHMgdXNlZCBmb3IgbG9hZGluZyBBbmd1bGFySlMgcmVzb3VyY2VzIHN1Y2ggYXNcclxuICogdGVtcGxhdGVzLiAgUmVmZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0XHJcbiAqICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0fSBhbmQge0BsaW5rXHJcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJHNjZURlbGVnYXRlUHJvdmlkZXJcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFRoZSBgJHNjZURlbGVnYXRlUHJvdmlkZXJgIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVxyXG4gKiAkc2NlRGVsZWdhdGV9IHNlcnZpY2UuICBUaGlzIGFsbG93cyBvbmUgdG8gZ2V0L3NldCB0aGUgd2hpdGVsaXN0cyBhbmQgYmxhY2tsaXN0cyB1c2VkIHRvIGVuc3VyZVxyXG4gKiB0aGF0IHRoZSBVUkxzIHVzZWQgZm9yIHNvdXJjaW5nIEFuZ3VsYXIgdGVtcGxhdGVzIGFyZSBzYWZlLiAgUmVmZXIge0BsaW5rXHJcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0fSBhbmRcclxuICoge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxyXG4gKlxyXG4gKiBGb3IgdGhlIGdlbmVyYWwgZGV0YWlscyBhYm91dCB0aGlzIHNlcnZpY2UgaW4gQW5ndWxhciwgcmVhZCB0aGUgbWFpbiBwYWdlIGZvciB7QGxpbmsgbmcuJHNjZVxyXG4gKiBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXHJcbiAqXHJcbiAqICoqRXhhbXBsZSoqOiAgQ29uc2lkZXIgdGhlIGZvbGxvd2luZyBjYXNlLiA8YSBuYW1lPVwiZXhhbXBsZVwiPjwvYT5cclxuICpcclxuICogLSB5b3VyIGFwcCBpcyBob3N0ZWQgYXQgdXJsIGBodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vYFxyXG4gKiAtIGJ1dCBzb21lIG9mIHlvdXIgdGVtcGxhdGVzIGFyZSBob3N0ZWQgb24gb3RoZXIgZG9tYWlucyB5b3UgY29udHJvbCBzdWNoIGFzXHJcbiAqICAgYGh0dHA6Ly9zcnYwMS5hc3NldHMuZXhhbXBsZS5jb20vYCzCoCBgaHR0cDovL3NydjAyLmFzc2V0cy5leGFtcGxlLmNvbS9gLCBldGMuXHJcbiAqIC0gYW5kIHlvdSBoYXZlIGFuIG9wZW4gcmVkaXJlY3QgYXQgYGh0dHA6Ly9teWFwcC5leGFtcGxlLmNvbS9jbGlja1RocnU/Li4uYC5cclxuICpcclxuICogSGVyZSBpcyB3aGF0IGEgc2VjdXJlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgc2NlbmFyaW8gbWlnaHQgbG9vayBsaWtlOlxyXG4gKlxyXG4gKiBgYGBcclxuICogIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKS5jb25maWcoZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHtcclxuICogICAgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3QoW1xyXG4gKiAgICAgIC8vIEFsbG93IHNhbWUgb3JpZ2luIHJlc291cmNlIGxvYWRzLlxyXG4gKiAgICAgICdzZWxmJyxcclxuICogICAgICAvLyBBbGxvdyBsb2FkaW5nIGZyb20gb3VyIGFzc2V0cyBkb21haW4uICBOb3RpY2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiAqIGFuZCAqKi5cclxuICogICAgICAnaHR0cDovL3NydiouYXNzZXRzLmV4YW1wbGUuY29tLyoqJ1xyXG4gKiAgICBdKTtcclxuICpcclxuICogICAgLy8gVGhlIGJsYWNrbGlzdCBvdmVycmlkZXMgdGhlIHdoaXRlbGlzdCBzbyB0aGUgb3BlbiByZWRpcmVjdCBoZXJlIGlzIGJsb2NrZWQuXHJcbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0KFtcclxuICogICAgICAnaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2NsaWNrVGhydSoqJ1xyXG4gKiAgICBdKTtcclxuICogIH0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5mdW5jdGlvbiAkU2NlRGVsZWdhdGVQcm92aWRlcigpIHtcclxuICB0aGlzLlNDRV9DT05URVhUUyA9IFNDRV9DT05URVhUUztcclxuXHJcbiAgLy8gUmVzb3VyY2UgVVJMcyBjYW4gYWxzbyBiZSB0cnVzdGVkIGJ5IHBvbGljeS5cclxuICB2YXIgcmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBbJ3NlbGYnXSxcclxuICAgICAgcmVzb3VyY2VVcmxCbGFja2xpc3QgPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0XHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QXJyYXk9fSB3aGl0ZWxpc3QgV2hlbiBwcm92aWRlZCwgcmVwbGFjZXMgdGhlIHJlc291cmNlVXJsV2hpdGVsaXN0IHdpdGggdGhlIHZhbHVlXHJcbiAgICogICAgcHJvdmlkZWQuICBUaGlzIG11c3QgYmUgYW4gYXJyYXkgb3IgbnVsbC4gIEEgc25hcHNob3Qgb2YgdGhpcyBhcnJheSBpcyB1c2VkIHNvIGZ1cnRoZXJcclxuICAgKiAgICBjaGFuZ2VzIHRvIHRoZSBhcnJheSBhcmUgaWdub3JlZC5cclxuICAgKlxyXG4gICAqICAgIEZvbGxvdyB7QGxpbmsgbmcuJHNjZSNyZXNvdXJjZVVybFBhdHRlcm5JdGVtIHRoaXMgbGlua30gZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGl0ZW1zXHJcbiAgICogICAgYWxsb3dlZCBpbiB0aGlzIGFycmF5LlxyXG4gICAqXHJcbiAgICogICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgKiAgICAqKk5vdGU6KiogYW4gZW1wdHkgd2hpdGVsaXN0IGFycmF5IHdpbGwgYmxvY2sgYWxsIFVSTHMhXHJcbiAgICogICAgPC9kaXY+XHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtBcnJheX0gdGhlIGN1cnJlbnRseSBzZXQgd2hpdGVsaXN0IGFycmF5LlxyXG4gICAqXHJcbiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIGBbJ3NlbGYnXWAgYWxsb3dpbmcgb25seVxyXG4gICAqIHNhbWUgb3JpZ2luIHJlc291cmNlIHJlcXVlc3RzLlxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU2V0cy9HZXRzIHRoZSB3aGl0ZWxpc3Qgb2YgdHJ1c3RlZCByZXNvdXJjZSBVUkxzLlxyXG4gICAqL1xyXG4gIHRoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBhZGp1c3RNYXRjaGVycyh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzb3VyY2VVcmxXaGl0ZWxpc3Q7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0XHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QXJyYXk9fSBibGFja2xpc3QgV2hlbiBwcm92aWRlZCwgcmVwbGFjZXMgdGhlIHJlc291cmNlVXJsQmxhY2tsaXN0IHdpdGggdGhlIHZhbHVlXHJcbiAgICogICAgcHJvdmlkZWQuICBUaGlzIG11c3QgYmUgYW4gYXJyYXkgb3IgbnVsbC4gIEEgc25hcHNob3Qgb2YgdGhpcyBhcnJheSBpcyB1c2VkIHNvIGZ1cnRoZXJcclxuICAgKiAgICBjaGFuZ2VzIHRvIHRoZSBhcnJheSBhcmUgaWdub3JlZC5cclxuICAgKlxyXG4gICAqICAgIEZvbGxvdyB7QGxpbmsgbmcuJHNjZSNyZXNvdXJjZVVybFBhdHRlcm5JdGVtIHRoaXMgbGlua30gZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGl0ZW1zXHJcbiAgICogICAgYWxsb3dlZCBpbiB0aGlzIGFycmF5LlxyXG4gICAqXHJcbiAgICogICAgVGhlIHR5cGljYWwgdXNhZ2UgZm9yIHRoZSBibGFja2xpc3QgaXMgdG8gKipibG9ja1xyXG4gICAqICAgIFtvcGVuIHJlZGlyZWN0c10oaHR0cDovL2N3ZS5taXRyZS5vcmcvZGF0YS9kZWZpbml0aW9ucy82MDEuaHRtbCkqKiBzZXJ2ZWQgYnkgeW91ciBkb21haW4gYXNcclxuICAgKiAgICB0aGVzZSB3b3VsZCBvdGhlcndpc2UgYmUgdHJ1c3RlZCBidXQgYWN0dWFsbHkgcmV0dXJuIGNvbnRlbnQgZnJvbSB0aGUgcmVkaXJlY3RlZCBkb21haW4uXHJcbiAgICpcclxuICAgKiAgICBGaW5hbGx5LCAqKnRoZSBibGFja2xpc3Qgb3ZlcnJpZGVzIHRoZSB3aGl0ZWxpc3QqKiBhbmQgaGFzIHRoZSBmaW5hbCBzYXkuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtBcnJheX0gdGhlIGN1cnJlbnRseSBzZXQgYmxhY2tsaXN0IGFycmF5LlxyXG4gICAqXHJcbiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIHRoZSBlbXB0eSBhcnJheSAoaS5lLiB0aGVyZVxyXG4gICAqIGlzIG5vIGJsYWNrbGlzdC4pXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzL0dldHMgdGhlIGJsYWNrbGlzdCBvZiB0cnVzdGVkIHJlc291cmNlIFVSTHMuXHJcbiAgICovXHJcblxyXG4gIHRoaXMucmVzb3VyY2VVcmxCbGFja2xpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmVzb3VyY2VVcmxCbGFja2xpc3QgPSBhZGp1c3RNYXRjaGVycyh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzb3VyY2VVcmxCbGFja2xpc3Q7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCBmdW5jdGlvbigkaW5qZWN0b3IpIHtcclxuXHJcbiAgICB2YXIgaHRtbFNhbml0aXplciA9IGZ1bmN0aW9uIGh0bWxTYW5pdGl6ZXIoaHRtbCkge1xyXG4gICAgICB0aHJvdyAkc2NlTWluRXJyKCd1bnNhZmUnLCAnQXR0ZW1wdGluZyB0byB1c2UgYW4gdW5zYWZlIHZhbHVlIGluIGEgc2FmZSBjb250ZXh0LicpO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoJGluamVjdG9yLmhhcygnJHNhbml0aXplJykpIHtcclxuICAgICAgaHRtbFNhbml0aXplciA9ICRpbmplY3Rvci5nZXQoJyRzYW5pdGl6ZScpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBtYXRjaFVybChtYXRjaGVyLCBwYXJzZWRVcmwpIHtcclxuICAgICAgaWYgKG1hdGNoZXIgPT09ICdzZWxmJykge1xyXG4gICAgICAgIHJldHVybiB1cmxJc1NhbWVPcmlnaW4ocGFyc2VkVXJsKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBkZWZpbml0ZWx5IGEgcmVnZXguICBTZWUgYWRqdXN0TWF0Y2hlcnMoKVxyXG4gICAgICAgIHJldHVybiAhIW1hdGNoZXIuZXhlYyhwYXJzZWRVcmwuaHJlZik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KHVybCkge1xyXG4gICAgICB2YXIgcGFyc2VkVXJsID0gdXJsUmVzb2x2ZSh1cmwudG9TdHJpbmcoKSk7XHJcbiAgICAgIHZhciBpLCBuLCBhbGxvd2VkID0gZmFsc2U7XHJcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGF0IGxlYXN0IG9uZSBpdGVtIGZyb20gdGhlIHdoaXRlbGlzdCBhbGxvd3MgdGhpcyB1cmwuXHJcbiAgICAgIGZvciAoaSA9IDAsIG4gPSByZXNvdXJjZVVybFdoaXRlbGlzdC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBpZiAobWF0Y2hVcmwocmVzb3VyY2VVcmxXaGl0ZWxpc3RbaV0sIHBhcnNlZFVybCkpIHtcclxuICAgICAgICAgIGFsbG93ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChhbGxvd2VkKSB7XHJcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgbm8gaXRlbSBmcm9tIHRoZSBibGFja2xpc3QgYmxvY2tlZCB0aGlzIHVybC5cclxuICAgICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxCbGFja2xpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAobWF0Y2hVcmwocmVzb3VyY2VVcmxCbGFja2xpc3RbaV0sIHBhcnNlZFVybCkpIHtcclxuICAgICAgICAgICAgYWxsb3dlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFsbG93ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVIb2xkZXJUeXBlKEJhc2UpIHtcclxuICAgICAgdmFyIGhvbGRlclR5cGUgPSBmdW5jdGlvbiBUcnVzdGVkVmFsdWVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVzdGVkVmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgfTtcclxuICAgICAgaWYgKEJhc2UpIHtcclxuICAgICAgICBob2xkZXJUeXBlLnByb3RvdHlwZSA9IG5ldyBCYXNlKCk7XHJcbiAgICAgIH1cclxuICAgICAgaG9sZGVyVHlwZS5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uIHNjZVZhbHVlT2YoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtcclxuICAgICAgfTtcclxuICAgICAgaG9sZGVyVHlwZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiBzY2VUb1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpLnRvU3RyaW5nKCk7XHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiBob2xkZXJUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0cnVzdGVkVmFsdWVIb2xkZXJCYXNlID0gZ2VuZXJhdGVIb2xkZXJUeXBlKCksXHJcbiAgICAgICAgYnlUeXBlID0ge307XHJcblxyXG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5IVE1MXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcclxuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuQ1NTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcclxuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuVVJMXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcclxuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSlNdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xyXG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5SRVNPVVJDRV9VUkxdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKGJ5VHlwZVtTQ0VfQ09OVEVYVFMuVVJMXSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjdHJ1c3RBc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBpcyB0cnVzdGVkIGJ5IGFuZ3VsYXIgZm9yIHVzZSBpbiBzcGVjaWZpZWQgc3RyaWN0XHJcbiAgICAgKiBjb250ZXh0dWFsIGVzY2FwaW5nIGNvbnRleHRzIChzdWNoIGFzIG5nLWJpbmQtaHRtbCwgbmctaW5jbHVkZSwgYW55IHNyY1xyXG4gICAgICogYXR0cmlidXRlIGludGVycG9sYXRpb24sIGFueSBkb20gZXZlbnQgYmluZGluZyBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvblxyXG4gICAgICogc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pIHRoYXQgdXNlcyB0aGUgcHJvdmlkZWQgdmFsdWUuXHJcbiAgICAgKiBTZWUge0BsaW5rIG5nLiRzY2UgJHNjZX0gZm9yIGVuYWJsaW5nIHN0cmljdCBjb250ZXh0dWFsIGVzY2FwaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyBzYWZlIGZvciB1c2UuICBlLmcuIHVybCxcclxuICAgICAqICAgcmVzb3VyY2VVcmwsIGh0bWwsIGpzIGFuZCBjc3MuXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHRoYXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgdHJ1c3RlZC9zYWZlLlxyXG4gICAgICogQHJldHVybnMgeyp9IEEgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB0byBzdGFuZCBpbiBmb3IgdGhlIHByb3ZpZGVkIGB2YWx1ZWAgaW4gcGxhY2VzXHJcbiAgICAgKiB3aGVyZSBBbmd1bGFyIGV4cGVjdHMgYSAkc2NlLnRydXN0QXMoKSByZXR1cm4gdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHRydXN0QXModHlwZSwgdHJ1c3RlZFZhbHVlKSB7XHJcbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IChieVR5cGUuaGFzT3duUHJvcGVydHkodHlwZSkgPyBieVR5cGVbdHlwZV0gOiBudWxsKTtcclxuICAgICAgaWYgKCFDb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2ljb250ZXh0JyxcclxuICAgICAgICAgICAgJ0F0dGVtcHRlZCB0byB0cnVzdCBhIHZhbHVlIGluIGludmFsaWQgY29udGV4dC4gQ29udGV4dDogezB9OyBWYWx1ZTogezF9JyxcclxuICAgICAgICAgICAgdHlwZSwgdHJ1c3RlZFZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodHJ1c3RlZFZhbHVlID09PSBudWxsIHx8IGlzVW5kZWZpbmVkKHRydXN0ZWRWYWx1ZSkgfHwgdHJ1c3RlZFZhbHVlID09PSAnJykge1xyXG4gICAgICAgIHJldHVybiB0cnVzdGVkVmFsdWU7XHJcbiAgICAgIH1cclxuICAgICAgLy8gQWxsIHRoZSBjdXJyZW50IGNvbnRleHRzIGluIFNDRV9DT05URVhUUyBoYXBwZW4gdG8gYmUgc3RyaW5ncy4gIEluIG9yZGVyIHRvIGF2b2lkIHRydXN0aW5nXHJcbiAgICAgIC8vIG11dGFibGUgb2JqZWN0cywgd2UgZW5zdXJlIGhlcmUgdGhhdCB0aGUgdmFsdWUgcGFzc2VkIGluIGlzIGFjdHVhbGx5IGEgc3RyaW5nLlxyXG4gICAgICBpZiAodHlwZW9mIHRydXN0ZWRWYWx1ZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICB0aHJvdyAkc2NlTWluRXJyKCdpdHlwZScsXHJcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSBub24tc3RyaW5nIHZhbHVlIGluIGEgY29udGVudCByZXF1aXJpbmcgYSBzdHJpbmc6IENvbnRleHQ6IHswfScsXHJcbiAgICAgICAgICAgIHR5cGUpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IodHJ1c3RlZFZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2VEZWxlZ2F0ZSN2YWx1ZU9mXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBJZiB0aGUgcGFzc2VkIHBhcmFtZXRlciBoYWQgYmVlbiByZXR1cm5lZCBieSBhIHByaW9yIGNhbGwgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXHJcbiAgICAgKiBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSwgcmV0dXJucyB0aGUgdmFsdWUgdGhhdCBoYWQgYmVlbiBwYXNzZWQgdG8ge0BsaW5rXHJcbiAgICAgKiBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfS5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgcGFzc2VkIHBhcmFtZXRlciBpcyBub3QgYSB2YWx1ZSB0aGF0IGhhZCBiZWVuIHJldHVybmVkIGJ5IHtAbGlua1xyXG4gICAgICogbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0sIHJldHVybnMgaXQgYXMtaXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9XHJcbiAgICAgKiAgICAgIGNhbGwgb3IgYW55dGhpbmcgZWxzZS5cclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgYHZhbHVlYCB0aGF0IHdhcyBvcmlnaW5hbGx5IHByb3ZpZGVkIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBc1xyXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIGB2YWx1ZWAgaXMgdGhlIHJlc3VsdCBvZiBzdWNoIGEgY2FsbC4gIE90aGVyd2lzZSwgcmV0dXJuc1xyXG4gICAgICogICAgIGB2YWx1ZWAgdW5jaGFuZ2VkLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB2YWx1ZU9mKG1heWJlVHJ1c3RlZCkge1xyXG4gICAgICBpZiAobWF5YmVUcnVzdGVkIGluc3RhbmNlb2YgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSkge1xyXG4gICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogVGFrZXMgdGhlIHJlc3VsdCBvZiBhIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSBjYWxsIGFuZFxyXG4gICAgICogcmV0dXJucyB0aGUgb3JpZ2luYWxseSBzdXBwbGllZCB2YWx1ZSBpZiB0aGUgcXVlcmllZCBjb250ZXh0IHR5cGUgaXMgYSBzdXBlcnR5cGUgb2YgdGhlXHJcbiAgICAgKiBjcmVhdGVkIHR5cGUuICBJZiB0aGlzIGNvbmRpdGlvbiBpc24ndCBzYXRpc2ZpZWQsIHRocm93cyBhbiBleGNlcHRpb24uXHJcbiAgICAgKlxyXG4gICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxyXG4gICAgICogRGlzYWJsaW5nIGF1dG8tZXNjYXBpbmcgaXMgZXh0cmVtZWx5IGRhbmdlcm91cywgaXQgdXN1YWxseSBjcmVhdGVzIGEgQ3Jvc3MgU2l0ZSBTY3JpcHRpbmdcclxuICAgICAqIChYU1MpIHZ1bG5lcmFiaWxpdHkgaW4geW91ciBhcHBsaWNhdGlvbi5cclxuICAgICAqIDwvZGl2PlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyB0byBiZSB1c2VkLlxyXG4gICAgICogQHBhcmFtIHsqfSBtYXliZVRydXN0ZWQgVGhlIHJlc3VsdCBvZiBhIHByaW9yIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBc1xyXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGNhbGwuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoZSB3YXMgb3JpZ2luYWxseSBwcm92aWRlZCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcclxuICAgICAqICAgICBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSBpZiB2YWxpZCBpbiB0aGlzIGNvbnRleHQuICBPdGhlcndpc2UsIHRocm93cyBhbiBleGNlcHRpb24uXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFRydXN0ZWQodHlwZSwgbWF5YmVUcnVzdGVkKSB7XHJcbiAgICAgIGlmIChtYXliZVRydXN0ZWQgPT09IG51bGwgfHwgaXNVbmRlZmluZWQobWF5YmVUcnVzdGVkKSB8fCBtYXliZVRydXN0ZWQgPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcclxuICAgICAgfVxyXG4gICAgICB2YXIgY29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XHJcbiAgICAgIGlmIChjb25zdHJ1Y3RvciAmJiBtYXliZVRydXN0ZWQgaW5zdGFuY2VvZiBjb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBJZiB3ZSBnZXQgaGVyZSwgdGhlbiB3ZSBtYXkgb25seSB0YWtlIG9uZSBvZiB0d28gYWN0aW9ucy5cclxuICAgICAgLy8gMS4gc2FuaXRpemUgdGhlIHZhbHVlIGZvciB0aGUgcmVxdWVzdGVkIHR5cGUsIG9yXHJcbiAgICAgIC8vIDIuIHRocm93IGFuIGV4Y2VwdGlvbi5cclxuICAgICAgaWYgKHR5cGUgPT09IFNDRV9DT05URVhUUy5SRVNPVVJDRV9VUkwpIHtcclxuICAgICAgICBpZiAoaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeShtYXliZVRydXN0ZWQpKSB7XHJcbiAgICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyAkc2NlTWluRXJyKCdpbnNlY3VybCcsXHJcbiAgICAgICAgICAgICAgJ0Jsb2NrZWQgbG9hZGluZyByZXNvdXJjZSBmcm9tIHVybCBub3QgYWxsb3dlZCBieSAkc2NlRGVsZWdhdGUgcG9saWN5LiAgVVJMOiB7MH0nLFxyXG4gICAgICAgICAgICAgIG1heWJlVHJ1c3RlZC50b1N0cmluZygpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gU0NFX0NPTlRFWFRTLkhUTUwpIHtcclxuICAgICAgICByZXR1cm4gaHRtbFNhbml0aXplcihtYXliZVRydXN0ZWQpO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ3Vuc2FmZScsICdBdHRlbXB0aW5nIHRvIHVzZSBhbiB1bnNhZmUgdmFsdWUgaW4gYSBzYWZlIGNvbnRleHQuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgdHJ1c3RBczogdHJ1c3RBcyxcclxuICAgICAgICAgICAgIGdldFRydXN0ZWQ6IGdldFRydXN0ZWQsXHJcbiAgICAgICAgICAgICB2YWx1ZU9mOiB2YWx1ZU9mIH07XHJcbiAgfV07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3ZpZGVyXHJcbiAqIEBuYW1lICRzY2VQcm92aWRlclxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogVGhlICRzY2VQcm92aWRlciBwcm92aWRlciBhbGxvd3MgZGV2ZWxvcGVycyB0byBjb25maWd1cmUgdGhlIHtAbGluayBuZy4kc2NlICRzY2V9IHNlcnZpY2UuXHJcbiAqIC0gICBlbmFibGUvZGlzYWJsZSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKSBpbiBhIG1vZHVsZVxyXG4gKiAtICAgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gd2l0aCBhIGN1c3RvbSBkZWxlZ2F0ZVxyXG4gKlxyXG4gKiBSZWFkIG1vcmUgYWJvdXQge0BsaW5rIG5nLiRzY2UgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSl9LlxyXG4gKi9cclxuXHJcbi8qIGpzaGludCBtYXhsZW46IGZhbHNlKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkc2NlXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBgJHNjZWAgaXMgYSBzZXJ2aWNlIHRoYXQgcHJvdmlkZXMgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgc2VydmljZXMgdG8gQW5ndWxhckpTLlxyXG4gKlxyXG4gKiAjIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nXHJcbiAqXHJcbiAqIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpIGlzIGEgbW9kZSBpbiB3aGljaCBBbmd1bGFySlMgcmVxdWlyZXMgYmluZGluZ3MgaW4gY2VydGFpblxyXG4gKiBjb250ZXh0cyB0byByZXN1bHQgaW4gYSB2YWx1ZSB0aGF0IGlzIG1hcmtlZCBhcyBzYWZlIHRvIHVzZSBmb3IgdGhhdCBjb250ZXh0LiAgT25lIGV4YW1wbGUgb2ZcclxuICogc3VjaCBhIGNvbnRleHQgaXMgYmluZGluZyBhcmJpdHJhcnkgaHRtbCBjb250cm9sbGVkIGJ5IHRoZSB1c2VyIHZpYSBgbmctYmluZC1odG1sYC4gIFdlIHJlZmVyXHJcbiAqIHRvIHRoZXNlIGNvbnRleHRzIGFzIHByaXZpbGVnZWQgb3IgU0NFIGNvbnRleHRzLlxyXG4gKlxyXG4gKiBBcyBvZiB2ZXJzaW9uIDEuMiwgQW5ndWxhciBzaGlwcyB3aXRoIFNDRSBlbmFibGVkIGJ5IGRlZmF1bHQuXHJcbiAqXHJcbiAqIE5vdGU6ICBXaGVuIGVuYWJsZWQgKHRoZSBkZWZhdWx0KSwgSUU8MTEgaW4gcXVpcmtzIG1vZGUgaXMgbm90IHN1cHBvcnRlZC4gIEluIHRoaXMgbW9kZSwgSUU8MTEgYWxsb3dcclxuICogb25lIHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGphdmFzY3JpcHQgYnkgdGhlIHVzZSBvZiB0aGUgZXhwcmVzc2lvbigpIHN5bnRheC4gIFJlZmVyXHJcbiAqIDxodHRwOi8vYmxvZ3MubXNkbi5jb20vYi9pZS9hcmNoaXZlLzIwMDgvMTAvMTYvZW5kaW5nLWV4cHJlc3Npb25zLmFzcHg+IHRvIGxlYXJuIG1vcmUgYWJvdXQgdGhlbS5cclxuICogWW91IGNhbiBlbnN1cmUgeW91ciBkb2N1bWVudCBpcyBpbiBzdGFuZGFyZHMgbW9kZSBhbmQgbm90IHF1aXJrcyBtb2RlIGJ5IGFkZGluZyBgPCFkb2N0eXBlIGh0bWw+YFxyXG4gKiB0byB0aGUgdG9wIG9mIHlvdXIgSFRNTCBkb2N1bWVudC5cclxuICpcclxuICogU0NFIGFzc2lzdHMgaW4gd3JpdGluZyBjb2RlIGluIHdheSB0aGF0IChhKSBpcyBzZWN1cmUgYnkgZGVmYXVsdCBhbmQgKGIpIG1ha2VzIGF1ZGl0aW5nIGZvclxyXG4gKiBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMgc3VjaCBhcyBYU1MsIGNsaWNramFja2luZywgZXRjLiBhIGxvdCBlYXNpZXIuXHJcbiAqXHJcbiAqIEhlcmUncyBhbiBleGFtcGxlIG9mIGEgYmluZGluZyBpbiBhIHByaXZpbGVnZWQgY29udGV4dDpcclxuICpcclxuICogYGBgXHJcbiAqIDxpbnB1dCBuZy1tb2RlbD1cInVzZXJIdG1sXCIgYXJpYS1sYWJlbD1cIlVzZXIgaW5wdXRcIj5cclxuICogPGRpdiBuZy1iaW5kLWh0bWw9XCJ1c2VySHRtbFwiPjwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogTm90aWNlIHRoYXQgYG5nLWJpbmQtaHRtbGAgaXMgYm91bmQgdG8gYHVzZXJIdG1sYCBjb250cm9sbGVkIGJ5IHRoZSB1c2VyLiAgV2l0aCBTQ0VcclxuICogZGlzYWJsZWQsIHRoaXMgYXBwbGljYXRpb24gYWxsb3dzIHRoZSB1c2VyIHRvIHJlbmRlciBhcmJpdHJhcnkgSFRNTCBpbnRvIHRoZSBESVYuXHJcbiAqIEluIGEgbW9yZSByZWFsaXN0aWMgZXhhbXBsZSwgb25lIG1heSBiZSByZW5kZXJpbmcgdXNlciBjb21tZW50cywgYmxvZyBhcnRpY2xlcywgZXRjLiB2aWFcclxuICogYmluZGluZ3MuICAoSFRNTCBpcyBqdXN0IG9uZSBleGFtcGxlIG9mIGEgY29udGV4dCB3aGVyZSByZW5kZXJpbmcgdXNlciBjb250cm9sbGVkIGlucHV0IGNyZWF0ZXNcclxuICogc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLilcclxuICpcclxuICogRm9yIHRoZSBjYXNlIG9mIEhUTUwsIHlvdSBtaWdodCB1c2UgYSBsaWJyYXJ5LCBlaXRoZXIgb24gdGhlIGNsaWVudCBzaWRlLCBvciBvbiB0aGUgc2VydmVyIHNpZGUsXHJcbiAqIHRvIHNhbml0aXplIHVuc2FmZSBIVE1MIGJlZm9yZSBiaW5kaW5nIHRvIHRoZSB2YWx1ZSBhbmQgcmVuZGVyaW5nIGl0IGluIHRoZSBkb2N1bWVudC5cclxuICpcclxuICogSG93IHdvdWxkIHlvdSBlbnN1cmUgdGhhdCBldmVyeSBwbGFjZSB0aGF0IHVzZWQgdGhlc2UgdHlwZXMgb2YgYmluZGluZ3Mgd2FzIGJvdW5kIHRvIGEgdmFsdWUgdGhhdFxyXG4gKiB3YXMgc2FuaXRpemVkIGJ5IHlvdXIgbGlicmFyeSAob3IgcmV0dXJuZWQgYXMgc2FmZSBmb3IgcmVuZGVyaW5nIGJ5IHlvdXIgc2VydmVyPykgIEhvdyBjYW4geW91XHJcbiAqIGVuc3VyZSB0aGF0IHlvdSBkaWRuJ3QgYWNjaWRlbnRhbGx5IGRlbGV0ZSB0aGUgbGluZSB0aGF0IHNhbml0aXplZCB0aGUgdmFsdWUsIG9yIHJlbmFtZWQgc29tZVxyXG4gKiBwcm9wZXJ0aWVzL2ZpZWxkcyBhbmQgZm9yZ290IHRvIHVwZGF0ZSB0aGUgYmluZGluZyB0byB0aGUgc2FuaXRpemVkIHZhbHVlP1xyXG4gKlxyXG4gKiBUbyBiZSBzZWN1cmUgYnkgZGVmYXVsdCwgeW91IHdhbnQgdG8gZW5zdXJlIHRoYXQgYW55IHN1Y2ggYmluZGluZ3MgYXJlIGRpc2FsbG93ZWQgdW5sZXNzIHlvdSBjYW5cclxuICogZGV0ZXJtaW5lIHRoYXQgc29tZXRoaW5nIGV4cGxpY2l0bHkgc2F5cyBpdCdzIHNhZmUgdG8gdXNlIGEgdmFsdWUgZm9yIGJpbmRpbmcgaW4gdGhhdFxyXG4gKiBjb250ZXh0LiAgWW91IGNhbiB0aGVuIGF1ZGl0IHlvdXIgY29kZSAoYSBzaW1wbGUgZ3JlcCB3b3VsZCBkbykgdG8gZW5zdXJlIHRoYXQgdGhpcyBpcyBvbmx5IGRvbmVcclxuICogZm9yIHRob3NlIHZhbHVlcyB0aGF0IHlvdSBjYW4gZWFzaWx5IHRlbGwgYXJlIHNhZmUgLSBiZWNhdXNlIHRoZXkgd2VyZSByZWNlaXZlZCBmcm9tIHlvdXIgc2VydmVyLFxyXG4gKiBzYW5pdGl6ZWQgYnkgeW91ciBsaWJyYXJ5LCBldGMuICBZb3UgY2FuIG9yZ2FuaXplIHlvdXIgY29kZWJhc2UgdG8gaGVscCB3aXRoIHRoaXMgLSBwZXJoYXBzXHJcbiAqIGFsbG93aW5nIG9ubHkgdGhlIGZpbGVzIGluIGEgc3BlY2lmaWMgZGlyZWN0b3J5IHRvIGRvIHRoaXMuICBFbnN1cmluZyB0aGF0IHRoZSBpbnRlcm5hbCBBUElcclxuICogZXhwb3NlZCBieSB0aGF0IGNvZGUgZG9lc24ndCBtYXJrdXAgYXJiaXRyYXJ5IHZhbHVlcyBhcyBzYWZlIHRoZW4gYmVjb21lcyBhIG1vcmUgbWFuYWdlYWJsZSB0YXNrLlxyXG4gKlxyXG4gKiBJbiB0aGUgY2FzZSBvZiBBbmd1bGFySlMnIFNDRSBzZXJ2aWNlLCBvbmUgdXNlcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc31cclxuICogKGFuZCBzaG9ydGhhbmQgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBuZy4kc2NlI3RydXN0QXNIdG1sICRzY2UudHJ1c3RBc0h0bWx9LCBldGMuKSB0b1xyXG4gKiBvYnRhaW4gdmFsdWVzIHRoYXQgd2lsbCBiZSBhY2NlcHRlZCBieSBTQ0UgLyBwcml2aWxlZ2VkIGNvbnRleHRzLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyBIb3cgZG9lcyBpdCB3b3JrP1xyXG4gKlxyXG4gKiBJbiBwcml2aWxlZ2VkIGNvbnRleHRzLCBkaXJlY3RpdmVzIGFuZCBjb2RlIHdpbGwgYmluZCB0byB0aGUgcmVzdWx0IG9mIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRcclxuICogJHNjZS5nZXRUcnVzdGVkKGNvbnRleHQsIHZhbHVlKX0gcmF0aGVyIHRoYW4gdG8gdGhlIHZhbHVlIGRpcmVjdGx5LiAgRGlyZWN0aXZlcyB1c2Uge0BsaW5rXHJcbiAqIG5nLiRzY2UjcGFyc2VBcyAkc2NlLnBhcnNlQXN9IHJhdGhlciB0aGFuIGAkcGFyc2VgIHRvIHdhdGNoIGF0dHJpYnV0ZSBiaW5kaW5ncywgd2hpY2ggcGVyZm9ybXMgdGhlXHJcbiAqIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkfSBiZWhpbmQgdGhlIHNjZW5lcyBvbiBub24tY29uc3RhbnQgbGl0ZXJhbHMuXHJcbiAqXHJcbiAqIEFzIGFuIGV4YW1wbGUsIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSB1c2VzIHtAbGlua1xyXG4gKiBuZy4kc2NlI3BhcnNlQXNIdG1sICRzY2UucGFyc2VBc0h0bWwoYmluZGluZyBleHByZXNzaW9uKX0uICBIZXJlJ3MgdGhlIGFjdHVhbCBjb2RlIChzbGlnaHRseVxyXG4gKiBzaW1wbGlmaWVkKTpcclxuICpcclxuICogYGBgXHJcbiAqIHZhciBuZ0JpbmRIdG1sRGlyZWN0aXZlID0gWyckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xyXG4gKiAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gKiAgICAgc2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc0h0bWwoYXR0ci5uZ0JpbmRIdG1sKSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICogICAgICAgZWxlbWVudC5odG1sKHZhbHVlIHx8ICcnKTtcclxuICogICAgIH0pO1xyXG4gKiAgIH07XHJcbiAqIH1dO1xyXG4gKiBgYGBcclxuICpcclxuICogIyMgSW1wYWN0IG9uIGxvYWRpbmcgdGVtcGxhdGVzXHJcbiAqXHJcbiAqIFRoaXMgYXBwbGllcyBib3RoIHRvIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5jbHVkZSBgbmctaW5jbHVkZWB9IGRpcmVjdGl2ZSBhcyB3ZWxsIGFzXHJcbiAqIGB0ZW1wbGF0ZVVybGAncyBzcGVjaWZpZWQgYnkge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS5cclxuICpcclxuICogQnkgZGVmYXVsdCwgQW5ndWxhciBvbmx5IGxvYWRzIHRlbXBsYXRlcyBmcm9tIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlIGFwcGxpY2F0aW9uXHJcbiAqIGRvY3VtZW50LiAgVGhpcyBpcyBkb25lIGJ5IGNhbGxpbmcge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXHJcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiB0aGUgdGVtcGxhdGUgVVJMLiAgVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIGFuZC9vclxyXG4gKiBwcm90b2NvbHMsIHlvdSBtYXkgZWl0aGVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3RcclxuICogdGhlbX0gb3Ige0BsaW5rIG5nLiRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsIHdyYXAgaXR9IGludG8gYSB0cnVzdGVkIHZhbHVlLlxyXG4gKlxyXG4gKiAqUGxlYXNlIG5vdGUqOlxyXG4gKiBUaGUgYnJvd3NlcidzXHJcbiAqIFtTYW1lIE9yaWdpbiBQb2xpY3ldKGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvYnJvd3NlcnNlYy93aWtpL1BhcnQyI1NhbWUtb3JpZ2luX3BvbGljeV9mb3JfWE1MSHR0cFJlcXVlc3QpXHJcbiAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLylcclxuICogcG9saWN5IGFwcGx5IGluIGFkZGl0aW9uIHRvIHRoaXMgYW5kIG1heSBmdXJ0aGVyIHJlc3RyaWN0IHdoZXRoZXIgdGhlIHRlbXBsYXRlIGlzIHN1Y2Nlc3NmdWxseVxyXG4gKiBsb2FkZWQuICBUaGlzIG1lYW5zIHRoYXQgd2l0aG91dCB0aGUgcmlnaHQgQ09SUyBwb2xpY3ksIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gYSBkaWZmZXJlbnQgZG9tYWluXHJcbiAqIHdvbid0IHdvcmsgb24gYWxsIGJyb3dzZXJzLiAgQWxzbywgbG9hZGluZyB0ZW1wbGF0ZXMgZnJvbSBgZmlsZTovL2AgVVJMIGRvZXMgbm90IHdvcmsgb24gc29tZVxyXG4gKiBicm93c2Vycy5cclxuICpcclxuICogIyMgVGhpcyBmZWVscyBsaWtlIHRvbyBtdWNoIG92ZXJoZWFkXHJcbiAqXHJcbiAqIEl0J3MgaW1wb3J0YW50IHRvIHJlbWVtYmVyIHRoYXQgU0NFIG9ubHkgYXBwbGllcyB0byBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb25zLlxyXG4gKlxyXG4gKiBJZiB5b3VyIGV4cHJlc3Npb25zIGFyZSBjb25zdGFudCBsaXRlcmFscywgdGhleSdyZSBhdXRvbWF0aWNhbGx5IHRydXN0ZWQgYW5kIHlvdSBkb24ndCBuZWVkIHRvXHJcbiAqIGNhbGwgYCRzY2UudHJ1c3RBc2Agb24gdGhlbSAocmVtZW1iZXIgdG8gaW5jbHVkZSB0aGUgYG5nU2FuaXRpemVgIG1vZHVsZSkgKGUuZy5cclxuICogYDxkaXYgbmctYmluZC1odG1sPVwiJzxiPmltcGxpY2l0bHkgdHJ1c3RlZDwvYj4nXCI+PC9kaXY+YCkganVzdCB3b3Jrcy5cclxuICpcclxuICogQWRkaXRpb25hbGx5LCBgYVtocmVmXWAgYW5kIGBpbWdbc3JjXWAgYXV0b21hdGljYWxseSBzYW5pdGl6ZSB0aGVpciBVUkxzIGFuZCBkbyBub3QgcGFzcyB0aGVtXHJcbiAqIHRocm91Z2gge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWR9LiAgU0NFIGRvZXNuJ3QgcGxheSBhIHJvbGUgaGVyZS5cclxuICpcclxuICogVGhlIGluY2x1ZGVkIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBjb21lcyB3aXRoIHNhbmUgZGVmYXVsdHMgdG8gYWxsb3cgeW91IHRvIGxvYWRcclxuICogdGVtcGxhdGVzIGluIGBuZy1pbmNsdWRlYCBmcm9tIHlvdXIgYXBwbGljYXRpb24ncyBkb21haW4gd2l0aG91dCBoYXZpbmcgdG8gZXZlbiBrbm93IGFib3V0IFNDRS5cclxuICogSXQgYmxvY2tzIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBsb2FkaW5nIHRlbXBsYXRlcyBvdmVyIGh0dHAgZnJvbSBhbiBodHRwc1xyXG4gKiBzZXJ2ZWQgZG9jdW1lbnQuICBZb3UgY2FuIGNoYW5nZSB0aGVzZSBieSBzZXR0aW5nIHlvdXIgb3duIGN1c3RvbSB7QGxpbmtcclxuICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2hpdGVsaXN0c30gYW5kIHtAbGlua1xyXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBibGFja2xpc3RzfSBmb3IgbWF0Y2hpbmcgc3VjaCBVUkxzLlxyXG4gKlxyXG4gKiBUaGlzIHNpZ25pZmljYW50bHkgcmVkdWNlcyB0aGUgb3ZlcmhlYWQuICBJdCBpcyBmYXIgZWFzaWVyIHRvIHBheSB0aGUgc21hbGwgb3ZlcmhlYWQgYW5kIGhhdmUgYW5cclxuICogYXBwbGljYXRpb24gdGhhdCdzIHNlY3VyZSBhbmQgY2FuIGJlIGF1ZGl0ZWQgdG8gdmVyaWZ5IHRoYXQgd2l0aCBtdWNoIG1vcmUgZWFzZSB0aGFuIGJvbHRpbmdcclxuICogc2VjdXJpdHkgb250byBhbiBhcHBsaWNhdGlvbiBsYXRlci5cclxuICpcclxuICogPGEgbmFtZT1cImNvbnRleHRzXCI+PC9hPlxyXG4gKiAjIyBXaGF0IHRydXN0ZWQgY29udGV4dCB0eXBlcyBhcmUgc3VwcG9ydGVkP1xyXG4gKlxyXG4gKiB8IENvbnRleHQgICAgICAgICAgICAgfCBOb3RlcyAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXxcclxuICogfCBgJHNjZS5IVE1MYCAgICAgICAgIHwgRm9yIEhUTUwgdGhhdCdzIHNhZmUgdG8gc291cmNlIGludG8gdGhlIGFwcGxpY2F0aW9uLiAgVGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSBkaXJlY3RpdmUgdXNlcyB0aGlzIGNvbnRleHQgZm9yIGJpbmRpbmdzLiBJZiBhbiB1bnNhZmUgdmFsdWUgaXMgZW5jb3VudGVyZWQgYW5kIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZSAkc2FuaXRpemV9IG1vZHVsZSBpcyBwcmVzZW50IHRoaXMgd2lsbCBzYW5pdGl6ZSB0aGUgdmFsdWUgaW5zdGVhZCBvZiB0aHJvd2luZyBhbiBlcnJvci4gfFxyXG4gKiB8IGAkc2NlLkNTU2AgICAgICAgICAgfCBGb3IgQ1NTIHRoYXQncyBzYWZlIHRvIHNvdXJjZSBpbnRvIHRoZSBhcHBsaWNhdGlvbi4gIEN1cnJlbnRseSB1bnVzZWQuICBGZWVsIGZyZWUgdG8gdXNlIGl0IGluIHlvdXIgb3duIGRpcmVjdGl2ZXMuIHxcclxuICogfCBgJHNjZS5VUkxgICAgICAgICAgIHwgRm9yIFVSTHMgdGhhdCBhcmUgc2FmZSB0byBmb2xsb3cgYXMgbGlua3MuICBDdXJyZW50bHkgdW51c2VkIChgPGEgaHJlZj1gIGFuZCBgPGltZyBzcmM9YCBzYW5pdGl6ZSB0aGVpciB1cmxzIGFuZCBkb24ndCBjb25zdGl0dXRlIGFuIFNDRSBjb250ZXh0LiB8XHJcbiAqIHwgYCRzY2UuUkVTT1VSQ0VfVVJMYCB8IEZvciBVUkxzIHRoYXQgYXJlIG5vdCBvbmx5IHNhZmUgdG8gZm9sbG93IGFzIGxpbmtzLCBidXQgd2hvc2UgY29udGVudHMgYXJlIGFsc28gc2FmZSB0byBpbmNsdWRlIGluIHlvdXIgYXBwbGljYXRpb24uICBFeGFtcGxlcyBpbmNsdWRlIGBuZy1pbmNsdWRlYCwgYHNyY2AgLyBgbmdTcmNgIGJpbmRpbmdzIGZvciB0YWdzIG90aGVyIHRoYW4gYElNR2AgKGUuZy4gYElGUkFNRWAsIGBPQkpFQ1RgLCBldGMuKSAgPGJyPjxicj5Ob3RlIHRoYXQgYCRzY2UuUkVTT1VSQ0VfVVJMYCBtYWtlcyBhIHN0cm9uZ2VyIHN0YXRlbWVudCBhYm91dCB0aGUgVVJMIHRoYW4gYCRzY2UuVVJMYCBkb2VzIGFuZCB0aGVyZWZvcmUgY29udGV4dHMgcmVxdWlyaW5nIHZhbHVlcyB0cnVzdGVkIGZvciBgJHNjZS5SRVNPVVJDRV9VUkxgIGNhbiBiZSB1c2VkIGFueXdoZXJlIHRoYXQgdmFsdWVzIHRydXN0ZWQgZm9yIGAkc2NlLlVSTGAgYXJlIHJlcXVpcmVkLiB8XHJcbiAqIHwgYCRzY2UuSlNgICAgICAgICAgICB8IEZvciBKYXZhU2NyaXB0IHRoYXQgaXMgc2FmZSB0byBleGVjdXRlIGluIHlvdXIgYXBwbGljYXRpb24ncyBjb250ZXh0LiAgQ3VycmVudGx5IHVudXNlZC4gIEZlZWwgZnJlZSB0byB1c2UgaXQgaW4geW91ciBvd24gZGlyZWN0aXZlcy4gfFxyXG4gKlxyXG4gKiAjIyBGb3JtYXQgb2YgaXRlbXMgaW4ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHJlc291cmNlVXJsV2hpdGVsaXN0fS97QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3QgQmxhY2tsaXN0fSA8YSBuYW1lPVwicmVzb3VyY2VVcmxQYXR0ZXJuSXRlbVwiPjwvYT5cclxuICpcclxuICogIEVhY2ggZWxlbWVudCBpbiB0aGVzZSBhcnJheXMgbXVzdCBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcclxuICpcclxuICogIC0gKionc2VsZicqKlxyXG4gKiAgICAtIFRoZSBzcGVjaWFsICoqc3RyaW5nKiosIGAnc2VsZidgLCBjYW4gYmUgdXNlZCB0byBtYXRjaCBhZ2FpbnN0IGFsbCBVUkxzIG9mIHRoZSAqKnNhbWVcclxuICogICAgICBkb21haW4qKiBhcyB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQgdXNpbmcgdGhlICoqc2FtZSBwcm90b2NvbCoqLlxyXG4gKiAgLSAqKlN0cmluZyoqIChleGNlcHQgdGhlIHNwZWNpYWwgdmFsdWUgYCdzZWxmJ2ApXHJcbiAqICAgIC0gVGhlIHN0cmluZyBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGZ1bGwgKm5vcm1hbGl6ZWQgLyBhYnNvbHV0ZSBVUkwqIG9mIHRoZSByZXNvdXJjZVxyXG4gKiAgICAgIGJlaW5nIHRlc3RlZCAoc3Vic3RyaW5nIG1hdGNoZXMgYXJlIG5vdCBnb29kIGVub3VnaC4pXHJcbiAqICAgIC0gVGhlcmUgYXJlIGV4YWN0bHkgKip0d28gd2lsZGNhcmQgc2VxdWVuY2VzKiogLSBgKmAgYW5kIGAqKmAuICBBbGwgb3RoZXIgY2hhcmFjdGVyc1xyXG4gKiAgICAgIG1hdGNoIHRoZW1zZWx2ZXMuXHJcbiAqICAgIC0gYCpgOiBtYXRjaGVzIHplcm8gb3IgbW9yZSBvY2N1cnJlbmNlcyBvZiBhbnkgY2hhcmFjdGVyIG90aGVyIHRoYW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgNlxyXG4gKiAgICAgIGNoYXJhY3RlcnM6ICdgOmAnLCAnYC9gJywgJ2AuYCcsICdgP2AnLCAnYCZgJyBhbmQgJ2A7YCcuICBJdCdzIGEgdXNlZnVsIHdpbGRjYXJkIGZvciB1c2VcclxuICogICAgICBpbiBhIHdoaXRlbGlzdC5cclxuICogICAgLSBgKipgOiBtYXRjaGVzIHplcm8gb3IgbW9yZSBvY2N1cnJlbmNlcyBvZiAqYW55KiBjaGFyYWN0ZXIuICBBcyBzdWNoLCBpdCdzIG5vdFxyXG4gKiAgICAgIGFwcHJvcHJpYXRlIGZvciB1c2UgaW4gYSBzY2hlbWUsIGRvbWFpbiwgZXRjLiBhcyBpdCB3b3VsZCBtYXRjaCB0b28gbXVjaC4gIChlLmcuXHJcbiAqICAgICAgaHR0cDovLyoqLmV4YW1wbGUuY29tLyB3b3VsZCBtYXRjaCBodHRwOi8vZXZpbC5jb20vP2lnbm9yZT0uZXhhbXBsZS5jb20vIGFuZCB0aGF0IG1pZ2h0XHJcbiAqICAgICAgbm90IGhhdmUgYmVlbiB0aGUgaW50ZW50aW9uLikgIEl0cyB1c2FnZSBhdCB0aGUgdmVyeSBlbmQgb2YgdGhlIHBhdGggaXMgb2suICAoZS5nLlxyXG4gKiAgICAgIGh0dHA6Ly9mb28uZXhhbXBsZS5jb20vdGVtcGxhdGVzLyoqKS5cclxuICogIC0gKipSZWdFeHAqKiAoKnNlZSBjYXZlYXQgYmVsb3cqKVxyXG4gKiAgICAtICpDYXZlYXQqOiAgV2hpbGUgcmVndWxhciBleHByZXNzaW9ucyBhcmUgcG93ZXJmdWwgYW5kIG9mZmVyIGdyZWF0IGZsZXhpYmlsaXR5LCAgdGhlaXIgc3ludGF4XHJcbiAqICAgICAgKGFuZCBhbGwgdGhlIGluZXZpdGFibGUgZXNjYXBpbmcpIG1ha2VzIHRoZW0gKmhhcmRlciB0byBtYWludGFpbiouICBJdCdzIGVhc3kgdG9cclxuICogICAgICBhY2NpZGVudGFsbHkgaW50cm9kdWNlIGEgYnVnIHdoZW4gb25lIHVwZGF0ZXMgYSBjb21wbGV4IGV4cHJlc3Npb24gKGltaG8sIGFsbCByZWdleGVzIHNob3VsZFxyXG4gKiAgICAgIGhhdmUgZ29vZCB0ZXN0IGNvdmVyYWdlKS4gIEZvciBpbnN0YW5jZSwgdGhlIHVzZSBvZiBgLmAgaW4gdGhlIHJlZ2V4IGlzIGNvcnJlY3Qgb25seSBpbiBhXHJcbiAqICAgICAgc21hbGwgbnVtYmVyIG9mIGNhc2VzLiAgQSBgLmAgY2hhcmFjdGVyIGluIHRoZSByZWdleCB1c2VkIHdoZW4gbWF0Y2hpbmcgdGhlIHNjaGVtZSBvciBhXHJcbiAqICAgICAgc3ViZG9tYWluIGNvdWxkIGJlIG1hdGNoZWQgYWdhaW5zdCBhIGA6YCBvciBsaXRlcmFsIGAuYCB0aGF0IHdhcyBsaWtlbHkgbm90IGludGVuZGVkLiAgIEl0XHJcbiAqICAgICAgaXMgaGlnaGx5IHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgc3RyaW5nIHBhdHRlcm5zIGFuZCBvbmx5IGZhbGwgYmFjayB0byByZWd1bGFyIGV4cHJlc3Npb25zXHJcbiAqICAgICAgYXMgYSBsYXN0IHJlc29ydC5cclxuICogICAgLSBUaGUgcmVndWxhciBleHByZXNzaW9uIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVnRXhwIChpLmUuIG5vdCBhIHN0cmluZy4pICBJdCBpc1xyXG4gKiAgICAgIG1hdGNoZWQgYWdhaW5zdCB0aGUgKiplbnRpcmUqKiAqbm9ybWFsaXplZCAvIGFic29sdXRlIFVSTCogb2YgdGhlIHJlc291cmNlIGJlaW5nIHRlc3RlZFxyXG4gKiAgICAgIChldmVuIHdoZW4gdGhlIFJlZ0V4cCBkaWQgbm90IGhhdmUgdGhlIGBeYCBhbmQgYCRgIGNvZGVzLikgIEluIGFkZGl0aW9uLCBhbnkgZmxhZ3NcclxuICogICAgICBwcmVzZW50IG9uIHRoZSBSZWdFeHAgKHN1Y2ggYXMgbXVsdGlsaW5lLCBnbG9iYWwsIGlnbm9yZUNhc2UpIGFyZSBpZ25vcmVkLlxyXG4gKiAgICAtIElmIHlvdSBhcmUgZ2VuZXJhdGluZyB5b3VyIEphdmFTY3JpcHQgZnJvbSBzb21lIG90aGVyIHRlbXBsYXRpbmcgZW5naW5lIChub3RcclxuICogICAgICByZWNvbW1lbmRlZCwgZS5nLiBpbiBpc3N1ZSBbIzQwMDZdKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzQwMDYpKSxcclxuICogICAgICByZW1lbWJlciB0byBlc2NhcGUgeW91ciByZWd1bGFyIGV4cHJlc3Npb24gKGFuZCBiZSBhd2FyZSB0aGF0IHlvdSBtaWdodCBuZWVkIG1vcmUgdGhhblxyXG4gKiAgICAgIG9uZSBsZXZlbCBvZiBlc2NhcGluZyBkZXBlbmRpbmcgb24geW91ciB0ZW1wbGF0aW5nIGVuZ2luZSBhbmQgdGhlIHdheSB5b3UgaW50ZXJwb2xhdGVkXHJcbiAqICAgICAgdGhlIHZhbHVlLikgIERvIG1ha2UgdXNlIG9mIHlvdXIgcGxhdGZvcm0ncyBlc2NhcGluZyBtZWNoYW5pc20gYXMgaXQgbWlnaHQgYmUgZ29vZFxyXG4gKiAgICAgIGVub3VnaCBiZWZvcmUgY29kaW5nIHlvdXIgb3duLiAgRS5nLiBSdWJ5IGhhc1xyXG4gKiAgICAgIFtSZWdleHAuZXNjYXBlKHN0cildKGh0dHA6Ly93d3cucnVieS1kb2Mub3JnL2NvcmUtMi4wLjAvUmVnZXhwLmh0bWwjbWV0aG9kLWMtZXNjYXBlKVxyXG4gKiAgICAgIGFuZCBQeXRob24gaGFzIFtyZS5lc2NhcGVdKGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS9yZS5odG1sI3JlLmVzY2FwZSkuXHJcbiAqICAgICAgSmF2YXNjcmlwdCBsYWNrcyBhIHNpbWlsYXIgYnVpbHQgaW4gZnVuY3Rpb24gZm9yIGVzY2FwaW5nLiAgVGFrZSBhIGxvb2sgYXQgR29vZ2xlXHJcbiAqICAgICAgQ2xvc3VyZSBsaWJyYXJ5J3MgW2dvb2cuc3RyaW5nLnJlZ0V4cEVzY2FwZShzKV0oXHJcbiAqICAgICAgaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfc3RyaW5nX3N0cmluZy5qcy5zb3VyY2UuaHRtbCNsaW5lOTYyKS5cclxuICpcclxuICogUmVmZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSBmb3IgYW4gZXhhbXBsZS5cclxuICpcclxuICogIyMgU2hvdyBtZSBhbiBleGFtcGxlIHVzaW5nIFNDRS5cclxuICpcclxuICogPGV4YW1wbGUgbW9kdWxlPVwibXlTY2VBcHBcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiPlxyXG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgIDxkaXYgbmctY29udHJvbGxlcj1cIkFwcENvbnRyb2xsZXIgYXMgbXlDdHJsXCI+XHJcbiAqICAgICA8aSBuZy1iaW5kLWh0bWw9XCJteUN0cmwuZXhwbGljaXRseVRydXN0ZWRIdG1sXCIgaWQ9XCJleHBsaWNpdGx5VHJ1c3RlZEh0bWxcIj48L2k+PGJyPjxicj5cclxuICogICAgIDxiPlVzZXIgY29tbWVudHM8L2I+PGJyPlxyXG4gKiAgICAgQnkgZGVmYXVsdCwgSFRNTCB0aGF0IGlzbid0IGV4cGxpY2l0bHkgdHJ1c3RlZCAoZS5nLiBBbGljZSdzIGNvbW1lbnQpIGlzIHNhbml0aXplZCB3aGVuXHJcbiAqICAgICAkc2FuaXRpemUgaXMgYXZhaWxhYmxlLiAgSWYgJHNhbml0aXplIGlzbid0IGF2YWlsYWJsZSwgdGhpcyByZXN1bHRzIGluIGFuIGVycm9yIGluc3RlYWQgb2YgYW5cclxuICogICAgIGV4cGxvaXQuXHJcbiAqICAgICA8ZGl2IGNsYXNzPVwid2VsbFwiPlxyXG4gKiAgICAgICA8ZGl2IG5nLXJlcGVhdD1cInVzZXJDb21tZW50IGluIG15Q3RybC51c2VyQ29tbWVudHNcIj5cclxuICogICAgICAgICA8Yj57e3VzZXJDb21tZW50Lm5hbWV9fTwvYj46XHJcbiAqICAgICAgICAgPHNwYW4gbmctYmluZC1odG1sPVwidXNlckNvbW1lbnQuaHRtbENvbW1lbnRcIiBjbGFzcz1cImh0bWxDb21tZW50XCI+PC9zcGFuPlxyXG4gKiAgICAgICAgIDxicj5cclxuICogICAgICAgPC9kaXY+XHJcbiAqICAgICA8L2Rpdj5cclxuICogICA8L2Rpdj5cclxuICogPC9maWxlPlxyXG4gKlxyXG4gKiA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAqICAgYW5ndWxhci5tb2R1bGUoJ215U2NlQXBwJywgWyduZ1Nhbml0aXplJ10pXHJcbiAqICAgICAuY29udHJvbGxlcignQXBwQ29udHJvbGxlcicsIFsnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLCAnJHNjZScsXHJcbiAqICAgICAgIGZ1bmN0aW9uKCRodHRwLCAkdGVtcGxhdGVDYWNoZSwgJHNjZSkge1xyXG4gKiAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICogICAgICAgICAkaHR0cC5nZXQoXCJ0ZXN0X2RhdGEuanNvblwiLCB7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkuc3VjY2VzcyhmdW5jdGlvbih1c2VyQ29tbWVudHMpIHtcclxuICogICAgICAgICAgIHNlbGYudXNlckNvbW1lbnRzID0gdXNlckNvbW1lbnRzO1xyXG4gKiAgICAgICAgIH0pO1xyXG4gKiAgICAgICAgIHNlbGYuZXhwbGljaXRseVRydXN0ZWRIdG1sID0gJHNjZS50cnVzdEFzSHRtbChcclxuICogICAgICAgICAgICAgJzxzcGFuIG9ubW91c2VvdmVyPVwidGhpcy50ZXh0Q29udGVudD0mcXVvdDtFeHBsaWNpdGx5IHRydXN0ZWQgSFRNTCBieXBhc3NlcyAnICtcclxuICogICAgICAgICAgICAgJ3Nhbml0aXphdGlvbi4mcXVvdDtcIj5Ib3ZlciBvdmVyIHRoaXMgdGV4dC48L3NwYW4+Jyk7XHJcbiAqICAgICAgIH1dKTtcclxuICogPC9maWxlPlxyXG4gKlxyXG4gKiA8ZmlsZSBuYW1lPVwidGVzdF9kYXRhLmpzb25cIj5cclxuICogW1xyXG4gKiAgIHsgXCJuYW1lXCI6IFwiQWxpY2VcIixcclxuICogICAgIFwiaHRtbENvbW1lbnRcIjpcclxuICogICAgICAgICBcIjxzcGFuIG9ubW91c2VvdmVyPSd0aGlzLnRleHRDb250ZW50PVxcXCJQV04zRCFcXFwiJz5JcyA8aT5hbnlvbmU8L2k+IHJlYWRpbmcgdGhpcz88L3NwYW4+XCJcclxuICogICB9LFxyXG4gKiAgIHsgXCJuYW1lXCI6IFwiQm9iXCIsXHJcbiAqICAgICBcImh0bWxDb21tZW50XCI6IFwiPGk+WWVzITwvaT4gIEFtIEkgdGhlIG9ubHkgb3RoZXIgb25lP1wiXHJcbiAqICAgfVxyXG4gKiBdXHJcbiAqIDwvZmlsZT5cclxuICpcclxuICogPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gKiAgIGRlc2NyaWJlKCdTQ0UgZG9jIGRlbW8nLCBmdW5jdGlvbigpIHtcclxuICogICAgIGl0KCdzaG91bGQgc2FuaXRpemUgdW50cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcuaHRtbENvbW1lbnQnKSkuZmlyc3QoKS5nZXRJbm5lckh0bWwoKSlcclxuICogICAgICAgICAgIC50b0JlKCc8c3Bhbj5JcyA8aT5hbnlvbmU8L2k+IHJlYWRpbmcgdGhpcz88L3NwYW4+Jyk7XHJcbiAqICAgICB9KTtcclxuICpcclxuICogICAgIGl0KCdzaG91bGQgTk9UIHNhbml0aXplIGV4cGxpY2l0bHkgdHJ1c3RlZCB2YWx1ZXMnLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2V4cGxpY2l0bHlUcnVzdGVkSHRtbCcpKS5nZXRJbm5lckh0bWwoKSkudG9CZShcclxuICogICAgICAgICAgICc8c3BhbiBvbm1vdXNlb3Zlcj1cInRoaXMudGV4dENvbnRlbnQ9JnF1b3Q7RXhwbGljaXRseSB0cnVzdGVkIEhUTUwgYnlwYXNzZXMgJyArXHJcbiAqICAgICAgICAgICAnc2FuaXRpemF0aW9uLiZxdW90O1wiPkhvdmVyIG92ZXIgdGhpcyB0ZXh0Ljwvc3Bhbj4nKTtcclxuICogICAgIH0pO1xyXG4gKiAgIH0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICpcclxuICpcclxuICogIyMgQ2FuIEkgZGlzYWJsZSBTQ0UgY29tcGxldGVseT9cclxuICpcclxuICogWWVzLCB5b3UgY2FuLiAgSG93ZXZlciwgdGhpcyBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZC4gIFNDRSBnaXZlcyB5b3UgYSBsb3Qgb2Ygc2VjdXJpdHkgYmVuZWZpdHNcclxuICogZm9yIGxpdHRsZSBjb2Rpbmcgb3ZlcmhlYWQuICBJdCB3aWxsIGJlIG11Y2ggaGFyZGVyIHRvIHRha2UgYW4gU0NFIGRpc2FibGVkIGFwcGxpY2F0aW9uIGFuZFxyXG4gKiBlaXRoZXIgc2VjdXJlIGl0IG9uIHlvdXIgb3duIG9yIGVuYWJsZSBTQ0UgYXQgYSBsYXRlciBzdGFnZS4gIEl0IG1pZ2h0IG1ha2Ugc2Vuc2UgdG8gZGlzYWJsZSBTQ0VcclxuICogZm9yIGNhc2VzIHdoZXJlIHlvdSBoYXZlIGEgbG90IG9mIGV4aXN0aW5nIGNvZGUgdGhhdCB3YXMgd3JpdHRlbiBiZWZvcmUgU0NFIHdhcyBpbnRyb2R1Y2VkIGFuZFxyXG4gKiB5b3UncmUgbWlncmF0aW5nIHRoZW0gYSBtb2R1bGUgYXQgYSB0aW1lLlxyXG4gKlxyXG4gKiBUaGF0IHNhaWQsIGhlcmUncyBob3cgeW91IGNhbiBjb21wbGV0ZWx5IGRpc2FibGUgU0NFOlxyXG4gKlxyXG4gKiBgYGBcclxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwV2l0aFNjZURpc2FibGVkbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VQcm92aWRlcikge1xyXG4gKiAgIC8vIENvbXBsZXRlbHkgZGlzYWJsZSBTQ0UuICBGb3IgZGVtb25zdHJhdGlvbiBwdXJwb3NlcyBvbmx5IVxyXG4gKiAgIC8vIERvIG5vdCB1c2UgaW4gbmV3IHByb2plY3RzLlxyXG4gKiAgICRzY2VQcm92aWRlci5lbmFibGVkKGZhbHNlKTtcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKi9cclxuLyoganNoaW50IG1heGxlbjogMTAwICovXHJcblxyXG5mdW5jdGlvbiAkU2NlUHJvdmlkZXIoKSB7XHJcbiAgdmFyIGVuYWJsZWQgPSB0cnVlO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJHNjZVByb3ZpZGVyI2VuYWJsZWRcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgcHJvdmlkZWQsIHRoZW4gZW5hYmxlcy9kaXNhYmxlcyBTQ0UuXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBTQ0UgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRW5hYmxlcy9kaXNhYmxlcyBTQ0UgYW5kIHJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUuXHJcbiAgICovXHJcbiAgdGhpcy5lbmFibGVkID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIGVuYWJsZWQgPSAhIXZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVuYWJsZWQ7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qIERlc2lnbiBub3RlcyBvbiB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBmb3IgU0NFLlxyXG4gICAqXHJcbiAgICogVGhlIEFQSSBjb250cmFjdCBmb3IgdGhlIFNDRSBkZWxlZ2F0ZVxyXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgKiBUaGUgU0NFIGRlbGVnYXRlIG9iamVjdCBtdXN0IHByb3ZpZGUgdGhlIGZvbGxvd2luZyAzIG1ldGhvZHM6XHJcbiAgICpcclxuICAgKiAtIHRydXN0QXMoY29udGV4dEVudW0sIHZhbHVlKVxyXG4gICAqICAgICBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHRlbGwgdGhlIFNDRSBzZXJ2aWNlIHRoYXQgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIE9LIHRvIHVzZSBpbiB0aGVcclxuICAgKiAgICAgY29udGV4dHMgc3BlY2lmaWVkIGJ5IGNvbnRleHRFbnVtLiAgSXQgbXVzdCByZXR1cm4gYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhY2NlcHRlZCBieVxyXG4gICAqICAgICBnZXRUcnVzdGVkKCkgZm9yIGEgY29tcGF0aWJsZSBjb250ZXh0RW51bSBhbmQgcmV0dXJuIHRoaXMgdmFsdWUuXHJcbiAgICpcclxuICAgKiAtIHZhbHVlT2YodmFsdWUpXHJcbiAgICogICAgIEZvciB2YWx1ZXMgdGhhdCB3ZXJlIG5vdCBwcm9kdWNlZCBieSB0cnVzdEFzKCksIHJldHVybiB0aGVtIGFzIGlzLiAgRm9yIHZhbHVlcyB0aGF0IHdlcmVcclxuICAgKiAgICAgcHJvZHVjZWQgYnkgdHJ1c3RBcygpLCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgaW5wdXQgdmFsdWUgdG8gdHJ1c3RBcy4gIEJhc2ljYWxseSwgaWZcclxuICAgKiAgICAgdHJ1c3RBcyBpcyB3cmFwcGluZyB0aGUgZ2l2ZW4gdmFsdWVzIGludG8gc29tZSB0eXBlLCB0aGlzIG9wZXJhdGlvbiB1bndyYXBzIGl0IHdoZW4gZ2l2ZW5cclxuICAgKiAgICAgc3VjaCBhIHZhbHVlLlxyXG4gICAqXHJcbiAgICogLSBnZXRUcnVzdGVkKGNvbnRleHRFbnVtLCB2YWx1ZSlcclxuICAgKiAgICAgVGhpcyBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZSBhIHZhbHVlIHRoYXQgaXMgc2FmZSB0byB1c2UgaW4gdGhlIGNvbnRleHQgc3BlY2lmaWVkIGJ5XHJcbiAgICogICAgIGNvbnRleHRFbnVtIG9yIHRocm93IGFuZCBleGNlcHRpb24gb3RoZXJ3aXNlLlxyXG4gICAqXHJcbiAgICogTk9URTogVGhpcyBjb250cmFjdCBkZWxpYmVyYXRlbHkgZG9lcyBOT1Qgc3RhdGUgdGhhdCB2YWx1ZXMgcmV0dXJuZWQgYnkgdHJ1c3RBcygpIG11c3QgYmVcclxuICAgKiBvcGFxdWUgb3Igd3JhcHBlZCBpbiBzb21lIGhvbGRlciBvYmplY3QuICBUaGF0IGhhcHBlbnMgdG8gYmUgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsLiAgRm9yXHJcbiAgICogaW5zdGFuY2UsIGFuIGltcGxlbWVudGF0aW9uIGNvdWxkIG1haW50YWluIGEgcmVnaXN0cnkgb2YgYWxsIHRydXN0ZWQgb2JqZWN0cyBieSBjb250ZXh0LiAgSW5cclxuICAgKiBzdWNoIGEgY2FzZSwgdHJ1c3RBcygpIHdvdWxkIHJldHVybiB0aGUgc2FtZSBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGluLiAgZ2V0VHJ1c3RlZCgpIHdvdWxkXHJcbiAgICogcmV0dXJuIHRoZSBzYW1lIG9iamVjdCBwYXNzZWQgaW4gaWYgaXQgd2FzIGZvdW5kIGluIHRoZSByZWdpc3RyeSB1bmRlciBhIGNvbXBhdGlibGUgY29udGV4dCBvclxyXG4gICAqIHRocm93IGFuIGV4Y2VwdGlvbiBvdGhlcndpc2UuICBBbiBpbXBsZW1lbnRhdGlvbiBtaWdodCBvbmx5IHdyYXAgdmFsdWVzIHNvbWUgb2YgdGhlIHRpbWUgYmFzZWRcclxuICAgKiBvbiBzb21lIGNyaXRlcmlhLiAgZ2V0VHJ1c3RlZCgpIG1pZ2h0IHJldHVybiBhIHZhbHVlIGFuZCBub3QgdGhyb3cgYW4gZXhjZXB0aW9uIGZvciBzcGVjaWFsXHJcbiAgICogY29uc3RhbnRzIG9yIG9iamVjdHMgZXZlbiBpZiBub3Qgd3JhcHBlZC4gIEFsbCBzdWNoIGltcGxlbWVudGF0aW9ucyBmdWxmaWxsIHRoaXMgY29udHJhY3QuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEEgbm90ZSBvbiB0aGUgaW5oZXJpdGFuY2UgbW9kZWwgZm9yIFNDRSBjb250ZXh0c1xyXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqIEkndmUgdXNlZCBpbmhlcml0YW5jZSBhbmQgbWFkZSBSRVNPVVJDRV9VUkwgd3JhcHBlZCB0eXBlcyBhIHN1YnR5cGUgb2YgVVJMIHdyYXBwZWQgdHlwZXMuICBUaGlzXHJcbiAgICogaXMgcHVyZWx5IGFuIGltcGxlbWVudGF0aW9uIGRldGFpbHMuXHJcbiAgICpcclxuICAgKiBUaGUgY29udHJhY3QgaXMgc2ltcGx5IHRoaXM6XHJcbiAgICpcclxuICAgKiAgICAgZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpIHN1Y2NlZWRpbmcgaW1wbGllcyB0aGF0IGdldFRydXN0ZWQoJHNjZS5VUkwsIHZhbHVlKVxyXG4gICAqICAgICB3aWxsIGFsc28gc3VjY2VlZC5cclxuICAgKlxyXG4gICAqIEluaGVyaXRhbmNlIGhhcHBlbnMgdG8gY2FwdHVyZSB0aGlzIGluIGEgbmF0dXJhbCB3YXkuICBJbiBzb21lIGZ1dHVyZSwgd2VcclxuICAgKiBtYXkgbm90IHVzZSBpbmhlcml0YW5jZSBhbnltb3JlLiAgVGhhdCBpcyBPSyBiZWNhdXNlIG5vIGNvZGUgb3V0c2lkZSBvZlxyXG4gICAqIHNjZS5qcyBhbmQgc2NlU3BlY3MuanMgd291bGQgbmVlZCB0byBiZSBhd2FyZSBvZiB0aGlzIGRldGFpbC5cclxuICAgKi9cclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckcGFyc2UnLCAnJHNjZURlbGVnYXRlJywgZnVuY3Rpb24oXHJcbiAgICAgICAgICAgICAgICAkcGFyc2UsICAgJHNjZURlbGVnYXRlKSB7XHJcbiAgICAvLyBQcmVyZXE6IEVuc3VyZSB0aGF0IHdlJ3JlIG5vdCBydW5uaW5nIGluIElFPDExIHF1aXJrcyBtb2RlLiAgSW4gdGhhdCBtb2RlLCBJRSA8IDExIGFsbG93XHJcbiAgICAvLyB0aGUgXCJleHByZXNzaW9uKGphdmFzY3JpcHQgZXhwcmVzc2lvbilcIiBzeW50YXggd2hpY2ggaXMgaW5zZWN1cmUuXHJcbiAgICBpZiAoZW5hYmxlZCAmJiBtc2llIDwgOCkge1xyXG4gICAgICB0aHJvdyAkc2NlTWluRXJyKCdpZXF1aXJrcycsXHJcbiAgICAgICAgJ1N0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRvZXMgbm90IHN1cHBvcnQgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbiA8IDExIGluIHF1aXJrcyAnICtcclxuICAgICAgICAnbW9kZS4gIFlvdSBjYW4gZml4IHRoaXMgYnkgYWRkaW5nIHRoZSB0ZXh0IDwhZG9jdHlwZSBodG1sPiB0byB0aGUgdG9wIG9mIHlvdXIgSFRNTCAnICtcclxuICAgICAgICAnZG9jdW1lbnQuICBTZWUgaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcuJHNjZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc2NlID0gc2hhbGxvd0NvcHkoU0NFX0NPTlRFWFRTKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjaXNFbmFibGVkXHJcbiAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgU0NFIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS4gIElmIHlvdSB3YW50IHRvIHNldCB0aGUgdmFsdWUsIHlvdVxyXG4gICAgICogaGF2ZSB0byBkbyBpdCBhdCBtb2R1bGUgY29uZmlnIHRpbWUgb24ge0BsaW5rIG5nLiRzY2VQcm92aWRlciAkc2NlUHJvdmlkZXJ9LlxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogUmV0dXJucyBhIGJvb2xlYW4gaW5kaWNhdGluZyBpZiBTQ0UgaXMgZW5hYmxlZC5cclxuICAgICAqL1xyXG4gICAgc2NlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gZW5hYmxlZDtcclxuICAgIH07XHJcbiAgICBzY2UudHJ1c3RBcyA9ICRzY2VEZWxlZ2F0ZS50cnVzdEFzO1xyXG4gICAgc2NlLmdldFRydXN0ZWQgPSAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZDtcclxuICAgIHNjZS52YWx1ZU9mID0gJHNjZURlbGVnYXRlLnZhbHVlT2Y7XHJcblxyXG4gICAgaWYgKCFlbmFibGVkKSB7XHJcbiAgICAgIHNjZS50cnVzdEFzID0gc2NlLmdldFRydXN0ZWQgPSBmdW5jdGlvbih0eXBlLCB2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XHJcbiAgICAgIHNjZS52YWx1ZU9mID0gaWRlbnRpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIENvbnZlcnRzIEFuZ3VsYXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaW50byBhIGZ1bmN0aW9uLiAgVGhpcyBpcyBsaWtlIHtAbGlua1xyXG4gICAgICogbmcuJHBhcnNlICRwYXJzZX0gYW5kIGlzIGlkZW50aWNhbCB3aGVuIHRoZSBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCBjb25zdGFudC4gIE90aGVyd2lzZSwgaXRcclxuICAgICAqIHdyYXBzIHRoZSBleHByZXNzaW9uIGluIGEgY2FsbCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZCgqdHlwZSosXHJcbiAgICAgKiAqcmVzdWx0Kil9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgU0NFIGNvbnRleHQgaW4gd2hpY2ggdGhpcyByZXN1bHQgd2lsbCBiZSB1c2VkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cclxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XHJcbiAgICAgKlxyXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xyXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXHJcbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXHJcbiAgICAgKiAgICAgIGBjb250ZXh0YC5cclxuICAgICAqL1xyXG4gICAgc2NlLnBhcnNlQXMgPSBmdW5jdGlvbiBzY2VQYXJzZUFzKHR5cGUsIGV4cHIpIHtcclxuICAgICAgdmFyIHBhcnNlZCA9ICRwYXJzZShleHByKTtcclxuICAgICAgaWYgKHBhcnNlZC5saXRlcmFsICYmIHBhcnNlZC5jb25zdGFudCkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZWQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuICRwYXJzZShleHByLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHNjZS5nZXRUcnVzdGVkKHR5cGUsIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogRGVsZWdhdGVzIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfS4gIEFzIHN1Y2gsXHJcbiAgICAgKiByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGlzIHRydXN0ZWQgYnkgYW5ndWxhciBmb3IgdXNlIGluIHNwZWNpZmllZCBzdHJpY3QgY29udGV4dHVhbFxyXG4gICAgICogZXNjYXBpbmcgY29udGV4dHMgKHN1Y2ggYXMgbmctYmluZC1odG1sLCBuZy1pbmNsdWRlLCBhbnkgc3JjIGF0dHJpYnV0ZVxyXG4gICAgICogaW50ZXJwb2xhdGlvbiwgYW55IGRvbSBldmVudCBiaW5kaW5nIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uIHN1Y2ggYXMgZm9yIG9uY2xpY2ssICBldGMuKVxyXG4gICAgICogdGhhdCB1c2VzIHRoZSBwcm92aWRlZCB2YWx1ZS4gIFNlZSAqIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbFxyXG4gICAgICogZXNjYXBpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHNhZmUgZm9yIHVzZS4gIGUuZy4gdXJsLFxyXG4gICAgICogICByZXNvdXJjZVVybCwgaHRtbCwganMgYW5kIGNzcy5cclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkL3NhZmUuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gQSB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHN0YW5kIGluIGZvciB0aGUgcHJvdmlkZWQgYHZhbHVlYCBpbiBwbGFjZXNcclxuICAgICAqIHdoZXJlIEFuZ3VsYXIgZXhwZWN0cyBhICRzY2UudHJ1c3RBcygpIHJldHVybiB2YWx1ZS5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzSHRtbFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNIdG1sKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLkhUTUwsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cclxuICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRIdG1sXHJcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkSHRtbCh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXHJcbiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGVcclxuICAgICAqICAgICByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzVXJsXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc1VybCh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5VUkwsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cclxuICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRVcmxcclxuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRVcmwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xyXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlXHJcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLlxyXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXHJcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xyXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlIHJldHVyblxyXG4gICAgICogICAgIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc0pzXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc0pzKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLkpTLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkSnNcclxuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRKcyh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXHJcbiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGVcclxuICAgICAqICAgICByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZGB9LiAgQXMgc3VjaCxcclxuICAgICAqIHRha2VzIHRoZSByZXN1bHQgb2YgYSB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzIGAkc2NlLnRydXN0QXNgfSgpIGNhbGwgYW5kIHJldHVybnMgdGhlXHJcbiAgICAgKiBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGUgY3JlYXRlZCB0eXBlLlxyXG4gICAgICogSWYgdGhpcyBjb25kaXRpb24gaXNuJ3Qgc2F0aXNmaWVkLCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyB0byBiZSB1c2VkLlxyXG4gICAgICogQHBhcmFtIHsqfSBtYXliZVRydXN0ZWQgVGhlIHJlc3VsdCBvZiBhIHByaW9yIHtAbGluayBuZy4kc2NlI3RydXN0QXMgYCRzY2UudHJ1c3RBc2B9XHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsLlxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG9cclxuICAgICAqICAgICAgICAgICAgICB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzIGAkc2NlLnRydXN0QXNgfSBpZiB2YWxpZCBpbiB0aGlzIGNvbnRleHQuXHJcbiAgICAgKiAgICAgICAgICAgICAgT3RoZXJ3aXNlLCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRIdG1sXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZEh0bWwodmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuSFRNTCwgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkhUTUwsIHZhbHVlKWBcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkQ3NzXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZENzcyh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5DU1MsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5DU1MsIHZhbHVlKWBcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkVXJsXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZFVybCh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5VUkwsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5VUkwsIHZhbHVlKWBcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkYC5cclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWBcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkSnNcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkSnModmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuSlMsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5KUywgdmFsdWUpYFxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNIdG1sXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0h0bWwoZXhwcmVzc2lvbiBzdHJpbmcpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5IVE1MLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXHJcbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxyXG4gICAgICpcclxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcclxuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxyXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxyXG4gICAgICogICAgICBgY29udGV4dGAuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0Nzc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNDc3ModmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5DU1MsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cclxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XHJcbiAgICAgKlxyXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xyXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXHJcbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXHJcbiAgICAgKiAgICAgIGBjb250ZXh0YC5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzVXJsXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc1VybCh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLlVSTCwgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxyXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcclxuICAgICAqXHJcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXHJcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cclxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cclxuICAgICAqICAgICAgYGNvbnRleHRgLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNSZXNvdXJjZVVybFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNSZXNvdXJjZVVybCh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxyXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcclxuICAgICAqXHJcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXHJcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cclxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cclxuICAgICAqICAgICAgYGNvbnRleHRgLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNKc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNKcyh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkpTLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXHJcbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxyXG4gICAgICpcclxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcclxuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxyXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxyXG4gICAgICogICAgICBgY29udGV4dGAuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvLyBTaG9ydGhhbmQgZGVsZWdhdGlvbnMuXHJcbiAgICB2YXIgcGFyc2UgPSBzY2UucGFyc2VBcyxcclxuICAgICAgICBnZXRUcnVzdGVkID0gc2NlLmdldFRydXN0ZWQsXHJcbiAgICAgICAgdHJ1c3RBcyA9IHNjZS50cnVzdEFzO1xyXG5cclxuICAgIGZvckVhY2goU0NFX0NPTlRFWFRTLCBmdW5jdGlvbihlbnVtVmFsdWUsIG5hbWUpIHtcclxuICAgICAgdmFyIGxOYW1lID0gbG93ZXJjYXNlKG5hbWUpO1xyXG4gICAgICBzY2VbY2FtZWxDYXNlKFwicGFyc2VfYXNfXCIgKyBsTmFtZSldID0gZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICAgIHJldHVybiBwYXJzZShlbnVtVmFsdWUsIGV4cHIpO1xyXG4gICAgICB9O1xyXG4gICAgICBzY2VbY2FtZWxDYXNlKFwiZ2V0X3RydXN0ZWRfXCIgKyBsTmFtZSldID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gZ2V0VHJ1c3RlZChlbnVtVmFsdWUsIHZhbHVlKTtcclxuICAgICAgfTtcclxuICAgICAgc2NlW2NhbWVsQ2FzZShcInRydXN0X2FzX1wiICsgbE5hbWUpXSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydXN0QXMoZW51bVZhbHVlLCB2YWx1ZSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gc2NlO1xyXG4gIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogISEhIFRoaXMgaXMgYW4gdW5kb2N1bWVudGVkIFwicHJpdmF0ZVwiIHNlcnZpY2UgISEhXHJcbiAqXHJcbiAqIEBuYW1lICRzbmlmZmVyXHJcbiAqIEByZXF1aXJlcyAkd2luZG93XHJcbiAqIEByZXF1aXJlcyAkZG9jdW1lbnRcclxuICpcclxuICogQHByb3BlcnR5IHtib29sZWFufSBoaXN0b3J5IERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBodG1sNSBoaXN0b3J5IGFwaSA/XHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdHJhbnNpdGlvbnMgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IENTUyB0cmFuc2l0aW9uIGV2ZW50cyA/XHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYW5pbWF0aW9ucyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgQ1NTIGFuaW1hdGlvbiBldmVudHMgP1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBpcyB2ZXJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiB0ZXN0aW5nIGJyb3dzZXIncyBmZWF0dXJlcy5cclxuICovXHJcbmZ1bmN0aW9uICRTbmlmZmVyUHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCR3aW5kb3csICRkb2N1bWVudCkge1xyXG4gICAgdmFyIGV2ZW50U3VwcG9ydCA9IHt9LFxyXG4gICAgICAgIC8vIENocm9tZSBQYWNrYWdlZCBBcHBzIGFyZSBub3QgYWxsb3dlZCB0byBhY2Nlc3MgYGhpc3RvcnkucHVzaFN0YXRlYC4gVGhleSBjYW4gYmUgZGV0ZWN0ZWQgYnlcclxuICAgICAgICAvLyB0aGUgcHJlc2VuY2Ugb2YgYGNocm9tZS5hcHAucnVudGltZWAgKHNlZSBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2FwcHMvYXBpX2luZGV4KVxyXG4gICAgICAgIGlzQ2hyb21lUGFja2FnZWRBcHAgPSAkd2luZG93LmNocm9tZSAmJiAkd2luZG93LmNocm9tZS5hcHAgJiYgJHdpbmRvdy5jaHJvbWUuYXBwLnJ1bnRpbWUsXHJcbiAgICAgICAgaGFzSGlzdG9yeVB1c2hTdGF0ZSA9ICFpc0Nocm9tZVBhY2thZ2VkQXBwICYmICR3aW5kb3cuaGlzdG9yeSAmJiAkd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlLFxyXG4gICAgICAgIGFuZHJvaWQgPVxyXG4gICAgICAgICAgdG9JbnQoKC9hbmRyb2lkIChcXGQrKS8uZXhlYyhsb3dlcmNhc2UoKCR3aW5kb3cubmF2aWdhdG9yIHx8IHt9KS51c2VyQWdlbnQpKSB8fCBbXSlbMV0pLFxyXG4gICAgICAgIGJveGVlID0gL0JveGVlL2kudGVzdCgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCksXHJcbiAgICAgICAgZG9jdW1lbnQgPSAkZG9jdW1lbnRbMF0gfHwge30sXHJcbiAgICAgICAgdmVuZG9yUHJlZml4LFxyXG4gICAgICAgIHZlbmRvclJlZ2V4ID0gL14oTW96fHdlYmtpdHxtcykoPz1bQS1aXSkvLFxyXG4gICAgICAgIGJvZHlTdHlsZSA9IGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYm9keS5zdHlsZSxcclxuICAgICAgICB0cmFuc2l0aW9ucyA9IGZhbHNlLFxyXG4gICAgICAgIGFuaW1hdGlvbnMgPSBmYWxzZSxcclxuICAgICAgICBtYXRjaDtcclxuXHJcbiAgICBpZiAoYm9keVN0eWxlKSB7XHJcbiAgICAgIGZvciAodmFyIHByb3AgaW4gYm9keVN0eWxlKSB7XHJcbiAgICAgICAgaWYgKG1hdGNoID0gdmVuZG9yUmVnZXguZXhlYyhwcm9wKSkge1xyXG4gICAgICAgICAgdmVuZG9yUHJlZml4ID0gbWF0Y2hbMF07XHJcbiAgICAgICAgICB2ZW5kb3JQcmVmaXggPSB2ZW5kb3JQcmVmaXguc3Vic3RyKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyB2ZW5kb3JQcmVmaXguc3Vic3RyKDEpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXZlbmRvclByZWZpeCkge1xyXG4gICAgICAgIHZlbmRvclByZWZpeCA9ICgnV2Via2l0T3BhY2l0eScgaW4gYm9keVN0eWxlKSAmJiAnd2Via2l0JztcclxuICAgICAgfVxyXG5cclxuICAgICAgdHJhbnNpdGlvbnMgPSAhISgoJ3RyYW5zaXRpb24nIGluIGJvZHlTdHlsZSkgfHwgKHZlbmRvclByZWZpeCArICdUcmFuc2l0aW9uJyBpbiBib2R5U3R5bGUpKTtcclxuICAgICAgYW5pbWF0aW9ucyAgPSAhISgoJ2FuaW1hdGlvbicgaW4gYm9keVN0eWxlKSB8fCAodmVuZG9yUHJlZml4ICsgJ0FuaW1hdGlvbicgaW4gYm9keVN0eWxlKSk7XHJcblxyXG4gICAgICBpZiAoYW5kcm9pZCAmJiAoIXRyYW5zaXRpb25zIHx8ICAhYW5pbWF0aW9ucykpIHtcclxuICAgICAgICB0cmFuc2l0aW9ucyA9IGlzU3RyaW5nKGJvZHlTdHlsZS53ZWJraXRUcmFuc2l0aW9uKTtcclxuICAgICAgICBhbmltYXRpb25zID0gaXNTdHJpbmcoYm9keVN0eWxlLndlYmtpdEFuaW1hdGlvbik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLy8gQW5kcm9pZCBoYXMgaGlzdG9yeS5wdXNoU3RhdGUsIGJ1dCBpdCBkb2VzIG5vdCB1cGRhdGUgbG9jYXRpb24gY29ycmVjdGx5XHJcbiAgICAgIC8vIHNvIGxldCdzIG5vdCB1c2UgdGhlIGhpc3RvcnkgQVBJIGF0IGFsbC5cclxuICAgICAgLy8gaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2FuZHJvaWQvaXNzdWVzL2RldGFpbD9pZD0xNzQ3MVxyXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MDRcclxuXHJcbiAgICAgIC8vIG9sZGVyIHdlYmtpdCBicm93c2VyICg1MzMuOSkgb24gQm94ZWUgYm94IGhhcyBleGFjdGx5IHRoZSBzYW1lIHByb2JsZW0gYXMgQW5kcm9pZCBoYXNcclxuICAgICAgLy8gc28gbGV0J3Mgbm90IHVzZSB0aGUgaGlzdG9yeSBBUEkgYWxzb1xyXG4gICAgICAvLyBXZSBhcmUgcHVycG9zZWZ1bGx5IHVzaW5nIGAhKGFuZHJvaWQgPCA0KWAgdG8gY292ZXIgdGhlIGNhc2Ugd2hlbiBgYW5kcm9pZGAgaXMgdW5kZWZpbmVkXHJcbiAgICAgIC8vIGpzaGludCAtVzAxOFxyXG4gICAgICBoaXN0b3J5OiAhIShoYXNIaXN0b3J5UHVzaFN0YXRlICYmICEoYW5kcm9pZCA8IDQpICYmICFib3hlZSksXHJcbiAgICAgIC8vIGpzaGludCArVzAxOFxyXG4gICAgICBoYXNFdmVudDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAvLyBJRTkgaW1wbGVtZW50cyAnaW5wdXQnIGV2ZW50IGl0J3Mgc28gZnViYXJlZCB0aGF0IHdlIHJhdGhlciBwcmV0ZW5kIHRoYXQgaXQgZG9lc24ndCBoYXZlXHJcbiAgICAgICAgLy8gaXQuIEluIHBhcnRpY3VsYXIgdGhlIGV2ZW50IGlzIG5vdCBmaXJlZCB3aGVuIGJhY2tzcGFjZSBvciBkZWxldGUga2V5IGFyZSBwcmVzc2VkIG9yXHJcbiAgICAgICAgLy8gd2hlbiBjdXQgb3BlcmF0aW9uIGlzIHBlcmZvcm1lZC5cclxuICAgICAgICAvLyBJRTEwKyBpbXBsZW1lbnRzICdpbnB1dCcgZXZlbnQgYnV0IGl0IGVycm9uZW91c2x5IGZpcmVzIHVuZGVyIHZhcmlvdXMgc2l0dWF0aW9ucyxcclxuICAgICAgICAvLyBlLmcuIHdoZW4gcGxhY2Vob2xkZXIgY2hhbmdlcywgb3IgYSBmb3JtIGlzIGZvY3VzZWQuXHJcbiAgICAgICAgaWYgKGV2ZW50ID09PSAnaW5wdXQnICYmIG1zaWUgPD0gMTEpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGV2ZW50U3VwcG9ydFtldmVudF0pKSB7XHJcbiAgICAgICAgICB2YXIgZGl2RWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBldmVudFN1cHBvcnRbZXZlbnRdID0gJ29uJyArIGV2ZW50IGluIGRpdkVsbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBldmVudFN1cHBvcnRbZXZlbnRdO1xyXG4gICAgICB9LFxyXG4gICAgICBjc3A6IGNzcCgpLFxyXG4gICAgICB2ZW5kb3JQcmVmaXg6IHZlbmRvclByZWZpeCxcclxuICAgICAgdHJhbnNpdGlvbnM6IHRyYW5zaXRpb25zLFxyXG4gICAgICBhbmltYXRpb25zOiBhbmltYXRpb25zLFxyXG4gICAgICBhbmRyb2lkOiBhbmRyb2lkXHJcbiAgICB9O1xyXG4gIH1dO1xyXG59XHJcblxyXG52YXIgJHRlbXBsYXRlUmVxdWVzdE1pbkVyciA9IG1pbkVycignJGNvbXBpbGUnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJHRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2VkIHRvIGNvbmZpZ3VyZSB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIHtAbGluayAkaHR0cH0gc2VydmljZSB3aGVuIG1ha2luZyBhIHRlbXBsYXRlIHJlcXVlc3QuXHJcbiAqXHJcbiAqIEZvciBleGFtcGxlLCBpdCBjYW4gYmUgdXNlZCBmb3Igc3BlY2lmeWluZyB0aGUgXCJBY2NlcHRcIiBoZWFkZXIgdGhhdCBpcyBzZW50IHRvIHRoZSBzZXJ2ZXIsIHdoZW5cclxuICogcmVxdWVzdGluZyBhIHRlbXBsYXRlLlxyXG4gKi9cclxuZnVuY3Rpb24gJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyKCkge1xyXG5cclxuICB2YXIgaHR0cE9wdGlvbnM7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkdGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIjaHR0cE9wdGlvbnNcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgb3B0aW9ucyB0byBiZSBwYXNzZWQgdG8gdGhlIHtAbGluayAkaHR0cH0gc2VydmljZSB3aGVuIG1ha2luZyB0aGUgcmVxdWVzdC5cclxuICAgKiBZb3UgY2FuIHVzZSB0aGlzIHRvIG92ZXJyaWRlIG9wdGlvbnMgc3VjaCBhcyB0aGUgXCJBY2NlcHRcIiBoZWFkZXIgZm9yIHRlbXBsYXRlIHJlcXVlc3RzLlxyXG4gICAqXHJcbiAgICogVGhlIHtAbGluayAkdGVtcGxhdGVSZXF1ZXN0fSB3aWxsIHNldCB0aGUgYGNhY2hlYCBhbmQgdGhlIGB0cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcyBvZiB0aGVcclxuICAgKiBvcHRpb25zIGlmIG5vdCBvdmVycmlkZGVuIGhlcmUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIG5ldyB2YWx1ZSBmb3IgdGhlIHtAbGluayAkaHR0cH0gb3B0aW9ucy5cclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfHNlbGZ9IFJldHVybnMgdGhlIHtAbGluayAkaHR0cH0gb3B0aW9ucyB3aGVuIHVzZWQgYXMgZ2V0dGVyIGFuZCBzZWxmIGlmIHVzZWQgYXMgc2V0dGVyLlxyXG4gICAqL1xyXG4gIHRoaXMuaHR0cE9wdGlvbnMgPSBmdW5jdGlvbih2YWwpIHtcclxuICAgIGlmICh2YWwpIHtcclxuICAgICAgaHR0cE9wdGlvbnMgPSB2YWw7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGh0dHBPcHRpb25zO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgJHRlbXBsYXRlUmVxdWVzdFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhlIGAkdGVtcGxhdGVSZXF1ZXN0YCBzZXJ2aWNlIHJ1bnMgc2VjdXJpdHkgY2hlY2tzIHRoZW4gZG93bmxvYWRzIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZSB1c2luZ1xyXG4gICAqIGAkaHR0cGAgYW5kLCB1cG9uIHN1Y2Nlc3MsIHN0b3JlcyB0aGUgY29udGVudHMgaW5zaWRlIG9mIGAkdGVtcGxhdGVDYWNoZWAuIElmIHRoZSBIVFRQIHJlcXVlc3RcclxuICAgKiBmYWlscyBvciB0aGUgcmVzcG9uc2UgZGF0YSBvZiB0aGUgSFRUUCByZXF1ZXN0IGlzIGVtcHR5LCBhIGAkY29tcGlsZWAgZXJyb3Igd2lsbCBiZSB0aHJvd24gKHRoZVxyXG4gICAqIGV4Y2VwdGlvbiBjYW4gYmUgdGh3YXJ0ZWQgYnkgc2V0dGluZyB0aGUgMm5kIHBhcmFtZXRlciBvZiB0aGUgZnVuY3Rpb24gdG8gdHJ1ZSkuIE5vdGUgdGhhdCB0aGVcclxuICAgKiBjb250ZW50cyBvZiBgJHRlbXBsYXRlQ2FjaGVgIGFyZSB0cnVzdGVkLCBzbyB0aGUgY2FsbCB0byBgJHNjZS5nZXRUcnVzdGVkVXJsKHRwbClgIGlzIG9taXR0ZWRcclxuICAgKiB3aGVuIGB0cGxgIGlzIG9mIHR5cGUgc3RyaW5nIGFuZCBgJHRlbXBsYXRlQ2FjaGVgIGhhcyB0aGUgbWF0Y2hpbmcgZW50cnkuXHJcbiAgICpcclxuICAgKiBJZiB5b3Ugd2FudCB0byBwYXNzIGN1c3RvbSBvcHRpb25zIHRvIHRoZSBgJGh0dHBgIHNlcnZpY2UsIHN1Y2ggYXMgc2V0dGluZyB0aGUgQWNjZXB0IGhlYWRlciB5b3VcclxuICAgKiBjYW4gY29uZmlndXJlIHRoaXMgdmlhIHtAbGluayAkdGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIjaHR0cE9wdGlvbnN9LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8VHJ1c3RlZFJlc291cmNlVXJsfSB0cGwgVGhlIEhUVFAgcmVxdWVzdCB0ZW1wbGF0ZSBVUkxcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpZ25vcmVSZXF1ZXN0RXJyb3IgV2hldGhlciBvciBub3QgdG8gaWdub3JlIHRoZSBleGNlcHRpb24gd2hlbiB0aGUgcmVxdWVzdCBmYWlscyBvciB0aGUgdGVtcGxhdGUgaXMgZW1wdHlcclxuICAgKlxyXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSBmb3IgdGhlIEhUVFAgcmVzcG9uc2UgZGF0YSBvZiB0aGUgZ2l2ZW4gVVJMLlxyXG4gICAqXHJcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRvdGFsUGVuZGluZ1JlcXVlc3RzIHRvdGFsIGFtb3VudCBvZiBwZW5kaW5nIHRlbXBsYXRlIHJlcXVlc3RzIGJlaW5nIGRvd25sb2FkZWQuXHJcbiAgICovXHJcbiAgdGhpcy4kZ2V0ID0gWyckdGVtcGxhdGVDYWNoZScsICckaHR0cCcsICckcScsICckc2NlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUsICRodHRwLCAkcSwgJHNjZSkge1xyXG5cclxuICAgIGZ1bmN0aW9uIGhhbmRsZVJlcXVlc3RGbih0cGwsIGlnbm9yZVJlcXVlc3RFcnJvcikge1xyXG4gICAgICBoYW5kbGVSZXF1ZXN0Rm4udG90YWxQZW5kaW5nUmVxdWVzdHMrKztcclxuXHJcbiAgICAgIC8vIFdlIGNvbnNpZGVyIHRoZSB0ZW1wbGF0ZSBjYWNoZSBob2xkcyBvbmx5IHRydXN0ZWQgdGVtcGxhdGVzLCBzb1xyXG4gICAgICAvLyB0aGVyZSdzIG5vIG5lZWQgdG8gZ28gdGhyb3VnaCB3aGl0ZWxpc3RpbmcgYWdhaW4gZm9yIGtleXMgdGhhdCBhbHJlYWR5XHJcbiAgICAgIC8vIGFyZSBpbmNsdWRlZCBpbiB0aGVyZS4gVGhpcyBhbHNvIG1ha2VzIEFuZ3VsYXIgYWNjZXB0IGFueSBzY3JpcHRcclxuICAgICAgLy8gZGlyZWN0aXZlLCBubyBtYXR0ZXIgaXRzIG5hbWUuIEhvd2V2ZXIsIHdlIHN0aWxsIG5lZWQgdG8gdW53cmFwIHRydXN0ZWRcclxuICAgICAgLy8gdHlwZXMuXHJcbiAgICAgIGlmICghaXNTdHJpbmcodHBsKSB8fCAhJHRlbXBsYXRlQ2FjaGUuZ2V0KHRwbCkpIHtcclxuICAgICAgICB0cGwgPSAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh0cGwpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgdHJhbnNmb3JtUmVzcG9uc2UgPSAkaHR0cC5kZWZhdWx0cyAmJiAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZTtcclxuXHJcbiAgICAgIGlmIChpc0FycmF5KHRyYW5zZm9ybVJlc3BvbnNlKSkge1xyXG4gICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlID0gdHJhbnNmb3JtUmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uKHRyYW5zZm9ybWVyKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZXIgIT09IGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtUmVzcG9uc2UgPT09IGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0pIHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZSA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQodHBsLCBleHRlbmQoe1xyXG4gICAgICAgICAgY2FjaGU6ICR0ZW1wbGF0ZUNhY2hlLFxyXG4gICAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2U6IHRyYW5zZm9ybVJlc3BvbnNlXHJcbiAgICAgICAgfSwgaHR0cE9wdGlvbnMpKVxyXG4gICAgICAgIFsnZmluYWxseSddKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzLS07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgJHRlbXBsYXRlQ2FjaGUucHV0KHRwbCwgcmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICB9LCBoYW5kbGVFcnJvcik7XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVFcnJvcihyZXNwKSB7XHJcbiAgICAgICAgaWYgKCFpZ25vcmVSZXF1ZXN0RXJyb3IpIHtcclxuICAgICAgICAgIHRocm93ICR0ZW1wbGF0ZVJlcXVlc3RNaW5FcnIoJ3RwbG9hZCcsICdGYWlsZWQgdG8gbG9hZCB0ZW1wbGF0ZTogezB9IChIVFRQIHN0YXR1czogezF9IHsyfSknLFxyXG4gICAgICAgICAgICB0cGwsIHJlc3Auc3RhdHVzLCByZXNwLnN0YXR1c1RleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlc3ApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzID0gMDtcclxuXHJcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdEZuO1xyXG4gIH1dO1xyXG59XHJcblxyXG5mdW5jdGlvbiAkJFRlc3RhYmlsaXR5UHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyRicm93c2VyJywgJyRsb2NhdGlvbicsXHJcbiAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAgICRicm93c2VyLCAgICRsb2NhdGlvbikge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5hbWUgJHRlc3RhYmlsaXR5XHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGUgcHJpdmF0ZSAkJHRlc3RhYmlsaXR5IHNlcnZpY2UgcHJvdmlkZXMgYSBjb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIHVzZSB3aGVuIGRlYnVnZ2luZ1xyXG4gICAgICogb3IgYnkgYXV0b21hdGVkIHRlc3QgYW5kIGRlYnVnZ2luZyB0b29scy5cclxuICAgICAqL1xyXG4gICAgdmFyIHRlc3RhYmlsaXR5ID0ge307XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRCaW5kaW5nc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGFyZSBib3VuZCAodmlhIG5nLWJpbmQgb3Ige3t9fSlcclxuICAgICAqIHRvIGV4cHJlc3Npb25zIG1hdGNoaW5nIHRoZSBpbnB1dC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFRoZSBiaW5kaW5nIGV4cHJlc3Npb24gdG8gbWF0Y2guXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdF9leGFjdE1hdGNoIElmIHRydWUsIG9ubHkgcmV0dXJucyBleGFjdCBtYXRjaGVzXHJcbiAgICAgKiAgICAgZm9yIHRoZSBleHByZXNzaW9uLiBGaWx0ZXJzIGFuZCB3aGl0ZXNwYWNlIGFyZSBpZ25vcmVkLlxyXG4gICAgICovXHJcbiAgICB0ZXN0YWJpbGl0eS5maW5kQmluZGluZ3MgPSBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9uLCBvcHRfZXhhY3RNYXRjaCkge1xyXG4gICAgICB2YXIgYmluZGluZ3MgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25nLWJpbmRpbmcnKTtcclxuICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcclxuICAgICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24oYmluZGluZykge1xyXG4gICAgICAgIHZhciBkYXRhQmluZGluZyA9IGFuZ3VsYXIuZWxlbWVudChiaW5kaW5nKS5kYXRhKCckYmluZGluZycpO1xyXG4gICAgICAgIGlmIChkYXRhQmluZGluZykge1xyXG4gICAgICAgICAgZm9yRWFjaChkYXRhQmluZGluZywgZnVuY3Rpb24oYmluZGluZ05hbWUpIHtcclxuICAgICAgICAgICAgaWYgKG9wdF9leGFjdE1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgdmFyIG1hdGNoZXIgPSBuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgZXNjYXBlRm9yUmVnZXhwKGV4cHJlc3Npb24pICsgJyhcXFxcc3xcXFxcfHwkKScpO1xyXG4gICAgICAgICAgICAgIGlmIChtYXRjaGVyLnRlc3QoYmluZGluZ05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goYmluZGluZyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlmIChiaW5kaW5nTmFtZS5pbmRleE9mKGV4cHJlc3Npb24pICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goYmluZGluZyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gbWF0Y2hlcztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRNb2RlbHNcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBhcmUgdHdvLXdheSBmb3VuZCB2aWEgbmctbW9kZWwgdG9cclxuICAgICAqIGV4cHJlc3Npb25zIG1hdGNoaW5nIHRoZSBpbnB1dC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFRoZSBtb2RlbCBleHByZXNzaW9uIHRvIG1hdGNoLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRfZXhhY3RNYXRjaCBJZiB0cnVlLCBvbmx5IHJldHVybnMgZXhhY3QgbWF0Y2hlc1xyXG4gICAgICogICAgIGZvciB0aGUgZXhwcmVzc2lvbi5cclxuICAgICAqL1xyXG4gICAgdGVzdGFiaWxpdHkuZmluZE1vZGVscyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIG9wdF9leGFjdE1hdGNoKSB7XHJcbiAgICAgIHZhciBwcmVmaXhlcyA9IFsnbmctJywgJ2RhdGEtbmctJywgJ25nXFxcXDonXTtcclxuICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcmVmaXhlcy5sZW5ndGg7ICsrcCkge1xyXG4gICAgICAgIHZhciBhdHRyaWJ1dGVFcXVhbHMgPSBvcHRfZXhhY3RNYXRjaCA/ICc9JyA6ICcqPSc7XHJcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gJ1snICsgcHJlZml4ZXNbcF0gKyAnbW9kZWwnICsgYXR0cmlidXRlRXF1YWxzICsgJ1wiJyArIGV4cHJlc3Npb24gKyAnXCJdJztcclxuICAgICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtZW50cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2dldExvY2F0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGN1dCBmb3IgZ2V0dGluZyB0aGUgbG9jYXRpb24gaW4gYSBicm93c2VyIGFnbm9zdGljIHdheS4gUmV0dXJuc1xyXG4gICAgICogICAgIHRoZSBwYXRoLCBzZWFyY2gsIGFuZCBoYXNoLiAoZS5nLiAvcGF0aD9hPWIjaGFzaClcclxuICAgICAqL1xyXG4gICAgdGVzdGFiaWxpdHkuZ2V0TG9jYXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuICRsb2NhdGlvbi51cmwoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I3NldExvY2F0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGN1dCBmb3IgbmF2aWdhdGluZyB0byBhIGxvY2F0aW9uIHdpdGhvdXQgZG9pbmcgYSBmdWxsIHBhZ2UgcmVsb2FkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGxvY2F0aW9uIHVybCAocGF0aCwgc2VhcmNoIGFuZCBoYXNoLFxyXG4gICAgICogICAgIGUuZy4gL3BhdGg/YT1iI2hhc2gpIHRvIGdvIHRvLlxyXG4gICAgICovXHJcbiAgICB0ZXN0YWJpbGl0eS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICBpZiAodXJsICE9PSAkbG9jYXRpb24udXJsKCkpIHtcclxuICAgICAgICAkbG9jYXRpb24udXJsKHVybCk7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I3doZW5TdGFibGVcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIENhbGxzIHRoZSBjYWxsYmFjayB3aGVuICR0aW1lb3V0IGFuZCAkaHR0cCByZXF1ZXN0cyBhcmUgY29tcGxldGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIHRlc3RhYmlsaXR5LndoZW5TdGFibGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAkYnJvd3Nlci5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzKGNhbGxiYWNrKTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHRlc3RhYmlsaXR5O1xyXG4gIH1dO1xyXG59XHJcblxyXG5mdW5jdGlvbiAkVGltZW91dFByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckYnJvd3NlcicsICckcScsICckJHEnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLFxyXG4gICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgICAkYnJvd3NlciwgICAkcSwgICAkJHEsICAgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcclxuXHJcbiAgICB2YXIgZGVmZXJyZWRzID0ge307XHJcblxyXG5cclxuICAgICAvKipcclxuICAgICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAgICAqIEBuYW1lICR0aW1lb3V0XHJcbiAgICAgICpcclxuICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgKiBBbmd1bGFyJ3Mgd3JhcHBlciBmb3IgYHdpbmRvdy5zZXRUaW1lb3V0YC4gVGhlIGBmbmAgZnVuY3Rpb24gaXMgd3JhcHBlZCBpbnRvIGEgdHJ5L2NhdGNoXHJcbiAgICAgICogYmxvY2sgYW5kIGRlbGVnYXRlcyBhbnkgZXhjZXB0aW9ucyB0b1xyXG4gICAgICAqIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cclxuICAgICAgKlxyXG4gICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgY2FsbGluZyBgJHRpbWVvdXRgIGlzIGEgcHJvbWlzZSwgd2hpY2ggd2lsbCBiZSByZXNvbHZlZCB3aGVuXHJcbiAgICAgICogdGhlIGRlbGF5IGhhcyBwYXNzZWQgYW5kIHRoZSB0aW1lb3V0IGZ1bmN0aW9uLCBpZiBwcm92aWRlZCwgaXMgZXhlY3V0ZWQuXHJcbiAgICAgICpcclxuICAgICAgKiBUbyBjYW5jZWwgYSB0aW1lb3V0IHJlcXVlc3QsIGNhbGwgYCR0aW1lb3V0LmNhbmNlbChwcm9taXNlKWAuXHJcbiAgICAgICpcclxuICAgICAgKiBJbiB0ZXN0cyB5b3UgY2FuIHVzZSB7QGxpbmsgbmdNb2NrLiR0aW1lb3V0IGAkdGltZW91dC5mbHVzaCgpYH0gdG9cclxuICAgICAgKiBzeW5jaHJvbm91c2x5IGZsdXNoIHRoZSBxdWV1ZSBvZiBkZWZlcnJlZCBmdW5jdGlvbnMuXHJcbiAgICAgICpcclxuICAgICAgKiBJZiB5b3Ugb25seSB3YW50IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgYWZ0ZXIgc29tZSBzcGVjaWZpZWQgZGVsYXlcclxuICAgICAgKiB0aGVuIHlvdSBjYW4gY2FsbCBgJHRpbWVvdXRgIHdpdGhvdXQgdGhlIGBmbmAgZnVuY3Rpb24uXHJcbiAgICAgICpcclxuICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk9fSBmbiBBIGZ1bmN0aW9uLCB3aG9zZSBleGVjdXRpb24gc2hvdWxkIGJlIGRlbGF5ZWQuXHJcbiAgICAgICogQHBhcmFtIHtudW1iZXI9fSBbZGVsYXk9MF0gRGVsYXkgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbnZva2VBcHBseT10cnVlXSBJZiBzZXQgdG8gYGZhbHNlYCBza2lwcyBtb2RlbCBkaXJ0eSBjaGVja2luZywgb3RoZXJ3aXNlXHJcbiAgICAgICogICB3aWxsIGludm9rZSBgZm5gIHdpdGhpbiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseX0gYmxvY2suXHJcbiAgICAgICogQHBhcmFtIHsuLi4qPX0gUGFzcyBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgdG8gdGhlIGV4ZWN1dGVkIGZ1bmN0aW9uLlxyXG4gICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSB0aW1lb3V0IGlzIHJlYWNoZWQuIFRoZSBwcm9taXNlXHJcbiAgICAgICogICB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgYGZuYCBmdW5jdGlvbi5cclxuICAgICAgKlxyXG4gICAgICAqL1xyXG4gICAgZnVuY3Rpb24gdGltZW91dChmbiwgZGVsYXksIGludm9rZUFwcGx5KSB7XHJcbiAgICAgIGlmICghaXNGdW5jdGlvbihmbikpIHtcclxuICAgICAgICBpbnZva2VBcHBseSA9IGRlbGF5O1xyXG4gICAgICAgIGRlbGF5ID0gZm47XHJcbiAgICAgICAgZm4gPSBub29wO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgYXJncyA9IHNsaWNlQXJncyhhcmd1bWVudHMsIDMpLFxyXG4gICAgICAgICAgc2tpcEFwcGx5ID0gKGlzRGVmaW5lZChpbnZva2VBcHBseSkgJiYgIWludm9rZUFwcGx5KSxcclxuICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxyXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsXHJcbiAgICAgICAgICB0aW1lb3V0SWQ7XHJcblxyXG4gICAgICB0aW1lb3V0SWQgPSAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmbi5hcHBseShudWxsLCBhcmdzKSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGUpO1xyXG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpO1xyXG4gICAgICB9LCBkZWxheSk7XHJcblxyXG4gICAgICBwcm9taXNlLiQkdGltZW91dElkID0gdGltZW91dElkO1xyXG4gICAgICBkZWZlcnJlZHNbdGltZW91dElkXSA9IGRlZmVycmVkO1xyXG5cclxuICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgICAvKipcclxuICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICogQG5hbWUgJHRpbWVvdXQjY2FuY2VsXHJcbiAgICAgICpcclxuICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgKiBDYW5jZWxzIGEgdGFzayBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9taXNlYC4gQXMgYSByZXN1bHQgb2YgdGhpcywgdGhlIHByb21pc2Ugd2lsbCBiZVxyXG4gICAgICAqIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24uXHJcbiAgICAgICpcclxuICAgICAgKiBAcGFyYW0ge1Byb21pc2U9fSBwcm9taXNlIFByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGAkdGltZW91dGAgZnVuY3Rpb24uXHJcbiAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIGhhc24ndCBleGVjdXRlZCB5ZXQgYW5kIHdhcyBzdWNjZXNzZnVsbHlcclxuICAgICAgKiAgIGNhbmNlbGVkLlxyXG4gICAgICAqL1xyXG4gICAgdGltZW91dC5jYW5jZWwgPSBmdW5jdGlvbihwcm9taXNlKSB7XHJcbiAgICAgIGlmIChwcm9taXNlICYmIHByb21pc2UuJCR0aW1lb3V0SWQgaW4gZGVmZXJyZWRzKSB7XHJcbiAgICAgICAgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdLnJlamVjdCgnY2FuY2VsZWQnKTtcclxuICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdO1xyXG4gICAgICAgIHJldHVybiAkYnJvd3Nlci5kZWZlci5jYW5jZWwocHJvbWlzZS4kJHRpbWVvdXRJZCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gdGltZW91dDtcclxuICB9XTtcclxufVxyXG5cclxuLy8gTk9URTogIFRoZSB1c2FnZSBvZiB3aW5kb3cgYW5kIGRvY3VtZW50IGluc3RlYWQgb2YgJHdpbmRvdyBhbmQgJGRvY3VtZW50IGhlcmUgaXNcclxuLy8gZGVsaWJlcmF0ZS4gIFRoaXMgc2VydmljZSBkZXBlbmRzIG9uIHRoZSBzcGVjaWZpYyBiZWhhdmlvciBvZiBhbmNob3Igbm9kZXMgY3JlYXRlZCBieSB0aGVcclxuLy8gYnJvd3NlciAocmVzb2x2aW5nIGFuZCBwYXJzaW5nIFVSTHMpIHRoYXQgaXMgdW5saWtlbHkgdG8gYmUgcHJvdmlkZWQgYnkgbW9jayBvYmplY3RzIGFuZFxyXG4vLyBjYXVzZSB1cyB0byBicmVhayB0ZXN0cy4gIEluIGFkZGl0aW9uLCB3aGVuIHRoZSBicm93c2VyIHJlc29sdmVzIGEgVVJMIGZvciBYSFIsIGl0XHJcbi8vIGRvZXNuJ3Qga25vdyBhYm91dCBtb2NrZWQgbG9jYXRpb25zIGFuZCByZXNvbHZlcyBVUkxzIHRvIHRoZSByZWFsIGRvY3VtZW50IC0gd2hpY2ggaXNcclxuLy8gZXhhY3RseSB0aGUgYmVoYXZpb3IgbmVlZGVkIGhlcmUuICBUaGVyZSBpcyBsaXR0bGUgdmFsdWUgaXMgbW9ja2luZyB0aGVzZSBvdXQgZm9yIHRoaXNcclxuLy8gc2VydmljZS5cclxudmFyIHVybFBhcnNpbmdOb2RlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG52YXIgb3JpZ2luVXJsID0gdXJsUmVzb2x2ZSh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcblxyXG5cclxuLyoqXHJcbiAqXHJcbiAqIEltcGxlbWVudGF0aW9uIE5vdGVzIGZvciBub24tSUUgYnJvd3NlcnNcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBBc3NpZ25pbmcgYSBVUkwgdG8gdGhlIGhyZWYgcHJvcGVydHkgb2YgYW4gYW5jaG9yIERPTSBub2RlLCBldmVuIG9uZSBhdHRhY2hlZCB0byB0aGUgRE9NLFxyXG4gKiByZXN1bHRzIGJvdGggaW4gdGhlIG5vcm1hbGl6aW5nIGFuZCBwYXJzaW5nIG9mIHRoZSBVUkwuICBOb3JtYWxpemluZyBtZWFucyB0aGF0IGEgcmVsYXRpdmVcclxuICogVVJMIHdpbGwgYmUgcmVzb2x2ZWQgaW50byBhbiBhYnNvbHV0ZSBVUkwgaW4gdGhlIGNvbnRleHQgb2YgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxyXG4gKiBQYXJzaW5nIG1lYW5zIHRoYXQgdGhlIGFuY2hvciBub2RlJ3MgaG9zdCwgaG9zdG5hbWUsIHByb3RvY29sLCBwb3J0LCBwYXRobmFtZSBhbmQgcmVsYXRlZFxyXG4gKiBwcm9wZXJ0aWVzIGFyZSBhbGwgcG9wdWxhdGVkIHRvIHJlZmxlY3QgdGhlIG5vcm1hbGl6ZWQgVVJMLiAgVGhpcyBhcHByb2FjaCBoYXMgd2lkZVxyXG4gKiBjb21wYXRpYmlsaXR5IC0gU2FmYXJpIDErLCBNb3ppbGxhIDErLCBPcGVyYSA3KyxlIGV0Yy4gIFNlZVxyXG4gKiBodHRwOi8vd3d3LmFwdGFuYS5jb20vcmVmZXJlbmNlL2h0bWwvYXBpL0hUTUxBbmNob3JFbGVtZW50Lmh0bWxcclxuICpcclxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIElFXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBJRSA8PSAxMCBub3JtYWxpemVzIHRoZSBVUkwgd2hlbiBhc3NpZ25lZCB0byB0aGUgYW5jaG9yIG5vZGUgc2ltaWxhciB0byB0aGUgb3RoZXJcclxuICogYnJvd3NlcnMuICBIb3dldmVyLCB0aGUgcGFyc2VkIGNvbXBvbmVudHMgd2lsbCBub3QgYmUgc2V0IGlmIHRoZSBVUkwgYXNzaWduZWQgZGlkIG5vdCBzcGVjaWZ5XHJcbiAqIHRoZW0uICAoZS5nLiBpZiB5b3UgYXNzaWduIGEuaHJlZiA9IFwiZm9vXCIsIHRoZW4gYS5wcm90b2NvbCwgYS5ob3N0LCBldGMuIHdpbGwgYmUgZW1wdHkuKSAgV2VcclxuICogd29yayBhcm91bmQgdGhhdCBieSBwZXJmb3JtaW5nIHRoZSBwYXJzaW5nIGluIGEgMm5kIHN0ZXAgYnkgdGFraW5nIGEgcHJldmlvdXNseSBub3JtYWxpemVkXHJcbiAqIFVSTCAoZS5nLiBieSBhc3NpZ25pbmcgdG8gYS5ocmVmKSBhbmQgYXNzaWduaW5nIGl0IGEuaHJlZiBhZ2Fpbi4gIFRoaXMgY29ycmVjdGx5IHBvcHVsYXRlcyB0aGVcclxuICogcHJvcGVydGllcyBzdWNoIGFzIHByb3RvY29sLCBob3N0bmFtZSwgcG9ydCwgZXRjLlxyXG4gKlxyXG4gKiBSZWZlcmVuY2VzOlxyXG4gKiAgIGh0dHA6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxBbmNob3JFbGVtZW50XHJcbiAqICAgaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXHJcbiAqICAgaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXHJcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzI5MDJcclxuICogICBodHRwOi8vamFtZXMucGFkb2xzZXkuY29tL2phdmFzY3JpcHQvcGFyc2luZy11cmxzLXdpdGgtdGhlLWRvbS9cclxuICpcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZC5cclxuICogQGRlc2NyaXB0aW9uIE5vcm1hbGl6ZXMgYW5kIHBhcnNlcyBhIFVSTC5cclxuICogQHJldHVybnMge29iamVjdH0gUmV0dXJucyB0aGUgbm9ybWFsaXplZCBVUkwgYXMgYSBkaWN0aW9uYXJ5LlxyXG4gKlxyXG4gKiAgIHwgbWVtYmVyIG5hbWUgICB8IERlc2NyaXB0aW9uICAgIHxcclxuICogICB8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS18XHJcbiAqICAgfCBocmVmICAgICAgICAgIHwgQSBub3JtYWxpemVkIHZlcnNpb24gb2YgdGhlIHByb3ZpZGVkIFVSTCBpZiBpdCB3YXMgbm90IGFuIGFic29sdXRlIFVSTCB8XHJcbiAqICAgfCBwcm90b2NvbCAgICAgIHwgVGhlIHByb3RvY29sIGluY2x1ZGluZyB0aGUgdHJhaWxpbmcgY29sb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgfCBob3N0ICAgICAgICAgIHwgVGhlIGhvc3QgYW5kIHBvcnQgKGlmIHRoZSBwb3J0IGlzIG5vbi1kZWZhdWx0KSBvZiB0aGUgbm9ybWFsaXplZFVybCAgICB8XHJcbiAqICAgfCBzZWFyY2ggICAgICAgIHwgVGhlIHNlYXJjaCBwYXJhbXMsIG1pbnVzIHRoZSBxdWVzdGlvbiBtYXJrICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgfCBoYXNoICAgICAgICAgIHwgVGhlIGhhc2ggc3RyaW5nLCBtaW51cyB0aGUgaGFzaCBzeW1ib2xcclxuICogICB8IGhvc3RuYW1lICAgICAgfCBUaGUgaG9zdG5hbWVcclxuICogICB8IHBvcnQgICAgICAgICAgfCBUaGUgcG9ydCwgd2l0aG91dCBcIjpcIlxyXG4gKiAgIHwgcGF0aG5hbWUgICAgICB8IFRoZSBwYXRobmFtZSwgYmVnaW5uaW5nIHdpdGggXCIvXCJcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHVybFJlc29sdmUodXJsKSB7XHJcbiAgdmFyIGhyZWYgPSB1cmw7XHJcblxyXG4gIGlmIChtc2llKSB7XHJcbiAgICAvLyBOb3JtYWxpemUgYmVmb3JlIHBhcnNlLiAgUmVmZXIgSW1wbGVtZW50YXRpb24gTm90ZXMgb24gd2h5IHRoaXMgaXNcclxuICAgIC8vIGRvbmUgaW4gdHdvIHN0ZXBzIG9uIElFLlxyXG4gICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBocmVmKTtcclxuICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xyXG4gIH1cclxuXHJcbiAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XHJcblxyXG4gIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcclxuICByZXR1cm4ge1xyXG4gICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcclxuICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXHJcbiAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxyXG4gICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxyXG4gICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcclxuICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcclxuICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXHJcbiAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKVxyXG4gICAgICA/IHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXHJcbiAgICAgIDogJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogUGFyc2UgYSByZXF1ZXN0IFVSTCBhbmQgZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBpcyBhIHNhbWUtb3JpZ2luIHJlcXVlc3QgYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHJlcXVlc3RVcmwgVGhlIHVybCBvZiB0aGUgcmVxdWVzdCBhcyBhIHN0cmluZyB0aGF0IHdpbGwgYmUgcmVzb2x2ZWRcclxuICogb3IgYSBwYXJzZWQgVVJMIG9iamVjdC5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHJlcXVlc3QgaXMgZm9yIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXHJcbiAqL1xyXG5mdW5jdGlvbiB1cmxJc1NhbWVPcmlnaW4ocmVxdWVzdFVybCkge1xyXG4gIHZhciBwYXJzZWQgPSAoaXNTdHJpbmcocmVxdWVzdFVybCkpID8gdXJsUmVzb2x2ZShyZXF1ZXN0VXJsKSA6IHJlcXVlc3RVcmw7XHJcbiAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVybC5wcm90b2NvbCAmJlxyXG4gICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVybC5ob3N0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICR3aW5kb3dcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEEgcmVmZXJlbmNlIHRvIHRoZSBicm93c2VyJ3MgYHdpbmRvd2Agb2JqZWN0LiBXaGlsZSBgd2luZG93YFxyXG4gKiBpcyBnbG9iYWxseSBhdmFpbGFibGUgaW4gSmF2YVNjcmlwdCwgaXQgY2F1c2VzIHRlc3RhYmlsaXR5IHByb2JsZW1zLCBiZWNhdXNlXHJcbiAqIGl0IGlzIGEgZ2xvYmFsIHZhcmlhYmxlLiBJbiBhbmd1bGFyIHdlIGFsd2F5cyByZWZlciB0byBpdCB0aHJvdWdoIHRoZVxyXG4gKiBgJHdpbmRvd2Agc2VydmljZSwgc28gaXQgbWF5IGJlIG92ZXJyaWRkZW4sIHJlbW92ZWQgb3IgbW9ja2VkIGZvciB0ZXN0aW5nLlxyXG4gKlxyXG4gKiBFeHByZXNzaW9ucywgbGlrZSB0aGUgb25lIGRlZmluZWQgZm9yIHRoZSBgbmdDbGlja2AgZGlyZWN0aXZlIGluIHRoZSBleGFtcGxlXHJcbiAqIGJlbG93LCBhcmUgZXZhbHVhdGVkIHdpdGggcmVzcGVjdCB0byB0aGUgY3VycmVudCBzY29wZS4gIFRoZXJlZm9yZSwgdGhlcmUgaXNcclxuICogbm8gcmlzayBvZiBpbmFkdmVydGVudGx5IGNvZGluZyBpbiBhIGRlcGVuZGVuY3kgb24gYSBnbG9iYWwgdmFsdWUgaW4gc3VjaCBhblxyXG4gKiBleHByZXNzaW9uLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJ3aW5kb3dFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd3aW5kb3dFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHdpbmRvdycsIGZ1bmN0aW9uKCRzY29wZSwgJHdpbmRvdykge1xyXG4gICAgICAgICAgICAgJHNjb3BlLmdyZWV0aW5nID0gJ0hlbGxvLCBXb3JsZCEnO1xyXG4gICAgICAgICAgICAgJHNjb3BlLmRvR3JlZXRpbmcgPSBmdW5jdGlvbihncmVldGluZykge1xyXG4gICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGdyZWV0aW5nKTtcclxuICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImdyZWV0aW5nXCIgYXJpYS1sYWJlbD1cImdyZWV0aW5nXCIgLz5cclxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImRvR3JlZXRpbmcoZ3JlZXRpbmcpXCI+QUxFUlQ8L2J1dHRvbj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIGl0KCdzaG91bGQgZGlzcGxheSB0aGUgZ3JlZXRpbmcgaW4gdGhlIGlucHV0IGJveCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgZWxlbWVudChieS5tb2RlbCgnZ3JlZXRpbmcnKSkuc2VuZEtleXMoJ0hlbGxvLCBFMkUgVGVzdHMnKTtcclxuICAgICAgIC8vIElmIHdlIGNsaWNrIHRoZSBidXR0b24gaXQgd2lsbCBibG9jayB0aGUgdGVzdCBydW5uZXJcclxuICAgICAgIC8vIGVsZW1lbnQoJzpidXR0b24nKS5jbGljaygpO1xyXG4gICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbmZ1bmN0aW9uICRXaW5kb3dQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSB2YWx1ZUZuKHdpbmRvdyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSAkJGNvb2tpZVJlYWRlclxyXG4gKiBAcmVxdWlyZXMgJGRvY3VtZW50XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIGlzIGEgcHJpdmF0ZSBzZXJ2aWNlIGZvciByZWFkaW5nIGNvb2tpZXMgdXNlZCBieSAkaHR0cCBhbmQgbmdDb29raWVzXHJcbiAqXHJcbiAqIEByZXR1cm4ge09iamVjdH0gYSBrZXkvdmFsdWUgbWFwIG9mIHRoZSBjdXJyZW50IGNvb2tpZXNcclxuICovXHJcbmZ1bmN0aW9uICQkQ29va2llUmVhZGVyKCRkb2N1bWVudCkge1xyXG4gIHZhciByYXdEb2N1bWVudCA9ICRkb2N1bWVudFswXSB8fCB7fTtcclxuICB2YXIgbGFzdENvb2tpZXMgPSB7fTtcclxuICB2YXIgbGFzdENvb2tpZVN0cmluZyA9ICcnO1xyXG5cclxuICBmdW5jdGlvbiBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KHN0cikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHIpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNvb2tpZUFycmF5LCBjb29raWUsIGksIGluZGV4LCBuYW1lO1xyXG4gICAgdmFyIGN1cnJlbnRDb29raWVTdHJpbmcgPSByYXdEb2N1bWVudC5jb29raWUgfHwgJyc7XHJcblxyXG4gICAgaWYgKGN1cnJlbnRDb29raWVTdHJpbmcgIT09IGxhc3RDb29raWVTdHJpbmcpIHtcclxuICAgICAgbGFzdENvb2tpZVN0cmluZyA9IGN1cnJlbnRDb29raWVTdHJpbmc7XHJcbiAgICAgIGNvb2tpZUFycmF5ID0gbGFzdENvb2tpZVN0cmluZy5zcGxpdCgnOyAnKTtcclxuICAgICAgbGFzdENvb2tpZXMgPSB7fTtcclxuXHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29raWVBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvb2tpZSA9IGNvb2tpZUFycmF5W2ldO1xyXG4gICAgICAgIGluZGV4ID0gY29va2llLmluZGV4T2YoJz0nKTtcclxuICAgICAgICBpZiAoaW5kZXggPiAwKSB7IC8vaWdub3JlIG5hbWVsZXNzIGNvb2tpZXNcclxuICAgICAgICAgIG5hbWUgPSBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoMCwgaW5kZXgpKTtcclxuICAgICAgICAgIC8vIHRoZSBmaXJzdCB2YWx1ZSB0aGF0IGlzIHNlZW4gZm9yIGEgY29va2llIGlzIHRoZSBtb3N0XHJcbiAgICAgICAgICAvLyBzcGVjaWZpYyBvbmUuICB2YWx1ZXMgZm9yIHRoZSBzYW1lIGNvb2tpZSBuYW1lIHRoYXRcclxuICAgICAgICAgIC8vIGZvbGxvdyBhcmUgZm9yIGxlc3Mgc3BlY2lmaWMgcGF0aHMuXHJcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQobGFzdENvb2tpZXNbbmFtZV0pKSB7XHJcbiAgICAgICAgICAgIGxhc3RDb29raWVzW25hbWVdID0gc2FmZURlY29kZVVSSUNvbXBvbmVudChjb29raWUuc3Vic3RyaW5nKGluZGV4ICsgMSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxhc3RDb29raWVzO1xyXG4gIH07XHJcbn1cclxuXHJcbiQkQ29va2llUmVhZGVyLiRpbmplY3QgPSBbJyRkb2N1bWVudCddO1xyXG5cclxuZnVuY3Rpb24gJCRDb29raWVSZWFkZXJQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSAkJENvb2tpZVJlYWRlcjtcclxufVxyXG5cclxuLyogZ2xvYmFsIGN1cnJlbmN5RmlsdGVyOiB0cnVlLFxyXG4gZGF0ZUZpbHRlcjogdHJ1ZSxcclxuIGZpbHRlckZpbHRlcjogdHJ1ZSxcclxuIGpzb25GaWx0ZXI6IHRydWUsXHJcbiBsaW1pdFRvRmlsdGVyOiB0cnVlLFxyXG4gbG93ZXJjYXNlRmlsdGVyOiB0cnVlLFxyXG4gbnVtYmVyRmlsdGVyOiB0cnVlLFxyXG4gb3JkZXJCeUZpbHRlcjogdHJ1ZSxcclxuIHVwcGVyY2FzZUZpbHRlcjogdHJ1ZSxcclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3ZpZGVyXHJcbiAqIEBuYW1lICRmaWx0ZXJQcm92aWRlclxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogRmlsdGVycyBhcmUganVzdCBmdW5jdGlvbnMgd2hpY2ggdHJhbnNmb3JtIGlucHV0IHRvIGFuIG91dHB1dC4gSG93ZXZlciBmaWx0ZXJzIG5lZWQgdG8gYmVcclxuICogRGVwZW5kZW5jeSBJbmplY3RlZC4gVG8gYWNoaWV2ZSB0aGlzIGEgZmlsdGVyIGRlZmluaXRpb24gY29uc2lzdHMgb2YgYSBmYWN0b3J5IGZ1bmN0aW9uIHdoaWNoIGlzXHJcbiAqIGFubm90YXRlZCB3aXRoIGRlcGVuZGVuY2llcyBhbmQgaXMgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIGEgZmlsdGVyIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogRmlsdGVyIG5hbWVzIG11c3QgYmUgdmFsaWQgYW5ndWxhciB7QGxpbmsgZXhwcmVzc2lvbn0gaWRlbnRpZmllcnMsIHN1Y2ggYXMgYHVwcGVyY2FzZWAgb3IgYG9yZGVyQnlgLlxyXG4gKiBOYW1lcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycywgc3VjaCBhcyBoeXBoZW5zIGFuZCBkb3RzLCBhcmUgbm90IGFsbG93ZWQuIElmIHlvdSB3aXNoIHRvIG5hbWVzcGFjZVxyXG4gKiB5b3VyIGZpbHRlcnMsIHRoZW4geW91IGNhbiB1c2UgY2FwaXRhbGl6YXRpb24gKGBteWFwcFN1YnNlY3Rpb25GaWx0ZXJ4YCkgb3IgdW5kZXJzY29yZXNcclxuICogKGBteWFwcF9zdWJzZWN0aW9uX2ZpbHRlcnhgKS5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgLy8gRmlsdGVyIHJlZ2lzdHJhdGlvblxyXG4gKiAgIGZ1bmN0aW9uIE15TW9kdWxlKCRwcm92aWRlLCAkZmlsdGVyUHJvdmlkZXIpIHtcclxuICogICAgIC8vIGNyZWF0ZSBhIHNlcnZpY2UgdG8gZGVtb25zdHJhdGUgaW5qZWN0aW9uIChub3QgYWx3YXlzIG5lZWRlZClcclxuICogICAgICRwcm92aWRlLnZhbHVlKCdncmVldCcsIGZ1bmN0aW9uKG5hbWUpe1xyXG4gKiAgICAgICByZXR1cm4gJ0hlbGxvICcgKyBuYW1lICsgJyEnO1xyXG4gKiAgICAgfSk7XHJcbiAqXHJcbiAqICAgICAvLyByZWdpc3RlciBhIGZpbHRlciBmYWN0b3J5IHdoaWNoIHVzZXMgdGhlXHJcbiAqICAgICAvLyBncmVldCBzZXJ2aWNlIHRvIGRlbW9uc3RyYXRlIERJLlxyXG4gKiAgICAgJGZpbHRlclByb3ZpZGVyLnJlZ2lzdGVyKCdncmVldCcsIGZ1bmN0aW9uKGdyZWV0KXtcclxuICogICAgICAgLy8gcmV0dXJuIHRoZSBmaWx0ZXIgZnVuY3Rpb24gd2hpY2ggdXNlcyB0aGUgZ3JlZXQgc2VydmljZVxyXG4gKiAgICAgICAvLyB0byBnZW5lcmF0ZSBzYWx1dGF0aW9uXHJcbiAqICAgICAgIHJldHVybiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAqICAgICAgICAgLy8gZmlsdGVycyBuZWVkIHRvIGJlIGZvcmdpdmluZyBzbyBjaGVjayBpbnB1dCB2YWxpZGl0eVxyXG4gKiAgICAgICAgIHJldHVybiB0ZXh0ICYmIGdyZWV0KHRleHQpIHx8IHRleHQ7XHJcbiAqICAgICAgIH07XHJcbiAqICAgICB9KTtcclxuICogICB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgZmlsdGVyIGZ1bmN0aW9uIGlzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgYCRpbmplY3RvcmAgdW5kZXIgdGhlIGZpbHRlciBuYW1lIHN1ZmZpeCB3aXRoXHJcbiAqIGBGaWx0ZXJgLlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIGl0KCdzaG91bGQgYmUgdGhlIHNhbWUgaW5zdGFuY2UnLCBpbmplY3QoXHJcbiAqICAgICBmdW5jdGlvbigkZmlsdGVyUHJvdmlkZXIpIHtcclxuICogICAgICAgJGZpbHRlclByb3ZpZGVyLnJlZ2lzdGVyKCdyZXZlcnNlJywgZnVuY3Rpb24oKXtcclxuICogICAgICAgICByZXR1cm4gLi4uO1xyXG4gKiAgICAgICB9KTtcclxuICogICAgIH0sXHJcbiAqICAgICBmdW5jdGlvbigkZmlsdGVyLCByZXZlcnNlRmlsdGVyKSB7XHJcbiAqICAgICAgIGV4cGVjdCgkZmlsdGVyKCdyZXZlcnNlJykpLnRvQmUocmV2ZXJzZUZpbHRlcik7XHJcbiAqICAgICB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqXHJcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGhvdyBhbmd1bGFyIGZpbHRlcnMgd29yaywgYW5kIGhvdyB0byBjcmVhdGUgeW91ciBvd24gZmlsdGVycywgc2VlXHJcbiAqIHtAbGluayBndWlkZS9maWx0ZXIgRmlsdGVyc30gaW4gdGhlIEFuZ3VsYXIgRGV2ZWxvcGVyIEd1aWRlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkZmlsdGVyXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBGaWx0ZXJzIGFyZSB1c2VkIGZvciBmb3JtYXR0aW5nIGRhdGEgZGlzcGxheWVkIHRvIHRoZSB1c2VyLlxyXG4gKlxyXG4gKiBUaGUgZ2VuZXJhbCBzeW50YXggaW4gdGVtcGxhdGVzIGlzIGFzIGZvbGxvd3M6XHJcbiAqXHJcbiAqICAgICAgICAge3sgZXhwcmVzc2lvbiBbfCBmaWx0ZXJfbmFtZVs6cGFyYW1ldGVyX3ZhbHVlXSAuLi4gXSB9fVxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBmaWx0ZXIgZnVuY3Rpb24gdG8gcmV0cmlldmVcclxuICogQHJldHVybiB7RnVuY3Rpb259IHRoZSBmaWx0ZXIgZnVuY3Rpb25cclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIiRmaWx0ZXJcIiBtb2R1bGU9XCJmaWx0ZXJFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5DdHJsXCI+XHJcbiAgICAgICAgPGgzPnt7IG9yaWdpbmFsVGV4dCB9fTwvaDM+XHJcbiAgICAgICAgPGgzPnt7IGZpbHRlcmVkVGV4dCB9fTwvaDM+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcblxyXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2ZpbHRlckV4YW1wbGUnLCBbXSlcclxuICAgICAgLmNvbnRyb2xsZXIoJ01haW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkZmlsdGVyKSB7XHJcbiAgICAgICAgJHNjb3BlLm9yaWdpbmFsVGV4dCA9ICdoZWxsbyc7XHJcbiAgICAgICAgJHNjb3BlLmZpbHRlcmVkVGV4dCA9ICRmaWx0ZXIoJ3VwcGVyY2FzZScpKCRzY29wZS5vcmlnaW5hbFRleHQpO1xyXG4gICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICAqL1xyXG4kRmlsdGVyUHJvdmlkZXIuJGluamVjdCA9IFsnJHByb3ZpZGUnXTtcclxuZnVuY3Rpb24gJEZpbHRlclByb3ZpZGVyKCRwcm92aWRlKSB7XHJcbiAgdmFyIHN1ZmZpeCA9ICdGaWx0ZXInO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGZpbHRlclByb3ZpZGVyI3JlZ2lzdGVyXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGZpbHRlciBmdW5jdGlvbiwgb3IgYW4gb2JqZWN0IG1hcCBvZiBmaWx0ZXJzIHdoZXJlXHJcbiAgICogICAgdGhlIGtleXMgYXJlIHRoZSBmaWx0ZXIgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBmaWx0ZXIgZmFjdG9yaWVzLlxyXG4gICAqXHJcbiAgICogICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgKiAgICAqKk5vdGU6KiogRmlsdGVyIG5hbWVzIG11c3QgYmUgdmFsaWQgYW5ndWxhciB7QGxpbmsgZXhwcmVzc2lvbn0gaWRlbnRpZmllcnMsIHN1Y2ggYXMgYHVwcGVyY2FzZWAgb3IgYG9yZGVyQnlgLlxyXG4gICAqICAgIE5hbWVzIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzLCBzdWNoIGFzIGh5cGhlbnMgYW5kIGRvdHMsIGFyZSBub3QgYWxsb3dlZC4gSWYgeW91IHdpc2ggdG8gbmFtZXNwYWNlXHJcbiAgICogICAgeW91ciBmaWx0ZXJzLCB0aGVuIHlvdSBjYW4gdXNlIGNhcGl0YWxpemF0aW9uIChgbXlhcHBTdWJzZWN0aW9uRmlsdGVyeGApIG9yIHVuZGVyc2NvcmVzXHJcbiAgICogICAgKGBteWFwcF9zdWJzZWN0aW9uX2ZpbHRlcnhgKS5cclxuICAgKiAgICA8L2Rpdj5cclxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmFjdG9yeSBJZiB0aGUgZmlyc3QgYXJndW1lbnQgd2FzIGEgc3RyaW5nLCBhIGZhY3RvcnkgZnVuY3Rpb24gZm9yIHRoZSBmaWx0ZXIgdG8gYmUgcmVnaXN0ZXJlZC5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZSwgb3IgaWYgYSBtYXAgb2YgZmlsdGVycyB3YXMgcHJvdmlkZWQgdGhlbiBhIG1hcFxyXG4gICAqICAgIG9mIHRoZSByZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZXMuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgZmFjdG9yeSkge1xyXG4gICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XHJcbiAgICAgIHZhciBmaWx0ZXJzID0ge307XHJcbiAgICAgIGZvckVhY2gobmFtZSwgZnVuY3Rpb24oZmlsdGVyLCBrZXkpIHtcclxuICAgICAgICBmaWx0ZXJzW2tleV0gPSByZWdpc3RlcihrZXksIGZpbHRlcik7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gZmlsdGVycztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAkcHJvdmlkZS5mYWN0b3J5KG5hbWUgKyBzdWZmaXgsIGZhY3RvcnkpO1xyXG4gICAgfVxyXG4gIH1cclxuICB0aGlzLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XHJcblxyXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICByZXR1cm4gJGluamVjdG9yLmdldChuYW1lICsgc3VmZml4KTtcclxuICAgIH07XHJcbiAgfV07XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgLyogZ2xvYmFsXHJcbiAgICBjdXJyZW5jeUZpbHRlcjogZmFsc2UsXHJcbiAgICBkYXRlRmlsdGVyOiBmYWxzZSxcclxuICAgIGZpbHRlckZpbHRlcjogZmFsc2UsXHJcbiAgICBqc29uRmlsdGVyOiBmYWxzZSxcclxuICAgIGxpbWl0VG9GaWx0ZXI6IGZhbHNlLFxyXG4gICAgbG93ZXJjYXNlRmlsdGVyOiBmYWxzZSxcclxuICAgIG51bWJlckZpbHRlcjogZmFsc2UsXHJcbiAgICBvcmRlckJ5RmlsdGVyOiBmYWxzZSxcclxuICAgIHVwcGVyY2FzZUZpbHRlcjogZmFsc2UsXHJcbiAgKi9cclxuXHJcbiAgcmVnaXN0ZXIoJ2N1cnJlbmN5JywgY3VycmVuY3lGaWx0ZXIpO1xyXG4gIHJlZ2lzdGVyKCdkYXRlJywgZGF0ZUZpbHRlcik7XHJcbiAgcmVnaXN0ZXIoJ2ZpbHRlcicsIGZpbHRlckZpbHRlcik7XHJcbiAgcmVnaXN0ZXIoJ2pzb24nLCBqc29uRmlsdGVyKTtcclxuICByZWdpc3RlcignbGltaXRUbycsIGxpbWl0VG9GaWx0ZXIpO1xyXG4gIHJlZ2lzdGVyKCdsb3dlcmNhc2UnLCBsb3dlcmNhc2VGaWx0ZXIpO1xyXG4gIHJlZ2lzdGVyKCdudW1iZXInLCBudW1iZXJGaWx0ZXIpO1xyXG4gIHJlZ2lzdGVyKCdvcmRlckJ5Jywgb3JkZXJCeUZpbHRlcik7XHJcbiAgcmVnaXN0ZXIoJ3VwcGVyY2FzZScsIHVwcGVyY2FzZUZpbHRlcik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZmlsdGVyXHJcbiAqIEBuYW1lIGZpbHRlclxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU2VsZWN0cyBhIHN1YnNldCBvZiBpdGVtcyBmcm9tIGBhcnJheWAgYW5kIHJldHVybnMgaXQgYXMgYSBuZXcgYXJyYXkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3VyY2UgYXJyYXkuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdHxmdW5jdGlvbigpfSBleHByZXNzaW9uIFRoZSBwcmVkaWNhdGUgdG8gYmUgdXNlZCBmb3Igc2VsZWN0aW5nIGl0ZW1zIGZyb21cclxuICogICBgYXJyYXlgLlxyXG4gKlxyXG4gKiAgIENhbiBiZSBvbmUgb2Y6XHJcbiAqXHJcbiAqICAgLSBgc3RyaW5nYDogVGhlIHN0cmluZyBpcyB1c2VkIGZvciBtYXRjaGluZyBhZ2FpbnN0IHRoZSBjb250ZW50cyBvZiB0aGUgYGFycmF5YC4gQWxsIHN0cmluZ3Mgb3JcclxuICogICAgIG9iamVjdHMgd2l0aCBzdHJpbmcgcHJvcGVydGllcyBpbiBgYXJyYXlgIHRoYXQgbWF0Y2ggdGhpcyBzdHJpbmcgd2lsbCBiZSByZXR1cm5lZC4gVGhpcyBhbHNvXHJcbiAqICAgICBhcHBsaWVzIHRvIG5lc3RlZCBvYmplY3QgcHJvcGVydGllcy5cclxuICogICAgIFRoZSBwcmVkaWNhdGUgY2FuIGJlIG5lZ2F0ZWQgYnkgcHJlZml4aW5nIHRoZSBzdHJpbmcgd2l0aCBgIWAuXHJcbiAqXHJcbiAqICAgLSBgT2JqZWN0YDogQSBwYXR0ZXJuIG9iamVjdCBjYW4gYmUgdXNlZCB0byBmaWx0ZXIgc3BlY2lmaWMgcHJvcGVydGllcyBvbiBvYmplY3RzIGNvbnRhaW5lZFxyXG4gKiAgICAgYnkgYGFycmF5YC4gRm9yIGV4YW1wbGUgYHtuYW1lOlwiTVwiLCBwaG9uZTpcIjFcIn1gIHByZWRpY2F0ZSB3aWxsIHJldHVybiBhbiBhcnJheSBvZiBpdGVtc1xyXG4gKiAgICAgd2hpY2ggaGF2ZSBwcm9wZXJ0eSBgbmFtZWAgY29udGFpbmluZyBcIk1cIiBhbmQgcHJvcGVydHkgYHBob25lYCBjb250YWluaW5nIFwiMVwiLiBBIHNwZWNpYWxcclxuICogICAgIHByb3BlcnR5IG5hbWUgYCRgIGNhbiBiZSB1c2VkIChhcyBpbiBgeyQ6XCJ0ZXh0XCJ9YCkgdG8gYWNjZXB0IGEgbWF0Y2ggYWdhaW5zdCBhbnlcclxuICogICAgIHByb3BlcnR5IG9mIHRoZSBvYmplY3Qgb3IgaXRzIG5lc3RlZCBvYmplY3QgcHJvcGVydGllcy4gVGhhdCdzIGVxdWl2YWxlbnQgdG8gdGhlIHNpbXBsZVxyXG4gKiAgICAgc3Vic3RyaW5nIG1hdGNoIHdpdGggYSBgc3RyaW5nYCBhcyBkZXNjcmliZWQgYWJvdmUuIFRoZSBwcmVkaWNhdGUgY2FuIGJlIG5lZ2F0ZWQgYnkgcHJlZml4aW5nXHJcbiAqICAgICB0aGUgc3RyaW5nIHdpdGggYCFgLlxyXG4gKiAgICAgRm9yIGV4YW1wbGUgYHtuYW1lOiBcIiFNXCJ9YCBwcmVkaWNhdGUgd2lsbCByZXR1cm4gYW4gYXJyYXkgb2YgaXRlbXMgd2hpY2ggaGF2ZSBwcm9wZXJ0eSBgbmFtZWBcclxuICogICAgIG5vdCBjb250YWluaW5nIFwiTVwiLlxyXG4gKlxyXG4gKiAgICAgTm90ZSB0aGF0IGEgbmFtZWQgcHJvcGVydHkgd2lsbCBtYXRjaCBwcm9wZXJ0aWVzIG9uIHRoZSBzYW1lIGxldmVsIG9ubHksIHdoaWxlIHRoZSBzcGVjaWFsXHJcbiAqICAgICBgJGAgcHJvcGVydHkgd2lsbCBtYXRjaCBwcm9wZXJ0aWVzIG9uIHRoZSBzYW1lIGxldmVsIG9yIGRlZXBlci4gRS5nLiBhbiBhcnJheSBpdGVtIGxpa2VcclxuICogICAgIGB7bmFtZToge2ZpcnN0OiAnSm9obicsIGxhc3Q6ICdEb2UnfX1gIHdpbGwgKipub3QqKiBiZSBtYXRjaGVkIGJ5IGB7bmFtZTogJ0pvaG4nfWAsIGJ1dFxyXG4gKiAgICAgKip3aWxsKiogYmUgbWF0Y2hlZCBieSBgeyQ6ICdKb2huJ31gLlxyXG4gKlxyXG4gKiAgIC0gYGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgYXJyYXkpYDogQSBwcmVkaWNhdGUgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gd3JpdGUgYXJiaXRyYXJ5IGZpbHRlcnMuXHJcbiAqICAgICBUaGUgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5LCB3aXRoIHRoZSBlbGVtZW50LCBpdHMgaW5kZXgsIGFuZFxyXG4gKiAgICAgdGhlIGVudGlyZSBhcnJheSBpdHNlbGYgYXMgYXJndW1lbnRzLlxyXG4gKlxyXG4gKiAgICAgVGhlIGZpbmFsIHJlc3VsdCBpcyBhbiBhcnJheSBvZiB0aG9zZSBlbGVtZW50cyB0aGF0IHRoZSBwcmVkaWNhdGUgcmV0dXJuZWQgdHJ1ZSBmb3IuXHJcbiAqXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCl8dHJ1ZXx1bmRlZmluZWR9IGNvbXBhcmF0b3IgQ29tcGFyYXRvciB3aGljaCBpcyB1c2VkIGluXHJcbiAqICAgICBkZXRlcm1pbmluZyBpZiB0aGUgZXhwZWN0ZWQgdmFsdWUgKGZyb20gdGhlIGZpbHRlciBleHByZXNzaW9uKSBhbmQgYWN0dWFsIHZhbHVlIChmcm9tXHJcbiAqICAgICB0aGUgb2JqZWN0IGluIHRoZSBhcnJheSkgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBtYXRjaC5cclxuICpcclxuICogICBDYW4gYmUgb25lIG9mOlxyXG4gKlxyXG4gKiAgIC0gYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpYDpcclxuICogICAgIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGdpdmVuIHRoZSBvYmplY3QgdmFsdWUgYW5kIHRoZSBwcmVkaWNhdGUgdmFsdWUgdG8gY29tcGFyZSBhbmRcclxuICogICAgIHNob3VsZCByZXR1cm4gdHJ1ZSBpZiBib3RoIHZhbHVlcyBzaG91bGQgYmUgY29uc2lkZXJlZCBlcXVhbC5cclxuICpcclxuICogICAtIGB0cnVlYDogQSBzaG9ydGhhbmQgZm9yIGBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKSB7IHJldHVybiBhbmd1bGFyLmVxdWFscyhhY3R1YWwsIGV4cGVjdGVkKX1gLlxyXG4gKiAgICAgVGhpcyBpcyBlc3NlbnRpYWxseSBzdHJpY3QgY29tcGFyaXNvbiBvZiBleHBlY3RlZCBhbmQgYWN0dWFsLlxyXG4gKlxyXG4gKiAgIC0gYGZhbHNlfHVuZGVmaW5lZGA6IEEgc2hvcnQgaGFuZCBmb3IgYSBmdW5jdGlvbiB3aGljaCB3aWxsIGxvb2sgZm9yIGEgc3Vic3RyaW5nIG1hdGNoIGluIGNhc2VcclxuICogICAgIGluc2Vuc2l0aXZlIHdheS5cclxuICpcclxuICogICAgIFByaW1pdGl2ZSB2YWx1ZXMgYXJlIGNvbnZlcnRlZCB0byBzdHJpbmdzLiBPYmplY3RzIGFyZSBub3QgY29tcGFyZWQgYWdhaW5zdCBwcmltaXRpdmVzLFxyXG4gKiAgICAgdW5sZXNzIHRoZXkgaGF2ZSBhIGN1c3RvbSBgdG9TdHJpbmdgIG1ldGhvZCAoZS5nLiBgRGF0ZWAgb2JqZWN0cykuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8ZGl2IG5nLWluaXQ9XCJmcmllbmRzID0gW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjc2J30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J01hcnknLCBwaG9uZTonODAwLUJJRy1NQVJZJ30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J01pa2UnLCBwaG9uZTonNTU1LTQzMjEnfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonQWRhbScsIHBob25lOic1NTUtNTY3OCd9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZScsIHBob25lOic1NTUtODc2NSd9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZXR0ZScsIHBob25lOic1NTUtNTY3OCd9XVwiPjwvZGl2PlxyXG5cclxuICAgICAgIDxsYWJlbD5TZWFyY2g6IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaFRleHRcIj48L2xhYmVsPlxyXG4gICAgICAgPHRhYmxlIGlkPVwic2VhcmNoVGV4dFJlc3VsdHNcIj5cclxuICAgICAgICAgPHRyPjx0aD5OYW1lPC90aD48dGg+UGhvbmU8L3RoPjwvdHI+XHJcbiAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IGZpbHRlcjpzZWFyY2hUZXh0XCI+XHJcbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XHJcbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxyXG4gICAgICAgICA8L3RyPlxyXG4gICAgICAgPC90YWJsZT5cclxuICAgICAgIDxocj5cclxuICAgICAgIDxsYWJlbD5Bbnk6IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaC4kXCI+PC9sYWJlbD4gPGJyPlxyXG4gICAgICAgPGxhYmVsPk5hbWUgb25seSA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2gubmFtZVwiPjwvbGFiZWw+PGJyPlxyXG4gICAgICAgPGxhYmVsPlBob25lIG9ubHkgPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLnBob25lXCI+PC9sYWJlbD48YnI+XHJcbiAgICAgICA8bGFiZWw+RXF1YWxpdHkgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwic3RyaWN0XCI+PC9sYWJlbD48YnI+XHJcbiAgICAgICA8dGFibGUgaWQ9XCJzZWFyY2hPYmpSZXN1bHRzXCI+XHJcbiAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPlxyXG4gICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kT2JqIGluIGZyaWVuZHMgfCBmaWx0ZXI6c2VhcmNoOnN0cmljdFwiPlxyXG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5uYW1lfX08L3RkPlxyXG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5waG9uZX19PC90ZD5cclxuICAgICAgICAgPC90cj5cclxuICAgICAgIDwvdGFibGU+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciBleHBlY3RGcmllbmROYW1lcyA9IGZ1bmN0aW9uKGV4cGVjdGVkTmFtZXMsIGtleSkge1xyXG4gICAgICAgICBlbGVtZW50LmFsbChieS5yZXBlYXRlcihrZXkgKyAnIGluIGZyaWVuZHMnKS5jb2x1bW4oa2V5ICsgJy5uYW1lJykpLnRoZW4oZnVuY3Rpb24oYXJyKSB7XHJcbiAgICAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24od2QsIGkpIHtcclxuICAgICAgICAgICAgIGV4cGVjdCh3ZC5nZXRUZXh0KCkpLnRvTWF0Y2goZXhwZWN0ZWROYW1lc1tpXSk7XHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgfTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHNlYXJjaCBhY3Jvc3MgYWxsIGZpZWxkcyB3aGVuIGZpbHRlcmluZyB3aXRoIGEgc3RyaW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHZhciBzZWFyY2hUZXh0ID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoVGV4dCcpKTtcclxuICAgICAgICAgc2VhcmNoVGV4dC5jbGVhcigpO1xyXG4gICAgICAgICBzZWFyY2hUZXh0LnNlbmRLZXlzKCdtJyk7XHJcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0FkYW0nXSwgJ2ZyaWVuZCcpO1xyXG5cclxuICAgICAgICAgc2VhcmNoVGV4dC5jbGVhcigpO1xyXG4gICAgICAgICBzZWFyY2hUZXh0LnNlbmRLZXlzKCc3NicpO1xyXG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0pvaG4nLCAnSnVsaWUnXSwgJ2ZyaWVuZCcpO1xyXG4gICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCBzZWFyY2ggaW4gc3BlY2lmaWMgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBwcmVkaWNhdGUgb2JqZWN0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHZhciBzZWFyY2hBbnkgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWFyY2guJCcpKTtcclxuICAgICAgICAgc2VhcmNoQW55LmNsZWFyKCk7XHJcbiAgICAgICAgIHNlYXJjaEFueS5zZW5kS2V5cygnaScpO1xyXG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ01hcnknLCAnTWlrZScsICdKdWxpZScsICdKdWxpZXR0ZSddLCAnZnJpZW5kT2JqJyk7XHJcbiAgICAgICB9KTtcclxuICAgICAgIGl0KCdzaG91bGQgdXNlIGEgZXF1YWwgY29tcGFyaXNvbiB3aGVuIGNvbXBhcmF0b3IgaXMgdHJ1ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICB2YXIgc2VhcmNoTmFtZSA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlYXJjaC5uYW1lJykpO1xyXG4gICAgICAgICB2YXIgc3RyaWN0ID0gZWxlbWVudChieS5tb2RlbCgnc3RyaWN0JykpO1xyXG4gICAgICAgICBzZWFyY2hOYW1lLmNsZWFyKCk7XHJcbiAgICAgICAgIHNlYXJjaE5hbWUuc2VuZEtleXMoJ0p1bGllJyk7XHJcbiAgICAgICAgIHN0cmljdC5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0p1bGllJ10sICdmcmllbmRPYmonKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuZnVuY3Rpb24gZmlsdGVyRmlsdGVyKCkge1xyXG4gIHJldHVybiBmdW5jdGlvbihhcnJheSwgZXhwcmVzc2lvbiwgY29tcGFyYXRvcikge1xyXG4gICAgaWYgKCFpc0FycmF5TGlrZShhcnJheSkpIHtcclxuICAgICAgaWYgKGFycmF5ID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbWluRXJyKCdmaWx0ZXInKSgnbm90YXJyYXknLCAnRXhwZWN0ZWQgYXJyYXkgYnV0IHJlY2VpdmVkOiB7MH0nLCBhcnJheSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgZXhwcmVzc2lvblR5cGUgPSBnZXRUeXBlRm9yRmlsdGVyKGV4cHJlc3Npb24pO1xyXG4gICAgdmFyIHByZWRpY2F0ZUZuO1xyXG4gICAgdmFyIG1hdGNoQWdhaW5zdEFueVByb3A7XHJcblxyXG4gICAgc3dpdGNoIChleHByZXNzaW9uVHlwZSkge1xyXG4gICAgICBjYXNlICdmdW5jdGlvbic6XHJcbiAgICAgICAgcHJlZGljYXRlRm4gPSBleHByZXNzaW9uO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdib29sZWFuJzpcclxuICAgICAgY2FzZSAnbnVsbCc6XHJcbiAgICAgIGNhc2UgJ251bWJlcic6XHJcbiAgICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICAgICAgbWF0Y2hBZ2FpbnN0QW55UHJvcCA9IHRydWU7XHJcbiAgICAgICAgLy9qc2hpbnQgLVcwODZcclxuICAgICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgICAvL2pzaGludCArVzA4NlxyXG4gICAgICAgIHByZWRpY2F0ZUZuID0gY3JlYXRlUHJlZGljYXRlRm4oZXhwcmVzc2lvbiwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYXJyYXksIHByZWRpY2F0ZUZuKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBgZmlsdGVyRmlsdGVyYFxyXG5mdW5jdGlvbiBjcmVhdGVQcmVkaWNhdGVGbihleHByZXNzaW9uLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKSB7XHJcbiAgdmFyIHNob3VsZE1hdGNoUHJpbWl0aXZlcyA9IGlzT2JqZWN0KGV4cHJlc3Npb24pICYmICgnJCcgaW4gZXhwcmVzc2lvbik7XHJcbiAgdmFyIHByZWRpY2F0ZUZuO1xyXG5cclxuICBpZiAoY29tcGFyYXRvciA9PT0gdHJ1ZSkge1xyXG4gICAgY29tcGFyYXRvciA9IGVxdWFscztcclxuICB9IGVsc2UgaWYgKCFpc0Z1bmN0aW9uKGNvbXBhcmF0b3IpKSB7XHJcbiAgICBjb21wYXJhdG9yID0gZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCkge1xyXG4gICAgICBpZiAoaXNVbmRlZmluZWQoYWN0dWFsKSkge1xyXG4gICAgICAgIC8vIE5vIHN1YnN0cmluZyBtYXRjaGluZyBhZ2FpbnN0IGB1bmRlZmluZWRgXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICgoYWN0dWFsID09PSBudWxsKSB8fCAoZXhwZWN0ZWQgPT09IG51bGwpKSB7XHJcbiAgICAgICAgLy8gTm8gc3Vic3RyaW5nIG1hdGNoaW5nIGFnYWluc3QgYG51bGxgOyBvbmx5IG1hdGNoIGFnYWluc3QgYG51bGxgXHJcbiAgICAgICAgcmV0dXJuIGFjdHVhbCA9PT0gZXhwZWN0ZWQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGlzT2JqZWN0KGV4cGVjdGVkKSB8fCAoaXNPYmplY3QoYWN0dWFsKSAmJiAhaGFzQ3VzdG9tVG9TdHJpbmcoYWN0dWFsKSkpIHtcclxuICAgICAgICAvLyBTaG91bGQgbm90IGNvbXBhcmUgcHJpbWl0aXZlcyBhZ2FpbnN0IG9iamVjdHMsIHVubGVzcyB0aGV5IGhhdmUgY3VzdG9tIGB0b1N0cmluZ2AgbWV0aG9kXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhY3R1YWwgPSBsb3dlcmNhc2UoJycgKyBhY3R1YWwpO1xyXG4gICAgICBleHBlY3RlZCA9IGxvd2VyY2FzZSgnJyArIGV4cGVjdGVkKTtcclxuICAgICAgcmV0dXJuIGFjdHVhbC5pbmRleE9mKGV4cGVjdGVkKSAhPT0gLTE7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcHJlZGljYXRlRm4gPSBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICBpZiAoc2hvdWxkTWF0Y2hQcmltaXRpdmVzICYmICFpc09iamVjdChpdGVtKSkge1xyXG4gICAgICByZXR1cm4gZGVlcENvbXBhcmUoaXRlbSwgZXhwcmVzc2lvbi4kLCBjb21wYXJhdG9yLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGVlcENvbXBhcmUoaXRlbSwgZXhwcmVzc2lvbiwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHByZWRpY2F0ZUZuO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWVwQ29tcGFyZShhY3R1YWwsIGV4cGVjdGVkLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wLCBkb250TWF0Y2hXaG9sZU9iamVjdCkge1xyXG4gIHZhciBhY3R1YWxUeXBlID0gZ2V0VHlwZUZvckZpbHRlcihhY3R1YWwpO1xyXG4gIHZhciBleHBlY3RlZFR5cGUgPSBnZXRUeXBlRm9yRmlsdGVyKGV4cGVjdGVkKTtcclxuXHJcbiAgaWYgKChleHBlY3RlZFR5cGUgPT09ICdzdHJpbmcnKSAmJiAoZXhwZWN0ZWQuY2hhckF0KDApID09PSAnIScpKSB7XHJcbiAgICByZXR1cm4gIWRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQuc3Vic3RyaW5nKDEpLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcclxuICB9IGVsc2UgaWYgKGlzQXJyYXkoYWN0dWFsKSkge1xyXG4gICAgLy8gSW4gY2FzZSBgYWN0dWFsYCBpcyBhbiBhcnJheSwgY29uc2lkZXIgaXQgYSBtYXRjaFxyXG4gICAgLy8gaWYgQU5ZIG9mIGl0J3MgaXRlbXMgbWF0Y2hlcyBgZXhwZWN0ZWRgXHJcbiAgICByZXR1cm4gYWN0dWFsLnNvbWUoZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICByZXR1cm4gZGVlcENvbXBhcmUoaXRlbSwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIG1hdGNoQWdhaW5zdEFueVByb3ApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzd2l0Y2ggKGFjdHVhbFR5cGUpIHtcclxuICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgIHZhciBrZXk7XHJcbiAgICAgIGlmIChtYXRjaEFnYWluc3RBbnlQcm9wKSB7XHJcbiAgICAgICAgZm9yIChrZXkgaW4gYWN0dWFsKSB7XHJcbiAgICAgICAgICBpZiAoKGtleS5jaGFyQXQoMCkgIT09ICckJykgJiYgZGVlcENvbXBhcmUoYWN0dWFsW2tleV0sIGV4cGVjdGVkLCBjb21wYXJhdG9yLCB0cnVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRvbnRNYXRjaFdob2xlT2JqZWN0ID8gZmFsc2UgOiBkZWVwQ29tcGFyZShhY3R1YWwsIGV4cGVjdGVkLCBjb21wYXJhdG9yLCBmYWxzZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGZvciAoa2V5IGluIGV4cGVjdGVkKSB7XHJcbiAgICAgICAgICB2YXIgZXhwZWN0ZWRWYWwgPSBleHBlY3RlZFtrZXldO1xyXG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZXhwZWN0ZWRWYWwpIHx8IGlzVW5kZWZpbmVkKGV4cGVjdGVkVmFsKSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB2YXIgbWF0Y2hBbnlQcm9wZXJ0eSA9IGtleSA9PT0gJyQnO1xyXG4gICAgICAgICAgdmFyIGFjdHVhbFZhbCA9IG1hdGNoQW55UHJvcGVydHkgPyBhY3R1YWwgOiBhY3R1YWxba2V5XTtcclxuICAgICAgICAgIGlmICghZGVlcENvbXBhcmUoYWN0dWFsVmFsLCBleHBlY3RlZFZhbCwgY29tcGFyYXRvciwgbWF0Y2hBbnlQcm9wZXJ0eSwgbWF0Y2hBbnlQcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gY29tcGFyYXRvcihhY3R1YWwsIGV4cGVjdGVkKTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoYWN0dWFsLCBleHBlY3RlZCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBVc2VkIGZvciBlYXNpbHkgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gYG51bGxgIGFuZCBhY3R1YWwgYG9iamVjdGBcclxuZnVuY3Rpb24gZ2V0VHlwZUZvckZpbHRlcih2YWwpIHtcclxuICByZXR1cm4gKHZhbCA9PT0gbnVsbCkgPyAnbnVsbCcgOiB0eXBlb2YgdmFsO1xyXG59XHJcblxyXG52YXIgTUFYX0RJR0lUUyA9IDIyO1xyXG52YXIgREVDSU1BTF9TRVAgPSAnLic7XHJcbnZhciBaRVJPX0NIQVIgPSAnMCc7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZpbHRlclxyXG4gKiBAbmFtZSBjdXJyZW5jeVxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRm9ybWF0cyBhIG51bWJlciBhcyBhIGN1cnJlbmN5IChpZSAkMSwyMzQuNTYpLiBXaGVuIG5vIGN1cnJlbmN5IHN5bWJvbCBpcyBwcm92aWRlZCwgZGVmYXVsdFxyXG4gKiBzeW1ib2wgZm9yIGN1cnJlbnQgbG9jYWxlIGlzIHVzZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgSW5wdXQgdG8gZmlsdGVyLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IHN5bWJvbCBDdXJyZW5jeSBzeW1ib2wgb3IgaWRlbnRpZmllciB0byBiZSBkaXNwbGF5ZWQuXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gZnJhY3Rpb25TaXplIE51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byByb3VuZCB0aGUgYW1vdW50IHRvLCBkZWZhdWx0cyB0byBkZWZhdWx0IG1heCBmcmFjdGlvbiBzaXplIGZvciBjdXJyZW50IGxvY2FsZVxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgbnVtYmVyLlxyXG4gKlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJjdXJyZW5jeUV4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2N1cnJlbmN5RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUuYW1vdW50ID0gMTIzNC41NjtcclxuICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJhbW91bnRcIiBhcmlhLWxhYmVsPVwiYW1vdW50XCI+IDxicj5cclxuICAgICAgICAgZGVmYXVsdCBjdXJyZW5jeSBzeW1ib2wgKCQpOiA8c3BhbiBpZD1cImN1cnJlbmN5LWRlZmF1bHRcIj57e2Ftb3VudCB8IGN1cnJlbmN5fX08L3NwYW4+PGJyPlxyXG4gICAgICAgICBjdXN0b20gY3VycmVuY3kgaWRlbnRpZmllciAoVVNEJCk6IDxzcGFuIGlkPVwiY3VycmVuY3ktY3VzdG9tXCI+e3thbW91bnQgfCBjdXJyZW5jeTpcIlVTRCRcIn19PC9zcGFuPlxyXG4gICAgICAgICBubyBmcmFjdGlvbnMgKDApOiA8c3BhbiBpZD1cImN1cnJlbmN5LW5vLWZyYWN0aW9uc1wiPnt7YW1vdW50IHwgY3VycmVuY3k6XCJVU0QkXCI6MH19PC9zcGFuPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgaW5pdCB3aXRoIDEyMzQuNTYnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCckMSwyMzQuNTYnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWN1c3RvbScpKS5nZXRUZXh0KCkpLnRvQmUoJ1VTRCQxLDIzNC41NicpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktbm8tZnJhY3Rpb25zJykpLmdldFRleHQoKSkudG9CZSgnVVNEJDEsMjM1Jyk7XHJcbiAgICAgICB9KTtcclxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdzYWZhcmknKSB7XHJcbiAgICAgICAgICAgLy8gU2FmYXJpIGRvZXMgbm90IHVuZGVyc3RhbmQgdGhlIG1pbnVzIGtleS4gU2VlXHJcbiAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNDgxXHJcbiAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Ftb3VudCcpKS5jbGVhcigpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdhbW91bnQnKSkuc2VuZEtleXMoJy0xMjM0Jyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnLSQxLDIzNC4wMCcpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktY3VzdG9tJykpLmdldFRleHQoKSkudG9CZSgnLVVTRCQxLDIzNC4wMCcpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktbm8tZnJhY3Rpb25zJykpLmdldFRleHQoKSkudG9CZSgnLVVTRCQxLDIzNCcpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5jdXJyZW5jeUZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XHJcbmZ1bmN0aW9uIGN1cnJlbmN5RmlsdGVyKCRsb2NhbGUpIHtcclxuICB2YXIgZm9ybWF0cyA9ICRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKGFtb3VudCwgY3VycmVuY3lTeW1ib2wsIGZyYWN0aW9uU2l6ZSkge1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKGN1cnJlbmN5U3ltYm9sKSkge1xyXG4gICAgICBjdXJyZW5jeVN5bWJvbCA9IGZvcm1hdHMuQ1VSUkVOQ1lfU1lNO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpKSB7XHJcbiAgICAgIGZyYWN0aW9uU2l6ZSA9IGZvcm1hdHMuUEFUVEVSTlNbMV0ubWF4RnJhYztcclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiBudWxsIG9yIHVuZGVmaW5lZCBwYXNzIGl0IHRocm91Z2hcclxuICAgIHJldHVybiAoYW1vdW50ID09IG51bGwpXHJcbiAgICAgICAgPyBhbW91bnRcclxuICAgICAgICA6IGZvcm1hdE51bWJlcihhbW91bnQsIGZvcm1hdHMuUEFUVEVSTlNbMV0sIGZvcm1hdHMuR1JPVVBfU0VQLCBmb3JtYXRzLkRFQ0lNQUxfU0VQLCBmcmFjdGlvblNpemUpLlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXHUwMEE0L2csIGN1cnJlbmN5U3ltYm9sKTtcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZpbHRlclxyXG4gKiBAbmFtZSBudW1iZXJcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEZvcm1hdHMgYSBudW1iZXIgYXMgdGV4dC5cclxuICpcclxuICogSWYgdGhlIGlucHV0IGlzIG51bGwgb3IgdW5kZWZpbmVkLCBpdCB3aWxsIGp1c3QgYmUgcmV0dXJuZWQuXHJcbiAqIElmIHRoZSBpbnB1dCBpcyBpbmZpbml0ZSAoSW5maW5pdHkgb3IgLUluZmluaXR5KSwgdGhlIEluZmluaXR5IHN5bWJvbCAn4oieJyBvciAnLeKInicgaXMgcmV0dXJuZWQsIHJlc3BlY3RpdmVseS5cclxuICogSWYgdGhlIGlucHV0IGlzIG5vdCBhIG51bWJlciBhbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQuXHJcbiAqXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gbnVtYmVyIE51bWJlciB0byBmb3JtYXQuXHJcbiAqIEBwYXJhbSB7KG51bWJlcnxzdHJpbmcpPX0gZnJhY3Rpb25TaXplIE51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byByb3VuZCB0aGUgbnVtYmVyIHRvLlxyXG4gKiBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCB0aGVuIHRoZSBmcmFjdGlvbiBzaXplIGlzIGNvbXB1dGVkIGZyb20gdGhlIGN1cnJlbnQgbG9jYWxlJ3MgbnVtYmVyXHJcbiAqIGZvcm1hdHRpbmcgcGF0dGVybi4gSW4gdGhlIGNhc2Ugb2YgdGhlIGRlZmF1bHQgbG9jYWxlLCBpdCB3aWxsIGJlIDMuXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IE51bWJlciByb3VuZGVkIHRvIGBmcmFjdGlvblNpemVgIGFwcHJvcHJpYXRlbHkgZm9ybWF0dGVkIGJhc2VkIG9uIHRoZSBjdXJyZW50XHJcbiAqICAgICAgICAgICAgICAgICAgIGxvY2FsZSAoZS5nLiwgaW4gdGhlIGVuX1VTIGxvY2FsZSBpdCB3aWxsIGhhdmUgXCIuXCIgYXMgdGhlIGRlY2ltYWwgc2VwYXJhdG9yIGFuZFxyXG4gKiAgICAgICAgICAgICAgICAgICBpbmNsdWRlIFwiLFwiIGdyb3VwIHNlcGFyYXRvcnMgYWZ0ZXIgZWFjaCB0aGlyZCBkaWdpdCkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm51bWJlckZpbHRlckV4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ251bWJlckZpbHRlckV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgJHNjb3BlLnZhbCA9IDEyMzQuNTY3ODk7XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8bGFiZWw+RW50ZXIgbnVtYmVyOiA8aW5wdXQgbmctbW9kZWw9J3ZhbCc+PC9sYWJlbD48YnI+XHJcbiAgICAgICAgIERlZmF1bHQgZm9ybWF0dGluZzogPHNwYW4gaWQ9J251bWJlci1kZWZhdWx0Jz57e3ZhbCB8IG51bWJlcn19PC9zcGFuPjxicj5cclxuICAgICAgICAgTm8gZnJhY3Rpb25zOiA8c3Bhbj57e3ZhbCB8IG51bWJlcjowfX08L3NwYW4+PGJyPlxyXG4gICAgICAgICBOZWdhdGl2ZSBudW1iZXI6IDxzcGFuPnt7LXZhbCB8IG51bWJlcjo0fX08L3NwYW4+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBmb3JtYXQgbnVtYmVycycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCcxLDIzNC41NjgnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndmFsIHwgbnVtYmVyOjAnKSkuZ2V0VGV4dCgpKS50b0JlKCcxLDIzNScpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCctdmFsIHwgbnVtYmVyOjQnKSkuZ2V0VGV4dCgpKS50b0JlKCctMSwyMzQuNTY3OScpO1xyXG4gICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsJykpLmNsZWFyKCk7XHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbCcpKS5zZW5kS2V5cygnMzM3NC4zMzMnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ251bWJlci1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnMywzNzQuMzMzJyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbCB8IG51bWJlcjowJykpLmdldFRleHQoKSkudG9CZSgnMywzNzQnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnLXZhbCB8IG51bWJlcjo0JykpLmdldFRleHQoKSkudG9CZSgnLTMsMzc0LjMzMzAnKTtcclxuICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5udW1iZXJGaWx0ZXIuJGluamVjdCA9IFsnJGxvY2FsZSddO1xyXG5mdW5jdGlvbiBudW1iZXJGaWx0ZXIoJGxvY2FsZSkge1xyXG4gIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUztcclxuICByZXR1cm4gZnVuY3Rpb24obnVtYmVyLCBmcmFjdGlvblNpemUpIHtcclxuXHJcbiAgICAvLyBpZiBudWxsIG9yIHVuZGVmaW5lZCBwYXNzIGl0IHRocm91Z2hcclxuICAgIHJldHVybiAobnVtYmVyID09IG51bGwpXHJcbiAgICAgICAgPyBudW1iZXJcclxuICAgICAgICA6IGZvcm1hdE51bWJlcihudW1iZXIsIGZvcm1hdHMuUEFUVEVSTlNbMF0sIGZvcm1hdHMuR1JPVVBfU0VQLCBmb3JtYXRzLkRFQ0lNQUxfU0VQLFxyXG4gICAgICAgICAgICAgICAgICAgICAgIGZyYWN0aW9uU2l6ZSk7XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcnNlIGEgbnVtYmVyIChhcyBhIHN0cmluZykgaW50byB0aHJlZSBjb21wb25lbnRzIHRoYXQgY2FuIGJlIHVzZWRcclxuICogZm9yIGZvcm1hdHRpbmcgdGhlIG51bWJlci5cclxuICpcclxuICogKFNpZ25pZmljYW50IGJpdHMgb2YgdGhpcyBwYXJzZSBhbGdvcml0aG0gY2FtZSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2JpZy5qcy8pXHJcbiAqXHJcbiAqIEBwYXJhbSAge3N0cmluZ30gbnVtU3RyIFRoZSBudW1iZXIgdG8gcGFyc2VcclxuICogQHJldHVybiB7b2JqZWN0fSBBbiBvYmplY3QgZGVzY3JpYmluZyB0aGlzIG51bWJlciwgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGtleXM6XHJcbiAqICAtIGQgOiBhbiBhcnJheSBvZiBkaWdpdHMgY29udGFpbmluZyBsZWFkaW5nIHplcm9zIGFzIG5lY2Vzc2FyeVxyXG4gKiAgLSBpIDogdGhlIG51bWJlciBvZiB0aGUgZGlnaXRzIGluIGBkYCB0aGF0IGFyZSB0byB0aGUgbGVmdCBvZiB0aGUgZGVjaW1hbCBwb2ludFxyXG4gKiAgLSBlIDogdGhlIGV4cG9uZW50IGZvciBudW1iZXJzIHRoYXQgd291bGQgbmVlZCBtb3JlIHRoYW4gYE1BWF9ESUdJVFNgIGRpZ2l0cyBpbiBgZGBcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlKG51bVN0cikge1xyXG4gIHZhciBleHBvbmVudCA9IDAsIGRpZ2l0cywgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzO1xyXG4gIHZhciBpLCBqLCB6ZXJvcztcclxuXHJcbiAgLy8gRGVjaW1hbCBwb2ludD9cclxuICBpZiAoKG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IG51bVN0ci5pbmRleE9mKERFQ0lNQUxfU0VQKSkgPiAtMSkge1xyXG4gICAgbnVtU3RyID0gbnVtU3RyLnJlcGxhY2UoREVDSU1BTF9TRVAsICcnKTtcclxuICB9XHJcblxyXG4gIC8vIEV4cG9uZW50aWFsIGZvcm0/XHJcbiAgaWYgKChpID0gbnVtU3RyLnNlYXJjaCgvZS9pKSkgPiAwKSB7XHJcbiAgICAvLyBXb3JrIG91dCB0aGUgZXhwb25lbnQuXHJcbiAgICBpZiAobnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIDwgMCkgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gaTtcclxuICAgIG51bWJlck9mSW50ZWdlckRpZ2l0cyArPSArbnVtU3RyLnNsaWNlKGkgKyAxKTtcclxuICAgIG51bVN0ciA9IG51bVN0ci5zdWJzdHJpbmcoMCwgaSk7XHJcbiAgfSBlbHNlIGlmIChudW1iZXJPZkludGVnZXJEaWdpdHMgPCAwKSB7XHJcbiAgICAvLyBUaGVyZSB3YXMgbm8gZGVjaW1hbCBwb2ludCBvciBleHBvbmVudCBzbyBpdCBpcyBhbiBpbnRlZ2VyLlxyXG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gbnVtU3RyLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8vIENvdW50IHRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcy5cclxuICBmb3IgKGkgPSAwOyBudW1TdHIuY2hhckF0KGkpID09IFpFUk9fQ0hBUjsgaSsrKSB7LyoganNoaW50IG5vZW1wdHk6IGZhbHNlICovfVxyXG5cclxuICBpZiAoaSA9PSAoemVyb3MgPSBudW1TdHIubGVuZ3RoKSkge1xyXG4gICAgLy8gVGhlIGRpZ2l0cyBhcmUgYWxsIHplcm8uXHJcbiAgICBkaWdpdHMgPSBbMF07XHJcbiAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgPSAxO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zXHJcbiAgICB6ZXJvcy0tO1xyXG4gICAgd2hpbGUgKG51bVN0ci5jaGFyQXQoemVyb3MpID09IFpFUk9fQ0hBUikgemVyb3MtLTtcclxuXHJcbiAgICAvLyBUcmFpbGluZyB6ZXJvcyBhcmUgaW5zaWduaWZpY2FudCBzbyBpZ25vcmUgdGhlbVxyXG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIC09IGk7XHJcbiAgICBkaWdpdHMgPSBbXTtcclxuICAgIC8vIENvbnZlcnQgc3RyaW5nIHRvIGFycmF5IG9mIGRpZ2l0cyB3aXRob3V0IGxlYWRpbmcvdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKGogPSAwOyBpIDw9IHplcm9zOyBpKyssIGorKykge1xyXG4gICAgICBkaWdpdHNbal0gPSArbnVtU3RyLmNoYXJBdChpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIElmIHRoZSBudW1iZXIgb3ZlcmZsb3dzIHRoZSBtYXhpbXVtIGFsbG93ZWQgZGlnaXRzIHRoZW4gdXNlIGFuIGV4cG9uZW50LlxyXG4gIGlmIChudW1iZXJPZkludGVnZXJEaWdpdHMgPiBNQVhfRElHSVRTKSB7XHJcbiAgICBkaWdpdHMgPSBkaWdpdHMuc3BsaWNlKDAsIE1BWF9ESUdJVFMgLSAxKTtcclxuICAgIGV4cG9uZW50ID0gbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIC0gMTtcclxuICAgIG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IDE7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBkOiBkaWdpdHMsIGU6IGV4cG9uZW50LCBpOiBudW1iZXJPZkludGVnZXJEaWdpdHMgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJvdW5kIHRoZSBwYXJzZWQgbnVtYmVyIHRvIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzXHJcbiAqIFRoaXMgZnVuY3Rpb24gY2hhbmdlZCB0aGUgcGFyc2VkTnVtYmVyIGluLXBsYWNlXHJcbiAqL1xyXG5mdW5jdGlvbiByb3VuZE51bWJlcihwYXJzZWROdW1iZXIsIGZyYWN0aW9uU2l6ZSwgbWluRnJhYywgbWF4RnJhYykge1xyXG4gICAgdmFyIGRpZ2l0cyA9IHBhcnNlZE51bWJlci5kO1xyXG4gICAgdmFyIGZyYWN0aW9uTGVuID0gZGlnaXRzLmxlbmd0aCAtIHBhcnNlZE51bWJlci5pO1xyXG5cclxuICAgIC8vIGRldGVybWluZSBmcmFjdGlvblNpemUgaWYgaXQgaXMgbm90IHNwZWNpZmllZDsgYCtmcmFjdGlvblNpemVgIGNvbnZlcnRzIGl0IHRvIGEgbnVtYmVyXHJcbiAgICBmcmFjdGlvblNpemUgPSAoaXNVbmRlZmluZWQoZnJhY3Rpb25TaXplKSkgPyBNYXRoLm1pbihNYXRoLm1heChtaW5GcmFjLCBmcmFjdGlvbkxlbiksIG1heEZyYWMpIDogK2ZyYWN0aW9uU2l6ZTtcclxuXHJcbiAgICAvLyBUaGUgaW5kZXggb2YgdGhlIGRpZ2l0IHRvIHdoZXJlIHJvdW5kaW5nIGlzIHRvIG9jY3VyXHJcbiAgICB2YXIgcm91bmRBdCA9IGZyYWN0aW9uU2l6ZSArIHBhcnNlZE51bWJlci5pO1xyXG4gICAgdmFyIGRpZ2l0ID0gZGlnaXRzW3JvdW5kQXRdO1xyXG5cclxuICAgIGlmIChyb3VuZEF0ID4gMCkge1xyXG4gICAgICAvLyBEcm9wIGZyYWN0aW9uYWwgZGlnaXRzIGJleW9uZCBgcm91bmRBdGBcclxuICAgICAgZGlnaXRzLnNwbGljZShNYXRoLm1heChwYXJzZWROdW1iZXIuaSwgcm91bmRBdCkpO1xyXG5cclxuICAgICAgLy8gU2V0IG5vbi1mcmFjdGlvbmFsIGRpZ2l0cyBiZXlvbmQgYHJvdW5kQXRgIHRvIDBcclxuICAgICAgZm9yICh2YXIgaiA9IHJvdW5kQXQ7IGogPCBkaWdpdHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBkaWdpdHNbal0gPSAwO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBXZSByb3VuZGVkIHRvIHplcm8gc28gcmVzZXQgdGhlIHBhcnNlZE51bWJlclxyXG4gICAgICBmcmFjdGlvbkxlbiA9IE1hdGgubWF4KDAsIGZyYWN0aW9uTGVuKTtcclxuICAgICAgcGFyc2VkTnVtYmVyLmkgPSAxO1xyXG4gICAgICBkaWdpdHMubGVuZ3RoID0gTWF0aC5tYXgoMSwgcm91bmRBdCA9IGZyYWN0aW9uU2l6ZSArIDEpO1xyXG4gICAgICBkaWdpdHNbMF0gPSAwO1xyXG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHJvdW5kQXQ7IGkrKykgZGlnaXRzW2ldID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZGlnaXQgPj0gNSkge1xyXG4gICAgICBpZiAocm91bmRBdCAtIDEgPCAwKSB7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPiByb3VuZEF0OyBrLS0pIHtcclxuICAgICAgICAgIGRpZ2l0cy51bnNoaWZ0KDApO1xyXG4gICAgICAgICAgcGFyc2VkTnVtYmVyLmkrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgZGlnaXRzLnVuc2hpZnQoMSk7XHJcbiAgICAgICAgcGFyc2VkTnVtYmVyLmkrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkaWdpdHNbcm91bmRBdCAtIDFdKys7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBQYWQgb3V0IHdpdGggemVyb3MgdG8gZ2V0IHRoZSByZXF1aXJlZCBmcmFjdGlvbiBsZW5ndGhcclxuICAgIGZvciAoOyBmcmFjdGlvbkxlbiA8IE1hdGgubWF4KDAsIGZyYWN0aW9uU2l6ZSk7IGZyYWN0aW9uTGVuKyspIGRpZ2l0cy5wdXNoKDApO1xyXG5cclxuXHJcbiAgICAvLyBEbyBhbnkgY2FycnlpbmcsIGUuZy4gYSBkaWdpdCB3YXMgcm91bmRlZCB1cCB0byAxMFxyXG4gICAgdmFyIGNhcnJ5ID0gZGlnaXRzLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKGNhcnJ5LCBkLCBpLCBkaWdpdHMpIHtcclxuICAgICAgZCA9IGQgKyBjYXJyeTtcclxuICAgICAgZGlnaXRzW2ldID0gZCAlIDEwO1xyXG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihkIC8gMTApO1xyXG4gICAgfSwgMCk7XHJcbiAgICBpZiAoY2FycnkpIHtcclxuICAgICAgZGlnaXRzLnVuc2hpZnQoY2FycnkpO1xyXG4gICAgICBwYXJzZWROdW1iZXIuaSsrO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogRm9ybWF0IGEgbnVtYmVyIGludG8gYSBzdHJpbmdcclxuICogQHBhcmFtICB7bnVtYmVyfSBudW1iZXIgICAgICAgVGhlIG51bWJlciB0byBmb3JtYXRcclxuICogQHBhcmFtICB7e1xyXG4gKiAgICAgICAgICAgbWluRnJhYywgLy8gdGhlIG1pbmltdW0gbnVtYmVyIG9mIGRpZ2l0cyByZXF1aXJlZCBpbiB0aGUgZnJhY3Rpb24gcGFydCBvZiB0aGUgbnVtYmVyXHJcbiAqICAgICAgICAgICBtYXhGcmFjLCAvLyB0aGUgbWF4aW11bSBudW1iZXIgb2YgZGlnaXRzIHJlcXVpcmVkIGluIHRoZSBmcmFjdGlvbiBwYXJ0IG9mIHRoZSBudW1iZXJcclxuICogICAgICAgICAgIGdTaXplLCAgIC8vIG51bWJlciBvZiBkaWdpdHMgaW4gZWFjaCBncm91cCBvZiBzZXBhcmF0ZWQgZGlnaXRzXHJcbiAqICAgICAgICAgICBsZ1NpemUsICAvLyBudW1iZXIgb2YgZGlnaXRzIGluIHRoZSBsYXN0IGdyb3VwIG9mIGRpZ2l0cyBiZWZvcmUgdGhlIGRlY2ltYWwgc2VwYXJhdG9yXHJcbiAqICAgICAgICAgICBuZWdQcmUsICAvLyB0aGUgc3RyaW5nIHRvIGdvIGluIGZyb250IG9mIGEgbmVnYXRpdmUgbnVtYmVyIChlLmcuIGAtYCBvciBgKGApKVxyXG4gKiAgICAgICAgICAgcG9zUHJlLCAgLy8gdGhlIHN0cmluZyB0byBnbyBpbiBmcm9udCBvZiBhIHBvc2l0aXZlIG51bWJlclxyXG4gKiAgICAgICAgICAgbmVnU3VmLCAgLy8gdGhlIHN0cmluZyB0byBnbyBhZnRlciBhIG5lZ2F0aXZlIG51bWJlciAoZS5nLiBgKWApXHJcbiAqICAgICAgICAgICBwb3NTdWYgICAvLyB0aGUgc3RyaW5nIHRvIGdvIGFmdGVyIGEgcG9zaXRpdmUgbnVtYmVyXHJcbiAqICAgICAgICAgfX0gcGF0dGVyblxyXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGdyb3VwU2VwICAgICBUaGUgc3RyaW5nIHRvIHNlcGFyYXRlIGdyb3VwcyBvZiBudW1iZXIgKGUuZy4gYCxgKVxyXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGRlY2ltYWxTZXAgICBUaGUgc3RyaW5nIHRvIGFjdCBhcyB0aGUgZGVjaW1hbCBzZXBhcmF0b3IgKGUuZy4gYC5gKVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGZyYWN0aW9uU2l6ZSBUaGUgc2l6ZSBvZiB0aGUgZnJhY3Rpb25hbCBwYXJ0IG9mIHRoZSBudW1iZXJcclxuICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgICAgVGhlIG51bWJlciBmb3JtYXR0ZWQgYXMgYSBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIGZvcm1hdE51bWJlcihudW1iZXIsIHBhdHRlcm4sIGdyb3VwU2VwLCBkZWNpbWFsU2VwLCBmcmFjdGlvblNpemUpIHtcclxuXHJcbiAgaWYgKCEoaXNTdHJpbmcobnVtYmVyKSB8fCBpc051bWJlcihudW1iZXIpKSB8fCBpc05hTihudW1iZXIpKSByZXR1cm4gJyc7XHJcblxyXG4gIHZhciBpc0luZmluaXR5ID0gIWlzRmluaXRlKG51bWJlcik7XHJcbiAgdmFyIGlzWmVybyA9IGZhbHNlO1xyXG4gIHZhciBudW1TdHIgPSBNYXRoLmFicyhudW1iZXIpICsgJycsXHJcbiAgICAgIGZvcm1hdHRlZFRleHQgPSAnJyxcclxuICAgICAgcGFyc2VkTnVtYmVyO1xyXG5cclxuICBpZiAoaXNJbmZpbml0eSkge1xyXG4gICAgZm9ybWF0dGVkVGV4dCA9ICdcXHUyMjFlJztcclxuICB9IGVsc2Uge1xyXG4gICAgcGFyc2VkTnVtYmVyID0gcGFyc2UobnVtU3RyKTtcclxuXHJcbiAgICByb3VuZE51bWJlcihwYXJzZWROdW1iZXIsIGZyYWN0aW9uU2l6ZSwgcGF0dGVybi5taW5GcmFjLCBwYXR0ZXJuLm1heEZyYWMpO1xyXG5cclxuICAgIHZhciBkaWdpdHMgPSBwYXJzZWROdW1iZXIuZDtcclxuICAgIHZhciBpbnRlZ2VyTGVuID0gcGFyc2VkTnVtYmVyLmk7XHJcbiAgICB2YXIgZXhwb25lbnQgPSBwYXJzZWROdW1iZXIuZTtcclxuICAgIHZhciBkZWNpbWFscyA9IFtdO1xyXG4gICAgaXNaZXJvID0gZGlnaXRzLnJlZHVjZShmdW5jdGlvbihpc1plcm8sIGQpIHsgcmV0dXJuIGlzWmVybyAmJiAhZDsgfSwgdHJ1ZSk7XHJcblxyXG4gICAgLy8gcGFkIHplcm9zIGZvciBzbWFsbCBudW1iZXJzXHJcbiAgICB3aGlsZSAoaW50ZWdlckxlbiA8IDApIHtcclxuICAgICAgZGlnaXRzLnVuc2hpZnQoMCk7XHJcbiAgICAgIGludGVnZXJMZW4rKztcclxuICAgIH1cclxuXHJcbiAgICAvLyBleHRyYWN0IGRlY2ltYWxzIGRpZ2l0c1xyXG4gICAgaWYgKGludGVnZXJMZW4gPiAwKSB7XHJcbiAgICAgIGRlY2ltYWxzID0gZGlnaXRzLnNwbGljZShpbnRlZ2VyTGVuKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRlY2ltYWxzID0gZGlnaXRzO1xyXG4gICAgICBkaWdpdHMgPSBbMF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZm9ybWF0IHRoZSBpbnRlZ2VyIGRpZ2l0cyB3aXRoIGdyb3VwaW5nIHNlcGFyYXRvcnNcclxuICAgIHZhciBncm91cHMgPSBbXTtcclxuICAgIGlmIChkaWdpdHMubGVuZ3RoID49IHBhdHRlcm4ubGdTaXplKSB7XHJcbiAgICAgIGdyb3Vwcy51bnNoaWZ0KGRpZ2l0cy5zcGxpY2UoLXBhdHRlcm4ubGdTaXplKS5qb2luKCcnKSk7XHJcbiAgICB9XHJcbiAgICB3aGlsZSAoZGlnaXRzLmxlbmd0aCA+IHBhdHRlcm4uZ1NpemUpIHtcclxuICAgICAgZ3JvdXBzLnVuc2hpZnQoZGlnaXRzLnNwbGljZSgtcGF0dGVybi5nU2l6ZSkuam9pbignJykpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRpZ2l0cy5sZW5ndGgpIHtcclxuICAgICAgZ3JvdXBzLnVuc2hpZnQoZGlnaXRzLmpvaW4oJycpKTtcclxuICAgIH1cclxuICAgIGZvcm1hdHRlZFRleHQgPSBncm91cHMuam9pbihncm91cFNlcCk7XHJcblxyXG4gICAgLy8gYXBwZW5kIHRoZSBkZWNpbWFsIGRpZ2l0c1xyXG4gICAgaWYgKGRlY2ltYWxzLmxlbmd0aCkge1xyXG4gICAgICBmb3JtYXR0ZWRUZXh0ICs9IGRlY2ltYWxTZXAgKyBkZWNpbWFscy5qb2luKCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXhwb25lbnQpIHtcclxuICAgICAgZm9ybWF0dGVkVGV4dCArPSAnZSsnICsgZXhwb25lbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmIChudW1iZXIgPCAwICYmICFpc1plcm8pIHtcclxuICAgIHJldHVybiBwYXR0ZXJuLm5lZ1ByZSArIGZvcm1hdHRlZFRleHQgKyBwYXR0ZXJuLm5lZ1N1ZjtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHBhdHRlcm4ucG9zUHJlICsgZm9ybWF0dGVkVGV4dCArIHBhdHRlcm4ucG9zU3VmO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcGFkTnVtYmVyKG51bSwgZGlnaXRzLCB0cmltLCBuZWdXcmFwKSB7XHJcbiAgdmFyIG5lZyA9ICcnO1xyXG4gIGlmIChudW0gPCAwIHx8IChuZWdXcmFwICYmIG51bSA8PSAwKSkge1xyXG4gICAgaWYgKG5lZ1dyYXApIHtcclxuICAgICAgbnVtID0gLW51bSArIDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBudW0gPSAtbnVtO1xyXG4gICAgICBuZWcgPSAnLSc7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG51bSA9ICcnICsgbnVtO1xyXG4gIHdoaWxlIChudW0ubGVuZ3RoIDwgZGlnaXRzKSBudW0gPSBaRVJPX0NIQVIgKyBudW07XHJcbiAgaWYgKHRyaW0pIHtcclxuICAgIG51bSA9IG51bS5zdWJzdHIobnVtLmxlbmd0aCAtIGRpZ2l0cyk7XHJcbiAgfVxyXG4gIHJldHVybiBuZWcgKyBudW07XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBkYXRlR2V0dGVyKG5hbWUsIHNpemUsIG9mZnNldCwgdHJpbSwgbmVnV3JhcCkge1xyXG4gIG9mZnNldCA9IG9mZnNldCB8fCAwO1xyXG4gIHJldHVybiBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICB2YXIgdmFsdWUgPSBkYXRlWydnZXQnICsgbmFtZV0oKTtcclxuICAgIGlmIChvZmZzZXQgPiAwIHx8IHZhbHVlID4gLW9mZnNldCkge1xyXG4gICAgICB2YWx1ZSArPSBvZmZzZXQ7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPT09IDAgJiYgb2Zmc2V0ID09IC0xMikgdmFsdWUgPSAxMjtcclxuICAgIHJldHVybiBwYWROdW1iZXIodmFsdWUsIHNpemUsIHRyaW0sIG5lZ1dyYXApO1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRhdGVTdHJHZXR0ZXIobmFtZSwgc2hvcnRGb3JtLCBzdGFuZEFsb25lKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdHMpIHtcclxuICAgIHZhciB2YWx1ZSA9IGRhdGVbJ2dldCcgKyBuYW1lXSgpO1xyXG4gICAgdmFyIHByb3BQcmVmaXggPSAoc3RhbmRBbG9uZSA/ICdTVEFOREFMT05FJyA6ICcnKSArIChzaG9ydEZvcm0gPyAnU0hPUlQnIDogJycpO1xyXG4gICAgdmFyIGdldCA9IHVwcGVyY2FzZShwcm9wUHJlZml4ICsgbmFtZSk7XHJcblxyXG4gICAgcmV0dXJuIGZvcm1hdHNbZ2V0XVt2YWx1ZV07XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gdGltZVpvbmVHZXR0ZXIoZGF0ZSwgZm9ybWF0cywgb2Zmc2V0KSB7XHJcbiAgdmFyIHpvbmUgPSAtMSAqIG9mZnNldDtcclxuICB2YXIgcGFkZGVkWm9uZSA9ICh6b25lID49IDApID8gXCIrXCIgOiBcIlwiO1xyXG5cclxuICBwYWRkZWRab25lICs9IHBhZE51bWJlcihNYXRoW3pvbmUgPiAwID8gJ2Zsb29yJyA6ICdjZWlsJ10oem9uZSAvIDYwKSwgMikgK1xyXG4gICAgICAgICAgICAgICAgcGFkTnVtYmVyKE1hdGguYWJzKHpvbmUgJSA2MCksIDIpO1xyXG5cclxuICByZXR1cm4gcGFkZGVkWm9uZTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcih5ZWFyKSB7XHJcbiAgICAvLyAwID0gaW5kZXggb2YgSmFudWFyeVxyXG4gICAgdmFyIGRheU9mV2Vla09uRmlyc3QgPSAobmV3IERhdGUoeWVhciwgMCwgMSkpLmdldERheSgpO1xyXG4gICAgLy8gNCA9IGluZGV4IG9mIFRodXJzZGF5ICgrMSB0byBhY2NvdW50IGZvciAxc3QgPSA1KVxyXG4gICAgLy8gMTEgPSBpbmRleCBvZiAqbmV4dCogVGh1cnNkYXkgKCsxIGFjY291bnQgZm9yIDFzdCA9IDEyKVxyXG4gICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIDAsICgoZGF5T2ZXZWVrT25GaXJzdCA8PSA0KSA/IDUgOiAxMikgLSBkYXlPZldlZWtPbkZpcnN0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRldGltZSkge1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGV0aW1lLmdldEZ1bGxZZWFyKCksIGRhdGV0aW1lLmdldE1vbnRoKCksXHJcbiAgICAgIC8vIDQgPSBpbmRleCBvZiBUaHVyc2RheVxyXG4gICAgICBkYXRldGltZS5nZXREYXRlKCkgKyAoNCAtIGRhdGV0aW1lLmdldERheSgpKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdlZWtHZXR0ZXIoc2l6ZSkge1xyXG4gICByZXR1cm4gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICB2YXIgZmlyc3RUaHVycyA9IGdldEZpcnN0VGh1cnNkYXlPZlllYXIoZGF0ZS5nZXRGdWxsWWVhcigpKSxcclxuICAgICAgICAgdGhpc1RodXJzID0gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRlKTtcclxuXHJcbiAgICAgIHZhciBkaWZmID0gK3RoaXNUaHVycyAtICtmaXJzdFRodXJzLFxyXG4gICAgICAgICByZXN1bHQgPSAxICsgTWF0aC5yb3VuZChkaWZmIC8gNi4wNDhlOCk7IC8vIDYuMDQ4ZTggbXMgcGVyIHdlZWtcclxuXHJcbiAgICAgIHJldHVybiBwYWROdW1iZXIocmVzdWx0LCBzaXplKTtcclxuICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gYW1wbUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XHJcbiAgcmV0dXJuIGRhdGUuZ2V0SG91cnMoKSA8IDEyID8gZm9ybWF0cy5BTVBNU1swXSA6IGZvcm1hdHMuQU1QTVNbMV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVyYUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XHJcbiAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKSA8PSAwID8gZm9ybWF0cy5FUkFTWzBdIDogZm9ybWF0cy5FUkFTWzFdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb25nRXJhR2V0dGVyKGRhdGUsIGZvcm1hdHMpIHtcclxuICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpIDw9IDAgPyBmb3JtYXRzLkVSQU5BTUVTWzBdIDogZm9ybWF0cy5FUkFOQU1FU1sxXTtcclxufVxyXG5cclxudmFyIERBVEVfRk9STUFUUyA9IHtcclxuICB5eXl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDQsIDAsIGZhbHNlLCB0cnVlKSxcclxuICAgIHl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDIsIDAsIHRydWUsIHRydWUpLFxyXG4gICAgIHk6IGRhdGVHZXR0ZXIoJ0Z1bGxZZWFyJywgMSwgMCwgZmFsc2UsIHRydWUpLFxyXG4gIE1NTU06IGRhdGVTdHJHZXR0ZXIoJ01vbnRoJyksXHJcbiAgIE1NTTogZGF0ZVN0ckdldHRlcignTW9udGgnLCB0cnVlKSxcclxuICAgIE1NOiBkYXRlR2V0dGVyKCdNb250aCcsIDIsIDEpLFxyXG4gICAgIE06IGRhdGVHZXR0ZXIoJ01vbnRoJywgMSwgMSksXHJcbiAgTExMTDogZGF0ZVN0ckdldHRlcignTW9udGgnLCBmYWxzZSwgdHJ1ZSksXHJcbiAgICBkZDogZGF0ZUdldHRlcignRGF0ZScsIDIpLFxyXG4gICAgIGQ6IGRhdGVHZXR0ZXIoJ0RhdGUnLCAxKSxcclxuICAgIEhIOiBkYXRlR2V0dGVyKCdIb3VycycsIDIpLFxyXG4gICAgIEg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMSksXHJcbiAgICBoaDogZGF0ZUdldHRlcignSG91cnMnLCAyLCAtMTIpLFxyXG4gICAgIGg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMSwgLTEyKSxcclxuICAgIG1tOiBkYXRlR2V0dGVyKCdNaW51dGVzJywgMiksXHJcbiAgICAgbTogZGF0ZUdldHRlcignTWludXRlcycsIDEpLFxyXG4gICAgc3M6IGRhdGVHZXR0ZXIoJ1NlY29uZHMnLCAyKSxcclxuICAgICBzOiBkYXRlR2V0dGVyKCdTZWNvbmRzJywgMSksXHJcbiAgICAgLy8gd2hpbGUgSVNPIDg2MDEgcmVxdWlyZXMgZnJhY3Rpb25zIHRvIGJlIHByZWZpeGVkIHdpdGggYC5gIG9yIGAsYFxyXG4gICAgIC8vIHdlIGNhbiBiZSBqdXN0IHNhZmVseSByZWx5IG9uIHVzaW5nIGBzc3NgIHNpbmNlIHdlIGN1cnJlbnRseSBkb24ndCBzdXBwb3J0IHNpbmdsZSBvciB0d28gZGlnaXQgZnJhY3Rpb25zXHJcbiAgIHNzczogZGF0ZUdldHRlcignTWlsbGlzZWNvbmRzJywgMyksXHJcbiAgRUVFRTogZGF0ZVN0ckdldHRlcignRGF5JyksXHJcbiAgIEVFRTogZGF0ZVN0ckdldHRlcignRGF5JywgdHJ1ZSksXHJcbiAgICAgYTogYW1wbUdldHRlcixcclxuICAgICBaOiB0aW1lWm9uZUdldHRlcixcclxuICAgIHd3OiB3ZWVrR2V0dGVyKDIpLFxyXG4gICAgIHc6IHdlZWtHZXR0ZXIoMSksXHJcbiAgICAgRzogZXJhR2V0dGVyLFxyXG4gICAgIEdHOiBlcmFHZXR0ZXIsXHJcbiAgICAgR0dHOiBlcmFHZXR0ZXIsXHJcbiAgICAgR0dHRzogbG9uZ0VyYUdldHRlclxyXG59O1xyXG5cclxudmFyIERBVEVfRk9STUFUU19TUExJVCA9IC8oKD86W155TUxkSGhtc2FaRXdHJ10rKXwoPzonKD86W14nXXwnJykqJyl8KD86RSt8eSt8TSt8TCt8ZCt8SCt8aCt8bSt8cyt8YXxafEcrfHcrKSkoLiopLyxcclxuICAgIE5VTUJFUl9TVFJJTkcgPSAvXlxcLT9cXGQrJC87XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZpbHRlclxyXG4gKiBAbmFtZSBkYXRlXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiAgIEZvcm1hdHMgYGRhdGVgIHRvIGEgc3RyaW5nIGJhc2VkIG9uIHRoZSByZXF1ZXN0ZWQgYGZvcm1hdGAuXHJcbiAqXHJcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGVsZW1lbnRzOlxyXG4gKlxyXG4gKiAgICogYCd5eXl5J2A6IDQgZGlnaXQgcmVwcmVzZW50YXRpb24gb2YgeWVhciAoZS5nLiBBRCAxID0+IDAwMDEsIEFEIDIwMTAgPT4gMjAxMClcclxuICogICAqIGAneXknYDogMiBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBwYWRkZWQgKDAwLTk5KS4gKGUuZy4gQUQgMjAwMSA9PiAwMSwgQUQgMjAxMCA9PiAxMClcclxuICogICAqIGAneSdgOiAxIGRpZ2l0IHJlcHJlc2VudGF0aW9uIG9mIHllYXIsIGUuZy4gKEFEIDEgPT4gMSwgQUQgMTk5ID0+IDE5OSlcclxuICogICAqIGAnTU1NTSdgOiBNb250aCBpbiB5ZWFyIChKYW51YXJ5LURlY2VtYmVyKVxyXG4gKiAgICogYCdNTU0nYDogTW9udGggaW4geWVhciAoSmFuLURlYylcclxuICogICAqIGAnTU0nYDogTW9udGggaW4geWVhciwgcGFkZGVkICgwMS0xMilcclxuICogICAqIGAnTSdgOiBNb250aCBpbiB5ZWFyICgxLTEyKVxyXG4gKiAgICogYCdMTExMJ2A6IFN0YW5kLWFsb25lIG1vbnRoIGluIHllYXIgKEphbnVhcnktRGVjZW1iZXIpXHJcbiAqICAgKiBgJ2RkJ2A6IERheSBpbiBtb250aCwgcGFkZGVkICgwMS0zMSlcclxuICogICAqIGAnZCdgOiBEYXkgaW4gbW9udGggKDEtMzEpXHJcbiAqICAgKiBgJ0VFRUUnYDogRGF5IGluIFdlZWssKFN1bmRheS1TYXR1cmRheSlcclxuICogICAqIGAnRUVFJ2A6IERheSBpbiBXZWVrLCAoU3VuLVNhdClcclxuICogICAqIGAnSEgnYDogSG91ciBpbiBkYXksIHBhZGRlZCAoMDAtMjMpXHJcbiAqICAgKiBgJ0gnYDogSG91ciBpbiBkYXkgKDAtMjMpXHJcbiAqICAgKiBgJ2hoJ2A6IEhvdXIgaW4gQU0vUE0sIHBhZGRlZCAoMDEtMTIpXHJcbiAqICAgKiBgJ2gnYDogSG91ciBpbiBBTS9QTSwgKDEtMTIpXHJcbiAqICAgKiBgJ21tJ2A6IE1pbnV0ZSBpbiBob3VyLCBwYWRkZWQgKDAwLTU5KVxyXG4gKiAgICogYCdtJ2A6IE1pbnV0ZSBpbiBob3VyICgwLTU5KVxyXG4gKiAgICogYCdzcydgOiBTZWNvbmQgaW4gbWludXRlLCBwYWRkZWQgKDAwLTU5KVxyXG4gKiAgICogYCdzJ2A6IFNlY29uZCBpbiBtaW51dGUgKDAtNTkpXHJcbiAqICAgKiBgJ3NzcydgOiBNaWxsaXNlY29uZCBpbiBzZWNvbmQsIHBhZGRlZCAoMDAwLTk5OSlcclxuICogICAqIGAnYSdgOiBBTS9QTSBtYXJrZXJcclxuICogICAqIGAnWidgOiA0IGRpZ2l0ICgrc2lnbikgcmVwcmVzZW50YXRpb24gb2YgdGhlIHRpbWV6b25lIG9mZnNldCAoLTEyMDAtKzEyMDApXHJcbiAqICAgKiBgJ3d3J2A6IFdlZWsgb2YgeWVhciwgcGFkZGVkICgwMC01MykuIFdlZWsgMDEgaXMgdGhlIHdlZWsgd2l0aCB0aGUgZmlyc3QgVGh1cnNkYXkgb2YgdGhlIHllYXJcclxuICogICAqIGAndydgOiBXZWVrIG9mIHllYXIgKDAtNTMpLiBXZWVrIDEgaXMgdGhlIHdlZWsgd2l0aCB0aGUgZmlyc3QgVGh1cnNkYXkgb2YgdGhlIHllYXJcclxuICogICAqIGAnRydgLCBgJ0dHJ2AsIGAnR0dHJ2A6IFRoZSBhYmJyZXZpYXRlZCBmb3JtIG9mIHRoZSBlcmEgc3RyaW5nIChlLmcuICdBRCcpXHJcbiAqICAgKiBgJ0dHR0cnYDogVGhlIGxvbmcgZm9ybSBvZiB0aGUgZXJhIHN0cmluZyAoZS5nLiAnQW5ubyBEb21pbmknKVxyXG4gKlxyXG4gKiAgIGBmb3JtYXRgIHN0cmluZyBjYW4gYWxzbyBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBwcmVkZWZpbmVkXHJcbiAqICAge0BsaW5rIGd1aWRlL2kxOG4gbG9jYWxpemFibGUgZm9ybWF0c306XHJcbiAqXHJcbiAqICAgKiBgJ21lZGl1bSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NIGQsIHkgaDptbTpzcyBhJ2AgZm9yIGVuX1VTIGxvY2FsZVxyXG4gKiAgICAgKGUuZy4gU2VwIDMsIDIwMTAgMTI6MDU6MDggUE0pXHJcbiAqICAgKiBgJ3Nob3J0J2A6IGVxdWl2YWxlbnQgdG8gYCdNL2QveXkgaDptbSBhJ2AgZm9yIGVuX1VTICBsb2NhbGUgKGUuZy4gOS8zLzEwIDEyOjA1IFBNKVxyXG4gKiAgICogYCdmdWxsRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnRUVFRSwgTU1NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGVcclxuICogICAgIChlLmcuIEZyaWRheSwgU2VwdGVtYmVyIDMsIDIwMTApXHJcbiAqICAgKiBgJ2xvbmdEYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiBTZXB0ZW1iZXIgMywgMjAxMClcclxuICogICAqIGAnbWVkaXVtRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiBTZXAgMywgMjAxMClcclxuICogICAqIGAnc2hvcnREYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNL2QveXknYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDkvMy8xMClcclxuICogICAqIGAnbWVkaXVtVGltZSdgOiBlcXVpdmFsZW50IHRvIGAnaDptbTpzcyBhJ2AgZm9yIGVuX1VTIGxvY2FsZSAoZS5nLiAxMjowNTowOCBQTSlcclxuICogICAqIGAnc2hvcnRUaW1lJ2A6IGVxdWl2YWxlbnQgdG8gYCdoOm1tIGEnYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDEyOjA1IFBNKVxyXG4gKlxyXG4gKiAgIGBmb3JtYXRgIHN0cmluZyBjYW4gY29udGFpbiBsaXRlcmFsIHZhbHVlcy4gVGhlc2UgbmVlZCB0byBiZSBlc2NhcGVkIGJ5IHN1cnJvdW5kaW5nIHdpdGggc2luZ2xlIHF1b3RlcyAoZS5nLlxyXG4gKiAgIGBcImggJ2luIHRoZSBtb3JuaW5nJ1wiYCkuIEluIG9yZGVyIHRvIG91dHB1dCBhIHNpbmdsZSBxdW90ZSwgZXNjYXBlIGl0IC0gaS5lLiwgdHdvIHNpbmdsZSBxdW90ZXMgaW4gYSBzZXF1ZW5jZVxyXG4gKiAgIChlLmcuIGBcImggJ28nJ2Nsb2NrJ1wiYCkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7KERhdGV8bnVtYmVyfHN0cmluZyl9IGRhdGUgRGF0ZSB0byBmb3JtYXQgZWl0aGVyIGFzIERhdGUgb2JqZWN0LCBtaWxsaXNlY29uZHMgKHN0cmluZyBvclxyXG4gKiAgICBudW1iZXIpIG9yIHZhcmlvdXMgSVNPIDg2MDEgZGF0ZXRpbWUgc3RyaW5nIGZvcm1hdHMgKGUuZy4geXl5eS1NTS1kZFRISDptbTpzcy5zc3NaIGFuZCBpdHNcclxuICogICAgc2hvcnRlciB2ZXJzaW9ucyBsaWtlIHl5eXktTU0tZGRUSEg6bW1aLCB5eXl5LU1NLWRkIG9yIHl5eXlNTWRkVEhIbW1zc1opLiBJZiBubyB0aW1lem9uZSBpc1xyXG4gKiAgICBzcGVjaWZpZWQgaW4gdGhlIHN0cmluZyBpbnB1dCwgdGhlIHRpbWUgaXMgY29uc2lkZXJlZCB0byBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gZm9ybWF0IEZvcm1hdHRpbmcgcnVsZXMgKHNlZSBEZXNjcmlwdGlvbikuIElmIG5vdCBzcGVjaWZpZWQsXHJcbiAqICAgIGBtZWRpdW1EYXRlYCBpcyB1c2VkLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IHRpbWV6b25lIFRpbWV6b25lIHRvIGJlIHVzZWQgZm9yIGZvcm1hdHRpbmcuIEl0IHVuZGVyc3RhbmRzIFVUQy9HTVQgYW5kIHRoZVxyXG4gKiAgICBjb250aW5lbnRhbCBVUyB0aW1lIHpvbmUgYWJicmV2aWF0aW9ucywgYnV0IGZvciBnZW5lcmFsIHVzZSwgdXNlIGEgdGltZSB6b25lIG9mZnNldCwgZm9yXHJcbiAqICAgIGV4YW1wbGUsIGAnKzA0MzAnYCAoNCBob3VycywgMzAgbWludXRlcyBlYXN0IG9mIHRoZSBHcmVlbndpY2ggbWVyaWRpYW4pXHJcbiAqICAgIElmIG5vdCBzcGVjaWZpZWQsIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3NlciB3aWxsIGJlIHVzZWQuXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcgb3IgdGhlIGlucHV0IGlmIGlucHV0IGlzIG5vdCByZWNvZ25pemVkIGFzIGRhdGUvbWlsbGlzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSd9fTwvc3Bhbj46XHJcbiAgICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjxicj5cclxuICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOid5eXl5LU1NLWRkIEhIOm1tOnNzIFonfX08L3NwYW4+OlxyXG4gICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ319PC9zcGFuPjxicj5cclxuICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnfX08L3NwYW4+OlxyXG4gICAgICAgICAgPHNwYW4+e3snMTI4ODMyMzYyMzAwNicgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnfX08L3NwYW4+PGJyPlxyXG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6XCJNTS9kZC95eXl5ICdhdCcgaDptbWFcIn19PC9zcGFuPjpcclxuICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+PGJyPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBkYXRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCIxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ1wiKSkuZ2V0VGV4dCgpKS5cclxuICAgICAgICAgICAgdG9NYXRjaCgvT2N0IDJcXGQsIDIwMTAgXFxkezEsMn06XFxkezJ9OlxcZHsyfSAoQU18UE0pLyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCIxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ1wiKSkuZ2V0VGV4dCgpKS5cclxuICAgICAgICAgICAgdG9NYXRjaCgvMjAxMFxcLTEwXFwtMlxcZCBcXGR7Mn06XFxkezJ9OlxcZHsyfSAoXFwtfFxcKyk/XFxkezR9Lyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCInMTI4ODMyMzYyMzAwNicgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnXCIpKS5nZXRUZXh0KCkpLlxyXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIEAgXFxkezEsMn06XFxkezJ9KEFNfFBNKS8pO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKFwiJzEyODgzMjM2MjMwMDYnIHwgZGF0ZTpcXFwiTU0vZGQveXl5eSAnYXQnIGg6bW1hXFxcIlwiKSkuZ2V0VGV4dCgpKS5cclxuICAgICAgICAgICAgdG9NYXRjaCgvMTBcXC8yXFxkXFwvMjAxMCBhdCBcXGR7MSwyfTpcXGR7Mn0oQU18UE0pLyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbmRhdGVGaWx0ZXIuJGluamVjdCA9IFsnJGxvY2FsZSddO1xyXG5mdW5jdGlvbiBkYXRlRmlsdGVyKCRsb2NhbGUpIHtcclxuXHJcblxyXG4gIHZhciBSX0lTTzg2MDFfU1RSID0gL14oXFxkezR9KS0/KFxcZFxcZCktPyhcXGRcXGQpKD86VChcXGRcXGQpKD86Oj8oXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzpcXC4oXFxkKykpPyk/KT8oWnwoWystXSkoXFxkXFxkKTo/KFxcZFxcZCkpPyk/JC87XHJcbiAgICAgICAgICAgICAgICAgICAgIC8vIDEgICAgICAgIDIgICAgICAgMyAgICAgICAgIDQgICAgICAgICAgNSAgICAgICAgICA2ICAgICAgICAgIDcgICAgICAgICAgOCAgOSAgICAgMTAgICAgICAxMVxyXG4gIGZ1bmN0aW9uIGpzb25TdHJpbmdUb0RhdGUoc3RyaW5nKSB7XHJcbiAgICB2YXIgbWF0Y2g7XHJcbiAgICBpZiAobWF0Y2ggPSBzdHJpbmcubWF0Y2goUl9JU084NjAxX1NUUikpIHtcclxuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgwKSxcclxuICAgICAgICAgIHR6SG91ciA9IDAsXHJcbiAgICAgICAgICB0ek1pbiAgPSAwLFxyXG4gICAgICAgICAgZGF0ZVNldHRlciA9IG1hdGNoWzhdID8gZGF0ZS5zZXRVVENGdWxsWWVhciA6IGRhdGUuc2V0RnVsbFllYXIsXHJcbiAgICAgICAgICB0aW1lU2V0dGVyID0gbWF0Y2hbOF0gPyBkYXRlLnNldFVUQ0hvdXJzIDogZGF0ZS5zZXRIb3VycztcclxuXHJcbiAgICAgIGlmIChtYXRjaFs5XSkge1xyXG4gICAgICAgIHR6SG91ciA9IHRvSW50KG1hdGNoWzldICsgbWF0Y2hbMTBdKTtcclxuICAgICAgICB0ek1pbiA9IHRvSW50KG1hdGNoWzldICsgbWF0Y2hbMTFdKTtcclxuICAgICAgfVxyXG4gICAgICBkYXRlU2V0dGVyLmNhbGwoZGF0ZSwgdG9JbnQobWF0Y2hbMV0pLCB0b0ludChtYXRjaFsyXSkgLSAxLCB0b0ludChtYXRjaFszXSkpO1xyXG4gICAgICB2YXIgaCA9IHRvSW50KG1hdGNoWzRdIHx8IDApIC0gdHpIb3VyO1xyXG4gICAgICB2YXIgbSA9IHRvSW50KG1hdGNoWzVdIHx8IDApIC0gdHpNaW47XHJcbiAgICAgIHZhciBzID0gdG9JbnQobWF0Y2hbNl0gfHwgMCk7XHJcbiAgICAgIHZhciBtcyA9IE1hdGgucm91bmQocGFyc2VGbG9hdCgnMC4nICsgKG1hdGNoWzddIHx8IDApKSAqIDEwMDApO1xyXG4gICAgICB0aW1lU2V0dGVyLmNhbGwoZGF0ZSwgaCwgbSwgcywgbXMpO1xyXG4gICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdHJpbmc7XHJcbiAgfVxyXG5cclxuXHJcbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCwgdGltZXpvbmUpIHtcclxuICAgIHZhciB0ZXh0ID0gJycsXHJcbiAgICAgICAgcGFydHMgPSBbXSxcclxuICAgICAgICBmbiwgbWF0Y2g7XHJcblxyXG4gICAgZm9ybWF0ID0gZm9ybWF0IHx8ICdtZWRpdW1EYXRlJztcclxuICAgIGZvcm1hdCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUU1tmb3JtYXRdIHx8IGZvcm1hdDtcclxuICAgIGlmIChpc1N0cmluZyhkYXRlKSkge1xyXG4gICAgICBkYXRlID0gTlVNQkVSX1NUUklORy50ZXN0KGRhdGUpID8gdG9JbnQoZGF0ZSkgOiBqc29uU3RyaW5nVG9EYXRlKGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc051bWJlcihkYXRlKSkge1xyXG4gICAgICBkYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0RhdGUoZGF0ZSkgfHwgIWlzRmluaXRlKGRhdGUuZ2V0VGltZSgpKSkge1xyXG4gICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICB3aGlsZSAoZm9ybWF0KSB7XHJcbiAgICAgIG1hdGNoID0gREFURV9GT1JNQVRTX1NQTElULmV4ZWMoZm9ybWF0KTtcclxuICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgcGFydHMgPSBjb25jYXQocGFydHMsIG1hdGNoLCAxKTtcclxuICAgICAgICBmb3JtYXQgPSBwYXJ0cy5wb3AoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYXJ0cy5wdXNoKGZvcm1hdCk7XHJcbiAgICAgICAgZm9ybWF0ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBkYXRlVGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICBpZiAodGltZXpvbmUpIHtcclxuICAgICAgZGF0ZVRpbWV6b25lT2Zmc2V0ID0gdGltZXpvbmVUb09mZnNldCh0aW1lem9uZSwgZGF0ZVRpbWV6b25lT2Zmc2V0KTtcclxuICAgICAgZGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwoZGF0ZSwgdGltZXpvbmUsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgZm9yRWFjaChwYXJ0cywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgZm4gPSBEQVRFX0ZPUk1BVFNbdmFsdWVdO1xyXG4gICAgICB0ZXh0ICs9IGZuID8gZm4oZGF0ZSwgJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLCBkYXRlVGltZXpvbmVPZmZzZXQpXHJcbiAgICAgICAgICAgICAgICAgOiB2YWx1ZSA9PT0gXCInJ1wiID8gXCInXCIgOiB2YWx1ZS5yZXBsYWNlKC8oXid8JyQpL2csICcnKS5yZXBsYWNlKC8nJy9nLCBcIidcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGV4dDtcclxuICB9O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmaWx0ZXJcclxuICogQG5hbWUganNvblxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogICBBbGxvd3MgeW91IHRvIGNvbnZlcnQgYSBKYXZhU2NyaXB0IG9iamVjdCBpbnRvIEpTT04gc3RyaW5nLlxyXG4gKlxyXG4gKiAgIFRoaXMgZmlsdGVyIGlzIG1vc3RseSB1c2VmdWwgZm9yIGRlYnVnZ2luZy4gV2hlbiB1c2luZyB0aGUgZG91YmxlIGN1cmx5IHt7dmFsdWV9fSBub3RhdGlvblxyXG4gKiAgIHRoZSBiaW5kaW5nIGlzIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIEpTT04uXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IEFueSBKYXZhU2NyaXB0IG9iamVjdCAoaW5jbHVkaW5nIGFycmF5cyBhbmQgcHJpbWl0aXZlIHR5cGVzKSB0byBmaWx0ZXIuXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gc3BhY2luZyBUaGUgbnVtYmVyIG9mIHNwYWNlcyB0byB1c2UgcGVyIGluZGVudGF0aW9uLCBkZWZhdWx0cyB0byAyLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBKU09OIHN0cmluZy5cclxuICpcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxwcmUgaWQ9XCJkZWZhdWx0LXNwYWNpbmdcIj57eyB7J25hbWUnOid2YWx1ZSd9IHwganNvbiB9fTwvcHJlPlxyXG4gICAgICAgPHByZSBpZD1cImN1c3RvbS1zcGFjaW5nXCI+e3sgeyduYW1lJzondmFsdWUnfSB8IGpzb246NCB9fTwvcHJlPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGpzb25pZnkgZmlsdGVyZWQgb2JqZWN0cycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZGVmYXVsdC1zcGFjaW5nJykpLmdldFRleHQoKSkudG9NYXRjaCgvXFx7XFxuICBcIm5hbWVcIjogP1widmFsdWVcIlxcbn0vKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1c3RvbS1zcGFjaW5nJykpLmdldFRleHQoKSkudG9NYXRjaCgvXFx7XFxuICAgIFwibmFtZVwiOiA/XCJ2YWx1ZVwiXFxufS8pO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBqc29uRmlsdGVyKCkge1xyXG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QsIHNwYWNpbmcpIHtcclxuICAgIGlmIChpc1VuZGVmaW5lZChzcGFjaW5nKSkge1xyXG4gICAgICAgIHNwYWNpbmcgPSAyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvSnNvbihvYmplY3QsIHNwYWNpbmcpO1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZpbHRlclxyXG4gKiBAbmFtZSBsb3dlcmNhc2VcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIENvbnZlcnRzIHN0cmluZyB0byBsb3dlcmNhc2UuXHJcbiAqIEBzZWUgYW5ndWxhci5sb3dlcmNhc2VcclxuICovXHJcbnZhciBsb3dlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKGxvd2VyY2FzZSk7XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmaWx0ZXJcclxuICogQG5hbWUgdXBwZXJjYXNlXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBDb252ZXJ0cyBzdHJpbmcgdG8gdXBwZXJjYXNlLlxyXG4gKiBAc2VlIGFuZ3VsYXIudXBwZXJjYXNlXHJcbiAqL1xyXG52YXIgdXBwZXJjYXNlRmlsdGVyID0gdmFsdWVGbih1cHBlcmNhc2UpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmaWx0ZXJcclxuICogQG5hbWUgbGltaXRUb1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ3JlYXRlcyBhIG5ldyBhcnJheSBvciBzdHJpbmcgY29udGFpbmluZyBvbmx5IGEgc3BlY2lmaWVkIG51bWJlciBvZiBlbGVtZW50cy4gVGhlIGVsZW1lbnRzXHJcbiAqIGFyZSB0YWtlbiBmcm9tIGVpdGhlciB0aGUgYmVnaW5uaW5nIG9yIHRoZSBlbmQgb2YgdGhlIHNvdXJjZSBhcnJheSwgc3RyaW5nIG9yIG51bWJlciwgYXMgc3BlY2lmaWVkIGJ5XHJcbiAqIHRoZSB2YWx1ZSBhbmQgc2lnbiAocG9zaXRpdmUgb3IgbmVnYXRpdmUpIG9mIGBsaW1pdGAuIElmIGEgbnVtYmVyIGlzIHVzZWQgYXMgaW5wdXQsIGl0IGlzXHJcbiAqIGNvbnZlcnRlZCB0byBhIHN0cmluZy5cclxuICpcclxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd8bnVtYmVyfSBpbnB1dCBTb3VyY2UgYXJyYXksIHN0cmluZyBvciBudW1iZXIgdG8gYmUgbGltaXRlZC5cclxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBsaW1pdCBUaGUgbGVuZ3RoIG9mIHRoZSByZXR1cm5lZCBhcnJheSBvciBzdHJpbmcuIElmIHRoZSBgbGltaXRgIG51bWJlclxyXG4gKiAgICAgaXMgcG9zaXRpdmUsIGBsaW1pdGAgbnVtYmVyIG9mIGl0ZW1zIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgc291cmNlIGFycmF5L3N0cmluZyBhcmUgY29waWVkLlxyXG4gKiAgICAgSWYgdGhlIG51bWJlciBpcyBuZWdhdGl2ZSwgYGxpbWl0YCBudW1iZXIgIG9mIGl0ZW1zIGZyb20gdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5L3N0cmluZ1xyXG4gKiAgICAgYXJlIGNvcGllZC4gVGhlIGBsaW1pdGAgd2lsbCBiZSB0cmltbWVkIGlmIGl0IGV4Y2VlZHMgYGFycmF5Lmxlbmd0aGAuIElmIGBsaW1pdGAgaXMgdW5kZWZpbmVkLFxyXG4gKiAgICAgdGhlIGlucHV0IHdpbGwgYmUgcmV0dXJuZWQgdW5jaGFuZ2VkLlxyXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKT19IGJlZ2luIEluZGV4IGF0IHdoaWNoIHRvIGJlZ2luIGxpbWl0YXRpb24uIEFzIGEgbmVnYXRpdmUgaW5kZXgsIGBiZWdpbmBcclxuICogICAgIGluZGljYXRlcyBhbiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBpbnB1dGAuIERlZmF1bHRzIHRvIGAwYC5cclxuICogQHJldHVybnMge0FycmF5fHN0cmluZ30gQSBuZXcgc3ViLWFycmF5IG9yIHN1YnN0cmluZyBvZiBsZW5ndGggYGxpbWl0YCBvciBsZXNzIGlmIGlucHV0IGFycmF5XHJcbiAqICAgICBoYWQgbGVzcyB0aGFuIGBsaW1pdGAgZWxlbWVudHMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImxpbWl0VG9FeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsaW1pdFRvRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUubnVtYmVycyA9IFsxLDIsMyw0LDUsNiw3LDgsOV07XHJcbiAgICAgICAgICAgICAkc2NvcGUubGV0dGVycyA9IFwiYWJjZGVmZ2hpXCI7XHJcbiAgICAgICAgICAgICAkc2NvcGUubG9uZ051bWJlciA9IDIzNDU0MzIzNDI7XHJcbiAgICAgICAgICAgICAkc2NvcGUubnVtTGltaXQgPSAzO1xyXG4gICAgICAgICAgICAgJHNjb3BlLmxldHRlckxpbWl0ID0gMztcclxuICAgICAgICAgICAgICRzY29wZS5sb25nTnVtYmVyTGltaXQgPSAzO1xyXG4gICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICBMaW1pdCB7e251bWJlcnN9fSB0bzpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibnVtTGltaXRcIj5cclxuICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgPHA+T3V0cHV0IG51bWJlcnM6IHt7IG51bWJlcnMgfCBsaW1pdFRvOm51bUxpbWl0IH19PC9wPlxyXG4gICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgIExpbWl0IHt7bGV0dGVyc319IHRvOlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbmctbW9kZWw9XCJsZXR0ZXJMaW1pdFwiPlxyXG4gICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICA8cD5PdXRwdXQgbGV0dGVyczoge3sgbGV0dGVycyB8IGxpbWl0VG86bGV0dGVyTGltaXQgfX08L3A+XHJcbiAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICAgTGltaXQge3tsb25nTnVtYmVyfX0gdG86XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuZy1tb2RlbD1cImxvbmdOdW1iZXJMaW1pdFwiPlxyXG4gICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICA8cD5PdXRwdXQgbG9uZyBudW1iZXI6IHt7IGxvbmdOdW1iZXIgfCBsaW1pdFRvOmxvbmdOdW1iZXJMaW1pdCB9fTwvcD5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICB2YXIgbnVtTGltaXRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ251bUxpbWl0JykpO1xyXG4gICAgICAgdmFyIGxldHRlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsZXR0ZXJMaW1pdCcpKTtcclxuICAgICAgIHZhciBsb25nTnVtYmVyTGltaXRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2xvbmdOdW1iZXJMaW1pdCcpKTtcclxuICAgICAgIHZhciBsaW1pdGVkTnVtYmVycyA9IGVsZW1lbnQoYnkuYmluZGluZygnbnVtYmVycyB8IGxpbWl0VG86bnVtTGltaXQnKSk7XHJcbiAgICAgICB2YXIgbGltaXRlZExldHRlcnMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0JykpO1xyXG4gICAgICAgdmFyIGxpbWl0ZWRMb25nTnVtYmVyID0gZWxlbWVudChieS5iaW5kaW5nKCdsb25nTnVtYmVyIHwgbGltaXRUbzpsb25nTnVtYmVyTGltaXQnKSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCBsaW1pdCB0aGUgbnVtYmVyIGFycmF5IHRvIGZpcnN0IHRocmVlIGl0ZW1zJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChudW1MaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xyXG4gICAgICAgICBleHBlY3QobGV0dGVyTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTtcclxuICAgICAgICAgZXhwZWN0KGxvbmdOdW1iZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xyXG4gICAgICAgICBleHBlY3QobGltaXRlZE51bWJlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbnVtYmVyczogWzEsMiwzXScpO1xyXG4gICAgICAgICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogYWJjJyk7XHJcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0Jyk7XHJcbiAgICAgICB9KTtcclxuXHJcbiAgICAgICAvLyBUaGVyZSBpcyBhIGJ1ZyBpbiBzYWZhcmkgYW5kIHByb3RyYWN0b3IgdGhhdCBkb2Vzbid0IGxpa2UgdGhlIG1pbnVzIGtleVxyXG4gICAgICAgLy8gaXQoJ3Nob3VsZCB1cGRhdGUgdGhlIG91dHB1dCB3aGVuIC0zIGlzIGVudGVyZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgIC8vICAgbnVtTGltaXRJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xyXG4gICAgICAgLy8gICBsZXR0ZXJMaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAvLyAgIGxldHRlckxpbWl0SW5wdXQuc2VuZEtleXMoJy0zJyk7XHJcbiAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xyXG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZE51bWJlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbnVtYmVyczogWzcsOCw5XScpO1xyXG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogZ2hpJyk7XHJcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMzQyJyk7XHJcbiAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIG5vdCBleGNlZWQgdGhlIG1heGltdW0gc2l6ZSBvZiBpbnB1dCBhcnJheScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBudW1MaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xyXG4gICAgICAgICBsZXR0ZXJMaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgIGxldHRlckxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xyXG4gICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XHJcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbMSwyLDMsNCw1LDYsNyw4LDldJyk7XHJcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmNkZWZnaGknKTtcclxuICAgICAgICAgZXhwZWN0KGxpbWl0ZWRMb25nTnVtYmVyLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxvbmcgbnVtYmVyOiAyMzQ1NDMyMzQyJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuKi9cclxuZnVuY3Rpb24gbGltaXRUb0ZpbHRlcigpIHtcclxuICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIGxpbWl0LCBiZWdpbikge1xyXG4gICAgaWYgKE1hdGguYWJzKE51bWJlcihsaW1pdCkpID09PSBJbmZpbml0eSkge1xyXG4gICAgICBsaW1pdCA9IE51bWJlcihsaW1pdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsaW1pdCA9IHRvSW50KGxpbWl0KTtcclxuICAgIH1cclxuICAgIGlmIChpc05hTihsaW1pdCkpIHJldHVybiBpbnB1dDtcclxuXHJcbiAgICBpZiAoaXNOdW1iZXIoaW5wdXQpKSBpbnB1dCA9IGlucHV0LnRvU3RyaW5nKCk7XHJcbiAgICBpZiAoIWlzQXJyYXkoaW5wdXQpICYmICFpc1N0cmluZyhpbnB1dCkpIHJldHVybiBpbnB1dDtcclxuXHJcbiAgICBiZWdpbiA9ICghYmVnaW4gfHwgaXNOYU4oYmVnaW4pKSA/IDAgOiB0b0ludChiZWdpbik7XHJcbiAgICBiZWdpbiA9IChiZWdpbiA8IDApID8gTWF0aC5tYXgoMCwgaW5wdXQubGVuZ3RoICsgYmVnaW4pIDogYmVnaW47XHJcblxyXG4gICAgaWYgKGxpbWl0ID49IDApIHtcclxuICAgICAgcmV0dXJuIGlucHV0LnNsaWNlKGJlZ2luLCBiZWdpbiArIGxpbWl0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChiZWdpbiA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBpbnB1dC5zbGljZShsaW1pdCwgaW5wdXQubGVuZ3RoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gaW5wdXQuc2xpY2UoTWF0aC5tYXgoMCwgYmVnaW4gKyBsaW1pdCksIGJlZ2luKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZmlsdGVyXHJcbiAqIEBuYW1lIG9yZGVyQnlcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIE9yZGVycyBhIHNwZWNpZmllZCBgYXJyYXlgIGJ5IHRoZSBgZXhwcmVzc2lvbmAgcHJlZGljYXRlLiBJdCBpcyBvcmRlcmVkIGFscGhhYmV0aWNhbGx5XHJcbiAqIGZvciBzdHJpbmdzIGFuZCBudW1lcmljYWxseSBmb3IgbnVtYmVycy4gTm90ZTogaWYgeW91IG5vdGljZSBudW1iZXJzIGFyZSBub3QgYmVpbmcgc29ydGVkXHJcbiAqIGFzIGV4cGVjdGVkLCBtYWtlIHN1cmUgdGhleSBhcmUgYWN0dWFsbHkgYmVpbmcgc2F2ZWQgYXMgbnVtYmVycyBhbmQgbm90IHN0cmluZ3MuXHJcbiAqIEFycmF5LWxpa2UgdmFsdWVzIChlLmcuIE5vZGVMaXN0cywgalF1ZXJ5IG9iamVjdHMsIFR5cGVkQXJyYXlzLCBTdHJpbmdzLCBldGMpIGFyZSBhbHNvIHN1cHBvcnRlZC5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IChvciBhcnJheS1saWtlIG9iamVjdCkgdG8gc29ydC5cclxuICogQHBhcmFtIHtmdW5jdGlvbigqKXxzdHJpbmd8QXJyYXkuPChmdW5jdGlvbigqKXxzdHJpbmcpPj19IGV4cHJlc3Npb24gQSBwcmVkaWNhdGUgdG8gYmVcclxuICogICAgdXNlZCBieSB0aGUgY29tcGFyYXRvciB0byBkZXRlcm1pbmUgdGhlIG9yZGVyIG9mIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiAgICBDYW4gYmUgb25lIG9mOlxyXG4gKlxyXG4gKiAgICAtIGBmdW5jdGlvbmA6IEdldHRlciBmdW5jdGlvbi4gVGhlIHJlc3VsdCBvZiB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgc29ydGVkIHVzaW5nIHRoZVxyXG4gKiAgICAgIGA8YCwgYD09PWAsIGA+YCBvcGVyYXRvci5cclxuICogICAgLSBgc3RyaW5nYDogQW4gQW5ndWxhciBleHByZXNzaW9uLiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiBpcyB1c2VkIHRvIGNvbXBhcmUgZWxlbWVudHNcclxuICogICAgICAoZm9yIGV4YW1wbGUgYG5hbWVgIHRvIHNvcnQgYnkgYSBwcm9wZXJ0eSBjYWxsZWQgYG5hbWVgIG9yIGBuYW1lLnN1YnN0cigwLCAzKWAgdG8gc29ydCBieVxyXG4gKiAgICAgIDMgZmlyc3QgY2hhcmFjdGVycyBvZiBhIHByb3BlcnR5IGNhbGxlZCBgbmFtZWApLiBUaGUgcmVzdWx0IG9mIGEgY29uc3RhbnQgZXhwcmVzc2lvblxyXG4gKiAgICAgIGlzIGludGVycHJldGVkIGFzIGEgcHJvcGVydHkgbmFtZSB0byBiZSB1c2VkIGluIGNvbXBhcmlzb25zIChmb3IgZXhhbXBsZSBgXCJzcGVjaWFsIG5hbWVcImBcclxuICogICAgICB0byBzb3J0IG9iamVjdCBieSB0aGUgdmFsdWUgb2YgdGhlaXIgYHNwZWNpYWwgbmFtZWAgcHJvcGVydHkpLiBBbiBleHByZXNzaW9uIGNhbiBiZVxyXG4gKiAgICAgIG9wdGlvbmFsbHkgcHJlZml4ZWQgd2l0aCBgK2Agb3IgYC1gIHRvIGNvbnRyb2wgYXNjZW5kaW5nIG9yIGRlc2NlbmRpbmcgc29ydCBvcmRlclxyXG4gKiAgICAgIChmb3IgZXhhbXBsZSwgYCtuYW1lYCBvciBgLW5hbWVgKS4gSWYgbm8gcHJvcGVydHkgaXMgcHJvdmlkZWQsIChlLmcuIGAnKydgKSB0aGVuIHRoZSBhcnJheVxyXG4gKiAgICAgIGVsZW1lbnQgaXRzZWxmIGlzIHVzZWQgdG8gY29tcGFyZSB3aGVyZSBzb3J0aW5nLlxyXG4gKiAgICAtIGBBcnJheWA6IEFuIGFycmF5IG9mIGZ1bmN0aW9uIG9yIHN0cmluZyBwcmVkaWNhdGVzLiBUaGUgZmlyc3QgcHJlZGljYXRlIGluIHRoZSBhcnJheVxyXG4gKiAgICAgIGlzIHVzZWQgZm9yIHNvcnRpbmcsIGJ1dCB3aGVuIHR3byBpdGVtcyBhcmUgZXF1aXZhbGVudCwgdGhlIG5leHQgcHJlZGljYXRlIGlzIHVzZWQuXHJcbiAqXHJcbiAqICAgIElmIHRoZSBwcmVkaWNhdGUgaXMgbWlzc2luZyBvciBlbXB0eSB0aGVuIGl0IGRlZmF1bHRzIHRvIGAnKydgLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSByZXZlcnNlIFJldmVyc2UgdGhlIG9yZGVyIG9mIHRoZSBhcnJheS5cclxuICogQHJldHVybnMge0FycmF5fSBTb3J0ZWQgY29weSBvZiB0aGUgc291cmNlIGFycmF5LlxyXG4gKlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBUaGUgZXhhbXBsZSBiZWxvdyBkZW1vbnN0cmF0ZXMgYSBzaW1wbGUgbmdSZXBlYXQsIHdoZXJlIHRoZSBkYXRhIGlzIHNvcnRlZFxyXG4gKiBieSBhZ2UgaW4gZGVzY2VuZGluZyBvcmRlciAocHJlZGljYXRlIGlzIHNldCB0byBgJy1hZ2UnYCkuXHJcbiAqIGByZXZlcnNlYCBpcyBub3Qgc2V0LCB3aGljaCBtZWFucyBpdCBkZWZhdWx0cyB0byBgZmFsc2VgLlxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRcIj5cclxuICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICA8dGg+TmFtZTwvdGg+XHJcbiAgICAgICAgICAgICA8dGg+UGhvbmUgTnVtYmVyPC90aD5cclxuICAgICAgICAgICAgIDx0aD5BZ2U8L3RoPlxyXG4gICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgb3JkZXJCeTonLWFnZSdcIj5cclxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxyXG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxyXG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmFnZX19PC90ZD5cclxuICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICRzY29wZS5mcmllbmRzID1cclxuICAgICAgICAgICAgICAgW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjEyJywgYWdlOjEwfSxcclxuICAgICAgICAgICAgICAgIHtuYW1lOidNYXJ5JywgcGhvbmU6JzU1NS05ODc2JywgYWdlOjE5fSxcclxuICAgICAgICAgICAgICAgIHtuYW1lOidNaWtlJywgcGhvbmU6JzU1NS00MzIxJywgYWdlOjIxfSxcclxuICAgICAgICAgICAgICAgIHtuYW1lOidBZGFtJywgcGhvbmU6JzU1NS01Njc4JywgYWdlOjM1fSxcclxuICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZScsIHBob25lOic1NTUtODc2NScsIGFnZToyOX1dO1xyXG4gICAgICAgICB9XSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqIFRoZSBwcmVkaWNhdGUgYW5kIHJldmVyc2UgcGFyYW1ldGVycyBjYW4gYmUgY29udHJvbGxlZCBkeW5hbWljYWxseSB0aHJvdWdoIHNjb3BlIHByb3BlcnRpZXMsXHJcbiAqIGFzIHNob3duIGluIHRoZSBuZXh0IGV4YW1wbGUuXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxwcmU+U29ydGluZyBwcmVkaWNhdGUgPSB7e3ByZWRpY2F0ZX19OyByZXZlcnNlID0ge3tyZXZlcnNlfX08L3ByZT5cclxuICAgICAgICAgPGhyLz5cclxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInByZWRpY2F0ZT0nJ1wiPlNldCB0byB1bnNvcnRlZDwvYnV0dG9uPlxyXG4gICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRcIj5cclxuICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgIDx0aD5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJvcmRlcignbmFtZScpXCI+TmFtZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJlZGljYXRlID09PSAnbmFtZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOnJldmVyc2V9XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICA8dGg+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwib3JkZXIoJ3Bob25lJylcIj5QaG9uZSBOdW1iZXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByZWRpY2F0ZSA9PT0gJ3Bob25lJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6cmV2ZXJzZX1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgIDx0aD5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJvcmRlcignYWdlJylcIj5BZ2U8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByZWRpY2F0ZSA9PT0gJ2FnZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOnJldmVyc2V9XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgb3JkZXJCeTpwcmVkaWNhdGU6cmV2ZXJzZVwiPlxyXG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxyXG4gICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ29yZGVyQnlFeGFtcGxlJywgW10pXHJcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPVxyXG4gICAgICAgICAgICAgICBbe25hbWU6J0pvaG4nLCBwaG9uZTonNTU1LTEyMTInLCBhZ2U6MTB9LFxyXG4gICAgICAgICAgICAgICAge25hbWU6J01hcnknLCBwaG9uZTonNTU1LTk4NzYnLCBhZ2U6MTl9LFxyXG4gICAgICAgICAgICAgICAge25hbWU6J01pa2UnLCBwaG9uZTonNTU1LTQzMjEnLCBhZ2U6MjF9LFxyXG4gICAgICAgICAgICAgICAge25hbWU6J0FkYW0nLCBwaG9uZTonNTU1LTU2NzgnLCBhZ2U6MzV9LFxyXG4gICAgICAgICAgICAgICAge25hbWU6J0p1bGllJywgcGhvbmU6JzU1NS04NzY1JywgYWdlOjI5fV07XHJcbiAgICAgICAgICAgJHNjb3BlLnByZWRpY2F0ZSA9ICdhZ2UnO1xyXG4gICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gdHJ1ZTtcclxuICAgICAgICAgICAkc2NvcGUub3JkZXIgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcclxuICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gKCRzY29wZS5wcmVkaWNhdGUgPT09IHByZWRpY2F0ZSkgPyAhJHNjb3BlLnJldmVyc2UgOiBmYWxzZTtcclxuICAgICAgICAgICAgICRzY29wZS5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XHJcbiAgICAgICAgICAgfTtcclxuICAgICAgICAgfV0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgLnNvcnRvcmRlcjphZnRlciB7XHJcbiAgICAgICAgIGNvbnRlbnQ6ICdcXDI1YjInO1xyXG4gICAgICAgfVxyXG4gICAgICAgLnNvcnRvcmRlci5yZXZlcnNlOmFmdGVyIHtcclxuICAgICAgICAgY29udGVudDogJ1xcMjViYyc7XHJcbiAgICAgICB9XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqIEl0J3MgYWxzbyBwb3NzaWJsZSB0byBjYWxsIHRoZSBvcmRlckJ5IGZpbHRlciBtYW51YWxseSwgYnkgaW5qZWN0aW5nIGAkZmlsdGVyYCwgcmV0cmlldmluZyB0aGVcclxuICogZmlsdGVyIHJvdXRpbmUgd2l0aCBgJGZpbHRlcignb3JkZXJCeScpYCwgYW5kIGNhbGxpbmcgdGhlIHJldHVybmVkIGZpbHRlciByb3V0aW5lIHdpdGggdGhlXHJcbiAqIGRlc2lyZWQgcGFyYW1ldGVycy5cclxuICpcclxuICogRXhhbXBsZTpcclxuICpcclxuICogQGV4YW1wbGVcclxuICA8ZXhhbXBsZSBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZVwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgIDxwcmU+U29ydGluZyBwcmVkaWNhdGUgPSB7e3ByZWRpY2F0ZX19OyByZXZlcnNlID0ge3tyZXZlcnNlfX08L3ByZT5cclxuICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kXCI+XHJcbiAgICAgICAgPHRyPlxyXG4gICAgICAgICAgPHRoPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJvcmRlcignbmFtZScpXCI+TmFtZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByZWRpY2F0ZSA9PT0gJ25hbWUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTpyZXZlcnNlfVwiPjwvc3Bhbj5cclxuICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICA8dGg+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIm9yZGVyKCdwaG9uZScpXCI+UGhvbmUgTnVtYmVyPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJlZGljYXRlID09PSAncGhvbmUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTpyZXZlcnNlfVwiPjwvc3Bhbj5cclxuICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICA8dGg+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIm9yZGVyKCdhZ2UnKVwiPkFnZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByZWRpY2F0ZSA9PT0gJ2FnZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOnJldmVyc2V9XCI+PC9zcGFuPlxyXG4gICAgICAgICAgPC90aD5cclxuICAgICAgICA8L3RyPlxyXG4gICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kc1wiPlxyXG4gICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XHJcbiAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XHJcbiAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxyXG4gICAgICAgIDwvdHI+XHJcbiAgICAgIDwvdGFibGU+XHJcbiAgICA8L2Rpdj5cclxuICAgIDwvZmlsZT5cclxuXHJcbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZScsIFtdKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRmaWx0ZXInLCBmdW5jdGlvbigkc2NvcGUsICRmaWx0ZXIpIHtcclxuICAgICAgICAgIHZhciBvcmRlckJ5ID0gJGZpbHRlcignb3JkZXJCeScpO1xyXG4gICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBbXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ0pvaG4nLCAgICBwaG9uZTogJzU1NS0xMjEyJywgICAgYWdlOiAxMCB9LFxyXG4gICAgICAgICAgICB7IG5hbWU6ICdNYXJ5JywgICAgcGhvbmU6ICc1NTUtOTg3NicsICAgIGFnZTogMTkgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiAnTWlrZScsICAgIHBob25lOiAnNTU1LTQzMjEnLCAgICBhZ2U6IDIxIH0sXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ0FkYW0nLCAgICBwaG9uZTogJzU1NS01Njc4JywgICAgYWdlOiAzNSB9LFxyXG4gICAgICAgICAgICB7IG5hbWU6ICdKdWxpZScsICAgcGhvbmU6ICc1NTUtODc2NScsICAgIGFnZTogMjkgfVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICAgICRzY29wZS5vcmRlciA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUucHJlZGljYXRlID0gcHJlZGljYXRlO1xyXG4gICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICgkc2NvcGUucHJlZGljYXRlID09PSBwcmVkaWNhdGUpID8gISRzY29wZS5yZXZlcnNlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5mcmllbmRzID0gb3JkZXJCeSgkc2NvcGUuZnJpZW5kcywgcHJlZGljYXRlLCAkc2NvcGUucmV2ZXJzZSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgJHNjb3BlLm9yZGVyKCdhZ2UnLCB0cnVlKTtcclxuICAgICAgICB9XSk7XHJcbiAgICA8L2ZpbGU+XHJcblxyXG4gICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgLnNvcnRvcmRlcjphZnRlciB7XHJcbiAgICAgICAgIGNvbnRlbnQ6ICdcXDI1YjInO1xyXG4gICAgICAgfVxyXG4gICAgICAgLnNvcnRvcmRlci5yZXZlcnNlOmFmdGVyIHtcclxuICAgICAgICAgY29udGVudDogJ1xcMjViYyc7XHJcbiAgICAgICB9XHJcbiAgICA8L2ZpbGU+XHJcbjwvZXhhbXBsZT5cclxuICovXHJcbm9yZGVyQnlGaWx0ZXIuJGluamVjdCA9IFsnJHBhcnNlJ107XHJcbmZ1bmN0aW9uIG9yZGVyQnlGaWx0ZXIoJHBhcnNlKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBzb3J0UHJlZGljYXRlLCByZXZlcnNlT3JkZXIpIHtcclxuXHJcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIGFycmF5O1xyXG4gICAgaWYgKCFpc0FycmF5TGlrZShhcnJheSkpIHtcclxuICAgICAgdGhyb3cgbWluRXJyKCdvcmRlckJ5JykoJ25vdGFycmF5JywgJ0V4cGVjdGVkIGFycmF5IGJ1dCByZWNlaXZlZDogezB9JywgYXJyYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNBcnJheShzb3J0UHJlZGljYXRlKSkgeyBzb3J0UHJlZGljYXRlID0gW3NvcnRQcmVkaWNhdGVdOyB9XHJcbiAgICBpZiAoc29ydFByZWRpY2F0ZS5sZW5ndGggPT09IDApIHsgc29ydFByZWRpY2F0ZSA9IFsnKyddOyB9XHJcblxyXG4gICAgdmFyIHByZWRpY2F0ZXMgPSBwcm9jZXNzUHJlZGljYXRlcyhzb3J0UHJlZGljYXRlLCByZXZlcnNlT3JkZXIpO1xyXG4gICAgLy8gQWRkIGEgcHJlZGljYXRlIGF0IHRoZSBlbmQgdGhhdCBldmFsdWF0ZXMgdG8gdGhlIGVsZW1lbnQgaW5kZXguIFRoaXMgbWFrZXMgdGhlXHJcbiAgICAvLyBzb3J0IHN0YWJsZSBhcyBpdCB3b3JrcyBhcyBhIHRpZS1icmVha2VyIHdoZW4gYWxsIHRoZSBpbnB1dCBwcmVkaWNhdGVzIGNhbm5vdFxyXG4gICAgLy8gZGlzdGluZ3Vpc2ggYmV0d2VlbiB0d28gZWxlbWVudHMuXHJcbiAgICBwcmVkaWNhdGVzLnB1c2goeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4ge307IH0sIGRlc2NlbmRpbmc6IHJldmVyc2VPcmRlciA/IC0xIDogMX0pO1xyXG5cclxuICAgIC8vIFRoZSBuZXh0IHRocmVlIGxpbmVzIGFyZSBhIHZlcnNpb24gb2YgYSBTd2FydHppYW4gVHJhbnNmb3JtIGlkaW9tIGZyb20gUGVybFxyXG4gICAgLy8gKHNvbWV0aW1lcyBjYWxsZWQgdGhlIERlY29yYXRlLVNvcnQtVW5kZWNvcmF0ZSBpZGlvbSlcclxuICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TY2h3YXJ0emlhbl90cmFuc2Zvcm1cclxuICAgIHZhciBjb21wYXJlVmFsdWVzID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGFycmF5LCBnZXRDb21wYXJpc29uT2JqZWN0KTtcclxuICAgIGNvbXBhcmVWYWx1ZXMuc29ydChkb0NvbXBhcmlzb24pO1xyXG4gICAgYXJyYXkgPSBjb21wYXJlVmFsdWVzLm1hcChmdW5jdGlvbihpdGVtKSB7IHJldHVybiBpdGVtLnZhbHVlOyB9KTtcclxuXHJcbiAgICByZXR1cm4gYXJyYXk7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q29tcGFyaXNvbk9iamVjdCh2YWx1ZSwgaW5kZXgpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgcHJlZGljYXRlVmFsdWVzOiBwcmVkaWNhdGVzLm1hcChmdW5jdGlvbihwcmVkaWNhdGUpIHtcclxuICAgICAgICAgIHJldHVybiBnZXRQcmVkaWNhdGVWYWx1ZShwcmVkaWNhdGUuZ2V0KHZhbHVlKSwgaW5kZXgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZG9Db21wYXJpc29uKHYxLCB2Mikge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgICAgZm9yICh2YXIgaW5kZXg9MCwgbGVuZ3RoID0gcHJlZGljYXRlcy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyArK2luZGV4KSB7XHJcbiAgICAgICAgcmVzdWx0ID0gY29tcGFyZSh2MS5wcmVkaWNhdGVWYWx1ZXNbaW5kZXhdLCB2Mi5wcmVkaWNhdGVWYWx1ZXNbaW5kZXhdKSAqIHByZWRpY2F0ZXNbaW5kZXhdLmRlc2NlbmRpbmc7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBwcm9jZXNzUHJlZGljYXRlcyhzb3J0UHJlZGljYXRlLCByZXZlcnNlT3JkZXIpIHtcclxuICAgIHJldmVyc2VPcmRlciA9IHJldmVyc2VPcmRlciA/IC0xIDogMTtcclxuICAgIHJldHVybiBzb3J0UHJlZGljYXRlLm1hcChmdW5jdGlvbihwcmVkaWNhdGUpIHtcclxuICAgICAgdmFyIGRlc2NlbmRpbmcgPSAxLCBnZXQgPSBpZGVudGl0eTtcclxuXHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHByZWRpY2F0ZSkpIHtcclxuICAgICAgICBnZXQgPSBwcmVkaWNhdGU7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcocHJlZGljYXRlKSkge1xyXG4gICAgICAgIGlmICgocHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnKycgfHwgcHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnLScpKSB7XHJcbiAgICAgICAgICBkZXNjZW5kaW5nID0gcHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnLScgPyAtMSA6IDE7XHJcbiAgICAgICAgICBwcmVkaWNhdGUgPSBwcmVkaWNhdGUuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJlZGljYXRlICE9PSAnJykge1xyXG4gICAgICAgICAgZ2V0ID0gJHBhcnNlKHByZWRpY2F0ZSk7XHJcbiAgICAgICAgICBpZiAoZ2V0LmNvbnN0YW50KSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBnZXQoKTtcclxuICAgICAgICAgICAgZ2V0ID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlW2tleV07IH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7IGdldDogZ2V0LCBkZXNjZW5kaW5nOiBkZXNjZW5kaW5nICogcmV2ZXJzZU9yZGVyIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XHJcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xyXG4gICAgICBjYXNlICdudW1iZXInOiAvKiBmYWxscyB0aHJvdWdoICovXHJcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOiAvKiBmYWxscyB0aHJvdWdoICovXHJcbiAgICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb2JqZWN0VmFsdWUodmFsdWUsIGluZGV4KSB7XHJcbiAgICAvLyBJZiBgdmFsdWVPZmAgaXMgYSB2YWxpZCBmdW5jdGlvbiB1c2UgdGhhdFxyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHZhbHVlID0gdmFsdWUudmFsdWVPZigpO1xyXG4gICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvLyBJZiBgdG9TdHJpbmdgIGlzIGEgdmFsaWQgZnVuY3Rpb24gYW5kIG5vdCB0aGUgb25lIGZyb20gYE9iamVjdC5wcm90b3R5cGVgIHVzZSB0aGF0XHJcbiAgICBpZiAoaGFzQ3VzdG9tVG9TdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLy8gV2UgaGF2ZSBhIGJhc2ljIG9iamVjdCBzbyB3ZSB1c2UgdGhlIHBvc2l0aW9uIG9mIHRoZSBvYmplY3QgaW4gdGhlIGNvbGxlY3Rpb25cclxuICAgIHJldHVybiBpbmRleDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldFByZWRpY2F0ZVZhbHVlKHZhbHVlLCBpbmRleCkge1xyXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XHJcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgdHlwZSA9ICdzdHJpbmcnO1xyXG4gICAgICB2YWx1ZSA9ICdudWxsJztcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgdmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICB2YWx1ZSA9IG9iamVjdFZhbHVlKHZhbHVlLCBpbmRleCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIHR5cGU6IHR5cGUgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvbXBhcmUodjEsIHYyKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgIGlmICh2MS50eXBlID09PSB2Mi50eXBlKSB7XHJcbiAgICAgIGlmICh2MS52YWx1ZSAhPT0gdjIudmFsdWUpIHtcclxuICAgICAgICByZXN1bHQgPSB2MS52YWx1ZSA8IHYyLnZhbHVlID8gLTEgOiAxO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXN1bHQgPSB2MS50eXBlIDwgdjIudHlwZSA/IC0xIDogMTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBuZ0RpcmVjdGl2ZShkaXJlY3RpdmUpIHtcclxuICBpZiAoaXNGdW5jdGlvbihkaXJlY3RpdmUpKSB7XHJcbiAgICBkaXJlY3RpdmUgPSB7XHJcbiAgICAgIGxpbms6IGRpcmVjdGl2ZVxyXG4gICAgfTtcclxuICB9XHJcbiAgZGlyZWN0aXZlLnJlc3RyaWN0ID0gZGlyZWN0aXZlLnJlc3RyaWN0IHx8ICdBQyc7XHJcbiAgcmV0dXJuIHZhbHVlRm4oZGlyZWN0aXZlKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgYVxyXG4gKiBAcmVzdHJpY3QgRVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogTW9kaWZpZXMgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIGh0bWwgQSB0YWcgc28gdGhhdCB0aGUgZGVmYXVsdCBhY3Rpb24gaXMgcHJldmVudGVkIHdoZW5cclxuICogdGhlIGhyZWYgYXR0cmlidXRlIGlzIGVtcHR5LlxyXG4gKlxyXG4gKiBUaGlzIGNoYW5nZSBwZXJtaXRzIHRoZSBlYXN5IGNyZWF0aW9uIG9mIGFjdGlvbiBsaW5rcyB3aXRoIHRoZSBgbmdDbGlja2AgZGlyZWN0aXZlXHJcbiAqIHdpdGhvdXQgY2hhbmdpbmcgdGhlIGxvY2F0aW9uIG9yIGNhdXNpbmcgcGFnZSByZWxvYWRzLCBlLmcuOlxyXG4gKiBgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwibGlzdC5hZGRJdGVtKClcIj5BZGQgSXRlbTwvYT5gXHJcbiAqL1xyXG52YXIgaHRtbEFuY2hvckRpcmVjdGl2ZSA9IHZhbHVlRm4oe1xyXG4gIHJlc3RyaWN0OiAnRScsXHJcbiAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xyXG4gICAgaWYgKCFhdHRyLmhyZWYgJiYgIWF0dHIueGxpbmtIcmVmKSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgIC8vIElmIHRoZSBsaW5rZWQgZWxlbWVudCBpcyBub3QgYW4gYW5jaG9yIHRhZyBhbnltb3JlLCBkbyBub3RoaW5nXHJcbiAgICAgICAgaWYgKGVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2EnKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIFNWR0FFbGVtZW50IGRvZXMgbm90IHVzZSB0aGUgaHJlZiBhdHRyaWJ1dGUsIGJ1dCByYXRoZXIgdGhlICd4bGlua0hyZWYnIGF0dHJpYnV0ZS5cclxuICAgICAgICB2YXIgaHJlZiA9IHRvU3RyaW5nLmNhbGwoZWxlbWVudC5wcm9wKCdocmVmJykpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nID9cclxuICAgICAgICAgICAgICAgICAgICd4bGluazpocmVmJyA6ICdocmVmJztcclxuICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIG5vIGhyZWYgdXJsLCB0aGVuIGRvbid0IG5hdmlnYXRlIGFueXdoZXJlLlxyXG4gICAgICAgICAgaWYgKCFlbGVtZW50LmF0dHIoaHJlZikpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdIcmVmXHJcbiAqIEByZXN0cmljdCBBXHJcbiAqIEBwcmlvcml0eSA5OVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGFuIGhyZWYgYXR0cmlidXRlIHdpbGxcclxuICogbWFrZSB0aGUgbGluayBnbyB0byB0aGUgd3JvbmcgVVJMIGlmIHRoZSB1c2VyIGNsaWNrcyBpdCBiZWZvcmVcclxuICogQW5ndWxhciBoYXMgYSBjaGFuY2UgdG8gcmVwbGFjZSB0aGUgYHt7aGFzaH19YCBtYXJrdXAgd2l0aCBpdHNcclxuICogdmFsdWUuIFVudGlsIEFuZ3VsYXIgcmVwbGFjZXMgdGhlIG1hcmt1cCB0aGUgbGluayB3aWxsIGJlIGJyb2tlblxyXG4gKiBhbmQgd2lsbCBtb3N0IGxpa2VseSByZXR1cm4gYSA0MDQgZXJyb3IuIFRoZSBgbmdIcmVmYCBkaXJlY3RpdmVcclxuICogc29sdmVzIHRoaXMgcHJvYmxlbS5cclxuICpcclxuICogVGhlIHdyb25nIHdheSB0byB3cml0ZSBpdDpcclxuICogYGBgaHRtbFxyXG4gKiA8YSBocmVmPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCI+bGluazE8L2E+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XHJcbiAqIGBgYGh0bWxcclxuICogPGEgbmctaHJlZj1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiPmxpbmsxPC9hPlxyXG4gKiBgYGBcclxuICpcclxuICogQGVsZW1lbnQgQVxyXG4gKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ0hyZWYgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgdmFyaW91cyBjb21iaW5hdGlvbnMgb2YgYGhyZWZgLCBgbmctaHJlZmAgYW5kIGBuZy1jbGlja2AgYXR0cmlidXRlc1xyXG4gKiBpbiBsaW5rcyBhbmQgdGhlaXIgZGlmZmVyZW50IGJlaGF2aW9yczpcclxuICAgIDxleGFtcGxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInZhbHVlXCIgLz48YnIgLz5cclxuICAgICAgICA8YSBpZD1cImxpbmstMVwiIGhyZWYgbmctY2xpY2s9XCJ2YWx1ZSA9IDFcIj5saW5rIDE8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XHJcbiAgICAgICAgPGEgaWQ9XCJsaW5rLTJcIiBocmVmPVwiXCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDJcIj5saW5rIDI8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XHJcbiAgICAgICAgPGEgaWQ9XCJsaW5rLTNcIiBuZy1ocmVmPVwiL3t7JzEyMyd9fVwiPmxpbmsgMzwvYT4gKGxpbmssIHJlbG9hZCEpPGJyIC8+XHJcbiAgICAgICAgPGEgaWQ9XCJsaW5rLTRcIiBocmVmPVwiXCIgbmFtZT1cInh4XCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDRcIj5hbmNob3I8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XHJcbiAgICAgICAgPGEgaWQ9XCJsaW5rLTVcIiBuYW1lPVwieHh4XCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDVcIj5hbmNob3I8L2E+IChubyBsaW5rKTxiciAvPlxyXG4gICAgICAgIDxhIGlkPVwibGluay02XCIgbmctaHJlZj1cInt7dmFsdWV9fVwiPmxpbms8L2E+IChsaW5rLCBjaGFuZ2UgbG9jYXRpb24pXHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgd2l0aG91dCB2YWx1ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0xJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCcxJyk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0xJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiBlbXB0eSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnMicpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZSgnJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBhbmQgY2hhbmdlIHVybCB3aGVuIG5nLWhyZWYgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0zJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cXC8xMjMkLyk7XHJcblxyXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0zJykpLmNsaWNrKCk7XHJcblxyXG4gICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgbmF2aWdhdGUgYXdheSBmcm9tIGFuIEFuZ3VsYXIgcGFnZSwgc28gd2UgbmVlZFxyXG4gICAgICAgICAgLy8gdG8gdXNlIGJyb3dzZXIuZHJpdmVyIHRvIGdldCB0aGUgYmFzZSB3ZWJkcml2ZXIuXHJcblxyXG4gICAgICAgICAgYnJvd3Nlci53YWl0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5kcml2ZXIuZ2V0Q3VycmVudFVybCgpLnRoZW4oZnVuY3Rpb24odXJsKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvMTIzJC8pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0sIDUwMDAsICdwYWdlIHNob3VsZCBuYXZpZ2F0ZSB0byAvMTIzJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgZW1wdHkgc3RyaW5nIGFuZCBuYW1lIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay00JykpLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCc0Jyk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay00JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gbm8gaHJlZiBidXQgbmFtZSBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnNScpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZShudWxsKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBvbmx5IGNoYW5nZSB1cmwgd2hlbiBvbmx5IG5nLWhyZWYnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmNsZWFyKCk7XHJcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5zZW5kS2V5cygnNicpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9NYXRjaCgvXFwvNiQvKTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTYnKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhciBwYWdlLCBzbyB3ZSBuZWVkXHJcbiAgICAgICAgICAvLyB0byB1c2UgYnJvd3Nlci5kcml2ZXIgdG8gZ2V0IHRoZSBiYXNlIHdlYmRyaXZlci5cclxuICAgICAgICAgIGJyb3dzZXIud2FpdChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB1cmwubWF0Y2goL1xcLzYkLyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSwgNTAwMCwgJ3BhZ2Ugc2hvdWxkIG5hdmlnYXRlIHRvIC82Jyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1NyY1xyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKiBAcHJpb3JpdHkgOTlcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhIGBzcmNgIGF0dHJpYnV0ZSBkb2Vzbid0XHJcbiAqIHdvcmsgcmlnaHQ6IFRoZSBicm93c2VyIHdpbGwgZmV0Y2ggZnJvbSB0aGUgVVJMIHdpdGggdGhlIGxpdGVyYWxcclxuICogdGV4dCBge3toYXNofX1gIHVudGlsIEFuZ3VsYXIgcmVwbGFjZXMgdGhlIGV4cHJlc3Npb24gaW5zaWRlXHJcbiAqIGB7e2hhc2h9fWAuIFRoZSBgbmdTcmNgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtLlxyXG4gKlxyXG4gKiBUaGUgYnVnZ3kgd2F5IHRvIHdyaXRlIGl0OlxyXG4gKiBgYGBodG1sXHJcbiAqIDxpbWcgc3JjPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCIgYWx0PVwiRGVzY3JpcHRpb25cIi8+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XHJcbiAqIGBgYGh0bWxcclxuICogPGltZyBuZy1zcmM9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIiBhbHQ9XCJEZXNjcmlwdGlvblwiIC8+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZWxlbWVudCBJTUdcclxuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdTcmMgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nU3Jjc2V0XHJcbiAqIEByZXN0cmljdCBBXHJcbiAqIEBwcmlvcml0eSA5OVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGEgYHNyY3NldGAgYXR0cmlidXRlIGRvZXNuJ3RcclxuICogd29yayByaWdodDogVGhlIGJyb3dzZXIgd2lsbCBmZXRjaCBmcm9tIHRoZSBVUkwgd2l0aCB0aGUgbGl0ZXJhbFxyXG4gKiB0ZXh0IGB7e2hhc2h9fWAgdW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgZXhwcmVzc2lvbiBpbnNpZGVcclxuICogYHt7aGFzaH19YC4gVGhlIGBuZ1NyY3NldGAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0uXHJcbiAqXHJcbiAqIFRoZSBidWdneSB3YXkgdG8gd3JpdGUgaXQ6XHJcbiAqIGBgYGh0bWxcclxuICogPGltZyBzcmNzZXQ9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0gMnhcIiBhbHQ9XCJEZXNjcmlwdGlvblwiLz5cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDpcclxuICogYGBgaHRtbFxyXG4gKiA8aW1nIG5nLXNyY3NldD1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fSAyeFwiIGFsdD1cIkRlc2NyaXB0aW9uXCIgLz5cclxuICogYGBgXHJcbiAqXHJcbiAqIEBlbGVtZW50IElNR1xyXG4gKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ1NyY3NldCBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdEaXNhYmxlZFxyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKiBAcHJpb3JpdHkgMTAwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBUaGlzIGRpcmVjdGl2ZSBzZXRzIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBpZiB0aGVcclxuICoge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaW5zaWRlIGBuZ0Rpc2FibGVkYCBldmFsdWF0ZXMgdG8gdHJ1dGh5LlxyXG4gKlxyXG4gKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBkaXNhYmxlZGBcclxuICogYXR0cmlidXRlLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9IGZvciBtb3JlIGluZm8uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8bGFiZWw+Q2xpY2sgbWUgdG8gdG9nZ2xlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCI+PC9sYWJlbD48YnIvPlxyXG4gICAgICAgIDxidXR0b24gbmctbW9kZWw9XCJidXR0b25cIiBuZy1kaXNhYmxlZD1cImNoZWNrZWRcIj5CdXR0b248L2J1dHRvbj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgYnV0dG9uJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVGYWxzeSgpO1xyXG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICpcclxuICogQGVsZW1lbnQgSU5QVVRcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0Rpc2FibGVkIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXHJcbiAqICAgICB0aGVuIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NoZWNrZWRcclxuICogQHJlc3RyaWN0IEFcclxuICogQHByaW9yaXR5IDEwMFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU2V0cyB0aGUgYGNoZWNrZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCwgaWYgdGhlIGV4cHJlc3Npb24gaW5zaWRlIGBuZ0NoZWNrZWRgIGlzIHRydXRoeS5cclxuICpcclxuICogTm90ZSB0aGF0IHRoaXMgZGlyZWN0aXZlIHNob3VsZCBub3QgYmUgdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0sXHJcbiAqIGFzIHRoaXMgY2FuIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci5cclxuICpcclxuICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgY2hlY2tlZGBcclxuICogYXR0cmlidXRlLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9IGZvciBtb3JlIGluZm8uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8bGFiZWw+Q2hlY2sgbWUgdG8gY2hlY2sgYm90aDogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwibWFzdGVyXCI+PC9sYWJlbD48YnIvPlxyXG4gICAgICAgIDxpbnB1dCBpZD1cImNoZWNrU2xhdmVcIiB0eXBlPVwiY2hlY2tib3hcIiBuZy1jaGVja2VkPVwibWFzdGVyXCIgYXJpYS1sYWJlbD1cIlNsYXZlIGlucHV0XCI+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIGl0KCdzaG91bGQgY2hlY2sgYm90aCBjaGVja0JveGVzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY2hlY2tTbGF2ZScpKS5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkudG9CZUZhbHN5KCk7XHJcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdtYXN0ZXInKSkuY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjaGVja1NsYXZlJykpLmdldEF0dHJpYnV0ZSgnY2hlY2tlZCcpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICpcclxuICogQGVsZW1lbnQgSU5QVVRcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NoZWNrZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcclxuICogICAgIHRoZW4gdGhlIGBjaGVja2VkYCBhdHRyaWJ1dGUgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdSZWFkb25seVxyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKiBAcHJpb3JpdHkgMTAwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBTZXRzIHRoZSBgcmVhZE9ubHlgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCwgaWYgdGhlIGV4cHJlc3Npb24gaW5zaWRlIGBuZ1JlYWRvbmx5YCBpcyB0cnV0aHkuXHJcbiAqXHJcbiAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYHJlYWRPbmx5YFxyXG4gKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxsYWJlbD5DaGVjayBtZSB0byBtYWtlIHRleHQgcmVhZG9ubHk6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIj48L2xhYmVsPjxici8+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctcmVhZG9ubHk9XCJjaGVja2VkXCIgdmFsdWU9XCJJJ20gQW5ndWxhclwiIGFyaWEtbGFiZWw9XCJSZWFkb25seSBmaWVsZFwiIC8+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIHJlYWRvbmx5IGF0dHInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnW3R5cGU9XCJ0ZXh0XCJdJykpLmdldEF0dHJpYnV0ZSgncmVhZG9ubHknKSkudG9CZUZhbHN5KCk7XHJcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ1t0eXBlPVwidGV4dFwiXScpKS5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBAZWxlbWVudCBJTlBVVFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUmVhZG9ubHkgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcclxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJyZWFkb25seVwiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nU2VsZWN0ZWRcclxuICogQHJlc3RyaWN0IEFcclxuICogQHByaW9yaXR5IDEwMFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogU2V0cyB0aGUgYHNlbGVjdGVkYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQsIGlmIHRoZSBleHByZXNzaW9uIGluc2lkZSBgbmdTZWxlY3RlZGAgaXMgdHJ1dGh5LlxyXG4gKlxyXG4gKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBzZWxlY3RlZGBcclxuICogYXR0cmlidXRlLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9IGZvciBtb3JlIGluZm8uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8bGFiZWw+Q2hlY2sgbWUgdG8gc2VsZWN0OiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjwvbGFiZWw+PGJyLz5cclxuICAgICAgICA8c2VsZWN0IGFyaWEtbGFiZWw9XCJuZ1NlbGVjdGVkIGRlbW9cIj5cclxuICAgICAgICAgIDxvcHRpb24+SGVsbG8hPC9vcHRpb24+XHJcbiAgICAgICAgICA8b3B0aW9uIGlkPVwiZ3JlZXRcIiBuZy1zZWxlY3RlZD1cInNlbGVjdGVkXCI+R3JlZXRpbmdzITwvb3B0aW9uPlxyXG4gICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICBpdCgnc2hvdWxkIHNlbGVjdCBHcmVldGluZ3MhJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZ3JlZXQnKSkuZ2V0QXR0cmlidXRlKCdzZWxlY3RlZCcpKS50b0JlRmFsc3koKTtcclxuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGVkJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZ3JlZXQnKSkuZ2V0QXR0cmlidXRlKCdzZWxlY3RlZCcpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICpcclxuICogQGVsZW1lbnQgT1BUSU9OXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTZWxlY3RlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxyXG4gKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSBcInNlbGVjdGVkXCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ09wZW5cclxuICogQHJlc3RyaWN0IEFcclxuICogQHByaW9yaXR5IDEwMFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogU2V0cyB0aGUgYG9wZW5gIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCwgaWYgdGhlIGV4cHJlc3Npb24gaW5zaWRlIGBuZ09wZW5gIGlzIHRydXRoeS5cclxuICpcclxuICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgb3BlbmBcclxuICogYXR0cmlidXRlLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9IGZvciBtb3JlIGluZm8uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8bGFiZWw+Q2hlY2sgbWUgY2hlY2sgbXVsdGlwbGU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cIm9wZW5cIj48L2xhYmVsPjxici8+XHJcbiAgICAgICAgIDxkZXRhaWxzIGlkPVwiZGV0YWlsc1wiIG5nLW9wZW49XCJvcGVuXCI+XHJcbiAgICAgICAgICAgIDxzdW1tYXJ5PlNob3cvSGlkZSBtZTwvc3VtbWFyeT5cclxuICAgICAgICAgPC9kZXRhaWxzPlxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBvcGVuJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RldGFpbHMnKSkuZ2V0QXR0cmlidXRlKCdvcGVuJykpLnRvQmVGYWxzeSgpO1xyXG4gICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ29wZW4nKSkuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZGV0YWlscycpKS5nZXRBdHRyaWJ1dGUoJ29wZW4nKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqIEBlbGVtZW50IERFVEFJTFNcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ09wZW4gSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcclxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJvcGVuXCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcclxuICovXHJcblxyXG52YXIgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMgPSB7fTtcclxuXHJcbi8vIGJvb2xlYW4gYXR0cnMgYXJlIGV2YWx1YXRlZFxyXG5mb3JFYWNoKEJPT0xFQU5fQVRUUiwgZnVuY3Rpb24ocHJvcE5hbWUsIGF0dHJOYW1lKSB7XHJcbiAgLy8gYmluZGluZyB0byBtdWx0aXBsZSBpcyBub3Qgc3VwcG9ydGVkXHJcbiAgaWYgKHByb3BOYW1lID09IFwibXVsdGlwbGVcIikgcmV0dXJuO1xyXG5cclxuICBmdW5jdGlvbiBkZWZhdWx0TGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICBzY29wZS4kd2F0Y2goYXR0cltub3JtYWxpemVkXSwgZnVuY3Rpb24gbmdCb29sZWFuQXR0cldhdGNoQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIGF0dHIuJHNldChhdHRyTmFtZSwgISF2YWx1ZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xyXG4gIHZhciBsaW5rRm4gPSBkZWZhdWx0TGlua0ZuO1xyXG5cclxuICBpZiAocHJvcE5hbWUgPT09ICdjaGVja2VkJykge1xyXG4gICAgbGlua0ZuID0gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgLy8gZW5zdXJpbmcgbmdDaGVja2VkIGRvZXNuJ3QgaW50ZXJmZXJlIHdpdGggbmdNb2RlbCB3aGVuIGJvdGggYXJlIHNldCBvbiB0aGUgc2FtZSBpbnB1dFxyXG4gICAgICBpZiAoYXR0ci5uZ01vZGVsICE9PSBhdHRyW25vcm1hbGl6ZWRdKSB7XHJcbiAgICAgICAgZGVmYXVsdExpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgcHJpb3JpdHk6IDEwMCxcclxuICAgICAgbGluazogbGlua0ZuXHJcbiAgICB9O1xyXG4gIH07XHJcbn0pO1xyXG5cclxuLy8gYWxpYXNlZCBpbnB1dCBhdHRycyBhcmUgZXZhbHVhdGVkXHJcbmZvckVhY2goQUxJQVNFRF9BVFRSLCBmdW5jdGlvbihodG1sQXR0ciwgbmdBdHRyKSB7XHJcbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbmdBdHRyXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcHJpb3JpdHk6IDEwMCxcclxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAvL3NwZWNpYWwgY2FzZSBuZ1BhdHRlcm4gd2hlbiBhIGxpdGVyYWwgcmVndWxhciBleHByZXNzaW9uIHZhbHVlXHJcbiAgICAgICAgLy9pcyB1c2VkIGFzIHRoZSBleHByZXNzaW9uICh0aGlzIHdheSB3ZSBkb24ndCBoYXZlIHRvIHdhdGNoIGFueXRoaW5nKS5cclxuICAgICAgICBpZiAobmdBdHRyID09PSBcIm5nUGF0dGVyblwiICYmIGF0dHIubmdQYXR0ZXJuLmNoYXJBdCgwKSA9PSBcIi9cIikge1xyXG4gICAgICAgICAgdmFyIG1hdGNoID0gYXR0ci5uZ1BhdHRlcm4ubWF0Y2goUkVHRVhfU1RSSU5HX1JFR0VYUCk7XHJcbiAgICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgYXR0ci4kc2V0KFwibmdQYXR0ZXJuXCIsIG5ldyBSZWdFeHAobWF0Y2hbMV0sIG1hdGNoWzJdKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjb3BlLiR3YXRjaChhdHRyW25nQXR0cl0sIGZ1bmN0aW9uIG5nQXR0ckFsaWFzV2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIGF0dHIuJHNldChuZ0F0dHIsIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9O1xyXG59KTtcclxuXHJcbi8vIG5nLXNyYywgbmctc3Jjc2V0LCBuZy1ocmVmIGFyZSBpbnRlcnBvbGF0ZWRcclxuZm9yRWFjaChbJ3NyYycsICdzcmNzZXQnLCAnaHJlZiddLCBmdW5jdGlvbihhdHRyTmFtZSkge1xyXG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xyXG4gIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzW25vcm1hbGl6ZWRdID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwcmlvcml0eTogOTksIC8vIGl0IG5lZWRzIHRvIHJ1biBhZnRlciB0aGUgYXR0cmlidXRlcyBhcmUgaW50ZXJwb2xhdGVkXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgdmFyIHByb3BOYW1lID0gYXR0ck5hbWUsXHJcbiAgICAgICAgICAgIG5hbWUgPSBhdHRyTmFtZTtcclxuXHJcbiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicgJiZcclxuICAgICAgICAgICAgdG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcclxuICAgICAgICAgIG5hbWUgPSAneGxpbmtIcmVmJztcclxuICAgICAgICAgIGF0dHIuJGF0dHJbbmFtZV0gPSAneGxpbms6aHJlZic7XHJcbiAgICAgICAgICBwcm9wTmFtZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhdHRyLiRvYnNlcnZlKG5vcm1hbGl6ZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmIChhdHRyTmFtZSA9PT0gJ2hyZWYnKSB7XHJcbiAgICAgICAgICAgICAgYXR0ci4kc2V0KG5hbWUsIG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBhdHRyLiRzZXQobmFtZSwgdmFsdWUpO1xyXG5cclxuICAgICAgICAgIC8vIG9uIElFLCBpZiBcIm5nOnNyY1wiIGRpcmVjdGl2ZSBkZWNsYXJhdGlvbiBpcyB1c2VkIGFuZCBcInNyY1wiIGF0dHJpYnV0ZSBkb2Vzbid0IGV4aXN0XHJcbiAgICAgICAgICAvLyB0aGVuIGNhbGxpbmcgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsICdmb28nKSBkb2Vzbid0IGRvIGFueXRoaW5nLCBzbyB3ZSBuZWVkXHJcbiAgICAgICAgICAvLyB0byBzZXQgdGhlIHByb3BlcnR5IGFzIHdlbGwgdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCBlZmZlY3QuXHJcbiAgICAgICAgICAvLyB3ZSB1c2UgYXR0clthdHRyTmFtZV0gdmFsdWUgc2luY2UgJHNldCBjYW4gc2FuaXRpemUgdGhlIHVybC5cclxuICAgICAgICAgIGlmIChtc2llICYmIHByb3BOYW1lKSBlbGVtZW50LnByb3AocHJvcE5hbWUsIGF0dHJbbmFtZV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcbn0pO1xyXG5cclxuLyogZ2xvYmFsIC1udWxsRm9ybUN0cmwsIC1TVUJNSVRURURfQ0xBU1MsIGFkZFNldFZhbGlkaXR5TWV0aG9kOiB0cnVlXHJcbiAqL1xyXG52YXIgbnVsbEZvcm1DdHJsID0ge1xyXG4gICRhZGRDb250cm9sOiBub29wLFxyXG4gICQkcmVuYW1lQ29udHJvbDogbnVsbEZvcm1SZW5hbWVDb250cm9sLFxyXG4gICRyZW1vdmVDb250cm9sOiBub29wLFxyXG4gICRzZXRWYWxpZGl0eTogbm9vcCxcclxuICAkc2V0RGlydHk6IG5vb3AsXHJcbiAgJHNldFByaXN0aW5lOiBub29wLFxyXG4gICRzZXRTdWJtaXR0ZWQ6IG5vb3BcclxufSxcclxuU1VCTUlUVEVEX0NMQVNTID0gJ25nLXN1Ym1pdHRlZCc7XHJcblxyXG5mdW5jdGlvbiBudWxsRm9ybVJlbmFtZUNvbnRyb2woY29udHJvbCwgbmFtZSkge1xyXG4gIGNvbnRyb2wuJG5hbWUgPSBuYW1lO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHR5cGVcclxuICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlclxyXG4gKlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRwcmlzdGluZSBUcnVlIGlmIHVzZXIgaGFzIG5vdCBpbnRlcmFjdGVkIHdpdGggdGhlIGZvcm0geWV0LlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRkaXJ0eSBUcnVlIGlmIHVzZXIgaGFzIGFscmVhZHkgaW50ZXJhY3RlZCB3aXRoIHRoZSBmb3JtLlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR2YWxpZCBUcnVlIGlmIGFsbCBvZiB0aGUgY29udGFpbmluZyBmb3JtcyBhbmQgY29udHJvbHMgYXJlIHZhbGlkLlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRpbnZhbGlkIFRydWUgaWYgYXQgbGVhc3Qgb25lIGNvbnRhaW5pbmcgY29udHJvbCBvciBmb3JtIGlzIGludmFsaWQuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHBlbmRpbmcgVHJ1ZSBpZiBhdCBsZWFzdCBvbmUgY29udGFpbmluZyBjb250cm9sIG9yIGZvcm0gaXMgcGVuZGluZy5cclxuICogQHByb3BlcnR5IHtib29sZWFufSAkc3VibWl0dGVkIFRydWUgaWYgdXNlciBoYXMgc3VibWl0dGVkIHRoZSBmb3JtIGV2ZW4gaWYgaXRzIGludmFsaWQuXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAkZXJyb3IgSXMgYW4gb2JqZWN0IGhhc2gsIGNvbnRhaW5pbmcgcmVmZXJlbmNlcyB0byBjb250cm9scyBvclxyXG4gKiAgZm9ybXMgd2l0aCBmYWlsaW5nIHZhbGlkYXRvcnMsIHdoZXJlOlxyXG4gKlxyXG4gKiAgLSBrZXlzIGFyZSB2YWxpZGF0aW9uIHRva2VucyAoZXJyb3IgbmFtZXMpLFxyXG4gKiAgLSB2YWx1ZXMgYXJlIGFycmF5cyBvZiBjb250cm9scyBvciBmb3JtcyB0aGF0IGhhdmUgYSBmYWlsaW5nIHZhbGlkYXRvciBmb3IgZ2l2ZW4gZXJyb3IgbmFtZS5cclxuICpcclxuICogIEJ1aWx0LWluIHZhbGlkYXRpb24gdG9rZW5zOlxyXG4gKlxyXG4gKiAgLSBgZW1haWxgXHJcbiAqICAtIGBtYXhgXHJcbiAqICAtIGBtYXhsZW5ndGhgXHJcbiAqICAtIGBtaW5gXHJcbiAqICAtIGBtaW5sZW5ndGhgXHJcbiAqICAtIGBudW1iZXJgXHJcbiAqICAtIGBwYXR0ZXJuYFxyXG4gKiAgLSBgcmVxdWlyZWRgXHJcbiAqICAtIGB1cmxgXHJcbiAqICAtIGBkYXRlYFxyXG4gKiAgLSBgZGF0ZXRpbWVsb2NhbGBcclxuICogIC0gYHRpbWVgXHJcbiAqICAtIGB3ZWVrYFxyXG4gKiAgLSBgbW9udGhgXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBgRm9ybUNvbnRyb2xsZXJgIGtlZXBzIHRyYWNrIG9mIGFsbCBpdHMgY29udHJvbHMgYW5kIG5lc3RlZCBmb3JtcyBhcyB3ZWxsIGFzIHRoZSBzdGF0ZSBvZiB0aGVtLFxyXG4gKiBzdWNoIGFzIGJlaW5nIHZhbGlkL2ludmFsaWQgb3IgZGlydHkvcHJpc3RpbmUuXHJcbiAqXHJcbiAqIEVhY2gge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGZvcm19IGRpcmVjdGl2ZSBjcmVhdGVzIGFuIGluc3RhbmNlXHJcbiAqIG9mIGBGb3JtQ29udHJvbGxlcmAuXHJcbiAqXHJcbiAqL1xyXG4vL2Fza3MgZm9yICRzY29wZSB0byBmb29sIHRoZSBCQyBjb250cm9sbGVyIG1vZHVsZVxyXG5Gb3JtQ29udHJvbGxlci4kaW5qZWN0ID0gWyckZWxlbWVudCcsICckYXR0cnMnLCAnJHNjb3BlJywgJyRhbmltYXRlJywgJyRpbnRlcnBvbGF0ZSddO1xyXG5mdW5jdGlvbiBGb3JtQ29udHJvbGxlcihlbGVtZW50LCBhdHRycywgJHNjb3BlLCAkYW5pbWF0ZSwgJGludGVycG9sYXRlKSB7XHJcbiAgdmFyIGZvcm0gPSB0aGlzLFxyXG4gICAgICBjb250cm9scyA9IFtdO1xyXG5cclxuICAvLyBpbml0IHN0YXRlXHJcbiAgZm9ybS4kZXJyb3IgPSB7fTtcclxuICBmb3JtLiQkc3VjY2VzcyA9IHt9O1xyXG4gIGZvcm0uJHBlbmRpbmcgPSB1bmRlZmluZWQ7XHJcbiAgZm9ybS4kbmFtZSA9ICRpbnRlcnBvbGF0ZShhdHRycy5uYW1lIHx8IGF0dHJzLm5nRm9ybSB8fCAnJykoJHNjb3BlKTtcclxuICBmb3JtLiRkaXJ0eSA9IGZhbHNlO1xyXG4gIGZvcm0uJHByaXN0aW5lID0gdHJ1ZTtcclxuICBmb3JtLiR2YWxpZCA9IHRydWU7XHJcbiAgZm9ybS4kaW52YWxpZCA9IGZhbHNlO1xyXG4gIGZvcm0uJHN1Ym1pdHRlZCA9IGZhbHNlO1xyXG4gIGZvcm0uJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkcm9sbGJhY2tWaWV3VmFsdWVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJvbGxiYWNrIGFsbCBmb3JtIGNvbnRyb2xzIHBlbmRpbmcgdXBkYXRlcyB0byB0aGUgYCRtb2RlbFZhbHVlYC5cclxuICAgKlxyXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxyXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiBUaGlzIG1ldGhvZCBpcyB0eXBpY2FsbHkgbmVlZGVkIGJ5IHRoZSByZXNldCBidXR0b24gb2ZcclxuICAgKiBhIGZvcm0gdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBwZW5kIHVwZGF0ZXMuXHJcbiAgICovXHJcbiAgZm9ybS4kcm9sbGJhY2tWaWV3VmFsdWUgPSBmdW5jdGlvbigpIHtcclxuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcclxuICAgICAgY29udHJvbC4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRjb21taXRWaWV3VmFsdWVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENvbW1pdCBhbGwgZm9ybSBjb250cm9scyBwZW5kaW5nIHVwZGF0ZXMgdG8gdGhlIGAkbW9kZWxWYWx1ZWAuXHJcbiAgICpcclxuICAgKiBVcGRhdGVzIG1heSBiZSBwZW5kaW5nIGJ5IGEgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZSBmdXR1cmVcclxuICAgKiBldmVudCBkZWZpbmVkIGluIGBuZy1tb2RlbC1vcHRpb25zYC4gVGhpcyBtZXRob2QgaXMgcmFyZWx5IG5lZWRlZCBhcyBgTmdNb2RlbENvbnRyb2xsZXJgXHJcbiAgICogdXN1YWxseSBoYW5kbGVzIGNhbGxpbmcgdGhpcyBpbiByZXNwb25zZSB0byBpbnB1dCBldmVudHMuXHJcbiAgICovXHJcbiAgZm9ybS4kY29tbWl0Vmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBmb3JFYWNoKGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XHJcbiAgICAgIGNvbnRyb2wuJGNvbW1pdFZpZXdWYWx1ZSgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJGFkZENvbnRyb2xcclxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udHJvbCBjb250cm9sIG9iamVjdCwgZWl0aGVyIGEge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXJ9IG9yIGFuXHJcbiAgICoge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXJ9XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZWdpc3RlciBhIGNvbnRyb2wgd2l0aCB0aGUgZm9ybS4gSW5wdXQgZWxlbWVudHMgdXNpbmcgbmdNb2RlbENvbnRyb2xsZXIgZG8gdGhpcyBhdXRvbWF0aWNhbGx5XHJcbiAgICogd2hlbiB0aGV5IGFyZSBsaW5rZWQuXHJcbiAgICpcclxuICAgKiBOb3RlIHRoYXQgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNvbnRyb2wgd2lsbCBub3QgYmUgcmVmbGVjdGVkIG9uIHRoZSBuZXcgcGFyZW50IGZvcm0uIFRoaXNcclxuICAgKiBpcyBub3QgYW4gaXNzdWUgd2l0aCBub3JtYWwgdXNlLCBhcyBmcmVzaGx5IGNvbXBpbGVkIGFuZCBsaW5rZWQgY29udHJvbHMgYXJlIGluIGEgYCRwcmlzdGluZWBcclxuICAgKiBzdGF0ZS5cclxuICAgKlxyXG4gICAqIEhvd2V2ZXIsIGlmIHRoZSBtZXRob2QgaXMgdXNlZCBwcm9ncmFtbWF0aWNhbGx5LCBmb3IgZXhhbXBsZSBieSBhZGRpbmcgZHluYW1pY2FsbHkgY3JlYXRlZCBjb250cm9scyxcclxuICAgKiBvciBjb250cm9scyB0aGF0IGhhdmUgYmVlbiBwcmV2aW91c2x5IHJlbW92ZWQgd2l0aG91dCBkZXN0cm95aW5nIHRoZWlyIGNvcnJlc3BvbmRpbmcgRE9NIGVsZW1lbnQsXHJcbiAgICogaXQncyB0aGUgZGV2ZWxvcGVycyByZXNwb25zaWJpbGl0eSB0byBtYWtlIHN1cmUgdGhlIGN1cnJlbnQgc3RhdGUgcHJvcGFnYXRlcyB0byB0aGUgcGFyZW50IGZvcm0uXHJcbiAgICpcclxuICAgKiBGb3IgZXhhbXBsZSwgaWYgYW4gaW5wdXQgY29udHJvbCBpcyBhZGRlZCB0aGF0IGlzIGFscmVhZHkgYCRkaXJ0eWAgYW5kIGhhcyBgJGVycm9yYCBwcm9wZXJ0aWVzLFxyXG4gICAqIGNhbGxpbmcgYCRzZXREaXJ0eSgpYCBhbmQgYCR2YWxpZGF0ZSgpYCBhZnRlcndhcmRzIHdpbGwgcHJvcGFnYXRlIHRoZSBzdGF0ZSB0byB0aGUgcGFyZW50IGZvcm0uXHJcbiAgICovXHJcbiAgZm9ybS4kYWRkQ29udHJvbCA9IGZ1bmN0aW9uKGNvbnRyb2wpIHtcclxuICAgIC8vIEJyZWFraW5nIGNoYW5nZSAtIGJlZm9yZSwgaW5wdXRzIHdob3NlIG5hbWUgd2FzIFwiaGFzT3duUHJvcGVydHlcIiB3ZXJlIHF1aWV0bHkgaWdub3JlZFxyXG4gICAgLy8gYW5kIG5vdCBhZGRlZCB0byB0aGUgc2NvcGUuICBOb3cgd2UgdGhyb3cgYW4gZXJyb3IuXHJcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShjb250cm9sLiRuYW1lLCAnaW5wdXQnKTtcclxuICAgIGNvbnRyb2xzLnB1c2goY29udHJvbCk7XHJcblxyXG4gICAgaWYgKGNvbnRyb2wuJG5hbWUpIHtcclxuICAgICAgZm9ybVtjb250cm9sLiRuYW1lXSA9IGNvbnRyb2w7XHJcbiAgICB9XHJcblxyXG4gICAgY29udHJvbC4kJHBhcmVudEZvcm0gPSBmb3JtO1xyXG4gIH07XHJcblxyXG4gIC8vIFByaXZhdGUgQVBJOiByZW5hbWUgYSBmb3JtIGNvbnRyb2xcclxuICBmb3JtLiQkcmVuYW1lQ29udHJvbCA9IGZ1bmN0aW9uKGNvbnRyb2wsIG5ld05hbWUpIHtcclxuICAgIHZhciBvbGROYW1lID0gY29udHJvbC4kbmFtZTtcclxuXHJcbiAgICBpZiAoZm9ybVtvbGROYW1lXSA9PT0gY29udHJvbCkge1xyXG4gICAgICBkZWxldGUgZm9ybVtvbGROYW1lXTtcclxuICAgIH1cclxuICAgIGZvcm1bbmV3TmFtZV0gPSBjb250cm9sO1xyXG4gICAgY29udHJvbC4kbmFtZSA9IG5ld05hbWU7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHJlbW92ZUNvbnRyb2xcclxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udHJvbCBjb250cm9sIG9iamVjdCwgZWl0aGVyIGEge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXJ9IG9yIGFuXHJcbiAgICoge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXJ9XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBEZXJlZ2lzdGVyIGEgY29udHJvbCBmcm9tIHRoZSBmb3JtLlxyXG4gICAqXHJcbiAgICogSW5wdXQgZWxlbWVudHMgdXNpbmcgbmdNb2RlbENvbnRyb2xsZXIgZG8gdGhpcyBhdXRvbWF0aWNhbGx5IHdoZW4gdGhleSBhcmUgZGVzdHJveWVkLlxyXG4gICAqXHJcbiAgICogTm90ZSB0aGF0IG9ubHkgdGhlIHJlbW92ZWQgY29udHJvbCdzIHZhbGlkYXRpb24gc3RhdGUgKGAkZXJyb3JzYGV0Yy4pIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZVxyXG4gICAqIGZvcm0uIGAkZGlydHlgLCBgJHN1Ym1pdHRlZGAgc3RhdGVzIHdpbGwgbm90IGJlIGNoYW5nZWQsIGJlY2F1c2UgdGhlIGV4cGVjdGVkIGJlaGF2aW9yIGNhbiBiZVxyXG4gICAqIGRpZmZlcmVudCBmcm9tIGNhc2UgdG8gY2FzZS4gRm9yIGV4YW1wbGUsIHJlbW92aW5nIHRoZSBvbmx5IGAkZGlydHlgIGNvbnRyb2wgZnJvbSBhIGZvcm0gbWF5IG9yXHJcbiAgICogbWF5IG5vdCBtZWFuIHRoYXQgdGhlIGZvcm0gaXMgc3RpbGwgYCRkaXJ0eWAuXHJcbiAgICovXHJcbiAgZm9ybS4kcmVtb3ZlQ29udHJvbCA9IGZ1bmN0aW9uKGNvbnRyb2wpIHtcclxuICAgIGlmIChjb250cm9sLiRuYW1lICYmIGZvcm1bY29udHJvbC4kbmFtZV0gPT09IGNvbnRyb2wpIHtcclxuICAgICAgZGVsZXRlIGZvcm1bY29udHJvbC4kbmFtZV07XHJcbiAgICB9XHJcbiAgICBmb3JFYWNoKGZvcm0uJHBlbmRpbmcsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XHJcbiAgICAgIGZvcm0uJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xyXG4gICAgfSk7XHJcbiAgICBmb3JFYWNoKGZvcm0uJGVycm9yLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xyXG4gICAgICBmb3JtLiRzZXRWYWxpZGl0eShuYW1lLCBudWxsLCBjb250cm9sKTtcclxuICAgIH0pO1xyXG4gICAgZm9yRWFjaChmb3JtLiQkc3VjY2VzcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcclxuICAgICAgZm9ybS4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhcnJheVJlbW92ZShjb250cm9scywgY29udHJvbCk7XHJcbiAgICBjb250cm9sLiQkcGFyZW50Rm9ybSA9IG51bGxGb3JtQ3RybDtcclxuICB9O1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFZhbGlkaXR5XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSB2YWxpZGl0eSBvZiBhIGZvcm0gY29udHJvbC5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gcGFyZW50IGZvcm1zLlxyXG4gICAqL1xyXG4gIGFkZFNldFZhbGlkaXR5TWV0aG9kKHtcclxuICAgIGN0cmw6IHRoaXMsXHJcbiAgICAkZWxlbWVudDogZWxlbWVudCxcclxuICAgIHNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgY29udHJvbGxlcikge1xyXG4gICAgICB2YXIgbGlzdCA9IG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICAgIGlmICghbGlzdCkge1xyXG4gICAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBbY29udHJvbGxlcl07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gbGlzdC5pbmRleE9mKGNvbnRyb2xsZXIpO1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgIGxpc3QucHVzaChjb250cm9sbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1bnNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgY29udHJvbGxlcikge1xyXG4gICAgICB2YXIgbGlzdCA9IG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICAgIGlmICghbGlzdCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBhcnJheVJlbW92ZShsaXN0LCBjb250cm9sbGVyKTtcclxuICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAkYW5pbWF0ZTogJGFuaW1hdGVcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldERpcnR5XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGEgZGlydHkgc3RhdGUuXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIGFkZCB0aGUgJ25nLWRpcnR5JyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIHRvIGEgZGlydHlcclxuICAgKiBzdGF0ZSAobmctZGlydHkgY2xhc3MpLiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIHBhcmVudCBmb3Jtcy5cclxuICAgKi9cclxuICBmb3JtLiRzZXREaXJ0eSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MpO1xyXG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgRElSVFlfQ0xBU1MpO1xyXG4gICAgZm9ybS4kZGlydHkgPSB0cnVlO1xyXG4gICAgZm9ybS4kcHJpc3RpbmUgPSBmYWxzZTtcclxuICAgIGZvcm0uJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRQcmlzdGluZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU2V0cyB0aGUgZm9ybSB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgJ25nLWRpcnR5JyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIHRvIGl0cyBwcmlzdGluZVxyXG4gICAqIHN0YXRlIChuZy1wcmlzdGluZSBjbGFzcykuIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gYWxsIHRoZSBjb250cm9scyBjb250YWluZWRcclxuICAgKiBpbiB0aGlzIGZvcm0uXHJcbiAgICpcclxuICAgKiBTZXR0aW5nIGEgZm9ybSBiYWNrIHRvIGEgcHJpc3RpbmUgc3RhdGUgaXMgb2Z0ZW4gdXNlZnVsIHdoZW4gd2Ugd2FudCB0byAncmV1c2UnIGEgZm9ybSBhZnRlclxyXG4gICAqIHNhdmluZyBvciByZXNldHRpbmcgaXQuXHJcbiAgICovXHJcbiAgZm9ybS4kc2V0UHJpc3RpbmUgPSBmdW5jdGlvbigpIHtcclxuICAgICRhbmltYXRlLnNldENsYXNzKGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTLCBESVJUWV9DTEFTUyArICcgJyArIFNVQk1JVFRFRF9DTEFTUyk7XHJcbiAgICBmb3JtLiRkaXJ0eSA9IGZhbHNlO1xyXG4gICAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlO1xyXG4gICAgZm9ybS4kc3VibWl0dGVkID0gZmFsc2U7XHJcbiAgICBmb3JFYWNoKGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XHJcbiAgICAgIGNvbnRyb2wuJHNldFByaXN0aW5lKCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0VW50b3VjaGVkXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyB1bnRvdWNoZWQgc3RhdGUuXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgJ25nLXRvdWNoZWQnIGNsYXNzIGFuZCBzZXQgdGhlIGZvcm0gY29udHJvbHMgdG8gdGhlaXJcclxuICAgKiB1bnRvdWNoZWQgc3RhdGUgKG5nLXVudG91Y2hlZCBjbGFzcykuXHJcbiAgICpcclxuICAgKiBTZXR0aW5nIGEgZm9ybSBjb250cm9scyBiYWNrIHRvIHRoZWlyIHVudG91Y2hlZCBzdGF0ZSBpcyBvZnRlbiB1c2VmdWwgd2hlbiBzZXR0aW5nIHRoZSBmb3JtXHJcbiAgICogYmFjayB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXHJcbiAgICovXHJcbiAgZm9ybS4kc2V0VW50b3VjaGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICBmb3JFYWNoKGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XHJcbiAgICAgIGNvbnRyb2wuJHNldFVudG91Y2hlZCgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFN1Ym1pdHRlZFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU2V0cyB0aGUgZm9ybSB0byBpdHMgc3VibWl0dGVkIHN0YXRlLlxyXG4gICAqL1xyXG4gIGZvcm0uJHNldFN1Ym1pdHRlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgU1VCTUlUVEVEX0NMQVNTKTtcclxuICAgIGZvcm0uJHN1Ym1pdHRlZCA9IHRydWU7XHJcbiAgICBmb3JtLiQkcGFyZW50Rm9ybS4kc2V0U3VibWl0dGVkKCk7XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdGb3JtXHJcbiAqIEByZXN0cmljdCBFQUNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIE5lc3RhYmxlIGFsaWFzIG9mIHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBgZm9ybWB9IGRpcmVjdGl2ZS4gSFRNTFxyXG4gKiBkb2VzIG5vdCBhbGxvdyBuZXN0aW5nIG9mIGZvcm0gZWxlbWVudHMuIEl0IGlzIHVzZWZ1bCB0byBuZXN0IGZvcm1zLCBmb3IgZXhhbXBsZSBpZiB0aGUgdmFsaWRpdHkgb2YgYVxyXG4gKiBzdWItZ3JvdXAgb2YgY29udHJvbHMgbmVlZHMgdG8gYmUgZGV0ZXJtaW5lZC5cclxuICpcclxuICogTm90ZTogdGhlIHB1cnBvc2Ugb2YgYG5nRm9ybWAgaXMgdG8gZ3JvdXAgY29udHJvbHMsXHJcbiAqIGJ1dCBub3QgdG8gYmUgYSByZXBsYWNlbWVudCBmb3IgdGhlIGA8Zm9ybT5gIHRhZyB3aXRoIGFsbCBvZiBpdHMgY2FwYWJpbGl0aWVzXHJcbiAqIChlLmcuIHBvc3RpbmcgdG8gdGhlIHNlcnZlciwgLi4uKS5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0Zvcm18bmFtZSBOYW1lIG9mIHRoZSBmb3JtLiBJZiBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgd2lsbCBiZSBwdWJsaXNoZWQgaW50b1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZCBzY29wZSwgdW5kZXIgdGhpcyBuYW1lLlxyXG4gKlxyXG4gKi9cclxuXHJcbiAvKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBmb3JtXHJcbiAqIEByZXN0cmljdCBFXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEaXJlY3RpdmUgdGhhdCBpbnN0YW50aWF0ZXNcclxuICoge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXIgRm9ybUNvbnRyb2xsZXJ9LlxyXG4gKlxyXG4gKiBJZiB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBpcyBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgaXMgcHVibGlzaGVkIG9udG8gdGhlIGN1cnJlbnQgc2NvcGUgdW5kZXJcclxuICogdGhpcyBuYW1lLlxyXG4gKlxyXG4gKiAjIEFsaWFzOiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nRm9ybSBgbmdGb3JtYH1cclxuICpcclxuICogSW4gQW5ndWxhciwgZm9ybXMgY2FuIGJlIG5lc3RlZC4gVGhpcyBtZWFucyB0aGF0IHRoZSBvdXRlciBmb3JtIGlzIHZhbGlkIHdoZW4gYWxsIG9mIHRoZSBjaGlsZFxyXG4gKiBmb3JtcyBhcmUgdmFsaWQgYXMgd2VsbC4gSG93ZXZlciwgYnJvd3NlcnMgZG8gbm90IGFsbG93IG5lc3Rpbmcgb2YgYDxmb3JtPmAgZWxlbWVudHMsIHNvXHJcbiAqIEFuZ3VsYXIgcHJvdmlkZXMgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdGb3JtIGBuZ0Zvcm1gfSBkaXJlY3RpdmUsIHdoaWNoIGJlaGF2ZXMgaWRlbnRpY2FsbHkgdG9cclxuICogYGZvcm1gIGJ1dCBjYW4gYmUgbmVzdGVkLiBOZXN0ZWQgZm9ybXMgY2FuIGJlIHVzZWZ1bCwgZm9yIGV4YW1wbGUsIGlmIHRoZSB2YWxpZGl0eSBvZiBhIHN1Yi1ncm91cFxyXG4gKiBvZiBjb250cm9scyBuZWVkcyB0byBiZSBkZXRlcm1pbmVkLlxyXG4gKlxyXG4gKiAjIENTUyBjbGFzc2VzXHJcbiAqICAtIGBuZy12YWxpZGAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIHZhbGlkLlxyXG4gKiAgLSBgbmctaW52YWxpZGAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIGludmFsaWQuXHJcbiAqICAtIGBuZy1wZW5kaW5nYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgcGVuZGluZy5cclxuICogIC0gYG5nLXByaXN0aW5lYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgcHJpc3RpbmUuXHJcbiAqICAtIGBuZy1kaXJ0eWAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIGRpcnR5LlxyXG4gKiAgLSBgbmctc3VibWl0dGVkYCBpcyBzZXQgaWYgdGhlIGZvcm0gd2FzIHN1Ym1pdHRlZC5cclxuICpcclxuICogS2VlcCBpbiBtaW5kIHRoYXQgbmdBbmltYXRlIGNhbiBkZXRlY3QgZWFjaCBvZiB0aGVzZSBjbGFzc2VzIHdoZW4gYWRkZWQgYW5kIHJlbW92ZWQuXHJcbiAqXHJcbiAqXHJcbiAqICMgU3VibWl0dGluZyBhIGZvcm0gYW5kIHByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYWN0aW9uXHJcbiAqXHJcbiAqIFNpbmNlIHRoZSByb2xlIG9mIGZvcm1zIGluIGNsaWVudC1zaWRlIEFuZ3VsYXIgYXBwbGljYXRpb25zIGlzIGRpZmZlcmVudCB0aGFuIGluIGNsYXNzaWNhbFxyXG4gKiByb3VuZHRyaXAgYXBwcywgaXQgaXMgZGVzaXJhYmxlIGZvciB0aGUgYnJvd3NlciBub3QgdG8gdHJhbnNsYXRlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaW50byBhIGZ1bGxcclxuICogcGFnZSByZWxvYWQgdGhhdCBzZW5kcyB0aGUgZGF0YSB0byB0aGUgc2VydmVyLiBJbnN0ZWFkIHNvbWUgamF2YXNjcmlwdCBsb2dpYyBzaG91bGQgYmUgdHJpZ2dlcmVkXHJcbiAqIHRvIGhhbmRsZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGluIGFuIGFwcGxpY2F0aW9uLXNwZWNpZmljIHdheS5cclxuICpcclxuICogRm9yIHRoaXMgcmVhc29uLCBBbmd1bGFyIHByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvbiAoZm9ybSBzdWJtaXNzaW9uIHRvIHRoZSBzZXJ2ZXIpIHVubGVzcyB0aGVcclxuICogYDxmb3JtPmAgZWxlbWVudCBoYXMgYW4gYGFjdGlvbmAgYXR0cmlidXRlIHNwZWNpZmllZC5cclxuICpcclxuICogWW91IGNhbiB1c2Ugb25lIG9mIHRoZSBmb2xsb3dpbmcgdHdvIHdheXMgdG8gc3BlY2lmeSB3aGF0IGphdmFzY3JpcHQgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgd2hlblxyXG4gKiBhIGZvcm0gaXMgc3VibWl0dGVkOlxyXG4gKlxyXG4gKiAtIHtAbGluayBuZy5kaXJlY3RpdmU6bmdTdWJtaXQgbmdTdWJtaXR9IGRpcmVjdGl2ZSBvbiB0aGUgZm9ybSBlbGVtZW50XHJcbiAqIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9IGRpcmVjdGl2ZSBvbiB0aGUgZmlyc3RcclxuICAqICBidXR0b24gb3IgaW5wdXQgZmllbGQgb2YgdHlwZSBzdWJtaXQgKGlucHV0W3R5cGU9c3VibWl0XSlcclxuICpcclxuICogVG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uIG9mIHRoZSBoYW5kbGVyLCB1c2Ugb25seSBvbmUgb2YgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdTdWJtaXQgbmdTdWJtaXR9XHJcbiAqIG9yIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfSBkaXJlY3RpdmVzLlxyXG4gKiBUaGlzIGlzIGJlY2F1c2Ugb2YgdGhlIGZvbGxvd2luZyBmb3JtIHN1Ym1pc3Npb24gcnVsZXMgaW4gdGhlIEhUTUwgc3BlY2lmaWNhdGlvbjpcclxuICpcclxuICogLSBJZiBhIGZvcm0gaGFzIG9ubHkgb25lIGlucHV0IGZpZWxkIHRoZW4gaGl0dGluZyBlbnRlciBpbiB0aGlzIGZpZWxkIHRyaWdnZXJzIGZvcm0gc3VibWl0XHJcbiAqIChgbmdTdWJtaXRgKVxyXG4gKiAtIGlmIGEgZm9ybSBoYXMgMisgaW5wdXQgZmllbGRzIGFuZCBubyBidXR0b25zIG9yIGlucHV0W3R5cGU9c3VibWl0XSB0aGVuIGhpdHRpbmcgZW50ZXJcclxuICogZG9lc24ndCB0cmlnZ2VyIHN1Ym1pdFxyXG4gKiAtIGlmIGEgZm9ybSBoYXMgb25lIG9yIG1vcmUgaW5wdXQgZmllbGRzIGFuZCBvbmUgb3IgbW9yZSBidXR0b25zIG9yIGlucHV0W3R5cGU9c3VibWl0XSB0aGVuXHJcbiAqIGhpdHRpbmcgZW50ZXIgaW4gYW55IG9mIHRoZSBpbnB1dCBmaWVsZHMgd2lsbCB0cmlnZ2VyIHRoZSBjbGljayBoYW5kbGVyIG9uIHRoZSAqZmlyc3QqIGJ1dHRvbiBvclxyXG4gKiBpbnB1dFt0eXBlPXN1Ym1pdF0gKGBuZ0NsaWNrYCkgKmFuZCogYSBzdWJtaXQgaGFuZGxlciBvbiB0aGUgZW5jbG9zaW5nIGZvcm0gKGBuZ1N1Ym1pdGApXHJcbiAqXHJcbiAqIEFueSBwZW5kaW5nIGBuZ01vZGVsT3B0aW9uc2AgY2hhbmdlcyB3aWxsIHRha2UgcGxhY2UgaW1tZWRpYXRlbHkgd2hlbiBhbiBlbmNsb3NpbmcgZm9ybSBpc1xyXG4gKiBzdWJtaXR0ZWQuIE5vdGUgdGhhdCBgbmdDbGlja2AgZXZlbnRzIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBtb2RlbCBpcyB1cGRhdGVkLiBVc2UgYG5nU3VibWl0YFxyXG4gKiB0byBoYXZlIGFjY2VzcyB0byB0aGUgdXBkYXRlZCBtb2RlbC5cclxuICpcclxuICogIyMgQW5pbWF0aW9uIEhvb2tzXHJcbiAqXHJcbiAqIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSB0cmlnZ2VyZWQgd2hlbiBhbnkgb2YgdGhlIGFzc29jaWF0ZWQgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkLlxyXG4gKiBUaGVzZSBjbGFzc2VzIGFyZTogYC5uZy1wcmlzdGluZWAsIGAubmctZGlydHlgLCBgLm5nLWludmFsaWRgIGFuZCBgLm5nLXZhbGlkYCBhcyB3ZWxsIGFzIGFueVxyXG4gKiBvdGhlciB2YWxpZGF0aW9ucyB0aGF0IGFyZSBwZXJmb3JtZWQgd2l0aGluIHRoZSBmb3JtLiBBbmltYXRpb25zIGluIG5nRm9ybSBhcmUgc2ltaWxhciB0byBob3dcclxuICogdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGxcclxuICogYXMgSlMgYW5pbWF0aW9ucy5cclxuICpcclxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhIGZvcm0gZWxlbWVudFxyXG4gKiB0aGF0IGhhcyBiZWVuIHJlbmRlcmVkIGFzIGludmFsaWQgYWZ0ZXIgaXQgaGFzIGJlZW4gdmFsaWRhdGVkOlxyXG4gKlxyXG4gKiA8cHJlPlxyXG4gKiAvL2JlIHN1cmUgdG8gaW5jbHVkZSBuZ0FuaW1hdGUgYXMgYSBtb2R1bGUgdG8gaG9vayBpbnRvIG1vcmVcclxuICogLy9hZHZhbmNlZCBhbmltYXRpb25zXHJcbiAqIC5teS1mb3JtIHtcclxuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcclxuICogICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICogfVxyXG4gKiAubXktZm9ybS5uZy1pbnZhbGlkIHtcclxuICogICBiYWNrZ3JvdW5kOiByZWQ7XHJcbiAqICAgY29sb3I6d2hpdGU7XHJcbiAqIH1cclxuICogPC9wcmU+XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZSBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBmaXhCYXNlPVwidHJ1ZVwiIG1vZHVsZT1cImZvcm1FeGFtcGxlXCI+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZm9ybUV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignRm9ybUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgJHNjb3BlLnVzZXJUeXBlID0gJ2d1ZXN0JztcclxuICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxzdHlsZT5cclxuICAgICAgICAubXktZm9ybSB7XHJcbiAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcclxuICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICAubXktZm9ybS5uZy1pbnZhbGlkIHtcclxuICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcclxuICAgICAgICB9XHJcbiAgICAgICA8L3N0eWxlPlxyXG4gICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJGb3JtQ29udHJvbGxlclwiIGNsYXNzPVwibXktZm9ybVwiPlxyXG4gICAgICAgICB1c2VyVHlwZTogPGlucHV0IG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwidXNlclR5cGVcIiByZXF1aXJlZD5cclxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+UmVxdWlyZWQhPC9zcGFuPjxicj5cclxuICAgICAgICAgPGNvZGU+dXNlclR5cGUgPSB7e3VzZXJUeXBlfX08L2NvZGU+PGJyPlxyXG4gICAgICAgICA8Y29kZT5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L2NvZGU+PGJyPlxyXG4gICAgICAgICA8Y29kZT5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L2NvZGU+PGJyPlxyXG4gICAgICAgICA8Y29kZT5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L2NvZGU+PGJyPlxyXG4gICAgICAgICA8Y29kZT5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvY29kZT48YnI+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciB1c2VyVHlwZSA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlclR5cGUnKSk7XHJcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KHVzZXJUeXBlLmdldFRleHQoKSkudG9Db250YWluKCdndWVzdCcpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIHVzZXJUeXBlID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyVHlwZScpKTtcclxuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcclxuICAgICAgICAgIHZhciB1c2VySW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyVHlwZScpKTtcclxuXHJcbiAgICAgICAgICB1c2VySW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgIHVzZXJJbnB1dC5zZW5kS2V5cygnJyk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KHVzZXJUeXBlLmdldFRleHQoKSkudG9FcXVhbCgndXNlclR5cGUgPScpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBOYW1lIG9mIHRoZSBmb3JtLiBJZiBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgd2lsbCBiZSBwdWJsaXNoZWQgaW50b1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZCBzY29wZSwgdW5kZXIgdGhpcyBuYW1lLlxyXG4gKi9cclxudmFyIGZvcm1EaXJlY3RpdmVGYWN0b3J5ID0gZnVuY3Rpb24oaXNOZ0Zvcm0pIHtcclxuICByZXR1cm4gWyckdGltZW91dCcsICckcGFyc2UnLCBmdW5jdGlvbigkdGltZW91dCwgJHBhcnNlKSB7XHJcbiAgICB2YXIgZm9ybURpcmVjdGl2ZSA9IHtcclxuICAgICAgbmFtZTogJ2Zvcm0nLFxyXG4gICAgICByZXN0cmljdDogaXNOZ0Zvcm0gPyAnRUFDJyA6ICdFJyxcclxuICAgICAgcmVxdWlyZTogWydmb3JtJywgJ15eP2Zvcm0nXSwgLy9maXJzdCBpcyB0aGUgZm9ybSdzIG93biBjdHJsLCBzZWNvbmQgaXMgYW4gb3B0aW9uYWwgcGFyZW50IGZvcm1cclxuICAgICAgY29udHJvbGxlcjogRm9ybUNvbnRyb2xsZXIsXHJcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nRm9ybUNvbXBpbGUoZm9ybUVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAvLyBTZXR1cCBpbml0aWFsIHN0YXRlIG9mIHRoZSBjb250cm9sXHJcbiAgICAgICAgZm9ybUVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLmFkZENsYXNzKFZBTElEX0NMQVNTKTtcclxuXHJcbiAgICAgICAgdmFyIG5hbWVBdHRyID0gYXR0ci5uYW1lID8gJ25hbWUnIDogKGlzTmdGb3JtICYmIGF0dHIubmdGb3JtID8gJ25nRm9ybScgOiBmYWxzZSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBwcmU6IGZ1bmN0aW9uIG5nRm9ybVByZUxpbmsoc2NvcGUsIGZvcm1FbGVtZW50LCBhdHRyLCBjdHJscykge1xyXG4gICAgICAgICAgICB2YXIgY29udHJvbGxlciA9IGN0cmxzWzBdO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgYGFjdGlvbmAgYXR0ciBpcyBub3QgcHJlc2VudCBvbiB0aGUgZm9ybSwgcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gKHN1Ym1pc3Npb24pXHJcbiAgICAgICAgICAgIGlmICghKCdhY3Rpb24nIGluIGF0dHIpKSB7XHJcbiAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgdXNlIGpxIGV2ZW50cyBiZWNhdXNlIGlmIGEgZm9ybSBpcyBkZXN0cm95ZWQgZHVyaW5nIHN1Ym1pc3Npb24gdGhlIGRlZmF1bHRcclxuICAgICAgICAgICAgICAvLyBhY3Rpb24gaXMgbm90IHByZXZlbnRlZC4gc2VlICMxMjM4XHJcbiAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAvLyBJRSA5IGlzIG5vdCBhZmZlY3RlZCBiZWNhdXNlIGl0IGRvZXNuJ3QgZmlyZSBhIHN1Ym1pdCBldmVudCBhbmQgdHJ5IHRvIGRvIGEgZnVsbFxyXG4gICAgICAgICAgICAgIC8vIHBhZ2UgcmVsb2FkIGlmIHRoZSBmb3JtIHdhcyBkZXN0cm95ZWQgYnkgc3VibWlzc2lvbiBvZiB0aGUgZm9ybSB2aWEgYSBjbGljayBoYW5kbGVyXHJcbiAgICAgICAgICAgICAgLy8gb24gYSBidXR0b24gaW4gdGhlIGZvcm0uIExvb2tzIGxpa2UgYW4gSUU5IHNwZWNpZmljIGJ1Zy5cclxuICAgICAgICAgICAgICB2YXIgaGFuZGxlRm9ybVN1Ym1pc3Npb24gPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLiRjb21taXRWaWV3VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci4kc2V0U3VibWl0dGVkKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJGbihmb3JtRWxlbWVudFswXSwgJ3N1Ym1pdCcsIGhhbmRsZUZvcm1TdWJtaXNzaW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gdW5yZWdpc3RlciB0aGUgcHJldmVudERlZmF1bHQgbGlzdGVuZXIgc28gdGhhdCB3ZSBkb24ndCBub3QgbGVhayBtZW1vcnkgYnV0IGluIGFcclxuICAgICAgICAgICAgICAvLyB3YXkgdGhhdCB3aWxsIGFjaGlldmUgdGhlIHByZXZlbnRpb24gb2YgdGhlIGRlZmF1bHQgYWN0aW9uLlxyXG4gICAgICAgICAgICAgIGZvcm1FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihmb3JtRWxlbWVudFswXSwgJ3N1Ym1pdCcsIGhhbmRsZUZvcm1TdWJtaXNzaW9uKTtcclxuICAgICAgICAgICAgICAgIH0sIDAsIGZhbHNlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHBhcmVudEZvcm1DdHJsID0gY3RybHNbMV0gfHwgY29udHJvbGxlci4kJHBhcmVudEZvcm07XHJcbiAgICAgICAgICAgIHBhcmVudEZvcm1DdHJsLiRhZGRDb250cm9sKGNvbnRyb2xsZXIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNldHRlciA9IG5hbWVBdHRyID8gZ2V0U2V0dGVyKGNvbnRyb2xsZXIuJG5hbWUpIDogbm9vcDtcclxuXHJcbiAgICAgICAgICAgIGlmIChuYW1lQXR0cikge1xyXG4gICAgICAgICAgICAgIHNldHRlcihzY29wZSwgY29udHJvbGxlcik7XHJcbiAgICAgICAgICAgICAgYXR0ci4kb2JzZXJ2ZShuYW1lQXR0ciwgZnVuY3Rpb24obmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyLiRuYW1lID09PSBuZXdWYWx1ZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlci4kJHBhcmVudEZvcm0uJCRyZW5hbWVDb250cm9sKGNvbnRyb2xsZXIsIG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHNldHRlciA9IGdldFNldHRlcihjb250cm9sbGVyLiRuYW1lKTtcclxuICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgY29udHJvbGxlcik7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9ybUVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgY29udHJvbGxlci4kJHBhcmVudEZvcm0uJHJlbW92ZUNvbnRyb2woY29udHJvbGxlcik7XHJcbiAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgIGV4dGVuZChjb250cm9sbGVyLCBudWxsRm9ybUN0cmwpOyAvL3N0b3AgcHJvcGFnYXRpbmcgY2hpbGQgZGVzdHJ1Y3Rpb24gaGFuZGxlcnMgdXB3YXJkc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBmb3JtRGlyZWN0aXZlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFNldHRlcihleHByZXNzaW9uKSB7XHJcbiAgICAgIGlmIChleHByZXNzaW9uID09PSAnJykge1xyXG4gICAgICAgIC8vY3JlYXRlIGFuIGFzc2lnbmFibGUgZXhwcmVzc2lvbiwgc28gZm9ybXMgd2l0aCBhbiBlbXB0eSBuYW1lIGNhbiBiZSByZW5hbWVkIGxhdGVyXHJcbiAgICAgICAgcmV0dXJuICRwYXJzZSgndGhpc1tcIlwiXScpLmFzc2lnbjtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gJHBhcnNlKGV4cHJlc3Npb24pLmFzc2lnbiB8fCBub29wO1xyXG4gICAgfVxyXG4gIH1dO1xyXG59O1xyXG5cclxudmFyIGZvcm1EaXJlY3RpdmUgPSBmb3JtRGlyZWN0aXZlRmFjdG9yeSgpO1xyXG52YXIgbmdGb3JtRGlyZWN0aXZlID0gZm9ybURpcmVjdGl2ZUZhY3RvcnkodHJ1ZSk7XHJcblxyXG4vKiBnbG9iYWwgVkFMSURfQ0xBU1M6IGZhbHNlLFxyXG4gIElOVkFMSURfQ0xBU1M6IGZhbHNlLFxyXG4gIFBSSVNUSU5FX0NMQVNTOiBmYWxzZSxcclxuICBESVJUWV9DTEFTUzogZmFsc2UsXHJcbiAgVU5UT1VDSEVEX0NMQVNTOiBmYWxzZSxcclxuICBUT1VDSEVEX0NMQVNTOiBmYWxzZSxcclxuICBuZ01vZGVsTWluRXJyOiBmYWxzZSxcclxuKi9cclxuXHJcbi8vIFJlZ2V4IGNvZGUgd2FzIGluaXRpYWxseSBvYnRhaW5lZCBmcm9tIFNPIHByaW9yIHRvIG1vZGlmaWNhdGlvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzE0MzA3MC9qYXZhc2NyaXB0LXJlZ2V4LWlzby1kYXRldGltZSNhbnN3ZXItMzE0MzIzMVxyXG52YXIgSVNPX0RBVEVfUkVHRVhQID0gL15cXGR7NCx9LVswMV1cXGQtWzAtM11cXGRUWzAtMl1cXGQ6WzAtNV1cXGQ6WzAtNV1cXGRcXC5cXGQrKD86WystXVswLTJdXFxkOlswLTVdXFxkfFopJC87XHJcbi8vIFNlZSB2YWxpZCBVUkxzIGluIFJGQzM5ODcgKGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODcpXHJcbi8vIE5vdGU6IFdlIGFyZSBiZWluZyBtb3JlIGxlbmllbnQsIGJlY2F1c2UgYnJvd3NlcnMgYXJlIHRvby5cclxuLy8gICAxLiBTY2hlbWVcclxuLy8gICAyLiBTbGFzaGVzXHJcbi8vICAgMy4gVXNlcm5hbWVcclxuLy8gICA0LiBQYXNzd29yZFxyXG4vLyAgIDUuIEhvc3RuYW1lXHJcbi8vICAgNi4gUG9ydFxyXG4vLyAgIDcuIFBhdGhcclxuLy8gICA4LiBRdWVyeVxyXG4vLyAgIDkuIEZyYWdtZW50XHJcbi8vICAgICAgICAgICAgICAgICAxMTExMTExMTExMTExMTExIDIyMiAgIDMzMzMzMyAgICA0NDQ0NCAgICAgICAgNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1ICAgIDY2NiAgICAgNzc3Nzc3NzcgICAgIDg4ODg4ODggICAgIDk5OVxyXG52YXIgVVJMX1JFR0VYUCA9IC9eW2Etel1bYS16XFxkListXSo6XFwvKig/OlteOkBdKyg/OjpbXkBdKyk/QCk/KD86W15cXHM6Lz8jXSt8XFxbW2EtZlxcZDpdK1xcXSkoPzo6XFxkKyk/KD86XFwvW14/I10qKT8oPzpcXD9bXiNdKik/KD86Iy4qKT8kL2k7XHJcbnZhciBFTUFJTF9SRUdFWFAgPSAvXlthLXowLTkhIyQlJicqK1xcLz0/Xl9ge3x9fi4tXStAW2EtejAtOV0oW2EtejAtOS1dKlthLXowLTldKT8oXFwuW2EtejAtOV0oW2EtejAtOS1dKlthLXowLTldKT8pKiQvaTtcclxudmFyIE5VTUJFUl9SRUdFWFAgPSAvXlxccyooXFwtfFxcKyk/KFxcZCt8KFxcZCooXFwuXFxkKikpKShbZUVdWystXT9cXGQrKT9cXHMqJC87XHJcbnZhciBEQVRFX1JFR0VYUCA9IC9eKFxcZHs0LH0pLShcXGR7Mn0pLShcXGR7Mn0pJC87XHJcbnZhciBEQVRFVElNRUxPQ0FMX1JFR0VYUCA9IC9eKFxcZHs0LH0pLShcXGRcXGQpLShcXGRcXGQpVChcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKFxcLlxcZHsxLDN9KT8pPyQvO1xyXG52YXIgV0VFS19SRUdFWFAgPSAvXihcXGR7NCx9KS1XKFxcZFxcZCkkLztcclxudmFyIE1PTlRIX1JFR0VYUCA9IC9eKFxcZHs0LH0pLShcXGRcXGQpJC87XHJcbnZhciBUSU1FX1JFR0VYUCA9IC9eKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XHJcblxyXG52YXIgUEFSVElBTF9WQUxJREFUSU9OX0VWRU5UUyA9ICdrZXlkb3duIHdoZWVsIG1vdXNlZG93bic7XHJcbnZhciBQQVJUSUFMX1ZBTElEQVRJT05fVFlQRVMgPSBjcmVhdGVNYXAoKTtcclxuZm9yRWFjaCgnZGF0ZSxkYXRldGltZS1sb2NhbCxtb250aCx0aW1lLHdlZWsnLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHR5cGUpIHtcclxuICBQQVJUSUFMX1ZBTElEQVRJT05fVFlQRVNbdHlwZV0gPSB0cnVlO1xyXG59KTtcclxuXHJcbnZhciBpbnB1dFR5cGUgPSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAqIEBuYW1lIGlucHV0W3RleHRdXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTdGFuZGFyZCBIVE1MIHRleHQgaW5wdXQgd2l0aCBhbmd1bGFyIGRhdGEgYmluZGluZywgaW5oZXJpdGVkIGJ5IG1vc3Qgb2YgdGhlIGBpbnB1dGAgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXHJcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cclxuICAgKiAgICBtaW5sZW5ndGguXHJcbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxyXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxyXG4gICAqICAgIGFueSBsZW5ndGguXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xyXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cclxuICAgKiAgICBhcyBpbiB0aGUgbmdQYXR0ZXJuIGRpcmVjdGl2ZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XHJcbiAgICogICAgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXHJcbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXHJcbiAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cclxuICAgKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XHJcbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cclxuICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xyXG4gICAqICAgIGFjY291bnQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXHJcbiAgICogICAgVGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCBmb3IgaW5wdXRbdHlwZT1wYXNzd29yZF0gY29udHJvbHMsIHdoaWNoIHdpbGwgbmV2ZXIgdHJpbSB0aGVcclxuICAgKiAgICBpbnB1dC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJ0ZXh0LWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInRleHRJbnB1dEV4YW1wbGVcIj5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd0ZXh0SW5wdXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcclxuICAgICAgICAgICAgICAgICB0ZXh0OiAnZ3Vlc3QnLFxyXG4gICAgICAgICAgICAgICAgIHdvcmQ6IC9eXFxzKlxcdypcXHMqJC9cclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8bGFiZWw+U2luZ2xlIHdvcmQ6XHJcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgbmctcGF0dGVybj1cImV4YW1wbGUud29yZFwiIHJlcXVpcmVkIG5nLXRyaW09XCJmYWxzZVwiPlxyXG4gICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucGF0dGVyblwiPlxyXG4gICAgICAgICAgICAgICBTaW5nbGUgd29yZCBvbmx5ITwvc3Bhbj5cclxuICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZXhhbXBsZS50ZXh0fX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICB2YXIgdGV4dCA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS50ZXh0JykpO1xyXG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS50ZXh0JykpO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignZ3Vlc3QnKTtcclxuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcclxuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG11bHRpIHdvcmQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2hlbGxvIHdvcmxkJyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICAndGV4dCc6IHRleHRJbnB1dFR5cGUsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgaW5wdXRcclxuICAgICAqIEBuYW1lIGlucHV0W2RhdGVdXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBJbnB1dCB3aXRoIGRhdGUgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XHJcbiAgICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcclxuICAgICAqIGRhdGUgZm9ybWF0ICh5eXl5LU1NLWRkKSwgZm9yIGV4YW1wbGU6IGAyMDA5LTAxLTA2YC4gU2luY2UgbWFueVxyXG4gICAgICogbW9kZXJuIGJyb3dzZXJzIGRvIG5vdCB5ZXQgc3VwcG9ydCB0aGlzIGlucHV0IHR5cGUsIGl0IGlzIGltcG9ydGFudCB0byBwcm92aWRlIGN1ZXMgdG8gdXNlcnMgb24gdGhlXHJcbiAgICAgKiBleHBlY3RlZCBpbnB1dCBmb3JtYXQgdmlhIGEgcGxhY2Vob2xkZXIgb3IgbGFiZWwuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXHJcbiAgICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xyXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC4gVGhpcyBtdXN0IGJlIGFcclxuICAgICAqICAgdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzIGF0dHJpYnV0ZVxyXG4gICAgICogICAoZS5nLiBgbWluPVwie3ttaW5EYXRlIHwgZGF0ZToneXl5eS1NTS1kZCd9fVwiYCkuIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkIG5hdGl2ZSBIVE1MNVxyXG4gICAgICogICBjb25zdHJhaW50IHZhbGlkYXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuIFRoaXMgbXVzdCBiZVxyXG4gICAgICogICBhIHZhbGlkIElTTyBkYXRlIHN0cmluZyAoeXl5eS1NTS1kZCkuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpcyBhdHRyaWJ1dGVcclxuICAgICAqICAgKGUuZy4gYG1heD1cInt7bWF4RGF0ZSB8IGRhdGU6J3l5eXktTU0tZGQnfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZCBuYXRpdmUgSFRNTDVcclxuICAgICAqICAgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGUgc3RyaW5nXHJcbiAgICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXHJcbiAgICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gZGF0ZSBzdHJpbmdcclxuICAgICAqICAgdGhlIGBuZ01heGAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhgIGF0dHJpYnV0ZS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbmFtZT1cImRhdGUtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZGF0ZUlucHV0RXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2RhdGVJbnB1dEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCA5LCAyMilcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cclxuICAgICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgZGF0ZSBpbiAyMDEzOjwvbGFiZWw+XHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cImV4YW1wbGVJbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ5eXl5LU1NLWRkXCIgbWluPVwiMjAxMy0wMS0wMVwiIG1heD1cIjIwMTMtMTItMzFcIiByZXF1aXJlZCAvPlxyXG4gICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRlXCI+XHJcbiAgICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cclxuICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRcIn19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cclxuICAgICAgIDwvZm9ybT5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTS1kZFwiJykpO1xyXG4gICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcclxuICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xyXG5cclxuICAgICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxyXG4gICAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcclxuICAgICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XHJcbiAgICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxyXG4gICAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xyXG4gICAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xyXG4gICAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xyXG4gICAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMy0xMC0yMicpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNldElucHV0KCcnKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEtMDEnKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICAgKi9cclxuICAnZGF0ZSc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ2RhdGUnLCBEQVRFX1JFR0VYUCxcclxuICAgICAgICAgY3JlYXRlRGF0ZVBhcnNlcihEQVRFX1JFR0VYUCwgWyd5eXl5JywgJ01NJywgJ2RkJ10pLFxyXG4gICAgICAgICAneXl5eS1NTS1kZCcpLFxyXG5cclxuICAgLyoqXHJcbiAgICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAgKiBAbmFtZSBpbnB1dFtkYXRldGltZS1sb2NhbF1cclxuICAgICpcclxuICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAqIElucHV0IHdpdGggZGF0ZXRpbWUgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XHJcbiAgICAqIHRoZSBIVE1MNSBkYXRlIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcclxuICAgICogbG9jYWwgZGF0ZXRpbWUgZm9ybWF0ICh5eXl5LU1NLWRkVEhIOm1tOnNzKSwgZm9yIGV4YW1wbGU6IGAyMDEwLTEyLTI4VDE0OjU3OjAwYC5cclxuICAgICpcclxuICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXHJcbiAgICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cclxuICAgICpcclxuICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xyXG4gICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXHJcbiAgICAqXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXHJcbiAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvblxyXG4gICAgKiAgIGluc2lkZSB0aGlzIGF0dHJpYnV0ZSAoZS5nLiBgbWluPVwie3ttaW5EYXRldGltZUxvY2FsIHwgZGF0ZToneXl5eS1NTS1kZFRISDptbTpzcyd9fVwiYCkuXHJcbiAgICAqICAgTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb25cclxuICAgICogICBpbnNpZGUgdGhpcyBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4RGF0ZXRpbWVMb2NhbCB8IGRhdGU6J3l5eXktTU0tZGRUSEg6bW06c3MnfX1cImApLlxyXG4gICAgKiAgIE5vdGUgdGhhdCBgbWF4YCB3aWxsIGFsc28gYWRkIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXHJcbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGV0aW1lIHN0cmluZ1xyXG4gICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXHJcbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGV0aW1lIHN0cmluZ1xyXG4gICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXHJcbiAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgICpcclxuICAgICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlIG5hbWU9XCJkYXRldGltZWxvY2FsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImRhdGVFeGFtcGxlXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8c2NyaXB0PlxyXG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdkYXRlRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XHJcbiAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTAsIDExLCAyOCwgMTQsIDU3KVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfV0pO1xyXG4gICAgICA8L3NjcmlwdD5cclxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxyXG4gICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgZGF0ZSBiZXR3ZWVuIGluIDIwMTM6PC9sYWJlbD5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU0tZGRUSEg6bW06c3NcIiBtaW49XCIyMDAxLTAxLTAxVDAwOjAwOjAwXCIgbWF4PVwiMjAxMy0xMi0zMVQwMDowMDowMFwiIHJlcXVpcmVkIC8+XHJcbiAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRldGltZWxvY2FsXCI+XHJcbiAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCJ9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgIDwvZm9ybT5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCInKSk7XHJcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcclxuICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcclxuXHJcbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XHJcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcclxuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXHJcbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xyXG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXHJcbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xyXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcclxuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XHJcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMC0xMi0yOFQxNDo1NzowMCcpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRJbnB1dCgnJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEtMDFUMjM6NTk6MDAnKTtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gICAgKi9cclxuICAnZGF0ZXRpbWUtbG9jYWwnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCdkYXRldGltZWxvY2FsJywgREFURVRJTUVMT0NBTF9SRUdFWFAsXHJcbiAgICAgIGNyZWF0ZURhdGVQYXJzZXIoREFURVRJTUVMT0NBTF9SRUdFWFAsIFsneXl5eScsICdNTScsICdkZCcsICdISCcsICdtbScsICdzcycsICdzc3MnXSksXHJcbiAgICAgICd5eXl5LU1NLWRkVEhIOm1tOnNzLnNzcycpLFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgaW5wdXRcclxuICAgKiBAbmFtZSBpbnB1dFt0aW1lXVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogSW5wdXQgd2l0aCB0aW1lIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxyXG4gICAqIHRoZSBIVE1MNSB0aW1lIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcclxuICAgKiBsb2NhbCB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLCBmb3IgZXhhbXBsZTogYDE0OjU3OjAwYC4gTW9kZWwgbXVzdCBiZSBhIERhdGUgb2JqZWN0LiBUaGlzIGJpbmRpbmcgd2lsbCBhbHdheXMgb3V0cHV0IGFcclxuICAgKiBEYXRlIG9iamVjdCB0byB0aGUgbW9kZWwgb2YgSmFudWFyeSAxLCAxOTcwLCBvciBsb2NhbCBkYXRlIGBuZXcgRGF0ZSgxOTcwLCAwLCAxLCBISCwgbW0sIHNzKWAuXHJcbiAgICpcclxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXHJcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXHJcbiAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gdGltZSBmb3JtYXQgKEhIOm1tOnNzKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXHJcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluVGltZSB8IGRhdGU6J0hIOm1tOnNzJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGRcclxuICAgKiAgIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIHRpbWUgZm9ybWF0IChISDptbTpzcykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xyXG4gICAqICAgYXR0cmlidXRlIChlLmcuIGBtYXg9XCJ7e21heFRpbWUgfCBkYXRlOidISDptbTpzcyd9fVwiYCkuIE5vdGUgdGhhdCBgbWF4YCB3aWxsIGFsc28gYWRkXHJcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB0aW1lIHN0cmluZyB0aGVcclxuICAgKiAgIGBuZ01pbmAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtaW5gIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gdGltZSBzdHJpbmcgdGhlXHJcbiAgICogICBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXHJcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG5hbWU9XCJ0aW1lLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInRpbWVFeGFtcGxlXCI+XHJcbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgPHNjcmlwdD5cclxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3RpbWVFeGFtcGxlJywgW10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMTk3MCwgMCwgMSwgMTQsIDU3LCAwKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcbiAgICAgPC9zY3JpcHQ+XHJcbiAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxyXG4gICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgdGltZSBiZXR3ZWVuIDhhbSBhbmQgNXBtOjwvbGFiZWw+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0aW1lXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkhIOm1tOnNzXCIgbWluPVwiMDg6MDA6MDBcIiBtYXg9XCIxNzowMDowMFwiIHJlcXVpcmVkIC8+XHJcbiAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci50aW1lXCI+XHJcbiAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJISDptbTpzc1wifX08L3R0Pjxici8+XHJcbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgIDwvZm9ybT5cclxuICAgPC9maWxlPlxyXG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwiSEg6bW06c3NcIicpKTtcclxuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xyXG5cclxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcclxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xyXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cclxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XHJcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cclxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXHJcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xyXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcclxuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcxNDo1NzowMCcpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRJbnB1dCgnJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2V0SW5wdXQoJzIzOjU5OjAwJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcclxuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICB9KTtcclxuICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgJ3RpbWUnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCd0aW1lJywgVElNRV9SRUdFWFAsXHJcbiAgICAgIGNyZWF0ZURhdGVQYXJzZXIoVElNRV9SRUdFWFAsIFsnSEgnLCAnbW0nLCAnc3MnLCAnc3NzJ10pLFxyXG4gICAgICdISDptbTpzcy5zc3MnKSxcclxuXHJcbiAgIC8qKlxyXG4gICAgKiBAbmdkb2MgaW5wdXRcclxuICAgICogQG5hbWUgaW5wdXRbd2Vla11cclxuICAgICpcclxuICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAqIElucHV0IHdpdGggd2Vlay1vZi10aGUteWVhciB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbiB0byBEYXRlLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxyXG4gICAgKiB0aGUgSFRNTDUgd2VlayBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXHJcbiAgICAqIHdlZWsgZm9ybWF0ICh5eXl5LVcjIyksIGZvciBleGFtcGxlOiBgMjAxMy1XMDJgLlxyXG4gICAgKlxyXG4gICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxyXG4gICAgKlxyXG4gICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXHJcbiAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cclxuICAgICpcclxuICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cclxuICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gd2VlayBmb3JtYXQgKHl5eXktVyMjKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXHJcbiAgICAqICAgYXR0cmlidXRlIChlLmcuIGBtaW49XCJ7e21pbldlZWsgfCBkYXRlOid5eXl5LVd3dyd9fVwiYCkuIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkXHJcbiAgICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyB3ZWVrIGZvcm1hdCAoeXl5eS1XIyMpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcclxuICAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4V2VlayB8IGRhdGU6J3l5eXktV3d3J319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGRcclxuICAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcclxuICAgICogICB0aGUgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxyXG4gICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcclxuICAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICAqXHJcbiAgICAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZSBuYW1lPVwid2Vlay1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ3ZWVrRXhhbXBsZVwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPHNjcmlwdD5cclxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3dlZWtFeGFtcGxlJywgW10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMjAxMywgMCwgMylcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgICA8L3NjcmlwdD5cclxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxyXG4gICAgICAgIDxsYWJlbD5QaWNrIGEgZGF0ZSBiZXR3ZWVuIGluIDIwMTM6XHJcbiAgICAgICAgICA8aW5wdXQgaWQ9XCJleGFtcGxlSW5wdXRcIiB0eXBlPVwid2Vla1wiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJZWVlZLVcjI1wiIG1pbj1cIjIwMTItVzMyXCJcclxuICAgICAgICAgICAgICAgICBtYXg9XCIyMDEzLVc1MlwiIHJlcXVpcmVkIC8+XHJcbiAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLndlZWtcIj5cclxuICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCJ9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgIDwvZm9ybT5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LVd3d1wiJykpO1xyXG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudmFsdWUnKSk7XHJcblxyXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxyXG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXHJcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxyXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcclxuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxyXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcclxuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXHJcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xyXG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtVzAxJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNldElucHV0KCcnKTtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRJbnB1dCgnMjAxNS1XMDEnKTtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gICAgKi9cclxuICAnd2Vlayc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ3dlZWsnLCBXRUVLX1JFR0VYUCwgd2Vla1BhcnNlciwgJ3l5eXktV3d3JyksXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAqIEBuYW1lIGlucHV0W21vbnRoXVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogSW5wdXQgd2l0aCBtb250aCB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcclxuICAgKiB0aGUgSFRNTDUgbW9udGggaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxyXG4gICAqIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSksIGZvciBleGFtcGxlOiBgMjAwOS0wMWAuXHJcbiAgICpcclxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICogSWYgdGhlIG1vZGVsIGlzIG5vdCBzZXQgdG8gdGhlIGZpcnN0IG9mIHRoZSBtb250aCwgdGhlIG5leHQgdmlldyB0byBtb2RlbCB1cGRhdGUgd2lsbCBzZXQgaXRcclxuICAgKiB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLlxyXG4gICAqXHJcbiAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xyXG4gICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxyXG4gICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSkuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xyXG4gICAqICAgYXR0cmlidXRlIChlLmcuIGBtaW49XCJ7e21pbk1vbnRoIHwgZGF0ZToneXl5eS1NTSd9fVwiYCkuIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkXHJcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cclxuICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyBtb250aCBmb3JtYXQgKHl5eXktTU0pLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcclxuICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhNb250aCB8IGRhdGU6J3l5eXktTU0nfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZFxyXG4gICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcclxuICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXHJcbiAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIHdlZWsgc3RyaW5nXHJcbiAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxyXG5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIm1vbnRoLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIm1vbnRoRXhhbXBsZVwiPlxyXG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgIDxzY3JpcHQ+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdtb250aEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCA5LCAxKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcbiAgICAgPC9zY3JpcHQ+XHJcbiAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxyXG4gICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBtb250aCBpbiAyMDEzOjwvbGFiZWw+XHJcbiAgICAgICA8aW5wdXQgaWQ9XCJleGFtcGxlSW5wdXRcIiB0eXBlPVwibW9udGhcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJ5eXl5LU1NXCIgbWluPVwiMjAxMy0wMVwiIG1heD1cIjIwMTMtMTJcIiByZXF1aXJlZCAvPlxyXG4gICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLm1vbnRoXCI+XHJcbiAgICAgICAgICAgIE5vdCBhIHZhbGlkIG1vbnRoITwvc3Bhbj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NXCJ9fTwvdHQ+PGJyLz5cclxuICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cclxuICAgICA8L2Zvcm0+XHJcbiAgIDwvZmlsZT5cclxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU1cIicpKTtcclxuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xyXG5cclxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcclxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xyXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cclxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XHJcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cclxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXHJcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xyXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcclxuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLTEwJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNldElucHV0KCcnKTtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMScpO1xyXG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgfSk7XHJcbiAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICdtb250aCc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ21vbnRoJywgTU9OVEhfUkVHRVhQLFxyXG4gICAgIGNyZWF0ZURhdGVQYXJzZXIoTU9OVEhfUkVHRVhQLCBbJ3l5eXknLCAnTU0nXSksXHJcbiAgICAgJ3l5eXktTU0nKSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGlucHV0XHJcbiAgICogQG5hbWUgaW5wdXRbbnVtYmVyXVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGV4dCBpbnB1dCB3aXRoIG51bWJlciB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gU2V0cyB0aGUgYG51bWJlcmAgdmFsaWRhdGlvblxyXG4gICAqIGVycm9yIGlmIG5vdCBhIHZhbGlkIG51bWJlci5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIG9mIHR5cGUgYG51bWJlcmAgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgKiBCZSBhd2FyZSB0aGF0IGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBudW1iZXIgaXMgbm90IGVub3VnaC4gU2VlIHRoZSB7QGxpbmsgbmdNb2RlbDpudW1mbXR9XHJcbiAgICogZXJyb3IgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgYW4gZXhhbXBsZSBvZiBob3cgdG8gY29udmVydCB5b3VyIG1vZGVsIGlmIG5lY2Vzc2FyeS5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqICMjIElzc3VlcyB3aXRoIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvblxyXG4gICAqXHJcbiAgICogSW4gYnJvd3NlcnMgdGhhdCBmb2xsb3cgdGhlXHJcbiAgICogW0hUTUw1IHNwZWNpZmljYXRpb25dKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjbnVtYmVyLXN0YXRlLSUyOHR5cGU9bnVtYmVyJTI5KSxcclxuICAgKiBgaW5wdXRbbnVtYmVyXWAgZG9lcyBub3Qgd29yayBhcyBleHBlY3RlZCB3aXRoIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH0uXHJcbiAgICogSWYgYSBub24tbnVtYmVyIGlzIGVudGVyZWQgaW4gdGhlIGlucHV0LCB0aGUgYnJvd3NlciB3aWxsIHJlcG9ydCB0aGUgdmFsdWUgYXMgYW4gZW1wdHkgc3RyaW5nLFxyXG4gICAqIHdoaWNoIG1lYW5zIHRoZSB2aWV3IC8gbW9kZWwgdmFsdWVzIGluIGBuZ01vZGVsYCBhbmQgc3Vic2VxdWVudGx5IHRoZSBzY29wZSB2YWx1ZVxyXG4gICAqIHdpbGwgYWxzbyBiZSBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxyXG4gICAqICAgIG1pbmxlbmd0aC5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXHJcbiAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXHJcbiAgICogICAgYW55IGxlbmd0aC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXHJcbiAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxyXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cclxuICAgKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcclxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xyXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cclxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xyXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXHJcbiAgICogICAgYWNjb3VudC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cIm51bWJlci1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJudW1iZXJFeGFtcGxlXCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbnVtYmVyRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgdmFsdWU6IDEyXHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgPGxhYmVsPk51bWJlcjpcclxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCIgbWF4PVwiOTlcIiByZXF1aXJlZD5cclxuICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IubnVtYmVyXCI+XHJcbiAgICAgICAgICAgICAgIE5vdCB2YWxpZCBudW1iZXIhPC9zcGFuPlxyXG4gICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZX19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlJykpO1xyXG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcxMicpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcclxuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcxMjMnKTtcclxuICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICAnbnVtYmVyJzogbnVtYmVySW5wdXRUeXBlLFxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGlucHV0XHJcbiAgICogQG5hbWUgaW5wdXRbdXJsXVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGV4dCBpbnB1dCB3aXRoIFVSTCB2YWxpZGF0aW9uLiBTZXRzIHRoZSBgdXJsYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgY29udGVudCBpcyBub3QgYVxyXG4gICAqIHZhbGlkIFVSTC5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICogKipOb3RlOioqIGBpbnB1dFt1cmxdYCB1c2VzIGEgcmVnZXggdG8gdmFsaWRhdGUgdXJscyB0aGF0IGlzIGRlcml2ZWQgZnJvbSB0aGUgcmVnZXhcclxuICAgKiB1c2VkIGluIENocm9taXVtLiBJZiB5b3UgbmVlZCBzdHJpY3RlciB2YWxpZGF0aW9uLCB5b3UgY2FuIHVzZSBgbmctcGF0dGVybmAgb3IgbW9kaWZ5XHJcbiAgICogdGhlIGJ1aWx0LWluIHZhbGlkYXRvcnMgKHNlZSB0aGUge0BsaW5rIGd1aWRlL2Zvcm1zIEZvcm1zIGd1aWRlfSlcclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXHJcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cclxuICAgKiAgICBtaW5sZW5ndGguXHJcbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxyXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxyXG4gICAqICAgIGFueSBsZW5ndGguXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xyXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cclxuICAgKiAgICBhcyBpbiB0aGUgbmdQYXR0ZXJuIGRpcmVjdGl2ZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XHJcbiAgICogICAgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXHJcbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXHJcbiAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cclxuICAgKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XHJcbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cclxuICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xyXG4gICAqICAgIGFjY291bnQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJ1cmwtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwidXJsRXhhbXBsZVwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3VybEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICRzY29wZS51cmwgPSB7XHJcbiAgICAgICAgICAgICAgICAgdGV4dDogJ2h0dHA6Ly9nb29nbGUuY29tJ1xyXG4gICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgIDxsYWJlbD5VUkw6XHJcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInVybFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwidXJsLnRleHRcIiByZXF1aXJlZD5cclxuICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IudXJsXCI+XHJcbiAgICAgICAgICAgICAgIE5vdCB2YWxpZCB1cmwhPC9zcGFuPlxyXG4gICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgIDx0dD50ZXh0ID0ge3t1cmwudGV4dH19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci51cmwgPSB7eyEhbXlGb3JtLiRlcnJvci51cmx9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICAgdmFyIHRleHQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VybC50ZXh0JykpO1xyXG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXJsLnRleHQnKSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdodHRwOi8vZ29vZ2xlLmNvbScpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3RleHQgPScpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbm90IHVybCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnYm94Jyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICAndXJsJzogdXJsSW5wdXRUeXBlLFxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGlucHV0XHJcbiAgICogQG5hbWUgaW5wdXRbZW1haWxdXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUZXh0IGlucHV0IHdpdGggZW1haWwgdmFsaWRhdGlvbi4gU2V0cyB0aGUgYGVtYWlsYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiBub3QgYSB2YWxpZCBlbWFpbFxyXG4gICAqIGFkZHJlc3MuXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICoqTm90ZToqKiBgaW5wdXRbZW1haWxdYCB1c2VzIGEgcmVnZXggdG8gdmFsaWRhdGUgZW1haWwgYWRkcmVzc2VzIHRoYXQgaXMgZGVyaXZlZCBmcm9tIHRoZSByZWdleFxyXG4gICAqIHVzZWQgaW4gQ2hyb21pdW0uIElmIHlvdSBuZWVkIHN0cmljdGVyIHZhbGlkYXRpb24gKGUuZy4gcmVxdWlyaW5nIGEgdG9wLWxldmVsIGRvbWFpbiksIHlvdSBjYW5cclxuICAgKiB1c2UgYG5nLXBhdHRlcm5gIG9yIG1vZGlmeSB0aGUgYnVpbHQtaW4gdmFsaWRhdG9ycyAoc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZm9ybXMgRm9ybXMgZ3VpZGV9KVxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxyXG4gICAqICAgIG1pbmxlbmd0aC5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXHJcbiAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXHJcbiAgICogICAgYW55IGxlbmd0aC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXHJcbiAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxyXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cclxuICAgKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcclxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xyXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cclxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xyXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXHJcbiAgICogICAgYWNjb3VudC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cImVtYWlsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImVtYWlsRXhhbXBsZVwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2VtYWlsRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsID0ge1xyXG4gICAgICAgICAgICAgICAgIHRleHQ6ICdtZUBleGFtcGxlLmNvbSdcclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgICAgPGxhYmVsPkVtYWlsOlxyXG4gICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJlbWFpbC50ZXh0XCIgcmVxdWlyZWQ+XHJcbiAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IuZW1haWxcIj5cclxuICAgICAgICAgICAgICAgICBOb3QgdmFsaWQgZW1haWwhPC9zcGFuPlxyXG4gICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZW1haWwudGV4dH19PC90dD48YnIvPlxyXG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IuZW1haWwgPSB7eyEhbXlGb3JtLiRlcnJvci5lbWFpbH19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdlbWFpbC50ZXh0JykpO1xyXG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZW1haWwudGV4dCcpKTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ21lQGV4YW1wbGUuY29tJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcclxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcclxuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG5vdCBlbWFpbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygneHh4Jyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICAnZW1haWwnOiBlbWFpbElucHV0VHlwZSxcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAqIEBuYW1lIGlucHV0W3JhZGlvXVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogSFRNTCByYWRpbyBidXR0b24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgYG5nTW9kZWxgIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxyXG4gICAqICAgIE5vdGUgdGhhdCBgdmFsdWVgIG9ubHkgc3VwcG9ydHMgYHN0cmluZ2AgdmFsdWVzLCBpLmUuIHRoZSBzY29wZSBtb2RlbCBuZWVkcyB0byBiZSBhIHN0cmluZyxcclxuICAgKiAgICB0b28uIFVzZSBgbmdWYWx1ZWAgaWYgeW91IG5lZWQgY29tcGxleCBtb2RlbHMgKGBudW1iZXJgLCBgb2JqZWN0YCwgLi4uKS5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdWYWx1ZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gd2hpY2ggYG5nTW9kZWxgIHdpbGwgYmUgYmUgc2V0IHdoZW4gdGhlIHJhZGlvXHJcbiAgICogICAgaXMgc2VsZWN0ZWQuIFNob3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIGB2YWx1ZWAgYXR0cmlidXRlIGlmIHlvdSBuZWVkXHJcbiAgICogICAgYSBub24tc3RyaW5nIGBuZ01vZGVsYCAoYGJvb2xlYW5gLCBgYXJyYXlgLCAuLi4pLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cInJhZGlvLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInJhZGlvRXhhbXBsZVwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3JhZGlvRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmNvbG9yID0ge1xyXG4gICAgICAgICAgICAgICAgIG5hbWU6ICdibHVlJ1xyXG4gICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAkc2NvcGUuc3BlY2lhbFZhbHVlID0ge1xyXG4gICAgICAgICAgICAgICAgIFwiaWRcIjogXCIxMjM0NVwiLFxyXG4gICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJncmVlblwiXHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwiY29sb3IubmFtZVwiIHZhbHVlPVwicmVkXCI+XHJcbiAgICAgICAgICAgICBSZWRcclxuICAgICAgICAgICA8L2xhYmVsPjxici8+XHJcbiAgICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwiY29sb3IubmFtZVwiIG5nLXZhbHVlPVwic3BlY2lhbFZhbHVlXCI+XHJcbiAgICAgICAgICAgICBHcmVlblxyXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgdmFsdWU9XCJibHVlXCI+XHJcbiAgICAgICAgICAgICBCbHVlXHJcbiAgICAgICAgICAgPC9sYWJlbD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5jb2xvciA9IHt7Y29sb3IubmFtZSB8IGpzb259fTwvdHQ+PGJyLz5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgIE5vdGUgdGhhdCBgbmctdmFsdWU9XCJzcGVjaWFsVmFsdWVcImAgc2V0cyByYWRpbyBpdGVtJ3MgdmFsdWUgdG8gYmUgdGhlIHZhbHVlIG9mIGAkc2NvcGUuc3BlY2lhbFZhbHVlYC5cclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2Ugc3RhdGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGNvbG9yID0gZWxlbWVudChieS5iaW5kaW5nKCdjb2xvci5uYW1lJykpO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KGNvbG9yLmdldFRleHQoKSkudG9Db250YWluKCdibHVlJyk7XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnY29sb3IubmFtZScpKS5nZXQoMCkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbigncmVkJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICAncmFkaW8nOiByYWRpb0lucHV0VHlwZSxcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAqIEBuYW1lIGlucHV0W2NoZWNrYm94XVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogSFRNTCBjaGVja2JveC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtleHByZXNzaW9uPX0gbmdUcnVlVmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBzZWxlY3RlZC5cclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ0ZhbHNlVmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBub3Qgc2VsZWN0ZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJjaGVja2JveC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJjaGVja2JveEV4YW1wbGVcIj5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjaGVja2JveEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5jaGVja2JveE1vZGVsID0ge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUxIDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlMiA6ICdZRVMnXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8bGFiZWw+VmFsdWUxOlxyXG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tib3hNb2RlbC52YWx1ZTFcIj5cclxuICAgICAgICAgICA8L2xhYmVsPjxici8+XHJcbiAgICAgICAgICAgPGxhYmVsPlZhbHVlMjpcclxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrYm94TW9kZWwudmFsdWUyXCJcclxuICAgICAgICAgICAgICAgICAgICBuZy10cnVlLXZhbHVlPVwiJ1lFUydcIiBuZy1mYWxzZS12YWx1ZT1cIidOTydcIj5cclxuICAgICAgICAgICAgPC9sYWJlbD48YnIvPlxyXG4gICAgICAgICAgIDx0dD52YWx1ZTEgPSB7e2NoZWNrYm94TW9kZWwudmFsdWUxfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0PnZhbHVlMiA9IHt7Y2hlY2tib3hNb2RlbC52YWx1ZTJ9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2Ugc3RhdGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlMSA9IGVsZW1lbnQoYnkuYmluZGluZygnY2hlY2tib3hNb2RlbC52YWx1ZTEnKSk7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NoZWNrYm94TW9kZWwudmFsdWUyJykpO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KHZhbHVlMS5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsdWUyLmdldFRleHQoKSkudG9Db250YWluKCdZRVMnKTtcclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrYm94TW9kZWwudmFsdWUxJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrYm94TW9kZWwudmFsdWUyJykpLmNsaWNrKCk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QodmFsdWUxLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsdWUyLmdldFRleHQoKSkudG9Db250YWluKCdOTycpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgJ2NoZWNrYm94JzogY2hlY2tib3hJbnB1dFR5cGUsXHJcblxyXG4gICdoaWRkZW4nOiBub29wLFxyXG4gICdidXR0b24nOiBub29wLFxyXG4gICdzdWJtaXQnOiBub29wLFxyXG4gICdyZXNldCc6IG5vb3AsXHJcbiAgJ2ZpbGUnOiBub29wXHJcbn07XHJcblxyXG5mdW5jdGlvbiBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKSB7XHJcbiAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgPyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRleHRJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xyXG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XHJcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xyXG4gIHZhciB0eXBlID0gbG93ZXJjYXNlKGVsZW1lbnRbMF0udHlwZSk7XHJcblxyXG4gIC8vIEluIGNvbXBvc2l0aW9uIG1vZGUsIHVzZXJzIGFyZSBzdGlsbCBpbnB1dGluZyBpbnRlcm1lZGlhdGUgdGV4dCBidWZmZXIsXHJcbiAgLy8gaG9sZCB0aGUgbGlzdGVuZXIgdW50aWwgY29tcG9zaXRpb24gaXMgZG9uZS5cclxuICAvLyBNb3JlIGFib3V0IGNvbXBvc2l0aW9uIGV2ZW50czogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NvbXBvc2l0aW9uRXZlbnRcclxuICBpZiAoISRzbmlmZmVyLmFuZHJvaWQpIHtcclxuICAgIHZhciBjb21wb3NpbmcgPSBmYWxzZTtcclxuXHJcbiAgICBlbGVtZW50Lm9uKCdjb21wb3NpdGlvbnN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbXBvc2luZyA9IHRydWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICBlbGVtZW50Lm9uKCdjb21wb3NpdGlvbmVuZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb21wb3NpbmcgPSBmYWxzZTtcclxuICAgICAgbGlzdGVuZXIoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdmFyIHRpbWVvdXQ7XHJcblxyXG4gIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2KSB7XHJcbiAgICBpZiAodGltZW91dCkge1xyXG4gICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwodGltZW91dCk7XHJcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKGNvbXBvc2luZykgcmV0dXJuO1xyXG4gICAgdmFyIHZhbHVlID0gZWxlbWVudC52YWwoKSxcclxuICAgICAgICBldmVudCA9IGV2ICYmIGV2LnR5cGU7XHJcblxyXG4gICAgLy8gQnkgZGVmYXVsdCB3ZSB3aWxsIHRyaW0gdGhlIHZhbHVlXHJcbiAgICAvLyBJZiB0aGUgYXR0cmlidXRlIG5nLXRyaW0gZXhpc3RzIHdlIHdpbGwgYXZvaWQgdHJpbW1pbmdcclxuICAgIC8vIElmIGlucHV0IHR5cGUgaXMgJ3Bhc3N3b3JkJywgdGhlIHZhbHVlIGlzIG5ldmVyIHRyaW1tZWRcclxuICAgIGlmICh0eXBlICE9PSAncGFzc3dvcmQnICYmICghYXR0ci5uZ1RyaW0gfHwgYXR0ci5uZ1RyaW0gIT09ICdmYWxzZScpKSB7XHJcbiAgICAgIHZhbHVlID0gdHJpbSh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgYSBjb250cm9sIGlzIHN1ZmZlcmluZyBmcm9tIGJhZCBpbnB1dCAoZHVlIHRvIG5hdGl2ZSB2YWxpZGF0b3JzKSwgYnJvd3NlcnMgZGlzY2FyZCBpdHNcclxuICAgIC8vIHZhbHVlLCBzbyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHJldmFsaWRhdGUgKGJ5IGNhbGxpbmcgJHNldFZpZXdWYWx1ZSBhZ2FpbikgZXZlbiBpZiB0aGVcclxuICAgIC8vIGNvbnRyb2wncyB2YWx1ZSBpcyB0aGUgc2FtZSBlbXB0eSB2YWx1ZSB0d2ljZSBpbiBhIHJvdy5cclxuICAgIGlmIChjdHJsLiR2aWV3VmFsdWUgIT09IHZhbHVlIHx8ICh2YWx1ZSA9PT0gJycgJiYgY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpKSB7XHJcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSwgZXZlbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIGlmIHRoZSBicm93c2VyIGRvZXMgc3VwcG9ydCBcImlucHV0XCIgZXZlbnQsIHdlIGFyZSBmaW5lIC0gZXhjZXB0IG9uIElFOSB3aGljaCBkb2Vzbid0IGZpcmUgdGhlXHJcbiAgLy8gaW5wdXQgZXZlbnQgb24gYmFja3NwYWNlLCBkZWxldGUgb3IgY3V0XHJcbiAgaWYgKCRzbmlmZmVyLmhhc0V2ZW50KCdpbnB1dCcpKSB7XHJcbiAgICBlbGVtZW50Lm9uKCdpbnB1dCcsIGxpc3RlbmVyKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdmFyIGRlZmVyTGlzdGVuZXIgPSBmdW5jdGlvbihldiwgaW5wdXQsIG9yaWdWYWx1ZSkge1xyXG4gICAgICBpZiAoIXRpbWVvdXQpIHtcclxuICAgICAgICB0aW1lb3V0ID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcclxuICAgICAgICAgIGlmICghaW5wdXQgfHwgaW5wdXQudmFsdWUgIT09IG9yaWdWYWx1ZSkge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcihldik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudC5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIHZhciBrZXkgPSBldmVudC5rZXlDb2RlO1xyXG5cclxuICAgICAgLy8gaWdub3JlXHJcbiAgICAgIC8vICAgIGNvbW1hbmQgICAgICAgICAgICBtb2RpZmllcnMgICAgICAgICAgICAgICAgICAgYXJyb3dzXHJcbiAgICAgIGlmIChrZXkgPT09IDkxIHx8ICgxNSA8IGtleSAmJiBrZXkgPCAxOSkgfHwgKDM3IDw9IGtleSAmJiBrZXkgPD0gNDApKSByZXR1cm47XHJcblxyXG4gICAgICBkZWZlckxpc3RlbmVyKGV2ZW50LCB0aGlzLCB0aGlzLnZhbHVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGlmIHVzZXIgbW9kaWZpZXMgaW5wdXQgdmFsdWUgdXNpbmcgY29udGV4dCBtZW51IGluIElFLCB3ZSBuZWVkIFwicGFzdGVcIiBhbmQgXCJjdXRcIiBldmVudHMgdG8gY2F0Y2ggaXRcclxuICAgIGlmICgkc25pZmZlci5oYXNFdmVudCgncGFzdGUnKSkge1xyXG4gICAgICBlbGVtZW50Lm9uKCdwYXN0ZSBjdXQnLCBkZWZlckxpc3RlbmVyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGlmIHVzZXIgcGFzdGUgaW50byBpbnB1dCB1c2luZyBtb3VzZSBvbiBvbGRlciBicm93c2VyXHJcbiAgLy8gb3IgZm9ybSBhdXRvY29tcGxldGUgb24gbmV3ZXIgYnJvd3Nlciwgd2UgbmVlZCBcImNoYW5nZVwiIGV2ZW50IHRvIGNhdGNoIGl0XHJcbiAgZWxlbWVudC5vbignY2hhbmdlJywgbGlzdGVuZXIpO1xyXG5cclxuICAvLyBTb21lIG5hdGl2ZSBpbnB1dCB0eXBlcyAoZGF0ZS1mYW1pbHkpIGhhdmUgdGhlIGFiaWxpdHkgdG8gY2hhbmdlIHZhbGlkaXR5IHdpdGhvdXRcclxuICAvLyBmaXJpbmcgYW55IGlucHV0L2NoYW5nZSBldmVudHMuXHJcbiAgLy8gRm9yIHRoZXNlIGV2ZW50IHR5cGVzLCB3aGVuIG5hdGl2ZSB2YWxpZGF0b3JzIGFyZSBwcmVzZW50IGFuZCB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgdHlwZSxcclxuICAvLyBjaGVjayBmb3IgdmFsaWRpdHkgY2hhbmdlcyBvbiB2YXJpb3VzIERPTSBldmVudHMuXHJcbiAgaWYgKFBBUlRJQUxfVkFMSURBVElPTl9UWVBFU1t0eXBlXSAmJiBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycyAmJiB0eXBlID09PSBhdHRyLnR5cGUpIHtcclxuICAgIGVsZW1lbnQub24oUEFSVElBTF9WQUxJREFUSU9OX0VWRU5UUywgZnVuY3Rpb24oZXYpIHtcclxuICAgICAgaWYgKCF0aW1lb3V0KSB7XHJcbiAgICAgICAgdmFyIHZhbGlkaXR5ID0gdGhpc1tWQUxJRElUWV9TVEFURV9QUk9QRVJUWV07XHJcbiAgICAgICAgdmFyIG9yaWdCYWRJbnB1dCA9IHZhbGlkaXR5LmJhZElucHV0O1xyXG4gICAgICAgIHZhciBvcmlnVHlwZU1pc21hdGNoID0gdmFsaWRpdHkudHlwZU1pc21hdGNoO1xyXG4gICAgICAgIHRpbWVvdXQgPSAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgaWYgKHZhbGlkaXR5LmJhZElucHV0ICE9PSBvcmlnQmFkSW5wdXQgfHwgdmFsaWRpdHkudHlwZU1pc21hdGNoICE9PSBvcmlnVHlwZU1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKGV2KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIC8vIFdvcmthcm91bmQgZm9yIEZpcmVmb3ggdmFsaWRhdGlvbiAjMTIxMDIuXHJcbiAgICB2YXIgdmFsdWUgPSBjdHJsLiRpc0VtcHR5KGN0cmwuJHZpZXdWYWx1ZSkgPyAnJyA6IGN0cmwuJHZpZXdWYWx1ZTtcclxuICAgIGlmIChlbGVtZW50LnZhbCgpICE9PSB2YWx1ZSkge1xyXG4gICAgICBlbGVtZW50LnZhbCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gd2Vla1BhcnNlcihpc29XZWVrLCBleGlzdGluZ0RhdGUpIHtcclxuICBpZiAoaXNEYXRlKGlzb1dlZWspKSB7XHJcbiAgICByZXR1cm4gaXNvV2VlaztcclxuICB9XHJcblxyXG4gIGlmIChpc1N0cmluZyhpc29XZWVrKSkge1xyXG4gICAgV0VFS19SRUdFWFAubGFzdEluZGV4ID0gMDtcclxuICAgIHZhciBwYXJ0cyA9IFdFRUtfUkVHRVhQLmV4ZWMoaXNvV2Vlayk7XHJcbiAgICBpZiAocGFydHMpIHtcclxuICAgICAgdmFyIHllYXIgPSArcGFydHNbMV0sXHJcbiAgICAgICAgICB3ZWVrID0gK3BhcnRzWzJdLFxyXG4gICAgICAgICAgaG91cnMgPSAwLFxyXG4gICAgICAgICAgbWludXRlcyA9IDAsXHJcbiAgICAgICAgICBzZWNvbmRzID0gMCxcclxuICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IDAsXHJcbiAgICAgICAgICBmaXJzdFRodXJzID0gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcih5ZWFyKSxcclxuICAgICAgICAgIGFkZERheXMgPSAod2VlayAtIDEpICogNztcclxuXHJcbiAgICAgIGlmIChleGlzdGluZ0RhdGUpIHtcclxuICAgICAgICBob3VycyA9IGV4aXN0aW5nRGF0ZS5nZXRIb3VycygpO1xyXG4gICAgICAgIG1pbnV0ZXMgPSBleGlzdGluZ0RhdGUuZ2V0TWludXRlcygpO1xyXG4gICAgICAgIHNlY29uZHMgPSBleGlzdGluZ0RhdGUuZ2V0U2Vjb25kcygpO1xyXG4gICAgICAgIG1pbGxpc2Vjb25kcyA9IGV4aXN0aW5nRGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIDAsIGZpcnN0VGh1cnMuZ2V0RGF0ZSgpICsgYWRkRGF5cywgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIG1pbGxpc2Vjb25kcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gTmFOO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVEYXRlUGFyc2VyKHJlZ2V4cCwgbWFwcGluZykge1xyXG4gIHJldHVybiBmdW5jdGlvbihpc28sIGRhdGUpIHtcclxuICAgIHZhciBwYXJ0cywgbWFwO1xyXG5cclxuICAgIGlmIChpc0RhdGUoaXNvKSkge1xyXG4gICAgICByZXR1cm4gaXNvO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1N0cmluZyhpc28pKSB7XHJcbiAgICAgIC8vIFdoZW4gYSBkYXRlIGlzIEpTT04naWZpZWQgdG8gd3JhcHMgaXRzZWxmIGluc2lkZSBvZiBhbiBleHRyYVxyXG4gICAgICAvLyBzZXQgb2YgZG91YmxlIHF1b3Rlcy4gVGhpcyBtYWtlcyB0aGUgZGF0ZSBwYXJzaW5nIGNvZGUgdW5hYmxlXHJcbiAgICAgIC8vIHRvIG1hdGNoIHRoZSBkYXRlIHN0cmluZyBhbmQgcGFyc2UgaXQgYXMgYSBkYXRlLlxyXG4gICAgICBpZiAoaXNvLmNoYXJBdCgwKSA9PSAnXCInICYmIGlzby5jaGFyQXQoaXNvLmxlbmd0aCAtIDEpID09ICdcIicpIHtcclxuICAgICAgICBpc28gPSBpc28uc3Vic3RyaW5nKDEsIGlzby5sZW5ndGggLSAxKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoSVNPX0RBVEVfUkVHRVhQLnRlc3QoaXNvKSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShpc28pO1xyXG4gICAgICB9XHJcbiAgICAgIHJlZ2V4cC5sYXN0SW5kZXggPSAwO1xyXG4gICAgICBwYXJ0cyA9IHJlZ2V4cC5leGVjKGlzbyk7XHJcblxyXG4gICAgICBpZiAocGFydHMpIHtcclxuICAgICAgICBwYXJ0cy5zaGlmdCgpO1xyXG4gICAgICAgIGlmIChkYXRlKSB7XHJcbiAgICAgICAgICBtYXAgPSB7XHJcbiAgICAgICAgICAgIHl5eXk6IGRhdGUuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgICAgICAgTU06IGRhdGUuZ2V0TW9udGgoKSArIDEsXHJcbiAgICAgICAgICAgIGRkOiBkYXRlLmdldERhdGUoKSxcclxuICAgICAgICAgICAgSEg6IGRhdGUuZ2V0SG91cnMoKSxcclxuICAgICAgICAgICAgbW06IGRhdGUuZ2V0TWludXRlcygpLFxyXG4gICAgICAgICAgICBzczogZGF0ZS5nZXRTZWNvbmRzKCksXHJcbiAgICAgICAgICAgIHNzczogZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvIDEwMDBcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG1hcCA9IHsgeXl5eTogMTk3MCwgTU06IDEsIGRkOiAxLCBISDogMCwgbW06IDAsIHNzOiAwLCBzc3M6IDAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvckVhY2gocGFydHMsIGZ1bmN0aW9uKHBhcnQsIGluZGV4KSB7XHJcbiAgICAgICAgICBpZiAoaW5kZXggPCBtYXBwaW5nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBtYXBbbWFwcGluZ1tpbmRleF1dID0gK3BhcnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG1hcC55eXl5LCBtYXAuTU0gLSAxLCBtYXAuZGQsIG1hcC5ISCwgbWFwLm1tLCBtYXAuc3MgfHwgMCwgbWFwLnNzcyAqIDEwMDAgfHwgMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmFOO1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZURhdGVJbnB1dFR5cGUodHlwZSwgcmVnZXhwLCBwYXJzZURhdGUsIGZvcm1hdCkge1xyXG4gIHJldHVybiBmdW5jdGlvbiBkeW5hbWljRGF0ZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyLCAkZmlsdGVyKSB7XHJcbiAgICBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpO1xyXG4gICAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcclxuICAgIHZhciB0aW1lem9uZSA9IGN0cmwgJiYgY3RybC4kb3B0aW9ucyAmJiBjdHJsLiRvcHRpb25zLnRpbWV6b25lO1xyXG4gICAgdmFyIHByZXZpb3VzRGF0ZTtcclxuXHJcbiAgICBjdHJsLiQkcGFyc2VyTmFtZSA9IHR5cGU7XHJcbiAgICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgaWYgKGN0cmwuJGlzRW1wdHkodmFsdWUpKSByZXR1cm4gbnVsbDtcclxuICAgICAgaWYgKHJlZ2V4cC50ZXN0KHZhbHVlKSkge1xyXG4gICAgICAgIC8vIE5vdGU6IFdlIGNhbm5vdCByZWFkIGN0cmwuJG1vZGVsVmFsdWUsIGFzIHRoZXJlIG1pZ2h0IGJlIGEgZGlmZmVyZW50XHJcbiAgICAgICAgLy8gcGFyc2VyL2Zvcm1hdHRlciBpbiB0aGUgcHJvY2Vzc2luZyBjaGFpbiBzbyB0aGF0IHRoZSBtb2RlbFxyXG4gICAgICAgIC8vIGNvbnRhaW5zIHNvbWUgZGlmZmVyZW50IGRhdGEgZm9ybWF0IVxyXG4gICAgICAgIHZhciBwYXJzZWREYXRlID0gcGFyc2VEYXRlKHZhbHVlLCBwcmV2aW91c0RhdGUpO1xyXG4gICAgICAgIGlmICh0aW1lem9uZSkge1xyXG4gICAgICAgICAgcGFyc2VkRGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwocGFyc2VkRGF0ZSwgdGltZXpvbmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyc2VkRGF0ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIGlmICh2YWx1ZSAmJiAhaXNEYXRlKHZhbHVlKSkge1xyXG4gICAgICAgIHRocm93IG5nTW9kZWxNaW5FcnIoJ2RhdGVmbXQnLCAnRXhwZWN0ZWQgYHswfWAgdG8gYmUgYSBkYXRlJywgdmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpc1ZhbGlkRGF0ZSh2YWx1ZSkpIHtcclxuICAgICAgICBwcmV2aW91c0RhdGUgPSB2YWx1ZTtcclxuICAgICAgICBpZiAocHJldmlvdXNEYXRlICYmIHRpbWV6b25lKSB7XHJcbiAgICAgICAgICBwcmV2aW91c0RhdGUgPSBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKHByZXZpb3VzRGF0ZSwgdGltZXpvbmUsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJGZpbHRlcignZGF0ZScpKHZhbHVlLCBmb3JtYXQsIHRpbWV6b25lKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwcmV2aW91c0RhdGUgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGlzRGVmaW5lZChhdHRyLm1pbikgfHwgYXR0ci5uZ01pbikge1xyXG4gICAgICB2YXIgbWluVmFsO1xyXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuICFpc1ZhbGlkRGF0ZSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWluVmFsKSB8fCBwYXJzZURhdGUodmFsdWUpID49IG1pblZhbDtcclxuICAgICAgfTtcclxuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWluJywgZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgbWluVmFsID0gcGFyc2VPYnNlcnZlZERhdGVWYWx1ZSh2YWwpO1xyXG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0RlZmluZWQoYXR0ci5tYXgpIHx8IGF0dHIubmdNYXgpIHtcclxuICAgICAgdmFyIG1heFZhbDtcclxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXggPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAhaXNWYWxpZERhdGUodmFsdWUpIHx8IGlzVW5kZWZpbmVkKG1heFZhbCkgfHwgcGFyc2VEYXRlKHZhbHVlKSA8PSBtYXhWYWw7XHJcbiAgICAgIH07XHJcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21heCcsIGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICAgIG1heFZhbCA9IHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKTtcclxuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xyXG4gICAgICAvLyBJbnZhbGlkIERhdGU6IGdldFRpbWUoKSByZXR1cm5zIE5hTlxyXG4gICAgICByZXR1cm4gdmFsdWUgJiYgISh2YWx1ZS5nZXRUaW1lICYmIHZhbHVlLmdldFRpbWUoKSAhPT0gdmFsdWUuZ2V0VGltZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCkge1xyXG4gICAgICByZXR1cm4gaXNEZWZpbmVkKHZhbCkgJiYgIWlzRGF0ZSh2YWwpID8gcGFyc2VEYXRlKHZhbCkgfHwgdW5kZWZpbmVkIDogdmFsO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJhZElucHV0Q2hlY2tlcihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xyXG4gIHZhciBub2RlID0gZWxlbWVudFswXTtcclxuICB2YXIgbmF0aXZlVmFsaWRhdGlvbiA9IGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzID0gaXNPYmplY3Qobm9kZS52YWxpZGl0eSk7XHJcbiAgaWYgKG5hdGl2ZVZhbGlkYXRpb24pIHtcclxuICAgIGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICB2YXIgdmFsaWRpdHkgPSBlbGVtZW50LnByb3AoVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkpIHx8IHt9O1xyXG4gICAgICByZXR1cm4gdmFsaWRpdHkuYmFkSW5wdXQgfHwgdmFsaWRpdHkudHlwZU1pc21hdGNoID8gdW5kZWZpbmVkIDogdmFsdWU7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG51bWJlcklucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XHJcbiAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKTtcclxuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xyXG5cclxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICdudW1iZXInO1xyXG4gIGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGN0cmwuJGlzRW1wdHkodmFsdWUpKSAgICAgIHJldHVybiBudWxsO1xyXG4gICAgaWYgKE5VTUJFUl9SRUdFWFAudGVzdCh2YWx1ZSkpIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgfSk7XHJcblxyXG4gIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKCFjdHJsLiRpc0VtcHR5KHZhbHVlKSkge1xyXG4gICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xyXG4gICAgICAgIHRocm93IG5nTW9kZWxNaW5FcnIoJ251bWZtdCcsICdFeHBlY3RlZCBgezB9YCB0byBiZSBhIG51bWJlcicsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfSk7XHJcblxyXG4gIGlmIChpc0RlZmluZWQoYXR0ci5taW4pIHx8IGF0dHIubmdNaW4pIHtcclxuICAgIHZhciBtaW5WYWw7XHJcbiAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHZhbHVlID49IG1pblZhbDtcclxuICAgIH07XHJcblxyXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWluJywgZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgIGlmIChpc0RlZmluZWQodmFsKSAmJiAhaXNOdW1iZXIodmFsKSkge1xyXG4gICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsLCAxMCk7XHJcbiAgICAgIH1cclxuICAgICAgbWluVmFsID0gaXNOdW1iZXIodmFsKSAmJiAhaXNOYU4odmFsKSA/IHZhbCA6IHVuZGVmaW5lZDtcclxuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXHJcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlmIChpc0RlZmluZWQoYXR0ci5tYXgpIHx8IGF0dHIubmdNYXgpIHtcclxuICAgIHZhciBtYXhWYWw7XHJcbiAgICBjdHJsLiR2YWxpZGF0b3JzLm1heCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHZhbHVlIDw9IG1heFZhbDtcclxuICAgIH07XHJcblxyXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWF4JywgZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgIGlmIChpc0RlZmluZWQodmFsKSAmJiAhaXNOdW1iZXIodmFsKSkge1xyXG4gICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsLCAxMCk7XHJcbiAgICAgIH1cclxuICAgICAgbWF4VmFsID0gaXNOdW1iZXIodmFsKSAmJiAhaXNOYU4odmFsKSA/IHZhbCA6IHVuZGVmaW5lZDtcclxuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXHJcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVybElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XHJcbiAgLy8gTm90ZTogbm8gYmFkSW5wdXRDaGVja2VyIGhlcmUgYnkgcHVycG9zZSBhcyBgdXJsYCBpcyBvbmx5IGEgdmFsaWRhdGlvblxyXG4gIC8vIGluIGJyb3dzZXJzLCBpLmUuIHdlIGNhbiBhbHdheXMgcmVhZCBvdXQgaW5wdXQudmFsdWUgZXZlbiBpZiBpdCBpcyBub3QgdmFsaWQhXHJcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcclxuICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcclxuXHJcbiAgY3RybC4kJHBhcnNlck5hbWUgPSAndXJsJztcclxuICBjdHJsLiR2YWxpZGF0b3JzLnVybCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XHJcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgVVJMX1JFR0VYUC50ZXN0KHZhbHVlKTtcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbWFpbElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XHJcbiAgLy8gTm90ZTogbm8gYmFkSW5wdXRDaGVja2VyIGhlcmUgYnkgcHVycG9zZSBhcyBgdXJsYCBpcyBvbmx5IGEgdmFsaWRhdGlvblxyXG4gIC8vIGluIGJyb3dzZXJzLCBpLmUuIHdlIGNhbiBhbHdheXMgcmVhZCBvdXQgaW5wdXQudmFsdWUgZXZlbiBpZiBpdCBpcyBub3QgdmFsaWQhXHJcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcclxuICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcclxuXHJcbiAgY3RybC4kJHBhcnNlck5hbWUgPSAnZW1haWwnO1xyXG4gIGN0cmwuJHZhbGlkYXRvcnMuZW1haWwgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xyXG4gICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IEVNQUlMX1JFR0VYUC50ZXN0KHZhbHVlKTtcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiByYWRpb0lucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xyXG4gIC8vIG1ha2UgdGhlIG5hbWUgdW5pcXVlLCBpZiBub3QgZGVmaW5lZFxyXG4gIGlmIChpc1VuZGVmaW5lZChhdHRyLm5hbWUpKSB7XHJcbiAgICBlbGVtZW50LmF0dHIoJ25hbWUnLCBuZXh0VWlkKCkpO1xyXG4gIH1cclxuXHJcbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXYpIHtcclxuICAgIGlmIChlbGVtZW50WzBdLmNoZWNrZWQpIHtcclxuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKGF0dHIudmFsdWUsIGV2ICYmIGV2LnR5cGUpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGVsZW1lbnQub24oJ2NsaWNrJywgbGlzdGVuZXIpO1xyXG5cclxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB2YWx1ZSA9IGF0dHIudmFsdWU7XHJcbiAgICBlbGVtZW50WzBdLmNoZWNrZWQgPSAodmFsdWUgPT0gY3RybC4kdmlld1ZhbHVlKTtcclxuICB9O1xyXG5cclxuICBhdHRyLiRvYnNlcnZlKCd2YWx1ZScsIGN0cmwuJHJlbmRlcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSwgY29udGV4dCwgbmFtZSwgZXhwcmVzc2lvbiwgZmFsbGJhY2spIHtcclxuICB2YXIgcGFyc2VGbjtcclxuICBpZiAoaXNEZWZpbmVkKGV4cHJlc3Npb24pKSB7XHJcbiAgICBwYXJzZUZuID0gJHBhcnNlKGV4cHJlc3Npb24pO1xyXG4gICAgaWYgKCFwYXJzZUZuLmNvbnN0YW50KSB7XHJcbiAgICAgIHRocm93IG5nTW9kZWxNaW5FcnIoJ2NvbnN0ZXhwcicsICdFeHBlY3RlZCBjb25zdGFudCBleHByZXNzaW9uIGZvciBgezB9YCwgYnV0IHNhdyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYHsxfWAuJywgbmFtZSwgZXhwcmVzc2lvbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFyc2VGbihjb250ZXh0KTtcclxuICB9XHJcbiAgcmV0dXJuIGZhbGxiYWNrO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja2JveElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyLCAkZmlsdGVyLCAkcGFyc2UpIHtcclxuICB2YXIgdHJ1ZVZhbHVlID0gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBzY29wZSwgJ25nVHJ1ZVZhbHVlJywgYXR0ci5uZ1RydWVWYWx1ZSwgdHJ1ZSk7XHJcbiAgdmFyIGZhbHNlVmFsdWUgPSBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIHNjb3BlLCAnbmdGYWxzZVZhbHVlJywgYXR0ci5uZ0ZhbHNlVmFsdWUsIGZhbHNlKTtcclxuXHJcbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXYpIHtcclxuICAgIGN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50WzBdLmNoZWNrZWQsIGV2ICYmIGV2LnR5cGUpO1xyXG4gIH07XHJcblxyXG4gIGVsZW1lbnQub24oJ2NsaWNrJywgbGlzdGVuZXIpO1xyXG5cclxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIGVsZW1lbnRbMF0uY2hlY2tlZCA9IGN0cmwuJHZpZXdWYWx1ZTtcclxuICB9O1xyXG5cclxuICAvLyBPdmVycmlkZSB0aGUgc3RhbmRhcmQgYCRpc0VtcHR5YCBiZWNhdXNlIHRoZSAkdmlld1ZhbHVlIG9mIGFuIGVtcHR5IGNoZWNrYm94IGlzIGFsd2F5cyBzZXQgdG8gYGZhbHNlYFxyXG4gIC8vIFRoaXMgaXMgYmVjYXVzZSBvZiB0aGUgcGFyc2VyIGJlbG93LCB3aGljaCBjb21wYXJlcyB0aGUgYCRtb2RlbFZhbHVlYCB3aXRoIGB0cnVlVmFsdWVgIHRvIGNvbnZlcnRcclxuICAvLyBpdCB0byBhIGJvb2xlYW4uXHJcbiAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgPT09IGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGVxdWFscyh2YWx1ZSwgdHJ1ZVZhbHVlKTtcclxuICB9KTtcclxuXHJcbiAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgPyB0cnVlVmFsdWUgOiBmYWxzZVZhbHVlO1xyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgdGV4dGFyZWFcclxuICogQHJlc3RyaWN0IEVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEhUTUwgdGV4dGFyZWEgZWxlbWVudCBjb250cm9sIHdpdGggYW5ndWxhciBkYXRhLWJpbmRpbmcuIFRoZSBkYXRhLWJpbmRpbmcgYW5kIHZhbGlkYXRpb25cclxuICogcHJvcGVydGllcyBvZiB0aGlzIGVsZW1lbnQgYXJlIGV4YWN0bHkgdGhlIHNhbWUgYXMgdGhvc2Ugb2YgdGhlXHJcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXQgZWxlbWVudH0uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cclxuICogICAgbWlubGVuZ3RoLlxyXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXHJcbiAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZiBhbnlcclxuICogICAgbGVuZ3RoLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XHJcbiAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxyXG4gKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXHJcbiAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXHJcbiAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cclxuICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cclxuICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cclxuICogICAgYWNjb3VudC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgaW5wdXRcclxuICogQHJlc3RyaWN0IEVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEhUTUwgaW5wdXQgZWxlbWVudCBjb250cm9sLiBXaGVuIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LCBpdCBwcm92aWRlcyBkYXRhLWJpbmRpbmcsXHJcbiAqIGlucHV0IHN0YXRlIGNvbnRyb2wsIGFuZCB2YWxpZGF0aW9uLlxyXG4gKiBJbnB1dCBjb250cm9sIGZvbGxvd3MgSFRNTDUgaW5wdXQgdHlwZXMgYW5kIHBvbHlmaWxscyB0aGUgSFRNTDUgdmFsaWRhdGlvbiBiZWhhdmlvciBmb3Igb2xkZXIgYnJvd3NlcnMuXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZToqKiBOb3QgZXZlcnkgZmVhdHVyZSBvZmZlcmVkIGlzIGF2YWlsYWJsZSBmb3IgYWxsIGlucHV0IHR5cGVzLlxyXG4gKiBTcGVjaWZpY2FsbHksIGRhdGEgYmluZGluZyBhbmQgZXZlbnQgaGFuZGxpbmcgdmlhIGBuZy1tb2RlbGAgaXMgdW5zdXBwb3J0ZWQgZm9yIGBpbnB1dFtmaWxlXWAuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBuZ1JlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgaWYgc2V0IHRvIHRydWVcclxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cclxuICogICAgbWlubGVuZ3RoLlxyXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXHJcbiAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZiBhbnlcclxuICogICAgbGVuZ3RoLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XHJcbiAqICAgIHZhbHVlIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxyXG4gKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXHJcbiAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXHJcbiAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cclxuICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cclxuICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cclxuICogICAgYWNjb3VudC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cclxuICogICAgVGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCBmb3IgaW5wdXRbdHlwZT1wYXNzd29yZF0gY29udHJvbHMsIHdoaWNoIHdpbGwgbmV2ZXIgdHJpbSB0aGVcclxuICogICAgaW5wdXQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZSBuYW1lPVwiaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiaW5wdXRFeGFtcGxlXCI+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2lucHV0RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS51c2VyID0ge25hbWU6ICdndWVzdCcsIGxhc3Q6ICd2aXNpdG9yJ307XHJcbiAgICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxyXG4gICAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICAgICBVc2VyIG5hbWU6XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCIgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIiByZXF1aXJlZD5cclxuICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XHJcbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS51c2VyTmFtZS4kZXJyb3IucmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICAgIExhc3QgbmFtZTpcclxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibGFzdE5hbWVcIiBuZy1tb2RlbD1cInVzZXIubGFzdFwiXHJcbiAgICAgICAgICAgICAgbmctbWlubGVuZ3RoPVwiM1wiIG5nLW1heGxlbmd0aD1cIjEwXCI+XHJcbiAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubGFzdE5hbWUuJGVycm9yLm1pbmxlbmd0aFwiPlxyXG4gICAgICAgICAgICAgICBUb28gc2hvcnQhPC9zcGFuPlxyXG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubGFzdE5hbWUuJGVycm9yLm1heGxlbmd0aFwiPlxyXG4gICAgICAgICAgICAgICBUb28gbG9uZyE8L3NwYW4+XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgPGhyPlxyXG4gICAgICAgICA8dHQ+dXNlciA9IHt7dXNlcn19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLnVzZXJOYW1lLiR2YWxpZCA9IHt7bXlGb3JtLnVzZXJOYW1lLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLnVzZXJOYW1lLiRlcnJvciA9IHt7bXlGb3JtLnVzZXJOYW1lLiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLmxhc3ROYW1lLiR2YWxpZCA9IHt7bXlGb3JtLmxhc3ROYW1lLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLmxhc3ROYW1lLiRlcnJvciA9IHt7bXlGb3JtLmxhc3ROYW1lLiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLm1pbmxlbmd0aCA9IHt7ISFteUZvcm0uJGVycm9yLm1pbmxlbmd0aH19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5tYXhsZW5ndGggPSB7eyEhbXlGb3JtLiRlcnJvci5tYXhsZW5ndGh9fTwvdHQ+PGJyLz5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICB2YXIgdXNlciA9IGVsZW1lbnQoYnkuZXhhY3RCaW5kaW5nKCd1c2VyJykpO1xyXG4gICAgICAgIHZhciB1c2VyTmFtZVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0udXNlck5hbWUuJHZhbGlkJykpO1xyXG4gICAgICAgIHZhciBsYXN0TmFtZVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubGFzdE5hbWUuJHZhbGlkJykpO1xyXG4gICAgICAgIHZhciBsYXN0TmFtZUVycm9yID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubGFzdE5hbWUuJGVycm9yJykpO1xyXG4gICAgICAgIHZhciBmb3JtVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS4kdmFsaWQnKSk7XHJcbiAgICAgICAgdmFyIHVzZXJOYW1lSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLm5hbWUnKSk7XHJcbiAgICAgICAgdmFyIHVzZXJMYXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLmxhc3QnKSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCIsXCJsYXN0XCI6XCJ2aXNpdG9yXCJ9Jyk7XHJcbiAgICAgICAgICBleHBlY3QodXNlck5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHkgd2hlbiByZXF1aXJlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdXNlck5hbWVJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgdXNlck5hbWVJbnB1dC5zZW5kS2V5cygnJyk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcImxhc3RcIjpcInZpc2l0b3JcIn0nKTtcclxuICAgICAgICAgIGV4cGVjdCh1c2VyTmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBiZSB2YWxpZCBpZiBlbXB0eSB3aGVuIG1pbiBsZW5ndGggaXMgc2V0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICB1c2VyTGFzdElucHV0LnNlbmRLZXlzKCcnKTtcclxuXHJcbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIixcImxhc3RcIjpcIlwifScpO1xyXG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGxlc3MgdGhhbiByZXF1aXJlZCBtaW4gbGVuZ3RoJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICB1c2VyTGFzdElucHV0LnNlbmRLZXlzKCd4eCcpO1xyXG5cclxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwifScpO1xyXG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVFcnJvci5nZXRUZXh0KCkpLnRvQ29udGFpbignbWlubGVuZ3RoJyk7XHJcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbG9uZ2VyIHRoYW4gbWF4IGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygnc29tZSByaWRpY3Vsb3VzbHkgbG9uZyBuYW1lJyk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCJ9Jyk7XHJcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZUVycm9yLmdldFRleHQoKSkudG9Db250YWluKCdtYXhsZW5ndGgnKTtcclxuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBpbnB1dERpcmVjdGl2ZSA9IFsnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJGZpbHRlcicsICckcGFyc2UnLFxyXG4gICAgZnVuY3Rpb24oJGJyb3dzZXIsICRzbmlmZmVyLCAkZmlsdGVyLCAkcGFyc2UpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgIHJlcXVpcmU6IFsnP25nTW9kZWwnXSxcclxuICAgIGxpbms6IHtcclxuICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcclxuICAgICAgICBpZiAoY3RybHNbMF0pIHtcclxuICAgICAgICAgIChpbnB1dFR5cGVbbG93ZXJjYXNlKGF0dHIudHlwZSldIHx8IGlucHV0VHlwZS50ZXh0KShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHNbMF0sICRzbmlmZmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRicm93c2VyLCAkZmlsdGVyLCAkcGFyc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxuXHJcblxyXG52YXIgQ09OU1RBTlRfVkFMVUVfUkVHRVhQID0gL14odHJ1ZXxmYWxzZXxcXGQrKSQvO1xyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1ZhbHVlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBCaW5kcyB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiB0byB0aGUgdmFsdWUgb2YgYDxvcHRpb24+YCBvciB7QGxpbmsgaW5wdXRbcmFkaW9dIGBpbnB1dFtyYWRpb11gfSxcclxuICogc28gdGhhdCB3aGVuIHRoZSBlbGVtZW50IGlzIHNlbGVjdGVkLCB0aGUge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSBvZiB0aGF0IGVsZW1lbnQgaXMgc2V0IHRvXHJcbiAqIHRoZSBib3VuZCB2YWx1ZS5cclxuICpcclxuICogYG5nVmFsdWVgIGlzIHVzZWZ1bCB3aGVuIGR5bmFtaWNhbGx5IGdlbmVyYXRpbmcgbGlzdHMgb2YgcmFkaW8gYnV0dG9ucyB1c2luZ1xyXG4gKiB7QGxpbmsgbmdSZXBlYXQgYG5nUmVwZWF0YH0sIGFzIHNob3duIGJlbG93LlxyXG4gKlxyXG4gKiBMaWtld2lzZSwgYG5nVmFsdWVgIGNhbiBiZSB1c2VkIHRvIGdlbmVyYXRlIGA8b3B0aW9uPmAgZWxlbWVudHMgZm9yXHJcbiAqIHRoZSB7QGxpbmsgc2VsZWN0IGBzZWxlY3RgfSBlbGVtZW50LiBJbiB0aGF0IGNhc2UgaG93ZXZlciwgb25seSBzdHJpbmdzIGFyZSBzdXBwb3J0ZWRcclxuICogZm9yIHRoZSBgdmFsdWUgYGF0dHJpYnV0ZSwgc28gdGhlIHJlc3VsdGluZyBgbmdNb2RlbGAgd2lsbCBhbHdheXMgYmUgYSBzdHJpbmcuXHJcbiAqIFN1cHBvcnQgZm9yIGBzZWxlY3RgIG1vZGVscyB3aXRoIG5vbi1zdHJpbmcgdmFsdWVzIGlzIGF2YWlsYWJsZSB2aWEgYG5nT3B0aW9uc2AuXHJcbiAqXHJcbiAqIEBlbGVtZW50IGlucHV0XHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdWYWx1ZSBhbmd1bGFyIGV4cHJlc3Npb24sIHdob3NlIHZhbHVlIHdpbGwgYmUgYm91bmQgdG8gdGhlIGB2YWx1ZWAgYXR0cmlidXRlXHJcbiAqICAgb2YgdGhlIGBpbnB1dGAgZWxlbWVudFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nVmFsdWUtZGlyZWN0aXZlXCIgbW9kdWxlPVwidmFsdWVFeGFtcGxlXCI+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3ZhbHVlRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5uYW1lcyA9IFsncGl6emEnLCAndW5pY29ybnMnLCAncm9ib3RzJ107XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm15ID0geyBmYXZvcml0ZTogJ3VuaWNvcm5zJyB9O1xyXG4gICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICA8Zm9ybSBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgIDxoMj5XaGljaCBpcyB5b3VyIGZhdm9yaXRlPzwvaDI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBuZy1yZXBlYXQ9XCJuYW1lIGluIG5hbWVzXCIgZm9yPVwie3tuYW1lfX1cIj5cclxuICAgICAgICAgICAgICB7e25hbWV9fVxyXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIlxyXG4gICAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cIm15LmZhdm9yaXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgbmctdmFsdWU9XCJuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ7e25hbWV9fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJmYXZvcml0ZVwiPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgPGRpdj5Zb3UgY2hvc2Uge3tteS5mYXZvcml0ZX19PC9kaXY+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICB2YXIgZmF2b3JpdGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215LmZhdm9yaXRlJykpO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV4cGVjdChmYXZvcml0ZS5nZXRUZXh0KCkpLnRvQ29udGFpbigndW5pY29ybnMnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpdCgnc2hvdWxkIGJpbmQgdGhlIHZhbHVlcyB0byB0aGUgaW5wdXRzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnbXkuZmF2b3JpdGUnKSkuZ2V0KDApLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZmF2b3JpdGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3BpenphJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ1ZhbHVlRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBwcmlvcml0eTogMTAwLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24odHBsLCB0cGxBdHRyKSB7XHJcbiAgICAgIGlmIChDT05TVEFOVF9WQUxVRV9SRUdFWFAudGVzdCh0cGxBdHRyLm5nVmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVmFsdWVDb25zdGFudExpbmsoc2NvcGUsIGVsbSwgYXR0cikge1xyXG4gICAgICAgICAgYXR0ci4kc2V0KCd2YWx1ZScsIHNjb3BlLiRldmFsKGF0dHIubmdWYWx1ZSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVmFsdWVMaW5rKHNjb3BlLCBlbG0sIGF0dHIpIHtcclxuICAgICAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nVmFsdWUsIGZ1bmN0aW9uIHZhbHVlV2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgYXR0ci4kc2V0KCd2YWx1ZScsIHZhbHVlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdCaW5kXHJcbiAqIEByZXN0cmljdCBBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ0JpbmRgIGF0dHJpYnV0ZSB0ZWxscyBBbmd1bGFyIHRvIHJlcGxhY2UgdGhlIHRleHQgY29udGVudCBvZiB0aGUgc3BlY2lmaWVkIEhUTUwgZWxlbWVudFxyXG4gKiB3aXRoIHRoZSB2YWx1ZSBvZiBhIGdpdmVuIGV4cHJlc3Npb24sIGFuZCB0byB1cGRhdGUgdGhlIHRleHQgY29udGVudCB3aGVuIHRoZSB2YWx1ZSBvZiB0aGF0XHJcbiAqIGV4cHJlc3Npb24gY2hhbmdlcy5cclxuICpcclxuICogVHlwaWNhbGx5LCB5b3UgZG9uJ3QgdXNlIGBuZ0JpbmRgIGRpcmVjdGx5LCBidXQgaW5zdGVhZCB5b3UgdXNlIHRoZSBkb3VibGUgY3VybHkgbWFya3VwIGxpa2VcclxuICogYHt7IGV4cHJlc3Npb24gfX1gIHdoaWNoIGlzIHNpbWlsYXIgYnV0IGxlc3MgdmVyYm9zZS5cclxuICpcclxuICogSXQgaXMgcHJlZmVyYWJsZSB0byB1c2UgYG5nQmluZGAgaW5zdGVhZCBvZiBge3sgZXhwcmVzc2lvbiB9fWAgaWYgYSB0ZW1wbGF0ZSBpcyBtb21lbnRhcmlseVxyXG4gKiBkaXNwbGF5ZWQgYnkgdGhlIGJyb3dzZXIgaW4gaXRzIHJhdyBzdGF0ZSBiZWZvcmUgQW5ndWxhciBjb21waWxlcyBpdC4gU2luY2UgYG5nQmluZGAgaXMgYW5cclxuICogZWxlbWVudCBhdHRyaWJ1dGUsIGl0IG1ha2VzIHRoZSBiaW5kaW5ncyBpbnZpc2libGUgdG8gdGhlIHVzZXIgd2hpbGUgdGhlIHBhZ2UgaXMgbG9hZGluZy5cclxuICpcclxuICogQW4gYWx0ZXJuYXRpdmUgc29sdXRpb24gdG8gdGhpcyBwcm9ibGVtIHdvdWxkIGJlIHVzaW5nIHRoZVxyXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xvYWsgbmdDbG9ha30gZGlyZWN0aXZlLlxyXG4gKlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0JpbmQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIEVudGVyIGEgbmFtZSBpbiB0aGUgTGl2ZSBQcmV2aWV3IHRleHQgYm94OyB0aGUgZ3JlZXRpbmcgYmVsb3cgdGhlIHRleHQgYm94IGNoYW5nZXMgaW5zdGFudGx5LlxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kRXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgJHNjb3BlLm5hbWUgPSAnV2hpcmxlZCc7XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8bGFiZWw+RW50ZXIgbmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCI+PC9sYWJlbD48YnI+XHJcbiAgICAgICAgIEhlbGxvIDxzcGFuIG5nLWJpbmQ9XCJuYW1lXCI+PC9zcGFuPiFcclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgdmFyIG5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSk7XHJcblxyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCduYW1lJykpLmdldFRleHQoKSkudG9CZSgnV2hpcmxlZCcpO1xyXG4gICAgICAgICBuYW1lSW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgbmFtZUlucHV0LnNlbmRLZXlzKCd3b3JsZCcpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCduYW1lJykpLmdldFRleHQoKSkudG9CZSgnd29ybGQnKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nQmluZERpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCBmdW5jdGlvbigkY29tcGlsZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0FDJyxcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZENvbXBpbGUodGVtcGxhdGVFbGVtZW50KSB7XHJcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlRWxlbWVudCk7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhlbGVtZW50LCBhdHRyLm5nQmluZCk7XHJcbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbMF07XHJcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdCaW5kLCBmdW5jdGlvbiBuZ0JpbmRXYXRjaEFjdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGlzVW5kZWZpbmVkKHZhbHVlKSA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdCaW5kVGVtcGxhdGVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdCaW5kVGVtcGxhdGVgIGRpcmVjdGl2ZSBzcGVjaWZpZXMgdGhhdCB0aGUgZWxlbWVudFxyXG4gKiB0ZXh0IGNvbnRlbnQgc2hvdWxkIGJlIHJlcGxhY2VkIHdpdGggdGhlIGludGVycG9sYXRpb24gb2YgdGhlIHRlbXBsYXRlXHJcbiAqIGluIHRoZSBgbmdCaW5kVGVtcGxhdGVgIGF0dHJpYnV0ZS5cclxuICogVW5saWtlIGBuZ0JpbmRgLCB0aGUgYG5nQmluZFRlbXBsYXRlYCBjYW4gY29udGFpbiBtdWx0aXBsZSBge3tgIGB9fWBcclxuICogZXhwcmVzc2lvbnMuIFRoaXMgZGlyZWN0aXZlIGlzIG5lZWRlZCBzaW5jZSBzb21lIEhUTUwgZWxlbWVudHNcclxuICogKHN1Y2ggYXMgVElUTEUgYW5kIE9QVElPTikgY2Fubm90IGNvbnRhaW4gU1BBTiBlbGVtZW50cy5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ0JpbmRUZW1wbGF0ZSB0ZW1wbGF0ZSBvZiBmb3JtXHJcbiAqICAgPHR0Pnt7PC90dD4gPHR0PmV4cHJlc3Npb248L3R0PiA8dHQ+fX08L3R0PiB0byBldmFsLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBUcnkgaXQgaGVyZTogZW50ZXIgdGV4dCBpbiB0ZXh0IGJveCBhbmQgd2F0Y2ggdGhlIGdyZWV0aW5nIGNoYW5nZS5cclxuICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEV4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2JpbmRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICRzY29wZS5zYWx1dGF0aW9uID0gJ0hlbGxvJztcclxuICAgICAgICAgICAgICRzY29wZS5uYW1lID0gJ1dvcmxkJztcclxuICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgPGxhYmVsPlNhbHV0YXRpb246IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic2FsdXRhdGlvblwiPjwvbGFiZWw+PGJyPlxyXG4gICAgICAgIDxsYWJlbD5OYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIj48L2xhYmVsPjxicj5cclxuICAgICAgICA8cHJlIG5nLWJpbmQtdGVtcGxhdGU9XCJ7e3NhbHV0YXRpb259fSB7e25hbWV9fSFcIj48L3ByZT5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgdmFyIHNhbHV0YXRpb25FbGVtID0gZWxlbWVudChieS5iaW5kaW5nKCdzYWx1dGF0aW9uJykpO1xyXG4gICAgICAgICB2YXIgc2FsdXRhdGlvbklucHV0ID0gZWxlbWVudChieS5tb2RlbCgnc2FsdXRhdGlvbicpKTtcclxuICAgICAgICAgdmFyIG5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSk7XHJcblxyXG4gICAgICAgICBleHBlY3Qoc2FsdXRhdGlvbkVsZW0uZ2V0VGV4dCgpKS50b0JlKCdIZWxsbyBXb3JsZCEnKTtcclxuXHJcbiAgICAgICAgIHNhbHV0YXRpb25JbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICBzYWx1dGF0aW9uSW5wdXQuc2VuZEtleXMoJ0dyZWV0aW5ncycpO1xyXG4gICAgICAgICBuYW1lSW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgbmFtZUlucHV0LnNlbmRLZXlzKCd1c2VyJyk7XHJcblxyXG4gICAgICAgICBleHBlY3Qoc2FsdXRhdGlvbkVsZW0uZ2V0VGV4dCgpKS50b0JlKCdHcmVldGluZ3MgdXNlciEnKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlID0gWyckaW50ZXJwb2xhdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkaW50ZXJwb2xhdGUsICRjb21waWxlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZFRlbXBsYXRlQ29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpIHtcclxuICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVFbGVtZW50KTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZFRlbXBsYXRlTGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nQmluZFRlbXBsYXRlKSk7XHJcbiAgICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhlbGVtZW50LCBpbnRlcnBvbGF0ZUZuLmV4cHJlc3Npb25zKTtcclxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcclxuICAgICAgICBhdHRyLiRvYnNlcnZlKCduZ0JpbmRUZW1wbGF0ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gaXNVbmRlZmluZWQodmFsdWUpID8gJycgOiB2YWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59XTtcclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0JpbmRIdG1sXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFdmFsdWF0ZXMgdGhlIGV4cHJlc3Npb24gYW5kIGluc2VydHMgdGhlIHJlc3VsdGluZyBIVE1MIGludG8gdGhlIGVsZW1lbnQgaW4gYSBzZWN1cmUgd2F5LiBCeSBkZWZhdWx0LFxyXG4gKiB0aGUgcmVzdWx0aW5nIEhUTUwgY29udGVudCB3aWxsIGJlIHNhbml0aXplZCB1c2luZyB0aGUge0BsaW5rIG5nU2FuaXRpemUuJHNhbml0aXplICRzYW5pdGl6ZX0gc2VydmljZS5cclxuICogVG8gdXRpbGl6ZSB0aGlzIGZ1bmN0aW9uYWxpdHksIGVuc3VyZSB0aGF0IGAkc2FuaXRpemVgIGlzIGF2YWlsYWJsZSwgZm9yIGV4YW1wbGUsIGJ5IGluY2x1ZGluZyB7QGxpbmtcclxuICogbmdTYW5pdGl6ZX0gaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMgKG5vdCBpbiBjb3JlIEFuZ3VsYXIpLiBJbiBvcmRlciB0byB1c2Uge0BsaW5rIG5nU2FuaXRpemV9XHJcbiAqIGluIHlvdXIgbW9kdWxlJ3MgZGVwZW5kZW5jaWVzLCB5b3UgbmVlZCB0byBpbmNsdWRlIFwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiIGluIHlvdXIgYXBwbGljYXRpb24uXHJcbiAqXHJcbiAqIFlvdSBtYXkgYWxzbyBieXBhc3Mgc2FuaXRpemF0aW9uIGZvciB2YWx1ZXMgeW91IGtub3cgYXJlIHNhZmUuIFRvIGRvIHNvLCBiaW5kIHRvXHJcbiAqIGFuIGV4cGxpY2l0bHkgdHJ1c3RlZCB2YWx1ZSB2aWEge0BsaW5rIG5nLiRzY2UjdHJ1c3RBc0h0bWwgJHNjZS50cnVzdEFzSHRtbH0uICBTZWUgdGhlIGV4YW1wbGVcclxuICogdW5kZXIge0BsaW5rIG5nLiRzY2Ujc2hvdy1tZS1hbi1leGFtcGxlLXVzaW5nLXNjZS0gU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSl9LlxyXG4gKlxyXG4gKiBOb3RlOiBJZiBhIGAkc2FuaXRpemVgIHNlcnZpY2UgaXMgdW5hdmFpbGFibGUgYW5kIHRoZSBib3VuZCB2YWx1ZSBpc24ndCBleHBsaWNpdGx5IHRydXN0ZWQsIHlvdVxyXG4gKiB3aWxsIGhhdmUgYW4gZXhjZXB0aW9uIChpbnN0ZWFkIG9mIGFuIGV4cGxvaXQuKVxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0JpbmRIdG1sIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG5cclxuICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEh0bWxFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICA8cCBuZy1iaW5kLWh0bWw9XCJteUhUTUxcIj48L3A+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcblxyXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kSHRtbEV4YW1wbGUnLCBbJ25nU2FuaXRpemUnXSlcclxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAkc2NvcGUubXlIVE1MID1cclxuICAgICAgICAgICAgICAnSSBhbSBhbiA8Y29kZT5IVE1MPC9jb2RlPnN0cmluZyB3aXRoICcgK1xyXG4gICAgICAgICAgICAgICc8YSBocmVmPVwiI1wiPmxpbmtzITwvYT4gYW5kIG90aGVyIDxlbT5zdHVmZjwvZW0+JztcclxuICAgICAgICAgfV0pO1xyXG4gICAgIDwvZmlsZT5cclxuXHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1iaW5kLWh0bWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbXlIVE1MJykpLmdldFRleHQoKSkudG9CZShcclxuICAgICAgICAgICAgICdJIGFtIGFuIEhUTUxzdHJpbmcgd2l0aCBsaW5rcyEgYW5kIG90aGVyIHN0dWZmJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ0JpbmRIdG1sRGlyZWN0aXZlID0gWyckc2NlJywgJyRwYXJzZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRzY2UsICRwYXJzZSwgJGNvbXBpbGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZEh0bWxDb21waWxlKHRFbGVtZW50LCB0QXR0cnMpIHtcclxuICAgICAgdmFyIG5nQmluZEh0bWxHZXR0ZXIgPSAkcGFyc2UodEF0dHJzLm5nQmluZEh0bWwpO1xyXG4gICAgICB2YXIgbmdCaW5kSHRtbFdhdGNoID0gJHBhcnNlKHRBdHRycy5uZ0JpbmRIdG1sLCBmdW5jdGlvbiBnZXRTdHJpbmdWYWx1ZSh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAodmFsdWUgfHwgJycpLnRvU3RyaW5nKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0RWxlbWVudCk7XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdCaW5kSHRtbExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsIGF0dHIubmdCaW5kSHRtbCk7XHJcblxyXG4gICAgICAgIHNjb3BlLiR3YXRjaChuZ0JpbmRIdG1sV2F0Y2gsIGZ1bmN0aW9uIG5nQmluZEh0bWxXYXRjaEFjdGlvbigpIHtcclxuICAgICAgICAgIC8vIHdlIHJlLWV2YWx1YXRlIHRoZSBleHByIGJlY2F1c2Ugd2Ugd2FudCBhIFRydXN0ZWRWYWx1ZUhvbGRlclR5cGVcclxuICAgICAgICAgIC8vIGZvciAkc2NlLCBub3QgYSBzdHJpbmdcclxuICAgICAgICAgIGVsZW1lbnQuaHRtbCgkc2NlLmdldFRydXN0ZWRIdG1sKG5nQmluZEh0bWxHZXR0ZXIoc2NvcGUpKSB8fCAnJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NoYW5nZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRXZhbHVhdGUgdGhlIGdpdmVuIGV4cHJlc3Npb24gd2hlbiB0aGUgdXNlciBjaGFuZ2VzIHRoZSBpbnB1dC5cclxuICogVGhlIGV4cHJlc3Npb24gaXMgZXZhbHVhdGVkIGltbWVkaWF0ZWx5LCB1bmxpa2UgdGhlIEphdmFTY3JpcHQgb25jaGFuZ2UgZXZlbnRcclxuICogd2hpY2ggb25seSB0cmlnZ2VycyBhdCB0aGUgZW5kIG9mIGEgY2hhbmdlICh1c3VhbGx5LCB3aGVuIHRoZSB1c2VyIGxlYXZlcyB0aGVcclxuICogZm9ybSBlbGVtZW50IG9yIHByZXNzZXMgdGhlIHJldHVybiBrZXkpLlxyXG4gKlxyXG4gKiBUaGUgYG5nQ2hhbmdlYCBleHByZXNzaW9uIGlzIG9ubHkgZXZhbHVhdGVkIHdoZW4gYSBjaGFuZ2UgaW4gdGhlIGlucHV0IHZhbHVlIGNhdXNlc1xyXG4gKiBhIG5ldyB2YWx1ZSB0byBiZSBjb21taXR0ZWQgdG8gdGhlIG1vZGVsLlxyXG4gKlxyXG4gKiBJdCB3aWxsIG5vdCBiZSBldmFsdWF0ZWQ6XHJcbiAqICogaWYgdGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGAkcGFyc2Vyc2AgdHJhbnNmb3JtYXRpb24gcGlwZWxpbmUgaGFzIG5vdCBjaGFuZ2VkXHJcbiAqICogaWYgdGhlIGlucHV0IGhhcyBjb250aW51ZWQgdG8gYmUgaW52YWxpZCBzaW5jZSB0aGUgbW9kZWwgd2lsbCBzdGF5IGBudWxsYFxyXG4gKiAqIGlmIHRoZSBtb2RlbCBpcyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHkgYW5kIG5vdCBieSBhIGNoYW5nZSB0byB0aGUgaW5wdXQgdmFsdWVcclxuICpcclxuICpcclxuICogTm90ZSwgdGhpcyBkaXJlY3RpdmUgcmVxdWlyZXMgYG5nTW9kZWxgIHRvIGJlIHByZXNlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IGlucHV0XHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGFuZ2Uge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbiBjaGFuZ2VcclxuICogaW4gaW5wdXQgdmFsdWUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0NoYW5nZS1kaXJlY3RpdmVcIiBtb2R1bGU9XCJjaGFuZ2VFeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgIDxzY3JpcHQ+XHJcbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjaGFuZ2VFeGFtcGxlJywgW10pXHJcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAgICAgICRzY29wZS5jb3VudGVyID0gMDtcclxuICogICAgICAgICAgICRzY29wZS5jaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuICogICAgICAgICAgICAgJHNjb3BlLmNvdW50ZXIrKztcclxuICogICAgICAgICAgIH07XHJcbiAqICAgICAgICAgfV0pO1xyXG4gKiAgICAgPC9zY3JpcHQ+XHJcbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gKiAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb25maXJtZWRcIiBuZy1jaGFuZ2U9XCJjaGFuZ2UoKVwiIGlkPVwibmctY2hhbmdlLWV4YW1wbGUxXCIgLz5cclxuICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgaWQ9XCJuZy1jaGFuZ2UtZXhhbXBsZTJcIiAvPlxyXG4gKiAgICAgICA8bGFiZWwgZm9yPVwibmctY2hhbmdlLWV4YW1wbGUyXCI+Q29uZmlybWVkPC9sYWJlbD48YnIgLz5cclxuICogICAgICAgPHR0PmRlYnVnID0ge3tjb25maXJtZWR9fTwvdHQ+PGJyLz5cclxuICogICAgICAgPHR0PmNvdW50ZXIgPSB7e2NvdW50ZXJ9fTwvdHQ+PGJyLz5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAqICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuYmluZGluZygnY291bnRlcicpKTtcclxuICogICAgIHZhciBkZWJ1ZyA9IGVsZW1lbnQoYnkuYmluZGluZygnY29uZmlybWVkJykpO1xyXG4gKlxyXG4gKiAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIHZpZXcnLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzAnKTtcclxuICpcclxuICogICAgICAgZWxlbWVudChieS5pZCgnbmctY2hhbmdlLWV4YW1wbGUxJykpLmNsaWNrKCk7XHJcbiAqXHJcbiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcxJyk7XHJcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gKiAgICAgfSk7XHJcbiAqXHJcbiAqICAgICBpdCgnc2hvdWxkIG5vdCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGVsZW1lbnQoYnkuaWQoJ25nLWNoYW5nZS1leGFtcGxlMicpKS5jbGljaygpO1xyXG5cclxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzAnKTtcclxuICogICAgICAgZXhwZWN0KGRlYnVnLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAqICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ0NoYW5nZURpcmVjdGl2ZSA9IHZhbHVlRm4oe1xyXG4gIHJlc3RyaWN0OiAnQScsXHJcbiAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XHJcbiAgICBjdHJsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2goZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNjb3BlLiRldmFsKGF0dHIubmdDaGFuZ2UpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNsYXNzRGlyZWN0aXZlKG5hbWUsIHNlbGVjdG9yKSB7XHJcbiAgbmFtZSA9ICduZ0NsYXNzJyArIG5hbWU7XHJcbiAgcmV0dXJuIFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBQycsXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgdmFyIG9sZFZhbDtcclxuXHJcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmFtZV0sIG5nQ2xhc3NXYXRjaEFjdGlvbiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIGF0dHIuJG9ic2VydmUoJ2NsYXNzJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIG5nQ2xhc3NXYXRjaEFjdGlvbihzY29wZS4kZXZhbChhdHRyW25hbWVdKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBpZiAobmFtZSAhPT0gJ25nQ2xhc3MnKSB7XHJcbiAgICAgICAgICBzY29wZS4kd2F0Y2goJyRpbmRleCcsIGZ1bmN0aW9uKCRpbmRleCwgb2xkJGluZGV4KSB7XHJcbiAgICAgICAgICAgIC8vIGpzaGludCBiaXR3aXNlOiBmYWxzZVxyXG4gICAgICAgICAgICB2YXIgbW9kID0gJGluZGV4ICYgMTtcclxuICAgICAgICAgICAgaWYgKG1vZCAhPT0gKG9sZCRpbmRleCAmIDEpKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSBhcnJheUNsYXNzZXMoc2NvcGUuJGV2YWwoYXR0cltuYW1lXSkpO1xyXG4gICAgICAgICAgICAgIG1vZCA9PT0gc2VsZWN0b3IgP1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NlcyhjbGFzc2VzKSA6XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzc2VzKGNsYXNzZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZENsYXNzZXMoY2xhc3Nlcykge1xyXG4gICAgICAgICAgdmFyIG5ld0NsYXNzZXMgPSBkaWdlc3RDbGFzc0NvdW50cyhjbGFzc2VzLCAxKTtcclxuICAgICAgICAgIGF0dHIuJGFkZENsYXNzKG5ld0NsYXNzZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3NlcyhjbGFzc2VzKSB7XHJcbiAgICAgICAgICB2YXIgbmV3Q2xhc3NlcyA9IGRpZ2VzdENsYXNzQ291bnRzKGNsYXNzZXMsIC0xKTtcclxuICAgICAgICAgIGF0dHIuJHJlbW92ZUNsYXNzKG5ld0NsYXNzZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgY291bnQpIHtcclxuICAgICAgICAgIC8vIFVzZSBjcmVhdGVNYXAoKSB0byBwcmV2ZW50IGNsYXNzIGFzc3VtcHRpb25zIGludm9sdmluZyBwcm9wZXJ0eVxyXG4gICAgICAgICAgLy8gbmFtZXMgaW4gT2JqZWN0LnByb3RvdHlwZVxyXG4gICAgICAgICAgdmFyIGNsYXNzQ291bnRzID0gZWxlbWVudC5kYXRhKCckY2xhc3NDb3VudHMnKSB8fCBjcmVhdGVNYXAoKTtcclxuICAgICAgICAgIHZhciBjbGFzc2VzVG9VcGRhdGUgPSBbXTtcclxuICAgICAgICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGlmIChjb3VudCA+IDAgfHwgY2xhc3NDb3VudHNbY2xhc3NOYW1lXSkge1xyXG4gICAgICAgICAgICAgIGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gPSAoY2xhc3NDb3VudHNbY2xhc3NOYW1lXSB8fCAwKSArIGNvdW50O1xyXG4gICAgICAgICAgICAgIGlmIChjbGFzc0NvdW50c1tjbGFzc05hbWVdID09PSArKGNvdW50ID4gMCkpIHtcclxuICAgICAgICAgICAgICAgIGNsYXNzZXNUb1VwZGF0ZS5wdXNoKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGVsZW1lbnQuZGF0YSgnJGNsYXNzQ291bnRzJywgY2xhc3NDb3VudHMpO1xyXG4gICAgICAgICAgcmV0dXJuIGNsYXNzZXNUb1VwZGF0ZS5qb2luKCcgJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVDbGFzc2VzKG9sZENsYXNzZXMsIG5ld0NsYXNzZXMpIHtcclxuICAgICAgICAgIHZhciB0b0FkZCA9IGFycmF5RGlmZmVyZW5jZShuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKTtcclxuICAgICAgICAgIHZhciB0b1JlbW92ZSA9IGFycmF5RGlmZmVyZW5jZShvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTtcclxuICAgICAgICAgIHRvQWRkID0gZGlnZXN0Q2xhc3NDb3VudHModG9BZGQsIDEpO1xyXG4gICAgICAgICAgdG9SZW1vdmUgPSBkaWdlc3RDbGFzc0NvdW50cyh0b1JlbW92ZSwgLTEpO1xyXG4gICAgICAgICAgaWYgKHRvQWRkICYmIHRvQWRkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCB0b0FkZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodG9SZW1vdmUgJiYgdG9SZW1vdmUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIHRvUmVtb3ZlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5nQ2xhc3NXYXRjaEFjdGlvbihuZXdWYWwpIHtcclxuICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gdHJ1ZSB8fCBzY29wZS4kaW5kZXggJSAyID09PSBzZWxlY3Rvcikge1xyXG4gICAgICAgICAgICB2YXIgbmV3Q2xhc3NlcyA9IGFycmF5Q2xhc3NlcyhuZXdWYWwgfHwgW10pO1xyXG4gICAgICAgICAgICBpZiAoIW9sZFZhbCkge1xyXG4gICAgICAgICAgICAgIGFkZENsYXNzZXMobmV3Q2xhc3Nlcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWVxdWFscyhuZXdWYWwsb2xkVmFsKSkge1xyXG4gICAgICAgICAgICAgIHZhciBvbGRDbGFzc2VzID0gYXJyYXlDbGFzc2VzKG9sZFZhbCk7XHJcbiAgICAgICAgICAgICAgdXBkYXRlQ2xhc3NlcyhvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGlzQXJyYXkobmV3VmFsKSkge1xyXG4gICAgICAgICAgICBvbGRWYWwgPSBuZXdWYWwubWFwKGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHNoYWxsb3dDb3B5KHYpOyB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9sZFZhbCA9IHNoYWxsb3dDb3B5KG5ld1ZhbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGFycmF5RGlmZmVyZW5jZSh0b2tlbnMxLCB0b2tlbnMyKSB7XHJcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcclxuXHJcbiAgICAgIG91dGVyOlxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2VuczEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnMxW2ldO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdG9rZW5zMi5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgaWYgKHRva2VuID09IHRva2VuczJbal0pIGNvbnRpbnVlIG91dGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YWx1ZXMucHVzaCh0b2tlbik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcnJheUNsYXNzZXMoY2xhc3NWYWwpIHtcclxuICAgICAgdmFyIGNsYXNzZXMgPSBbXTtcclxuICAgICAgaWYgKGlzQXJyYXkoY2xhc3NWYWwpKSB7XHJcbiAgICAgICAgZm9yRWFjaChjbGFzc1ZhbCwgZnVuY3Rpb24odikge1xyXG4gICAgICAgICAgY2xhc3NlcyA9IGNsYXNzZXMuY29uY2F0KGFycmF5Q2xhc3Nlcyh2KSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNsYXNzZXM7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoY2xhc3NWYWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsYXNzVmFsLnNwbGl0KCcgJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoY2xhc3NWYWwpKSB7XHJcbiAgICAgICAgZm9yRWFjaChjbGFzc1ZhbCwgZnVuY3Rpb24odiwgaykge1xyXG4gICAgICAgICAgaWYgKHYpIHtcclxuICAgICAgICAgICAgY2xhc3NlcyA9IGNsYXNzZXMuY29uY2F0KGsuc3BsaXQoJyAnKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNsYXNzZXM7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNsYXNzVmFsO1xyXG4gICAgfVxyXG4gIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NsYXNzXHJcbiAqIEByZXN0cmljdCBBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ0NsYXNzYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBkeW5hbWljYWxseSBzZXQgQ1NTIGNsYXNzZXMgb24gYW4gSFRNTCBlbGVtZW50IGJ5IGRhdGFiaW5kaW5nXHJcbiAqIGFuIGV4cHJlc3Npb24gdGhhdCByZXByZXNlbnRzIGFsbCBjbGFzc2VzIHRvIGJlIGFkZGVkLlxyXG4gKlxyXG4gKiBUaGUgZGlyZWN0aXZlIG9wZXJhdGVzIGluIHRocmVlIGRpZmZlcmVudCB3YXlzLCBkZXBlbmRpbmcgb24gd2hpY2ggb2YgdGhyZWUgdHlwZXMgdGhlIGV4cHJlc3Npb25cclxuICogZXZhbHVhdGVzIHRvOlxyXG4gKlxyXG4gKiAxLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZSBzdHJpbmcgc2hvdWxkIGJlIG9uZSBvciBtb3JlIHNwYWNlLWRlbGltaXRlZCBjbGFzc1xyXG4gKiBuYW1lcy5cclxuICpcclxuICogMi4gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGFuIG9iamVjdCwgdGhlbiBmb3IgZWFjaCBrZXktdmFsdWUgcGFpciBvZiB0aGVcclxuICogb2JqZWN0IHdpdGggYSB0cnV0aHkgdmFsdWUgdGhlIGNvcnJlc3BvbmRpbmcga2V5IGlzIHVzZWQgYXMgYSBjbGFzcyBuYW1lLlxyXG4gKlxyXG4gKiAzLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYW4gYXJyYXksIGVhY2ggZWxlbWVudCBvZiB0aGUgYXJyYXkgc2hvdWxkIGVpdGhlciBiZSBhIHN0cmluZyBhcyBpblxyXG4gKiB0eXBlIDEgb3IgYW4gb2JqZWN0IGFzIGluIHR5cGUgMi4gVGhpcyBtZWFucyB0aGF0IHlvdSBjYW4gbWl4IHN0cmluZ3MgYW5kIG9iamVjdHMgdG9nZXRoZXIgaW4gYW4gYXJyYXlcclxuICogdG8gZ2l2ZSB5b3UgbW9yZSBjb250cm9sIG92ZXIgd2hhdCBDU1MgY2xhc3NlcyBhcHBlYXIuIFNlZSB0aGUgY29kZSBiZWxvdyBmb3IgYW4gZXhhbXBsZSBvZiB0aGlzLlxyXG4gKlxyXG4gKlxyXG4gKiBUaGUgZGlyZWN0aXZlIHdvbid0IGFkZCBkdXBsaWNhdGUgY2xhc3NlcyBpZiBhIHBhcnRpY3VsYXIgY2xhc3Mgd2FzIGFscmVhZHkgc2V0LlxyXG4gKlxyXG4gKiBXaGVuIHRoZSBleHByZXNzaW9uIGNoYW5nZXMsIHRoZSBwcmV2aW91c2x5IGFkZGVkIGNsYXNzZXMgYXJlIHJlbW92ZWQgYW5kIG9ubHkgdGhlbiBhcmUgdGhlXHJcbiAqIG5ldyBjbGFzc2VzIGFkZGVkLlxyXG4gKlxyXG4gKiBAYW5pbWF0aW9uc1xyXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNhZGRDbGFzcyBhZGRDbGFzc30gICAgICAgfCBqdXN0IGJlZm9yZSB0aGUgY2xhc3MgaXMgYXBwbGllZCB0byB0aGUgZWxlbWVudCAgIHxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjcmVtb3ZlQ2xhc3MgcmVtb3ZlQ2xhc3N9IHwganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCB8XHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xhc3Mge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlIHJlc3VsdFxyXG4gKiAgIG9mIHRoZSBldmFsdWF0aW9uIGNhbiBiZSBhIHN0cmluZyByZXByZXNlbnRpbmcgc3BhY2UgZGVsaW1pdGVkIGNsYXNzXHJcbiAqICAgbmFtZXMsIGFuIGFycmF5LCBvciBhIG1hcCBvZiBjbGFzcyBuYW1lcyB0byBib29sZWFuIHZhbHVlcy4gSW4gdGhlIGNhc2Ugb2YgYSBtYXAsIHRoZVxyXG4gKiAgIG5hbWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHdob3NlIHZhbHVlcyBhcmUgdHJ1dGh5IHdpbGwgYmUgYWRkZWQgYXMgY3NzIGNsYXNzZXMgdG8gdGhlXHJcbiAqICAgZWxlbWVudC5cclxuICpcclxuICogQGV4YW1wbGUgRXhhbXBsZSB0aGF0IGRlbW9uc3RyYXRlcyBiYXNpYyBiaW5kaW5ncyB2aWEgbmdDbGFzcyBkaXJlY3RpdmUuXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8cCBuZy1jbGFzcz1cIntzdHJpa2U6IGRlbGV0ZWQsIGJvbGQ6IGltcG9ydGFudCwgJ2hhcy1lcnJvcic6IGVycm9yfVwiPk1hcCBTeW50YXggRXhhbXBsZTwvcD5cclxuICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImRlbGV0ZWRcIj5cclxuICAgICAgICAgIGRlbGV0ZWQgKGFwcGx5IFwic3RyaWtlXCIgY2xhc3MpXHJcbiAgICAgICA8L2xhYmVsPjxicj5cclxuICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImltcG9ydGFudFwiPlxyXG4gICAgICAgICAgaW1wb3J0YW50IChhcHBseSBcImJvbGRcIiBjbGFzcylcclxuICAgICAgIDwvbGFiZWw+PGJyPlxyXG4gICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiZXJyb3JcIj5cclxuICAgICAgICAgIGVycm9yIChhcHBseSBcImhhcy1lcnJvclwiIGNsYXNzKVxyXG4gICAgICAgPC9sYWJlbD5cclxuICAgICAgIDxocj5cclxuICAgICAgIDxwIG5nLWNsYXNzPVwic3R5bGVcIj5Vc2luZyBTdHJpbmcgU3ludGF4PC9wPlxyXG4gICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzdHlsZVwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkIHN0cmlrZSByZWRcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCBzdHJpa2UgcmVkXCI+XHJcbiAgICAgICA8aHI+XHJcbiAgICAgICA8cCBuZy1jbGFzcz1cIltzdHlsZTEsIHN0eWxlMiwgc3R5bGUzXVwiPlVzaW5nIEFycmF5IFN5bnRheDwvcD5cclxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlMVwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIj48YnI+XHJcbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTJcIlxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkIDJcIj48YnI+XHJcbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTNcIlxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkIDNcIj48YnI+XHJcbiAgICAgICA8aHI+XHJcbiAgICAgICA8cCBuZy1jbGFzcz1cIltzdHlsZTQsIHtvcmFuZ2U6IHdhcm5pbmd9XVwiPlVzaW5nIEFycmF5IGFuZCBNYXAgU3ludGF4PC9wPlxyXG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGU0XCIgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2VcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCwgc3RyaWtlXCI+PGJyPlxyXG4gICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cIndhcm5pbmdcIj4gd2FybmluZyAoYXBwbHkgXCJvcmFuZ2VcIiBjbGFzcyk8L2xhYmVsPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAuc3RyaWtlIHtcclxuICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcclxuICAgICAgIH1cclxuICAgICAgIC5ib2xkIHtcclxuICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgIH1cclxuICAgICAgIC5yZWQge1xyXG4gICAgICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgICB9XHJcbiAgICAgICAuaGFzLWVycm9yIHtcclxuICAgICAgICAgICBjb2xvcjogcmVkO1xyXG4gICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHllbGxvdztcclxuICAgICAgIH1cclxuICAgICAgIC5vcmFuZ2Uge1xyXG4gICAgICAgICAgIGNvbG9yOiBvcmFuZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciBwcyA9IGVsZW1lbnQuYWxsKGJ5LmNzcygncCcpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIGxldCB5b3UgdG9nZ2xlIHRoZSBjbGFzcycsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvYm9sZC8pO1xyXG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC50b01hdGNoKC9oYXMtZXJyb3IvKTtcclxuXHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2ltcG9ydGFudCcpKS5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL2JvbGQvKTtcclxuXHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Vycm9yJykpLmNsaWNrKCk7XHJcbiAgICAgICAgIGV4cGVjdChwcy5maXJzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9NYXRjaCgvaGFzLWVycm9yLyk7XHJcbiAgICAgICB9KTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIGxldCB5b3UgdG9nZ2xlIHN0cmluZyBleGFtcGxlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCcnKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuY2xlYXIoKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuc2VuZEtleXMoJ3JlZCcpO1xyXG4gICAgICAgICBleHBlY3QocHMuZ2V0KDEpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgncmVkJyk7XHJcbiAgICAgICB9KTtcclxuXHJcbiAgICAgICBpdCgnYXJyYXkgZXhhbXBsZSBzaG91bGQgaGF2ZSAzIGNsYXNzZXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KHBzLmdldCgyKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTEnKSkuc2VuZEtleXMoJ2JvbGQnKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUyJykpLnNlbmRLZXlzKCdzdHJpa2UnKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUzJykpLnNlbmRLZXlzKCdyZWQnKTtcclxuICAgICAgICAgZXhwZWN0KHBzLmdldCgyKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJ2JvbGQgc3RyaWtlIHJlZCcpO1xyXG4gICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ2FycmF5IHdpdGggbWFwIGV4YW1wbGUgc2hvdWxkIGhhdmUgMiBjbGFzc2VzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChwcy5sYXN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCcnKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGU0JykpLnNlbmRLZXlzKCdib2xkJyk7XHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3dhcm5pbmcnKSkuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJ2JvbGQgb3JhbmdlJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuXHJcbiAgICMjIEFuaW1hdGlvbnNcclxuXHJcbiAgIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBob3cgdG8gcGVyZm9ybSBhbmltYXRpb25zIHVzaW5nIG5nQ2xhc3MuXHJcblxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8aW5wdXQgaWQ9XCJzZXRidG5cIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJzZXRcIiBuZy1jbGljaz1cIm15VmFyPSdteS1jbGFzcydcIj5cclxuICAgICAgPGlucHV0IGlkPVwiY2xlYXJidG5cIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJjbGVhclwiIG5nLWNsaWNrPVwibXlWYXI9JydcIj5cclxuICAgICAgPGJyPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cImJhc2UtY2xhc3NcIiBuZy1jbGFzcz1cIm15VmFyXCI+U2FtcGxlIFRleHQ8L3NwYW4+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgIC5iYXNlLWNsYXNzIHtcclxuICAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIC5iYXNlLWNsYXNzLm15LWNsYXNzIHtcclxuICAgICAgICAgY29sb3I6IHJlZDtcclxuICAgICAgICAgZm9udC1zaXplOjNlbTtcclxuICAgICAgIH1cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGFzcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkubm90LlxyXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XHJcblxyXG4gICAgICAgICBlbGVtZW50KGJ5LmlkKCdzZXRidG4nKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cclxuICAgICAgICAgICB0b01hdGNoKC9teS1jbGFzcy8pO1xyXG5cclxuICAgICAgICAgZWxlbWVudChieS5pZCgnY2xlYXJidG4nKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXHJcbiAgICAgICAgICAgdG9NYXRjaCgvbXktY2xhc3MvKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG5cclxuXHJcbiAgICMjIG5nQ2xhc3MgYW5kIHByZS1leGlzdGluZyBDU1MzIFRyYW5zaXRpb25zL0FuaW1hdGlvbnNcclxuICAgVGhlIG5nQ2xhc3MgZGlyZWN0aXZlIHN0aWxsIHN1cHBvcnRzIENTUzMgVHJhbnNpdGlvbnMvQW5pbWF0aW9ucyBldmVuIGlmIHRoZXkgZG8gbm90IGZvbGxvdyB0aGUgbmdBbmltYXRlIENTUyBuYW1pbmcgc3RydWN0dXJlLlxyXG4gICBVcG9uIGFuaW1hdGlvbiBuZ0FuaW1hdGUgd2lsbCBhcHBseSBzdXBwbGVtZW50YXJ5IENTUyBjbGFzc2VzIHRvIHRyYWNrIHRoZSBzdGFydCBhbmQgZW5kIG9mIGFuIGFuaW1hdGlvbiwgYnV0IHRoaXMgd2lsbCBub3QgaGluZGVyXHJcbiAgIGFueSBwcmUtZXhpc3RpbmcgQ1NTIHRyYW5zaXRpb25zIGFscmVhZHkgb24gdGhlIGVsZW1lbnQuIFRvIGdldCBhbiBpZGVhIG9mIHdoYXQgaGFwcGVucyBkdXJpbmcgYSBjbGFzcy1iYXNlZCBhbmltYXRpb24sIGJlIHN1cmVcclxuICAgdG8gdmlldyB0aGUgc3RlcCBieSBzdGVwIGRldGFpbHMgb2Yge0BsaW5rICRhbmltYXRlI2FkZENsYXNzICRhbmltYXRlLmFkZENsYXNzfSBhbmRcclxuICAge0BsaW5rICRhbmltYXRlI3JlbW92ZUNsYXNzICRhbmltYXRlLnJlbW92ZUNsYXNzfS5cclxuICovXHJcbnZhciBuZ0NsYXNzRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJycsIHRydWUpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdDbGFzc09kZFxyXG4gKiBAcmVzdHJpY3QgQUNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdDbGFzc09kZGAgYW5kIGBuZ0NsYXNzRXZlbmAgZGlyZWN0aXZlcyB3b3JrIGV4YWN0bHkgYXNcclxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsYXNzIG5nQ2xhc3N9LCBleGNlcHQgdGhleSB3b3JrIGluXHJcbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXHJcbiAqXHJcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIG9ubHkgd2l0aGluIHRoZSBzY29wZSBvZiBhblxyXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc09kZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGUgcmVzdWx0XHJcbiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3MgbmFtZXMgb3IgYW4gYXJyYXkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPG9sIG5nLWluaXQ9XCJuYW1lcz1bJ0pvaG4nLCAnTWFyeScsICdDYXRlJywgJ1N1eiddXCI+XHJcbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVwibmFtZSBpbiBuYW1lc1wiPlxyXG4gICAgICAgICAgIDxzcGFuIG5nLWNsYXNzLW9kZD1cIidvZGQnXCIgbmctY2xhc3MtZXZlbj1cIidldmVuJ1wiPlxyXG4gICAgICAgICAgICAge3tuYW1lfX1cclxuICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8L2xpPlxyXG4gICAgICAgIDwvb2w+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgIC5vZGQge1xyXG4gICAgICAgICBjb2xvcjogcmVkO1xyXG4gICAgICAgfVxyXG4gICAgICAgLmV2ZW4ge1xyXG4gICAgICAgICBjb2xvcjogYmx1ZTtcclxuICAgICAgIH1cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGFzcy1vZGQgYW5kIG5nLWNsYXNzLWV2ZW4nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMCkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXHJcbiAgICAgICAgICAgdG9NYXRjaCgvb2RkLyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDEpLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxyXG4gICAgICAgICAgIHRvTWF0Y2goL2V2ZW4vKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nQ2xhc3NPZGREaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnT2RkJywgMCk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NsYXNzRXZlblxyXG4gKiBAcmVzdHJpY3QgQUNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdDbGFzc09kZGAgYW5kIGBuZ0NsYXNzRXZlbmAgZGlyZWN0aXZlcyB3b3JrIGV4YWN0bHkgYXNcclxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsYXNzIG5nQ2xhc3N9LCBleGNlcHQgdGhleSB3b3JrIGluXHJcbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXHJcbiAqXHJcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIG9ubHkgd2l0aGluIHRoZSBzY29wZSBvZiBhblxyXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc0V2ZW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlXHJcbiAqICAgcmVzdWx0IG9mIHRoZSBldmFsdWF0aW9uIGNhbiBiZSBhIHN0cmluZyByZXByZXNlbnRpbmcgc3BhY2UgZGVsaW1pdGVkIGNsYXNzIG5hbWVzIG9yIGFuIGFycmF5LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxvbCBuZy1pbml0PVwibmFtZXM9WydKb2huJywgJ01hcnknLCAnQ2F0ZScsICdTdXonXVwiPlxyXG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIj5cclxuICAgICAgICAgICA8c3BhbiBuZy1jbGFzcy1vZGQ9XCInb2RkJ1wiIG5nLWNsYXNzLWV2ZW49XCInZXZlbidcIj5cclxuICAgICAgICAgICAgIHt7bmFtZX19ICZuYnNwOyAmbmJzcDsgJm5ic3A7XHJcbiAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPC9saT5cclxuICAgICAgICA8L29sPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAub2RkIHtcclxuICAgICAgICAgY29sb3I6IHJlZDtcclxuICAgICAgIH1cclxuICAgICAgIC5ldmVuIHtcclxuICAgICAgICAgY29sb3I6IGJsdWU7XHJcbiAgICAgICB9XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3Mtb2RkIGFuZCBuZy1jbGFzcy1ldmVuJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDApLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxyXG4gICAgICAgICAgIHRvTWF0Y2goL29kZC8pO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygxKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cclxuICAgICAgICAgICB0b01hdGNoKC9ldmVuLyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdFdmVuJywgMSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0Nsb2FrXHJcbiAqIEByZXN0cmljdCBBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ0Nsb2FrYCBkaXJlY3RpdmUgaXMgdXNlZCB0byBwcmV2ZW50IHRoZSBBbmd1bGFyIGh0bWwgdGVtcGxhdGUgZnJvbSBiZWluZyBicmllZmx5XHJcbiAqIGRpc3BsYXllZCBieSB0aGUgYnJvd3NlciBpbiBpdHMgcmF3ICh1bmNvbXBpbGVkKSBmb3JtIHdoaWxlIHlvdXIgYXBwbGljYXRpb24gaXMgbG9hZGluZy4gVXNlIHRoaXNcclxuICogZGlyZWN0aXZlIHRvIGF2b2lkIHRoZSB1bmRlc2lyYWJsZSBmbGlja2VyIGVmZmVjdCBjYXVzZWQgYnkgdGhlIGh0bWwgdGVtcGxhdGUgZGlzcGxheS5cclxuICpcclxuICogVGhlIGRpcmVjdGl2ZSBjYW4gYmUgYXBwbGllZCB0byB0aGUgYDxib2R5PmAgZWxlbWVudCwgYnV0IHRoZSBwcmVmZXJyZWQgdXNhZ2UgaXMgdG8gYXBwbHlcclxuICogbXVsdGlwbGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZXMgdG8gc21hbGwgcG9ydGlvbnMgb2YgdGhlIHBhZ2UgdG8gcGVybWl0IHByb2dyZXNzaXZlIHJlbmRlcmluZ1xyXG4gKiBvZiB0aGUgYnJvd3NlciB2aWV3LlxyXG4gKlxyXG4gKiBgbmdDbG9ha2Agd29ya3MgaW4gY29vcGVyYXRpb24gd2l0aCB0aGUgZm9sbG93aW5nIGNzcyBydWxlIGVtYmVkZGVkIHdpdGhpbiBgYW5ndWxhci5qc2AgYW5kXHJcbiAqIGBhbmd1bGFyLm1pbi5qc2AuXHJcbiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxyXG4gKlxyXG4gKiBgYGBjc3NcclxuICogW25nXFw6Y2xvYWtdLCBbbmctY2xvYWtdLCBbZGF0YS1uZy1jbG9ha10sIFt4LW5nLWNsb2FrXSwgLm5nLWNsb2FrLCAueC1uZy1jbG9hayB7XHJcbiAqICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBXaGVuIHRoaXMgY3NzIHJ1bGUgaXMgbG9hZGVkIGJ5IHRoZSBicm93c2VyLCBhbGwgaHRtbCBlbGVtZW50cyAoaW5jbHVkaW5nIHRoZWlyIGNoaWxkcmVuKSB0aGF0XHJcbiAqIGFyZSB0YWdnZWQgd2l0aCB0aGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBhcmUgaGlkZGVuLiBXaGVuIEFuZ3VsYXIgZW5jb3VudGVycyB0aGlzIGRpcmVjdGl2ZVxyXG4gKiBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZSBpdCBkZWxldGVzIHRoZSBgbmdDbG9ha2AgZWxlbWVudCBhdHRyaWJ1dGUsIG1ha2luZ1xyXG4gKiB0aGUgY29tcGlsZWQgZWxlbWVudCB2aXNpYmxlLlxyXG4gKlxyXG4gKiBGb3IgdGhlIGJlc3QgcmVzdWx0LCB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCBtdXN0IGJlIGxvYWRlZCBpbiB0aGUgaGVhZCBzZWN0aW9uIG9mIHRoZSBodG1sXHJcbiAqIGRvY3VtZW50OyBhbHRlcm5hdGl2ZWx5LCB0aGUgY3NzIHJ1bGUgYWJvdmUgbXVzdCBiZSBpbmNsdWRlZCBpbiB0aGUgZXh0ZXJuYWwgc3R5bGVzaGVldCBvZiB0aGVcclxuICogYXBwbGljYXRpb24uXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTFcIiBuZy1jbG9haz57eyAnaGVsbG8nIH19PC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cInRlbXBsYXRlMlwiIGNsYXNzPVwibmctY2xvYWtcIj57eyAnd29ybGQnIH19PC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgcmVtb3ZlIHRoZSB0ZW1wbGF0ZSBkaXJlY3RpdmUgYW5kIGNzcyBjbGFzcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMScpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXHJcbiAgICAgICAgICAgdG9CZU51bGwoKTtcclxuICAgICAgICAgZXhwZWN0KCQoJyN0ZW1wbGF0ZTInKS5nZXRBdHRyaWJ1dGUoJ25nLWNsb2FrJykpLlxyXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICpcclxuICovXHJcbnZhciBuZ0Nsb2FrRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xyXG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcclxuICAgIGF0dHIuJHNldCgnbmdDbG9haycsIHVuZGVmaW5lZCk7XHJcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCduZy1jbG9haycpO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NvbnRyb2xsZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgYXR0YWNoZXMgYSBjb250cm9sbGVyIGNsYXNzIHRvIHRoZSB2aWV3LiBUaGlzIGlzIGEga2V5IGFzcGVjdCBvZiBob3cgYW5ndWxhclxyXG4gKiBzdXBwb3J0cyB0aGUgcHJpbmNpcGxlcyBiZWhpbmQgdGhlIE1vZGVsLVZpZXctQ29udHJvbGxlciBkZXNpZ24gcGF0dGVybi5cclxuICpcclxuICogTVZDIGNvbXBvbmVudHMgaW4gYW5ndWxhcjpcclxuICpcclxuICogKiBNb2RlbCDigJQgTW9kZWxzIGFyZSB0aGUgcHJvcGVydGllcyBvZiBhIHNjb3BlOyBzY29wZXMgYXJlIGF0dGFjaGVkIHRvIHRoZSBET00gd2hlcmUgc2NvcGUgcHJvcGVydGllc1xyXG4gKiAgIGFyZSBhY2Nlc3NlZCB0aHJvdWdoIGJpbmRpbmdzLlxyXG4gKiAqIFZpZXcg4oCUIFRoZSB0ZW1wbGF0ZSAoSFRNTCB3aXRoIGRhdGEgYmluZGluZ3MpIHRoYXQgaXMgcmVuZGVyZWQgaW50byB0aGUgVmlldy5cclxuICogKiBDb250cm9sbGVyIOKAlCBUaGUgYG5nQ29udHJvbGxlcmAgZGlyZWN0aXZlIHNwZWNpZmllcyBhIENvbnRyb2xsZXIgY2xhc3M7IHRoZSBjbGFzcyBjb250YWlucyBidXNpbmVzc1xyXG4gKiAgIGxvZ2ljIGJlaGluZCB0aGUgYXBwbGljYXRpb24gdG8gZGVjb3JhdGUgdGhlIHNjb3BlIHdpdGggZnVuY3Rpb25zIGFuZCB2YWx1ZXNcclxuICpcclxuICogTm90ZSB0aGF0IHlvdSBjYW4gYWxzbyBhdHRhY2ggY29udHJvbGxlcnMgdG8gdGhlIERPTSBieSBkZWNsYXJpbmcgaXQgaW4gYSByb3V0ZSBkZWZpbml0aW9uXHJcbiAqIHZpYSB0aGUge0BsaW5rIG5nUm91dGUuJHJvdXRlICRyb3V0ZX0gc2VydmljZS4gQSBjb21tb24gbWlzdGFrZSBpcyB0byBkZWNsYXJlIHRoZSBjb250cm9sbGVyXHJcbiAqIGFnYWluIHVzaW5nIGBuZy1jb250cm9sbGVyYCBpbiB0aGUgdGVtcGxhdGUgaXRzZWxmLiAgVGhpcyB3aWxsIGNhdXNlIHRoZSBjb250cm9sbGVyIHRvIGJlIGF0dGFjaGVkXHJcbiAqIGFuZCBleGVjdXRlZCB0d2ljZS5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBzY29wZVxyXG4gKiBAcHJpb3JpdHkgNTAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDb250cm9sbGVyIE5hbWUgb2YgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlIGN1cnJlbnRcclxuICoge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIgJGNvbnRyb2xsZXJQcm92aWRlcn0gb3IgYW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn1cclxuICogdGhhdCBvbiB0aGUgY3VycmVudCBzY29wZSBldmFsdWF0ZXMgdG8gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cclxuICpcclxuICogVGhlIGNvbnRyb2xsZXIgaW5zdGFuY2UgY2FuIGJlIHB1Ymxpc2hlZCBpbnRvIGEgc2NvcGUgcHJvcGVydHkgYnkgc3BlY2lmeWluZ1xyXG4gKiBgbmctY29udHJvbGxlcj1cImFzIHByb3BlcnR5TmFtZVwiYC5cclxuICpcclxuICogSWYgdGhlIGN1cnJlbnQgYCRjb250cm9sbGVyUHJvdmlkZXJgIGlzIGNvbmZpZ3VyZWQgdG8gdXNlIGdsb2JhbHMgKHZpYVxyXG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHMgYCRjb250cm9sbGVyUHJvdmlkZXIuYWxsb3dHbG9iYWxzKClgIH0pLCB0aGlzIG1heVxyXG4gKiBhbHNvIGJlIHRoZSBuYW1lIG9mIGEgZ2xvYmFsbHkgYWNjZXNzaWJsZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiAobm90IHJlY29tbWVuZGVkKS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogSGVyZSBpcyBhIHNpbXBsZSBmb3JtIGZvciBlZGl0aW5nIHVzZXIgY29udGFjdCBpbmZvcm1hdGlvbi4gQWRkaW5nLCByZW1vdmluZywgY2xlYXJpbmcsIGFuZFxyXG4gKiBncmVldGluZyBhcmUgbWV0aG9kcyBkZWNsYXJlZCBvbiB0aGUgY29udHJvbGxlciAoc2VlIHNvdXJjZSB0YWIpLiBUaGVzZSBtZXRob2RzIGNhblxyXG4gKiBlYXNpbHkgYmUgY2FsbGVkIGZyb20gdGhlIGFuZ3VsYXIgbWFya3VwLiBBbnkgY2hhbmdlcyB0byB0aGUgZGF0YSBhcmUgYXV0b21hdGljYWxseSByZWZsZWN0ZWRcclxuICogaW4gdGhlIFZpZXcgd2l0aG91dCB0aGUgbmVlZCBmb3IgYSBtYW51YWwgdXBkYXRlLlxyXG4gKlxyXG4gKiBUd28gZGlmZmVyZW50IGRlY2xhcmF0aW9uIHN0eWxlcyBhcmUgaW5jbHVkZWQgYmVsb3c6XHJcbiAqXHJcbiAqICogb25lIGJpbmRzIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgZGlyZWN0bHkgb250byB0aGUgY29udHJvbGxlciB1c2luZyBgdGhpc2A6XHJcbiAqIGBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiYFxyXG4gKiAqIG9uZSBpbmplY3RzIGAkc2NvcGVgIGludG8gdGhlIGNvbnRyb2xsZXI6XHJcbiAqIGBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMlwiYFxyXG4gKlxyXG4gKiBUaGUgc2Vjb25kIG9wdGlvbiBpcyBtb3JlIGNvbW1vbiBpbiB0aGUgQW5ndWxhciBjb21tdW5pdHksIGFuZCBpcyBnZW5lcmFsbHkgdXNlZCBpbiBib2lsZXJwbGF0ZXNcclxuICogYW5kIGluIHRoaXMgZ3VpZGUuIEhvd2V2ZXIsIHRoZXJlIGFyZSBhZHZhbnRhZ2VzIHRvIGJpbmRpbmcgcHJvcGVydGllcyBkaXJlY3RseSB0byB0aGUgY29udHJvbGxlclxyXG4gKiBhbmQgYXZvaWRpbmcgc2NvcGUuXHJcbiAqXHJcbiAqICogVXNpbmcgYGNvbnRyb2xsZXIgYXNgIG1ha2VzIGl0IG9idmlvdXMgd2hpY2ggY29udHJvbGxlciB5b3UgYXJlIGFjY2Vzc2luZyBpbiB0aGUgdGVtcGxhdGUgd2hlblxyXG4gKiBtdWx0aXBsZSBjb250cm9sbGVycyBhcHBseSB0byBhbiBlbGVtZW50LlxyXG4gKiAqIElmIHlvdSBhcmUgd3JpdGluZyB5b3VyIGNvbnRyb2xsZXJzIGFzIGNsYXNzZXMgeW91IGhhdmUgZWFzaWVyIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBhbmRcclxuICogbWV0aG9kcywgd2hpY2ggd2lsbCBhcHBlYXIgb24gdGhlIHNjb3BlLCBmcm9tIGluc2lkZSB0aGUgY29udHJvbGxlciBjb2RlLlxyXG4gKiAqIFNpbmNlIHRoZXJlIGlzIGFsd2F5cyBhIGAuYCBpbiB0aGUgYmluZGluZ3MsIHlvdSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHByb3RvdHlwYWxcclxuICogaW5oZXJpdGFuY2UgbWFza2luZyBwcmltaXRpdmVzLlxyXG4gKlxyXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHRoZSBgY29udHJvbGxlciBhc2Agc3ludGF4LlxyXG4gKlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDb250cm9sbGVyQXNcIiBtb2R1bGU9XCJjb250cm9sbGVyQXNFeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgPGRpdiBpZD1cImN0cmwtYXMtZXhtcGxcIiBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiPlxyXG4gKiAgICAgIDxsYWJlbD5OYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInNldHRpbmdzLm5hbWVcIi8+PC9sYWJlbD5cclxuICogICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuZ3JlZXQoKVwiPmdyZWV0PC9idXR0b24+PGJyLz5cclxuICogICAgICBDb250YWN0OlxyXG4gKiAgICAgIDx1bD5cclxuICogICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzXCI+XHJcbiAqICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIiBhcmlhLWxhYmVsPVwiQ29udGFjdCBtZXRob2RcIiBpZD1cInNlbGVjdF97eyRpbmRleH19XCI+XHJcbiAqICAgICAgICAgICAgIDxvcHRpb24+cGhvbmU8L29wdGlvbj5cclxuICogICAgICAgICAgICAgPG9wdGlvbj5lbWFpbDwvb3B0aW9uPlxyXG4gKiAgICAgICAgICA8L3NlbGVjdD5cclxuICogICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJjb250YWN0LnZhbHVlXCIgYXJpYS1sYWJlbGxlZGJ5PVwic2VsZWN0X3t7JGluZGV4fX1cIiAvPlxyXG4gKiAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuY2xlYXJDb250YWN0KGNvbnRhY3QpXCI+Y2xlYXI8L2J1dHRvbj5cclxuICogICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNldHRpbmdzLnJlbW92ZUNvbnRhY3QoY29udGFjdClcIiBhcmlhLWxhYmVsPVwiUmVtb3ZlXCI+WDwvYnV0dG9uPlxyXG4gKiAgICAgICAgPC9saT5cclxuICogICAgICAgIDxsaT48YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuYWRkQ29udGFjdCgpXCI+YWRkPC9idXR0b24+PC9saT5cclxuICogICAgIDwvdWw+XHJcbiAqICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICAgIGFuZ3VsYXIubW9kdWxlKCdjb250cm9sbGVyQXNFeGFtcGxlJywgW10pXHJcbiAqICAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjEnLCBTZXR0aW5nc0NvbnRyb2xsZXIxKTtcclxuICpcclxuICogICAgZnVuY3Rpb24gU2V0dGluZ3NDb250cm9sbGVyMSgpIHtcclxuICogICAgICB0aGlzLm5hbWUgPSBcIkpvaG4gU21pdGhcIjtcclxuICogICAgICB0aGlzLmNvbnRhY3RzID0gW1xyXG4gKiAgICAgICAge3R5cGU6ICdwaG9uZScsIHZhbHVlOiAnNDA4IDU1NSAxMjEyJ30sXHJcbiAqICAgICAgICB7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICdqb2huLnNtaXRoQGV4YW1wbGUub3JnJ30gXTtcclxuICogICAgfVxyXG4gKlxyXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgIGFsZXJ0KHRoaXMubmFtZSk7XHJcbiAqICAgIH07XHJcbiAqXHJcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmFkZENvbnRhY3QgPSBmdW5jdGlvbigpIHtcclxuICogICAgICB0aGlzLmNvbnRhY3RzLnB1c2goe3R5cGU6ICdlbWFpbCcsIHZhbHVlOiAneW91cm5hbWVAZXhhbXBsZS5vcmcnfSk7XHJcbiAqICAgIH07XHJcbiAqXHJcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLnJlbW92ZUNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0VG9SZW1vdmUpIHtcclxuICogICAgIHZhciBpbmRleCA9IHRoaXMuY29udGFjdHMuaW5kZXhPZihjb250YWN0VG9SZW1vdmUpO1xyXG4gKiAgICAgIHRoaXMuY29udGFjdHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICogICAgfTtcclxuICpcclxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUuY2xlYXJDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdCkge1xyXG4gKiAgICAgIGNvbnRhY3QudHlwZSA9ICdwaG9uZSc7XHJcbiAqICAgICAgY29udGFjdC52YWx1ZSA9ICcnO1xyXG4gKiAgICB9O1xyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAqICAgICBpdCgnc2hvdWxkIGNoZWNrIGNvbnRyb2xsZXIgYXMnLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgdmFyIGNvbnRhaW5lciA9IGVsZW1lbnQoYnkuaWQoJ2N0cmwtYXMtZXhtcGwnKSk7XHJcbiAqICAgICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5Lm1vZGVsKCdzZXR0aW5ncy5uYW1lJykpXHJcbiAqICAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCdKb2huIFNtaXRoJyk7XHJcbiAqXHJcbiAqICAgICAgIHZhciBmaXJzdFJlcGVhdCA9XHJcbiAqICAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygwKSk7XHJcbiAqICAgICAgIHZhciBzZWNvbmRSZXBlYXQgPVxyXG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMSkpO1xyXG4gKlxyXG4gKiAgICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXHJcbiAqICAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XHJcbiAqXHJcbiAqICAgICAgIGV4cGVjdChzZWNvbmRSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXHJcbiAqICAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xyXG4gKlxyXG4gKiAgICAgICBmaXJzdFJlcGVhdC5lbGVtZW50KGJ5LmJ1dHRvblRleHQoJ2NsZWFyJykpLmNsaWNrKCk7XHJcbiAqXHJcbiAqICAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcclxuICogICAgICAgICAgIC50b0JlKCcnKTtcclxuICpcclxuICogICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnYWRkJykpLmNsaWNrKCk7XHJcbiAqXHJcbiAqICAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygyKSlcclxuICogICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXHJcbiAqICAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gKiAgICAgICAgICAgLnRvQmUoJ3lvdXJuYW1lQGV4YW1wbGUub3JnJyk7XHJcbiAqICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogVGhpcyBleGFtcGxlIGRlbW9uc3RyYXRlcyB0aGUgXCJhdHRhY2ggdG8gYCRzY29wZWBcIiBzdHlsZSBvZiBjb250cm9sbGVyLlxyXG4gKlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDb250cm9sbGVyXCIgbW9kdWxlPVwiY29udHJvbGxlckV4YW1wbGVcIj5cclxuICogIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgPGRpdiBpZD1cImN0cmwtZXhtcGxcIiBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMlwiPlxyXG4gKiAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibmFtZVwiLz48L2xhYmVsPlxyXG4gKiAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImdyZWV0KClcIj5ncmVldDwvYnV0dG9uPjxici8+XHJcbiAqICAgICBDb250YWN0OlxyXG4gKiAgICAgPHVsPlxyXG4gKiAgICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBjb250YWN0c1wiPlxyXG4gKiAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIiBpZD1cInNlbGVjdF97eyRpbmRleH19XCI+XHJcbiAqICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxyXG4gKiAgICAgICAgICAgIDxvcHRpb24+ZW1haWw8L29wdGlvbj5cclxuICogICAgICAgICA8L3NlbGVjdD5cclxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIiBhcmlhLWxhYmVsbGVkYnk9XCJzZWxlY3Rfe3skaW5kZXh9fVwiIC8+XHJcbiAqICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImNsZWFyQ29udGFjdChjb250YWN0KVwiPmNsZWFyPC9idXR0b24+XHJcbiAqICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInJlbW92ZUNvbnRhY3QoY29udGFjdClcIj5YPC9idXR0b24+XHJcbiAqICAgICAgIDwvbGk+XHJcbiAqICAgICAgIDxsaT5bIDxidXR0b24gbmctY2xpY2s9XCJhZGRDb250YWN0KClcIj5hZGQ8L2J1dHRvbj4gXTwvbGk+XHJcbiAqICAgIDwvdWw+XHJcbiAqICAgPC9kaXY+XHJcbiAqICA8L2ZpbGU+XHJcbiAqICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJFeGFtcGxlJywgW10pXHJcbiAqICAgICAuY29udHJvbGxlcignU2V0dGluZ3NDb250cm9sbGVyMicsIFsnJHNjb3BlJywgU2V0dGluZ3NDb250cm9sbGVyMl0pO1xyXG4gKlxyXG4gKiAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjIoJHNjb3BlKSB7XHJcbiAqICAgICAkc2NvcGUubmFtZSA9IFwiSm9obiBTbWl0aFwiO1xyXG4gKiAgICAgJHNjb3BlLmNvbnRhY3RzID0gW1xyXG4gKiAgICAgICB7dHlwZToncGhvbmUnLCB2YWx1ZTonNDA4IDU1NSAxMjEyJ30sXHJcbiAqICAgICAgIHt0eXBlOidlbWFpbCcsIHZhbHVlOidqb2huLnNtaXRoQGV4YW1wbGUub3JnJ30gXTtcclxuICpcclxuICogICAgICRzY29wZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICBhbGVydCgkc2NvcGUubmFtZSk7XHJcbiAqICAgICB9O1xyXG4gKlxyXG4gKiAgICAgJHNjb3BlLmFkZENvbnRhY3QgPSBmdW5jdGlvbigpIHtcclxuICogICAgICAgJHNjb3BlLmNvbnRhY3RzLnB1c2goe3R5cGU6J2VtYWlsJywgdmFsdWU6J3lvdXJuYW1lQGV4YW1wbGUub3JnJ30pO1xyXG4gKiAgICAgfTtcclxuICpcclxuICogICAgICRzY29wZS5yZW1vdmVDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdFRvUmVtb3ZlKSB7XHJcbiAqICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5jb250YWN0cy5pbmRleE9mKGNvbnRhY3RUb1JlbW92ZSk7XHJcbiAqICAgICAgICRzY29wZS5jb250YWN0cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gKiAgICAgfTtcclxuICpcclxuICogICAgICRzY29wZS5jbGVhckNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0KSB7XHJcbiAqICAgICAgIGNvbnRhY3QudHlwZSA9ICdwaG9uZSc7XHJcbiAqICAgICAgIGNvbnRhY3QudmFsdWUgPSAnJztcclxuICogICAgIH07XHJcbiAqICAgfVxyXG4gKiAgPC9maWxlPlxyXG4gKiAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gKiAgICBpdCgnc2hvdWxkIGNoZWNrIGNvbnRyb2xsZXInLCBmdW5jdGlvbigpIHtcclxuICogICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1leG1wbCcpKTtcclxuICpcclxuICogICAgICBleHBlY3QoY29udGFpbmVyLmVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSlcclxuICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xyXG4gKlxyXG4gKiAgICAgIHZhciBmaXJzdFJlcGVhdCA9XHJcbiAqICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDApKTtcclxuICogICAgICB2YXIgc2Vjb25kUmVwZWF0ID1cclxuICogICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gY29udGFjdHMnKS5yb3coMSkpO1xyXG4gKlxyXG4gKiAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcclxuICogICAgICAgICAgLnRvQmUoJzQwOCA1NTUgMTIxMicpO1xyXG4gKiAgICAgIGV4cGVjdChzZWNvbmRSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXHJcbiAqICAgICAgICAgIC50b0JlKCdqb2huLnNtaXRoQGV4YW1wbGUub3JnJyk7XHJcbiAqXHJcbiAqICAgICAgZmlyc3RSZXBlYXQuZWxlbWVudChieS5idXR0b25UZXh0KCdjbGVhcicpKS5jbGljaygpO1xyXG4gKlxyXG4gKiAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcclxuICogICAgICAgICAgLnRvQmUoJycpO1xyXG4gKlxyXG4gKiAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LmJ1dHRvblRleHQoJ2FkZCcpKS5jbGljaygpO1xyXG4gKlxyXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygyKSlcclxuICogICAgICAgICAgLmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSlcclxuICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcclxuICogICAgICAgICAgLnRvQmUoJ3lvdXJuYW1lQGV4YW1wbGUub3JnJyk7XHJcbiAqICAgIH0pO1xyXG4gKiAgPC9maWxlPlxyXG4gKjwvZXhhbXBsZT5cclxuXHJcbiAqL1xyXG52YXIgbmdDb250cm9sbGVyRGlyZWN0aXZlID0gW2Z1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgc2NvcGU6IHRydWUsXHJcbiAgICBjb250cm9sbGVyOiAnQCcsXHJcbiAgICBwcmlvcml0eTogNTAwXHJcbiAgfTtcclxufV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NzcFxyXG4gKlxyXG4gKiBAZWxlbWVudCBodG1sXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBBbmd1bGFyIGhhcyBzb21lIGZlYXR1cmVzIHRoYXQgY2FuIGJyZWFrIGNlcnRhaW5cclxuICogW0NTUCAoQ29udGVudCBTZWN1cml0eSBQb2xpY3kpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9TZWN1cml0eS9DU1ApIHJ1bGVzLlxyXG4gKlxyXG4gKiBJZiB5b3UgaW50ZW5kIHRvIGltcGxlbWVudCB0aGVzZSBydWxlcyB0aGVuIHlvdSBtdXN0IHRlbGwgQW5ndWxhciBub3QgdG8gdXNlIHRoZXNlIGZlYXR1cmVzLlxyXG4gKlxyXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSB3aGVuIGRldmVsb3BpbmcgdGhpbmdzIGxpa2UgR29vZ2xlIENocm9tZSBFeHRlbnNpb25zIG9yIFVuaXZlcnNhbCBXaW5kb3dzIEFwcHMuXHJcbiAqXHJcbiAqXHJcbiAqIFRoZSBmb2xsb3dpbmcgcnVsZXMgYWZmZWN0IEFuZ3VsYXI6XHJcbiAqXHJcbiAqICogYHVuc2FmZS1ldmFsYDogdGhpcyBydWxlIGZvcmJpZHMgYXBwcyB0byB1c2UgYGV2YWxgIG9yIGBGdW5jdGlvbihzdHJpbmcpYCBnZW5lcmF0ZWQgZnVuY3Rpb25zXHJcbiAqIChhbW9uZyBvdGhlciB0aGluZ3MpLiBBbmd1bGFyIG1ha2VzIHVzZSBvZiB0aGlzIGluIHRoZSB7QGxpbmsgJHBhcnNlfSBzZXJ2aWNlIHRvIHByb3ZpZGUgYSAzMCVcclxuICogaW5jcmVhc2UgaW4gdGhlIHNwZWVkIG9mIGV2YWx1YXRpbmcgQW5ndWxhciBleHByZXNzaW9ucy5cclxuICpcclxuICogKiBgdW5zYWZlLWlubGluZWA6IHRoaXMgcnVsZSBmb3JiaWRzIGFwcHMgZnJvbSBpbmplY3QgY3VzdG9tIHN0eWxlcyBpbnRvIHRoZSBkb2N1bWVudC4gQW5ndWxhclxyXG4gKiBtYWtlcyB1c2Ugb2YgdGhpcyB0byBpbmNsdWRlIHNvbWUgQ1NTIHJ1bGVzIChlLmcuIHtAbGluayBuZ0Nsb2FrfSBhbmQge0BsaW5rIG5nSGlkZX0pLlxyXG4gKiBUbyBtYWtlIHRoZXNlIGRpcmVjdGl2ZXMgd29yayB3aGVuIGEgQ1NQIHJ1bGUgaXMgYmxvY2tpbmcgaW5saW5lIHN0eWxlcywgeW91IG11c3QgbGluayB0byB0aGVcclxuICogYGFuZ3VsYXItY3NwLmNzc2AgaW4geW91ciBIVE1MIG1hbnVhbGx5LlxyXG4gKlxyXG4gKiBJZiB5b3UgZG8gbm90IHByb3ZpZGUgYG5nQ3NwYCB0aGVuIEFuZ3VsYXIgdHJpZXMgdG8gYXV0b2RldGVjdCBpZiBDU1AgaXMgYmxvY2tpbmcgdW5zYWZlLWV2YWxcclxuICogYW5kIGF1dG9tYXRpY2FsbHkgZGVhY3RpdmF0ZXMgdGhpcyBmZWF0dXJlIGluIHRoZSB7QGxpbmsgJHBhcnNlfSBzZXJ2aWNlLiBUaGlzIGF1dG9kZXRlY3Rpb24sXHJcbiAqIGhvd2V2ZXIsIHRyaWdnZXJzIGEgQ1NQIGVycm9yIHRvIGJlIGxvZ2dlZCBpbiB0aGUgY29uc29sZTpcclxuICpcclxuICogYGBgXHJcbiAqIFJlZnVzZWQgdG8gZXZhbHVhdGUgYSBzdHJpbmcgYXMgSmF2YVNjcmlwdCBiZWNhdXNlICd1bnNhZmUtZXZhbCcgaXMgbm90IGFuIGFsbG93ZWQgc291cmNlIG9mXHJcbiAqIHNjcmlwdCBpbiB0aGUgZm9sbG93aW5nIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGRpcmVjdGl2ZTogXCJkZWZhdWx0LXNyYyAnc2VsZidcIi4gTm90ZSB0aGF0XHJcbiAqICdzY3JpcHQtc3JjJyB3YXMgbm90IGV4cGxpY2l0bHkgc2V0LCBzbyAnZGVmYXVsdC1zcmMnIGlzIHVzZWQgYXMgYSBmYWxsYmFjay5cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoaXMgZXJyb3IgaXMgaGFybWxlc3MgYnV0IGFubm95aW5nLiBUbyBwcmV2ZW50IHRoZSBlcnJvciBmcm9tIHNob3dpbmcgdXAsIHB1dCB0aGUgYG5nQ3NwYFxyXG4gKiBkaXJlY3RpdmUgb24gYW4gZWxlbWVudCBvZiB0aGUgSFRNTCBkb2N1bWVudCB0aGF0IGFwcGVhcnMgYmVmb3JlIHRoZSBgPHNjcmlwdD5gIHRhZyB0aGF0IGxvYWRzXHJcbiAqIHRoZSBgYW5ndWxhci5qc2AgZmlsZS5cclxuICpcclxuICogKk5vdGU6IFRoaXMgZGlyZWN0aXZlIGlzIG9ubHkgYXZhaWxhYmxlIGluIHRoZSBgbmctY3NwYCBhbmQgYGRhdGEtbmctY3NwYCBhdHRyaWJ1dGUgZm9ybS4qXHJcbiAqXHJcbiAqIFlvdSBjYW4gc3BlY2lmeSB3aGljaCBvZiB0aGUgQ1NQIHJlbGF0ZWQgQW5ndWxhciBmZWF0dXJlcyBzaG91bGQgYmUgZGVhY3RpdmF0ZWQgYnkgcHJvdmlkaW5nXHJcbiAqIGEgdmFsdWUgZm9yIHRoZSBgbmctY3NwYCBhdHRyaWJ1dGUuIFRoZSBvcHRpb25zIGFyZSBhcyBmb2xsb3dzOlxyXG4gKlxyXG4gKiAqIG5vLWlubGluZS1zdHlsZTogdGhpcyBzdG9wcyBBbmd1bGFyIGZyb20gaW5qZWN0aW5nIENTUyBzdHlsZXMgaW50byB0aGUgRE9NXHJcbiAqXHJcbiAqICogbm8tdW5zYWZlLWV2YWw6IHRoaXMgc3RvcHMgQW5ndWxhciBmcm9tIG9wdGltaXppbmcgJHBhcnNlIHdpdGggdW5zYWZlIGV2YWwgb2Ygc3RyaW5nc1xyXG4gKlxyXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSB2YWx1ZXMgaW4gdGhlIGZvbGxvd2luZyBjb21iaW5hdGlvbnM6XHJcbiAqXHJcbiAqXHJcbiAqICogTm8gZGVjbGFyYXRpb24gbWVhbnMgdGhhdCBBbmd1bGFyIHdpbGwgYXNzdW1lIHRoYXQgeW91IGNhbiBkbyBpbmxpbmUgc3R5bGVzLCBidXQgaXQgd2lsbCBkb1xyXG4gKiBhIHJ1bnRpbWUgY2hlY2sgZm9yIHVuc2FmZS1ldmFsLiBFLmcuIGA8Ym9keT5gLiBUaGlzIGlzIGJhY2t3YXJkbHkgY29tcGF0aWJsZSB3aXRoIHByZXZpb3VzIHZlcnNpb25zXHJcbiAqIG9mIEFuZ3VsYXIuXHJcbiAqXHJcbiAqICogQSBzaW1wbGUgYG5nLWNzcGAgKG9yIGBkYXRhLW5nLWNzcGApIGF0dHJpYnV0ZSB3aWxsIHRlbGwgQW5ndWxhciB0byBkZWFjdGl2YXRlIGJvdGggaW5saW5lXHJcbiAqIHN0eWxlcyBhbmQgdW5zYWZlIGV2YWwuIEUuZy4gYDxib2R5IG5nLWNzcD5gLiBUaGlzIGlzIGJhY2t3YXJkbHkgY29tcGF0aWJsZSB3aXRoIHByZXZpb3VzIHZlcnNpb25zXHJcbiAqIG9mIEFuZ3VsYXIuXHJcbiAqXHJcbiAqICogU3BlY2lmeWluZyBvbmx5IGBuby11bnNhZmUtZXZhbGAgdGVsbHMgQW5ndWxhciB0aGF0IHdlIG11c3Qgbm90IHVzZSBldmFsLCBidXQgdGhhdCB3ZSBjYW4gaW5qZWN0XHJcbiAqIGlubGluZSBzdHlsZXMuIEUuZy4gYDxib2R5IG5nLWNzcD1cIm5vLXVuc2FmZS1ldmFsXCI+YC5cclxuICpcclxuICogKiBTcGVjaWZ5aW5nIG9ubHkgYG5vLWlubGluZS1zdHlsZWAgdGVsbHMgQW5ndWxhciB0aGF0IHdlIG11c3Qgbm90IGluamVjdCBzdHlsZXMsIGJ1dCB0aGF0IHdlIGNhblxyXG4gKiBydW4gZXZhbCAtIG5vIGF1dG9tYXRpYyBjaGVjayBmb3IgdW5zYWZlIGV2YWwgd2lsbCBvY2N1ci4gRS5nLiBgPGJvZHkgbmctY3NwPVwibm8taW5saW5lLXN0eWxlXCI+YFxyXG4gKlxyXG4gKiAqIFNwZWNpZnlpbmcgYm90aCBgbm8tdW5zYWZlLWV2YWxgIGFuZCBgbm8taW5saW5lLXN0eWxlYCB0ZWxscyBBbmd1bGFyIHRoYXQgd2UgbXVzdCBub3QgaW5qZWN0XHJcbiAqIHN0eWxlcyBub3IgdXNlIGV2YWwsIHdoaWNoIGlzIHRoZSBzYW1lIGFzIGFuIGVtcHR5OiBuZy1jc3AuXHJcbiAqIEUuZy5gPGJvZHkgbmctY3NwPVwibm8taW5saW5lLXN0eWxlO25vLXVuc2FmZS1ldmFsXCI+YFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIGFwcGx5IHRoZSBgbmdDc3BgIGRpcmVjdGl2ZSB0byB0aGUgYGh0bWxgIHRhZy5cclxuICAgYGBgaHRtbFxyXG4gICAgIDwhZG9jdHlwZSBodG1sPlxyXG4gICAgIDxodG1sIG5nLWFwcCBuZy1jc3A+XHJcbiAgICAgLi4uXHJcbiAgICAgLi4uXHJcbiAgICAgPC9odG1sPlxyXG4gICBgYGBcclxuICAqIEBleGFtcGxlXHJcbiAgICAgIC8vIE5vdGU6IHRoZSBzdWZmaXggYC5jc3BgIGluIHRoZSBleGFtcGxlIG5hbWUgdHJpZ2dlcnNcclxuICAgICAgLy8gY3NwIG1vZGUgaW4gb3VyIGh0dHAgc2VydmVyIVxyXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwiZXhhbXBsZS5jc3BcIiBtb2R1bGU9XCJjc3BFeGFtcGxlXCIgbmctY3NwPVwidHJ1ZVwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNYWluQ29udHJvbGxlciBhcyBjdHJsXCI+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImN0cmwuaW5jKClcIiBpZD1cImluY1wiPkluY3JlbWVudDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGlkPVwiY291bnRlclwiPlxyXG4gICAgICAgICAgICAgICAge3tjdHJsLmNvdW50ZXJ9fVxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjdHJsLmV2aWwoKVwiIGlkPVwiZXZpbFwiPkV2aWw8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8c3BhbiBpZD1cImV2aWxFcnJvclwiPlxyXG4gICAgICAgICAgICAgICAge3tjdHJsLmV2aWxFcnJvcn19XHJcbiAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2NzcEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5jID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRlcisrO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZpbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAvLyBqc2hpbnQgZXZpbDp0cnVlXHJcbiAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZhbCgnMSsyJyk7XHJcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2aWxFcnJvciA9IGUubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICAgdmFyIHV0aWwsIHdlYmRyaXZlcjtcclxuXHJcbiAgICAgICAgICB2YXIgaW5jQnRuID0gZWxlbWVudChieS5pZCgnaW5jJykpO1xyXG4gICAgICAgICAgdmFyIGNvdW50ZXIgPSBlbGVtZW50KGJ5LmlkKCdjb3VudGVyJykpO1xyXG4gICAgICAgICAgdmFyIGV2aWxCdG4gPSBlbGVtZW50KGJ5LmlkKCdldmlsJykpO1xyXG4gICAgICAgICAgdmFyIGV2aWxFcnJvciA9IGVsZW1lbnQoYnkuaWQoJ2V2aWxFcnJvcicpKTtcclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiBnZXRBbmRDbGVhclNldmVyZUVycm9ycygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIubWFuYWdlKCkubG9ncygpLmdldCgnYnJvd3NlcicpLnRoZW4oZnVuY3Rpb24oYnJvd3NlckxvZykge1xyXG4gICAgICAgICAgICAgIHJldHVybiBicm93c2VyTG9nLmZpbHRlcihmdW5jdGlvbihsb2dFbnRyeSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvZ0VudHJ5LmxldmVsLnZhbHVlID4gd2ViZHJpdmVyLmxvZ2dpbmcuTGV2ZWwuV0FSTklORy52YWx1ZTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gY2xlYXJFcnJvcnMoKSB7XHJcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gZXhwZWN0Tm9FcnJvcnMoKSB7XHJcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xyXG4gICAgICAgICAgICAgIGV4cGVjdChmaWx0ZXJlZExvZy5sZW5ndGgpLnRvRXF1YWwoMCk7XHJcbiAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkTG9nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Jyb3dzZXIgY29uc29sZSBlcnJvcnM6ICcgKyB1dGlsLmluc3BlY3QoZmlsdGVyZWRMb2cpKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGV4cGVjdEVycm9yKHJlZ2V4KSB7XHJcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xyXG4gICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGZpbHRlcmVkTG9nLmZvckVhY2goZnVuY3Rpb24obG9nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9nLm1lc3NhZ2UubWF0Y2gocmVnZXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGVkIGFuIGVycm9yIHRoYXQgbWF0Y2hlcyAnICsgcmVnZXgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYmVmb3JlRWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcclxuICAgICAgICAgICAgd2ViZHJpdmVyID0gcmVxdWlyZSgncHJvdHJhY3Rvci9ub2RlX21vZHVsZXMvc2VsZW5pdW0td2ViZHJpdmVyJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBGb3Igbm93LCB3ZSBvbmx5IHRlc3Qgb24gQ2hyb21lLFxyXG4gICAgICAgICAgLy8gYXMgU2FmYXJpIGRvZXMgbm90IGxvYWQgdGhlIHBhZ2Ugd2l0aCBQcm90cmFjdG9yJ3MgaW5qZWN0ZWQgc2NyaXB0cyxcclxuICAgICAgICAgIC8vIGFuZCBGaXJlZm94IHdlYmRyaXZlciBhbHdheXMgZGlzYWJsZXMgY29udGVudCBzZWN1cml0eSBwb2xpY3kgKCM2MzU4KVxyXG4gICAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgIT09ICdjaHJvbWUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIG5vdCByZXBvcnQgZXJyb3JzIHdoZW4gdGhlIHBhZ2UgaXMgbG9hZGVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIGNsZWFyIGVycm9ycyBzbyB3ZSBhcmUgbm90IGRlcGVuZGVudCBvbiBwcmV2aW91cyB0ZXN0c1xyXG4gICAgICAgICAgICBjbGVhckVycm9ycygpO1xyXG4gICAgICAgICAgICAvLyBOZWVkIHRvIHJlbG9hZCB0aGUgcGFnZSBhcyB0aGUgcGFnZSBpcyBhbHJlYWR5IGxvYWRlZCB3aGVuXHJcbiAgICAgICAgICAgIC8vIHdlIGNvbWUgaGVyZVxyXG4gICAgICAgICAgICBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcclxuICAgICAgICAgICAgICBicm93c2VyLmdldCh1cmwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZXhwZWN0Tm9FcnJvcnMoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgZXZhbHVhdGUgZXhwcmVzc2lvbnMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCcwJyk7XHJcbiAgICAgICAgICAgIGluY0J0bi5jbGljaygpO1xyXG4gICAgICAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvRXF1YWwoJzEnKTtcclxuICAgICAgICAgICAgZXhwZWN0Tm9FcnJvcnMoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW5kIHJlcG9ydCBhbiBlcnJvciB3aGVuIHVzaW5nIFwiZXZhbFwiJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGV2aWxCdG4uY2xpY2soKTtcclxuICAgICAgICAgICAgZXhwZWN0KGV2aWxFcnJvci5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgU2VjdXJpdHkgUG9saWN5Lyk7XHJcbiAgICAgICAgICAgIGV4cGVjdEVycm9yKC9Db250ZW50IFNlY3VyaXR5IFBvbGljeS8pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcbiAgKi9cclxuXHJcbi8vIG5nQ3NwIGlzIG5vdCBpbXBsZW1lbnRlZCBhcyBhIHByb3BlciBkaXJlY3RpdmUgYW55IG1vcmUsIGJlY2F1c2Ugd2UgbmVlZCBpdCBiZSBwcm9jZXNzZWQgd2hpbGUgd2VcclxuLy8gYm9vdHN0cmFwIHRoZSBzeXN0ZW0gKGJlZm9yZSAkcGFyc2UgaXMgaW5zdGFudGlhdGVkKSwgZm9yIHRoaXMgcmVhc29uIHdlIGp1c3QgaGF2ZVxyXG4vLyB0aGUgY3NwKCkgZm4gdGhhdCBsb29rcyBmb3IgdGhlIGBuZy1jc3BgIGF0dHJpYnV0ZSBhbnl3aGVyZSBpbiB0aGUgY3VycmVudCBkb2NcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQ2xpY2tcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBuZ0NsaWNrIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIHdoZW5cclxuICogYW4gZWxlbWVudCBpcyBjbGlja2VkLlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsaWNrIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICogY2xpY2suICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICAgIEluY3JlbWVudFxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgPHNwYW4+XHJcbiAgICAgICAgY291bnQ6IHt7Y291bnR9fVxyXG4gICAgICA8L3NwYW4+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnY291bnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKCcwJyk7XHJcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnY291bnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKCcxJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbi8qXHJcbiAqIEEgY29sbGVjdGlvbiBvZiBkaXJlY3RpdmVzIHRoYXQgYWxsb3dzIGNyZWF0aW9uIG9mIGN1c3RvbSBldmVudCBoYW5kbGVycyB0aGF0IGFyZSBkZWZpbmVkIGFzXHJcbiAqIGFuZ3VsYXIgZXhwcmVzc2lvbnMgYW5kIGFyZSBjb21waWxlZCBhbmQgZXhlY3V0ZWQgd2l0aGluIHRoZSBjdXJyZW50IHNjb3BlLlxyXG4gKi9cclxudmFyIG5nRXZlbnREaXJlY3RpdmVzID0ge307XHJcblxyXG4vLyBGb3IgZXZlbnRzIHRoYXQgbWlnaHQgZmlyZSBzeW5jaHJvbm91c2x5IGR1cmluZyBET00gbWFuaXB1bGF0aW9uXHJcbi8vIHdlIG5lZWQgdG8gZXhlY3V0ZSB0aGVpciBldmVudCBoYW5kbGVycyBhc3luY2hyb25vdXNseSB1c2luZyAkZXZhbEFzeW5jLFxyXG4vLyBzbyB0aGF0IHRoZXkgYXJlIG5vdCBleGVjdXRlZCBpbiBhbiBpbmNvbnNpc3RlbnQgc3RhdGUuXHJcbnZhciBmb3JjZUFzeW5jRXZlbnRzID0ge1xyXG4gICdibHVyJzogdHJ1ZSxcclxuICAnZm9jdXMnOiB0cnVlXHJcbn07XHJcbmZvckVhY2goXHJcbiAgJ2NsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGUnLnNwbGl0KCcgJyksXHJcbiAgZnVuY3Rpb24oZXZlbnROYW1lKSB7XHJcbiAgICB2YXIgZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGV2ZW50TmFtZSk7XHJcbiAgICBuZ0V2ZW50RGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IFsnJHBhcnNlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcGFyc2UsICRyb290U2NvcGUpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKCRlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgICAvLyBXZSBleHBvc2UgdGhlIHBvd2VyZnVsICRldmVudCBvYmplY3Qgb24gdGhlIHNjb3BlIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBXaW5kb3csXHJcbiAgICAgICAgICAvLyBldGMuIHRoYXQgaXNuJ3QgcHJvdGVjdGVkIGJ5IHRoZSBmYXN0IHBhdGhzIGluICRwYXJzZS4gIFdlIGV4cGxpY2l0bHkgcmVxdWVzdCBiZXR0ZXJcclxuICAgICAgICAgIC8vIGNoZWNrcyBhdCB0aGUgY29zdCBvZiBzcGVlZCBzaW5jZSBldmVudCBoYW5kbGVyIGV4cHJlc3Npb25zIGFyZSBub3QgZXhlY3V0ZWQgYXNcclxuICAgICAgICAgIC8vIGZyZXF1ZW50bHkgYXMgcmVndWxhciBjaGFuZ2UgZGV0ZWN0aW9uLlxyXG4gICAgICAgICAgdmFyIGZuID0gJHBhcnNlKGF0dHJbZGlyZWN0aXZlTmFtZV0sIC8qIGludGVyY2VwdG9yRm4gKi8gbnVsbCwgLyogZXhwZW5zaXZlQ2hlY2tzICovIHRydWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nRXZlbnRIYW5kbGVyKHNjb3BlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQub24oZXZlbnROYW1lLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZm4oc2NvcGUsIHskZXZlbnQ6ZXZlbnR9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGlmIChmb3JjZUFzeW5jRXZlbnRzW2V2ZW50TmFtZV0gJiYgJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XTtcclxuICB9XHJcbik7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0RibGNsaWNrXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nRGJsY2xpY2tgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGEgZGJsY2xpY2sgZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRGJsY2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBhIGRibGNsaWNrLiAoVGhlIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGApXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxidXR0b24gbmctZGJsY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgSW5jcmVtZW50IChvbiBkb3VibGUgY2xpY2spXHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICBjb3VudDoge3tjb3VudH19XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nTW91c2Vkb3duXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgbmdNb3VzZWRvd24gZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2Vkb3duIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlZG93biB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIG1vdXNlZG93bi4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxidXR0b24gbmctbW91c2Vkb3duPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICAgIEluY3JlbWVudCAob24gbW91c2UgZG93bilcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb3VzZXVwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZXVwIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNldXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBtb3VzZXVwLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZXVwPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICAgIEluY3JlbWVudCAob24gbW91c2UgdXApXHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICBjb3VudDoge3tjb3VudH19XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb3VzZW92ZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlb3ZlciBldmVudC5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZW92ZXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBtb3VzZW92ZXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8YnV0dG9uIG5nLW1vdXNlb3Zlcj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cclxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgaXMgb3ZlcilcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb3VzZWVudGVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWVudGVyIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlZW50ZXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBtb3VzZWVudGVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZWVudGVyPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBlbnRlcnMpXHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICBjb3VudDoge3tjb3VudH19XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nTW91c2VsZWF2ZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VsZWF2ZSBldmVudC5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZWxlYXZlIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICogbW91c2VsZWF2ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxidXR0b24gbmctbW91c2VsZWF2ZT1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cclxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgbGVhdmVzKVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgY291bnQ6IHt7Y291bnR9fVxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ01vdXNlbW92ZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2Vtb3ZlIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlbW92ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIG1vdXNlbW92ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxidXR0b24gbmctbW91c2Vtb3ZlPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBtb3ZlcylcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdLZXlkb3duXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXlkb3duIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0tleWRvd24ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBrZXlkb3duLiAoRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YCBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8aW5wdXQgbmcta2V5ZG93bj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cclxuICAgICAga2V5IGRvd24gY291bnQ6IHt7Y291bnR9fVxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0tleXVwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXl1cCBldmVudC5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXl1cCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIGtleXVwLiAoRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YCBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHA+VHlwaW5nIGluIHRoZSBpbnB1dCBib3ggYmVsb3cgdXBkYXRlcyB0aGUga2V5IGNvdW50PC9wPlxyXG4gICAgICAgPGlucHV0IG5nLWtleXVwPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPiBrZXkgdXAgY291bnQ6IHt7Y291bnR9fVxyXG5cclxuICAgICAgIDxwPlR5cGluZyBpbiB0aGUgaW5wdXQgYm94IGJlbG93IHVwZGF0ZXMgdGhlIGtleWNvZGU8L3A+XHJcbiAgICAgICA8aW5wdXQgbmcta2V5dXA9XCJldmVudD0kZXZlbnRcIj5cclxuICAgICAgIDxwPmV2ZW50IGtleUNvZGU6IHt7IGV2ZW50LmtleUNvZGUgfX08L3A+XHJcbiAgICAgICA8cD5ldmVudCBhbHRLZXk6IHt7IGV2ZW50LmFsdEtleSB9fTwvcD5cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdLZXlwcmVzc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5cHJlc3MgZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5cHJlc3Mge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBrZXlwcmVzcy4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH1cclxuICogYW5kIGNhbiBiZSBpbnRlcnJvZ2F0ZWQgZm9yIGtleUNvZGUsIGFsdEtleSwgZXRjLilcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGlucHV0IG5nLWtleXByZXNzPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICBrZXkgcHJlc3MgY291bnQ6IHt7Y291bnR9fVxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1N1Ym1pdFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRW5hYmxlcyBiaW5kaW5nIGFuZ3VsYXIgZXhwcmVzc2lvbnMgdG8gb25zdWJtaXQgZXZlbnRzLlxyXG4gKlxyXG4gKiBBZGRpdGlvbmFsbHkgaXQgcHJldmVudHMgdGhlIGRlZmF1bHQgYWN0aW9uICh3aGljaCBmb3IgZm9ybSBtZWFucyBzZW5kaW5nIHRoZSByZXF1ZXN0IHRvIHRoZVxyXG4gKiBzZXJ2ZXIgYW5kIHJlbG9hZGluZyB0aGUgY3VycmVudCBwYWdlKSwgYnV0IG9ubHkgaWYgdGhlIGZvcm0gZG9lcyBub3QgY29udGFpbiBgYWN0aW9uYCxcclxuICogYGRhdGEtYWN0aW9uYCwgb3IgYHgtYWN0aW9uYCBhdHRyaWJ1dGVzLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKldhcm5pbmc6KiogQmUgY2FyZWZ1bCBub3QgdG8gY2F1c2UgXCJkb3VibGUtc3VibWlzc2lvblwiIGJ5IHVzaW5nIGJvdGggdGhlIGBuZ0NsaWNrYCBhbmRcclxuICogYG5nU3VibWl0YCBoYW5kbGVycyB0b2dldGhlci4gU2VlIHRoZVxyXG4gKiB7QGxpbmsgZm9ybSNzdWJtaXR0aW5nLWEtZm9ybS1hbmQtcHJldmVudGluZy10aGUtZGVmYXVsdC1hY3Rpb24gYGZvcm1gIGRpcmVjdGl2ZSBkb2N1bWVudGF0aW9ufVxyXG4gKiBmb3IgYSBkZXRhaWxlZCBkaXNjdXNzaW9uIG9mIHdoZW4gYG5nU3VibWl0YCBtYXkgYmUgdHJpZ2dlcmVkLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogQGVsZW1lbnQgZm9ybVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3VibWl0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuXHJcbiAqICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJzdWJtaXRFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPHNjcmlwdD5cclxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnc3VibWl0RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLnRleHQgPSAnaGVsbG8nO1xyXG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS50ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGlzdC5wdXNoKHRoaXMudGV4dCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGV4dCA9ICcnO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1dKTtcclxuICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgIDxmb3JtIG5nLXN1Ym1pdD1cInN1Ym1pdCgpXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgRW50ZXIgdGV4dCBhbmQgaGl0IGVudGVyOlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidGV4dFwiIG5hbWU9XCJ0ZXh0XCIgLz5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIGlkPVwic3VibWl0XCIgdmFsdWU9XCJTdWJtaXRcIiAvPlxyXG4gICAgICAgIDxwcmU+bGlzdD17e2xpc3R9fTwvcHJlPlxyXG4gICAgICA8L2Zvcm0+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3VibWl0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0PVtdJyk7XHJcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjc3VibWl0JykpLmNsaWNrKCk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2hlbGxvJyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnJyk7XHJcbiAgICAgICB9KTtcclxuICAgICAgIGl0KCdzaG91bGQgaWdub3JlIGVtcHR5IHN0cmluZ3MnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3Q9W10nKTtcclxuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcclxuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignaGVsbG8nKTtcclxuICAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0ZvY3VzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBmb2N1cyBldmVudC5cclxuICpcclxuICogTm90ZTogQXMgdGhlIGBmb2N1c2AgZXZlbnQgaXMgZXhlY3V0ZWQgc3luY2hyb25vdXNseSB3aGVuIGNhbGxpbmcgYGlucHV0LmZvY3VzKClgXHJcbiAqIEFuZ3VsYXJKUyBleGVjdXRlcyB0aGUgZXhwcmVzc2lvbiB1c2luZyBgc2NvcGUuJGV2YWxBc3luY2AgaWYgdGhlIGV2ZW50IGlzIGZpcmVkXHJcbiAqIGR1cmluZyBhbiBgJGFwcGx5YCB0byBlbnN1cmUgYSBjb25zaXN0ZW50IHN0YXRlLlxyXG4gKlxyXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdGb2N1cyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIGZvY3VzLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICogU2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQmx1clxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gYmx1ciBldmVudC5cclxuICpcclxuICogQSBbYmx1ciBldmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL2JsdXIpIGZpcmVzIHdoZW5cclxuICogYW4gZWxlbWVudCBoYXMgbG9zdCBmb2N1cy5cclxuICpcclxuICogTm90ZTogQXMgdGhlIGBibHVyYCBldmVudCBpcyBleGVjdXRlZCBzeW5jaHJvbm91c2x5IGFsc28gZHVyaW5nIERPTSBtYW5pcHVsYXRpb25zXHJcbiAqIChlLmcuIHJlbW92aW5nIGEgZm9jdXNzZWQgaW5wdXQpLFxyXG4gKiBBbmd1bGFySlMgZXhlY3V0ZXMgdGhlIGV4cHJlc3Npb24gdXNpbmcgYHNjb3BlLiRldmFsQXN5bmNgIGlmIHRoZSBldmVudCBpcyBmaXJlZFxyXG4gKiBkdXJpbmcgYW4gYCRhcHBseWAgdG8gZW5zdXJlIGEgY29uc2lzdGVudCBzdGF0ZS5cclxuICpcclxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmx1ciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIGJsdXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdDb3B5XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBjb3B5IGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDb3B5IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICogY29weS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxpbnB1dCBuZy1jb3B5PVwiY29waWVkPXRydWVcIiBuZy1pbml0PVwiY29waWVkPWZhbHNlOyB2YWx1ZT0nY29weSBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XHJcbiAgICAgIGNvcGllZDoge3tjb3BpZWR9fVxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQ3V0XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBjdXQgZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0N1dCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIGN1dC4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxpbnB1dCBuZy1jdXQ9XCJjdXQ9dHJ1ZVwiIG5nLWluaXQ9XCJjdXQ9ZmFsc2U7IHZhbHVlPSdjdXQgbWUnXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPlxyXG4gICAgICBjdXQ6IHt7Y3V0fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1Bhc3RlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBwYXN0ZSBldmVudC5cclxuICpcclxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUGFzdGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBwYXN0ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxpbnB1dCBuZy1wYXN0ZT1cInBhc3RlPXRydWVcIiBuZy1pbml0PVwicGFzdGU9ZmFsc2VcIiBwbGFjZWhvbGRlcj0ncGFzdGUgaGVyZSc+XHJcbiAgICAgIHBhc3RlZDoge3twYXN0ZX19XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdJZlxyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKiBAbXVsdGlFbGVtZW50XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nSWZgIGRpcmVjdGl2ZSByZW1vdmVzIG9yIHJlY3JlYXRlcyBhIHBvcnRpb24gb2YgdGhlIERPTSB0cmVlIGJhc2VkIG9uIGFuXHJcbiAqIHtleHByZXNzaW9ufS4gSWYgdGhlIGV4cHJlc3Npb24gYXNzaWduZWQgdG8gYG5nSWZgIGV2YWx1YXRlcyB0byBhIGZhbHNlXHJcbiAqIHZhbHVlIHRoZW4gdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00sIG90aGVyd2lzZSBhIGNsb25lIG9mIHRoZVxyXG4gKiBlbGVtZW50IGlzIHJlaW5zZXJ0ZWQgaW50byB0aGUgRE9NLlxyXG4gKlxyXG4gKiBgbmdJZmAgZGlmZmVycyBmcm9tIGBuZ1Nob3dgIGFuZCBgbmdIaWRlYCBpbiB0aGF0IGBuZ0lmYCBjb21wbGV0ZWx5IHJlbW92ZXMgYW5kIHJlY3JlYXRlcyB0aGVcclxuICogZWxlbWVudCBpbiB0aGUgRE9NIHJhdGhlciB0aGFuIGNoYW5naW5nIGl0cyB2aXNpYmlsaXR5IHZpYSB0aGUgYGRpc3BsYXlgIGNzcyBwcm9wZXJ0eS4gIEEgY29tbW9uXHJcbiAqIGNhc2Ugd2hlbiB0aGlzIGRpZmZlcmVuY2UgaXMgc2lnbmlmaWNhbnQgaXMgd2hlbiB1c2luZyBjc3Mgc2VsZWN0b3JzIHRoYXQgcmVseSBvbiBhbiBlbGVtZW50J3NcclxuICogcG9zaXRpb24gd2l0aGluIHRoZSBET00sIHN1Y2ggYXMgdGhlIGA6Zmlyc3QtY2hpbGRgIG9yIGA6bGFzdC1jaGlsZGAgcHNldWRvLWNsYXNzZXMuXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCB3aGVuIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCB1c2luZyBgbmdJZmAgaXRzIHNjb3BlIGlzIGRlc3Ryb3llZCBhbmQgYSBuZXcgc2NvcGVcclxuICogaXMgY3JlYXRlZCB3aGVuIHRoZSBlbGVtZW50IGlzIHJlc3RvcmVkLiAgVGhlIHNjb3BlIGNyZWF0ZWQgd2l0aGluIGBuZ0lmYCBpbmhlcml0cyBmcm9tXHJcbiAqIGl0cyBwYXJlbnQgc2NvcGUgdXNpbmdcclxuICogW3Byb3RvdHlwYWwgaW5oZXJpdGFuY2VdKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvd2lraS9VbmRlcnN0YW5kaW5nLVNjb3BlcyNqYXZhc2NyaXB0LXByb3RvdHlwYWwtaW5oZXJpdGFuY2UpLlxyXG4gKiBBbiBpbXBvcnRhbnQgaW1wbGljYXRpb24gb2YgdGhpcyBpcyBpZiBgbmdNb2RlbGAgaXMgdXNlZCB3aXRoaW4gYG5nSWZgIHRvIGJpbmQgdG9cclxuICogYSBqYXZhc2NyaXB0IHByaW1pdGl2ZSBkZWZpbmVkIGluIHRoZSBwYXJlbnQgc2NvcGUuIEluIHRoaXMgY2FzZSBhbnkgbW9kaWZpY2F0aW9ucyBtYWRlIHRvIHRoZVxyXG4gKiB2YXJpYWJsZSB3aXRoaW4gdGhlIGNoaWxkIHNjb3BlIHdpbGwgb3ZlcnJpZGUgKGhpZGUpIHRoZSB2YWx1ZSBpbiB0aGUgcGFyZW50IHNjb3BlLlxyXG4gKlxyXG4gKiBBbHNvLCBgbmdJZmAgcmVjcmVhdGVzIGVsZW1lbnRzIHVzaW5nIHRoZWlyIGNvbXBpbGVkIHN0YXRlLiBBbiBleGFtcGxlIG9mIHRoaXMgYmVoYXZpb3JcclxuICogaXMgaWYgYW4gZWxlbWVudCdzIGNsYXNzIGF0dHJpYnV0ZSBpcyBkaXJlY3RseSBtb2RpZmllZCBhZnRlciBpdCdzIGNvbXBpbGVkLCB1c2luZyBzb21ldGhpbmcgbGlrZVxyXG4gKiBqUXVlcnkncyBgLmFkZENsYXNzKClgIG1ldGhvZCwgYW5kIHRoZSBlbGVtZW50IGlzIGxhdGVyIHJlbW92ZWQuIFdoZW4gYG5nSWZgIHJlY3JlYXRlcyB0aGUgZWxlbWVudFxyXG4gKiB0aGUgYWRkZWQgY2xhc3Mgd2lsbCBiZSBsb3N0IGJlY2F1c2UgdGhlIG9yaWdpbmFsIGNvbXBpbGVkIHN0YXRlIGlzIHVzZWQgdG8gcmVnZW5lcmF0ZSB0aGUgZWxlbWVudC5cclxuICpcclxuICogQWRkaXRpb25hbGx5LCB5b3UgY2FuIHByb3ZpZGUgYW5pbWF0aW9ucyB2aWEgdGhlIGBuZ0FuaW1hdGVgIG1vZHVsZSB0byBhbmltYXRlIHRoZSBgZW50ZXJgXHJcbiAqIGFuZCBgbGVhdmVgIGVmZmVjdHMuXHJcbiAqXHJcbiAqIEBhbmltYXRpb25zXHJcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNlbnRlciBlbnRlcn0gIHwganVzdCBhZnRlciB0aGUgYG5nSWZgIGNvbnRlbnRzIGNoYW5nZSBhbmQgYSBuZXcgRE9NIGVsZW1lbnQgaXMgY3JlYXRlZCBhbmQgaW5qZWN0ZWQgaW50byB0aGUgYG5nSWZgIGNvbnRhaW5lciB8XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2xlYXZlIGxlYXZlfSAgfCBqdXN0IGJlZm9yZSB0aGUgYG5nSWZgIGNvbnRlbnRzIGFyZSByZW1vdmVkIGZyb20gdGhlIERPTSB8XHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAc2NvcGVcclxuICogQHByaW9yaXR5IDYwMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nSWYgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIGZhbHN5IHRoZW5cclxuICogICAgIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHRyZWUuIElmIGl0IGlzIHRydXRoeSBhIGNvcHkgb2YgdGhlIGNvbXBpbGVkXHJcbiAqICAgICBlbGVtZW50IGlzIGFkZGVkIHRvIHRoZSBET00gdHJlZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cclxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxsYWJlbD5DbGljayBtZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIG5nLWluaXQ9XCJjaGVja2VkPXRydWVcIiAvPjwvbGFiZWw+PGJyLz5cclxuICAgICAgU2hvdyB3aGVuIGNoZWNrZWQ6XHJcbiAgICAgIDxzcGFuIG5nLWlmPVwiY2hlY2tlZFwiIGNsYXNzPVwiYW5pbWF0ZS1pZlwiPlxyXG4gICAgICAgIFRoaXMgaXMgcmVtb3ZlZCB3aGVuIHRoZSBjaGVja2JveCBpcyB1bmNoZWNrZWQuXHJcbiAgICAgIDwvc3Bhbj5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxyXG4gICAgICAuYW5pbWF0ZS1pZiB7XHJcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcclxuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgIHBhZGRpbmc6MTBweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIsIC5hbmltYXRlLWlmLm5nLWxlYXZlIHtcclxuICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLFxyXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xyXG4gICAgICAgIG9wYWNpdHk6MDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtaWYubmctbGVhdmUsXHJcbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XHJcbiAgICAgICAgb3BhY2l0eToxO1xyXG4gICAgICB9XHJcbiAgICA8L2ZpbGU+XHJcbiAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nSWZEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJGFuaW1hdGUsICRjb21waWxlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcclxuICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcclxuICAgIHByaW9yaXR5OiA2MDAsXHJcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAkJHRsYjogdHJ1ZSxcclxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xyXG4gICAgICAgIHZhciBibG9jaywgY2hpbGRTY29wZSwgcHJldmlvdXNFbGVtZW50cztcclxuICAgICAgICAkc2NvcGUuJHdhdGNoKCRhdHRyLm5nSWYsIGZ1bmN0aW9uIG5nSWZXYXRjaEFjdGlvbih2YWx1ZSkge1xyXG5cclxuICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoIWNoaWxkU2NvcGUpIHtcclxuICAgICAgICAgICAgICAkdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSwgbmV3U2NvcGUpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBuZXdTY29wZTtcclxuICAgICAgICAgICAgICAgIGNsb25lW2Nsb25lLmxlbmd0aCsrXSA9ICRjb21waWxlLiQkY3JlYXRlQ29tbWVudCgnZW5kIG5nSWYnLCAkYXR0ci5uZ0lmKTtcclxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgbmVlZCB0aGUgZmlyc3QvbGFzdCBub2RlIG9mIHRoZSBjbG9uZWQgbm9kZXMuXHJcbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUganFsaXRlIHdyYXBwZXIgYXMgaXQgbWlnaHQgYmUgY2hhbmdlZCBsYXRlclxyXG4gICAgICAgICAgICAgICAgLy8gYnkgYSBkaXJlY3RpdmUgd2l0aCB0ZW1wbGF0ZVVybCB3aGVuIGl0cyB0ZW1wbGF0ZSBhcnJpdmVzLlxyXG4gICAgICAgICAgICAgICAgYmxvY2sgPSB7XHJcbiAgICAgICAgICAgICAgICAgIGNsb25lOiBjbG9uZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCAkZWxlbWVudC5wYXJlbnQoKSwgJGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50cykge1xyXG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoaWxkU2NvcGUpIHtcclxuICAgICAgICAgICAgICBjaGlsZFNjb3BlLiRkZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpO1xyXG4gICAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKHByZXZpb3VzRWxlbWVudHMpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBibG9jayA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59XTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nSW5jbHVkZVxyXG4gKiBAcmVzdHJpY3QgRUNBXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBGZXRjaGVzLCBjb21waWxlcyBhbmQgaW5jbHVkZXMgYW4gZXh0ZXJuYWwgSFRNTCBmcmFnbWVudC5cclxuICpcclxuICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIFVSTCBpcyByZXN0cmljdGVkIHRvIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlXHJcbiAqIGFwcGxpY2F0aW9uIGRvY3VtZW50LiBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcclxuICogJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9IG9uIGl0LiBUbyBsb2FkIHRlbXBsYXRlcyBmcm9tIG90aGVyIGRvbWFpbnMgb3IgcHJvdG9jb2xzXHJcbiAqIHlvdSBtYXkgZWl0aGVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3QgdGhlbX0gb3JcclxuICoge0BsaW5rICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsIHdyYXAgdGhlbX0gYXMgdHJ1c3RlZCB2YWx1ZXMuIFJlZmVyIHRvIEFuZ3VsYXIncyB7QGxpbmtcclxuICogbmcuJHNjZSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZ30uXHJcbiAqXHJcbiAqIEluIGFkZGl0aW9uLCB0aGUgYnJvd3NlcidzXHJcbiAqIFtTYW1lIE9yaWdpbiBQb2xpY3ldKGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvYnJvd3NlcnNlYy93aWtpL1BhcnQyI1NhbWUtb3JpZ2luX3BvbGljeV9mb3JfWE1MSHR0cFJlcXVlc3QpXHJcbiAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLylcclxuICogcG9saWN5IG1heSBmdXJ0aGVyIHJlc3RyaWN0IHdoZXRoZXIgdGhlIHRlbXBsYXRlIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXHJcbiAqIEZvciBleGFtcGxlLCBgbmdJbmNsdWRlYCB3b24ndCB3b3JrIGZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMgb24gYWxsIGJyb3dzZXJzIGFuZCBmb3IgYGZpbGU6Ly9gXHJcbiAqIGFjY2VzcyBvbiBzb21lIGJyb3dzZXJzLlxyXG4gKlxyXG4gKiBAYW5pbWF0aW9uc1xyXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNlbnRlciBlbnRlcn0gIHwgd2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCBvbiB0aGUgbmV3IGluY2x1ZGUgfFxyXG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNsZWF2ZSBsZWF2ZX0gIHwgd2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCBvbiB0aGUgb2xkIGluY2x1ZGUgfFxyXG4gKlxyXG4gKiBUaGUgZW50ZXIgYW5kIGxlYXZlIGFuaW1hdGlvbiBvY2N1ciBjb25jdXJyZW50bHkuXHJcbiAqXHJcbiAqIEBzY29wZVxyXG4gKiBAcHJpb3JpdHkgNDAwXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ0luY2x1ZGV8c3JjIGFuZ3VsYXIgZXhwcmVzc2lvbiBldmFsdWF0aW5nIHRvIFVSTC4gSWYgdGhlIHNvdXJjZSBpcyBhIHN0cmluZyBjb25zdGFudCxcclxuICogICAgICAgICAgICAgICAgIG1ha2Ugc3VyZSB5b3Ugd3JhcCBpdCBpbiAqKnNpbmdsZSoqIHF1b3RlcywgZS5nLiBgc3JjPVwiJ215UGFydGlhbFRlbXBsYXRlLmh0bWwnXCJgLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG9ubG9hZCBFeHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gYSBuZXcgcGFydGlhbCBpcyBsb2FkZWQuXHJcbiAqICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogICAgICAgICAgICAgICAgICAqKk5vdGU6KiogV2hlbiB1c2luZyBvbmxvYWQgb24gU1ZHIGVsZW1lbnRzIGluIElFMTEsIHRoZSBicm93c2VyIHdpbGwgdHJ5IHRvIGNhbGxcclxuICogICAgICAgICAgICAgICAgICBhIGZ1bmN0aW9uIHdpdGggdGhlIG5hbWUgb24gdGhlIHdpbmRvdyBlbGVtZW50LCB3aGljaCB3aWxsIHVzdWFsbHkgdGhyb3cgYVxyXG4gKiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb24gaXMgdW5kZWZpbmVkXCIgZXJyb3IuIFRvIGZpeCB0aGlzLCB5b3UgY2FuIGluc3RlYWQgdXNlIGBkYXRhLW9ubG9hZGAgb3IgYVxyXG4gKiAgICAgICAgICAgICAgICAgIGRpZmZlcmVudCBmb3JtIHRoYXQge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSNub3JtYWxpemF0aW9uIG1hdGNoZXN9IGBvbmxvYWRgLlxyXG4gKiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXV0b3Njcm9sbCBXaGV0aGVyIGBuZ0luY2x1ZGVgIHNob3VsZCBjYWxsIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsXHJcbiAqICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbH0gdG8gc2Nyb2xsIHRoZSB2aWV3cG9ydCBhZnRlciB0aGUgY29udGVudCBpcyBsb2FkZWQuXHJcbiAqXHJcbiAqICAgICAgICAgICAgICAgICAgLSBJZiB0aGUgYXR0cmlidXRlIGlzIG5vdCBzZXQsIGRpc2FibGUgc2Nyb2xsaW5nLlxyXG4gKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBzZXQgd2l0aG91dCB2YWx1ZSwgZW5hYmxlIHNjcm9sbGluZy5cclxuICogICAgICAgICAgICAgICAgICAtIE90aGVyd2lzZSBlbmFibGUgc2Nyb2xsaW5nIG9ubHkgaWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydXRoeSB2YWx1ZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICA8ZXhhbXBsZSBtb2R1bGU9XCJpbmNsdWRlRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInRlbXBsYXRlXCIgbmctb3B0aW9ucz1cInQubmFtZSBmb3IgdCBpbiB0ZW1wbGF0ZXNcIj5cclxuICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+KGJsYW5rKTwvb3B0aW9uPlxyXG4gICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICB1cmwgb2YgdGhlIHRlbXBsYXRlOiA8Y29kZT57e3RlbXBsYXRlLnVybH19PC9jb2RlPlxyXG4gICAgICAgPGhyLz5cclxuICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZS1hbmltYXRlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGUtYW5pbWF0ZVwiIG5nLWluY2x1ZGU9XCJ0ZW1wbGF0ZS51cmxcIj48L2Rpdj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZGl2PlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnaW5jbHVkZUV4YW1wbGUnLCBbJ25nQW5pbWF0ZSddKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAkc2NvcGUudGVtcGxhdGVzID1cclxuICAgICAgICAgICAgWyB7IG5hbWU6ICd0ZW1wbGF0ZTEuaHRtbCcsIHVybDogJ3RlbXBsYXRlMS5odG1sJ30sXHJcbiAgICAgICAgICAgICAgeyBuYW1lOiAndGVtcGxhdGUyLmh0bWwnLCB1cmw6ICd0ZW1wbGF0ZTIuaHRtbCd9IF07XHJcbiAgICAgICAgICAkc2NvcGUudGVtcGxhdGUgPSAkc2NvcGUudGVtcGxhdGVzWzBdO1xyXG4gICAgICAgIH1dKTtcclxuICAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwidGVtcGxhdGUxLmh0bWxcIj5cclxuICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTEuaHRtbFxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInRlbXBsYXRlMi5odG1sXCI+XHJcbiAgICAgIENvbnRlbnQgb2YgdGVtcGxhdGUyLmh0bWxcclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxyXG4gICAgICAuc2xpZGUtYW5pbWF0ZS1jb250YWluZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XHJcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBoZWlnaHQ6NDBweDtcclxuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zbGlkZS1hbmltYXRlIHtcclxuICAgICAgICBwYWRkaW5nOjEwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWVudGVyLCAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZSB7XHJcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xyXG5cclxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgICAgICB0b3A6MDtcclxuICAgICAgICBsZWZ0OjA7XHJcbiAgICAgICAgcmlnaHQ6MDtcclxuICAgICAgICBib3R0b206MDtcclxuICAgICAgICBkaXNwbGF5OmJsb2NrO1xyXG4gICAgICAgIHBhZGRpbmc6MTBweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIge1xyXG4gICAgICAgIHRvcDotNTBweDtcclxuICAgICAgfVxyXG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xyXG4gICAgICAgIHRvcDowO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZSB7XHJcbiAgICAgICAgdG9wOjA7XHJcbiAgICAgIH1cclxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHtcclxuICAgICAgICB0b3A6NTBweDtcclxuICAgICAgfVxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgdGVtcGxhdGVTZWxlY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZW1wbGF0ZScpKTtcclxuICAgICAgdmFyIGluY2x1ZGVFbGVtID0gZWxlbWVudChieS5jc3MoJ1tuZy1pbmNsdWRlXScpKTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZTEuaHRtbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdChpbmNsdWRlRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgb2YgdGVtcGxhdGUxLmh0bWwvKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGxvYWQgdGVtcGxhdGUyLmh0bWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnZmlyZWZveCcpIHtcclxuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcclxuICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy80ODBcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuY2xpY2soKTtcclxuICAgICAgICB0ZW1wbGF0ZVNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDIpLmNsaWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbC8pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGJsYW5rJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ2ZpcmVmb3gnKSB7XHJcbiAgICAgICAgICAvLyBGaXJlZm94IGNhbid0IGhhbmRsZSB1c2luZyBzZWxlY3RzXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmNsaWNrKCk7XHJcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgwKS5jbGljaygpO1xyXG4gICAgICAgIGV4cGVjdChpbmNsdWRlRWxlbS5pc1ByZXNlbnQoKSkudG9CZShmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBldmVudFxyXG4gKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkXHJcbiAqIEBldmVudFR5cGUgZW1pdCBvbiB0aGUgc2NvcGUgbmdJbmNsdWRlIHdhcyBkZWNsYXJlZCBpblxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRW1pdHRlZCBldmVyeSB0aW1lIHRoZSBuZ0luY2x1ZGUgY29udGVudCBpcyByZXF1ZXN0ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cclxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBVUkwgb2YgY29udGVudCB0byBsb2FkLlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGV2ZW50XHJcbiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRMb2FkZWRcclxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBjdXJyZW50IG5nSW5jbHVkZSBzY29wZVxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRW1pdHRlZCBldmVyeSB0aW1lIHRoZSBuZ0luY2x1ZGUgY29udGVudCBpcyByZWxvYWRlZC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFVSTCBvZiBjb250ZW50IHRvIGxvYWQuXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZXZlbnRcclxuICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudEVycm9yXHJcbiAqIEBldmVudFR5cGUgZW1pdCBvbiB0aGUgc2NvcGUgbmdJbmNsdWRlIHdhcyBkZWNsYXJlZCBpblxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRW1pdHRlZCB3aGVuIGEgdGVtcGxhdGUgSFRUUCByZXF1ZXN0IHlpZWxkcyBhbiBlcnJvbmVvdXMgcmVzcG9uc2UgKHN0YXR1cyA8IDIwMCB8fCBzdGF0dXMgPiAyOTkpXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cclxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBVUkwgb2YgY29udGVudCB0byBsb2FkLlxyXG4gKi9cclxudmFyIG5nSW5jbHVkZURpcmVjdGl2ZSA9IFsnJHRlbXBsYXRlUmVxdWVzdCcsICckYW5jaG9yU2Nyb2xsJywgJyRhbmltYXRlJyxcclxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oJHRlbXBsYXRlUmVxdWVzdCwgICAkYW5jaG9yU2Nyb2xsLCAgICRhbmltYXRlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUNBJyxcclxuICAgIHByaW9yaXR5OiA0MDAsXHJcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcclxuICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcclxuICAgIGNvbnRyb2xsZXI6IGFuZ3VsYXIubm9vcCxcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgdmFyIHNyY0V4cCA9IGF0dHIubmdJbmNsdWRlIHx8IGF0dHIuc3JjLFxyXG4gICAgICAgICAgb25sb2FkRXhwID0gYXR0ci5vbmxvYWQgfHwgJycsXHJcbiAgICAgICAgICBhdXRvU2Nyb2xsRXhwID0gYXR0ci5hdXRvc2Nyb2xsO1xyXG5cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XHJcbiAgICAgICAgdmFyIGNoYW5nZUNvdW50ZXIgPSAwLFxyXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUsXHJcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCxcclxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHZhciBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcclxuICAgICAgICAgICAgY3VycmVudFNjb3BlLiRkZXN0cm95KCk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoY3VycmVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IGN1cnJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2NvcGUuJHdhdGNoKHNyY0V4cCwgZnVuY3Rpb24gbmdJbmNsdWRlV2F0Y2hBY3Rpb24oc3JjKSB7XHJcbiAgICAgICAgICB2YXIgYWZ0ZXJBbmltYXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChhdXRvU2Nyb2xsRXhwKSAmJiAoIWF1dG9TY3JvbGxFeHAgfHwgc2NvcGUuJGV2YWwoYXV0b1Njcm9sbEV4cCkpKSB7XHJcbiAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdmFyIHRoaXNDaGFuZ2VJZCA9ICsrY2hhbmdlQ291bnRlcjtcclxuXHJcbiAgICAgICAgICBpZiAoc3JjKSB7XHJcbiAgICAgICAgICAgIC8vc2V0IHRoZSAybmQgcGFyYW0gdG8gdHJ1ZSB0byBpZ25vcmUgdGhlIHRlbXBsYXRlIHJlcXVlc3QgZXJyb3Igc28gdGhhdCB0aGUgaW5uZXJcclxuICAgICAgICAgICAgLy9jb250ZW50cyBhbmQgc2NvcGUgY2FuIGJlIGNsZWFuZWQgdXAuXHJcbiAgICAgICAgICAgICR0ZW1wbGF0ZVJlcXVlc3Qoc3JjLCB0cnVlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgIT09IGNoYW5nZUNvdW50ZXIpIHJldHVybjtcclxuICAgICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBzY29wZS4kbmV3KCk7XHJcbiAgICAgICAgICAgICAgY3RybC50ZW1wbGF0ZSA9IHJlc3BvbnNlO1xyXG5cclxuICAgICAgICAgICAgICAvLyBOb3RlOiBUaGlzIHdpbGwgYWxzbyBsaW5rIGFsbCBjaGlsZHJlbiBvZiBuZy1pbmNsdWRlIHRoYXQgd2VyZSBjb250YWluZWQgaW4gdGhlIG9yaWdpbmFsXHJcbiAgICAgICAgICAgICAgLy8gaHRtbC4gSWYgdGhhdCBjb250ZW50IGNvbnRhaW5zIGNvbnRyb2xsZXJzLCAuLi4gdGhleSBjb3VsZCBwb2xsdXRlL2NoYW5nZSB0aGUgc2NvcGUuXHJcbiAgICAgICAgICAgICAgLy8gSG93ZXZlciwgdXNpbmcgbmctaW5jbHVkZSBvbiBhbiBlbGVtZW50IHdpdGggYWRkaXRpb25hbCBjb250ZW50IGRvZXMgbm90IG1ha2Ugc2Vuc2UuLi5cclxuICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBjYW4ndCByZW1vdmUgdGhlbSBpbiB0aGUgY2xvbmVBdHRjaEZuIG9mICR0cmFuc2NsdWRlIGFzIHRoYXRcclxuICAgICAgICAgICAgICAvLyBmdW5jdGlvbiBpcyBjYWxsZWQgYmVmb3JlIGxpbmtpbmcgdGhlIGNvbnRlbnQsIHdoaWNoIHdvdWxkIGFwcGx5IGNoaWxkXHJcbiAgICAgICAgICAgICAgLy8gZGlyZWN0aXZlcyB0byBub24gZXhpc3RpbmcgZWxlbWVudHMuXHJcbiAgICAgICAgICAgICAgdmFyIGNsb25lID0gJHRyYW5zY2x1ZGUobmV3U2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgbnVsbCwgJGVsZW1lbnQpLnRoZW4oYWZ0ZXJBbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBuZXdTY29wZTtcclxuICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGNsb25lO1xyXG5cclxuICAgICAgICAgICAgICBjdXJyZW50U2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudExvYWRlZCcsIHNyYyk7XHJcbiAgICAgICAgICAgICAgc2NvcGUuJGV2YWwob25sb2FkRXhwKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgPT09IGNoYW5nZUNvdW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRFcnJvcicsIHNyYyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCcsIHNyYyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XHJcbiAgICAgICAgICAgIGN0cmwudGVtcGxhdGUgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxuLy8gVGhpcyBkaXJlY3RpdmUgaXMgY2FsbGVkIGR1cmluZyB0aGUgJHRyYW5zY2x1ZGUgY2FsbCBvZiB0aGUgZmlyc3QgYG5nSW5jbHVkZWAgZGlyZWN0aXZlLlxyXG4vLyBJdCB3aWxsIHJlcGxhY2UgYW5kIGNvbXBpbGUgdGhlIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQgd2l0aCB0aGUgbG9hZGVkIHRlbXBsYXRlLlxyXG4vLyBXZSBuZWVkIHRoaXMgZGlyZWN0aXZlIHNvIHRoYXQgdGhlIGVsZW1lbnQgY29udGVudCBpcyBhbHJlYWR5IGZpbGxlZCB3aGVuXHJcbi8vIHRoZSBsaW5rIGZ1bmN0aW9uIG9mIGFub3RoZXIgZGlyZWN0aXZlIG9uIHRoZSBzYW1lIGVsZW1lbnQgYXMgbmdJbmNsdWRlXHJcbi8vIGlzIGNhbGxlZC5cclxudmFyIG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlID0gWyckY29tcGlsZScsXHJcbiAgZnVuY3Rpb24oJGNvbXBpbGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRUNBJyxcclxuICAgICAgcHJpb3JpdHk6IC00MDAsXHJcbiAgICAgIHJlcXVpcmU6ICduZ0luY2x1ZGUnLFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsKSB7XHJcbiAgICAgICAgaWYgKHRvU3RyaW5nLmNhbGwoJGVsZW1lbnRbMF0pLm1hdGNoKC9TVkcvKSkge1xyXG4gICAgICAgICAgLy8gV2ViS2l0OiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM1Njk4IC0tLSBTVkcgZWxlbWVudHMgZG8gbm90XHJcbiAgICAgICAgICAvLyBzdXBwb3J0IGlubmVySFRNTCwgc28gZGV0ZWN0IHRoaXMgaGVyZSBhbmQgdHJ5IHRvIGdlbmVyYXRlIHRoZSBjb250ZW50c1xyXG4gICAgICAgICAgLy8gc3BlY2lhbGx5LlxyXG4gICAgICAgICAgJGVsZW1lbnQuZW1wdHkoKTtcclxuICAgICAgICAgICRjb21waWxlKGpxTGl0ZUJ1aWxkRnJhZ21lbnQoY3RybC50ZW1wbGF0ZSwgd2luZG93LmRvY3VtZW50KS5jaGlsZE5vZGVzKShzY29wZSxcclxuICAgICAgICAgICAgICBmdW5jdGlvbiBuYW1lc3BhY2VBZGFwdGVkQ2xvbmUoY2xvbmUpIHtcclxuICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcclxuICAgICAgICAgIH0sIHtmdXR1cmVQYXJlbnRFbGVtZW50OiAkZWxlbWVudH0pO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGVsZW1lbnQuaHRtbChjdHJsLnRlbXBsYXRlKTtcclxuICAgICAgICAkY29tcGlsZSgkZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0luaXRcclxuICogQHJlc3RyaWN0IEFDXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nSW5pdGAgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gZXZhbHVhdGUgYW4gZXhwcmVzc2lvbiBpbiB0aGVcclxuICogY3VycmVudCBzY29wZS5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxyXG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgYWJ1c2VkIHRvIGFkZCB1bm5lY2Vzc2FyeSBhbW91bnRzIG9mIGxvZ2ljIGludG8geW91ciB0ZW1wbGF0ZXMuXHJcbiAqIFRoZXJlIGFyZSBvbmx5IGEgZmV3IGFwcHJvcHJpYXRlIHVzZXMgb2YgYG5nSW5pdGAsIHN1Y2ggYXMgZm9yIGFsaWFzaW5nIHNwZWNpYWwgcHJvcGVydGllcyBvZlxyXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IGBuZ1JlcGVhdGB9LCBhcyBzZWVuIGluIHRoZSBkZW1vIGJlbG93OyBhbmQgZm9yIGluamVjdGluZyBkYXRhIHZpYVxyXG4gKiBzZXJ2ZXIgc2lkZSBzY3JpcHRpbmcuIEJlc2lkZXMgdGhlc2UgZmV3IGNhc2VzLCB5b3Ugc2hvdWxkIHVzZSB7QGxpbmsgZ3VpZGUvY29udHJvbGxlciBjb250cm9sbGVyc31cclxuICogcmF0aGVyIHRoYW4gYG5nSW5pdGAgdG8gaW5pdGlhbGl6ZSB2YWx1ZXMgb24gYSBzY29wZS5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZSoqOiBJZiB5b3UgaGF2ZSBhc3NpZ25tZW50IGluIGBuZ0luaXRgIGFsb25nIHdpdGggYSB7QGxpbmsgbmcuJGZpbHRlciBgZmlsdGVyYH0sIG1ha2VcclxuICogc3VyZSB5b3UgaGF2ZSBwYXJlbnRoZXNlcyB0byBlbnN1cmUgY29ycmVjdCBvcGVyYXRvciBwcmVjZWRlbmNlOlxyXG4gKiA8cHJlIGNsYXNzPVwicHJldHR5cHJpbnRcIj5cclxuICogYDxkaXYgbmctaW5pdD1cInRlc3QxID0gKCRpbmRleCB8IHRvU3RyaW5nKVwiPjwvZGl2PmBcclxuICogPC9wcmU+XHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBAcHJpb3JpdHkgNDUwXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nSW5pdCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJpbml0RXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgIDxzY3JpcHQ+XHJcbiAgICAgYW5ndWxhci5tb2R1bGUoJ2luaXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAkc2NvcGUubGlzdCA9IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXTtcclxuICAgICAgIH1dKTtcclxuICAgPC9zY3JpcHQ+XHJcbiAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgPGRpdiBuZy1yZXBlYXQ9XCJpbm5lckxpc3QgaW4gbGlzdFwiIG5nLWluaXQ9XCJvdXRlckluZGV4ID0gJGluZGV4XCI+XHJcbiAgICAgICA8ZGl2IG5nLXJlcGVhdD1cInZhbHVlIGluIGlubmVyTGlzdFwiIG5nLWluaXQ9XCJpbm5lckluZGV4ID0gJGluZGV4XCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImV4YW1wbGUtaW5pdFwiPmxpc3RbIHt7b3V0ZXJJbmRleH19IF1bIHt7aW5uZXJJbmRleH19IF0gPSB7e3ZhbHVlfX07PC9zcGFuPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9kaXY+XHJcbiAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGFsaWFzIGluZGV4IHBvc2l0aW9ucycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50LmFsbChieS5jc3MoJy5leGFtcGxlLWluaXQnKSk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMCkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAwIF1bIDAgXSA9IGE7Jyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAwIF1bIDEgXSA9IGI7Jyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMikuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAxIF1bIDAgXSA9IGM7Jyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMykuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAxIF1bIDEgXSA9IGQ7Jyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ0luaXREaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XHJcbiAgcHJpb3JpdHk6IDQ1MCxcclxuICBjb21waWxlOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHByZTogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMubmdJbml0KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdMaXN0XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUZXh0IGlucHV0IHRoYXQgY29udmVydHMgYmV0d2VlbiBhIGRlbGltaXRlZCBzdHJpbmcgYW5kIGFuIGFycmF5IG9mIHN0cmluZ3MuIFRoZSBkZWZhdWx0XHJcbiAqIGRlbGltaXRlciBpcyBhIGNvbW1hIGZvbGxvd2VkIGJ5IGEgc3BhY2UgLSBlcXVpdmFsZW50IHRvIGBuZy1saXN0PVwiLCBcImAuIFlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbVxyXG4gKiBkZWxpbWl0ZXIgYXMgdGhlIHZhbHVlIG9mIHRoZSBgbmdMaXN0YCBhdHRyaWJ1dGUgLSBmb3IgZXhhbXBsZSwgYG5nLWxpc3Q9XCIgfCBcImAuXHJcbiAqXHJcbiAqIFRoZSBiZWhhdmlvdXIgb2YgdGhlIGRpcmVjdGl2ZSBpcyBhZmZlY3RlZCBieSB0aGUgdXNlIG9mIHRoZSBgbmdUcmltYCBhdHRyaWJ1dGUuXHJcbiAqICogSWYgYG5nVHJpbWAgaXMgc2V0IHRvIGBcImZhbHNlXCJgIHRoZW4gd2hpdGVzcGFjZSBhcm91bmQgYm90aCB0aGUgc2VwYXJhdG9yIGFuZCBlYWNoXHJcbiAqICAgbGlzdCBpdGVtIGlzIHJlc3BlY3RlZC4gVGhpcyBpbXBsaWVzIHRoYXQgdGhlIHVzZXIgb2YgdGhlIGRpcmVjdGl2ZSBpcyByZXNwb25zaWJsZSBmb3JcclxuICogICBkZWFsaW5nIHdpdGggd2hpdGVzcGFjZSBidXQgYWxzbyBhbGxvd3MgeW91IHRvIHVzZSB3aGl0ZXNwYWNlIGFzIGEgZGVsaW1pdGVyLCBzdWNoIGFzIGFcclxuICogICB0YWIgb3IgbmV3bGluZSBjaGFyYWN0ZXIuXHJcbiAqICogT3RoZXJ3aXNlIHdoaXRlc3BhY2UgYXJvdW5kIHRoZSBkZWxpbWl0ZXIgaXMgaWdub3JlZCB3aGVuIHNwbGl0dGluZyAoYWx0aG91Z2ggaXQgaXMgcmVzcGVjdGVkXHJcbiAqICAgd2hlbiBqb2luaW5nIHRoZSBsaXN0IGl0ZW1zIGJhY2sgdG9nZXRoZXIpIGFuZCB3aGl0ZXNwYWNlIGFyb3VuZCBlYWNoIGxpc3QgaXRlbSBpcyBzdHJpcHBlZFxyXG4gKiAgIGJlZm9yZSBpdCBpcyBhZGRlZCB0byB0aGUgbW9kZWwuXHJcbiAqXHJcbiAqICMjIyBFeGFtcGxlIHdpdGggVmFsaWRhdGlvblxyXG4gKlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdMaXN0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImxpc3RFeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gKiAgICAgIGFuZ3VsYXIubW9kdWxlKCdsaXN0RXhhbXBsZScsIFtdKVxyXG4gKiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydtb3JwaGV1cycsICduZW8nLCAndHJpbml0eSddO1xyXG4gKiAgICAgICAgfV0pO1xyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgICAgPGxhYmVsPkxpc3Q6IDxpbnB1dCBuYW1lPVwibmFtZXNJbnB1dFwiIG5nLW1vZGVsPVwibmFtZXNcIiBuZy1saXN0IHJlcXVpcmVkPjwvbGFiZWw+XHJcbiAqICAgICAgPHNwYW4gcm9sZT1cImFsZXJ0XCI+XHJcbiAqICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5uYW1lc0lucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gKiAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gKiAgICAgIDwvc3Bhbj5cclxuICogICAgICA8YnI+XHJcbiAqICAgICAgPHR0Pm5hbWVzID0ge3tuYW1lc319PC90dD48YnIvPlxyXG4gKiAgICAgIDx0dD5teUZvcm0ubmFtZXNJbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5uYW1lc0lucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gKiAgICAgIDx0dD5teUZvcm0ubmFtZXNJbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5uYW1lc0lucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gKiAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAqICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gKiAgICAgPC9mb3JtPlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAqICAgICB2YXIgbGlzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZXMnKSk7XHJcbiAqICAgICB2YXIgbmFtZXMgPSBlbGVtZW50KGJ5LmV4YWN0QmluZGluZygnbmFtZXMnKSk7XHJcbiAqICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5uYW1lc0lucHV0LiR2YWxpZCcpKTtcclxuICogICAgIHZhciBlcnJvciA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmVycm9yJykpO1xyXG4gKlxyXG4gKiAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGV4cGVjdChuYW1lcy5nZXRUZXh0KCkpLnRvQ29udGFpbignW1wibW9ycGhldXNcIixcIm5lb1wiLFwidHJpbml0eVwiXScpO1xyXG4gKiAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICogICAgICAgZXhwZWN0KGVycm9yLmdldENzc1ZhbHVlKCdkaXNwbGF5JykpLnRvQmUoJ25vbmUnKTtcclxuICogICAgIH0pO1xyXG4gKlxyXG4gKiAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGxpc3RJbnB1dC5jbGVhcigpO1xyXG4gKiAgICAgICBsaXN0SW5wdXQuc2VuZEtleXMoJycpO1xyXG4gKlxyXG4gKiAgICAgICBleHBlY3QobmFtZXMuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xyXG4gKiAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAqICAgICAgIGV4cGVjdChlcnJvci5nZXRDc3NWYWx1ZSgnZGlzcGxheScpKS5ub3QudG9CZSgnbm9uZScpO1xyXG4gKiAgICAgfSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqICMjIyBFeGFtcGxlIC0gc3BsaXR0aW5nIG9uIG5ld2xpbmVcclxuICogPGV4YW1wbGUgbmFtZT1cIm5nTGlzdC1kaXJlY3RpdmUtbmV3bGluZXNcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJsaXN0XCIgbmctbGlzdD1cIiYjMTA7XCIgbmctdHJpbT1cImZhbHNlXCI+PC90ZXh0YXJlYT5cclxuICogICAgPHByZT57eyBsaXN0IHwganNvbiB9fTwvcHJlPlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAqICAgICBpdChcInNob3VsZCBzcGxpdCB0aGUgdGV4dCBieSBuZXdsaW5lc1wiLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgdmFyIGxpc3RJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2xpc3QnKSk7XHJcbiAqICAgICAgIHZhciBvdXRwdXQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QgfCBqc29uJykpO1xyXG4gKiAgICAgICBsaXN0SW5wdXQuc2VuZEtleXMoJ2FiY1xcbmRlZlxcbmdoaScpO1xyXG4gKiAgICAgICBleHBlY3Qob3V0cHV0LmdldFRleHQoKSkudG9Db250YWluKCdbXFxuICBcImFiY1wiLFxcbiAgXCJkZWZcIixcXG4gIFwiZ2hpXCJcXG5dJyk7XHJcbiAqICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogQGVsZW1lbnQgaW5wdXRcclxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0xpc3Qgb3B0aW9uYWwgZGVsaW1pdGVyIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gc3BsaXQgdGhlIHZhbHVlLlxyXG4gKi9cclxudmFyIG5nTGlzdERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgcHJpb3JpdHk6IDEwMCxcclxuICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XHJcbiAgICAgIC8vIFdlIHdhbnQgdG8gY29udHJvbCB3aGl0ZXNwYWNlIHRyaW1taW5nIHNvIHdlIHVzZSB0aGlzIGNvbnZvbHV0ZWQgYXBwcm9hY2hcclxuICAgICAgLy8gdG8gYWNjZXNzIHRoZSBuZ0xpc3QgYXR0cmlidXRlLCB3aGljaCBkb2Vzbid0IHByZS10cmltIHRoZSBhdHRyaWJ1dGVcclxuICAgICAgdmFyIG5nTGlzdCA9IGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nTGlzdCkgfHwgJywgJztcclxuICAgICAgdmFyIHRyaW1WYWx1ZXMgPSBhdHRyLm5nVHJpbSAhPT0gJ2ZhbHNlJztcclxuICAgICAgdmFyIHNlcGFyYXRvciA9IHRyaW1WYWx1ZXMgPyB0cmltKG5nTGlzdCkgOiBuZ0xpc3Q7XHJcblxyXG4gICAgICB2YXIgcGFyc2UgPSBmdW5jdGlvbih2aWV3VmFsdWUpIHtcclxuICAgICAgICAvLyBJZiB0aGUgdmlld1ZhbHVlIGlzIGludmFsaWQgKHNheSByZXF1aXJlZCBidXQgZW1wdHkpIGl0IHdpbGwgYmUgYHVuZGVmaW5lZGBcclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQodmlld1ZhbHVlKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgbGlzdCA9IFtdO1xyXG5cclxuICAgICAgICBpZiAodmlld1ZhbHVlKSB7XHJcbiAgICAgICAgICBmb3JFYWNoKHZpZXdWYWx1ZS5zcGxpdChzZXBhcmF0b3IpLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIGxpc3QucHVzaCh0cmltVmFsdWVzID8gdHJpbSh2YWx1ZSkgOiB2YWx1ZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3RybC4kcGFyc2Vycy5wdXNoKHBhcnNlKTtcclxuICAgICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gdmFsdWUuam9pbihuZ0xpc3QpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBPdmVycmlkZSB0aGUgc3RhbmRhcmQgJGlzRW1wdHkgYmVjYXVzZSBhbiBlbXB0eSBhcnJheSBtZWFucyB0aGUgaW5wdXQgaXMgZW1wdHkuXHJcbiAgICAgIGN0cmwuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAhdmFsdWUgfHwgIXZhbHVlLmxlbmd0aDtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5cclxuLyogZ2xvYmFsIFZBTElEX0NMQVNTOiB0cnVlLFxyXG4gIElOVkFMSURfQ0xBU1M6IHRydWUsXHJcbiAgUFJJU1RJTkVfQ0xBU1M6IHRydWUsXHJcbiAgRElSVFlfQ0xBU1M6IHRydWUsXHJcbiAgVU5UT1VDSEVEX0NMQVNTOiB0cnVlLFxyXG4gIFRPVUNIRURfQ0xBU1M6IHRydWUsXHJcbiovXHJcblxyXG52YXIgVkFMSURfQ0xBU1MgPSAnbmctdmFsaWQnLFxyXG4gICAgSU5WQUxJRF9DTEFTUyA9ICduZy1pbnZhbGlkJyxcclxuICAgIFBSSVNUSU5FX0NMQVNTID0gJ25nLXByaXN0aW5lJyxcclxuICAgIERJUlRZX0NMQVNTID0gJ25nLWRpcnR5JyxcclxuICAgIFVOVE9VQ0hFRF9DTEFTUyA9ICduZy11bnRvdWNoZWQnLFxyXG4gICAgVE9VQ0hFRF9DTEFTUyA9ICduZy10b3VjaGVkJyxcclxuICAgIFBFTkRJTkdfQ0xBU1MgPSAnbmctcGVuZGluZycsXHJcbiAgICBFTVBUWV9DTEFTUyA9ICduZy1lbXB0eScsXHJcbiAgICBOT1RfRU1QVFlfQ0xBU1MgPSAnbmctbm90LWVtcHR5JztcclxuXHJcbnZhciBuZ01vZGVsTWluRXJyID0gbWluRXJyKCduZ01vZGVsJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIHR5cGVcclxuICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlclxyXG4gKlxyXG4gKiBAcHJvcGVydHkgeyp9ICR2aWV3VmFsdWUgVGhlIGFjdHVhbCB2YWx1ZSBmcm9tIHRoZSBjb250cm9sJ3Mgdmlldy4gRm9yIGBpbnB1dGAgZWxlbWVudHMsIHRoaXMgaXMgYVxyXG4gKiBTdHJpbmcuIFNlZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0Vmlld1ZhbHVlfSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgd2hlbiB0aGUgJHZpZXdWYWx1ZVxyXG4gKiBpcyBzZXQuXHJcbiAqIEBwcm9wZXJ0eSB7Kn0gJG1vZGVsVmFsdWUgVGhlIHZhbHVlIGluIHRoZSBtb2RlbCB0aGF0IHRoZSBjb250cm9sIGlzIGJvdW5kIHRvLlxyXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICRwYXJzZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlLCBhcyBhIHBpcGVsaW5lLCB3aGVuZXZlclxyXG4gICAgICAgdGhlIGNvbnRyb2wgcmVhZHMgdmFsdWUgZnJvbSB0aGUgRE9NLiBUaGUgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW4gYXJyYXkgb3JkZXIsIGVhY2ggcGFzc2luZ1xyXG4gICAgICAgaXRzIHJldHVybiB2YWx1ZSB0aHJvdWdoIHRvIHRoZSBuZXh0LiBUaGUgbGFzdCByZXR1cm4gdmFsdWUgaXMgZm9yd2FyZGVkIHRvIHRoZVxyXG4gICAgICAge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYCR2YWxpZGF0b3JzYH0gY29sbGVjdGlvbi5cclxuXHJcblBhcnNlcnMgYXJlIHVzZWQgdG8gc2FuaXRpemUgLyBjb252ZXJ0IHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlXHJcbmAkdmlld1ZhbHVlYH0uXHJcblxyXG5SZXR1cm5pbmcgYHVuZGVmaW5lZGAgZnJvbSBhIHBhcnNlciBtZWFucyBhIHBhcnNlIGVycm9yIG9jY3VycmVkLiBJbiB0aGF0IGNhc2UsXHJcbm5vIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGAkdmFsaWRhdG9yc2B9IHdpbGwgcnVuIGFuZCB0aGUgYG5nTW9kZWxgXHJcbndpbGwgYmUgc2V0IHRvIGB1bmRlZmluZWRgIHVubGVzcyB7QGxpbmsgbmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zLmFsbG93SW52YWxpZGB9XHJcbmlzIHNldCB0byBgdHJ1ZWAuIFRoZSBwYXJzZSBlcnJvciBpcyBzdG9yZWQgaW4gYG5nTW9kZWwuJGVycm9yLnBhcnNlYC5cclxuXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJGZvcm1hdHRlcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUsIGFzIGEgcGlwZWxpbmUsIHdoZW5ldmVyXHJcbiAgICAgICB0aGUgbW9kZWwgdmFsdWUgY2hhbmdlcy4gVGhlIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluIHJldmVyc2UgYXJyYXkgb3JkZXIsIGVhY2ggcGFzc2luZyB0aGUgdmFsdWUgdGhyb3VnaCB0byB0aGVcclxuICAgICAgIG5leHQuIFRoZSBsYXN0IHJldHVybiB2YWx1ZSBpcyB1c2VkIGFzIHRoZSBhY3R1YWwgRE9NIHZhbHVlLlxyXG4gICAgICAgVXNlZCB0byBmb3JtYXQgLyBjb252ZXJ0IHZhbHVlcyBmb3IgZGlzcGxheSBpbiB0aGUgY29udHJvbC5cclxuICogYGBganNcclxuICogZnVuY3Rpb24gZm9ybWF0dGVyKHZhbHVlKSB7XHJcbiAqICAgaWYgKHZhbHVlKSB7XHJcbiAqICAgICByZXR1cm4gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICogICB9XHJcbiAqIH1cclxuICogbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICR2YWxpZGF0b3JzIEEgY29sbGVjdGlvbiBvZiB2YWxpZGF0b3JzIHRoYXQgYXJlIGFwcGxpZWRcclxuICogICAgICB3aGVuZXZlciB0aGUgbW9kZWwgdmFsdWUgY2hhbmdlcy4gVGhlIGtleSB2YWx1ZSB3aXRoaW4gdGhlIG9iamVjdCByZWZlcnMgdG8gdGhlIG5hbWUgb2YgdGhlXHJcbiAqICAgICAgdmFsaWRhdG9yIHdoaWxlIHRoZSBmdW5jdGlvbiByZWZlcnMgdG8gdGhlIHZhbGlkYXRpb24gb3BlcmF0aW9uLiBUaGUgdmFsaWRhdGlvbiBvcGVyYXRpb24gaXNcclxuICogICAgICBwcm92aWRlZCB3aXRoIHRoZSBtb2RlbCB2YWx1ZSBhcyBhbiBhcmd1bWVudCBhbmQgbXVzdCByZXR1cm4gYSB0cnVlIG9yIGZhbHNlIHZhbHVlIGRlcGVuZGluZ1xyXG4gKiAgICAgIG9uIHRoZSByZXNwb25zZSBvZiB0aGF0IHZhbGlkYXRpb24uXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIG5nTW9kZWwuJHZhbGlkYXRvcnMudmFsaWRDaGFyYWN0ZXJzID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAqICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XHJcbiAqICAgcmV0dXJuIC9bMC05XSsvLnRlc3QodmFsdWUpICYmXHJcbiAqICAgICAgICAgIC9bYS16XSsvLnRlc3QodmFsdWUpICYmXHJcbiAqICAgICAgICAgIC9bQS1aXSsvLnRlc3QodmFsdWUpICYmXHJcbiAqICAgICAgICAgIC9cXFcrLy50ZXN0KHZhbHVlKTtcclxuICogfTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gJGFzeW5jVmFsaWRhdG9ycyBBIGNvbGxlY3Rpb24gb2YgdmFsaWRhdGlvbnMgdGhhdCBhcmUgZXhwZWN0ZWQgdG9cclxuICogICAgICBwZXJmb3JtIGFuIGFzeW5jaHJvbm91cyB2YWxpZGF0aW9uIChlLmcuIGEgSFRUUCByZXF1ZXN0KS4gVGhlIHZhbGlkYXRpb24gZnVuY3Rpb24gdGhhdCBpcyBwcm92aWRlZFxyXG4gKiAgICAgIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHByb21pc2Ugd2hlbiBpdCBpcyBydW4gZHVyaW5nIHRoZSBtb2RlbCB2YWxpZGF0aW9uIHByb2Nlc3MuIE9uY2UgdGhlIHByb21pc2VcclxuICogICAgICBpcyBkZWxpdmVyZWQgdGhlbiB0aGUgdmFsaWRhdGlvbiBzdGF0dXMgd2lsbCBiZSBzZXQgdG8gdHJ1ZSB3aGVuIGZ1bGZpbGxlZCBhbmQgZmFsc2Ugd2hlbiByZWplY3RlZC5cclxuICogICAgICBXaGVuIHRoZSBhc3luY2hyb25vdXMgdmFsaWRhdG9ycyBhcmUgdHJpZ2dlcmVkLCBlYWNoIG9mIHRoZSB2YWxpZGF0b3JzIHdpbGwgcnVuIGluIHBhcmFsbGVsIGFuZCB0aGUgbW9kZWxcclxuICogICAgICB2YWx1ZSB3aWxsIG9ubHkgYmUgdXBkYXRlZCBvbmNlIGFsbCB2YWxpZGF0b3JzIGhhdmUgYmVlbiBmdWxmaWxsZWQuIEFzIGxvbmcgYXMgYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRvclxyXG4gKiAgICAgIGlzIHVuZnVsZmlsbGVkLCBpdHMga2V5IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGNvbnRyb2xsZXJzIGAkcGVuZGluZ2AgcHJvcGVydHkuIEFsc28sIGFsbCBhc3luY2hyb25vdXMgdmFsaWRhdG9yc1xyXG4gKiAgICAgIHdpbGwgb25seSBydW4gb25jZSBhbGwgc3luY2hyb25vdXMgdmFsaWRhdG9ycyBoYXZlIHBhc3NlZC5cclxuICpcclxuICogUGxlYXNlIG5vdGUgdGhhdCBpZiAkaHR0cCBpcyB1c2VkIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRoYXQgdGhlIHNlcnZlciByZXR1cm5zIGEgc3VjY2VzcyBIVFRQIHJlc3BvbnNlIGNvZGVcclxuICogaW4gb3JkZXIgdG8gZnVsZmlsbCB0aGUgdmFsaWRhdGlvbiBhbmQgYSBzdGF0dXMgbGV2ZWwgb2YgYDR4eGAgaW4gb3JkZXIgdG8gcmVqZWN0IHRoZSB2YWxpZGF0aW9uLlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnMudW5pcXVlVXNlcm5hbWUgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcclxuICpcclxuICogICAvLyBMb29rdXAgdXNlciBieSB1c2VybmFtZVxyXG4gKiAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvJyArIHZhbHVlKS5cclxuICogICAgICB0aGVuKGZ1bmN0aW9uIHJlc29sdmVkKCkge1xyXG4gKiAgICAgICAgLy91c2VybmFtZSBleGlzdHMsIHRoaXMgbWVhbnMgdmFsaWRhdGlvbiBmYWlsc1xyXG4gKiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgnZXhpc3RzJyk7XHJcbiAqICAgICAgfSwgZnVuY3Rpb24gcmVqZWN0ZWQoKSB7XHJcbiAqICAgICAgICAvL3VzZXJuYW1lIGRvZXMgbm90IGV4aXN0LCB0aGVyZWZvcmUgdGhpcyB2YWxpZGF0aW9uIHBhc3Nlc1xyXG4gKiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAqICAgICAgfSk7XHJcbiAqIH07XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICR2aWV3Q2hhbmdlTGlzdGVuZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlIHdoZW5ldmVyIHRoZVxyXG4gKiAgICAgdmlldyB2YWx1ZSBoYXMgY2hhbmdlZC4gSXQgaXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzLCBhbmQgaXRzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxyXG4gKiAgICAgVGhpcyBjYW4gYmUgdXNlZCBpbiBwbGFjZSBvZiBhZGRpdGlvbmFsICR3YXRjaGVzIGFnYWluc3QgdGhlIG1vZGVsIHZhbHVlLlxyXG4gKlxyXG4gKiBAcHJvcGVydHkge09iamVjdH0gJGVycm9yIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIGZhaWxpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxyXG4gKiBAcHJvcGVydHkge09iamVjdH0gJHBlbmRpbmcgQW4gb2JqZWN0IGhhc2ggd2l0aCBhbGwgcGVuZGluZyB2YWxpZGF0b3IgaWRzIGFzIGtleXMuXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHVudG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIG5vdCBsb3N0IGZvY3VzIHlldC5cclxuICogQHByb3BlcnR5IHtib29sZWFufSAkdG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIGxvc3QgZm9jdXMuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHByaXN0aW5lIFRydWUgaWYgdXNlciBoYXMgbm90IGludGVyYWN0ZWQgd2l0aCB0aGUgY29udHJvbCB5ZXQuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGNvbnRyb2wuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHZhbGlkIFRydWUgaWYgdGhlcmUgaXMgbm8gZXJyb3IuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGludmFsaWQgVHJ1ZSBpZiBhdCBsZWFzdCBvbmUgZXJyb3Igb24gdGhlIGNvbnRyb2wuXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAkbmFtZSBUaGUgbmFtZSBhdHRyaWJ1dGUgb2YgdGhlIGNvbnRyb2wuXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBgTmdNb2RlbENvbnRyb2xsZXJgIHByb3ZpZGVzIEFQSSBmb3IgdGhlIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0gZGlyZWN0aXZlLlxyXG4gKiBUaGUgY29udHJvbGxlciBjb250YWlucyBzZXJ2aWNlcyBmb3IgZGF0YS1iaW5kaW5nLCB2YWxpZGF0aW9uLCBDU1MgdXBkYXRlcywgYW5kIHZhbHVlIGZvcm1hdHRpbmdcclxuICogYW5kIHBhcnNpbmcuIEl0IHB1cnBvc2VmdWxseSBkb2VzIG5vdCBjb250YWluIGFueSBsb2dpYyB3aGljaCBkZWFscyB3aXRoIERPTSByZW5kZXJpbmcgb3JcclxuICogbGlzdGVuaW5nIHRvIERPTSBldmVudHMuXHJcbiAqIFN1Y2ggRE9NIHJlbGF0ZWQgbG9naWMgc2hvdWxkIGJlIHByb3ZpZGVkIGJ5IG90aGVyIGRpcmVjdGl2ZXMgd2hpY2ggbWFrZSB1c2Ugb2ZcclxuICogYE5nTW9kZWxDb250cm9sbGVyYCBmb3IgZGF0YS1iaW5kaW5nIHRvIGNvbnRyb2wgZWxlbWVudHMuXHJcbiAqIEFuZ3VsYXIgcHJvdmlkZXMgdGhpcyBET00gbG9naWMgZm9yIG1vc3Qge0BsaW5rIGlucHV0IGBpbnB1dGB9IGVsZW1lbnRzLlxyXG4gKiBBdCB0aGUgZW5kIG9mIHRoaXMgcGFnZSB5b3UgY2FuIGZpbmQgYSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciNjdXN0b20tY29udHJvbC1leGFtcGxlXHJcbiAqIGN1c3RvbSBjb250cm9sIGV4YW1wbGV9IHRoYXQgdXNlcyBgbmdNb2RlbENvbnRyb2xsZXJgIHRvIGJpbmQgdG8gYGNvbnRlbnRlZGl0YWJsZWAgZWxlbWVudHMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqICMjIyBDdXN0b20gQ29udHJvbCBFeGFtcGxlXHJcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGBOZ01vZGVsQ29udHJvbGxlcmAgd2l0aCBhIGN1c3RvbSBjb250cm9sIHRvIGFjaGlldmVcclxuICogZGF0YS1iaW5kaW5nLiBOb3RpY2UgaG93IGRpZmZlcmVudCBkaXJlY3RpdmVzIChgY29udGVudGVkaXRhYmxlYCwgYG5nLW1vZGVsYCwgYW5kIGByZXF1aXJlZGApXHJcbiAqIGNvbGxhYm9yYXRlIHRvZ2V0aGVyIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgcmVzdWx0LlxyXG4gKlxyXG4gKiBgY29udGVudGVkaXRhYmxlYCBpcyBhbiBIVE1MNSBhdHRyaWJ1dGUsIHdoaWNoIHRlbGxzIHRoZSBicm93c2VyIHRvIGxldCB0aGUgZWxlbWVudFxyXG4gKiBjb250ZW50cyBiZSBlZGl0ZWQgaW4gcGxhY2UgYnkgdGhlIHVzZXIuXHJcbiAqXHJcbiAqIFdlIGFyZSB1c2luZyB0aGUge0BsaW5rIG5nLnNlcnZpY2U6JHNjZSAkc2NlfSBzZXJ2aWNlIGhlcmUgYW5kIGluY2x1ZGUgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX1cclxuICogbW9kdWxlIHRvIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIFwiYmFkXCIgY29udGVudCBsaWtlIGlubGluZSBldmVudCBsaXN0ZW5lciAoZS5nLiBgPHNwYW4gb25jbGljaz1cIi4uLlwiPmApLlxyXG4gKiBIb3dldmVyLCBhcyB3ZSBhcmUgdXNpbmcgYCRzY2VgIHRoZSBtb2RlbCBjYW4gc3RpbGwgZGVjaWRlIHRvIHByb3ZpZGUgdW5zYWZlIGNvbnRlbnQgaWYgaXQgbWFya3NcclxuICogdGhhdCBjb250ZW50IHVzaW5nIHRoZSBgJHNjZWAgc2VydmljZS5cclxuICpcclxuICogPGV4YW1wbGUgbmFtZT1cIk5nTW9kZWxDb250cm9sbGVyXCIgbW9kdWxlPVwiY3VzdG9tQ29udHJvbFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgIFtjb250ZW50ZWRpdGFibGVdIHtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgICAgICBtaW4taGVpZ2h0OiAyMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubmctaW52YWxpZCB7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xyXG4gICAgICB9XHJcblxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnY3VzdG9tQ29udHJvbCcsIFsnbmdTYW5pdGl6ZSddKS5cclxuICAgICAgICBkaXJlY3RpdmUoJ2NvbnRlbnRlZGl0YWJsZScsIFsnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsIC8vIG9ubHkgYWN0aXZhdGUgb24gZWxlbWVudCBhdHRyaWJ1dGVcclxuICAgICAgICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJywgLy8gZ2V0IGEgaG9sZCBvZiBOZ01vZGVsQ29udHJvbGxlclxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcclxuICAgICAgICAgICAgICBpZiAoIW5nTW9kZWwpIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxyXG5cclxuICAgICAgICAgICAgICAvLyBTcGVjaWZ5IGhvdyBVSSBzaG91bGQgYmUgdXBkYXRlZFxyXG4gICAgICAgICAgICAgIG5nTW9kZWwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKCRzY2UuZ2V0VHJ1c3RlZEh0bWwobmdNb2RlbC4kdmlld1ZhbHVlIHx8ICcnKSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBjaGFuZ2UgZXZlbnRzIHRvIGVuYWJsZSBiaW5kaW5nXHJcbiAgICAgICAgICAgICAgZWxlbWVudC5vbignYmx1ciBrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMocmVhZCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgcmVhZCgpOyAvLyBpbml0aWFsaXplXHJcblxyXG4gICAgICAgICAgICAgIC8vIFdyaXRlIGRhdGEgdG8gdGhlIG1vZGVsXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24gcmVhZCgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBodG1sID0gZWxlbWVudC5odG1sKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHdlIGNsZWFyIHRoZSBjb250ZW50IGVkaXRhYmxlIHRoZSBicm93c2VyIGxlYXZlcyBhIDxicj4gYmVoaW5kXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBzdHJpcC1iciBhdHRyaWJ1dGUgaXMgcHJvdmlkZWQgdGhlbiB3ZSBzdHJpcCB0aGlzIG91dFxyXG4gICAgICAgICAgICAgICAgaWYgKCBhdHRycy5zdHJpcEJyICYmIGh0bWwgPT0gJzxicj4nICkge1xyXG4gICAgICAgICAgICAgICAgICBodG1sID0gJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoaHRtbCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cclxuICAgICAgIDxkaXYgY29udGVudGVkaXRhYmxlXHJcbiAgICAgICAgICAgIG5hbWU9XCJteVdpZGdldFwiIG5nLW1vZGVsPVwidXNlckNvbnRlbnRcIlxyXG4gICAgICAgICAgICBzdHJpcC1icj1cInRydWVcIlxyXG4gICAgICAgICAgICByZXF1aXJlZD5DaGFuZ2UgbWUhPC9kaXY+XHJcbiAgICAgICAgPHNwYW4gbmctc2hvdz1cIm15Rm9ybS5teVdpZGdldC4kZXJyb3IucmVxdWlyZWRcIj5SZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICA8aHI+XHJcbiAgICAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJ1c2VyQ29udGVudFwiIGFyaWEtbGFiZWw9XCJEeW5hbWljIHRleHRhcmVhXCI+PC90ZXh0YXJlYT5cclxuICAgICAgPC9mb3JtPlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgaXQoJ3Nob3VsZCBkYXRhLWJpbmQgYW5kIGJlY29tZSBpbnZhbGlkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdzYWZhcmknIHx8IGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ2ZpcmVmb3gnKSB7XHJcbiAgICAgICAgLy8gU2FmYXJpRHJpdmVyIGNhbid0IGhhbmRsZSBjb250ZW50ZWRpdGFibGVcclxuICAgICAgICAvLyBhbmQgRmlyZWZveCBkcml2ZXIgY2FuJ3QgY2xlYXIgY29udGVudGVkaXRhYmxlcyB2ZXJ5IHdlbGxcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGNvbnRlbnRFZGl0YWJsZSA9IGVsZW1lbnQoYnkuY3NzKCdbY29udGVudGVkaXRhYmxlXScpKTtcclxuICAgICAgdmFyIGNvbnRlbnQgPSAnQ2hhbmdlIG1lISc7XHJcblxyXG4gICAgICBleHBlY3QoY29udGVudEVkaXRhYmxlLmdldFRleHQoKSkudG9FcXVhbChjb250ZW50KTtcclxuXHJcbiAgICAgIGNvbnRlbnRFZGl0YWJsZS5jbGVhcigpO1xyXG4gICAgICBjb250ZW50RWRpdGFibGUuc2VuZEtleXMocHJvdHJhY3Rvci5LZXkuQkFDS19TUEFDRSk7XHJcbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKCcnKTtcclxuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL25nLWludmFsaWQtcmVxdWlyZWQvKTtcclxuICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqXHJcbiAqL1xyXG52YXIgTmdNb2RlbENvbnRyb2xsZXIgPSBbJyRzY29wZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckYXR0cnMnLCAnJGVsZW1lbnQnLCAnJHBhcnNlJywgJyRhbmltYXRlJywgJyR0aW1lb3V0JywgJyRyb290U2NvcGUnLCAnJHEnLCAnJGludGVycG9sYXRlJyxcclxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJGV4Y2VwdGlvbkhhbmRsZXIsICRhdHRyLCAkZWxlbWVudCwgJHBhcnNlLCAkYW5pbWF0ZSwgJHRpbWVvdXQsICRyb290U2NvcGUsICRxLCAkaW50ZXJwb2xhdGUpIHtcclxuICB0aGlzLiR2aWV3VmFsdWUgPSBOdW1iZXIuTmFOO1xyXG4gIHRoaXMuJG1vZGVsVmFsdWUgPSBOdW1iZXIuTmFOO1xyXG4gIHRoaXMuJCRyYXdNb2RlbFZhbHVlID0gdW5kZWZpbmVkOyAvLyBzdG9yZXMgdGhlIHBhcnNlZCBtb2RlbFZhbHVlIC8gbW9kZWwgc2V0IGZyb20gc2NvcGUgcmVnYXJkbGVzcyBvZiB2YWxpZGl0eS5cclxuICB0aGlzLiR2YWxpZGF0b3JzID0ge307XHJcbiAgdGhpcy4kYXN5bmNWYWxpZGF0b3JzID0ge307XHJcbiAgdGhpcy4kcGFyc2VycyA9IFtdO1xyXG4gIHRoaXMuJGZvcm1hdHRlcnMgPSBbXTtcclxuICB0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzID0gW107XHJcbiAgdGhpcy4kdW50b3VjaGVkID0gdHJ1ZTtcclxuICB0aGlzLiR0b3VjaGVkID0gZmFsc2U7XHJcbiAgdGhpcy4kcHJpc3RpbmUgPSB0cnVlO1xyXG4gIHRoaXMuJGRpcnR5ID0gZmFsc2U7XHJcbiAgdGhpcy4kdmFsaWQgPSB0cnVlO1xyXG4gIHRoaXMuJGludmFsaWQgPSBmYWxzZTtcclxuICB0aGlzLiRlcnJvciA9IHt9OyAvLyBrZWVwIGludmFsaWQga2V5cyBoZXJlXHJcbiAgdGhpcy4kJHN1Y2Nlc3MgPSB7fTsgLy8ga2VlcCB2YWxpZCBrZXlzIGhlcmVcclxuICB0aGlzLiRwZW5kaW5nID0gdW5kZWZpbmVkOyAvLyBrZWVwIHBlbmRpbmcga2V5cyBoZXJlXHJcbiAgdGhpcy4kbmFtZSA9ICRpbnRlcnBvbGF0ZSgkYXR0ci5uYW1lIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcclxuICB0aGlzLiQkcGFyZW50Rm9ybSA9IG51bGxGb3JtQ3RybDtcclxuXHJcbiAgdmFyIHBhcnNlZE5nTW9kZWwgPSAkcGFyc2UoJGF0dHIubmdNb2RlbCksXHJcbiAgICAgIHBhcnNlZE5nTW9kZWxBc3NpZ24gPSBwYXJzZWROZ01vZGVsLmFzc2lnbixcclxuICAgICAgbmdNb2RlbEdldCA9IHBhcnNlZE5nTW9kZWwsXHJcbiAgICAgIG5nTW9kZWxTZXQgPSBwYXJzZWROZ01vZGVsQXNzaWduLFxyXG4gICAgICBwZW5kaW5nRGVib3VuY2UgPSBudWxsLFxyXG4gICAgICBwYXJzZXJWYWxpZCxcclxuICAgICAgY3RybCA9IHRoaXM7XHJcblxyXG4gIHRoaXMuJCRzZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgY3RybC4kb3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmdldHRlclNldHRlcikge1xyXG4gICAgICB2YXIgaW52b2tlTW9kZWxHZXR0ZXIgPSAkcGFyc2UoJGF0dHIubmdNb2RlbCArICcoKScpLFxyXG4gICAgICAgICAgaW52b2tlTW9kZWxTZXR0ZXIgPSAkcGFyc2UoJGF0dHIubmdNb2RlbCArICcoJCQkcCknKTtcclxuXHJcbiAgICAgIG5nTW9kZWxHZXQgPSBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICB2YXIgbW9kZWxWYWx1ZSA9IHBhcnNlZE5nTW9kZWwoJHNjb3BlKTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgICAgbW9kZWxWYWx1ZSA9IGludm9rZU1vZGVsR2V0dGVyKCRzY29wZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtb2RlbFZhbHVlO1xyXG4gICAgICB9O1xyXG4gICAgICBuZ01vZGVsU2V0ID0gZnVuY3Rpb24oJHNjb3BlLCBuZXdWYWx1ZSkge1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHBhcnNlZE5nTW9kZWwoJHNjb3BlKSkpIHtcclxuICAgICAgICAgIGludm9rZU1vZGVsU2V0dGVyKCRzY29wZSwgeyQkJHA6IG5ld1ZhbHVlfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBhcnNlZE5nTW9kZWxBc3NpZ24oJHNjb3BlLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIGlmICghcGFyc2VkTmdNb2RlbC5hc3NpZ24pIHtcclxuICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbm9uYXNzaWduJywgXCJFeHByZXNzaW9uICd7MH0nIGlzIG5vbi1hc3NpZ25hYmxlLiBFbGVtZW50OiB7MX1cIixcclxuICAgICAgICAgICRhdHRyLm5nTW9kZWwsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJlbmRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHZpZXcgbmVlZHMgdG8gYmUgdXBkYXRlZC4gSXQgaXMgZXhwZWN0ZWQgdGhhdCB0aGUgdXNlciBvZiB0aGUgbmctbW9kZWxcclxuICAgKiBkaXJlY3RpdmUgd2lsbCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXHJcbiAgICpcclxuICAgKiBUaGUgYCRyZW5kZXIoKWAgbWV0aG9kIGlzIGludm9rZWQgaW4gdGhlIGZvbGxvd2luZyBzaXR1YXRpb25zOlxyXG4gICAqXHJcbiAgICogKiBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIGlzIGNhbGxlZC4gIElmIHdlIGFyZSByb2xsaW5nIGJhY2sgdGhlIHZpZXcgdmFsdWUgdG8gdGhlIGxhc3RcclxuICAgKiAgIGNvbW1pdHRlZCB2YWx1ZSB0aGVuIGAkcmVuZGVyKClgIGlzIGNhbGxlZCB0byB1cGRhdGUgdGhlIGlucHV0IGNvbnRyb2wuXHJcbiAgICogKiBUaGUgdmFsdWUgcmVmZXJlbmNlZCBieSBgbmctbW9kZWxgIGlzIGNoYW5nZWQgcHJvZ3JhbW1hdGljYWxseSBhbmQgYm90aCB0aGUgYCRtb2RlbFZhbHVlYCBhbmRcclxuICAgKiAgIHRoZSBgJHZpZXdWYWx1ZWAgYXJlIGRpZmZlcmVudCBmcm9tIGxhc3QgdGltZS5cclxuICAgKlxyXG4gICAqIFNpbmNlIGBuZy1tb2RlbGAgZG9lcyBub3QgZG8gYSBkZWVwIHdhdGNoLCBgJHJlbmRlcigpYCBpcyBvbmx5IGludm9rZWQgaWYgdGhlIHZhbHVlcyBvZlxyXG4gICAqIGAkbW9kZWxWYWx1ZWAgYW5kIGAkdmlld1ZhbHVlYCBhcmUgYWN0dWFsbHkgZGlmZmVyZW50IGZyb20gdGhlaXIgcHJldmlvdXMgdmFsdWVzLiBJZiBgJG1vZGVsVmFsdWVgXHJcbiAgICogb3IgYCR2aWV3VmFsdWVgIGFyZSBvYmplY3RzIChyYXRoZXIgdGhhbiBhIHN0cmluZyBvciBudW1iZXIpIHRoZW4gYCRyZW5kZXIoKWAgd2lsbCBub3QgYmVcclxuICAgKiBpbnZva2VkIGlmIHlvdSBvbmx5IGNoYW5nZSBhIHByb3BlcnR5IG9uIHRoZSBvYmplY3RzLlxyXG4gICAqL1xyXG4gIHRoaXMuJHJlbmRlciA9IG5vb3A7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSB2YWx1ZSBvZiBhbiBpbnB1dCBpcyBlbXB0eS5cclxuICAgKlxyXG4gICAqIEZvciBpbnN0YW5jZSwgdGhlIHJlcXVpcmVkIGRpcmVjdGl2ZSBkb2VzIHRoaXMgdG8gd29yayBvdXQgaWYgdGhlIGlucHV0IGhhcyBkYXRhIG9yIG5vdC5cclxuICAgKlxyXG4gICAqIFRoZSBkZWZhdWx0IGAkaXNFbXB0eWAgZnVuY3Rpb24gY2hlY2tzIHdoZXRoZXIgdGhlIHZhbHVlIGlzIGB1bmRlZmluZWRgLCBgJydgLCBgbnVsbGAgb3IgYE5hTmAuXHJcbiAgICpcclxuICAgKiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgZm9yIGlucHV0IGRpcmVjdGl2ZXMgd2hvc2UgY29uY2VwdCBvZiBiZWluZyBlbXB0eSBpcyBkaWZmZXJlbnQgZnJvbSB0aGVcclxuICAgKiBkZWZhdWx0LiBUaGUgYGNoZWNrYm94SW5wdXRUeXBlYCBkaXJlY3RpdmUgZG9lcyB0aGlzIGJlY2F1c2UgaW4gaXRzIGNhc2UgYSB2YWx1ZSBvZiBgZmFsc2VgXHJcbiAgICogaW1wbGllcyBlbXB0eS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBpbnB1dCB0byBjaGVjayBmb3IgZW1wdGluZXNzLlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgXCJlbXB0eVwiLlxyXG4gICAqL1xyXG4gIHRoaXMuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuJCR1cGRhdGVFbXB0eUNsYXNzZXMgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGN0cmwuJGlzRW1wdHkodmFsdWUpKSB7XHJcbiAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBOT1RfRU1QVFlfQ0xBU1MpO1xyXG4gICAgICAkYW5pbWF0ZS5hZGRDbGFzcygkZWxlbWVudCwgRU1QVFlfQ0xBU1MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsIEVNUFRZX0NMQVNTKTtcclxuICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIE5PVF9FTVBUWV9DTEFTUyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4gIHZhciBjdXJyZW50VmFsaWRhdGlvblJ1bklkID0gMDtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFZhbGlkaXR5XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDaGFuZ2UgdGhlIHZhbGlkaXR5IHN0YXRlLCBhbmQgbm90aWZ5IHRoZSBmb3JtLlxyXG4gICAqXHJcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB3aXRoaW4gJHBhcnNlcnMvJGZvcm1hdHRlcnMgb3IgYSBjdXN0b20gdmFsaWRhdGlvbiBpbXBsZW1lbnRhdGlvbi5cclxuICAgKiBIb3dldmVyLCBpbiBtb3N0IGNhc2VzIGl0IHNob3VsZCBiZSBzdWZmaWNpZW50IHRvIHVzZSB0aGUgYG5nTW9kZWwuJHZhbGlkYXRvcnNgIGFuZFxyXG4gICAqIGBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnNgIGNvbGxlY3Rpb25zIHdoaWNoIHdpbGwgY2FsbCBgJHNldFZhbGlkaXR5YCBhdXRvbWF0aWNhbGx5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbGlkYXRpb25FcnJvcktleSBOYW1lIG9mIHRoZSB2YWxpZGF0b3IuIFRoZSBgdmFsaWRhdGlvbkVycm9yS2V5YCB3aWxsIGJlIGFzc2lnbmVkXHJcbiAgICogICAgICAgIHRvIGVpdGhlciBgJGVycm9yW3ZhbGlkYXRpb25FcnJvcktleV1gIG9yIGAkcGVuZGluZ1t2YWxpZGF0aW9uRXJyb3JLZXldYFxyXG4gICAqICAgICAgICAoZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYCksIHNvIHRoYXQgaXQgaXMgYXZhaWxhYmxlIGZvciBkYXRhLWJpbmRpbmcuXHJcbiAgICogICAgICAgIFRoZSBgdmFsaWRhdGlvbkVycm9yS2V5YCBzaG91bGQgYmUgaW4gY2FtZWxDYXNlIGFuZCB3aWxsIGdldCBjb252ZXJ0ZWQgaW50byBkYXNoLWNhc2VcclxuICAgKiAgICAgICAgZm9yIGNsYXNzIG5hbWUuIEV4YW1wbGU6IGBteUVycm9yYCB3aWxsIHJlc3VsdCBpbiBgbmctdmFsaWQtbXktZXJyb3JgIGFuZCBgbmctaW52YWxpZC1teS1lcnJvcmBcclxuICAgKiAgICAgICAgY2xhc3MgYW5kIGNhbiBiZSBib3VuZCB0byBhcyAgYHt7c29tZUZvcm0uc29tZUNvbnRyb2wuJGVycm9yLm15RXJyb3J9fWAgLlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNWYWxpZCBXaGV0aGVyIHRoZSBjdXJyZW50IHN0YXRlIGlzIHZhbGlkICh0cnVlKSwgaW52YWxpZCAoZmFsc2UpLCBwZW5kaW5nICh1bmRlZmluZWQpLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBvciBza2lwcGVkIChudWxsKS4gUGVuZGluZyBpcyB1c2VkIGZvciB1bmZ1bGZpbGxlZCBgJGFzeW5jVmFsaWRhdG9yc2AuXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIFNraXBwZWQgaXMgdXNlZCBieSBBbmd1bGFyIHdoZW4gdmFsaWRhdG9ycyBkbyBub3QgcnVuIGJlY2F1c2Ugb2YgcGFyc2UgZXJyb3JzIGFuZFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIGAkYXN5bmNWYWxpZGF0b3JzYCBkbyBub3QgcnVuIGJlY2F1c2UgYW55IG9mIHRoZSBgJHZhbGlkYXRvcnNgIGZhaWxlZC5cclxuICAgKi9cclxuICBhZGRTZXRWYWxpZGl0eU1ldGhvZCh7XHJcbiAgICBjdHJsOiB0aGlzLFxyXG4gICAgJGVsZW1lbnQ6ICRlbGVtZW50LFxyXG4gICAgc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XHJcbiAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSB0cnVlO1xyXG4gICAgfSxcclxuICAgIHVuc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XHJcbiAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xyXG4gICAgfSxcclxuICAgICRhbmltYXRlOiAkYW5pbWF0ZVxyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0UHJpc3RpbmVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHByaXN0aW5lIHN0YXRlLlxyXG4gICAqXHJcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy1kaXJ0eWAgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHMgcHJpc3RpbmVcclxuICAgKiBzdGF0ZSAoYG5nLXByaXN0aW5lYCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSBwcmlzdGluZSB3aGVuIHRoZSBjb250cm9sXHJcbiAgICogaGFzIG5vdCBiZWVuIGNoYW5nZWQgZnJvbSB3aGVuIGZpcnN0IGNvbXBpbGVkLlxyXG4gICAqL1xyXG4gIHRoaXMuJHNldFByaXN0aW5lID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjdHJsLiRkaXJ0eSA9IGZhbHNlO1xyXG4gICAgY3RybC4kcHJpc3RpbmUgPSB0cnVlO1xyXG4gICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsIERJUlRZX0NMQVNTKTtcclxuICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldERpcnR5XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyBkaXJ0eSBzdGF0ZS5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctcHJpc3RpbmVgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzIGRpcnR5XHJcbiAgICogc3RhdGUgKGBuZy1kaXJ0eWAgY2xhc3MpLiBBIG1vZGVsIGlzIGNvbnNpZGVyZWQgdG8gYmUgZGlydHkgd2hlbiB0aGUgY29udHJvbCBoYXMgYmVlbiBjaGFuZ2VkXHJcbiAgICogZnJvbSB3aGVuIGZpcnN0IGNvbXBpbGVkLlxyXG4gICAqL1xyXG4gIHRoaXMuJHNldERpcnR5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjdHJsLiRkaXJ0eSA9IHRydWU7XHJcbiAgICBjdHJsLiRwcmlzdGluZSA9IGZhbHNlO1xyXG4gICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcclxuICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBESVJUWV9DTEFTUyk7XHJcbiAgICBjdHJsLiQkcGFyZW50Rm9ybS4kc2V0RGlydHkoKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VW50b3VjaGVkXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyB1bnRvdWNoZWQgc3RhdGUuXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLXRvdWNoZWRgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzXHJcbiAgICogdW50b3VjaGVkIHN0YXRlIChgbmctdW50b3VjaGVkYCBjbGFzcykuIFVwb24gY29tcGlsYXRpb24sIGEgbW9kZWwgaXMgc2V0IGFzIHVudG91Y2hlZFxyXG4gICAqIGJ5IGRlZmF1bHQsIGhvd2V2ZXIgdGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byByZXN0b3JlIHRoYXQgc3RhdGUgaWYgdGhlIG1vZGVsIGhhc1xyXG4gICAqIGFscmVhZHkgYmVlbiB0b3VjaGVkIGJ5IHRoZSB1c2VyLlxyXG4gICAqL1xyXG4gIHRoaXMuJHNldFVudG91Y2hlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgY3RybC4kdG91Y2hlZCA9IGZhbHNlO1xyXG4gICAgY3RybC4kdW50b3VjaGVkID0gdHJ1ZTtcclxuICAgICRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LCBVTlRPVUNIRURfQ0xBU1MsIFRPVUNIRURfQ0xBU1MpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRUb3VjaGVkXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyB0b3VjaGVkIHN0YXRlLlxyXG4gICAqXHJcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy11bnRvdWNoZWRgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzXHJcbiAgICogdG91Y2hlZCBzdGF0ZSAoYG5nLXRvdWNoZWRgIGNsYXNzKS4gQSBtb2RlbCBpcyBjb25zaWRlcmVkIHRvIGJlIHRvdWNoZWQgd2hlbiB0aGUgdXNlciBoYXNcclxuICAgKiBmaXJzdCBmb2N1c2VkIHRoZSBjb250cm9sIGVsZW1lbnQgYW5kIHRoZW4gc2hpZnRlZCBmb2N1cyBhd2F5IGZyb20gdGhlIGNvbnRyb2wgKGJsdXIgZXZlbnQpLlxyXG4gICAqL1xyXG4gIHRoaXMuJHNldFRvdWNoZWQgPSBmdW5jdGlvbigpIHtcclxuICAgIGN0cmwuJHRvdWNoZWQgPSB0cnVlO1xyXG4gICAgY3RybC4kdW50b3VjaGVkID0gZmFsc2U7XHJcbiAgICAkYW5pbWF0ZS5zZXRDbGFzcygkZWxlbWVudCwgVE9VQ0hFRF9DTEFTUywgVU5UT1VDSEVEX0NMQVNTKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkcm9sbGJhY2tWaWV3VmFsdWVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENhbmNlbCBhbiB1cGRhdGUgYW5kIHJlc2V0IHRoZSBpbnB1dCBlbGVtZW50J3MgdmFsdWUgdG8gcHJldmVudCBhbiB1cGRhdGUgdG8gdGhlIGAkbW9kZWxWYWx1ZWAsXHJcbiAgICogd2hpY2ggbWF5IGJlIGNhdXNlZCBieSBhIHBlbmRpbmcgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZVxyXG4gICAqIGZ1dHVyZSBldmVudC5cclxuICAgKlxyXG4gICAqIElmIHlvdSBoYXZlIGFuIGlucHV0IHRoYXQgdXNlcyBgbmctbW9kZWwtb3B0aW9uc2AgdG8gc2V0IHVwIGRlYm91bmNlZCB1cGRhdGVzIG9yIHVwZGF0ZXMgdGhhdFxyXG4gICAqIGRlcGVuZCBvbiBzcGVjaWFsIGV2ZW50cyBzdWNoIGFzIGJsdXIsIHlvdSBjYW4gaGF2ZSBhIHNpdHVhdGlvbiB3aGVyZSB0aGVyZSBpcyBhIHBlcmlvZCB3aGVuXHJcbiAgICogdGhlIGAkdmlld1ZhbHVlYCBpcyBvdXQgb2Ygc3luYyB3aXRoIHRoZSBuZ01vZGVsJ3MgYCRtb2RlbFZhbHVlYC5cclxuICAgKlxyXG4gICAqIEluIHRoaXMgY2FzZSwgeW91IGNhbiB1c2UgYCRyb2xsYmFja1ZpZXdWYWx1ZSgpYCB0byBtYW51YWxseSBjYW5jZWwgdGhlIGRlYm91bmNlZCAvIGZ1dHVyZSB1cGRhdGVcclxuICAgKiBhbmQgcmVzZXQgdGhlIGlucHV0IHRvIHRoZSBsYXN0IGNvbW1pdHRlZCB2aWV3IHZhbHVlLlxyXG4gICAqXHJcbiAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0aGF0IHlvdSBydW4gaW50byBkaWZmaWN1bHRpZXMgaWYgeW91IHRyeSB0byB1cGRhdGUgdGhlIG5nTW9kZWwncyBgJG1vZGVsVmFsdWVgXHJcbiAgICogcHJvZ3JhbW1hdGljYWxseSBiZWZvcmUgdGhlc2UgZGVib3VuY2VkL2Z1dHVyZSBldmVudHMgaGF2ZSByZXNvbHZlZC9vY2N1cnJlZCwgYmVjYXVzZSBBbmd1bGFyJ3NcclxuICAgKiBkaXJ0eSBjaGVja2luZyBtZWNoYW5pc20gaXMgbm90IGFibGUgdG8gdGVsbCB3aGV0aGVyIHRoZSBtb2RlbCBoYXMgYWN0dWFsbHkgY2hhbmdlZCBvciBub3QuXHJcbiAgICpcclxuICAgKiBUaGUgYCRyb2xsYmFja1ZpZXdWYWx1ZSgpYCBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgcHJvZ3JhbW1hdGljYWxseSBjaGFuZ2luZyB0aGUgbW9kZWwgb2YgYW5cclxuICAgKiBpbnB1dCB3aGljaCBtYXkgaGF2ZSBzdWNoIGV2ZW50cyBwZW5kaW5nLiBUaGlzIGlzIGltcG9ydGFudCBpbiBvcmRlciB0byBtYWtlIHN1cmUgdGhhdCB0aGVcclxuICAgKiBpbnB1dCBmaWVsZCB3aWxsIGJlIHVwZGF0ZWQgd2l0aCB0aGUgbmV3IG1vZGVsIHZhbHVlIGFuZCBhbnkgcGVuZGluZyBvcGVyYXRpb25zIGFyZSBjYW5jZWxsZWQuXHJcbiAgICpcclxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmctbW9kZWwtY2FuY2VsLXVwZGF0ZVwiIG1vZHVsZT1cImNhbmNlbC11cGRhdGUtZXhhbXBsZVwiPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gICAqICAgICBhbmd1bGFyLm1vZHVsZSgnY2FuY2VsLXVwZGF0ZS1leGFtcGxlJywgW10pXHJcbiAgICpcclxuICAgKiAgICAgLmNvbnRyb2xsZXIoJ0NhbmNlbFVwZGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAqICAgICAgICRzY29wZS5tb2RlbCA9IHt9O1xyXG4gICAqXHJcbiAgICogICAgICAgJHNjb3BlLnNldEVtcHR5ID0gZnVuY3Rpb24oZSwgdmFsdWUsIHJvbGxiYWNrKSB7XHJcbiAgICogICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XHJcbiAgICogICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgKiAgICAgICAgICAgaWYgKHJvbGxiYWNrKSB7XHJcbiAgICogICAgICAgICAgICAgJHNjb3BlLm15Rm9ybVt2YWx1ZV0uJHJvbGxiYWNrVmlld1ZhbHVlKCk7XHJcbiAgICogICAgICAgICAgIH1cclxuICAgKiAgICAgICAgICAgJHNjb3BlLm1vZGVsW3ZhbHVlXSA9ICcnO1xyXG4gICAqICAgICAgICAgfVxyXG4gICAqICAgICAgIH07XHJcbiAgICogICAgIH1dKTtcclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkNhbmNlbFVwZGF0ZUNvbnRyb2xsZXJcIj5cclxuICAgKiAgICAgICAgPHA+Qm90aCBvZiB0aGVzZSBpbnB1dHMgYXJlIG9ubHkgdXBkYXRlZCBpZiB0aGV5IGFyZSBibHVycmVkLiBIaXR0aW5nIGVzY2FwZSBzaG91bGRcclxuICAgKiAgICAgICAgZW1wdHkgdGhlbS4gRm9sbG93IHRoZXNlIHN0ZXBzIGFuZCBvYnNlcnZlIHRoZSBkaWZmZXJlbmNlOjwvcD5cclxuICAgKiAgICAgICA8b2w+XHJcbiAgICogICAgICAgICA8bGk+VHlwZSBzb21ldGhpbmcgaW4gdGhlIGlucHV0LiBZb3Ugd2lsbCBzZWUgdGhhdCB0aGUgbW9kZWwgaXMgbm90IHlldCB1cGRhdGVkPC9saT5cclxuICAgKiAgICAgICAgIDxsaT5QcmVzcyB0aGUgRXNjYXBlIGtleS5cclxuICAgKiAgICAgICAgICAgPG9sPlxyXG4gICAqICAgICAgICAgICAgIDxsaT4gSW4gdGhlIGZpcnN0IGV4YW1wbGUsIG5vdGhpbmcgaGFwcGVucywgYmVjYXVzZSB0aGUgbW9kZWwgaXMgYWxyZWFkeSAnJywgYW5kIG5vXHJcbiAgICogICAgICAgICAgICAgdXBkYXRlIGlzIGRldGVjdGVkLiBJZiB5b3UgYmx1ciB0aGUgaW5wdXQsIHRoZSBtb2RlbCB3aWxsIGJlIHNldCB0byB0aGUgY3VycmVudCB2aWV3LlxyXG4gICAqICAgICAgICAgICAgIDwvbGk+XHJcbiAgICogICAgICAgICAgICAgPGxpPiBJbiB0aGUgc2Vjb25kIGV4YW1wbGUsIHRoZSBwZW5kaW5nIHVwZGF0ZSBpcyBjYW5jZWxsZWQsIGFuZCB0aGUgaW5wdXQgaXMgc2V0IGJhY2tcclxuICAgKiAgICAgICAgICAgICB0byB0aGUgbGFzdCBjb21taXR0ZWQgdmlldyB2YWx1ZSAoJycpLiBCbHVycmluZyB0aGUgaW5wdXQgZG9lcyBub3RoaW5nLlxyXG4gICAqICAgICAgICAgICAgIDwvbGk+XHJcbiAgICogICAgICAgICAgIDwvb2w+XHJcbiAgICogICAgICAgICA8L2xpPlxyXG4gICAqICAgICAgIDwvb2w+XHJcbiAgICpcclxuICAgKiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdibHVyJyB9XCI+XHJcbiAgICogICAgICAgICA8ZGl2PlxyXG4gICAqICAgICAgICA8cCBpZD1cImlucHV0RGVzY3JpcHRpb24xXCI+V2l0aG91dCAkcm9sbGJhY2tWaWV3VmFsdWUoKTo8L3A+XHJcbiAgICogICAgICAgICA8aW5wdXQgbmFtZT1cInZhbHVlMVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJpbnB1dERlc2NyaXB0aW9uMVwiIG5nLW1vZGVsPVwibW9kZWwudmFsdWUxXCJcclxuICAgKiAgICAgICAgICAgICAgICBuZy1rZXlkb3duPVwic2V0RW1wdHkoJGV2ZW50LCAndmFsdWUxJylcIj5cclxuICAgKiAgICAgICAgIHZhbHVlMTogXCJ7eyBtb2RlbC52YWx1ZTEgfX1cIlxyXG4gICAqICAgICAgICAgPC9kaXY+XHJcbiAgICpcclxuICAgKiAgICAgICAgIDxkaXY+XHJcbiAgICogICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvbjJcIj5XaXRoICRyb2xsYmFja1ZpZXdWYWx1ZSgpOjwvcD5cclxuICAgKiAgICAgICAgIDxpbnB1dCBuYW1lPVwidmFsdWUyXCIgYXJpYS1kZXNjcmliZWRieT1cImlucHV0RGVzY3JpcHRpb24yXCIgbmctbW9kZWw9XCJtb2RlbC52YWx1ZTJcIlxyXG4gICAqICAgICAgICAgICAgICAgIG5nLWtleWRvd249XCJzZXRFbXB0eSgkZXZlbnQsICd2YWx1ZTInLCB0cnVlKVwiPlxyXG4gICAqICAgICAgICAgdmFsdWUyOiBcInt7IG1vZGVsLnZhbHVlMiB9fVwiXHJcbiAgICogICAgICAgICA8L2Rpdj5cclxuICAgKiAgICAgICA8L2Zvcm0+XHJcbiAgICogICAgIDwvZGl2PlxyXG4gICAqICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgICAgZGl2IHtcclxuICAgICAgICAgICAgZGlzcGxheTogdGFibGUtY2VsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGRpdjpudGgtY2hpbGQoMSkge1xyXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICogPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIHRoaXMuJHJvbGxiYWNrVmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkdGltZW91dC5jYW5jZWwocGVuZGluZ0RlYm91bmNlKTtcclxuICAgIGN0cmwuJHZpZXdWYWx1ZSA9IGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO1xyXG4gICAgY3RybC4kcmVuZGVyKCk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSdW5zIGVhY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdmFsaWRhdG9ycyAoZmlyc3Qgc3luY2hyb25vdXMgdmFsaWRhdG9ycyBhbmQgdGhlblxyXG4gICAqIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzKS5cclxuICAgKiBJZiB0aGUgdmFsaWRpdHkgY2hhbmdlcyB0byBpbnZhbGlkLCB0aGUgbW9kZWwgd2lsbCBiZSBzZXQgdG8gYHVuZGVmaW5lZGAsXHJcbiAgICogdW5sZXNzIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH0gaXMgYHRydWVgLlxyXG4gICAqIElmIHRoZSB2YWxpZGl0eSBjaGFuZ2VzIHRvIHZhbGlkLCBpdCB3aWxsIHNldCB0aGUgbW9kZWwgdG8gdGhlIGxhc3QgYXZhaWxhYmxlIHZhbGlkXHJcbiAgICogYCRtb2RlbFZhbHVlYCwgaS5lLiBlaXRoZXIgdGhlIGxhc3QgcGFyc2VkIHZhbHVlIG9yIHRoZSBsYXN0IHZhbHVlIHNldCBmcm9tIHRoZSBzY29wZS5cclxuICAgKi9cclxuICB0aGlzLiR2YWxpZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gaWdub3JlICR2YWxpZGF0ZSBiZWZvcmUgbW9kZWwgaXMgaW5pdGlhbGl6ZWRcclxuICAgIGlmIChpc051bWJlcihjdHJsLiRtb2RlbFZhbHVlKSAmJiBpc05hTihjdHJsLiRtb2RlbFZhbHVlKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHZpZXdWYWx1ZSA9IGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO1xyXG4gICAgLy8gTm90ZTogd2UgdXNlIHRoZSAkJHJhd01vZGVsVmFsdWUgYXMgJG1vZGVsVmFsdWUgbWlnaHQgaGF2ZSBiZWVuXHJcbiAgICAvLyBzZXQgdG8gdW5kZWZpbmVkIGR1cmluZyBhIHZpZXcgLT4gbW9kZWwgdXBkYXRlIHRoYXQgZm91bmQgdmFsaWRhdGlvblxyXG4gICAgLy8gZXJyb3JzLiBXZSBjYW4ndCBwYXJzZSB0aGUgdmlldyBoZXJlLCBzaW5jZSB0aGF0IGNvdWxkIGNoYW5nZVxyXG4gICAgLy8gdGhlIG1vZGVsIGFsdGhvdWdoIG5laXRoZXIgdmlld1ZhbHVlIG5vciB0aGUgbW9kZWwgb24gdGhlIHNjb3BlIGNoYW5nZWRcclxuICAgIHZhciBtb2RlbFZhbHVlID0gY3RybC4kJHJhd01vZGVsVmFsdWU7XHJcblxyXG4gICAgdmFyIHByZXZWYWxpZCA9IGN0cmwuJHZhbGlkO1xyXG4gICAgdmFyIHByZXZNb2RlbFZhbHVlID0gY3RybC4kbW9kZWxWYWx1ZTtcclxuXHJcbiAgICB2YXIgYWxsb3dJbnZhbGlkID0gY3RybC4kb3B0aW9ucyAmJiBjdHJsLiRvcHRpb25zLmFsbG93SW52YWxpZDtcclxuXHJcbiAgICBjdHJsLiQkcnVuVmFsaWRhdG9ycyhtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIGZ1bmN0aW9uKGFsbFZhbGlkKSB7XHJcbiAgICAgIC8vIElmIHRoZXJlIHdhcyBubyBjaGFuZ2UgaW4gdmFsaWRpdHksIGRvbid0IHVwZGF0ZSB0aGUgbW9kZWxcclxuICAgICAgLy8gVGhpcyBwcmV2ZW50cyBjaGFuZ2luZyBhbiBpbnZhbGlkIG1vZGVsVmFsdWUgdG8gdW5kZWZpbmVkXHJcbiAgICAgIGlmICghYWxsb3dJbnZhbGlkICYmIHByZXZWYWxpZCAhPT0gYWxsVmFsaWQpIHtcclxuICAgICAgICAvLyBOb3RlOiBEb24ndCBjaGVjayBjdHJsLiR2YWxpZCBoZXJlLCBhcyB3ZSBjb3VsZCBoYXZlXHJcbiAgICAgICAgLy8gZXh0ZXJuYWwgdmFsaWRhdG9ycyAoZS5nLiBjYWxjdWxhdGVkIG9uIHRoZSBzZXJ2ZXIpLFxyXG4gICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcclxuICAgICAgICAvLyB0byBjYWxjdWxhdGUgdGhlaXIgdmFsaWRpdHkuXHJcbiAgICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGFsbFZhbGlkID8gbW9kZWxWYWx1ZSA6IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgaWYgKGN0cmwuJG1vZGVsVmFsdWUgIT09IHByZXZNb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgICBjdHJsLiQkd3JpdGVNb2RlbFRvU2NvcGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICB9O1xyXG5cclxuICB0aGlzLiQkcnVuVmFsaWRhdG9ycyA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgZG9uZUNhbGxiYWNrKSB7XHJcbiAgICBjdXJyZW50VmFsaWRhdGlvblJ1bklkKys7XHJcbiAgICB2YXIgbG9jYWxWYWxpZGF0aW9uUnVuSWQgPSBjdXJyZW50VmFsaWRhdGlvblJ1bklkO1xyXG5cclxuICAgIC8vIGNoZWNrIHBhcnNlciBlcnJvclxyXG4gICAgaWYgKCFwcm9jZXNzUGFyc2VFcnJvcnMoKSkge1xyXG4gICAgICB2YWxpZGF0aW9uRG9uZShmYWxzZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghcHJvY2Vzc1N5bmNWYWxpZGF0b3JzKCkpIHtcclxuICAgICAgdmFsaWRhdGlvbkRvbmUoZmFsc2UpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBwcm9jZXNzQXN5bmNWYWxpZGF0b3JzKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1BhcnNlRXJyb3JzKCkge1xyXG4gICAgICB2YXIgZXJyb3JLZXkgPSBjdHJsLiQkcGFyc2VyTmFtZSB8fCAncGFyc2UnO1xyXG4gICAgICBpZiAoaXNVbmRlZmluZWQocGFyc2VyVmFsaWQpKSB7XHJcbiAgICAgICAgc2V0VmFsaWRpdHkoZXJyb3JLZXksIG51bGwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICghcGFyc2VyVmFsaWQpIHtcclxuICAgICAgICAgIGZvckVhY2goY3RybC4kdmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xyXG4gICAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBudWxsKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZm9yRWFjaChjdHJsLiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uKHYsIG5hbWUpIHtcclxuICAgICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgbnVsbCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2V0IHRoZSBwYXJzZSBlcnJvciBsYXN0LCB0byBwcmV2ZW50IHVuc2V0dGluZyBpdCwgc2hvdWxkIGEgJHZhbGlkYXRvcnMga2V5ID09IHBhcnNlck5hbWVcclxuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgcGFyc2VyVmFsaWQpO1xyXG4gICAgICAgIHJldHVybiBwYXJzZXJWYWxpZDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzU3luY1ZhbGlkYXRvcnMoKSB7XHJcbiAgICAgIHZhciBzeW5jVmFsaWRhdG9yc1ZhbGlkID0gdHJ1ZTtcclxuICAgICAgZm9yRWFjaChjdHJsLiR2YWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gdmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSk7XHJcbiAgICAgICAgc3luY1ZhbGlkYXRvcnNWYWxpZCA9IHN5bmNWYWxpZGF0b3JzVmFsaWQgJiYgcmVzdWx0O1xyXG4gICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHJlc3VsdCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoIXN5bmNWYWxpZGF0b3JzVmFsaWQpIHtcclxuICAgICAgICBmb3JFYWNoKGN0cmwuJGFzeW5jVmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xyXG4gICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgbnVsbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHByb2Nlc3NBc3luY1ZhbGlkYXRvcnMoKSB7XHJcbiAgICAgIHZhciB2YWxpZGF0b3JQcm9taXNlcyA9IFtdO1xyXG4gICAgICB2YXIgYWxsVmFsaWQgPSB0cnVlO1xyXG4gICAgICBmb3JFYWNoKGN0cmwuJGFzeW5jVmFsaWRhdG9ycywgZnVuY3Rpb24odmFsaWRhdG9yLCBuYW1lKSB7XHJcbiAgICAgICAgdmFyIHByb21pc2UgPSB2YWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKTtcclxuICAgICAgICBpZiAoIWlzUHJvbWlzZUxpa2UocHJvbWlzZSkpIHtcclxuICAgICAgICAgIHRocm93IG5nTW9kZWxNaW5FcnIoJ25vcHJvbWlzZScsXHJcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgYXN5bmNocm9ub3VzIHZhbGlkYXRvciB0byByZXR1cm4gYSBwcm9taXNlIGJ1dCBnb3QgJ3swfScgaW5zdGVhZC5cIiwgcHJvbWlzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgdmFsaWRhdG9yUHJvbWlzZXMucHVzaChwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCB0cnVlKTtcclxuICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGFsbFZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKCF2YWxpZGF0b3JQcm9taXNlcy5sZW5ndGgpIHtcclxuICAgICAgICB2YWxpZGF0aW9uRG9uZSh0cnVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkcS5hbGwodmFsaWRhdG9yUHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YWxpZGF0aW9uRG9uZShhbGxWYWxpZCk7XHJcbiAgICAgICAgfSwgbm9vcCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRWYWxpZGl0eShuYW1lLCBpc1ZhbGlkKSB7XHJcbiAgICAgIGlmIChsb2NhbFZhbGlkYXRpb25SdW5JZCA9PT0gY3VycmVudFZhbGlkYXRpb25SdW5JZCkge1xyXG4gICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KG5hbWUsIGlzVmFsaWQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdmFsaWRhdGlvbkRvbmUoYWxsVmFsaWQpIHtcclxuICAgICAgaWYgKGxvY2FsVmFsaWRhdGlvblJ1bklkID09PSBjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XHJcblxyXG4gICAgICAgIGRvbmVDYWxsYmFjayhhbGxWYWxpZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkY29tbWl0Vmlld1ZhbHVlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDb21taXQgYSBwZW5kaW5nIHVwZGF0ZSB0byB0aGUgYCRtb2RlbFZhbHVlYC5cclxuICAgKlxyXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxyXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiB0aGlzIG1ldGhvZCBpcyByYXJlbHkgbmVlZGVkIGFzIGBOZ01vZGVsQ29udHJvbGxlcmBcclxuICAgKiB1c3VhbGx5IGhhbmRsZXMgY2FsbGluZyB0aGlzIGluIHJlc3BvbnNlIHRvIGlucHV0IGV2ZW50cy5cclxuICAgKi9cclxuICB0aGlzLiRjb21taXRWaWV3VmFsdWUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB2aWV3VmFsdWUgPSBjdHJsLiR2aWV3VmFsdWU7XHJcblxyXG4gICAgJHRpbWVvdXQuY2FuY2VsKHBlbmRpbmdEZWJvdW5jZSk7XHJcblxyXG4gICAgLy8gSWYgdGhlIHZpZXcgdmFsdWUgaGFzIG5vdCBjaGFuZ2VkIHRoZW4gd2Ugc2hvdWxkIGp1c3QgZXhpdCwgZXhjZXB0IGluIHRoZSBjYXNlIHdoZXJlIHRoZXJlIGlzXHJcbiAgICAvLyBhIG5hdGl2ZSB2YWxpZGF0b3Igb24gdGhlIGVsZW1lbnQuIEluIHRoaXMgY2FzZSB0aGUgdmFsaWRhdGlvbiBzdGF0ZSBtYXkgaGF2ZSBjaGFuZ2VkIGV2ZW4gdGhvdWdoXHJcbiAgICAvLyB0aGUgdmlld1ZhbHVlIGhhcyBzdGF5ZWQgZW1wdHkuXHJcbiAgICBpZiAoY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPT09IHZpZXdWYWx1ZSAmJiAodmlld1ZhbHVlICE9PSAnJyB8fCAhY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGN0cmwuJCR1cGRhdGVFbXB0eUNsYXNzZXModmlld1ZhbHVlKTtcclxuICAgIGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlID0gdmlld1ZhbHVlO1xyXG5cclxuICAgIC8vIGNoYW5nZSB0byBkaXJ0eVxyXG4gICAgaWYgKGN0cmwuJHByaXN0aW5lKSB7XHJcbiAgICAgIHRoaXMuJHNldERpcnR5KCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZSgpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuJCRwYXJzZUFuZFZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7XHJcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHZpZXdWYWx1ZTtcclxuICAgIHBhcnNlclZhbGlkID0gaXNVbmRlZmluZWQobW9kZWxWYWx1ZSkgPyB1bmRlZmluZWQgOiB0cnVlO1xyXG5cclxuICAgIGlmIChwYXJzZXJWYWxpZCkge1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN0cmwuJHBhcnNlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBtb2RlbFZhbHVlID0gY3RybC4kcGFyc2Vyc1tpXShtb2RlbFZhbHVlKTtcclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQobW9kZWxWYWx1ZSkpIHtcclxuICAgICAgICAgIHBhcnNlclZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc051bWJlcihjdHJsLiRtb2RlbFZhbHVlKSAmJiBpc05hTihjdHJsLiRtb2RlbFZhbHVlKSkge1xyXG4gICAgICAvLyBjdHJsLiRtb2RlbFZhbHVlIGhhcyBub3QgYmVlbiB0b3VjaGVkIHlldC4uLlxyXG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID0gbmdNb2RlbEdldCgkc2NvcGUpO1xyXG4gICAgfVxyXG4gICAgdmFyIHByZXZNb2RlbFZhbHVlID0gY3RybC4kbW9kZWxWYWx1ZTtcclxuICAgIHZhciBhbGxvd0ludmFsaWQgPSBjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO1xyXG4gICAgY3RybC4kJHJhd01vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xyXG5cclxuICAgIGlmIChhbGxvd0ludmFsaWQpIHtcclxuICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IG1vZGVsVmFsdWU7XHJcbiAgICAgIHdyaXRlVG9Nb2RlbElmTmVlZGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUGFzcyB0aGUgJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlIGhlcmUsIGJlY2F1c2UgdGhlIGNhY2hlZCB2aWV3VmFsdWUgbWlnaHQgYmUgb3V0IG9mIGRhdGUuXHJcbiAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgZS5nLiAkc2V0Vmlld1ZhbHVlIGlzIGNhbGxlZCBmcm9tIGluc2lkZSBhIHBhcnNlclxyXG4gICAgY3RybC4kJHJ1blZhbGlkYXRvcnMobW9kZWxWYWx1ZSwgY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUsIGZ1bmN0aW9uKGFsbFZhbGlkKSB7XHJcbiAgICAgIGlmICghYWxsb3dJbnZhbGlkKSB7XHJcbiAgICAgICAgLy8gTm90ZTogRG9uJ3QgY2hlY2sgY3RybC4kdmFsaWQgaGVyZSwgYXMgd2UgY291bGQgaGF2ZVxyXG4gICAgICAgIC8vIGV4dGVybmFsIHZhbGlkYXRvcnMgKGUuZy4gY2FsY3VsYXRlZCBvbiB0aGUgc2VydmVyKSxcclxuICAgICAgICAvLyB0aGF0IGp1c3QgY2FsbCAkc2V0VmFsaWRpdHkgYW5kIG5lZWQgdGhlIG1vZGVsIHZhbHVlXHJcbiAgICAgICAgLy8gdG8gY2FsY3VsYXRlIHRoZWlyIHZhbGlkaXR5LlxyXG4gICAgICAgIGN0cmwuJG1vZGVsVmFsdWUgPSBhbGxWYWxpZCA/IG1vZGVsVmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gd3JpdGVUb01vZGVsSWZOZWVkZWQoKSB7XHJcbiAgICAgIGlmIChjdHJsLiRtb2RlbFZhbHVlICE9PSBwcmV2TW9kZWxWYWx1ZSkge1xyXG4gICAgICAgIGN0cmwuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kJHdyaXRlTW9kZWxUb1Njb3BlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBuZ01vZGVsU2V0KCRzY29wZSwgY3RybC4kbW9kZWxWYWx1ZSk7XHJcbiAgICBmb3JFYWNoKGN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMsIGZ1bmN0aW9uKGxpc3RlbmVyKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbGlzdGVuZXIoKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0Vmlld1ZhbHVlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBVcGRhdGUgdGhlIHZpZXcgdmFsdWUuXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYSBjb250cm9sIHdhbnRzIHRvIGNoYW5nZSB0aGUgdmlldyB2YWx1ZTsgdHlwaWNhbGx5LFxyXG4gICAqIHRoaXMgaXMgZG9uZSBmcm9tIHdpdGhpbiBhIERPTSBldmVudCBoYW5kbGVyLiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXR9XHJcbiAgICogZGlyZWN0aXZlIGNhbGxzIGl0IHdoZW4gdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCBjaGFuZ2VzIGFuZCB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9XHJcbiAgICogY2FsbHMgaXQgd2hlbiBhbiBvcHRpb24gaXMgc2VsZWN0ZWQuXHJcbiAgICpcclxuICAgKiBXaGVuIGAkc2V0Vmlld1ZhbHVlYCBpcyBjYWxsZWQsIHRoZSBuZXcgYHZhbHVlYCB3aWxsIGJlIHN0YWdlZCBmb3IgY29tbWl0dGluZyB0aHJvdWdoIHRoZSBgJHBhcnNlcnNgXHJcbiAgICogYW5kIGAkdmFsaWRhdG9yc2AgcGlwZWxpbmVzLiBJZiB0aGVyZSBhcmUgbm8gc3BlY2lhbCB7QGxpbmsgbmdNb2RlbE9wdGlvbnN9IHNwZWNpZmllZCB0aGVuIHRoZSBzdGFnZWRcclxuICAgKiB2YWx1ZSBzZW50IGRpcmVjdGx5IGZvciBwcm9jZXNzaW5nLCBmaW5hbGx5IHRvIGJlIGFwcGxpZWQgdG8gYCRtb2RlbFZhbHVlYCBhbmQgdGhlbiB0aGVcclxuICAgKiAqKmV4cHJlc3Npb24qKiBzcGVjaWZpZWQgaW4gdGhlIGBuZy1tb2RlbGAgYXR0cmlidXRlLiBMYXN0bHksIGFsbCB0aGUgcmVnaXN0ZXJlZCBjaGFuZ2UgbGlzdGVuZXJzLFxyXG4gICAqIGluIHRoZSBgJHZpZXdDaGFuZ2VMaXN0ZW5lcnNgIGxpc3QsIGFyZSBjYWxsZWQuXHJcbiAgICpcclxuICAgKiBJbiBjYXNlIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfSBkaXJlY3RpdmUgaXMgdXNlZCB3aXRoIGB1cGRhdGVPbmBcclxuICAgKiBhbmQgdGhlIGBkZWZhdWx0YCB0cmlnZ2VyIGlzIG5vdCBsaXN0ZWQsIGFsbCB0aG9zZSBhY3Rpb25zIHdpbGwgcmVtYWluIHBlbmRpbmcgdW50aWwgb25lIG9mIHRoZVxyXG4gICAqIGB1cGRhdGVPbmAgZXZlbnRzIGlzIHRyaWdnZXJlZCBvbiB0aGUgRE9NIGVsZW1lbnQuXHJcbiAgICogQWxsIHRoZXNlIGFjdGlvbnMgd2lsbCBiZSBkZWJvdW5jZWQgaWYgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9XHJcbiAgICogZGlyZWN0aXZlIGlzIHVzZWQgd2l0aCBhIGN1c3RvbSBkZWJvdW5jZSBmb3IgdGhpcyBwYXJ0aWN1bGFyIGV2ZW50LlxyXG4gICAqIE5vdGUgdGhhdCBhIGAkZGlnZXN0YCBpcyBvbmx5IHRyaWdnZXJlZCBvbmNlIHRoZSBgdXBkYXRlT25gIGV2ZW50cyBhcmUgZmlyZWQsIG9yIGlmIGBkZWJvdW5jZWBcclxuICAgKiBpcyBzcGVjaWZpZWQsIG9uY2UgdGhlIHRpbWVyIHJ1bnMgb3V0LlxyXG4gICAqXHJcbiAgICogV2hlbiB1c2VkIHdpdGggc3RhbmRhcmQgaW5wdXRzLCB0aGUgdmlldyB2YWx1ZSB3aWxsIGFsd2F5cyBiZSBhIHN0cmluZyAod2hpY2ggaXMgaW4gc29tZSBjYXNlc1xyXG4gICAqIHBhcnNlZCBpbnRvIGFub3RoZXIgdHlwZSwgc3VjaCBhcyBhIGBEYXRlYCBvYmplY3QgZm9yIGBpbnB1dFtkYXRlXWAuKVxyXG4gICAqIEhvd2V2ZXIsIGN1c3RvbSBjb250cm9scyBtaWdodCBhbHNvIHBhc3Mgb2JqZWN0cyB0byB0aGlzIG1ldGhvZC4gSW4gdGhpcyBjYXNlLCB3ZSBzaG91bGQgbWFrZVxyXG4gICAqIGEgY29weSBvZiB0aGUgb2JqZWN0IGJlZm9yZSBwYXNzaW5nIGl0IHRvIGAkc2V0Vmlld1ZhbHVlYC4gVGhpcyBpcyBiZWNhdXNlIGBuZ01vZGVsYCBkb2VzIG5vdFxyXG4gICAqIHBlcmZvcm0gYSBkZWVwIHdhdGNoIG9mIG9iamVjdHMsIGl0IG9ubHkgbG9va3MgZm9yIGEgY2hhbmdlIG9mIGlkZW50aXR5LiBJZiB5b3Ugb25seSBjaGFuZ2VcclxuICAgKiB0aGUgcHJvcGVydHkgb2YgdGhlIG9iamVjdCB0aGVuIG5nTW9kZWwgd2lsbCBub3QgcmVhbGl6ZSB0aGF0IHRoZSBvYmplY3QgaGFzIGNoYW5nZWQgYW5kXHJcbiAgICogd2lsbCBub3QgaW52b2tlIHRoZSBgJHBhcnNlcnNgIGFuZCBgJHZhbGlkYXRvcnNgIHBpcGVsaW5lcy4gRm9yIHRoaXMgcmVhc29uLCB5b3Ugc2hvdWxkXHJcbiAgICogbm90IGNoYW5nZSBwcm9wZXJ0aWVzIG9mIHRoZSBjb3B5IG9uY2UgaXQgaGFzIGJlZW4gcGFzc2VkIHRvIGAkc2V0Vmlld1ZhbHVlYC5cclxuICAgKiBPdGhlcndpc2UgeW91IG1heSBjYXVzZSB0aGUgbW9kZWwgdmFsdWUgb24gdGhlIHNjb3BlIHRvIGNoYW5nZSBpbmNvcnJlY3RseS5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAgICogSW4gYW55IGNhc2UsIHRoZSB2YWx1ZSBwYXNzZWQgdG8gdGhlIG1ldGhvZCBzaG91bGQgYWx3YXlzIHJlZmxlY3QgdGhlIGN1cnJlbnQgdmFsdWVcclxuICAgKiBvZiB0aGUgY29udHJvbC4gRm9yIGV4YW1wbGUsIGlmIHlvdSBhcmUgY2FsbGluZyBgJHNldFZpZXdWYWx1ZWAgZm9yIGFuIGlucHV0IGVsZW1lbnQsXHJcbiAgICogeW91IHNob3VsZCBwYXNzIHRoZSBpbnB1dCBET00gdmFsdWUuIE90aGVyd2lzZSwgdGhlIGNvbnRyb2wgYW5kIHRoZSBzY29wZSBtb2RlbCBiZWNvbWVcclxuICAgKiBvdXQgb2Ygc3luYy4gSXQncyBhbHNvIGltcG9ydGFudCB0byBub3RlIHRoYXQgYCRzZXRWaWV3VmFsdWVgIGRvZXMgbm90IGNhbGwgYCRyZW5kZXJgIG9yIGNoYW5nZVxyXG4gICAqIHRoZSBjb250cm9sJ3MgRE9NIHZhbHVlIGluIGFueSB3YXkuIElmIHdlIHdhbnQgdG8gY2hhbmdlIHRoZSBjb250cm9sJ3MgRE9NIHZhbHVlXHJcbiAgICogcHJvZ3JhbW1hdGljYWxseSwgd2Ugc2hvdWxkIHVwZGF0ZSB0aGUgYG5nTW9kZWxgIHNjb3BlIGV4cHJlc3Npb24uIEl0cyBuZXcgdmFsdWUgd2lsbCBiZVxyXG4gICAqIHBpY2tlZCB1cCBieSB0aGUgbW9kZWwgY29udHJvbGxlciwgd2hpY2ggd2lsbCBydW4gaXQgdGhyb3VnaCB0aGUgYCRmb3JtYXR0ZXJzYCwgYCRyZW5kZXJgIGl0XHJcbiAgICogdG8gdXBkYXRlIHRoZSBET00sIGFuZCBmaW5hbGx5IGNhbGwgYCR2YWxpZGF0ZWAgb24gaXQuXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIHZhbHVlIGZyb20gdGhlIHZpZXcuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRyaWdnZXIgRXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIHVwZGF0ZS5cclxuICAgKi9cclxuICB0aGlzLiRzZXRWaWV3VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwgdHJpZ2dlcikge1xyXG4gICAgY3RybC4kdmlld1ZhbHVlID0gdmFsdWU7XHJcbiAgICBpZiAoIWN0cmwuJG9wdGlvbnMgfHwgY3RybC4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQpIHtcclxuICAgICAgY3RybC4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KHRyaWdnZXIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCA9IGZ1bmN0aW9uKHRyaWdnZXIpIHtcclxuICAgIHZhciBkZWJvdW5jZURlbGF5ID0gMCxcclxuICAgICAgICBvcHRpb25zID0gY3RybC4kb3B0aW9ucyxcclxuICAgICAgICBkZWJvdW5jZTtcclxuXHJcbiAgICBpZiAob3B0aW9ucyAmJiBpc0RlZmluZWQob3B0aW9ucy5kZWJvdW5jZSkpIHtcclxuICAgICAgZGVib3VuY2UgPSBvcHRpb25zLmRlYm91bmNlO1xyXG4gICAgICBpZiAoaXNOdW1iZXIoZGVib3VuY2UpKSB7XHJcbiAgICAgICAgZGVib3VuY2VEZWxheSA9IGRlYm91bmNlO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlW3RyaWdnZXJdKSkge1xyXG4gICAgICAgIGRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZVt0cmlnZ2VyXTtcclxuICAgICAgfSBlbHNlIGlmIChpc051bWJlcihkZWJvdW5jZVsnZGVmYXVsdCddKSkge1xyXG4gICAgICAgIGRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZVsnZGVmYXVsdCddO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJHRpbWVvdXQuY2FuY2VsKHBlbmRpbmdEZWJvdW5jZSk7XHJcbiAgICBpZiAoZGVib3VuY2VEZWxheSkge1xyXG4gICAgICBwZW5kaW5nRGVib3VuY2UgPSAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICBjdHJsLiRjb21taXRWaWV3VmFsdWUoKTtcclxuICAgICAgfSwgZGVib3VuY2VEZWxheSk7XHJcbiAgICB9IGVsc2UgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICBjdHJsLiRjb21taXRWaWV3VmFsdWUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY3RybC4kY29tbWl0Vmlld1ZhbHVlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIG1vZGVsIC0+IHZhbHVlXHJcbiAgLy8gTm90ZTogd2UgY2Fubm90IHVzZSBhIG5vcm1hbCBzY29wZS4kd2F0Y2ggYXMgd2Ugd2FudCB0byBkZXRlY3QgdGhlIGZvbGxvd2luZzpcclxuICAvLyAxLiBzY29wZSB2YWx1ZSBpcyAnYSdcclxuICAvLyAyLiB1c2VyIGVudGVycyAnYidcclxuICAvLyAzLiBuZy1jaGFuZ2Uga2lja3MgaW4gYW5kIHJldmVydHMgc2NvcGUgdmFsdWUgdG8gJ2EnXHJcbiAgLy8gICAgLT4gc2NvcGUgdmFsdWUgZGlkIG5vdCBjaGFuZ2Ugc2luY2UgdGhlIGxhc3QgZGlnZXN0IGFzXHJcbiAgLy8gICAgICAgbmctY2hhbmdlIGV4ZWN1dGVzIGluIGFwcGx5IHBoYXNlXHJcbiAgLy8gNC4gdmlldyBzaG91bGQgYmUgY2hhbmdlZCBiYWNrIHRvICdhJ1xyXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gbmdNb2RlbFdhdGNoKCkge1xyXG4gICAgdmFyIG1vZGVsVmFsdWUgPSBuZ01vZGVsR2V0KCRzY29wZSk7XHJcblxyXG4gICAgLy8gaWYgc2NvcGUgbW9kZWwgdmFsdWUgYW5kIG5nTW9kZWwgdmFsdWUgYXJlIG91dCBvZiBzeW5jXHJcbiAgICAvLyBUT0RPKHBlcmYpOiB3aHkgbm90IG1vdmUgdGhpcyB0byB0aGUgYWN0aW9uIGZuP1xyXG4gICAgaWYgKG1vZGVsVmFsdWUgIT09IGN0cmwuJG1vZGVsVmFsdWUgJiZcclxuICAgICAgIC8vIGNoZWNrcyBmb3IgTmFOIGlzIG5lZWRlZCB0byBhbGxvdyBzZXR0aW5nIHRoZSBtb2RlbCB0byBOYU4gd2hlbiB0aGVyZSdzIGFuIGFzeW5jVmFsaWRhdG9yXHJcbiAgICAgICAoY3RybC4kbW9kZWxWYWx1ZSA9PT0gY3RybC4kbW9kZWxWYWx1ZSB8fCBtb2RlbFZhbHVlID09PSBtb2RlbFZhbHVlKVxyXG4gICAgKSB7XHJcbiAgICAgIGN0cmwuJG1vZGVsVmFsdWUgPSBjdHJsLiQkcmF3TW9kZWxWYWx1ZSA9IG1vZGVsVmFsdWU7XHJcbiAgICAgIHBhcnNlclZhbGlkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgdmFyIGZvcm1hdHRlcnMgPSBjdHJsLiRmb3JtYXR0ZXJzLFxyXG4gICAgICAgICAgaWR4ID0gZm9ybWF0dGVycy5sZW5ndGg7XHJcblxyXG4gICAgICB2YXIgdmlld1ZhbHVlID0gbW9kZWxWYWx1ZTtcclxuICAgICAgd2hpbGUgKGlkeC0tKSB7XHJcbiAgICAgICAgdmlld1ZhbHVlID0gZm9ybWF0dGVyc1tpZHhdKHZpZXdWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmlld1ZhbHVlKSB7XHJcbiAgICAgICAgY3RybC4kJHVwZGF0ZUVtcHR5Q2xhc3Nlcyh2aWV3VmFsdWUpO1xyXG4gICAgICAgIGN0cmwuJHZpZXdWYWx1ZSA9IGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlID0gdmlld1ZhbHVlO1xyXG4gICAgICAgIGN0cmwuJHJlbmRlcigpO1xyXG5cclxuICAgICAgICBjdHJsLiQkcnVuVmFsaWRhdG9ycyhtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIG5vb3ApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1vZGVsVmFsdWU7XHJcbiAgfSk7XHJcbn1dO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nTW9kZWxcclxuICpcclxuICogQGVsZW1lbnQgaW5wdXRcclxuICogQHByaW9yaXR5IDFcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdNb2RlbGAgZGlyZWN0aXZlIGJpbmRzIGFuIGBpbnB1dGAsYHNlbGVjdGAsIGB0ZXh0YXJlYWAgKG9yIGN1c3RvbSBmb3JtIGNvbnRyb2wpIHRvIGFcclxuICogcHJvcGVydHkgb24gdGhlIHNjb3BlIHVzaW5nIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIE5nTW9kZWxDb250cm9sbGVyfSxcclxuICogd2hpY2ggaXMgY3JlYXRlZCBhbmQgZXhwb3NlZCBieSB0aGlzIGRpcmVjdGl2ZS5cclxuICpcclxuICogYG5nTW9kZWxgIGlzIHJlc3BvbnNpYmxlIGZvcjpcclxuICpcclxuICogLSBCaW5kaW5nIHRoZSB2aWV3IGludG8gdGhlIG1vZGVsLCB3aGljaCBvdGhlciBkaXJlY3RpdmVzIHN1Y2ggYXMgYGlucHV0YCwgYHRleHRhcmVhYCBvciBgc2VsZWN0YFxyXG4gKiAgIHJlcXVpcmUuXHJcbiAqIC0gUHJvdmlkaW5nIHZhbGlkYXRpb24gYmVoYXZpb3IgKGkuZS4gcmVxdWlyZWQsIG51bWJlciwgZW1haWwsIHVybCkuXHJcbiAqIC0gS2VlcGluZyB0aGUgc3RhdGUgb2YgdGhlIGNvbnRyb2wgKHZhbGlkL2ludmFsaWQsIGRpcnR5L3ByaXN0aW5lLCB0b3VjaGVkL3VudG91Y2hlZCwgdmFsaWRhdGlvbiBlcnJvcnMpLlxyXG4gKiAtIFNldHRpbmcgcmVsYXRlZCBjc3MgY2xhc3NlcyBvbiB0aGUgZWxlbWVudCAoYG5nLXZhbGlkYCwgYG5nLWludmFsaWRgLCBgbmctZGlydHlgLCBgbmctcHJpc3RpbmVgLCBgbmctdG91Y2hlZGAsXHJcbiAqICAgYG5nLXVudG91Y2hlZGAsIGBuZy1lbXB0eWAsIGBuZy1ub3QtZW1wdHlgKSBpbmNsdWRpbmcgYW5pbWF0aW9ucy5cclxuICogLSBSZWdpc3RlcmluZyB0aGUgY29udHJvbCB3aXRoIGl0cyBwYXJlbnQge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGZvcm19LlxyXG4gKlxyXG4gKiBOb3RlOiBgbmdNb2RlbGAgd2lsbCB0cnkgdG8gYmluZCB0byB0aGUgcHJvcGVydHkgZ2l2ZW4gYnkgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbiBvbiB0aGVcclxuICogY3VycmVudCBzY29wZS4gSWYgdGhlIHByb3BlcnR5IGRvZXNuJ3QgYWxyZWFkeSBleGlzdCBvbiB0aGlzIHNjb3BlLCBpdCB3aWxsIGJlIGNyZWF0ZWRcclxuICogaW1wbGljaXRseSBhbmQgYWRkZWQgdG8gdGhlIHNjb3BlLlxyXG4gKlxyXG4gKiBGb3IgYmVzdCBwcmFjdGljZXMgb24gdXNpbmcgYG5nTW9kZWxgLCBzZWU6XHJcbiAqXHJcbiAqICAtIFtVbmRlcnN0YW5kaW5nIFNjb3Blc10oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzKVxyXG4gKlxyXG4gKiBGb3IgYmFzaWMgZXhhbXBsZXMsIGhvdyB0byB1c2UgYG5nTW9kZWxgLCBzZWU6XHJcbiAqXHJcbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXR9XHJcbiAqICAgIC0ge0BsaW5rIGlucHV0W3RleHRdIHRleHR9XHJcbiAqICAgIC0ge0BsaW5rIGlucHV0W2NoZWNrYm94XSBjaGVja2JveH1cclxuICogICAgLSB7QGxpbmsgaW5wdXRbcmFkaW9dIHJhZGlvfVxyXG4gKiAgICAtIHtAbGluayBpbnB1dFtudW1iZXJdIG51bWJlcn1cclxuICogICAgLSB7QGxpbmsgaW5wdXRbZW1haWxdIGVtYWlsfVxyXG4gKiAgICAtIHtAbGluayBpbnB1dFt1cmxdIHVybH1cclxuICogICAgLSB7QGxpbmsgaW5wdXRbZGF0ZV0gZGF0ZX1cclxuICogICAgLSB7QGxpbmsgaW5wdXRbZGF0ZXRpbWUtbG9jYWxdIGRhdGV0aW1lLWxvY2FsfVxyXG4gKiAgICAtIHtAbGluayBpbnB1dFt0aW1lXSB0aW1lfVxyXG4gKiAgICAtIHtAbGluayBpbnB1dFttb250aF0gbW9udGh9XHJcbiAqICAgIC0ge0BsaW5rIGlucHV0W3dlZWtdIHdlZWt9XHJcbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6c2VsZWN0IHNlbGVjdH1cclxuICogIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTp0ZXh0YXJlYSB0ZXh0YXJlYX1cclxuICpcclxuICogIyBDb21wbGV4IE1vZGVscyAob2JqZWN0cyBvciBjb2xsZWN0aW9ucylcclxuICpcclxuICogQnkgZGVmYXVsdCwgYG5nTW9kZWxgIHdhdGNoZXMgdGhlIG1vZGVsIGJ5IHJlZmVyZW5jZSwgbm90IHZhbHVlLiBUaGlzIGlzIGltcG9ydGFudCB0byBrbm93IHdoZW5cclxuICogYmluZGluZyBpbnB1dHMgdG8gbW9kZWxzIHRoYXQgYXJlIG9iamVjdHMgKGUuZy4gYERhdGVgKSBvciBjb2xsZWN0aW9ucyAoZS5nLiBhcnJheXMpLiBJZiBvbmx5IHByb3BlcnRpZXMgb2YgdGhlXHJcbiAqIG9iamVjdCBvciBjb2xsZWN0aW9uIGNoYW5nZSwgYG5nTW9kZWxgIHdpbGwgbm90IGJlIG5vdGlmaWVkIGFuZCBzbyB0aGUgaW5wdXQgd2lsbCBub3QgYmUgIHJlLXJlbmRlcmVkLlxyXG4gKlxyXG4gKiBUaGUgbW9kZWwgbXVzdCBiZSBhc3NpZ25lZCBhbiBlbnRpcmVseSBuZXcgb2JqZWN0IG9yIGNvbGxlY3Rpb24gYmVmb3JlIGEgcmUtcmVuZGVyaW5nIHdpbGwgb2NjdXIuXHJcbiAqXHJcbiAqIFNvbWUgZGlyZWN0aXZlcyBoYXZlIG9wdGlvbnMgdGhhdCB3aWxsIGNhdXNlIHRoZW0gdG8gdXNlIGEgY3VzdG9tIGAkd2F0Y2hDb2xsZWN0aW9uYCBvbiB0aGUgbW9kZWwgZXhwcmVzc2lvblxyXG4gKiAtIGZvciBleGFtcGxlLCBgbmdPcHRpb25zYCB3aWxsIGRvIHNvIHdoZW4gYSBgdHJhY2sgYnlgIGNsYXVzZSBpcyBpbmNsdWRlZCBpbiB0aGUgY29tcHJlaGVuc2lvbiBleHByZXNzaW9uIG9yXHJcbiAqIGlmIHRoZSBzZWxlY3QgaXMgZ2l2ZW4gdGhlIGBtdWx0aXBsZWAgYXR0cmlidXRlLlxyXG4gKlxyXG4gKiBUaGUgYCR3YXRjaENvbGxlY3Rpb24oKWAgbWV0aG9kIG9ubHkgZG9lcyBhIHNoYWxsb3cgY29tcGFyaXNvbiwgbWVhbmluZyB0aGF0IGNoYW5naW5nIHByb3BlcnRpZXMgZGVlcGVyIHRoYW4gdGhlXHJcbiAqIGZpcnN0IGxldmVsIG9mIHRoZSBvYmplY3QgKG9yIG9ubHkgY2hhbmdpbmcgdGhlIHByb3BlcnRpZXMgb2YgYW4gaXRlbSBpbiB0aGUgY29sbGVjdGlvbiBpZiBpdCdzIGFuIGFycmF5KSB3aWxsIHN0aWxsXHJcbiAqIG5vdCB0cmlnZ2VyIGEgcmUtcmVuZGVyaW5nIG9mIHRoZSBtb2RlbC5cclxuICpcclxuICogIyBDU1MgY2xhc3Nlc1xyXG4gKiBUaGUgZm9sbG93aW5nIENTUyBjbGFzc2VzIGFyZSBhZGRlZCBhbmQgcmVtb3ZlZCBvbiB0aGUgYXNzb2NpYXRlZCBpbnB1dC9zZWxlY3QvdGV4dGFyZWEgZWxlbWVudFxyXG4gKiBkZXBlbmRpbmcgb24gdGhlIHZhbGlkaXR5IG9mIHRoZSBtb2RlbC5cclxuICpcclxuICogIC0gYG5nLXZhbGlkYDogdGhlIG1vZGVsIGlzIHZhbGlkXHJcbiAqICAtIGBuZy1pbnZhbGlkYDogdGhlIG1vZGVsIGlzIGludmFsaWRcclxuICogIC0gYG5nLXZhbGlkLVtrZXldYDogZm9yIGVhY2ggdmFsaWQga2V5IGFkZGVkIGJ5IGAkc2V0VmFsaWRpdHlgXHJcbiAqICAtIGBuZy1pbnZhbGlkLVtrZXldYDogZm9yIGVhY2ggaW52YWxpZCBrZXkgYWRkZWQgYnkgYCRzZXRWYWxpZGl0eWBcclxuICogIC0gYG5nLXByaXN0aW5lYDogdGhlIGNvbnRyb2wgaGFzbid0IGJlZW4gaW50ZXJhY3RlZCB3aXRoIHlldFxyXG4gKiAgLSBgbmctZGlydHlgOiB0aGUgY29udHJvbCBoYXMgYmVlbiBpbnRlcmFjdGVkIHdpdGhcclxuICogIC0gYG5nLXRvdWNoZWRgOiB0aGUgY29udHJvbCBoYXMgYmVlbiBibHVycmVkXHJcbiAqICAtIGBuZy11bnRvdWNoZWRgOiB0aGUgY29udHJvbCBoYXNuJ3QgYmVlbiBibHVycmVkXHJcbiAqICAtIGBuZy1wZW5kaW5nYDogYW55IGAkYXN5bmNWYWxpZGF0b3JzYCBhcmUgdW5mdWxmaWxsZWRcclxuICogIC0gYG5nLWVtcHR5YDogdGhlIHZpZXcgZG9lcyBub3QgY29udGFpbiBhIHZhbHVlIG9yIHRoZSB2YWx1ZSBpcyBkZWVtZWQgXCJlbXB0eVwiLCBhcyBkZWZpbmVkXHJcbiAqICAgICBieSB0aGUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGlzRW1wdHl9IG1ldGhvZFxyXG4gKiAgLSBgbmctbm90LWVtcHR5YDogdGhlIHZpZXcgY29udGFpbnMgYSBub24tZW1wdHkgdmFsdWVcclxuICpcclxuICogS2VlcCBpbiBtaW5kIHRoYXQgbmdBbmltYXRlIGNhbiBkZXRlY3QgZWFjaCBvZiB0aGVzZSBjbGFzc2VzIHdoZW4gYWRkZWQgYW5kIHJlbW92ZWQuXHJcbiAqXHJcbiAqICMjIEFuaW1hdGlvbiBIb29rc1xyXG4gKlxyXG4gKiBBbmltYXRpb25zIHdpdGhpbiBtb2RlbHMgYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWRcclxuICogb24gdGhlIGlucHV0IGVsZW1lbnQgd2hpY2ggaXMgYXR0YWNoZWQgdG8gdGhlIG1vZGVsLiBUaGVzZSBjbGFzc2VzIGluY2x1ZGU6IGAubmctcHJpc3RpbmVgLCBgLm5nLWRpcnR5YCxcclxuICogYC5uZy1pbnZhbGlkYCBhbmQgYC5uZy12YWxpZGAgYXMgd2VsbCBhcyBhbnkgb3RoZXIgdmFsaWRhdGlvbnMgdGhhdCBhcmUgcGVyZm9ybWVkIG9uIHRoZSBtb2RlbCBpdHNlbGYuXHJcbiAqIFRoZSBhbmltYXRpb25zIHRoYXQgYXJlIHRyaWdnZXJlZCB3aXRoaW4gbmdNb2RlbCBhcmUgc2ltaWxhciB0byBob3cgdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kXHJcbiAqIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGwgYXMgSlMgYW5pbWF0aW9ucy5cclxuICpcclxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhbiBpbnB1dCBlbGVtZW50XHJcbiAqIHRoYXQgaGFzIGJlZW4gcmVuZGVyZWQgYXMgaW52YWxpZCBhZnRlciBpdCBoYXMgYmVlbiB2YWxpZGF0ZWQ6XHJcbiAqXHJcbiAqIDxwcmU+XHJcbiAqIC8vYmUgc3VyZSB0byBpbmNsdWRlIG5nQW5pbWF0ZSBhcyBhIG1vZHVsZSB0byBob29rIGludG8gbW9yZVxyXG4gKiAvL2FkdmFuY2VkIGFuaW1hdGlvbnNcclxuICogLm15LWlucHV0IHtcclxuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcclxuICogICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICogfVxyXG4gKiAubXktaW5wdXQubmctaW52YWxpZCB7XHJcbiAqICAgYmFja2dyb3VuZDogcmVkO1xyXG4gKiAgIGNvbG9yOndoaXRlO1xyXG4gKiB9XHJcbiAqIDwvcHJlPlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8ZXhhbXBsZSBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBmaXhCYXNlPVwidHJ1ZVwiIG1vZHVsZT1cImlucHV0RXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbnB1dEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS52YWwgPSAnMSc7XHJcbiAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxzdHlsZT5cclxuICAgICAgICAgLm15LWlucHV0IHtcclxuICAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcclxuICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAubXktaW5wdXQubmctaW52YWxpZCB7XHJcbiAgICAgICAgICAgY29sb3I6d2hpdGU7XHJcbiAgICAgICAgICAgYmFja2dyb3VuZDogcmVkO1xyXG4gICAgICAgICB9XHJcbiAgICAgICA8L3N0eWxlPlxyXG4gICAgICAgPHAgaWQ9XCJpbnB1dERlc2NyaXB0aW9uXCI+XHJcbiAgICAgICAgVXBkYXRlIGlucHV0IHRvIHNlZSB0cmFuc2l0aW9ucyB3aGVuIHZhbGlkL2ludmFsaWQuXHJcbiAgICAgICAgSW50ZWdlciBpcyBhIHZhbGlkIHZhbHVlLlxyXG4gICAgICAgPC9wPlxyXG4gICAgICAgPGZvcm0gbmFtZT1cInRlc3RGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInZhbFwiIG5nLXBhdHRlcm49XCIvXlxcZCskL1wiIG5hbWU9XCJhbmltXCIgY2xhc3M9XCJteS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaW5wdXREZXNjcmlwdGlvblwiIC8+XHJcbiAgICAgICA8L2Zvcm0+XHJcbiAgICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqICMjIEJpbmRpbmcgdG8gYSBnZXR0ZXIvc2V0dGVyXHJcbiAqXHJcbiAqIFNvbWV0aW1lcyBpdCdzIGhlbHBmdWwgdG8gYmluZCBgbmdNb2RlbGAgdG8gYSBnZXR0ZXIvc2V0dGVyIGZ1bmN0aW9uLiAgQSBnZXR0ZXIvc2V0dGVyIGlzIGFcclxuICogZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1vZGVsIHdoZW4gY2FsbGVkIHdpdGggemVybyBhcmd1bWVudHMsIGFuZCBzZXRzXHJcbiAqIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBhIG1vZGVsIHdoZW4gY2FsbGVkIHdpdGggYW4gYXJndW1lbnQuIEl0J3Mgc29tZXRpbWVzIHVzZWZ1bCB0byB1c2UgdGhpc1xyXG4gKiBmb3IgbW9kZWxzIHRoYXQgaGF2ZSBhbiBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiB0aGF0J3MgZGlmZmVyZW50IGZyb20gd2hhdCB0aGUgbW9kZWwgZXhwb3Nlc1xyXG4gKiB0byB0aGUgdmlldy5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cclxuICogKipCZXN0IFByYWN0aWNlOioqIEl0J3MgYmVzdCB0byBrZWVwIGdldHRlcnMgZmFzdCBiZWNhdXNlIEFuZ3VsYXIgaXMgbGlrZWx5IHRvIGNhbGwgdGhlbSBtb3JlXHJcbiAqIGZyZXF1ZW50bHkgdGhhbiBvdGhlciBwYXJ0cyBvZiB5b3VyIGNvZGUuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBZb3UgdXNlIHRoaXMgYmVoYXZpb3IgYnkgYWRkaW5nIGBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiYCB0byBhbiBlbGVtZW50IHRoYXRcclxuICogaGFzIGBuZy1tb2RlbGAgYXR0YWNoZWQgdG8gaXQuIFlvdSBjYW4gYWxzbyBhZGQgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCJgIHRvXHJcbiAqIGEgYDxmb3JtPmAsIHdoaWNoIHdpbGwgZW5hYmxlIHRoaXMgYmVoYXZpb3IgZm9yIGFsbCBgPGlucHV0PmBzIHdpdGhpbiBpdC4gU2VlXHJcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zYH0gZm9yIG1vcmUuXHJcbiAqXHJcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGBuZ01vZGVsYCB3aXRoIGEgZ2V0dGVyL3NldHRlcjpcclxuICpcclxuICogQGV4YW1wbGVcclxuICogPGV4YW1wbGUgbmFtZT1cIm5nTW9kZWwtZ2V0dGVyLXNldHRlclwiIG1vZHVsZT1cImdldHRlclNldHRlckV4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XHJcbiAgICAgICAgICAgPGxhYmVsPk5hbWU6XHJcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiIC8+XHJcbiAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWUoKVwiPjwvc3Bhbj48L3ByZT5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0dGVyU2V0dGVyRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgIHZhciBfbmFtZSA9ICdCcmlhbic7XHJcbiAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7XHJcbiAgICAgICAgICAgICBuYW1lOiBmdW5jdGlvbihuZXdOYW1lKSB7XHJcbiAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IG5ld05hbWUgY2FuIGJlIHVuZGVmaW5lZCBmb3IgdHdvIHJlYXNvbnM6XHJcbiAgICAgICAgICAgICAgLy8gMS4gQmVjYXVzZSBpdCBpcyBjYWxsZWQgYXMgYSBnZXR0ZXIgYW5kIHRodXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzXHJcbiAgICAgICAgICAgICAgLy8gMi4gQmVjYXVzZSB0aGUgcHJvcGVydHkgc2hvdWxkIGFjdHVhbGx5IGJlIHNldCB0byB1bmRlZmluZWQuIFRoaXMgaGFwcGVucyBlLmcuIGlmIHRoZVxyXG4gICAgICAgICAgICAgIC8vICAgIGlucHV0IGlzIGludmFsaWRcclxuICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChfbmFtZSA9IG5ld05hbWUpIDogX25hbWU7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfTtcclxuICAgICAgICAgfV0pO1xyXG4gICAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nTW9kZWxEaXJlY3RpdmUgPSBbJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9mb3JtJywgJ14/bmdNb2RlbE9wdGlvbnMnXSxcclxuICAgIGNvbnRyb2xsZXI6IE5nTW9kZWxDb250cm9sbGVyLFxyXG4gICAgLy8gUHJlbGluayBuZWVkcyB0byBydW4gYmVmb3JlIGFueSBpbnB1dCBkaXJlY3RpdmVcclxuICAgIC8vIHNvIHRoYXQgd2UgY2FuIHNldCB0aGUgTmdNb2RlbE9wdGlvbnMgaW4gTmdNb2RlbENvbnRyb2xsZXJcclxuICAgIC8vIGJlZm9yZSBhbnlvbmUgZWxzZSB1c2VzIGl0LlxyXG4gICAgcHJpb3JpdHk6IDEsXHJcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ01vZGVsQ29tcGlsZShlbGVtZW50KSB7XHJcbiAgICAgIC8vIFNldHVwIGluaXRpYWwgc3RhdGUgb2YgdGhlIGNvbnRyb2xcclxuICAgICAgZWxlbWVudC5hZGRDbGFzcyhQUklTVElORV9DTEFTUykuYWRkQ2xhc3MoVU5UT1VDSEVEX0NMQVNTKS5hZGRDbGFzcyhWQUxJRF9DTEFTUyk7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHByZTogZnVuY3Rpb24gbmdNb2RlbFByZUxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XHJcbiAgICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF0sXHJcbiAgICAgICAgICAgICAgZm9ybUN0cmwgPSBjdHJsc1sxXSB8fCBtb2RlbEN0cmwuJCRwYXJlbnRGb3JtO1xyXG5cclxuICAgICAgICAgIG1vZGVsQ3RybC4kJHNldE9wdGlvbnMoY3RybHNbMl0gJiYgY3RybHNbMl0uJG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgIC8vIG5vdGlmeSBvdGhlcnMsIGVzcGVjaWFsbHkgcGFyZW50IGZvcm1zXHJcbiAgICAgICAgICBmb3JtQ3RybC4kYWRkQ29udHJvbChtb2RlbEN0cmwpO1xyXG5cclxuICAgICAgICAgIGF0dHIuJG9ic2VydmUoJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAobW9kZWxDdHJsLiRuYW1lICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kJHBhcmVudEZvcm0uJCRyZW5hbWVDb250cm9sKG1vZGVsQ3RybCwgbmV3VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG1vZGVsQ3RybC4kJHBhcmVudEZvcm0uJHJlbW92ZUNvbnRyb2wobW9kZWxDdHJsKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9zdDogZnVuY3Rpb24gbmdNb2RlbFBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xyXG4gICAgICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdO1xyXG4gICAgICAgICAgaWYgKG1vZGVsQ3RybC4kb3B0aW9ucyAmJiBtb2RlbEN0cmwuJG9wdGlvbnMudXBkYXRlT24pIHtcclxuICAgICAgICAgICAgZWxlbWVudC5vbihtb2RlbEN0cmwuJG9wdGlvbnMudXBkYXRlT24sIGZ1bmN0aW9uKGV2KSB7XHJcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQoZXYgJiYgZXYudHlwZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGVsZW1lbnQub24oJ2JsdXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKG1vZGVsQ3RybC4kdG91Y2hlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMobW9kZWxDdHJsLiRzZXRUb3VjaGVkKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzY29wZS4kYXBwbHkobW9kZWxDdHJsLiRzZXRUb3VjaGVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxudmFyIERFRkFVTFRfUkVHRVhQID0gLyhcXHMrfF4pZGVmYXVsdChcXHMrfCQpLztcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nTW9kZWxPcHRpb25zXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBBbGxvd3MgdHVuaW5nIGhvdyBtb2RlbCB1cGRhdGVzIGFyZSBkb25lLiBVc2luZyBgbmdNb2RlbE9wdGlvbnNgIHlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbSBsaXN0IG9mXHJcbiAqIGV2ZW50cyB0aGF0IHdpbGwgdHJpZ2dlciBhIG1vZGVsIHVwZGF0ZSBhbmQvb3IgYSBkZWJvdW5jaW5nIGRlbGF5IHNvIHRoYXQgdGhlIGFjdHVhbCB1cGRhdGUgb25seVxyXG4gKiB0YWtlcyBwbGFjZSB3aGVuIGEgdGltZXIgZXhwaXJlczsgdGhpcyB0aW1lciB3aWxsIGJlIHJlc2V0IGFmdGVyIGFub3RoZXIgY2hhbmdlIHRha2VzIHBsYWNlLlxyXG4gKlxyXG4gKiBHaXZlbiB0aGUgbmF0dXJlIG9mIGBuZ01vZGVsT3B0aW9uc2AsIHRoZSB2YWx1ZSBkaXNwbGF5ZWQgaW5zaWRlIGlucHV0IGZpZWxkcyBpbiB0aGUgdmlldyBtaWdodFxyXG4gKiBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgdmFsdWUgaW4gdGhlIGFjdHVhbCBtb2RlbC4gVGhpcyBtZWFucyB0aGF0IGlmIHlvdSB1cGRhdGUgdGhlIG1vZGVsIHlvdVxyXG4gKiBzaG91bGQgYWxzbyBpbnZva2Uge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgYCRyb2xsYmFja1ZpZXdWYWx1ZWB9IG9uIHRoZSByZWxldmFudCBpbnB1dCBmaWVsZCBpblxyXG4gKiBvcmRlciB0byBtYWtlIHN1cmUgaXQgaXMgc3luY2hyb25pemVkIHdpdGggdGhlIG1vZGVsIGFuZCB0aGF0IGFueSBkZWJvdW5jZWQgYWN0aW9uIGlzIGNhbmNlbGVkLlxyXG4gKlxyXG4gKiBUaGUgZWFzaWVzdCB3YXkgdG8gcmVmZXJlbmNlIHRoZSBjb250cm9sJ3Mge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgYCRyb2xsYmFja1ZpZXdWYWx1ZWB9XHJcbiAqIG1ldGhvZCBpcyBieSBtYWtpbmcgc3VyZSB0aGUgaW5wdXQgaXMgcGxhY2VkIGluc2lkZSBhIGZvcm0gdGhhdCBoYXMgYSBgbmFtZWAgYXR0cmlidXRlLiBUaGlzIGlzXHJcbiAqIGltcG9ydGFudCBiZWNhdXNlIGBmb3JtYCBjb250cm9sbGVycyBhcmUgcHVibGlzaGVkIHRvIHRoZSByZWxhdGVkIHNjb3BlIHVuZGVyIHRoZSBuYW1lIGluIHRoZWlyXHJcbiAqIGBuYW1lYCBhdHRyaWJ1dGUuXHJcbiAqXHJcbiAqIEFueSBwZW5kaW5nIGNoYW5nZXMgd2lsbCB0YWtlIHBsYWNlIGltbWVkaWF0ZWx5IHdoZW4gYW4gZW5jbG9zaW5nIGZvcm0gaXMgc3VibWl0dGVkIHZpYSB0aGVcclxuICogYHN1Ym1pdGAgZXZlbnQuIE5vdGUgdGhhdCBgbmdDbGlja2AgZXZlbnRzIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBtb2RlbCBpcyB1cGRhdGVkLiBVc2UgYG5nU3VibWl0YFxyXG4gKiB0byBoYXZlIGFjY2VzcyB0byB0aGUgdXBkYXRlZCBtb2RlbC5cclxuICpcclxuICogYG5nTW9kZWxPcHRpb25zYCBoYXMgYW4gZWZmZWN0IG9uIHRoZSBlbGVtZW50IGl0J3MgZGVjbGFyZWQgb24gYW5kIGl0cyBkZXNjZW5kYW50cy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG5nTW9kZWxPcHRpb25zIG9wdGlvbnMgdG8gYXBwbHkgdG8gdGhlIGN1cnJlbnQgbW9kZWwuIFZhbGlkIGtleXMgYXJlOlxyXG4gKiAgIC0gYHVwZGF0ZU9uYDogc3RyaW5nIHNwZWNpZnlpbmcgd2hpY2ggZXZlbnQgc2hvdWxkIHRoZSBpbnB1dCBiZSBib3VuZCB0by4gWW91IGNhbiBzZXQgc2V2ZXJhbFxyXG4gKiAgICAgZXZlbnRzIHVzaW5nIGFuIHNwYWNlIGRlbGltaXRlZCBsaXN0LiBUaGVyZSBpcyBhIHNwZWNpYWwgZXZlbnQgY2FsbGVkIGBkZWZhdWx0YCB0aGF0XHJcbiAqICAgICBtYXRjaGVzIHRoZSBkZWZhdWx0IGV2ZW50cyBiZWxvbmdpbmcgb2YgdGhlIGNvbnRyb2wuXHJcbiAqICAgLSBgZGVib3VuY2VgOiBpbnRlZ2VyIHZhbHVlIHdoaWNoIGNvbnRhaW5zIHRoZSBkZWJvdW5jZSBtb2RlbCB1cGRhdGUgdmFsdWUgaW4gbWlsbGlzZWNvbmRzLiBBXHJcbiAqICAgICB2YWx1ZSBvZiAwIHRyaWdnZXJzIGFuIGltbWVkaWF0ZSB1cGRhdGUuIElmIGFuIG9iamVjdCBpcyBzdXBwbGllZCBpbnN0ZWFkLCB5b3UgY2FuIHNwZWNpZnkgYVxyXG4gKiAgICAgY3VzdG9tIHZhbHVlIGZvciBlYWNoIGV2ZW50LiBGb3IgZXhhbXBsZTpcclxuICogICAgIGBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2RlZmF1bHQgYmx1cicsIGRlYm91bmNlOiB7ICdkZWZhdWx0JzogNTAwLCAnYmx1cic6IDAgfSB9XCJgXHJcbiAqICAgLSBgYWxsb3dJbnZhbGlkYDogYm9vbGVhbiB2YWx1ZSB3aGljaCBpbmRpY2F0ZXMgdGhhdCB0aGUgbW9kZWwgY2FuIGJlIHNldCB3aXRoIHZhbHVlcyB0aGF0IGRpZFxyXG4gKiAgICAgbm90IHZhbGlkYXRlIGNvcnJlY3RseSBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHNldHRpbmcgdGhlIG1vZGVsIHRvIHVuZGVmaW5lZC5cclxuICogICAtIGBnZXR0ZXJTZXR0ZXJgOiBib29sZWFuIHZhbHVlIHdoaWNoIGRldGVybWluZXMgd2hldGhlciBvciBub3QgdG8gdHJlYXQgZnVuY3Rpb25zIGJvdW5kIHRvXHJcbiAgICAgICBgbmdNb2RlbGAgYXMgZ2V0dGVycy9zZXR0ZXJzLlxyXG4gKiAgIC0gYHRpbWV6b25lYDogRGVmaW5lcyB0aGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGZvclxyXG4gKiAgICAgYDxpbnB1dCB0eXBlPVwiZGF0ZVwiPmAsIGA8aW5wdXQgdHlwZT1cInRpbWVcIj5gLCAuLi4gLiBJdCB1bmRlcnN0YW5kcyBVVEMvR01UIGFuZCB0aGVcclxuICogICAgIGNvbnRpbmVudGFsIFVTIHRpbWUgem9uZSBhYmJyZXZpYXRpb25zLCBidXQgZm9yIGdlbmVyYWwgdXNlLCB1c2UgYSB0aW1lIHpvbmUgb2Zmc2V0LCBmb3JcclxuICogICAgIGV4YW1wbGUsIGAnKzA0MzAnYCAoNCBob3VycywgMzAgbWludXRlcyBlYXN0IG9mIHRoZSBHcmVlbndpY2ggbWVyaWRpYW4pXHJcbiAqICAgICBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIgd2lsbCBiZSB1c2VkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG5cclxuICBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIG92ZXJyaWRlIGltbWVkaWF0ZSB1cGRhdGVzLiBDaGFuZ2VzIG9uIHRoZSBpbnB1dHMgd2l0aGluIHRoZVxyXG4gIGZvcm0gd2lsbCB1cGRhdGUgdGhlIG1vZGVsIG9ubHkgd2hlbiB0aGUgY29udHJvbCBsb3NlcyBmb2N1cyAoYmx1ciBldmVudCkuIElmIGBlc2NhcGVgIGtleSBpc1xyXG4gIHByZXNzZWQgd2hpbGUgdGhlIGlucHV0IGZpZWxkIGlzIGZvY3VzZWQsIHRoZSB2YWx1ZSBpcyByZXNldCB0byB0aGUgdmFsdWUgaW4gdGhlIGN1cnJlbnQgbW9kZWwuXHJcblxyXG4gIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtYmx1clwiIG1vZHVsZT1cIm9wdGlvbnNFeGFtcGxlXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxyXG4gICAgICAgICAgPGxhYmVsPk5hbWU6XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2JsdXInIH1cIlxyXG4gICAgICAgICAgICAgICAgICAgbmcta2V5dXA9XCJjYW5jZWwoJGV2ZW50KVwiIC8+XHJcbiAgICAgICAgICA8L2xhYmVsPjxiciAvPlxyXG4gICAgICAgICAgPGxhYmVsPk90aGVyIGRhdGE6XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlci5kYXRhXCIgLz5cclxuICAgICAgICAgIDwvbGFiZWw+PGJyIC8+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZVwiPjwvc3Bhbj48L3ByZT5cclxuICAgICAgICA8cHJlPnVzZXIuZGF0YSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLmRhdGFcIj48L3NwYW4+PC9wcmU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnb3B0aW9uc0V4YW1wbGUnLCBbXSlcclxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgJHNjb3BlLnVzZXIgPSB7IG5hbWU6ICdKb2huJywgZGF0YTogJycgfTtcclxuXHJcbiAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnVzZXJGb3JtLnVzZXJOYW1lLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyLm5hbWUnKSk7XHJcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIubmFtZScpKTtcclxuICAgICAgdmFyIG90aGVyID0gZWxlbWVudChieS5tb2RlbCgndXNlci5kYXRhJykpO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBhbGxvdyBjdXN0b20gZXZlbnRzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaW5wdXQuc2VuZEtleXMoJyBEb2UnKTtcclxuICAgICAgICBpbnB1dC5jbGljaygpO1xyXG4gICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0pvaG4nKTtcclxuICAgICAgICBvdGhlci5jbGljaygpO1xyXG4gICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0pvaG4gRG9lJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCAkcm9sbGJhY2tWaWV3VmFsdWUgd2hlbiBtb2RlbCBjaGFuZ2VzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaW5wdXQuc2VuZEtleXMoJyBEb2UnKTtcclxuICAgICAgICBleHBlY3QoaW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCdKb2huIERvZScpO1xyXG4gICAgICAgIGlucHV0LnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkVTQ0FQRSk7XHJcbiAgICAgICAgZXhwZWN0KGlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnSm9obicpO1xyXG4gICAgICAgIG90aGVyLmNsaWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnSm9obicpO1xyXG4gICAgICB9KTtcclxuICAgIDwvZmlsZT5cclxuICA8L2V4YW1wbGU+XHJcblxyXG4gIFRoaXMgb25lIHNob3dzIGhvdyB0byBkZWJvdW5jZSBtb2RlbCBjaGFuZ2VzLiBNb2RlbCB3aWxsIGJlIHVwZGF0ZWQgb25seSAxIHNlYyBhZnRlciBsYXN0IGNoYW5nZS5cclxuICBJZiB0aGUgYENsZWFyYCBidXR0b24gaXMgcHJlc3NlZCwgYW55IGRlYm91bmNlZCBhY3Rpb24gaXMgY2FuY2VsZWQgYW5kIHRoZSB2YWx1ZSBiZWNvbWVzIGVtcHR5LlxyXG5cclxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWRlYm91bmNlXCIgbW9kdWxlPVwib3B0aW9uc0V4YW1wbGVcIj5cclxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XHJcbiAgICAgICAgICA8bGFiZWw+TmFtZTpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcclxuICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGRlYm91bmNlOiAxMDAwIH1cIiAvPlxyXG4gICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJ1c2VyRm9ybS51c2VyTmFtZS4kcm9sbGJhY2tWaWV3VmFsdWUoKTsgdXNlci5uYW1lPScnXCI+Q2xlYXI8L2J1dHRvbj5cclxuICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWVcIj48L3NwYW4+PC9wcmU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnb3B0aW9uc0V4YW1wbGUnLCBbXSlcclxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgJHNjb3BlLnVzZXIgPSB7IG5hbWU6ICdJZ29yJyB9O1xyXG4gICAgICAgIH1dKTtcclxuICAgIDwvZmlsZT5cclxuICA8L2V4YW1wbGU+XHJcblxyXG4gIFRoaXMgb25lIHNob3dzIGhvdyB0byBiaW5kIHRvIGdldHRlci9zZXR0ZXJzOlxyXG5cclxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWdldHRlci1zZXR0ZXJcIiBtb2R1bGU9XCJnZXR0ZXJTZXR0ZXJFeGFtcGxlXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxyXG4gICAgICAgICAgPGxhYmVsPk5hbWU6XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiIC8+XHJcbiAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWUoKVwiPjwvc3Bhbj48L3ByZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdnZXR0ZXJTZXR0ZXJFeGFtcGxlJywgW10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgIHZhciBfbmFtZSA9ICdCcmlhbic7XHJcbiAgICAgICAgICAkc2NvcGUudXNlciA9IHtcclxuICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xyXG4gICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBuZXdOYW1lIGNhbiBiZSB1bmRlZmluZWQgZm9yIHR3byByZWFzb25zOlxyXG4gICAgICAgICAgICAgIC8vIDEuIEJlY2F1c2UgaXQgaXMgY2FsbGVkIGFzIGEgZ2V0dGVyIGFuZCB0aHVzIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50c1xyXG4gICAgICAgICAgICAgIC8vIDIuIEJlY2F1c2UgdGhlIHByb3BlcnR5IHNob3VsZCBhY3R1YWxseSBiZSBzZXQgdG8gdW5kZWZpbmVkLiBUaGlzIGhhcHBlbnMgZS5nLiBpZiB0aGVcclxuICAgICAgICAgICAgICAvLyAgICBpbnB1dCBpcyBpbnZhbGlkXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoX25hbWUgPSBuZXdOYW1lKSA6IF9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxuICAgIDwvZmlsZT5cclxuICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdNb2RlbE9wdGlvbnNEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzKSB7XHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgdGhpcy4kb3B0aW9ucyA9IGNvcHkoJHNjb3BlLiRldmFsKCRhdHRycy5uZ01vZGVsT3B0aW9ucykpO1xyXG4gICAgICAvLyBBbGxvdyBhZGRpbmcvb3ZlcnJpZGluZyBib3VuZCBldmVudHNcclxuICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uKSkge1xyXG4gICAgICAgIHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgLy8gZXh0cmFjdCBcImRlZmF1bHRcIiBwc2V1ZG8tZXZlbnQgZnJvbSBsaXN0IG9mIGV2ZW50cyB0aGF0IGNhbiB0cmlnZ2VyIGEgbW9kZWwgdXBkYXRlXHJcbiAgICAgICAgdGhpcy4kb3B0aW9ucy51cGRhdGVPbiA9IHRyaW0odGhpcy4kb3B0aW9ucy51cGRhdGVPbi5yZXBsYWNlKERFRkFVTFRfUkVHRVhQLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHRoYXQuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgIHJldHVybiAnICc7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfV1cclxuICB9O1xyXG59O1xyXG5cclxuXHJcblxyXG4vLyBoZWxwZXIgbWV0aG9kc1xyXG5mdW5jdGlvbiBhZGRTZXRWYWxpZGl0eU1ldGhvZChjb250ZXh0KSB7XHJcbiAgdmFyIGN0cmwgPSBjb250ZXh0LmN0cmwsXHJcbiAgICAgICRlbGVtZW50ID0gY29udGV4dC4kZWxlbWVudCxcclxuICAgICAgY2xhc3NDYWNoZSA9IHt9LFxyXG4gICAgICBzZXQgPSBjb250ZXh0LnNldCxcclxuICAgICAgdW5zZXQgPSBjb250ZXh0LnVuc2V0LFxyXG4gICAgICAkYW5pbWF0ZSA9IGNvbnRleHQuJGFuaW1hdGU7XHJcblxyXG4gIGNsYXNzQ2FjaGVbSU5WQUxJRF9DTEFTU10gPSAhKGNsYXNzQ2FjaGVbVkFMSURfQ0xBU1NdID0gJGVsZW1lbnQuaGFzQ2xhc3MoVkFMSURfQ0xBU1MpKTtcclxuXHJcbiAgY3RybC4kc2V0VmFsaWRpdHkgPSBzZXRWYWxpZGl0eTtcclxuXHJcbiAgZnVuY3Rpb24gc2V0VmFsaWRpdHkodmFsaWRhdGlvbkVycm9yS2V5LCBzdGF0ZSwgY29udHJvbGxlcikge1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKHN0YXRlKSkge1xyXG4gICAgICBjcmVhdGVBbmRTZXQoJyRwZW5kaW5nJywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVuc2V0QW5kQ2xlYW51cCgnJHBlbmRpbmcnLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpc0Jvb2xlYW4oc3RhdGUpKSB7XHJcbiAgICAgIHVuc2V0KGN0cmwuJGVycm9yLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xyXG4gICAgICB1bnNldChjdHJsLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgIHVuc2V0KGN0cmwuJGVycm9yLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xyXG4gICAgICAgIHNldChjdHJsLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXQoY3RybC4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICAgICAgdW5zZXQoY3RybC4kJHN1Y2Nlc3MsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjdHJsLiRwZW5kaW5nKSB7XHJcbiAgICAgIGNhY2hlZFRvZ2dsZUNsYXNzKFBFTkRJTkdfQ0xBU1MsIHRydWUpO1xyXG4gICAgICBjdHJsLiR2YWxpZCA9IGN0cmwuJGludmFsaWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3MoJycsIG51bGwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FjaGVkVG9nZ2xlQ2xhc3MoUEVORElOR19DTEFTUywgZmFsc2UpO1xyXG4gICAgICBjdHJsLiR2YWxpZCA9IGlzT2JqZWN0RW1wdHkoY3RybC4kZXJyb3IpO1xyXG4gICAgICBjdHJsLiRpbnZhbGlkID0gIWN0cmwuJHZhbGlkO1xyXG4gICAgICB0b2dnbGVWYWxpZGF0aW9uQ3NzKCcnLCBjdHJsLiR2YWxpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmUtcmVhZCB0aGUgc3RhdGUgYXMgdGhlIHNldC91bnNldCBtZXRob2RzIGNvdWxkIGhhdmVcclxuICAgIC8vIGNvbWJpbmVkIHN0YXRlIGluIGN0cmwuJGVycm9yW3ZhbGlkYXRpb25FcnJvcl0gKHVzZWQgZm9yIGZvcm1zKSxcclxuICAgIC8vIHdoZXJlIHNldHRpbmcvdW5zZXR0aW5nIG9ubHkgaW5jcmVtZW50cy9kZWNyZW1lbnRzIHRoZSB2YWx1ZSxcclxuICAgIC8vIGFuZCBkb2VzIG5vdCByZXBsYWNlIGl0LlxyXG4gICAgdmFyIGNvbWJpbmVkU3RhdGU7XHJcbiAgICBpZiAoY3RybC4kcGVuZGluZyAmJiBjdHJsLiRwZW5kaW5nW3ZhbGlkYXRpb25FcnJvcktleV0pIHtcclxuICAgICAgY29tYmluZWRTdGF0ZSA9IHVuZGVmaW5lZDtcclxuICAgIH0gZWxzZSBpZiAoY3RybC4kZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xyXG4gICAgICBjb21iaW5lZFN0YXRlID0gZmFsc2U7XHJcbiAgICB9IGVsc2UgaWYgKGN0cmwuJCRzdWNjZXNzW3ZhbGlkYXRpb25FcnJvcktleV0pIHtcclxuICAgICAgY29tYmluZWRTdGF0ZSA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb21iaW5lZFN0YXRlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVWYWxpZGF0aW9uQ3NzKHZhbGlkYXRpb25FcnJvcktleSwgY29tYmluZWRTdGF0ZSk7XHJcbiAgICBjdHJsLiQkcGFyZW50Rm9ybS4kc2V0VmFsaWRpdHkodmFsaWRhdGlvbkVycm9yS2V5LCBjb21iaW5lZFN0YXRlLCBjdHJsKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUFuZFNldChuYW1lLCB2YWx1ZSwgY29udHJvbGxlcikge1xyXG4gICAgaWYgKCFjdHJsW25hbWVdKSB7XHJcbiAgICAgIGN0cmxbbmFtZV0gPSB7fTtcclxuICAgIH1cclxuICAgIHNldChjdHJsW25hbWVdLCB2YWx1ZSwgY29udHJvbGxlcik7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB1bnNldEFuZENsZWFudXAobmFtZSwgdmFsdWUsIGNvbnRyb2xsZXIpIHtcclxuICAgIGlmIChjdHJsW25hbWVdKSB7XHJcbiAgICAgIHVuc2V0KGN0cmxbbmFtZV0sIHZhbHVlLCBjb250cm9sbGVyKTtcclxuICAgIH1cclxuICAgIGlmIChpc09iamVjdEVtcHR5KGN0cmxbbmFtZV0pKSB7XHJcbiAgICAgIGN0cmxbbmFtZV0gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYWNoZWRUb2dnbGVDbGFzcyhjbGFzc05hbWUsIHN3aXRjaFZhbHVlKSB7XHJcbiAgICBpZiAoc3dpdGNoVmFsdWUgJiYgIWNsYXNzQ2FjaGVbY2xhc3NOYW1lXSkge1xyXG4gICAgICAkYW5pbWF0ZS5hZGRDbGFzcygkZWxlbWVudCwgY2xhc3NOYW1lKTtcclxuICAgICAgY2xhc3NDYWNoZVtjbGFzc05hbWVdID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoIXN3aXRjaFZhbHVlICYmIGNsYXNzQ2FjaGVbY2xhc3NOYW1lXSkge1xyXG4gICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgY2xhc3NOYW1lKTtcclxuICAgICAgY2xhc3NDYWNoZVtjbGFzc05hbWVdID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0b2dnbGVWYWxpZGF0aW9uQ3NzKHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCkge1xyXG4gICAgdmFsaWRhdGlvbkVycm9yS2V5ID0gdmFsaWRhdGlvbkVycm9yS2V5ID8gJy0nICsgc25ha2VfY2FzZSh2YWxpZGF0aW9uRXJyb3JLZXksICctJykgOiAnJztcclxuXHJcbiAgICBjYWNoZWRUb2dnbGVDbGFzcyhWQUxJRF9DTEFTUyArIHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCA9PT0gdHJ1ZSk7XHJcbiAgICBjYWNoZWRUb2dnbGVDbGFzcyhJTlZBTElEX0NMQVNTICsgdmFsaWRhdGlvbkVycm9yS2V5LCBpc1ZhbGlkID09PSBmYWxzZSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xyXG4gIGlmIChvYmopIHtcclxuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XHJcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nTm9uQmluZGFibGVcclxuICogQHJlc3RyaWN0IEFDXHJcbiAqIEBwcmlvcml0eSAxMDAwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nTm9uQmluZGFibGVgIGRpcmVjdGl2ZSB0ZWxscyBBbmd1bGFyIG5vdCB0byBjb21waWxlIG9yIGJpbmQgdGhlIGNvbnRlbnRzIG9mIHRoZSBjdXJyZW50XHJcbiAqIERPTSBlbGVtZW50LiBUaGlzIGlzIHVzZWZ1bCBpZiB0aGUgZWxlbWVudCBjb250YWlucyB3aGF0IGFwcGVhcnMgdG8gYmUgQW5ndWxhciBkaXJlY3RpdmVzIGFuZFxyXG4gKiBiaW5kaW5ncyBidXQgd2hpY2ggc2hvdWxkIGJlIGlnbm9yZWQgYnkgQW5ndWxhci4gVGhpcyBjb3VsZCBiZSB0aGUgY2FzZSBpZiB5b3UgaGF2ZSBhIHNpdGUgdGhhdFxyXG4gKiBkaXNwbGF5cyBzbmlwcGV0cyBvZiBjb2RlLCBmb3IgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBJbiB0aGlzIGV4YW1wbGUgdGhlcmUgYXJlIHR3byBsb2NhdGlvbnMgd2hlcmUgYSBzaW1wbGUgaW50ZXJwb2xhdGlvbiBiaW5kaW5nIChge3t9fWApIGlzIHByZXNlbnQsXHJcbiAqIGJ1dCB0aGUgb25lIHdyYXBwZWQgaW4gYG5nTm9uQmluZGFibGVgIGlzIGxlZnQgYWxvbmUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8ZGl2Pk5vcm1hbDoge3sxICsgMn19PC9kaXY+XHJcbiAgICAgICAgPGRpdiBuZy1ub24tYmluZGFibGU+SWdub3JlZDoge3sxICsgMn19PC9kaXY+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1ub24tYmluZGFibGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnMSArIDInKSkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzMnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnZGl2JykpLmxhc3QoKS5nZXRUZXh0KCkpLnRvTWF0Y2goLzEgXFwrIDIvKTtcclxuICAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdOb25CaW5kYWJsZURpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHsgdGVybWluYWw6IHRydWUsIHByaW9yaXR5OiAxMDAwIH0pO1xyXG5cclxuLyogZ2xvYmFsIGpxTGl0ZVJlbW92ZSAqL1xyXG5cclxudmFyIG5nT3B0aW9uc01pbkVyciA9IG1pbkVycignbmdPcHRpb25zJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ09wdGlvbnNcclxuICogQHJlc3RyaWN0IEFcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFRoZSBgbmdPcHRpb25zYCBhdHRyaWJ1dGUgY2FuIGJlIHVzZWQgdG8gZHluYW1pY2FsbHkgZ2VuZXJhdGUgYSBsaXN0IG9mIGA8b3B0aW9uPmBcclxuICogZWxlbWVudHMgZm9yIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQgdXNpbmcgdGhlIGFycmF5IG9yIG9iamVjdCBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZVxyXG4gKiBgbmdPcHRpb25zYCBjb21wcmVoZW5zaW9uIGV4cHJlc3Npb24uXHJcbiAqXHJcbiAqIEluIG1hbnkgY2FzZXMsIGBuZ1JlcGVhdGAgY2FuIGJlIHVzZWQgb24gYDxvcHRpb24+YCBlbGVtZW50cyBpbnN0ZWFkIG9mIGBuZ09wdGlvbnNgIHRvIGFjaGlldmUgYVxyXG4gKiBzaW1pbGFyIHJlc3VsdC4gSG93ZXZlciwgYG5nT3B0aW9uc2AgcHJvdmlkZXMgc29tZSBiZW5lZml0cyBzdWNoIGFzIHJlZHVjaW5nIG1lbW9yeSBhbmRcclxuICogaW5jcmVhc2luZyBzcGVlZCBieSBub3QgY3JlYXRpbmcgYSBuZXcgc2NvcGUgZm9yIGVhY2ggcmVwZWF0ZWQgaW5zdGFuY2UsIGFzIHdlbGwgYXMgcHJvdmlkaW5nXHJcbiAqIG1vcmUgZmxleGliaWxpdHkgaW4gaG93IHRoZSBgPHNlbGVjdD5gJ3MgbW9kZWwgaXMgYXNzaWduZWQgdmlhIHRoZSBgc2VsZWN0YCAqKmBhc2AqKiBwYXJ0IG9mIHRoZVxyXG4gKiBjb21wcmVoZW5zaW9uIGV4cHJlc3Npb24uIGBuZ09wdGlvbnNgIHNob3VsZCBiZSB1c2VkIHdoZW4gdGhlIGA8c2VsZWN0PmAgbW9kZWwgbmVlZHMgdG8gYmUgYm91bmRcclxuICogIHRvIGEgbm9uLXN0cmluZyB2YWx1ZS4gVGhpcyBpcyBiZWNhdXNlIGFuIG9wdGlvbiBlbGVtZW50IGNhbiBvbmx5IGJlIGJvdW5kIHRvIHN0cmluZyB2YWx1ZXMgYXRcclxuICogcHJlc2VudC5cclxuICpcclxuICogV2hlbiBhbiBpdGVtIGluIHRoZSBgPHNlbGVjdD5gIG1lbnUgaXMgc2VsZWN0ZWQsIHRoZSBhcnJheSBlbGVtZW50IG9yIG9iamVjdCBwcm9wZXJ0eVxyXG4gKiByZXByZXNlbnRlZCBieSB0aGUgc2VsZWN0ZWQgb3B0aW9uIHdpbGwgYmUgYm91bmQgdG8gdGhlIG1vZGVsIGlkZW50aWZpZWQgYnkgdGhlIGBuZ01vZGVsYFxyXG4gKiBkaXJlY3RpdmUuXHJcbiAqXHJcbiAqIE9wdGlvbmFsbHksIGEgc2luZ2xlIGhhcmQtY29kZWQgYDxvcHRpb24+YCBlbGVtZW50LCB3aXRoIHRoZSB2YWx1ZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLCBjYW5cclxuICogYmUgbmVzdGVkIGludG8gdGhlIGA8c2VsZWN0PmAgZWxlbWVudC4gVGhpcyBlbGVtZW50IHdpbGwgdGhlbiByZXByZXNlbnQgdGhlIGBudWxsYCBvciBcIm5vdCBzZWxlY3RlZFwiXHJcbiAqIG9wdGlvbi4gU2VlIGV4YW1wbGUgYmVsb3cgZm9yIGRlbW9uc3RyYXRpb24uXHJcbiAqXHJcbiAqICMjIENvbXBsZXggTW9kZWxzIChvYmplY3RzIG9yIGNvbGxlY3Rpb25zKVxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0LCBgbmdNb2RlbGAgd2F0Y2hlcyB0aGUgbW9kZWwgYnkgcmVmZXJlbmNlLCBub3QgdmFsdWUuIFRoaXMgaXMgaW1wb3J0YW50IHRvIGtub3cgd2hlblxyXG4gKiBiaW5kaW5nIHRoZSBzZWxlY3QgdG8gYSBtb2RlbCB0aGF0IGlzIGFuIG9iamVjdCBvciBhIGNvbGxlY3Rpb24uXHJcbiAqXHJcbiAqIE9uZSBpc3N1ZSBvY2N1cnMgaWYgeW91IHdhbnQgdG8gcHJlc2VsZWN0IGFuIG9wdGlvbi4gRm9yIGV4YW1wbGUsIGlmIHlvdSBzZXRcclxuICogdGhlIG1vZGVsIHRvIGFuIG9iamVjdCB0aGF0IGlzIGVxdWFsIHRvIGFuIG9iamVjdCBpbiB5b3VyIGNvbGxlY3Rpb24sIGBuZ09wdGlvbnNgIHdvbid0IGJlIGFibGUgdG8gc2V0IHRoZSBzZWxlY3Rpb24sXHJcbiAqIGJlY2F1c2UgdGhlIG9iamVjdHMgYXJlIG5vdCBpZGVudGljYWwuIFNvIGJ5IGRlZmF1bHQsIHlvdSBzaG91bGQgYWx3YXlzIHJlZmVyZW5jZSB0aGUgaXRlbSBpbiB5b3VyIGNvbGxlY3Rpb25cclxuICogZm9yIHByZXNlbGVjdGlvbnMsIGUuZy46IGAkc2NvcGUuc2VsZWN0ZWQgPSAkc2NvcGUuY29sbGVjdGlvblszXWAuXHJcbiAqXHJcbiAqIEFub3RoZXIgc29sdXRpb24gaXMgdG8gdXNlIGEgYHRyYWNrIGJ5YCBjbGF1c2UsIGJlY2F1c2UgdGhlbiBgbmdPcHRpb25zYCB3aWxsIHRyYWNrIHRoZSBpZGVudGl0eVxyXG4gKiBvZiB0aGUgaXRlbSBub3QgYnkgcmVmZXJlbmNlLCBidXQgYnkgdGhlIHJlc3VsdCBvZiB0aGUgYHRyYWNrIGJ5YCBleHByZXNzaW9uLiBGb3IgZXhhbXBsZSwgaWYgeW91clxyXG4gKiBjb2xsZWN0aW9uIGl0ZW1zIGhhdmUgYW4gaWQgcHJvcGVydHksIHlvdSB3b3VsZCBgdHJhY2sgYnkgaXRlbS5pZGAuXHJcbiAqXHJcbiAqIEEgZGlmZmVyZW50IGlzc3VlIHdpdGggb2JqZWN0cyBvciBjb2xsZWN0aW9ucyBpcyB0aGF0IG5nTW9kZWwgd29uJ3QgZGV0ZWN0IGlmIGFuIG9iamVjdCBwcm9wZXJ0eSBvclxyXG4gKiBhIGNvbGxlY3Rpb24gaXRlbSBjaGFuZ2VzLiBGb3IgdGhhdCByZWFzb24sIGBuZ09wdGlvbnNgIGFkZGl0aW9uYWxseSB3YXRjaGVzIHRoZSBtb2RlbCB1c2luZ1xyXG4gKiBgJHdhdGNoQ29sbGVjdGlvbmAsIHdoZW4gdGhlIGV4cHJlc3Npb24gY29udGFpbnMgYSBgdHJhY2sgYnlgIGNsYXVzZSBvciB0aGUgdGhlIHNlbGVjdCBoYXMgdGhlIGBtdWx0aXBsZWAgYXR0cmlidXRlLlxyXG4gKiBUaGlzIGFsbG93cyBuZ09wdGlvbnMgdG8gdHJpZ2dlciBhIHJlLXJlbmRlcmluZyBvZiB0aGUgb3B0aW9ucyBldmVuIGlmIHRoZSBhY3R1YWwgb2JqZWN0L2NvbGxlY3Rpb25cclxuICogaGFzIG5vdCBjaGFuZ2VkIGlkZW50aXR5LCBidXQgb25seSBhIHByb3BlcnR5IG9uIHRoZSBvYmplY3Qgb3IgYW4gaXRlbSBpbiB0aGUgY29sbGVjdGlvbiBjaGFuZ2VzLlxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgYCR3YXRjaENvbGxlY3Rpb25gIGRvZXMgYSBzaGFsbG93IGNvbXBhcmlzb24gb2YgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCAob3IgdGhlIGl0ZW1zIGluIHRoZSBjb2xsZWN0aW9uXHJcbiAqIGlmIHRoZSBtb2RlbCBpcyBhbiBhcnJheSkuIFRoaXMgbWVhbnMgdGhhdCBjaGFuZ2luZyBhIHByb3BlcnR5IGRlZXBlciB0aGFuIHRoZSBmaXJzdCBsZXZlbCBpbnNpZGUgdGhlXHJcbiAqIG9iamVjdC9jb2xsZWN0aW9uIHdpbGwgbm90IHRyaWdnZXIgYSByZS1yZW5kZXJpbmcuXHJcbiAqXHJcbiAqICMjIGBzZWxlY3RgICoqYGFzYCoqXHJcbiAqXHJcbiAqIFVzaW5nIGBzZWxlY3RgICoqYGFzYCoqIHdpbGwgYmluZCB0aGUgcmVzdWx0IG9mIHRoZSBgc2VsZWN0YCBleHByZXNzaW9uIHRvIHRoZSBtb2RlbCwgYnV0XHJcbiAqIHRoZSB2YWx1ZSBvZiB0aGUgYDxzZWxlY3Q+YCBhbmQgYDxvcHRpb24+YCBodG1sIGVsZW1lbnRzIHdpbGwgYmUgZWl0aGVyIHRoZSBpbmRleCAoZm9yIGFycmF5IGRhdGEgc291cmNlcylcclxuICogb3IgcHJvcGVydHkgbmFtZSAoZm9yIG9iamVjdCBkYXRhIHNvdXJjZXMpIG9mIHRoZSB2YWx1ZSB3aXRoaW4gdGhlIGNvbGxlY3Rpb24uIElmIGEgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvblxyXG4gKiBpcyB1c2VkLCB0aGUgcmVzdWx0IG9mIHRoYXQgZXhwcmVzc2lvbiB3aWxsIGJlIHNldCBhcyB0aGUgdmFsdWUgb2YgdGhlIGBvcHRpb25gIGFuZCBgc2VsZWN0YCBlbGVtZW50cy5cclxuICpcclxuICpcclxuICogIyMjIGBzZWxlY3RgICoqYGFzYCoqIGFuZCAqKmB0cmFjayBieWAqKlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiBCZSBjYXJlZnVsIHdoZW4gdXNpbmcgYHNlbGVjdGAgKipgYXNgKiogYW5kICoqYHRyYWNrIGJ5YCoqIGluIHRoZSBzYW1lIGV4cHJlc3Npb24uXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBHaXZlbiB0aGlzIGFycmF5IG9mIGl0ZW1zIG9uIHRoZSAkc2NvcGU6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICRzY29wZS5pdGVtcyA9IFt7XHJcbiAqICAgaWQ6IDEsXHJcbiAqICAgbGFiZWw6ICdhTGFiZWwnLFxyXG4gKiAgIHN1Ykl0ZW06IHsgbmFtZTogJ2FTdWJJdGVtJyB9XHJcbiAqIH0sIHtcclxuICogICBpZDogMixcclxuICogICBsYWJlbDogJ2JMYWJlbCcsXHJcbiAqICAgc3ViSXRlbTogeyBuYW1lOiAnYlN1Ykl0ZW0nIH1cclxuICogfV07XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGlzIHdpbGwgd29yazpcclxuICpcclxuICogYGBgaHRtbFxyXG4gKiA8c2VsZWN0IG5nLW9wdGlvbnM9XCJpdGVtIGFzIGl0ZW0ubGFiZWwgZm9yIGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj48L3NlbGVjdD5cclxuICogYGBgXHJcbiAqIGBgYGpzXHJcbiAqICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5pdGVtc1swXTtcclxuICogYGBgXHJcbiAqXHJcbiAqIGJ1dCB0aGlzIHdpbGwgbm90IHdvcms6XHJcbiAqXHJcbiAqIGBgYGh0bWxcclxuICogPHNlbGVjdCBuZy1vcHRpb25zPVwiaXRlbS5zdWJJdGVtIGFzIGl0ZW0ubGFiZWwgZm9yIGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj48L3NlbGVjdD5cclxuICogYGBgXHJcbiAqIGBgYGpzXHJcbiAqICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5pdGVtc1swXS5zdWJJdGVtO1xyXG4gKiBgYGBcclxuICpcclxuICogSW4gYm90aCBleGFtcGxlcywgdGhlICoqYHRyYWNrIGJ5YCoqIGV4cHJlc3Npb24gaXMgYXBwbGllZCBzdWNjZXNzZnVsbHkgdG8gZWFjaCBgaXRlbWAgaW4gdGhlXHJcbiAqIGBpdGVtc2AgYXJyYXkuIEJlY2F1c2UgdGhlIHNlbGVjdGVkIG9wdGlvbiBoYXMgYmVlbiBzZXQgcHJvZ3JhbW1hdGljYWxseSBpbiB0aGUgY29udHJvbGxlciwgdGhlXHJcbiAqICoqYHRyYWNrIGJ5YCoqIGV4cHJlc3Npb24gaXMgYWxzbyBhcHBsaWVkIHRvIHRoZSBgbmdNb2RlbGAgdmFsdWUuIEluIHRoZSBmaXJzdCBleGFtcGxlLCB0aGVcclxuICogYG5nTW9kZWxgIHZhbHVlIGlzIGBpdGVtc1swXWAgYW5kIHRoZSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBgaXRlbXNbMF0uaWRgIHdpdGhcclxuICogbm8gaXNzdWUuIEluIHRoZSBzZWNvbmQgZXhhbXBsZSwgdGhlIGBuZ01vZGVsYCB2YWx1ZSBpcyBgaXRlbXNbMF0uc3ViSXRlbWAgYW5kIHRoZSAqKmB0cmFjayBieWAqKlxyXG4gKiBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBgaXRlbXNbMF0uc3ViSXRlbS5pZGAgKHdoaWNoIGlzIHVuZGVmaW5lZCkuIEFzIGEgcmVzdWx0LCB0aGUgbW9kZWwgdmFsdWVcclxuICogaXMgbm90IG1hdGNoZWQgYWdhaW5zdCBhbnkgYDxvcHRpb24+YCBhbmQgdGhlIGA8c2VsZWN0PmAgYXBwZWFycyBhcyBoYXZpbmcgbm8gc2VsZWN0ZWQgdmFsdWUuXHJcbiAqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFRoZSBjb250cm9sIGlzIGNvbnNpZGVyZWQgdmFsaWQgb25seSBpZiB2YWx1ZSBpcyBlbnRlcmVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAqIEBwYXJhbSB7Y29tcHJlaGVuc2lvbl9leHByZXNzaW9uPX0gbmdPcHRpb25zIGluIG9uZSBvZiB0aGUgZm9sbG93aW5nIGZvcm1zOlxyXG4gKlxyXG4gKiAgICogZm9yIGFycmF5IGRhdGEgc291cmNlczpcclxuICogICAgICogYGxhYmVsYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXHJcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxyXG4gKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxyXG4gKiAgICAgKiBgbGFiZWxgICoqYGRpc2FibGUgd2hlbmAqKiBgZGlzYWJsZWAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxyXG4gKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCAqKmB0cmFjayBieWAqKiBgdHJhY2tleHByYFxyXG4gKiAgICAgKiBgbGFiZWxgICoqYGRpc2FibGUgd2hlbmAqKiBgZGlzYWJsZWAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCAqKmB0cmFjayBieWAqKiBgdHJhY2tleHByYFxyXG4gKiAgICAgKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWAgfCBvcmRlckJ5OmBvcmRlcmV4cHJgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXHJcbiAqICAgICAgICAoZm9yIGluY2x1ZGluZyBhIGZpbHRlciB3aXRoIGB0cmFjayBieWApXHJcbiAqICAgKiBmb3Igb2JqZWN0IGRhdGEgc291cmNlczpcclxuICogICAgICogYGxhYmVsYCAqKmBmb3IgKGAqKmBrZXlgICoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcclxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBmb3IgKGAqKmBrZXlgICoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcclxuICogICAgICogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvciAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXHJcbiAqICAgICAqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYCAqKmBmb3IgKGAqKmBrZXlgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxyXG4gKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGBcclxuICogICAgICAgICAqKmBmb3JgIGAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXHJcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYFxyXG4gKiAgICAgICAgICoqYGZvcmAgYChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcclxuICpcclxuICogV2hlcmU6XHJcbiAqXHJcbiAqICAgKiBgYXJyYXlgIC8gYG9iamVjdGA6IGFuIGV4cHJlc3Npb24gd2hpY2ggZXZhbHVhdGVzIHRvIGFuIGFycmF5IC8gb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cclxuICogICAqIGB2YWx1ZWA6IGxvY2FsIHZhcmlhYmxlIHdoaWNoIHdpbGwgcmVmZXIgdG8gZWFjaCBpdGVtIGluIHRoZSBgYXJyYXlgIG9yIGVhY2ggcHJvcGVydHkgdmFsdWVcclxuICogICAgICBvZiBgb2JqZWN0YCBkdXJpbmcgaXRlcmF0aW9uLlxyXG4gKiAgICogYGtleWA6IGxvY2FsIHZhcmlhYmxlIHdoaWNoIHdpbGwgcmVmZXIgdG8gYSBwcm9wZXJ0eSBuYW1lIGluIGBvYmplY3RgIGR1cmluZyBpdGVyYXRpb24uXHJcbiAqICAgKiBgbGFiZWxgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIHRoZSBsYWJlbCBmb3IgYDxvcHRpb24+YCBlbGVtZW50LiBUaGVcclxuICogICAgIGBleHByZXNzaW9uYCB3aWxsIG1vc3QgbGlrZWx5IHJlZmVyIHRvIHRoZSBgdmFsdWVgIHZhcmlhYmxlIChlLmcuIGB2YWx1ZS5wcm9wZXJ0eU5hbWVgKS5cclxuICogICAqIGBzZWxlY3RgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIGJvdW5kIHRvIHRoZSBtb2RlbCBvZiB0aGUgcGFyZW50IGA8c2VsZWN0PmBcclxuICogICAgICBlbGVtZW50LiBJZiBub3Qgc3BlY2lmaWVkLCBgc2VsZWN0YCBleHByZXNzaW9uIHdpbGwgZGVmYXVsdCB0byBgdmFsdWVgLlxyXG4gKiAgICogYGdyb3VwYDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSB1c2VkIHRvIGdyb3VwIG9wdGlvbnMgdXNpbmcgdGhlIGA8b3B0Z3JvdXA+YFxyXG4gKiAgICAgIERPTSBlbGVtZW50LlxyXG4gKiAgICogYGRpc2FibGVgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIHVzZWQgdG8gZGlzYWJsZSB0aGUgcmVuZGVyZWQgYDxvcHRpb24+YFxyXG4gKiAgICAgIGVsZW1lbnQuIFJldHVybiBgdHJ1ZWAgdG8gZGlzYWJsZS5cclxuICogICAqIGB0cmFja2V4cHJgOiBVc2VkIHdoZW4gd29ya2luZyB3aXRoIGFuIGFycmF5IG9mIG9iamVjdHMuIFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmVcclxuICogICAgICB1c2VkIHRvIGlkZW50aWZ5IHRoZSBvYmplY3RzIGluIHRoZSBhcnJheS4gVGhlIGB0cmFja2V4cHJgIHdpbGwgbW9zdCBsaWtlbHkgcmVmZXIgdG8gdGhlXHJcbiAqICAgICBgdmFsdWVgIHZhcmlhYmxlIChlLmcuIGB2YWx1ZS5wcm9wZXJ0eU5hbWVgKS4gV2l0aCB0aGlzIHRoZSBzZWxlY3Rpb24gaXMgcHJlc2VydmVkXHJcbiAqICAgICAgZXZlbiB3aGVuIHRoZSBvcHRpb25zIGFyZSByZWNyZWF0ZWQgKGUuZy4gcmVsb2FkZWQgZnJvbSB0aGUgc2VydmVyKS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlIG1vZHVsZT1cInNlbGVjdEV4YW1wbGVcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzZWxlY3RFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuY29sb3JzID0gW1xyXG4gICAgICAgICAgICAgIHtuYW1lOidibGFjaycsIHNoYWRlOidkYXJrJ30sXHJcbiAgICAgICAgICAgICAge25hbWU6J3doaXRlJywgc2hhZGU6J2xpZ2h0Jywgbm90QW5PcHRpb246IHRydWV9LFxyXG4gICAgICAgICAgICAgIHtuYW1lOidyZWQnLCBzaGFkZTonZGFyayd9LFxyXG4gICAgICAgICAgICAgIHtuYW1lOidibHVlJywgc2hhZGU6J2RhcmsnLCBub3RBbk9wdGlvbjogdHJ1ZX0sXHJcbiAgICAgICAgICAgICAge25hbWU6J3llbGxvdycsIHNoYWRlOidsaWdodCcsIG5vdEFuT3B0aW9uOiBmYWxzZX1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgJHNjb3BlLm15Q29sb3IgPSAkc2NvcGUuY29sb3JzWzJdOyAvLyByZWRcclxuICAgICAgICAgIH1dKTtcclxuICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgPHVsPlxyXG4gICAgICAgICAgICA8bGkgbmctcmVwZWF0PVwiY29sb3IgaW4gY29sb3JzXCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIj48L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb2xvci5ub3RBbk9wdGlvblwiPiBEaXNhYmxlZD88L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb2xvcnMuc3BsaWNlKCRpbmRleCwgMSlcIiBhcmlhLWxhYmVsPVwiUmVtb3ZlXCI+WDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImNvbG9ycy5wdXNoKHt9KVwiPmFkZDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgPC91bD5cclxuICAgICAgICAgIDxoci8+XHJcbiAgICAgICAgICA8bGFiZWw+Q29sb3IgKG51bGwgbm90IGFsbG93ZWQpOlxyXG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnNcIj48L3NlbGVjdD5cclxuICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgIDxsYWJlbD5Db2xvciAobnVsbCBhbGxvd2VkKTpcclxuICAgICAgICAgIDxzcGFuICBjbGFzcz1cIm51bGxhYmxlXCI+XHJcbiAgICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCIgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZm9yIGNvbG9yIGluIGNvbG9yc1wiPlxyXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4tLSBjaG9vc2UgY29sb3IgLS08L29wdGlvbj5cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICA8L3NwYW4+PC9sYWJlbD48YnIvPlxyXG5cclxuICAgICAgICAgIDxsYWJlbD5Db2xvciBncm91cGVkIGJ5IHNoYWRlOlxyXG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGdyb3VwIGJ5IGNvbG9yLnNoYWRlIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICA8L2xhYmVsPjxici8+XHJcblxyXG4gICAgICAgICAgPGxhYmVsPkNvbG9yIGdyb3VwZWQgYnkgc2hhZGUsIHdpdGggc29tZSBkaXNhYmxlZDpcclxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIlxyXG4gICAgICAgICAgICAgICAgICBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBncm91cCBieSBjb2xvci5zaGFkZSBkaXNhYmxlIHdoZW4gY29sb3Iubm90QW5PcHRpb24gZm9yIGNvbG9yIGluIGNvbG9yc1wiPlxyXG4gICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuXHJcblxyXG5cclxuICAgICAgICAgIFNlbGVjdCA8YnV0dG9uIG5nLWNsaWNrPVwibXlDb2xvciA9IHsgbmFtZTonbm90IGluIGxpc3QnLCBzaGFkZTogJ290aGVyJyB9XCI+Ym9ndXM8L2J1dHRvbj4uXHJcbiAgICAgICAgICA8YnIvPlxyXG4gICAgICAgICAgPGhyLz5cclxuICAgICAgICAgIEN1cnJlbnRseSBzZWxlY3RlZDoge3sge3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9IH19XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyOnNvbGlkIDFweCBibGFjazsgaGVpZ2h0OjIwcHhcIlxyXG4gICAgICAgICAgICAgICBuZy1zdHlsZT1cInsnYmFja2dyb3VuZC1jb2xvcic6bXlDb2xvci5uYW1lfVwiPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLW9wdGlvbnMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdyZWQnKTtcclxuICAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnbXlDb2xvcicpKS5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZWxlbWVudC5hbGwoYnkuY3NzKCdzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdIG9wdGlvbicpKS5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnYmxhY2snKTtcclxuICAgICAgICAgICBlbGVtZW50KGJ5LmNzcygnLm51bGxhYmxlIHNlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0nKSkuY2xpY2soKTtcclxuICAgICAgICAgICBlbGVtZW50LmFsbChieS5jc3MoJy5udWxsYWJsZSBzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdIG9wdGlvbicpKS5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnbnVsbCcpO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbi8vIGpzaGludCBtYXhsZW46IGZhbHNlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgLy8wMDAwMTExMTExMTExMTAwMDAwMDAwMDAwMjIyMjIyMjIyMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDMzMzMzMzMzMzMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDQ0NDQ0NDQ0NDQwMDAwMDAwMDAwMDAwNTU1NTU1NTU1NTU1NTU1MDAwMDAwMDAwNjY2NjY2NjY2NjY2NjY2MDAwMDAwMDc3Nzc3Nzc3Nzc3Nzc3NzAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODgwMDAwMDAwMDAwMDAwMDAwMDAwOTk5OTk5OTk5OVxyXG52YXIgTkdfT1BUSU9OU19SRUdFWFAgPSAvXlxccyooW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrZ3JvdXBcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrZGlzYWJsZVxccyt3aGVuXFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XSopfCg/OlxcKFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKixcXHMqKFtcXCRcXHddW1xcJFxcd10qKVxccypcXCkpKVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT8kLztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTogdmFsdWUgZXhwcmVzc2lvbiAodmFsdWVGbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMjogbGFiZWwgZXhwcmVzc2lvbiAoZGlzcGxheUZuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAzOiBncm91cCBieSBleHByZXNzaW9uIChncm91cEJ5Rm4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDQ6IGRpc2FibGUgd2hlbiBleHByZXNzaW9uIChkaXNhYmxlV2hlbkZuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA1OiBhcnJheSBpdGVtIHZhcmlhYmxlIG5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNjogb2JqZWN0IGl0ZW0ga2V5IHZhcmlhYmxlIG5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNzogb2JqZWN0IGl0ZW0gdmFsdWUgdmFyaWFibGUgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA4OiBjb2xsZWN0aW9uIGV4cHJlc3Npb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gOTogdHJhY2sgYnkgZXhwcmVzc2lvblxyXG4vLyBqc2hpbnQgbWF4bGVuOiAxMDBcclxuXHJcblxyXG52YXIgbmdPcHRpb25zRGlyZWN0aXZlID0gWyckY29tcGlsZScsICckZG9jdW1lbnQnLCAnJHBhcnNlJywgZnVuY3Rpb24oJGNvbXBpbGUsICRkb2N1bWVudCwgJHBhcnNlKSB7XHJcblxyXG4gIGZ1bmN0aW9uIHBhcnNlT3B0aW9uc0V4cHJlc3Npb24ob3B0aW9uc0V4cCwgc2VsZWN0RWxlbWVudCwgc2NvcGUpIHtcclxuXHJcbiAgICB2YXIgbWF0Y2ggPSBvcHRpb25zRXhwLm1hdGNoKE5HX09QVElPTlNfUkVHRVhQKTtcclxuICAgIGlmICghKG1hdGNoKSkge1xyXG4gICAgICB0aHJvdyBuZ09wdGlvbnNNaW5FcnIoJ2lleHAnLFxyXG4gICAgICAgIFwiRXhwZWN0ZWQgZXhwcmVzc2lvbiBpbiBmb3JtIG9mIFwiICtcclxuICAgICAgICBcIidfc2VsZWN0XyAoYXMgX2xhYmVsXyk/IGZvciAoX2tleV8sKT9fdmFsdWVfIGluIF9jb2xsZWN0aW9uXydcIiArXHJcbiAgICAgICAgXCIgYnV0IGdvdCAnezB9Jy4gRWxlbWVudDogezF9XCIsXHJcbiAgICAgICAgb3B0aW9uc0V4cCwgc3RhcnRpbmdUYWcoc2VsZWN0RWxlbWVudCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEV4dHJhY3QgdGhlIHBhcnRzIGZyb20gdGhlIG5nT3B0aW9ucyBleHByZXNzaW9uXHJcblxyXG4gICAgLy8gVGhlIHZhcmlhYmxlIG5hbWUgZm9yIHRoZSB2YWx1ZSBvZiB0aGUgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxyXG4gICAgdmFyIHZhbHVlTmFtZSA9IG1hdGNoWzVdIHx8IG1hdGNoWzddO1xyXG4gICAgLy8gVGhlIHZhcmlhYmxlIG5hbWUgZm9yIHRoZSBrZXkgb2YgdGhlIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb25cclxuICAgIHZhciBrZXlOYW1lID0gbWF0Y2hbNl07XHJcblxyXG4gICAgLy8gQW4gZXhwcmVzc2lvbiB0aGF0IGdlbmVyYXRlcyB0aGUgdmlld1ZhbHVlIGZvciBhbiBvcHRpb24gaWYgdGhlcmUgaXMgYSBsYWJlbCBleHByZXNzaW9uXHJcbiAgICB2YXIgc2VsZWN0QXMgPSAvIGFzIC8udGVzdChtYXRjaFswXSkgJiYgbWF0Y2hbMV07XHJcbiAgICAvLyBBbiBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCB0byB0cmFjayB0aGUgaWQgb2YgZWFjaCBvYmplY3QgaW4gdGhlIG9wdGlvbnMgY29sbGVjdGlvblxyXG4gICAgdmFyIHRyYWNrQnkgPSBtYXRjaFs5XTtcclxuICAgIC8vIEFuIGV4cHJlc3Npb24gdGhhdCBnZW5lcmF0ZXMgdGhlIHZpZXdWYWx1ZSBmb3IgYW4gb3B0aW9uIGlmIHRoZXJlIGlzIG5vIGxhYmVsIGV4cHJlc3Npb25cclxuICAgIHZhciB2YWx1ZUZuID0gJHBhcnNlKG1hdGNoWzJdID8gbWF0Y2hbMV0gOiB2YWx1ZU5hbWUpO1xyXG4gICAgdmFyIHNlbGVjdEFzRm4gPSBzZWxlY3RBcyAmJiAkcGFyc2Uoc2VsZWN0QXMpO1xyXG4gICAgdmFyIHZpZXdWYWx1ZUZuID0gc2VsZWN0QXNGbiB8fCB2YWx1ZUZuO1xyXG4gICAgdmFyIHRyYWNrQnlGbiA9IHRyYWNrQnkgJiYgJHBhcnNlKHRyYWNrQnkpO1xyXG5cclxuICAgIC8vIEdldCB0aGUgdmFsdWUgYnkgd2hpY2ggd2UgYXJlIGdvaW5nIHRvIHRyYWNrIHRoZSBvcHRpb25cclxuICAgIC8vIGlmIHdlIGhhdmUgYSB0cmFja0ZuIHRoZW4gdXNlIHRoYXQgKHBhc3Npbmcgc2NvcGUgYW5kIGxvY2FscylcclxuICAgIC8vIG90aGVyd2lzZSBqdXN0IGhhc2ggdGhlIGdpdmVuIHZpZXdWYWx1ZVxyXG4gICAgdmFyIGdldFRyYWNrQnlWYWx1ZUZuID0gdHJhY2tCeSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHZhbHVlLCBsb2NhbHMpIHsgcmV0dXJuIHRyYWNrQnlGbihzY29wZSwgbG9jYWxzKTsgfSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldEhhc2hPZlZhbHVlKHZhbHVlKSB7IHJldHVybiBoYXNoS2V5KHZhbHVlKTsgfTtcclxuICAgIHZhciBnZXRUcmFja0J5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgIHJldHVybiBnZXRUcmFja0J5VmFsdWVGbih2YWx1ZSwgZ2V0TG9jYWxzKHZhbHVlLCBrZXkpKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGRpc3BsYXlGbiA9ICRwYXJzZShtYXRjaFsyXSB8fCBtYXRjaFsxXSk7XHJcbiAgICB2YXIgZ3JvdXBCeUZuID0gJHBhcnNlKG1hdGNoWzNdIHx8ICcnKTtcclxuICAgIHZhciBkaXNhYmxlV2hlbkZuID0gJHBhcnNlKG1hdGNoWzRdIHx8ICcnKTtcclxuICAgIHZhciB2YWx1ZXNGbiA9ICRwYXJzZShtYXRjaFs4XSk7XHJcblxyXG4gICAgdmFyIGxvY2FscyA9IHt9O1xyXG4gICAgdmFyIGdldExvY2FscyA9IGtleU5hbWUgPyBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgIGxvY2Fsc1trZXlOYW1lXSA9IGtleTtcclxuICAgICAgbG9jYWxzW3ZhbHVlTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgcmV0dXJuIGxvY2FscztcclxuICAgIH0gOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICBsb2NhbHNbdmFsdWVOYW1lXSA9IHZhbHVlO1xyXG4gICAgICByZXR1cm4gbG9jYWxzO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gT3B0aW9uKHNlbGVjdFZhbHVlLCB2aWV3VmFsdWUsIGxhYmVsLCBncm91cCwgZGlzYWJsZWQpIHtcclxuICAgICAgdGhpcy5zZWxlY3RWYWx1ZSA9IHNlbGVjdFZhbHVlO1xyXG4gICAgICB0aGlzLnZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcclxuICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xyXG4gICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XHJcbiAgICAgIHRoaXMuZGlzYWJsZWQgPSBkaXNhYmxlZDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRPcHRpb25WYWx1ZXNLZXlzKG9wdGlvblZhbHVlcykge1xyXG4gICAgICB2YXIgb3B0aW9uVmFsdWVzS2V5cztcclxuXHJcbiAgICAgIGlmICgha2V5TmFtZSAmJiBpc0FycmF5TGlrZShvcHRpb25WYWx1ZXMpKSB7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzS2V5cyA9IG9wdGlvblZhbHVlcztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBpZiBvYmplY3QsIGV4dHJhY3Qga2V5cywgaW4gZW51bWVyYXRpb24gb3JkZXIsIHVuc29ydGVkXHJcbiAgICAgICAgb3B0aW9uVmFsdWVzS2V5cyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGl0ZW1LZXkgaW4gb3B0aW9uVmFsdWVzKSB7XHJcbiAgICAgICAgICBpZiAob3B0aW9uVmFsdWVzLmhhc093blByb3BlcnR5KGl0ZW1LZXkpICYmIGl0ZW1LZXkuY2hhckF0KDApICE9PSAnJCcpIHtcclxuICAgICAgICAgICAgb3B0aW9uVmFsdWVzS2V5cy5wdXNoKGl0ZW1LZXkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gb3B0aW9uVmFsdWVzS2V5cztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0cmFja0J5OiB0cmFja0J5LFxyXG4gICAgICBnZXRUcmFja0J5VmFsdWU6IGdldFRyYWNrQnlWYWx1ZSxcclxuICAgICAgZ2V0V2F0Y2hhYmxlczogJHBhcnNlKHZhbHVlc0ZuLCBmdW5jdGlvbihvcHRpb25WYWx1ZXMpIHtcclxuICAgICAgICAvLyBDcmVhdGUgYSBjb2xsZWN0aW9uIG9mIHRoaW5ncyB0aGF0IHdlIHdvdWxkIGxpa2UgdG8gd2F0Y2ggKHdhdGNoZWRBcnJheSlcclxuICAgICAgICAvLyBzbyB0aGF0IHRoZXkgY2FuIGFsbCBiZSB3YXRjaGVkIHVzaW5nIGEgc2luZ2xlICR3YXRjaENvbGxlY3Rpb25cclxuICAgICAgICAvLyB0aGF0IG9ubHkgcnVucyB0aGUgaGFuZGxlciBvbmNlIGlmIGFueXRoaW5nIGNoYW5nZXNcclxuICAgICAgICB2YXIgd2F0Y2hlZEFycmF5ID0gW107XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzID0gb3B0aW9uVmFsdWVzIHx8IFtdO1xyXG5cclxuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzS2V5cyA9IGdldE9wdGlvblZhbHVlc0tleXMob3B0aW9uVmFsdWVzKTtcclxuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzTGVuZ3RoID0gb3B0aW9uVmFsdWVzS2V5cy5sZW5ndGg7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG9wdGlvblZhbHVlc0xlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgdmFyIGtleSA9IChvcHRpb25WYWx1ZXMgPT09IG9wdGlvblZhbHVlc0tleXMpID8gaW5kZXggOiBvcHRpb25WYWx1ZXNLZXlzW2luZGV4XTtcclxuICAgICAgICAgIHZhciB2YWx1ZSA9IG9wdGlvblZhbHVlc1trZXldO1xyXG5cclxuICAgICAgICAgIHZhciBsb2NhbHMgPSBnZXRMb2NhbHModmFsdWUsIGtleSk7XHJcbiAgICAgICAgICB2YXIgc2VsZWN0VmFsdWUgPSBnZXRUcmFja0J5VmFsdWVGbih2YWx1ZSwgbG9jYWxzKTtcclxuICAgICAgICAgIHdhdGNoZWRBcnJheS5wdXNoKHNlbGVjdFZhbHVlKTtcclxuXHJcbiAgICAgICAgICAvLyBPbmx5IG5lZWQgdG8gd2F0Y2ggdGhlIGRpc3BsYXlGbiBpZiB0aGVyZSBpcyBhIHNwZWNpZmljIGxhYmVsIGV4cHJlc3Npb25cclxuICAgICAgICAgIGlmIChtYXRjaFsyXSB8fCBtYXRjaFsxXSkge1xyXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBkaXNwbGF5Rm4oc2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgICAgICAgIHdhdGNoZWRBcnJheS5wdXNoKGxhYmVsKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBPbmx5IG5lZWQgdG8gd2F0Y2ggdGhlIGRpc2FibGVXaGVuRm4gaWYgdGhlcmUgaXMgYSBzcGVjaWZpYyBkaXNhYmxlIGV4cHJlc3Npb25cclxuICAgICAgICAgIGlmIChtYXRjaFs0XSkge1xyXG4gICAgICAgICAgICB2YXIgZGlzYWJsZVdoZW4gPSBkaXNhYmxlV2hlbkZuKHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgICB3YXRjaGVkQXJyYXkucHVzaChkaXNhYmxlV2hlbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB3YXRjaGVkQXJyYXk7XHJcbiAgICAgIH0pLFxyXG5cclxuICAgICAgZ2V0T3B0aW9uczogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciBvcHRpb25JdGVtcyA9IFtdO1xyXG4gICAgICAgIHZhciBzZWxlY3RWYWx1ZU1hcCA9IHt9O1xyXG5cclxuICAgICAgICAvLyBUaGUgb3B0aW9uIHZhbHVlcyB3ZXJlIGFscmVhZHkgY29tcHV0ZWQgaW4gdGhlIGBnZXRXYXRjaGFibGVzYCBmbixcclxuICAgICAgICAvLyB3aGljaCBtdXN0IGhhdmUgYmVlbiBjYWxsZWQgdG8gdHJpZ2dlciBgZ2V0T3B0aW9uc2BcclxuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzID0gdmFsdWVzRm4oc2NvcGUpIHx8IFtdO1xyXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNLZXlzID0gZ2V0T3B0aW9uVmFsdWVzS2V5cyhvcHRpb25WYWx1ZXMpO1xyXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNMZW5ndGggPSBvcHRpb25WYWx1ZXNLZXlzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG9wdGlvblZhbHVlc0xlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgdmFyIGtleSA9IChvcHRpb25WYWx1ZXMgPT09IG9wdGlvblZhbHVlc0tleXMpID8gaW5kZXggOiBvcHRpb25WYWx1ZXNLZXlzW2luZGV4XTtcclxuICAgICAgICAgIHZhciB2YWx1ZSA9IG9wdGlvblZhbHVlc1trZXldO1xyXG4gICAgICAgICAgdmFyIGxvY2FscyA9IGdldExvY2Fscyh2YWx1ZSwga2V5KTtcclxuICAgICAgICAgIHZhciB2aWV3VmFsdWUgPSB2aWV3VmFsdWVGbihzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgIHZhciBzZWxlY3RWYWx1ZSA9IGdldFRyYWNrQnlWYWx1ZUZuKHZpZXdWYWx1ZSwgbG9jYWxzKTtcclxuICAgICAgICAgIHZhciBsYWJlbCA9IGRpc3BsYXlGbihzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgIHZhciBncm91cCA9IGdyb3VwQnlGbihzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgIHZhciBkaXNhYmxlZCA9IGRpc2FibGVXaGVuRm4oc2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgICAgICB2YXIgb3B0aW9uSXRlbSA9IG5ldyBPcHRpb24oc2VsZWN0VmFsdWUsIHZpZXdWYWx1ZSwgbGFiZWwsIGdyb3VwLCBkaXNhYmxlZCk7XHJcblxyXG4gICAgICAgICAgb3B0aW9uSXRlbXMucHVzaChvcHRpb25JdGVtKTtcclxuICAgICAgICAgIHNlbGVjdFZhbHVlTWFwW3NlbGVjdFZhbHVlXSA9IG9wdGlvbkl0ZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaXRlbXM6IG9wdGlvbkl0ZW1zLFxyXG4gICAgICAgICAgc2VsZWN0VmFsdWVNYXA6IHNlbGVjdFZhbHVlTWFwLFxyXG4gICAgICAgICAgZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdFZhbHVlTWFwW2dldFRyYWNrQnlWYWx1ZSh2YWx1ZSldO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldFZpZXdWYWx1ZUZyb21PcHRpb246IGZ1bmN0aW9uKG9wdGlvbikge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgdmlld1ZhbHVlIGNvdWxkIGJlIGFuIG9iamVjdCB0aGF0IG1heSBiZSBtdXRhdGVkIGJ5IHRoZSBhcHBsaWNhdGlvbixcclxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBtYWtlIGEgY29weSBhbmQgbm90IHJldHVybiB0aGUgcmVmZXJlbmNlIHRvIHRoZSB2YWx1ZSBvbiB0aGUgb3B0aW9uLlxyXG4gICAgICAgICAgICByZXR1cm4gdHJhY2tCeSA/IGFuZ3VsYXIuY29weShvcHRpb24udmlld1ZhbHVlKSA6IG9wdGlvbi52aWV3VmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG5cclxuICAvLyB3ZSBjYW4ndCBqdXN0IGpxTGl0ZSgnPG9wdGlvbj4nKSBzaW5jZSBqcUxpdGUgaXMgbm90IHNtYXJ0IGVub3VnaFxyXG4gIC8vIHRvIGNyZWF0ZSBpdCBpbiA8c2VsZWN0PiBhbmQgSUUgYmFyZnMgb3RoZXJ3aXNlLlxyXG4gIHZhciBvcHRpb25UZW1wbGF0ZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKSxcclxuICAgICAgb3B0R3JvdXBUZW1wbGF0ZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRncm91cCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIG5nT3B0aW9uc1Bvc3RMaW5rKHNjb3BlLCBzZWxlY3RFbGVtZW50LCBhdHRyLCBjdHJscykge1xyXG5cclxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcclxuICAgICAgdmFyIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XHJcbiAgICAgIHZhciBtdWx0aXBsZSA9IGF0dHIubXVsdGlwbGU7XHJcblxyXG4gICAgICAvLyBUaGUgZW1wdHlPcHRpb24gYWxsb3dzIHRoZSBhcHBsaWNhdGlvbiBkZXZlbG9wZXIgdG8gcHJvdmlkZSB0aGVpciBvd24gY3VzdG9tIFwiZW1wdHlcIlxyXG4gICAgICAvLyBvcHRpb24gd2hlbiB0aGUgdmlld1ZhbHVlIGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgb3B0aW9uIHZhbHVlcy5cclxuICAgICAgdmFyIGVtcHR5T3B0aW9uO1xyXG4gICAgICBmb3IgKHZhciBpID0gMCwgY2hpbGRyZW4gPSBzZWxlY3RFbGVtZW50LmNoaWxkcmVuKCksIGlpID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgIGlmIChjaGlsZHJlbltpXS52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgIGVtcHR5T3B0aW9uID0gY2hpbGRyZW4uZXEoaSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBwcm92aWRlZEVtcHR5T3B0aW9uID0gISFlbXB0eU9wdGlvbjtcclxuXHJcbiAgICAgIHZhciB1bmtub3duT3B0aW9uID0ganFMaXRlKG9wdGlvblRlbXBsYXRlLmNsb25lTm9kZShmYWxzZSkpO1xyXG4gICAgICB1bmtub3duT3B0aW9uLnZhbCgnPycpO1xyXG5cclxuICAgICAgdmFyIG9wdGlvbnM7XHJcbiAgICAgIHZhciBuZ09wdGlvbnMgPSBwYXJzZU9wdGlvbnNFeHByZXNzaW9uKGF0dHIubmdPcHRpb25zLCBzZWxlY3RFbGVtZW50LCBzY29wZSk7XHJcbiAgICAgIC8vIFRoaXMgc3RvcmVzIHRoZSBuZXdseSBjcmVhdGVkIG9wdGlvbnMgYmVmb3JlIHRoZXkgYXJlIGFwcGVuZGVkIHRvIHRoZSBzZWxlY3QuXHJcbiAgICAgIC8vIFNpbmNlIHRoZSBjb250ZW50cyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBmcmFnbWVudCB3aGVuIGl0IGlzIGFwcGVuZGVkLFxyXG4gICAgICAvLyB3ZSBvbmx5IG5lZWQgdG8gY3JlYXRlIGl0IG9uY2UuXHJcbiAgICAgIHZhciBsaXN0RnJhZ21lbnQgPSAkZG9jdW1lbnRbMF0uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cclxuICAgICAgdmFyIHJlbmRlckVtcHR5T3B0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCFwcm92aWRlZEVtcHR5T3B0aW9uKSB7XHJcbiAgICAgICAgICBzZWxlY3RFbGVtZW50LnByZXBlbmQoZW1wdHlPcHRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxlY3RFbGVtZW50LnZhbCgnJyk7XHJcbiAgICAgICAgZW1wdHlPcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTsgLy8gbmVlZGVkIGZvciBJRVxyXG4gICAgICAgIGVtcHR5T3B0aW9uLmF0dHIoJ3NlbGVjdGVkJywgdHJ1ZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgcmVtb3ZlRW1wdHlPcHRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXByb3ZpZGVkRW1wdHlPcHRpb24pIHtcclxuICAgICAgICAgIGVtcHR5T3B0aW9uLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcblxyXG4gICAgICB2YXIgcmVuZGVyVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGVjdEVsZW1lbnQucHJlcGVuZCh1bmtub3duT3B0aW9uKTtcclxuICAgICAgICBzZWxlY3RFbGVtZW50LnZhbCgnPycpO1xyXG4gICAgICAgIHVua25vd25PcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTsgLy8gbmVlZGVkIGZvciBJRVxyXG4gICAgICAgIHVua25vd25PcHRpb24uYXR0cignc2VsZWN0ZWQnLCB0cnVlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZhciByZW1vdmVVbmtub3duT3B0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdW5rbm93bk9wdGlvbi5yZW1vdmUoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgY29udHJvbGxlciBtZXRob2RzIGZvciBtdWx0aXBsZSBzZWxlY3RhYmxlIG9wdGlvbnNcclxuICAgICAgaWYgKCFtdWx0aXBsZSkge1xyXG5cclxuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZU5nT3B0aW9uc1ZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKHZhbHVlKTtcclxuXHJcbiAgICAgICAgICBpZiAob3B0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIERvbid0IHVwZGF0ZSB0aGUgb3B0aW9uIHdoZW4gaXQgaXMgYWxyZWFkeSBzZWxlY3RlZC5cclxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGUsIHRoZSBicm93c2VyIHdpbGwgc2VsZWN0IHRoZSBmaXJzdCBvcHRpb24gYnkgZGVmYXVsdC4gSW4gdGhhdCBjYXNlLFxyXG4gICAgICAgICAgICAvLyBtb3N0IHByb3BlcnRpZXMgYXJlIHNldCBhdXRvbWF0aWNhbGx5IC0gZXhjZXB0IHRoZSBgc2VsZWN0ZWRgIGF0dHJpYnV0ZSwgd2hpY2ggd2VcclxuICAgICAgICAgICAgLy8gc2V0IGFsd2F5c1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdEVsZW1lbnRbMF0udmFsdWUgIT09IG9wdGlvbi5zZWxlY3RWYWx1ZSkge1xyXG4gICAgICAgICAgICAgIHJlbW92ZVVua25vd25PcHRpb24oKTtcclxuICAgICAgICAgICAgICByZW1vdmVFbXB0eU9wdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50WzBdLnZhbHVlID0gb3B0aW9uLnNlbGVjdFZhbHVlO1xyXG4gICAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3B0aW9uLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHByb3ZpZGVkRW1wdHlPcHRpb24pIHtcclxuICAgICAgICAgICAgICByZW1vdmVVbmtub3duT3B0aW9uKCk7XHJcbiAgICAgICAgICAgICAgcmVuZGVyRW1wdHlPcHRpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZW1vdmVFbXB0eU9wdGlvbigpO1xyXG4gICAgICAgICAgICAgIHJlbmRlclVua25vd25PcHRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGVjdEN0cmwucmVhZFZhbHVlID0gZnVuY3Rpb24gcmVhZE5nT3B0aW9uc1ZhbHVlKCkge1xyXG5cclxuICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbiA9IG9wdGlvbnMuc2VsZWN0VmFsdWVNYXBbc2VsZWN0RWxlbWVudC52YWwoKV07XHJcblxyXG4gICAgICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uICYmICFzZWxlY3RlZE9wdGlvbi5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICByZW1vdmVFbXB0eU9wdGlvbigpO1xyXG4gICAgICAgICAgICByZW1vdmVVbmtub3duT3B0aW9uKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmdldFZpZXdWYWx1ZUZyb21PcHRpb24oc2VsZWN0ZWRPcHRpb24pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIGB0cmFjayBieWAgdGhlbiB3ZSBtdXN0IHdhdGNoIHRoZSB0cmFja2VkIHZhbHVlIG9uIHRoZSBtb2RlbFxyXG4gICAgICAgIC8vIHNpbmNlIG5nTW9kZWwgb25seSB3YXRjaGVzIGZvciBvYmplY3QgaWRlbnRpdHkgY2hhbmdlXHJcbiAgICAgICAgaWYgKG5nT3B0aW9ucy50cmFja0J5KSB7XHJcbiAgICAgICAgICBzY29wZS4kd2F0Y2goXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gbmdPcHRpb25zLmdldFRyYWNrQnlWYWx1ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKTsgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7IG5nTW9kZWxDdHJsLiRyZW5kZXIoKTsgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICBuZ01vZGVsQ3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMDtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgc2VsZWN0Q3RybC53cml0ZVZhbHVlID0gZnVuY3Rpb24gd3JpdGVOZ09wdGlvbnNNdWx0aXBsZSh2YWx1ZSkge1xyXG4gICAgICAgICAgb3B0aW9ucy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKG9wdGlvbikge1xyXG4gICAgICAgICAgICBvcHRpb24uZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLmdldE9wdGlvbkZyb21WaWV3VmFsdWUoaXRlbSk7XHJcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbikgb3B0aW9uLmVsZW1lbnQuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgc2VsZWN0Q3RybC5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkTmdPcHRpb25zTXVsdGlwbGUoKSB7XHJcbiAgICAgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZXMgPSBzZWxlY3RFbGVtZW50LnZhbCgpIHx8IFtdLFxyXG4gICAgICAgICAgICAgIHNlbGVjdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICBmb3JFYWNoKHNlbGVjdGVkVmFsdWVzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5zZWxlY3RWYWx1ZU1hcFt2YWx1ZV07XHJcbiAgICAgICAgICAgIGlmIChvcHRpb24gJiYgIW9wdGlvbi5kaXNhYmxlZCkgc2VsZWN0aW9ucy5wdXNoKG9wdGlvbnMuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihvcHRpb24pKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldHVybiBzZWxlY3Rpb25zO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBgdHJhY2sgYnlgIHRoZW4gd2UgbXVzdCB3YXRjaCB0aGVzZSB0cmFja2VkIHZhbHVlcyBvbiB0aGUgbW9kZWxcclxuICAgICAgICAvLyBzaW5jZSBuZ01vZGVsIG9ubHkgd2F0Y2hlcyBmb3Igb2JqZWN0IGlkZW50aXR5IGNoYW5nZVxyXG4gICAgICAgIGlmIChuZ09wdGlvbnMudHJhY2tCeSkge1xyXG5cclxuICAgICAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmdPcHRpb25zLmdldFRyYWNrQnlWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgaWYgKHByb3ZpZGVkRW1wdHlPcHRpb24pIHtcclxuXHJcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZW1vdmUgaXQgYmVmb3JlIGNhbGxpbmcgc2VsZWN0RWxlbWVudC5lbXB0eSgpIGJlY2F1c2Ugb3RoZXJ3aXNlIElFIHdpbGxcclxuICAgICAgICAvLyByZW1vdmUgdGhlIGxhYmVsIGZyb20gdGhlIGVsZW1lbnQuIHd0Zj9cclxuICAgICAgICBlbXB0eU9wdGlvbi5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgLy8gY29tcGlsZSB0aGUgZWxlbWVudCBzaW5jZSB0aGVyZSBtaWdodCBiZSBiaW5kaW5ncyBpbiBpdFxyXG4gICAgICAgICRjb21waWxlKGVtcHR5T3B0aW9uKShzY29wZSk7XHJcblxyXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgY2xhc3MsIHdoaWNoIGlzIGFkZGVkIGF1dG9tYXRpY2FsbHkgYmVjYXVzZSB3ZSByZWNvbXBpbGUgdGhlIGVsZW1lbnQgYW5kIGl0XHJcbiAgICAgICAgLy8gYmVjb21lcyB0aGUgY29tcGlsYXRpb24gcm9vdFxyXG4gICAgICAgIGVtcHR5T3B0aW9uLnJlbW92ZUNsYXNzKCduZy1zY29wZScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVtcHR5T3B0aW9uID0ganFMaXRlKG9wdGlvblRlbXBsYXRlLmNsb25lTm9kZShmYWxzZSkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3RFbGVtZW50LmVtcHR5KCk7XHJcblxyXG4gICAgICAvLyBXZSBuZWVkIHRvIGRvIHRoaXMgaGVyZSB0byBlbnN1cmUgdGhhdCB0aGUgb3B0aW9ucyBvYmplY3QgaXMgZGVmaW5lZFxyXG4gICAgICAvLyB3aGVuIHdlIGZpcnN0IGhpdCBpdCBpbiB3cml0ZU5nT3B0aW9uc1ZhbHVlXHJcbiAgICAgIHVwZGF0ZU9wdGlvbnMoKTtcclxuXHJcbiAgICAgIC8vIFdlIHdpbGwgcmUtcmVuZGVyIHRoZSBvcHRpb24gZWxlbWVudHMgaWYgdGhlIG9wdGlvbiB2YWx1ZXMgb3IgbGFiZWxzIGNoYW5nZVxyXG4gICAgICBzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKG5nT3B0aW9ucy5nZXRXYXRjaGFibGVzLCB1cGRhdGVPcHRpb25zKTtcclxuXHJcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuICAgICAgZnVuY3Rpb24gYWRkT3B0aW9uRWxlbWVudChvcHRpb24sIHBhcmVudCkge1xyXG4gICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gb3B0aW9uVGVtcGxhdGUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQob3B0aW9uRWxlbWVudCk7XHJcbiAgICAgICAgdXBkYXRlT3B0aW9uRWxlbWVudChvcHRpb24sIG9wdGlvbkVsZW1lbnQpO1xyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgZnVuY3Rpb24gdXBkYXRlT3B0aW9uRWxlbWVudChvcHRpb24sIGVsZW1lbnQpIHtcclxuICAgICAgICBvcHRpb24uZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgZWxlbWVudC5kaXNhYmxlZCA9IG9wdGlvbi5kaXNhYmxlZDtcclxuICAgICAgICAvLyBOT1RFOiBUaGUgbGFiZWwgbXVzdCBiZSBzZXQgYmVmb3JlIHRoZSB2YWx1ZSwgb3RoZXJ3aXNlIElFMTAvMTEvRURHRSBjcmVhdGUgdW5yZXNwb25zaXZlXHJcbiAgICAgICAgLy8gc2VsZWN0cyBpbiBjZXJ0YWluIGNpcmN1bXN0YW5jZXMgd2hlbiBtdWx0aXBsZSBzZWxlY3RzIGFyZSBuZXh0IHRvIGVhY2ggb3RoZXIgYW5kIGRpc3BsYXlcclxuICAgICAgICAvLyB0aGUgb3B0aW9uIGxpc3QgaW4gbGlzdGJveCBzdHlsZSwgaS5lLiB0aGUgc2VsZWN0IGlzIFttdWx0aXBsZV0sIG9yIHNwZWNpZmllcyBhIFtzaXplXS5cclxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTEzMTQgZm9yIG1vcmUgaW5mby5cclxuICAgICAgICAvLyBUaGlzIGlzIHVuZm9ydHVuYXRlbHkgdW50ZXN0YWJsZSB3aXRoIHVuaXQgLyBlMmUgdGVzdHNcclxuICAgICAgICBpZiAob3B0aW9uLmxhYmVsICE9PSBlbGVtZW50LmxhYmVsKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmxhYmVsID0gb3B0aW9uLmxhYmVsO1xyXG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG9wdGlvbi5sYWJlbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbi52YWx1ZSAhPT0gZWxlbWVudC52YWx1ZSkgZWxlbWVudC52YWx1ZSA9IG9wdGlvbi5zZWxlY3RWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gdXBkYXRlT3B0aW9ucygpIHtcclxuICAgICAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IG9wdGlvbnMgJiYgc2VsZWN0Q3RybC5yZWFkVmFsdWUoKTtcclxuXHJcbiAgICAgICAgLy8gV2UgbXVzdCByZW1vdmUgYWxsIGN1cnJlbnQgb3B0aW9ucywgYnV0IGNhbm5vdCBzaW1wbHkgc2V0IGlubmVySFRNTCA9IG51bGxcclxuICAgICAgICAvLyBzaW5jZSB0aGUgcHJvdmlkZWRFbXB0eU9wdGlvbiBtaWdodCBoYXZlIGFuIG5nSWYgb24gaXQgdGhhdCBpbnNlcnRzIGNvbW1lbnRzIHdoaWNoIHdlXHJcbiAgICAgICAgLy8gbXVzdCBwcmVzZXJ2ZS5cclxuICAgICAgICAvLyBJbnN0ZWFkLCBpdGVyYXRlIG92ZXIgdGhlIGN1cnJlbnQgb3B0aW9uIGVsZW1lbnRzIGFuZCByZW1vdmUgdGhlbSBvciB0aGVpciBvcHRncm91cFxyXG4gICAgICAgIC8vIHBhcmVudHNcclxuICAgICAgICBpZiAob3B0aW9ucykge1xyXG5cclxuICAgICAgICAgIGZvciAodmFyIGkgPSBvcHRpb25zLml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLml0ZW1zW2ldO1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uLmdyb3VwKSB7XHJcbiAgICAgICAgICAgICAganFMaXRlUmVtb3ZlKG9wdGlvbi5lbGVtZW50LnBhcmVudE5vZGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGpxTGl0ZVJlbW92ZShvcHRpb24uZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9wdGlvbnMgPSBuZ09wdGlvbnMuZ2V0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICB2YXIgZ3JvdXBFbGVtZW50TWFwID0ge307XHJcblxyXG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBlbXB0eSBvcHRpb24gaXMgYWx3YXlzIHRoZXJlIGlmIGl0IHdhcyBleHBsaWNpdGx5IHByb3ZpZGVkXHJcbiAgICAgICAgaWYgKHByb3ZpZGVkRW1wdHlPcHRpb24pIHtcclxuICAgICAgICAgIHNlbGVjdEVsZW1lbnQucHJlcGVuZChlbXB0eU9wdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvcHRpb25zLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gYWRkT3B0aW9uKG9wdGlvbikge1xyXG4gICAgICAgICAgdmFyIGdyb3VwRWxlbWVudDtcclxuXHJcbiAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbi5ncm91cCkpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFRoaXMgb3B0aW9uIGlzIHRvIGxpdmUgaW4gYSBncm91cFxyXG4gICAgICAgICAgICAvLyBTZWUgaWYgd2UgaGF2ZSBhbHJlYWR5IGNyZWF0ZWQgdGhpcyBncm91cFxyXG4gICAgICAgICAgICBncm91cEVsZW1lbnQgPSBncm91cEVsZW1lbnRNYXBbb3B0aW9uLmdyb3VwXTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZ3JvdXBFbGVtZW50KSB7XHJcblxyXG4gICAgICAgICAgICAgIGdyb3VwRWxlbWVudCA9IG9wdEdyb3VwVGVtcGxhdGUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgICBsaXN0RnJhZ21lbnQuYXBwZW5kQ2hpbGQoZ3JvdXBFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBsYWJlbCBvbiB0aGUgZ3JvdXAgZWxlbWVudFxyXG4gICAgICAgICAgICAgIGdyb3VwRWxlbWVudC5sYWJlbCA9IG9wdGlvbi5ncm91cDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gU3RvcmUgaXQgZm9yIHVzZSBsYXRlclxyXG4gICAgICAgICAgICAgIGdyb3VwRWxlbWVudE1hcFtvcHRpb24uZ3JvdXBdID0gZ3JvdXBFbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhZGRPcHRpb25FbGVtZW50KG9wdGlvbiwgZ3JvdXBFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLy8gVGhpcyBvcHRpb24gaXMgbm90IGluIGEgZ3JvdXBcclxuICAgICAgICAgICAgYWRkT3B0aW9uRWxlbWVudChvcHRpb24sIGxpc3RGcmFnbWVudCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNlbGVjdEVsZW1lbnRbMF0uYXBwZW5kQ2hpbGQobGlzdEZyYWdtZW50KTtcclxuXHJcbiAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkIGR1ZSB0byB0aGUgdXBkYXRlIHRvIHRoZSBvcHRpb25zXHJcbiAgICAgICAgaWYgKCFuZ01vZGVsQ3RybC4kaXNFbXB0eShwcmV2aW91c1ZhbHVlKSkge1xyXG4gICAgICAgICAgdmFyIG5leHRWYWx1ZSA9IHNlbGVjdEN0cmwucmVhZFZhbHVlKCk7XHJcbiAgICAgICAgICB2YXIgaXNOb3RQcmltaXRpdmUgPSBuZ09wdGlvbnMudHJhY2tCeSB8fCBtdWx0aXBsZTtcclxuICAgICAgICAgIGlmIChpc05vdFByaW1pdGl2ZSA/ICFlcXVhbHMocHJldmlvdXNWYWx1ZSwgbmV4dFZhbHVlKSA6IHByZXZpb3VzVmFsdWUgIT09IG5leHRWYWx1ZSkge1xyXG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5leHRWYWx1ZSk7XHJcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIHRlcm1pbmFsOiB0cnVlLFxyXG4gICAgcmVxdWlyZTogWydzZWxlY3QnLCAnbmdNb2RlbCddLFxyXG4gICAgbGluazoge1xyXG4gICAgICBwcmU6IGZ1bmN0aW9uIG5nT3B0aW9uc1ByZUxpbmsoc2NvcGUsIHNlbGVjdEVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XHJcbiAgICAgICAgLy8gRGVhY3RpdmF0ZSB0aGUgU2VsZWN0Q29udHJvbGxlci5yZWdpc3RlciBtZXRob2QgdG8gcHJldmVudFxyXG4gICAgICAgIC8vIG9wdGlvbiBkaXJlY3RpdmVzIGZyb20gYWNjaWRlbnRhbGx5IHJlZ2lzdGVyaW5nIHRoZW1zZWx2ZXNcclxuICAgICAgICAvLyAoYW5kIHVud2FudGVkICRkZXN0cm95IGhhbmRsZXJzIGV0Yy4pXHJcbiAgICAgICAgY3RybHNbMF0ucmVnaXN0ZXJPcHRpb24gPSBub29wO1xyXG4gICAgICB9LFxyXG4gICAgICBwb3N0OiBuZ09wdGlvbnNQb3N0TGlua1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdQbHVyYWxpemVcclxuICogQHJlc3RyaWN0IEVBXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBgbmdQbHVyYWxpemVgIGlzIGEgZGlyZWN0aXZlIHRoYXQgZGlzcGxheXMgbWVzc2FnZXMgYWNjb3JkaW5nIHRvIGVuLVVTIGxvY2FsaXphdGlvbiBydWxlcy5cclxuICogVGhlc2UgcnVsZXMgYXJlIGJ1bmRsZWQgd2l0aCBhbmd1bGFyLmpzLCBidXQgY2FuIGJlIG92ZXJyaWRkZW5cclxuICogKHNlZSB7QGxpbmsgZ3VpZGUvaTE4biBBbmd1bGFyIGkxOG59IGRldiBndWlkZSkuIFlvdSBjb25maWd1cmUgbmdQbHVyYWxpemUgZGlyZWN0aXZlXHJcbiAqIGJ5IHNwZWNpZnlpbmcgdGhlIG1hcHBpbmdzIGJldHdlZW5cclxuICogW3BsdXJhbCBjYXRlZ29yaWVzXShodHRwOi8vdW5pY29kZS5vcmcvcmVwb3MvY2xkci10bXAvdHJ1bmsvZGlmZi9zdXBwbGVtZW50YWwvbGFuZ3VhZ2VfcGx1cmFsX3J1bGVzLmh0bWwpXHJcbiAqIGFuZCB0aGUgc3RyaW5ncyB0byBiZSBkaXNwbGF5ZWQuXHJcbiAqXHJcbiAqICMgUGx1cmFsIGNhdGVnb3JpZXMgYW5kIGV4cGxpY2l0IG51bWJlciBydWxlc1xyXG4gKiBUaGVyZSBhcmUgdHdvXHJcbiAqIFtwbHVyYWwgY2F0ZWdvcmllc10oaHR0cDovL3VuaWNvZGUub3JnL3JlcG9zL2NsZHItdG1wL3RydW5rL2RpZmYvc3VwcGxlbWVudGFsL2xhbmd1YWdlX3BsdXJhbF9ydWxlcy5odG1sKVxyXG4gKiBpbiBBbmd1bGFyJ3MgZGVmYXVsdCBlbi1VUyBsb2NhbGU6IFwib25lXCIgYW5kIFwib3RoZXJcIi5cclxuICpcclxuICogV2hpbGUgYSBwbHVyYWwgY2F0ZWdvcnkgbWF5IG1hdGNoIG1hbnkgbnVtYmVycyAoZm9yIGV4YW1wbGUsIGluIGVuLVVTIGxvY2FsZSwgXCJvdGhlclwiIGNhbiBtYXRjaFxyXG4gKiBhbnkgbnVtYmVyIHRoYXQgaXMgbm90IDEpLCBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBjYW4gb25seSBtYXRjaCBvbmUgbnVtYmVyLiBGb3IgZXhhbXBsZSwgdGhlXHJcbiAqIGV4cGxpY2l0IG51bWJlciBydWxlIGZvciBcIjNcIiBtYXRjaGVzIHRoZSBudW1iZXIgMy4gVGhlcmUgYXJlIGV4YW1wbGVzIG9mIHBsdXJhbCBjYXRlZ29yaWVzXHJcbiAqIGFuZCBleHBsaWNpdCBudW1iZXIgcnVsZXMgdGhyb3VnaG91dCB0aGUgcmVzdCBvZiB0aGlzIGRvY3VtZW50YXRpb24uXHJcbiAqXHJcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemVcclxuICogWW91IGNvbmZpZ3VyZSBuZ1BsdXJhbGl6ZSBieSBwcm92aWRpbmcgMiBhdHRyaWJ1dGVzOiBgY291bnRgIGFuZCBgd2hlbmAuXHJcbiAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIGF0dHJpYnV0ZSwgYG9mZnNldGAuXHJcbiAqXHJcbiAqIFRoZSB2YWx1ZSBvZiB0aGUgYGNvdW50YCBhdHRyaWJ1dGUgY2FuIGJlIGVpdGhlciBhIHN0cmluZyBvciBhbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvblxyXG4gKiBBbmd1bGFyIGV4cHJlc3Npb259OyB0aGVzZSBhcmUgZXZhbHVhdGVkIG9uIHRoZSBjdXJyZW50IHNjb3BlIGZvciBpdHMgYm91bmQgdmFsdWUuXHJcbiAqXHJcbiAqIFRoZSBgd2hlbmAgYXR0cmlidXRlIHNwZWNpZmllcyB0aGUgbWFwcGluZ3MgYmV0d2VlbiBwbHVyYWwgY2F0ZWdvcmllcyBhbmQgdGhlIGFjdHVhbFxyXG4gKiBzdHJpbmcgdG8gYmUgZGlzcGxheWVkLiBUaGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSBzaG91bGQgYmUgYSBKU09OIG9iamVjdC5cclxuICpcclxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBjb25maWd1cmUgbmdQbHVyYWxpemU6XHJcbiAqXHJcbiAqIGBgYGh0bWxcclxuICogPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcclxuICAgICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAnMSBwZXJzb24gaXMgdmlld2luZy4nLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XHJcbiAqIDwvbmctcGx1cmFsaXplPlxyXG4gKmBgYFxyXG4gKlxyXG4gKiBJbiB0aGUgZXhhbXBsZSwgYFwiMDogTm9ib2R5IGlzIHZpZXdpbmcuXCJgIGlzIGFuIGV4cGxpY2l0IG51bWJlciBydWxlLiBJZiB5b3UgZGlkIG5vdFxyXG4gKiBzcGVjaWZ5IHRoaXMgcnVsZSwgMCB3b3VsZCBiZSBtYXRjaGVkIHRvIHRoZSBcIm90aGVyXCIgY2F0ZWdvcnkgYW5kIFwiMCBwZW9wbGUgYXJlIHZpZXdpbmdcIlxyXG4gKiB3b3VsZCBiZSBzaG93biBpbnN0ZWFkIG9mIFwiTm9ib2R5IGlzIHZpZXdpbmdcIi4gWW91IGNhbiBzcGVjaWZ5IGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGZvclxyXG4gKiBvdGhlciBudW1iZXJzLCBmb3IgZXhhbXBsZSAxMiwgc28gdGhhdCBpbnN0ZWFkIG9mIHNob3dpbmcgXCIxMiBwZW9wbGUgYXJlIHZpZXdpbmdcIiwgeW91IGNhblxyXG4gKiBzaG93IFwiYSBkb3plbiBwZW9wbGUgYXJlIHZpZXdpbmdcIi5cclxuICpcclxuICogWW91IGNhbiB1c2UgYSBzZXQgb2YgY2xvc2VkIGJyYWNlcyAoYHt9YCkgYXMgYSBwbGFjZWhvbGRlciBmb3IgdGhlIG51bWJlciB0aGF0IHlvdSB3YW50IHN1YnN0aXR1dGVkXHJcbiAqIGludG8gcGx1cmFsaXplZCBzdHJpbmdzLiBJbiB0aGUgcHJldmlvdXMgZXhhbXBsZSwgQW5ndWxhciB3aWxsIHJlcGxhY2UgYHt9YCB3aXRoXHJcbiAqIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT5ge3twZXJzb25Db3VudH19YDwvc3Bhbj4uIFRoZSBjbG9zZWQgYnJhY2VzIGB7fWAgaXMgYSBwbGFjZWhvbGRlclxyXG4gKiBmb3IgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7bnVtYmVyRXhwcmVzc2lvbn19PC9zcGFuPi5cclxuICpcclxuICogSWYgbm8gcnVsZSBpcyBkZWZpbmVkIGZvciBhIGNhdGVnb3J5LCB0aGVuIGFuIGVtcHR5IHN0cmluZyBpcyBkaXNwbGF5ZWQgYW5kIGEgd2FybmluZyBpcyBnZW5lcmF0ZWQuXHJcbiAqIE5vdGUgdGhhdCBzb21lIGxvY2FsZXMgZGVmaW5lIG1vcmUgY2F0ZWdvcmllcyB0aGFuIGBvbmVgIGFuZCBgb3RoZXJgLiBGb3IgZXhhbXBsZSwgZnItZnIgZGVmaW5lcyBgZmV3YCBhbmQgYG1hbnlgLlxyXG4gKlxyXG4gKiAjIENvbmZpZ3VyaW5nIG5nUGx1cmFsaXplIHdpdGggb2Zmc2V0XHJcbiAqIFRoZSBgb2Zmc2V0YCBhdHRyaWJ1dGUgYWxsb3dzIGZ1cnRoZXIgY3VzdG9taXphdGlvbiBvZiBwbHVyYWxpemVkIHRleHQsIHdoaWNoIGNhbiByZXN1bHQgaW5cclxuICogYSBiZXR0ZXIgdXNlciBleHBlcmllbmNlLiBGb3IgZXhhbXBsZSwgaW5zdGVhZCBvZiB0aGUgbWVzc2FnZSBcIjQgcGVvcGxlIGFyZSB2aWV3aW5nIHRoaXMgZG9jdW1lbnRcIixcclxuICogeW91IG1pZ2h0IGRpc3BsYXkgXCJKb2huLCBLYXRlIGFuZCAyIG90aGVycyBhcmUgdmlld2luZyB0aGlzIGRvY3VtZW50XCIuXHJcbiAqIFRoZSBvZmZzZXQgYXR0cmlidXRlIGFsbG93cyB5b3UgdG8gb2Zmc2V0IGEgbnVtYmVyIGJ5IGFueSBkZXNpcmVkIHZhbHVlLlxyXG4gKiBMZXQncyB0YWtlIGEgbG9vayBhdCBhbiBleGFtcGxlOlxyXG4gKlxyXG4gKiBgYGBodG1sXHJcbiAqIDxuZy1wbHVyYWxpemUgY291bnQ9XCJwZXJzb25Db3VudFwiIG9mZnNldD0yXHJcbiAqICAgICAgICAgICAgICAgd2hlbj1cInsnMCc6ICdOb2JvZHkgaXMgdmlld2luZy4nLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICcyJzogJ3t7cGVyc29uMX19IGFuZCB7e3BlcnNvbjJ9fSBhcmUgdmlld2luZy4nLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJ3t7cGVyc29uMX19LCB7e3BlcnNvbjJ9fSBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cclxuICogPC9uZy1wbHVyYWxpemU+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBOb3RpY2UgdGhhdCB3ZSBhcmUgc3RpbGwgdXNpbmcgdHdvIHBsdXJhbCBjYXRlZ29yaWVzKG9uZSwgb3RoZXIpLCBidXQgd2UgYWRkZWRcclxuICogdGhyZWUgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIDAsIDEgYW5kIDIuXHJcbiAqIFdoZW4gb25lIHBlcnNvbiwgcGVyaGFwcyBKb2huLCB2aWV3cyB0aGUgZG9jdW1lbnQsIFwiSm9obiBpcyB2aWV3aW5nXCIgd2lsbCBiZSBzaG93bi5cclxuICogV2hlbiB0aHJlZSBwZW9wbGUgdmlldyB0aGUgZG9jdW1lbnQsIG5vIGV4cGxpY2l0IG51bWJlciBydWxlIGlzIGZvdW5kLCBzb1xyXG4gKiBhbiBvZmZzZXQgb2YgMiBpcyB0YWtlbiBvZmYgMywgYW5kIEFuZ3VsYXIgdXNlcyAxIHRvIGRlY2lkZSB0aGUgcGx1cmFsIGNhdGVnb3J5LlxyXG4gKiBJbiB0aGlzIGNhc2UsIHBsdXJhbCBjYXRlZ29yeSAnb25lJyBpcyBtYXRjaGVkIGFuZCBcIkpvaG4sIE1hcnkgYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmdcIlxyXG4gKiBpcyBzaG93bi5cclxuICpcclxuICogTm90ZSB0aGF0IHdoZW4geW91IHNwZWNpZnkgb2Zmc2V0cywgeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yXHJcbiAqIG51bWJlcnMgZnJvbSAwIHVwIHRvIGFuZCBpbmNsdWRpbmcgdGhlIG9mZnNldC4gSWYgeW91IHVzZSBhbiBvZmZzZXQgb2YgMywgZm9yIGV4YW1wbGUsXHJcbiAqIHlvdSBtdXN0IHByb3ZpZGUgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIGZvciAwLCAxLCAyIGFuZCAzLiBZb3UgbXVzdCBhbHNvIHByb3ZpZGUgcGx1cmFsIHN0cmluZ3MgZm9yXHJcbiAqIHBsdXJhbCBjYXRlZ29yaWVzIFwib25lXCIgYW5kIFwib3RoZXJcIi5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd8ZXhwcmVzc2lvbn0gY291bnQgVGhlIHZhcmlhYmxlIHRvIGJlIGJvdW5kIHRvLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gd2hlbiBUaGUgbWFwcGluZyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yeSB0byBpdHMgY29ycmVzcG9uZGluZyBzdHJpbmdzLlxyXG4gKiBAcGFyYW0ge251bWJlcj19IG9mZnNldCBPZmZzZXQgdG8gZGVkdWN0IGZyb20gdGhlIHRvdGFsIG51bWJlci5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlIG1vZHVsZT1cInBsdXJhbGl6ZUV4YW1wbGVcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3BsdXJhbGl6ZUV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMSA9ICdJZ29yJztcclxuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMiA9ICdNaXNrbyc7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbkNvdW50ID0gMTtcclxuICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICA8bGFiZWw+UGVyc29uIDE6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24xXCIgdmFsdWU9XCJJZ29yXCIgLz48L2xhYmVsPjxici8+XHJcbiAgICAgICAgICA8bGFiZWw+UGVyc29uIDI6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24yXCIgdmFsdWU9XCJNaXNrb1wiIC8+PC9sYWJlbD48YnIvPlxyXG4gICAgICAgICAgPGxhYmVsPk51bWJlciBvZiBQZW9wbGU6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb25Db3VudFwiIHZhbHVlPVwiMVwiIC8+PC9sYWJlbD48YnIvPlxyXG5cclxuICAgICAgICAgIDwhLS0tIEV4YW1wbGUgd2l0aCBzaW1wbGUgcGx1cmFsaXphdGlvbiBydWxlcyBmb3IgZW4gbG9jYWxlIC0tLT5cclxuICAgICAgICAgIFdpdGhvdXQgT2Zmc2V0OlxyXG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbj1cInsnMCc6ICdOb2JvZHkgaXMgdmlld2luZy4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICcxIHBlcnNvbiBpcyB2aWV3aW5nLicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XHJcbiAgICAgICAgICA8L25nLXBsdXJhbGl6ZT48YnI+XHJcblxyXG4gICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIG9mZnNldCAtLS0+XHJcbiAgICAgICAgICBXaXRoIE9mZnNldCgyKTpcclxuICAgICAgICAgIDxuZy1wbHVyYWxpemUgY291bnQ9XCJwZXJzb25Db3VudFwiIG9mZnNldD0yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxJzogJ3t7cGVyc29uMX19IGlzIHZpZXdpbmcuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcyJzogJ3t7cGVyc29uMX19IGFuZCB7e3BlcnNvbjJ9fSBhcmUgdmlld2luZy4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIHt9IG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxyXG4gICAgICAgICAgPC9uZy1wbHVyYWxpemU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHBsdXJhbGl6ZWQgc3RyaW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgd2l0aG91dE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgwKTtcclxuICAgICAgICAgIHZhciB3aXRoT2Zmc2V0ID0gZWxlbWVudC5hbGwoYnkuY3NzKCduZy1wbHVyYWxpemUnKSkuZ2V0KDEpO1xyXG4gICAgICAgICAgdmFyIGNvdW50SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcclxuXHJcbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzEgcGVyc29uIGlzIHZpZXdpbmcuJyk7XHJcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgaXMgdmlld2luZy4nKTtcclxuXHJcbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcwJyk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdOb2JvZHkgaXMgdmlld2luZy4nKTtcclxuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XHJcblxyXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMicpO1xyXG5cclxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMiBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XHJcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgYW5kIE1pc2tvIGFyZSB2aWV3aW5nLicpO1xyXG5cclxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzMnKTtcclxuXHJcbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzMgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xyXG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nKTtcclxuXHJcbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCc0Jyk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCc0IHBlb3BsZSBhcmUgdmlld2luZy4nKTtcclxuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciwgTWlza28gYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyBkYXRhLWJvdW5kIG5hbWVzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcclxuICAgICAgICAgIHZhciBwZXJzb25Db3VudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbkNvdW50JykpO1xyXG4gICAgICAgICAgdmFyIHBlcnNvbjEgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24xJykpO1xyXG4gICAgICAgICAgdmFyIHBlcnNvbjIgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24yJykpO1xyXG4gICAgICAgICAgcGVyc29uQ291bnQuY2xlYXIoKTtcclxuICAgICAgICAgIHBlcnNvbkNvdW50LnNlbmRLZXlzKCc0Jyk7XHJcbiAgICAgICAgICBwZXJzb24xLmNsZWFyKCk7XHJcbiAgICAgICAgICBwZXJzb24xLnNlbmRLZXlzKCdEaScpO1xyXG4gICAgICAgICAgcGVyc29uMi5jbGVhcigpO1xyXG4gICAgICAgICAgcGVyc29uMi5zZW5kS2V5cygnVm9qdGEnKTtcclxuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnRGksIFZvanRhIGFuZCAyIG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nUGx1cmFsaXplRGlyZWN0aXZlID0gWyckbG9jYWxlJywgJyRpbnRlcnBvbGF0ZScsICckbG9nJywgZnVuY3Rpb24oJGxvY2FsZSwgJGludGVycG9sYXRlLCAkbG9nKSB7XHJcbiAgdmFyIEJSQUNFID0gL3t9L2csXHJcbiAgICAgIElTX1dIRU4gPSAvXndoZW4oTWludXMpPyguKykkLztcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgIHZhciBudW1iZXJFeHAgPSBhdHRyLmNvdW50LFxyXG4gICAgICAgICAgd2hlbkV4cCA9IGF0dHIuJGF0dHIud2hlbiAmJiBlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci53aGVuKSwgLy8gd2UgaGF2ZSB7e319IGluIGF0dHJzXHJcbiAgICAgICAgICBvZmZzZXQgPSBhdHRyLm9mZnNldCB8fCAwLFxyXG4gICAgICAgICAgd2hlbnMgPSBzY29wZS4kZXZhbCh3aGVuRXhwKSB8fCB7fSxcclxuICAgICAgICAgIHdoZW5zRXhwRm5zID0ge30sXHJcbiAgICAgICAgICBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLFxyXG4gICAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLFxyXG4gICAgICAgICAgYnJhY2VSZXBsYWNlbWVudCA9IHN0YXJ0U3ltYm9sICsgbnVtYmVyRXhwICsgJy0nICsgb2Zmc2V0ICsgZW5kU3ltYm9sLFxyXG4gICAgICAgICAgd2F0Y2hSZW1vdmVyID0gYW5ndWxhci5ub29wLFxyXG4gICAgICAgICAgbGFzdENvdW50O1xyXG5cclxuICAgICAgZm9yRWFjaChhdHRyLCBmdW5jdGlvbihleHByZXNzaW9uLCBhdHRyaWJ1dGVOYW1lKSB7XHJcbiAgICAgICAgdmFyIHRtcE1hdGNoID0gSVNfV0hFTi5leGVjKGF0dHJpYnV0ZU5hbWUpO1xyXG4gICAgICAgIGlmICh0bXBNYXRjaCkge1xyXG4gICAgICAgICAgdmFyIHdoZW5LZXkgPSAodG1wTWF0Y2hbMV0gPyAnLScgOiAnJykgKyBsb3dlcmNhc2UodG1wTWF0Y2hbMl0pO1xyXG4gICAgICAgICAgd2hlbnNbd2hlbktleV0gPSBlbGVtZW50LmF0dHIoYXR0ci4kYXR0clthdHRyaWJ1dGVOYW1lXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgZm9yRWFjaCh3aGVucywgZnVuY3Rpb24oZXhwcmVzc2lvbiwga2V5KSB7XHJcbiAgICAgICAgd2hlbnNFeHBGbnNba2V5XSA9ICRpbnRlcnBvbGF0ZShleHByZXNzaW9uLnJlcGxhY2UoQlJBQ0UsIGJyYWNlUmVwbGFjZW1lbnQpKTtcclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGUuJHdhdGNoKG51bWJlckV4cCwgZnVuY3Rpb24gbmdQbHVyYWxpemVXYXRjaEFjdGlvbihuZXdWYWwpIHtcclxuICAgICAgICB2YXIgY291bnQgPSBwYXJzZUZsb2F0KG5ld1ZhbCk7XHJcbiAgICAgICAgdmFyIGNvdW50SXNOYU4gPSBpc05hTihjb3VudCk7XHJcblxyXG4gICAgICAgIGlmICghY291bnRJc05hTiAmJiAhKGNvdW50IGluIHdoZW5zKSkge1xyXG4gICAgICAgICAgLy8gSWYgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUgc3VjaCBhcyAxLCAyLCAzLi4uIGlzIGRlZmluZWQsIGp1c3QgdXNlIGl0LlxyXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjaGVjayBpdCBhZ2FpbnN0IHBsdXJhbGl6YXRpb24gcnVsZXMgaW4gJGxvY2FsZSBzZXJ2aWNlLlxyXG4gICAgICAgICAgY291bnQgPSAkbG9jYWxlLnBsdXJhbENhdChjb3VudCAtIG9mZnNldCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBib3RoIGBjb3VudGAgYW5kIGBsYXN0Q291bnRgIGFyZSBOYU4sIHdlIGRvbid0IG5lZWQgdG8gcmUtcmVnaXN0ZXIgYSB3YXRjaC5cclxuICAgICAgICAvLyBJbiBKUyBgTmFOICE9PSBOYU5gLCBzbyB3ZSBoYXZlIHRvIGV4cGxpY2l0bHkgY2hlY2suXHJcbiAgICAgICAgaWYgKChjb3VudCAhPT0gbGFzdENvdW50KSAmJiAhKGNvdW50SXNOYU4gJiYgaXNOdW1iZXIobGFzdENvdW50KSAmJiBpc05hTihsYXN0Q291bnQpKSkge1xyXG4gICAgICAgICAgd2F0Y2hSZW1vdmVyKCk7XHJcbiAgICAgICAgICB2YXIgd2hlbkV4cEZuID0gd2hlbnNFeHBGbnNbY291bnRdO1xyXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHdoZW5FeHBGbikpIHtcclxuICAgICAgICAgICAgaWYgKG5ld1ZhbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgJGxvZy5kZWJ1ZyhcIm5nUGx1cmFsaXplOiBubyBydWxlIGRlZmluZWQgZm9yICdcIiArIGNvdW50ICsgXCInIGluIFwiICsgd2hlbkV4cCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2F0Y2hSZW1vdmVyID0gbm9vcDtcclxuICAgICAgICAgICAgdXBkYXRlRWxlbWVudFRleHQoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdhdGNoUmVtb3ZlciA9IHNjb3BlLiR3YXRjaCh3aGVuRXhwRm4sIHVwZGF0ZUVsZW1lbnRUZXh0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxhc3RDb3VudCA9IGNvdW50O1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50VGV4dChuZXdUZXh0KSB7XHJcbiAgICAgICAgZWxlbWVudC50ZXh0KG5ld1RleHQgfHwgJycpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1JlcGVhdFxyXG4gKiBAbXVsdGlFbGVtZW50XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nUmVwZWF0YCBkaXJlY3RpdmUgaW5zdGFudGlhdGVzIGEgdGVtcGxhdGUgb25jZSBwZXIgaXRlbSBmcm9tIGEgY29sbGVjdGlvbi4gRWFjaCB0ZW1wbGF0ZVxyXG4gKiBpbnN0YW5jZSBnZXRzIGl0cyBvd24gc2NvcGUsIHdoZXJlIHRoZSBnaXZlbiBsb29wIHZhcmlhYmxlIGlzIHNldCB0byB0aGUgY3VycmVudCBjb2xsZWN0aW9uIGl0ZW0sXHJcbiAqIGFuZCBgJGluZGV4YCBpcyBzZXQgdG8gdGhlIGl0ZW0gaW5kZXggb3Iga2V5LlxyXG4gKlxyXG4gKiBTcGVjaWFsIHByb3BlcnRpZXMgYXJlIGV4cG9zZWQgb24gdGhlIGxvY2FsIHNjb3BlIG9mIGVhY2ggdGVtcGxhdGUgaW5zdGFuY2UsIGluY2x1ZGluZzpcclxuICpcclxuICogfCBWYXJpYWJsZSAgfCBUeXBlICAgICAgICAgICAgfCBEZXRhaWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8LS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAqIHwgYCRpbmRleGAgIHwge0B0eXBlIG51bWJlcn0gIHwgaXRlcmF0b3Igb2Zmc2V0IG9mIHRoZSByZXBlYXRlZCBlbGVtZW50ICgwLi5sZW5ndGgtMSkgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogfCBgJGZpcnN0YCAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGZpcnN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8IGAkbWlkZGxlYCB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIHJlcGVhdGVkIGVsZW1lbnQgaXMgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3QgaW4gdGhlIGl0ZXJhdG9yLiB8XHJcbiAqIHwgYCRsYXN0YCAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCBpcyBsYXN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogfCBgJGV2ZW5gICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBldmVuIChvdGhlcndpc2UgZmFsc2UpLiAgICAgICAgICAgfFxyXG4gKiB8IGAkb2RkYCAgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIGl0ZXJhdG9yIHBvc2l0aW9uIGAkaW5kZXhgIGlzIG9kZCAob3RoZXJ3aXNlIGZhbHNlKS4gICAgICAgICAgICB8XHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAqICAgQ3JlYXRpbmcgYWxpYXNlcyBmb3IgdGhlc2UgcHJvcGVydGllcyBpcyBwb3NzaWJsZSB3aXRoIHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbml0IGBuZ0luaXRgfS5cclxuICogICBUaGlzIG1heSBiZSB1c2VmdWwgd2hlbiwgZm9yIGluc3RhbmNlLCBuZXN0aW5nIG5nUmVwZWF0cy5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqXHJcbiAqICMgSXRlcmF0aW5nIG92ZXIgb2JqZWN0IHByb3BlcnRpZXNcclxuICpcclxuICogSXQgaXMgcG9zc2libGUgdG8gZ2V0IGBuZ1JlcGVhdGAgdG8gaXRlcmF0ZSBvdmVyIHRoZSBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCB1c2luZyB0aGUgZm9sbG93aW5nXHJcbiAqIHN5bnRheDpcclxuICpcclxuICogYGBganNcclxuICogPGRpdiBuZy1yZXBlYXQ9XCIoa2V5LCB2YWx1ZSkgaW4gbXlPYmpcIj4gLi4uIDwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogSG93ZXZlciwgdGhlcmUgYXJlIGEgbGltaXRhdGlvbnMgY29tcGFyZWQgdG8gYXJyYXkgaXRlcmF0aW9uOlxyXG4gKlxyXG4gKiAtIFRoZSBKYXZhU2NyaXB0IHNwZWNpZmljYXRpb24gZG9lcyBub3QgZGVmaW5lIHRoZSBvcmRlciBvZiBrZXlzXHJcbiAqICAgcmV0dXJuZWQgZm9yIGFuIG9iamVjdCwgc28gQW5ndWxhciByZWxpZXMgb24gdGhlIG9yZGVyIHJldHVybmVkIGJ5IHRoZSBicm93c2VyXHJcbiAqICAgd2hlbiBydW5uaW5nIGBmb3Iga2V5IGluIG15T2JqYC4gQnJvd3NlcnMgZ2VuZXJhbGx5IGZvbGxvdyB0aGUgc3RyYXRlZ3kgb2YgcHJvdmlkaW5nXHJcbiAqICAga2V5cyBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSB3ZXJlIGRlZmluZWQsIGFsdGhvdWdoIHRoZXJlIGFyZSBleGNlcHRpb25zIHdoZW4ga2V5cyBhcmUgZGVsZXRlZFxyXG4gKiAgIGFuZCByZWluc3RhdGVkLiBTZWUgdGhlXHJcbiAqICAgW01ETiBwYWdlIG9uIGBkZWxldGVgIGZvciBtb3JlIGluZm9dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9kZWxldGUjQ3Jvc3MtYnJvd3Nlcl9ub3RlcykuXHJcbiAqXHJcbiAqIC0gYG5nUmVwZWF0YCB3aWxsIHNpbGVudGx5ICppZ25vcmUqIG9iamVjdCBrZXlzIHN0YXJ0aW5nIHdpdGggYCRgLCBiZWNhdXNlXHJcbiAqICAgaXQncyBhIHByZWZpeCB1c2VkIGJ5IEFuZ3VsYXIgZm9yIHB1YmxpYyAoYCRgKSBhbmQgcHJpdmF0ZSAoYCQkYCkgcHJvcGVydGllcy5cclxuICpcclxuICogLSBUaGUgYnVpbHQtaW4gZmlsdGVycyB7QGxpbmsgbmcub3JkZXJCeSBvcmRlckJ5fSBhbmQge0BsaW5rIG5nLmZpbHRlciBmaWx0ZXJ9IGRvIG5vdCB3b3JrIHdpdGhcclxuICogICBvYmplY3RzLCBhbmQgd2lsbCB0aHJvdyBpZiB1c2VkIHdpdGggb25lLlxyXG4gKlxyXG4gKiBJZiB5b3UgYXJlIGhpdHRpbmcgYW55IG9mIHRoZXNlIGxpbWl0YXRpb25zLCB0aGUgcmVjb21tZW5kZWQgd29ya2Fyb3VuZCBpcyB0byBjb252ZXJ0IHlvdXIgb2JqZWN0IGludG8gYW4gYXJyYXlcclxuICogdGhhdCBpcyBzb3J0ZWQgaW50byB0aGUgb3JkZXIgdGhhdCB5b3UgcHJlZmVyIGJlZm9yZSBwcm92aWRpbmcgaXQgdG8gYG5nUmVwZWF0YC4gWW91IGNvdWxkXHJcbiAqIGRvIHRoaXMgd2l0aCBhIGZpbHRlciBzdWNoIGFzIFt0b0FycmF5RmlsdGVyXShodHRwOi8vbmdtb2R1bGVzLm9yZy9tb2R1bGVzL2FuZ3VsYXItdG9BcnJheUZpbHRlcilcclxuICogb3IgaW1wbGVtZW50IGEgYCR3YXRjaGAgb24gdGhlIG9iamVjdCB5b3Vyc2VsZi5cclxuICpcclxuICpcclxuICogIyBUcmFja2luZyBhbmQgRHVwbGljYXRlc1xyXG4gKlxyXG4gKiBgbmdSZXBlYXRgIHVzZXMge0BsaW5rICRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvbiAkd2F0Y2hDb2xsZWN0aW9ufSB0byBkZXRlY3QgY2hhbmdlcyBpblxyXG4gKiB0aGUgY29sbGVjdGlvbi4gV2hlbiBhIGNoYW5nZSBoYXBwZW5zLCBuZ1JlcGVhdCB0aGVuIG1ha2VzIHRoZSBjb3JyZXNwb25kaW5nIGNoYW5nZXMgdG8gdGhlIERPTTpcclxuICpcclxuICogKiBXaGVuIGFuIGl0ZW0gaXMgYWRkZWQsIGEgbmV3IGluc3RhbmNlIG9mIHRoZSB0ZW1wbGF0ZSBpcyBhZGRlZCB0byB0aGUgRE9NLlxyXG4gKiAqIFdoZW4gYW4gaXRlbSBpcyByZW1vdmVkLCBpdHMgdGVtcGxhdGUgaW5zdGFuY2UgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXHJcbiAqICogV2hlbiBpdGVtcyBhcmUgcmVvcmRlcmVkLCB0aGVpciByZXNwZWN0aXZlIHRlbXBsYXRlcyBhcmUgcmVvcmRlcmVkIGluIHRoZSBET00uXHJcbiAqXHJcbiAqIFRvIG1pbmltaXplIGNyZWF0aW9uIG9mIERPTSBlbGVtZW50cywgYG5nUmVwZWF0YCB1c2VzIGEgZnVuY3Rpb25cclxuICogdG8gXCJrZWVwIHRyYWNrXCIgb2YgYWxsIGl0ZW1zIGluIHRoZSBjb2xsZWN0aW9uIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIERPTSBlbGVtZW50cy5cclxuICogRm9yIGV4YW1wbGUsIGlmIGFuIGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGNvbGxlY3Rpb24sIG5nUmVwZWF0IHdpbGwga25vdyB0aGF0IGFsbCBvdGhlciBpdGVtc1xyXG4gKiBhbHJlYWR5IGhhdmUgRE9NIGVsZW1lbnRzLCBhbmQgd2lsbCBub3QgcmUtcmVuZGVyIHRoZW0uXHJcbiAqXHJcbiAqIFRoZSBkZWZhdWx0IHRyYWNraW5nIGZ1bmN0aW9uICh3aGljaCB0cmFja3MgaXRlbXMgYnkgdGhlaXIgaWRlbnRpdHkpIGRvZXMgbm90IGFsbG93XHJcbiAqIGR1cGxpY2F0ZSBpdGVtcyBpbiBhcnJheXMuIFRoaXMgaXMgYmVjYXVzZSB3aGVuIHRoZXJlIGFyZSBkdXBsaWNhdGVzLCBpdCBpcyBub3QgcG9zc2libGVcclxuICogdG8gbWFpbnRhaW4gYSBvbmUtdG8tb25lIG1hcHBpbmcgYmV0d2VlbiBjb2xsZWN0aW9uIGl0ZW1zIGFuZCBET00gZWxlbWVudHMuXHJcbiAqXHJcbiAqIElmIHlvdSBkbyBuZWVkIHRvIHJlcGVhdCBkdXBsaWNhdGUgaXRlbXMsIHlvdSBjYW4gc3Vic3RpdHV0ZSB0aGUgZGVmYXVsdCB0cmFja2luZyBiZWhhdmlvclxyXG4gKiB3aXRoIHlvdXIgb3duIHVzaW5nIHRoZSBgdHJhY2sgYnlgIGV4cHJlc3Npb24uXHJcbiAqXHJcbiAqIEZvciBleGFtcGxlLCB5b3UgbWF5IHRyYWNrIGl0ZW1zIGJ5IHRoZSBpbmRleCBvZiBlYWNoIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb24sIHVzaW5nIHRoZVxyXG4gKiBzcGVjaWFsIHNjb3BlIHByb3BlcnR5IGAkaW5kZXhgOlxyXG4gKiBgYGBodG1sXHJcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwibiBpbiBbNDIsIDQyLCA0MywgNDNdIHRyYWNrIGJ5ICRpbmRleFwiPlxyXG4gKiAgICAgIHt7bn19XHJcbiAqICAgIDwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogWW91IG1heSBhbHNvIHVzZSBhcmJpdHJhcnkgZXhwcmVzc2lvbnMgaW4gYHRyYWNrIGJ5YCwgaW5jbHVkaW5nIHJlZmVyZW5jZXMgdG8gY3VzdG9tIGZ1bmN0aW9uc1xyXG4gKiBvbiB0aGUgc2NvcGU6XHJcbiAqIGBgYGh0bWxcclxuICogICAgPGRpdiBuZy1yZXBlYXQ9XCJuIGluIFs0MiwgNDIsIDQzLCA0M10gdHJhY2sgYnkgbXlUcmFja2luZ0Z1bmN0aW9uKG4pXCI+XHJcbiAqICAgICAge3tufX1cclxuICogICAgPC9kaXY+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxyXG4gKiBJZiB5b3UgYXJlIHdvcmtpbmcgd2l0aCBvYmplY3RzIHRoYXQgaGF2ZSBhbiBpZGVudGlmaWVyIHByb3BlcnR5LCB5b3Ugc2hvdWxkIHRyYWNrXHJcbiAqIGJ5IHRoZSBpZGVudGlmaWVyIGluc3RlYWQgb2YgdGhlIHdob2xlIG9iamVjdC4gU2hvdWxkIHlvdSByZWxvYWQgeW91ciBkYXRhIGxhdGVyLCBgbmdSZXBlYXRgXHJcbiAqIHdpbGwgbm90IGhhdmUgdG8gcmVidWlsZCB0aGUgRE9NIGVsZW1lbnRzIGZvciBpdGVtcyBpdCBoYXMgYWxyZWFkeSByZW5kZXJlZCwgZXZlbiBpZiB0aGVcclxuICogSmF2YVNjcmlwdCBvYmplY3RzIGluIHRoZSBjb2xsZWN0aW9uIGhhdmUgYmVlbiBzdWJzdGl0dXRlZCBmb3IgbmV3IG9uZXMuIEZvciBsYXJnZSBjb2xsZWN0aW9ucyxcclxuICogdGhpcyBzaWduaWZpY2FudGx5IGltcHJvdmVzIHJlbmRlcmluZyBwZXJmb3JtYW5jZS4gSWYgeW91IGRvbid0IGhhdmUgYSB1bmlxdWUgaWRlbnRpZmllcixcclxuICogYHRyYWNrIGJ5ICRpbmRleGAgY2FuIGFsc28gcHJvdmlkZSBhIHBlcmZvcm1hbmNlIGJvb3N0LlxyXG4gKiA8L2Rpdj5cclxuICogYGBgaHRtbFxyXG4gKiAgICA8ZGl2IG5nLXJlcGVhdD1cIm1vZGVsIGluIGNvbGxlY3Rpb24gdHJhY2sgYnkgbW9kZWwuaWRcIj5cclxuICogICAgICB7e21vZGVsLm5hbWV9fVxyXG4gKiAgICA8L2Rpdj5cclxuICogYGBgXHJcbiAqXHJcbiAqIFdoZW4gbm8gYHRyYWNrIGJ5YCBleHByZXNzaW9uIGlzIHByb3ZpZGVkLCBpdCBpcyBlcXVpdmFsZW50IHRvIHRyYWNraW5nIGJ5IHRoZSBidWlsdC1pblxyXG4gKiBgJGlkYCBmdW5jdGlvbiwgd2hpY2ggdHJhY2tzIGl0ZW1zIGJ5IHRoZWlyIGlkZW50aXR5OlxyXG4gKiBgYGBodG1sXHJcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwib2JqIGluIGNvbGxlY3Rpb24gdHJhY2sgYnkgJGlkKG9iailcIj5cclxuICogICAgICB7e29iai5wcm9wfX1cclxuICogICAgPC9kaXY+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogYHRyYWNrIGJ5YCBtdXN0IGFsd2F5cyBiZSB0aGUgbGFzdCBleHByZXNzaW9uOlxyXG4gKiA8L2Rpdj5cclxuICogYGBgXHJcbiAqIDxkaXYgbmctcmVwZWF0PVwibW9kZWwgaW4gY29sbGVjdGlvbiB8IG9yZGVyQnk6ICdpZCcgYXMgZmlsdGVyZWRfcmVzdWx0IHRyYWNrIGJ5IG1vZGVsLmlkXCI+XHJcbiAqICAgICB7e21vZGVsLm5hbWV9fVxyXG4gKiA8L2Rpdj5cclxuICogYGBgXHJcbiAqXHJcbiAqICMgU3BlY2lhbCByZXBlYXQgc3RhcnQgYW5kIGVuZCBwb2ludHNcclxuICogVG8gcmVwZWF0IGEgc2VyaWVzIG9mIGVsZW1lbnRzIGluc3RlYWQgb2YganVzdCBvbmUgcGFyZW50IGVsZW1lbnQsIG5nUmVwZWF0IChhcyB3ZWxsIGFzIG90aGVyIG5nIGRpcmVjdGl2ZXMpIHN1cHBvcnRzIGV4dGVuZGluZ1xyXG4gKiB0aGUgcmFuZ2Ugb2YgdGhlIHJlcGVhdGVyIGJ5IGRlZmluaW5nIGV4cGxpY2l0IHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGJ5IHVzaW5nICoqbmctcmVwZWF0LXN0YXJ0KiogYW5kICoqbmctcmVwZWF0LWVuZCoqIHJlc3BlY3RpdmVseS5cclxuICogVGhlICoqbmctcmVwZWF0LXN0YXJ0KiogZGlyZWN0aXZlIHdvcmtzIHRoZSBzYW1lIGFzICoqbmctcmVwZWF0KiosIGJ1dCB3aWxsIHJlcGVhdCBhbGwgdGhlIEhUTUwgY29kZSAoaW5jbHVkaW5nIHRoZSB0YWcgaXQncyBkZWZpbmVkIG9uKVxyXG4gKiB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBlbmRpbmcgSFRNTCB0YWcgd2hlcmUgKipuZy1yZXBlYXQtZW5kKiogaXMgcGxhY2VkLlxyXG4gKlxyXG4gKiBUaGUgZXhhbXBsZSBiZWxvdyBtYWtlcyB1c2Ugb2YgdGhpcyBmZWF0dXJlOlxyXG4gKiBgYGBodG1sXHJcbiAqICAgPGhlYWRlciBuZy1yZXBlYXQtc3RhcnQ9XCJpdGVtIGluIGl0ZW1zXCI+XHJcbiAqICAgICBIZWFkZXIge3sgaXRlbSB9fVxyXG4gKiAgIDwvaGVhZGVyPlxyXG4gKiAgIDxkaXYgY2xhc3M9XCJib2R5XCI+XHJcbiAqICAgICBCb2R5IHt7IGl0ZW0gfX1cclxuICogICA8L2Rpdj5cclxuICogICA8Zm9vdGVyIG5nLXJlcGVhdC1lbmQ+XHJcbiAqICAgICBGb290ZXIge3sgaXRlbSB9fVxyXG4gKiAgIDwvZm9vdGVyPlxyXG4gKiBgYGBcclxuICpcclxuICogQW5kIHdpdGggYW4gaW5wdXQgb2Yge0B0eXBlIFsnQScsJ0InXX0gZm9yIHRoZSBpdGVtcyB2YXJpYWJsZSBpbiB0aGUgZXhhbXBsZSBhYm92ZSwgdGhlIG91dHB1dCB3aWxsIGV2YWx1YXRlIHRvOlxyXG4gKiBgYGBodG1sXHJcbiAqICAgPGhlYWRlcj5cclxuICogICAgIEhlYWRlciBBXHJcbiAqICAgPC9oZWFkZXI+XHJcbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cclxuICogICAgIEJvZHkgQVxyXG4gKiAgIDwvZGl2PlxyXG4gKiAgIDxmb290ZXI+XHJcbiAqICAgICBGb290ZXIgQVxyXG4gKiAgIDwvZm9vdGVyPlxyXG4gKiAgIDxoZWFkZXI+XHJcbiAqICAgICBIZWFkZXIgQlxyXG4gKiAgIDwvaGVhZGVyPlxyXG4gKiAgIDxkaXYgY2xhc3M9XCJib2R5XCI+XHJcbiAqICAgICBCb2R5IEJcclxuICogICA8L2Rpdj5cclxuICogICA8Zm9vdGVyPlxyXG4gKiAgICAgRm9vdGVyIEJcclxuICogICA8L2Zvb3Rlcj5cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBjdXN0b20gc3RhcnQgYW5kIGVuZCBwb2ludHMgZm9yIG5nUmVwZWF0IGFsc28gc3VwcG9ydCBhbGwgb3RoZXIgSFRNTCBkaXJlY3RpdmUgc3ludGF4IGZsYXZvcnMgcHJvdmlkZWQgaW4gQW5ndWxhckpTIChzdWNoXHJcbiAqIGFzICoqZGF0YS1uZy1yZXBlYXQtc3RhcnQqKiwgKip4LW5nLXJlcGVhdC1zdGFydCoqIGFuZCAqKm5nOnJlcGVhdC1zdGFydCoqKS5cclxuICpcclxuICogQGFuaW1hdGlvbnNcclxuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjZW50ZXIgZW50ZXJ9IHwgd2hlbiBhIG5ldyBpdGVtIGlzIGFkZGVkIHRvIHRoZSBsaXN0IG9yIHdoZW4gYW4gaXRlbSBpcyByZXZlYWxlZCBhZnRlciBhIGZpbHRlciB8XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2xlYXZlIGxlYXZlfSB8IHdoZW4gYW4gaXRlbSBpcyByZW1vdmVkIGZyb20gdGhlIGxpc3Qgb3Igd2hlbiBhbiBpdGVtIGlzIGZpbHRlcmVkIG91dCB8XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI21vdmUgbW92ZSB9IHwgd2hlbiBhbiBhZGphY2VudCBpdGVtIGlzIGZpbHRlcmVkIG91dCBjYXVzaW5nIGEgcmVvcmRlciBvciB3aGVuIHRoZSBpdGVtIGNvbnRlbnRzIGFyZSByZW9yZGVyZWQgfFxyXG4gKlxyXG4gKiBTZWUgdGhlIGV4YW1wbGUgYmVsb3cgZm9yIGRlZmluaW5nIENTUyBhbmltYXRpb25zIHdpdGggbmdSZXBlYXQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAc2NvcGVcclxuICogQHByaW9yaXR5IDEwMDBcclxuICogQHBhcmFtIHtyZXBlYXRfZXhwcmVzc2lvbn0gbmdSZXBlYXQgVGhlIGV4cHJlc3Npb24gaW5kaWNhdGluZyBob3cgdG8gZW51bWVyYXRlIGEgY29sbGVjdGlvbi4gVGhlc2VcclxuICogICBmb3JtYXRzIGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkOlxyXG4gKlxyXG4gKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb25gIOKAkyB3aGVyZSB2YXJpYWJsZSBpcyB0aGUgdXNlciBkZWZpbmVkIGxvb3AgdmFyaWFibGUgYW5kIGBleHByZXNzaW9uYFxyXG4gKiAgICAgaXMgYSBzY29wZSBleHByZXNzaW9uIGdpdmluZyB0aGUgY29sbGVjdGlvbiB0byBlbnVtZXJhdGUuXHJcbiAqXHJcbiAqICAgICBGb3IgZXhhbXBsZTogYGFsYnVtIGluIGFydGlzdC5hbGJ1bXNgLlxyXG4gKlxyXG4gKiAgICogYChrZXksIHZhbHVlKSBpbiBleHByZXNzaW9uYCDigJMgd2hlcmUgYGtleWAgYW5kIGB2YWx1ZWAgY2FuIGJlIGFueSB1c2VyIGRlZmluZWQgaWRlbnRpZmllcnMsXHJcbiAqICAgICBhbmQgYGV4cHJlc3Npb25gIGlzIHRoZSBzY29wZSBleHByZXNzaW9uIGdpdmluZyB0aGUgY29sbGVjdGlvbiB0byBlbnVtZXJhdGUuXHJcbiAqXHJcbiAqICAgICBGb3IgZXhhbXBsZTogYChuYW1lLCBhZ2UpIGluIHsnYWRhbSc6MTAsICdhbWFsaWUnOjEyfWAuXHJcbiAqXHJcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiB0cmFjayBieSB0cmFja2luZ19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgdHJhY2tpbmcgZXhwcmVzc2lvblxyXG4gKiAgICAgd2hpY2ggY2FuIGJlIHVzZWQgdG8gYXNzb2NpYXRlIHRoZSBvYmplY3RzIGluIHRoZSBjb2xsZWN0aW9uIHdpdGggdGhlIERPTSBlbGVtZW50cy4gSWYgbm8gdHJhY2tpbmcgZXhwcmVzc2lvblxyXG4gKiAgICAgaXMgc3BlY2lmaWVkLCBuZy1yZXBlYXQgYXNzb2NpYXRlcyBlbGVtZW50cyBieSBpZGVudGl0eS4gSXQgaXMgYW4gZXJyb3IgdG8gaGF2ZVxyXG4gKiAgICAgbW9yZSB0aGFuIG9uZSB0cmFja2luZyBleHByZXNzaW9uIHZhbHVlIHJlc29sdmUgdG8gdGhlIHNhbWUga2V5LiAoVGhpcyB3b3VsZCBtZWFuIHRoYXQgdHdvIGRpc3RpbmN0IG9iamVjdHMgYXJlXHJcbiAqICAgICBtYXBwZWQgdG8gdGhlIHNhbWUgRE9NIGVsZW1lbnQsIHdoaWNoIGlzIG5vdCBwb3NzaWJsZS4pXHJcbiAqXHJcbiAqICAgICBOb3RlIHRoYXQgdGhlIHRyYWNraW5nIGV4cHJlc3Npb24gbXVzdCBjb21lIGxhc3QsIGFmdGVyIGFueSBmaWx0ZXJzLCBhbmQgdGhlIGFsaWFzIGV4cHJlc3Npb24uXHJcbiAqXHJcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXNgIGlzIGVxdWl2YWxlbnQgdG8gYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgJGlkKGl0ZW0pYC4gVGhpcyBpbXBsaWVzIHRoYXQgdGhlIERPTSBlbGVtZW50c1xyXG4gKiAgICAgd2lsbCBiZSBhc3NvY2lhdGVkIGJ5IGl0ZW0gaWRlbnRpdHkgaW4gdGhlIGFycmF5LlxyXG4gKlxyXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5ICRpZChpdGVtKWAuIEEgYnVpbHQgaW4gYCRpZCgpYCBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBhc3NpZ24gYSB1bmlxdWVcclxuICogICAgIGAkJGhhc2hLZXlgIHByb3BlcnR5IHRvIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXkuIFRoaXMgcHJvcGVydHkgaXMgdGhlbiB1c2VkIGFzIGEga2V5IHRvIGFzc29jaWF0ZWQgRE9NIGVsZW1lbnRzXHJcbiAqICAgICB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGl0ZW0gaW4gdGhlIGFycmF5IGJ5IGlkZW50aXR5LiBNb3ZpbmcgdGhlIHNhbWUgb2JqZWN0IGluIGFycmF5IHdvdWxkIG1vdmUgdGhlIERPTVxyXG4gKiAgICAgZWxlbWVudCBpbiB0aGUgc2FtZSB3YXkgaW4gdGhlIERPTS5cclxuICpcclxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkYCBpcyBhIHR5cGljYWwgcGF0dGVybiB3aGVuIHRoZSBpdGVtcyBjb21lIGZyb20gdGhlIGRhdGFiYXNlLiBJbiB0aGlzXHJcbiAqICAgICBjYXNlIHRoZSBvYmplY3QgaWRlbnRpdHkgZG9lcyBub3QgbWF0dGVyLiBUd28gb2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlcXVpdmFsZW50IGFzIGxvbmcgYXMgdGhlaXIgYGlkYFxyXG4gKiAgICAgcHJvcGVydHkgaXMgc2FtZS5cclxuICpcclxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB8IGZpbHRlcjpzZWFyY2hUZXh0IHRyYWNrIGJ5IGl0ZW0uaWRgIGlzIGEgcGF0dGVybiB0aGF0IG1pZ2h0IGJlIHVzZWQgdG8gYXBwbHkgYSBmaWx0ZXJcclxuICogICAgIHRvIGl0ZW1zIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0cmFja2luZyBleHByZXNzaW9uLlxyXG4gKlxyXG4gKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb24gYXMgYWxpYXNfZXhwcmVzc2lvbmAg4oCTIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIGFsaWFzIGV4cHJlc3Npb24gd2hpY2ggd2lsbCB0aGVuIHN0b3JlIHRoZVxyXG4gKiAgICAgaW50ZXJtZWRpYXRlIHJlc3VsdHMgb2YgdGhlIHJlcGVhdGVyIGFmdGVyIHRoZSBmaWx0ZXJzIGhhdmUgYmVlbiBhcHBsaWVkLiBUeXBpY2FsbHkgdGhpcyBpcyB1c2VkIHRvIHJlbmRlciBhIHNwZWNpYWwgbWVzc2FnZVxyXG4gKiAgICAgd2hlbiBhIGZpbHRlciBpcyBhY3RpdmUgb24gdGhlIHJlcGVhdGVyLCBidXQgdGhlIGZpbHRlcmVkIHJlc3VsdCBzZXQgaXMgZW1wdHkuXHJcbiAqXHJcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgfCBmaWx0ZXI6eCBhcyByZXN1bHRzYCB3aWxsIHN0b3JlIHRoZSBmcmFnbWVudCBvZiB0aGUgcmVwZWF0ZWQgaXRlbXMgYXMgYHJlc3VsdHNgLCBidXQgb25seSBhZnRlclxyXG4gKiAgICAgdGhlIGl0ZW1zIGhhdmUgYmVlbiBwcm9jZXNzZWQgdGhyb3VnaCB0aGUgZmlsdGVyLlxyXG4gKlxyXG4gKiAgICAgUGxlYXNlIG5vdGUgdGhhdCBgYXMgW3ZhcmlhYmxlIG5hbWVdIGlzIG5vdCBhbiBvcGVyYXRvciBidXQgcmF0aGVyIGEgcGFydCBvZiBuZ1JlcGVhdCBtaWNyby1zeW50YXggc28gaXQgY2FuIGJlIHVzZWQgb25seSBhdCB0aGUgZW5kXHJcbiAqICAgICAoYW5kIG5vdCBhcyBvcGVyYXRvciwgaW5zaWRlIGFuIGV4cHJlc3Npb24pLlxyXG4gKlxyXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyIDogeCB8IG9yZGVyQnkgOiBvcmRlciB8IGxpbWl0VG8gOiBsaW1pdCBhcyByZXN1bHRzYCAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFRoaXMgZXhhbXBsZSB1c2VzIGBuZ1JlcGVhdGAgdG8gZGlzcGxheSBhIGxpc3Qgb2YgcGVvcGxlLiBBIGZpbHRlciBpcyB1c2VkIHRvIHJlc3RyaWN0IHRoZSBkaXNwbGF5ZWRcclxuICogcmVzdWx0cyBieSBuYW1lLiBOZXcgKGVudGVyaW5nKSBhbmQgcmVtb3ZlZCAobGVhdmluZykgaXRlbXMgYXJlIGFuaW1hdGVkLlxyXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nUmVwZWF0XCIgbmFtZT1cIm5nUmVwZWF0XCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJyZXBlYXRDb250cm9sbGVyXCI+XHJcbiAgICAgICAgSSBoYXZlIHt7ZnJpZW5kcy5sZW5ndGh9fSBmcmllbmRzLiBUaGV5IGFyZTpcclxuICAgICAgICA8aW5wdXQgdHlwZT1cInNlYXJjaFwiIG5nLW1vZGVsPVwicVwiIHBsYWNlaG9sZGVyPVwiZmlsdGVyIGZyaWVuZHMuLi5cIiBhcmlhLWxhYmVsPVwiZmlsdGVyIGZyaWVuZHNcIiAvPlxyXG4gICAgICAgIDx1bCBjbGFzcz1cImV4YW1wbGUtYW5pbWF0ZS1jb250YWluZXJcIj5cclxuICAgICAgICAgIDxsaSBjbGFzcz1cImFuaW1hdGUtcmVwZWF0XCIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBmaWx0ZXI6cSBhcyByZXN1bHRzXCI+XHJcbiAgICAgICAgICAgIFt7eyRpbmRleCArIDF9fV0ge3tmcmllbmQubmFtZX19IHdobyBpcyB7e2ZyaWVuZC5hZ2V9fSB5ZWFycyBvbGQuXHJcbiAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgPGxpIGNsYXNzPVwiYW5pbWF0ZS1yZXBlYXRcIiBuZy1pZj1cInJlc3VsdHMubGVuZ3RoID09IDBcIj5cclxuICAgICAgICAgICAgPHN0cm9uZz5ObyByZXN1bHRzIGZvdW5kLi4uPC9zdHJvbmc+XHJcbiAgICAgICAgICA8L2xpPlxyXG4gICAgICAgIDwvdWw+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdSZXBlYXQnLCBbJ25nQW5pbWF0ZSddKS5jb250cm9sbGVyKCdyZXBlYXRDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBbXHJcbiAgICAgICAgICB7bmFtZTonSm9obicsIGFnZToyNSwgZ2VuZGVyOidib3knfSxcclxuICAgICAgICAgIHtuYW1lOidKZXNzaWUnLCBhZ2U6MzAsIGdlbmRlcjonZ2lybCd9LFxyXG4gICAgICAgICAge25hbWU6J0pvaGFubmEnLCBhZ2U6MjgsIGdlbmRlcjonZ2lybCd9LFxyXG4gICAgICAgICAge25hbWU6J0pveScsIGFnZToxNSwgZ2VuZGVyOidnaXJsJ30sXHJcbiAgICAgICAgICB7bmFtZTonTWFyeScsIGFnZToyOCwgZ2VuZGVyOidnaXJsJ30sXHJcbiAgICAgICAgICB7bmFtZTonUGV0ZXInLCBhZ2U6OTUsIGdlbmRlcjonYm95J30sXHJcbiAgICAgICAgICB7bmFtZTonU2ViYXN0aWFuJywgYWdlOjUwLCBnZW5kZXI6J2JveSd9LFxyXG4gICAgICAgICAge25hbWU6J0VyaWthJywgYWdlOjI3LCBnZW5kZXI6J2dpcmwnfSxcclxuICAgICAgICAgIHtuYW1lOidQYXRyaWNrJywgYWdlOjQwLCBnZW5kZXI6J2JveSd9LFxyXG4gICAgICAgICAge25hbWU6J1NhbWFudGhhJywgYWdlOjYwLCBnZW5kZXI6J2dpcmwnfVxyXG4gICAgICAgIF07XHJcbiAgICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XHJcbiAgICAgIC5leGFtcGxlLWFuaW1hdGUtY29udGFpbmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xyXG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XHJcbiAgICAgICAgbGlzdC1zdHlsZTpub25lO1xyXG4gICAgICAgIG1hcmdpbjowO1xyXG4gICAgICAgIHBhZGRpbmc6MCAxMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQge1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OjMwcHg7XHJcbiAgICAgICAgbGlzdC1zdHlsZTpub25lO1xyXG4gICAgICAgIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUsXHJcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlcixcclxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlIHtcclxuICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSxcclxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUsXHJcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlciB7XHJcbiAgICAgICAgb3BhY2l0eTowO1xyXG4gICAgICAgIG1heC1oZWlnaHQ6MDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLFxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZS5uZy1tb3ZlLWFjdGl2ZSxcclxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XHJcbiAgICAgICAgb3BhY2l0eToxO1xyXG4gICAgICAgIG1heC1oZWlnaHQ6MzBweDtcclxuICAgICAgfVxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgZnJpZW5kcyA9IGVsZW1lbnQuYWxsKGJ5LnJlcGVhdGVyKCdmcmllbmQgaW4gZnJpZW5kcycpKTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgcmVuZGVyIGluaXRpYWwgZGF0YSBzZXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBleHBlY3QoZnJpZW5kcy5jb3VudCgpKS50b0JlKDEwKTtcclxuICAgICAgICBleHBlY3QoZnJpZW5kcy5nZXQoMCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMV0gSm9obiB3aG8gaXMgMjUgeWVhcnMgb2xkLicpO1xyXG4gICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgxKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1syXSBKZXNzaWUgd2hvIGlzIDMwIHllYXJzIG9sZC4nKTtcclxuICAgICAgICBleHBlY3QoZnJpZW5kcy5sYXN0KCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMTBdIFNhbWFudGhhIHdobyBpcyA2MCB5ZWFycyBvbGQuJyk7XHJcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnZnJpZW5kcy5sZW5ndGgnKSkuZ2V0VGV4dCgpKVxyXG4gICAgICAgICAgICAudG9NYXRjaChcIkkgaGF2ZSAxMCBmcmllbmRzLiBUaGV5IGFyZTpcIik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlIHJlcGVhdGVyIHdoZW4gZmlsdGVyIHByZWRpY2F0ZSBjaGFuZ2VzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMTApO1xyXG5cclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgncScpKS5zZW5kS2V5cygnbWEnKTtcclxuXHJcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMik7XHJcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgwKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxXSBNYXJ5IHdobyBpcyAyOCB5ZWFycyBvbGQuJyk7XHJcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmxhc3QoKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1syXSBTYW1hbnRoYSB3aG8gaXMgNjAgeWVhcnMgb2xkLicpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ1JlcGVhdERpcmVjdGl2ZSA9IFsnJHBhcnNlJywgJyRhbmltYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJHBhcnNlLCAkYW5pbWF0ZSwgJGNvbXBpbGUpIHtcclxuICB2YXIgTkdfUkVNT1ZFRCA9ICckJE5HX1JFTU9WRUQnO1xyXG4gIHZhciBuZ1JlcGVhdE1pbkVyciA9IG1pbkVycignbmdSZXBlYXQnKTtcclxuXHJcbiAgdmFyIHVwZGF0ZVNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGFycmF5TGVuZ3RoKSB7XHJcbiAgICAvLyBUT0RPKHBlcmYpOiBnZW5lcmF0ZSBzZXR0ZXJzIHRvIHNoYXZlIG9mZiB+NDBtcyBvciAxLTEuNSVcclxuICAgIHNjb3BlW3ZhbHVlSWRlbnRpZmllcl0gPSB2YWx1ZTtcclxuICAgIGlmIChrZXlJZGVudGlmaWVyKSBzY29wZVtrZXlJZGVudGlmaWVyXSA9IGtleTtcclxuICAgIHNjb3BlLiRpbmRleCA9IGluZGV4O1xyXG4gICAgc2NvcGUuJGZpcnN0ID0gKGluZGV4ID09PSAwKTtcclxuICAgIHNjb3BlLiRsYXN0ID0gKGluZGV4ID09PSAoYXJyYXlMZW5ndGggLSAxKSk7XHJcbiAgICBzY29wZS4kbWlkZGxlID0gIShzY29wZS4kZmlyc3QgfHwgc2NvcGUuJGxhc3QpO1xyXG4gICAgLy8ganNoaW50IGJpdHdpc2U6IGZhbHNlXHJcbiAgICBzY29wZS4kb2RkID0gIShzY29wZS4kZXZlbiA9IChpbmRleCYxKSA9PT0gMCk7XHJcbiAgICAvLyBqc2hpbnQgYml0d2lzZTogdHJ1ZVxyXG4gIH07XHJcblxyXG4gIHZhciBnZXRCbG9ja1N0YXJ0ID0gZnVuY3Rpb24oYmxvY2spIHtcclxuICAgIHJldHVybiBibG9jay5jbG9uZVswXTtcclxuICB9O1xyXG5cclxuICB2YXIgZ2V0QmxvY2tFbmQgPSBmdW5jdGlvbihibG9jaykge1xyXG4gICAgcmV0dXJuIGJsb2NrLmNsb25lW2Jsb2NrLmNsb25lLmxlbmd0aCAtIDFdO1xyXG4gIH07XHJcblxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcclxuICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcclxuICAgIHByaW9yaXR5OiAxMDAwLFxyXG4gICAgdGVybWluYWw6IHRydWUsXHJcbiAgICAkJHRsYjogdHJ1ZSxcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nUmVwZWF0Q29tcGlsZSgkZWxlbWVudCwgJGF0dHIpIHtcclxuICAgICAgdmFyIGV4cHJlc3Npb24gPSAkYXR0ci5uZ1JlcGVhdDtcclxuICAgICAgdmFyIG5nUmVwZWF0RW5kQ29tbWVudCA9ICRjb21waWxlLiQkY3JlYXRlQ29tbWVudCgnZW5kIG5nUmVwZWF0JywgZXhwcmVzc2lvbik7XHJcblxyXG4gICAgICB2YXIgbWF0Y2ggPSBleHByZXNzaW9uLm1hdGNoKC9eXFxzKihbXFxzXFxTXSs/KVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT9cXHMqJC8pO1xyXG5cclxuICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdpZXhwJywgXCJFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgJ19pdGVtXyBpbiBfY29sbGVjdGlvbl9bIHRyYWNrIGJ5IF9pZF9dJyBidXQgZ290ICd7MH0nLlwiLFxyXG4gICAgICAgICAgICBleHByZXNzaW9uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGxocyA9IG1hdGNoWzFdO1xyXG4gICAgICB2YXIgcmhzID0gbWF0Y2hbMl07XHJcbiAgICAgIHZhciBhbGlhc0FzID0gbWF0Y2hbM107XHJcbiAgICAgIHZhciB0cmFja0J5RXhwID0gbWF0Y2hbNF07XHJcblxyXG4gICAgICBtYXRjaCA9IGxocy5tYXRjaCgvXig/OihcXHMqW1xcJFxcd10rKXxcXChcXHMqKFtcXCRcXHddKylcXHMqLFxccyooW1xcJFxcd10rKVxccypcXCkpJC8pO1xyXG5cclxuICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdpaWRleHAnLCBcIidfaXRlbV8nIGluICdfaXRlbV8gaW4gX2NvbGxlY3Rpb25fJyBzaG91bGQgYmUgYW4gaWRlbnRpZmllciBvciAnKF9rZXlfLCBfdmFsdWVfKScgZXhwcmVzc2lvbiwgYnV0IGdvdCAnezB9Jy5cIixcclxuICAgICAgICAgICAgbGhzKTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgdmFsdWVJZGVudGlmaWVyID0gbWF0Y2hbM10gfHwgbWF0Y2hbMV07XHJcbiAgICAgIHZhciBrZXlJZGVudGlmaWVyID0gbWF0Y2hbMl07XHJcblxyXG4gICAgICBpZiAoYWxpYXNBcyAmJiAoIS9eWyRhLXpBLVpfXVskYS16QS1aMC05X10qJC8udGVzdChhbGlhc0FzKSB8fFxyXG4gICAgICAgICAgL14obnVsbHx1bmRlZmluZWR8dGhpc3xcXCRpbmRleHxcXCRmaXJzdHxcXCRtaWRkbGV8XFwkbGFzdHxcXCRldmVufFxcJG9kZHxcXCRwYXJlbnR8XFwkcm9vdHxcXCRpZCkkLy50ZXN0KGFsaWFzQXMpKSkge1xyXG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdiYWRpZGVudCcsIFwiYWxpYXMgJ3swfScgaXMgaW52YWxpZCAtLS0gbXVzdCBiZSBhIHZhbGlkIEpTIGlkZW50aWZpZXIgd2hpY2ggaXMgbm90IGEgcmVzZXJ2ZWQgbmFtZS5cIixcclxuICAgICAgICAgIGFsaWFzQXMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgdHJhY2tCeUV4cEdldHRlciwgdHJhY2tCeUlkRXhwRm4sIHRyYWNrQnlJZEFycmF5Rm4sIHRyYWNrQnlJZE9iakZuO1xyXG4gICAgICB2YXIgaGFzaEZuTG9jYWxzID0geyRpZDogaGFzaEtleX07XHJcblxyXG4gICAgICBpZiAodHJhY2tCeUV4cCkge1xyXG4gICAgICAgIHRyYWNrQnlFeHBHZXR0ZXIgPSAkcGFyc2UodHJhY2tCeUV4cCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdHJhY2tCeUlkQXJyYXlGbiA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiBoYXNoS2V5KHZhbHVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyYWNrQnlJZE9iakZuID0gZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICByZXR1cm4ga2V5O1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1JlcGVhdExpbmsoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XHJcblxyXG4gICAgICAgIGlmICh0cmFja0J5RXhwR2V0dGVyKSB7XHJcbiAgICAgICAgICB0cmFja0J5SWRFeHBGbiA9IGZ1bmN0aW9uKGtleSwgdmFsdWUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIC8vIGFzc2lnbiBrZXksIHZhbHVlLCBhbmQgJGluZGV4IHRvIHRoZSBsb2NhbHMgc28gdGhhdCB0aGV5IGNhbiBiZSB1c2VkIGluIGhhc2ggZnVuY3Rpb25zXHJcbiAgICAgICAgICAgIGlmIChrZXlJZGVudGlmaWVyKSBoYXNoRm5Mb2NhbHNba2V5SWRlbnRpZmllcl0gPSBrZXk7XHJcbiAgICAgICAgICAgIGhhc2hGbkxvY2Fsc1t2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGhhc2hGbkxvY2Fscy4kaW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgcmV0dXJuIHRyYWNrQnlFeHBHZXR0ZXIoJHNjb3BlLCBoYXNoRm5Mb2NhbHMpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0b3JlIGEgbGlzdCBvZiBlbGVtZW50cyBmcm9tIHByZXZpb3VzIHJ1bi4gVGhpcyBpcyBhIGhhc2ggd2hlcmUga2V5IGlzIHRoZSBpdGVtIGZyb20gdGhlXHJcbiAgICAgICAgLy8gaXRlcmF0b3IsIGFuZCB0aGUgdmFsdWUgaXMgb2JqZWN0cyB3aXRoIGZvbGxvd2luZyBwcm9wZXJ0aWVzLlxyXG4gICAgICAgIC8vICAgLSBzY29wZTogYm91bmQgc2NvcGVcclxuICAgICAgICAvLyAgIC0gZWxlbWVudDogcHJldmlvdXMgZWxlbWVudC5cclxuICAgICAgICAvLyAgIC0gaW5kZXg6IHBvc2l0aW9uXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBXZSBhcmUgdXNpbmcgbm8tcHJvdG8gb2JqZWN0IHNvIHRoYXQgd2UgZG9uJ3QgbmVlZCB0byBndWFyZCBhZ2FpbnN0IGluaGVyaXRlZCBwcm9wcyB2aWFcclxuICAgICAgICAvLyBoYXNPd25Qcm9wZXJ0eS5cclxuICAgICAgICB2YXIgbGFzdEJsb2NrTWFwID0gY3JlYXRlTWFwKCk7XHJcblxyXG4gICAgICAgIC8vd2F0Y2ggcHJvcHNcclxuICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihyaHMsIGZ1bmN0aW9uIG5nUmVwZWF0QWN0aW9uKGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgIHZhciBpbmRleCwgbGVuZ3RoLFxyXG4gICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9ICRlbGVtZW50WzBdLCAgICAgLy8gbm9kZSB0aGF0IGNsb25lZCBub2RlcyBzaG91bGQgYmUgaW5zZXJ0ZWQgYWZ0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemVkIHRvIHRoZSBjb21tZW50IG5vZGUgYW5jaG9yXHJcbiAgICAgICAgICAgICAgbmV4dE5vZGUsXHJcbiAgICAgICAgICAgICAgLy8gU2FtZSBhcyBsYXN0QmxvY2tNYXAgYnV0IGl0IGhhcyB0aGUgY3VycmVudCBzdGF0ZS4gSXQgd2lsbCBiZWNvbWUgdGhlXHJcbiAgICAgICAgICAgICAgLy8gbGFzdEJsb2NrTWFwIG9uIHRoZSBuZXh0IGl0ZXJhdGlvbi5cclxuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXAgPSBjcmVhdGVNYXAoKSxcclxuICAgICAgICAgICAgICBjb2xsZWN0aW9uTGVuZ3RoLFxyXG4gICAgICAgICAgICAgIGtleSwgdmFsdWUsIC8vIGtleS92YWx1ZSBvZiBpdGVyYXRpb25cclxuICAgICAgICAgICAgICB0cmFja0J5SWQsXHJcbiAgICAgICAgICAgICAgdHJhY2tCeUlkRm4sXHJcbiAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMsXHJcbiAgICAgICAgICAgICAgYmxvY2ssICAgICAgIC8vIGxhc3Qgb2JqZWN0IGluZm9ybWF0aW9uIHtzY29wZSwgZWxlbWVudCwgaWR9XHJcbiAgICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXIsXHJcbiAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZTtcclxuXHJcbiAgICAgICAgICBpZiAoYWxpYXNBcykge1xyXG4gICAgICAgICAgICAkc2NvcGVbYWxpYXNBc10gPSBjb2xsZWN0aW9uO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xyXG4gICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyA9IGNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgIHRyYWNrQnlJZEZuID0gdHJhY2tCeUlkRXhwRm4gfHwgdHJhY2tCeUlkQXJyYXlGbjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRyYWNrQnlJZEZuID0gdHJhY2tCeUlkRXhwRm4gfHwgdHJhY2tCeUlkT2JqRm47XHJcbiAgICAgICAgICAgIC8vIGlmIG9iamVjdCwgZXh0cmFjdCBrZXlzLCBpbiBlbnVtZXJhdGlvbiBvcmRlciwgdW5zb3J0ZWRcclxuICAgICAgICAgICAgY29sbGVjdGlvbktleXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbUtleSBpbiBjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29sbGVjdGlvbiwgaXRlbUtleSkgJiYgaXRlbUtleS5jaGFyQXQoMCkgIT09ICckJykge1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMucHVzaChpdGVtS2V5KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb2xsZWN0aW9uTGVuZ3RoID0gY29sbGVjdGlvbktleXMubGVuZ3RoO1xyXG4gICAgICAgICAgbmV4dEJsb2NrT3JkZXIgPSBuZXcgQXJyYXkoY29sbGVjdGlvbkxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgLy8gbG9jYXRlIGV4aXN0aW5nIGl0ZW1zXHJcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb2xsZWN0aW9uTGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcclxuICAgICAgICAgICAgdmFsdWUgPSBjb2xsZWN0aW9uW2tleV07XHJcbiAgICAgICAgICAgIHRyYWNrQnlJZCA9IHRyYWNrQnlJZEZuKGtleSwgdmFsdWUsIGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKGxhc3RCbG9ja01hcFt0cmFja0J5SWRdKSB7XHJcbiAgICAgICAgICAgICAgLy8gZm91bmQgcHJldmlvdXNseSBzZWVuIGJsb2NrXHJcbiAgICAgICAgICAgICAgYmxvY2sgPSBsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXTtcclxuICAgICAgICAgICAgICBkZWxldGUgbGFzdEJsb2NrTWFwW3RyYWNrQnlJZF07XHJcbiAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0gPSBibG9jaztcclxuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcltpbmRleF0gPSBibG9jaztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSkge1xyXG4gICAgICAgICAgICAgIC8vIGlmIGNvbGxpc2lvbiBkZXRlY3RlZC4gcmVzdG9yZSBsYXN0QmxvY2tNYXAgYW5kIHRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgICAgZm9yRWFjaChuZXh0QmxvY2tPcmRlciwgZnVuY3Rpb24oYmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jayAmJiBibG9jay5zY29wZSkgbGFzdEJsb2NrTWFwW2Jsb2NrLmlkXSA9IGJsb2NrO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdkdXBlcycsXHJcbiAgICAgICAgICAgICAgICAgIFwiRHVwbGljYXRlcyBpbiBhIHJlcGVhdGVyIGFyZSBub3QgYWxsb3dlZC4gVXNlICd0cmFjayBieScgZXhwcmVzc2lvbiB0byBzcGVjaWZ5IHVuaXF1ZSBrZXlzLiBSZXBlYXRlcjogezB9LCBEdXBsaWNhdGUga2V5OiB7MX0sIER1cGxpY2F0ZSB2YWx1ZTogezJ9XCIsXHJcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24sIHRyYWNrQnlJZCwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIG5ldyBuZXZlciBiZWZvcmUgc2VlbiBibG9ja1xyXG4gICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyW2luZGV4XSA9IHtpZDogdHJhY2tCeUlkLCBzY29wZTogdW5kZWZpbmVkLCBjbG9uZTogdW5kZWZpbmVkfTtcclxuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyByZW1vdmUgbGVmdG92ZXIgaXRlbXNcclxuICAgICAgICAgIGZvciAodmFyIGJsb2NrS2V5IGluIGxhc3RCbG9ja01hcCkge1xyXG4gICAgICAgICAgICBibG9jayA9IGxhc3RCbG9ja01hcFtibG9ja0tleV07XHJcbiAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmUgPSBnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKTtcclxuICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoZWxlbWVudHNUb1JlbW92ZSk7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50c1RvUmVtb3ZlWzBdLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCB3YXMgbm90IHJlbW92ZWQgeWV0IGJlY2F1c2Ugb2YgcGVuZGluZyBhbmltYXRpb24sIG1hcmsgaXQgYXMgZGVsZXRlZFxyXG4gICAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgY2FuIGlnbm9yZSBpdCBsYXRlclxyXG4gICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmVbaW5kZXhdW05HX1JFTU9WRURdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYmxvY2suc2NvcGUuJGRlc3Ryb3koKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyB3ZSBhcmUgbm90IHVzaW5nIGZvckVhY2ggZm9yIHBlcmYgcmVhc29ucyAodHJ5aW5nIHRvIGF2b2lkICNjYWxsKVxyXG4gICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY29sbGVjdGlvbkxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBrZXkgPSAoY29sbGVjdGlvbiA9PT0gY29sbGVjdGlvbktleXMpID8gaW5kZXggOiBjb2xsZWN0aW9uS2V5c1tpbmRleF07XHJcbiAgICAgICAgICAgIHZhbHVlID0gY29sbGVjdGlvbltrZXldO1xyXG4gICAgICAgICAgICBibG9jayA9IG5leHRCbG9ja09yZGVyW2luZGV4XTtcclxuXHJcbiAgICAgICAgICAgIGlmIChibG9jay5zY29wZSkge1xyXG4gICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBzZWVuIHRoaXMgb2JqZWN0LCB0aGVuIHdlIG5lZWQgdG8gcmV1c2UgdGhlXHJcbiAgICAgICAgICAgICAgLy8gYXNzb2NpYXRlZCBzY29wZS9lbGVtZW50XHJcblxyXG4gICAgICAgICAgICAgIG5leHROb2RlID0gcHJldmlvdXNOb2RlO1xyXG5cclxuICAgICAgICAgICAgICAvLyBza2lwIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgcGVuZGluZyByZW1vdmFsIHZpYSBsZWF2ZSBhbmltYXRpb25cclxuICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHROb2RlLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgIH0gd2hpbGUgKG5leHROb2RlICYmIG5leHROb2RlW05HX1JFTU9WRURdKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKGdldEJsb2NrU3RhcnQoYmxvY2spICE9IG5leHROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBleGlzdGluZyBpdGVtIHdoaWNoIGdvdCBtb3ZlZFxyXG4gICAgICAgICAgICAgICAgJGFuaW1hdGUubW92ZShnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKSwgbnVsbCwgcHJldmlvdXNOb2RlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZ2V0QmxvY2tFbmQoYmxvY2spO1xyXG4gICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAvLyBuZXcgaXRlbSB3aGljaCB3ZSBkb24ndCBrbm93IGFib3V0XHJcbiAgICAgICAgICAgICAgJHRyYW5zY2x1ZGUoZnVuY3Rpb24gbmdSZXBlYXRUcmFuc2NsdWRlKGNsb25lLCBzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgYmxvY2suc2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2Nsb25lLXZzLWNyZWF0ZWNvbW1lbnRcclxuICAgICAgICAgICAgICAgIHZhciBlbmROb2RlID0gbmdSZXBlYXRFbmRDb21tZW50LmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBjbG9uZVtjbG9uZS5sZW5ndGgrK10gPSBlbmROb2RlO1xyXG5cclxuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCBwcmV2aW91c05vZGUpO1xyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZW5kTm9kZTtcclxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgbmVlZCB0aGUgZmlyc3QvbGFzdCBub2RlIG9mIHRoZSBjbG9uZWQgbm9kZXMuXHJcbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUganFsaXRlIHdyYXBwZXIgYXMgaXQgbWlnaHQgYmUgY2hhbmdlZCBsYXRlclxyXG4gICAgICAgICAgICAgICAgLy8gYnkgYSBkaXJlY3RpdmUgd2l0aCB0ZW1wbGF0ZVVybCB3aGVuIGl0cyB0ZW1wbGF0ZSBhcnJpdmVzLlxyXG4gICAgICAgICAgICAgICAgYmxvY2suY2xvbmUgPSBjbG9uZTtcclxuICAgICAgICAgICAgICAgIG5leHRCbG9ja01hcFtibG9jay5pZF0gPSBibG9jaztcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGFzdEJsb2NrTWFwID0gbmV4dEJsb2NrTWFwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxudmFyIE5HX0hJREVfQ0xBU1MgPSAnbmctaGlkZSc7XHJcbnZhciBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTID0gJ25nLWhpZGUtYW5pbWF0ZSc7XHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nU2hvd1xyXG4gKiBAbXVsdGlFbGVtZW50XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nU2hvd2AgZGlyZWN0aXZlIHNob3dzIG9yIGhpZGVzIHRoZSBnaXZlbiBIVE1MIGVsZW1lbnQgYmFzZWQgb24gdGhlIGV4cHJlc3Npb25cclxuICogcHJvdmlkZWQgdG8gdGhlIGBuZ1Nob3dgIGF0dHJpYnV0ZS4gVGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIGJ5IHJlbW92aW5nIG9yIGFkZGluZ1xyXG4gKiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3Mgb250byB0aGUgZWxlbWVudC4gVGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHByZWRlZmluZWRcclxuICogaW4gQW5ndWxhckpTIGFuZCBzZXRzIHRoZSBkaXNwbGF5IHN0eWxlIHRvIG5vbmUgKHVzaW5nIGFuICFpbXBvcnRhbnQgZmxhZykuXHJcbiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxyXG4gKlxyXG4gKiBgYGBodG1sXHJcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyB0cnV0aHkgKGVsZW1lbnQgaXMgdmlzaWJsZSkgLS0+XHJcbiAqIDxkaXYgbmctc2hvdz1cIm15VmFsdWVcIj48L2Rpdj5cclxuICpcclxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIGZhbHN5IChlbGVtZW50IGlzIGhpZGRlbikgLS0+XHJcbiAqIDxkaXYgbmctc2hvdz1cIm15VmFsdWVcIiBjbGFzcz1cIm5nLWhpZGVcIj48L2Rpdj5cclxuICogYGBgXHJcbiAqXHJcbiAqIFdoZW4gdGhlIGBuZ1Nob3dgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgZmFsc3kgdmFsdWUgdGhlbiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGNsYXNzXHJcbiAqIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBjYXVzaW5nIGl0IHRvIGJlY29tZSBoaWRkZW4uIFdoZW4gdHJ1dGh5LCB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcmVtb3ZlZFxyXG4gKiBmcm9tIHRoZSBlbGVtZW50IGNhdXNpbmcgdGhlIGVsZW1lbnQgbm90IHRvIGFwcGVhciBoaWRkZW4uXHJcbiAqXHJcbiAqICMjIFdoeSBpcyAhaW1wb3J0YW50IHVzZWQ/XHJcbiAqXHJcbiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSAhaW1wb3J0YW50IGlzIHVzZWQgZm9yIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcy4gVGhpcyBpcyBiZWNhdXNlIHRoZSBgLm5nLWhpZGVgIHNlbGVjdG9yXHJcbiAqIGNhbiBiZSBlYXNpbHkgb3ZlcnJpZGRlbiBieSBoZWF2aWVyIHNlbGVjdG9ycy4gRm9yIGV4YW1wbGUsIHNvbWV0aGluZyBhcyBzaW1wbGVcclxuICogYXMgY2hhbmdpbmcgdGhlIGRpc3BsYXkgc3R5bGUgb24gYSBIVE1MIGxpc3QgaXRlbSB3b3VsZCBtYWtlIGhpZGRlbiBlbGVtZW50cyBhcHBlYXIgdmlzaWJsZS5cclxuICogVGhpcyBhbHNvIGJlY29tZXMgYSBiaWdnZXIgaXNzdWUgd2hlbiBkZWFsaW5nIHdpdGggQ1NTIGZyYW1ld29ya3MuXHJcbiAqXHJcbiAqIEJ5IHVzaW5nICFpbXBvcnRhbnQsIHRoZSBzaG93IGFuZCBoaWRlIGJlaGF2aW9yIHdpbGwgd29yayBhcyBleHBlY3RlZCBkZXNwaXRlIGFueSBjbGFzaCBiZXR3ZWVuIENTUyBzZWxlY3RvclxyXG4gKiBzcGVjaWZpY2l0eSAod2hlbiAhaW1wb3J0YW50IGlzbid0IHVzZWQgd2l0aCBhbnkgY29uZmxpY3Rpbmcgc3R5bGVzKS4gSWYgYSBkZXZlbG9wZXIgY2hvb3NlcyB0byBvdmVycmlkZSB0aGVcclxuICogc3R5bGluZyB0byBjaGFuZ2UgaG93IHRvIGhpZGUgYW4gZWxlbWVudCB0aGVuIGl0IGlzIGp1c3QgYSBtYXR0ZXIgb2YgdXNpbmcgIWltcG9ydGFudCBpbiB0aGVpciBvd24gQ1NTIGNvZGUuXHJcbiAqXHJcbiAqICMjIyBPdmVycmlkaW5nIGAubmctaGlkZWBcclxuICpcclxuICogQnkgZGVmYXVsdCwgdGhlIGAubmctaGlkZWAgY2xhc3Mgd2lsbCBzdHlsZSB0aGUgZWxlbWVudCB3aXRoIGBkaXNwbGF5OiBub25lIWltcG9ydGFudGAuIElmIHlvdSB3aXNoIHRvIGNoYW5nZVxyXG4gKiB0aGUgaGlkZSBiZWhhdmlvciB3aXRoIG5nU2hvdy9uZ0hpZGUgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXN0YXRpbmcgdGhlIHN0eWxlcyBmb3IgdGhlIGAubmctaGlkZWBcclxuICogY2xhc3MgQ1NTLiBOb3RlIHRoYXQgdGhlIHNlbGVjdG9yIHRoYXQgbmVlZHMgdG8gYmUgdXNlZCBpcyBhY3R1YWxseSBgLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpYCB0byBjb3BlXHJcbiAqIHdpdGggZXh0cmEgYW5pbWF0aW9uIGNsYXNzZXMgdGhhdCBjYW4gYmUgYWRkZWQuXHJcbiAqXHJcbiAqIGBgYGNzc1xyXG4gKiAubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSkge1xyXG4gKiAgIC8mIzQyOyB0aGlzIGlzIGp1c3QgYW5vdGhlciBmb3JtIG9mIGhpZGluZyBhbiBlbGVtZW50ICYjNDI7L1xyXG4gKiAgIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDtcclxuICogICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAqICAgdG9wOiAtOTk5OXB4O1xyXG4gKiAgIGxlZnQ6IC05OTk5cHg7XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgaW4gQ1NTIGFueXRoaW5nIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZSBkaXNwbGF5IHN0eWxlLlxyXG4gKlxyXG4gKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGBuZ1Nob3dgXHJcbiAqXHJcbiAqIEFuaW1hdGlvbnMgaW4gbmdTaG93L25nSGlkZSB3b3JrIHdpdGggdGhlIHNob3cgYW5kIGhpZGUgZXZlbnRzIHRoYXQgYXJlIHRyaWdnZXJlZCB3aGVuIHRoZSBkaXJlY3RpdmUgZXhwcmVzc2lvblxyXG4gKiBpcyB0cnVlIGFuZCBmYWxzZS4gVGhpcyBzeXN0ZW0gd29ya3MgbGlrZSB0aGUgYW5pbWF0aW9uIHN5c3RlbSBwcmVzZW50IHdpdGggbmdDbGFzcyBleGNlcHQgdGhhdFxyXG4gKiB5b3UgbXVzdCBhbHNvIGluY2x1ZGUgdGhlICFpbXBvcnRhbnQgZmxhZyB0byBvdmVycmlkZSB0aGUgZGlzcGxheSBwcm9wZXJ0eVxyXG4gKiBzbyB0aGF0IHlvdSBjYW4gcGVyZm9ybSBhbiBhbmltYXRpb24gd2hlbiB0aGUgZWxlbWVudCBpcyBoaWRkZW4gZHVyaW5nIHRoZSB0aW1lIG9mIHRoZSBhbmltYXRpb24uXHJcbiAqXHJcbiAqIGBgYGNzc1xyXG4gKiAvL1xyXG4gKiAvL2Egd29ya2luZyBleGFtcGxlIGNhbiBiZSBmb3VuZCBhdCB0aGUgYm90dG9tIG9mIHRoaXMgcGFnZVxyXG4gKiAvL1xyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCwgLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUge1xyXG4gKiAgIC8mIzQyOyB0aGlzIGlzIHJlcXVpcmVkIGFzIG9mIDEuM3ggdG8gcHJvcGVybHlcclxuICogICAgICBhcHBseSBhbGwgc3R5bGluZyBpbiBhIHNob3cvaGlkZSBhbmltYXRpb24gJiM0MjsvXHJcbiAqICAgdHJhbnNpdGlvbjogMHMgbGluZWFyIGFsbDtcclxuICogfVxyXG4gKlxyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC1hY3RpdmUsXHJcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7XHJcbiAqICAgLyYjNDI7IHRoZSB0cmFuc2l0aW9uIGlzIGRlZmluZWQgaW4gdGhlIGFjdGl2ZSBjbGFzcyAmIzQyOy9cclxuICogICB0cmFuc2l0aW9uOiAxcyBsaW5lYXIgYWxsO1xyXG4gKiB9XHJcbiAqXHJcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkIHsgLi4uIH1cclxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlIHsgLi4uIH1cclxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUgeyAuLi4gfVxyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUgeyAuLi4gfVxyXG4gKiBgYGBcclxuICpcclxuICogS2VlcCBpbiBtaW5kIHRoYXQsIGFzIG9mIEFuZ3VsYXJKUyB2ZXJzaW9uIDEuMywgdGhlcmUgaXMgbm8gbmVlZCB0byBjaGFuZ2UgdGhlIGRpc3BsYXlcclxuICogcHJvcGVydHkgdG8gYmxvY2sgZHVyaW5nIGFuaW1hdGlvbiBzdGF0ZXMtLW5nQW5pbWF0ZSB3aWxsIGhhbmRsZSB0aGUgc3R5bGUgdG9nZ2xpbmcgYXV0b21hdGljYWxseSBmb3IgeW91LlxyXG4gKlxyXG4gKiBAYW5pbWF0aW9uc1xyXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gKiB8IHtAbGluayAkYW5pbWF0ZSNhZGRDbGFzcyBhZGRDbGFzc30gYC5uZy1oaWRlYCAgfCBhZnRlciB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBub24gdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byBoaWRkZW4gfFxyXG4gKiB8IHtAbGluayAkYW5pbWF0ZSNyZW1vdmVDbGFzcyByZW1vdmVDbGFzc30gIGAubmctaGlkZWAgIHwgYWZ0ZXIgdGhlIGBuZ1Nob3dgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGUgfFxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1Nob3cgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeVxyXG4gKiAgICAgdGhlbiB0aGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gcmVzcGVjdGl2ZWx5LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgQ2xpY2sgbWU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIiBhcmlhLWxhYmVsPVwiVG9nZ2xlIG5nSGlkZVwiPjxici8+XHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgU2hvdzpcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBhbmltYXRlLXNob3dcIiBuZy1zaG93PVwiY2hlY2tlZFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy11cFwiPjwvc3Bhbj4gSSBzaG93IHVwIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdj5cclxuICAgICAgICBIaWRlOlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtc2hvd1wiIG5nLWhpZGU9XCJjaGVja2VkXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLWRvd25cIj48L3NwYW4+IEkgaGlkZSB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwiZ2x5cGhpY29ucy5jc3NcIj5cclxuICAgICAgQGltcG9ydCB1cmwoLi4vLi4vY29tcG9uZW50cy9ib290c3RyYXAtMy4xLjEvY3NzL2Jvb3RzdHJhcC5jc3MpO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XHJcbiAgICAgIC5hbmltYXRlLXNob3cge1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtc2hvdy5uZy1oaWRlLWFkZCwgLmFuaW1hdGUtc2hvdy5uZy1oaWRlLXJlbW92ZSB7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1zaG93Lm5nLWhpZGUge1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAwO1xyXG4gICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY2hlY2stZWxlbWVudCB7XHJcbiAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgfVxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgdGh1bWJzVXAgPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLXVwJykpO1xyXG4gICAgICB2YXIgdGh1bWJzRG93biA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmdseXBoaWNvbi10aHVtYnMtZG93bicpKTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc2hvdyAvIG5nLWhpZGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZUZhbHN5KCk7XHJcbiAgICAgICAgZXhwZWN0KHRodW1ic0Rvd24uaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xyXG5cclxuICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XHJcblxyXG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgICAgZXhwZWN0KHRodW1ic0Rvd24uaXNEaXNwbGF5ZWQoKSkudG9CZUZhbHN5KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ1Nob3dEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nU2hvdywgZnVuY3Rpb24gbmdTaG93V2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAvLyB3ZSdyZSBhZGRpbmcgYSB0ZW1wb3JhcnksIGFuaW1hdGlvbi1zcGVjaWZpYyBjbGFzcyBmb3IgbmctaGlkZSBzaW5jZSB0aGlzIHdheVxyXG4gICAgICAgIC8vIHdlIGNhbiBjb250cm9sIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWN0dWFsbHkgZGlzcGxheWVkIG9uIHNjcmVlbiB3aXRob3V0IGhhdmluZ1xyXG4gICAgICAgIC8vIHRvIGhhdmUgYSBnbG9iYWwvZ3JlZWR5IENTUyBzZWxlY3RvciB0aGF0IGJyZWFrcyB3aGVuIG90aGVyIGFuaW1hdGlvbnMgYXJlIHJ1bi5cclxuICAgICAgICAvLyBSZWFkOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MTAzI2lzc3VlY29tbWVudC01ODMzNTg0NVxyXG4gICAgICAgICRhbmltYXRlW3ZhbHVlID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcyddKGVsZW1lbnQsIE5HX0hJREVfQ0xBU1MsIHtcclxuICAgICAgICAgIHRlbXBDbGFzc2VzOiBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nSGlkZVxyXG4gKiBAbXVsdGlFbGVtZW50XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nSGlkZWAgZGlyZWN0aXZlIHNob3dzIG9yIGhpZGVzIHRoZSBnaXZlbiBIVE1MIGVsZW1lbnQgYmFzZWQgb24gdGhlIGV4cHJlc3Npb25cclxuICogcHJvdmlkZWQgdG8gdGhlIGBuZ0hpZGVgIGF0dHJpYnV0ZS4gVGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIGJ5IHJlbW92aW5nIG9yIGFkZGluZ1xyXG4gKiB0aGUgYG5nLWhpZGVgIENTUyBjbGFzcyBvbnRvIHRoZSBlbGVtZW50LiBUaGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcHJlZGVmaW5lZFxyXG4gKiBpbiBBbmd1bGFySlMgYW5kIHNldHMgdGhlIGRpc3BsYXkgc3R5bGUgdG8gbm9uZSAodXNpbmcgYW4gIWltcG9ydGFudCBmbGFnKS5cclxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXHJcbiAqXHJcbiAqIGBgYGh0bWxcclxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIHRydXRoeSAoZWxlbWVudCBpcyBoaWRkZW4pIC0tPlxyXG4gKiA8ZGl2IG5nLWhpZGU9XCJteVZhbHVlXCIgY2xhc3M9XCJuZy1oaWRlXCI+PC9kaXY+XHJcbiAqXHJcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyBmYWxzeSAoZWxlbWVudCBpcyB2aXNpYmxlKSAtLT5cclxuICogPGRpdiBuZy1oaWRlPVwibXlWYWx1ZVwiPjwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogV2hlbiB0aGUgYG5nSGlkZWAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgdGhlbiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGNsYXNzXHJcbiAqIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBjYXVzaW5nIGl0IHRvIGJlY29tZSBoaWRkZW4uIFdoZW4gZmFsc3ksIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyByZW1vdmVkXHJcbiAqIGZyb20gdGhlIGVsZW1lbnQgY2F1c2luZyB0aGUgZWxlbWVudCBub3QgdG8gYXBwZWFyIGhpZGRlbi5cclxuICpcclxuICogIyMgV2h5IGlzICFpbXBvcnRhbnQgdXNlZD9cclxuICpcclxuICogWW91IG1heSBiZSB3b25kZXJpbmcgd2h5ICFpbXBvcnRhbnQgaXMgdXNlZCBmb3IgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGAubmctaGlkZWAgc2VsZWN0b3JcclxuICogY2FuIGJlIGVhc2lseSBvdmVycmlkZGVuIGJ5IGhlYXZpZXIgc2VsZWN0b3JzLiBGb3IgZXhhbXBsZSwgc29tZXRoaW5nIGFzIHNpbXBsZVxyXG4gKiBhcyBjaGFuZ2luZyB0aGUgZGlzcGxheSBzdHlsZSBvbiBhIEhUTUwgbGlzdCBpdGVtIHdvdWxkIG1ha2UgaGlkZGVuIGVsZW1lbnRzIGFwcGVhciB2aXNpYmxlLlxyXG4gKiBUaGlzIGFsc28gYmVjb21lcyBhIGJpZ2dlciBpc3N1ZSB3aGVuIGRlYWxpbmcgd2l0aCBDU1MgZnJhbWV3b3Jrcy5cclxuICpcclxuICogQnkgdXNpbmcgIWltcG9ydGFudCwgdGhlIHNob3cgYW5kIGhpZGUgYmVoYXZpb3Igd2lsbCB3b3JrIGFzIGV4cGVjdGVkIGRlc3BpdGUgYW55IGNsYXNoIGJldHdlZW4gQ1NTIHNlbGVjdG9yXHJcbiAqIHNwZWNpZmljaXR5ICh3aGVuICFpbXBvcnRhbnQgaXNuJ3QgdXNlZCB3aXRoIGFueSBjb25mbGljdGluZyBzdHlsZXMpLiBJZiBhIGRldmVsb3BlciBjaG9vc2VzIHRvIG92ZXJyaWRlIHRoZVxyXG4gKiBzdHlsaW5nIHRvIGNoYW5nZSBob3cgdG8gaGlkZSBhbiBlbGVtZW50IHRoZW4gaXQgaXMganVzdCBhIG1hdHRlciBvZiB1c2luZyAhaW1wb3J0YW50IGluIHRoZWlyIG93biBDU1MgY29kZS5cclxuICpcclxuICogIyMjIE92ZXJyaWRpbmcgYC5uZy1oaWRlYFxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6IG5vbmUhaW1wb3J0YW50YC4gSWYgeW91IHdpc2ggdG8gY2hhbmdlXHJcbiAqIHRoZSBoaWRlIGJlaGF2aW9yIHdpdGggbmdTaG93L25nSGlkZSB0aGVuIHRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJlc3RhdGluZyB0aGUgc3R5bGVzIGZvciB0aGUgYC5uZy1oaWRlYFxyXG4gKiBjbGFzcyBpbiBDU1M6XHJcbiAqXHJcbiAqIGBgYGNzc1xyXG4gKiAubmctaGlkZSB7XHJcbiAqICAgLyYjNDI7IHRoaXMgaXMganVzdCBhbm90aGVyIGZvcm0gb2YgaGlkaW5nIGFuIGVsZW1lbnQgJiM0MjsvXHJcbiAqICAgZGlzcGxheTogYmxvY2shaW1wb3J0YW50O1xyXG4gKiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICogICB0b3A6IC05OTk5cHg7XHJcbiAqICAgbGVmdDogLTk5OTlweDtcclxuICogfVxyXG4gKiBgYGBcclxuICpcclxuICogQnkgZGVmYXVsdCB5b3UgZG9uJ3QgbmVlZCB0byBvdmVycmlkZSBpbiBDU1MgYW55dGhpbmcgYW5kIHRoZSBhbmltYXRpb25zIHdpbGwgd29yayBhcm91bmQgdGhlIGRpc3BsYXkgc3R5bGUuXHJcbiAqXHJcbiAqICMjIEEgbm90ZSBhYm91dCBhbmltYXRpb25zIHdpdGggYG5nSGlkZWBcclxuICpcclxuICogQW5pbWF0aW9ucyBpbiBuZ1Nob3cvbmdIaWRlIHdvcmsgd2l0aCB0aGUgc2hvdyBhbmQgaGlkZSBldmVudHMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlIGRpcmVjdGl2ZSBleHByZXNzaW9uXHJcbiAqIGlzIHRydWUgYW5kIGZhbHNlLiBUaGlzIHN5c3RlbSB3b3JrcyBsaWtlIHRoZSBhbmltYXRpb24gc3lzdGVtIHByZXNlbnQgd2l0aCBuZ0NsYXNzLCBleGNlcHQgdGhhdCB0aGUgYC5uZy1oaWRlYFxyXG4gKiBDU1MgY2xhc3MgaXMgYWRkZWQgYW5kIHJlbW92ZWQgZm9yIHlvdSBpbnN0ZWFkIG9mIHlvdXIgb3duIENTUyBjbGFzcy5cclxuICpcclxuICogYGBgY3NzXHJcbiAqIC8vXHJcbiAqIC8vYSB3b3JraW5nIGV4YW1wbGUgY2FuIGJlIGZvdW5kIGF0IHRoZSBib3R0b20gb2YgdGhpcyBwYWdlXHJcbiAqIC8vXHJcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLCAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7XHJcbiAqICAgdHJhbnNpdGlvbjogMC41cyBsaW5lYXIgYWxsO1xyXG4gKiB9XHJcbiAqXHJcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkIHsgLi4uIH1cclxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlIHsgLi4uIH1cclxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUgeyAuLi4gfVxyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUgeyAuLi4gfVxyXG4gKiBgYGBcclxuICpcclxuICogS2VlcCBpbiBtaW5kIHRoYXQsIGFzIG9mIEFuZ3VsYXJKUyB2ZXJzaW9uIDEuMywgdGhlcmUgaXMgbm8gbmVlZCB0byBjaGFuZ2UgdGhlIGRpc3BsYXlcclxuICogcHJvcGVydHkgdG8gYmxvY2sgZHVyaW5nIGFuaW1hdGlvbiBzdGF0ZXMtLW5nQW5pbWF0ZSB3aWxsIGhhbmRsZSB0aGUgc3R5bGUgdG9nZ2xpbmcgYXV0b21hdGljYWxseSBmb3IgeW91LlxyXG4gKlxyXG4gKiBAYW5pbWF0aW9uc1xyXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gKiB8IHtAbGluayAkYW5pbWF0ZSNhZGRDbGFzcyBhZGRDbGFzc30gYC5uZy1oaWRlYCAgfCBhZnRlciB0aGUgYG5nSGlkZWAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIGhpZGRlbiB8XHJcbiAqIHwge0BsaW5rICRhbmltYXRlI3JlbW92ZUNsYXNzIHJlbW92ZUNsYXNzfSAgYC5uZy1oaWRlYCAgfCBhZnRlciB0aGUgYG5nSGlkZWAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBub24gdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGUgfFxyXG4gKlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0hpZGUgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSB0aGVuXHJcbiAqICAgICB0aGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gcmVzcGVjdGl2ZWx5LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgQ2xpY2sgbWU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIiBhcmlhLWxhYmVsPVwiVG9nZ2xlIG5nU2hvd1wiPjxici8+XHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgU2hvdzpcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBhbmltYXRlLWhpZGVcIiBuZy1zaG93PVwiY2hlY2tlZFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy11cFwiPjwvc3Bhbj4gSSBzaG93IHVwIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdj5cclxuICAgICAgICBIaWRlOlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtaGlkZVwiIG5nLWhpZGU9XCJjaGVja2VkXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLWRvd25cIj48L3NwYW4+IEkgaGlkZSB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwiZ2x5cGhpY29ucy5jc3NcIj5cclxuICAgICAgQGltcG9ydCB1cmwoLi4vLi4vY29tcG9uZW50cy9ib290c3RyYXAtMy4xLjEvY3NzL2Jvb3RzdHJhcC5jc3MpO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XHJcbiAgICAgIC5hbmltYXRlLWhpZGUge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGFsbCBsaW5lYXIgMC41cztcclxuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hbmltYXRlLWhpZGUubmctaGlkZSB7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDA7XHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jaGVjay1lbGVtZW50IHtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICB9XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIHZhciB0aHVtYnNVcCA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmdseXBoaWNvbi10aHVtYnMtdXAnKSk7XHJcbiAgICAgIHZhciB0aHVtYnNEb3duID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy1kb3duJykpO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zaG93IC8gbmctaGlkZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcclxuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XHJcblxyXG4gICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nSGlkZURpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdIaWRlLCBmdW5jdGlvbiBuZ0hpZGVXYXRjaEFjdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIC8vIFRoZSBjb21tZW50IGluc2lkZSBvZiB0aGUgbmdTaG93RGlyZWN0aXZlIGV4cGxhaW5zIHdoeSB3ZSBhZGQgYW5kXHJcbiAgICAgICAgLy8gcmVtb3ZlIGEgdGVtcG9yYXJ5IGNsYXNzIGZvciB0aGUgc2hvdy9oaWRlIGFuaW1hdGlvblxyXG4gICAgICAgICRhbmltYXRlW3ZhbHVlID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKGVsZW1lbnQsTkdfSElERV9DTEFTUywge1xyXG4gICAgICAgICAgdGVtcENsYXNzZXM6IE5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1NcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1N0eWxlXHJcbiAqIEByZXN0cmljdCBBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ1N0eWxlYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzZXQgQ1NTIHN0eWxlIG9uIGFuIEhUTUwgZWxlbWVudCBjb25kaXRpb25hbGx5LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1N0eWxlXHJcbiAqXHJcbiAqIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHdoaWNoIGV2YWxzIHRvIGFuXHJcbiAqIG9iamVjdCB3aG9zZSBrZXlzIGFyZSBDU1Mgc3R5bGUgbmFtZXMgYW5kIHZhbHVlcyBhcmUgY29ycmVzcG9uZGluZyB2YWx1ZXMgZm9yIHRob3NlIENTU1xyXG4gKiBrZXlzLlxyXG4gKlxyXG4gKiBTaW5jZSBzb21lIENTUyBzdHlsZSBuYW1lcyBhcmUgbm90IHZhbGlkIGtleXMgZm9yIGFuIG9iamVjdCwgdGhleSBtdXN0IGJlIHF1b3RlZC5cclxuICogU2VlIHRoZSAnYmFja2dyb3VuZC1jb2xvcicgc3R5bGUgaW4gdGhlIGV4YW1wbGUgYmVsb3cuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cInNldCBjb2xvclwiIG5nLWNsaWNrPVwibXlTdHlsZT17Y29sb3I6J3JlZCd9XCI+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cInNldCBiYWNrZ3JvdW5kXCIgbmctY2xpY2s9XCJteVN0eWxlPXsnYmFja2dyb3VuZC1jb2xvcic6J2JsdWUnfVwiPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJjbGVhclwiIG5nLWNsaWNrPVwibXlTdHlsZT17fVwiPlxyXG4gICAgICAgIDxici8+XHJcbiAgICAgICAgPHNwYW4gbmctc3R5bGU9XCJteVN0eWxlXCI+U2FtcGxlIFRleHQ8L3NwYW4+XHJcbiAgICAgICAgPHByZT5teVN0eWxlPXt7bXlTdHlsZX19PC9wcmU+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgIHNwYW4ge1xyXG4gICAgICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICAgICB9XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciBjb2xvclNwYW4gPSBlbGVtZW50KGJ5LmNzcygnc3BhbicpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXN0eWxlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMCwgMCwgMCwgMSknKTtcclxuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2lucHV0W3ZhbHVlPVxcJ3NldCBjb2xvclxcJ10nKSkuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgyNTUsIDAsIDAsIDEpJyk7XHJcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdpbnB1dFt2YWx1ZT1jbGVhcl0nKSkuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdTdHlsZURpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgc2NvcGUuJHdhdGNoKGF0dHIubmdTdHlsZSwgZnVuY3Rpb24gbmdTdHlsZVdhdGNoQWN0aW9uKG5ld1N0eWxlcywgb2xkU3R5bGVzKSB7XHJcbiAgICBpZiAob2xkU3R5bGVzICYmIChuZXdTdHlsZXMgIT09IG9sZFN0eWxlcykpIHtcclxuICAgICAgZm9yRWFjaChvbGRTdHlsZXMsIGZ1bmN0aW9uKHZhbCwgc3R5bGUpIHsgZWxlbWVudC5jc3Moc3R5bGUsICcnKTt9KTtcclxuICAgIH1cclxuICAgIGlmIChuZXdTdHlsZXMpIGVsZW1lbnQuY3NzKG5ld1N0eWxlcyk7XHJcbiAgfSwgdHJ1ZSk7XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdTd2l0Y2hcclxuICogQHJlc3RyaWN0IEVBXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nU3dpdGNoYCBkaXJlY3RpdmUgaXMgdXNlZCB0byBjb25kaXRpb25hbGx5IHN3YXAgRE9NIHN0cnVjdHVyZSBvbiB5b3VyIHRlbXBsYXRlIGJhc2VkIG9uIGEgc2NvcGUgZXhwcmVzc2lvbi5cclxuICogRWxlbWVudHMgd2l0aGluIGBuZ1N3aXRjaGAgYnV0IHdpdGhvdXQgYG5nU3dpdGNoV2hlbmAgb3IgYG5nU3dpdGNoRGVmYXVsdGAgZGlyZWN0aXZlcyB3aWxsIGJlIHByZXNlcnZlZCBhdCB0aGUgbG9jYXRpb25cclxuICogYXMgc3BlY2lmaWVkIGluIHRoZSB0ZW1wbGF0ZS5cclxuICpcclxuICogVGhlIGRpcmVjdGl2ZSBpdHNlbGYgd29ya3Mgc2ltaWxhciB0byBuZ0luY2x1ZGUsIGhvd2V2ZXIsIGluc3RlYWQgb2YgZG93bmxvYWRpbmcgdGVtcGxhdGUgY29kZSAob3IgbG9hZGluZyBpdFxyXG4gKiBmcm9tIHRoZSB0ZW1wbGF0ZSBjYWNoZSksIGBuZ1N3aXRjaGAgc2ltcGx5IGNob29zZXMgb25lIG9mIHRoZSBuZXN0ZWQgZWxlbWVudHMgYW5kIG1ha2VzIGl0IHZpc2libGUgYmFzZWQgb24gd2hpY2ggZWxlbWVudFxyXG4gKiBtYXRjaGVzIHRoZSB2YWx1ZSBvYnRhaW5lZCBmcm9tIHRoZSBldmFsdWF0ZWQgZXhwcmVzc2lvbi4gSW4gb3RoZXIgd29yZHMsIHlvdSBkZWZpbmUgYSBjb250YWluZXIgZWxlbWVudFxyXG4gKiAod2hlcmUgeW91IHBsYWNlIHRoZSBkaXJlY3RpdmUpLCBwbGFjZSBhbiBleHByZXNzaW9uIG9uIHRoZSAqKmBvbj1cIi4uLlwiYCBhdHRyaWJ1dGUqKlxyXG4gKiAob3IgdGhlICoqYG5nLXN3aXRjaD1cIi4uLlwiYCBhdHRyaWJ1dGUqKiksIGRlZmluZSBhbnkgaW5uZXIgZWxlbWVudHMgaW5zaWRlIG9mIHRoZSBkaXJlY3RpdmUgYW5kIHBsYWNlXHJcbiAqIGEgd2hlbiBhdHRyaWJ1dGUgcGVyIGVsZW1lbnQuIFRoZSB3aGVuIGF0dHJpYnV0ZSBpcyB1c2VkIHRvIGluZm9ybSBuZ1N3aXRjaCB3aGljaCBlbGVtZW50IHRvIGRpc3BsYXkgd2hlbiB0aGUgb25cclxuICogZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQuIElmIGEgbWF0Y2hpbmcgZXhwcmVzc2lvbiBpcyBub3QgZm91bmQgdmlhIGEgd2hlbiBhdHRyaWJ1dGUgdGhlbiBhbiBlbGVtZW50IHdpdGggdGhlIGRlZmF1bHRcclxuICogYXR0cmlidXRlIGlzIGRpc3BsYXllZC5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICogQmUgYXdhcmUgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlcyB0byBtYXRjaCBhZ2FpbnN0IGNhbm5vdCBiZSBleHByZXNzaW9ucy4gVGhleSBhcmUgaW50ZXJwcmV0ZWRcclxuICogYXMgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIHRvIG1hdGNoIGFnYWluc3QuXHJcbiAqIEZvciBleGFtcGxlLCAqKmBuZy1zd2l0Y2gtd2hlbj1cInNvbWVWYWxcImAqKiB3aWxsIG1hdGNoIGFnYWluc3QgdGhlIHN0cmluZyBgXCJzb21lVmFsXCJgIG5vdCBhZ2FpbnN0IHRoZVxyXG4gKiB2YWx1ZSBvZiB0aGUgZXhwcmVzc2lvbiBgJHNjb3BlLnNvbWVWYWxgLlxyXG4gKiA8L2Rpdj5cclxuXHJcbiAqIEBhbmltYXRpb25zXHJcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSAgfCBhZnRlciB0aGUgbmdTd2l0Y2ggY29udGVudHMgY2hhbmdlIGFuZCB0aGUgbWF0Y2hlZCBjaGlsZCBlbGVtZW50IGlzIHBsYWNlZCBpbnNpZGUgdGhlIGNvbnRhaW5lciB8XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2xlYXZlIGxlYXZlfSAgfCBhZnRlciB0aGUgbmdTd2l0Y2ggY29udGVudHMgY2hhbmdlIGFuZCBqdXN0IGJlZm9yZSB0aGUgZm9ybWVyIGNvbnRlbnRzIGFyZSByZW1vdmVkIGZyb20gdGhlIERPTSB8XHJcbiAqXHJcbiAqIEB1c2FnZVxyXG4gKlxyXG4gKiBgYGBcclxuICogPEFOWSBuZy1zd2l0Y2g9XCJleHByZXNzaW9uXCI+XHJcbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUxXCI+Li4uPC9BTlk+XHJcbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUyXCI+Li4uPC9BTlk+XHJcbiAqICAgPEFOWSBuZy1zd2l0Y2gtZGVmYXVsdD4uLi48L0FOWT5cclxuICogPC9BTlk+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKlxyXG4gKiBAc2NvcGVcclxuICogQHByaW9yaXR5IDEyMDBcclxuICogQHBhcmFtIHsqfSBuZ1N3aXRjaHxvbiBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QgPGNvZGU+bmctc3dpdGNoLXdoZW48L2NvZGU+LlxyXG4gKiBPbiBjaGlsZCBlbGVtZW50cyBhZGQ6XHJcbiAqXHJcbiAqICogYG5nU3dpdGNoV2hlbmA6IHRoZSBjYXNlIHN0YXRlbWVudCB0byBtYXRjaCBhZ2FpbnN0LiBJZiBtYXRjaCB0aGVuIHRoaXNcclxuICogICBjYXNlIHdpbGwgYmUgZGlzcGxheWVkLiBJZiB0aGUgc2FtZSBtYXRjaCBhcHBlYXJzIG11bHRpcGxlIHRpbWVzLCBhbGwgdGhlXHJcbiAqICAgZWxlbWVudHMgd2lsbCBiZSBkaXNwbGF5ZWQuXHJcbiAqICogYG5nU3dpdGNoRGVmYXVsdGA6IHRoZSBkZWZhdWx0IGNhc2Ugd2hlbiBubyBvdGhlciBjYXNlIG1hdGNoLiBJZiB0aGVyZVxyXG4gKiAgIGFyZSBtdWx0aXBsZSBkZWZhdWx0IGNhc2VzLCBhbGwgb2YgdGhlbSB3aWxsIGJlIGRpc3BsYXllZCB3aGVuIG5vIG90aGVyXHJcbiAqICAgY2FzZSBtYXRjaC5cclxuICpcclxuICpcclxuICogQGV4YW1wbGVcclxuICA8ZXhhbXBsZSBtb2R1bGU9XCJzd2l0Y2hFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJzZWxlY3Rpb25cIiBuZy1vcHRpb25zPVwiaXRlbSBmb3IgaXRlbSBpbiBpdGVtc1wiPlxyXG4gICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgIDxjb2RlPnNlbGVjdGlvbj17e3NlbGVjdGlvbn19PC9jb2RlPlxyXG4gICAgICAgIDxoci8+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoLWNvbnRhaW5lclwiXHJcbiAgICAgICAgICBuZy1zd2l0Y2ggb249XCJzZWxlY3Rpb25cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoXCIgbmctc3dpdGNoLXdoZW49XCJzZXR0aW5nc1wiPlNldHRpbmdzIERpdjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2hcIiBuZy1zd2l0Y2gtd2hlbj1cImhvbWVcIj5Ib21lIFNwYW48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoXCIgbmctc3dpdGNoLWRlZmF1bHQ+ZGVmYXVsdDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3N3aXRjaEV4YW1wbGUnLCBbJ25nQW5pbWF0ZSddKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAkc2NvcGUuaXRlbXMgPSBbJ3NldHRpbmdzJywgJ2hvbWUnLCAnb3RoZXInXTtcclxuICAgICAgICAgICRzY29wZS5zZWxlY3Rpb24gPSAkc2NvcGUuaXRlbXNbMF07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XHJcbiAgICAgIC5hbmltYXRlLXN3aXRjaC1jb250YWluZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XHJcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBoZWlnaHQ6NDBweDtcclxuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hbmltYXRlLXN3aXRjaCB7XHJcbiAgICAgICAgcGFkZGluZzoxMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctYW5pbWF0ZSB7XHJcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xyXG5cclxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgICAgICB0b3A6MDtcclxuICAgICAgICBsZWZ0OjA7XHJcbiAgICAgICAgcmlnaHQ6MDtcclxuICAgICAgICBib3R0b206MDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSxcclxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWVudGVyIHtcclxuICAgICAgICB0b3A6LTUwcHg7XHJcbiAgICAgIH1cclxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWxlYXZlLFxyXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcclxuICAgICAgICB0b3A6MDtcclxuICAgICAgfVxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgc3dpdGNoRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctc3dpdGNoXScpKTtcclxuICAgICAgdmFyIHNlbGVjdCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGlvbicpKTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgc3RhcnQgaW4gc2V0dGluZ3MnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL1NldHRpbmdzIERpdi8pO1xyXG4gICAgICB9KTtcclxuICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2UgdG8gaG9tZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDEpLmNsaWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Ib21lIFNwYW4vKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGl0KCdzaG91bGQgc2VsZWN0IGRlZmF1bHQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgyKS5jbGljaygpO1xyXG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvZGVmYXVsdC8pO1xyXG4gICAgICB9KTtcclxuICAgIDwvZmlsZT5cclxuICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdTd2l0Y2hEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJGFuaW1hdGUsICRjb21waWxlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlcXVpcmU6ICduZ1N3aXRjaCcsXHJcblxyXG4gICAgLy8gYXNrcyBmb3IgJHNjb3BlIHRvIGZvb2wgdGhlIEJDIGNvbnRyb2xsZXIgbW9kdWxlXHJcbiAgICBjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uIG5nU3dpdGNoQ29udHJvbGxlcigpIHtcclxuICAgICB0aGlzLmNhc2VzID0ge307XHJcbiAgICB9XSxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ1N3aXRjaENvbnRyb2xsZXIpIHtcclxuICAgICAgdmFyIHdhdGNoRXhwciA9IGF0dHIubmdTd2l0Y2ggfHwgYXR0ci5vbixcclxuICAgICAgICAgIHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBbXSxcclxuICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMgPSBbXSxcclxuICAgICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb25zID0gW10sXHJcbiAgICAgICAgICBzZWxlY3RlZFNjb3BlcyA9IFtdO1xyXG5cclxuICAgICAgdmFyIHNwbGljZUZhY3RvcnkgPSBmdW5jdGlvbihhcnJheSwgaW5kZXgpIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTsgfTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHNjb3BlLiR3YXRjaCh3YXRjaEV4cHIsIGZ1bmN0aW9uIG5nU3dpdGNoV2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgICB2YXIgaSwgaWk7XHJcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBwcmV2aW91c0xlYXZlQW5pbWF0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XHJcbiAgICAgICAgICAkYW5pbWF0ZS5jYW5jZWwocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcmV2aW91c0xlYXZlQW5pbWF0aW9ucy5sZW5ndGggPSAwO1xyXG5cclxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHNlbGVjdGVkU2NvcGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcclxuICAgICAgICAgIHZhciBzZWxlY3RlZCA9IGdldEJsb2NrTm9kZXMoc2VsZWN0ZWRFbGVtZW50c1tpXS5jbG9uZSk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNjb3Blc1tpXS4kZGVzdHJveSgpO1xyXG4gICAgICAgICAgdmFyIHByb21pc2UgPSBwcmV2aW91c0xlYXZlQW5pbWF0aW9uc1tpXSA9ICRhbmltYXRlLmxlYXZlKHNlbGVjdGVkKTtcclxuICAgICAgICAgIHByb21pc2UudGhlbihzcGxpY2VGYWN0b3J5KHByZXZpb3VzTGVhdmVBbmltYXRpb25zLCBpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgc2VsZWN0ZWRTY29wZXMubGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgaWYgKChzZWxlY3RlZFRyYW5zY2x1ZGVzID0gbmdTd2l0Y2hDb250cm9sbGVyLmNhc2VzWychJyArIHZhbHVlXSB8fCBuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbJz8nXSkpIHtcclxuICAgICAgICAgIGZvckVhY2goc2VsZWN0ZWRUcmFuc2NsdWRlcywgZnVuY3Rpb24oc2VsZWN0ZWRUcmFuc2NsdWRlKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkVHJhbnNjbHVkZS50cmFuc2NsdWRlKGZ1bmN0aW9uKGNhc2VFbGVtZW50LCBzZWxlY3RlZFNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRTY29wZXMucHVzaChzZWxlY3RlZFNjb3BlKTtcclxuICAgICAgICAgICAgICB2YXIgYW5jaG9yID0gc2VsZWN0ZWRUcmFuc2NsdWRlLmVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgY2FzZUVsZW1lbnRbY2FzZUVsZW1lbnQubGVuZ3RoKytdID0gJGNvbXBpbGUuJCRjcmVhdGVDb21tZW50KCdlbmQgbmdTd2l0Y2hXaGVuJyk7XHJcbiAgICAgICAgICAgICAgdmFyIGJsb2NrID0geyBjbG9uZTogY2FzZUVsZW1lbnQgfTtcclxuXHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjYXNlRWxlbWVudCwgYW5jaG9yLnBhcmVudCgpLCBhbmNob3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG52YXIgbmdTd2l0Y2hXaGVuRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xyXG4gIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcclxuICBwcmlvcml0eTogMTIwMCxcclxuICByZXF1aXJlOiAnXm5nU3dpdGNoJyxcclxuICBtdWx0aUVsZW1lbnQ6IHRydWUsXHJcbiAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xyXG4gICAgY3RybC5jYXNlc1snIScgKyBhdHRycy5uZ1N3aXRjaFdoZW5dID0gKGN0cmwuY2FzZXNbJyEnICsgYXR0cnMubmdTd2l0Y2hXaGVuXSB8fCBbXSk7XHJcbiAgICBjdHJsLmNhc2VzWychJyArIGF0dHJzLm5nU3dpdGNoV2hlbl0ucHVzaCh7IHRyYW5zY2x1ZGU6ICR0cmFuc2NsdWRlLCBlbGVtZW50OiBlbGVtZW50IH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG52YXIgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xyXG4gIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcclxuICBwcmlvcml0eTogMTIwMCxcclxuICByZXF1aXJlOiAnXm5nU3dpdGNoJyxcclxuICBtdWx0aUVsZW1lbnQ6IHRydWUsXHJcbiAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XHJcbiAgICBjdHJsLmNhc2VzWyc/J10gPSAoY3RybC5jYXNlc1snPyddIHx8IFtdKTtcclxuICAgIGN0cmwuY2FzZXNbJz8nXS5wdXNoKHsgdHJhbnNjbHVkZTogJHRyYW5zY2x1ZGUsIGVsZW1lbnQ6IGVsZW1lbnQgfSk7XHJcbiAgIH1cclxufSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1RyYW5zY2x1ZGVcclxuICogQHJlc3RyaWN0IEVBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGlyZWN0aXZlIHRoYXQgbWFya3MgdGhlIGluc2VydGlvbiBwb2ludCBmb3IgdGhlIHRyYW5zY2x1ZGVkIERPTSBvZiB0aGUgbmVhcmVzdCBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgdXNlcyB0cmFuc2NsdXNpb24uXHJcbiAqXHJcbiAqIFlvdSBjYW4gc3BlY2lmeSB0aGF0IHlvdSB3YW50IHRvIGluc2VydCBhIG5hbWVkIHRyYW5zY2x1c2lvbiBzbG90LCBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IHNsb3QsIGJ5IHByb3ZpZGluZyB0aGUgc2xvdCBuYW1lXHJcbiAqIGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG5nLXRyYW5zY2x1ZGVgIG9yIGBuZy10cmFuc2NsdWRlLXNsb3RgIGF0dHJpYnV0ZS5cclxuICpcclxuICogSWYgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgbm90IGVtcHR5IChpLmUuIGNvbnRhaW5zIG9uZSBvciBtb3JlIERPTSBub2RlcywgaW5jbHVkaW5nIHdoaXRlc3BhY2UgdGV4dCBub2RlcyksIGFueSBleGlzdGluZ1xyXG4gKiBjb250ZW50IG9mIHRoaXMgZWxlbWVudCB3aWxsIGJlIHJlbW92ZWQgYmVmb3JlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGlzIGluc2VydGVkLlxyXG4gKiBJZiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpcyBlbXB0eSwgdGhlIGV4aXN0aW5nIGNvbnRlbnQgaXMgbGVmdCBpbnRhY3QuIFRoaXMgbGV0cyB5b3UgcHJvdmlkZSBmYWxsYmFjayBjb250ZW50IGluIHRoZSBjYXNlXHJcbiAqIHRoYXQgbm8gdHJhbnNjbHVkZWQgY29udGVudCBpcyBwcm92aWRlZC5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ1RyYW5zY2x1ZGV8bmdUcmFuc2NsdWRlU2xvdCB0aGUgbmFtZSBvZiB0aGUgc2xvdCB0byBpbnNlcnQgYXQgdGhpcyBwb2ludC4gSWYgdGhpcyBpcyBub3QgcHJvdmlkZWQsIGlzIGVtcHR5XHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBpdHMgdmFsdWUgaXMgdGhlIHNhbWUgYXMgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0aGVuIHRoZSBkZWZhdWx0IHNsb3QgaXMgdXNlZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogIyMjIEJhc2ljIHRyYW5zY2x1c2lvblxyXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIGJhc2ljIHRyYW5zY2x1c2lvbiBvZiBjb250ZW50IGludG8gYSBjb21wb25lbnQgZGlyZWN0aXZlLlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwic2ltcGxlVHJhbnNjbHVkZUV4YW1wbGVcIiBtb2R1bGU9XCJ0cmFuc2NsdWRlRXhhbXBsZVwiPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgICA8c2NyaXB0PlxyXG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgndHJhbnNjbHVkZUV4YW1wbGUnLCBbXSlcclxuICogICAgICAgIC5kaXJlY3RpdmUoJ3BhbmUnLCBmdW5jdGlvbigpe1xyXG4gKiAgICAgICAgICAgcmV0dXJuIHtcclxuICogICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICogICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICogICAgICAgICAgICAgc2NvcGU6IHsgdGl0bGU6J0AnIH0sXHJcbiAqICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1wiPicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IGdyYXlcIj57e3RpdGxlfX08L2Rpdj4nICtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgJzxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT4nICtcclxuICogICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXHJcbiAqICAgICAgICAgICB9O1xyXG4gKiAgICAgICB9KVxyXG4gKiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gKiAgICAgICAgICRzY29wZS50aXRsZSA9ICdMb3JlbSBJcHN1bSc7XHJcbiAqICAgICAgICAgJHNjb3BlLnRleHQgPSAnTmVxdWUgcG9ycm8gcXVpc3F1YW0gZXN0IHF1aSBkb2xvcmVtIGlwc3VtIHF1aWEgZG9sb3IuLi4nO1xyXG4gKiAgICAgICB9XSk7XHJcbiAqICAgICA8L3NjcmlwdD5cclxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInRpdGxlXCIgYXJpYS1sYWJlbD1cInRpdGxlXCI+IDxici8+XHJcbiAqICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInRleHRcIiBhcmlhLWxhYmVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XHJcbiAqICAgICAgIDxwYW5lIHRpdGxlPVwie3t0aXRsZX19XCI+e3t0ZXh0fX08L3BhbmU+XHJcbiAqICAgICA8L2Rpdj5cclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gKiAgICAgIGl0KCdzaG91bGQgaGF2ZSB0cmFuc2NsdWRlZCcsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RpdGxlJykpO1xyXG4gKiAgICAgICAgdGl0bGVFbGVtZW50LmNsZWFyKCk7XHJcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuc2VuZEtleXMoJ1RJVExFJyk7XHJcbiAqICAgICAgICB2YXIgdGV4dEVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpO1xyXG4gKiAgICAgICAgdGV4dEVsZW1lbnQuY2xlYXIoKTtcclxuICogICAgICAgIHRleHRFbGVtZW50LnNlbmRLZXlzKCdURVhUJyk7XHJcbiAqICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd0aXRsZScpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RJVExFJyk7XHJcbiAqICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd0ZXh0JykpLmdldFRleHQoKSkudG9FcXVhbCgnVEVYVCcpO1xyXG4gKiAgICAgIH0pO1xyXG4gKiAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiAjIyMgVHJhbnNjbHVkZSBmYWxsYmFjayBjb250ZW50XHJcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGBOZ1RyYW5zY2x1ZGVgIHdpdGggZmFsbGJhY2sgY29udGVudCwgdGhhdFxyXG4gKiBpcyBkaXNwbGF5ZWQgaWYgbm8gdHJhbnNjbHVkZWQgY29udGVudCBpcyBwcm92aWRlZC5cclxuICpcclxuICogPGV4YW1wbGUgbW9kdWxlPVwidHJhbnNjbHVkZUZhbGxiYWNrQ29udGVudEV4YW1wbGVcIj5cclxuICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogPHNjcmlwdD5cclxuICogYW5ndWxhci5tb2R1bGUoJ3RyYW5zY2x1ZGVGYWxsYmFja0NvbnRlbnRFeGFtcGxlJywgW10pXHJcbiAqIC5kaXJlY3RpdmUoJ215QnV0dG9uJywgZnVuY3Rpb24oKXtcclxuICogICAgICAgICAgICAgcmV0dXJuIHtcclxuICogICAgICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gKiAgICAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAqICAgICAgICAgICAgICAgc2NvcGU6IHRydWUsXHJcbiAqICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8YnV0dG9uIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyO1wiPicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bmctdHJhbnNjbHVkZT4nICtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8YiBzdHlsZT1cImNvbG9yOiByZWQ7XCI+QnV0dG9uMTwvYj4nICtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9uZy10cmFuc2NsdWRlPicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnPC9idXR0b24+J1xyXG4gKiAgICAgICAgICAgICB9O1xyXG4gKiAgICAgICAgIH0pO1xyXG4gKiA8L3NjcmlwdD5cclxuICogPCEtLSBmYWxsYmFjayBidXR0b24gY29udGVudCAtLT5cclxuICogPG15LWJ1dHRvbiBpZD1cImZhbGxiYWNrXCI+PC9teS1idXR0b24+XHJcbiAqIDwhLS0gbW9kaWZpZWQgYnV0dG9uIGNvbnRlbnQgLS0+XHJcbiAqIDxteS1idXR0b24gaWQ9XCJtb2RpZmllZFwiPlxyXG4gKiAgIDxpIHN0eWxlPVwiY29sb3I6IGdyZWVuO1wiPkJ1dHRvbjI8L2k+XHJcbiAqIDwvbXktYnV0dG9uPlxyXG4gKiA8L2ZpbGU+XHJcbiAqIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICogaXQoJ3Nob3VsZCBoYXZlIGRpZmZlcmVudCB0cmFuc2NsdWRlIGVsZW1lbnQgY29udGVudCcsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZmFsbGJhY2snKSkuZ2V0VGV4dCgpKS50b0JlKCdCdXR0b24xJyk7XHJcbiAqICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdtb2RpZmllZCcpKS5nZXRUZXh0KCkpLnRvQmUoJ0J1dHRvbjInKTtcclxuICogICAgICAgIH0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogIyMjIE11bHRpLXNsb3QgdHJhbnNjbHVzaW9uXHJcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdXNpbmcgbXVsdGktc2xvdCB0cmFuc2NsdXNpb24gaW4gYSBjb21wb25lbnQgZGlyZWN0aXZlLlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibXVsdGlTbG90VHJhbnNjbHVkZUV4YW1wbGVcIiBtb2R1bGU9XCJtdWx0aVNsb3RUcmFuc2NsdWRlRXhhbXBsZVwiPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgIDxzdHlsZT5cclxuICogICAgICAudGl0bGUsIC5mb290ZXIge1xyXG4gKiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogZ3JheVxyXG4gKiAgICAgIH1cclxuICogICAgPC9zdHlsZT5cclxuICogICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICA8aW5wdXQgbmctbW9kZWw9XCJ0aXRsZVwiIGFyaWEtbGFiZWw9XCJ0aXRsZVwiPiA8YnIvPlxyXG4gKiAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInRleHRcIiBhcmlhLWxhYmVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XHJcbiAqICAgICAgPHBhbmU+XHJcbiAqICAgICAgICA8cGFuZS10aXRsZT48YSBuZy1ocmVmPVwie3tsaW5rfX1cIj57e3RpdGxlfX08L2E+PC9wYW5lLXRpdGxlPlxyXG4gKiAgICAgICAgPHBhbmUtYm9keT48cD57e3RleHR9fTwvcD48L3BhbmUtYm9keT5cclxuICogICAgICA8L3BhbmU+XHJcbiAqICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICAgIGFuZ3VsYXIubW9kdWxlKCdtdWx0aVNsb3RUcmFuc2NsdWRlRXhhbXBsZScsIFtdKVxyXG4gKiAgICAgLmRpcmVjdGl2ZSgncGFuZScsIGZ1bmN0aW9uKCl7XHJcbiAqICAgICAgICByZXR1cm4ge1xyXG4gKiAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gKiAgICAgICAgICB0cmFuc2NsdWRlOiB7XHJcbiAqICAgICAgICAgICAgJ3RpdGxlJzogJz9wYW5lVGl0bGUnLFxyXG4gKiAgICAgICAgICAgICdib2R5JzogJ3BhbmVCb2R5JyxcclxuICogICAgICAgICAgICAnZm9vdGVyJzogJz9wYW5lRm9vdGVyJ1xyXG4gKiAgICAgICAgICB9LFxyXG4gKiAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCBibGFjaztcIj4nICtcclxuICogICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0aXRsZVwiIG5nLXRyYW5zY2x1ZGU9XCJ0aXRsZVwiPkZhbGxiYWNrIFRpdGxlPC9kaXY+JyArXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IG5nLXRyYW5zY2x1ZGU9XCJib2R5XCI+PC9kaXY+JyArXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZm9vdGVyXCIgbmctdHJhbnNjbHVkZT1cImZvb3RlclwiPkZhbGxiYWNrIEZvb3RlcjwvZGl2PicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcclxuICogICAgICAgIH07XHJcbiAqICAgIH0pXHJcbiAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgJHNjb3BlLnRpdGxlID0gJ0xvcmVtIElwc3VtJztcclxuICogICAgICAkc2NvcGUubGluayA9IFwiaHR0cHM6Ly9nb29nbGUuY29tXCI7XHJcbiAqICAgICAgJHNjb3BlLnRleHQgPSAnTmVxdWUgcG9ycm8gcXVpc3F1YW0gZXN0IHF1aSBkb2xvcmVtIGlwc3VtIHF1aWEgZG9sb3IuLi4nO1xyXG4gKiAgICB9XSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICogICAgICBpdCgnc2hvdWxkIGhhdmUgdHJhbnNjbHVkZWQgdGhlIHRpdGxlIGFuZCB0aGUgYm9keScsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RpdGxlJykpO1xyXG4gKiAgICAgICAgdGl0bGVFbGVtZW50LmNsZWFyKCk7XHJcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuc2VuZEtleXMoJ1RJVExFJyk7XHJcbiAqICAgICAgICB2YXIgdGV4dEVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpO1xyXG4gKiAgICAgICAgdGV4dEVsZW1lbnQuY2xlYXIoKTtcclxuICogICAgICAgIHRleHRFbGVtZW50LnNlbmRLZXlzKCdURVhUJyk7XHJcbiAqICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy50aXRsZScpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RJVExFJyk7XHJcbiAqICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd0ZXh0JykpLmdldFRleHQoKSkudG9FcXVhbCgnVEVYVCcpO1xyXG4gKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuZm9vdGVyJykpLmdldFRleHQoKSkudG9FcXVhbCgnRmFsbGJhY2sgRm9vdGVyJyk7XHJcbiAqICAgICAgfSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdUcmFuc2NsdWRlTWluRXJyID0gbWluRXJyKCduZ1RyYW5zY2x1ZGUnKTtcclxudmFyIG5nVHJhbnNjbHVkZURpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHtcclxuICByZXN0cmljdDogJ0VBQycsXHJcbiAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCBjb250cm9sbGVyLCAkdHJhbnNjbHVkZSkge1xyXG5cclxuICAgIGlmICgkYXR0cnMubmdUcmFuc2NsdWRlID09PSAkYXR0cnMuJGF0dHIubmdUcmFuc2NsdWRlKSB7XHJcbiAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaXMgb2YgdGhlIGZvcm06IGBuZy10cmFuc2NsdWRlPVwibmctdHJhbnNjbHVkZVwiYFxyXG4gICAgICAvLyB0aGVuIHRyZWF0IGl0IGxpa2UgdGhlIGRlZmF1bHRcclxuICAgICAgJGF0dHJzLm5nVHJhbnNjbHVkZSA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5nVHJhbnNjbHVkZUNsb25lQXR0YWNoRm4oY2xvbmUpIHtcclxuICAgICAgaWYgKGNsb25lLmxlbmd0aCkge1xyXG4gICAgICAgICRlbGVtZW50LmVtcHR5KCk7XHJcbiAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghJHRyYW5zY2x1ZGUpIHtcclxuICAgICAgdGhyb3cgbmdUcmFuc2NsdWRlTWluRXJyKCdvcnBoYW4nLFxyXG4gICAgICAgJ0lsbGVnYWwgdXNlIG9mIG5nVHJhbnNjbHVkZSBkaXJlY3RpdmUgaW4gdGhlIHRlbXBsYXRlISAnICtcclxuICAgICAgICdObyBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgcmVxdWlyZXMgYSB0cmFuc2NsdXNpb24gZm91bmQuICcgK1xyXG4gICAgICAgJ0VsZW1lbnQ6IHswfScsXHJcbiAgICAgICBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHRoZXJlIGlzIG5vIHNsb3QgbmFtZSBkZWZpbmVkIG9yIHRoZSBzbG90IG5hbWUgaXMgbm90IG9wdGlvbmFsXHJcbiAgICAvLyB0aGVuIHRyYW5zY2x1ZGUgdGhlIHNsb3RcclxuICAgIHZhciBzbG90TmFtZSA9ICRhdHRycy5uZ1RyYW5zY2x1ZGUgfHwgJGF0dHJzLm5nVHJhbnNjbHVkZVNsb3Q7XHJcbiAgICAkdHJhbnNjbHVkZShuZ1RyYW5zY2x1ZGVDbG9uZUF0dGFjaEZuLCBudWxsLCBzbG90TmFtZSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIHNjcmlwdFxyXG4gKiBAcmVzdHJpY3QgRVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogTG9hZCB0aGUgY29udGVudCBvZiBhIGA8c2NyaXB0PmAgZWxlbWVudCBpbnRvIHtAbGluayBuZy4kdGVtcGxhdGVDYWNoZSBgJHRlbXBsYXRlQ2FjaGVgfSwgc28gdGhhdCB0aGVcclxuICogdGVtcGxhdGUgY2FuIGJlIHVzZWQgYnkge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luY2x1ZGUgYG5nSW5jbHVkZWB9LFxyXG4gKiB7QGxpbmsgbmdSb3V0ZS5kaXJlY3RpdmU6bmdWaWV3IGBuZ1ZpZXdgfSwgb3Ige0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS4gVGhlIHR5cGUgb2YgdGhlXHJcbiAqIGA8c2NyaXB0PmAgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBgdGV4dC9uZy10ZW1wbGF0ZWAsIGFuZCBhIGNhY2hlIG5hbWUgZm9yIHRoZSB0ZW1wbGF0ZSBtdXN0IGJlXHJcbiAqIGFzc2lnbmVkIHRocm91Z2ggdGhlIGVsZW1lbnQncyBgaWRgLCB3aGljaCBjYW4gdGhlbiBiZSB1c2VkIGFzIGEgZGlyZWN0aXZlJ3MgYHRlbXBsYXRlVXJsYC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgTXVzdCBiZSBzZXQgdG8gYCd0ZXh0L25nLXRlbXBsYXRlJ2AuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDYWNoZSBuYW1lIG9mIHRoZSB0ZW1wbGF0ZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICA8ZXhhbXBsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cIi90cGwuaHRtbFwiPlxyXG4gICAgICAgIENvbnRlbnQgb2YgdGhlIHRlbXBsYXRlLlxyXG4gICAgICA8L3NjcmlwdD5cclxuXHJcbiAgICAgIDxhIG5nLWNsaWNrPVwiY3VycmVudFRwbD0nL3RwbC5odG1sJ1wiIGlkPVwidHBsLWxpbmtcIj5Mb2FkIGlubGluZWQgdGVtcGxhdGU8L2E+XHJcbiAgICAgIDxkaXYgaWQ9XCJ0cGwtY29udGVudFwiIG5nLWluY2x1ZGUgc3JjPVwiY3VycmVudFRwbFwiPjwvZGl2PlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICBpdCgnc2hvdWxkIGxvYWQgdGVtcGxhdGUgZGVmaW5lZCBpbnNpZGUgc2NyaXB0IHRhZycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjdHBsLWxpbmsnKSkuY2xpY2soKTtcclxuICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyN0cGwtY29udGVudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgb2YgdGhlIHRlbXBsYXRlLyk7XHJcbiAgICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBzY3JpcHREaXJlY3RpdmUgPSBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgIHRlcm1pbmFsOiB0cnVlLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xyXG4gICAgICBpZiAoYXR0ci50eXBlID09ICd0ZXh0L25nLXRlbXBsYXRlJykge1xyXG4gICAgICAgIHZhciB0ZW1wbGF0ZVVybCA9IGF0dHIuaWQsXHJcbiAgICAgICAgICAgIHRleHQgPSBlbGVtZW50WzBdLnRleHQ7XHJcblxyXG4gICAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCh0ZW1wbGF0ZVVybCwgdGV4dCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG59XTtcclxuXHJcbnZhciBub29wTmdNb2RlbENvbnRyb2xsZXIgPSB7ICRzZXRWaWV3VmFsdWU6IG5vb3AsICRyZW5kZXI6IG5vb3AgfTtcclxuXHJcbmZ1bmN0aW9uIGNocm9tZUhhY2sob3B0aW9uRWxlbWVudCkge1xyXG4gIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zODE0NTlcclxuICAvLyBBZGRpbmcgYW4gPG9wdGlvbiBzZWxlY3RlZD1cInNlbGVjdGVkXCI+IGVsZW1lbnQgdG8gYSA8c2VsZWN0IHJlcXVpcmVkPVwicmVxdWlyZWRcIj4gc2hvdWxkXHJcbiAgLy8gYXV0b21hdGljYWxseSBzZWxlY3QgdGhlIG5ldyBlbGVtZW50XHJcbiAgaWYgKG9wdGlvbkVsZW1lbnRbMF0uaGFzQXR0cmlidXRlKCdzZWxlY3RlZCcpKSB7XHJcbiAgICBvcHRpb25FbGVtZW50WzBdLnNlbGVjdGVkID0gdHJ1ZTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgdHlwZVxyXG4gKiBAbmFtZSAgc2VsZWN0LlNlbGVjdENvbnRyb2xsZXJcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBjb250cm9sbGVyIGZvciB0aGUgYDxzZWxlY3Q+YCBkaXJlY3RpdmUuIFRoaXMgcHJvdmlkZXMgc3VwcG9ydCBmb3IgcmVhZGluZ1xyXG4gKiBhbmQgd3JpdGluZyB0aGUgc2VsZWN0ZWQgdmFsdWUocykgb2YgdGhlIGNvbnRyb2wgYW5kIGFsc28gY29vcmRpbmF0ZXMgZHluYW1pY2FsbHlcclxuICogYWRkZWQgYDxvcHRpb24+YCBlbGVtZW50cywgcGVyaGFwcyBieSBhbiBgbmdSZXBlYXRgIGRpcmVjdGl2ZS5cclxuICovXHJcbnZhciBTZWxlY3RDb250cm9sbGVyID1cclxuICAgICAgICBbJyRlbGVtZW50JywgJyRzY29wZScsIGZ1bmN0aW9uKCRlbGVtZW50LCAkc2NvcGUpIHtcclxuXHJcbiAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICBvcHRpb25zTWFwID0gbmV3IEhhc2hNYXAoKTtcclxuXHJcbiAgLy8gSWYgdGhlIG5nTW9kZWwgZG9lc24ndCBnZXQgcHJvdmlkZWQgdGhlbiBwcm92aWRlIGEgZHVtbXkgbm9vcCB2ZXJzaW9uIHRvIHByZXZlbnQgZXJyb3JzXHJcbiAgc2VsZi5uZ01vZGVsQ3RybCA9IG5vb3BOZ01vZGVsQ29udHJvbGxlcjtcclxuXHJcbiAgLy8gVGhlIFwidW5rbm93blwiIG9wdGlvbiBpcyBvbmUgdGhhdCBpcyBwcmVwZW5kZWQgdG8gdGhlIGxpc3QgaWYgdGhlIHZpZXdWYWx1ZVxyXG4gIC8vIGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgb3B0aW9ucy4gV2hlbiBpdCBpcyByZW5kZXJlZCB0aGUgdmFsdWUgb2YgdGhlIHVua25vd25cclxuICAvLyBvcHRpb24gaXMgJz8gWFhYID8nIHdoZXJlIFhYWCBpcyB0aGUgaGFzaEtleSBvZiB0aGUgdmFsdWUgdGhhdCBpcyBub3Qga25vd24uXHJcbiAgLy9cclxuICAvLyBXZSBjYW4ndCBqdXN0IGpxTGl0ZSgnPG9wdGlvbj4nKSBzaW5jZSBqcUxpdGUgaXMgbm90IHNtYXJ0IGVub3VnaFxyXG4gIC8vIHRvIGNyZWF0ZSBpdCBpbiA8c2VsZWN0PiBhbmQgSUUgYmFyZnMgb3RoZXJ3aXNlLlxyXG4gIHNlbGYudW5rbm93bk9wdGlvbiA9IGpxTGl0ZSh3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJykpO1xyXG4gIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgdmFyIHVua25vd25WYWwgPSAnPyAnICsgaGFzaEtleSh2YWwpICsgJyA/JztcclxuICAgIHNlbGYudW5rbm93bk9wdGlvbi52YWwodW5rbm93blZhbCk7XHJcbiAgICAkZWxlbWVudC5wcmVwZW5kKHNlbGYudW5rbm93bk9wdGlvbik7XHJcbiAgICAkZWxlbWVudC52YWwodW5rbm93blZhbCk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgIC8vIGRpc2FibGUgdW5rbm93biBvcHRpb24gc28gdGhhdCB3ZSBkb24ndCBkbyB3b3JrIHdoZW4gdGhlIHdob2xlIHNlbGVjdCBpcyBiZWluZyBkZXN0cm95ZWRcclxuICAgIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbiA9IG5vb3A7XHJcbiAgfSk7XHJcblxyXG4gIHNlbGYucmVtb3ZlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHNlbGYudW5rbm93bk9wdGlvbi5wYXJlbnQoKSkgc2VsZi51bmtub3duT3B0aW9uLnJlbW92ZSgpO1xyXG4gIH07XHJcblxyXG5cclxuICAvLyBSZWFkIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0IGNvbnRyb2wsIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGNoYW5nZXMgZGVwZW5kaW5nXHJcbiAgLy8gdXBvbiB3aGV0aGVyIHRoZSBzZWxlY3QgY2FuIGhhdmUgbXVsdGlwbGUgdmFsdWVzIGFuZCB3aGV0aGVyIG5nT3B0aW9ucyBpcyBhdCB3b3JrLlxyXG4gIHNlbGYucmVhZFZhbHVlID0gZnVuY3Rpb24gcmVhZFNpbmdsZVZhbHVlKCkge1xyXG4gICAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uKCk7XHJcbiAgICByZXR1cm4gJGVsZW1lbnQudmFsKCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8vIFdyaXRlIHRoZSB2YWx1ZSB0byB0aGUgc2VsZWN0IGNvbnRyb2wsIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGNoYW5nZXMgZGVwZW5kaW5nXHJcbiAgLy8gdXBvbiB3aGV0aGVyIHRoZSBzZWxlY3QgY2FuIGhhdmUgbXVsdGlwbGUgdmFsdWVzIGFuZCB3aGV0aGVyIG5nT3B0aW9ucyBpcyBhdCB3b3JrLlxyXG4gIHNlbGYud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlU2luZ2xlVmFsdWUodmFsdWUpIHtcclxuICAgIGlmIChzZWxmLmhhc09wdGlvbih2YWx1ZSkpIHtcclxuICAgICAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uKCk7XHJcbiAgICAgICRlbGVtZW50LnZhbCh2YWx1ZSk7XHJcbiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHNlbGYuZW1wdHlPcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTsgLy8gdG8gbWFrZSBJRTkgaGFwcHlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsICYmIHNlbGYuZW1wdHlPcHRpb24pIHtcclxuICAgICAgICBzZWxmLnJlbW92ZVVua25vd25PcHRpb24oKTtcclxuICAgICAgICAkZWxlbWVudC52YWwoJycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbih2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbiAgLy8gVGVsbCB0aGUgc2VsZWN0IGNvbnRyb2wgdGhhdCBhbiBvcHRpb24sIHdpdGggdGhlIGdpdmVuIHZhbHVlLCBoYXMgYmVlbiBhZGRlZFxyXG4gIHNlbGYuYWRkT3B0aW9uID0gZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQpIHtcclxuICAgIC8vIFNraXAgY29tbWVudCBub2RlcywgYXMgdGhleSBvbmx5IHBvbGx1dGUgdGhlIGBvcHRpb25zTWFwYFxyXG4gICAgaWYgKGVsZW1lbnRbMF0ubm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSByZXR1cm47XHJcblxyXG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkodmFsdWUsICdcIm9wdGlvbiB2YWx1ZVwiJyk7XHJcbiAgICBpZiAodmFsdWUgPT09ICcnKSB7XHJcbiAgICAgIHNlbGYuZW1wdHlPcHRpb24gPSBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgdmFyIGNvdW50ID0gb3B0aW9uc01hcC5nZXQodmFsdWUpIHx8IDA7XHJcbiAgICBvcHRpb25zTWFwLnB1dCh2YWx1ZSwgY291bnQgKyAxKTtcclxuICAgIHNlbGYubmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG4gICAgY2hyb21lSGFjayhlbGVtZW50KTtcclxuICB9O1xyXG5cclxuICAvLyBUZWxsIHRoZSBzZWxlY3QgY29udHJvbCB0aGF0IGFuIG9wdGlvbiwgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUsIGhhcyBiZWVuIHJlbW92ZWRcclxuICBzZWxmLnJlbW92ZU9wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICB2YXIgY291bnQgPSBvcHRpb25zTWFwLmdldCh2YWx1ZSk7XHJcbiAgICBpZiAoY291bnQpIHtcclxuICAgICAgaWYgKGNvdW50ID09PSAxKSB7XHJcbiAgICAgICAgb3B0aW9uc01hcC5yZW1vdmUodmFsdWUpO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgIHNlbGYuZW1wdHlPcHRpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9wdGlvbnNNYXAucHV0KHZhbHVlLCBjb3VudCAtIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gQ2hlY2sgd2hldGhlciB0aGUgc2VsZWN0IGNvbnRyb2wgaGFzIGFuIG9wdGlvbiBtYXRjaGluZyB0aGUgZ2l2ZW4gdmFsdWVcclxuICBzZWxmLmhhc09wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gISFvcHRpb25zTWFwLmdldCh2YWx1ZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIHNlbGYucmVnaXN0ZXJPcHRpb24gPSBmdW5jdGlvbihvcHRpb25TY29wZSwgb3B0aW9uRWxlbWVudCwgb3B0aW9uQXR0cnMsIGludGVycG9sYXRlVmFsdWVGbiwgaW50ZXJwb2xhdGVUZXh0Rm4pIHtcclxuXHJcbiAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZUZuKSB7XHJcbiAgICAgIC8vIFRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgaW50ZXJwb2xhdGVkXHJcbiAgICAgIHZhciBvbGRWYWw7XHJcbiAgICAgIG9wdGlvbkF0dHJzLiRvYnNlcnZlKCd2YWx1ZScsIGZ1bmN0aW9uIHZhbHVlQXR0cmlidXRlT2JzZXJ2ZUFjdGlvbihuZXdWYWwpIHtcclxuICAgICAgICBpZiAoaXNEZWZpbmVkKG9sZFZhbCkpIHtcclxuICAgICAgICAgIHNlbGYucmVtb3ZlT3B0aW9uKG9sZFZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9sZFZhbCA9IG5ld1ZhbDtcclxuICAgICAgICBzZWxmLmFkZE9wdGlvbihuZXdWYWwsIG9wdGlvbkVsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGVUZXh0Rm4pIHtcclxuICAgICAgLy8gVGhlIHRleHQgY29udGVudCBpcyBpbnRlcnBvbGF0ZWRcclxuICAgICAgb3B0aW9uU2NvcGUuJHdhdGNoKGludGVycG9sYXRlVGV4dEZuLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZVdhdGNoQWN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XHJcbiAgICAgICAgb3B0aW9uQXR0cnMuJHNldCgndmFsdWUnLCBuZXdWYWwpO1xyXG4gICAgICAgIGlmIChvbGRWYWwgIT09IG5ld1ZhbCkge1xyXG4gICAgICAgICAgc2VsZi5yZW1vdmVPcHRpb24ob2xkVmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5hZGRPcHRpb24obmV3VmFsLCBvcHRpb25FbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBUaGUgdmFsdWUgYXR0cmlidXRlIGlzIHN0YXRpY1xyXG4gICAgICBzZWxmLmFkZE9wdGlvbihvcHRpb25BdHRycy52YWx1ZSwgb3B0aW9uRWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3B0aW9uRWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgc2VsZi5yZW1vdmVPcHRpb24ob3B0aW9uQXR0cnMudmFsdWUpO1xyXG4gICAgICBzZWxmLm5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcbn1dO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgc2VsZWN0XHJcbiAqIEByZXN0cmljdCBFXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBIVE1MIGBTRUxFQ1RgIGVsZW1lbnQgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy5cclxuICpcclxuICogVGhlIGBzZWxlY3RgIGRpcmVjdGl2ZSBpcyB1c2VkIHRvZ2V0aGVyIHdpdGgge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSB0byBwcm92aWRlIGRhdGEtYmluZGluZ1xyXG4gKiBiZXR3ZWVuIHRoZSBzY29wZSBhbmQgdGhlIGA8c2VsZWN0PmAgY29udHJvbCAoaW5jbHVkaW5nIHNldHRpbmcgZGVmYXVsdCB2YWx1ZXMpLlxyXG4gKiBJdCBhbHNvIGhhbmRsZXMgZHluYW1pYyBgPG9wdGlvbj5gIGVsZW1lbnRzLCB3aGljaCBjYW4gYmUgYWRkZWQgdXNpbmcgdGhlIHtAbGluayBuZ1JlcGVhdCBgbmdSZXBlYXR9YCBvclxyXG4gKiB7QGxpbmsgbmdPcHRpb25zIGBuZ09wdGlvbnNgfSBkaXJlY3RpdmVzLlxyXG4gKlxyXG4gKiBXaGVuIGFuIGl0ZW0gaW4gdGhlIGA8c2VsZWN0PmAgbWVudSBpcyBzZWxlY3RlZCwgdGhlIHZhbHVlIG9mIHRoZSBzZWxlY3RlZCBvcHRpb24gd2lsbCBiZSBib3VuZFxyXG4gKiB0byB0aGUgbW9kZWwgaWRlbnRpZmllZCBieSB0aGUgYG5nTW9kZWxgIGRpcmVjdGl2ZS4gV2l0aCBzdGF0aWMgb3IgcmVwZWF0ZWQgb3B0aW9ucywgdGhpcyBpc1xyXG4gKiB0aGUgY29udGVudCBvZiB0aGUgYHZhbHVlYCBhdHRyaWJ1dGUgb3IgdGhlIHRleHRDb250ZW50IG9mIHRoZSBgPG9wdGlvbj5gLCBpZiB0aGUgdmFsdWUgYXR0cmlidXRlIGlzIG1pc3NpbmcuXHJcbiAqIElmIHlvdSB3YW50IGR5bmFtaWMgdmFsdWUgYXR0cmlidXRlcywgeW91IGNhbiB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIHZhbHVlIGF0dHJpYnV0ZS5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogTm90ZSB0aGF0IHRoZSB2YWx1ZSBvZiBhIGBzZWxlY3RgIGRpcmVjdGl2ZSB1c2VkIHdpdGhvdXQgYG5nT3B0aW9uc2AgaXMgYWx3YXlzIGEgc3RyaW5nLlxyXG4gKiBXaGVuIHRoZSBtb2RlbCBuZWVkcyB0byBiZSBib3VuZCB0byBhIG5vbi1zdHJpbmcgdmFsdWUsIHlvdSBtdXN0IGVpdGhlciBleHBsaWNpdGx5IGNvbnZlcnQgaXRcclxuICogdXNpbmcgYSBkaXJlY3RpdmUgKHNlZSBleGFtcGxlIGJlbG93KSBvciB1c2UgYG5nT3B0aW9uc2AgdG8gc3BlY2lmeSB0aGUgc2V0IG9mIG9wdGlvbnMuXHJcbiAqIFRoaXMgaXMgYmVjYXVzZSBhbiBvcHRpb24gZWxlbWVudCBjYW4gb25seSBiZSBib3VuZCB0byBzdHJpbmcgdmFsdWVzIGF0IHByZXNlbnQuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBJZiB0aGUgdmlld1ZhbHVlIG9mIGBuZ01vZGVsYCBkb2VzIG5vdCBtYXRjaCBhbnkgb2YgdGhlIG9wdGlvbnMsIHRoZW4gdGhlIGNvbnRyb2xcclxuICogd2lsbCBhdXRvbWF0aWNhbGx5IGFkZCBhbiBcInVua25vd25cIiBvcHRpb24sIHdoaWNoIGl0IHRoZW4gcmVtb3ZlcyB3aGVuIHRoZSBtaXNtYXRjaCBpcyByZXNvbHZlZC5cclxuICpcclxuICogT3B0aW9uYWxseSwgYSBzaW5nbGUgaGFyZC1jb2RlZCBgPG9wdGlvbj5gIGVsZW1lbnQsIHdpdGggdGhlIHZhbHVlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcsIGNhblxyXG4gKiBiZSBuZXN0ZWQgaW50byB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50LiBUaGlzIGVsZW1lbnQgd2lsbCB0aGVuIHJlcHJlc2VudCB0aGUgYG51bGxgIG9yIFwibm90IHNlbGVjdGVkXCJcclxuICogb3B0aW9uLiBTZWUgZXhhbXBsZSBiZWxvdyBmb3IgZGVtb25zdHJhdGlvbi5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICogSW4gbWFueSBjYXNlcywgYG5nUmVwZWF0YCBjYW4gYmUgdXNlZCBvbiBgPG9wdGlvbj5gIGVsZW1lbnRzIGluc3RlYWQgb2Yge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ09wdGlvbnNcclxuICogbmdPcHRpb25zfSB0byBhY2hpZXZlIGEgc2ltaWxhciByZXN1bHQuIEhvd2V2ZXIsIGBuZ09wdGlvbnNgIHByb3ZpZGVzIHNvbWUgYmVuZWZpdHMsIHN1Y2ggYXNcclxuICogbW9yZSBmbGV4aWJpbGl0eSBpbiBob3cgdGhlIGA8c2VsZWN0PmAncyBtb2RlbCBpcyBhc3NpZ25lZCB2aWEgdGhlIGBzZWxlY3RgICoqYGFzYCoqIHBhcnQgb2YgdGhlXHJcbiAqIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvbiwgYW5kIGFkZGl0aW9uYWxseSBpbiByZWR1Y2luZyBtZW1vcnkgYW5kIGluY3JlYXNpbmcgc3BlZWQgYnkgbm90IGNyZWF0aW5nXHJcbiAqIGEgbmV3IHNjb3BlIGZvciBlYWNoIHJlcGVhdGVkIGluc3RhbmNlLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbXVsdGlwbGUgQWxsb3dzIG11bHRpcGxlIG9wdGlvbnMgdG8gYmUgc2VsZWN0ZWQuIFRoZSBzZWxlY3RlZCB2YWx1ZXMgd2lsbCBiZVxyXG4gKiAgICAgYm91bmQgdG8gdGhlIG1vZGVsIGFzIGFuIGFycmF5LlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIHJlcXVpcmVkIGF0dHJpYnV0ZSBhbmQgcmVxdWlyZWQgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAqIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIG5nUmVxdWlyZWQgaW5zdGVhZCBvZiByZXF1aXJlZFxyXG4gKiB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgcmVxdWlyZWQgYXR0cmlidXRlLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIHNlbGVjdGVkIG9wdGlvbihzKSBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIHNlbGVjdCBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nT3B0aW9ucyBzZXRzIHRoZSBvcHRpb25zIHRoYXQgdGhlIHNlbGVjdCBpcyBwb3B1bGF0ZWQgd2l0aCBhbmQgZGVmaW5lcyB3aGF0IGlzXHJcbiAqIHNldCBvbiB0aGUgbW9kZWwgb24gc2VsZWN0aW9uLiBTZWUge0BsaW5rIG5nT3B0aW9ucyBgbmdPcHRpb25zYH0uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqICMjIyBTaW1wbGUgYHNlbGVjdGAgZWxlbWVudHMgd2l0aCBzdGF0aWMgb3B0aW9uc1xyXG4gKlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwic3RhdGljLXNlbGVjdFwiIG1vZHVsZT1cInN0YXRpY1NlbGVjdFwiPlxyXG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cclxuICogICAgIDxsYWJlbCBmb3I9XCJzaW5nbGVTZWxlY3RcIj4gU2luZ2xlIHNlbGVjdDogPC9sYWJlbD48YnI+XHJcbiAqICAgICA8c2VsZWN0IG5hbWU9XCJzaW5nbGVTZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEuc2luZ2xlU2VsZWN0XCI+XHJcbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMVwiPk9wdGlvbiAxPC9vcHRpb24+XHJcbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMlwiPk9wdGlvbiAyPC9vcHRpb24+XHJcbiAqICAgICA8L3NlbGVjdD48YnI+XHJcbiAqXHJcbiAqICAgICA8bGFiZWwgZm9yPVwic2luZ2xlU2VsZWN0XCI+IFNpbmdsZSBzZWxlY3Qgd2l0aCBcIm5vdCBzZWxlY3RlZFwiIG9wdGlvbiBhbmQgZHluYW1pYyBvcHRpb24gdmFsdWVzOiA8L2xhYmVsPjxicj5cclxuICogICAgIDxzZWxlY3QgbmFtZT1cInNpbmdsZVNlbGVjdFwiIGlkPVwic2luZ2xlU2VsZWN0XCIgbmctbW9kZWw9XCJkYXRhLnNpbmdsZVNlbGVjdFwiPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+LS0tUGxlYXNlIHNlbGVjdC0tLTwvb3B0aW9uPiA8IS0tIG5vdCBzZWxlY3RlZCAvIGJsYW5rIG9wdGlvbiAtLT5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cInt7ZGF0YS5vcHRpb24xfX1cIj5PcHRpb24gMTwvb3B0aW9uPiA8IS0tIGludGVycG9sYXRpb24gLS0+XHJcbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMlwiPk9wdGlvbiAyPC9vcHRpb24+XHJcbiAqICAgICA8L3NlbGVjdD48YnI+XHJcbiAqICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZm9yY2VVbmtub3duT3B0aW9uKClcIj5Gb3JjZSB1bmtub3duIG9wdGlvbjwvYnV0dG9uPjxicj5cclxuICogICAgIDx0dD5zaW5nbGVTZWxlY3QgPSB7e2RhdGEuc2luZ2xlU2VsZWN0fX08L3R0PlxyXG4gKlxyXG4gKiAgICAgPGhyPlxyXG4gKiAgICAgPGxhYmVsIGZvcj1cIm11bHRpcGxlU2VsZWN0XCI+IE11bHRpcGxlIHNlbGVjdDogPC9sYWJlbD48YnI+XHJcbiAqICAgICA8c2VsZWN0IG5hbWU9XCJtdWx0aXBsZVNlbGVjdFwiIGlkPVwibXVsdGlwbGVTZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEubXVsdGlwbGVTZWxlY3RcIiBtdWx0aXBsZT5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0xXCI+T3B0aW9uIDE8L29wdGlvbj5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0zXCI+T3B0aW9uIDM8L29wdGlvbj5cclxuICogICAgIDwvc2VsZWN0Pjxicj5cclxuICogICAgIDx0dD5tdWx0aXBsZVNlbGVjdCA9IHt7ZGF0YS5tdWx0aXBsZVNlbGVjdH19PC90dD48YnIvPlxyXG4gKiAgIDwvZm9ybT5cclxuICogPC9kaXY+XHJcbiAqIDwvZmlsZT5cclxuICogPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gKiAgYW5ndWxhci5tb2R1bGUoJ3N0YXRpY1NlbGVjdCcsIFtdKVxyXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gKiAgICAgICRzY29wZS5kYXRhID0ge1xyXG4gKiAgICAgICBzaW5nbGVTZWxlY3Q6IG51bGwsXHJcbiAqICAgICAgIG11bHRpcGxlU2VsZWN0OiBbXSxcclxuICogICAgICAgb3B0aW9uMTogJ29wdGlvbi0xJyxcclxuICogICAgICB9O1xyXG4gKlxyXG4gKiAgICAgICRzY29wZS5mb3JjZVVua25vd25PcHRpb24gPSBmdW5jdGlvbigpIHtcclxuICogICAgICAgICRzY29wZS5kYXRhLnNpbmdsZVNlbGVjdCA9ICdub25zZW5zZSc7XHJcbiAqICAgICAgfTtcclxuICogICB9XSk7XHJcbiAqIDwvZmlsZT5cclxuICo8L2V4YW1wbGU+XHJcbiAqXHJcbiAqICMjIyBVc2luZyBgbmdSZXBlYXRgIHRvIGdlbmVyYXRlIGBzZWxlY3RgIG9wdGlvbnNcclxuICogPGV4YW1wbGUgbmFtZT1cIm5ncmVwZWF0LXNlbGVjdFwiIG1vZHVsZT1cIm5ncmVwZWF0U2VsZWN0XCI+XHJcbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxyXG4gKiAgICAgPGxhYmVsIGZvcj1cInJlcGVhdFNlbGVjdFwiPiBSZXBlYXQgc2VsZWN0OiA8L2xhYmVsPlxyXG4gKiAgICAgPHNlbGVjdCBuYW1lPVwicmVwZWF0U2VsZWN0XCIgaWQ9XCJyZXBlYXRTZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEucmVwZWF0U2VsZWN0XCI+XHJcbiAqICAgICAgIDxvcHRpb24gbmctcmVwZWF0PVwib3B0aW9uIGluIGRhdGEuYXZhaWxhYmxlT3B0aW9uc1wiIHZhbHVlPVwie3tvcHRpb24uaWR9fVwiPnt7b3B0aW9uLm5hbWV9fTwvb3B0aW9uPlxyXG4gKiAgICAgPC9zZWxlY3Q+XHJcbiAqICAgPC9mb3JtPlxyXG4gKiAgIDxocj5cclxuICogICA8dHQ+cmVwZWF0U2VsZWN0ID0ge3tkYXRhLnJlcGVhdFNlbGVjdH19PC90dD48YnIvPlxyXG4gKiA8L2Rpdj5cclxuICogPC9maWxlPlxyXG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICBhbmd1bGFyLm1vZHVsZSgnbmdyZXBlYXRTZWxlY3QnLCBbXSlcclxuICogICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAkc2NvcGUuZGF0YSA9IHtcclxuICogICAgICAgcmVwZWF0U2VsZWN0OiBudWxsLFxyXG4gKiAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAqICAgICAgICAge2lkOiAnMScsIG5hbWU6ICdPcHRpb24gQSd9LFxyXG4gKiAgICAgICAgIHtpZDogJzInLCBuYW1lOiAnT3B0aW9uIEInfSxcclxuICogICAgICAgICB7aWQ6ICczJywgbmFtZTogJ09wdGlvbiBDJ31cclxuICogICAgICAgXSxcclxuICogICAgICB9O1xyXG4gKiAgIH1dKTtcclxuICogPC9maWxlPlxyXG4gKjwvZXhhbXBsZT5cclxuICpcclxuICpcclxuICogIyMjIFVzaW5nIGBzZWxlY3RgIHdpdGggYG5nT3B0aW9uc2AgYW5kIHNldHRpbmcgYSBkZWZhdWx0IHZhbHVlXHJcbiAqIFNlZSB0aGUge0BsaW5rIG5nT3B0aW9ucyBuZ09wdGlvbnMgZG9jdW1lbnRhdGlvbn0gZm9yIG1vcmUgYG5nT3B0aW9uc2AgdXNhZ2UgZXhhbXBsZXMuXHJcbiAqXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3Qtd2l0aC1kZWZhdWx0LXZhbHVlc1wiIG1vZHVsZT1cImRlZmF1bHRWYWx1ZVNlbGVjdFwiPlxyXG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cclxuICogICAgIDxsYWJlbCBmb3I9XCJteVNlbGVjdFwiPk1ha2UgYSBjaG9pY2U6PC9sYWJlbD5cclxuICogICAgIDxzZWxlY3QgbmFtZT1cIm15U2VsZWN0XCIgaWQ9XCJteVNlbGVjdFwiXHJcbiAqICAgICAgIG5nLW9wdGlvbnM9XCJvcHRpb24ubmFtZSBmb3Igb3B0aW9uIGluIGRhdGEuYXZhaWxhYmxlT3B0aW9ucyB0cmFjayBieSBvcHRpb24uaWRcIlxyXG4gKiAgICAgICBuZy1tb2RlbD1cImRhdGEuc2VsZWN0ZWRPcHRpb25cIj48L3NlbGVjdD5cclxuICogICA8L2Zvcm0+XHJcbiAqICAgPGhyPlxyXG4gKiAgIDx0dD5vcHRpb24gPSB7e2RhdGEuc2VsZWN0ZWRPcHRpb259fTwvdHQ+PGJyLz5cclxuICogPC9kaXY+XHJcbiAqIDwvZmlsZT5cclxuICogPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gKiAgYW5ndWxhci5tb2R1bGUoJ2RlZmF1bHRWYWx1ZVNlbGVjdCcsIFtdKVxyXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gKiAgICAgICRzY29wZS5kYXRhID0ge1xyXG4gKiAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAqICAgICAgICAge2lkOiAnMScsIG5hbWU6ICdPcHRpb24gQSd9LFxyXG4gKiAgICAgICAgIHtpZDogJzInLCBuYW1lOiAnT3B0aW9uIEInfSxcclxuICogICAgICAgICB7aWQ6ICczJywgbmFtZTogJ09wdGlvbiBDJ31cclxuICogICAgICAgXSxcclxuICogICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzMnLCBuYW1lOiAnT3B0aW9uIEMnfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gKiAgICAgICB9O1xyXG4gKiAgIH1dKTtcclxuICogPC9maWxlPlxyXG4gKjwvZXhhbXBsZT5cclxuICpcclxuICpcclxuICogIyMjIEJpbmRpbmcgYHNlbGVjdGAgdG8gYSBub24tc3RyaW5nIHZhbHVlIHZpYSBgbmdNb2RlbGAgcGFyc2luZyAvIGZvcm1hdHRpbmdcclxuICpcclxuICogPGV4YW1wbGUgbmFtZT1cInNlbGVjdC13aXRoLW5vbi1zdHJpbmctb3B0aW9uc1wiIG1vZHVsZT1cIm5vblN0cmluZ1NlbGVjdFwiPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibW9kZWwuaWRcIiBjb252ZXJ0LXRvLW51bWJlcj5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIjBcIj5aZXJvPC9vcHRpb24+XHJcbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCIxXCI+T25lPC9vcHRpb24+XHJcbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCIyXCI+VHdvPC9vcHRpb24+XHJcbiAqICAgICA8L3NlbGVjdD5cclxuICogICAgIHt7IG1vZGVsIH19XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICogICAgIGFuZ3VsYXIubW9kdWxlKCdub25TdHJpbmdTZWxlY3QnLCBbXSlcclxuICogICAgICAgLnJ1bihmdW5jdGlvbigkcm9vdFNjb3BlKSB7XHJcbiAqICAgICAgICAgJHJvb3RTY29wZS5tb2RlbCA9IHsgaWQ6IDIgfTtcclxuICogICAgICAgfSlcclxuICogICAgICAgLmRpcmVjdGl2ZSgnY29udmVydFRvTnVtYmVyJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgICAgcmV0dXJuIHtcclxuICogICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICogICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG4gKiAgICAgICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsKSB7XHJcbiAqICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbCwgMTApO1xyXG4gKiAgICAgICAgICAgICB9KTtcclxuICogICAgICAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbCkge1xyXG4gKiAgICAgICAgICAgICAgIHJldHVybiAnJyArIHZhbDtcclxuICogICAgICAgICAgICAgfSk7XHJcbiAqICAgICAgICAgICB9XHJcbiAqICAgICAgICAgfTtcclxuICogICAgICAgfSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICogICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICB2YXIgc2VsZWN0ID0gZWxlbWVudChieS5jc3MoJ3NlbGVjdCcpKTtcclxuICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ21vZGVsLmlkJykpLiQoJ29wdGlvbjpjaGVja2VkJykuZ2V0VGV4dCgpKS50b0VxdWFsKCdUd28nKTtcclxuICogICAgIH0pO1xyXG4gKiAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKlxyXG4gKi9cclxudmFyIHNlbGVjdERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgIHJlcXVpcmU6IFsnc2VsZWN0JywgJz9uZ01vZGVsJ10sXHJcbiAgICBjb250cm9sbGVyOiBTZWxlY3RDb250cm9sbGVyLFxyXG4gICAgcHJpb3JpdHk6IDEsXHJcbiAgICBsaW5rOiB7XHJcbiAgICAgIHByZTogc2VsZWN0UHJlTGluayxcclxuICAgICAgcG9zdDogc2VsZWN0UG9zdExpbmtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBzZWxlY3RQcmVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xyXG5cclxuICAgICAgLy8gaWYgbmdNb2RlbCBpcyBub3QgZGVmaW5lZCwgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZ1xyXG4gICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcclxuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xyXG5cclxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcclxuXHJcbiAgICAgIHNlbGVjdEN0cmwubmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybDtcclxuXHJcbiAgICAgIC8vIFdoZW4gdGhlIHNlbGVjdGVkIGl0ZW0ocykgY2hhbmdlcyB3ZSBkZWxlZ2F0ZSBnZXR0aW5nIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0IGNvbnRyb2xcclxuICAgICAgLy8gdG8gdGhlIGByZWFkVmFsdWVgIG1ldGhvZCwgd2hpY2ggY2FuIGJlIGNoYW5nZWQgaWYgdGhlIHNlbGVjdCBjYW4gaGF2ZSBtdWx0aXBsZVxyXG4gICAgICAvLyBzZWxlY3RlZCB2YWx1ZXMgb3IgaWYgdGhlIG9wdGlvbnMgYXJlIGJlaW5nIGdlbmVyYXRlZCBieSBgbmdPcHRpb25zYFxyXG4gICAgICBlbGVtZW50Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGVjdEN0cmwucmVhZFZhbHVlKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIElmIHRoZSBzZWxlY3QgYWxsb3dzIG11bHRpcGxlIHZhbHVlcyB0aGVuIHdlIG5lZWQgdG8gbW9kaWZ5IGhvdyB3ZSByZWFkIGFuZCB3cml0ZVxyXG4gICAgICAvLyB2YWx1ZXMgZnJvbSBhbmQgdG8gdGhlIGNvbnRyb2w7IGFsc28gd2hhdCBpdCBtZWFucyBmb3IgdGhlIHZhbHVlIHRvIGJlIGVtcHR5IGFuZFxyXG4gICAgICAvLyB3ZSBoYXZlIHRvIGFkZCBhbiBleHRyYSB3YXRjaCBzaW5jZSBuZ01vZGVsIGRvZXNuJ3Qgd29yayB3ZWxsIHdpdGggYXJyYXlzIC0gaXRcclxuICAgICAgLy8gZG9lc24ndCB0cmlnZ2VyIHJlbmRlcmluZyBpZiBvbmx5IGFuIGl0ZW0gaW4gdGhlIGFycmF5IGNoYW5nZXMuXHJcbiAgICAgIGlmIChhdHRyLm11bHRpcGxlKSB7XHJcblxyXG4gICAgICAgIC8vIFJlYWQgdmFsdWUgbm93IG5lZWRzIHRvIGNoZWNrIGVhY2ggb3B0aW9uIHRvIHNlZSBpZiBpdCBpcyBzZWxlY3RlZFxyXG4gICAgICAgIHNlbGVjdEN0cmwucmVhZFZhbHVlID0gZnVuY3Rpb24gcmVhZE11bHRpcGxlVmFsdWUoKSB7XHJcbiAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcclxuICAgICAgICAgIGZvckVhY2goZWxlbWVudC5maW5kKCdvcHRpb24nKSwgZnVuY3Rpb24ob3B0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICBhcnJheS5wdXNoKG9wdGlvbi52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFdyaXRlIHZhbHVlIG5vdyBuZWVkcyB0byBzZXQgdGhlIHNlbGVjdGVkIHByb3BlcnR5IG9mIGVhY2ggbWF0Y2hpbmcgb3B0aW9uXHJcbiAgICAgICAgc2VsZWN0Q3RybC53cml0ZVZhbHVlID0gZnVuY3Rpb24gd3JpdGVNdWx0aXBsZVZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgICB2YXIgaXRlbXMgPSBuZXcgSGFzaE1hcCh2YWx1ZSk7XHJcbiAgICAgICAgICBmb3JFYWNoKGVsZW1lbnQuZmluZCgnb3B0aW9uJyksIGZ1bmN0aW9uKG9wdGlvbikge1xyXG4gICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpc0RlZmluZWQoaXRlbXMuZ2V0KG9wdGlvbi52YWx1ZSkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBkbyBpdCBvbiBlYWNoIHdhdGNoIHNpbmNlIG5nTW9kZWwgd2F0Y2hlcyByZWZlcmVuY2UsIGJ1dFxyXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gd29yayBvZiBhbiBhcnJheSwgc28gd2UgbmVlZCB0byBzZWUgaWYgYW55dGhpbmcgd2FzIGluc2VydGVkL3JlbW92ZWRcclxuICAgICAgICB2YXIgbGFzdFZpZXcsIGxhc3RWaWV3UmVmID0gTmFOO1xyXG4gICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBzZWxlY3RNdWx0aXBsZVdhdGNoKCkge1xyXG4gICAgICAgICAgaWYgKGxhc3RWaWV3UmVmID09PSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlICYmICFlcXVhbHMobGFzdFZpZXcsIG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGxhc3RWaWV3ID0gc2hhbGxvd0NvcHkobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxhc3RWaWV3UmVmID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSWYgd2UgYXJlIGEgbXVsdGlwbGUgc2VsZWN0IHRoZW4gdmFsdWUgaXMgbm93IGEgY29sbGVjdGlvblxyXG4gICAgICAgIC8vIHNvIHRoZSBtZWFuaW5nIG9mICRpc0VtcHR5IGNoYW5nZXNcclxuICAgICAgICBuZ01vZGVsQ3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdFBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgLy8gaWYgbmdNb2RlbCBpcyBub3QgZGVmaW5lZCwgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZ1xyXG4gICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcclxuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xyXG5cclxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcclxuXHJcbiAgICAgIC8vIFdlIGRlbGVnYXRlIHJlbmRlcmluZyB0byB0aGUgYHdyaXRlVmFsdWVgIG1ldGhvZCwgd2hpY2ggY2FuIGJlIGNoYW5nZWRcclxuICAgICAgLy8gaWYgdGhlIHNlbGVjdCBjYW4gaGF2ZSBtdWx0aXBsZSBzZWxlY3RlZCB2YWx1ZXMgb3IgaWYgdGhlIG9wdGlvbnMgYXJlIGJlaW5nXHJcbiAgICAgIC8vIGdlbmVyYXRlZCBieSBgbmdPcHRpb25zYC5cclxuICAgICAgLy8gVGhpcyBtdXN0IGJlIGRvbmUgaW4gdGhlIHBvc3RMaW5rIGZuIHRvIHByZXZlbnQgJHJlbmRlciB0byBiZSBjYWxsZWQgYmVmb3JlXHJcbiAgICAgIC8vIGFsbCBub2RlcyBoYXZlIGJlZW4gbGlua2VkIGNvcnJlY3RseS5cclxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKTtcclxuICAgICAgfTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vLyBUaGUgb3B0aW9uIGRpcmVjdGl2ZSBpcyBwdXJlbHkgZGVzaWduZWQgdG8gY29tbXVuaWNhdGUgdGhlIGV4aXN0ZW5jZSAob3IgbGFjayBvZilcclxuLy8gb2YgZHluYW1pY2FsbHkgY3JlYXRlZCAoYW5kIGRlc3Ryb3llZCkgb3B0aW9uIGVsZW1lbnRzIHRvIHRoZWlyIGNvbnRhaW5pbmcgc2VsZWN0XHJcbi8vIGRpcmVjdGl2ZSB2aWEgaXRzIGNvbnRyb2xsZXIuXHJcbnZhciBvcHRpb25EaXJlY3RpdmUgPSBbJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgcHJpb3JpdHk6IDEwMCxcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgaWYgKGlzRGVmaW5lZChhdHRyLnZhbHVlKSkge1xyXG4gICAgICAgIC8vIElmIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgZGVmaW5lZCwgY2hlY2sgaWYgaXQgY29udGFpbnMgYW4gaW50ZXJwb2xhdGlvblxyXG4gICAgICAgIHZhciBpbnRlcnBvbGF0ZVZhbHVlRm4gPSAkaW50ZXJwb2xhdGUoYXR0ci52YWx1ZSwgdHJ1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBub3QgZGVmaW5lZCB0aGVuIHdlIGZhbGwgYmFjayB0byB0aGVcclxuICAgICAgICAvLyB0ZXh0IGNvbnRlbnQgb2YgdGhlIG9wdGlvbiBlbGVtZW50LCB3aGljaCBtYXkgYmUgaW50ZXJwb2xhdGVkXHJcbiAgICAgICAgdmFyIGludGVycG9sYXRlVGV4dEZuID0gJGludGVycG9sYXRlKGVsZW1lbnQudGV4dCgpLCB0cnVlKTtcclxuICAgICAgICBpZiAoIWludGVycG9sYXRlVGV4dEZuKSB7XHJcbiAgICAgICAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgZWxlbWVudC50ZXh0KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgLy8gVGhpcyBpcyBhbiBvcHRpbWl6YXRpb24gb3ZlciB1c2luZyBeXiBzaW5jZSB3ZSBkb24ndCB3YW50IHRvIGhhdmUgdG8gc2VhcmNoXHJcbiAgICAgICAgLy8gYWxsIHRoZSB3YXkgdG8gdGhlIHJvb3Qgb2YgdGhlIERPTSBmb3IgZXZlcnkgc2luZ2xlIG9wdGlvbiBlbGVtZW50XHJcbiAgICAgICAgdmFyIHNlbGVjdEN0cmxOYW1lID0gJyRzZWxlY3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgcGFyZW50ID0gZWxlbWVudC5wYXJlbnQoKSxcclxuICAgICAgICAgICAgc2VsZWN0Q3RybCA9IHBhcmVudC5kYXRhKHNlbGVjdEN0cmxOYW1lKSB8fFxyXG4gICAgICAgICAgICAgIHBhcmVudC5wYXJlbnQoKS5kYXRhKHNlbGVjdEN0cmxOYW1lKTsgLy8gaW4gY2FzZSB3ZSBhcmUgaW4gb3B0Z3JvdXBcclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdEN0cmwpIHtcclxuICAgICAgICAgIHNlbGVjdEN0cmwucmVnaXN0ZXJPcHRpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGludGVycG9sYXRlVmFsdWVGbiwgaW50ZXJwb2xhdGVUZXh0Rm4pO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59XTtcclxuXHJcbnZhciBzdHlsZURpcmVjdGl2ZSA9IHZhbHVlRm4oe1xyXG4gIHJlc3RyaWN0OiAnRScsXHJcbiAgdGVybWluYWw6IGZhbHNlXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdSZXF1aXJlZFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogbmdSZXF1aXJlZCBhZGRzIHRoZSByZXF1aXJlZCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgdmFsaWRhdG9yYH0gdG8ge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfS5cclxuICogSXQgaXMgbW9zdCBvZnRlbiB1c2VkIGZvciB7QGxpbmsgaW5wdXQgYGlucHV0YH0gYW5kIHtAbGluayBzZWxlY3QgYHNlbGVjdGB9IGNvbnRyb2xzLCBidXQgY2FuIGFsc28gYmVcclxuICogYXBwbGllZCB0byBjdXN0b20gY29udHJvbHMuXHJcbiAqXHJcbiAqIFRoZSBkaXJlY3RpdmUgc2V0cyB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgaWYgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBpbnNpZGVcclxuICogYG5nUmVxdWlyZWRgIGV2YWx1YXRlcyB0byB0cnVlLiBBIHNwZWNpYWwgZGlyZWN0aXZlIGZvciBzZXR0aW5nIGByZXF1aXJlZGAgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2VcclxuICogY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSBgcmVxdWlyZWRgLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9XHJcbiAqIGZvciBtb3JlIGluZm8uXHJcbiAqXHJcbiAqIFRoZSB2YWxpZGF0b3Igd2lsbCBzZXQgdGhlIGByZXF1aXJlZGAgZXJyb3Iga2V5IHRvIHRydWUgaWYgdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlIGlzIHNldCBhbmRcclxuICogY2FsbGluZyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkaXNFbXB0eSBgTmdNb2RlbENvbnRyb2xsZXIuJGlzRW1wdHlgfSB3aXRoIHRoZVxyXG4gKiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlIGBuZ01vZGVsLiR2aWV3VmFsdWVgfSByZXR1cm5zIGB0cnVlYC4gRm9yIGV4YW1wbGUsIHRoZVxyXG4gKiBgJGlzRW1wdHkoKWAgaW1wbGVtZW50YXRpb24gZm9yIGBpbnB1dFt0ZXh0XWAgY2hlY2tzIHRoZSBsZW5ndGggb2YgdGhlIGAkdmlld1ZhbHVlYC4gV2hlbiBkZXZlbG9waW5nXHJcbiAqIGN1c3RvbSBjb250cm9scywgYCRpc0VtcHR5KClgIGNhbiBiZSBvdmVyd3JpdHRlbiB0byBhY2NvdW50IGZvciBhICR2aWV3VmFsdWUgdGhhdCBpcyBub3Qgc3RyaW5nLWJhc2VkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdSZXF1aXJlZERpcmVjdGl2ZVwiIG1vZHVsZT1cIm5nUmVxdWlyZWRFeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgIDxzY3JpcHQ+XHJcbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1JlcXVpcmVkRXhhbXBsZScsIFtdKVxyXG4gKiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgICAgICAkc2NvcGUucmVxdWlyZWQgPSB0cnVlO1xyXG4gKiAgICAgICAgIH1dKTtcclxuICogICAgIDwvc2NyaXB0PlxyXG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICAgPGZvcm0gbmFtZT1cImZvcm1cIj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwicmVxdWlyZWRcIj5Ub2dnbGUgcmVxdWlyZWQ6IDwvbGFiZWw+XHJcbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwicmVxdWlyZWRcIiBpZD1cInJlcXVpcmVkXCIgLz5cclxuICogICAgICAgICA8YnI+XHJcbiAqICAgICAgICAgPGxhYmVsIGZvcj1cImlucHV0XCI+VGhpcyBpbnB1dCBtdXN0IGJlIGZpbGxlZCBpZiBgcmVxdWlyZWRgIGlzIHRydWU6IDwvbGFiZWw+XHJcbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1yZXF1aXJlZD1cInJlcXVpcmVkXCIgLz48YnI+XHJcbiAqICAgICAgICAgPGhyPlxyXG4gKiAgICAgICAgIHJlcXVpcmVkIGVycm9yIHNldD8gPSA8Y29kZT57e2Zvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkfX08L2NvZGU+PGJyPlxyXG4gKiAgICAgICAgIG1vZGVsID0gPGNvZGU+e3ttb2RlbH19PC9jb2RlPlxyXG4gKiAgICAgICA8L2Zvcm0+XHJcbiAqICAgICA8L2Rpdj5cclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgdmFyIHJlcXVpcmVkID0gZWxlbWVudChieS5iaW5kaW5nKCdmb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZCcpKTtcclxuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XHJcbiAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5LmlkKCdpbnB1dCcpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHNldCB0aGUgcmVxdWlyZWQgZXJyb3InLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KHJlcXVpcmVkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcblxyXG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XHJcbiAgICAgICAgIGV4cGVjdChyZXF1aXJlZC5nZXRUZXh0KCkpLm5vdC50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9Db250YWluKCcxMjMnKTtcclxuICAgICAgIH0pO1xyXG4gKiAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIHJlcXVpcmVkRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xyXG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcclxuICAgICAgYXR0ci5yZXF1aXJlZCA9IHRydWU7IC8vIGZvcmNlIHRydXRoeSBpbiBjYXNlIHdlIGFyZSBvbiBub24gaW5wdXQgZWxlbWVudFxyXG5cclxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5yZXF1aXJlZCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAhYXR0ci5yZXF1aXJlZCB8fCAhY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXR0ci4kb2JzZXJ2ZSgncmVxdWlyZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdQYXR0ZXJuXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBuZ1BhdHRlcm4gYWRkcyB0aGUgcGF0dGVybiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgdmFsaWRhdG9yYH0gdG8ge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfS5cclxuICogSXQgaXMgbW9zdCBvZnRlbiB1c2VkIGZvciB0ZXh0LWJhc2VkIHtAbGluayBpbnB1dCBgaW5wdXRgfSBjb250cm9scywgYnV0IGNhbiBhbHNvIGJlIGFwcGxpZWQgdG8gY3VzdG9tIHRleHQtYmFzZWQgY29udHJvbHMuXHJcbiAqXHJcbiAqIFRoZSB2YWxpZGF0b3Igc2V0cyB0aGUgYHBhdHRlcm5gIGVycm9yIGtleSBpZiB0aGUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSBgbmdNb2RlbC4kdmlld1ZhbHVlYH1cclxuICogZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgd2hpY2ggaXMgb2J0YWluZWQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZVxyXG4gKiBgbmdQYXR0ZXJuYCBhdHRyaWJ1dGUgdmFsdWU6XHJcbiAqICogSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXHJcbiAqICogSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwIGFmdGVyIHdyYXBwaW5nIGl0XHJcbiAqIGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICogKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cclxuICogc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cclxuICogYWNjb3VudC5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAqICoqTm90ZToqKiBUaGlzIGRpcmVjdGl2ZSBpcyBhbHNvIGFkZGVkIHdoZW4gdGhlIHBsYWluIGBwYXR0ZXJuYCBhdHRyaWJ1dGUgaXMgdXNlZCwgd2l0aCB0d29cclxuICogZGlmZmVyZW5jZXM6XHJcbiAqIDxvbD5cclxuICogICA8bGk+XHJcbiAqICAgICBgbmdQYXR0ZXJuYCBkb2VzIG5vdCBzZXQgdGhlIGBwYXR0ZXJuYCBhdHRyaWJ1dGUgYW5kIHRoZXJlZm9yZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24gaXNcclxuICogICAgIG5vdCBhdmFpbGFibGUuXHJcbiAqICAgPC9saT5cclxuICogICA8bGk+XHJcbiAqICAgICBUaGUgYG5nUGF0dGVybmAgYXR0cmlidXRlIG11c3QgYmUgYW4gZXhwcmVzc2lvbiwgd2hpbGUgdGhlIGBwYXR0ZXJuYCB2YWx1ZSBtdXN0IGJlXHJcbiAqICAgICBpbnRlcnBvbGF0ZWQuXHJcbiAqICAgPC9saT5cclxuICogPC9vbD5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ1BhdHRlcm5EaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ1BhdHRlcm5FeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgIDxzY3JpcHQ+XHJcbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1BhdHRlcm5FeGFtcGxlJywgW10pXHJcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAgICAgICRzY29wZS5yZWdleCA9ICdcXFxcZCsnO1xyXG4gKiAgICAgICAgIH1dKTtcclxuICogICAgIDwvc2NyaXB0PlxyXG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICAgPGZvcm0gbmFtZT1cImZvcm1cIj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwicmVnZXhcIj5TZXQgYSBwYXR0ZXJuIChyZWdleCBzdHJpbmcpOiA8L2xhYmVsPlxyXG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicmVnZXhcIiBpZD1cInJlZ2V4XCIgLz5cclxuICogICAgICAgICA8YnI+XHJcbiAqICAgICAgICAgPGxhYmVsIGZvcj1cImlucHV0XCI+VGhpcyBpbnB1dCBpcyByZXN0cmljdGVkIGJ5IHRoZSBjdXJyZW50IHBhdHRlcm46IDwvbGFiZWw+XHJcbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1wYXR0ZXJuPVwicmVnZXhcIiAvPjxicj5cclxuICogICAgICAgICA8aHI+XHJcbiAqICAgICAgICAgaW5wdXQgdmFsaWQ/ID0gPGNvZGU+e3tmb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cclxuICogICAgICAgICBtb2RlbCA9IDxjb2RlPnt7bW9kZWx9fTwvY29kZT5cclxuICogICAgICAgPC9mb3JtPlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XHJcbiAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5LmlkKCdpbnB1dCcpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHRoZSBpbnB1dCB3aXRoIHRoZSBkZWZhdWx0IHBhdHRlcm4nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FhYScpO1xyXG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCdhYWEnKTtcclxuXHJcbiAgICAgICAgIGlucHV0LmNsZWFyKCkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9Db250YWluKCcxMjMnKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBwYXR0ZXJuRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xyXG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcclxuXHJcbiAgICAgIHZhciByZWdleHAsIHBhdHRlcm5FeHAgPSBhdHRyLm5nUGF0dGVybiB8fCBhdHRyLnBhdHRlcm47XHJcbiAgICAgIGF0dHIuJG9ic2VydmUoJ3BhdHRlcm4nLCBmdW5jdGlvbihyZWdleCkge1xyXG4gICAgICAgIGlmIChpc1N0cmluZyhyZWdleCkgJiYgcmVnZXgubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4ICsgJyQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZWdleCAmJiAhcmVnZXgudGVzdCkge1xyXG4gICAgICAgICAgdGhyb3cgbWluRXJyKCduZ1BhdHRlcm4nKSgnbm9yZWdleHAnLFxyXG4gICAgICAgICAgICAnRXhwZWN0ZWQgezB9IHRvIGJlIGEgUmVnRXhwIGJ1dCB3YXMgezF9LiBFbGVtZW50OiB7Mn0nLCBwYXR0ZXJuRXhwLFxyXG4gICAgICAgICAgICByZWdleCwgc3RhcnRpbmdUYWcoZWxtKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZWdleHAgPSByZWdleCB8fCB1bmRlZmluZWQ7XHJcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLnBhdHRlcm4gPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgICAgICAvLyBIVE1MNSBwYXR0ZXJuIGNvbnN0cmFpbnQgdmFsaWRhdGVzIHRoZSBpbnB1dCB2YWx1ZSwgc28gd2UgdmFsaWRhdGUgdGhlIHZpZXdWYWx1ZVxyXG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgaXNVbmRlZmluZWQocmVnZXhwKSB8fCByZWdleHAudGVzdCh2aWV3VmFsdWUpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ01heGxlbmd0aFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogbmdNYXhsZW5ndGggYWRkcyB0aGUgbWF4bGVuZ3RoIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxyXG4gKiBJdCBpcyBtb3N0IG9mdGVuIHVzZWQgZm9yIHRleHQtYmFzZWQge0BsaW5rIGlucHV0IGBpbnB1dGB9IGNvbnRyb2xzLCBidXQgY2FuIGFsc28gYmUgYXBwbGllZCB0byBjdXN0b20gdGV4dC1iYXNlZCBjb250cm9scy5cclxuICpcclxuICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgbWF4bGVuZ3RoYCBlcnJvciBrZXkgaWYgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9XHJcbiAqIGlzIGxvbmdlciB0aGFuIHRoZSBpbnRlZ2VyIG9idGFpbmVkIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGVcclxuICogYG5nTWF4bGVuZ3RoYCBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAqICoqTm90ZToqKiBUaGlzIGRpcmVjdGl2ZSBpcyBhbHNvIGFkZGVkIHdoZW4gdGhlIHBsYWluIGBtYXhsZW5ndGhgIGF0dHJpYnV0ZSBpcyB1c2VkLCB3aXRoIHR3b1xyXG4gKiBkaWZmZXJlbmNlczpcclxuICogPG9sPlxyXG4gKiAgIDxsaT5cclxuICogICAgIGBuZ01heGxlbmd0aGAgZG9lcyBub3Qgc2V0IHRoZSBgbWF4bGVuZ3RoYCBhdHRyaWJ1dGUgYW5kIHRoZXJlZm9yZSBIVE1MNSBjb25zdHJhaW50XHJcbiAqICAgICB2YWxpZGF0aW9uIGlzIG5vdCBhdmFpbGFibGUuXHJcbiAqICAgPC9saT5cclxuICogICA8bGk+XHJcbiAqICAgICBUaGUgYG5nTWF4bGVuZ3RoYCBhdHRyaWJ1dGUgbXVzdCBiZSBhbiBleHByZXNzaW9uLCB3aGlsZSB0aGUgYG1heGxlbmd0aGAgdmFsdWUgbXVzdCBiZVxyXG4gKiAgICAgaW50ZXJwb2xhdGVkLlxyXG4gKiAgIDwvbGk+XHJcbiAqIDwvb2w+XHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNYXhsZW5ndGhEaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ01heGxlbmd0aEV4YW1wbGVcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICAgPHNjcmlwdD5cclxuICogICAgICAgYW5ndWxhci5tb2R1bGUoJ25nTWF4bGVuZ3RoRXhhbXBsZScsIFtdKVxyXG4gKiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgICAgICAkc2NvcGUubWF4bGVuZ3RoID0gNTtcclxuICogICAgICAgICB9XSk7XHJcbiAqICAgICA8L3NjcmlwdD5cclxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgICAgIDxmb3JtIG5hbWU9XCJmb3JtXCI+XHJcbiAqICAgICAgICAgPGxhYmVsIGZvcj1cIm1heGxlbmd0aFwiPlNldCBhIG1heGxlbmd0aDogPC9sYWJlbD5cclxuICogICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWF4bGVuZ3RoXCIgaWQ9XCJtYXhsZW5ndGhcIiAvPlxyXG4gKiAgICAgICAgIDxicj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IGlzIHJlc3RyaWN0ZWQgYnkgdGhlIGN1cnJlbnQgbWF4bGVuZ3RoOiA8L2xhYmVsPlxyXG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibW9kZWxcIiBpZD1cImlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbWF4bGVuZ3RoPVwibWF4bGVuZ3RoXCIgLz48YnI+XHJcbiAqICAgICAgICAgPGhyPlxyXG4gKiAgICAgICAgIGlucHV0IHZhbGlkPyA9IDxjb2RlPnt7Zm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnI+XHJcbiAqICAgICAgICAgbW9kZWwgPSA8Y29kZT57e21vZGVsfX08L2NvZGU+XHJcbiAqICAgICAgIDwvZm9ybT5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICB2YXIgbW9kZWwgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ21vZGVsJykpO1xyXG4gICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5pZCgnaW5wdXQnKSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0aGUgaW5wdXQgd2l0aCB0aGUgZGVmYXVsdCBtYXhsZW5ndGgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FiY2RlZicpO1xyXG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCdhYmNkZWYnKTtcclxuXHJcbiAgICAgICAgIGlucHV0LmNsZWFyKCkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWJjZGUnKTtcclxuICAgICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2FiY2RlJyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgfSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbWF4bGVuZ3RoRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xyXG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcclxuXHJcbiAgICAgIHZhciBtYXhsZW5ndGggPSAtMTtcclxuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWF4bGVuZ3RoJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICB2YXIgaW50VmFsID0gdG9JbnQodmFsdWUpO1xyXG4gICAgICAgIG1heGxlbmd0aCA9IGlzTmFOKGludFZhbCkgPyAtMSA6IGludFZhbDtcclxuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXhsZW5ndGggPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gKG1heGxlbmd0aCA8IDApIHx8IGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCAodmlld1ZhbHVlLmxlbmd0aCA8PSBtYXhsZW5ndGgpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ01pbmxlbmd0aFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogbmdNaW5sZW5ndGggYWRkcyB0aGUgbWlubGVuZ3RoIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxyXG4gKiBJdCBpcyBtb3N0IG9mdGVuIHVzZWQgZm9yIHRleHQtYmFzZWQge0BsaW5rIGlucHV0IGBpbnB1dGB9IGNvbnRyb2xzLCBidXQgY2FuIGFsc28gYmUgYXBwbGllZCB0byBjdXN0b20gdGV4dC1iYXNlZCBjb250cm9scy5cclxuICpcclxuICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgbWlubGVuZ3RoYCBlcnJvciBrZXkgaWYgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9XHJcbiAqIGlzIHNob3J0ZXIgdGhhbiB0aGUgaW50ZWdlciBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlXHJcbiAqIGBuZ01pbmxlbmd0aGAgYXR0cmlidXRlIHZhbHVlLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gKiAqKk5vdGU6KiogVGhpcyBkaXJlY3RpdmUgaXMgYWxzbyBhZGRlZCB3aGVuIHRoZSBwbGFpbiBgbWlubGVuZ3RoYCBhdHRyaWJ1dGUgaXMgdXNlZCwgd2l0aCB0d29cclxuICogZGlmZmVyZW5jZXM6XHJcbiAqIDxvbD5cclxuICogICA8bGk+XHJcbiAqICAgICBgbmdNaW5sZW5ndGhgIGRvZXMgbm90IHNldCB0aGUgYG1pbmxlbmd0aGAgYXR0cmlidXRlIGFuZCB0aGVyZWZvcmUgSFRNTDUgY29uc3RyYWludFxyXG4gKiAgICAgdmFsaWRhdGlvbiBpcyBub3QgYXZhaWxhYmxlLlxyXG4gKiAgIDwvbGk+XHJcbiAqICAgPGxpPlxyXG4gKiAgICAgVGhlIGBuZ01pbmxlbmd0aGAgdmFsdWUgbXVzdCBiZSBhbiBleHByZXNzaW9uLCB3aGlsZSB0aGUgYG1pbmxlbmd0aGAgdmFsdWUgbXVzdCBiZVxyXG4gKiAgICAgaW50ZXJwb2xhdGVkLlxyXG4gKiAgIDwvbGk+XHJcbiAqIDwvb2w+XHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNaW5sZW5ndGhEaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ01pbmxlbmd0aEV4YW1wbGVcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICAgPHNjcmlwdD5cclxuICogICAgICAgYW5ndWxhci5tb2R1bGUoJ25nTWlubGVuZ3RoRXhhbXBsZScsIFtdKVxyXG4gKiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgICAgICAkc2NvcGUubWlubGVuZ3RoID0gMztcclxuICogICAgICAgICB9XSk7XHJcbiAqICAgICA8L3NjcmlwdD5cclxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgICAgIDxmb3JtIG5hbWU9XCJmb3JtXCI+XHJcbiAqICAgICAgICAgPGxhYmVsIGZvcj1cIm1pbmxlbmd0aFwiPlNldCBhIG1pbmxlbmd0aDogPC9sYWJlbD5cclxuICogICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWlubGVuZ3RoXCIgaWQ9XCJtaW5sZW5ndGhcIiAvPlxyXG4gKiAgICAgICAgIDxicj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IGlzIHJlc3RyaWN0ZWQgYnkgdGhlIGN1cnJlbnQgbWlubGVuZ3RoOiA8L2xhYmVsPlxyXG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibW9kZWxcIiBpZD1cImlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbWlubGVuZ3RoPVwibWlubGVuZ3RoXCIgLz48YnI+XHJcbiAqICAgICAgICAgPGhyPlxyXG4gKiAgICAgICAgIGlucHV0IHZhbGlkPyA9IDxjb2RlPnt7Zm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnI+XHJcbiAqICAgICAgICAgbW9kZWwgPSA8Y29kZT57e21vZGVsfX08L2NvZGU+XHJcbiAqICAgICAgIDwvZm9ybT5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICB2YXIgbW9kZWwgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ21vZGVsJykpO1xyXG4gICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5pZCgnaW5wdXQnKSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0aGUgaW5wdXQgd2l0aCB0aGUgZGVmYXVsdCBtaW5sZW5ndGgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FiJyk7XHJcbiAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLm5vdC50b0NvbnRhaW4oJ2FiJyk7XHJcblxyXG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWJjJyk7XHJcbiAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvQ29udGFpbignYWJjJyk7XHJcbiAgICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBtaW5sZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XHJcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xyXG5cclxuICAgICAgdmFyIG1pbmxlbmd0aCA9IDA7XHJcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21pbmxlbmd0aCcsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgbWlubGVuZ3RoID0gdG9JbnQodmFsdWUpIHx8IDA7XHJcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWlubGVuZ3RoID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCB2aWV3VmFsdWUubGVuZ3RoID49IG1pbmxlbmd0aDtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5cclxuaWYgKHdpbmRvdy5hbmd1bGFyLmJvb3RzdHJhcCkge1xyXG4gIC8vQW5ndWxhckpTIGlzIGFscmVhZHkgbG9hZGVkLCBzbyB3ZSBjYW4gcmV0dXJuIGhlcmUuLi5cclxuICBpZiAod2luZG93LmNvbnNvbGUpIHtcclxuICAgIGNvbnNvbGUubG9nKCdXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuJyk7XHJcbiAgfVxyXG4gIHJldHVybjtcclxufVxyXG5cclxuLy90cnkgdG8gYmluZCB0byBqcXVlcnkgbm93IHNvIHRoYXQgb25lIGNhbiB3cml0ZSBqcUxpdGUoZG9jdW1lbnQpLnJlYWR5KClcclxuLy9idXQgd2Ugd2lsbCByZWJpbmQgb24gYm9vdHN0cmFwIGFnYWluLlxyXG5iaW5kSlF1ZXJ5KCk7XHJcblxyXG5wdWJsaXNoRXh0ZXJuYWxBUEkoYW5ndWxhcik7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcIm5nTG9jYWxlXCIsIFtdLCBbXCIkcHJvdmlkZVwiLCBmdW5jdGlvbigkcHJvdmlkZSkge1xyXG52YXIgUExVUkFMX0NBVEVHT1JZID0ge1pFUk86IFwiemVyb1wiLCBPTkU6IFwib25lXCIsIFRXTzogXCJ0d29cIiwgRkVXOiBcImZld1wiLCBNQU5ZOiBcIm1hbnlcIiwgT1RIRVI6IFwib3RoZXJcIn07XHJcbmZ1bmN0aW9uIGdldERlY2ltYWxzKG4pIHtcclxuICBuID0gbiArICcnO1xyXG4gIHZhciBpID0gbi5pbmRleE9mKCcuJyk7XHJcbiAgcmV0dXJuIChpID09IC0xKSA/IDAgOiBuLmxlbmd0aCAtIGkgLSAxO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRWRihuLCBvcHRfcHJlY2lzaW9uKSB7XHJcbiAgdmFyIHYgPSBvcHRfcHJlY2lzaW9uO1xyXG5cclxuICBpZiAodW5kZWZpbmVkID09PSB2KSB7XHJcbiAgICB2ID0gTWF0aC5taW4oZ2V0RGVjaW1hbHMobiksIDMpO1xyXG4gIH1cclxuXHJcbiAgdmFyIGJhc2UgPSBNYXRoLnBvdygxMCwgdik7XHJcbiAgdmFyIGYgPSAoKG4gKiBiYXNlKSB8IDApICUgYmFzZTtcclxuICByZXR1cm4ge3Y6IHYsIGY6IGZ9O1xyXG59XHJcblxyXG4kcHJvdmlkZS52YWx1ZShcIiRsb2NhbGVcIiwge1xyXG4gIFwiREFURVRJTUVfRk9STUFUU1wiOiB7XHJcbiAgICBcIkFNUE1TXCI6IFtcclxuICAgICAgXCJBTVwiLFxyXG4gICAgICBcIlBNXCJcclxuICAgIF0sXHJcbiAgICBcIkRBWVwiOiBbXHJcbiAgICAgIFwiU3VuZGF5XCIsXHJcbiAgICAgIFwiTW9uZGF5XCIsXHJcbiAgICAgIFwiVHVlc2RheVwiLFxyXG4gICAgICBcIldlZG5lc2RheVwiLFxyXG4gICAgICBcIlRodXJzZGF5XCIsXHJcbiAgICAgIFwiRnJpZGF5XCIsXHJcbiAgICAgIFwiU2F0dXJkYXlcIlxyXG4gICAgXSxcclxuICAgIFwiRVJBTkFNRVNcIjogW1xyXG4gICAgICBcIkJlZm9yZSBDaHJpc3RcIixcclxuICAgICAgXCJBbm5vIERvbWluaVwiXHJcbiAgICBdLFxyXG4gICAgXCJFUkFTXCI6IFtcclxuICAgICAgXCJCQ1wiLFxyXG4gICAgICBcIkFEXCJcclxuICAgIF0sXHJcbiAgICBcIkZJUlNUREFZT0ZXRUVLXCI6IDYsXHJcbiAgICBcIk1PTlRIXCI6IFtcclxuICAgICAgXCJKYW51YXJ5XCIsXHJcbiAgICAgIFwiRmVicnVhcnlcIixcclxuICAgICAgXCJNYXJjaFwiLFxyXG4gICAgICBcIkFwcmlsXCIsXHJcbiAgICAgIFwiTWF5XCIsXHJcbiAgICAgIFwiSnVuZVwiLFxyXG4gICAgICBcIkp1bHlcIixcclxuICAgICAgXCJBdWd1c3RcIixcclxuICAgICAgXCJTZXB0ZW1iZXJcIixcclxuICAgICAgXCJPY3RvYmVyXCIsXHJcbiAgICAgIFwiTm92ZW1iZXJcIixcclxuICAgICAgXCJEZWNlbWJlclwiXHJcbiAgICBdLFxyXG4gICAgXCJTSE9SVERBWVwiOiBbXHJcbiAgICAgIFwiU3VuXCIsXHJcbiAgICAgIFwiTW9uXCIsXHJcbiAgICAgIFwiVHVlXCIsXHJcbiAgICAgIFwiV2VkXCIsXHJcbiAgICAgIFwiVGh1XCIsXHJcbiAgICAgIFwiRnJpXCIsXHJcbiAgICAgIFwiU2F0XCJcclxuICAgIF0sXHJcbiAgICBcIlNIT1JUTU9OVEhcIjogW1xyXG4gICAgICBcIkphblwiLFxyXG4gICAgICBcIkZlYlwiLFxyXG4gICAgICBcIk1hclwiLFxyXG4gICAgICBcIkFwclwiLFxyXG4gICAgICBcIk1heVwiLFxyXG4gICAgICBcIkp1blwiLFxyXG4gICAgICBcIkp1bFwiLFxyXG4gICAgICBcIkF1Z1wiLFxyXG4gICAgICBcIlNlcFwiLFxyXG4gICAgICBcIk9jdFwiLFxyXG4gICAgICBcIk5vdlwiLFxyXG4gICAgICBcIkRlY1wiXHJcbiAgICBdLFxyXG4gICAgXCJTVEFOREFMT05FTU9OVEhcIjogW1xyXG4gICAgICBcIkphbnVhcnlcIixcclxuICAgICAgXCJGZWJydWFyeVwiLFxyXG4gICAgICBcIk1hcmNoXCIsXHJcbiAgICAgIFwiQXByaWxcIixcclxuICAgICAgXCJNYXlcIixcclxuICAgICAgXCJKdW5lXCIsXHJcbiAgICAgIFwiSnVseVwiLFxyXG4gICAgICBcIkF1Z3VzdFwiLFxyXG4gICAgICBcIlNlcHRlbWJlclwiLFxyXG4gICAgICBcIk9jdG9iZXJcIixcclxuICAgICAgXCJOb3ZlbWJlclwiLFxyXG4gICAgICBcIkRlY2VtYmVyXCJcclxuICAgIF0sXHJcbiAgICBcIldFRUtFTkRSQU5HRVwiOiBbXHJcbiAgICAgIDUsXHJcbiAgICAgIDZcclxuICAgIF0sXHJcbiAgICBcImZ1bGxEYXRlXCI6IFwiRUVFRSwgTU1NTSBkLCB5XCIsXHJcbiAgICBcImxvbmdEYXRlXCI6IFwiTU1NTSBkLCB5XCIsXHJcbiAgICBcIm1lZGl1bVwiOiBcIk1NTSBkLCB5IGg6bW06c3MgYVwiLFxyXG4gICAgXCJtZWRpdW1EYXRlXCI6IFwiTU1NIGQsIHlcIixcclxuICAgIFwibWVkaXVtVGltZVwiOiBcImg6bW06c3MgYVwiLFxyXG4gICAgXCJzaG9ydFwiOiBcIk0vZC95eSBoOm1tIGFcIixcclxuICAgIFwic2hvcnREYXRlXCI6IFwiTS9kL3l5XCIsXHJcbiAgICBcInNob3J0VGltZVwiOiBcImg6bW0gYVwiXHJcbiAgfSxcclxuICBcIk5VTUJFUl9GT1JNQVRTXCI6IHtcclxuICAgIFwiQ1VSUkVOQ1lfU1lNXCI6IFwiJFwiLFxyXG4gICAgXCJERUNJTUFMX1NFUFwiOiBcIi5cIixcclxuICAgIFwiR1JPVVBfU0VQXCI6IFwiLFwiLFxyXG4gICAgXCJQQVRURVJOU1wiOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBcImdTaXplXCI6IDMsXHJcbiAgICAgICAgXCJsZ1NpemVcIjogMyxcclxuICAgICAgICBcIm1heEZyYWNcIjogMyxcclxuICAgICAgICBcIm1pbkZyYWNcIjogMCxcclxuICAgICAgICBcIm1pbkludFwiOiAxLFxyXG4gICAgICAgIFwibmVnUHJlXCI6IFwiLVwiLFxyXG4gICAgICAgIFwibmVnU3VmXCI6IFwiXCIsXHJcbiAgICAgICAgXCJwb3NQcmVcIjogXCJcIixcclxuICAgICAgICBcInBvc1N1ZlwiOiBcIlwiXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBcImdTaXplXCI6IDMsXHJcbiAgICAgICAgXCJsZ1NpemVcIjogMyxcclxuICAgICAgICBcIm1heEZyYWNcIjogMixcclxuICAgICAgICBcIm1pbkZyYWNcIjogMixcclxuICAgICAgICBcIm1pbkludFwiOiAxLFxyXG4gICAgICAgIFwibmVnUHJlXCI6IFwiLVxcdTAwYTRcIixcclxuICAgICAgICBcIm5lZ1N1ZlwiOiBcIlwiLFxyXG4gICAgICAgIFwicG9zUHJlXCI6IFwiXFx1MDBhNFwiLFxyXG4gICAgICAgIFwicG9zU3VmXCI6IFwiXCJcclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH0sXHJcbiAgXCJpZFwiOiBcImVuLXVzXCIsXHJcbiAgXCJsb2NhbGVJRFwiOiBcImVuX1VTXCIsXHJcbiAgXCJwbHVyYWxDYXRcIjogZnVuY3Rpb24obiwgb3B0X3ByZWNpc2lvbikgeyAgdmFyIGkgPSBuIHwgMDsgIHZhciB2ZiA9IGdldFZGKG4sIG9wdF9wcmVjaXNpb24pOyAgaWYgKGkgPT0gMSAmJiB2Zi52ID09IDApIHsgICAgcmV0dXJuIFBMVVJBTF9DQVRFR09SWS5PTkU7ICB9ICByZXR1cm4gUExVUkFMX0NBVEVHT1JZLk9USEVSO31cclxufSk7XHJcbn1dKTtcclxuXHJcbiAganFMaXRlKHdpbmRvdy5kb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICBhbmd1bGFySW5pdCh3aW5kb3cuZG9jdW1lbnQsIGJvb3RzdHJhcCk7XHJcbiAgfSk7XHJcblxyXG59KSh3aW5kb3cpO1xyXG5cclxuIXdpbmRvdy5hbmd1bGFyLiQkY3NwKCkubm9JbmxpbmVTdHlsZSAmJiB3aW5kb3cuYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmhlYWQpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5AY2hhcnNldCBcIlVURi04XCI7W25nXFxcXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sW3gtbmctY2xvYWtdLC5uZy1jbG9haywueC1uZy1jbG9haywubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSl7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fW5nXFxcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fS5uZy1hbmltYXRlLXNoaW17dmlzaWJpbGl0eTpoaWRkZW47fS5uZy1hbmNob3J7cG9zaXRpb246YWJzb2x1dGU7fTwvc3R5bGU+Jyk7XG4ndXNlIHN0cmljdCc7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcImNocm9tZVN0b3JhZ2VcIixbXSlcclxuXHQuZmFjdG9yeSgnY2hyb21lU3RvcmFnZScsIGZ1bmN0aW9uKCRxKSB7XHJcblx0dmFyIGFyZWEgPSBudWxsO1xyXG5cdHRyeSB7XHJcblx0XHRhcmVhID0gY2hyb21lLnN0b3JhZ2UubG9jYWw7IC8vIGNoYW5nZSB0aGlzIHRvIGNocm9tZS5zdG9yYWdlLnN5bmMgZm9yIHN5bmMgY2FwYWJpbGl0aWVzXHJcblx0fSBjYXRjaCAoZXJyKSB7XHJcblx0XHRjb25zb2xlLmxvZyhcImNvdWxkIG5vdCBpbml0aWF0ZSBjaHJvbWUgbG9jYWwgc3RvcmFnZTogXCIgKyBlcnIpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVGhlc2UgYXJlIHByb3ZpZGVkIGFuZCB1cGRhdGVkIG9ubHkgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cclxuXHQgKi9cclxuXHR2YXIgdG90YWxCeXRlcyA9IG51bGw7XHJcblx0dmFyIGNhY2hlID0ge307XHJcblxyXG5cdC8qKlxyXG5cdCAqIEEgY2FsbCB0byBnZXQgdGhlIGJ5dGVzIGluIHVzZSwgcmV0dXJucyBhIHByb21pc2Ugb2YgdGhlIHNpemUgb2YgYW4gaW5kaXZpZHVhbCBrZXksIG9yXHJcblx0ICogb2YgdG90YWwgYnl0ZXMgaW4gdXNlLCBpZiBubyBrZXkgaXMgc3BlY2lmaWVkLlxyXG5cdCAqL1xyXG5cdHZhciBnZXRCeXRlc0luVXNlID0gZnVuY3Rpb24gKGtleXMpe1xyXG5cdCAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cclxuXHQgICAgYXJlYS5nZXRCeXRlc0luVXNlKGtleXMsIGZ1bmN0aW9uKGJ5dGVzSW5Vc2UpIHtcclxuXHQgICAgICAgIGlmIChjaHJvbWUucnVudGltZS5sYXN0ZXJyb3Ipe1xyXG5cdCAgICAgICAgXHRjb25zb2xlLmxvZyhcImVycm9yIHJldHJpZXZpbmcgYnl0ZXMgaW4gdXNlIGZvciBrZXlzIFwiICsga2V5cyk7XHJcblx0ICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGNocm9tZS5ydW50aW1lLmxhc3RlcnJvci5tZXNzYWdlKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgXHRjb25zb2xlLmxvZyhcInJldHJpZXZlZCBieXRlcyBpbiB1c2UgZm9yIGtleXMgXCIgKyBrZXlzICsgXCI6IFwiICsgYnl0ZXNJblVzZSk7XHJcblx0ICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShieXRlc0luVXNlKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfSk7XHJcblxyXG5cdCAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHR9XHJcblxyXG4gICByZXR1cm4ge1xyXG4gICBcdGdldERlYnVnZ2luZ1RvdGFsQnl0ZXNJblVzZTogZnVuY3Rpb24oKSB7XHJcbiAgIFx0XHRyZXR1cm4gdG90YWxCeXRlcztcclxuICAgXHR9LFxyXG5cdGdldERlYnVnZ2luZ0NhY2hlOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBjYWNoZTtcclxuXHR9LFxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgdGhlIHVzYWdlIG9mIHRoZSBjdXJyZW50IHN0b3JhZ2UgcXVvdGEsIGFzIGEgbnVtYmVyIGJldHdlZW4gMC4wIGFuZCAxLjBcclxuXHQgKi9cclxuXHRnZXREZWJ1Z2dpbmdQZXJjZW50VXNlZDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgcGVyY2VudCA9IHRvdGFsQnl0ZXMgLyBhcmVhLlFVT1RBX0JZVEVTO1xyXG5cdFx0cmV0dXJuIHBlcmNlbnQ7XHJcblx0fSxcclxuXHRnZXREZWJ1Z2dpbmdTaXplT2Y6IGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0cmV0dXJuIGFuZ3VsYXIudG9Kc29uKGNhY2hlW2tleV0pLmxlbmd0aDtcclxuXHR9LFxyXG5cdHVwZGF0ZURlYnVnZ2luZ0NhY2hlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblx0XHRhcmVhLmdldChudWxsLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdFx0aWYgKGNocm9tZS5ydW50aW1lLmxhc3RlcnJvcil7XHJcblx0ICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGNocm9tZS5ydW50aW1lLmxhc3RlcnJvci5tZXNzYWdlKTtcclxuXHQgICAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICAgIC8vY29uc29sZS5sb2coJ2dldCB0aGVuIGZvciBhbGwga2V5cyA6ICcgKyBhbmd1bGFyLnRvSnNvbih2YWx1ZSkpO1xyXG4gIFx0ICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodmFsdWUpO1xyXG4gIFx0ICAgICAgICB9XHJcblx0XHR9KTtcclxuXHRcdGRlZmVycmVkLnByb21pc2UudGhlbiAoZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0Y2FjaGUgPSBkYXRhO1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHR1cGRhdGVEZWJ1Z2dpbmdUb3RhbEJ5dGVzOiBmdW5jdGlvbigpIHtcclxuXHRcdGdldEJ5dGVzSW5Vc2UobnVsbCkudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwidG90YWwgYnl0ZXMgaW4gdXNlOiBcIiArIGRhdGEpO1xyXG5cdFx0XHR0b3RhbEJ5dGVzID0gZGF0YTtcclxuXHRcdH0pO1xyXG5cdH0sXHJcbiAgICBjbGVhckNhY2hlOiBmdW5jdGlvbigpIHtcclxuXHRcdC8vIGNvbnNvbGUubG9nKCdjbGVhcmluZyBsb2NhbCBjYWNoZScpO1xyXG5cdFx0YXJlYS5jbGVhcihmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcikge1xyXG5cdFx0ICAgICAgICBjb25zb2xlLmVycm9yKFwiZXJyb3IgY2xlYXJpbmcgbG9jYWwgY2FjaGVcIiArIGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcik7XHJcblx0XHQgICAgfSBlbHNlIHtcclxuXHQgICAgXHRcdGNvbnNvbGUubG9nKFwiY2FjaGUgaGFzIGJlZW4gY2xlYXJlZFwiKTtcclxuXHQgICAgXHR9XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cdGRyb3A6IGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0YXJlYS5yZW1vdmUoa2V5LCBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZiAoY2hyb21lLnJ1bnRpbWUubGFzdGVycm9yKXtcclxuXHQgICAgICAgICAgICBjb25zb2xlLmVycm9yKGNocm9tZS5ydW50aW1lLmxhc3RlcnJvci5tZXNzYWdlKTtcclxuXHQgICAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICBcdC8vIGNvbnNvbGUubG9nKFwia2V5IFwiICsga2V5ICsgXCIgaGFzIGJlZW4gZHJvcHBlZCBmcm9tIHRoZSBzdG9yYWdlIGNhY2hlXCIpXHJcblx0ICAgICAgICB9XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cdGdldDogZnVuY3Rpb24oa2V5KSB7XHJcblx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cdFx0YXJlYS5nZXQoa2V5LCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBcdC8vIGNvbnNvbGUubG9nKCdnZXRUb3RhbEJ5dGVzSW5Vc2UgdGhlbiB3aXRoIGtleSAnICsga2V5ICsgXCIgOiBcIiArIGFuZ3VsYXIudG9Kc29uKHZhbHVlKSk7XHJcbiAgICAgICAgXHR2YXIga2V5VmFsdWUgPSB2YWx1ZVtrZXldO1xyXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGtleVZhbHVlKTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBnZXRzIHRoZSB2YWx1ZSBvZiBrZXkgZnJvbSB0aGUgY2FjaGUsIG9yIGNhbGxzIHRoZSBmYWxsYmFjayBmdW5jdGlvbiwgYW5kIHBvcHVsYXRlcyB0aGUgY2FjaGVcclxuXHQgKiB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgcHJvbWlzZSByZXR1cm5lZFxyXG5cdCAqL1xyXG5cdGdldE9yRWxzZTogZnVuY3Rpb24oa2V5LCBmYWxsYmFjaykge1xyXG5cdFx0Ly8gY29uc29sZS5sb2coJ2dldE9yRWxzZSBjYWxsZWQgd2l0aCAgY2FjaGVkIGtleSAnICsga2V5KTtcclxuXHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgYXJlYS5nZXQoa2V5LCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIFx0Ly8gY29uc29sZS5sb2coJ2dldE9yRWxzZSB0aGVuIHdpdGggY2FjaGVkIGtleSAnICsga2V5ICsgXCIgOiBcIiArIGFuZ3VsYXIudG9Kc29uKHZhbHVlKSk7XHJcbiAgICAgICAgXHR2YXIga2V5VmFsdWUgPSB2YWx1ZVtrZXldO1xyXG4gICAgICAgIFx0aWYgKGtleVZhbHVlID09IHVuZGVmaW5lZCB8fCBrZXlWYWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgXHRcdC8vIGNvbnNvbGUubG9nKFwibm8gY2FjaGVkIHZhbHVlIGZvciBcIisga2V5ICsgXCIuIHVzaW5nIGZhbGxiYWNrIG1ldGhvZC5cIik7XHJcbiAgICAgICAgXHRcdGZhbGxiYWNrKCkudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgXHRcdFx0a2V5VmFsdWUgPSBkYXRhO1xyXG4gICAgICAgIFx0XHRcdC8vIGNvbnNvbGUubG9nKFwiY2FjaGluZyB2YWx1ZSBmb3IgXCIrIGtleSArIFwiIDogXCIgKyBhbmd1bGFyLnRvSnNvbihrZXlWYWx1ZSkpO1xyXG4gICAgICAgIFx0XHRcdHZhciBzYXZlT2JqZWN0ID0ge307XHJcbiAgICAgICAgXHRcdFx0c2F2ZU9iamVjdFtrZXldID0ga2V5VmFsdWU7XHJcbiAgICAgICAgXHRcdFx0YXJlYS5zZXQoc2F2ZU9iamVjdCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgXHRcdFx0XHRpZiAoY2hyb21lLnJ1bnRpbWUubGFzdGVycm9yKXtcclxuXHRcdFx0XHQgICAgICAgICAgICBjb25zb2xlLmVycm9yKGNocm9tZS5ydW50aW1lLmxhc3RlcnJvci5tZXNzYWdlKTtcclxuXHRcdFx0XHQgICAgICAgIH0gZWxzZSB7XHJcblx0XHQgICAgXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdzYXZlZCAnICsga2V5VmFsdWUgKyBcIiB0byBrZXkgXCIgKyBrZXkpO1xyXG5cdFx0ICAgIFx0XHRcdH1cclxuICAgICAgICBcdFx0XHR9KTtcclxuICAgICAgICBcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKGtleVZhbHVlKTtcclxuICAgICAgICBcdFx0fSk7XHJcbiAgICAgICAgXHR9IGVsc2Uge1xyXG5cdCAgICAgICAgXHRkZWZlcnJlZC5yZXNvbHZlKGtleVZhbHVlKTtcclxuXHQgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG5cdH0sXHJcblx0LyoqXHJcblx0KlxyXG5cdCovXHJcblx0c2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcblx0XHR2YXIgc2F2ZU9iamVjdCA9IHt9O1xyXG5cdFx0c2F2ZU9iamVjdFtrZXldID0gdmFsdWU7XHJcblx0XHRhcmVhLnNldChzYXZlT2JqZWN0LCBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKGNocm9tZS5ydW50aW1lLmxhc3RlcnJvcil7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihjaHJvbWUucnVudGltZS5sYXN0ZXJyb3IubWVzc2FnZSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ3NhdmVkICcgKyBrZXlWYWx1ZSArIFwiIHRvIGtleSBcIiArIGtleSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICogZ2V0cyB0aGUgdmFsdWUgb2Yga2V5IGZyb20gdGhlIGNhY2hlLCBvciBjYWxscyB0aGUgZmFsbGJhY2sgZnVuY3Rpb24sIGFuZCBwb3B1bGF0ZXMgdGhlIGNhY2hlXHJcblx0ICogd2l0aCB0aGUgdmFsdWUgb2YgdGhlIHByb21pc2UgcmV0dXJuZWRcclxuXHQgKi9cclxuXHRmb3JjZUdldDogZnVuY3Rpb24oa2V5LCBmYWxsYmFjaykge1xyXG5cdFx0Ly8gY29uc29sZS5sb2coJ2dldE9yRWxzZSBjYWxsZWQgd2l0aCAgY2FjaGVkIGtleSAnICsga2V5KTtcclxuXHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgZmFsbGJhY2soKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0a2V5VmFsdWUgPSBkYXRhO1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhcImNhY2hpbmcgdmFsdWUgZm9yIFwiKyBrZXkgKyBcIiA6IFwiICsgYW5ndWxhci50b0pzb24oa2V5VmFsdWUpKTtcclxuXHRcdFx0dmFyIHNhdmVPYmplY3QgPSB7fTtcclxuXHRcdFx0c2F2ZU9iamVjdFtrZXldID0ga2V5VmFsdWU7XHJcblx0XHRcdGFyZWEuc2V0KHNhdmVPYmplY3QsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmIChjaHJvbWUucnVudGltZS5sYXN0ZXJyb3Ipe1xyXG5cdFx0ICAgICAgICAgICAgY29uc29sZS5lcnJvcihjaHJvbWUucnVudGltZS5sYXN0ZXJyb3IubWVzc2FnZSk7XHJcblx0XHQgICAgICAgIH0gZWxzZSB7XHJcbiAgICBcdFx0XHRcdC8vY29uc29sZS5sb2coJ3NhdmVkICcgKyBrZXlWYWx1ZSArIFwiIHRvIGtleSBcIiArIGtleSk7XHJcbiAgICBcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRkZWZlcnJlZC5yZXNvbHZlKGtleVZhbHVlKTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIHRoZSBxdW90YSBvZiB0aGUgY3VycmVudCBzdG9yYWdlIG1ldGhvZCwgaW4gYnl0ZXNcclxuXHQgKi9cclxuXHRnZXRRdW90YTogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gYXJlYS5RVU9UQV9CWVRFUztcclxuXHR9XHJcblxyXG4gICB9XHJcbn0pO1xyXG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxNCBUaW0gRG93bi5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcblxyXG5pZighQXJyYXkucHJvdG90eXBlLnB1c2gpe0FycmF5LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBpPTAsbGVuPWFyZ3VtZW50cy5sZW5ndGg7aTxsZW47aSsrKXt0aGlzW3RoaXMubGVuZ3RoXT1hcmd1bWVudHNbaV07fVxyXG5yZXR1cm4gdGhpcy5sZW5ndGg7fTt9XHJcbmlmKCFBcnJheS5wcm90b3R5cGUuc2hpZnQpe0FycmF5LnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoPjApe3ZhciBmaXJzdEl0ZW09dGhpc1swXTtmb3IodmFyIGk9MCxsZW49dGhpcy5sZW5ndGgtMTtpPGxlbjtpKyspe3RoaXNbaV09dGhpc1tpKzFdO31cclxudGhpcy5sZW5ndGg9dGhpcy5sZW5ndGgtMTtyZXR1cm4gZmlyc3RJdGVtO319O31cclxuaWYoIUFycmF5LnByb3RvdHlwZS5zcGxpY2Upe0FycmF5LnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24oc3RhcnRJbmRleCxkZWxldGVDb3VudCl7dmFyIGl0ZW1zQWZ0ZXJEZWxldGVkPXRoaXMuc2xpY2Uoc3RhcnRJbmRleCtkZWxldGVDb3VudCk7dmFyIGl0ZW1zRGVsZXRlZD10aGlzLnNsaWNlKHN0YXJ0SW5kZXgsc3RhcnRJbmRleCtkZWxldGVDb3VudCk7dGhpcy5sZW5ndGg9c3RhcnRJbmRleDt2YXIgYXJndW1lbnRzQXJyYXk9W107Zm9yKHZhciBpPTAsbGVuPWFyZ3VtZW50cy5sZW5ndGg7aTxsZW47aSsrKXthcmd1bWVudHNBcnJheVtpXT1hcmd1bWVudHNbaV07fVxyXG52YXIgaXRlbXNUb0FwcGVuZD0oYXJndW1lbnRzQXJyYXkubGVuZ3RoPjIpP2l0ZW1zQWZ0ZXJEZWxldGVkPWFyZ3VtZW50c0FycmF5LnNsaWNlKDIpLmNvbmNhdChpdGVtc0FmdGVyRGVsZXRlZCk6aXRlbXNBZnRlckRlbGV0ZWQ7Zm9yKGk9MCxsZW49aXRlbXNUb0FwcGVuZC5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLnB1c2goaXRlbXNUb0FwcGVuZFtpXSk7fVxyXG5yZXR1cm4gaXRlbXNEZWxldGVkO307fVxyXG52YXIgbG9nNGphdmFzY3JpcHQ9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKXtyZXR1cm4gdHlwZW9mIG9iaj09XCJ1bmRlZmluZWRcIjt9XHJcbmZ1bmN0aW9uIEV2ZW50U3VwcG9ydCgpe31cclxuRXZlbnRTdXBwb3J0LnByb3RvdHlwZT17ZXZlbnRUeXBlczpbXSxldmVudExpc3RlbmVyczp7fSxzZXRFdmVudFR5cGVzOmZ1bmN0aW9uKGV2ZW50VHlwZXNQYXJhbSl7aWYoZXZlbnRUeXBlc1BhcmFtIGluc3RhbmNlb2YgQXJyYXkpe3RoaXMuZXZlbnRUeXBlcz1ldmVudFR5cGVzUGFyYW07dGhpcy5ldmVudExpc3RlbmVycz17fTtmb3IodmFyIGk9MCxsZW49dGhpcy5ldmVudFR5cGVzLmxlbmd0aDtpPGxlbjtpKyspe3RoaXMuZXZlbnRMaXN0ZW5lcnNbdGhpcy5ldmVudFR5cGVzW2ldXT1bXTt9fWVsc2V7aGFuZGxlRXJyb3IoXCJsb2c0amF2YXNjcmlwdC5FdmVudFN1cHBvcnQgW1wiK3RoaXMrXCJdOiBzZXRFdmVudFR5cGVzOiBldmVudFR5cGVzIHBhcmFtZXRlciBtdXN0IGJlIGFuIEFycmF5XCIpO319LGFkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oZXZlbnRUeXBlLGxpc3RlbmVyKXtpZih0eXBlb2YgbGlzdGVuZXI9PVwiZnVuY3Rpb25cIil7aWYoIWFycmF5X2NvbnRhaW5zKHRoaXMuZXZlbnRUeXBlcyxldmVudFR5cGUpKXtoYW5kbGVFcnJvcihcImxvZzRqYXZhc2NyaXB0LkV2ZW50U3VwcG9ydCBbXCIrdGhpcytcIl06IGFkZEV2ZW50TGlzdGVuZXI6IG5vIGV2ZW50IGNhbGxlZCAnXCIrZXZlbnRUeXBlK1wiJ1wiKTt9XHJcbnRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRUeXBlXS5wdXNoKGxpc3RlbmVyKTt9ZWxzZXtoYW5kbGVFcnJvcihcImxvZzRqYXZhc2NyaXB0LkV2ZW50U3VwcG9ydCBbXCIrdGhpcytcIl06IGFkZEV2ZW50TGlzdGVuZXI6IGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTt9fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGV2ZW50VHlwZSxsaXN0ZW5lcil7aWYodHlwZW9mIGxpc3RlbmVyPT1cImZ1bmN0aW9uXCIpe2lmKCFhcnJheV9jb250YWlucyh0aGlzLmV2ZW50VHlwZXMsZXZlbnRUeXBlKSl7aGFuZGxlRXJyb3IoXCJsb2c0amF2YXNjcmlwdC5FdmVudFN1cHBvcnQgW1wiK3RoaXMrXCJdOiByZW1vdmVFdmVudExpc3RlbmVyOiBubyBldmVudCBjYWxsZWQgJ1wiK2V2ZW50VHlwZStcIidcIik7fVxyXG5hcnJheV9yZW1vdmUodGhpcy5ldmVudExpc3RlbmVyc1tldmVudFR5cGVdLGxpc3RlbmVyKTt9ZWxzZXtoYW5kbGVFcnJvcihcImxvZzRqYXZhc2NyaXB0LkV2ZW50U3VwcG9ydCBbXCIrdGhpcytcIl06IHJlbW92ZUV2ZW50TGlzdGVuZXI6IGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTt9fSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGV2ZW50VHlwZSxldmVudEFyZ3Mpe2lmKGFycmF5X2NvbnRhaW5zKHRoaXMuZXZlbnRUeXBlcyxldmVudFR5cGUpKXt2YXIgbGlzdGVuZXJzPXRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRUeXBlXTtmb3IodmFyIGk9MCxsZW49bGlzdGVuZXJzLmxlbmd0aDtpPGxlbjtpKyspe2xpc3RlbmVyc1tpXSh0aGlzLGV2ZW50VHlwZSxldmVudEFyZ3MpO319ZWxzZXtoYW5kbGVFcnJvcihcImxvZzRqYXZhc2NyaXB0LkV2ZW50U3VwcG9ydCBbXCIrdGhpcytcIl06IGRpc3BhdGNoRXZlbnQ6IG5vIGV2ZW50IGNhbGxlZCAnXCIrZXZlbnRUeXBlK1wiJ1wiKTt9fX07dmFyIGFwcGxpY2F0aW9uU3RhcnREYXRlPW5ldyBEYXRlKCk7dmFyIHVuaXF1ZUlkPVwibG9nNGphdmFzY3JpcHRfXCIrYXBwbGljYXRpb25TdGFydERhdGUuZ2V0VGltZSgpK1wiX1wiK1xyXG5NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwMDAwMDAwKTt2YXIgZW1wdHlGdW5jdGlvbj1mdW5jdGlvbigpe307dmFyIG5ld0xpbmU9XCJcXHJcXG5cIjt2YXIgcGFnZUxvYWRlZD1mYWxzZTtmdW5jdGlvbiBMb2c0SmF2YVNjcmlwdCgpe31cclxuTG9nNEphdmFTY3JpcHQucHJvdG90eXBlPW5ldyBFdmVudFN1cHBvcnQoKTtsb2c0amF2YXNjcmlwdD1uZXcgTG9nNEphdmFTY3JpcHQoKTtsb2c0amF2YXNjcmlwdC52ZXJzaW9uPVwiMS40LjlcIjtsb2c0amF2YXNjcmlwdC5lZGl0aW9uPVwibG9nNGphdmFzY3JpcHRcIjtmdW5jdGlvbiB0b1N0cihvYmope2lmKG9iaiYmb2JqLnRvU3RyaW5nKXtyZXR1cm4gb2JqLnRvU3RyaW5nKCk7fWVsc2V7cmV0dXJuIFN0cmluZyhvYmopO319XHJcbmZ1bmN0aW9uIGdldEV4Y2VwdGlvbk1lc3NhZ2UoZXgpe2lmKGV4Lm1lc3NhZ2Upe3JldHVybiBleC5tZXNzYWdlO31lbHNlIGlmKGV4LmRlc2NyaXB0aW9uKXtyZXR1cm4gZXguZGVzY3JpcHRpb247fWVsc2V7cmV0dXJuIHRvU3RyKGV4KTt9fVxyXG5mdW5jdGlvbiBnZXRVcmxGaWxlTmFtZSh1cmwpe3ZhciBsYXN0U2xhc2hJbmRleD1NYXRoLm1heCh1cmwubGFzdEluZGV4T2YoXCIvXCIpLHVybC5sYXN0SW5kZXhPZihcIlxcXFxcIikpO3JldHVybiB1cmwuc3Vic3RyKGxhc3RTbGFzaEluZGV4KzEpO31cclxuZnVuY3Rpb24gZ2V0RXhjZXB0aW9uU3RyaW5nUmVwKGV4KXtpZihleCl7dmFyIGV4U3RyPVwiRXhjZXB0aW9uOiBcIitnZXRFeGNlcHRpb25NZXNzYWdlKGV4KTt0cnl7aWYoZXgubGluZU51bWJlcil7ZXhTdHIrPVwiIG9uIGxpbmUgbnVtYmVyIFwiK2V4LmxpbmVOdW1iZXI7fVxyXG5pZihleC5maWxlTmFtZSl7ZXhTdHIrPVwiIGluIGZpbGUgXCIrZ2V0VXJsRmlsZU5hbWUoZXguZmlsZU5hbWUpO319Y2F0Y2gobG9jYWxFeCl7bG9nTG9nLndhcm4oXCJVbmFibGUgdG8gb2J0YWluIGZpbGUgYW5kIGxpbmUgaW5mb3JtYXRpb24gZm9yIGVycm9yXCIpO31cclxuaWYoc2hvd1N0YWNrVHJhY2VzJiZleC5zdGFjayl7ZXhTdHIrPW5ld0xpbmUrXCJTdGFjayB0cmFjZTpcIituZXdMaW5lK2V4LnN0YWNrO31cclxucmV0dXJuIGV4U3RyO31cclxucmV0dXJuIG51bGw7fVxyXG5mdW5jdGlvbiBib29sKG9iail7cmV0dXJuIEJvb2xlYW4ob2JqKTt9XHJcbmZ1bmN0aW9uIHRyaW0oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrLyxcIlwiKS5yZXBsYWNlKC9cXHMrJC8sXCJcIik7fVxyXG5mdW5jdGlvbiBzcGxpdEludG9MaW5lcyh0ZXh0KXt2YXIgdGV4dDI9dGV4dC5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcblwiKS5yZXBsYWNlKC9cXHIvZyxcIlxcblwiKTtyZXR1cm4gdGV4dDIuc3BsaXQoXCJcXG5cIik7fVxyXG52YXIgdXJsRW5jb2RlPSh0eXBlb2Ygd2luZG93LmVuY29kZVVSSUNvbXBvbmVudCE9XCJ1bmRlZmluZWRcIik/ZnVuY3Rpb24oc3RyKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cik7fTpmdW5jdGlvbihzdHIpe3JldHVybiBlc2NhcGUoc3RyKS5yZXBsYWNlKC9cXCsvZyxcIiUyQlwiKS5yZXBsYWNlKC9cIi9nLFwiJTIyXCIpLnJlcGxhY2UoLycvZyxcIiUyN1wiKS5yZXBsYWNlKC9cXC8vZyxcIiUyRlwiKS5yZXBsYWNlKC89L2csXCIlM0RcIik7fTt2YXIgdXJsRGVjb2RlPSh0eXBlb2Ygd2luZG93LmRlY29kZVVSSUNvbXBvbmVudCE9XCJ1bmRlZmluZWRcIik/ZnVuY3Rpb24oc3RyKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cik7fTpmdW5jdGlvbihzdHIpe3JldHVybiB1bmVzY2FwZShzdHIpLnJlcGxhY2UoLyUyQi9nLFwiK1wiKS5yZXBsYWNlKC8lMjIvZyxcIlxcXCJcIikucmVwbGFjZSgvJTI3L2csXCInXCIpLnJlcGxhY2UoLyUyRi9nLFwiL1wiKS5yZXBsYWNlKC8lM0QvZyxcIj1cIik7fTtmdW5jdGlvbiBhcnJheV9yZW1vdmUoYXJyLHZhbCl7dmFyIGluZGV4PS0xO2Zvcih2YXIgaT0wLGxlbj1hcnIubGVuZ3RoO2k8bGVuO2krKyl7aWYoYXJyW2ldPT09dmFsKXtpbmRleD1pO2JyZWFrO319XHJcbmlmKGluZGV4Pj0wKXthcnIuc3BsaWNlKGluZGV4LDEpO3JldHVybiB0cnVlO31lbHNle3JldHVybiBmYWxzZTt9fVxyXG5mdW5jdGlvbiBhcnJheV9jb250YWlucyhhcnIsdmFsKXtmb3IodmFyIGk9MCxsZW49YXJyLmxlbmd0aDtpPGxlbjtpKyspe2lmKGFycltpXT09dmFsKXtyZXR1cm4gdHJ1ZTt9fVxyXG5yZXR1cm4gZmFsc2U7fVxyXG5mdW5jdGlvbiBleHRyYWN0Qm9vbGVhbkZyb21QYXJhbShwYXJhbSxkZWZhdWx0VmFsdWUpe2lmKGlzVW5kZWZpbmVkKHBhcmFtKSl7cmV0dXJuIGRlZmF1bHRWYWx1ZTt9ZWxzZXtyZXR1cm4gYm9vbChwYXJhbSk7fX1cclxuZnVuY3Rpb24gZXh0cmFjdFN0cmluZ0Zyb21QYXJhbShwYXJhbSxkZWZhdWx0VmFsdWUpe2lmKGlzVW5kZWZpbmVkKHBhcmFtKSl7cmV0dXJuIGRlZmF1bHRWYWx1ZTt9ZWxzZXtyZXR1cm4gU3RyaW5nKHBhcmFtKTt9fVxyXG5mdW5jdGlvbiBleHRyYWN0SW50RnJvbVBhcmFtKHBhcmFtLGRlZmF1bHRWYWx1ZSl7aWYoaXNVbmRlZmluZWQocGFyYW0pKXtyZXR1cm4gZGVmYXVsdFZhbHVlO31lbHNle3RyeXt2YXIgdmFsdWU9cGFyc2VJbnQocGFyYW0sMTApO3JldHVybiBpc05hTih2YWx1ZSk/ZGVmYXVsdFZhbHVlOnZhbHVlO31jYXRjaChleCl7bG9nTG9nLndhcm4oXCJJbnZhbGlkIGludCBwYXJhbSBcIitwYXJhbSxleCk7cmV0dXJuIGRlZmF1bHRWYWx1ZTt9fX1cclxuZnVuY3Rpb24gZXh0cmFjdEZ1bmN0aW9uRnJvbVBhcmFtKHBhcmFtLGRlZmF1bHRWYWx1ZSl7aWYodHlwZW9mIHBhcmFtPT1cImZ1bmN0aW9uXCIpe3JldHVybiBwYXJhbTt9ZWxzZXtyZXR1cm4gZGVmYXVsdFZhbHVlO319XHJcbmZ1bmN0aW9uIGlzRXJyb3IoZXJyKXtyZXR1cm4oZXJyIGluc3RhbmNlb2YgRXJyb3IpO31cclxuaWYoIUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSl7RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKG9iaixhcmdzKXt2YXIgbWV0aG9kTmFtZT1cIl9fYXBwbHlfX1wiO2lmKHR5cGVvZiBvYmpbbWV0aG9kTmFtZV0hPVwidW5kZWZpbmVkXCIpe21ldGhvZE5hbWUrPVN0cmluZyhNYXRoLnJhbmRvbSgpKS5zdWJzdHIoMik7fVxyXG5vYmpbbWV0aG9kTmFtZV09dGhpczt2YXIgYXJnc1N0cmluZ3M9W107Zm9yKHZhciBpPTAsbGVuPWFyZ3MubGVuZ3RoO2k8bGVuO2krKyl7YXJnc1N0cmluZ3NbaV09XCJhcmdzW1wiK2krXCJdXCI7fVxyXG52YXIgc2NyaXB0PVwib2JqLlwiK21ldGhvZE5hbWUrXCIoXCIrYXJnc1N0cmluZ3Muam9pbihcIixcIikrXCIpXCI7dmFyIHJldHVyblZhbHVlPWV2YWwoc2NyaXB0KTtkZWxldGUgb2JqW21ldGhvZE5hbWVdO3JldHVybiByZXR1cm5WYWx1ZTt9O31cclxuaWYoIUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsKXtGdW5jdGlvbi5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihvYmope3ZhciBhcmdzPVtdO2Zvcih2YXIgaT0xLGxlbj1hcmd1bWVudHMubGVuZ3RoO2k8bGVuO2krKyl7YXJnc1tpLTFdPWFyZ3VtZW50c1tpXTt9XHJcbnJldHVybiB0aGlzLmFwcGx5KG9iaixhcmdzKTt9O31cclxuZnVuY3Rpb24gZ2V0TGlzdGVuZXJzUHJvcGVydHlOYW1lKGV2ZW50TmFtZSl7cmV0dXJuXCJfX2xvZzRqYXZhc2NyaXB0X2xpc3RlbmVyc19fXCIrZXZlbnROYW1lO31cclxuZnVuY3Rpb24gYWRkRXZlbnQobm9kZSxldmVudE5hbWUsbGlzdGVuZXIsdXNlQ2FwdHVyZSx3aW4pe3dpbj13aW4/d2luOndpbmRvdztpZihub2RlLmFkZEV2ZW50TGlzdGVuZXIpe25vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsbGlzdGVuZXIsdXNlQ2FwdHVyZSk7fWVsc2UgaWYobm9kZS5hdHRhY2hFdmVudCl7bm9kZS5hdHRhY2hFdmVudChcIm9uXCIrZXZlbnROYW1lLGxpc3RlbmVyKTt9ZWxzZXt2YXIgcHJvcGVydHlOYW1lPWdldExpc3RlbmVyc1Byb3BlcnR5TmFtZShldmVudE5hbWUpO2lmKCFub2RlW3Byb3BlcnR5TmFtZV0pe25vZGVbcHJvcGVydHlOYW1lXT1bXTtub2RlW1wib25cIitldmVudE5hbWVdPWZ1bmN0aW9uKGV2dCl7ZXZ0PWdldEV2ZW50KGV2dCx3aW4pO3ZhciBsaXN0ZW5lcnNQcm9wZXJ0eU5hbWU9Z2V0TGlzdGVuZXJzUHJvcGVydHlOYW1lKGV2ZW50TmFtZSk7dmFyIGxpc3RlbmVycz10aGlzW2xpc3RlbmVyc1Byb3BlcnR5TmFtZV0uY29uY2F0KFtdKTt2YXIgY3VycmVudExpc3RlbmVyO3doaWxlKChjdXJyZW50TGlzdGVuZXI9bGlzdGVuZXJzLnNoaWZ0KCkpKXtjdXJyZW50TGlzdGVuZXIuY2FsbCh0aGlzLGV2dCk7fX07fVxyXG5ub2RlW3Byb3BlcnR5TmFtZV0ucHVzaChsaXN0ZW5lcik7fX1cclxuZnVuY3Rpb24gcmVtb3ZlRXZlbnQobm9kZSxldmVudE5hbWUsbGlzdGVuZXIsdXNlQ2FwdHVyZSl7aWYobm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKXtub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLGxpc3RlbmVyLHVzZUNhcHR1cmUpO31lbHNlIGlmKG5vZGUuZGV0YWNoRXZlbnQpe25vZGUuZGV0YWNoRXZlbnQoXCJvblwiK2V2ZW50TmFtZSxsaXN0ZW5lcik7fWVsc2V7dmFyIHByb3BlcnR5TmFtZT1nZXRMaXN0ZW5lcnNQcm9wZXJ0eU5hbWUoZXZlbnROYW1lKTtpZihub2RlW3Byb3BlcnR5TmFtZV0pe2FycmF5X3JlbW92ZShub2RlW3Byb3BlcnR5TmFtZV0sbGlzdGVuZXIpO319fVxyXG5mdW5jdGlvbiBnZXRFdmVudChldnQsd2luKXt3aW49d2luP3dpbjp3aW5kb3c7cmV0dXJuIGV2dD9ldnQ6d2luLmV2ZW50O31cclxuZnVuY3Rpb24gc3RvcEV2ZW50UHJvcGFnYXRpb24oZXZ0KXtpZihldnQuc3RvcFByb3BhZ2F0aW9uKXtldnQuc3RvcFByb3BhZ2F0aW9uKCk7fWVsc2UgaWYodHlwZW9mIGV2dC5jYW5jZWxCdWJibGUhPVwidW5kZWZpbmVkXCIpe2V2dC5jYW5jZWxCdWJibGU9dHJ1ZTt9XHJcbmV2dC5yZXR1cm5WYWx1ZT1mYWxzZTt9XHJcbnZhciBsb2dMb2c9e3F1aWV0TW9kZTpmYWxzZSxkZWJ1Z01lc3NhZ2VzOltdLHNldFF1aWV0TW9kZTpmdW5jdGlvbihxdWlldE1vZGUpe3RoaXMucXVpZXRNb2RlPWJvb2wocXVpZXRNb2RlKTt9LG51bWJlck9mRXJyb3JzOjAsYWxlcnRBbGxFcnJvcnM6ZmFsc2Usc2V0QWxlcnRBbGxFcnJvcnM6ZnVuY3Rpb24oYWxlcnRBbGxFcnJvcnMpe3RoaXMuYWxlcnRBbGxFcnJvcnM9YWxlcnRBbGxFcnJvcnM7fSxkZWJ1ZzpmdW5jdGlvbihtZXNzYWdlKXt0aGlzLmRlYnVnTWVzc2FnZXMucHVzaChtZXNzYWdlKTt9LGRpc3BsYXlEZWJ1ZzpmdW5jdGlvbigpe2FsZXJ0KHRoaXMuZGVidWdNZXNzYWdlcy5qb2luKG5ld0xpbmUpKTt9LHdhcm46ZnVuY3Rpb24obWVzc2FnZSxleGNlcHRpb24pe30sZXJyb3I6ZnVuY3Rpb24obWVzc2FnZSxleGNlcHRpb24pe2lmKCsrdGhpcy5udW1iZXJPZkVycm9ycz09MXx8dGhpcy5hbGVydEFsbEVycm9ycyl7aWYoIXRoaXMucXVpZXRNb2RlKXt2YXIgYWxlcnRNZXNzYWdlPVwibG9nNGphdmFzY3JpcHQgZXJyb3I6IFwiK21lc3NhZ2U7aWYoZXhjZXB0aW9uKXthbGVydE1lc3NhZ2UrPW5ld0xpbmUrbmV3TGluZStcIk9yaWdpbmFsIGVycm9yOiBcIitnZXRFeGNlcHRpb25TdHJpbmdSZXAoZXhjZXB0aW9uKTt9XHJcbmFsZXJ0KGFsZXJ0TWVzc2FnZSk7fX19fTtsb2c0amF2YXNjcmlwdC5sb2dMb2c9bG9nTG9nO2xvZzRqYXZhc2NyaXB0LnNldEV2ZW50VHlwZXMoW1wibG9hZFwiLFwiZXJyb3JcIl0pO2Z1bmN0aW9uIGhhbmRsZUVycm9yKG1lc3NhZ2UsZXhjZXB0aW9uKXtsb2dMb2cuZXJyb3IobWVzc2FnZSxleGNlcHRpb24pO2xvZzRqYXZhc2NyaXB0LmRpc3BhdGNoRXZlbnQoXCJlcnJvclwiLHtcIm1lc3NhZ2VcIjptZXNzYWdlLFwiZXhjZXB0aW9uXCI6ZXhjZXB0aW9ufSk7fVxyXG5sb2c0amF2YXNjcmlwdC5oYW5kbGVFcnJvcj1oYW5kbGVFcnJvcjt2YXIgZW5hYmxlZD0hKCh0eXBlb2YgbG9nNGphdmFzY3JpcHRfZGlzYWJsZWQhPVwidW5kZWZpbmVkXCIpJiZsb2c0amF2YXNjcmlwdF9kaXNhYmxlZCk7bG9nNGphdmFzY3JpcHQuc2V0RW5hYmxlZD1mdW5jdGlvbihlbmFibGUpe2VuYWJsZWQ9Ym9vbChlbmFibGUpO307bG9nNGphdmFzY3JpcHQuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGVuYWJsZWQ7fTt2YXIgdXNlVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzPXRydWU7bG9nNGphdmFzY3JpcHQuc2V0VGltZVN0YW1wc0luTWlsbGlzZWNvbmRzPWZ1bmN0aW9uKHRpbWVTdGFtcHNJbk1pbGxpc2Vjb25kcyl7dXNlVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzPWJvb2wodGltZVN0YW1wc0luTWlsbGlzZWNvbmRzKTt9O2xvZzRqYXZhc2NyaXB0LmlzVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHVzZVRpbWVTdGFtcHNJbk1pbGxpc2Vjb25kczt9O2xvZzRqYXZhc2NyaXB0LmV2YWxJblNjb3BlPWZ1bmN0aW9uKGV4cHIpe3JldHVybiBldmFsKGV4cHIpO307dmFyIHNob3dTdGFja1RyYWNlcz1mYWxzZTtsb2c0amF2YXNjcmlwdC5zZXRTaG93U3RhY2tUcmFjZXM9ZnVuY3Rpb24oc2hvdyl7c2hvd1N0YWNrVHJhY2VzPWJvb2woc2hvdyk7fTt2YXIgTGV2ZWw9ZnVuY3Rpb24obGV2ZWwsbmFtZSl7dGhpcy5sZXZlbD1sZXZlbDt0aGlzLm5hbWU9bmFtZTt9O0xldmVsLnByb3RvdHlwZT17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lO30sZXF1YWxzOmZ1bmN0aW9uKGxldmVsKXtyZXR1cm4gdGhpcy5sZXZlbD09bGV2ZWwubGV2ZWw7fSxpc0dyZWF0ZXJPckVxdWFsOmZ1bmN0aW9uKGxldmVsKXtyZXR1cm4gdGhpcy5sZXZlbD49bGV2ZWwubGV2ZWw7fX07TGV2ZWwuQUxMPW5ldyBMZXZlbChOdW1iZXIuTUlOX1ZBTFVFLFwiQUxMXCIpO0xldmVsLlRSQUNFPW5ldyBMZXZlbCgxMDAwMCxcIlRSQUNFXCIpO0xldmVsLkRFQlVHPW5ldyBMZXZlbCgyMDAwMCxcIkRFQlVHXCIpO0xldmVsLklORk89bmV3IExldmVsKDMwMDAwLFwiSU5GT1wiKTtMZXZlbC5XQVJOPW5ldyBMZXZlbCg0MDAwMCxcIldBUk5cIik7TGV2ZWwuRVJST1I9bmV3IExldmVsKDUwMDAwLFwiRVJST1JcIik7TGV2ZWwuRkFUQUw9bmV3IExldmVsKDYwMDAwLFwiRkFUQUxcIik7TGV2ZWwuT0ZGPW5ldyBMZXZlbChOdW1iZXIuTUFYX1ZBTFVFLFwiT0ZGXCIpO2xvZzRqYXZhc2NyaXB0LkxldmVsPUxldmVsO2Z1bmN0aW9uIFRpbWVyKG5hbWUsbGV2ZWwpe3RoaXMubmFtZT1uYW1lO3RoaXMubGV2ZWw9aXNVbmRlZmluZWQobGV2ZWwpP0xldmVsLklORk86bGV2ZWw7dGhpcy5zdGFydD1uZXcgRGF0ZSgpO31cclxuVGltZXIucHJvdG90eXBlLmdldEVsYXBzZWRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpLXRoaXMuc3RhcnQuZ2V0VGltZSgpO307dmFyIGFub255bW91c0xvZ2dlck5hbWU9XCJbYW5vbnltb3VzXVwiO3ZhciBkZWZhdWx0TG9nZ2VyTmFtZT1cIltkZWZhdWx0XVwiO3ZhciBudWxsTG9nZ2VyTmFtZT1cIltudWxsXVwiO3ZhciByb290TG9nZ2VyTmFtZT1cInJvb3RcIjtmdW5jdGlvbiBMb2dnZXIobmFtZSl7dGhpcy5uYW1lPW5hbWU7dGhpcy5wYXJlbnQ9bnVsbDt0aGlzLmNoaWxkcmVuPVtdO3ZhciBhcHBlbmRlcnM9W107dmFyIGxvZ2dlckxldmVsPW51bGw7dmFyIGlzUm9vdD0odGhpcy5uYW1lPT09cm9vdExvZ2dlck5hbWUpO3ZhciBpc051bGw9KHRoaXMubmFtZT09PW51bGxMb2dnZXJOYW1lKTt2YXIgYXBwZW5kZXJDYWNoZT1udWxsO3ZhciBhcHBlbmRlckNhY2hlSW52YWxpZGF0ZWQ9ZmFsc2U7dGhpcy5hZGRDaGlsZD1mdW5jdGlvbihjaGlsZExvZ2dlcil7dGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkTG9nZ2VyKTtjaGlsZExvZ2dlci5wYXJlbnQ9dGhpcztjaGlsZExvZ2dlci5pbnZhbGlkYXRlQXBwZW5kZXJDYWNoZSgpO307dmFyIGFkZGl0aXZlPXRydWU7dGhpcy5nZXRBZGRpdGl2aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIGFkZGl0aXZlO307dGhpcy5zZXRBZGRpdGl2aXR5PWZ1bmN0aW9uKGFkZGl0aXZpdHkpe3ZhciB2YWx1ZUNoYW5nZWQ9KGFkZGl0aXZlIT1hZGRpdGl2aXR5KTthZGRpdGl2ZT1hZGRpdGl2aXR5O2lmKHZhbHVlQ2hhbmdlZCl7dGhpcy5pbnZhbGlkYXRlQXBwZW5kZXJDYWNoZSgpO319O3RoaXMuYWRkQXBwZW5kZXI9ZnVuY3Rpb24oYXBwZW5kZXIpe2lmKGlzTnVsbCl7aGFuZGxlRXJyb3IoXCJMb2dnZXIuYWRkQXBwZW5kZXI6IHlvdSBtYXkgbm90IGFkZCBhbiBhcHBlbmRlciB0byB0aGUgbnVsbCBsb2dnZXJcIik7fWVsc2V7aWYoYXBwZW5kZXIgaW5zdGFuY2VvZiBsb2c0amF2YXNjcmlwdC5BcHBlbmRlcil7aWYoIWFycmF5X2NvbnRhaW5zKGFwcGVuZGVycyxhcHBlbmRlcikpe2FwcGVuZGVycy5wdXNoKGFwcGVuZGVyKTthcHBlbmRlci5zZXRBZGRlZFRvTG9nZ2VyKHRoaXMpO3RoaXMuaW52YWxpZGF0ZUFwcGVuZGVyQ2FjaGUoKTt9fWVsc2V7aGFuZGxlRXJyb3IoXCJMb2dnZXIuYWRkQXBwZW5kZXI6IGFwcGVuZGVyIHN1cHBsaWVkICgnXCIrXHJcbnRvU3RyKGFwcGVuZGVyKStcIicpIGlzIG5vdCBhIHN1YmNsYXNzIG9mIEFwcGVuZGVyXCIpO319fTt0aGlzLnJlbW92ZUFwcGVuZGVyPWZ1bmN0aW9uKGFwcGVuZGVyKXthcnJheV9yZW1vdmUoYXBwZW5kZXJzLGFwcGVuZGVyKTthcHBlbmRlci5zZXRSZW1vdmVkRnJvbUxvZ2dlcih0aGlzKTt0aGlzLmludmFsaWRhdGVBcHBlbmRlckNhY2hlKCk7fTt0aGlzLnJlbW92ZUFsbEFwcGVuZGVycz1mdW5jdGlvbigpe3ZhciBhcHBlbmRlckNvdW50PWFwcGVuZGVycy5sZW5ndGg7aWYoYXBwZW5kZXJDb3VudD4wKXtmb3IodmFyIGk9MDtpPGFwcGVuZGVyQ291bnQ7aSsrKXthcHBlbmRlcnNbaV0uc2V0UmVtb3ZlZEZyb21Mb2dnZXIodGhpcyk7fVxyXG5hcHBlbmRlcnMubGVuZ3RoPTA7dGhpcy5pbnZhbGlkYXRlQXBwZW5kZXJDYWNoZSgpO319O3RoaXMuZ2V0RWZmZWN0aXZlQXBwZW5kZXJzPWZ1bmN0aW9uKCl7aWYoYXBwZW5kZXJDYWNoZT09PW51bGx8fGFwcGVuZGVyQ2FjaGVJbnZhbGlkYXRlZCl7dmFyIHBhcmVudEVmZmVjdGl2ZUFwcGVuZGVycz0oaXNSb290fHwhdGhpcy5nZXRBZGRpdGl2aXR5KCkpP1tdOnRoaXMucGFyZW50LmdldEVmZmVjdGl2ZUFwcGVuZGVycygpO2FwcGVuZGVyQ2FjaGU9cGFyZW50RWZmZWN0aXZlQXBwZW5kZXJzLmNvbmNhdChhcHBlbmRlcnMpO2FwcGVuZGVyQ2FjaGVJbnZhbGlkYXRlZD1mYWxzZTt9XHJcbnJldHVybiBhcHBlbmRlckNhY2hlO307dGhpcy5pbnZhbGlkYXRlQXBwZW5kZXJDYWNoZT1mdW5jdGlvbigpe2FwcGVuZGVyQ2FjaGVJbnZhbGlkYXRlZD10cnVlO2Zvcih2YXIgaT0wLGxlbj10aGlzLmNoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspe3RoaXMuY2hpbGRyZW5baV0uaW52YWxpZGF0ZUFwcGVuZGVyQ2FjaGUoKTt9fTt0aGlzLmxvZz1mdW5jdGlvbihsZXZlbCxwYXJhbXMpe2lmKGVuYWJsZWQmJmxldmVsLmlzR3JlYXRlck9yRXF1YWwodGhpcy5nZXRFZmZlY3RpdmVMZXZlbCgpKSl7dmFyIGV4Y2VwdGlvbjt2YXIgZmluYWxQYXJhbUluZGV4PXBhcmFtcy5sZW5ndGgtMTt2YXIgbGFzdFBhcmFtPXBhcmFtc1tmaW5hbFBhcmFtSW5kZXhdO2lmKHBhcmFtcy5sZW5ndGg+MSYmaXNFcnJvcihsYXN0UGFyYW0pKXtleGNlcHRpb249bGFzdFBhcmFtO2ZpbmFsUGFyYW1JbmRleC0tO31cclxudmFyIG1lc3NhZ2VzPVtdO2Zvcih2YXIgaT0wO2k8PWZpbmFsUGFyYW1JbmRleDtpKyspe21lc3NhZ2VzW2ldPXBhcmFtc1tpXTt9XHJcbnZhciBsb2dnaW5nRXZlbnQ9bmV3IExvZ2dpbmdFdmVudCh0aGlzLG5ldyBEYXRlKCksbGV2ZWwsbWVzc2FnZXMsZXhjZXB0aW9uKTt0aGlzLmNhbGxBcHBlbmRlcnMobG9nZ2luZ0V2ZW50KTt9fTt0aGlzLmNhbGxBcHBlbmRlcnM9ZnVuY3Rpb24obG9nZ2luZ0V2ZW50KXt2YXIgZWZmZWN0aXZlQXBwZW5kZXJzPXRoaXMuZ2V0RWZmZWN0aXZlQXBwZW5kZXJzKCk7Zm9yKHZhciBpPTAsbGVuPWVmZmVjdGl2ZUFwcGVuZGVycy5sZW5ndGg7aTxsZW47aSsrKXtlZmZlY3RpdmVBcHBlbmRlcnNbaV0uZG9BcHBlbmQobG9nZ2luZ0V2ZW50KTt9fTt0aGlzLnNldExldmVsPWZ1bmN0aW9uKGxldmVsKXtpZihpc1Jvb3QmJmxldmVsPT09bnVsbCl7aGFuZGxlRXJyb3IoXCJMb2dnZXIuc2V0TGV2ZWw6IHlvdSBjYW5ub3Qgc2V0IHRoZSBsZXZlbCBvZiB0aGUgcm9vdCBsb2dnZXIgdG8gbnVsbFwiKTt9ZWxzZSBpZihsZXZlbCBpbnN0YW5jZW9mIExldmVsKXtsb2dnZXJMZXZlbD1sZXZlbDt9ZWxzZXtoYW5kbGVFcnJvcihcIkxvZ2dlci5zZXRMZXZlbDogbGV2ZWwgc3VwcGxpZWQgdG8gbG9nZ2VyIFwiK1xyXG50aGlzLm5hbWUrXCIgaXMgbm90IGFuIGluc3RhbmNlIG9mIGxvZzRqYXZhc2NyaXB0LkxldmVsXCIpO319O3RoaXMuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gbG9nZ2VyTGV2ZWw7fTt0aGlzLmdldEVmZmVjdGl2ZUxldmVsPWZ1bmN0aW9uKCl7Zm9yKHZhciBsb2dnZXI9dGhpcztsb2dnZXIhPT1udWxsO2xvZ2dlcj1sb2dnZXIucGFyZW50KXt2YXIgbGV2ZWw9bG9nZ2VyLmdldExldmVsKCk7aWYobGV2ZWwhPT1udWxsKXtyZXR1cm4gbGV2ZWw7fX19O3RoaXMuZ3JvdXA9ZnVuY3Rpb24obmFtZSxpbml0aWFsbHlFeHBhbmRlZCl7aWYoZW5hYmxlZCl7dmFyIGVmZmVjdGl2ZUFwcGVuZGVycz10aGlzLmdldEVmZmVjdGl2ZUFwcGVuZGVycygpO2Zvcih2YXIgaT0wLGxlbj1lZmZlY3RpdmVBcHBlbmRlcnMubGVuZ3RoO2k8bGVuO2krKyl7ZWZmZWN0aXZlQXBwZW5kZXJzW2ldLmdyb3VwKG5hbWUsaW5pdGlhbGx5RXhwYW5kZWQpO319fTt0aGlzLmdyb3VwRW5kPWZ1bmN0aW9uKCl7aWYoZW5hYmxlZCl7dmFyIGVmZmVjdGl2ZUFwcGVuZGVycz10aGlzLmdldEVmZmVjdGl2ZUFwcGVuZGVycygpO2Zvcih2YXIgaT0wLGxlbj1lZmZlY3RpdmVBcHBlbmRlcnMubGVuZ3RoO2k8bGVuO2krKyl7ZWZmZWN0aXZlQXBwZW5kZXJzW2ldLmdyb3VwRW5kKCk7fX19O3ZhciB0aW1lcnM9e307dGhpcy50aW1lPWZ1bmN0aW9uKG5hbWUsbGV2ZWwpe2lmKGVuYWJsZWQpe2lmKGlzVW5kZWZpbmVkKG5hbWUpKXtoYW5kbGVFcnJvcihcIkxvZ2dlci50aW1lOiBhIG5hbWUgZm9yIHRoZSB0aW1lciBtdXN0IGJlIHN1cHBsaWVkXCIpO31lbHNlIGlmKGxldmVsJiYhKGxldmVsIGluc3RhbmNlb2YgTGV2ZWwpKXtoYW5kbGVFcnJvcihcIkxvZ2dlci50aW1lOiBsZXZlbCBzdXBwbGllZCB0byB0aW1lciBcIitcclxubmFtZStcIiBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgbG9nNGphdmFzY3JpcHQuTGV2ZWxcIik7fWVsc2V7dGltZXJzW25hbWVdPW5ldyBUaW1lcihuYW1lLGxldmVsKTt9fX07dGhpcy50aW1lRW5kPWZ1bmN0aW9uKG5hbWUpe2lmKGVuYWJsZWQpe2lmKGlzVW5kZWZpbmVkKG5hbWUpKXtoYW5kbGVFcnJvcihcIkxvZ2dlci50aW1lRW5kOiBhIG5hbWUgZm9yIHRoZSB0aW1lciBtdXN0IGJlIHN1cHBsaWVkXCIpO31lbHNlIGlmKHRpbWVyc1tuYW1lXSl7dmFyIHRpbWVyPXRpbWVyc1tuYW1lXTt2YXIgbWlsbGlzZWNvbmRzPXRpbWVyLmdldEVsYXBzZWRUaW1lKCk7dGhpcy5sb2codGltZXIubGV2ZWwsW1wiVGltZXIgXCIrdG9TdHIobmFtZSkrXCIgY29tcGxldGVkIGluIFwiK21pbGxpc2Vjb25kcytcIm1zXCJdKTtkZWxldGUgdGltZXJzW25hbWVdO31lbHNle2xvZ0xvZy53YXJuKFwiTG9nZ2VyLnRpbWVFbmQ6IG5vIHRpbWVyIGZvdW5kIHdpdGggbmFtZSBcIituYW1lKTt9fX07dGhpcy5hc3NlcnQ9ZnVuY3Rpb24oZXhwcil7aWYoZW5hYmxlZCYmIWV4cHIpe3ZhciBhcmdzPVtdO2Zvcih2YXIgaT0xLGxlbj1hcmd1bWVudHMubGVuZ3RoO2k8bGVuO2krKyl7YXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7fVxyXG5hcmdzPShhcmdzLmxlbmd0aD4wKT9hcmdzOltcIkFzc2VydGlvbiBGYWlsdXJlXCJdO2FyZ3MucHVzaChuZXdMaW5lKTthcmdzLnB1c2goZXhwcik7dGhpcy5sb2coTGV2ZWwuRVJST1IsYXJncyk7fX07dGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiTG9nZ2VyW1wiK3RoaXMubmFtZStcIl1cIjt9O31cclxuTG9nZ2VyLnByb3RvdHlwZT17dHJhY2U6ZnVuY3Rpb24oKXt0aGlzLmxvZyhMZXZlbC5UUkFDRSxhcmd1bWVudHMpO30sZGVidWc6ZnVuY3Rpb24oKXt0aGlzLmxvZyhMZXZlbC5ERUJVRyxhcmd1bWVudHMpO30saW5mbzpmdW5jdGlvbigpe3RoaXMubG9nKExldmVsLklORk8sYXJndW1lbnRzKTt9LHdhcm46ZnVuY3Rpb24oKXt0aGlzLmxvZyhMZXZlbC5XQVJOLGFyZ3VtZW50cyk7fSxlcnJvcjpmdW5jdGlvbigpe3RoaXMubG9nKExldmVsLkVSUk9SLGFyZ3VtZW50cyk7fSxmYXRhbDpmdW5jdGlvbigpe3RoaXMubG9nKExldmVsLkZBVEFMLGFyZ3VtZW50cyk7fSxpc0VuYWJsZWRGb3I6ZnVuY3Rpb24obGV2ZWwpe3JldHVybiBsZXZlbC5pc0dyZWF0ZXJPckVxdWFsKHRoaXMuZ2V0RWZmZWN0aXZlTGV2ZWwoKSk7fSxpc1RyYWNlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZEZvcihMZXZlbC5UUkFDRSk7fSxpc0RlYnVnRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZEZvcihMZXZlbC5ERUJVRyk7fSxpc0luZm9FbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkRm9yKExldmVsLklORk8pO30saXNXYXJuRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZEZvcihMZXZlbC5XQVJOKTt9LGlzRXJyb3JFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkRm9yKExldmVsLkVSUk9SKTt9LGlzRmF0YWxFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkRm9yKExldmVsLkZBVEFMKTt9fTtMb2dnZXIucHJvdG90eXBlLnRyYWNlLmlzRW50cnlQb2ludD10cnVlO0xvZ2dlci5wcm90b3R5cGUuZGVidWcuaXNFbnRyeVBvaW50PXRydWU7TG9nZ2VyLnByb3RvdHlwZS5pbmZvLmlzRW50cnlQb2ludD10cnVlO0xvZ2dlci5wcm90b3R5cGUud2Fybi5pc0VudHJ5UG9pbnQ9dHJ1ZTtMb2dnZXIucHJvdG90eXBlLmVycm9yLmlzRW50cnlQb2ludD10cnVlO0xvZ2dlci5wcm90b3R5cGUuZmF0YWwuaXNFbnRyeVBvaW50PXRydWU7dmFyIGxvZ2dlcnM9e307dmFyIGxvZ2dlck5hbWVzPVtdO3ZhciBST09UX0xPR0dFUl9ERUZBVUxUX0xFVkVMPUxldmVsLkRFQlVHO3ZhciByb290TG9nZ2VyPW5ldyBMb2dnZXIocm9vdExvZ2dlck5hbWUpO3Jvb3RMb2dnZXIuc2V0TGV2ZWwoUk9PVF9MT0dHRVJfREVGQVVMVF9MRVZFTCk7bG9nNGphdmFzY3JpcHQuZ2V0Um9vdExvZ2dlcj1mdW5jdGlvbigpe3JldHVybiByb290TG9nZ2VyO307bG9nNGphdmFzY3JpcHQuZ2V0TG9nZ2VyPWZ1bmN0aW9uKGxvZ2dlck5hbWUpe2lmKCEodHlwZW9mIGxvZ2dlck5hbWU9PVwic3RyaW5nXCIpKXtsb2dnZXJOYW1lPWFub255bW91c0xvZ2dlck5hbWU7bG9nTG9nLndhcm4oXCJsb2c0amF2YXNjcmlwdC5nZXRMb2dnZXI6IG5vbi1zdHJpbmcgbG9nZ2VyIG5hbWUgXCIrXHJcbnRvU3RyKGxvZ2dlck5hbWUpK1wiIHN1cHBsaWVkLCByZXR1cm5pbmcgYW5vbnltb3VzIGxvZ2dlclwiKTt9XHJcbmlmKGxvZ2dlck5hbWU9PXJvb3RMb2dnZXJOYW1lKXtoYW5kbGVFcnJvcihcImxvZzRqYXZhc2NyaXB0LmdldExvZ2dlcjogcm9vdCBsb2dnZXIgbWF5IG5vdCBiZSBvYnRhaW5lZCBieSBuYW1lXCIpO31cclxuaWYoIWxvZ2dlcnNbbG9nZ2VyTmFtZV0pe3ZhciBsb2dnZXI9bmV3IExvZ2dlcihsb2dnZXJOYW1lKTtsb2dnZXJzW2xvZ2dlck5hbWVdPWxvZ2dlcjtsb2dnZXJOYW1lcy5wdXNoKGxvZ2dlck5hbWUpO3ZhciBsYXN0RG90SW5kZXg9bG9nZ2VyTmFtZS5sYXN0SW5kZXhPZihcIi5cIik7dmFyIHBhcmVudExvZ2dlcjtpZihsYXN0RG90SW5kZXg+LTEpe3ZhciBwYXJlbnRMb2dnZXJOYW1lPWxvZ2dlck5hbWUuc3Vic3RyaW5nKDAsbGFzdERvdEluZGV4KTtwYXJlbnRMb2dnZXI9bG9nNGphdmFzY3JpcHQuZ2V0TG9nZ2VyKHBhcmVudExvZ2dlck5hbWUpO31lbHNle3BhcmVudExvZ2dlcj1yb290TG9nZ2VyO31cclxucGFyZW50TG9nZ2VyLmFkZENoaWxkKGxvZ2dlcik7fVxyXG5yZXR1cm4gbG9nZ2Vyc1tsb2dnZXJOYW1lXTt9O3ZhciBkZWZhdWx0TG9nZ2VyPW51bGw7bG9nNGphdmFzY3JpcHQuZ2V0RGVmYXVsdExvZ2dlcj1mdW5jdGlvbigpe2lmKCFkZWZhdWx0TG9nZ2VyKXtkZWZhdWx0TG9nZ2VyPWxvZzRqYXZhc2NyaXB0LmdldExvZ2dlcihkZWZhdWx0TG9nZ2VyTmFtZSk7dmFyIGE9bmV3IGxvZzRqYXZhc2NyaXB0LlBvcFVwQXBwZW5kZXIoKTtkZWZhdWx0TG9nZ2VyLmFkZEFwcGVuZGVyKGEpO31cclxucmV0dXJuIGRlZmF1bHRMb2dnZXI7fTt2YXIgbnVsbExvZ2dlcj1udWxsO2xvZzRqYXZhc2NyaXB0LmdldE51bGxMb2dnZXI9ZnVuY3Rpb24oKXtpZighbnVsbExvZ2dlcil7bnVsbExvZ2dlcj1uZXcgTG9nZ2VyKG51bGxMb2dnZXJOYW1lKTtudWxsTG9nZ2VyLnNldExldmVsKExldmVsLk9GRik7fVxyXG5yZXR1cm4gbnVsbExvZ2dlcjt9O2xvZzRqYXZhc2NyaXB0LnJlc2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe3Jvb3RMb2dnZXIuc2V0TGV2ZWwoUk9PVF9MT0dHRVJfREVGQVVMVF9MRVZFTCk7bG9nZ2Vycz17fTt9O3ZhciBMb2dnaW5nRXZlbnQ9ZnVuY3Rpb24obG9nZ2VyLHRpbWVTdGFtcCxsZXZlbCxtZXNzYWdlcyxleGNlcHRpb24pe3RoaXMubG9nZ2VyPWxvZ2dlcjt0aGlzLnRpbWVTdGFtcD10aW1lU3RhbXA7dGhpcy50aW1lU3RhbXBJbk1pbGxpc2Vjb25kcz10aW1lU3RhbXAuZ2V0VGltZSgpO3RoaXMudGltZVN0YW1wSW5TZWNvbmRzPU1hdGguZmxvb3IodGhpcy50aW1lU3RhbXBJbk1pbGxpc2Vjb25kcy8xMDAwKTt0aGlzLm1pbGxpc2Vjb25kcz10aGlzLnRpbWVTdGFtcC5nZXRNaWxsaXNlY29uZHMoKTt0aGlzLmxldmVsPWxldmVsO3RoaXMubWVzc2FnZXM9bWVzc2FnZXM7dGhpcy5leGNlcHRpb249ZXhjZXB0aW9uO307TG9nZ2luZ0V2ZW50LnByb3RvdHlwZT17Z2V0VGhyb3dhYmxlU3RyUmVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXhjZXB0aW9uP2dldEV4Y2VwdGlvblN0cmluZ1JlcCh0aGlzLmV4Y2VwdGlvbik6XCJcIjt9LGdldENvbWJpbmVkTWVzc2FnZXM6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5tZXNzYWdlcy5sZW5ndGg9PTEpP3RoaXMubWVzc2FnZXNbMF06dGhpcy5tZXNzYWdlcy5qb2luKG5ld0xpbmUpO30sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIkxvZ2dpbmdFdmVudFtcIit0aGlzLmxldmVsK1wiXVwiO319O2xvZzRqYXZhc2NyaXB0LkxvZ2dpbmdFdmVudD1Mb2dnaW5nRXZlbnQ7dmFyIExheW91dD1mdW5jdGlvbigpe307TGF5b3V0LnByb3RvdHlwZT17ZGVmYXVsdHM6e2xvZ2dlcktleTpcImxvZ2dlclwiLHRpbWVTdGFtcEtleTpcInRpbWVzdGFtcFwiLG1pbGxpc2Vjb25kc0tleTpcIm1pbGxpc2Vjb25kc1wiLGxldmVsS2V5OlwibGV2ZWxcIixtZXNzYWdlS2V5OlwibWVzc2FnZVwiLGV4Y2VwdGlvbktleTpcImV4Y2VwdGlvblwiLHVybEtleTpcInVybFwifSxsb2dnZXJLZXk6XCJsb2dnZXJcIix0aW1lU3RhbXBLZXk6XCJ0aW1lc3RhbXBcIixtaWxsaXNlY29uZHNLZXk6XCJtaWxsaXNlY29uZHNcIixsZXZlbEtleTpcImxldmVsXCIsbWVzc2FnZUtleTpcIm1lc3NhZ2VcIixleGNlcHRpb25LZXk6XCJleGNlcHRpb25cIix1cmxLZXk6XCJ1cmxcIixiYXRjaEhlYWRlcjpcIlwiLGJhdGNoRm9vdGVyOlwiXCIsYmF0Y2hTZXBhcmF0b3I6XCJcIixyZXR1cm5zUG9zdERhdGE6ZmFsc2Usb3ZlcnJpZGVUaW1lU3RhbXBzU2V0dGluZzpmYWxzZSx1c2VUaW1lU3RhbXBzSW5NaWxsaXNlY29uZHM6bnVsbCxmb3JtYXQ6ZnVuY3Rpb24oKXtoYW5kbGVFcnJvcihcIkxheW91dC5mb3JtYXQ6IGxheW91dCBzdXBwbGllZCBoYXMgbm8gZm9ybWF0KCkgbWV0aG9kXCIpO30saWdub3Jlc1Rocm93YWJsZTpmdW5jdGlvbigpe2hhbmRsZUVycm9yKFwiTGF5b3V0Lmlnbm9yZXNUaHJvd2FibGU6IGxheW91dCBzdXBwbGllZCBoYXMgbm8gaWdub3Jlc1Rocm93YWJsZSgpIG1ldGhvZFwiKTt9LGdldENvbnRlbnRUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ0ZXh0L3BsYWluXCI7fSxhbGxvd0JhdGNoaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRydWU7fSxzZXRUaW1lU3RhbXBzSW5NaWxsaXNlY29uZHM6ZnVuY3Rpb24odGltZVN0YW1wc0luTWlsbGlzZWNvbmRzKXt0aGlzLm92ZXJyaWRlVGltZVN0YW1wc1NldHRpbmc9dHJ1ZTt0aGlzLnVzZVRpbWVTdGFtcHNJbk1pbGxpc2Vjb25kcz1ib29sKHRpbWVTdGFtcHNJbk1pbGxpc2Vjb25kcyk7fSxpc1RpbWVTdGFtcHNJbk1pbGxpc2Vjb25kczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm92ZXJyaWRlVGltZVN0YW1wc1NldHRpbmc/dGhpcy51c2VUaW1lU3RhbXBzSW5NaWxsaXNlY29uZHM6dXNlVGltZVN0YW1wc0luTWlsbGlzZWNvbmRzO30sZ2V0VGltZVN0YW1wVmFsdWU6ZnVuY3Rpb24obG9nZ2luZ0V2ZW50KXtyZXR1cm4gdGhpcy5pc1RpbWVTdGFtcHNJbk1pbGxpc2Vjb25kcygpP2xvZ2dpbmdFdmVudC50aW1lU3RhbXBJbk1pbGxpc2Vjb25kczpsb2dnaW5nRXZlbnQudGltZVN0YW1wSW5TZWNvbmRzO30sZ2V0RGF0YVZhbHVlczpmdW5jdGlvbihsb2dnaW5nRXZlbnQsY29tYmluZU1lc3NhZ2VzKXt2YXIgZGF0YVZhbHVlcz1bW3RoaXMubG9nZ2VyS2V5LGxvZ2dpbmdFdmVudC5sb2dnZXIubmFtZV0sW3RoaXMudGltZVN0YW1wS2V5LHRoaXMuZ2V0VGltZVN0YW1wVmFsdWUobG9nZ2luZ0V2ZW50KV0sW3RoaXMubGV2ZWxLZXksbG9nZ2luZ0V2ZW50LmxldmVsLm5hbWVdLFt0aGlzLnVybEtleSx3aW5kb3cubG9jYXRpb24uaHJlZl0sW3RoaXMubWVzc2FnZUtleSxjb21iaW5lTWVzc2FnZXM/bG9nZ2luZ0V2ZW50LmdldENvbWJpbmVkTWVzc2FnZXMoKTpsb2dnaW5nRXZlbnQubWVzc2FnZXNdXTtpZighdGhpcy5pc1RpbWVTdGFtcHNJbk1pbGxpc2Vjb25kcygpKXtkYXRhVmFsdWVzLnB1c2goW3RoaXMubWlsbGlzZWNvbmRzS2V5LGxvZ2dpbmdFdmVudC5taWxsaXNlY29uZHNdKTt9XHJcbmlmKGxvZ2dpbmdFdmVudC5leGNlcHRpb24pe2RhdGFWYWx1ZXMucHVzaChbdGhpcy5leGNlcHRpb25LZXksZ2V0RXhjZXB0aW9uU3RyaW5nUmVwKGxvZ2dpbmdFdmVudC5leGNlcHRpb24pXSk7fVxyXG5pZih0aGlzLmhhc0N1c3RvbUZpZWxkcygpKXtmb3IodmFyIGk9MCxsZW49dGhpcy5jdXN0b21GaWVsZHMubGVuZ3RoO2k8bGVuO2krKyl7dmFyIHZhbD10aGlzLmN1c3RvbUZpZWxkc1tpXS52YWx1ZTtpZih0eXBlb2YgdmFsPT09XCJmdW5jdGlvblwiKXt2YWw9dmFsKHRoaXMsbG9nZ2luZ0V2ZW50KTt9XHJcbmRhdGFWYWx1ZXMucHVzaChbdGhpcy5jdXN0b21GaWVsZHNbaV0ubmFtZSx2YWxdKTt9fVxyXG5yZXR1cm4gZGF0YVZhbHVlczt9LHNldEtleXM6ZnVuY3Rpb24obG9nZ2VyS2V5LHRpbWVTdGFtcEtleSxsZXZlbEtleSxtZXNzYWdlS2V5LGV4Y2VwdGlvbktleSx1cmxLZXksbWlsbGlzZWNvbmRzS2V5KXt0aGlzLmxvZ2dlcktleT1leHRyYWN0U3RyaW5nRnJvbVBhcmFtKGxvZ2dlcktleSx0aGlzLmRlZmF1bHRzLmxvZ2dlcktleSk7dGhpcy50aW1lU3RhbXBLZXk9ZXh0cmFjdFN0cmluZ0Zyb21QYXJhbSh0aW1lU3RhbXBLZXksdGhpcy5kZWZhdWx0cy50aW1lU3RhbXBLZXkpO3RoaXMubGV2ZWxLZXk9ZXh0cmFjdFN0cmluZ0Zyb21QYXJhbShsZXZlbEtleSx0aGlzLmRlZmF1bHRzLmxldmVsS2V5KTt0aGlzLm1lc3NhZ2VLZXk9ZXh0cmFjdFN0cmluZ0Zyb21QYXJhbShtZXNzYWdlS2V5LHRoaXMuZGVmYXVsdHMubWVzc2FnZUtleSk7dGhpcy5leGNlcHRpb25LZXk9ZXh0cmFjdFN0cmluZ0Zyb21QYXJhbShleGNlcHRpb25LZXksdGhpcy5kZWZhdWx0cy5leGNlcHRpb25LZXkpO3RoaXMudXJsS2V5PWV4dHJhY3RTdHJpbmdGcm9tUGFyYW0odXJsS2V5LHRoaXMuZGVmYXVsdHMudXJsS2V5KTt0aGlzLm1pbGxpc2Vjb25kc0tleT1leHRyYWN0U3RyaW5nRnJvbVBhcmFtKG1pbGxpc2Vjb25kc0tleSx0aGlzLmRlZmF1bHRzLm1pbGxpc2Vjb25kc0tleSk7fSxzZXRDdXN0b21GaWVsZDpmdW5jdGlvbihuYW1lLHZhbHVlKXt2YXIgZmllbGRVcGRhdGVkPWZhbHNlO2Zvcih2YXIgaT0wLGxlbj10aGlzLmN1c3RvbUZpZWxkcy5sZW5ndGg7aTxsZW47aSsrKXtpZih0aGlzLmN1c3RvbUZpZWxkc1tpXS5uYW1lPT09bmFtZSl7dGhpcy5jdXN0b21GaWVsZHNbaV0udmFsdWU9dmFsdWU7ZmllbGRVcGRhdGVkPXRydWU7fX1cclxuaWYoIWZpZWxkVXBkYXRlZCl7dGhpcy5jdXN0b21GaWVsZHMucHVzaCh7XCJuYW1lXCI6bmFtZSxcInZhbHVlXCI6dmFsdWV9KTt9fSxoYXNDdXN0b21GaWVsZHM6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5jdXN0b21GaWVsZHMubGVuZ3RoPjApO30sZm9ybWF0V2l0aEV4Y2VwdGlvbjpmdW5jdGlvbihsb2dnaW5nRXZlbnQpe3ZhciBmb3JtYXR0ZWQ9dGhpcy5mb3JtYXQobG9nZ2luZ0V2ZW50KTtpZihsb2dnaW5nRXZlbnQuZXhjZXB0aW9uJiZ0aGlzLmlnbm9yZXNUaHJvd2FibGUoKSl7Zm9ybWF0dGVkKz1sb2dnaW5nRXZlbnQuZ2V0VGhyb3dhYmxlU3RyUmVwKCk7fVxyXG5yZXR1cm4gZm9ybWF0dGVkO30sdG9TdHJpbmc6ZnVuY3Rpb24oKXtoYW5kbGVFcnJvcihcIkxheW91dC50b1N0cmluZzogYWxsIGxheW91dHMgbXVzdCBvdmVycmlkZSB0aGlzIG1ldGhvZFwiKTt9fTtsb2c0amF2YXNjcmlwdC5MYXlvdXQ9TGF5b3V0O3ZhciBBcHBlbmRlcj1mdW5jdGlvbigpe307QXBwZW5kZXIucHJvdG90eXBlPW5ldyBFdmVudFN1cHBvcnQoKTtBcHBlbmRlci5wcm90b3R5cGUubGF5b3V0PW5ldyBQYXR0ZXJuTGF5b3V0KCk7QXBwZW5kZXIucHJvdG90eXBlLnRocmVzaG9sZD1MZXZlbC5BTEw7QXBwZW5kZXIucHJvdG90eXBlLmxvZ2dlcnM9W107QXBwZW5kZXIucHJvdG90eXBlLmRvQXBwZW5kPWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7aWYoZW5hYmxlZCYmbG9nZ2luZ0V2ZW50LmxldmVsLmxldmVsPj10aGlzLnRocmVzaG9sZC5sZXZlbCl7dGhpcy5hcHBlbmQobG9nZ2luZ0V2ZW50KTt9fTtBcHBlbmRlci5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7fTtBcHBlbmRlci5wcm90b3R5cGUuc2V0TGF5b3V0PWZ1bmN0aW9uKGxheW91dCl7aWYobGF5b3V0IGluc3RhbmNlb2YgTGF5b3V0KXt0aGlzLmxheW91dD1sYXlvdXQ7fWVsc2V7aGFuZGxlRXJyb3IoXCJBcHBlbmRlci5zZXRMYXlvdXQ6IGxheW91dCBzdXBwbGllZCB0byBcIitcclxudGhpcy50b1N0cmluZygpK1wiIGlzIG5vdCBhIHN1YmNsYXNzIG9mIExheW91dFwiKTt9fTtBcHBlbmRlci5wcm90b3R5cGUuZ2V0TGF5b3V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF5b3V0O307QXBwZW5kZXIucHJvdG90eXBlLnNldFRocmVzaG9sZD1mdW5jdGlvbih0aHJlc2hvbGQpe2lmKHRocmVzaG9sZCBpbnN0YW5jZW9mIExldmVsKXt0aGlzLnRocmVzaG9sZD10aHJlc2hvbGQ7fWVsc2V7aGFuZGxlRXJyb3IoXCJBcHBlbmRlci5zZXRUaHJlc2hvbGQ6IHRocmVzaG9sZCBzdXBwbGllZCB0byBcIitcclxudGhpcy50b1N0cmluZygpK1wiIGlzIG5vdCBhIHN1YmNsYXNzIG9mIExldmVsXCIpO319O0FwcGVuZGVyLnByb3RvdHlwZS5nZXRUaHJlc2hvbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJlc2hvbGQ7fTtBcHBlbmRlci5wcm90b3R5cGUuc2V0QWRkZWRUb0xvZ2dlcj1mdW5jdGlvbihsb2dnZXIpe3RoaXMubG9nZ2Vycy5wdXNoKGxvZ2dlcik7fTtBcHBlbmRlci5wcm90b3R5cGUuc2V0UmVtb3ZlZEZyb21Mb2dnZXI9ZnVuY3Rpb24obG9nZ2VyKXthcnJheV9yZW1vdmUodGhpcy5sb2dnZXJzLGxvZ2dlcik7fTtBcHBlbmRlci5wcm90b3R5cGUuZ3JvdXA9ZW1wdHlGdW5jdGlvbjtBcHBlbmRlci5wcm90b3R5cGUuZ3JvdXBFbmQ9ZW1wdHlGdW5jdGlvbjtBcHBlbmRlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtoYW5kbGVFcnJvcihcIkFwcGVuZGVyLnRvU3RyaW5nOiBhbGwgYXBwZW5kZXJzIG11c3Qgb3ZlcnJpZGUgdGhpcyBtZXRob2RcIik7fTtsb2c0amF2YXNjcmlwdC5BcHBlbmRlcj1BcHBlbmRlcjtmdW5jdGlvbiBTaW1wbGVMYXlvdXQoKXt0aGlzLmN1c3RvbUZpZWxkcz1bXTt9XHJcblNpbXBsZUxheW91dC5wcm90b3R5cGU9bmV3IExheW91dCgpO1NpbXBsZUxheW91dC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7cmV0dXJuIGxvZ2dpbmdFdmVudC5sZXZlbC5uYW1lK1wiIC0gXCIrbG9nZ2luZ0V2ZW50LmdldENvbWJpbmVkTWVzc2FnZXMoKTt9O1NpbXBsZUxheW91dC5wcm90b3R5cGUuaWdub3Jlc1Rocm93YWJsZT1mdW5jdGlvbigpe3JldHVybiB0cnVlO307U2ltcGxlTGF5b3V0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiU2ltcGxlTGF5b3V0XCI7fTtsb2c0amF2YXNjcmlwdC5TaW1wbGVMYXlvdXQ9U2ltcGxlTGF5b3V0O2Z1bmN0aW9uIE51bGxMYXlvdXQoKXt0aGlzLmN1c3RvbUZpZWxkcz1bXTt9XHJcbk51bGxMYXlvdXQucHJvdG90eXBlPW5ldyBMYXlvdXQoKTtOdWxsTGF5b3V0LnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24obG9nZ2luZ0V2ZW50KXtyZXR1cm4gbG9nZ2luZ0V2ZW50Lm1lc3NhZ2VzO307TnVsbExheW91dC5wcm90b3R5cGUuaWdub3Jlc1Rocm93YWJsZT1mdW5jdGlvbigpe3JldHVybiB0cnVlO307TnVsbExheW91dC5wcm90b3R5cGUuZm9ybWF0V2l0aEV4Y2VwdGlvbj1mdW5jdGlvbihsb2dnaW5nRXZlbnQpe3ZhciBtZXNzYWdlcz1sb2dnaW5nRXZlbnQubWVzc2FnZXMsZXg9bG9nZ2luZ0V2ZW50LmV4Y2VwdGlvbjtyZXR1cm4gZXg/bWVzc2FnZXMuY29uY2F0KFtleF0pOm1lc3NhZ2VzO307TnVsbExheW91dC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk51bGxMYXlvdXRcIjt9O2xvZzRqYXZhc2NyaXB0Lk51bGxMYXlvdXQ9TnVsbExheW91dDtmdW5jdGlvbiBYbWxMYXlvdXQoY29tYmluZU1lc3NhZ2VzKXt0aGlzLmNvbWJpbmVNZXNzYWdlcz1leHRyYWN0Qm9vbGVhbkZyb21QYXJhbShjb21iaW5lTWVzc2FnZXMsdHJ1ZSk7dGhpcy5jdXN0b21GaWVsZHM9W107fVxyXG5YbWxMYXlvdXQucHJvdG90eXBlPW5ldyBMYXlvdXQoKTtYbWxMYXlvdXQucHJvdG90eXBlLmlzQ29tYmluZWRNZXNzYWdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbWJpbmVNZXNzYWdlczt9O1htbExheW91dC5wcm90b3R5cGUuZ2V0Q29udGVudFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm5cInRleHQveG1sXCI7fTtYbWxMYXlvdXQucHJvdG90eXBlLmVzY2FwZUNkYXRhPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC9cXF1cXF0+LyxcIl1dPl1dJmd0OzwhW0NEQVRBW1wiKTt9O1htbExheW91dC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7dmFyIGxheW91dD10aGlzO3ZhciBpLGxlbjtmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG1lc3NhZ2Upe21lc3NhZ2U9KHR5cGVvZiBtZXNzYWdlPT09XCJzdHJpbmdcIik/bWVzc2FnZTp0b1N0cihtZXNzYWdlKTtyZXR1cm5cIjxsb2c0amF2YXNjcmlwdDptZXNzYWdlPjwhW0NEQVRBW1wiK1xyXG5sYXlvdXQuZXNjYXBlQ2RhdGEobWVzc2FnZSkrXCJdXT48L2xvZzRqYXZhc2NyaXB0Om1lc3NhZ2U+XCI7fVxyXG52YXIgc3RyPVwiPGxvZzRqYXZhc2NyaXB0OmV2ZW50IGxvZ2dlcj1cXFwiXCIrbG9nZ2luZ0V2ZW50LmxvZ2dlci5uYW1lK1wiXFxcIiB0aW1lc3RhbXA9XFxcIlwiK3RoaXMuZ2V0VGltZVN0YW1wVmFsdWUobG9nZ2luZ0V2ZW50KStcIlxcXCJcIjtpZighdGhpcy5pc1RpbWVTdGFtcHNJbk1pbGxpc2Vjb25kcygpKXtzdHIrPVwiIG1pbGxpc2Vjb25kcz1cXFwiXCIrbG9nZ2luZ0V2ZW50Lm1pbGxpc2Vjb25kcytcIlxcXCJcIjt9XHJcbnN0cis9XCIgbGV2ZWw9XFxcIlwiK2xvZ2dpbmdFdmVudC5sZXZlbC5uYW1lK1wiXFxcIj5cIituZXdMaW5lO2lmKHRoaXMuY29tYmluZU1lc3NhZ2VzKXtzdHIrPWZvcm1hdE1lc3NhZ2UobG9nZ2luZ0V2ZW50LmdldENvbWJpbmVkTWVzc2FnZXMoKSk7fWVsc2V7c3RyKz1cIjxsb2c0amF2YXNjcmlwdDptZXNzYWdlcz5cIituZXdMaW5lO2ZvcihpPTAsbGVuPWxvZ2dpbmdFdmVudC5tZXNzYWdlcy5sZW5ndGg7aTxsZW47aSsrKXtzdHIrPWZvcm1hdE1lc3NhZ2UobG9nZ2luZ0V2ZW50Lm1lc3NhZ2VzW2ldKStuZXdMaW5lO31cclxuc3RyKz1cIjwvbG9nNGphdmFzY3JpcHQ6bWVzc2FnZXM+XCIrbmV3TGluZTt9XHJcbmlmKHRoaXMuaGFzQ3VzdG9tRmllbGRzKCkpe2ZvcihpPTAsbGVuPXRoaXMuY3VzdG9tRmllbGRzLmxlbmd0aDtpPGxlbjtpKyspe3N0cis9XCI8bG9nNGphdmFzY3JpcHQ6Y3VzdG9tZmllbGQgbmFtZT1cXFwiXCIrXHJcbnRoaXMuY3VzdG9tRmllbGRzW2ldLm5hbWUrXCJcXFwiPjwhW0NEQVRBW1wiK1xyXG50aGlzLmN1c3RvbUZpZWxkc1tpXS52YWx1ZS50b1N0cmluZygpK1wiXV0+PC9sb2c0amF2YXNjcmlwdDpjdXN0b21maWVsZD5cIituZXdMaW5lO319XHJcbmlmKGxvZ2dpbmdFdmVudC5leGNlcHRpb24pe3N0cis9XCI8bG9nNGphdmFzY3JpcHQ6ZXhjZXB0aW9uPjwhW0NEQVRBW1wiK1xyXG5nZXRFeGNlcHRpb25TdHJpbmdSZXAobG9nZ2luZ0V2ZW50LmV4Y2VwdGlvbikrXCJdXT48L2xvZzRqYXZhc2NyaXB0OmV4Y2VwdGlvbj5cIituZXdMaW5lO31cclxuc3RyKz1cIjwvbG9nNGphdmFzY3JpcHQ6ZXZlbnQ+XCIrbmV3TGluZStuZXdMaW5lO3JldHVybiBzdHI7fTtYbWxMYXlvdXQucHJvdG90eXBlLmlnbm9yZXNUaHJvd2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2U7fTtYbWxMYXlvdXQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJYbWxMYXlvdXRcIjt9O2xvZzRqYXZhc2NyaXB0LlhtbExheW91dD1YbWxMYXlvdXQ7ZnVuY3Rpb24gZXNjYXBlTmV3TGluZXMoc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoL1xcclxcbnxcXHJ8XFxuL2csXCJcXFxcclxcXFxuXCIpO31cclxuZnVuY3Rpb24gSnNvbkxheW91dChyZWFkYWJsZSxjb21iaW5lTWVzc2FnZXMpe3RoaXMucmVhZGFibGU9ZXh0cmFjdEJvb2xlYW5Gcm9tUGFyYW0ocmVhZGFibGUsZmFsc2UpO3RoaXMuY29tYmluZU1lc3NhZ2VzPWV4dHJhY3RCb29sZWFuRnJvbVBhcmFtKGNvbWJpbmVNZXNzYWdlcyx0cnVlKTt0aGlzLmJhdGNoSGVhZGVyPXRoaXMucmVhZGFibGU/XCJbXCIrbmV3TGluZTpcIltcIjt0aGlzLmJhdGNoRm9vdGVyPXRoaXMucmVhZGFibGU/XCJdXCIrbmV3TGluZTpcIl1cIjt0aGlzLmJhdGNoU2VwYXJhdG9yPXRoaXMucmVhZGFibGU/XCIsXCIrbmV3TGluZTpcIixcIjt0aGlzLnNldEtleXMoKTt0aGlzLmNvbG9uPXRoaXMucmVhZGFibGU/XCI6IFwiOlwiOlwiO3RoaXMudGFiPXRoaXMucmVhZGFibGU/XCJcXHRcIjpcIlwiO3RoaXMubGluZUJyZWFrPXRoaXMucmVhZGFibGU/bmV3TGluZTpcIlwiO3RoaXMuY3VzdG9tRmllbGRzPVtdO31cclxuSnNvbkxheW91dC5wcm90b3R5cGU9bmV3IExheW91dCgpO0pzb25MYXlvdXQucHJvdG90eXBlLmlzUmVhZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkYWJsZTt9O0pzb25MYXlvdXQucHJvdG90eXBlLmlzQ29tYmluZWRNZXNzYWdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbWJpbmVNZXNzYWdlczt9O0pzb25MYXlvdXQucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbihsb2dnaW5nRXZlbnQpe3ZhciBsYXlvdXQ9dGhpczt2YXIgZGF0YVZhbHVlcz10aGlzLmdldERhdGFWYWx1ZXMobG9nZ2luZ0V2ZW50LHRoaXMuY29tYmluZU1lc3NhZ2VzKTt2YXIgc3RyPVwie1wiK3RoaXMubGluZUJyZWFrO3ZhciBpLGxlbjtmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2YWwscHJlZml4LGV4cGFuZCl7dmFyIGZvcm1hdHRlZFZhbHVlO3ZhciB2YWxUeXBlPXR5cGVvZiB2YWw7aWYodmFsIGluc3RhbmNlb2YgRGF0ZSl7Zm9ybWF0dGVkVmFsdWU9U3RyaW5nKHZhbC5nZXRUaW1lKCkpO31lbHNlIGlmKGV4cGFuZCYmKHZhbCBpbnN0YW5jZW9mIEFycmF5KSl7Zm9ybWF0dGVkVmFsdWU9XCJbXCIrbGF5b3V0LmxpbmVCcmVhaztmb3IodmFyIGk9MCxsZW49dmFsLmxlbmd0aDtpPGxlbjtpKyspe3ZhciBjaGlsZFByZWZpeD1wcmVmaXgrbGF5b3V0LnRhYjtmb3JtYXR0ZWRWYWx1ZSs9Y2hpbGRQcmVmaXgrZm9ybWF0VmFsdWUodmFsW2ldLGNoaWxkUHJlZml4LGZhbHNlKTtpZihpPHZhbC5sZW5ndGgtMSl7Zm9ybWF0dGVkVmFsdWUrPVwiLFwiO31cclxuZm9ybWF0dGVkVmFsdWUrPWxheW91dC5saW5lQnJlYWs7fVxyXG5mb3JtYXR0ZWRWYWx1ZSs9cHJlZml4K1wiXVwiO31lbHNlIGlmKHZhbFR5cGUhPT1cIm51bWJlclwiJiZ2YWxUeXBlIT09XCJib29sZWFuXCIpe2Zvcm1hdHRlZFZhbHVlPVwiXFxcIlwiK2VzY2FwZU5ld0xpbmVzKHRvU3RyKHZhbCkucmVwbGFjZSgvXFxcIi9nLFwiXFxcXFxcXCJcIikpK1wiXFxcIlwiO31lbHNle2Zvcm1hdHRlZFZhbHVlPXZhbDt9XHJcbnJldHVybiBmb3JtYXR0ZWRWYWx1ZTt9XHJcbmZvcihpPTAsbGVuPWRhdGFWYWx1ZXMubGVuZ3RoLTE7aTw9bGVuO2krKyl7c3RyKz10aGlzLnRhYitcIlxcXCJcIitkYXRhVmFsdWVzW2ldWzBdK1wiXFxcIlwiK3RoaXMuY29sb24rZm9ybWF0VmFsdWUoZGF0YVZhbHVlc1tpXVsxXSx0aGlzLnRhYix0cnVlKTtpZihpPGxlbil7c3RyKz1cIixcIjt9XHJcbnN0cis9dGhpcy5saW5lQnJlYWs7fVxyXG5zdHIrPVwifVwiK3RoaXMubGluZUJyZWFrO3JldHVybiBzdHI7fTtKc29uTGF5b3V0LnByb3RvdHlwZS5pZ25vcmVzVGhyb3dhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlO307SnNvbkxheW91dC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkpzb25MYXlvdXRcIjt9O0pzb25MYXlvdXQucHJvdG90eXBlLmdldENvbnRlbnRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuXCJhcHBsaWNhdGlvbi9qc29uXCI7fTtsb2c0amF2YXNjcmlwdC5Kc29uTGF5b3V0PUpzb25MYXlvdXQ7ZnVuY3Rpb24gSHR0cFBvc3REYXRhTGF5b3V0KCl7dGhpcy5zZXRLZXlzKCk7dGhpcy5jdXN0b21GaWVsZHM9W107dGhpcy5yZXR1cm5zUG9zdERhdGE9dHJ1ZTt9XHJcbkh0dHBQb3N0RGF0YUxheW91dC5wcm90b3R5cGU9bmV3IExheW91dCgpO0h0dHBQb3N0RGF0YUxheW91dC5wcm90b3R5cGUuYWxsb3dCYXRjaGluZz1mdW5jdGlvbigpe3JldHVybiBmYWxzZTt9O0h0dHBQb3N0RGF0YUxheW91dC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7dmFyIGRhdGFWYWx1ZXM9dGhpcy5nZXREYXRhVmFsdWVzKGxvZ2dpbmdFdmVudCk7dmFyIHF1ZXJ5Qml0cz1bXTtmb3IodmFyIGk9MCxsZW49ZGF0YVZhbHVlcy5sZW5ndGg7aTxsZW47aSsrKXt2YXIgdmFsPShkYXRhVmFsdWVzW2ldWzFdaW5zdGFuY2VvZiBEYXRlKT9TdHJpbmcoZGF0YVZhbHVlc1tpXVsxXS5nZXRUaW1lKCkpOmRhdGFWYWx1ZXNbaV1bMV07cXVlcnlCaXRzLnB1c2godXJsRW5jb2RlKGRhdGFWYWx1ZXNbaV1bMF0pK1wiPVwiK3VybEVuY29kZSh2YWwpKTt9XHJcbnJldHVybiBxdWVyeUJpdHMuam9pbihcIiZcIik7fTtIdHRwUG9zdERhdGFMYXlvdXQucHJvdG90eXBlLmlnbm9yZXNUaHJvd2FibGU9ZnVuY3Rpb24obG9nZ2luZ0V2ZW50KXtyZXR1cm4gZmFsc2U7fTtIdHRwUG9zdERhdGFMYXlvdXQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJIdHRwUG9zdERhdGFMYXlvdXRcIjt9O2xvZzRqYXZhc2NyaXB0Lkh0dHBQb3N0RGF0YUxheW91dD1IdHRwUG9zdERhdGFMYXlvdXQ7ZnVuY3Rpb24gZm9ybWF0T2JqZWN0RXhwYW5zaW9uKG9iaixkZXB0aCxpbmRlbnRhdGlvbil7dmFyIG9iamVjdHNFeHBhbmRlZD1bXTtmdW5jdGlvbiBkb0Zvcm1hdChvYmosZGVwdGgsaW5kZW50YXRpb24pe3ZhciBpLGosbGVuLGNoaWxkRGVwdGgsY2hpbGRJbmRlbnRhdGlvbixjaGlsZExpbmVzLGV4cGFuc2lvbixjaGlsZEV4cGFuc2lvbjtpZighaW5kZW50YXRpb24pe2luZGVudGF0aW9uPVwiXCI7fVxyXG5mdW5jdGlvbiBmb3JtYXRTdHJpbmcodGV4dCl7dmFyIGxpbmVzPXNwbGl0SW50b0xpbmVzKHRleHQpO2Zvcih2YXIgaj0xLGpMZW49bGluZXMubGVuZ3RoO2o8akxlbjtqKyspe2xpbmVzW2pdPWluZGVudGF0aW9uK2xpbmVzW2pdO31cclxucmV0dXJuIGxpbmVzLmpvaW4obmV3TGluZSk7fVxyXG5pZihvYmo9PT1udWxsKXtyZXR1cm5cIm51bGxcIjt9ZWxzZSBpZih0eXBlb2Ygb2JqPT1cInVuZGVmaW5lZFwiKXtyZXR1cm5cInVuZGVmaW5lZFwiO31lbHNlIGlmKHR5cGVvZiBvYmo9PVwic3RyaW5nXCIpe3JldHVybiBmb3JtYXRTdHJpbmcob2JqKTt9ZWxzZSBpZih0eXBlb2Ygb2JqPT1cIm9iamVjdFwiJiZhcnJheV9jb250YWlucyhvYmplY3RzRXhwYW5kZWQsb2JqKSl7dHJ5e2V4cGFuc2lvbj10b1N0cihvYmopO31jYXRjaChleCl7ZXhwYW5zaW9uPVwiRXJyb3IgZm9ybWF0dGluZyBwcm9wZXJ0eS4gRGV0YWlsczogXCIrZ2V0RXhjZXB0aW9uU3RyaW5nUmVwKGV4KTt9XHJcbnJldHVybiBleHBhbnNpb24rXCIgW2FscmVhZHkgZXhwYW5kZWRdXCI7fWVsc2UgaWYoKG9iaiBpbnN0YW5jZW9mIEFycmF5KSYmZGVwdGg+MCl7b2JqZWN0c0V4cGFuZGVkLnB1c2gob2JqKTtleHBhbnNpb249XCJbXCIrbmV3TGluZTtjaGlsZERlcHRoPWRlcHRoLTE7Y2hpbGRJbmRlbnRhdGlvbj1pbmRlbnRhdGlvbitcIiAgXCI7Y2hpbGRMaW5lcz1bXTtmb3IoaT0wLGxlbj1vYmoubGVuZ3RoO2k8bGVuO2krKyl7dHJ5e2NoaWxkRXhwYW5zaW9uPWRvRm9ybWF0KG9ialtpXSxjaGlsZERlcHRoLGNoaWxkSW5kZW50YXRpb24pO2NoaWxkTGluZXMucHVzaChjaGlsZEluZGVudGF0aW9uK2NoaWxkRXhwYW5zaW9uKTt9Y2F0Y2goZXgpe2NoaWxkTGluZXMucHVzaChjaGlsZEluZGVudGF0aW9uK1wiRXJyb3IgZm9ybWF0dGluZyBhcnJheSBtZW1iZXIuIERldGFpbHM6IFwiK1xyXG5nZXRFeGNlcHRpb25TdHJpbmdSZXAoZXgpK1wiXCIpO319XHJcbmV4cGFuc2lvbis9Y2hpbGRMaW5lcy5qb2luKFwiLFwiK25ld0xpbmUpK25ld0xpbmUraW5kZW50YXRpb24rXCJdXCI7cmV0dXJuIGV4cGFuc2lvbjt9ZWxzZSBpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKT09XCJbb2JqZWN0IERhdGVdXCIpe3JldHVybiBvYmoudG9TdHJpbmcoKTt9ZWxzZSBpZih0eXBlb2Ygb2JqPT1cIm9iamVjdFwiJiZkZXB0aD4wKXtvYmplY3RzRXhwYW5kZWQucHVzaChvYmopO2V4cGFuc2lvbj1cIntcIituZXdMaW5lO2NoaWxkRGVwdGg9ZGVwdGgtMTtjaGlsZEluZGVudGF0aW9uPWluZGVudGF0aW9uK1wiICBcIjtjaGlsZExpbmVzPVtdO2ZvcihpIGluIG9iail7dHJ5e2NoaWxkRXhwYW5zaW9uPWRvRm9ybWF0KG9ialtpXSxjaGlsZERlcHRoLGNoaWxkSW5kZW50YXRpb24pO2NoaWxkTGluZXMucHVzaChjaGlsZEluZGVudGF0aW9uK2krXCI6IFwiK2NoaWxkRXhwYW5zaW9uKTt9Y2F0Y2goZXgpe2NoaWxkTGluZXMucHVzaChjaGlsZEluZGVudGF0aW9uK2krXCI6IEVycm9yIGZvcm1hdHRpbmcgcHJvcGVydHkuIERldGFpbHM6IFwiK1xyXG5nZXRFeGNlcHRpb25TdHJpbmdSZXAoZXgpKTt9fVxyXG5leHBhbnNpb24rPWNoaWxkTGluZXMuam9pbihcIixcIituZXdMaW5lKStuZXdMaW5lK2luZGVudGF0aW9uK1wifVwiO3JldHVybiBleHBhbnNpb247fWVsc2V7cmV0dXJuIGZvcm1hdFN0cmluZyh0b1N0cihvYmopKTt9fVxyXG5yZXR1cm4gZG9Gb3JtYXQob2JqLGRlcHRoLGluZGVudGF0aW9uKTt9XHJcbnZhciBTaW1wbGVEYXRlRm9ybWF0OyhmdW5jdGlvbigpe3ZhciByZWdleD0vKCdbXiddKicpfChHK3x5K3xNK3x3K3xXK3xEK3xkK3xGK3xFK3xhK3xIK3xrK3xLK3xoK3xtK3xzK3xTK3xaKyl8KFthLXpBLVpdKyl8KFteYS16QS1aJ10rKS87dmFyIG1vbnRoTmFtZXM9W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdO3ZhciBkYXlOYW1lcz1bXCJTdW5kYXlcIixcIk1vbmRheVwiLFwiVHVlc2RheVwiLFwiV2VkbmVzZGF5XCIsXCJUaHVyc2RheVwiLFwiRnJpZGF5XCIsXCJTYXR1cmRheVwiXTt2YXIgVEVYVDI9MCxURVhUMz0xLE5VTUJFUj0yLFlFQVI9MyxNT05USD00LFRJTUVaT05FPTU7dmFyIHR5cGVzPXtHOlRFWFQyLHk6WUVBUixNOk1PTlRILHc6TlVNQkVSLFc6TlVNQkVSLEQ6TlVNQkVSLGQ6TlVNQkVSLEY6TlVNQkVSLEU6VEVYVDMsYTpURVhUMixIOk5VTUJFUixrOk5VTUJFUixLOk5VTUJFUixoOk5VTUJFUixtOk5VTUJFUixzOk5VTUJFUixTOk5VTUJFUixaOlRJTUVaT05FfTt2YXIgT05FX0RBWT0yNCo2MCo2MCoxMDAwO3ZhciBPTkVfV0VFSz03Kk9ORV9EQVk7dmFyIERFRkFVTFRfTUlOSU1BTF9EQVlTX0lOX0ZJUlNUX1dFRUs9MTt2YXIgbmV3RGF0ZUF0TWlkbmlnaHQ9ZnVuY3Rpb24oeWVhcixtb250aCxkYXkpe3ZhciBkPW5ldyBEYXRlKHllYXIsbW9udGgsZGF5LDAsMCwwKTtkLnNldE1pbGxpc2Vjb25kcygwKTtyZXR1cm4gZDt9O0RhdGUucHJvdG90eXBlLmdldERpZmZlcmVuY2U9ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIHRoaXMuZ2V0VGltZSgpLWRhdGUuZ2V0VGltZSgpO307RGF0ZS5wcm90b3R5cGUuaXNCZWZvcmU9ZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMuZ2V0VGltZSgpPGQuZ2V0VGltZSgpO307RGF0ZS5wcm90b3R5cGUuZ2V0VVRDVGltZT1mdW5jdGlvbigpe3JldHVybiBEYXRlLlVUQyh0aGlzLmdldEZ1bGxZZWFyKCksdGhpcy5nZXRNb250aCgpLHRoaXMuZ2V0RGF0ZSgpLHRoaXMuZ2V0SG91cnMoKSx0aGlzLmdldE1pbnV0ZXMoKSx0aGlzLmdldFNlY29uZHMoKSx0aGlzLmdldE1pbGxpc2Vjb25kcygpKTt9O0RhdGUucHJvdG90eXBlLmdldFRpbWVTaW5jZT1mdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5nZXRVVENUaW1lKCktZC5nZXRVVENUaW1lKCk7fTtEYXRlLnByb3RvdHlwZS5nZXRQcmV2aW91c1N1bmRheT1mdW5jdGlvbigpe3ZhciBtaWRkYXk9bmV3IERhdGUodGhpcy5nZXRGdWxsWWVhcigpLHRoaXMuZ2V0TW9udGgoKSx0aGlzLmdldERhdGUoKSwxMiwwLDApO3ZhciBwcmV2aW91c1N1bmRheT1uZXcgRGF0ZShtaWRkYXkuZ2V0VGltZSgpLXRoaXMuZ2V0RGF5KCkqT05FX0RBWSk7cmV0dXJuIG5ld0RhdGVBdE1pZG5pZ2h0KHByZXZpb3VzU3VuZGF5LmdldEZ1bGxZZWFyKCkscHJldmlvdXNTdW5kYXkuZ2V0TW9udGgoKSxwcmV2aW91c1N1bmRheS5nZXREYXRlKCkpO307RGF0ZS5wcm90b3R5cGUuZ2V0V2Vla0luWWVhcj1mdW5jdGlvbihtaW5pbWFsRGF5c0luRmlyc3RXZWVrKXtpZihpc1VuZGVmaW5lZCh0aGlzLm1pbmltYWxEYXlzSW5GaXJzdFdlZWspKXttaW5pbWFsRGF5c0luRmlyc3RXZWVrPURFRkFVTFRfTUlOSU1BTF9EQVlTX0lOX0ZJUlNUX1dFRUs7fVxyXG52YXIgcHJldmlvdXNTdW5kYXk9dGhpcy5nZXRQcmV2aW91c1N1bmRheSgpO3ZhciBzdGFydE9mWWVhcj1uZXdEYXRlQXRNaWRuaWdodCh0aGlzLmdldEZ1bGxZZWFyKCksMCwxKTt2YXIgbnVtYmVyT2ZTdW5kYXlzPXByZXZpb3VzU3VuZGF5LmlzQmVmb3JlKHN0YXJ0T2ZZZWFyKT8wOjErTWF0aC5mbG9vcihwcmV2aW91c1N1bmRheS5nZXRUaW1lU2luY2Uoc3RhcnRPZlllYXIpL09ORV9XRUVLKTt2YXIgbnVtYmVyT2ZEYXlzSW5GaXJzdFdlZWs9Ny1zdGFydE9mWWVhci5nZXREYXkoKTt2YXIgd2Vla0luWWVhcj1udW1iZXJPZlN1bmRheXM7aWYobnVtYmVyT2ZEYXlzSW5GaXJzdFdlZWs8bWluaW1hbERheXNJbkZpcnN0V2Vlayl7d2Vla0luWWVhci0tO31cclxucmV0dXJuIHdlZWtJblllYXI7fTtEYXRlLnByb3RvdHlwZS5nZXRXZWVrSW5Nb250aD1mdW5jdGlvbihtaW5pbWFsRGF5c0luRmlyc3RXZWVrKXtpZihpc1VuZGVmaW5lZCh0aGlzLm1pbmltYWxEYXlzSW5GaXJzdFdlZWspKXttaW5pbWFsRGF5c0luRmlyc3RXZWVrPURFRkFVTFRfTUlOSU1BTF9EQVlTX0lOX0ZJUlNUX1dFRUs7fVxyXG52YXIgcHJldmlvdXNTdW5kYXk9dGhpcy5nZXRQcmV2aW91c1N1bmRheSgpO3ZhciBzdGFydE9mTW9udGg9bmV3RGF0ZUF0TWlkbmlnaHQodGhpcy5nZXRGdWxsWWVhcigpLHRoaXMuZ2V0TW9udGgoKSwxKTt2YXIgbnVtYmVyT2ZTdW5kYXlzPXByZXZpb3VzU3VuZGF5LmlzQmVmb3JlKHN0YXJ0T2ZNb250aCk/MDoxK01hdGguZmxvb3IocHJldmlvdXNTdW5kYXkuZ2V0VGltZVNpbmNlKHN0YXJ0T2ZNb250aCkvT05FX1dFRUspO3ZhciBudW1iZXJPZkRheXNJbkZpcnN0V2Vlaz03LXN0YXJ0T2ZNb250aC5nZXREYXkoKTt2YXIgd2Vla0luTW9udGg9bnVtYmVyT2ZTdW5kYXlzO2lmKG51bWJlck9mRGF5c0luRmlyc3RXZWVrPj1taW5pbWFsRGF5c0luRmlyc3RXZWVrKXt3ZWVrSW5Nb250aCsrO31cclxucmV0dXJuIHdlZWtJbk1vbnRoO307RGF0ZS5wcm90b3R5cGUuZ2V0RGF5SW5ZZWFyPWZ1bmN0aW9uKCl7dmFyIHN0YXJ0T2ZZZWFyPW5ld0RhdGVBdE1pZG5pZ2h0KHRoaXMuZ2V0RnVsbFllYXIoKSwwLDEpO3JldHVybiAxK01hdGguZmxvb3IodGhpcy5nZXRUaW1lU2luY2Uoc3RhcnRPZlllYXIpL09ORV9EQVkpO307U2ltcGxlRGF0ZUZvcm1hdD1mdW5jdGlvbihmb3JtYXRTdHJpbmcpe3RoaXMuZm9ybWF0U3RyaW5nPWZvcm1hdFN0cmluZzt9O1NpbXBsZURhdGVGb3JtYXQucHJvdG90eXBlLnNldE1pbmltYWxEYXlzSW5GaXJzdFdlZWs9ZnVuY3Rpb24oZGF5cyl7dGhpcy5taW5pbWFsRGF5c0luRmlyc3RXZWVrPWRheXM7fTtTaW1wbGVEYXRlRm9ybWF0LnByb3RvdHlwZS5nZXRNaW5pbWFsRGF5c0luRmlyc3RXZWVrPWZ1bmN0aW9uKCl7cmV0dXJuIGlzVW5kZWZpbmVkKHRoaXMubWluaW1hbERheXNJbkZpcnN0V2Vlayk/REVGQVVMVF9NSU5JTUFMX0RBWVNfSU5fRklSU1RfV0VFSzp0aGlzLm1pbmltYWxEYXlzSW5GaXJzdFdlZWs7fTt2YXIgcGFkV2l0aFplcm9lcz1mdW5jdGlvbihzdHIsbGVuKXt3aGlsZShzdHIubGVuZ3RoPGxlbil7c3RyPVwiMFwiK3N0cjt9XHJcbnJldHVybiBzdHI7fTt2YXIgZm9ybWF0VGV4dD1mdW5jdGlvbihkYXRhLG51bWJlck9mTGV0dGVycyxtaW5MZW5ndGgpe3JldHVybihudW1iZXJPZkxldHRlcnM+PTQpP2RhdGE6ZGF0YS5zdWJzdHIoMCxNYXRoLm1heChtaW5MZW5ndGgsbnVtYmVyT2ZMZXR0ZXJzKSk7fTt2YXIgZm9ybWF0TnVtYmVyPWZ1bmN0aW9uKGRhdGEsbnVtYmVyT2ZMZXR0ZXJzKXt2YXIgZGF0YVN0cmluZz1cIlwiK2RhdGE7cmV0dXJuIHBhZFdpdGhaZXJvZXMoZGF0YVN0cmluZyxudW1iZXJPZkxldHRlcnMpO307U2ltcGxlRGF0ZUZvcm1hdC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGRhdGUpe3ZhciBmb3JtYXR0ZWRTdHJpbmc9XCJcIjt2YXIgcmVzdWx0O3ZhciBzZWFyY2hTdHJpbmc9dGhpcy5mb3JtYXRTdHJpbmc7d2hpbGUoKHJlc3VsdD1yZWdleC5leGVjKHNlYXJjaFN0cmluZykpKXt2YXIgcXVvdGVkU3RyaW5nPXJlc3VsdFsxXTt2YXIgcGF0dGVybkxldHRlcnM9cmVzdWx0WzJdO3ZhciBvdGhlckxldHRlcnM9cmVzdWx0WzNdO3ZhciBvdGhlckNoYXJhY3RlcnM9cmVzdWx0WzRdO2lmKHF1b3RlZFN0cmluZyl7aWYocXVvdGVkU3RyaW5nPT1cIicnXCIpe2Zvcm1hdHRlZFN0cmluZys9XCInXCI7fWVsc2V7Zm9ybWF0dGVkU3RyaW5nKz1xdW90ZWRTdHJpbmcuc3Vic3RyaW5nKDEscXVvdGVkU3RyaW5nLmxlbmd0aC0xKTt9fWVsc2UgaWYob3RoZXJMZXR0ZXJzKXt9ZWxzZSBpZihvdGhlckNoYXJhY3RlcnMpe2Zvcm1hdHRlZFN0cmluZys9b3RoZXJDaGFyYWN0ZXJzO31lbHNlIGlmKHBhdHRlcm5MZXR0ZXJzKXt2YXIgcGF0dGVybkxldHRlcj1wYXR0ZXJuTGV0dGVycy5jaGFyQXQoMCk7dmFyIG51bWJlck9mTGV0dGVycz1wYXR0ZXJuTGV0dGVycy5sZW5ndGg7dmFyIHJhd0RhdGE9XCJcIjtzd2l0Y2gocGF0dGVybkxldHRlcil7Y2FzZVwiR1wiOnJhd0RhdGE9XCJBRFwiO2JyZWFrO2Nhc2VcInlcIjpyYXdEYXRhPWRhdGUuZ2V0RnVsbFllYXIoKTticmVhaztjYXNlXCJNXCI6cmF3RGF0YT1kYXRlLmdldE1vbnRoKCk7YnJlYWs7Y2FzZVwid1wiOnJhd0RhdGE9ZGF0ZS5nZXRXZWVrSW5ZZWFyKHRoaXMuZ2V0TWluaW1hbERheXNJbkZpcnN0V2VlaygpKTticmVhaztjYXNlXCJXXCI6cmF3RGF0YT1kYXRlLmdldFdlZWtJbk1vbnRoKHRoaXMuZ2V0TWluaW1hbERheXNJbkZpcnN0V2VlaygpKTticmVhaztjYXNlXCJEXCI6cmF3RGF0YT1kYXRlLmdldERheUluWWVhcigpO2JyZWFrO2Nhc2VcImRcIjpyYXdEYXRhPWRhdGUuZ2V0RGF0ZSgpO2JyZWFrO2Nhc2VcIkZcIjpyYXdEYXRhPTErTWF0aC5mbG9vcigoZGF0ZS5nZXREYXRlKCktMSkvNyk7YnJlYWs7Y2FzZVwiRVwiOnJhd0RhdGE9ZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV07YnJlYWs7Y2FzZVwiYVwiOnJhd0RhdGE9KGRhdGUuZ2V0SG91cnMoKT49MTIpP1wiUE1cIjpcIkFNXCI7YnJlYWs7Y2FzZVwiSFwiOnJhd0RhdGE9ZGF0ZS5nZXRIb3VycygpO2JyZWFrO2Nhc2VcImtcIjpyYXdEYXRhPWRhdGUuZ2V0SG91cnMoKXx8MjQ7YnJlYWs7Y2FzZVwiS1wiOnJhd0RhdGE9ZGF0ZS5nZXRIb3VycygpJTEyO2JyZWFrO2Nhc2VcImhcIjpyYXdEYXRhPShkYXRlLmdldEhvdXJzKCklMTIpfHwxMjticmVhaztjYXNlXCJtXCI6cmF3RGF0YT1kYXRlLmdldE1pbnV0ZXMoKTticmVhaztjYXNlXCJzXCI6cmF3RGF0YT1kYXRlLmdldFNlY29uZHMoKTticmVhaztjYXNlXCJTXCI6cmF3RGF0YT1kYXRlLmdldE1pbGxpc2Vjb25kcygpO2JyZWFrO2Nhc2VcIlpcIjpyYXdEYXRhPWRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTticmVhazt9XHJcbnN3aXRjaCh0eXBlc1twYXR0ZXJuTGV0dGVyXSl7Y2FzZSBURVhUMjpmb3JtYXR0ZWRTdHJpbmcrPWZvcm1hdFRleHQocmF3RGF0YSxudW1iZXJPZkxldHRlcnMsMik7YnJlYWs7Y2FzZSBURVhUMzpmb3JtYXR0ZWRTdHJpbmcrPWZvcm1hdFRleHQocmF3RGF0YSxudW1iZXJPZkxldHRlcnMsMyk7YnJlYWs7Y2FzZSBOVU1CRVI6Zm9ybWF0dGVkU3RyaW5nKz1mb3JtYXROdW1iZXIocmF3RGF0YSxudW1iZXJPZkxldHRlcnMpO2JyZWFrO2Nhc2UgWUVBUjppZihudW1iZXJPZkxldHRlcnM8PTMpe3ZhciBkYXRhU3RyaW5nPVwiXCIrcmF3RGF0YTtmb3JtYXR0ZWRTdHJpbmcrPWRhdGFTdHJpbmcuc3Vic3RyKDIsMik7fWVsc2V7Zm9ybWF0dGVkU3RyaW5nKz1mb3JtYXROdW1iZXIocmF3RGF0YSxudW1iZXJPZkxldHRlcnMpO31cclxuYnJlYWs7Y2FzZSBNT05USDppZihudW1iZXJPZkxldHRlcnM+PTMpe2Zvcm1hdHRlZFN0cmluZys9Zm9ybWF0VGV4dChtb250aE5hbWVzW3Jhd0RhdGFdLG51bWJlck9mTGV0dGVycyxudW1iZXJPZkxldHRlcnMpO31lbHNle2Zvcm1hdHRlZFN0cmluZys9Zm9ybWF0TnVtYmVyKHJhd0RhdGErMSxudW1iZXJPZkxldHRlcnMpO31cclxuYnJlYWs7Y2FzZSBUSU1FWk9ORTp2YXIgaXNQb3NpdGl2ZT0ocmF3RGF0YT4wKTt2YXIgcHJlZml4PWlzUG9zaXRpdmU/XCItXCI6XCIrXCI7dmFyIGFic0RhdGE9TWF0aC5hYnMocmF3RGF0YSk7dmFyIGhvdXJzPVwiXCIrTWF0aC5mbG9vcihhYnNEYXRhLzYwKTtob3Vycz1wYWRXaXRoWmVyb2VzKGhvdXJzLDIpO3ZhciBtaW51dGVzPVwiXCIrKGFic0RhdGElNjApO21pbnV0ZXM9cGFkV2l0aFplcm9lcyhtaW51dGVzLDIpO2Zvcm1hdHRlZFN0cmluZys9cHJlZml4K2hvdXJzK21pbnV0ZXM7YnJlYWs7fX1cclxuc2VhcmNoU3RyaW5nPXNlYXJjaFN0cmluZy5zdWJzdHIocmVzdWx0LmluZGV4K3Jlc3VsdFswXS5sZW5ndGgpO31cclxucmV0dXJuIGZvcm1hdHRlZFN0cmluZzt9O30pKCk7bG9nNGphdmFzY3JpcHQuU2ltcGxlRGF0ZUZvcm1hdD1TaW1wbGVEYXRlRm9ybWF0O2Z1bmN0aW9uIFBhdHRlcm5MYXlvdXQocGF0dGVybil7aWYocGF0dGVybil7dGhpcy5wYXR0ZXJuPXBhdHRlcm47fWVsc2V7dGhpcy5wYXR0ZXJuPVBhdHRlcm5MYXlvdXQuREVGQVVMVF9DT05WRVJTSU9OX1BBVFRFUk47fVxyXG50aGlzLmN1c3RvbUZpZWxkcz1bXTt9XHJcblBhdHRlcm5MYXlvdXQuVFRDQ19DT05WRVJTSU9OX1BBVFRFUk49XCIlciAlcCAlYyAtICVtJW5cIjtQYXR0ZXJuTGF5b3V0LkRFRkFVTFRfQ09OVkVSU0lPTl9QQVRURVJOPVwiJW0lblwiO1BhdHRlcm5MYXlvdXQuSVNPODYwMV9EQVRFRk9STUFUPVwieXl5eS1NTS1kZCBISDptbTpzcyxTU1NcIjtQYXR0ZXJuTGF5b3V0LkRBVEVUSU1FX0RBVEVGT1JNQVQ9XCJkZCBNTU0geXl5eSBISDptbTpzcyxTU1NcIjtQYXR0ZXJuTGF5b3V0LkFCU09MVVRFVElNRV9EQVRFRk9STUFUPVwiSEg6bW06c3MsU1NTXCI7UGF0dGVybkxheW91dC5wcm90b3R5cGU9bmV3IExheW91dCgpO1BhdHRlcm5MYXlvdXQucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbihsb2dnaW5nRXZlbnQpe3ZhciByZWdleD0vJSgtP1swLTldKyk/KFxcLj9bMC05XSspPyhbYWNkZm1NbnByJV0pKFxceyhbXlxcfV0rKVxcfSk/fChbXiVdKykvO3ZhciBmb3JtYXR0ZWRTdHJpbmc9XCJcIjt2YXIgcmVzdWx0O3ZhciBzZWFyY2hTdHJpbmc9dGhpcy5wYXR0ZXJuO3doaWxlKChyZXN1bHQ9cmVnZXguZXhlYyhzZWFyY2hTdHJpbmcpKSl7dmFyIG1hdGNoZWRTdHJpbmc9cmVzdWx0WzBdO3ZhciBwYWRkaW5nPXJlc3VsdFsxXTt2YXIgdHJ1bmNhdGlvbj1yZXN1bHRbMl07dmFyIGNvbnZlcnNpb25DaGFyYWN0ZXI9cmVzdWx0WzNdO3ZhciBzcGVjaWZpZXI9cmVzdWx0WzVdO3ZhciB0ZXh0PXJlc3VsdFs2XTtpZih0ZXh0KXtmb3JtYXR0ZWRTdHJpbmcrPVwiXCIrdGV4dDt9ZWxzZXt2YXIgcmVwbGFjZW1lbnQ9XCJcIjtzd2l0Y2goY29udmVyc2lvbkNoYXJhY3Rlcil7Y2FzZVwiYVwiOmNhc2VcIm1cIjp2YXIgZGVwdGg9MDtpZihzcGVjaWZpZXIpe2RlcHRoPXBhcnNlSW50KHNwZWNpZmllciwxMCk7aWYoaXNOYU4oZGVwdGgpKXtoYW5kbGVFcnJvcihcIlBhdHRlcm5MYXlvdXQuZm9ybWF0OiBpbnZhbGlkIHNwZWNpZmllciAnXCIrXHJcbnNwZWNpZmllcitcIicgZm9yIGNvbnZlcnNpb24gY2hhcmFjdGVyICdcIitjb252ZXJzaW9uQ2hhcmFjdGVyK1wiJyAtIHNob3VsZCBiZSBhIG51bWJlclwiKTtkZXB0aD0wO319XHJcbnZhciBtZXNzYWdlcz0oY29udmVyc2lvbkNoYXJhY3Rlcj09PVwiYVwiKT9sb2dnaW5nRXZlbnQubWVzc2FnZXNbMF06bG9nZ2luZ0V2ZW50Lm1lc3NhZ2VzO2Zvcih2YXIgaT0wLGxlbj1tZXNzYWdlcy5sZW5ndGg7aTxsZW47aSsrKXtpZihpPjAmJihyZXBsYWNlbWVudC5jaGFyQXQocmVwbGFjZW1lbnQubGVuZ3RoLTEpIT09XCIgXCIpKXtyZXBsYWNlbWVudCs9XCIgXCI7fVxyXG5pZihkZXB0aD09PTApe3JlcGxhY2VtZW50Kz1tZXNzYWdlc1tpXTt9ZWxzZXtyZXBsYWNlbWVudCs9Zm9ybWF0T2JqZWN0RXhwYW5zaW9uKG1lc3NhZ2VzW2ldLGRlcHRoKTt9fVxyXG5icmVhaztjYXNlXCJjXCI6dmFyIGxvZ2dlck5hbWU9bG9nZ2luZ0V2ZW50LmxvZ2dlci5uYW1lO2lmKHNwZWNpZmllcil7dmFyIHByZWNpc2lvbj1wYXJzZUludChzcGVjaWZpZXIsMTApO3ZhciBsb2dnZXJOYW1lQml0cz1sb2dnaW5nRXZlbnQubG9nZ2VyLm5hbWUuc3BsaXQoXCIuXCIpO2lmKHByZWNpc2lvbj49bG9nZ2VyTmFtZUJpdHMubGVuZ3RoKXtyZXBsYWNlbWVudD1sb2dnZXJOYW1lO31lbHNle3JlcGxhY2VtZW50PWxvZ2dlck5hbWVCaXRzLnNsaWNlKGxvZ2dlck5hbWVCaXRzLmxlbmd0aC1wcmVjaXNpb24pLmpvaW4oXCIuXCIpO319ZWxzZXtyZXBsYWNlbWVudD1sb2dnZXJOYW1lO31cclxuYnJlYWs7Y2FzZVwiZFwiOnZhciBkYXRlRm9ybWF0PVBhdHRlcm5MYXlvdXQuSVNPODYwMV9EQVRFRk9STUFUO2lmKHNwZWNpZmllcil7ZGF0ZUZvcm1hdD1zcGVjaWZpZXI7aWYoZGF0ZUZvcm1hdD09XCJJU084NjAxXCIpe2RhdGVGb3JtYXQ9UGF0dGVybkxheW91dC5JU084NjAxX0RBVEVGT1JNQVQ7fWVsc2UgaWYoZGF0ZUZvcm1hdD09XCJBQlNPTFVURVwiKXtkYXRlRm9ybWF0PVBhdHRlcm5MYXlvdXQuQUJTT0xVVEVUSU1FX0RBVEVGT1JNQVQ7fWVsc2UgaWYoZGF0ZUZvcm1hdD09XCJEQVRFXCIpe2RhdGVGb3JtYXQ9UGF0dGVybkxheW91dC5EQVRFVElNRV9EQVRFRk9STUFUO319XHJcbnJlcGxhY2VtZW50PShuZXcgU2ltcGxlRGF0ZUZvcm1hdChkYXRlRm9ybWF0KSkuZm9ybWF0KGxvZ2dpbmdFdmVudC50aW1lU3RhbXApO2JyZWFrO2Nhc2VcImZcIjppZih0aGlzLmhhc0N1c3RvbUZpZWxkcygpKXt2YXIgZmllbGRJbmRleD0wO2lmKHNwZWNpZmllcil7ZmllbGRJbmRleD1wYXJzZUludChzcGVjaWZpZXIsMTApO2lmKGlzTmFOKGZpZWxkSW5kZXgpKXtoYW5kbGVFcnJvcihcIlBhdHRlcm5MYXlvdXQuZm9ybWF0OiBpbnZhbGlkIHNwZWNpZmllciAnXCIrXHJcbnNwZWNpZmllcitcIicgZm9yIGNvbnZlcnNpb24gY2hhcmFjdGVyICdmJyAtIHNob3VsZCBiZSBhIG51bWJlclwiKTt9ZWxzZSBpZihmaWVsZEluZGV4PT09MCl7aGFuZGxlRXJyb3IoXCJQYXR0ZXJuTGF5b3V0LmZvcm1hdDogaW52YWxpZCBzcGVjaWZpZXIgJ1wiK1xyXG5zcGVjaWZpZXIrXCInIGZvciBjb252ZXJzaW9uIGNoYXJhY3RlciAnZicgLSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvXCIpO31lbHNlIGlmKGZpZWxkSW5kZXg+dGhpcy5jdXN0b21GaWVsZHMubGVuZ3RoKXtoYW5kbGVFcnJvcihcIlBhdHRlcm5MYXlvdXQuZm9ybWF0OiBpbnZhbGlkIHNwZWNpZmllciAnXCIrXHJcbnNwZWNpZmllcitcIicgZm9yIGNvbnZlcnNpb24gY2hhcmFjdGVyICdmJyAtIHRoZXJlIGFyZW4ndCB0aGF0IG1hbnkgY3VzdG9tIGZpZWxkc1wiKTt9ZWxzZXtmaWVsZEluZGV4PWZpZWxkSW5kZXgtMTt9fVxyXG52YXIgdmFsPXRoaXMuY3VzdG9tRmllbGRzW2ZpZWxkSW5kZXhdLnZhbHVlO2lmKHR5cGVvZiB2YWw9PVwiZnVuY3Rpb25cIil7dmFsPXZhbCh0aGlzLGxvZ2dpbmdFdmVudCk7fVxyXG5yZXBsYWNlbWVudD12YWw7fVxyXG5icmVhaztjYXNlXCJuXCI6cmVwbGFjZW1lbnQ9bmV3TGluZTticmVhaztjYXNlXCJwXCI6cmVwbGFjZW1lbnQ9bG9nZ2luZ0V2ZW50LmxldmVsLm5hbWU7YnJlYWs7Y2FzZVwiclwiOnJlcGxhY2VtZW50PVwiXCIrbG9nZ2luZ0V2ZW50LnRpbWVTdGFtcC5nZXREaWZmZXJlbmNlKGFwcGxpY2F0aW9uU3RhcnREYXRlKTticmVhaztjYXNlXCIlXCI6cmVwbGFjZW1lbnQ9XCIlXCI7YnJlYWs7ZGVmYXVsdDpyZXBsYWNlbWVudD1tYXRjaGVkU3RyaW5nO2JyZWFrO31cclxudmFyIGw7aWYodHJ1bmNhdGlvbil7bD1wYXJzZUludCh0cnVuY2F0aW9uLnN1YnN0cigxKSwxMCk7dmFyIHN0ckxlbj1yZXBsYWNlbWVudC5sZW5ndGg7aWYobDxzdHJMZW4pe3JlcGxhY2VtZW50PXJlcGxhY2VtZW50LnN1YnN0cmluZyhzdHJMZW4tbCxzdHJMZW4pO319XHJcbmlmKHBhZGRpbmcpe2lmKHBhZGRpbmcuY2hhckF0KDApPT1cIi1cIil7bD1wYXJzZUludChwYWRkaW5nLnN1YnN0cigxKSwxMCk7d2hpbGUocmVwbGFjZW1lbnQubGVuZ3RoPGwpe3JlcGxhY2VtZW50Kz1cIiBcIjt9fWVsc2V7bD1wYXJzZUludChwYWRkaW5nLDEwKTt3aGlsZShyZXBsYWNlbWVudC5sZW5ndGg8bCl7cmVwbGFjZW1lbnQ9XCIgXCIrcmVwbGFjZW1lbnQ7fX19XHJcbmZvcm1hdHRlZFN0cmluZys9cmVwbGFjZW1lbnQ7fVxyXG5zZWFyY2hTdHJpbmc9c2VhcmNoU3RyaW5nLnN1YnN0cihyZXN1bHQuaW5kZXgrcmVzdWx0WzBdLmxlbmd0aCk7fVxyXG5yZXR1cm4gZm9ybWF0dGVkU3RyaW5nO307UGF0dGVybkxheW91dC5wcm90b3R5cGUuaWdub3Jlc1Rocm93YWJsZT1mdW5jdGlvbigpe3JldHVybiB0cnVlO307UGF0dGVybkxheW91dC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlBhdHRlcm5MYXlvdXRcIjt9O2xvZzRqYXZhc2NyaXB0LlBhdHRlcm5MYXlvdXQ9UGF0dGVybkxheW91dDtmdW5jdGlvbiBBbGVydEFwcGVuZGVyKCl7fVxyXG5BbGVydEFwcGVuZGVyLnByb3RvdHlwZT1uZXcgQXBwZW5kZXIoKTtBbGVydEFwcGVuZGVyLnByb3RvdHlwZS5sYXlvdXQ9bmV3IFNpbXBsZUxheW91dCgpO0FsZXJ0QXBwZW5kZXIucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihsb2dnaW5nRXZlbnQpe2FsZXJ0KHRoaXMuZ2V0TGF5b3V0KCkuZm9ybWF0V2l0aEV4Y2VwdGlvbihsb2dnaW5nRXZlbnQpKTt9O0FsZXJ0QXBwZW5kZXIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJBbGVydEFwcGVuZGVyXCI7fTtsb2c0amF2YXNjcmlwdC5BbGVydEFwcGVuZGVyPUFsZXJ0QXBwZW5kZXI7ZnVuY3Rpb24gQnJvd3NlckNvbnNvbGVBcHBlbmRlcigpe31cclxuQnJvd3NlckNvbnNvbGVBcHBlbmRlci5wcm90b3R5cGU9bmV3IGxvZzRqYXZhc2NyaXB0LkFwcGVuZGVyKCk7QnJvd3NlckNvbnNvbGVBcHBlbmRlci5wcm90b3R5cGUubGF5b3V0PW5ldyBOdWxsTGF5b3V0KCk7QnJvd3NlckNvbnNvbGVBcHBlbmRlci5wcm90b3R5cGUudGhyZXNob2xkPUxldmVsLkRFQlVHO0Jyb3dzZXJDb25zb2xlQXBwZW5kZXIucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihsb2dnaW5nRXZlbnQpe3ZhciBhcHBlbmRlcj10aGlzO3ZhciBnZXRGb3JtYXR0ZWRNZXNzYWdlPWZ1bmN0aW9uKCl7dmFyIGZvcm1hdHRlZE1lc3NhZ2U9YXBwZW5kZXIuZ2V0TGF5b3V0KCkuZm9ybWF0V2l0aEV4Y2VwdGlvbihsb2dnaW5nRXZlbnQpO3JldHVybih0eXBlb2YgZm9ybWF0dGVkTWVzc2FnZT09XCJzdHJpbmdcIik/W2Zvcm1hdHRlZE1lc3NhZ2VdOmZvcm1hdHRlZE1lc3NhZ2U7fTt2YXIgY29uc29sZTtpZigoY29uc29sZT13aW5kb3cuY29uc29sZSkmJmNvbnNvbGUubG9nKXt2YXIgZm9ybWF0dGVkTWVzc2FnZT1nZXRGb3JtYXR0ZWRNZXNzYWdlKCk7dmFyIGNvbnNvbGVNZXRob2ROYW1lO2lmKGNvbnNvbGUuZGVidWcmJkxldmVsLkRFQlVHLmlzR3JlYXRlck9yRXF1YWwobG9nZ2luZ0V2ZW50LmxldmVsKSl7Y29uc29sZU1ldGhvZE5hbWU9XCJkZWJ1Z1wiO31lbHNlIGlmKGNvbnNvbGUuaW5mbyYmTGV2ZWwuSU5GTy5lcXVhbHMobG9nZ2luZ0V2ZW50LmxldmVsKSl7Y29uc29sZU1ldGhvZE5hbWU9XCJpbmZvXCI7fWVsc2UgaWYoY29uc29sZS53YXJuJiZMZXZlbC5XQVJOLmVxdWFscyhsb2dnaW5nRXZlbnQubGV2ZWwpKXtjb25zb2xlTWV0aG9kTmFtZT1cIndhcm5cIjt9ZWxzZSBpZihjb25zb2xlLmVycm9yJiZsb2dnaW5nRXZlbnQubGV2ZWwuaXNHcmVhdGVyT3JFcXVhbChMZXZlbC5FUlJPUikpe2NvbnNvbGVNZXRob2ROYW1lPVwiZXJyb3JcIjt9ZWxzZXtjb25zb2xlTWV0aG9kTmFtZT1cImxvZ1wiO31cclxuaWYoY29uc29sZVtjb25zb2xlTWV0aG9kTmFtZV0uYXBwbHkpe2NvbnNvbGVbY29uc29sZU1ldGhvZE5hbWVdLmFwcGx5KGNvbnNvbGUsZm9ybWF0dGVkTWVzc2FnZSk7fWVsc2V7Y29uc29sZVtjb25zb2xlTWV0aG9kTmFtZV0oZm9ybWF0dGVkTWVzc2FnZSk7fX1lbHNlIGlmKCh0eXBlb2Ygb3BlcmEhPVwidW5kZWZpbmVkXCIpJiZvcGVyYS5wb3N0RXJyb3Ipe29wZXJhLnBvc3RFcnJvcihnZXRGb3JtYXR0ZWRNZXNzYWdlKCkpO319O0Jyb3dzZXJDb25zb2xlQXBwZW5kZXIucHJvdG90eXBlLmdyb3VwPWZ1bmN0aW9uKG5hbWUpe2lmKHdpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5ncm91cCl7d2luZG93LmNvbnNvbGUuZ3JvdXAobmFtZSk7fX07QnJvd3NlckNvbnNvbGVBcHBlbmRlci5wcm90b3R5cGUuZ3JvdXBFbmQ9ZnVuY3Rpb24oKXtpZih3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUuZ3JvdXBFbmQpe3dpbmRvdy5jb25zb2xlLmdyb3VwRW5kKCk7fX07QnJvd3NlckNvbnNvbGVBcHBlbmRlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkJyb3dzZXJDb25zb2xlQXBwZW5kZXJcIjt9O2xvZzRqYXZhc2NyaXB0LkJyb3dzZXJDb25zb2xlQXBwZW5kZXI9QnJvd3NlckNvbnNvbGVBcHBlbmRlcjt2YXIgeGhyRmFjdG9yeT1mdW5jdGlvbigpe3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTt9O3ZhciB4bWxIdHRwRmFjdG9yaWVzPVt4aHJGYWN0b3J5LGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTXN4bWwyLlhNTEhUVFBcIik7fSxmdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpO31dO3ZhciB3aXRoQ3JlZGVudGlhbHNTdXBwb3J0ZWQ9ZmFsc2U7dmFyIGdldFhtbEh0dHA9ZnVuY3Rpb24oZXJyb3JIYW5kbGVyKXt2YXIgeG1sSHR0cD1udWxsLGZhY3Rvcnk7Zm9yKHZhciBpPTAsbGVuPXhtbEh0dHBGYWN0b3JpZXMubGVuZ3RoO2k8bGVuO2krKyl7ZmFjdG9yeT14bWxIdHRwRmFjdG9yaWVzW2ldO3RyeXt4bWxIdHRwPWZhY3RvcnkoKTt3aXRoQ3JlZGVudGlhbHNTdXBwb3J0ZWQ9KGZhY3Rvcnk9PXhockZhY3RvcnkmJihcIndpdGhDcmVkZW50aWFsc1wiaW4geG1sSHR0cCkpO2dldFhtbEh0dHA9ZmFjdG9yeTtyZXR1cm4geG1sSHR0cDt9Y2F0Y2goZSl7fX1cclxuaWYoZXJyb3JIYW5kbGVyKXtlcnJvckhhbmRsZXIoKTt9ZWxzZXtoYW5kbGVFcnJvcihcImdldFhtbEh0dHA6IHVuYWJsZSB0byBvYnRhaW4gWE1MSHR0cFJlcXVlc3Qgb2JqZWN0XCIpO319O2Z1bmN0aW9uIGlzSHR0cFJlcXVlc3RTdWNjZXNzZnVsKHhtbEh0dHApe3JldHVybiBpc1VuZGVmaW5lZCh4bWxIdHRwLnN0YXR1cyl8fHhtbEh0dHAuc3RhdHVzPT09MHx8KHhtbEh0dHAuc3RhdHVzPj0yMDAmJnhtbEh0dHAuc3RhdHVzPDMwMCl8fHhtbEh0dHAuc3RhdHVzPT0xMjIzO31cclxuZnVuY3Rpb24gQWpheEFwcGVuZGVyKHVybCx3aXRoQ3JlZGVudGlhbHMpe3ZhciBhcHBlbmRlcj10aGlzO3ZhciBpc1N1cHBvcnRlZD10cnVlO2lmKCF1cmwpe2hhbmRsZUVycm9yKFwiQWpheEFwcGVuZGVyOiBVUkwgbXVzdCBiZSBzcGVjaWZpZWQgaW4gY29uc3RydWN0b3JcIik7aXNTdXBwb3J0ZWQ9ZmFsc2U7fVxyXG52YXIgdGltZWQ9dGhpcy5kZWZhdWx0cy50aW1lZDt2YXIgd2FpdEZvclJlc3BvbnNlPXRoaXMuZGVmYXVsdHMud2FpdEZvclJlc3BvbnNlO3ZhciBiYXRjaFNpemU9dGhpcy5kZWZhdWx0cy5iYXRjaFNpemU7dmFyIHRpbWVySW50ZXJ2YWw9dGhpcy5kZWZhdWx0cy50aW1lckludGVydmFsO3ZhciByZXF1ZXN0U3VjY2Vzc0NhbGxiYWNrPXRoaXMuZGVmYXVsdHMucmVxdWVzdFN1Y2Nlc3NDYWxsYmFjazt2YXIgZmFpbENhbGxiYWNrPXRoaXMuZGVmYXVsdHMuZmFpbENhbGxiYWNrO3ZhciBwb3N0VmFyTmFtZT10aGlzLmRlZmF1bHRzLnBvc3RWYXJOYW1lO3ZhciBzZW5kQWxsT25VbmxvYWQ9dGhpcy5kZWZhdWx0cy5zZW5kQWxsT25VbmxvYWQ7dmFyIGNvbnRlbnRUeXBlPXRoaXMuZGVmYXVsdHMuY29udGVudFR5cGU7dmFyIHNlc3Npb25JZD1udWxsO3ZhciBxdWV1ZWRMb2dnaW5nRXZlbnRzPVtdO3ZhciBxdWV1ZWRSZXF1ZXN0cz1bXTt2YXIgaGVhZGVycz1bXTt2YXIgc2VuZGluZz1mYWxzZTt2YXIgaW5pdGlhbGl6ZWQ9ZmFsc2U7ZnVuY3Rpb24gY2hlY2tDYW5Db25maWd1cmUoY29uZmlnT3B0aW9uTmFtZSl7aWYoaW5pdGlhbGl6ZWQpe2hhbmRsZUVycm9yKFwiQWpheEFwcGVuZGVyOiBjb25maWd1cmF0aW9uIG9wdGlvbiAnXCIrXHJcbmNvbmZpZ09wdGlvbk5hbWUrXCInIG1heSBub3QgYmUgc2V0IGFmdGVyIHRoZSBhcHBlbmRlciBoYXMgYmVlbiBpbml0aWFsaXplZFwiKTtyZXR1cm4gZmFsc2U7fVxyXG5yZXR1cm4gdHJ1ZTt9XHJcbnRoaXMuZ2V0U2Vzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIHNlc3Npb25JZDt9O3RoaXMuc2V0U2Vzc2lvbklkPWZ1bmN0aW9uKHNlc3Npb25JZFBhcmFtKXtzZXNzaW9uSWQ9ZXh0cmFjdFN0cmluZ0Zyb21QYXJhbShzZXNzaW9uSWRQYXJhbSxudWxsKTt0aGlzLmxheW91dC5zZXRDdXN0b21GaWVsZChcInNlc3Npb25pZFwiLHNlc3Npb25JZCk7fTt0aGlzLnNldExheW91dD1mdW5jdGlvbihsYXlvdXRQYXJhbSl7aWYoY2hlY2tDYW5Db25maWd1cmUoXCJsYXlvdXRcIikpe3RoaXMubGF5b3V0PWxheW91dFBhcmFtO2lmKHNlc3Npb25JZCE9PW51bGwpe3RoaXMuc2V0U2Vzc2lvbklkKHNlc3Npb25JZCk7fX19O3RoaXMuaXNUaW1lZD1mdW5jdGlvbigpe3JldHVybiB0aW1lZDt9O3RoaXMuc2V0VGltZWQ9ZnVuY3Rpb24odGltZWRQYXJhbSl7aWYoY2hlY2tDYW5Db25maWd1cmUoXCJ0aW1lZFwiKSl7dGltZWQ9Ym9vbCh0aW1lZFBhcmFtKTt9fTt0aGlzLmdldFRpbWVySW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGltZXJJbnRlcnZhbDt9O3RoaXMuc2V0VGltZXJJbnRlcnZhbD1mdW5jdGlvbih0aW1lckludGVydmFsUGFyYW0pe2lmKGNoZWNrQ2FuQ29uZmlndXJlKFwidGltZXJJbnRlcnZhbFwiKSl7dGltZXJJbnRlcnZhbD1leHRyYWN0SW50RnJvbVBhcmFtKHRpbWVySW50ZXJ2YWxQYXJhbSx0aW1lckludGVydmFsKTt9fTt0aGlzLmlzV2FpdEZvclJlc3BvbnNlPWZ1bmN0aW9uKCl7cmV0dXJuIHdhaXRGb3JSZXNwb25zZTt9O3RoaXMuc2V0V2FpdEZvclJlc3BvbnNlPWZ1bmN0aW9uKHdhaXRGb3JSZXNwb25zZVBhcmFtKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcIndhaXRGb3JSZXNwb25zZVwiKSl7d2FpdEZvclJlc3BvbnNlPWJvb2wod2FpdEZvclJlc3BvbnNlUGFyYW0pO319O3RoaXMuZ2V0QmF0Y2hTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIGJhdGNoU2l6ZTt9O3RoaXMuc2V0QmF0Y2hTaXplPWZ1bmN0aW9uKGJhdGNoU2l6ZVBhcmFtKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcImJhdGNoU2l6ZVwiKSl7YmF0Y2hTaXplPWV4dHJhY3RJbnRGcm9tUGFyYW0oYmF0Y2hTaXplUGFyYW0sYmF0Y2hTaXplKTt9fTt0aGlzLmlzU2VuZEFsbE9uVW5sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHNlbmRBbGxPblVubG9hZDt9O3RoaXMuc2V0U2VuZEFsbE9uVW5sb2FkPWZ1bmN0aW9uKHNlbmRBbGxPblVubG9hZFBhcmFtKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcInNlbmRBbGxPblVubG9hZFwiKSl7c2VuZEFsbE9uVW5sb2FkPWV4dHJhY3RCb29sZWFuRnJvbVBhcmFtKHNlbmRBbGxPblVubG9hZFBhcmFtLHNlbmRBbGxPblVubG9hZCk7fX07dGhpcy5zZXRSZXF1ZXN0U3VjY2Vzc0NhbGxiYWNrPWZ1bmN0aW9uKHJlcXVlc3RTdWNjZXNzQ2FsbGJhY2tQYXJhbSl7cmVxdWVzdFN1Y2Nlc3NDYWxsYmFjaz1leHRyYWN0RnVuY3Rpb25Gcm9tUGFyYW0ocmVxdWVzdFN1Y2Nlc3NDYWxsYmFja1BhcmFtLHJlcXVlc3RTdWNjZXNzQ2FsbGJhY2spO307dGhpcy5zZXRGYWlsQ2FsbGJhY2s9ZnVuY3Rpb24oZmFpbENhbGxiYWNrUGFyYW0pe2ZhaWxDYWxsYmFjaz1leHRyYWN0RnVuY3Rpb25Gcm9tUGFyYW0oZmFpbENhbGxiYWNrUGFyYW0sZmFpbENhbGxiYWNrKTt9O3RoaXMuZ2V0UG9zdFZhck5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gcG9zdFZhck5hbWU7fTt0aGlzLnNldFBvc3RWYXJOYW1lPWZ1bmN0aW9uKHBvc3RWYXJOYW1lUGFyYW0pe2lmKGNoZWNrQ2FuQ29uZmlndXJlKFwicG9zdFZhck5hbWVcIikpe3Bvc3RWYXJOYW1lPWV4dHJhY3RTdHJpbmdGcm9tUGFyYW0ocG9zdFZhck5hbWVQYXJhbSxwb3N0VmFyTmFtZSk7fX07dGhpcy5nZXRIZWFkZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIGhlYWRlcnM7fTt0aGlzLmFkZEhlYWRlcj1mdW5jdGlvbihuYW1lLHZhbHVlKXtpZihuYW1lLnRvTG93ZXJDYXNlKCk9PVwiY29udGVudC10eXBlXCIpe2NvbnRlbnRUeXBlPXZhbHVlO31lbHNle2hlYWRlcnMucHVzaCh7bmFtZTpuYW1lLHZhbHVlOnZhbHVlfSk7fX07ZnVuY3Rpb24gc2VuZEFsbCgpe2lmKGlzU3VwcG9ydGVkJiZlbmFibGVkKXtzZW5kaW5nPXRydWU7dmFyIGN1cnJlbnRSZXF1ZXN0QmF0Y2g7aWYod2FpdEZvclJlc3BvbnNlKXtpZihxdWV1ZWRSZXF1ZXN0cy5sZW5ndGg+MCl7Y3VycmVudFJlcXVlc3RCYXRjaD1xdWV1ZWRSZXF1ZXN0cy5zaGlmdCgpO3NlbmRSZXF1ZXN0KHByZXBhcmVQb3N0RGF0YShjdXJyZW50UmVxdWVzdEJhdGNoKSxzZW5kQWxsKTt9ZWxzZXtzZW5kaW5nPWZhbHNlO2lmKHRpbWVkKXtzY2hlZHVsZVNlbmRpbmcoKTt9fX1lbHNle3doaWxlKChjdXJyZW50UmVxdWVzdEJhdGNoPXF1ZXVlZFJlcXVlc3RzLnNoaWZ0KCkpKXtzZW5kUmVxdWVzdChwcmVwYXJlUG9zdERhdGEoY3VycmVudFJlcXVlc3RCYXRjaCkpO31cclxuc2VuZGluZz1mYWxzZTtpZih0aW1lZCl7c2NoZWR1bGVTZW5kaW5nKCk7fX19fVxyXG50aGlzLnNlbmRBbGw9c2VuZEFsbDtmdW5jdGlvbiBzZW5kQWxsUmVtYWluaW5nKCl7dmFyIHNlbmRpbmdBbnl0aGluZz1mYWxzZTtpZihpc1N1cHBvcnRlZCYmZW5hYmxlZCl7dmFyIGFjdHVhbEJhdGNoU2l6ZT1hcHBlbmRlci5nZXRMYXlvdXQoKS5hbGxvd0JhdGNoaW5nKCk/YmF0Y2hTaXplOjE7dmFyIGN1cnJlbnRMb2dnaW5nRXZlbnQ7dmFyIGJhdGNoZWRMb2dnaW5nRXZlbnRzPVtdO3doaWxlKChjdXJyZW50TG9nZ2luZ0V2ZW50PXF1ZXVlZExvZ2dpbmdFdmVudHMuc2hpZnQoKSkpe2JhdGNoZWRMb2dnaW5nRXZlbnRzLnB1c2goY3VycmVudExvZ2dpbmdFdmVudCk7aWYocXVldWVkTG9nZ2luZ0V2ZW50cy5sZW5ndGg+PWFjdHVhbEJhdGNoU2l6ZSl7cXVldWVkUmVxdWVzdHMucHVzaChiYXRjaGVkTG9nZ2luZ0V2ZW50cyk7YmF0Y2hlZExvZ2dpbmdFdmVudHM9W107fX1cclxuaWYoYmF0Y2hlZExvZ2dpbmdFdmVudHMubGVuZ3RoPjApe3F1ZXVlZFJlcXVlc3RzLnB1c2goYmF0Y2hlZExvZ2dpbmdFdmVudHMpO31cclxuc2VuZGluZ0FueXRoaW5nPShxdWV1ZWRSZXF1ZXN0cy5sZW5ndGg+MCk7d2FpdEZvclJlc3BvbnNlPWZhbHNlO3RpbWVkPWZhbHNlO3NlbmRBbGwoKTt9XHJcbnJldHVybiBzZW5kaW5nQW55dGhpbmc7fVxyXG50aGlzLnNlbmRBbGxSZW1haW5pbmc9c2VuZEFsbFJlbWFpbmluZztmdW5jdGlvbiBwcmVwYXJlUG9zdERhdGEoYmF0Y2hlZExvZ2dpbmdFdmVudHMpe3ZhciBmb3JtYXR0ZWRNZXNzYWdlcz1bXTt2YXIgY3VycmVudExvZ2dpbmdFdmVudDt2YXIgcG9zdERhdGE9XCJcIjt3aGlsZSgoY3VycmVudExvZ2dpbmdFdmVudD1iYXRjaGVkTG9nZ2luZ0V2ZW50cy5zaGlmdCgpKSl7Zm9ybWF0dGVkTWVzc2FnZXMucHVzaChhcHBlbmRlci5nZXRMYXlvdXQoKS5mb3JtYXRXaXRoRXhjZXB0aW9uKGN1cnJlbnRMb2dnaW5nRXZlbnQpKTt9XHJcbmlmKGJhdGNoZWRMb2dnaW5nRXZlbnRzLmxlbmd0aD09MSl7cG9zdERhdGE9Zm9ybWF0dGVkTWVzc2FnZXMuam9pbihcIlwiKTt9ZWxzZXtwb3N0RGF0YT1hcHBlbmRlci5nZXRMYXlvdXQoKS5iYXRjaEhlYWRlcitcclxuZm9ybWF0dGVkTWVzc2FnZXMuam9pbihhcHBlbmRlci5nZXRMYXlvdXQoKS5iYXRjaFNlcGFyYXRvcikrXHJcbmFwcGVuZGVyLmdldExheW91dCgpLmJhdGNoRm9vdGVyO31cclxuaWYoY29udGVudFR5cGU9PWFwcGVuZGVyLmRlZmF1bHRzLmNvbnRlbnRUeXBlKXtwb3N0RGF0YT1hcHBlbmRlci5nZXRMYXlvdXQoKS5yZXR1cm5zUG9zdERhdGE/cG9zdERhdGE6dXJsRW5jb2RlKHBvc3RWYXJOYW1lKStcIj1cIit1cmxFbmNvZGUocG9zdERhdGEpO2lmKHBvc3REYXRhLmxlbmd0aD4wKXtwb3N0RGF0YSs9XCImXCI7fVxyXG5wb3N0RGF0YSs9XCJsYXlvdXQ9XCIrdXJsRW5jb2RlKGFwcGVuZGVyLmdldExheW91dCgpLnRvU3RyaW5nKCkpO31cclxucmV0dXJuIHBvc3REYXRhO31cclxuZnVuY3Rpb24gc2NoZWR1bGVTZW5kaW5nKCl7d2luZG93LnNldFRpbWVvdXQoc2VuZEFsbCx0aW1lckludGVydmFsKTt9XHJcbmZ1bmN0aW9uIHhtbEh0dHBFcnJvckhhbmRsZXIoKXt2YXIgbXNnPVwiQWpheEFwcGVuZGVyOiBjb3VsZCBub3QgY3JlYXRlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdC4gQWpheEFwcGVuZGVyIGRpc2FibGVkXCI7aGFuZGxlRXJyb3IobXNnKTtpc1N1cHBvcnRlZD1mYWxzZTtpZihmYWlsQ2FsbGJhY2spe2ZhaWxDYWxsYmFjayhtc2cpO319XHJcbmZ1bmN0aW9uIHNlbmRSZXF1ZXN0KHBvc3REYXRhLHN1Y2Nlc3NDYWxsYmFjayl7dHJ5e3ZhciB4bWxIdHRwPWdldFhtbEh0dHAoeG1sSHR0cEVycm9ySGFuZGxlcik7aWYoaXNTdXBwb3J0ZWQpe2lmKHdpdGhDcmVkZW50aWFscyYmd2l0aENyZWRlbnRpYWxzU3VwcG9ydGVkKXt4bWxIdHRwLndpdGhDcmVkZW50aWFscz10cnVlO31cclxueG1sSHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZih4bWxIdHRwLnJlYWR5U3RhdGU9PTQpe2lmKGlzSHR0cFJlcXVlc3RTdWNjZXNzZnVsKHhtbEh0dHApKXtpZihyZXF1ZXN0U3VjY2Vzc0NhbGxiYWNrKXtyZXF1ZXN0U3VjY2Vzc0NhbGxiYWNrKHhtbEh0dHApO31cclxuaWYoc3VjY2Vzc0NhbGxiYWNrKXtzdWNjZXNzQ2FsbGJhY2soeG1sSHR0cCk7fX1lbHNle3ZhciBtc2c9XCJBamF4QXBwZW5kZXIuYXBwZW5kOiBYTUxIdHRwUmVxdWVzdCByZXF1ZXN0IHRvIFVSTCBcIitcclxudXJsK1wiIHJldHVybmVkIHN0YXR1cyBjb2RlIFwiK3htbEh0dHAuc3RhdHVzO2hhbmRsZUVycm9yKG1zZyk7aWYoZmFpbENhbGxiYWNrKXtmYWlsQ2FsbGJhY2sobXNnKTt9fVxyXG54bWxIdHRwLm9ucmVhZHlzdGF0ZWNoYW5nZT1lbXB0eUZ1bmN0aW9uO3htbEh0dHA9bnVsbDt9fTt4bWxIdHRwLm9wZW4oXCJQT1NUXCIsdXJsLHRydWUpO3RyeXtmb3IodmFyIGk9MCxoZWFkZXI7aGVhZGVyPWhlYWRlcnNbaSsrXTspe3htbEh0dHAuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXIubmFtZSxoZWFkZXIudmFsdWUpO31cclxueG1sSHR0cC5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsY29udGVudFR5cGUpO31jYXRjaChoZWFkZXJFeCl7dmFyIG1zZz1cIkFqYXhBcHBlbmRlci5hcHBlbmQ6IHlvdXIgYnJvd3NlcidzIFhNTEh0dHBSZXF1ZXN0IGltcGxlbWVudGF0aW9uXCIrXCIgZG9lcyBub3Qgc3VwcG9ydCBzZXRSZXF1ZXN0SGVhZGVyLCB0aGVyZWZvcmUgY2Fubm90IHBvc3QgZGF0YS4gQWpheEFwcGVuZGVyIGRpc2FibGVkXCI7aGFuZGxlRXJyb3IobXNnKTtpc1N1cHBvcnRlZD1mYWxzZTtpZihmYWlsQ2FsbGJhY2spe2ZhaWxDYWxsYmFjayhtc2cpO31cclxucmV0dXJuO31cclxueG1sSHR0cC5zZW5kKHBvc3REYXRhKTt9fWNhdGNoKGV4KXt2YXIgZXJyTXNnPVwiQWpheEFwcGVuZGVyLmFwcGVuZDogZXJyb3Igc2VuZGluZyBsb2cgbWVzc2FnZSB0byBcIit1cmw7aGFuZGxlRXJyb3IoZXJyTXNnLGV4KTtpc1N1cHBvcnRlZD1mYWxzZTtpZihmYWlsQ2FsbGJhY2spe2ZhaWxDYWxsYmFjayhlcnJNc2crXCIuIERldGFpbHM6IFwiK2dldEV4Y2VwdGlvblN0cmluZ1JlcChleCkpO319fVxyXG50aGlzLmFwcGVuZD1mdW5jdGlvbihsb2dnaW5nRXZlbnQpe2lmKGlzU3VwcG9ydGVkKXtpZighaW5pdGlhbGl6ZWQpe2luaXQoKTt9XHJcbnF1ZXVlZExvZ2dpbmdFdmVudHMucHVzaChsb2dnaW5nRXZlbnQpO3ZhciBhY3R1YWxCYXRjaFNpemU9dGhpcy5nZXRMYXlvdXQoKS5hbGxvd0JhdGNoaW5nKCk/YmF0Y2hTaXplOjE7aWYocXVldWVkTG9nZ2luZ0V2ZW50cy5sZW5ndGg+PWFjdHVhbEJhdGNoU2l6ZSl7dmFyIGN1cnJlbnRMb2dnaW5nRXZlbnQ7dmFyIGJhdGNoZWRMb2dnaW5nRXZlbnRzPVtdO3doaWxlKChjdXJyZW50TG9nZ2luZ0V2ZW50PXF1ZXVlZExvZ2dpbmdFdmVudHMuc2hpZnQoKSkpe2JhdGNoZWRMb2dnaW5nRXZlbnRzLnB1c2goY3VycmVudExvZ2dpbmdFdmVudCk7fVxyXG5xdWV1ZWRSZXF1ZXN0cy5wdXNoKGJhdGNoZWRMb2dnaW5nRXZlbnRzKTtpZighdGltZWQmJighd2FpdEZvclJlc3BvbnNlfHwod2FpdEZvclJlc3BvbnNlJiYhc2VuZGluZykpKXtzZW5kQWxsKCk7fX19fTtmdW5jdGlvbiBpbml0KCl7aW5pdGlhbGl6ZWQ9dHJ1ZTtpZihzZW5kQWxsT25VbmxvYWQpe3ZhciBvbGRCZWZvcmVVbmxvYWQ9d2luZG93Lm9uYmVmb3JldW5sb2FkO3dpbmRvdy5vbmJlZm9yZXVubG9hZD1mdW5jdGlvbigpe2lmKG9sZEJlZm9yZVVubG9hZCl7b2xkQmVmb3JlVW5sb2FkKCk7fVxyXG5pZihzZW5kQWxsUmVtYWluaW5nKCkpe3JldHVyblwiU2VuZGluZyBsb2cgbWVzc2FnZXNcIjt9fTt9XHJcbmlmKHRpbWVkKXtzY2hlZHVsZVNlbmRpbmcoKTt9fX1cclxuQWpheEFwcGVuZGVyLnByb3RvdHlwZT1uZXcgQXBwZW5kZXIoKTtBamF4QXBwZW5kZXIucHJvdG90eXBlLmRlZmF1bHRzPXt3YWl0Rm9yUmVzcG9uc2U6ZmFsc2UsdGltZWQ6ZmFsc2UsdGltZXJJbnRlcnZhbDoxMDAwLGJhdGNoU2l6ZToxLHNlbmRBbGxPblVubG9hZDpmYWxzZSxyZXF1ZXN0U3VjY2Vzc0NhbGxiYWNrOm51bGwsZmFpbENhbGxiYWNrOm51bGwscG9zdFZhck5hbWU6XCJkYXRhXCIsY29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn07QWpheEFwcGVuZGVyLnByb3RvdHlwZS5sYXlvdXQ9bmV3IEh0dHBQb3N0RGF0YUxheW91dCgpO0FqYXhBcHBlbmRlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkFqYXhBcHBlbmRlclwiO307bG9nNGphdmFzY3JpcHQuQWpheEFwcGVuZGVyPUFqYXhBcHBlbmRlcjtmdW5jdGlvbiBzZXRDb29raWUobmFtZSx2YWx1ZSxkYXlzLHBhdGgpe3ZhciBleHBpcmVzO3BhdGg9cGF0aD9cIjsgcGF0aD1cIitwYXRoOlwiXCI7aWYoZGF5cyl7dmFyIGRhdGU9bmV3IERhdGUoKTtkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkrKGRheXMqMjQqNjAqNjAqMTAwMCkpO2V4cGlyZXM9XCI7IGV4cGlyZXM9XCIrZGF0ZS50b0dNVFN0cmluZygpO31lbHNle2V4cGlyZXM9XCJcIjt9XHJcbmRvY3VtZW50LmNvb2tpZT1lc2NhcGUobmFtZSkrXCI9XCIrZXNjYXBlKHZhbHVlKStleHBpcmVzK3BhdGg7fVxyXG5mdW5jdGlvbiBnZXRDb29raWUobmFtZSl7dmFyIG5hbWVFcXVhbHM9ZXNjYXBlKG5hbWUpK1wiPVwiO3ZhciBjYT1kb2N1bWVudC5jb29raWUuc3BsaXQoXCI7XCIpO2Zvcih2YXIgaT0wLGxlbj1jYS5sZW5ndGg7aTxsZW47aSsrKXt2YXIgYz1jYVtpXTt3aGlsZShjLmNoYXJBdCgwKT09PVwiIFwiKXtjPWMuc3Vic3RyaW5nKDEsYy5sZW5ndGgpO31cclxuaWYoYy5pbmRleE9mKG5hbWVFcXVhbHMpPT09MCl7cmV0dXJuIHVuZXNjYXBlKGMuc3Vic3RyaW5nKG5hbWVFcXVhbHMubGVuZ3RoLGMubGVuZ3RoKSk7fX1cclxucmV0dXJuIG51bGw7fVxyXG5mdW5jdGlvbiBnZXRCYXNlVXJsKCl7dmFyIHNjcmlwdHM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7Zm9yKHZhciBpPTAsbGVuPXNjcmlwdHMubGVuZ3RoO2k8bGVuOysraSl7aWYoc2NyaXB0c1tpXS5zcmMuaW5kZXhPZihcImxvZzRqYXZhc2NyaXB0XCIpIT0tMSl7dmFyIGxhc3RTbGFzaD1zY3JpcHRzW2ldLnNyYy5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuKGxhc3RTbGFzaD09LTEpP1wiXCI6c2NyaXB0c1tpXS5zcmMuc3Vic3RyKDAsbGFzdFNsYXNoKzEpO319XHJcbnJldHVybiBudWxsO31cclxuZnVuY3Rpb24gaXNMb2FkZWQod2luKXt0cnl7cmV0dXJuIGJvb2wod2luLmxvYWRlZCk7fWNhdGNoKGV4KXtyZXR1cm4gZmFsc2U7fX1cclxudmFyIENvbnNvbGVBcHBlbmRlcjsoZnVuY3Rpb24oKXt2YXIgZ2V0Q29uc29sZUh0bWxMaW5lcz1mdW5jdGlvbigpe3JldHVyblsnPCFET0NUWVBFIGh0bWwgUFVCTElDIFwiLS8vVzNDLy9EVEQgWEhUTUwgMS4wIFN0cmljdC8vRU5cIiBcImh0dHA6Ly93d3cudzMub3JnL1RSL3hodG1sMS9EVEQveGh0bWwxLXN0cmljdC5kdGRcIj4nLCc8aHRtbCB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiBsYW5nPVwiZW5cIiB4bWw6bGFuZz1cImVuXCI+JywnPGhlYWQ+JywnPHRpdGxlPmxvZzRqYXZhc2NyaXB0PC90aXRsZT4nLCc8bWV0YSBodHRwLWVxdWl2PVwiQ29udGVudC1UeXBlXCIgY29udGVudD1cInRleHQvaHRtbDsgY2hhcnNldD11dGYtOFwiIC8+JywnPCEtLSBNYWtlIElFOCBiZWhhdmUgbGlrZSBJRTcsIGhhdmluZyBnb25lIHRvIGFsbCB0aGUgdHJvdWJsZSBvZiBtYWtpbmcgSUUgd29yayAtLT4nLCc8bWV0YSBodHRwLWVxdWl2PVwiWC1VQS1Db21wYXRpYmxlXCIgY29udGVudD1cIklFPTdcIiAvPicsJzxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPnZhciBpc0llID0gZmFsc2UsIGlzSWVQcmU3ID0gZmFsc2U7PC9zY3JpcHQ+JywnPCEtLVtpZiBJRV0+PHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+aXNJZSA9IHRydWU8L3NjcmlwdD48IVtlbmRpZl0tLT4nLCc8IS0tW2lmIGx0IElFIDddPjxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmlzSWVQcmU3ID0gdHJ1ZTwvc2NyaXB0PjwhW2VuZGlmXS0tPicsJzxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPicsJy8vPCFbQ0RBVEFbJywndmFyIGxvZ2dpbmdFbmFibGVkPXRydWU7dmFyIGxvZ1F1ZXVlZEV2ZW50c1RpbWVyPW51bGw7dmFyIGxvZ0VudHJpZXM9W107dmFyIGxvZ0VudHJpZXNBbmRTZXBhcmF0b3JzPVtdO3ZhciBsb2dJdGVtcz1bXTt2YXIgcmVuZGVyRGVsYXk9MTAwO3ZhciB1bnJlbmRlcmVkTG9nSXRlbXNFeGlzdD1mYWxzZTt2YXIgcm9vdEdyb3VwLGN1cnJlbnRHcm91cD1udWxsO3ZhciBsb2FkZWQ9ZmFsc2U7dmFyIGN1cnJlbnRMb2dJdGVtPW51bGw7dmFyIGxvZ01haW5Db250YWluZXI7ZnVuY3Rpb24gY29weVByb3BlcnRpZXMob2JqLHByb3BzKXtmb3IodmFyIGkgaW4gcHJvcHMpe29ialtpXT1wcm9wc1tpXTt9fScsJ2Z1bmN0aW9uIExvZ0l0ZW0oKXt9JywnTG9nSXRlbS5wcm90b3R5cGU9e21haW5Db250YWluZXI6bnVsbCx3cmFwcGVkQ29udGFpbmVyOm51bGwsdW53cmFwcGVkQ29udGFpbmVyOm51bGwsZ3JvdXA6bnVsbCxhcHBlbmRUb0xvZzpmdW5jdGlvbigpe2Zvcih2YXIgaT0wLGxlbj10aGlzLmVsZW1lbnRDb250YWluZXJzLmxlbmd0aDtpPGxlbjtpKyspe3RoaXMuZWxlbWVudENvbnRhaW5lcnNbaV0uYXBwZW5kVG9Mb2coKTt9JywndGhpcy5ncm91cC51cGRhdGUoKTt9LGRvUmVtb3ZlOmZ1bmN0aW9uKGRvVXBkYXRlLHJlbW92ZUZyb21Hcm91cCl7aWYodGhpcy5yZW5kZXJlZCl7Zm9yKHZhciBpPTAsbGVuPXRoaXMuZWxlbWVudENvbnRhaW5lcnMubGVuZ3RoO2k8bGVuO2krKyl7dGhpcy5lbGVtZW50Q29udGFpbmVyc1tpXS5yZW1vdmUoKTt9JywndGhpcy51bndyYXBwZWRFbGVtZW50Q29udGFpbmVyPW51bGw7dGhpcy53cmFwcGVkRWxlbWVudENvbnRhaW5lcj1udWxsO3RoaXMubWFpbkVsZW1lbnRDb250YWluZXI9bnVsbDt9JywnaWYodGhpcy5ncm91cCYmcmVtb3ZlRnJvbUdyb3VwKXt0aGlzLmdyb3VwLnJlbW92ZUNoaWxkKHRoaXMsZG9VcGRhdGUpO30nLCdpZih0aGlzPT09Y3VycmVudExvZ0l0ZW0pe2N1cnJlbnRMb2dJdGVtPW51bGw7fX0scmVtb3ZlOmZ1bmN0aW9uKGRvVXBkYXRlLHJlbW92ZUZyb21Hcm91cCl7dGhpcy5kb1JlbW92ZShkb1VwZGF0ZSxyZW1vdmVGcm9tR3JvdXApO30scmVuZGVyOmZ1bmN0aW9uKCl7fSxhY2NlcHQ6ZnVuY3Rpb24odmlzaXRvcil7dmlzaXRvci52aXNpdCh0aGlzKTt9LGdldFVud3JhcHBlZERvbUNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdyb3VwLnVud3JhcHBlZEVsZW1lbnRDb250YWluZXIuY29udGVudERpdjt9LGdldFdyYXBwZWREb21Db250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncm91cC53cmFwcGVkRWxlbWVudENvbnRhaW5lci5jb250ZW50RGl2O30sZ2V0TWFpbkRvbUNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdyb3VwLm1haW5FbGVtZW50Q29udGFpbmVyLmNvbnRlbnREaXY7fX07TG9nSXRlbS5zZXJpYWxpemVkSXRlbUtleXM9e0xPR19FTlRSWTowLEdST1VQX1NUQVJUOjEsR1JPVVBfRU5EOjJ9O2Z1bmN0aW9uIExvZ0l0ZW1Db250YWluZXJFbGVtZW50KCl7fScsJ0xvZ0l0ZW1Db250YWluZXJFbGVtZW50LnByb3RvdHlwZT17YXBwZW5kVG9Mb2c6ZnVuY3Rpb24oKXt2YXIgaW5zZXJ0QmVmb3JlRmlyc3Q9KG5ld2VzdEF0VG9wJiZ0aGlzLmNvbnRhaW5lckRvbU5vZGUuaGFzQ2hpbGROb2RlcygpKTtpZihpbnNlcnRCZWZvcmVGaXJzdCl7dGhpcy5jb250YWluZXJEb21Ob2RlLmluc2VydEJlZm9yZSh0aGlzLm1haW5EaXYsdGhpcy5jb250YWluZXJEb21Ob2RlLmZpcnN0Q2hpbGQpO31lbHNle3RoaXMuY29udGFpbmVyRG9tTm9kZS5hcHBlbmRDaGlsZCh0aGlzLm1haW5EaXYpO319fTtmdW5jdGlvbiBTZXBhcmF0b3JFbGVtZW50Q29udGFpbmVyKGNvbnRhaW5lckRvbU5vZGUpe3RoaXMuY29udGFpbmVyRG9tTm9kZT1jb250YWluZXJEb21Ob2RlO3RoaXMubWFpbkRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RoaXMubWFpbkRpdi5jbGFzc05hbWU9XCJzZXBhcmF0b3JcIjt0aGlzLm1haW5EaXYuaW5uZXJIVE1MPVwiJm5ic3A7XCI7fScsJ1NlcGFyYXRvckVsZW1lbnRDb250YWluZXIucHJvdG90eXBlPW5ldyBMb2dJdGVtQ29udGFpbmVyRWxlbWVudCgpO1NlcGFyYXRvckVsZW1lbnRDb250YWluZXIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMubWFpbkRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubWFpbkRpdik7dGhpcy5tYWluRGl2PW51bGw7fTtmdW5jdGlvbiBTZXBhcmF0b3IoKXt0aGlzLnJlbmRlcmVkPWZhbHNlO30nLCdTZXBhcmF0b3IucHJvdG90eXBlPW5ldyBMb2dJdGVtKCk7Y29weVByb3BlcnRpZXMoU2VwYXJhdG9yLnByb3RvdHlwZSx7cmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGNvbnRhaW5lckRvbU5vZGU9dGhpcy5ncm91cC5jb250ZW50RGl2O2lmKGlzSWUpe3RoaXMudW53cmFwcGVkRWxlbWVudENvbnRhaW5lcj1uZXcgU2VwYXJhdG9yRWxlbWVudENvbnRhaW5lcih0aGlzLmdldFVud3JhcHBlZERvbUNvbnRhaW5lcigpKTt0aGlzLndyYXBwZWRFbGVtZW50Q29udGFpbmVyPW5ldyBTZXBhcmF0b3JFbGVtZW50Q29udGFpbmVyKHRoaXMuZ2V0V3JhcHBlZERvbUNvbnRhaW5lcigpKTt0aGlzLmVsZW1lbnRDb250YWluZXJzPVt0aGlzLnVud3JhcHBlZEVsZW1lbnRDb250YWluZXIsdGhpcy53cmFwcGVkRWxlbWVudENvbnRhaW5lcl07fWVsc2V7dGhpcy5tYWluRWxlbWVudENvbnRhaW5lcj1uZXcgU2VwYXJhdG9yRWxlbWVudENvbnRhaW5lcih0aGlzLmdldE1haW5Eb21Db250YWluZXIoKSk7dGhpcy5lbGVtZW50Q29udGFpbmVycz1bdGhpcy5tYWluRWxlbWVudENvbnRhaW5lcl07fScsJ3RoaXMuY29udGVudD10aGlzLmZvcm1hdHRlZE1lc3NhZ2U7dGhpcy5yZW5kZXJlZD10cnVlO319KTtmdW5jdGlvbiBHcm91cEVsZW1lbnRDb250YWluZXIoZ3JvdXAsY29udGFpbmVyRG9tTm9kZSxpc1Jvb3QsaXNXcmFwcGVkKXt0aGlzLmdyb3VwPWdyb3VwO3RoaXMuY29udGFpbmVyRG9tTm9kZT1jb250YWluZXJEb21Ob2RlO3RoaXMuaXNSb290PWlzUm9vdDt0aGlzLmlzV3JhcHBlZD1pc1dyYXBwZWQ7dGhpcy5leHBhbmRhYmxlPWZhbHNlO2lmKHRoaXMuaXNSb290KXtpZihpc0llKXt0aGlzLmNvbnRlbnREaXY9bG9nTWFpbkNvbnRhaW5lci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTt0aGlzLmNvbnRlbnREaXYuaWQ9dGhpcy5pc1dyYXBwZWQ/XCJsb2dfd3JhcHBlZFwiOlwibG9nX3Vud3JhcHBlZFwiO31lbHNle3RoaXMuY29udGVudERpdj1sb2dNYWluQ29udGFpbmVyO319ZWxzZXt2YXIgZ3JvdXBFbGVtZW50Q29udGFpbmVyPXRoaXM7dGhpcy5tYWluRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5tYWluRGl2LmNsYXNzTmFtZT1cImdyb3VwXCI7dGhpcy5oZWFkaW5nRGl2PXRoaXMubWFpbkRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTt0aGlzLmhlYWRpbmdEaXYuY2xhc3NOYW1lPVwiZ3JvdXBoZWFkaW5nXCI7dGhpcy5leHBhbmRlcj10aGlzLmhlYWRpbmdEaXYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpO3RoaXMuZXhwYW5kZXIuY2xhc3NOYW1lPVwiZXhwYW5kZXIgdW5zZWxlY3RhYmxlIGdyZXllZG91dFwiO3RoaXMuZXhwYW5kZXIudW5zZWxlY3RhYmxlPXRydWU7dmFyIGV4cGFuZGVyVGV4dD10aGlzLmdyb3VwLmV4cGFuZGVkP1wiLVwiOlwiK1wiO3RoaXMuZXhwYW5kZXJUZXh0Tm9kZT10aGlzLmV4cGFuZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGV4cGFuZGVyVGV4dCkpO3RoaXMuaGVhZGluZ0Rpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIiBcIit0aGlzLmdyb3VwLm5hbWUpKTt0aGlzLmNvbnRlbnREaXY9dGhpcy5tYWluRGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3ZhciBjb250ZW50Q3NzQ2xhc3M9dGhpcy5ncm91cC5leHBhbmRlZD9cImV4cGFuZGVkXCI6XCJjb2xsYXBzZWRcIjt0aGlzLmNvbnRlbnREaXYuY2xhc3NOYW1lPVwiZ3JvdXBjb250ZW50IFwiK2NvbnRlbnRDc3NDbGFzczt0aGlzLmV4cGFuZGVyLm9uY2xpY2s9ZnVuY3Rpb24oKXtpZihncm91cEVsZW1lbnRDb250YWluZXIuZ3JvdXAuZXhwYW5kYWJsZSl7Z3JvdXBFbGVtZW50Q29udGFpbmVyLmdyb3VwLnRvZ2dsZUV4cGFuZGVkKCk7fX07fX0nLCdHcm91cEVsZW1lbnRDb250YWluZXIucHJvdG90eXBlPW5ldyBMb2dJdGVtQ29udGFpbmVyRWxlbWVudCgpO2NvcHlQcm9wZXJ0aWVzKEdyb3VwRWxlbWVudENvbnRhaW5lci5wcm90b3R5cGUse3RvZ2dsZUV4cGFuZGVkOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNSb290KXt2YXIgb2xkQ3NzQ2xhc3MsbmV3Q3NzQ2xhc3MsZXhwYW5kZXJUZXh0O2lmKHRoaXMuZ3JvdXAuZXhwYW5kZWQpe25ld0Nzc0NsYXNzPVwiZXhwYW5kZWRcIjtvbGRDc3NDbGFzcz1cImNvbGxhcHNlZFwiO2V4cGFuZGVyVGV4dD1cIi1cIjt9ZWxzZXtuZXdDc3NDbGFzcz1cImNvbGxhcHNlZFwiO29sZENzc0NsYXNzPVwiZXhwYW5kZWRcIjtleHBhbmRlclRleHQ9XCIrXCI7fScsJ3JlcGxhY2VDbGFzcyh0aGlzLmNvbnRlbnREaXYsbmV3Q3NzQ2xhc3Msb2xkQ3NzQ2xhc3MpO3RoaXMuZXhwYW5kZXJUZXh0Tm9kZS5ub2RlVmFsdWU9ZXhwYW5kZXJUZXh0O319LHJlbW92ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmlzUm9vdCl7dGhpcy5oZWFkaW5nRGl2PW51bGw7dGhpcy5leHBhbmRlci5vbmNsaWNrPW51bGw7dGhpcy5leHBhbmRlcj1udWxsO3RoaXMuZXhwYW5kZXJUZXh0Tm9kZT1udWxsO3RoaXMuY29udGVudERpdj1udWxsO3RoaXMuY29udGFpbmVyRG9tTm9kZT1udWxsO3RoaXMubWFpbkRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubWFpbkRpdik7dGhpcy5tYWluRGl2PW51bGw7fX0scmV2ZXJzZUNoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIG5vZGU9bnVsbDt2YXIgY2hpbGREb21Ob2Rlcz1bXTt3aGlsZSgobm9kZT10aGlzLmNvbnRlbnREaXYuZmlyc3RDaGlsZCkpe3RoaXMuY29udGVudERpdi5yZW1vdmVDaGlsZChub2RlKTtjaGlsZERvbU5vZGVzLnB1c2gobm9kZSk7fScsJ3doaWxlKChub2RlPWNoaWxkRG9tTm9kZXMucG9wKCkpKXt0aGlzLmNvbnRlbnREaXYuYXBwZW5kQ2hpbGQobm9kZSk7fX0sdXBkYXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNSb290KXtpZih0aGlzLmdyb3VwLmV4cGFuZGFibGUpe3JlbW92ZUNsYXNzKHRoaXMuZXhwYW5kZXIsXCJncmV5ZWRvdXRcIik7fWVsc2V7YWRkQ2xhc3ModGhpcy5leHBhbmRlcixcImdyZXllZG91dFwiKTt9fX0sY2xlYXI6ZnVuY3Rpb24oKXtpZih0aGlzLmlzUm9vdCl7dGhpcy5jb250ZW50RGl2LmlubmVySFRNTD1cIlwiO319fSk7ZnVuY3Rpb24gR3JvdXAobmFtZSxpc1Jvb3QsaW5pdGlhbGx5RXhwYW5kZWQpe3RoaXMubmFtZT1uYW1lO3RoaXMuZ3JvdXA9bnVsbDt0aGlzLmlzUm9vdD1pc1Jvb3Q7dGhpcy5pbml0aWFsbHlFeHBhbmRlZD1pbml0aWFsbHlFeHBhbmRlZDt0aGlzLmVsZW1lbnRDb250YWluZXJzPVtdO3RoaXMuY2hpbGRyZW49W107dGhpcy5leHBhbmRlZD1pbml0aWFsbHlFeHBhbmRlZDt0aGlzLnJlbmRlcmVkPWZhbHNlO3RoaXMuZXhwYW5kYWJsZT1mYWxzZTt9JywnR3JvdXAucHJvdG90eXBlPW5ldyBMb2dJdGVtKCk7Y29weVByb3BlcnRpZXMoR3JvdXAucHJvdG90eXBlLHthZGRDaGlsZDpmdW5jdGlvbihsb2dJdGVtKXt0aGlzLmNoaWxkcmVuLnB1c2gobG9nSXRlbSk7bG9nSXRlbS5ncm91cD10aGlzO30scmVuZGVyOmZ1bmN0aW9uKCl7aWYoaXNJZSl7dmFyIHVud3JhcHBlZERvbUNvbnRhaW5lcix3cmFwcGVkRG9tQ29udGFpbmVyO2lmKHRoaXMuaXNSb290KXt1bndyYXBwZWREb21Db250YWluZXI9bG9nTWFpbkNvbnRhaW5lcjt3cmFwcGVkRG9tQ29udGFpbmVyPWxvZ01haW5Db250YWluZXI7fWVsc2V7dW53cmFwcGVkRG9tQ29udGFpbmVyPXRoaXMuZ2V0VW53cmFwcGVkRG9tQ29udGFpbmVyKCk7d3JhcHBlZERvbUNvbnRhaW5lcj10aGlzLmdldFdyYXBwZWREb21Db250YWluZXIoKTt9JywndGhpcy51bndyYXBwZWRFbGVtZW50Q29udGFpbmVyPW5ldyBHcm91cEVsZW1lbnRDb250YWluZXIodGhpcyx1bndyYXBwZWREb21Db250YWluZXIsdGhpcy5pc1Jvb3QsZmFsc2UpO3RoaXMud3JhcHBlZEVsZW1lbnRDb250YWluZXI9bmV3IEdyb3VwRWxlbWVudENvbnRhaW5lcih0aGlzLHdyYXBwZWREb21Db250YWluZXIsdGhpcy5pc1Jvb3QsdHJ1ZSk7dGhpcy5lbGVtZW50Q29udGFpbmVycz1bdGhpcy51bndyYXBwZWRFbGVtZW50Q29udGFpbmVyLHRoaXMud3JhcHBlZEVsZW1lbnRDb250YWluZXJdO31lbHNle3ZhciBtYWluRG9tQ29udGFpbmVyPXRoaXMuaXNSb290P2xvZ01haW5Db250YWluZXI6dGhpcy5nZXRNYWluRG9tQ29udGFpbmVyKCk7dGhpcy5tYWluRWxlbWVudENvbnRhaW5lcj1uZXcgR3JvdXBFbGVtZW50Q29udGFpbmVyKHRoaXMsbWFpbkRvbUNvbnRhaW5lcix0aGlzLmlzUm9vdCxmYWxzZSk7dGhpcy5lbGVtZW50Q29udGFpbmVycz1bdGhpcy5tYWluRWxlbWVudENvbnRhaW5lcl07fScsJ3RoaXMucmVuZGVyZWQ9dHJ1ZTt9LHRvZ2dsZUV4cGFuZGVkOmZ1bmN0aW9uKCl7dGhpcy5leHBhbmRlZD0hdGhpcy5leHBhbmRlZDtmb3IodmFyIGk9MCxsZW49dGhpcy5lbGVtZW50Q29udGFpbmVycy5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLmVsZW1lbnRDb250YWluZXJzW2ldLnRvZ2dsZUV4cGFuZGVkKCk7fX0sZXhwYW5kOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZXhwYW5kZWQpe3RoaXMudG9nZ2xlRXhwYW5kZWQoKTt9fSxhY2NlcHQ6ZnVuY3Rpb24odmlzaXRvcil7dmlzaXRvci52aXNpdEdyb3VwKHRoaXMpO30scmV2ZXJzZUNoaWxkcmVuOmZ1bmN0aW9uKCl7aWYodGhpcy5yZW5kZXJlZCl7Zm9yKHZhciBpPTAsbGVuPXRoaXMuZWxlbWVudENvbnRhaW5lcnMubGVuZ3RoO2k8bGVuO2krKyl7dGhpcy5lbGVtZW50Q29udGFpbmVyc1tpXS5yZXZlcnNlQ2hpbGRyZW4oKTt9fX0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHByZXZpb3VzbHlFeHBhbmRhYmxlPXRoaXMuZXhwYW5kYWJsZTt0aGlzLmV4cGFuZGFibGU9KHRoaXMuY2hpbGRyZW4ubGVuZ3RoIT09MCk7aWYodGhpcy5leHBhbmRhYmxlIT09cHJldmlvdXNseUV4cGFuZGFibGUpe2Zvcih2YXIgaT0wLGxlbj10aGlzLmVsZW1lbnRDb250YWluZXJzLmxlbmd0aDtpPGxlbjtpKyspe3RoaXMuZWxlbWVudENvbnRhaW5lcnNbaV0udXBkYXRlKCk7fX19LGZsYXR0ZW46ZnVuY3Rpb24oKXt2YXIgdmlzaXRvcj1uZXcgR3JvdXBGbGF0dGVuZXIoKTt0aGlzLmFjY2VwdCh2aXNpdG9yKTtyZXR1cm4gdmlzaXRvci5sb2dFbnRyaWVzQW5kU2VwYXJhdG9yczt9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGNoaWxkLGRvVXBkYXRlKXthcnJheV9yZW1vdmUodGhpcy5jaGlsZHJlbixjaGlsZCk7Y2hpbGQuZ3JvdXA9bnVsbDtpZihkb1VwZGF0ZSl7dGhpcy51cGRhdGUoKTt9fSxyZW1vdmU6ZnVuY3Rpb24oZG9VcGRhdGUscmVtb3ZlRnJvbUdyb3VwKXtmb3IodmFyIGk9MCxsZW49dGhpcy5jaGlsZHJlbi5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLmNoaWxkcmVuW2ldLnJlbW92ZShmYWxzZSxmYWxzZSk7fScsJ3RoaXMuY2hpbGRyZW49W107dGhpcy51cGRhdGUoKTtpZih0aGlzPT09Y3VycmVudEdyb3VwKXtjdXJyZW50R3JvdXA9dGhpcy5ncm91cDt9JywndGhpcy5kb1JlbW92ZShkb1VwZGF0ZSxyZW1vdmVGcm9tR3JvdXApO30sc2VyaWFsaXplOmZ1bmN0aW9uKGl0ZW1zKXtpdGVtcy5wdXNoKFtMb2dJdGVtLnNlcmlhbGl6ZWRJdGVtS2V5cy5HUk9VUF9TVEFSVCx0aGlzLm5hbWVdKTtmb3IodmFyIGk9MCxsZW49dGhpcy5jaGlsZHJlbi5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLmNoaWxkcmVuW2ldLnNlcmlhbGl6ZShpdGVtcyk7fScsJ2lmKHRoaXMhPT1jdXJyZW50R3JvdXApe2l0ZW1zLnB1c2goW0xvZ0l0ZW0uc2VyaWFsaXplZEl0ZW1LZXlzLkdST1VQX0VORF0pO319LGNsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciBpPTAsbGVuPXRoaXMuZWxlbWVudENvbnRhaW5lcnMubGVuZ3RoO2k8bGVuO2krKyl7dGhpcy5lbGVtZW50Q29udGFpbmVyc1tpXS5jbGVhcigpO319fSk7ZnVuY3Rpb24gTG9nRW50cnlFbGVtZW50Q29udGFpbmVyKCl7fScsJ0xvZ0VudHJ5RWxlbWVudENvbnRhaW5lci5wcm90b3R5cGU9bmV3IExvZ0l0ZW1Db250YWluZXJFbGVtZW50KCk7Y29weVByb3BlcnRpZXMoTG9nRW50cnlFbGVtZW50Q29udGFpbmVyLnByb3RvdHlwZSx7cmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5kb1JlbW92ZSgpO30sZG9SZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLm1haW5EaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm1haW5EaXYpO3RoaXMubWFpbkRpdj1udWxsO3RoaXMuY29udGVudEVsZW1lbnQ9bnVsbDt0aGlzLmNvbnRhaW5lckRvbU5vZGU9bnVsbDt9LHNldENvbnRlbnQ6ZnVuY3Rpb24oY29udGVudCx3cmFwcGVkQ29udGVudCl7aWYoY29udGVudD09PXRoaXMuZm9ybWF0dGVkTWVzc2FnZSl7dGhpcy5jb250ZW50RWxlbWVudC5pbm5lckhUTUw9XCJcIjt0aGlzLmNvbnRlbnRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuZm9ybWF0dGVkTWVzc2FnZSkpO31lbHNle3RoaXMuY29udGVudEVsZW1lbnQuaW5uZXJIVE1MPWNvbnRlbnQ7fX0sc2V0U2VhcmNoTWF0Y2g6ZnVuY3Rpb24oaXNNYXRjaCl7dmFyIG9sZENzc0NsYXNzPWlzTWF0Y2g/XCJzZWFyY2hub25tYXRjaFwiOlwic2VhcmNobWF0Y2hcIjt2YXIgbmV3Q3NzQ2xhc3M9aXNNYXRjaD9cInNlYXJjaG1hdGNoXCI6XCJzZWFyY2hub25tYXRjaFwiO3JlcGxhY2VDbGFzcyh0aGlzLm1haW5EaXYsbmV3Q3NzQ2xhc3Msb2xkQ3NzQ2xhc3MpO30sY2xlYXJTZWFyY2g6ZnVuY3Rpb24oKXtyZW1vdmVDbGFzcyh0aGlzLm1haW5EaXYsXCJzZWFyY2htYXRjaFwiKTtyZW1vdmVDbGFzcyh0aGlzLm1haW5EaXYsXCJzZWFyY2hub25tYXRjaFwiKTt9fSk7ZnVuY3Rpb24gTG9nRW50cnlXcmFwcGVkRWxlbWVudENvbnRhaW5lcihsb2dFbnRyeSxjb250YWluZXJEb21Ob2RlKXt0aGlzLmxvZ0VudHJ5PWxvZ0VudHJ5O3RoaXMuY29udGFpbmVyRG9tTm9kZT1jb250YWluZXJEb21Ob2RlO3RoaXMubWFpbkRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RoaXMubWFpbkRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmxvZ0VudHJ5LmZvcm1hdHRlZE1lc3NhZ2UpKTt0aGlzLm1haW5EaXYuY2xhc3NOYW1lPVwibG9nZW50cnkgd3JhcHBlZCBcIit0aGlzLmxvZ0VudHJ5LmxldmVsO3RoaXMuY29udGVudEVsZW1lbnQ9dGhpcy5tYWluRGl2O30nLCdMb2dFbnRyeVdyYXBwZWRFbGVtZW50Q29udGFpbmVyLnByb3RvdHlwZT1uZXcgTG9nRW50cnlFbGVtZW50Q29udGFpbmVyKCk7TG9nRW50cnlXcmFwcGVkRWxlbWVudENvbnRhaW5lci5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbihjb250ZW50LHdyYXBwZWRDb250ZW50KXtpZihjb250ZW50PT09dGhpcy5mb3JtYXR0ZWRNZXNzYWdlKXt0aGlzLmNvbnRlbnRFbGVtZW50LmlubmVySFRNTD1cIlwiO3RoaXMuY29udGVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5mb3JtYXR0ZWRNZXNzYWdlKSk7fWVsc2V7dGhpcy5jb250ZW50RWxlbWVudC5pbm5lckhUTUw9d3JhcHBlZENvbnRlbnQ7fX07ZnVuY3Rpb24gTG9nRW50cnlVbndyYXBwZWRFbGVtZW50Q29udGFpbmVyKGxvZ0VudHJ5LGNvbnRhaW5lckRvbU5vZGUpe3RoaXMubG9nRW50cnk9bG9nRW50cnk7dGhpcy5jb250YWluZXJEb21Ob2RlPWNvbnRhaW5lckRvbU5vZGU7dGhpcy5tYWluRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5tYWluRGl2LmNsYXNzTmFtZT1cImxvZ2VudHJ5IHVud3JhcHBlZCBcIit0aGlzLmxvZ0VudHJ5LmxldmVsO3RoaXMucHJlPXRoaXMubWFpbkRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpKTt0aGlzLnByZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmxvZ0VudHJ5LmZvcm1hdHRlZE1lc3NhZ2UpKTt0aGlzLnByZS5jbGFzc05hbWU9XCJ1bndyYXBwZWRcIjt0aGlzLmNvbnRlbnRFbGVtZW50PXRoaXMucHJlO30nLCdMb2dFbnRyeVVud3JhcHBlZEVsZW1lbnRDb250YWluZXIucHJvdG90eXBlPW5ldyBMb2dFbnRyeUVsZW1lbnRDb250YWluZXIoKTtMb2dFbnRyeVVud3JhcHBlZEVsZW1lbnRDb250YWluZXIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZG9SZW1vdmUoKTt0aGlzLnByZT1udWxsO307ZnVuY3Rpb24gTG9nRW50cnlNYWluRWxlbWVudENvbnRhaW5lcihsb2dFbnRyeSxjb250YWluZXJEb21Ob2RlKXt0aGlzLmxvZ0VudHJ5PWxvZ0VudHJ5O3RoaXMuY29udGFpbmVyRG9tTm9kZT1jb250YWluZXJEb21Ob2RlO3RoaXMubWFpbkRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RoaXMubWFpbkRpdi5jbGFzc05hbWU9XCJsb2dlbnRyeSBub25pZWxvZ2VudHJ5IFwiK3RoaXMubG9nRW50cnkubGV2ZWw7dGhpcy5jb250ZW50RWxlbWVudD10aGlzLm1haW5EaXYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpO3RoaXMuY29udGVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5sb2dFbnRyeS5mb3JtYXR0ZWRNZXNzYWdlKSk7fScsJ0xvZ0VudHJ5TWFpbkVsZW1lbnRDb250YWluZXIucHJvdG90eXBlPW5ldyBMb2dFbnRyeUVsZW1lbnRDb250YWluZXIoKTtmdW5jdGlvbiBMb2dFbnRyeShsZXZlbCxmb3JtYXR0ZWRNZXNzYWdlKXt0aGlzLmxldmVsPWxldmVsO3RoaXMuZm9ybWF0dGVkTWVzc2FnZT1mb3JtYXR0ZWRNZXNzYWdlO3RoaXMucmVuZGVyZWQ9ZmFsc2U7fScsJ0xvZ0VudHJ5LnByb3RvdHlwZT1uZXcgTG9nSXRlbSgpO2NvcHlQcm9wZXJ0aWVzKExvZ0VudHJ5LnByb3RvdHlwZSx7cmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGxvZ0VudHJ5PXRoaXM7dmFyIGNvbnRhaW5lckRvbU5vZGU9dGhpcy5ncm91cC5jb250ZW50RGl2O2lmKGlzSWUpe3RoaXMuZm9ybWF0dGVkTWVzc2FnZT10aGlzLmZvcm1hdHRlZE1lc3NhZ2UucmVwbGFjZSgvXFxcXHJcXFxcbi9nLFwiXFxcXHJcIik7dGhpcy51bndyYXBwZWRFbGVtZW50Q29udGFpbmVyPW5ldyBMb2dFbnRyeVVud3JhcHBlZEVsZW1lbnRDb250YWluZXIodGhpcyx0aGlzLmdldFVud3JhcHBlZERvbUNvbnRhaW5lcigpKTt0aGlzLndyYXBwZWRFbGVtZW50Q29udGFpbmVyPW5ldyBMb2dFbnRyeVdyYXBwZWRFbGVtZW50Q29udGFpbmVyKHRoaXMsdGhpcy5nZXRXcmFwcGVkRG9tQ29udGFpbmVyKCkpO3RoaXMuZWxlbWVudENvbnRhaW5lcnM9W3RoaXMudW53cmFwcGVkRWxlbWVudENvbnRhaW5lcix0aGlzLndyYXBwZWRFbGVtZW50Q29udGFpbmVyXTt9ZWxzZXt0aGlzLm1haW5FbGVtZW50Q29udGFpbmVyPW5ldyBMb2dFbnRyeU1haW5FbGVtZW50Q29udGFpbmVyKHRoaXMsdGhpcy5nZXRNYWluRG9tQ29udGFpbmVyKCkpO3RoaXMuZWxlbWVudENvbnRhaW5lcnM9W3RoaXMubWFpbkVsZW1lbnRDb250YWluZXJdO30nLCd0aGlzLmNvbnRlbnQ9dGhpcy5mb3JtYXR0ZWRNZXNzYWdlO3RoaXMucmVuZGVyZWQ9dHJ1ZTt9LHNldENvbnRlbnQ6ZnVuY3Rpb24oY29udGVudCx3cmFwcGVkQ29udGVudCl7aWYoY29udGVudCE9dGhpcy5jb250ZW50KXtpZihpc0llJiYoY29udGVudCE9PXRoaXMuZm9ybWF0dGVkTWVzc2FnZSkpe2NvbnRlbnQ9Y29udGVudC5yZXBsYWNlKC9cXFxcclxcXFxuL2csXCJcXFxcclwiKTt9JywnZm9yKHZhciBpPTAsbGVuPXRoaXMuZWxlbWVudENvbnRhaW5lcnMubGVuZ3RoO2k8bGVuO2krKyl7dGhpcy5lbGVtZW50Q29udGFpbmVyc1tpXS5zZXRDb250ZW50KGNvbnRlbnQsd3JhcHBlZENvbnRlbnQpO30nLCd0aGlzLmNvbnRlbnQ9Y29udGVudDt9fSxnZXRTZWFyY2hNYXRjaGVzOmZ1bmN0aW9uKCl7dmFyIG1hdGNoZXM9W107dmFyIGksbGVuO2lmKGlzSWUpe3ZhciB1bndyYXBwZWRFbHM9Z2V0RWxlbWVudHNCeUNsYXNzKHRoaXMudW53cmFwcGVkRWxlbWVudENvbnRhaW5lci5tYWluRGl2LFwic2VhcmNodGVybVwiLFwic3BhblwiKTt2YXIgd3JhcHBlZEVscz1nZXRFbGVtZW50c0J5Q2xhc3ModGhpcy53cmFwcGVkRWxlbWVudENvbnRhaW5lci5tYWluRGl2LFwic2VhcmNodGVybVwiLFwic3BhblwiKTtmb3IoaT0wLGxlbj11bndyYXBwZWRFbHMubGVuZ3RoO2k8bGVuO2krKyl7bWF0Y2hlc1tpXT1uZXcgTWF0Y2godGhpcy5sZXZlbCxudWxsLHVud3JhcHBlZEVsc1tpXSx3cmFwcGVkRWxzW2ldKTt9fWVsc2V7dmFyIGVscz1nZXRFbGVtZW50c0J5Q2xhc3ModGhpcy5tYWluRWxlbWVudENvbnRhaW5lci5tYWluRGl2LFwic2VhcmNodGVybVwiLFwic3BhblwiKTtmb3IoaT0wLGxlbj1lbHMubGVuZ3RoO2k8bGVuO2krKyl7bWF0Y2hlc1tpXT1uZXcgTWF0Y2godGhpcy5sZXZlbCxlbHNbaV0pO319JywncmV0dXJuIG1hdGNoZXM7fSxzZXRTZWFyY2hNYXRjaDpmdW5jdGlvbihpc01hdGNoKXtmb3IodmFyIGk9MCxsZW49dGhpcy5lbGVtZW50Q29udGFpbmVycy5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLmVsZW1lbnRDb250YWluZXJzW2ldLnNldFNlYXJjaE1hdGNoKGlzTWF0Y2gpO319LGNsZWFyU2VhcmNoOmZ1bmN0aW9uKCl7Zm9yKHZhciBpPTAsbGVuPXRoaXMuZWxlbWVudENvbnRhaW5lcnMubGVuZ3RoO2k8bGVuO2krKyl7dGhpcy5lbGVtZW50Q29udGFpbmVyc1tpXS5jbGVhclNlYXJjaCgpO319LGFjY2VwdDpmdW5jdGlvbih2aXNpdG9yKXt2aXNpdG9yLnZpc2l0TG9nRW50cnkodGhpcyk7fSxzZXJpYWxpemU6ZnVuY3Rpb24oaXRlbXMpe2l0ZW1zLnB1c2goW0xvZ0l0ZW0uc2VyaWFsaXplZEl0ZW1LZXlzLkxPR19FTlRSWSx0aGlzLmxldmVsLHRoaXMuZm9ybWF0dGVkTWVzc2FnZV0pO319KTtmdW5jdGlvbiBMb2dJdGVtVmlzaXRvcigpe30nLCdMb2dJdGVtVmlzaXRvci5wcm90b3R5cGU9e3Zpc2l0OmZ1bmN0aW9uKGxvZ0l0ZW0pe30sdmlzaXRQYXJlbnQ6ZnVuY3Rpb24obG9nSXRlbSl7aWYobG9nSXRlbS5ncm91cCl7bG9nSXRlbS5ncm91cC5hY2NlcHQodGhpcyk7fX0sdmlzaXRDaGlsZHJlbjpmdW5jdGlvbihsb2dJdGVtKXtmb3IodmFyIGk9MCxsZW49bG9nSXRlbS5jaGlsZHJlbi5sZW5ndGg7aTxsZW47aSsrKXtsb2dJdGVtLmNoaWxkcmVuW2ldLmFjY2VwdCh0aGlzKTt9fSx2aXNpdExvZ0VudHJ5OmZ1bmN0aW9uKGxvZ0VudHJ5KXt0aGlzLnZpc2l0KGxvZ0VudHJ5KTt9LHZpc2l0U2VwYXJhdG9yOmZ1bmN0aW9uKHNlcGFyYXRvcil7dGhpcy52aXNpdChzZXBhcmF0b3IpO30sdmlzaXRHcm91cDpmdW5jdGlvbihncm91cCl7dGhpcy52aXNpdChncm91cCk7fX07ZnVuY3Rpb24gR3JvdXBGbGF0dGVuZXIoKXt0aGlzLmxvZ0VudHJpZXNBbmRTZXBhcmF0b3JzPVtdO30nLCdHcm91cEZsYXR0ZW5lci5wcm90b3R5cGU9bmV3IExvZ0l0ZW1WaXNpdG9yKCk7R3JvdXBGbGF0dGVuZXIucHJvdG90eXBlLnZpc2l0R3JvdXA9ZnVuY3Rpb24oZ3JvdXApe3RoaXMudmlzaXRDaGlsZHJlbihncm91cCk7fTtHcm91cEZsYXR0ZW5lci5wcm90b3R5cGUudmlzaXRMb2dFbnRyeT1mdW5jdGlvbihsb2dFbnRyeSl7dGhpcy5sb2dFbnRyaWVzQW5kU2VwYXJhdG9ycy5wdXNoKGxvZ0VudHJ5KTt9O0dyb3VwRmxhdHRlbmVyLnByb3RvdHlwZS52aXNpdFNlcGFyYXRvcj1mdW5jdGlvbihzZXBhcmF0b3Ipe3RoaXMubG9nRW50cmllc0FuZFNlcGFyYXRvcnMucHVzaChzZXBhcmF0b3IpO307d2luZG93Lm9ubG9hZD1mdW5jdGlvbigpe2lmKGxvY2F0aW9uLnNlYXJjaCl7dmFyIHF1ZXJ5Qml0cz11bmVzY2FwZShsb2NhdGlvbi5zZWFyY2gpLnN1YnN0cigxKS5zcGxpdChcIiZcIiksbmFtZVZhbHVlQml0cztmb3IodmFyIGk9MCxsZW49cXVlcnlCaXRzLmxlbmd0aDtpPGxlbjtpKyspe25hbWVWYWx1ZUJpdHM9cXVlcnlCaXRzW2ldLnNwbGl0KFwiPVwiKTtpZihuYW1lVmFsdWVCaXRzWzBdPT1cImxvZzRqYXZhc2NyaXB0X2RvbWFpblwiKXtkb2N1bWVudC5kb21haW49bmFtZVZhbHVlQml0c1sxXTticmVhazt9fX0nLCdsb2dNYWluQ29udGFpbmVyPSQoXCJsb2dcIik7aWYoaXNJZVByZTcpe2FkZENsYXNzKGxvZ01haW5Db250YWluZXIsXCJvbGRJZVwiKTt9Jywncm9vdEdyb3VwPW5ldyBHcm91cChcInJvb3RcIix0cnVlKTtyb290R3JvdXAucmVuZGVyKCk7Y3VycmVudEdyb3VwPXJvb3RHcm91cDtzZXRDb21tYW5kSW5wdXRXaWR0aCgpO3NldExvZ0NvbnRhaW5lckhlaWdodCgpO3RvZ2dsZUxvZ2dpbmdFbmFibGVkKCk7dG9nZ2xlU2VhcmNoRW5hYmxlZCgpO3RvZ2dsZVNlYXJjaEZpbHRlcigpO3RvZ2dsZVNlYXJjaEhpZ2hsaWdodCgpO2FwcGx5RmlsdGVycygpO2NoZWNrQWxsTGV2ZWxzKCk7dG9nZ2xlV3JhcCgpO3RvZ2dsZU5ld2VzdEF0VG9wKCk7dG9nZ2xlU2Nyb2xsVG9MYXRlc3QoKTtyZW5kZXJRdWV1ZWRMb2dJdGVtcygpO2xvYWRlZD10cnVlOyQoXCJjb21tYW5kXCIpLnZhbHVlPVwiXCI7JChcImNvbW1hbmRcIikuYXV0b2NvbXBsZXRlPVwib2ZmXCI7JChcImNvbW1hbmRcIikub25rZXlkb3duPWZ1bmN0aW9uKGV2dCl7ZXZ0PWdldEV2ZW50KGV2dCk7aWYoZXZ0LmtleUNvZGU9PTEwfHxldnQua2V5Q29kZT09MTMpe2V2YWxDb21tYW5kTGluZSgpO3N0b3BQcm9wYWdhdGlvbihldnQpO31lbHNlIGlmKGV2dC5rZXlDb2RlPT0yNyl7dGhpcy52YWx1ZT1cIlwiO3RoaXMuZm9jdXMoKTt9ZWxzZSBpZihldnQua2V5Q29kZT09MzgmJmNvbW1hbmRIaXN0b3J5Lmxlbmd0aD4wKXtjdXJyZW50Q29tbWFuZEluZGV4PU1hdGgubWF4KDAsY3VycmVudENvbW1hbmRJbmRleC0xKTt0aGlzLnZhbHVlPWNvbW1hbmRIaXN0b3J5W2N1cnJlbnRDb21tYW5kSW5kZXhdO21vdmVDYXJldFRvRW5kKHRoaXMpO31lbHNlIGlmKGV2dC5rZXlDb2RlPT00MCYmY29tbWFuZEhpc3RvcnkubGVuZ3RoPjApe2N1cnJlbnRDb21tYW5kSW5kZXg9TWF0aC5taW4oY29tbWFuZEhpc3RvcnkubGVuZ3RoLTEsY3VycmVudENvbW1hbmRJbmRleCsxKTt0aGlzLnZhbHVlPWNvbW1hbmRIaXN0b3J5W2N1cnJlbnRDb21tYW5kSW5kZXhdO21vdmVDYXJldFRvRW5kKHRoaXMpO319OyQoXCJjb21tYW5kXCIpLm9ua2V5cHJlc3M9ZnVuY3Rpb24oZXZ0KXtldnQ9Z2V0RXZlbnQoZXZ0KTtpZihldnQua2V5Q29kZT09MzgmJmNvbW1hbmRIaXN0b3J5Lmxlbmd0aD4wJiZldnQucHJldmVudERlZmF1bHQpe2V2dC5wcmV2ZW50RGVmYXVsdCgpO319OyQoXCJjb21tYW5kXCIpLm9ua2V5dXA9ZnVuY3Rpb24oZXZ0KXtldnQ9Z2V0RXZlbnQoZXZ0KTtpZihldnQua2V5Q29kZT09MjcmJmV2dC5wcmV2ZW50RGVmYXVsdCl7ZXZ0LnByZXZlbnREZWZhdWx0KCk7dGhpcy5mb2N1cygpO319O2RvY3VtZW50Lm9ua2V5ZG93bj1mdW5jdGlvbiBrZXlFdmVudEhhbmRsZXIoZXZ0KXtldnQ9Z2V0RXZlbnQoZXZ0KTtzd2l0Y2goZXZ0LmtleUNvZGUpe2Nhc2UgNjk6aWYoZXZ0LnNoaWZ0S2V5JiYoZXZ0LmN0cmxLZXl8fGV2dC5tZXRhS2V5KSl7ZXZhbExhc3RDb21tYW5kKCk7Y2FuY2VsS2V5RXZlbnQoZXZ0KTtyZXR1cm4gZmFsc2U7fScsJ2JyZWFrO2Nhc2UgNzU6aWYoZXZ0LnNoaWZ0S2V5JiYoZXZ0LmN0cmxLZXl8fGV2dC5tZXRhS2V5KSl7Zm9jdXNTZWFyY2goKTtjYW5jZWxLZXlFdmVudChldnQpO3JldHVybiBmYWxzZTt9JywnYnJlYWs7Y2FzZSA0MDpjYXNlIDc2OmlmKGV2dC5zaGlmdEtleSYmKGV2dC5jdHJsS2V5fHxldnQubWV0YUtleSkpe2ZvY3VzQ29tbWFuZExpbmUoKTtjYW5jZWxLZXlFdmVudChldnQpO3JldHVybiBmYWxzZTt9JywnYnJlYWs7fX07c2V0VGltZW91dChzZXRMb2dDb250YWluZXJIZWlnaHQsMjApO3NldFNob3dDb21tYW5kTGluZShzaG93Q29tbWFuZExpbmUpO2RvU2VhcmNoKCk7fTt3aW5kb3cub251bmxvYWQ9ZnVuY3Rpb24oKXtpZihtYWluV2luZG93RXhpc3RzKCkpe2FwcGVuZGVyLnVubG9hZCgpO30nLCdhcHBlbmRlcj1udWxsO307ZnVuY3Rpb24gdG9nZ2xlTG9nZ2luZ0VuYWJsZWQoKXtzZXRMb2dnaW5nRW5hYmxlZCgkKFwiZW5hYmxlTG9nZ2luZ1wiKS5jaGVja2VkKTt9JywnZnVuY3Rpb24gc2V0TG9nZ2luZ0VuYWJsZWQoZW5hYmxlKXtsb2dnaW5nRW5hYmxlZD1lbmFibGU7fScsJ3ZhciBhcHBlbmRlcj1udWxsO2Z1bmN0aW9uIHNldEFwcGVuZGVyKGFwcGVuZGVyUGFyYW0pe2FwcGVuZGVyPWFwcGVuZGVyUGFyYW07fScsJ2Z1bmN0aW9uIHNldFNob3dDbG9zZUJ1dHRvbihzaG93Q2xvc2VCdXR0b24peyQoXCJjbG9zZUJ1dHRvblwiKS5zdHlsZS5kaXNwbGF5PXNob3dDbG9zZUJ1dHRvbj9cImlubGluZVwiOlwibm9uZVwiO30nLCdmdW5jdGlvbiBzZXRTaG93SGlkZUJ1dHRvbihzaG93SGlkZUJ1dHRvbil7JChcImhpZGVCdXR0b25cIikuc3R5bGUuZGlzcGxheT1zaG93SGlkZUJ1dHRvbj9cImlubGluZVwiOlwibm9uZVwiO30nLCd2YXIgbmV3ZXN0QXRUb3A9ZmFsc2U7ZnVuY3Rpb24gTG9nSXRlbUNvbnRlbnRSZXZlcnNlcigpe30nLCdMb2dJdGVtQ29udGVudFJldmVyc2VyLnByb3RvdHlwZT1uZXcgTG9nSXRlbVZpc2l0b3IoKTtMb2dJdGVtQ29udGVudFJldmVyc2VyLnByb3RvdHlwZS52aXNpdEdyb3VwPWZ1bmN0aW9uKGdyb3VwKXtncm91cC5yZXZlcnNlQ2hpbGRyZW4oKTt0aGlzLnZpc2l0Q2hpbGRyZW4oZ3JvdXApO307ZnVuY3Rpb24gc2V0TmV3ZXN0QXRUb3AoaXNOZXdlc3RBdFRvcCl7dmFyIG9sZE5ld2VzdEF0VG9wPW5ld2VzdEF0VG9wO3ZhciBpLGlMZW4saixqTGVuO25ld2VzdEF0VG9wPUJvb2xlYW4oaXNOZXdlc3RBdFRvcCk7aWYob2xkTmV3ZXN0QXRUb3AhPW5ld2VzdEF0VG9wKXt2YXIgdmlzaXRvcj1uZXcgTG9nSXRlbUNvbnRlbnRSZXZlcnNlcigpO3Jvb3RHcm91cC5hY2NlcHQodmlzaXRvcik7aWYoY3VycmVudFNlYXJjaCl7dmFyIGN1cnJlbnRNYXRjaD1jdXJyZW50U2VhcmNoLm1hdGNoZXNbY3VycmVudE1hdGNoSW5kZXhdO3ZhciBtYXRjaEluZGV4PTA7dmFyIG1hdGNoZXM9W107dmFyIGFjdE9uTG9nRW50cnk9ZnVuY3Rpb24obG9nRW50cnkpe3ZhciBsb2dFbnRyeU1hdGNoZXM9bG9nRW50cnkuZ2V0U2VhcmNoTWF0Y2hlcygpO2ZvcihqPTAsakxlbj1sb2dFbnRyeU1hdGNoZXMubGVuZ3RoO2o8akxlbjtqKyspe21hdGNoZXNbbWF0Y2hJbmRleF09bG9nRW50cnlNYXRjaGVzW2pdO2lmKGN1cnJlbnRNYXRjaCYmbG9nRW50cnlNYXRjaGVzW2pdLmVxdWFscyhjdXJyZW50TWF0Y2gpKXtjdXJyZW50TWF0Y2hJbmRleD1tYXRjaEluZGV4O30nLCdtYXRjaEluZGV4Kys7fX07aWYobmV3ZXN0QXRUb3Ape2ZvcihpPWxvZ0VudHJpZXMubGVuZ3RoLTE7aT49MDtpLS0pe2FjdE9uTG9nRW50cnkobG9nRW50cmllc1tpXSk7fX1lbHNle2ZvcihpPTAsaUxlbj1sb2dFbnRyaWVzLmxlbmd0aDtpPGlMZW47aSsrKXthY3RPbkxvZ0VudHJ5KGxvZ0VudHJpZXNbaV0pO319JywnY3VycmVudFNlYXJjaC5tYXRjaGVzPW1hdGNoZXM7aWYoY3VycmVudE1hdGNoKXtjdXJyZW50TWF0Y2guc2V0Q3VycmVudCgpO319ZWxzZSBpZihzY3JvbGxUb0xhdGVzdCl7ZG9TY3JvbGxUb0xhdGVzdCgpO319JywnJChcIm5ld2VzdEF0VG9wXCIpLmNoZWNrZWQ9aXNOZXdlc3RBdFRvcDt9JywnZnVuY3Rpb24gdG9nZ2xlTmV3ZXN0QXRUb3AoKXt2YXIgaXNOZXdlc3RBdFRvcD0kKFwibmV3ZXN0QXRUb3BcIikuY2hlY2tlZDtzZXROZXdlc3RBdFRvcChpc05ld2VzdEF0VG9wKTt9JywndmFyIHNjcm9sbFRvTGF0ZXN0PXRydWU7ZnVuY3Rpb24gc2V0U2Nyb2xsVG9MYXRlc3QoaXNTY3JvbGxUb0xhdGVzdCl7c2Nyb2xsVG9MYXRlc3Q9aXNTY3JvbGxUb0xhdGVzdDtpZihzY3JvbGxUb0xhdGVzdCl7ZG9TY3JvbGxUb0xhdGVzdCgpO30nLCckKFwic2Nyb2xsVG9MYXRlc3RcIikuY2hlY2tlZD1pc1Njcm9sbFRvTGF0ZXN0O30nLCdmdW5jdGlvbiB0b2dnbGVTY3JvbGxUb0xhdGVzdCgpe3ZhciBpc1Njcm9sbFRvTGF0ZXN0PSQoXCJzY3JvbGxUb0xhdGVzdFwiKS5jaGVja2VkO3NldFNjcm9sbFRvTGF0ZXN0KGlzU2Nyb2xsVG9MYXRlc3QpO30nLCdmdW5jdGlvbiBkb1Njcm9sbFRvTGF0ZXN0KCl7dmFyIGw9bG9nTWFpbkNvbnRhaW5lcjtpZih0eXBlb2YgbC5zY3JvbGxUb3AhPVwidW5kZWZpbmVkXCIpe2lmKG5ld2VzdEF0VG9wKXtsLnNjcm9sbFRvcD0wO31lbHNle3ZhciBsYXRlc3RMb2dFbnRyeT1sLmxhc3RDaGlsZDtpZihsYXRlc3RMb2dFbnRyeSl7bC5zY3JvbGxUb3A9bC5zY3JvbGxIZWlnaHQ7fX19fScsJ3ZhciBjbG9zZUlmT3BlbmVyQ2xvc2VzPXRydWU7ZnVuY3Rpb24gc2V0Q2xvc2VJZk9wZW5lckNsb3Nlcyhpc0Nsb3NlSWZPcGVuZXJDbG9zZXMpe2Nsb3NlSWZPcGVuZXJDbG9zZXM9aXNDbG9zZUlmT3BlbmVyQ2xvc2VzO30nLCd2YXIgbWF4TWVzc2FnZXM9bnVsbDtmdW5jdGlvbiBzZXRNYXhNZXNzYWdlcyhtYXgpe21heE1lc3NhZ2VzPW1heDtwcnVuZUxvZ0VudHJpZXMoKTt9JywndmFyIHNob3dDb21tYW5kTGluZT1mYWxzZTtmdW5jdGlvbiBzZXRTaG93Q29tbWFuZExpbmUoaXNTaG93Q29tbWFuZExpbmUpe3Nob3dDb21tYW5kTGluZT1pc1Nob3dDb21tYW5kTGluZTtpZihsb2FkZWQpeyQoXCJjb21tYW5kTGluZVwiKS5zdHlsZS5kaXNwbGF5PXNob3dDb21tYW5kTGluZT9cImJsb2NrXCI6XCJub25lXCI7c2V0Q29tbWFuZElucHV0V2lkdGgoKTtzZXRMb2dDb250YWluZXJIZWlnaHQoKTt9fScsJ2Z1bmN0aW9uIGZvY3VzQ29tbWFuZExpbmUoKXtpZihsb2FkZWQpeyQoXCJjb21tYW5kXCIpLmZvY3VzKCk7fX0nLCdmdW5jdGlvbiBmb2N1c1NlYXJjaCgpe2lmKGxvYWRlZCl7JChcInNlYXJjaEJveFwiKS5mb2N1cygpO319JywnZnVuY3Rpb24gZ2V0TG9nSXRlbXMoKXt2YXIgaXRlbXM9W107Zm9yKHZhciBpPTAsbGVuPWxvZ0l0ZW1zLmxlbmd0aDtpPGxlbjtpKyspe2xvZ0l0ZW1zW2ldLnNlcmlhbGl6ZShpdGVtcyk7fScsJ3JldHVybiBpdGVtczt9JywnZnVuY3Rpb24gc2V0TG9nSXRlbXMoaXRlbXMpe3ZhciBsb2dnaW5nUmVhbGx5RW5hYmxlZD1sb2dnaW5nRW5hYmxlZDtsb2dnaW5nRW5hYmxlZD10cnVlO2Zvcih2YXIgaT0wLGxlbj1pdGVtcy5sZW5ndGg7aTxsZW47aSsrKXtzd2l0Y2goaXRlbXNbaV1bMF0pe2Nhc2UgTG9nSXRlbS5zZXJpYWxpemVkSXRlbUtleXMuTE9HX0VOVFJZOmxvZyhpdGVtc1tpXVsxXSxpdGVtc1tpXVsyXSk7YnJlYWs7Y2FzZSBMb2dJdGVtLnNlcmlhbGl6ZWRJdGVtS2V5cy5HUk9VUF9TVEFSVDpncm91cChpdGVtc1tpXVsxXSk7YnJlYWs7Y2FzZSBMb2dJdGVtLnNlcmlhbGl6ZWRJdGVtS2V5cy5HUk9VUF9FTkQ6Z3JvdXBFbmQoKTticmVhazt9fScsJ2xvZ2dpbmdFbmFibGVkPWxvZ2dpbmdSZWFsbHlFbmFibGVkO30nLCdmdW5jdGlvbiBsb2cobG9nTGV2ZWwsZm9ybWF0dGVkTWVzc2FnZSl7aWYobG9nZ2luZ0VuYWJsZWQpe3ZhciBsb2dFbnRyeT1uZXcgTG9nRW50cnkobG9nTGV2ZWwsZm9ybWF0dGVkTWVzc2FnZSk7bG9nRW50cmllcy5wdXNoKGxvZ0VudHJ5KTtsb2dFbnRyaWVzQW5kU2VwYXJhdG9ycy5wdXNoKGxvZ0VudHJ5KTtsb2dJdGVtcy5wdXNoKGxvZ0VudHJ5KTtjdXJyZW50R3JvdXAuYWRkQ2hpbGQobG9nRW50cnkpO2lmKGxvYWRlZCl7aWYobG9nUXVldWVkRXZlbnRzVGltZXIhPT1udWxsKXtjbGVhclRpbWVvdXQobG9nUXVldWVkRXZlbnRzVGltZXIpO30nLCdsb2dRdWV1ZWRFdmVudHNUaW1lcj1zZXRUaW1lb3V0KHJlbmRlclF1ZXVlZExvZ0l0ZW1zLHJlbmRlckRlbGF5KTt1bnJlbmRlcmVkTG9nSXRlbXNFeGlzdD10cnVlO319fScsJ2Z1bmN0aW9uIHJlbmRlclF1ZXVlZExvZ0l0ZW1zKCl7bG9nUXVldWVkRXZlbnRzVGltZXI9bnVsbDt2YXIgcHJ1bmVkPXBydW5lTG9nRW50cmllcygpO3ZhciBpbml0aWFsbHlIYXNNYXRjaGVzPWN1cnJlbnRTZWFyY2g/Y3VycmVudFNlYXJjaC5oYXNNYXRjaGVzKCk6ZmFsc2U7Zm9yKHZhciBpPTAsbGVuPWxvZ0l0ZW1zLmxlbmd0aDtpPGxlbjtpKyspe2lmKCFsb2dJdGVtc1tpXS5yZW5kZXJlZCl7bG9nSXRlbXNbaV0ucmVuZGVyKCk7bG9nSXRlbXNbaV0uYXBwZW5kVG9Mb2coKTtpZihjdXJyZW50U2VhcmNoJiYobG9nSXRlbXNbaV1pbnN0YW5jZW9mIExvZ0VudHJ5KSl7Y3VycmVudFNlYXJjaC5hcHBseVRvKGxvZ0l0ZW1zW2ldKTt9fX0nLCdpZihjdXJyZW50U2VhcmNoKXtpZihwcnVuZWQpe2lmKGN1cnJlbnRTZWFyY2guaGFzVmlzaWJsZU1hdGNoZXMoKSl7aWYoY3VycmVudE1hdGNoSW5kZXg9PT1udWxsKXtzZXRDdXJyZW50TWF0Y2hJbmRleCgwKTt9JywnZGlzcGxheU1hdGNoZXMoKTt9ZWxzZXtkaXNwbGF5Tm9NYXRjaGVzKCk7fX1lbHNlIGlmKCFpbml0aWFsbHlIYXNNYXRjaGVzJiZjdXJyZW50U2VhcmNoLmhhc1Zpc2libGVNYXRjaGVzKCkpe3NldEN1cnJlbnRNYXRjaEluZGV4KDApO2Rpc3BsYXlNYXRjaGVzKCk7fX0nLCdpZihzY3JvbGxUb0xhdGVzdCl7ZG9TY3JvbGxUb0xhdGVzdCgpO30nLCd1bnJlbmRlcmVkTG9nSXRlbXNFeGlzdD1mYWxzZTt9JywnZnVuY3Rpb24gcHJ1bmVMb2dFbnRyaWVzKCl7aWYoKG1heE1lc3NhZ2VzIT09bnVsbCkmJihsb2dFbnRyaWVzQW5kU2VwYXJhdG9ycy5sZW5ndGg+bWF4TWVzc2FnZXMpKXt2YXIgbnVtYmVyVG9EZWxldGU9bG9nRW50cmllc0FuZFNlcGFyYXRvcnMubGVuZ3RoLW1heE1lc3NhZ2VzO3ZhciBwcnVuZWRMb2dFbnRyaWVzPWxvZ0VudHJpZXNBbmRTZXBhcmF0b3JzLnNsaWNlKDAsbnVtYmVyVG9EZWxldGUpO2lmKGN1cnJlbnRTZWFyY2gpe2N1cnJlbnRTZWFyY2gucmVtb3ZlTWF0Y2hlcyhwcnVuZWRMb2dFbnRyaWVzKTt9JywndmFyIGdyb3VwO2Zvcih2YXIgaT0wO2k8bnVtYmVyVG9EZWxldGU7aSsrKXtncm91cD1sb2dFbnRyaWVzQW5kU2VwYXJhdG9yc1tpXS5ncm91cDthcnJheV9yZW1vdmUobG9nSXRlbXMsbG9nRW50cmllc0FuZFNlcGFyYXRvcnNbaV0pO2FycmF5X3JlbW92ZShsb2dFbnRyaWVzLGxvZ0VudHJpZXNBbmRTZXBhcmF0b3JzW2ldKTtsb2dFbnRyaWVzQW5kU2VwYXJhdG9yc1tpXS5yZW1vdmUodHJ1ZSx0cnVlKTtpZihncm91cC5jaGlsZHJlbi5sZW5ndGg9PT0wJiZncm91cCE9PWN1cnJlbnRHcm91cCYmZ3JvdXAhPT1yb290R3JvdXApe2FycmF5X3JlbW92ZShsb2dJdGVtcyxncm91cCk7Z3JvdXAucmVtb3ZlKHRydWUsdHJ1ZSk7fX0nLCdsb2dFbnRyaWVzQW5kU2VwYXJhdG9ycz1hcnJheV9yZW1vdmVGcm9tU3RhcnQobG9nRW50cmllc0FuZFNlcGFyYXRvcnMsbnVtYmVyVG9EZWxldGUpO3JldHVybiB0cnVlO30nLCdyZXR1cm4gZmFsc2U7fScsJ2Z1bmN0aW9uIGdyb3VwKG5hbWUsc3RhcnRFeHBhbmRlZCl7aWYobG9nZ2luZ0VuYWJsZWQpe2luaXRpYWxseUV4cGFuZGVkPSh0eXBlb2Ygc3RhcnRFeHBhbmRlZD09PVwidW5kZWZpbmVkXCIpP3RydWU6Qm9vbGVhbihzdGFydEV4cGFuZGVkKTt2YXIgbmV3R3JvdXA9bmV3IEdyb3VwKG5hbWUsZmFsc2UsaW5pdGlhbGx5RXhwYW5kZWQpO2N1cnJlbnRHcm91cC5hZGRDaGlsZChuZXdHcm91cCk7Y3VycmVudEdyb3VwPW5ld0dyb3VwO2xvZ0l0ZW1zLnB1c2gobmV3R3JvdXApO2lmKGxvYWRlZCl7aWYobG9nUXVldWVkRXZlbnRzVGltZXIhPT1udWxsKXtjbGVhclRpbWVvdXQobG9nUXVldWVkRXZlbnRzVGltZXIpO30nLCdsb2dRdWV1ZWRFdmVudHNUaW1lcj1zZXRUaW1lb3V0KHJlbmRlclF1ZXVlZExvZ0l0ZW1zLHJlbmRlckRlbGF5KTt1bnJlbmRlcmVkTG9nSXRlbXNFeGlzdD10cnVlO319fScsJ2Z1bmN0aW9uIGdyb3VwRW5kKCl7Y3VycmVudEdyb3VwPShjdXJyZW50R3JvdXA9PT1yb290R3JvdXApP3Jvb3RHcm91cDpjdXJyZW50R3JvdXAuZ3JvdXA7fScsJ2Z1bmN0aW9uIG1haW5QYWdlUmVsb2FkZWQoKXtjdXJyZW50R3JvdXA9cm9vdEdyb3VwO3ZhciBzZXBhcmF0b3I9bmV3IFNlcGFyYXRvcigpO2xvZ0VudHJpZXNBbmRTZXBhcmF0b3JzLnB1c2goc2VwYXJhdG9yKTtsb2dJdGVtcy5wdXNoKHNlcGFyYXRvcik7Y3VycmVudEdyb3VwLmFkZENoaWxkKHNlcGFyYXRvcik7fScsJ2Z1bmN0aW9uIGNsb3NlV2luZG93KCl7aWYoYXBwZW5kZXImJm1haW5XaW5kb3dFeGlzdHMoKSl7YXBwZW5kZXIuY2xvc2UodHJ1ZSk7fWVsc2V7d2luZG93LmNsb3NlKCk7fX0nLCdmdW5jdGlvbiBoaWRlKCl7aWYoYXBwZW5kZXImJm1haW5XaW5kb3dFeGlzdHMoKSl7YXBwZW5kZXIuaGlkZSgpO319JywndmFyIG1haW5XaW5kb3c9d2luZG93O3ZhciB3aW5kb3dJZD1cImxvZzRqYXZhc2NyaXB0Q29uc29sZVdpbmRvd19cIituZXcgRGF0ZSgpLmdldFRpbWUoKStcIl9cIisoXCJcIitNYXRoLnJhbmRvbSgpKS5zdWJzdHIoMik7ZnVuY3Rpb24gc2V0TWFpbldpbmRvdyh3aW4pe21haW5XaW5kb3c9d2luO21haW5XaW5kb3dbd2luZG93SWRdPXdpbmRvdztpZihvcGVuZXImJmNsb3NlSWZPcGVuZXJDbG9zZXMpe3BvbGxPcGVuZXIoKTt9fScsJ2Z1bmN0aW9uIHBvbGxPcGVuZXIoKXtpZihjbG9zZUlmT3BlbmVyQ2xvc2VzKXtpZihtYWluV2luZG93RXhpc3RzKCkpe3NldFRpbWVvdXQocG9sbE9wZW5lciw1MDApO31lbHNle2Nsb3NlV2luZG93KCk7fX19JywnZnVuY3Rpb24gbWFpbldpbmRvd0V4aXN0cygpe3RyeXtyZXR1cm4obWFpbldpbmRvdyYmIW1haW5XaW5kb3cuY2xvc2VkJiZtYWluV2luZG93W3dpbmRvd0lkXT09d2luZG93KTt9Y2F0Y2goZXgpe30nLCdyZXR1cm4gZmFsc2U7fScsJ3ZhciBsb2dMZXZlbHM9W1wiVFJBQ0VcIixcIkRFQlVHXCIsXCJJTkZPXCIsXCJXQVJOXCIsXCJFUlJPUlwiLFwiRkFUQUxcIl07ZnVuY3Rpb24gZ2V0Q2hlY2tCb3gobG9nTGV2ZWwpe3JldHVybiAkKFwic3dpdGNoX1wiK2xvZ0xldmVsKTt9JywnZnVuY3Rpb24gZ2V0SWVXcmFwcGVkTG9nQ29udGFpbmVyKCl7cmV0dXJuICQoXCJsb2dfd3JhcHBlZFwiKTt9JywnZnVuY3Rpb24gZ2V0SWVVbndyYXBwZWRMb2dDb250YWluZXIoKXtyZXR1cm4gJChcImxvZ191bndyYXBwZWRcIik7fScsJ2Z1bmN0aW9uIGFwcGx5RmlsdGVycygpe2Zvcih2YXIgaT0wO2k8bG9nTGV2ZWxzLmxlbmd0aDtpKyspe2lmKGdldENoZWNrQm94KGxvZ0xldmVsc1tpXSkuY2hlY2tlZCl7YWRkQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixsb2dMZXZlbHNbaV0pO31lbHNle3JlbW92ZUNsYXNzKGxvZ01haW5Db250YWluZXIsbG9nTGV2ZWxzW2ldKTt9fScsJ3VwZGF0ZVNlYXJjaEZyb21GaWx0ZXJzKCk7fScsJ2Z1bmN0aW9uIHRvZ2dsZUFsbExldmVscygpe3ZhciB0dXJuT249JChcInN3aXRjaF9BTExcIikuY2hlY2tlZDtmb3IodmFyIGk9MDtpPGxvZ0xldmVscy5sZW5ndGg7aSsrKXtnZXRDaGVja0JveChsb2dMZXZlbHNbaV0pLmNoZWNrZWQ9dHVybk9uO2lmKHR1cm5Pbil7YWRkQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixsb2dMZXZlbHNbaV0pO31lbHNle3JlbW92ZUNsYXNzKGxvZ01haW5Db250YWluZXIsbG9nTGV2ZWxzW2ldKTt9fX0nLCdmdW5jdGlvbiBjaGVja0FsbExldmVscygpe2Zvcih2YXIgaT0wO2k8bG9nTGV2ZWxzLmxlbmd0aDtpKyspe2lmKCFnZXRDaGVja0JveChsb2dMZXZlbHNbaV0pLmNoZWNrZWQpe2dldENoZWNrQm94KFwiQUxMXCIpLmNoZWNrZWQ9ZmFsc2U7cmV0dXJuO319JywnZ2V0Q2hlY2tCb3goXCJBTExcIikuY2hlY2tlZD10cnVlO30nLCdmdW5jdGlvbiBjbGVhckxvZygpe3Jvb3RHcm91cC5jbGVhcigpO2N1cnJlbnRHcm91cD1yb290R3JvdXA7bG9nRW50cmllcz1bXTtsb2dJdGVtcz1bXTtsb2dFbnRyaWVzQW5kU2VwYXJhdG9ycz1bXTtkb1NlYXJjaCgpO30nLCdmdW5jdGlvbiB0b2dnbGVXcmFwKCl7dmFyIGVuYWJsZT0kKFwid3JhcFwiKS5jaGVja2VkO2lmKGVuYWJsZSl7YWRkQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixcIndyYXBcIik7fWVsc2V7cmVtb3ZlQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixcIndyYXBcIik7fScsJ3JlZnJlc2hDdXJyZW50TWF0Y2goKTt9JywndmFyIHNlYXJjaFRpbWVyPW51bGw7ZnVuY3Rpb24gc2NoZWR1bGVTZWFyY2goKXt0cnl7Y2xlYXJUaW1lb3V0KHNlYXJjaFRpbWVyKTt9Y2F0Y2goZXgpe30nLCdzZWFyY2hUaW1lcj1zZXRUaW1lb3V0KGRvU2VhcmNoLDUwMCk7fScsJ2Z1bmN0aW9uIFNlYXJjaChzZWFyY2hUZXJtLGlzUmVnZXgsc2VhcmNoUmVnZXgsaXNDYXNlU2Vuc2l0aXZlKXt0aGlzLnNlYXJjaFRlcm09c2VhcmNoVGVybTt0aGlzLmlzUmVnZXg9aXNSZWdleDt0aGlzLnNlYXJjaFJlZ2V4PXNlYXJjaFJlZ2V4O3RoaXMuaXNDYXNlU2Vuc2l0aXZlPWlzQ2FzZVNlbnNpdGl2ZTt0aGlzLm1hdGNoZXM9W107fScsJ1NlYXJjaC5wcm90b3R5cGU9e2hhc01hdGNoZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXRjaGVzLmxlbmd0aD4wO30saGFzVmlzaWJsZU1hdGNoZXM6ZnVuY3Rpb24oKXtpZih0aGlzLmhhc01hdGNoZXMoKSl7Zm9yKHZhciBpPTA7aTx0aGlzLm1hdGNoZXMubGVuZ3RoO2krKyl7aWYodGhpcy5tYXRjaGVzW2ldLmlzVmlzaWJsZSgpKXtyZXR1cm4gdHJ1ZTt9fX0nLCdyZXR1cm4gZmFsc2U7fSxtYXRjaDpmdW5jdGlvbihsb2dFbnRyeSl7dmFyIGVudHJ5VGV4dD1TdHJpbmcobG9nRW50cnkuZm9ybWF0dGVkTWVzc2FnZSk7dmFyIG1hdGNoZXNTZWFyY2g9ZmFsc2U7aWYodGhpcy5pc1JlZ2V4KXttYXRjaGVzU2VhcmNoPXRoaXMuc2VhcmNoUmVnZXgudGVzdChlbnRyeVRleHQpO31lbHNlIGlmKHRoaXMuaXNDYXNlU2Vuc2l0aXZlKXttYXRjaGVzU2VhcmNoPShlbnRyeVRleHQuaW5kZXhPZih0aGlzLnNlYXJjaFRlcm0pPi0xKTt9ZWxzZXttYXRjaGVzU2VhcmNoPShlbnRyeVRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHRoaXMuc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKT4tMSk7fScsJ3JldHVybiBtYXRjaGVzU2VhcmNoO30sZ2V0TmV4dFZpc2libGVNYXRjaEluZGV4OmZ1bmN0aW9uKCl7Zm9yKHZhciBpPWN1cnJlbnRNYXRjaEluZGV4KzE7aTx0aGlzLm1hdGNoZXMubGVuZ3RoO2krKyl7aWYodGhpcy5tYXRjaGVzW2ldLmlzVmlzaWJsZSgpKXtyZXR1cm4gaTt9fScsJ2ZvcihpPTA7aTw9Y3VycmVudE1hdGNoSW5kZXg7aSsrKXtpZih0aGlzLm1hdGNoZXNbaV0uaXNWaXNpYmxlKCkpe3JldHVybiBpO319JywncmV0dXJuLTE7fSxnZXRQcmV2aW91c1Zpc2libGVNYXRjaEluZGV4OmZ1bmN0aW9uKCl7Zm9yKHZhciBpPWN1cnJlbnRNYXRjaEluZGV4LTE7aT49MDtpLS0pe2lmKHRoaXMubWF0Y2hlc1tpXS5pc1Zpc2libGUoKSl7cmV0dXJuIGk7fX0nLCdmb3IodmFyIGk9dGhpcy5tYXRjaGVzLmxlbmd0aC0xO2k+PWN1cnJlbnRNYXRjaEluZGV4O2ktLSl7aWYodGhpcy5tYXRjaGVzW2ldLmlzVmlzaWJsZSgpKXtyZXR1cm4gaTt9fScsJ3JldHVybi0xO30sYXBwbHlUbzpmdW5jdGlvbihsb2dFbnRyeSl7dmFyIGRvZXNNYXRjaD10aGlzLm1hdGNoKGxvZ0VudHJ5KTtpZihkb2VzTWF0Y2gpe2xvZ0VudHJ5Lmdyb3VwLmV4cGFuZCgpO2xvZ0VudHJ5LnNldFNlYXJjaE1hdGNoKHRydWUpO3ZhciBsb2dFbnRyeUNvbnRlbnQ7dmFyIHdyYXBwZWRMb2dFbnRyeUNvbnRlbnQ7dmFyIHNlYXJjaFRlcm1SZXBsYWNlbWVudFN0YXJ0VGFnPVwiPHNwYW4gY2xhc3M9XFxcXFxcXCJzZWFyY2h0ZXJtXFxcXFxcXCI+XCI7dmFyIHNlYXJjaFRlcm1SZXBsYWNlbWVudEVuZFRhZz1cIjxcIitcIi9zcGFuPlwiO3ZhciBwcmVUYWdOYW1lPWlzSWU/XCJwcmVcIjpcInNwYW5cIjt2YXIgcHJlU3RhcnRUYWc9XCI8XCIrcHJlVGFnTmFtZStcIiBjbGFzcz1cXFxcXFxcInByZVxcXFxcXFwiPlwiO3ZhciBwcmVFbmRUYWc9XCI8XCIrXCIvXCIrcHJlVGFnTmFtZStcIj5cIjt2YXIgc3RhcnRJbmRleD0wO3ZhciBzZWFyY2hJbmRleCxtYXRjaGVkVGV4dCx0ZXh0QmVmb3JlTWF0Y2g7aWYodGhpcy5pc1JlZ2V4KXt2YXIgZmxhZ3M9dGhpcy5pc0Nhc2VTZW5zaXRpdmU/XCJnXCI6XCJnaVwiO3ZhciBjYXB0dXJpbmdSZWdleD1uZXcgUmVnRXhwKFwiKFwiK3RoaXMuc2VhcmNoUmVnZXguc291cmNlK1wiKVwiLGZsYWdzKTt2YXIgcm5kPShcIlwiK01hdGgucmFuZG9tKCkpLnN1YnN0cigyKTt2YXIgc3RhcnRUb2tlbj1cIiUlc1wiK3JuZCtcIiUlXCI7dmFyIGVuZFRva2VuPVwiJSVlXCIrcm5kK1wiJSVcIjtsb2dFbnRyeUNvbnRlbnQ9bG9nRW50cnkuZm9ybWF0dGVkTWVzc2FnZS5yZXBsYWNlKGNhcHR1cmluZ1JlZ2V4LHN0YXJ0VG9rZW4rXCIkMVwiK2VuZFRva2VuKTtsb2dFbnRyeUNvbnRlbnQ9ZXNjYXBlSHRtbChsb2dFbnRyeUNvbnRlbnQpO3ZhciByZXN1bHQ7dmFyIHNlYXJjaFN0cmluZz1sb2dFbnRyeUNvbnRlbnQ7bG9nRW50cnlDb250ZW50PVwiXCI7d3JhcHBlZExvZ0VudHJ5Q29udGVudD1cIlwiO3doaWxlKChzZWFyY2hJbmRleD1zZWFyY2hTdHJpbmcuaW5kZXhPZihzdGFydFRva2VuLHN0YXJ0SW5kZXgpKT4tMSl7dmFyIGVuZFRva2VuSW5kZXg9c2VhcmNoU3RyaW5nLmluZGV4T2YoZW5kVG9rZW4sc2VhcmNoSW5kZXgpO21hdGNoZWRUZXh0PXNlYXJjaFN0cmluZy5zdWJzdHJpbmcoc2VhcmNoSW5kZXgrc3RhcnRUb2tlbi5sZW5ndGgsZW5kVG9rZW5JbmRleCk7dGV4dEJlZm9yZU1hdGNoPXNlYXJjaFN0cmluZy5zdWJzdHJpbmcoc3RhcnRJbmRleCxzZWFyY2hJbmRleCk7bG9nRW50cnlDb250ZW50Kz1wcmVTdGFydFRhZyt0ZXh0QmVmb3JlTWF0Y2grcHJlRW5kVGFnO2xvZ0VudHJ5Q29udGVudCs9c2VhcmNoVGVybVJlcGxhY2VtZW50U3RhcnRUYWcrcHJlU3RhcnRUYWcrbWF0Y2hlZFRleHQrJywncHJlRW5kVGFnK3NlYXJjaFRlcm1SZXBsYWNlbWVudEVuZFRhZztpZihpc0llKXt3cmFwcGVkTG9nRW50cnlDb250ZW50Kz10ZXh0QmVmb3JlTWF0Y2grc2VhcmNoVGVybVJlcGxhY2VtZW50U3RhcnRUYWcrJywnbWF0Y2hlZFRleHQrc2VhcmNoVGVybVJlcGxhY2VtZW50RW5kVGFnO30nLCdzdGFydEluZGV4PWVuZFRva2VuSW5kZXgrZW5kVG9rZW4ubGVuZ3RoO30nLCdsb2dFbnRyeUNvbnRlbnQrPXByZVN0YXJ0VGFnK3NlYXJjaFN0cmluZy5zdWJzdHIoc3RhcnRJbmRleCkrcHJlRW5kVGFnO2lmKGlzSWUpe3dyYXBwZWRMb2dFbnRyeUNvbnRlbnQrPXNlYXJjaFN0cmluZy5zdWJzdHIoc3RhcnRJbmRleCk7fX1lbHNle2xvZ0VudHJ5Q29udGVudD1cIlwiO3dyYXBwZWRMb2dFbnRyeUNvbnRlbnQ9XCJcIjt2YXIgc2VhcmNoVGVybVJlcGxhY2VtZW50TGVuZ3RoPXNlYXJjaFRlcm1SZXBsYWNlbWVudFN0YXJ0VGFnLmxlbmd0aCsnLCd0aGlzLnNlYXJjaFRlcm0ubGVuZ3RoK3NlYXJjaFRlcm1SZXBsYWNlbWVudEVuZFRhZy5sZW5ndGg7dmFyIHNlYXJjaFRlcm1MZW5ndGg9dGhpcy5zZWFyY2hUZXJtLmxlbmd0aDt2YXIgc2VhcmNoVGVybUxvd2VyQ2FzZT10aGlzLnNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKTt2YXIgbG9nVGV4dExvd2VyQ2FzZT1sb2dFbnRyeS5mb3JtYXR0ZWRNZXNzYWdlLnRvTG93ZXJDYXNlKCk7d2hpbGUoKHNlYXJjaEluZGV4PWxvZ1RleHRMb3dlckNhc2UuaW5kZXhPZihzZWFyY2hUZXJtTG93ZXJDYXNlLHN0YXJ0SW5kZXgpKT4tMSl7bWF0Y2hlZFRleHQ9ZXNjYXBlSHRtbChsb2dFbnRyeS5mb3JtYXR0ZWRNZXNzYWdlLnN1YnN0cihzZWFyY2hJbmRleCx0aGlzLnNlYXJjaFRlcm0ubGVuZ3RoKSk7dGV4dEJlZm9yZU1hdGNoPWVzY2FwZUh0bWwobG9nRW50cnkuZm9ybWF0dGVkTWVzc2FnZS5zdWJzdHJpbmcoc3RhcnRJbmRleCxzZWFyY2hJbmRleCkpO3ZhciBzZWFyY2hUZXJtUmVwbGFjZW1lbnQ9c2VhcmNoVGVybVJlcGxhY2VtZW50U3RhcnRUYWcrJywncHJlU3RhcnRUYWcrbWF0Y2hlZFRleHQrcHJlRW5kVGFnK3NlYXJjaFRlcm1SZXBsYWNlbWVudEVuZFRhZztsb2dFbnRyeUNvbnRlbnQrPXByZVN0YXJ0VGFnK3RleHRCZWZvcmVNYXRjaCtwcmVFbmRUYWcrc2VhcmNoVGVybVJlcGxhY2VtZW50O2lmKGlzSWUpe3dyYXBwZWRMb2dFbnRyeUNvbnRlbnQrPXRleHRCZWZvcmVNYXRjaCtzZWFyY2hUZXJtUmVwbGFjZW1lbnRTdGFydFRhZysnLCdtYXRjaGVkVGV4dCtzZWFyY2hUZXJtUmVwbGFjZW1lbnRFbmRUYWc7fScsJ3N0YXJ0SW5kZXg9c2VhcmNoSW5kZXgrc2VhcmNoVGVybUxlbmd0aDt9JywndmFyIHRleHRBZnRlckxhc3RNYXRjaD1lc2NhcGVIdG1sKGxvZ0VudHJ5LmZvcm1hdHRlZE1lc3NhZ2Uuc3Vic3RyKHN0YXJ0SW5kZXgpKTtsb2dFbnRyeUNvbnRlbnQrPXByZVN0YXJ0VGFnK3RleHRBZnRlckxhc3RNYXRjaCtwcmVFbmRUYWc7aWYoaXNJZSl7d3JhcHBlZExvZ0VudHJ5Q29udGVudCs9dGV4dEFmdGVyTGFzdE1hdGNoO319JywnbG9nRW50cnkuc2V0Q29udGVudChsb2dFbnRyeUNvbnRlbnQsd3JhcHBlZExvZ0VudHJ5Q29udGVudCk7dmFyIGxvZ0VudHJ5TWF0Y2hlcz1sb2dFbnRyeS5nZXRTZWFyY2hNYXRjaGVzKCk7dGhpcy5tYXRjaGVzPXRoaXMubWF0Y2hlcy5jb25jYXQobG9nRW50cnlNYXRjaGVzKTt9ZWxzZXtsb2dFbnRyeS5zZXRTZWFyY2hNYXRjaChmYWxzZSk7bG9nRW50cnkuc2V0Q29udGVudChsb2dFbnRyeS5mb3JtYXR0ZWRNZXNzYWdlLGxvZ0VudHJ5LmZvcm1hdHRlZE1lc3NhZ2UpO30nLCdyZXR1cm4gZG9lc01hdGNoO30scmVtb3ZlTWF0Y2hlczpmdW5jdGlvbihsb2dFbnRyaWVzKXt2YXIgbWF0Y2hlc1RvUmVtb3ZlQ291bnQ9MDt2YXIgY3VycmVudE1hdGNoUmVtb3ZlZD1mYWxzZTt2YXIgbWF0Y2hlc1RvUmVtb3ZlPVtdO3ZhciBpLGlMZW4saixqTGVuO2ZvcihpPTAsaUxlbj10aGlzLm1hdGNoZXMubGVuZ3RoO2k8aUxlbjtpKyspe2ZvcihqPTAsakxlbj1sb2dFbnRyaWVzLmxlbmd0aDtqPGpMZW47aisrKXtpZih0aGlzLm1hdGNoZXNbaV0uYmVsb25nc1RvKGxvZ0VudHJpZXNbal0pKXttYXRjaGVzVG9SZW1vdmUucHVzaCh0aGlzLm1hdGNoZXNbaV0pO2lmKGk9PT1jdXJyZW50TWF0Y2hJbmRleCl7Y3VycmVudE1hdGNoUmVtb3ZlZD10cnVlO319fX0nLCd2YXIgbmV3TWF0Y2g9Y3VycmVudE1hdGNoUmVtb3ZlZD9udWxsOnRoaXMubWF0Y2hlc1tjdXJyZW50TWF0Y2hJbmRleF07aWYoY3VycmVudE1hdGNoUmVtb3ZlZCl7Zm9yKGk9Y3VycmVudE1hdGNoSW5kZXgsaUxlbj10aGlzLm1hdGNoZXMubGVuZ3RoO2k8aUxlbjtpKyspe2lmKHRoaXMubWF0Y2hlc1tpXS5pc1Zpc2libGUoKSYmIWFycmF5X2NvbnRhaW5zKG1hdGNoZXNUb1JlbW92ZSx0aGlzLm1hdGNoZXNbaV0pKXtuZXdNYXRjaD10aGlzLm1hdGNoZXNbaV07YnJlYWs7fX19JywnZm9yKGk9MCxpTGVuPW1hdGNoZXNUb1JlbW92ZS5sZW5ndGg7aTxpTGVuO2krKyl7YXJyYXlfcmVtb3ZlKHRoaXMubWF0Y2hlcyxtYXRjaGVzVG9SZW1vdmVbaV0pO21hdGNoZXNUb1JlbW92ZVtpXS5yZW1vdmUoKTt9JywnaWYodGhpcy5oYXNWaXNpYmxlTWF0Y2hlcygpKXtpZihuZXdNYXRjaD09PW51bGwpe3NldEN1cnJlbnRNYXRjaEluZGV4KDApO31lbHNle3ZhciBuZXdNYXRjaEluZGV4PTA7Zm9yKGk9MCxpTGVuPXRoaXMubWF0Y2hlcy5sZW5ndGg7aTxpTGVuO2krKyl7aWYobmV3TWF0Y2g9PT10aGlzLm1hdGNoZXNbaV0pe25ld01hdGNoSW5kZXg9aTticmVhazt9fScsJ3NldEN1cnJlbnRNYXRjaEluZGV4KG5ld01hdGNoSW5kZXgpO319ZWxzZXtjdXJyZW50TWF0Y2hJbmRleD1udWxsO2Rpc3BsYXlOb01hdGNoZXMoKTt9fX07ZnVuY3Rpb24gZ2V0UGFnZU9mZnNldFRvcChlbCxjb250YWluZXIpe3ZhciBjdXJyZW50RWw9ZWw7dmFyIHk9MDt3aGlsZShjdXJyZW50RWwmJmN1cnJlbnRFbCE9Y29udGFpbmVyKXt5Kz1jdXJyZW50RWwub2Zmc2V0VG9wO2N1cnJlbnRFbD1jdXJyZW50RWwub2Zmc2V0UGFyZW50O30nLCdyZXR1cm4geTt9JywnZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoZWwpe3ZhciBsb2dDb250YWluZXI9bG9nTWFpbkNvbnRhaW5lcjtpZighJChcIndyYXBcIikuY2hlY2tlZCl7dmFyIGxvZ0NvbnRhaW5lckxlZnQ9bG9nQ29udGFpbmVyLnNjcm9sbExlZnQ7dmFyIGxvZ0NvbnRhaW5lclJpZ2h0PWxvZ0NvbnRhaW5lckxlZnQrbG9nQ29udGFpbmVyLm9mZnNldFdpZHRoO3ZhciBlbExlZnQ9ZWwub2Zmc2V0TGVmdDt2YXIgZWxSaWdodD1lbExlZnQrZWwub2Zmc2V0V2lkdGg7aWYoZWxMZWZ0PGxvZ0NvbnRhaW5lckxlZnR8fGVsUmlnaHQ+bG9nQ29udGFpbmVyUmlnaHQpe2xvZ0NvbnRhaW5lci5zY3JvbGxMZWZ0PWVsTGVmdC0obG9nQ29udGFpbmVyLm9mZnNldFdpZHRoLWVsLm9mZnNldFdpZHRoKS8yO319JywndmFyIGxvZ0NvbnRhaW5lclRvcD1sb2dDb250YWluZXIuc2Nyb2xsVG9wO3ZhciBsb2dDb250YWluZXJCb3R0b209bG9nQ29udGFpbmVyVG9wK2xvZ0NvbnRhaW5lci5vZmZzZXRIZWlnaHQ7dmFyIGVsVG9wPWdldFBhZ2VPZmZzZXRUb3AoZWwpLWdldFRvb2xCYXJzSGVpZ2h0KCk7dmFyIGVsQm90dG9tPWVsVG9wK2VsLm9mZnNldEhlaWdodDtpZihlbFRvcDxsb2dDb250YWluZXJUb3B8fGVsQm90dG9tPmxvZ0NvbnRhaW5lckJvdHRvbSl7bG9nQ29udGFpbmVyLnNjcm9sbFRvcD1lbFRvcC0obG9nQ29udGFpbmVyLm9mZnNldEhlaWdodC1lbC5vZmZzZXRIZWlnaHQpLzI7fX0nLCdmdW5jdGlvbiBNYXRjaChsb2dFbnRyeUxldmVsLHNwYW5Jbk1haW5EaXYsc3BhbkluVW53cmFwcGVkUHJlLHNwYW5JbldyYXBwZWREaXYpe3RoaXMubG9nRW50cnlMZXZlbD1sb2dFbnRyeUxldmVsO3RoaXMuc3BhbkluTWFpbkRpdj1zcGFuSW5NYWluRGl2O2lmKGlzSWUpe3RoaXMuc3BhbkluVW53cmFwcGVkUHJlPXNwYW5JblVud3JhcHBlZFByZTt0aGlzLnNwYW5JbldyYXBwZWREaXY9c3BhbkluV3JhcHBlZERpdjt9JywndGhpcy5tYWluU3Bhbj1pc0llP3NwYW5JblVud3JhcHBlZFByZTpzcGFuSW5NYWluRGl2O30nLCdNYXRjaC5wcm90b3R5cGU9e2VxdWFsczpmdW5jdGlvbihtYXRjaCl7cmV0dXJuIHRoaXMubWFpblNwYW49PT1tYXRjaC5tYWluU3Bhbjt9LHNldEN1cnJlbnQ6ZnVuY3Rpb24oKXtpZihpc0llKXthZGRDbGFzcyh0aGlzLnNwYW5JblVud3JhcHBlZFByZSxcImN1cnJlbnRtYXRjaFwiKTthZGRDbGFzcyh0aGlzLnNwYW5JbldyYXBwZWREaXYsXCJjdXJyZW50bWF0Y2hcIik7dmFyIGVsZW1lbnRUb1Njcm9sbD0kKFwid3JhcFwiKS5jaGVja2VkP3RoaXMuc3BhbkluV3JhcHBlZERpdjp0aGlzLnNwYW5JblVud3JhcHBlZFByZTtzY3JvbGxJbnRvVmlldyhlbGVtZW50VG9TY3JvbGwpO31lbHNle2FkZENsYXNzKHRoaXMuc3BhbkluTWFpbkRpdixcImN1cnJlbnRtYXRjaFwiKTtzY3JvbGxJbnRvVmlldyh0aGlzLnNwYW5Jbk1haW5EaXYpO319LGJlbG9uZ3NUbzpmdW5jdGlvbihsb2dFbnRyeSl7aWYoaXNJZSl7cmV0dXJuIGlzRGVzY2VuZGFudCh0aGlzLnNwYW5JblVud3JhcHBlZFByZSxsb2dFbnRyeS51bndyYXBwZWRQcmUpO31lbHNle3JldHVybiBpc0Rlc2NlbmRhbnQodGhpcy5zcGFuSW5NYWluRGl2LGxvZ0VudHJ5Lm1haW5EaXYpO319LHNldE5vdEN1cnJlbnQ6ZnVuY3Rpb24oKXtpZihpc0llKXtyZW1vdmVDbGFzcyh0aGlzLnNwYW5JblVud3JhcHBlZFByZSxcImN1cnJlbnRtYXRjaFwiKTtyZW1vdmVDbGFzcyh0aGlzLnNwYW5JbldyYXBwZWREaXYsXCJjdXJyZW50bWF0Y2hcIik7fWVsc2V7cmVtb3ZlQ2xhc3ModGhpcy5zcGFuSW5NYWluRGl2LFwiY3VycmVudG1hdGNoXCIpO319LGlzT3JwaGFuOmZ1bmN0aW9uKCl7cmV0dXJuIGlzT3JwaGFuKHRoaXMubWFpblNwYW4pO30saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGdldENoZWNrQm94KHRoaXMubG9nRW50cnlMZXZlbCkuY2hlY2tlZDt9LHJlbW92ZTpmdW5jdGlvbigpe2lmKGlzSWUpe3RoaXMuc3BhbkluVW53cmFwcGVkUHJlPW51bGw7dGhpcy5zcGFuSW5XcmFwcGVkRGl2PW51bGw7fWVsc2V7dGhpcy5zcGFuSW5NYWluRGl2PW51bGw7fX19O3ZhciBjdXJyZW50U2VhcmNoPW51bGw7dmFyIGN1cnJlbnRNYXRjaEluZGV4PW51bGw7ZnVuY3Rpb24gZG9TZWFyY2goKXt2YXIgc2VhcmNoQm94PSQoXCJzZWFyY2hCb3hcIik7dmFyIHNlYXJjaFRlcm09c2VhcmNoQm94LnZhbHVlO3ZhciBpc1JlZ2V4PSQoXCJzZWFyY2hSZWdleFwiKS5jaGVja2VkO3ZhciBpc0Nhc2VTZW5zaXRpdmU9JChcInNlYXJjaENhc2VTZW5zaXRpdmVcIikuY2hlY2tlZDt2YXIgaTtpZihzZWFyY2hUZXJtPT09XCJcIil7JChcInNlYXJjaFJlc2V0XCIpLmRpc2FibGVkPXRydWU7JChcInNlYXJjaE5hdlwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3JlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksXCJzZWFyY2hpbmdcIik7cmVtb3ZlQ2xhc3Moc2VhcmNoQm94LFwiaGFzbWF0Y2hlc1wiKTtyZW1vdmVDbGFzcyhzZWFyY2hCb3gsXCJub21hdGNoZXNcIik7Zm9yKGk9MDtpPGxvZ0VudHJpZXMubGVuZ3RoO2krKyl7bG9nRW50cmllc1tpXS5jbGVhclNlYXJjaCgpO2xvZ0VudHJpZXNbaV0uc2V0Q29udGVudChsb2dFbnRyaWVzW2ldLmZvcm1hdHRlZE1lc3NhZ2UsbG9nRW50cmllc1tpXS5mb3JtYXR0ZWRNZXNzYWdlKTt9JywnY3VycmVudFNlYXJjaD1udWxsO3NldExvZ0NvbnRhaW5lckhlaWdodCgpO31lbHNleyQoXCJzZWFyY2hSZXNldFwiKS5kaXNhYmxlZD1mYWxzZTskKFwic2VhcmNoTmF2XCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO3ZhciBzZWFyY2hSZWdleDt2YXIgcmVnZXhWYWxpZDtpZihpc1JlZ2V4KXt0cnl7c2VhcmNoUmVnZXg9aXNDYXNlU2Vuc2l0aXZlP25ldyBSZWdFeHAoc2VhcmNoVGVybSxcImdcIik6bmV3IFJlZ0V4cChzZWFyY2hUZXJtLFwiZ2lcIik7cmVnZXhWYWxpZD10cnVlO3JlcGxhY2VDbGFzcyhzZWFyY2hCb3gsXCJ2YWxpZHJlZ2V4XCIsXCJpbnZhbGlkcmVnZXhcIik7c2VhcmNoQm94LnRpdGxlPVwiVmFsaWQgcmVnZXhcIjt9Y2F0Y2goZXgpe3JlZ2V4VmFsaWQ9ZmFsc2U7cmVwbGFjZUNsYXNzKHNlYXJjaEJveCxcImludmFsaWRyZWdleFwiLFwidmFsaWRyZWdleFwiKTtzZWFyY2hCb3gudGl0bGU9XCJJbnZhbGlkIHJlZ2V4OiBcIisoZXgubWVzc2FnZT9leC5tZXNzYWdlOihleC5kZXNjcmlwdGlvbj9leC5kZXNjcmlwdGlvbjpcInVua25vd24gZXJyb3JcIikpO3JldHVybjt9fWVsc2V7c2VhcmNoQm94LnRpdGxlPVwiXCI7cmVtb3ZlQ2xhc3Moc2VhcmNoQm94LFwidmFsaWRyZWdleFwiKTtyZW1vdmVDbGFzcyhzZWFyY2hCb3gsXCJpbnZhbGlkcmVnZXhcIik7fScsJ2FkZENsYXNzKGRvY3VtZW50LmJvZHksXCJzZWFyY2hpbmdcIik7Y3VycmVudFNlYXJjaD1uZXcgU2VhcmNoKHNlYXJjaFRlcm0saXNSZWdleCxzZWFyY2hSZWdleCxpc0Nhc2VTZW5zaXRpdmUpO2ZvcihpPTA7aTxsb2dFbnRyaWVzLmxlbmd0aDtpKyspe2N1cnJlbnRTZWFyY2guYXBwbHlUbyhsb2dFbnRyaWVzW2ldKTt9Jywnc2V0TG9nQ29udGFpbmVySGVpZ2h0KCk7aWYoY3VycmVudFNlYXJjaC5oYXNWaXNpYmxlTWF0Y2hlcygpKXtzZXRDdXJyZW50TWF0Y2hJbmRleCgwKTtkaXNwbGF5TWF0Y2hlcygpO31lbHNle2Rpc3BsYXlOb01hdGNoZXMoKTt9fX0nLCdmdW5jdGlvbiB1cGRhdGVTZWFyY2hGcm9tRmlsdGVycygpe2lmKGN1cnJlbnRTZWFyY2gpe2lmKGN1cnJlbnRTZWFyY2guaGFzTWF0Y2hlcygpKXtpZihjdXJyZW50TWF0Y2hJbmRleD09PW51bGwpe2N1cnJlbnRNYXRjaEluZGV4PTA7fScsJ3ZhciBjdXJyZW50TWF0Y2g9Y3VycmVudFNlYXJjaC5tYXRjaGVzW2N1cnJlbnRNYXRjaEluZGV4XTtpZihjdXJyZW50TWF0Y2guaXNWaXNpYmxlKCkpe2Rpc3BsYXlNYXRjaGVzKCk7c2V0Q3VycmVudE1hdGNoSW5kZXgoY3VycmVudE1hdGNoSW5kZXgpO31lbHNle2N1cnJlbnRNYXRjaC5zZXROb3RDdXJyZW50KCk7dmFyIG5leHRWaXNpYmxlTWF0Y2hJbmRleD1jdXJyZW50U2VhcmNoLmdldE5leHRWaXNpYmxlTWF0Y2hJbmRleCgpO2lmKG5leHRWaXNpYmxlTWF0Y2hJbmRleD4tMSl7c2V0Q3VycmVudE1hdGNoSW5kZXgobmV4dFZpc2libGVNYXRjaEluZGV4KTtkaXNwbGF5TWF0Y2hlcygpO31lbHNle2Rpc3BsYXlOb01hdGNoZXMoKTt9fX1lbHNle2Rpc3BsYXlOb01hdGNoZXMoKTt9fX0nLCdmdW5jdGlvbiByZWZyZXNoQ3VycmVudE1hdGNoKCl7aWYoY3VycmVudFNlYXJjaCYmY3VycmVudFNlYXJjaC5oYXNWaXNpYmxlTWF0Y2hlcygpKXtzZXRDdXJyZW50TWF0Y2hJbmRleChjdXJyZW50TWF0Y2hJbmRleCk7fX0nLCdmdW5jdGlvbiBkaXNwbGF5TWF0Y2hlcygpe3JlcGxhY2VDbGFzcygkKFwic2VhcmNoQm94XCIpLFwiaGFzbWF0Y2hlc1wiLFwibm9tYXRjaGVzXCIpOyQoXCJzZWFyY2hCb3hcIikudGl0bGU9XCJcIitjdXJyZW50U2VhcmNoLm1hdGNoZXMubGVuZ3RoK1wiIG1hdGNoZXMgZm91bmRcIjskKFwic2VhcmNoTmF2XCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO3NldExvZ0NvbnRhaW5lckhlaWdodCgpO30nLCdmdW5jdGlvbiBkaXNwbGF5Tm9NYXRjaGVzKCl7cmVwbGFjZUNsYXNzKCQoXCJzZWFyY2hCb3hcIiksXCJub21hdGNoZXNcIixcImhhc21hdGNoZXNcIik7JChcInNlYXJjaEJveFwiKS50aXRsZT1cIk5vIG1hdGNoZXMgZm91bmRcIjskKFwic2VhcmNoTmF2XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7c2V0TG9nQ29udGFpbmVySGVpZ2h0KCk7fScsJ2Z1bmN0aW9uIHRvZ2dsZVNlYXJjaEVuYWJsZWQoZW5hYmxlKXtlbmFibGU9KHR5cGVvZiBlbmFibGU9PVwidW5kZWZpbmVkXCIpPyEkKFwic2VhcmNoRGlzYWJsZVwiKS5jaGVja2VkOmVuYWJsZTskKFwic2VhcmNoQm94XCIpLmRpc2FibGVkPSFlbmFibGU7JChcInNlYXJjaFJlc2V0XCIpLmRpc2FibGVkPSFlbmFibGU7JChcInNlYXJjaFJlZ2V4XCIpLmRpc2FibGVkPSFlbmFibGU7JChcInNlYXJjaE5leHRcIikuZGlzYWJsZWQ9IWVuYWJsZTskKFwic2VhcmNoUHJldmlvdXNcIikuZGlzYWJsZWQ9IWVuYWJsZTskKFwic2VhcmNoQ2FzZVNlbnNpdGl2ZVwiKS5kaXNhYmxlZD0hZW5hYmxlOyQoXCJzZWFyY2hOYXZcIikuc3R5bGUuZGlzcGxheT0oZW5hYmxlJiYoJChcInNlYXJjaEJveFwiKS52YWx1ZSE9PVwiXCIpJiZjdXJyZW50U2VhcmNoJiZjdXJyZW50U2VhcmNoLmhhc1Zpc2libGVNYXRjaGVzKCkpP1wiYmxvY2tcIjpcIm5vbmVcIjtpZihlbmFibGUpe3JlbW92ZUNsYXNzKCQoXCJzZWFyY2hcIiksXCJncmV5ZWRvdXRcIik7YWRkQ2xhc3MoZG9jdW1lbnQuYm9keSxcInNlYXJjaGluZ1wiKTtpZigkKFwic2VhcmNoSGlnaGxpZ2h0XCIpLmNoZWNrZWQpe2FkZENsYXNzKGxvZ01haW5Db250YWluZXIsXCJzZWFyY2hoaWdobGlnaHRcIik7fWVsc2V7cmVtb3ZlQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixcInNlYXJjaGhpZ2hsaWdodFwiKTt9JywnaWYoJChcInNlYXJjaEZpbHRlclwiKS5jaGVja2VkKXthZGRDbGFzcyhsb2dNYWluQ29udGFpbmVyLFwic2VhcmNoZmlsdGVyXCIpO31lbHNle3JlbW92ZUNsYXNzKGxvZ01haW5Db250YWluZXIsXCJzZWFyY2hmaWx0ZXJcIik7fScsJyQoXCJzZWFyY2hEaXNhYmxlXCIpLmNoZWNrZWQ9IWVuYWJsZTt9ZWxzZXthZGRDbGFzcygkKFwic2VhcmNoXCIpLFwiZ3JleWVkb3V0XCIpO3JlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksXCJzZWFyY2hpbmdcIik7cmVtb3ZlQ2xhc3MobG9nTWFpbkNvbnRhaW5lcixcInNlYXJjaGhpZ2hsaWdodFwiKTtyZW1vdmVDbGFzcyhsb2dNYWluQ29udGFpbmVyLFwic2VhcmNoZmlsdGVyXCIpO30nLCdzZXRMb2dDb250YWluZXJIZWlnaHQoKTt9JywnZnVuY3Rpb24gdG9nZ2xlU2VhcmNoRmlsdGVyKCl7dmFyIGVuYWJsZT0kKFwic2VhcmNoRmlsdGVyXCIpLmNoZWNrZWQ7aWYoZW5hYmxlKXthZGRDbGFzcyhsb2dNYWluQ29udGFpbmVyLFwic2VhcmNoZmlsdGVyXCIpO31lbHNle3JlbW92ZUNsYXNzKGxvZ01haW5Db250YWluZXIsXCJzZWFyY2hmaWx0ZXJcIik7fScsJ3JlZnJlc2hDdXJyZW50TWF0Y2goKTt9JywnZnVuY3Rpb24gdG9nZ2xlU2VhcmNoSGlnaGxpZ2h0KCl7dmFyIGVuYWJsZT0kKFwic2VhcmNoSGlnaGxpZ2h0XCIpLmNoZWNrZWQ7aWYoZW5hYmxlKXthZGRDbGFzcyhsb2dNYWluQ29udGFpbmVyLFwic2VhcmNoaGlnaGxpZ2h0XCIpO31lbHNle3JlbW92ZUNsYXNzKGxvZ01haW5Db250YWluZXIsXCJzZWFyY2hoaWdobGlnaHRcIik7fX0nLCdmdW5jdGlvbiBjbGVhclNlYXJjaCgpeyQoXCJzZWFyY2hCb3hcIikudmFsdWU9XCJcIjtkb1NlYXJjaCgpO30nLCdmdW5jdGlvbiBzZWFyY2hOZXh0KCl7aWYoY3VycmVudFNlYXJjaCE9PW51bGwmJmN1cnJlbnRNYXRjaEluZGV4IT09bnVsbCl7Y3VycmVudFNlYXJjaC5tYXRjaGVzW2N1cnJlbnRNYXRjaEluZGV4XS5zZXROb3RDdXJyZW50KCk7dmFyIG5leHRNYXRjaEluZGV4PWN1cnJlbnRTZWFyY2guZ2V0TmV4dFZpc2libGVNYXRjaEluZGV4KCk7aWYobmV4dE1hdGNoSW5kZXg+Y3VycmVudE1hdGNoSW5kZXh8fGNvbmZpcm0oXCJSZWFjaGVkIHRoZSBlbmQgb2YgdGhlIHBhZ2UuIFN0YXJ0IGZyb20gdGhlIHRvcD9cIikpe3NldEN1cnJlbnRNYXRjaEluZGV4KG5leHRNYXRjaEluZGV4KTt9fX0nLCdmdW5jdGlvbiBzZWFyY2hQcmV2aW91cygpe2lmKGN1cnJlbnRTZWFyY2ghPT1udWxsJiZjdXJyZW50TWF0Y2hJbmRleCE9PW51bGwpe2N1cnJlbnRTZWFyY2gubWF0Y2hlc1tjdXJyZW50TWF0Y2hJbmRleF0uc2V0Tm90Q3VycmVudCgpO3ZhciBwcmV2aW91c01hdGNoSW5kZXg9Y3VycmVudFNlYXJjaC5nZXRQcmV2aW91c1Zpc2libGVNYXRjaEluZGV4KCk7aWYocHJldmlvdXNNYXRjaEluZGV4PGN1cnJlbnRNYXRjaEluZGV4fHxjb25maXJtKFwiUmVhY2hlZCB0aGUgc3RhcnQgb2YgdGhlIHBhZ2UuIENvbnRpbnVlIGZyb20gdGhlIGJvdHRvbT9cIikpe3NldEN1cnJlbnRNYXRjaEluZGV4KHByZXZpb3VzTWF0Y2hJbmRleCk7fX19JywnZnVuY3Rpb24gc2V0Q3VycmVudE1hdGNoSW5kZXgoaW5kZXgpe2N1cnJlbnRNYXRjaEluZGV4PWluZGV4O2N1cnJlbnRTZWFyY2gubWF0Y2hlc1tjdXJyZW50TWF0Y2hJbmRleF0uc2V0Q3VycmVudCgpO30nLCdmdW5jdGlvbiBhZGRDbGFzcyhlbCxjc3NDbGFzcyl7aWYoIWhhc0NsYXNzKGVsLGNzc0NsYXNzKSl7aWYoZWwuY2xhc3NOYW1lKXtlbC5jbGFzc05hbWUrPVwiIFwiK2Nzc0NsYXNzO31lbHNle2VsLmNsYXNzTmFtZT1jc3NDbGFzczt9fX0nLCdmdW5jdGlvbiBoYXNDbGFzcyhlbCxjc3NDbGFzcyl7aWYoZWwuY2xhc3NOYW1lKXt2YXIgY2xhc3NOYW1lcz1lbC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpO3JldHVybiBhcnJheV9jb250YWlucyhjbGFzc05hbWVzLGNzc0NsYXNzKTt9JywncmV0dXJuIGZhbHNlO30nLCdmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCxjc3NDbGFzcyl7aWYoaGFzQ2xhc3MoZWwsY3NzQ2xhc3MpKXt2YXIgZXhpc3RpbmdDbGFzc2VzPWVsLmNsYXNzTmFtZS5zcGxpdChcIiBcIik7dmFyIG5ld0NsYXNzZXM9W107Zm9yKHZhciBpPTAsbGVuPWV4aXN0aW5nQ2xhc3Nlcy5sZW5ndGg7aTxsZW47aSsrKXtpZihleGlzdGluZ0NsYXNzZXNbaV0hPWNzc0NsYXNzKXtuZXdDbGFzc2VzW25ld0NsYXNzZXMubGVuZ3RoXT1leGlzdGluZ0NsYXNzZXNbaV07fX0nLCdlbC5jbGFzc05hbWU9bmV3Q2xhc3Nlcy5qb2luKFwiIFwiKTt9fScsJ2Z1bmN0aW9uIHJlcGxhY2VDbGFzcyhlbCxuZXdDc3NDbGFzcyxvbGRDc3NDbGFzcyl7cmVtb3ZlQ2xhc3MoZWwsb2xkQ3NzQ2xhc3MpO2FkZENsYXNzKGVsLG5ld0Nzc0NsYXNzKTt9JywnZnVuY3Rpb24gZ2V0RWxlbWVudHNCeUNsYXNzKGVsLGNzc0NsYXNzLHRhZ05hbWUpe3ZhciBlbGVtZW50cz1lbC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKTt2YXIgbWF0Y2hlcz1bXTtmb3IodmFyIGk9MCxsZW49ZWxlbWVudHMubGVuZ3RoO2k8bGVuO2krKyl7aWYoaGFzQ2xhc3MoZWxlbWVudHNbaV0sY3NzQ2xhc3MpKXttYXRjaGVzLnB1c2goZWxlbWVudHNbaV0pO319JywncmV0dXJuIG1hdGNoZXM7fScsJ2Z1bmN0aW9uICQoaWQpe3JldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7fScsJ2Z1bmN0aW9uIGlzRGVzY2VuZGFudChub2RlLGFuY2VzdG9yTm9kZSl7d2hpbGUobm9kZSE9bnVsbCl7aWYobm9kZT09PWFuY2VzdG9yTm9kZSl7cmV0dXJuIHRydWU7fScsJ25vZGU9bm9kZS5wYXJlbnROb2RlO30nLCdyZXR1cm4gZmFsc2U7fScsJ2Z1bmN0aW9uIGlzT3JwaGFuKG5vZGUpe3ZhciBjdXJyZW50Tm9kZT1ub2RlO3doaWxlKGN1cnJlbnROb2RlKXtpZihjdXJyZW50Tm9kZT09ZG9jdW1lbnQuYm9keSl7cmV0dXJuIGZhbHNlO30nLCdjdXJyZW50Tm9kZT1jdXJyZW50Tm9kZS5wYXJlbnROb2RlO30nLCdyZXR1cm4gdHJ1ZTt9JywnZnVuY3Rpb24gZXNjYXBlSHRtbChzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvWzxdL2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIik7fScsJ2Z1bmN0aW9uIGdldFdpbmRvd1dpZHRoKCl7aWYod2luZG93LmlubmVyV2lkdGgpe3JldHVybiB3aW5kb3cuaW5uZXJXaWR0aDt9ZWxzZSBpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCl7cmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDt9ZWxzZSBpZihkb2N1bWVudC5ib2R5KXtyZXR1cm4gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDt9JywncmV0dXJuIDA7fScsJ2Z1bmN0aW9uIGdldFdpbmRvd0hlaWdodCgpe2lmKHdpbmRvdy5pbm5lckhlaWdodCl7cmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodDt9ZWxzZSBpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpe3JldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O31lbHNlIGlmKGRvY3VtZW50LmJvZHkpe3JldHVybiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDt9JywncmV0dXJuIDA7fScsJ2Z1bmN0aW9uIGdldFRvb2xCYXJzSGVpZ2h0KCl7cmV0dXJuICQoXCJzd2l0Y2hlc1wiKS5vZmZzZXRIZWlnaHQ7fScsJ2Z1bmN0aW9uIGdldENocm9tZUhlaWdodCgpe3ZhciBoZWlnaHQ9Z2V0VG9vbEJhcnNIZWlnaHQoKTtpZihzaG93Q29tbWFuZExpbmUpe2hlaWdodCs9JChcImNvbW1hbmRMaW5lXCIpLm9mZnNldEhlaWdodDt9JywncmV0dXJuIGhlaWdodDt9JywnZnVuY3Rpb24gc2V0TG9nQ29udGFpbmVySGVpZ2h0KCl7aWYobG9nTWFpbkNvbnRhaW5lcil7dmFyIHdpbmRvd0hlaWdodD1nZXRXaW5kb3dIZWlnaHQoKTskKFwiYm9keVwiKS5zdHlsZS5oZWlnaHQ9Z2V0V2luZG93SGVpZ2h0KCkrXCJweFwiO2xvZ01haW5Db250YWluZXIuc3R5bGUuaGVpZ2h0PVwiXCIrJywnTWF0aC5tYXgoMCx3aW5kb3dIZWlnaHQtZ2V0Q2hyb21lSGVpZ2h0KCkpK1wicHhcIjt9fScsJ2Z1bmN0aW9uIHNldENvbW1hbmRJbnB1dFdpZHRoKCl7aWYoc2hvd0NvbW1hbmRMaW5lKXskKFwiY29tbWFuZFwiKS5zdHlsZS53aWR0aD1cIlwiK01hdGgubWF4KDAsJChcImNvbW1hbmRMaW5lQ29udGFpbmVyXCIpLm9mZnNldFdpZHRoLScsJygkKFwiZXZhbHVhdGVCdXR0b25cIikub2Zmc2V0V2lkdGgrMTMpKStcInB4XCI7fX0nLCd3aW5kb3cub25yZXNpemU9ZnVuY3Rpb24oKXtzZXRDb21tYW5kSW5wdXRXaWR0aCgpO3NldExvZ0NvbnRhaW5lckhlaWdodCgpO307aWYoIUFycmF5LnByb3RvdHlwZS5wdXNoKXtBcnJheS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgaT0wLGxlbj1hcmd1bWVudHMubGVuZ3RoO2k8bGVuO2krKyl7dGhpc1t0aGlzLmxlbmd0aF09YXJndW1lbnRzW2ldO30nLCdyZXR1cm4gdGhpcy5sZW5ndGg7fTt9JywnaWYoIUFycmF5LnByb3RvdHlwZS5wb3Ape0FycmF5LnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aD4wKXt2YXIgdmFsPXRoaXNbdGhpcy5sZW5ndGgtMV07dGhpcy5sZW5ndGg9dGhpcy5sZW5ndGgtMTtyZXR1cm4gdmFsO319O30nLCdpZighQXJyYXkucHJvdG90eXBlLnNoaWZ0KXtBcnJheS5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aD4wKXt2YXIgZmlyc3RJdGVtPXRoaXNbMF07Zm9yKHZhciBpPTAsbGVuPXRoaXMubGVuZ3RoLTE7aTxsZW47aSsrKXt0aGlzW2ldPXRoaXNbaSsxXTt9JywndGhpcy5sZW5ndGg9dGhpcy5sZW5ndGgtMTtyZXR1cm4gZmlyc3RJdGVtO319O30nLCdpZighQXJyYXkucHJvdG90eXBlLnNwbGljZSl7QXJyYXkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihzdGFydEluZGV4LGRlbGV0ZUNvdW50KXt2YXIgaXRlbXNBZnRlckRlbGV0ZWQ9dGhpcy5zbGljZShzdGFydEluZGV4K2RlbGV0ZUNvdW50KTt2YXIgaXRlbXNEZWxldGVkPXRoaXMuc2xpY2Uoc3RhcnRJbmRleCxzdGFydEluZGV4K2RlbGV0ZUNvdW50KTt0aGlzLmxlbmd0aD1zdGFydEluZGV4O3ZhciBhcmd1bWVudHNBcnJheT1bXTtmb3IodmFyIGk9MCxsZW49YXJndW1lbnRzLmxlbmd0aDtpPGxlbjtpKyspe2FyZ3VtZW50c0FycmF5W2ldPWFyZ3VtZW50c1tpXTt9JywndmFyIGl0ZW1zVG9BcHBlbmQ9KGFyZ3VtZW50c0FycmF5Lmxlbmd0aD4yKT9pdGVtc0FmdGVyRGVsZXRlZD1hcmd1bWVudHNBcnJheS5zbGljZSgyKS5jb25jYXQoaXRlbXNBZnRlckRlbGV0ZWQpOml0ZW1zQWZ0ZXJEZWxldGVkO2ZvcihpPTAsbGVuPWl0ZW1zVG9BcHBlbmQubGVuZ3RoO2k8bGVuO2krKyl7dGhpcy5wdXNoKGl0ZW1zVG9BcHBlbmRbaV0pO30nLCdyZXR1cm4gaXRlbXNEZWxldGVkO307fScsJ2Z1bmN0aW9uIGFycmF5X3JlbW92ZShhcnIsdmFsKXt2YXIgaW5kZXg9LTE7Zm9yKHZhciBpPTAsbGVuPWFyci5sZW5ndGg7aTxsZW47aSsrKXtpZihhcnJbaV09PT12YWwpe2luZGV4PWk7YnJlYWs7fX0nLCdpZihpbmRleD49MCl7YXJyLnNwbGljZShpbmRleCwxKTtyZXR1cm4gaW5kZXg7fWVsc2V7cmV0dXJuIGZhbHNlO319JywnZnVuY3Rpb24gYXJyYXlfcmVtb3ZlRnJvbVN0YXJ0KGFycmF5LG51bWJlclRvUmVtb3ZlKXtpZihBcnJheS5wcm90b3R5cGUuc3BsaWNlKXthcnJheS5zcGxpY2UoMCxudW1iZXJUb1JlbW92ZSk7fWVsc2V7Zm9yKHZhciBpPW51bWJlclRvUmVtb3ZlLGxlbj1hcnJheS5sZW5ndGg7aTxsZW47aSsrKXthcnJheVtpLW51bWJlclRvUmVtb3ZlXT1hcnJheVtpXTt9JywnYXJyYXkubGVuZ3RoPWFycmF5Lmxlbmd0aC1udW1iZXJUb1JlbW92ZTt9JywncmV0dXJuIGFycmF5O30nLCdmdW5jdGlvbiBhcnJheV9jb250YWlucyhhcnIsdmFsKXtmb3IodmFyIGk9MCxsZW49YXJyLmxlbmd0aDtpPGxlbjtpKyspe2lmKGFycltpXT09dmFsKXtyZXR1cm4gdHJ1ZTt9fScsJ3JldHVybiBmYWxzZTt9JywnZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGV4KXtpZihleC5tZXNzYWdlKXtyZXR1cm4gZXgubWVzc2FnZTt9ZWxzZSBpZihleC5kZXNjcmlwdGlvbil7cmV0dXJuIGV4LmRlc2NyaXB0aW9uO30nLCdyZXR1cm5cIlwiK2V4O30nLCdmdW5jdGlvbiBtb3ZlQ2FyZXRUb0VuZChpbnB1dCl7aWYoaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2Upe2lucHV0LmZvY3VzKCk7dmFyIGxlbmd0aD1pbnB1dC52YWx1ZS5sZW5ndGg7aW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UobGVuZ3RoLGxlbmd0aCk7fWVsc2UgaWYoaW5wdXQuY3JlYXRlVGV4dFJhbmdlKXt2YXIgcmFuZ2U9aW5wdXQuY3JlYXRlVGV4dFJhbmdlKCk7cmFuZ2UuY29sbGFwc2UoZmFsc2UpO3JhbmdlLnNlbGVjdCgpO30nLCdpbnB1dC5mb2N1cygpO30nLCdmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oZXZ0KXtpZihldnQuc3RvcFByb3BhZ2F0aW9uKXtldnQuc3RvcFByb3BhZ2F0aW9uKCk7fWVsc2UgaWYodHlwZW9mIGV2dC5jYW5jZWxCdWJibGUhPVwidW5kZWZpbmVkXCIpe2V2dC5jYW5jZWxCdWJibGU9dHJ1ZTt9fScsJ2Z1bmN0aW9uIGdldEV2ZW50KGV2dCl7cmV0dXJuIGV2dD9ldnQ6ZXZlbnQ7fScsJ2Z1bmN0aW9uIGdldFRhcmdldChldnQpe3JldHVybiBldnQudGFyZ2V0P2V2dC50YXJnZXQ6ZXZ0LnNyY0VsZW1lbnQ7fScsJ2Z1bmN0aW9uIGdldFJlbGF0ZWRUYXJnZXQoZXZ0KXtpZihldnQucmVsYXRlZFRhcmdldCl7cmV0dXJuIGV2dC5yZWxhdGVkVGFyZ2V0O31lbHNlIGlmKGV2dC5zcmNFbGVtZW50KXtzd2l0Y2goZXZ0LnR5cGUpe2Nhc2VcIm1vdXNlb3ZlclwiOnJldHVybiBldnQuZnJvbUVsZW1lbnQ7Y2FzZVwibW91c2VvdXRcIjpyZXR1cm4gZXZ0LnRvRWxlbWVudDtkZWZhdWx0OnJldHVybiBldnQuc3JjRWxlbWVudDt9fX0nLCdmdW5jdGlvbiBjYW5jZWxLZXlFdmVudChldnQpe2V2dC5yZXR1cm5WYWx1ZT1mYWxzZTtzdG9wUHJvcGFnYXRpb24oZXZ0KTt9JywnZnVuY3Rpb24gZXZhbENvbW1hbmRMaW5lKCl7dmFyIGV4cHI9JChcImNvbW1hbmRcIikudmFsdWU7ZXZhbENvbW1hbmQoZXhwcik7JChcImNvbW1hbmRcIikudmFsdWU9XCJcIjt9JywnZnVuY3Rpb24gZXZhbExhc3RDb21tYW5kKCl7aWYobGFzdENvbW1hbmQhPW51bGwpe2V2YWxDb21tYW5kKGxhc3RDb21tYW5kKTt9fScsJ3ZhciBsYXN0Q29tbWFuZD1udWxsO3ZhciBjb21tYW5kSGlzdG9yeT1bXTt2YXIgY3VycmVudENvbW1hbmRJbmRleD0wO2Z1bmN0aW9uIGV2YWxDb21tYW5kKGV4cHIpe2lmKGFwcGVuZGVyKXthcHBlbmRlci5ldmFsQ29tbWFuZEFuZEFwcGVuZChleHByKTt9ZWxzZXt2YXIgcHJlZml4PVwiPj4+IFwiK2V4cHIrXCJcXFxcclxcXFxuXCI7dHJ5e2xvZyhcIklORk9cIixwcmVmaXgrZXZhbChleHByKSk7fWNhdGNoKGV4KXtsb2coXCJFUlJPUlwiLHByZWZpeCtcIkVycm9yOiBcIitnZXRFcnJvck1lc3NhZ2UoZXgpKTt9fScsJ2lmKGV4cHIhPWNvbW1hbmRIaXN0b3J5W2NvbW1hbmRIaXN0b3J5Lmxlbmd0aC0xXSl7Y29tbWFuZEhpc3RvcnkucHVzaChleHByKTtpZihhcHBlbmRlcil7YXBwZW5kZXIuc3RvcmVDb21tYW5kSGlzdG9yeShjb21tYW5kSGlzdG9yeSk7fX0nLCdjdXJyZW50Q29tbWFuZEluZGV4PShleHByPT1jb21tYW5kSGlzdG9yeVtjdXJyZW50Q29tbWFuZEluZGV4XSk/Y3VycmVudENvbW1hbmRJbmRleCsxOmNvbW1hbmRIaXN0b3J5Lmxlbmd0aDtsYXN0Q29tbWFuZD1leHByO30nLCcvL11dPicsJzwvc2NyaXB0PicsJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4nLCdib2R5e2JhY2tncm91bmQtY29sb3I6d2hpdGU7Y29sb3I6YmxhY2s7cGFkZGluZzowO21hcmdpbjowO2ZvbnQtZmFtaWx5OnRhaG9tYSx2ZXJkYW5hLGFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO292ZXJmbG93OmhpZGRlbn1kaXYjc3dpdGNoZXNDb250YWluZXIgaW5wdXR7bWFyZ2luLWJvdHRvbTowfWRpdi50b29sYmFye2JvcmRlci10b3A6c29saWQgI2ZmZmZmZiAxcHg7Ym9yZGVyLWJvdHRvbTpzb2xpZCAjYWNhODk5IDFweDtiYWNrZ3JvdW5kLWNvbG9yOiNmMWVmZTc7cGFkZGluZzozcHggNXB4O2ZvbnQtc2l6ZTo2OC43NSV9ZGl2LnRvb2xiYXIsZGl2I3NlYXJjaCBpbnB1dHtmb250LWZhbWlseTp0YWhvbWEsdmVyZGFuYSxhcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZn1kaXYudG9vbGJhciBpbnB1dC5idXR0b257cGFkZGluZzowIDVweDtmb250LXNpemU6MTAwJX1kaXYudG9vbGJhciBpbnB1dC5oaWRkZW57ZGlzcGxheTpub25lfWRpdiNzd2l0Y2hlcyBpbnB1dCNjbGVhckJ1dHRvbnttYXJnaW4tbGVmdDoyMHB4fWRpdiNsZXZlbHMgbGFiZWx7Zm9udC13ZWlnaHQ6Ym9sZH1kaXYjbGV2ZWxzIGxhYmVsLGRpdiNvcHRpb25zIGxhYmVse21hcmdpbi1yaWdodDo1cHh9ZGl2I2xldmVscyBsYWJlbCN3cmFwTGFiZWx7Zm9udC13ZWlnaHQ6bm9ybWFsfWRpdiNzZWFyY2ggbGFiZWx7bWFyZ2luLXJpZ2h0OjEwcHh9ZGl2I3NlYXJjaCBsYWJlbC5zZWFyY2hib3hsYWJlbHttYXJnaW4tcmlnaHQ6MH1kaXYjc2VhcmNoIGlucHV0e2ZvbnQtc2l6ZToxMDAlfWRpdiNzZWFyY2ggaW5wdXQudmFsaWRyZWdleHtjb2xvcjpncmVlbn1kaXYjc2VhcmNoIGlucHV0LmludmFsaWRyZWdleHtjb2xvcjpyZWR9ZGl2I3NlYXJjaCBpbnB1dC5ub21hdGNoZXN7Y29sb3I6d2hpdGU7YmFja2dyb3VuZC1jb2xvcjojZmY2NjY2fWRpdiNzZWFyY2ggaW5wdXQubm9tYXRjaGVze2NvbG9yOndoaXRlO2JhY2tncm91bmQtY29sb3I6I2ZmNjY2Nn1kaXYjc2VhcmNoTmF2e2Rpc3BsYXk6bm9uZX1kaXYjY29tbWFuZExpbmV7ZGlzcGxheTpub25lfWRpdiNjb21tYW5kTGluZSBpbnB1dCNjb21tYW5ke2ZvbnQtc2l6ZToxMDAlO2ZvbnQtZmFtaWx5OkNvdXJpZXIgTmV3LENvdXJpZXJ9ZGl2I2NvbW1hbmRMaW5lIGlucHV0I2V2YWx1YXRlQnV0dG9ue30qLmdyZXllZG91dHtjb2xvcjpncmF5ICFpbXBvcnRhbnQ7Ym9yZGVyLWNvbG9yOmdyYXkgIWltcG9ydGFudH0qLmdyZXllZG91dCAqLmFsd2F5c2VuYWJsZWR7Y29sb3I6YmxhY2t9Ki51bnNlbGVjdGFibGV7LWtodG1sLXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9ZGl2I2xvZ3tmb250LWZhbWlseTpDb3VyaWVyIE5ldyxDb3VyaWVyO2ZvbnQtc2l6ZTo3NSU7d2lkdGg6MTAwJTtvdmVyZmxvdzphdXRvO2NsZWFyOmJvdGg7cG9zaXRpb246cmVsYXRpdmV9ZGl2Lmdyb3Vwe2JvcmRlci1jb2xvcjojY2NjY2NjO2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItd2lkdGg6MXB4IDAgMXB4IDFweDtvdmVyZmxvdzp2aXNpYmxlfWRpdi5vbGRJZSBkaXYuZ3JvdXAsZGl2Lm9sZEllIGRpdi5ncm91cCAqLGRpdi5vbGRJZSAqLmxvZ2VudHJ5e2hlaWdodDoxJX1kaXYuZ3JvdXAgZGl2Lmdyb3VwaGVhZGluZyBzcGFuLmV4cGFuZGVye2JvcmRlcjpzb2xpZCBibGFjayAxcHg7Zm9udC1mYW1pbHk6Q291cmllciBOZXcsQ291cmllcjtmb250LXNpemU6MC44MzNlbTtiYWNrZ3JvdW5kLWNvbG9yOiNlZWVlZWU7cG9zaXRpb246cmVsYXRpdmU7dG9wOi0xcHg7Y29sb3I6YmxhY2s7cGFkZGluZzowIDJweDtjdXJzb3I6cG9pbnRlcjtjdXJzb3I6aGFuZDtoZWlnaHQ6MSV9ZGl2Lmdyb3VwIGRpdi5ncm91cGNvbnRlbnR7bWFyZ2luLWxlZnQ6MTBweDtwYWRkaW5nLWJvdHRvbToycHg7b3ZlcmZsb3c6dmlzaWJsZX1kaXYuZ3JvdXAgZGl2LmV4cGFuZGVke2Rpc3BsYXk6YmxvY2t9ZGl2Lmdyb3VwIGRpdi5jb2xsYXBzZWR7ZGlzcGxheTpub25lfSoubG9nZW50cnl7b3ZlcmZsb3c6dmlzaWJsZTtkaXNwbGF5Om5vbmU7d2hpdGUtc3BhY2U6cHJlfXNwYW4ucHJle3doaXRlLXNwYWNlOnByZX1wcmUudW53cmFwcGVke2Rpc3BsYXk6aW5saW5lICFpbXBvcnRhbnR9cHJlLnVud3JhcHBlZCBwcmUucHJlLGRpdi53cmFwcGVkIHByZS5wcmV7ZGlzcGxheTppbmxpbmV9ZGl2LndyYXBwZWQgcHJlLnByZXt3aGl0ZS1zcGFjZTpub3JtYWx9ZGl2LndyYXBwZWR7ZGlzcGxheTpub25lfWJvZHkuc2VhcmNoaW5nICoubG9nZW50cnkgc3Bhbi5jdXJyZW50bWF0Y2h7Y29sb3I6d2hpdGUgIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVuICFpbXBvcnRhbnR9Ym9keS5zZWFyY2hpbmcgZGl2LnNlYXJjaGhpZ2hsaWdodCAqLmxvZ2VudHJ5IHNwYW4uc2VhcmNodGVybXtjb2xvcjpibGFjaztiYWNrZ3JvdW5kLWNvbG9yOnllbGxvd31kaXYud3JhcCAqLmxvZ2VudHJ5e3doaXRlLXNwYWNlOm5vcm1hbCAhaW1wb3J0YW50O2JvcmRlci13aWR0aDowIDAgMXB4IDA7Ym9yZGVyLWNvbG9yOiNkZGRkZGQ7Ym9yZGVyLXN0eWxlOmRvdHRlZH1kaXYud3JhcCAjbG9nX3dyYXBwZWQsI2xvZ191bndyYXBwZWR7ZGlzcGxheTpibG9ja31kaXYud3JhcCAjbG9nX3Vud3JhcHBlZCwjbG9nX3dyYXBwZWR7ZGlzcGxheTpub25lfWRpdi53cmFwICoubG9nZW50cnkgc3Bhbi5wcmV7b3ZlcmZsb3c6dmlzaWJsZTt3aGl0ZS1zcGFjZTpub3JtYWx9ZGl2LndyYXAgKi5sb2dlbnRyeSBwcmUudW53cmFwcGVke2Rpc3BsYXk6bm9uZX1kaXYud3JhcCAqLmxvZ2VudHJ5IHNwYW4ud3JhcHBlZHtkaXNwbGF5OmlubGluZX1kaXYuc2VhcmNoZmlsdGVyICouc2VhcmNobm9ubWF0Y2h7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9ZGl2I2xvZyAqLlRSQUNFLGxhYmVsI2xhYmVsX1RSQUNFe2NvbG9yOiM2NjY2NjZ9ZGl2I2xvZyAqLkRFQlVHLGxhYmVsI2xhYmVsX0RFQlVHe2NvbG9yOmdyZWVufWRpdiNsb2cgKi5JTkZPLGxhYmVsI2xhYmVsX0lORk97Y29sb3I6IzAwMDA5OX1kaXYjbG9nICouV0FSTixsYWJlbCNsYWJlbF9XQVJOe2NvbG9yOiM5OTk5MDB9ZGl2I2xvZyAqLkVSUk9SLGxhYmVsI2xhYmVsX0VSUk9Se2NvbG9yOnJlZH1kaXYjbG9nICouRkFUQUwsbGFiZWwjbGFiZWxfRkFUQUx7Y29sb3I6IzY2MDA2Nn1kaXYuVFJBQ0UjbG9nICouVFJBQ0UsZGl2LkRFQlVHI2xvZyAqLkRFQlVHLGRpdi5JTkZPI2xvZyAqLklORk8sZGl2LldBUk4jbG9nICouV0FSTixkaXYuRVJST1IjbG9nICouRVJST1IsZGl2LkZBVEFMI2xvZyAqLkZBVEFMe2Rpc3BsYXk6YmxvY2t9ZGl2I2xvZyBkaXYuc2VwYXJhdG9ye2JhY2tncm91bmQtY29sb3I6I2NjY2NjYzttYXJnaW46NXB4IDA7bGluZS1oZWlnaHQ6MXB4fScsJzwvc3R5bGU+JywnPC9oZWFkPicsJzxib2R5IGlkPVwiYm9keVwiPicsJzxkaXYgaWQ9XCJzd2l0Y2hlc0NvbnRhaW5lclwiPicsJzxkaXYgaWQ9XCJzd2l0Y2hlc1wiPicsJzxkaXYgaWQ9XCJsZXZlbHNcIiBjbGFzcz1cInRvb2xiYXJcIj4nLCdGaWx0ZXJzOicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInN3aXRjaF9UUkFDRVwiIG9uY2xpY2s9XCJhcHBseUZpbHRlcnMoKTsgY2hlY2tBbGxMZXZlbHMoKVwiIGNoZWNrZWQ9XCJjaGVja2VkXCIgdGl0bGU9XCJTaG93L2hpZGUgdHJhY2UgbWVzc2FnZXNcIiAvPjxsYWJlbCBmb3I9XCJzd2l0Y2hfVFJBQ0VcIiBpZD1cImxhYmVsX1RSQUNFXCI+dHJhY2U8L2xhYmVsPicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInN3aXRjaF9ERUJVR1wiIG9uY2xpY2s9XCJhcHBseUZpbHRlcnMoKTsgY2hlY2tBbGxMZXZlbHMoKVwiIGNoZWNrZWQ9XCJjaGVja2VkXCIgdGl0bGU9XCJTaG93L2hpZGUgZGVidWcgbWVzc2FnZXNcIiAvPjxsYWJlbCBmb3I9XCJzd2l0Y2hfREVCVUdcIiBpZD1cImxhYmVsX0RFQlVHXCI+ZGVidWc8L2xhYmVsPicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInN3aXRjaF9JTkZPXCIgb25jbGljaz1cImFwcGx5RmlsdGVycygpOyBjaGVja0FsbExldmVscygpXCIgY2hlY2tlZD1cImNoZWNrZWRcIiB0aXRsZT1cIlNob3cvaGlkZSBpbmZvIG1lc3NhZ2VzXCIgLz48bGFiZWwgZm9yPVwic3dpdGNoX0lORk9cIiBpZD1cImxhYmVsX0lORk9cIj5pbmZvPC9sYWJlbD4nLCc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJzd2l0Y2hfV0FSTlwiIG9uY2xpY2s9XCJhcHBseUZpbHRlcnMoKTsgY2hlY2tBbGxMZXZlbHMoKVwiIGNoZWNrZWQ9XCJjaGVja2VkXCIgdGl0bGU9XCJTaG93L2hpZGUgd2FybiBtZXNzYWdlc1wiIC8+PGxhYmVsIGZvcj1cInN3aXRjaF9XQVJOXCIgaWQ9XCJsYWJlbF9XQVJOXCI+d2FybjwvbGFiZWw+JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwic3dpdGNoX0VSUk9SXCIgb25jbGljaz1cImFwcGx5RmlsdGVycygpOyBjaGVja0FsbExldmVscygpXCIgY2hlY2tlZD1cImNoZWNrZWRcIiB0aXRsZT1cIlNob3cvaGlkZSBlcnJvciBtZXNzYWdlc1wiIC8+PGxhYmVsIGZvcj1cInN3aXRjaF9FUlJPUlwiIGlkPVwibGFiZWxfRVJST1JcIj5lcnJvcjwvbGFiZWw+JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwic3dpdGNoX0ZBVEFMXCIgb25jbGljaz1cImFwcGx5RmlsdGVycygpOyBjaGVja0FsbExldmVscygpXCIgY2hlY2tlZD1cImNoZWNrZWRcIiB0aXRsZT1cIlNob3cvaGlkZSBmYXRhbCBtZXNzYWdlc1wiIC8+PGxhYmVsIGZvcj1cInN3aXRjaF9GQVRBTFwiIGlkPVwibGFiZWxfRkFUQUxcIj5mYXRhbDwvbGFiZWw+JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwic3dpdGNoX0FMTFwiIG9uY2xpY2s9XCJ0b2dnbGVBbGxMZXZlbHMoKTsgYXBwbHlGaWx0ZXJzKClcIiBjaGVja2VkPVwiY2hlY2tlZFwiIHRpdGxlPVwiU2hvdy9oaWRlIGFsbCBtZXNzYWdlc1wiIC8+PGxhYmVsIGZvcj1cInN3aXRjaF9BTExcIiBpZD1cImxhYmVsX0FMTFwiPmFsbDwvbGFiZWw+JywnPC9kaXY+JywnPGRpdiBpZD1cInNlYXJjaFwiIGNsYXNzPVwidG9vbGJhclwiPicsJzxsYWJlbCBmb3I9XCJzZWFyY2hCb3hcIiBjbGFzcz1cInNlYXJjaGJveGxhYmVsXCI+U2VhcmNoOjwvbGFiZWw+IDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwic2VhcmNoQm94XCIgb25jbGljaz1cInRvZ2dsZVNlYXJjaEVuYWJsZWQodHJ1ZSlcIiBvbmtleXVwPVwic2NoZWR1bGVTZWFyY2goKVwiIHNpemU9XCIyMFwiIC8+JywnPGlucHV0IHR5cGU9XCJidXR0b25cIiBpZD1cInNlYXJjaFJlc2V0XCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiIHZhbHVlPVwiUmVzZXRcIiBvbmNsaWNrPVwiY2xlYXJTZWFyY2goKVwiIGNsYXNzPVwiYnV0dG9uXCIgdGl0bGU9XCJSZXNldCB0aGUgc2VhcmNoXCIgLz4nLCc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJzZWFyY2hSZWdleFwiIG9uY2xpY2s9XCJkb1NlYXJjaCgpXCIgdGl0bGU9XCJJZiBjaGVja2VkLCBzZWFyY2ggaXMgdHJlYXRlZCBhcyBhIHJlZ3VsYXIgZXhwcmVzc2lvblwiIC8+PGxhYmVsIGZvcj1cInNlYXJjaFJlZ2V4XCI+UmVnZXg8L2xhYmVsPicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInNlYXJjaENhc2VTZW5zaXRpdmVcIiBvbmNsaWNrPVwiZG9TZWFyY2goKVwiIHRpdGxlPVwiSWYgY2hlY2tlZCwgc2VhcmNoIGlzIGNhc2Ugc2Vuc2l0aXZlXCIgLz48bGFiZWwgZm9yPVwic2VhcmNoQ2FzZVNlbnNpdGl2ZVwiPk1hdGNoIGNhc2U8L2xhYmVsPicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInNlYXJjaERpc2FibGVcIiBvbmNsaWNrPVwidG9nZ2xlU2VhcmNoRW5hYmxlZCgpXCIgdGl0bGU9XCJFbmFibGUvZGlzYWJsZSBzZWFyY2hcIiAvPjxsYWJlbCBmb3I9XCJzZWFyY2hEaXNhYmxlXCIgY2xhc3M9XCJhbHdheXNlbmFibGVkXCI+RGlzYWJsZTwvbGFiZWw+JywnPGRpdiBpZD1cInNlYXJjaE5hdlwiPicsJzxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJzZWFyY2hOZXh0XCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiIHZhbHVlPVwiTmV4dFwiIG9uY2xpY2s9XCJzZWFyY2hOZXh0KClcIiBjbGFzcz1cImJ1dHRvblwiIHRpdGxlPVwiR28gdG8gdGhlIG5leHQgbWF0Y2hpbmcgbG9nIGVudHJ5XCIgLz4nLCc8aW5wdXQgdHlwZT1cImJ1dHRvblwiIGlkPVwic2VhcmNoUHJldmlvdXNcIiBkaXNhYmxlZD1cImRpc2FibGVkXCIgdmFsdWU9XCJQcmV2aW91c1wiIG9uY2xpY2s9XCJzZWFyY2hQcmV2aW91cygpXCIgY2xhc3M9XCJidXR0b25cIiB0aXRsZT1cIkdvIHRvIHRoZSBwcmV2aW91cyBtYXRjaGluZyBsb2cgZW50cnlcIiAvPicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInNlYXJjaEZpbHRlclwiIG9uY2xpY2s9XCJ0b2dnbGVTZWFyY2hGaWx0ZXIoKVwiIHRpdGxlPVwiSWYgY2hlY2tlZCwgbm9uLW1hdGNoaW5nIGxvZyBlbnRyaWVzIGFyZSBmaWx0ZXJlZCBvdXRcIiAvPjxsYWJlbCBmb3I9XCJzZWFyY2hGaWx0ZXJcIj5GaWx0ZXI8L2xhYmVsPicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInNlYXJjaEhpZ2hsaWdodFwiIG9uY2xpY2s9XCJ0b2dnbGVTZWFyY2hIaWdobGlnaHQoKVwiIHRpdGxlPVwiSGlnaGxpZ2h0IG1hdGNoZWQgc2VhcmNoIHRlcm1zXCIgLz48bGFiZWwgZm9yPVwic2VhcmNoSGlnaGxpZ2h0XCIgY2xhc3M9XCJhbHdheXNlbmFibGVkXCI+SGlnaGxpZ2h0IGFsbDwvbGFiZWw+JywnPC9kaXY+JywnPC9kaXY+JywnPGRpdiBpZD1cIm9wdGlvbnNcIiBjbGFzcz1cInRvb2xiYXJcIj4nLCdPcHRpb25zOicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImVuYWJsZUxvZ2dpbmdcIiBvbmNsaWNrPVwidG9nZ2xlTG9nZ2luZ0VuYWJsZWQoKVwiIGNoZWNrZWQ9XCJjaGVja2VkXCIgdGl0bGU9XCJFbmFibGUvZGlzYWJsZSBsb2dnaW5nXCIgLz48bGFiZWwgZm9yPVwiZW5hYmxlTG9nZ2luZ1wiIGlkPVwiZW5hYmxlTG9nZ2luZ0xhYmVsXCI+TG9nPC9sYWJlbD4nLCc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJ3cmFwXCIgb25jbGljaz1cInRvZ2dsZVdyYXAoKVwiIHRpdGxlPVwiRW5hYmxlIC8gZGlzYWJsZSB3b3JkIHdyYXBcIiAvPjxsYWJlbCBmb3I9XCJ3cmFwXCIgaWQ9XCJ3cmFwTGFiZWxcIj5XcmFwPC9sYWJlbD4nLCc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJuZXdlc3RBdFRvcFwiIG9uY2xpY2s9XCJ0b2dnbGVOZXdlc3RBdFRvcCgpXCIgdGl0bGU9XCJJZiBjaGVja2VkLCBjYXVzZXMgbmV3ZXN0IG1lc3NhZ2VzIHRvIGFwcGVhciBhdCB0aGUgdG9wXCIgLz48bGFiZWwgZm9yPVwibmV3ZXN0QXRUb3BcIiBpZD1cIm5ld2VzdEF0VG9wTGFiZWxcIj5OZXdlc3QgYXQgdGhlIHRvcDwvbGFiZWw+JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwic2Nyb2xsVG9MYXRlc3RcIiBvbmNsaWNrPVwidG9nZ2xlU2Nyb2xsVG9MYXRlc3QoKVwiIGNoZWNrZWQ9XCJjaGVja2VkXCIgdGl0bGU9XCJJZiBjaGVja2VkLCB3aW5kb3cgYXV0b21hdGljYWxseSBzY3JvbGxzIHRvIGEgbmV3IG1lc3NhZ2Ugd2hlbiBpdCBpcyBhZGRlZFwiIC8+PGxhYmVsIGZvcj1cInNjcm9sbFRvTGF0ZXN0XCIgaWQ9XCJzY3JvbGxUb0xhdGVzdExhYmVsXCI+U2Nyb2xsIHRvIGxhdGVzdDwvbGFiZWw+JywnPGlucHV0IHR5cGU9XCJidXR0b25cIiBpZD1cImNsZWFyQnV0dG9uXCIgdmFsdWU9XCJDbGVhclwiIG9uY2xpY2s9XCJjbGVhckxvZygpXCIgY2xhc3M9XCJidXR0b25cIiB0aXRsZT1cIkNsZWFyIGFsbCBsb2cgbWVzc2FnZXNcIiAgLz4nLCc8aW5wdXQgdHlwZT1cImJ1dHRvblwiIGlkPVwiaGlkZUJ1dHRvblwiIHZhbHVlPVwiSGlkZVwiIG9uY2xpY2s9XCJoaWRlKClcIiBjbGFzcz1cImhpZGRlbiBidXR0b25cIiB0aXRsZT1cIkhpZGUgdGhlIGNvbnNvbGVcIiAvPicsJzxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJjbG9zZUJ1dHRvblwiIHZhbHVlPVwiQ2xvc2VcIiBvbmNsaWNrPVwiY2xvc2VXaW5kb3coKVwiIGNsYXNzPVwiaGlkZGVuIGJ1dHRvblwiIHRpdGxlPVwiQ2xvc2UgdGhlIHdpbmRvd1wiIC8+JywnPC9kaXY+JywnPC9kaXY+JywnPC9kaXY+JywnPGRpdiBpZD1cImxvZ1wiIGNsYXNzPVwiVFJBQ0UgREVCVUcgSU5GTyBXQVJOIEVSUk9SIEZBVEFMXCI+PC9kaXY+JywnPGRpdiBpZD1cImNvbW1hbmRMaW5lXCIgY2xhc3M9XCJ0b29sYmFyXCI+JywnPGRpdiBpZD1cImNvbW1hbmRMaW5lQ29udGFpbmVyXCI+JywnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJjb21tYW5kXCIgdGl0bGU9XCJFbnRlciBhIEphdmFTY3JpcHQgY29tbWFuZCBoZXJlIGFuZCBoaXQgcmV0dXJuIG9yIHByZXNzIFxcJ0V2YWx1YXRlXFwnXCIgLz4nLCc8aW5wdXQgdHlwZT1cImJ1dHRvblwiIGlkPVwiZXZhbHVhdGVCdXR0b25cIiB2YWx1ZT1cIkV2YWx1YXRlXCIgY2xhc3M9XCJidXR0b25cIiB0aXRsZT1cIkV2YWx1YXRlIHRoZSBjb21tYW5kXCIgb25jbGljaz1cImV2YWxDb21tYW5kTGluZSgpXCIgLz4nLCc8L2Rpdj4nLCc8L2Rpdj4nLCc8L2JvZHk+JywnPC9odG1sPicsJyddO307dmFyIGRlZmF1bHRDb21tYW5kTGluZUZ1bmN0aW9ucz1bXTtDb25zb2xlQXBwZW5kZXI9ZnVuY3Rpb24oKXt9O3ZhciBjb25zb2xlQXBwZW5kZXJJZENvdW50ZXI9MTtDb25zb2xlQXBwZW5kZXIucHJvdG90eXBlPW5ldyBBcHBlbmRlcigpO0NvbnNvbGVBcHBlbmRlci5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGluUGFnZSxjb250YWluZXIsbGF6eUluaXQsaW5pdGlhbGx5TWluaW1pemVkLHVzZURvY3VtZW50V3JpdGUsd2lkdGgsaGVpZ2h0LGZvY3VzQ29uc29sZVdpbmRvdyl7dmFyIGFwcGVuZGVyPXRoaXM7dmFyIGluaXRpYWxpemVkPWZhbHNlO3ZhciBjb25zb2xlV2luZG93Q3JlYXRlZD1mYWxzZTt2YXIgY29uc29sZVdpbmRvd0xvYWRlZD1mYWxzZTt2YXIgY29uc29sZUNsb3NlZD1mYWxzZTt2YXIgcXVldWVkTG9nZ2luZ0V2ZW50cz1bXTt2YXIgaXNTdXBwb3J0ZWQ9dHJ1ZTt2YXIgY29uc29sZUFwcGVuZGVySWQ9Y29uc29sZUFwcGVuZGVySWRDb3VudGVyKys7aW5pdGlhbGx5TWluaW1pemVkPWV4dHJhY3RCb29sZWFuRnJvbVBhcmFtKGluaXRpYWxseU1pbmltaXplZCx0aGlzLmRlZmF1bHRzLmluaXRpYWxseU1pbmltaXplZCk7bGF6eUluaXQ9ZXh0cmFjdEJvb2xlYW5Gcm9tUGFyYW0obGF6eUluaXQsdGhpcy5kZWZhdWx0cy5sYXp5SW5pdCk7dXNlRG9jdW1lbnRXcml0ZT1leHRyYWN0Qm9vbGVhbkZyb21QYXJhbSh1c2VEb2N1bWVudFdyaXRlLHRoaXMuZGVmYXVsdHMudXNlRG9jdW1lbnRXcml0ZSk7dmFyIG5ld2VzdE1lc3NhZ2VBdFRvcD10aGlzLmRlZmF1bHRzLm5ld2VzdE1lc3NhZ2VBdFRvcDt2YXIgc2Nyb2xsVG9MYXRlc3RNZXNzYWdlPXRoaXMuZGVmYXVsdHMuc2Nyb2xsVG9MYXRlc3RNZXNzYWdlO3dpZHRoPXdpZHRoP3dpZHRoOnRoaXMuZGVmYXVsdHMud2lkdGg7aGVpZ2h0PWhlaWdodD9oZWlnaHQ6dGhpcy5kZWZhdWx0cy5oZWlnaHQ7dmFyIG1heE1lc3NhZ2VzPXRoaXMuZGVmYXVsdHMubWF4TWVzc2FnZXM7dmFyIHNob3dDb21tYW5kTGluZT10aGlzLmRlZmF1bHRzLnNob3dDb21tYW5kTGluZTt2YXIgY29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aD10aGlzLmRlZmF1bHRzLmNvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGg7dmFyIHNob3dIaWRlQnV0dG9uPXRoaXMuZGVmYXVsdHMuc2hvd0hpZGVCdXR0b247dmFyIHNob3dDbG9zZUJ1dHRvbj10aGlzLmRlZmF1bHRzLnNob3dDbG9zZUJ1dHRvbjt2YXIgc2hvd0xvZ0VudHJ5RGVsZXRlQnV0dG9ucz10aGlzLmRlZmF1bHRzLnNob3dMb2dFbnRyeURlbGV0ZUJ1dHRvbnM7dGhpcy5zZXRMYXlvdXQodGhpcy5kZWZhdWx0cy5sYXlvdXQpO3ZhciBpbml0LGNyZWF0ZVdpbmRvdyxzYWZlVG9BcHBlbmQsZ2V0Q29uc29sZVdpbmRvdyxvcGVuO3ZhciBhcHBlbmRlck5hbWU9aW5QYWdlP1wiSW5QYWdlQXBwZW5kZXJcIjpcIlBvcFVwQXBwZW5kZXJcIjt2YXIgY2hlY2tDYW5Db25maWd1cmU9ZnVuY3Rpb24oY29uZmlnT3B0aW9uTmFtZSl7aWYoY29uc29sZVdpbmRvd0NyZWF0ZWQpe2hhbmRsZUVycm9yKGFwcGVuZGVyTmFtZStcIjogY29uZmlndXJhdGlvbiBvcHRpb24gJ1wiK2NvbmZpZ09wdGlvbk5hbWUrXCInIG1heSBub3QgYmUgc2V0IGFmdGVyIHRoZSBhcHBlbmRlciBoYXMgYmVlbiBpbml0aWFsaXplZFwiKTtyZXR1cm4gZmFsc2U7fVxyXG5yZXR1cm4gdHJ1ZTt9O3ZhciBjb25zb2xlV2luZG93RXhpc3RzPWZ1bmN0aW9uKCl7cmV0dXJuKGNvbnNvbGVXaW5kb3dMb2FkZWQmJmlzU3VwcG9ydGVkJiYhY29uc29sZUNsb3NlZCk7fTt0aGlzLmlzTmV3ZXN0TWVzc2FnZUF0VG9wPWZ1bmN0aW9uKCl7cmV0dXJuIG5ld2VzdE1lc3NhZ2VBdFRvcDt9O3RoaXMuc2V0TmV3ZXN0TWVzc2FnZUF0VG9wPWZ1bmN0aW9uKG5ld2VzdE1lc3NhZ2VBdFRvcFBhcmFtKXtuZXdlc3RNZXNzYWdlQXRUb3A9Ym9vbChuZXdlc3RNZXNzYWdlQXRUb3BQYXJhbSk7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXtnZXRDb25zb2xlV2luZG93KCkuc2V0TmV3ZXN0QXRUb3AobmV3ZXN0TWVzc2FnZUF0VG9wKTt9fTt0aGlzLmlzU2Nyb2xsVG9MYXRlc3RNZXNzYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHNjcm9sbFRvTGF0ZXN0TWVzc2FnZTt9O3RoaXMuc2V0U2Nyb2xsVG9MYXRlc3RNZXNzYWdlPWZ1bmN0aW9uKHNjcm9sbFRvTGF0ZXN0TWVzc2FnZVBhcmFtKXtzY3JvbGxUb0xhdGVzdE1lc3NhZ2U9Ym9vbChzY3JvbGxUb0xhdGVzdE1lc3NhZ2VQYXJhbSk7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXtnZXRDb25zb2xlV2luZG93KCkuc2V0U2Nyb2xsVG9MYXRlc3Qoc2Nyb2xsVG9MYXRlc3RNZXNzYWdlKTt9fTt0aGlzLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHdpZHRoO307dGhpcy5zZXRXaWR0aD1mdW5jdGlvbih3aWR0aFBhcmFtKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcIndpZHRoXCIpKXt3aWR0aD1leHRyYWN0U3RyaW5nRnJvbVBhcmFtKHdpZHRoUGFyYW0sd2lkdGgpO319O3RoaXMuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIGhlaWdodDt9O3RoaXMuc2V0SGVpZ2h0PWZ1bmN0aW9uKGhlaWdodFBhcmFtKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcImhlaWdodFwiKSl7aGVpZ2h0PWV4dHJhY3RTdHJpbmdGcm9tUGFyYW0oaGVpZ2h0UGFyYW0saGVpZ2h0KTt9fTt0aGlzLmdldE1heE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIG1heE1lc3NhZ2VzO307dGhpcy5zZXRNYXhNZXNzYWdlcz1mdW5jdGlvbihtYXhNZXNzYWdlc1BhcmFtKXttYXhNZXNzYWdlcz1leHRyYWN0SW50RnJvbVBhcmFtKG1heE1lc3NhZ2VzUGFyYW0sbWF4TWVzc2FnZXMpO2lmKGNvbnNvbGVXaW5kb3dFeGlzdHMoKSl7Z2V0Q29uc29sZVdpbmRvdygpLnNldE1heE1lc3NhZ2VzKG1heE1lc3NhZ2VzKTt9fTt0aGlzLmlzU2hvd0NvbW1hbmRMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHNob3dDb21tYW5kTGluZTt9O3RoaXMuc2V0U2hvd0NvbW1hbmRMaW5lPWZ1bmN0aW9uKHNob3dDb21tYW5kTGluZVBhcmFtKXtzaG93Q29tbWFuZExpbmU9Ym9vbChzaG93Q29tbWFuZExpbmVQYXJhbSk7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXtnZXRDb25zb2xlV2luZG93KCkuc2V0U2hvd0NvbW1hbmRMaW5lKHNob3dDb21tYW5kTGluZSk7fX07dGhpcy5pc1Nob3dIaWRlQnV0dG9uPWZ1bmN0aW9uKCl7cmV0dXJuIHNob3dIaWRlQnV0dG9uO307dGhpcy5zZXRTaG93SGlkZUJ1dHRvbj1mdW5jdGlvbihzaG93SGlkZUJ1dHRvblBhcmFtKXtzaG93SGlkZUJ1dHRvbj1ib29sKHNob3dIaWRlQnV0dG9uUGFyYW0pO2lmKGNvbnNvbGVXaW5kb3dFeGlzdHMoKSl7Z2V0Q29uc29sZVdpbmRvdygpLnNldFNob3dIaWRlQnV0dG9uKHNob3dIaWRlQnV0dG9uKTt9fTt0aGlzLmlzU2hvd0Nsb3NlQnV0dG9uPWZ1bmN0aW9uKCl7cmV0dXJuIHNob3dDbG9zZUJ1dHRvbjt9O3RoaXMuc2V0U2hvd0Nsb3NlQnV0dG9uPWZ1bmN0aW9uKHNob3dDbG9zZUJ1dHRvblBhcmFtKXtzaG93Q2xvc2VCdXR0b249Ym9vbChzaG93Q2xvc2VCdXR0b25QYXJhbSk7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXtnZXRDb25zb2xlV2luZG93KCkuc2V0U2hvd0Nsb3NlQnV0dG9uKHNob3dDbG9zZUJ1dHRvbik7fX07dGhpcy5nZXRDb21tYW5kTGluZU9iamVjdEV4cGFuc2lvbkRlcHRoPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGg7fTt0aGlzLnNldENvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGg9ZnVuY3Rpb24oY29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aFBhcmFtKXtjb21tYW5kTGluZU9iamVjdEV4cGFuc2lvbkRlcHRoPWV4dHJhY3RJbnRGcm9tUGFyYW0oY29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aFBhcmFtLGNvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGgpO307dmFyIG1pbmltaXplZD1pbml0aWFsbHlNaW5pbWl6ZWQ7dGhpcy5pc0luaXRpYWxseU1pbmltaXplZD1mdW5jdGlvbigpe3JldHVybiBpbml0aWFsbHlNaW5pbWl6ZWQ7fTt0aGlzLnNldEluaXRpYWxseU1pbmltaXplZD1mdW5jdGlvbihpbml0aWFsbHlNaW5pbWl6ZWRQYXJhbSl7aWYoY2hlY2tDYW5Db25maWd1cmUoXCJpbml0aWFsbHlNaW5pbWl6ZWRcIikpe2luaXRpYWxseU1pbmltaXplZD1ib29sKGluaXRpYWxseU1pbmltaXplZFBhcmFtKTttaW5pbWl6ZWQ9aW5pdGlhbGx5TWluaW1pemVkO319O3RoaXMuaXNVc2VEb2N1bWVudFdyaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHVzZURvY3VtZW50V3JpdGU7fTt0aGlzLnNldFVzZURvY3VtZW50V3JpdGU9ZnVuY3Rpb24odXNlRG9jdW1lbnRXcml0ZVBhcmFtKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcInVzZURvY3VtZW50V3JpdGVcIikpe3VzZURvY3VtZW50V3JpdGU9Ym9vbCh1c2VEb2N1bWVudFdyaXRlUGFyYW0pO319O2Z1bmN0aW9uIFF1ZXVlZExvZ2dpbmdFdmVudChsb2dnaW5nRXZlbnQsZm9ybWF0dGVkTWVzc2FnZSl7dGhpcy5sb2dnaW5nRXZlbnQ9bG9nZ2luZ0V2ZW50O3RoaXMubGV2ZWxOYW1lPWxvZ2dpbmdFdmVudC5sZXZlbC5uYW1lO3RoaXMuZm9ybWF0dGVkTWVzc2FnZT1mb3JtYXR0ZWRNZXNzYWdlO31cclxuUXVldWVkTG9nZ2luZ0V2ZW50LnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oKXtnZXRDb25zb2xlV2luZG93KCkubG9nKHRoaXMubGV2ZWxOYW1lLHRoaXMuZm9ybWF0dGVkTWVzc2FnZSk7fTtmdW5jdGlvbiBRdWV1ZWRHcm91cChuYW1lLGluaXRpYWxseUV4cGFuZGVkKXt0aGlzLm5hbWU9bmFtZTt0aGlzLmluaXRpYWxseUV4cGFuZGVkPWluaXRpYWxseUV4cGFuZGVkO31cclxuUXVldWVkR3JvdXAucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbigpe2dldENvbnNvbGVXaW5kb3coKS5ncm91cCh0aGlzLm5hbWUsdGhpcy5pbml0aWFsbHlFeHBhbmRlZCk7fTtmdW5jdGlvbiBRdWV1ZWRHcm91cEVuZCgpe31cclxuUXVldWVkR3JvdXBFbmQucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbigpe2dldENvbnNvbGVXaW5kb3coKS5ncm91cEVuZCgpO307dmFyIGNoZWNrQW5kQXBwZW5kPWZ1bmN0aW9uKCl7c2FmZVRvQXBwZW5kKCk7aWYoIWluaXRpYWxpemVkKXtpbml0KCk7fWVsc2UgaWYoY29uc29sZUNsb3NlZCYmcmVvcGVuV2hlbkNsb3NlZCl7Y3JlYXRlV2luZG93KCk7fVxyXG5pZihzYWZlVG9BcHBlbmQoKSl7YXBwZW5kUXVldWVkTG9nZ2luZ0V2ZW50cygpO319O3RoaXMuYXBwZW5kPWZ1bmN0aW9uKGxvZ2dpbmdFdmVudCl7aWYoaXNTdXBwb3J0ZWQpe3ZhciBmb3JtYXR0ZWRNZXNzYWdlPWFwcGVuZGVyLmdldExheW91dCgpLmZvcm1hdFdpdGhFeGNlcHRpb24obG9nZ2luZ0V2ZW50KTtxdWV1ZWRMb2dnaW5nRXZlbnRzLnB1c2gobmV3IFF1ZXVlZExvZ2dpbmdFdmVudChsb2dnaW5nRXZlbnQsZm9ybWF0dGVkTWVzc2FnZSkpO2NoZWNrQW5kQXBwZW5kKCk7fX07dGhpcy5ncm91cD1mdW5jdGlvbihuYW1lLGluaXRpYWxseUV4cGFuZGVkKXtpZihpc1N1cHBvcnRlZCl7cXVldWVkTG9nZ2luZ0V2ZW50cy5wdXNoKG5ldyBRdWV1ZWRHcm91cChuYW1lLGluaXRpYWxseUV4cGFuZGVkKSk7Y2hlY2tBbmRBcHBlbmQoKTt9fTt0aGlzLmdyb3VwRW5kPWZ1bmN0aW9uKCl7aWYoaXNTdXBwb3J0ZWQpe3F1ZXVlZExvZ2dpbmdFdmVudHMucHVzaChuZXcgUXVldWVkR3JvdXBFbmQoKSk7Y2hlY2tBbmRBcHBlbmQoKTt9fTt2YXIgYXBwZW5kUXVldWVkTG9nZ2luZ0V2ZW50cz1mdW5jdGlvbigpe3ZhciBjdXJyZW50TG9nZ2luZ0V2ZW50O3doaWxlKHF1ZXVlZExvZ2dpbmdFdmVudHMubGVuZ3RoPjApe3F1ZXVlZExvZ2dpbmdFdmVudHMuc2hpZnQoKS5hcHBlbmQoKTt9XHJcbmlmKGZvY3VzQ29uc29sZVdpbmRvdyl7Z2V0Q29uc29sZVdpbmRvdygpLmZvY3VzKCk7fX07dGhpcy5zZXRBZGRlZFRvTG9nZ2VyPWZ1bmN0aW9uKGxvZ2dlcil7dGhpcy5sb2dnZXJzLnB1c2gobG9nZ2VyKTtpZihlbmFibGVkJiYhbGF6eUluaXQpe2luaXQoKTt9fTt0aGlzLmNsZWFyPWZ1bmN0aW9uKCl7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXtnZXRDb25zb2xlV2luZG93KCkuY2xlYXJMb2coKTt9XHJcbnF1ZXVlZExvZ2dpbmdFdmVudHMubGVuZ3RoPTA7fTt0aGlzLmZvY3VzPWZ1bmN0aW9uKCl7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXtnZXRDb25zb2xlV2luZG93KCkuZm9jdXMoKTt9fTt0aGlzLmZvY3VzQ29tbWFuZExpbmU9ZnVuY3Rpb24oKXtpZihjb25zb2xlV2luZG93RXhpc3RzKCkpe2dldENvbnNvbGVXaW5kb3coKS5mb2N1c0NvbW1hbmRMaW5lKCk7fX07dGhpcy5mb2N1c1NlYXJjaD1mdW5jdGlvbigpe2lmKGNvbnNvbGVXaW5kb3dFeGlzdHMoKSl7Z2V0Q29uc29sZVdpbmRvdygpLmZvY3VzU2VhcmNoKCk7fX07dmFyIGNvbW1hbmRXaW5kb3c9d2luZG93O3RoaXMuZ2V0Q29tbWFuZFdpbmRvdz1mdW5jdGlvbigpe3JldHVybiBjb21tYW5kV2luZG93O307dGhpcy5zZXRDb21tYW5kV2luZG93PWZ1bmN0aW9uKGNvbW1hbmRXaW5kb3dQYXJhbSl7Y29tbWFuZFdpbmRvdz1jb21tYW5kV2luZG93UGFyYW07fTt0aGlzLmV4ZWN1dGVMYXN0Q29tbWFuZD1mdW5jdGlvbigpe2lmKGNvbnNvbGVXaW5kb3dFeGlzdHMoKSl7Z2V0Q29uc29sZVdpbmRvdygpLmV2YWxMYXN0Q29tbWFuZCgpO319O3ZhciBjb21tYW5kTGF5b3V0PW5ldyBQYXR0ZXJuTGF5b3V0KFwiJW1cIik7dGhpcy5nZXRDb21tYW5kTGF5b3V0PWZ1bmN0aW9uKCl7cmV0dXJuIGNvbW1hbmRMYXlvdXQ7fTt0aGlzLnNldENvbW1hbmRMYXlvdXQ9ZnVuY3Rpb24oY29tbWFuZExheW91dFBhcmFtKXtjb21tYW5kTGF5b3V0PWNvbW1hbmRMYXlvdXRQYXJhbTt9O3RoaXMuZXZhbENvbW1hbmRBbmRBcHBlbmQ9ZnVuY3Rpb24oZXhwcil7dmFyIGNvbW1hbmRSZXR1cm5WYWx1ZT17YXBwZW5kUmVzdWx0OnRydWUsaXNFcnJvcjpmYWxzZX07dmFyIGNvbW1hbmRPdXRwdXQ9XCJcIjt0cnl7dmFyIHJlc3VsdCxpO2lmKCFjb21tYW5kV2luZG93LmV2YWwmJmNvbW1hbmRXaW5kb3cuZXhlY1NjcmlwdCl7Y29tbWFuZFdpbmRvdy5leGVjU2NyaXB0KFwibnVsbFwiKTt9XHJcbnZhciBjb21tYW5kTGluZUZ1bmN0aW9uc0hhc2g9e307Zm9yKGk9MCxsZW49Y29tbWFuZExpbmVGdW5jdGlvbnMubGVuZ3RoO2k8bGVuO2krKyl7Y29tbWFuZExpbmVGdW5jdGlvbnNIYXNoW2NvbW1hbmRMaW5lRnVuY3Rpb25zW2ldWzBdXT1jb21tYW5kTGluZUZ1bmN0aW9uc1tpXVsxXTt9XHJcbnZhciBvYmplY3RzVG9SZXN0b3JlPVtdO3ZhciBhZGRPYmplY3RUb1Jlc3RvcmU9ZnVuY3Rpb24obmFtZSl7b2JqZWN0c1RvUmVzdG9yZS5wdXNoKFtuYW1lLGNvbW1hbmRXaW5kb3dbbmFtZV1dKTt9O2FkZE9iamVjdFRvUmVzdG9yZShcImFwcGVuZGVyXCIpO2NvbW1hbmRXaW5kb3cuYXBwZW5kZXI9YXBwZW5kZXI7YWRkT2JqZWN0VG9SZXN0b3JlKFwiY29tbWFuZFJldHVyblZhbHVlXCIpO2NvbW1hbmRXaW5kb3cuY29tbWFuZFJldHVyblZhbHVlPWNvbW1hbmRSZXR1cm5WYWx1ZTthZGRPYmplY3RUb1Jlc3RvcmUoXCJjb21tYW5kTGluZUZ1bmN0aW9uc0hhc2hcIik7Y29tbWFuZFdpbmRvdy5jb21tYW5kTGluZUZ1bmN0aW9uc0hhc2g9Y29tbWFuZExpbmVGdW5jdGlvbnNIYXNoO3ZhciBhZGRGdW5jdGlvblRvV2luZG93PWZ1bmN0aW9uKG5hbWUpe2FkZE9iamVjdFRvUmVzdG9yZShuYW1lKTtjb21tYW5kV2luZG93W25hbWVdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tbWFuZExpbmVGdW5jdGlvbnNIYXNoW25hbWVdKGFwcGVuZGVyLGFyZ3VtZW50cyxjb21tYW5kUmV0dXJuVmFsdWUpO307fTtmb3IoaT0wLGxlbj1jb21tYW5kTGluZUZ1bmN0aW9ucy5sZW5ndGg7aTxsZW47aSsrKXthZGRGdW5jdGlvblRvV2luZG93KGNvbW1hbmRMaW5lRnVuY3Rpb25zW2ldWzBdKTt9XHJcbmlmKGNvbW1hbmRXaW5kb3c9PT13aW5kb3cmJmNvbW1hbmRXaW5kb3cuZXhlY1NjcmlwdCl7YWRkT2JqZWN0VG9SZXN0b3JlKFwiZXZhbEV4cHJcIik7YWRkT2JqZWN0VG9SZXN0b3JlKFwicmVzdWx0XCIpO3dpbmRvdy5ldmFsRXhwcj1leHByO2NvbW1hbmRXaW5kb3cuZXhlY1NjcmlwdChcIndpbmRvdy5yZXN1bHQ9ZXZhbCh3aW5kb3cuZXZhbEV4cHIpO1wiKTtyZXN1bHQ9d2luZG93LnJlc3VsdDt9ZWxzZXtyZXN1bHQ9Y29tbWFuZFdpbmRvdy5ldmFsKGV4cHIpO31cclxuY29tbWFuZE91dHB1dD1pc1VuZGVmaW5lZChyZXN1bHQpP3Jlc3VsdDpmb3JtYXRPYmplY3RFeHBhbnNpb24ocmVzdWx0LGNvbW1hbmRMaW5lT2JqZWN0RXhwYW5zaW9uRGVwdGgpO2ZvcihpPTAsbGVuPW9iamVjdHNUb1Jlc3RvcmUubGVuZ3RoO2k8bGVuO2krKyl7Y29tbWFuZFdpbmRvd1tvYmplY3RzVG9SZXN0b3JlW2ldWzBdXT1vYmplY3RzVG9SZXN0b3JlW2ldWzFdO319Y2F0Y2goZXgpe2NvbW1hbmRPdXRwdXQ9XCJFcnJvciBldmFsdWF0aW5nIGNvbW1hbmQ6IFwiK2dldEV4Y2VwdGlvblN0cmluZ1JlcChleCk7Y29tbWFuZFJldHVyblZhbHVlLmlzRXJyb3I9dHJ1ZTt9XHJcbmlmKGNvbW1hbmRSZXR1cm5WYWx1ZS5hcHBlbmRSZXN1bHQpe3ZhciBtZXNzYWdlPVwiPj4+IFwiK2V4cHI7aWYoIWlzVW5kZWZpbmVkKGNvbW1hbmRPdXRwdXQpKXttZXNzYWdlKz1uZXdMaW5lK2NvbW1hbmRPdXRwdXQ7fVxyXG52YXIgbGV2ZWw9Y29tbWFuZFJldHVyblZhbHVlLmlzRXJyb3I/TGV2ZWwuRVJST1I6TGV2ZWwuSU5GTzt2YXIgbG9nZ2luZ0V2ZW50PW5ldyBMb2dnaW5nRXZlbnQobnVsbCxuZXcgRGF0ZSgpLGxldmVsLFttZXNzYWdlXSxudWxsKTt2YXIgbWFpbkxheW91dD10aGlzLmdldExheW91dCgpO3RoaXMuc2V0TGF5b3V0KGNvbW1hbmRMYXlvdXQpO3RoaXMuYXBwZW5kKGxvZ2dpbmdFdmVudCk7dGhpcy5zZXRMYXlvdXQobWFpbkxheW91dCk7fX07dmFyIGNvbW1hbmRMaW5lRnVuY3Rpb25zPWRlZmF1bHRDb21tYW5kTGluZUZ1bmN0aW9ucy5jb25jYXQoW10pO3RoaXMuYWRkQ29tbWFuZExpbmVGdW5jdGlvbj1mdW5jdGlvbihmdW5jdGlvbk5hbWUsY29tbWFuZExpbmVGdW5jdGlvbil7Y29tbWFuZExpbmVGdW5jdGlvbnMucHVzaChbZnVuY3Rpb25OYW1lLGNvbW1hbmRMaW5lRnVuY3Rpb25dKTt9O3ZhciBjb21tYW5kSGlzdG9yeUNvb2tpZU5hbWU9XCJsb2c0amF2YXNjcmlwdENvbW1hbmRIaXN0b3J5XCI7dGhpcy5zdG9yZUNvbW1hbmRIaXN0b3J5PWZ1bmN0aW9uKGNvbW1hbmRIaXN0b3J5KXtzZXRDb29raWUoY29tbWFuZEhpc3RvcnlDb29raWVOYW1lLGNvbW1hbmRIaXN0b3J5LmpvaW4oXCIsXCIpKTt9O3ZhciB3cml0ZUh0bWw9ZnVuY3Rpb24oZG9jKXt2YXIgbGluZXM9Z2V0Q29uc29sZUh0bWxMaW5lcygpO2RvYy5vcGVuKCk7Zm9yKHZhciBpPTAsbGVuPWxpbmVzLmxlbmd0aDtpPGxlbjtpKyspe2RvYy53cml0ZWxuKGxpbmVzW2ldKTt9XHJcbmRvYy5jbG9zZSgpO307dGhpcy5zZXRFdmVudFR5cGVzKFtcImxvYWRcIixcInVubG9hZFwiXSk7dmFyIGNvbnNvbGVXaW5kb3dMb2FkSGFuZGxlcj1mdW5jdGlvbigpe3ZhciB3aW49Z2V0Q29uc29sZVdpbmRvdygpO3dpbi5zZXRBcHBlbmRlcihhcHBlbmRlcik7d2luLnNldE5ld2VzdEF0VG9wKG5ld2VzdE1lc3NhZ2VBdFRvcCk7d2luLnNldFNjcm9sbFRvTGF0ZXN0KHNjcm9sbFRvTGF0ZXN0TWVzc2FnZSk7d2luLnNldE1heE1lc3NhZ2VzKG1heE1lc3NhZ2VzKTt3aW4uc2V0U2hvd0NvbW1hbmRMaW5lKHNob3dDb21tYW5kTGluZSk7d2luLnNldFNob3dIaWRlQnV0dG9uKHNob3dIaWRlQnV0dG9uKTt3aW4uc2V0U2hvd0Nsb3NlQnV0dG9uKHNob3dDbG9zZUJ1dHRvbik7d2luLnNldE1haW5XaW5kb3cod2luZG93KTt2YXIgc3RvcmVkVmFsdWU9Z2V0Q29va2llKGNvbW1hbmRIaXN0b3J5Q29va2llTmFtZSk7aWYoc3RvcmVkVmFsdWUpe3dpbi5jb21tYW5kSGlzdG9yeT1zdG9yZWRWYWx1ZS5zcGxpdChcIixcIik7d2luLmN1cnJlbnRDb21tYW5kSW5kZXg9d2luLmNvbW1hbmRIaXN0b3J5Lmxlbmd0aDt9XHJcbmFwcGVuZGVyLmRpc3BhdGNoRXZlbnQoXCJsb2FkXCIse1wid2luXCI6d2lufSk7fTt0aGlzLnVubG9hZD1mdW5jdGlvbigpe2xvZ0xvZy5kZWJ1ZyhcInVubG9hZCBcIit0aGlzK1wiLCBjYWxsZXI6IFwiK3RoaXMudW5sb2FkLmNhbGxlcik7aWYoIWNvbnNvbGVDbG9zZWQpe2xvZ0xvZy5kZWJ1ZyhcInJlYWxseSBkb2luZyB1bmxvYWQgXCIrdGhpcyk7Y29uc29sZUNsb3NlZD10cnVlO2NvbnNvbGVXaW5kb3dMb2FkZWQ9ZmFsc2U7Y29uc29sZVdpbmRvd0NyZWF0ZWQ9ZmFsc2U7YXBwZW5kZXIuZGlzcGF0Y2hFdmVudChcInVubG9hZFwiLHt9KTt9fTt2YXIgcG9sbENvbnNvbGVXaW5kb3c9ZnVuY3Rpb24od2luZG93VGVzdCxpbnRlcnZhbCxzdWNjZXNzQ2FsbGJhY2ssZXJyb3JNZXNzYWdlKXtmdW5jdGlvbiBkb1BvbGwoKXt0cnl7aWYoY29uc29sZUNsb3NlZCl7Y2xlYXJJbnRlcnZhbChwb2xsKTt9XHJcbmlmKHdpbmRvd1Rlc3QoZ2V0Q29uc29sZVdpbmRvdygpKSl7Y2xlYXJJbnRlcnZhbChwb2xsKTtzdWNjZXNzQ2FsbGJhY2soKTt9fWNhdGNoKGV4KXtjbGVhckludGVydmFsKHBvbGwpO2lzU3VwcG9ydGVkPWZhbHNlO2hhbmRsZUVycm9yKGVycm9yTWVzc2FnZSxleCk7fX1cclxudmFyIHBvbGw9c2V0SW50ZXJ2YWwoZG9Qb2xsLGludGVydmFsKTt9O3ZhciBnZXRDb25zb2xlVXJsPWZ1bmN0aW9uKCl7dmFyIGRvY3VtZW50RG9tYWluU2V0PShkb2N1bWVudC5kb21haW4hPWxvY2F0aW9uLmhvc3RuYW1lKTtyZXR1cm4gdXNlRG9jdW1lbnRXcml0ZT9cIlwiOmdldEJhc2VVcmwoKStcImNvbnNvbGUuaHRtbFwiK1xyXG4oZG9jdW1lbnREb21haW5TZXQ/XCI/bG9nNGphdmFzY3JpcHRfZG9tYWluPVwiK2VzY2FwZShkb2N1bWVudC5kb21haW4pOlwiXCIpO307aWYoaW5QYWdlKXt2YXIgY29udGFpbmVyRWxlbWVudD1udWxsO3ZhciBjc3NQcm9wZXJ0aWVzPVtdO3RoaXMuYWRkQ3NzUHJvcGVydHk9ZnVuY3Rpb24obmFtZSx2YWx1ZSl7aWYoY2hlY2tDYW5Db25maWd1cmUoXCJjc3NQcm9wZXJ0aWVzXCIpKXtjc3NQcm9wZXJ0aWVzLnB1c2goW25hbWUsdmFsdWVdKTt9fTt2YXIgd2luZG93Q3JlYXRpb25TdGFydGVkPWZhbHNlO3ZhciBpZnJhbWVDb250YWluZXJEaXY7dmFyIGlmcmFtZUlkPXVuaXF1ZUlkK1wiX0luUGFnZUFwcGVuZGVyX1wiK2NvbnNvbGVBcHBlbmRlcklkO3RoaXMuaGlkZT1mdW5jdGlvbigpe2lmKGluaXRpYWxpemVkJiZjb25zb2xlV2luZG93Q3JlYXRlZCl7aWYoY29uc29sZVdpbmRvd0V4aXN0cygpKXtnZXRDb25zb2xlV2luZG93KCkuJChcImNvbW1hbmRcIikuYmx1cigpO31cclxuaWZyYW1lQ29udGFpbmVyRGl2LnN0eWxlLmRpc3BsYXk9XCJub25lXCI7bWluaW1pemVkPXRydWU7fX07dGhpcy5zaG93PWZ1bmN0aW9uKCl7aWYoaW5pdGlhbGl6ZWQpe2lmKGNvbnNvbGVXaW5kb3dDcmVhdGVkKXtpZnJhbWVDb250YWluZXJEaXYuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7dGhpcy5zZXRTaG93Q29tbWFuZExpbmUoc2hvd0NvbW1hbmRMaW5lKTttaW5pbWl6ZWQ9ZmFsc2U7fWVsc2UgaWYoIXdpbmRvd0NyZWF0aW9uU3RhcnRlZCl7Y3JlYXRlV2luZG93KHRydWUpO319fTt0aGlzLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiFtaW5pbWl6ZWQmJiFjb25zb2xlQ2xvc2VkO307dGhpcy5jbG9zZT1mdW5jdGlvbihmcm9tQnV0dG9uKXtpZighY29uc29sZUNsb3NlZCYmKCFmcm9tQnV0dG9ufHxjb25maXJtKFwiVGhpcyB3aWxsIHBlcm1hbmVudGx5IHJlbW92ZSB0aGUgY29uc29sZSBmcm9tIHRoZSBwYWdlLiBObyBtb3JlIG1lc3NhZ2VzIHdpbGwgYmUgbG9nZ2VkLiBEbyB5b3Ugd2lzaCB0byBjb250aW51ZT9cIikpKXtpZnJhbWVDb250YWluZXJEaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWVDb250YWluZXJEaXYpO3RoaXMudW5sb2FkKCk7fX07b3Blbj1mdW5jdGlvbigpe3ZhciBpbml0RXJyb3JNZXNzYWdlPVwiSW5QYWdlQXBwZW5kZXIub3BlbjogdW5hYmxlIHRvIGNyZWF0ZSBjb25zb2xlIGlmcmFtZVwiO2Z1bmN0aW9uIGZpbmFsSW5pdCgpe3RyeXtpZighaW5pdGlhbGx5TWluaW1pemVkKXthcHBlbmRlci5zaG93KCk7fVxyXG5jb25zb2xlV2luZG93TG9hZEhhbmRsZXIoKTtjb25zb2xlV2luZG93TG9hZGVkPXRydWU7YXBwZW5kUXVldWVkTG9nZ2luZ0V2ZW50cygpO31jYXRjaChleCl7aXNTdXBwb3J0ZWQ9ZmFsc2U7aGFuZGxlRXJyb3IoaW5pdEVycm9yTWVzc2FnZSxleCk7fX1cclxuZnVuY3Rpb24gd3JpdGVUb0RvY3VtZW50KCl7dHJ5e3ZhciB3aW5kb3dUZXN0PWZ1bmN0aW9uKHdpbil7cmV0dXJuIGlzTG9hZGVkKHdpbik7fTtpZih1c2VEb2N1bWVudFdyaXRlKXt3cml0ZUh0bWwoZ2V0Q29uc29sZVdpbmRvdygpLmRvY3VtZW50KTt9XHJcbmlmKHdpbmRvd1Rlc3QoZ2V0Q29uc29sZVdpbmRvdygpKSl7ZmluYWxJbml0KCk7fWVsc2V7cG9sbENvbnNvbGVXaW5kb3cod2luZG93VGVzdCwxMDAsZmluYWxJbml0LGluaXRFcnJvck1lc3NhZ2UpO319Y2F0Y2goZXgpe2lzU3VwcG9ydGVkPWZhbHNlO2hhbmRsZUVycm9yKGluaXRFcnJvck1lc3NhZ2UsZXgpO319XHJcbm1pbmltaXplZD1mYWxzZTtpZnJhbWVDb250YWluZXJEaXY9Y29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtpZnJhbWVDb250YWluZXJEaXYuc3R5bGUud2lkdGg9d2lkdGg7aWZyYW1lQ29udGFpbmVyRGl2LnN0eWxlLmhlaWdodD1oZWlnaHQ7aWZyYW1lQ29udGFpbmVyRGl2LnN0eWxlLmJvcmRlcj1cInNvbGlkIGdyYXkgMXB4XCI7Zm9yKHZhciBpPTAsbGVuPWNzc1Byb3BlcnRpZXMubGVuZ3RoO2k8bGVuO2krKyl7aWZyYW1lQ29udGFpbmVyRGl2LnN0eWxlW2Nzc1Byb3BlcnRpZXNbaV1bMF1dPWNzc1Byb3BlcnRpZXNbaV1bMV07fVxyXG52YXIgaWZyYW1lU3JjPXVzZURvY3VtZW50V3JpdGU/XCJcIjpcIiBzcmM9J1wiK2dldENvbnNvbGVVcmwoKStcIidcIjtpZnJhbWVDb250YWluZXJEaXYuaW5uZXJIVE1MPVwiPGlmcmFtZSBpZD0nXCIraWZyYW1lSWQrXCInIG5hbWU9J1wiK2lmcmFtZUlkK1wiJyB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyBmcmFtZWJvcmRlcj0nMCdcIitpZnJhbWVTcmMrXCIgc2Nyb2xsaW5nPSdubyc+PC9pZnJhbWU+XCI7Y29uc29sZUNsb3NlZD1mYWxzZTt2YXIgaWZyYW1lRG9jdW1lbnRFeGlzdHNUZXN0PWZ1bmN0aW9uKHdpbil7dHJ5e3JldHVybiBib29sKHdpbikmJmJvb2wod2luLmRvY3VtZW50KTt9Y2F0Y2goZXgpe3JldHVybiBmYWxzZTt9fTtpZihpZnJhbWVEb2N1bWVudEV4aXN0c1Rlc3QoZ2V0Q29uc29sZVdpbmRvdygpKSl7d3JpdGVUb0RvY3VtZW50KCk7fWVsc2V7cG9sbENvbnNvbGVXaW5kb3coaWZyYW1lRG9jdW1lbnRFeGlzdHNUZXN0LDEwMCx3cml0ZVRvRG9jdW1lbnQsaW5pdEVycm9yTWVzc2FnZSk7fVxyXG5jb25zb2xlV2luZG93Q3JlYXRlZD10cnVlO307Y3JlYXRlV2luZG93PWZ1bmN0aW9uKHNob3cpe2lmKHNob3d8fCFpbml0aWFsbHlNaW5pbWl6ZWQpe3ZhciBwYWdlTG9hZEhhbmRsZXI9ZnVuY3Rpb24oKXtpZighY29udGFpbmVyKXtjb250YWluZXJFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Y29udGFpbmVyRWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cImZpeGVkXCI7Y29udGFpbmVyRWxlbWVudC5zdHlsZS5sZWZ0PVwiMFwiO2NvbnRhaW5lckVsZW1lbnQuc3R5bGUucmlnaHQ9XCIwXCI7Y29udGFpbmVyRWxlbWVudC5zdHlsZS5ib3R0b209XCIwXCI7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXJFbGVtZW50KTthcHBlbmRlci5hZGRDc3NQcm9wZXJ0eShcImJvcmRlcldpZHRoXCIsXCIxcHggMCAwIDBcIik7YXBwZW5kZXIuYWRkQ3NzUHJvcGVydHkoXCJ6SW5kZXhcIiwxMDAwMDAwKTtvcGVuKCk7fWVsc2V7dHJ5e3ZhciBlbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXIpO2lmKGVsLm5vZGVUeXBlPT0xKXtjb250YWluZXJFbGVtZW50PWVsO31cclxub3BlbigpO31jYXRjaChleCl7aGFuZGxlRXJyb3IoXCJJblBhZ2VBcHBlbmRlci5pbml0OiBpbnZhbGlkIGNvbnRhaW5lciBlbGVtZW50ICdcIitjb250YWluZXIrXCInIHN1cHBsaWVkXCIsZXgpO319fTtpZihwYWdlTG9hZGVkJiZjb250YWluZXImJmNvbnRhaW5lci5hcHBlbmRDaGlsZCl7Y29udGFpbmVyRWxlbWVudD1jb250YWluZXI7b3BlbigpO31lbHNlIGlmKHBhZ2VMb2FkZWQpe3BhZ2VMb2FkSGFuZGxlcigpO31lbHNle2xvZzRqYXZhc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIscGFnZUxvYWRIYW5kbGVyKTt9XHJcbndpbmRvd0NyZWF0aW9uU3RhcnRlZD10cnVlO319O2luaXQ9ZnVuY3Rpb24oKXtjcmVhdGVXaW5kb3coKTtpbml0aWFsaXplZD10cnVlO307Z2V0Q29uc29sZVdpbmRvdz1mdW5jdGlvbigpe3ZhciBpZnJhbWU9d2luZG93LmZyYW1lc1tpZnJhbWVJZF07aWYoaWZyYW1lKXtyZXR1cm4gaWZyYW1lO319O3NhZmVUb0FwcGVuZD1mdW5jdGlvbigpe2lmKGlzU3VwcG9ydGVkJiYhY29uc29sZUNsb3NlZCl7aWYoY29uc29sZVdpbmRvd0NyZWF0ZWQmJiFjb25zb2xlV2luZG93TG9hZGVkJiZnZXRDb25zb2xlV2luZG93KCkmJmlzTG9hZGVkKGdldENvbnNvbGVXaW5kb3coKSkpe2NvbnNvbGVXaW5kb3dMb2FkZWQ9dHJ1ZTt9XHJcbnJldHVybiBjb25zb2xlV2luZG93TG9hZGVkO31cclxucmV0dXJuIGZhbHNlO307fWVsc2V7dmFyIHVzZU9sZFBvcFVwPWFwcGVuZGVyLmRlZmF1bHRzLnVzZU9sZFBvcFVwO3ZhciBjb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZz1hcHBlbmRlci5kZWZhdWx0cy5jb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZzt2YXIgcmVvcGVuV2hlbkNsb3NlZD10aGlzLmRlZmF1bHRzLnJlb3BlbldoZW5DbG9zZWQ7dGhpcy5pc1VzZU9sZFBvcFVwPWZ1bmN0aW9uKCl7cmV0dXJuIHVzZU9sZFBvcFVwO307dGhpcy5zZXRVc2VPbGRQb3BVcD1mdW5jdGlvbih1c2VPbGRQb3BVcFBhcmFtKXtpZihjaGVja0NhbkNvbmZpZ3VyZShcInVzZU9sZFBvcFVwXCIpKXt1c2VPbGRQb3BVcD1ib29sKHVzZU9sZFBvcFVwUGFyYW0pO319O3RoaXMuaXNDb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZz1mdW5jdGlvbigpe3JldHVybiBjb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZzt9O3RoaXMuc2V0Q29tcGxhaW5BYm91dFBvcFVwQmxvY2tpbmc9ZnVuY3Rpb24oY29tcGxhaW5BYm91dFBvcFVwQmxvY2tpbmdQYXJhbSl7aWYoY2hlY2tDYW5Db25maWd1cmUoXCJjb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZ1wiKSl7Y29tcGxhaW5BYm91dFBvcFVwQmxvY2tpbmc9Ym9vbChjb21wbGFpbkFib3V0UG9wVXBCbG9ja2luZ1BhcmFtKTt9fTt0aGlzLmlzRm9jdXNQb3BVcD1mdW5jdGlvbigpe3JldHVybiBmb2N1c0NvbnNvbGVXaW5kb3c7fTt0aGlzLnNldEZvY3VzUG9wVXA9ZnVuY3Rpb24oZm9jdXNQb3BVcFBhcmFtKXtmb2N1c0NvbnNvbGVXaW5kb3c9Ym9vbChmb2N1c1BvcFVwUGFyYW0pO307dGhpcy5pc1Jlb3BlbldoZW5DbG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gcmVvcGVuV2hlbkNsb3NlZDt9O3RoaXMuc2V0UmVvcGVuV2hlbkNsb3NlZD1mdW5jdGlvbihyZW9wZW5XaGVuQ2xvc2VkUGFyYW0pe3Jlb3BlbldoZW5DbG9zZWQ9Ym9vbChyZW9wZW5XaGVuQ2xvc2VkUGFyYW0pO307dGhpcy5jbG9zZT1mdW5jdGlvbigpe2xvZ0xvZy5kZWJ1ZyhcImNsb3NlIFwiK3RoaXMpO3RyeXtwb3BVcC5jbG9zZSgpO3RoaXMudW5sb2FkKCk7fWNhdGNoKGV4KXt9fTt0aGlzLmhpZGU9ZnVuY3Rpb24oKXtsb2dMb2cuZGVidWcoXCJoaWRlIFwiK3RoaXMpO2lmKGNvbnNvbGVXaW5kb3dFeGlzdHMoKSl7dGhpcy5jbG9zZSgpO319O3RoaXMuc2hvdz1mdW5jdGlvbigpe2xvZ0xvZy5kZWJ1ZyhcInNob3cgXCIrdGhpcyk7aWYoIWNvbnNvbGVXaW5kb3dDcmVhdGVkKXtvcGVuKCk7fX07dGhpcy5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gc2FmZVRvQXBwZW5kKCk7fTt2YXIgcG9wVXA7b3Blbj1mdW5jdGlvbigpe3ZhciB3aW5kb3dQcm9wZXJ0aWVzPVwid2lkdGg9XCIrd2lkdGgrXCIsaGVpZ2h0PVwiK2hlaWdodCtcIixzdGF0dXMscmVzaXphYmxlXCI7dmFyIGZyYW1lSW5mbz1cIlwiO3RyeXt2YXIgZnJhbWVFbD13aW5kb3cuZnJhbWVFbGVtZW50O2lmKGZyYW1lRWwpe2ZyYW1lSW5mbz1cIl9cIitmcmFtZUVsLnRhZ05hbWUrXCJfXCIrKGZyYW1lRWwubmFtZXx8ZnJhbWVFbC5pZHx8XCJcIik7fX1jYXRjaChlKXtmcmFtZUluZm89XCJfaW5hY2Nlc3NpYmxlUGFyZW50RnJhbWVcIjt9XHJcbnZhciB3aW5kb3dOYW1lPVwiUG9wVXBfXCIrbG9jYXRpb24uaG9zdC5yZXBsYWNlKC9bXmEtejAtOV0vZ2ksXCJfXCIpK1wiX1wiK2NvbnNvbGVBcHBlbmRlcklkK2ZyYW1lSW5mbztpZighdXNlT2xkUG9wVXB8fCF1c2VEb2N1bWVudFdyaXRlKXt3aW5kb3dOYW1lPXdpbmRvd05hbWUrXCJfXCIrdW5pcXVlSWQ7fVxyXG52YXIgY2hlY2tQb3BVcENsb3NlZD1mdW5jdGlvbih3aW4pe2lmKGNvbnNvbGVDbG9zZWQpe3JldHVybiB0cnVlO31lbHNle3RyeXtyZXR1cm4gYm9vbCh3aW4pJiZ3aW4uY2xvc2VkO31jYXRjaChleCl7fX1cclxucmV0dXJuIGZhbHNlO307dmFyIHBvcFVwQ2xvc2VkQ2FsbGJhY2s9ZnVuY3Rpb24oKXtpZighY29uc29sZUNsb3NlZCl7YXBwZW5kZXIudW5sb2FkKCk7fX07ZnVuY3Rpb24gZmluYWxJbml0KCl7Z2V0Q29uc29sZVdpbmRvdygpLnNldENsb3NlSWZPcGVuZXJDbG9zZXMoIXVzZU9sZFBvcFVwfHwhdXNlRG9jdW1lbnRXcml0ZSk7Y29uc29sZVdpbmRvd0xvYWRIYW5kbGVyKCk7Y29uc29sZVdpbmRvd0xvYWRlZD10cnVlO2FwcGVuZFF1ZXVlZExvZ2dpbmdFdmVudHMoKTtwb2xsQ29uc29sZVdpbmRvdyhjaGVja1BvcFVwQ2xvc2VkLDUwMCxwb3BVcENsb3NlZENhbGxiYWNrLFwiUG9wVXBBcHBlbmRlci5jaGVja1BvcFVwQ2xvc2VkOiBlcnJvciBjaGVja2luZyBwb3AtdXAgd2luZG93XCIpO31cclxudHJ5e3BvcFVwPXdpbmRvdy5vcGVuKGdldENvbnNvbGVVcmwoKSx3aW5kb3dOYW1lLHdpbmRvd1Byb3BlcnRpZXMpO2NvbnNvbGVDbG9zZWQ9ZmFsc2U7Y29uc29sZVdpbmRvd0NyZWF0ZWQ9dHJ1ZTtpZihwb3BVcCYmcG9wVXAuZG9jdW1lbnQpe2lmKHVzZURvY3VtZW50V3JpdGUmJnVzZU9sZFBvcFVwJiZpc0xvYWRlZChwb3BVcCkpe3BvcFVwLm1haW5QYWdlUmVsb2FkZWQoKTtmaW5hbEluaXQoKTt9ZWxzZXtpZih1c2VEb2N1bWVudFdyaXRlKXt3cml0ZUh0bWwocG9wVXAuZG9jdW1lbnQpO31cclxudmFyIHBvcFVwTG9hZGVkVGVzdD1mdW5jdGlvbih3aW4pe3JldHVybiBib29sKHdpbikmJmlzTG9hZGVkKHdpbik7fTtpZihpc0xvYWRlZChwb3BVcCkpe2ZpbmFsSW5pdCgpO31lbHNle3BvbGxDb25zb2xlV2luZG93KHBvcFVwTG9hZGVkVGVzdCwxMDAsZmluYWxJbml0LFwiUG9wVXBBcHBlbmRlci5pbml0OiB1bmFibGUgdG8gY3JlYXRlIGNvbnNvbGUgd2luZG93XCIpO319fWVsc2V7aXNTdXBwb3J0ZWQ9ZmFsc2U7bG9nTG9nLndhcm4oXCJQb3BVcEFwcGVuZGVyLmluaXQ6IHBvcC11cHMgYmxvY2tlZCwgcGxlYXNlIHVuYmxvY2sgdG8gdXNlIFBvcFVwQXBwZW5kZXJcIik7aWYoY29tcGxhaW5BYm91dFBvcFVwQmxvY2tpbmcpe2hhbmRsZUVycm9yKFwibG9nNGphdmFzY3JpcHQ6IHBvcC11cCB3aW5kb3dzIGFwcGVhciB0byBiZSBibG9ja2VkLiBQbGVhc2UgdW5ibG9jayB0aGVtIHRvIHVzZSBwb3AtdXAgbG9nZ2luZy5cIik7fX19Y2F0Y2goZXgpe2hhbmRsZUVycm9yKFwiUG9wVXBBcHBlbmRlci5pbml0OiBlcnJvciBjcmVhdGluZyBwb3AtdXBcIixleCk7fX07Y3JlYXRlV2luZG93PWZ1bmN0aW9uKCl7aWYoIWluaXRpYWxseU1pbmltaXplZCl7b3BlbigpO319O2luaXQ9ZnVuY3Rpb24oKXtjcmVhdGVXaW5kb3coKTtpbml0aWFsaXplZD10cnVlO307Z2V0Q29uc29sZVdpbmRvdz1mdW5jdGlvbigpe3JldHVybiBwb3BVcDt9O3NhZmVUb0FwcGVuZD1mdW5jdGlvbigpe2lmKGlzU3VwcG9ydGVkJiYhaXNVbmRlZmluZWQocG9wVXApJiYhY29uc29sZUNsb3NlZCl7aWYocG9wVXAuY2xvc2VkfHwoY29uc29sZVdpbmRvd0xvYWRlZCYmaXNVbmRlZmluZWQocG9wVXAuY2xvc2VkKSkpe2FwcGVuZGVyLnVubG9hZCgpO2xvZ0xvZy5kZWJ1ZyhcIlBvcFVwQXBwZW5kZXI6IHBvcC11cCBjbG9zZWRcIik7cmV0dXJuIGZhbHNlO31cclxuaWYoIWNvbnNvbGVXaW5kb3dMb2FkZWQmJmlzTG9hZGVkKHBvcFVwKSl7Y29uc29sZVdpbmRvd0xvYWRlZD10cnVlO319XHJcbnJldHVybiBpc1N1cHBvcnRlZCYmY29uc29sZVdpbmRvd0xvYWRlZCYmIWNvbnNvbGVDbG9zZWQ7fTt9XHJcbnRoaXMuZ2V0Q29uc29sZVdpbmRvdz1nZXRDb25zb2xlV2luZG93O307Q29uc29sZUFwcGVuZGVyLmFkZEdsb2JhbENvbW1hbmRMaW5lRnVuY3Rpb249ZnVuY3Rpb24oZnVuY3Rpb25OYW1lLGNvbW1hbmRMaW5lRnVuY3Rpb24pe2RlZmF1bHRDb21tYW5kTGluZUZ1bmN0aW9ucy5wdXNoKFtmdW5jdGlvbk5hbWUsY29tbWFuZExpbmVGdW5jdGlvbl0pO307ZnVuY3Rpb24gUG9wVXBBcHBlbmRlcihsYXp5SW5pdCxpbml0aWFsbHlNaW5pbWl6ZWQsdXNlRG9jdW1lbnRXcml0ZSx3aWR0aCxoZWlnaHQpe3RoaXMuY3JlYXRlKGZhbHNlLG51bGwsbGF6eUluaXQsaW5pdGlhbGx5TWluaW1pemVkLHVzZURvY3VtZW50V3JpdGUsd2lkdGgsaGVpZ2h0LHRoaXMuZGVmYXVsdHMuZm9jdXNQb3BVcCk7fVxyXG5Qb3BVcEFwcGVuZGVyLnByb3RvdHlwZT1uZXcgQ29uc29sZUFwcGVuZGVyKCk7UG9wVXBBcHBlbmRlci5wcm90b3R5cGUuZGVmYXVsdHM9e2xheW91dDpuZXcgUGF0dGVybkxheW91dChcIiVke0hIOm1tOnNzfSAlLTVwIC0gJW17MX0lblwiKSxpbml0aWFsbHlNaW5pbWl6ZWQ6ZmFsc2UsZm9jdXNQb3BVcDpmYWxzZSxsYXp5SW5pdDp0cnVlLHVzZU9sZFBvcFVwOnRydWUsY29tcGxhaW5BYm91dFBvcFVwQmxvY2tpbmc6dHJ1ZSxuZXdlc3RNZXNzYWdlQXRUb3A6ZmFsc2Usc2Nyb2xsVG9MYXRlc3RNZXNzYWdlOnRydWUsd2lkdGg6XCI2MDBcIixoZWlnaHQ6XCI0MDBcIixyZW9wZW5XaGVuQ2xvc2VkOmZhbHNlLG1heE1lc3NhZ2VzOm51bGwsc2hvd0NvbW1hbmRMaW5lOnRydWUsY29tbWFuZExpbmVPYmplY3RFeHBhbnNpb25EZXB0aDoxLHNob3dIaWRlQnV0dG9uOmZhbHNlLHNob3dDbG9zZUJ1dHRvbjp0cnVlLHNob3dMb2dFbnRyeURlbGV0ZUJ1dHRvbnM6dHJ1ZSx1c2VEb2N1bWVudFdyaXRlOnRydWV9O1BvcFVwQXBwZW5kZXIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJQb3BVcEFwcGVuZGVyXCI7fTtsb2c0amF2YXNjcmlwdC5Qb3BVcEFwcGVuZGVyPVBvcFVwQXBwZW5kZXI7ZnVuY3Rpb24gSW5QYWdlQXBwZW5kZXIoY29udGFpbmVyLGxhenlJbml0LGluaXRpYWxseU1pbmltaXplZCx1c2VEb2N1bWVudFdyaXRlLHdpZHRoLGhlaWdodCl7dGhpcy5jcmVhdGUodHJ1ZSxjb250YWluZXIsbGF6eUluaXQsaW5pdGlhbGx5TWluaW1pemVkLHVzZURvY3VtZW50V3JpdGUsd2lkdGgsaGVpZ2h0LGZhbHNlKTt9XHJcbkluUGFnZUFwcGVuZGVyLnByb3RvdHlwZT1uZXcgQ29uc29sZUFwcGVuZGVyKCk7SW5QYWdlQXBwZW5kZXIucHJvdG90eXBlLmRlZmF1bHRzPXtsYXlvdXQ6bmV3IFBhdHRlcm5MYXlvdXQoXCIlZHtISDptbTpzc30gJS01cCAtICVtezF9JW5cIiksaW5pdGlhbGx5TWluaW1pemVkOmZhbHNlLGxhenlJbml0OnRydWUsbmV3ZXN0TWVzc2FnZUF0VG9wOmZhbHNlLHNjcm9sbFRvTGF0ZXN0TWVzc2FnZTp0cnVlLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjIyMHB4XCIsbWF4TWVzc2FnZXM6bnVsbCxzaG93Q29tbWFuZExpbmU6dHJ1ZSxjb21tYW5kTGluZU9iamVjdEV4cGFuc2lvbkRlcHRoOjEsc2hvd0hpZGVCdXR0b246ZmFsc2Usc2hvd0Nsb3NlQnV0dG9uOmZhbHNlLHNob3dMb2dFbnRyeURlbGV0ZUJ1dHRvbnM6dHJ1ZSx1c2VEb2N1bWVudFdyaXRlOnRydWV9O0luUGFnZUFwcGVuZGVyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiSW5QYWdlQXBwZW5kZXJcIjt9O2xvZzRqYXZhc2NyaXB0LkluUGFnZUFwcGVuZGVyPUluUGFnZUFwcGVuZGVyO2xvZzRqYXZhc2NyaXB0LklubGluZUFwcGVuZGVyPUluUGFnZUFwcGVuZGVyO30pKCk7ZnVuY3Rpb24gcGFkV2l0aFNwYWNlcyhzdHIsbGVuKXtpZihzdHIubGVuZ3RoPGxlbil7dmFyIHNwYWNlcz1bXTt2YXIgbnVtYmVyT2ZTcGFjZXM9TWF0aC5tYXgoMCxsZW4tc3RyLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxudW1iZXJPZlNwYWNlcztpKyspe3NwYWNlc1tpXT1cIiBcIjt9XHJcbnN0cis9c3BhY2VzLmpvaW4oXCJcIik7fVxyXG5yZXR1cm4gc3RyO31cclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGlyKG9iail7dmFyIG1heExlbj0wO2Zvcih2YXIgcCBpbiBvYmope21heExlbj1NYXRoLm1heCh0b1N0cihwKS5sZW5ndGgsbWF4TGVuKTt9XHJcbnZhciBwcm9wTGlzdD1bXTtmb3IocCBpbiBvYmope3ZhciBwcm9wTmFtZVN0cj1cIiAgXCIrcGFkV2l0aFNwYWNlcyh0b1N0cihwKSxtYXhMZW4rMik7dmFyIHByb3BWYWw7dHJ5e3Byb3BWYWw9c3BsaXRJbnRvTGluZXModG9TdHIob2JqW3BdKSkuam9pbihwYWRXaXRoU3BhY2VzKG5ld0xpbmUsbWF4TGVuKzYpKTt9Y2F0Y2goZXgpe3Byb3BWYWw9XCJbRXJyb3Igb2J0YWluaW5nIHByb3BlcnR5LiBEZXRhaWxzOiBcIitnZXRFeGNlcHRpb25NZXNzYWdlKGV4KStcIl1cIjt9XHJcbnByb3BMaXN0LnB1c2gocHJvcE5hbWVTdHIrcHJvcFZhbCk7fVxyXG5yZXR1cm4gcHJvcExpc3Quam9pbihuZXdMaW5lKTt9XHJcbnZhciBub2RlVHlwZXM9e0VMRU1FTlRfTk9ERToxLEFUVFJJQlVURV9OT0RFOjIsVEVYVF9OT0RFOjMsQ0RBVEFfU0VDVElPTl9OT0RFOjQsRU5USVRZX1JFRkVSRU5DRV9OT0RFOjUsRU5USVRZX05PREU6NixQUk9DRVNTSU5HX0lOU1RSVUNUSU9OX05PREU6NyxDT01NRU5UX05PREU6OCxET0NVTUVOVF9OT0RFOjksRE9DVU1FTlRfVFlQRV9OT0RFOjEwLERPQ1VNRU5UX0ZSQUdNRU5UX05PREU6MTEsTk9UQVRJT05fTk9ERToxMn07dmFyIHByZUZvcm1hdHRlZEVsZW1lbnRzPVtcInNjcmlwdFwiLFwicHJlXCJdO3ZhciBlbXB0eUVsZW1lbnRzPVtcImJyXCIsXCJpbWdcIixcImhyXCIsXCJwYXJhbVwiLFwibGlua1wiLFwiYXJlYVwiLFwiaW5wdXRcIixcImNvbFwiLFwiYmFzZVwiLFwibWV0YVwiXTt2YXIgaW5kZW50YXRpb25Vbml0PVwiICBcIjtmdW5jdGlvbiBnZXRYaHRtbChyb290Tm9kZSxpbmNsdWRlUm9vdE5vZGUsaW5kZW50YXRpb24sc3RhcnROZXdMaW5lLHByZWZvcm1hdHRlZCl7aW5jbHVkZVJvb3ROb2RlPSh0eXBlb2YgaW5jbHVkZVJvb3ROb2RlPT1cInVuZGVmaW5lZFwiKT90cnVlOiEhaW5jbHVkZVJvb3ROb2RlO2lmKHR5cGVvZiBpbmRlbnRhdGlvbiE9XCJzdHJpbmdcIil7aW5kZW50YXRpb249XCJcIjt9XHJcbnN0YXJ0TmV3TGluZT0hIXN0YXJ0TmV3TGluZTtwcmVmb3JtYXR0ZWQ9ISFwcmVmb3JtYXR0ZWQ7dmFyIHhodG1sO2Z1bmN0aW9uIGlzV2hpdGVzcGFjZShub2RlKXtyZXR1cm4oKG5vZGUubm9kZVR5cGU9PW5vZGVUeXBlcy5URVhUX05PREUpJiYvXlsgXFx0XFxyXFxuXSokLy50ZXN0KG5vZGUubm9kZVZhbHVlKSk7fVxyXG5mdW5jdGlvbiBmaXhBdHRyaWJ1dGVWYWx1ZShhdHRyVmFsdWUpe3JldHVybiBhdHRyVmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIik7fVxyXG5mdW5jdGlvbiBnZXRTdHlsZUF0dHJpYnV0ZVZhbHVlKGVsKXt2YXIgc3R5bGVQYWlycz1lbC5zdHlsZS5jc3NUZXh0LnNwbGl0KFwiO1wiKTt2YXIgc3R5bGVWYWx1ZT1cIlwiO3ZhciBpc0ZpcnN0PXRydWU7Zm9yKHZhciBqPTAsbGVuPXN0eWxlUGFpcnMubGVuZ3RoO2o8bGVuO2orKyl7dmFyIG5hbWVWYWx1ZUJpdHM9c3R5bGVQYWlyc1tqXS5zcGxpdChcIjpcIik7dmFyIHByb3BzPVtdO2lmKCEvXlxccyokLy50ZXN0KG5hbWVWYWx1ZUJpdHNbMF0pKXtwcm9wcy5wdXNoKHRyaW0obmFtZVZhbHVlQml0c1swXSkudG9Mb3dlckNhc2UoKStcIjpcIit0cmltKG5hbWVWYWx1ZUJpdHNbMV0pKTt9XHJcbnN0eWxlVmFsdWU9cHJvcHMuam9pbihcIjtcIik7fVxyXG5yZXR1cm4gc3R5bGVWYWx1ZTt9XHJcbmZ1bmN0aW9uIGdldE5hbWVzcGFjZShlbCl7aWYoZWwucHJlZml4KXtyZXR1cm4gZWwucHJlZml4O31lbHNlIGlmKGVsLm91dGVySFRNTCl7dmFyIHJlZ2V4PW5ldyBSZWdFeHAoXCI8KFteOl0rKTpcIitlbC50YWdOYW1lK1wiW14+XSo+XCIsXCJpXCIpO2lmKHJlZ2V4LnRlc3QoZWwub3V0ZXJIVE1MKSl7cmV0dXJuIFJlZ0V4cC4kMS50b0xvd2VyQ2FzZSgpO319XHJcbnJldHVyblwiXCI7fVxyXG52YXIgbHQ9XCI8XCI7dmFyIGd0PVwiPlwiO2lmKGluY2x1ZGVSb290Tm9kZSYmcm9vdE5vZGUubm9kZVR5cGUhPW5vZGVUeXBlcy5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKXtzd2l0Y2gocm9vdE5vZGUubm9kZVR5cGUpe2Nhc2Ugbm9kZVR5cGVzLkVMRU1FTlRfTk9ERTp2YXIgdGFnTmFtZT1yb290Tm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7eGh0bWw9c3RhcnROZXdMaW5lP25ld0xpbmUraW5kZW50YXRpb246XCJcIjt4aHRtbCs9bHQ7dmFyIHByZWZpeD1nZXROYW1lc3BhY2Uocm9vdE5vZGUpO3ZhciBoYXNQcmVmaXg9ISFwcmVmaXg7aWYoaGFzUHJlZml4KXt4aHRtbCs9cHJlZml4K1wiOlwiO31cclxueGh0bWwrPXRhZ05hbWU7Zm9yKGk9MCxsZW49cm9vdE5vZGUuYXR0cmlidXRlcy5sZW5ndGg7aTxsZW47aSsrKXt2YXIgY3VycmVudEF0dHI9cm9vdE5vZGUuYXR0cmlidXRlc1tpXTtpZighY3VycmVudEF0dHIuc3BlY2lmaWVkfHxjdXJyZW50QXR0ci5ub2RlVmFsdWU9PT1udWxsfHxjdXJyZW50QXR0ci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09XCJzdHlsZVwifHx0eXBlb2YgY3VycmVudEF0dHIubm9kZVZhbHVlIT09XCJzdHJpbmdcInx8Y3VycmVudEF0dHIubm9kZU5hbWUuaW5kZXhPZihcIl9tb3pcIik9PT0wKXtjb250aW51ZTt9XHJcbnhodG1sKz1cIiBcIitjdXJyZW50QXR0ci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpK1wiPVxcXCJcIjt4aHRtbCs9Zml4QXR0cmlidXRlVmFsdWUoY3VycmVudEF0dHIubm9kZVZhbHVlKTt4aHRtbCs9XCJcXFwiXCI7fVxyXG5pZihyb290Tm9kZS5zdHlsZS5jc3NUZXh0KXt2YXIgc3R5bGVWYWx1ZT1nZXRTdHlsZUF0dHJpYnV0ZVZhbHVlKHJvb3ROb2RlKTtpZihzdHlsZVZhbHVlIT09XCJcIil7eGh0bWwrPVwiIHN0eWxlPVxcXCJcIitnZXRTdHlsZUF0dHJpYnV0ZVZhbHVlKHJvb3ROb2RlKStcIlxcXCJcIjt9fVxyXG5pZihhcnJheV9jb250YWlucyhlbXB0eUVsZW1lbnRzLHRhZ05hbWUpfHwoaGFzUHJlZml4JiYhcm9vdE5vZGUuaGFzQ2hpbGROb2RlcygpKSl7eGh0bWwrPVwiL1wiK2d0O31lbHNle3hodG1sKz1ndDt2YXIgY2hpbGRTdGFydE5ld0xpbmU9IShyb290Tm9kZS5jaGlsZE5vZGVzLmxlbmd0aD09PTEmJnJvb3ROb2RlLmNoaWxkTm9kZXNbMF0ubm9kZVR5cGU9PT1ub2RlVHlwZXMuVEVYVF9OT0RFKTt2YXIgY2hpbGRQcmVmb3JtYXR0ZWQ9YXJyYXlfY29udGFpbnMocHJlRm9ybWF0dGVkRWxlbWVudHMsdGFnTmFtZSk7Zm9yKHZhciBpPTAsbGVuPXJvb3ROb2RlLmNoaWxkTm9kZXMubGVuZ3RoO2k8bGVuO2krKyl7eGh0bWwrPWdldFhodG1sKHJvb3ROb2RlLmNoaWxkTm9kZXNbaV0sdHJ1ZSxpbmRlbnRhdGlvbitpbmRlbnRhdGlvblVuaXQsY2hpbGRTdGFydE5ld0xpbmUsY2hpbGRQcmVmb3JtYXR0ZWQpO31cclxudmFyIGVuZFRhZz1sdCtcIi9cIit0YWdOYW1lK2d0O3hodG1sKz1jaGlsZFN0YXJ0TmV3TGluZT9uZXdMaW5lK2luZGVudGF0aW9uK2VuZFRhZzplbmRUYWc7fVxyXG5yZXR1cm4geGh0bWw7Y2FzZSBub2RlVHlwZXMuVEVYVF9OT0RFOmlmKGlzV2hpdGVzcGFjZShyb290Tm9kZSkpe3hodG1sPVwiXCI7fWVsc2V7aWYocHJlZm9ybWF0dGVkKXt4aHRtbD1yb290Tm9kZS5ub2RlVmFsdWU7fWVsc2V7dmFyIGxpbmVzPXNwbGl0SW50b0xpbmVzKHRyaW0ocm9vdE5vZGUubm9kZVZhbHVlKSk7dmFyIHRyaW1tZWRMaW5lcz1bXTtmb3IodmFyIGk9MCxsZW49bGluZXMubGVuZ3RoO2k8bGVuO2krKyl7dHJpbW1lZExpbmVzW2ldPXRyaW0obGluZXNbaV0pO31cclxueGh0bWw9dHJpbW1lZExpbmVzLmpvaW4obmV3TGluZStpbmRlbnRhdGlvbik7fVxyXG5pZihzdGFydE5ld0xpbmUpe3hodG1sPW5ld0xpbmUraW5kZW50YXRpb24reGh0bWw7fX1cclxucmV0dXJuIHhodG1sO2Nhc2Ugbm9kZVR5cGVzLkNEQVRBX1NFQ1RJT05fTk9ERTpyZXR1cm5cIjwhW0NEQVwiK1wiVEFbXCIrcm9vdE5vZGUubm9kZVZhbHVlK1wiXVwiK1wiXT5cIituZXdMaW5lO2Nhc2Ugbm9kZVR5cGVzLkRPQ1VNRU5UX05PREU6eGh0bWw9XCJcIjtmb3IodmFyIGk9MCxsZW49cm9vdE5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7aTxsZW47aSsrKXt4aHRtbCs9Z2V0WGh0bWwocm9vdE5vZGUuY2hpbGROb2Rlc1tpXSx0cnVlLGluZGVudGF0aW9uKTt9XHJcbnJldHVybiB4aHRtbDtkZWZhdWx0OnJldHVyblwiXCI7fX1lbHNle3hodG1sPVwiXCI7Zm9yKHZhciBpPTAsbGVuPXJvb3ROb2RlLmNoaWxkTm9kZXMubGVuZ3RoO2k8bGVuO2krKyl7eGh0bWwrPWdldFhodG1sKHJvb3ROb2RlLmNoaWxkTm9kZXNbaV0sdHJ1ZSxpbmRlbnRhdGlvbitpbmRlbnRhdGlvblVuaXQpO31cclxucmV0dXJuIHhodG1sO319XHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbW1hbmRMaW5lRnVuY3Rpb25zKCl7Q29uc29sZUFwcGVuZGVyLmFkZEdsb2JhbENvbW1hbmRMaW5lRnVuY3Rpb24oXCIkXCIsZnVuY3Rpb24oYXBwZW5kZXIsYXJncyxyZXR1cm5WYWx1ZSl7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFyZ3NbMF0pO30pO0NvbnNvbGVBcHBlbmRlci5hZGRHbG9iYWxDb21tYW5kTGluZUZ1bmN0aW9uKFwiZGlyXCIsZnVuY3Rpb24oYXBwZW5kZXIsYXJncyxyZXR1cm5WYWx1ZSl7dmFyIGxpbmVzPVtdO2Zvcih2YXIgaT0wLGxlbj1hcmdzLmxlbmd0aDtpPGxlbjtpKyspe2xpbmVzW2ldPWRpcihhcmdzW2ldKTt9XHJcbnJldHVybiBsaW5lcy5qb2luKG5ld0xpbmUrbmV3TGluZSk7fSk7Q29uc29sZUFwcGVuZGVyLmFkZEdsb2JhbENvbW1hbmRMaW5lRnVuY3Rpb24oXCJkaXJ4bWxcIixmdW5jdGlvbihhcHBlbmRlcixhcmdzLHJldHVyblZhbHVlKXt2YXIgbGluZXM9W107Zm9yKHZhciBpPTAsbGVuPWFyZ3MubGVuZ3RoO2k8bGVuO2krKyl7dmFyIHdpbj1hcHBlbmRlci5nZXRDb21tYW5kV2luZG93KCk7bGluZXNbaV09Z2V0WGh0bWwoYXJnc1tpXSk7fVxyXG5yZXR1cm4gbGluZXMuam9pbihuZXdMaW5lK25ld0xpbmUpO30pO0NvbnNvbGVBcHBlbmRlci5hZGRHbG9iYWxDb21tYW5kTGluZUZ1bmN0aW9uKFwiY2RcIixmdW5jdGlvbihhcHBlbmRlcixhcmdzLHJldHVyblZhbHVlKXt2YXIgd2luLG1lc3NhZ2U7aWYoYXJncy5sZW5ndGg9PT0wfHxhcmdzWzBdPT09XCJcIil7d2luPXdpbmRvdzttZXNzYWdlPVwiQ29tbWFuZCBsaW5lIHNldCB0byBydW4gaW4gbWFpbiB3aW5kb3dcIjt9ZWxzZXtpZihhcmdzWzBdLndpbmRvdz09YXJnc1swXSl7d2luPWFyZ3NbMF07bWVzc2FnZT1cIkNvbW1hbmQgbGluZSBzZXQgdG8gcnVuIGluIGZyYW1lICdcIithcmdzWzBdLm5hbWUrXCInXCI7fWVsc2V7d2luPXdpbmRvdy5mcmFtZXNbYXJnc1swXV07aWYod2luKXttZXNzYWdlPVwiQ29tbWFuZCBsaW5lIHNldCB0byBydW4gaW4gZnJhbWUgJ1wiK2FyZ3NbMF0rXCInXCI7fWVsc2V7cmV0dXJuVmFsdWUuaXNFcnJvcj10cnVlO21lc3NhZ2U9XCJGcmFtZSAnXCIrYXJnc1swXStcIicgZG9lcyBub3QgZXhpc3RcIjt3aW49YXBwZW5kZXIuZ2V0Q29tbWFuZFdpbmRvdygpO319fVxyXG5hcHBlbmRlci5zZXRDb21tYW5kV2luZG93KHdpbik7cmV0dXJuIG1lc3NhZ2U7fSk7Q29uc29sZUFwcGVuZGVyLmFkZEdsb2JhbENvbW1hbmRMaW5lRnVuY3Rpb24oXCJjbGVhclwiLGZ1bmN0aW9uKGFwcGVuZGVyLGFyZ3MscmV0dXJuVmFsdWUpe3JldHVyblZhbHVlLmFwcGVuZFJlc3VsdD1mYWxzZTthcHBlbmRlci5jbGVhcigpO30pO0NvbnNvbGVBcHBlbmRlci5hZGRHbG9iYWxDb21tYW5kTGluZUZ1bmN0aW9uKFwia2V5c1wiLGZ1bmN0aW9uKGFwcGVuZGVyLGFyZ3MscmV0dXJuVmFsdWUpe3ZhciBrZXlzPVtdO2Zvcih2YXIgayBpbiBhcmdzWzBdKXtrZXlzLnB1c2goayk7fVxyXG5yZXR1cm4ga2V5czt9KTtDb25zb2xlQXBwZW5kZXIuYWRkR2xvYmFsQ29tbWFuZExpbmVGdW5jdGlvbihcInZhbHVlc1wiLGZ1bmN0aW9uKGFwcGVuZGVyLGFyZ3MscmV0dXJuVmFsdWUpe3ZhciB2YWx1ZXM9W107Zm9yKHZhciBrIGluIGFyZ3NbMF0pe3RyeXt2YWx1ZXMucHVzaChhcmdzWzBdW2tdKTt9Y2F0Y2goZXgpe2xvZ0xvZy53YXJuKFwidmFsdWVzKCk6IFVuYWJsZSB0byBvYnRhaW4gdmFsdWUgZm9yIGtleSBcIitrK1wiLiBEZXRhaWxzOiBcIitnZXRFeGNlcHRpb25NZXNzYWdlKGV4KSk7fX1cclxucmV0dXJuIHZhbHVlczt9KTtDb25zb2xlQXBwZW5kZXIuYWRkR2xvYmFsQ29tbWFuZExpbmVGdW5jdGlvbihcImV4cGFuc2lvbkRlcHRoXCIsZnVuY3Rpb24oYXBwZW5kZXIsYXJncyxyZXR1cm5WYWx1ZSl7dmFyIGV4cGFuc2lvbkRlcHRoPXBhcnNlSW50KGFyZ3NbMF0sMTApO2lmKGlzTmFOKGV4cGFuc2lvbkRlcHRoKXx8ZXhwYW5zaW9uRGVwdGg8MCl7cmV0dXJuVmFsdWUuaXNFcnJvcj10cnVlO3JldHVyblwiXCIrYXJnc1swXStcIiBpcyBub3QgYSB2YWxpZCBleHBhbnNpb24gZGVwdGhcIjt9ZWxzZXthcHBlbmRlci5zZXRDb21tYW5kTGluZU9iamVjdEV4cGFuc2lvbkRlcHRoKGV4cGFuc2lvbkRlcHRoKTtyZXR1cm5cIk9iamVjdCBleHBhbnNpb24gZGVwdGggc2V0IHRvIFwiK2V4cGFuc2lvbkRlcHRoO319KTt9XHJcbmZ1bmN0aW9uIGluaXQoKXtjcmVhdGVDb21tYW5kTGluZUZ1bmN0aW9ucygpO31cclxuaW5pdCgpO30pKCk7bG9nNGphdmFzY3JpcHQuc2V0RG9jdW1lbnRSZWFkeT1mdW5jdGlvbigpe3BhZ2VMb2FkZWQ9dHJ1ZTtsb2c0amF2YXNjcmlwdC5kaXNwYXRjaEV2ZW50KFwibG9hZFwiLHt9KTt9O2lmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixsb2c0amF2YXNjcmlwdC5zZXREb2N1bWVudFJlYWR5LGZhbHNlKTt9ZWxzZSBpZih3aW5kb3cuYXR0YWNoRXZlbnQpe3dpbmRvdy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLGxvZzRqYXZhc2NyaXB0LnNldERvY3VtZW50UmVhZHkpO31lbHNle3ZhciBvbGRPbmxvYWQ9d2luZG93Lm9ubG9hZDtpZih0eXBlb2Ygd2luZG93Lm9ubG9hZCE9XCJmdW5jdGlvblwiKXt3aW5kb3cub25sb2FkPWxvZzRqYXZhc2NyaXB0LnNldERvY3VtZW50UmVhZHk7fWVsc2V7d2luZG93Lm9ubG9hZD1mdW5jdGlvbihldnQpe2lmKG9sZE9ubG9hZCl7b2xkT25sb2FkKGV2dCk7fVxyXG5sb2c0amF2YXNjcmlwdC5zZXREb2N1bWVudFJlYWR5KCk7fTt9fVxyXG53aW5kb3cubG9nNGphdmFzY3JpcHQ9bG9nNGphdmFzY3JpcHQ7cmV0dXJuIGxvZzRqYXZhc2NyaXB0O30pKCk7XHJcblxuXCJ1c2Ugc3RyaWN0XCJcclxuLy8gTW9kdWxlIGV4cG9ydCBwYXR0ZXJuIGZyb21cclxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzXHJcbjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcclxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXHJcbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XHJcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXHJcbiAgICAgICAgLy8gbGlrZSBOb2RlLlxyXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxyXG4gICAgICAgIHJvb3Quc3RvcmUgPSBmYWN0b3J5KCk7XHJcbiAgfVxyXG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuXHRcclxuXHQvLyBTdG9yZS5qc1xyXG5cdHZhciBzdG9yZSA9IHt9LFxyXG5cdFx0d2luID0gKHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpLFxyXG5cdFx0ZG9jID0gd2luLmRvY3VtZW50LFxyXG5cdFx0bG9jYWxTdG9yYWdlTmFtZSA9ICdsb2NhbFN0b3JhZ2UnLFxyXG5cdFx0c2NyaXB0VGFnID0gJ3NjcmlwdCcsXHJcblx0XHRzdG9yYWdlXHJcblxyXG5cdHN0b3JlLmRpc2FibGVkID0gZmFsc2VcclxuXHRzdG9yZS52ZXJzaW9uID0gJzEuMy4yMCdcclxuXHRzdG9yZS5zZXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7fVxyXG5cdHN0b3JlLmdldCA9IGZ1bmN0aW9uKGtleSwgZGVmYXVsdFZhbCkge31cclxuXHRzdG9yZS5oYXMgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHN0b3JlLmdldChrZXkpICE9PSB1bmRlZmluZWQgfVxyXG5cdHN0b3JlLnJlbW92ZSA9IGZ1bmN0aW9uKGtleSkge31cclxuXHRzdG9yZS5jbGVhciA9IGZ1bmN0aW9uKCkge31cclxuXHRzdG9yZS50cmFuc2FjdCA9IGZ1bmN0aW9uKGtleSwgZGVmYXVsdFZhbCwgdHJhbnNhY3Rpb25Gbikge1xyXG5cdFx0aWYgKHRyYW5zYWN0aW9uRm4gPT0gbnVsbCkge1xyXG5cdFx0XHR0cmFuc2FjdGlvbkZuID0gZGVmYXVsdFZhbFxyXG5cdFx0XHRkZWZhdWx0VmFsID0gbnVsbFxyXG5cdFx0fVxyXG5cdFx0aWYgKGRlZmF1bHRWYWwgPT0gbnVsbCkge1xyXG5cdFx0XHRkZWZhdWx0VmFsID0ge31cclxuXHRcdH1cclxuXHRcdHZhciB2YWwgPSBzdG9yZS5nZXQoa2V5LCBkZWZhdWx0VmFsKVxyXG5cdFx0dHJhbnNhY3Rpb25Gbih2YWwpXHJcblx0XHRzdG9yZS5zZXQoa2V5LCB2YWwpXHJcblx0fVxyXG5cdHN0b3JlLmdldEFsbCA9IGZ1bmN0aW9uKCkge31cclxuXHRzdG9yZS5mb3JFYWNoID0gZnVuY3Rpb24oKSB7fVxyXG5cclxuXHRzdG9yZS5zZXJpYWxpemUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKVxyXG5cdH1cclxuXHRzdG9yZS5kZXNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7IHJldHVybiB1bmRlZmluZWQgfVxyXG5cdFx0dHJ5IHsgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpIH1cclxuXHRcdGNhdGNoKGUpIHsgcmV0dXJuIHZhbHVlIHx8IHVuZGVmaW5lZCB9XHJcblx0fVxyXG5cclxuXHQvLyBGdW5jdGlvbnMgdG8gZW5jYXBzdWxhdGUgcXVlc3Rpb25hYmxlIEZpcmVGb3ggMy42LjEzIGJlaGF2aW9yXHJcblx0Ly8gd2hlbiBhYm91dC5jb25maWc6OmRvbS5zdG9yYWdlLmVuYWJsZWQgPT09IGZhbHNlXHJcblx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJjdXN3ZXN0aW4vc3RvcmUuanMvaXNzdWVzI2lzc3VlLzEzXHJcblx0ZnVuY3Rpb24gaXNMb2NhbFN0b3JhZ2VOYW1lU3VwcG9ydGVkKCkge1xyXG5cdFx0dHJ5IHsgcmV0dXJuIChsb2NhbFN0b3JhZ2VOYW1lIGluIHdpbiAmJiB3aW5bbG9jYWxTdG9yYWdlTmFtZV0pIH1cclxuXHRcdGNhdGNoKGVycikgeyByZXR1cm4gZmFsc2UgfVxyXG5cdH1cclxuXHJcblx0aWYgKGlzTG9jYWxTdG9yYWdlTmFtZVN1cHBvcnRlZCgpKSB7XHJcblx0XHRzdG9yYWdlID0gd2luW2xvY2FsU3RvcmFnZU5hbWVdXHJcblx0XHRzdG9yZS5zZXQgPSBmdW5jdGlvbihrZXksIHZhbCkge1xyXG5cdFx0XHRpZiAodmFsID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHN0b3JlLnJlbW92ZShrZXkpIH1cclxuXHRcdFx0c3RvcmFnZS5zZXRJdGVtKGtleSwgc3RvcmUuc2VyaWFsaXplKHZhbCkpXHJcblx0XHRcdHJldHVybiB2YWxcclxuXHRcdH1cclxuXHRcdHN0b3JlLmdldCA9IGZ1bmN0aW9uKGtleSwgZGVmYXVsdFZhbCkge1xyXG5cdFx0XHR2YXIgdmFsID0gc3RvcmUuZGVzZXJpYWxpemUoc3RvcmFnZS5nZXRJdGVtKGtleSkpXHJcblx0XHRcdHJldHVybiAodmFsID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsIDogdmFsKVxyXG5cdFx0fVxyXG5cdFx0c3RvcmUucmVtb3ZlID0gZnVuY3Rpb24oa2V5KSB7IHN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpIH1cclxuXHRcdHN0b3JlLmNsZWFyID0gZnVuY3Rpb24oKSB7IHN0b3JhZ2UuY2xlYXIoKSB9XHJcblx0XHRzdG9yZS5nZXRBbGwgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHJldCA9IHt9XHJcblx0XHRcdHN0b3JlLmZvckVhY2goZnVuY3Rpb24oa2V5LCB2YWwpIHtcclxuXHRcdFx0XHRyZXRba2V5XSA9IHZhbFxyXG5cdFx0XHR9KVxyXG5cdFx0XHRyZXR1cm4gcmV0XHJcblx0XHR9XHJcblx0XHRzdG9yZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuXHRcdFx0Zm9yICh2YXIgaT0wOyBpPHN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIga2V5ID0gc3RvcmFnZS5rZXkoaSlcclxuXHRcdFx0XHRjYWxsYmFjayhrZXksIHN0b3JlLmdldChrZXkpKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmIChkb2MgJiYgZG9jLmRvY3VtZW50RWxlbWVudC5hZGRCZWhhdmlvcikge1xyXG5cdFx0dmFyIHN0b3JhZ2VPd25lcixcclxuXHRcdFx0c3RvcmFnZUNvbnRhaW5lclxyXG5cdFx0Ly8gU2luY2UgI3VzZXJEYXRhIHN0b3JhZ2UgYXBwbGllcyBvbmx5IHRvIHNwZWNpZmljIHBhdGhzLCB3ZSBuZWVkIHRvXHJcblx0XHQvLyBzb21laG93IGxpbmsgb3VyIGRhdGEgdG8gYSBzcGVjaWZpYyBwYXRoLiAgV2UgY2hvb3NlIC9mYXZpY29uLmljb1xyXG5cdFx0Ly8gYXMgYSBwcmV0dHkgc2FmZSBvcHRpb24sIHNpbmNlIGFsbCBicm93c2VycyBhbHJlYWR5IG1ha2UgYSByZXF1ZXN0IHRvXHJcblx0XHQvLyB0aGlzIFVSTCBhbnl3YXkgYW5kIGJlaW5nIGEgNDA0IHdpbGwgbm90IGh1cnQgdXMgaGVyZS4gIFdlIHdyYXAgYW5cclxuXHRcdC8vIGlmcmFtZSBwb2ludGluZyB0byB0aGUgZmF2aWNvbiBpbiBhbiBBY3RpdmVYT2JqZWN0KGh0bWxmaWxlKSBvYmplY3RcclxuXHRcdC8vIChzZWU6IGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9hYTc1MjU3NCh2PVZTLjg1KS5hc3B4KVxyXG5cdFx0Ly8gc2luY2UgdGhlIGlmcmFtZSBhY2Nlc3MgcnVsZXMgYXBwZWFyIHRvIGFsbG93IGRpcmVjdCBhY2Nlc3MgYW5kXHJcblx0XHQvLyBtYW5pcHVsYXRpb24gb2YgdGhlIGRvY3VtZW50IGVsZW1lbnQsIGV2ZW4gZm9yIGEgNDA0IHBhZ2UuICBUaGlzXHJcblx0XHQvLyBkb2N1bWVudCBjYW4gYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IGRvY3VtZW50ICh3aGljaCB3b3VsZFxyXG5cdFx0Ly8gaGF2ZSBiZWVuIGxpbWl0ZWQgdG8gdGhlIGN1cnJlbnQgcGF0aCkgdG8gcGVyZm9ybSAjdXNlckRhdGEgc3RvcmFnZS5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHN0b3JhZ2VDb250YWluZXIgPSBuZXcgQWN0aXZlWE9iamVjdCgnaHRtbGZpbGUnKVxyXG5cdFx0XHRzdG9yYWdlQ29udGFpbmVyLm9wZW4oKVxyXG5cdFx0XHRzdG9yYWdlQ29udGFpbmVyLndyaXRlKCc8JytzY3JpcHRUYWcrJz5kb2N1bWVudC53PXdpbmRvdzwvJytzY3JpcHRUYWcrJz48aWZyYW1lIHNyYz1cIi9mYXZpY29uLmljb1wiPjwvaWZyYW1lPicpXHJcblx0XHRcdHN0b3JhZ2VDb250YWluZXIuY2xvc2UoKVxyXG5cdFx0XHRzdG9yYWdlT3duZXIgPSBzdG9yYWdlQ29udGFpbmVyLncuZnJhbWVzWzBdLmRvY3VtZW50XHJcblx0XHRcdHN0b3JhZ2UgPSBzdG9yYWdlT3duZXIuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRcdH0gY2F0Y2goZSkge1xyXG5cdFx0XHQvLyBzb21laG93IEFjdGl2ZVhPYmplY3QgaW5zdGFudGlhdGlvbiBmYWlsZWQgKHBlcmhhcHMgc29tZSBzcGVjaWFsXHJcblx0XHRcdC8vIHNlY3VyaXR5IHNldHRpbmdzIG9yIG90aGVyd3NlKSwgZmFsbCBiYWNrIHRvIHBlci1wYXRoIHN0b3JhZ2VcclxuXHRcdFx0c3RvcmFnZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdFx0XHRzdG9yYWdlT3duZXIgPSBkb2MuYm9keVxyXG5cdFx0fVxyXG5cdFx0dmFyIHdpdGhJRVN0b3JhZ2UgPSBmdW5jdGlvbihzdG9yZUZ1bmN0aW9uKSB7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMClcclxuXHRcdFx0XHRhcmdzLnVuc2hpZnQoc3RvcmFnZSlcclxuXHRcdFx0XHQvLyBTZWUgaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTMxMDgxKHY9VlMuODUpLmFzcHhcclxuXHRcdFx0XHQvLyBhbmQgaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTMxNDI0KHY9VlMuODUpLmFzcHhcclxuXHRcdFx0XHRzdG9yYWdlT3duZXIuYXBwZW5kQ2hpbGQoc3RvcmFnZSlcclxuXHRcdFx0XHRzdG9yYWdlLmFkZEJlaGF2aW9yKCcjZGVmYXVsdCN1c2VyRGF0YScpXHJcblx0XHRcdFx0c3RvcmFnZS5sb2FkKGxvY2FsU3RvcmFnZU5hbWUpXHJcblx0XHRcdFx0dmFyIHJlc3VsdCA9IHN0b3JlRnVuY3Rpb24uYXBwbHkoc3RvcmUsIGFyZ3MpXHJcblx0XHRcdFx0c3RvcmFnZU93bmVyLnJlbW92ZUNoaWxkKHN0b3JhZ2UpXHJcblx0XHRcdFx0cmV0dXJuIHJlc3VsdFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSW4gSUU3LCBrZXlzIGNhbm5vdCBzdGFydCB3aXRoIGEgZGlnaXQgb3IgY29udGFpbiBjZXJ0YWluIGNoYXJzLlxyXG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJjdXN3ZXN0aW4vc3RvcmUuanMvaXNzdWVzLzQwXHJcblx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcmN1c3dlc3Rpbi9zdG9yZS5qcy9pc3N1ZXMvODNcclxuXHRcdHZhciBmb3JiaWRkZW5DaGFyc1JlZ2V4ID0gbmV3IFJlZ0V4cChcIlshXFxcIiMkJSYnKCkqKywvXFxcXFxcXFw6Ozw9Pj9AW1xcXFxdXmB7fH1+XVwiLCBcImdcIilcclxuXHRcdHZhciBpZUtleUZpeCA9IGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0XHRyZXR1cm4ga2V5LnJlcGxhY2UoL15kLywgJ19fXyQmJykucmVwbGFjZShmb3JiaWRkZW5DaGFyc1JlZ2V4LCAnX19fJylcclxuXHRcdH1cclxuXHRcdHN0b3JlLnNldCA9IHdpdGhJRVN0b3JhZ2UoZnVuY3Rpb24oc3RvcmFnZSwga2V5LCB2YWwpIHtcclxuXHRcdFx0a2V5ID0gaWVLZXlGaXgoa2V5KVxyXG5cdFx0XHRpZiAodmFsID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHN0b3JlLnJlbW92ZShrZXkpIH1cclxuXHRcdFx0c3RvcmFnZS5zZXRBdHRyaWJ1dGUoa2V5LCBzdG9yZS5zZXJpYWxpemUodmFsKSlcclxuXHRcdFx0c3RvcmFnZS5zYXZlKGxvY2FsU3RvcmFnZU5hbWUpXHJcblx0XHRcdHJldHVybiB2YWxcclxuXHRcdH0pXHJcblx0XHRzdG9yZS5nZXQgPSB3aXRoSUVTdG9yYWdlKGZ1bmN0aW9uKHN0b3JhZ2UsIGtleSwgZGVmYXVsdFZhbCkge1xyXG5cdFx0XHRrZXkgPSBpZUtleUZpeChrZXkpXHJcblx0XHRcdHZhciB2YWwgPSBzdG9yZS5kZXNlcmlhbGl6ZShzdG9yYWdlLmdldEF0dHJpYnV0ZShrZXkpKVxyXG5cdFx0XHRyZXR1cm4gKHZhbCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbCA6IHZhbClcclxuXHRcdH0pXHJcblx0XHRzdG9yZS5yZW1vdmUgPSB3aXRoSUVTdG9yYWdlKGZ1bmN0aW9uKHN0b3JhZ2UsIGtleSkge1xyXG5cdFx0XHRrZXkgPSBpZUtleUZpeChrZXkpXHJcblx0XHRcdHN0b3JhZ2UucmVtb3ZlQXR0cmlidXRlKGtleSlcclxuXHRcdFx0c3RvcmFnZS5zYXZlKGxvY2FsU3RvcmFnZU5hbWUpXHJcblx0XHR9KVxyXG5cdFx0c3RvcmUuY2xlYXIgPSB3aXRoSUVTdG9yYWdlKGZ1bmN0aW9uKHN0b3JhZ2UpIHtcclxuXHRcdFx0dmFyIGF0dHJpYnV0ZXMgPSBzdG9yYWdlLlhNTERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRyaWJ1dGVzXHJcblx0XHRcdHN0b3JhZ2UubG9hZChsb2NhbFN0b3JhZ2VOYW1lKVxyXG5cdFx0XHRmb3IgKHZhciBpPWF0dHJpYnV0ZXMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xyXG5cdFx0XHRcdHN0b3JhZ2UucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZXNbaV0ubmFtZSlcclxuXHRcdFx0fVxyXG5cdFx0XHRzdG9yYWdlLnNhdmUobG9jYWxTdG9yYWdlTmFtZSlcclxuXHRcdH0pXHJcblx0XHRzdG9yZS5nZXRBbGwgPSBmdW5jdGlvbihzdG9yYWdlKSB7XHJcblx0XHRcdHZhciByZXQgPSB7fVxyXG5cdFx0XHRzdG9yZS5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgdmFsKSB7XHJcblx0XHRcdFx0cmV0W2tleV0gPSB2YWxcclxuXHRcdFx0fSlcclxuXHRcdFx0cmV0dXJuIHJldFxyXG5cdFx0fVxyXG5cdFx0c3RvcmUuZm9yRWFjaCA9IHdpdGhJRVN0b3JhZ2UoZnVuY3Rpb24oc3RvcmFnZSwgY2FsbGJhY2spIHtcclxuXHRcdFx0dmFyIGF0dHJpYnV0ZXMgPSBzdG9yYWdlLlhNTERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRyaWJ1dGVzXHJcblx0XHRcdGZvciAodmFyIGk9MCwgYXR0cjsgYXR0cj1hdHRyaWJ1dGVzW2ldOyArK2kpIHtcclxuXHRcdFx0XHRjYWxsYmFjayhhdHRyLm5hbWUsIHN0b3JlLmRlc2VyaWFsaXplKHN0b3JhZ2UuZ2V0QXR0cmlidXRlKGF0dHIubmFtZSkpKVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0dHJ5IHtcclxuXHRcdHZhciB0ZXN0S2V5ID0gJ19fc3RvcmVqc19fJ1xyXG5cdFx0c3RvcmUuc2V0KHRlc3RLZXksIHRlc3RLZXkpXHJcblx0XHRpZiAoc3RvcmUuZ2V0KHRlc3RLZXkpICE9IHRlc3RLZXkpIHsgc3RvcmUuZGlzYWJsZWQgPSB0cnVlIH1cclxuXHRcdHN0b3JlLnJlbW92ZSh0ZXN0S2V5KVxyXG5cdH0gY2F0Y2goZSkge1xyXG5cdFx0c3RvcmUuZGlzYWJsZWQgPSB0cnVlXHJcblx0fVxyXG5cdHN0b3JlLmVuYWJsZWQgPSAhc3RvcmUuZGlzYWJsZWRcclxuXHRcclxuXHRyZXR1cm4gc3RvcmVcclxufSkpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
